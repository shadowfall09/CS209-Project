{"items":[{"tags":["java","android","android-menu"],"answers":[{"tags":[],"owner":{"account_id":7072969,"reputation":639,"user_id":5413981,"display_name":"Vishal Vasani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632554512,"creation_date":1632554512,"answer_id":69323980,"question_id":69318731,"body_markdown":"     &lt;com.google.android.material.appbar.AppBarLayout\r\n     android:id=&quot;@+id/Appbar&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;wrap_content&quot;\r\n     android:background=&quot;@color/white&quot;\r\n     app:elevation=&quot;0dp&quot;&gt;\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n     android:id=&quot;@+id/toolbar&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt; &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\nadd toolbar in your .xml file and in .java file onCreate() method add below line. Than it will work.\r\n \r\nToolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\nsetSupportActionBar(toolbar);\r\n\r\n","title":"The menu is not shown","body":"<pre><code> &lt;com.google.android.material.appbar.AppBarLayout\n android:id=&quot;@+id/Appbar&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;wrap_content&quot;\n android:background=&quot;@color/white&quot;\n app:elevation=&quot;0dp&quot;&gt;\n&lt;androidx.appcompat.widget.Toolbar\n android:id=&quot;@+id/toolbar&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;wrap_content&quot;&gt;\n&lt;/androidx.appcompat.widget.Toolbar&gt; &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n<p>add toolbar in your .xml file and in .java file onCreate() method add below line. Than it will work.</p>\n<p>Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);</p>\n"}],"owner":{"account_id":22721492,"reputation":189,"user_id":16885941,"display_name":"Иван Рогожкин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632554512,"creation_date":1632502804,"question_id":69318731,"body_markdown":"I&#39;m beginner to the Android Studio. I coded a menu_main.xml file where everything displayed is correctly on the design tab, but menu and its components not shown after running the application on emulator. \r\n\r\nmenu_main.xml:\r\n[enter image description here][1]\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;com.example.guessinggame.MainActivity&quot; &gt;\r\n    &lt;item android:id=&quot;@+id/action_settings&quot;\r\n        android:title=&quot;Settings&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_newgame&quot;\r\n        android:title=&quot;New Game&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_gamestats&quot;\r\n        android:title=&quot;Game Stats&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_about&quot;\r\n        android:title=&quot;About&quot; /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\nMainActivity.java:\r\n\r\n    package com.example.guessinggame;\r\n    \r\n    import android.content.DialogInterface;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private EditText txtGuess;\r\n        private Button btnGuess;\r\n        private TextView lblOutput;\r\n        private TextView lblRange;\r\n        private int theNumber;\r\n        private int tries;\r\n        int range = 100;\r\n    \r\n        public void checkGuess() {\r\n            String guessText = txtGuess.getText().toString();\r\n            String message = &quot; &quot;;\r\n    \r\n            try {\r\n                tries = tries + 1;\r\n                int guess = Integer.parseInt(guessText);\r\n    \r\n                if (guess &lt; theNumber) {\r\n                    message = guess + &quot; is too low. Try again.&quot;;\r\n                }\r\n    \r\n                else if (guess &gt; theNumber) {\r\n                    message = guess + &quot; is too high. Try again.&quot;;\r\n                }\r\n                else {\r\n                        if (tries &gt; 1)\r\n                        message = &quot;You win after &quot; + tries + &quot; tries. &quot; + guess + &quot; is correct.&quot;;\r\n    \r\n                        else\r\n                            message = &quot;You won in &quot; + tries + &quot; try. &quot; + guess + &quot; is correct.&quot;;\r\n                    newGame();\r\n                }\r\n            }\r\n    \r\n            catch (Exception e) {\r\n                message = &quot;Enter a number beetwen 1 and &quot; + range +&quot; .&quot;;\r\n            }\r\n    \r\n            finally {\r\n                lblOutput.setText(message);\r\n                txtGuess.requestFocus();\r\n                txtGuess.selectAll();\r\n            }\r\n        }\r\n    \r\n        public void newGame() {\r\n            tries = 0;\r\n            theNumber = (int)(Math.random() * 100 + 1);\r\n            lblRange.setText(&quot;Enter a number beetwen 1 and &quot; + range +&quot; .&quot;);\r\n            txtGuess.requestFocus();\r\n            txtGuess.selectAll();\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            txtGuess = (EditText) findViewById (R.id.txtGuess);\r\n            btnGuess = (Button) findViewById (R.id.btnGuess);\r\n            lblOutput = (TextView) findViewById (R.id.lblOutput);\r\n            lblRange = (TextView) findViewById (R.id.textView2);\r\n            newGame();\r\n    \r\n            btnGuess.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n    \r\n                public void onClick (View v) {\r\n                    checkGuess();\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater inflater = getMenuInflater();\r\n            inflater.inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        public boolean onOptionsItemSelected (MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.action_settings:\r\n                    final CharSequence[] items = {&quot;1 to 10&quot;, &quot;1 to 100&quot;, &quot;1 to 1000&quot;};\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                    builder.setTitle(&quot;Select the Range: &quot;);\r\n                    builder.setItems(items, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int item) {\r\n                            switch (item) {\r\n                                case 0:\r\n                                    range = 10;\r\n                                    newGame();\r\n                                    break;\r\n                                case 1:\r\n                                    range = 100;\r\n                                    newGame();\r\n                                    break;\r\n                                case 2:\r\n                                    range = 1000;\r\n                                    newGame();\r\n                                    break;\r\n                            }\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n                    AlertDialog alert = builder.create();\r\n                    alert.show();\r\n                    return true;\r\n                case R.id.action_newgame:\r\n                    newGame();\r\n                    return true;\r\n                case R.id.action_gamestats:\r\n                    return true;\r\n                case R.id.action_about:\r\n                    AlertDialog aboutDialog = new AlertDialog.Builder(MainActivity.this).create();\r\n                    aboutDialog.setTitle(&quot;About Guessing Game&quot;);\r\n                    aboutDialog.setMessage(&quot;&#169;2021 XSAVZH&quot;);\r\n                    aboutDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n                            new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    dialog.dismiss();\r\n                                }\r\n                            });\r\n                    aboutDialog.show();\r\n                    return true;\r\n                default:\r\n                    return super.onOptionsItemSelected(item);\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see menu is not showing:\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wJe72.png\r\n  [2]: https://i.stack.imgur.com/HPAuD.png","title":"The menu is not shown","body":"<p>I'm beginner to the Android Studio. I coded a menu_main.xml file where everything displayed is correctly on the design tab, but menu and its components not shown after running the application on emulator.</p>\n<p>menu_main.xml:\n<a href=\"https://i.stack.imgur.com/wJe72.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;com.example.guessinggame.MainActivity&quot; &gt;\n    &lt;item android:id=&quot;@+id/action_settings&quot;\n        android:title=&quot;Settings&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_newgame&quot;\n        android:title=&quot;New Game&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_gamestats&quot;\n        android:title=&quot;Game Stats&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_about&quot;\n        android:title=&quot;About&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.guessinggame;\n\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText txtGuess;\n    private Button btnGuess;\n    private TextView lblOutput;\n    private TextView lblRange;\n    private int theNumber;\n    private int tries;\n    int range = 100;\n\n    public void checkGuess() {\n        String guessText = txtGuess.getText().toString();\n        String message = &quot; &quot;;\n\n        try {\n            tries = tries + 1;\n            int guess = Integer.parseInt(guessText);\n\n            if (guess &lt; theNumber) {\n                message = guess + &quot; is too low. Try again.&quot;;\n            }\n\n            else if (guess &gt; theNumber) {\n                message = guess + &quot; is too high. Try again.&quot;;\n            }\n            else {\n                    if (tries &gt; 1)\n                    message = &quot;You win after &quot; + tries + &quot; tries. &quot; + guess + &quot; is correct.&quot;;\n\n                    else\n                        message = &quot;You won in &quot; + tries + &quot; try. &quot; + guess + &quot; is correct.&quot;;\n                newGame();\n            }\n        }\n\n        catch (Exception e) {\n            message = &quot;Enter a number beetwen 1 and &quot; + range +&quot; .&quot;;\n        }\n\n        finally {\n            lblOutput.setText(message);\n            txtGuess.requestFocus();\n            txtGuess.selectAll();\n        }\n    }\n\n    public void newGame() {\n        tries = 0;\n        theNumber = (int)(Math.random() * 100 + 1);\n        lblRange.setText(&quot;Enter a number beetwen 1 and &quot; + range +&quot; .&quot;);\n        txtGuess.requestFocus();\n        txtGuess.selectAll();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtGuess = (EditText) findViewById (R.id.txtGuess);\n        btnGuess = (Button) findViewById (R.id.btnGuess);\n        lblOutput = (TextView) findViewById (R.id.lblOutput);\n        lblRange = (TextView) findViewById (R.id.textView2);\n        newGame();\n\n        btnGuess.setOnClickListener(new View.OnClickListener() {\n            @Override\n\n            public void onClick (View v) {\n                checkGuess();\n            }\n        });\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    public boolean onOptionsItemSelected (MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.action_settings:\n                final CharSequence[] items = {&quot;1 to 10&quot;, &quot;1 to 100&quot;, &quot;1 to 1000&quot;};\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                builder.setTitle(&quot;Select the Range: &quot;);\n                builder.setItems(items, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int item) {\n                        switch (item) {\n                            case 0:\n                                range = 10;\n                                newGame();\n                                break;\n                            case 1:\n                                range = 100;\n                                newGame();\n                                break;\n                            case 2:\n                                range = 1000;\n                                newGame();\n                                break;\n                        }\n                        dialog.dismiss();\n                    }\n                });\n                AlertDialog alert = builder.create();\n                alert.show();\n                return true;\n            case R.id.action_newgame:\n                newGame();\n                return true;\n            case R.id.action_gamestats:\n                return true;\n            case R.id.action_about:\n                AlertDialog aboutDialog = new AlertDialog.Builder(MainActivity.this).create();\n                aboutDialog.setTitle(&quot;About Guessing Game&quot;);\n                aboutDialog.setMessage(&quot;©2021 XSAVZH&quot;);\n                aboutDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\n                        new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                dialog.dismiss();\n                            }\n                        });\n                aboutDialog.show();\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n}\n</code></pre>\n<p>As you can see menu is not showing:\n<a href=\"https://i.stack.imgur.com/HPAuD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1632459274,"post_id":69309654,"comment_id":122502694,"body_markdown":"yes, it is filename-log4j2.xml","body":"yes, it is filename-log4j2.xml"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632459299,"post_id":69309654,"comment_id":122502701,"body_markdown":"You need to show your whole config file.","body":"You need to show your whole config file."},{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1632459940,"post_id":69309654,"comment_id":122502816,"body_markdown":"xml added to the question","body":"xml added to the question"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632460911,"creation_date":1632460614,"answer_id":69309878,"question_id":69309654,"body_markdown":"You need to use a custom delete action:\r\n```xml\r\n&lt;RollingFile ... &gt;\r\n  ...\r\n  &lt;DefaultRolloverStrategy&gt;\r\n        &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;\r\n          &lt;IfLastModified age=&quot;30d&quot; /&gt;\r\n        &lt;/Delete&gt;\r\n  &lt;/DefaultRolloverStrategy&gt;\r\n&lt;/RollingFile&gt;\r\n```\r\nSee https://logging.apache.org/log4j/2.x/manual/appenders.html#CustomDeleteOnRollover for full documentation.","title":"maxHistory tag not working with log4j2 xml","body":"<p>You need to use a custom delete action:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile ... &gt;\n  ...\n  &lt;DefaultRolloverStrategy&gt;\n        &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;\n          &lt;IfLastModified age=&quot;30d&quot; /&gt;\n        &lt;/Delete&gt;\n  &lt;/DefaultRolloverStrategy&gt;\n&lt;/RollingFile&gt;\n</code></pre>\n<p>See <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#CustomDeleteOnRollover\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/appenders.html#CustomDeleteOnRollover</a> for full documentation.</p>\n"},{"tags":[],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632553438,"creation_date":1632553438,"answer_id":69323882,"question_id":69309654,"body_markdown":"Adding to the first answer, DefaultRolloverStrategy also provides a max field whose description is given below which helps you achieve deleting older logs. \r\n\r\n    &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n\r\n\r\nmax : The maximum value of the counter. Once this values is reached older archives will be deleted on subsequent rollovers. The default value is 7.\r\n\r\nHere counter corresponds to %i which is given in file-pattern and through this counter parameter deletion happens. \r\n\r\n    filePattern=&quot;/app/logs/archive/test-%d{yyyy-MM-dd-HH}-%i.log&quot;&gt;\r\n\r\nThe above answer which uses `&lt;Delete&gt;` helps to give you more control of what files are deleted, but the documentation also points to use the `&lt;Delete&gt; ` with care. \r\n\r\nFor more info https://logging.apache.org/log4j/2.x/manual/appenders.html \r\n","title":"maxHistory tag not working with log4j2 xml","body":"<p>Adding to the first answer, DefaultRolloverStrategy also provides a max field whose description is given below which helps you achieve deleting older logs.</p>\n<pre><code>&lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\n</code></pre>\n<p>max : The maximum value of the counter. Once this values is reached older archives will be deleted on subsequent rollovers. The default value is 7.</p>\n<p>Here counter corresponds to %i which is given in file-pattern and through this counter parameter deletion happens.</p>\n<pre><code>filePattern=&quot;/app/logs/archive/test-%d{yyyy-MM-dd-HH}-%i.log&quot;&gt;\n</code></pre>\n<p>The above answer which uses <code>&lt;Delete&gt;</code> helps to give you more control of what files are deleted, but the documentation also points to use the <code>&lt;Delete&gt; </code> with care.</p>\n<p>For more info <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/appenders.html</a></p>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1632553438,"creation_date":1632458435,"question_id":69309654,"body_markdown":"    &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n\r\nI want to delete a log file that is over some number of days old in log4j2 xml so for that I was using maxHistory tag defined above and giving it a value of 30 days. But the following tags seems to be invalid and showing the following error.\r\n\r\nPolicies contains an invalid element or attribute &quot;maxHistory\r\n\r\nAny thoughts why this property is not working.\r\n\r\n\r\n\r\n\r\n        &lt;RollingFile name=&quot;AppFile&quot;\r\n                     fileName=&quot;/app/logs/test.log&quot;\r\n                     filePattern=&quot;/app/logs/archive/test-%d{yyyy-MM-dd-HH}-%i.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d [%t] %p %c - %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\r\n                                           modulate=&quot;true&quot; /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;500 MB&quot; /&gt;\r\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;Logger name=&quot;com&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;AppFile&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Root level = &quot;info&quot;&gt;\r\n            &lt;AppenderRef ref = &quot;CONSOLE&quot; /&gt;\r\n        &lt;/Root&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n\r\n\r\n","title":"maxHistory tag not working with log4j2 xml","body":"<pre><code>&lt;maxHistory&gt;30&lt;/maxHistory&gt;\n</code></pre>\n<p>I want to delete a log file that is over some number of days old in log4j2 xml so for that I was using maxHistory tag defined above and giving it a value of 30 days. But the following tags seems to be invalid and showing the following error.</p>\n<p>Policies contains an invalid element or attribute &quot;maxHistory</p>\n<p>Any thoughts why this property is not working.</p>\n<pre><code>    &lt;RollingFile name=&quot;AppFile&quot;\n                 fileName=&quot;/app/logs/test.log&quot;\n                 filePattern=&quot;/app/logs/archive/test-%d{yyyy-MM-dd-HH}-%i.log&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;pattern&gt;%d [%t] %p %c - %m%n&lt;/pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\n                                       modulate=&quot;true&quot; /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;500 MB&quot; /&gt;\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\n    &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n\n&lt;Loggers&gt;\n\n    &lt;Logger name=&quot;com&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;AppenderRef ref=&quot;AppFile&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Root level = &quot;info&quot;&gt;\n        &lt;AppenderRef ref = &quot;CONSOLE&quot; /&gt;\n    &lt;/Root&gt;\n\n&lt;/Loggers&gt;\n</code></pre>\n\n"},{"tags":["java","timezone","java-time","zoneddatetime"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1632365584,"post_id":69293353,"comment_id":122473979,"body_markdown":"A quick google search starts with [Convert date and time between timezone](https://mkyong.com/java/java-convert-date-and-time-between-timezone/).  Display is then handled by a `DateTimeFormatter`, but since you can have timezones which are beyond +/- 12 hours, the date is kind of important","body":"A quick google search starts with <a href=\"https://mkyong.com/java/java-convert-date-and-time-between-timezone/\" rel=\"nofollow noreferrer\">Convert date and time between timezone</a>.  Display is then handled by a <code>DateTimeFormatter</code>, but since you can have timezones which are beyond +/- 12 hours, the date is kind of important"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1632476117,"post_id":69293353,"comment_id":122508142,"body_markdown":"Hi, please learn that you’re expected to search before posting a question here. In many cases that will give you a better answer faster than anyone can type just a short answer here. If your search is not enough, tell us what you found and how it fell short of solving your problem. Showing an effort on your part will make a lot of users prepared to do a greater effort on theirs. And they will know much more exactly what it is you need to know, providing for answers that are a lot more helpful to you.","body":"Hi, please learn that you’re expected to search before posting a question here. In many cases that will give you a better answer faster than anyone can type just a short answer here. If your search is not enough, tell us what you found and how it fell short of solving your problem. Showing an effort on your part will make a lot of users prepared to do a greater effort on theirs. And they will know much more exactly what it is you need to know, providing for answers that are a lot more helpful to you."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632476249,"post_id":69293353,"comment_id":122508194,"body_markdown":"America/New_York is on summer time (DST, EDT) for the greater part of the year. The conversion must be different depending on whether it is on that day, and also depending on whether the user’s default time zone is. So can we know the date? If not, you cannot perform the conversion.","body":"America/New_York is on summer time (DST, EDT) for the greater part of the year. The conversion must be different depending on whether it is on that day, and also depending on whether the user’s default time zone is. So can we know the date? If not, you cannot perform the conversion."}],"answers":[{"tags":[],"owner":{"account_id":20689108,"reputation":17578,"user_id":15273968,"display_name":"the Hutt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632489238,"creation_date":1632366067,"answer_id":69293506,"question_id":69293353,"body_markdown":"You need to use `ZonedDateTime` and display only time part using `DateTimeFormatter`. Something like this:\r\n```java\r\n//assuming the server is in US\r\n\t\tZoneId serverZone = ZoneId.of(&quot;US/Eastern&quot;);\r\n\t\tZoneId userZone = ZoneId.of(&quot;Asia/Tokyo&quot;);\r\n\t\t\r\n\t\tZonedDateTime nyTime = ZonedDateTime.now(serverZone);\r\n\t\tZonedDateTime userTime = nyTime.withZoneSameInstant(userZone);\r\n\t\t\r\n\t\tString pattern = &quot;hh:mm a z VV&quot;;\r\n\t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(pattern);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Server time: &quot; + dtf.format(nyTime));\r\n\t\tSystem.out.println(&quot;User time:   &quot; + dtf.format(userTime));\r\n\t\t\r\n```\r\nOutput:\r\n```\r\nServer time: 08:29 AM EDT US/Eastern\r\nUser time:   09:29 PM JST Asia/Tokyo\r\n\r\n```","title":"Convert a specific time in one timezone to another timezone","body":"<p>You need to use <code>ZonedDateTime</code> and display only time part using <code>DateTimeFormatter</code>. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//assuming the server is in US\n        ZoneId serverZone = ZoneId.of(&quot;US/Eastern&quot;);\n        ZoneId userZone = ZoneId.of(&quot;Asia/Tokyo&quot;);\n        \n        ZonedDateTime nyTime = ZonedDateTime.now(serverZone);\n        ZonedDateTime userTime = nyTime.withZoneSameInstant(userZone);\n        \n        String pattern = &quot;hh:mm a z VV&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(pattern);\n        \n        System.out.println(&quot;Server time: &quot; + dtf.format(nyTime));\n        System.out.println(&quot;User time:   &quot; + dtf.format(userTime));\n        \n</code></pre>\n<p>Output:</p>\n<pre><code>Server time: 08:29 AM EDT US/Eastern\nUser time:   09:29 PM JST Asia/Tokyo\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632499696,"creation_date":1632499696,"answer_id":69318115,"question_id":69293353,"body_markdown":"For the sake of the example I am assuming that you want to convert *today at 8 AM* EDT to the user’s default time zone. Without a date we cannot perform the conversion correctly. Like onkar ruikar in the other answer I am using and recommending java.time, the modern Java date and time API, for all of your time work.\r\n\r\n\t\tZoneId sourceZone = ZoneId.of(&quot;America/New_York&quot;);\r\n\t\tZoneId targetZone = ZoneId.systemDefault();\r\n\t\t\r\n\t\tLocalTime sourceTime = LocalTime.of(8, 0);\r\n\t\t\r\n\t\tZonedDateTime sourceDateTime = ZonedDateTime.now(sourceZone).with(sourceTime);\r\n\t\tZonedDateTime targetDateTime = sourceDateTime.withZoneSameInstant(targetZone);\r\n\t\tLocalTime targetTime = targetDateTime.toLocalTime();\r\n\t\t\r\n\t\tSystem.out.println(targetTime);\r\n\r\nOutput when I ran today in America/Sao_Paulo time zone:\r\n\r\n&gt; 09:00\r\n\r\nAt this time of year (September), North American Eastern Time is at UTC offset -04:00 in most places including New York, and S&#227;o Paulo is at -03:00, so 1 hour has been added to the time.\r\n\r\nIf instead I run the code in December, the output will be:\r\n\r\n&gt; 11:00\r\n\r\nBy then New York will be at offset -05:00 and S&#227;o Paulo at -02:00 due to summer time, so 3 hours need to be added.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.","title":"Convert a specific time in one timezone to another timezone","body":"<p>For the sake of the example I am assuming that you want to convert <em>today at 8 AM</em> EDT to the user’s default time zone. Without a date we cannot perform the conversion correctly. Like onkar ruikar in the other answer I am using and recommending java.time, the modern Java date and time API, for all of your time work.</p>\n<pre><code>    ZoneId sourceZone = ZoneId.of(&quot;America/New_York&quot;);\n    ZoneId targetZone = ZoneId.systemDefault();\n    \n    LocalTime sourceTime = LocalTime.of(8, 0);\n    \n    ZonedDateTime sourceDateTime = ZonedDateTime.now(sourceZone).with(sourceTime);\n    ZonedDateTime targetDateTime = sourceDateTime.withZoneSameInstant(targetZone);\n    LocalTime targetTime = targetDateTime.toLocalTime();\n    \n    System.out.println(targetTime);\n</code></pre>\n<p>Output when I ran today in America/Sao_Paulo time zone:</p>\n<blockquote>\n<p>09:00</p>\n</blockquote>\n<p>At this time of year (September), North American Eastern Time is at UTC offset -04:00 in most places including New York, and São Paulo is at -03:00, so 1 hour has been added to the time.</p>\n<p>If instead I run the code in December, the output will be:</p>\n<blockquote>\n<p>11:00</p>\n</blockquote>\n<p>By then New York will be at offset -05:00 and São Paulo at -02:00 due to summer time, so 3 hours need to be added.</p>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":20470757,"reputation":9,"user_id":15021253,"display_name":"aweig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1632552911,"answer_count":2,"score":-1,"last_activity_date":1632552875,"creation_date":1632364601,"question_id":69293353,"body_markdown":"I&#39;m trying to convert the hour 8:00am EST (America/New_York), to display in whatever time that would be on the users system default zone. The date is not needed, only the time. I have been searching and I can only find ways to convert the current time. \r\n\r\n","title":"Convert a specific time in one timezone to another timezone","body":"<p>I'm trying to convert the hour 8:00am EST (America/New_York), to display in whatever time that would be on the users system default zone. The date is not needed, only the time. I have been searching and I can only find ways to convert the current time.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1632507759,"post_id":69319300,"comment_id":122520647,"body_markdown":"Have you tried writing any code?  Showing your attempt will allow us to provide assistance targeted to your current level of Java experience.","body":"Have you tried writing any code?  Showing your attempt will allow us to provide assistance targeted to your current level of Java experience."},{"owner":{"account_id":22049057,"reputation":43,"user_id":16313601,"display_name":"CodNoob"},"score":0,"creation_date":1632512585,"post_id":69319300,"comment_id":122522230,"body_markdown":"I am trying to code a quadratic equation solver i.e. finding roots of the equation.","body":"I am trying to code a quadratic equation solver i.e. finding roots of the equation."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1632513599,"post_id":69319300,"comment_id":122522581,"body_markdown":"I repeat:  Have you tried writing any code?","body":"I repeat:  Have you tried writing any code?"},{"owner":{"account_id":22049057,"reputation":43,"user_id":16313601,"display_name":"CodNoob"},"score":0,"creation_date":1632514094,"post_id":69319300,"comment_id":122522743,"body_markdown":"Yes I have added the code snippet","body":"Yes I have added the code snippet"}],"answers":[{"tags":[],"owner":{"account_id":10683638,"reputation":263,"user_id":7864846,"display_name":"Kosi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632507925,"creation_date":1632507925,"answer_id":69319628,"question_id":69319300,"body_markdown":"Looks like you&#39;re looking for a regex pattern. Here&#39;s a really rudimentary pattern: https://regex101.com/r/9OxhhA/1. This doesn&#39;t handle commas or exponents and probably fails for a lot of edge cases.\r\n\r\nIf you&#39;re looking for how to implement this in Java, you&#39;ll need a [Pattern][1] and a [Matcher][2]\r\n\r\nRelated: https://stackoverflow.com/questions/13426533/regex-pattern-to-match-positive-and-negative-number-values-in-a-string?rq=1\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html","title":"How to extract both positive and negative integers from a string input in java which has the input pattern as given below?","body":"<p>Looks like you're looking for a regex pattern. Here's a really rudimentary pattern: <a href=\"https://regex101.com/r/9OxhhA/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/9OxhhA/1</a>. This doesn't handle commas or exponents and probably fails for a lot of edge cases.</p>\n<p>If you're looking for how to implement this in Java, you'll need a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></p>\n<p>Related: <a href=\"https://stackoverflow.com/questions/13426533/regex-pattern-to-match-positive-and-negative-number-values-in-a-string?rq=1\">Regex pattern to match positive and negative number values in a String</a></p>\n"}],"owner":{"account_id":22049057,"reputation":43,"user_id":16313601,"display_name":"CodNoob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632552836,"creation_date":1632505917,"question_id":69319300,"body_markdown":"Input pattern (first case): 4x&#178;-8x+6 (or 4x^2-8x+6) \r\n\r\nInput pattern (2nd case): 3x-8y=2\r\n\r\nFirst Case:\r\nFor example- If the user inputs a string such as 4x&#178;-8x+6 (or 4x^2-8x+6)\r\nThe output should contain all the positive and negative integers extracted from the string and should get stored in an array so that it can be used further in the program i.e. output should be \r\n\r\n4\r\n\r\n2 //(&#178; or ^2 to check whether it is a quadratic equation, if it&#39;s not 2 and is 3 or \r\n  //something else,the program should terminate here.)\r\n\r\n-8\r\n\r\n6\r\n\r\n2nd Case(another program): If the user inputs a string such as 3x-8y=2. \r\nThe output should be\r\n\r\n3\r\n\r\n-8\r\n\r\n2\r\n\r\nAnd stored in an array so that they can be accessed further in the program.\r\n\r\nAny help would be greatly beneficial for me.\r\n\r\n    import java.util.*;\r\n    public class ss\r\n    {\r\n     public void dd()\r\n     {\r\n      Scanner sc=new Scanner(System.in);\r\n      String input=sc.nextLine();\r\n      double a=sc.nextDouble(); //Accepts numerical coefficient of x&#178; in the \r\n                               //quadratic form of ax&#178;+bx+c\r\n      double b=sc.nextDouble(); //Accepts numerical coefficient of x in the \r\n                               //quadratic form of ax&#178;+bx+c\r\n      double c=sc.nextDouble(); //Accepts constant c in the \r\n                               //quadratic form of ax&#178;+bx+c\r\n      double discriminant=(Math.pow(b,2))-(4*a*c);\r\n      double firstroot= -b+Math.sqrt(discriminant)/(2*a);\r\n      double secondroot= -b-Math.sqrt(discriminant)/(2*a);\r\n      System.out.println(&quot;Roots Of The Equation Are: &quot;+first root+&quot; and &quot;+secondroot);\r\n     }\r\n    }\r\n\r\n  \r\nI want the above code to work without taking each value of the coefficients and constants from the user by extracting all the coefficients either positive or negative from a single string input from the user in form of a quadratic equation.\r\n  ","title":"How to extract both positive and negative integers from a string input in java which has the input pattern as given below?","body":"<p>Input pattern (first case): 4x²-8x+6 (or 4x^2-8x+6)</p>\n<p>Input pattern (2nd case): 3x-8y=2</p>\n<p>First Case:\nFor example- If the user inputs a string such as 4x²-8x+6 (or 4x^2-8x+6)\nThe output should contain all the positive and negative integers extracted from the string and should get stored in an array so that it can be used further in the program i.e. output should be</p>\n<p>4</p>\n<p>2 //(² or ^2 to check whether it is a quadratic equation, if it's not 2 and is 3 or\n//something else,the program should terminate here.)</p>\n<p>-8</p>\n<p>6</p>\n<p>2nd Case(another program): If the user inputs a string such as 3x-8y=2.\nThe output should be</p>\n<p>3</p>\n<p>-8</p>\n<p>2</p>\n<p>And stored in an array so that they can be accessed further in the program.</p>\n<p>Any help would be greatly beneficial for me.</p>\n<pre><code>import java.util.*;\npublic class ss\n{\n public void dd()\n {\n  Scanner sc=new Scanner(System.in);\n  String input=sc.nextLine();\n  double a=sc.nextDouble(); //Accepts numerical coefficient of x² in the \n                           //quadratic form of ax²+bx+c\n  double b=sc.nextDouble(); //Accepts numerical coefficient of x in the \n                           //quadratic form of ax²+bx+c\n  double c=sc.nextDouble(); //Accepts constant c in the \n                           //quadratic form of ax²+bx+c\n  double discriminant=(Math.pow(b,2))-(4*a*c);\n  double firstroot= -b+Math.sqrt(discriminant)/(2*a);\n  double secondroot= -b-Math.sqrt(discriminant)/(2*a);\n  System.out.println(&quot;Roots Of The Equation Are: &quot;+first root+&quot; and &quot;+secondroot);\n }\n}\n</code></pre>\n<p>I want the above code to work without taking each value of the coefficients and constants from the user by extracting all the coefficients either positive or negative from a single string input from the user in form of a quadratic equation.</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1632303143,"post_id":69281549,"comment_id":122453231,"body_markdown":"You can have a different java version for the project, by providing the proper java home following the docs: https://docs.sonarqube.org/latest/analysis/languages/java/","body":"You can have a different java version for the project, by providing the proper java home following the docs: <a href=\"https://docs.sonarqube.org/latest/analysis/languages/java/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/analysis/languages/java</a>"},{"owner":{"account_id":2485865,"reputation":1351,"user_id":2164300,"accept_rate":44,"display_name":"usman"},"score":0,"creation_date":1632310750,"post_id":69281549,"comment_id":122456342,"body_markdown":"i have made java_home to JDK 11 but does not work.","body":"i have made java_home to JDK 11 but does not work."},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1632315197,"post_id":69281549,"comment_id":122458273,"body_markdown":"You have to read the _Project&#39;s specific JDK_ paragraph and set the `sonar.java.jdkHome` to the Java 8 JDK installation, if your project use Java 8.","body":"You have to read the <i>Project&#39;s specific JDK</i> paragraph and set the <code>sonar.java.jdkHome</code> to the Java 8 JDK installation, if your project use Java 8."},{"owner":{"account_id":2485865,"reputation":1351,"user_id":2164300,"accept_rate":44,"display_name":"usman"},"score":0,"creation_date":1632319573,"post_id":69281549,"comment_id":122460456,"body_markdown":"check my edited question above, In maven params while running from eclipse i am providing it. but it remains same. Let me know if i am missing some thing.","body":"check my edited question above, In maven params while running from eclipse i am providing it. but it remains same. Let me know if i am missing some thing."},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1632319993,"post_id":69281549,"comment_id":122460654,"body_markdown":"I see now you&#39;re using Maven, the documentation tell that in this case you don&#39;t have to set nothing. If the project is properly configured and build with Maven in Java 8, you just need to run the plugin. And remove the configuration.","body":"I see now you&#39;re using Maven, the documentation tell that in this case you don&#39;t have to set nothing. If the project is properly configured and build with Maven in Java 8, you just need to run the plugin. And remove the configuration."},{"owner":{"account_id":2485865,"reputation":1351,"user_id":2164300,"accept_rate":44,"display_name":"usman"},"score":0,"creation_date":1632320572,"post_id":69281549,"comment_id":122460913,"body_markdown":"that does not work for me. i can remove jdkHome parameter and still the result is same. do i have to set some thing in POM ?","body":"that does not work for me. i can remove jdkHome parameter and still the result is same. do i have to set some thing in POM ?"},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1632320965,"post_id":69281549,"comment_id":122461130,"body_markdown":"You should have already set the Java version on the pom file _maven.compiler.target_ and _maven.compiler.source_ in the properties section.","body":"You should have already set the Java version on the pom file <i>maven.compiler.target</i> and <i>maven.compiler.source</i> in the properties section."}],"answers":[{"tags":[],"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632390315,"creation_date":1632390315,"answer_id":69297682,"question_id":69281549,"body_markdown":"According to [sonarqube community][1], you should try the following:\r\n\r\nEdit `conf\\wrapper.conf`, specifically the `wrapper.java.command` to following:\r\n\r\n    wrapper.java.command=C:\\Program Files\\Java\\open jdk-11.0.2\\bin\\java \r\n    #wrapper.java.command=java\r\n\r\n\r\n  [1]: https://community.sonarsource.com/t/upgrading-to-7-9-version-sonarqube-requires-java-11-to-run/14836","title":"How can I analyze Java 8 code using latest SonarQube free edition that uses Java 11?","body":"<p>According to <a href=\"https://community.sonarsource.com/t/upgrading-to-7-9-version-sonarqube-requires-java-11-to-run/14836\" rel=\"nofollow noreferrer\">sonarqube community</a>, you should try the following:</p>\n<p>Edit <code>conf\\wrapper.conf</code>, specifically the <code>wrapper.java.command</code> to following:</p>\n<pre><code>wrapper.java.command=C:\\Program Files\\Java\\open jdk-11.0.2\\bin\\java \n#wrapper.java.command=java\n</code></pre>\n"}],"owner":{"account_id":2485865,"reputation":1351,"user_id":2164300,"accept_rate":44,"display_name":"usman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13721,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1632551873,"answer_count":1,"score":5,"last_activity_date":1632551831,"creation_date":1632302912,"question_id":69281549,"body_markdown":"I have installed latest version of SonarQube using Java 11 pointed from its config i.e. `wrapper.config`. I have read that it can analyze code even written in Java 8, but I am getting following exception: \r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.sonarsource.scanner.maven:sonar-maven-plugin:3.8.0.2131:sonar\r\n&gt; (default-cli) on project ptf-parent: Execution default-cli of goal\r\n&gt; org.sonarsource.scanner.maven:sonar-maven-plugin:3.8.0.2131:sonar\r\n&gt; failed: An API incompatibility was encountered while executing\r\n&gt; org.sonarsource.scanner.maven:sonar-maven-plugin:3.8.0.2131:sonar:\r\n&gt; java.lang.UnsupportedClassVersionError:\r\n&gt; org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled\r\n&gt; by a more recent version of the Java Runtime (class file version\r\n&gt; 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nCurrently, my code is build using Java 8 and I want to analyze using the latest SonarQube version.\r\n\r\nI am running analyzer from Eclipse IDE. All my projects are configured to use Java 8 and Maven 3.8.2 to use sonar parameters to push report on SonarQube, but it does not work.\r\n\r\nBelow are the parameters I am providing in Eclipse Run as Maven build:\r\n \r\n     -e clean install sonar:sonar -Dsonar.java.jdkHome=C:\\Program Files\\Java\\jdk1.8.0_251 -Dsonar.project\r\n    -Dsonar.projectKey=TESTPROJECT -Dsonar.host.url=http://localhost:9000 -Dsonar.login=a2603f6cd079e4a7833179333333333333333333e","title":"How can I analyze Java 8 code using latest SonarQube free edition that uses Java 11?","body":"<p>I have installed latest version of SonarQube using Java 11 pointed from its config i.e. <code>wrapper.config</code>. I have read that it can analyze code even written in Java 8, but I am getting following exception:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.sonarsource.scanner.maven:sonar-maven-plugin:3.8.0.2131:sonar\n(default-cli) on project ptf-parent: Execution default-cli of goal\norg.sonarsource.scanner.maven:sonar-maven-plugin:3.8.0.2131:sonar\nfailed: An API incompatibility was encountered while executing\norg.sonarsource.scanner.maven:sonar-maven-plugin:3.8.0.2131:sonar:\njava.lang.UnsupportedClassVersionError:\norg/sonar/batch/bootstrapper/EnvironmentInformation has been compiled\nby a more recent version of the Java Runtime (class file version\n55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n<p>Currently, my code is build using Java 8 and I want to analyze using the latest SonarQube version.</p>\n<p>I am running analyzer from Eclipse IDE. All my projects are configured to use Java 8 and Maven 3.8.2 to use sonar parameters to push report on SonarQube, but it does not work.</p>\n<p>Below are the parameters I am providing in Eclipse Run as Maven build:</p>\n<pre><code> -e clean install sonar:sonar -Dsonar.java.jdkHome=C:\\Program Files\\Java\\jdk1.8.0_251 -Dsonar.project\n-Dsonar.projectKey=TESTPROJECT -Dsonar.host.url=http://localhost:9000 -Dsonar.login=a2603f6cd079e4a7833179333333333333333333e\n</code></pre>\n"},{"tags":["java","sql","insert"],"comments":[{"owner":{"account_id":1462824,"reputation":19396,"user_id":1376624,"accept_rate":84,"display_name":"Wesley Smith"},"score":1,"creation_date":1632530888,"post_id":69321969,"comment_id":122525905,"body_markdown":"`java != jQuery` ;)","body":"<code>java != jQuery</code> ;)"},{"owner":{"account_id":22722691,"reputation":43,"user_id":16886966,"display_name":"wicked"},"score":0,"creation_date":1632550465,"post_id":69321969,"comment_id":122528159,"body_markdown":"I did not understand your comment","body":"I did not understand your comment"},{"owner":{"account_id":1462824,"reputation":19396,"user_id":1376624,"accept_rate":84,"display_name":"Wesley Smith"},"score":0,"creation_date":1632583816,"post_id":69321969,"comment_id":122534892,"body_markdown":"Sorry, you tagged jQuery, which is not related to java, I removed that invalid tag.","body":"Sorry, you tagged jQuery, which is not related to java, I removed that invalid tag."}],"answers":[{"tags":[],"owner":{"account_id":22722691,"reputation":43,"user_id":16886966,"display_name":"wicked"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632550453,"creation_date":1632550453,"answer_id":69323633,"question_id":69321969,"body_markdown":"solved . create variable `ID`. and bring it with a `ResultSet` the `LAST_INSERT_ID ()`\r\n\r\n    private void insertarActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n        int id = 0, val = 0;\r\n        String user, pass = &quot;&quot;;\r\n\r\n        user = jTextField_user.getText().trim();\r\n        pass = jTextField_pass.getText().trim();\r\n\r\n        if (user.equals(&quot;&quot;)) {\r\n            val++;\r\n        }\r\n        if (pass.equals(&quot;&quot;)) {\r\n            val++;\r\n        }\r\n        if (val == 0) {\r\n\r\n            try {\r\n\r\n                Connection cn = Conexion.conectar();\r\n                PreparedStatement pst = cn.prepareStatement(\r\n                        &quot;Insert into user values (?,?)&quot;);\r\n\r\n                pst.setInt(1, 0);\r\n                pst.setString(2, user);\r\n                pst.executeUpdate();\r\n\r\n                ResultSet rs = pst.executeQuery(&quot;select ID_USER from user where ID_USER = LAST_INSERT_ID() &quot;);\r\n                if (rs.next()) {\r\n                    id = rs.getInt(&quot;ID_USER&quot;);\r\n                }\r\n                pst = cn.prepareStatement(\r\n                        &quot;Insert into private values(?,?)&quot;);\r\n                pst.setInt(1, id);\r\n                pst.setString(2, pass);\r\n\r\n                pst.executeUpdate();\r\n                cn.close();\r\n                JOptionPane.showMessageDialog(null, &quot;Successful registration&quot;);\r\n\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;Error user&quot; + e);\r\n            }\r\n        }\r\n    }          ","title":"error to update a child row in database and java","body":"<p>solved . create variable <code>ID</code>. and bring it with a <code>ResultSet</code> the <code>LAST_INSERT_ID ()</code></p>\n<pre><code>private void insertarActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    int id = 0, val = 0;\n    String user, pass = &quot;&quot;;\n\n    user = jTextField_user.getText().trim();\n    pass = jTextField_pass.getText().trim();\n\n    if (user.equals(&quot;&quot;)) {\n        val++;\n    }\n    if (pass.equals(&quot;&quot;)) {\n        val++;\n    }\n    if (val == 0) {\n\n        try {\n\n            Connection cn = Conexion.conectar();\n            PreparedStatement pst = cn.prepareStatement(\n                    &quot;Insert into user values (?,?)&quot;);\n\n            pst.setInt(1, 0);\n            pst.setString(2, user);\n            pst.executeUpdate();\n\n            ResultSet rs = pst.executeQuery(&quot;select ID_USER from user where ID_USER = LAST_INSERT_ID() &quot;);\n            if (rs.next()) {\n                id = rs.getInt(&quot;ID_USER&quot;);\n            }\n            pst = cn.prepareStatement(\n                    &quot;Insert into private values(?,?)&quot;);\n            pst.setInt(1, id);\n            pst.setString(2, pass);\n\n            pst.executeUpdate();\n            cn.close();\n            JOptionPane.showMessageDialog(null, &quot;Successful registration&quot;);\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error user&quot; + e);\n        }\n    }\n}          \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22854382,"reputation":11,"user_id":16999458,"display_name":"Hylian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632551715,"creation_date":1632551715,"answer_id":69323730,"question_id":69321969,"body_markdown":"        CREATE TRIGGER user\r\n    BEFORE INSERT ON private\r\n    FOR EACH ROW\r\n    BEGIN\r\n      IF new.ID_USER IS NULL THEN\r\n        SET new.ID_USER = ID_USER();\r\n      END IF;\r\n    END\r\n    ;;","title":"error to update a child row in database and java","body":"<pre><code>    CREATE TRIGGER user\nBEFORE INSERT ON private\nFOR EACH ROW\nBEGIN\n  IF new.ID_USER IS NULL THEN\n    SET new.ID_USER = ID_USER();\n  END IF;\nEND\n;;\n</code></pre>\n"}],"owner":{"account_id":22722691,"reputation":43,"user_id":16886966,"display_name":"wicked"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632551715,"creation_date":1632526210,"question_id":69321969,"body_markdown":"I have an error saving the data in my database in two different tables. but with the same `ID_USER` however one is a primary key and the other unique.\r\n\r\nI need that when creating the user it can automatically generate the `ID_USER` for the other table and save its password. How do I rescue the `ID_USER` from the previous table to insert it in another? since when I run it I get an error\r\n\r\n***&quot;Cannot add or update a child row: a foreign key constraint fails (`tests``private`, CONSTRAINT` private_ibfk_1` FOREIGN KEY (`ID_USER`) REFERENCES` user` (`ID_USER`) ON DELETE CASCADE ON UPDATE CASCADE)&quot;***\r\n\r\n\r\nis this possible to do? \r\n\r\n\r\n     private void insertarActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n        int val = 0;\r\n        String user, pass = &quot;&quot;;\r\n\r\n        user = jTextField_user.getText().trim();\r\n        pass = jTextField_pass.getText().trim();\r\n\r\n        if (user.equals(&quot;&quot;)) {\r\n            val++;\r\n        }\r\n        if (pass.equals(&quot;&quot;)) {\r\n            val++;\r\n        }\r\n        if (val == 0) {\r\n            try {\r\n                Connection cn = Conexion.conectar();\r\n                PreparedStatement pst = cn.prepareStatement(\r\n                        &quot;Insert into user (ID_USER,USER) values (?,?)&quot;);\r\n\r\n                pst.setInt(1, 0);\r\n                pst.setString(2, user);\r\n\r\n                pst = cn.prepareStatement(\r\n                        &quot;Insert into private (ID_USER,PASSWORD) values(?,?)&quot;);\r\n\r\n                pst.setInt(1, 0);\r\n                pst.setString(2, pass);\r\n\r\n                pst.executeUpdate();\r\n                cn.close(); \r\n\r\n                JOptionPane.showMessageDialog(null, &quot;Successful registration&quot;);\r\n\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;Error user&quot; + e);\r\n            }\r\n        } \r\n    } \r\n\r\n[![DATA BASE][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tQwRo.png","title":"error to update a child row in database and java","body":"<p>I have an error saving the data in my database in two different tables. but with the same <code>ID_USER</code> however one is a primary key and the other unique.</p>\n<p>I need that when creating the user it can automatically generate the <code>ID_USER</code> for the other table and save its password. How do I rescue the <code>ID_USER</code> from the previous table to insert it in another? since when I run it I get an error</p>\n<p><em><strong>&quot;Cannot add or update a child row: a foreign key constraint fails (<code>tests``private</code>, CONSTRAINT<code> private_ibfk_1</code> FOREIGN KEY (<code>ID_USER</code>) REFERENCES<code> user</code> (<code>ID_USER</code>) ON DELETE CASCADE ON UPDATE CASCADE)&quot;</strong></em></p>\n<p>is this possible to do?</p>\n<pre><code> private void insertarActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    int val = 0;\n    String user, pass = &quot;&quot;;\n\n    user = jTextField_user.getText().trim();\n    pass = jTextField_pass.getText().trim();\n\n    if (user.equals(&quot;&quot;)) {\n        val++;\n    }\n    if (pass.equals(&quot;&quot;)) {\n        val++;\n    }\n    if (val == 0) {\n        try {\n            Connection cn = Conexion.conectar();\n            PreparedStatement pst = cn.prepareStatement(\n                    &quot;Insert into user (ID_USER,USER) values (?,?)&quot;);\n\n            pst.setInt(1, 0);\n            pst.setString(2, user);\n\n            pst = cn.prepareStatement(\n                    &quot;Insert into private (ID_USER,PASSWORD) values(?,?)&quot;);\n\n            pst.setInt(1, 0);\n            pst.setString(2, pass);\n\n            pst.executeUpdate();\n            cn.close(); \n\n            JOptionPane.showMessageDialog(null, &quot;Successful registration&quot;);\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error user&quot; + e);\n        }\n    } \n} \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tQwRo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQwRo.png\" alt=\"DATA BASE\" /></a></p>\n"},{"tags":["java","jsp","servlet-filters"],"comments":[{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":0,"creation_date":1291801009,"post_id":4385920,"comment_id":4778644,"body_markdown":"do you want to auto-redirect from /old-app to /new-app? Or you want to make the old app available on a new URL pattern?","body":"do you want to auto-redirect from /old-app to /new-app? Or you want to make the old app available on a new URL pattern?"},{"owner":{"account_id":166592,"reputation":3287,"user_id":390812,"accept_rate":78,"display_name":"Martijn Verburg"},"score":0,"creation_date":1291801053,"post_id":4385920,"comment_id":4778649,"body_markdown":"I&#39;m afraid this question doesn&#39;t make any sense to me, can you elaborate?","body":"I&#39;m afraid this question doesn&#39;t make any sense to me, can you elaborate?"}],"answers":[{"tags":[],"owner":{"account_id":245216,"reputation":8352,"user_id":518587,"accept_rate":91,"display_name":"morja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291801479,"creation_date":1291801479,"answer_id":4386059,"question_id":4385920,"body_markdown":"If you dont want the applications name as context root e.g. localhost:8080/appname but under / directly you have to put it into the `tomcat/webapps/ROOT` folder. To get more sophisticated URL mappings working have a look at http://ocpsoft.com/prettyfaces/","title":"Filters in tomcat","body":"<p>If you dont want the applications name as context root e.g. localhost:8080/appname but under / directly you have to put it into the <code>tomcat/webapps/ROOT</code> folder. To get more sophisticated URL mappings working have a look at <a href=\"http://ocpsoft.com/prettyfaces/\" rel=\"nofollow\">http://ocpsoft.com/prettyfaces/</a></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1291817344,"creation_date":1291817344,"answer_id":4388373,"question_id":4385920,"body_markdown":"Deploy `new-module` as `ROOT.war` (or set `path` in `/META-INF/context.xml` to `/`). Use [Tuckey&#39;s `URLRewriteFilter`][1] to rewrite specific URL&#39;s and transform the language part to a request parameter so that it&#39;s available by `request.getParameter()`. It&#39;s much similar to Apache HTTPD&#39;s `mod_rewrite`. \r\n\r\nAn alternative to `URLRewriteFilter` is to homegrow a custom filter which does like the following in `doFilter()` method. \r\n\r\n    String uri = request.getRequestURI();\r\n    if (uri.matches(&quot;^/\\\\w{2}(/.*)?$&quot;)) {\r\n        request.setAttribute(&quot;language&quot;, uri.substring(1, 3));\r\n        request.getRequestDispatcher(uri.substring(3)).forward(request, response);\r\n    } else {\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\nMap this on an `url-pattern` of `/*`. The language will be available by `request.getAttribute(&quot;language&quot;)` on the forwarded resource.\r\n\r\n  [1]: http://code.google.com/p/urlrewritefilter/","title":"Filters in tomcat","body":"<p>Deploy <code>new-module</code> as <code>ROOT.war</code> (or set <code>path</code> in <code>/META-INF/context.xml</code> to <code>/</code>). Use <a href=\"http://code.google.com/p/urlrewritefilter/\" rel=\"nofollow\">Tuckey's <code>URLRewriteFilter</code></a> to rewrite specific URL's and transform the language part to a request parameter so that it's available by <code>request.getParameter()</code>. It's much similar to Apache HTTPD's <code>mod_rewrite</code>. </p>\n\n<p>An alternative to <code>URLRewriteFilter</code> is to homegrow a custom filter which does like the following in <code>doFilter()</code> method. </p>\n\n<pre><code>String uri = request.getRequestURI();\nif (uri.matches(\"^/\\\\w{2}(/.*)?$\")) {\n    request.setAttribute(\"language\", uri.substring(1, 3));\n    request.getRequestDispatcher(uri.substring(3)).forward(request, response);\n} else {\n    chain.doFilter(request, response);\n}\n</code></pre>\n\n<p>Map this on an <code>url-pattern</code> of <code>/*</code>. The language will be available by <code>request.getAttribute(\"language\")</code> on the forwarded resource.</p>\n"}],"owner":{"account_id":142263,"reputation":735,"user_id":349857,"accept_rate":60,"display_name":"redbull"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1632551551,"creation_date":1291800544,"question_id":4385920,"body_markdown":"I am facing a task to add a dependent jar application to an existing one. The existing one does not use to much of locale benefits and so on, but my new one should.\r\n\r\nSo like I have now: `localhost:8080/old-app`  \r\nI want to have also: `localhost:8080/[en|fr|...]/new-module`\r\n\r\nCould anyone point me the direction, because even if I think I get the idea of filters, filter-mapping, I cannot manage to solve it.\r\n\r\nI would like to keep the old one and also have access to the new one.\r\n\r\n\r\n","title":"Filters in tomcat","body":"<p>I am facing a task to add a dependent jar application to an existing one. The existing one does not use to much of locale benefits and so on, but my new one should.</p>\n<p>So like I have now: <code>localhost:8080/old-app</code><br />\nI want to have also: <code>localhost:8080/[en|fr|...]/new-module</code></p>\n<p>Could anyone point me the direction, because even if I think I get the idea of filters, filter-mapping, I cannot manage to solve it.</p>\n<p>I would like to keep the old one and also have access to the new one.</p>\n"},{"tags":["java","rest","tomcat","flowable"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1632508820,"post_id":69318673,"comment_id":122521012,"body_markdown":"You can put the WARs in the `webapps-javaee` folder: Tomcat will convert them from Jakarta EE 8 to Jakarta EE 9.","body":"You can put the WARs in the <code>webapps-javaee</code> folder: Tomcat will convert them from Jakarta EE 8 to Jakarta EE 9."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1632551264,"post_id":69318673,"comment_id":122528254,"body_markdown":"Likely the application is using Jakarta EE 8 or earlier. Consider installing Tomcat 9 instead of Tomcat 10.","body":"Likely the application is using Jakarta EE 8 or earlier. Consider installing Tomcat 9 instead of Tomcat 10."}],"owner":{"account_id":17253668,"reputation":13,"user_id":16995745,"display_name":"Atropos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632551315,"answer_count":0,"score":0,"last_activity_date":1632551215,"creation_date":1632502459,"question_id":69318673,"body_markdown":"I am trying to deploy and start 2 WAR files flowable provides to check out the application.\r\n\r\nI got Java 14 installed, Tomcat 10.x and Maven.\r\n\r\nAdded the 2 WAR files into the webapps folder of Tomcat and then I am running the ./startup.sh in the bin folder\r\n\r\nIf I tail the logs of the catalina.out file, I see that both WARs have been deployed and in the webapps folder 2 new folders have been created for both WARs and there are no errors.\r\n\r\nOn localhost:8080 Tomcat is started, but if I try to visit the webapps like localhost:8080/flowable-ui, I get a 404.\r\n\r\nWhat am I missing? For some reason there are no errors, but also no webapp visible.\r\n","title":"deploying / starting flowable war file on tomcat server mac os","body":"<p>I am trying to deploy and start 2 WAR files flowable provides to check out the application.</p>\n<p>I got Java 14 installed, Tomcat 10.x and Maven.</p>\n<p>Added the 2 WAR files into the webapps folder of Tomcat and then I am running the ./startup.sh in the bin folder</p>\n<p>If I tail the logs of the catalina.out file, I see that both WARs have been deployed and in the webapps folder 2 new folders have been created for both WARs and there are no errors.</p>\n<p>On localhost:8080 Tomcat is started, but if I try to visit the webapps like localhost:8080/flowable-ui, I get a 404.</p>\n<p>What am I missing? For some reason there are no errors, but also no webapp visible.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1632508231,"post_id":69319642,"comment_id":122520811,"body_markdown":"Where does `cats` come from?","body":"Where does <code>cats</code> come from?"},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":2,"creation_date":1632508272,"post_id":69319642,"comment_id":122520827,"body_markdown":"Do you need to mock `getRented` as well?","body":"Do you need to mock <code>getRented</code> as well?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1632508275,"post_id":69319642,"comment_id":122520831,"body_markdown":"`if(c.getRented() == false)` is degenerate. `if(!c.getRented())`","body":"<code>if(c.getRented() == false)</code> is degenerate. <code>if(!c.getRented())</code>"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1632508321,"post_id":69319642,"comment_id":122520848,"body_markdown":"@Egor has a point. If it’s a `Boolean` it might be `null`.","body":"@Egor has a point. If it’s a <code>Boolean</code> it might be <code>null</code>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1632508389,"post_id":69319642,"comment_id":122520871,"body_markdown":"Note you’re also calling `toString` not `getName` in your loop.","body":"Note you’re also calling <code>toString</code> not <code>getName</code> in your loop."},{"owner":{"account_id":14873324,"reputation":25,"user_id":10740226,"display_name":"CodeThisAndThat"},"score":0,"creation_date":1632508413,"post_id":69319642,"comment_id":122520886,"body_markdown":"Cats is an object that with when we call toString() within our listCats(), we organize it such as public String toString() {\n\t\tif (bugInjectionOn) {\n\t\t\tthrow new UnsupportedOperationException(&quot;Injected bug for toString()&quot;);\n\t\t}\n\t\treturn &quot;ID &quot; + id + &quot;. &quot; + name;\n\t}","body":"Cats is an object that with when we call toString() within our listCats(), we organize it such as public String toString() { \t\tif (bugInjectionOn) { \t\t\tthrow new UnsupportedOperationException(&quot;Injected bug for toString()&quot;); \t\t} \t\treturn &quot;ID &quot; + id + &quot;. &quot; + name; \t}"},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1632508454,"post_id":69319642,"comment_id":122520900,"body_markdown":"@Egor no need to mock the default will be `false`","body":"@Egor no need to mock the default will be <code>false</code>"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1632516147,"post_id":69319642,"comment_id":122523337,"body_markdown":"If `Cat` is a value object, don&#39;t mock it; just create one.","body":"If <code>Cat</code> is a value object, don&#39;t mock it; just create one."}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632508349,"creation_date":1632508349,"answer_id":69319689,"question_id":69319642,"body_markdown":"Yes, because you need to define the `toString()` behavior also in the mocked object. The string you have seen it&#39;s the default `toString` version for the mocked object. you can define yours like below.\r\n\r\n```\r\nMockit.when(c1.toString()).thenReturn(&quot;Jennyanydots&quot;);\r\nMockit.when(c2.toString()).thenReturn(&quot;Old Deuteronomy&quot;);\r\n```\r\n\r\nNotice: if the `Cat` class is just POJO object with getter/setter no need to mock it you just fill with whatever you want from the data","title":"Test case utilizing Mockito is not returning expected String value","body":"<p>Yes, because you need to define the <code>toString()</code> behavior also in the mocked object. The string you have seen it's the default <code>toString</code> version for the mocked object. you can define yours like below.</p>\n<pre><code>Mockit.when(c1.toString()).thenReturn(&quot;Jennyanydots&quot;);\nMockit.when(c2.toString()).thenReturn(&quot;Old Deuteronomy&quot;);\n</code></pre>\n<p>Notice: if the <code>Cat</code> class is just POJO object with getter/setter no need to mock it you just fill with whatever you want from the data</p>\n"}],"owner":{"account_id":14873324,"reputation":25,"user_id":10740226,"display_name":"CodeThisAndThat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1632551055,"creation_date":1632508023,"question_id":69319642,"body_markdown":"I have my set-up here @Before for my test case\r\n````\r\nr = RentACat.createInstance();\r\nc1 = Mockito.mock(Cat.class);\r\n\t\tMockito.when(c1.getId()).thenReturn(1);\r\n\t\tMockito.when(c1.getName()).thenReturn(&quot;Jennyanydots&quot;);\r\n\r\nc2 = Mockito.mock(Cat.class);\r\n\t\tMockito.when(c2.getId()).thenReturn(2);\r\n\t\tMockito.when(c2.getName()).thenReturn(&quot;Old Deuteronomy&quot;);\r\n````\r\n\r\nWith my test case as \r\n````\r\nr.addCat(c1);\r\n\t\tr.addCat(c2);\r\n\t\tr.addCat(c3);\r\n\t\t\r\n\t\t//Execution Steps\r\n\t\tString ret = r.listCats();\r\n\t\t\r\n\t\t//Postconditions\r\n\t\tassertEquals(&quot;Return string is not equal to expected string with added cats&quot;, &quot;ID 1. Jennyanydots\\nID 2. Old Deuteronomy\\&quot;, ret);\r\n````\r\n\r\nAnd this is my implementation of listCats();\r\n````\r\n\tpublic String listCats() {\r\n\t\t// TODO\r\n\t\tStringBuilder retBuild = new StringBuilder();\r\n\t\tfor(Cat c : cats) {\r\n\t\t\tif(c.getRented() == false) {\r\n\t\t\t\tretBuild.append(c.toString());\r\n\t\t\t\tretBuild.append(&quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn retBuild.toString();\r\n\t}\r\n````\r\n\r\nHowever, when I run this test case I am getting a return value of an empty string.\r\nI have tried some things like changing my implementation `listCats();`\r\nsuch that \r\n````\r\n\tpublic String listCats() {\r\n\t\t// TODO\r\n\t\tStringBuilder retBuild = new StringBuilder();\r\n\t\tfor(Cat c : cats) {\r\n\t\t\tif(c.getRented() == false) {\r\n\t\t\t\tretBuild.append(c.toString());\r\n\t\t\t\tretBuild.append(&quot;\\n&quot;);\r\n                return retBuild.toString();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn retBuild.toString();\r\n\t}\r\n````\r\nHowever, when I run this I am only getting one of the cats as had expected with the observed values as `&quot;Mock for Cat, hashCode: 10523xyz&quot;`\r\n\r\nWhat am I doing wrong within my `listCats()` method?","title":"Test case utilizing Mockito is not returning expected String value","body":"<p>I have my set-up here @Before for my test case</p>\n<pre><code>r = RentACat.createInstance();\nc1 = Mockito.mock(Cat.class);\n        Mockito.when(c1.getId()).thenReturn(1);\n        Mockito.when(c1.getName()).thenReturn(&quot;Jennyanydots&quot;);\n\nc2 = Mockito.mock(Cat.class);\n        Mockito.when(c2.getId()).thenReturn(2);\n        Mockito.when(c2.getName()).thenReturn(&quot;Old Deuteronomy&quot;);\n</code></pre>\n<p>With my test case as</p>\n<pre><code>r.addCat(c1);\n        r.addCat(c2);\n        r.addCat(c3);\n        \n        //Execution Steps\n        String ret = r.listCats();\n        \n        //Postconditions\n        assertEquals(&quot;Return string is not equal to expected string with added cats&quot;, &quot;ID 1. Jennyanydots\\nID 2. Old Deuteronomy\\&quot;, ret);\n</code></pre>\n<p>And this is my implementation of listCats();</p>\n<pre><code>    public String listCats() {\n        // TODO\n        StringBuilder retBuild = new StringBuilder();\n        for(Cat c : cats) {\n            if(c.getRented() == false) {\n                retBuild.append(c.toString());\n                retBuild.append(&quot;\\n&quot;);\n            }\n        }\n        return retBuild.toString();\n    }\n</code></pre>\n<p>However, when I run this test case I am getting a return value of an empty string.\nI have tried some things like changing my implementation <code>listCats();</code>\nsuch that</p>\n<pre><code>    public String listCats() {\n        // TODO\n        StringBuilder retBuild = new StringBuilder();\n        for(Cat c : cats) {\n            if(c.getRented() == false) {\n                retBuild.append(c.toString());\n                retBuild.append(&quot;\\n&quot;);\n                return retBuild.toString();\n\n            }\n        }\n        return retBuild.toString();\n    }\n</code></pre>\n<p>However, when I run this I am only getting one of the cats as had expected with the observed values as <code>&quot;Mock for Cat, hashCode: 10523xyz&quot;</code></p>\n<p>What am I doing wrong within my <code>listCats()</code> method?</p>\n"},{"tags":["java","pdf","bytearrayoutputstream","bytearrayinputstream","rpt"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1632296127,"post_id":69279662,"comment_id":122450527,"body_markdown":"I&#39;m not familiar with ReportClientDocument. But I can tell for sure that you don&#39;t want to use an *ObjectOutputStream* instance. It will create a Java specific data format and certainly not a PDF.","body":"I&#39;m not familiar with ReportClientDocument. But I can tell for sure that you don&#39;t want to use an <i>ObjectOutputStream</i> instance. It will create a Java specific data format and certainly not a PDF."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1632296348,"post_id":69279662,"comment_id":122450616,"body_markdown":"Get rid of the `ObjectOutputStream`. You aren&#39;t using an `ObjectInputStream` so you still have its encoding. Whiich you do not need. Or else read what you wrote with an `ObjectInputStream`.","body":"Get rid of the <code>ObjectOutputStream</code>. You aren&#39;t using an <code>ObjectInputStream</code> so you still have its encoding. Whiich you do not need. Or else read what you wrote with an <code>ObjectInputStream</code>."}],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632297125,"creation_date":1632297125,"answer_id":69280219,"question_id":69279662,"body_markdown":"\r\nI&#39;m not familiar with `ReportClientDocument`. As far as I understand it&#39;s not a PDF document itself but a report that can be saved as PDF. `ObjectOutputStream` won&#39;t achieve this as it&#39;s Java specific format and has nothing to do with PDF.\r\n\r\nIt looks as if a `PrintOutputController` is needed for PDF export. Thus your code would look more like so:\r\n\r\n```\r\nFileOutputStream fileOutputStream = new FileOutputStream(outputFile);\r\nInputStream is = rcd.getPrintOutputController().export(ReportExportFormat.PDF);\r\ncopy(is, fileOutputStream);\r\nfileOutputStream.close();\r\n\r\n...\r\n\r\nvoid copy(InputStream source, OutputStream target) throws IOException {\r\n    byte[] buf = new byte[8192];\r\n    int length;\r\n    while ((length = source.read(buf)) &gt; 0) {\r\n        target.write(buf, 0, length);\r\n    }\r\n}\r\n```\r\n\r\nNote that no byte array streams are needed. They are a detour, slowing down your program and drive up memory consumption.","title":"Corrupted PDF file after generating from ByteArrayOutputStream in Java","body":"<p>I'm not familiar with <code>ReportClientDocument</code>. As far as I understand it's not a PDF document itself but a report that can be saved as PDF. <code>ObjectOutputStream</code> won't achieve this as it's Java specific format and has nothing to do with PDF.</p>\n<p>It looks as if a <code>PrintOutputController</code> is needed for PDF export. Thus your code would look more like so:</p>\n<pre><code>FileOutputStream fileOutputStream = new FileOutputStream(outputFile);\nInputStream is = rcd.getPrintOutputController().export(ReportExportFormat.PDF);\ncopy(is, fileOutputStream);\nfileOutputStream.close();\n\n...\n\nvoid copy(InputStream source, OutputStream target) throws IOException {\n    byte[] buf = new byte[8192];\n    int length;\n    while ((length = source.read(buf)) &gt; 0) {\n        target.write(buf, 0, length);\n    }\n}\n</code></pre>\n<p>Note that no byte array streams are needed. They are a detour, slowing down your program and drive up memory consumption.</p>\n"}],"owner":{"account_id":3233052,"reputation":1080,"user_id":2727843,"accept_rate":71,"display_name":"Mahboob Nur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632550267,"creation_date":1632294485,"question_id":69279662,"body_markdown":"I am trying to read .rpt file and generate pdf using ReportClientDocument,ByteArrayInputStream and ByteArrayOutputStream. After generating the pdf file I am unable to open it. It is showing &quot;It may be damaged or use a file format that Preview doesn’t recognise.&quot; My Source code is provided below \r\n\r\n    public static void generatePDFReport()\r\n    {\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\n        LocalDateTime now = LocalDateTime.now();\r\n        System.out.println(dtf.format(now));\r\n        try {\r\n            ReportClientDocument rcd = new ReportClientDocument();\r\n\r\n            String rptPath=&quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\r\n            String outputPath=String.format(&quot;/Users/florapc/Desktop/Report/%s.pdf&quot;,dtf.format(now));\r\n            File inputFile = new File(rptPath);\r\n            File outputFile = new File(outputPath);\r\n            rcd.open(rptPath, 0);\r\n            System.out.println(rptPath);\r\n            List&lt;IParameterField&gt; fld = rcd.getDataDefController().getDataDefinition().getParameterFields();\r\n\r\n            List&lt;String&gt; reportContent = new ArrayList&lt;String&gt;();\r\n            System.out.println(fld.size());\r\n            for (int i = 0; i &lt; fld.size(); i++) {\r\n\r\n                System.out.println(fld.get(i).getDescription());\r\n                reportContent.add(fld.get(i).getDescription().replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;));\r\n            }\r\n\r\n                        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            ObjectOutputStream oos = new ObjectOutputStream(bos);\r\n            oos.writeObject(reportContent);\r\n            byte[] bytes = bos.toByteArray();\r\n\r\n            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\r\n            byte[] byteArray = new byte[byteArrayInputStream.available()];\r\n            int x = byteArrayInputStream.read(byteArray, 0, byteArrayInputStream.available());\r\n            System.out.println(x);\r\n            FileOutputStream fileOutputStream = new FileOutputStream(outputFile);;\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();;\r\n            byteArrayOutputStream.write(byteArray, 0, x);\r\n\r\n            byteArrayOutputStream.writeTo(fileOutputStream);\r\n            System.out.println(fileOutputStream);\r\n            System.out.println(&quot;File exported succesfully&quot;);\r\n\r\n            byteArrayInputStream.close();\r\n\r\n            byteArrayOutputStream.close();\r\n            fileOutputStream.close();\r\n            rcd.close();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nI can read .rpt file and print it in console. Please help me finding the best way to generate pdf properly.","title":"Corrupted PDF file after generating from ByteArrayOutputStream in Java","body":"<p>I am trying to read .rpt file and generate pdf using ReportClientDocument,ByteArrayInputStream and ByteArrayOutputStream. After generating the pdf file I am unable to open it. It is showing &quot;It may be damaged or use a file format that Preview doesn’t recognise.&quot; My Source code is provided below</p>\n<pre><code>public static void generatePDFReport()\n{\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\n    LocalDateTime now = LocalDateTime.now();\n    System.out.println(dtf.format(now));\n    try {\n        ReportClientDocument rcd = new ReportClientDocument();\n\n        String rptPath=&quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\n        String outputPath=String.format(&quot;/Users/florapc/Desktop/Report/%s.pdf&quot;,dtf.format(now));\n        File inputFile = new File(rptPath);\n        File outputFile = new File(outputPath);\n        rcd.open(rptPath, 0);\n        System.out.println(rptPath);\n        List&lt;IParameterField&gt; fld = rcd.getDataDefController().getDataDefinition().getParameterFields();\n\n        List&lt;String&gt; reportContent = new ArrayList&lt;String&gt;();\n        System.out.println(fld.size());\n        for (int i = 0; i &lt; fld.size(); i++) {\n\n            System.out.println(fld.get(i).getDescription());\n            reportContent.add(fld.get(i).getDescription().replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;));\n        }\n\n                    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(bos);\n        oos.writeObject(reportContent);\n        byte[] bytes = bos.toByteArray();\n\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\n        byte[] byteArray = new byte[byteArrayInputStream.available()];\n        int x = byteArrayInputStream.read(byteArray, 0, byteArrayInputStream.available());\n        System.out.println(x);\n        FileOutputStream fileOutputStream = new FileOutputStream(outputFile);;\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();;\n        byteArrayOutputStream.write(byteArray, 0, x);\n\n        byteArrayOutputStream.writeTo(fileOutputStream);\n        System.out.println(fileOutputStream);\n        System.out.println(&quot;File exported succesfully&quot;);\n\n        byteArrayInputStream.close();\n\n        byteArrayOutputStream.close();\n        fileOutputStream.close();\n        rcd.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I can read .rpt file and print it in console. Please help me finding the best way to generate pdf properly.</p>\n"},{"tags":["java","pdf","report","java-7","rpt"],"answers":[{"tags":[],"owner":{"account_id":3233052,"reputation":1080,"user_id":2727843,"accept_rate":71,"display_name":"Mahboob Nur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632550110,"creation_date":1632550110,"answer_id":69323592,"question_id":69150213,"body_markdown":"Finally I get a solution using iTextPdf library.\r\n\r\n   \r\n\r\n     package com.fsl;\r\n        import com.fsl.Main;\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.time.LocalDateTime;\r\n        import java.time.format.DateTimeFormatter;\r\n        import java.util.ArrayList;\r\n        import java.util.Date;\r\n        import java.time.LocalDateTime;\r\n        import com.crystaldecisions.sdk.occa.report.application.ReportClientDocument;\r\n        import com.crystaldecisions.sdk.occa.report.data.IParameterField;\r\n        import com.crystaldecisions.sdk.occa.report.lib.ReportSDKException;\r\n        import com.itextpdf.text.Anchor;\r\n        import com.itextpdf.text.BadElementException;\r\n        import com.itextpdf.text.BaseColor;\r\n        import com.itextpdf.text.Chapter;\r\n        import com.itextpdf.text.Document;\r\n        import com.itextpdf.text.DocumentException;\r\n        import com.itextpdf.text.Element;\r\n        import com.itextpdf.text.Font;\r\n        import com.itextpdf.text.List;\r\n        import com.itextpdf.text.ListItem;\r\n        import com.itextpdf.text.Paragraph;\r\n        import com.itextpdf.text.Phrase;\r\n        import com.itextpdf.text.Section;\r\n        import com.itextpdf.text.pdf.PdfPCell;\r\n        import com.itextpdf.text.pdf.PdfPTable;\r\n        import com.itextpdf.text.pdf.PdfWriter;\r\n    \r\n        public class iTextTest {\r\n    \r\n        private static String FILE = String.format(&quot;/Users/florapc/Desktop/Report/%s.pdf&quot;,getDateTimeString());\r\n        private static Font catFont = new Font(Font.FontFamily.TIMES_ROMAN, 18,\r\n                Font.BOLD);\r\n        private static Font redFont = new Font(Font.FontFamily.TIMES_ROMAN, 12,\r\n                Font.NORMAL, BaseColor.RED);\r\n        private static Font subFont = new Font(Font.FontFamily.TIMES_ROMAN, 16,\r\n                Font.BOLD);\r\n        private static Font smallBold = new Font(Font.FontFamily.TIMES_ROMAN, 12,\r\n                Font.BOLD);\r\n    \r\n        public static  String getDateTimeString()\r\n        {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\n            LocalDateTime now = LocalDateTime.now();\r\n           return dtf.format(now);\r\n        }\r\n        public static void main(String[] args) {\r\n            try {\r\n    \r\n    \r\n                Document document = new Document();\r\n                PdfWriter.getInstance(document, new FileOutputStream(FILE));\r\n                document.open();\r\n        //            Paragraph preface = new Paragraph();\r\n        //            addEmptyLine(preface, 1);\r\n                   // addMetaData(document);\r\n                   addTitlePage(document);\r\n        \r\n                   // addContent(document);\r\n                    document.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n        // iText allows to add metadata to the PDF which can be viewed in your Adobe\r\n        // Reader\r\n        // under File -&gt; Properties\r\n        private static void addMetaData(Document document) {\r\n            document.addTitle(&quot;My first PDF&quot;);\r\n            document.addSubject(&quot;Using iText&quot;);\r\n            document.addKeywords(&quot;Java, PDF, iText&quot;);\r\n            document.addAuthor(&quot;Lars Vogel&quot;);\r\n            document.addCreator(&quot;Lars Vogel&quot;);\r\n        }\r\n    \r\n        private static void addTitlePage(Document document)\r\n                throws DocumentException {\r\n            Paragraph preface = new Paragraph();\r\n    //        // We add one empty line\r\n           addEmptyLine(preface, 1);\r\n            generatePDFReport(preface, 1);\r\n    //        // Lets write a big header\r\n    //        preface.add(new Paragraph(&quot;Title of the document&quot;, catFont));\r\n    //\r\n    //        addEmptyLine(preface, 1);\r\n    //        // Will create: Report generated by: _name, _date\r\n    //        preface.add(new Paragraph(\r\n    //                &quot;Report generated by: &quot; + System.getProperty(&quot;user.name&quot;) + &quot;, &quot; + new Date(), //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\r\n    //                smallBold));\r\n    //        addEmptyLine(preface, 3);\r\n    //        preface.add(new Paragraph(\r\n    //                &quot;This document describes something which is very important &quot;,\r\n    //                smallBold));\r\n    //\r\n    //        addEmptyLine(preface, 8);\r\n    \r\n            //preface.add(new Paragraph(\r\n                    //&quot;This document is a preliminary version and not subject to your license agreement or any other agreement with vogella.com ;-).&quot;,\r\n                  //  redFont));\r\n    \r\n            document.add(preface);\r\n            // Start a new page\r\n            document.newPage();\r\n        }\r\n    \r\n        private static void addContent(Document document) throws DocumentException {\r\n            Anchor anchor = new Anchor(&quot;First Chapter&quot;, catFont);\r\n            anchor.setName(&quot;First Chapter&quot;);\r\n    \r\n            // Second parameter is the number of the chapter\r\n            Chapter catPart = new Chapter(new Paragraph(anchor), 1);\r\n    \r\n            Paragraph subPara = new Paragraph(&quot;Subcategory 1&quot;, subFont);\r\n            Section subCatPart = catPart.addSection(subPara);\r\n            subCatPart.add(new Paragraph(&quot;Hello&quot;));\r\n    \r\n            subPara = new Paragraph(&quot;Subcategory 2&quot;, subFont);\r\n            subCatPart = catPart.addSection(subPara);\r\n            subCatPart.add(new Paragraph(&quot;Paragraph 1&quot;));\r\n            subCatPart.add(new Paragraph(&quot;Paragraph 2&quot;));\r\n            subCatPart.add(new Paragraph(&quot;Paragraph 3&quot;));\r\n    \r\n            // add a list\r\n            createList(subCatPart);\r\n            Paragraph paragraph = new Paragraph();\r\n            addEmptyLine(paragraph, 5);\r\n            subCatPart.add(paragraph);\r\n    \r\n            // add a table\r\n            createTable(subCatPart);\r\n    \r\n            // now add all this to the document\r\n            document.add(catPart);\r\n    \r\n            // Next section\r\n            anchor = new Anchor(&quot;Second Chapter&quot;, catFont);\r\n            anchor.setName(&quot;Second Chapter&quot;);\r\n    \r\n            // Second parameter is the number of the chapter\r\n            catPart = new Chapter(new Paragraph(anchor), 1);\r\n    \r\n            subPara = new Paragraph(&quot;Subcategory&quot;, subFont);\r\n            subCatPart = catPart.addSection(subPara);\r\n            subCatPart.add(new Paragraph(&quot;This is a very important message&quot;));\r\n    \r\n            // now add all this to the document\r\n            document.add(catPart);\r\n    \r\n        }\r\n    \r\n        private static void createTable(Section subCatPart)\r\n                throws BadElementException {\r\n            PdfPTable table = new PdfPTable(3);\r\n    \r\n            // t.setBorderColor(BaseColor.GRAY);\r\n            // t.setPadding(4);\r\n            // t.setSpacing(4);\r\n            // t.setBorderWidth(1);\r\n    \r\n            PdfPCell c1 = new PdfPCell(new Phrase(&quot;Table Header 1&quot;));\r\n            c1.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            table.addCell(c1);\r\n    \r\n            c1 = new PdfPCell(new Phrase(&quot;Table Header 2&quot;));\r\n            c1.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            table.addCell(c1);\r\n    \r\n            c1 = new PdfPCell(new Phrase(&quot;Table Header 3&quot;));\r\n            c1.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            table.addCell(c1);\r\n            table.setHeaderRows(1);\r\n    \r\n            table.addCell(&quot;1.0&quot;);\r\n            table.addCell(&quot;1.1&quot;);\r\n            table.addCell(&quot;1.2&quot;);\r\n            table.addCell(&quot;2.1&quot;);\r\n            table.addCell(&quot;2.2&quot;);\r\n            table.addCell(&quot;2.3&quot;);\r\n    \r\n            subCatPart.add(table);\r\n    \r\n        }\r\n    \r\n        private static void createList(Section subCatPart) {\r\n            List list = new List(true, false, 10);\r\n            list.add(new ListItem(&quot;First point&quot;));\r\n            list.add(new ListItem(&quot;Second point&quot;));\r\n            list.add(new ListItem(&quot;Third point&quot;));\r\n            subCatPart.add(list);\r\n        }\r\n    \r\n        private static void addEmptyLine(Paragraph paragraph, int number)  {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                paragraph.add(new Paragraph(&quot; &quot;));\r\n            }\r\n    //        ReportClientDocument rcd = new ReportClientDocument();\r\n    //\r\n    //        String rptPath=&quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\r\n    //\r\n    //        try {\r\n    //            rcd.open(rptPath, 0);\r\n    //        } catch (ReportSDKException e) {\r\n    //            e.printStackTrace();\r\n    //        }\r\n    //        System.out.println(rptPath);\r\n    //        java.util.List&lt;IParameterField&gt; fld = null;\r\n    //        try {\r\n    //            fld = rcd.getDataDefController().getDataDefinition().getParameterFields();\r\n    //        } catch (ReportSDKException e) {\r\n    //            e.printStackTrace();\r\n    //        }\r\n    //\r\n    //        java.util.List&lt;String&gt; reportContent = new ArrayList&lt;String&gt;();\r\n    //        System.out.println(fld.size());\r\n    //        for (int i = 0; i &lt; fld.size(); i++) {\r\n    //\r\n    //            System.out.println(fld.get(i).getDescription());\r\n    //            String res=fld.get(i).getDescription().replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\r\n    //            paragraph.add(new Paragraph(res));\r\n    //\r\n    //\r\n    //        }\r\n        }\r\n        private static void generatePDFReport(Paragraph paragraph, int number)\r\n        {\r\n            ReportClientDocument rcd = new ReportClientDocument();\r\n    \r\n            String rptPath=&quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\r\n    \r\n            try {\r\n                rcd.open(rptPath, 0);\r\n            } catch (ReportSDKException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(rptPath);\r\n            java.util.List&lt;IParameterField&gt; fld = null;\r\n            try {\r\n                fld = rcd.getDataDefController().getDataDefinition().getParameterFields();\r\n            } catch (ReportSDKException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            java.util.List&lt;String&gt; reportContent = new ArrayList&lt;String&gt;();\r\n            System.out.println(fld.size());\r\n            for (int i = 0; i &lt; fld.size(); i++) {\r\n    \r\n                System.out.println(fld.get(i).getDescription());\r\n                String res=fld.get(i).getDescription().replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\r\n                paragraph.add(new Paragraph(res));\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n     \r\n\r\nI hope it will be helpfull to all .","title":"How to read .rpt files in Java and save it as pdf","body":"<p>Finally I get a solution using iTextPdf library.</p>\n<pre><code> package com.fsl;\n    import com.fsl.Main;\n    import java.io.File;\n    import java.io.FileOutputStream;\n    import java.time.LocalDateTime;\n    import java.time.format.DateTimeFormatter;\n    import java.util.ArrayList;\n    import java.util.Date;\n    import java.time.LocalDateTime;\n    import com.crystaldecisions.sdk.occa.report.application.ReportClientDocument;\n    import com.crystaldecisions.sdk.occa.report.data.IParameterField;\n    import com.crystaldecisions.sdk.occa.report.lib.ReportSDKException;\n    import com.itextpdf.text.Anchor;\n    import com.itextpdf.text.BadElementException;\n    import com.itextpdf.text.BaseColor;\n    import com.itextpdf.text.Chapter;\n    import com.itextpdf.text.Document;\n    import com.itextpdf.text.DocumentException;\n    import com.itextpdf.text.Element;\n    import com.itextpdf.text.Font;\n    import com.itextpdf.text.List;\n    import com.itextpdf.text.ListItem;\n    import com.itextpdf.text.Paragraph;\n    import com.itextpdf.text.Phrase;\n    import com.itextpdf.text.Section;\n    import com.itextpdf.text.pdf.PdfPCell;\n    import com.itextpdf.text.pdf.PdfPTable;\n    import com.itextpdf.text.pdf.PdfWriter;\n\n    public class iTextTest {\n\n    private static String FILE = String.format(&quot;/Users/florapc/Desktop/Report/%s.pdf&quot;,getDateTimeString());\n    private static Font catFont = new Font(Font.FontFamily.TIMES_ROMAN, 18,\n            Font.BOLD);\n    private static Font redFont = new Font(Font.FontFamily.TIMES_ROMAN, 12,\n            Font.NORMAL, BaseColor.RED);\n    private static Font subFont = new Font(Font.FontFamily.TIMES_ROMAN, 16,\n            Font.BOLD);\n    private static Font smallBold = new Font(Font.FontFamily.TIMES_ROMAN, 12,\n            Font.BOLD);\n\n    public static  String getDateTimeString()\n    {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\n        LocalDateTime now = LocalDateTime.now();\n       return dtf.format(now);\n    }\n    public static void main(String[] args) {\n        try {\n\n\n            Document document = new Document();\n            PdfWriter.getInstance(document, new FileOutputStream(FILE));\n            document.open();\n    //            Paragraph preface = new Paragraph();\n    //            addEmptyLine(preface, 1);\n               // addMetaData(document);\n               addTitlePage(document);\n    \n               // addContent(document);\n                document.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n    // iText allows to add metadata to the PDF which can be viewed in your Adobe\n    // Reader\n    // under File -&gt; Properties\n    private static void addMetaData(Document document) {\n        document.addTitle(&quot;My first PDF&quot;);\n        document.addSubject(&quot;Using iText&quot;);\n        document.addKeywords(&quot;Java, PDF, iText&quot;);\n        document.addAuthor(&quot;Lars Vogel&quot;);\n        document.addCreator(&quot;Lars Vogel&quot;);\n    }\n\n    private static void addTitlePage(Document document)\n            throws DocumentException {\n        Paragraph preface = new Paragraph();\n//        // We add one empty line\n       addEmptyLine(preface, 1);\n        generatePDFReport(preface, 1);\n//        // Lets write a big header\n//        preface.add(new Paragraph(&quot;Title of the document&quot;, catFont));\n//\n//        addEmptyLine(preface, 1);\n//        // Will create: Report generated by: _name, _date\n//        preface.add(new Paragraph(\n//                &quot;Report generated by: &quot; + System.getProperty(&quot;user.name&quot;) + &quot;, &quot; + new Date(), //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n//                smallBold));\n//        addEmptyLine(preface, 3);\n//        preface.add(new Paragraph(\n//                &quot;This document describes something which is very important &quot;,\n//                smallBold));\n//\n//        addEmptyLine(preface, 8);\n\n        //preface.add(new Paragraph(\n                //&quot;This document is a preliminary version and not subject to your license agreement or any other agreement with vogella.com ;-).&quot;,\n              //  redFont));\n\n        document.add(preface);\n        // Start a new page\n        document.newPage();\n    }\n\n    private static void addContent(Document document) throws DocumentException {\n        Anchor anchor = new Anchor(&quot;First Chapter&quot;, catFont);\n        anchor.setName(&quot;First Chapter&quot;);\n\n        // Second parameter is the number of the chapter\n        Chapter catPart = new Chapter(new Paragraph(anchor), 1);\n\n        Paragraph subPara = new Paragraph(&quot;Subcategory 1&quot;, subFont);\n        Section subCatPart = catPart.addSection(subPara);\n        subCatPart.add(new Paragraph(&quot;Hello&quot;));\n\n        subPara = new Paragraph(&quot;Subcategory 2&quot;, subFont);\n        subCatPart = catPart.addSection(subPara);\n        subCatPart.add(new Paragraph(&quot;Paragraph 1&quot;));\n        subCatPart.add(new Paragraph(&quot;Paragraph 2&quot;));\n        subCatPart.add(new Paragraph(&quot;Paragraph 3&quot;));\n\n        // add a list\n        createList(subCatPart);\n        Paragraph paragraph = new Paragraph();\n        addEmptyLine(paragraph, 5);\n        subCatPart.add(paragraph);\n\n        // add a table\n        createTable(subCatPart);\n\n        // now add all this to the document\n        document.add(catPart);\n\n        // Next section\n        anchor = new Anchor(&quot;Second Chapter&quot;, catFont);\n        anchor.setName(&quot;Second Chapter&quot;);\n\n        // Second parameter is the number of the chapter\n        catPart = new Chapter(new Paragraph(anchor), 1);\n\n        subPara = new Paragraph(&quot;Subcategory&quot;, subFont);\n        subCatPart = catPart.addSection(subPara);\n        subCatPart.add(new Paragraph(&quot;This is a very important message&quot;));\n\n        // now add all this to the document\n        document.add(catPart);\n\n    }\n\n    private static void createTable(Section subCatPart)\n            throws BadElementException {\n        PdfPTable table = new PdfPTable(3);\n\n        // t.setBorderColor(BaseColor.GRAY);\n        // t.setPadding(4);\n        // t.setSpacing(4);\n        // t.setBorderWidth(1);\n\n        PdfPCell c1 = new PdfPCell(new Phrase(&quot;Table Header 1&quot;));\n        c1.setHorizontalAlignment(Element.ALIGN_CENTER);\n        table.addCell(c1);\n\n        c1 = new PdfPCell(new Phrase(&quot;Table Header 2&quot;));\n        c1.setHorizontalAlignment(Element.ALIGN_CENTER);\n        table.addCell(c1);\n\n        c1 = new PdfPCell(new Phrase(&quot;Table Header 3&quot;));\n        c1.setHorizontalAlignment(Element.ALIGN_CENTER);\n        table.addCell(c1);\n        table.setHeaderRows(1);\n\n        table.addCell(&quot;1.0&quot;);\n        table.addCell(&quot;1.1&quot;);\n        table.addCell(&quot;1.2&quot;);\n        table.addCell(&quot;2.1&quot;);\n        table.addCell(&quot;2.2&quot;);\n        table.addCell(&quot;2.3&quot;);\n\n        subCatPart.add(table);\n\n    }\n\n    private static void createList(Section subCatPart) {\n        List list = new List(true, false, 10);\n        list.add(new ListItem(&quot;First point&quot;));\n        list.add(new ListItem(&quot;Second point&quot;));\n        list.add(new ListItem(&quot;Third point&quot;));\n        subCatPart.add(list);\n    }\n\n    private static void addEmptyLine(Paragraph paragraph, int number)  {\n        for (int i = 0; i &lt; number; i++) {\n            paragraph.add(new Paragraph(&quot; &quot;));\n        }\n//        ReportClientDocument rcd = new ReportClientDocument();\n//\n//        String rptPath=&quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\n//\n//        try {\n//            rcd.open(rptPath, 0);\n//        } catch (ReportSDKException e) {\n//            e.printStackTrace();\n//        }\n//        System.out.println(rptPath);\n//        java.util.List&lt;IParameterField&gt; fld = null;\n//        try {\n//            fld = rcd.getDataDefController().getDataDefinition().getParameterFields();\n//        } catch (ReportSDKException e) {\n//            e.printStackTrace();\n//        }\n//\n//        java.util.List&lt;String&gt; reportContent = new ArrayList&lt;String&gt;();\n//        System.out.println(fld.size());\n//        for (int i = 0; i &lt; fld.size(); i++) {\n//\n//            System.out.println(fld.get(i).getDescription());\n//            String res=fld.get(i).getDescription().replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\n//            paragraph.add(new Paragraph(res));\n//\n//\n//        }\n    }\n    private static void generatePDFReport(Paragraph paragraph, int number)\n    {\n        ReportClientDocument rcd = new ReportClientDocument();\n\n        String rptPath=&quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\n\n        try {\n            rcd.open(rptPath, 0);\n        } catch (ReportSDKException e) {\n            e.printStackTrace();\n        }\n        System.out.println(rptPath);\n        java.util.List&lt;IParameterField&gt; fld = null;\n        try {\n            fld = rcd.getDataDefController().getDataDefinition().getParameterFields();\n        } catch (ReportSDKException e) {\n            e.printStackTrace();\n        }\n\n        java.util.List&lt;String&gt; reportContent = new ArrayList&lt;String&gt;();\n        System.out.println(fld.size());\n        for (int i = 0; i &lt; fld.size(); i++) {\n\n            System.out.println(fld.get(i).getDescription());\n            String res=fld.get(i).getDescription().replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;);\n            paragraph.add(new Paragraph(res));\n\n\n        }\n    }\n}\n\n \n</code></pre>\n<p>I hope it will be helpfull to all .</p>\n"}],"owner":{"account_id":3233052,"reputation":1080,"user_id":2727843,"accept_rate":71,"display_name":"Mahboob Nur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69323592,"answer_count":1,"score":1,"last_activity_date":1632550110,"creation_date":1631439717,"question_id":69150213,"body_markdown":"I have a .rpt file. I want to read it programatically in java and save it in pdf file.\r\nI followed the solution \r\n[multithread pdf conversion][1]\r\nMy source code provided below \r\n\r\n      final String rpt = &quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\r\n      final String sFilePath = &quot;/Users/florapc/Desktop/Report/&quot;;\r\n      final String sFileName = &quot;pdfreport&quot;;\r\n      final Object[] data = new Object[1];\r\n      for (int i = 0; i &lt; data.length; i++) {\r\n          //  run();\r\n          Engine eng = new Engine(Engine.EXPORT_PDF);\r\n          eng.setReportFile(rpt); //rpt is the report name\r\n\r\n          System.out.println(&quot; After set connection&quot;);\r\n          eng.setPrompt(data[i], 0);\r\n          ReportProperties repprop = eng.getReportProperties();\r\n          //  repprop.setPaperOrient(ReportProperties.DEFAULT_PAPER_ORIENTATION, ReportProperties.PAPER_FANFOLD_US);\r\n          eng.execute();\r\n          System.out.println(&quot; After excecute&quot;);\r\n          FileOutputStream fos = null;\r\n          try {\r\n              String FileName = sFileName + &quot;_&quot; + i;\r\n              File file = new File(sFilePath + FileName + &quot;.pdf&quot;);\r\n              if (!file.getParentFile().exists()) {\r\n                  file.getParentFile().mkdirs();\r\n              }\r\n              if (!file.exists()) {\r\n                  file.createNewFile();\r\n              }\r\n              fos = new FileOutputStream(file);\r\n              for (int k = 1; k &lt;= eng.getPageCount(); k++) {\r\n                  fos.write(eng.getPageData(k));\r\n              }\r\n              fos.flush();\r\n              fos.close();\r\n          } catch (Exception e) {\r\n              e.printStackTrace();\r\n          } finally {\r\n              if (fos != null) {\r\n                  try {\r\n                      fos.close();\r\n                  } catch (IOException e) {\r\n                      e.printStackTrace();\r\n                  }\r\n                  fos = null;\r\n              }\r\n          }\r\n      }\r\n \r\n\r\nAfter running my code I am unable to read the .rpt file and my pdf file becomes empty.\r\nPlease help me out.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34438995/how-to-generate-pdf-documents-from-rpt-in-a-multi-threaded-approach","title":"How to read .rpt files in Java and save it as pdf","body":"<p>I have a .rpt file. I want to read it programatically in java and save it in pdf file.\nI followed the solution\n<a href=\"https://stackoverflow.com/questions/34438995/how-to-generate-pdf-documents-from-rpt-in-a-multi-threaded-approach\">multithread pdf conversion</a>\nMy source code provided below</p>\n<pre><code>  final String rpt = &quot;/Users/florapc/Desktop/Report/AcStatement.rpt&quot;;\n  final String sFilePath = &quot;/Users/florapc/Desktop/Report/&quot;;\n  final String sFileName = &quot;pdfreport&quot;;\n  final Object[] data = new Object[1];\n  for (int i = 0; i &lt; data.length; i++) {\n      //  run();\n      Engine eng = new Engine(Engine.EXPORT_PDF);\n      eng.setReportFile(rpt); //rpt is the report name\n\n      System.out.println(&quot; After set connection&quot;);\n      eng.setPrompt(data[i], 0);\n      ReportProperties repprop = eng.getReportProperties();\n      //  repprop.setPaperOrient(ReportProperties.DEFAULT_PAPER_ORIENTATION, ReportProperties.PAPER_FANFOLD_US);\n      eng.execute();\n      System.out.println(&quot; After excecute&quot;);\n      FileOutputStream fos = null;\n      try {\n          String FileName = sFileName + &quot;_&quot; + i;\n          File file = new File(sFilePath + FileName + &quot;.pdf&quot;);\n          if (!file.getParentFile().exists()) {\n              file.getParentFile().mkdirs();\n          }\n          if (!file.exists()) {\n              file.createNewFile();\n          }\n          fos = new FileOutputStream(file);\n          for (int k = 1; k &lt;= eng.getPageCount(); k++) {\n              fos.write(eng.getPageData(k));\n          }\n          fos.flush();\n          fos.close();\n      } catch (Exception e) {\n          e.printStackTrace();\n      } finally {\n          if (fos != null) {\n              try {\n                  fos.close();\n              } catch (IOException e) {\n                  e.printStackTrace();\n              }\n              fos = null;\n          }\n      }\n  }\n</code></pre>\n<p>After running my code I am unable to read the .rpt file and my pdf file becomes empty.\nPlease help me out.</p>\n"},{"tags":["java","selenium","qaf"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1632543756,"post_id":69323056,"comment_id":122527298,"body_markdown":"Sorry.. can you tell me what is VDI? Is that virtual machine?","body":"Sorry.. can you tell me what is VDI? Is that virtual machine?"},{"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"score":0,"creation_date":1632548952,"post_id":69323056,"comment_id":122527947,"body_markdown":"do you mean how to set custom profile when using chrome driver?","body":"do you mean how to set custom profile when using chrome driver?"},{"owner":{"account_id":18924476,"reputation":83,"user_id":13807906,"display_name":"Satish A"},"score":0,"creation_date":1632577178,"post_id":69323056,"comment_id":122533348,"body_markdown":"VDI means Virtual desktop infrastructure... Yes, looking for more examples on how to utilise","body":"VDI means Virtual desktop infrastructure... Yes, looking for more examples on how to utilise"}],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632550106,"creation_date":1632550106,"answer_id":69323591,"question_id":69323056,"body_markdown":"It looks that you are looking for a way to use custom profile with chrome driver. That can be achieved by setting `user-data-dir` through driver capabilities. \r\n\r\nFollowing example will set user data directory `mychromeprofile` from project root.\r\n```\r\ndriver.name=chromeDriver\r\nchrome.additional.capabilities = {&quot;goog:chromeOptions&quot;:{&quot;args&quot;:[&quot;user-data-dir=${user.dir}/mychromeprofile&quot;]}}\r\n```\r\nReferences:\r\n 1. [chromedriver capabilities][1]\r\n 2. [setting driver capabilities][2]\r\n\r\n\r\n  [1]: https://sites.google.com/a/chromium.org/chromedriver/capabilities\r\n  [2]: https://qmetry.github.io/qaf/latest/setting_driver_capabilities.html","title":"How can I execute functional tests as part of CICD pipeline","body":"<p>It looks that you are looking for a way to use custom profile with chrome driver. That can be achieved by setting <code>user-data-dir</code> through driver capabilities.</p>\n<p>Following example will set user data directory <code>mychromeprofile</code> from project root.</p>\n<pre><code>driver.name=chromeDriver\nchrome.additional.capabilities = {&quot;goog:chromeOptions&quot;:{&quot;args&quot;:[&quot;user-data-dir=${user.dir}/mychromeprofile&quot;]}}\n</code></pre>\n<p>References:</p>\n<ol>\n<li><a href=\"https://sites.google.com/a/chromium.org/chromedriver/capabilities\" rel=\"nofollow noreferrer\">chromedriver capabilities</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/setting_driver_capabilities.html\" rel=\"nofollow noreferrer\">setting driver capabilities</a></li>\n</ol>\n"}],"owner":{"account_id":18924476,"reputation":83,"user_id":13807906,"display_name":"Satish A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69323591,"answer_count":1,"score":1,"last_activity_date":1632550106,"creation_date":1632542894,"question_id":69323056,"body_markdown":"In my organisation I have created a test automation using qaf (qmetry automation framework). My target is to run this functional test cases automatically in CICD pipeline. We have a system where when code check-in was complete then the Jenkins tool will trigger the functional test cases automatically and it runs in available VDI. We have 20-30 VDI out of which it will pick one and run the tests.\r\nPicking the random VDI means will not have standard username and password to login into application and I cannot manually enter username password because we use auto authentications(application logs in based on windows profile). My plan is to create some service account and provide access to that service account.\r\nSince the service account do not match with VDI profile. Is there any way I can make use of chrome custom profile where chrome driver wouldn&#39;t take default window profile and take custom profile related to service accounts and start executing the tests?\r\n\r\nI am new to this automating this way. Request you to provide detailed answer if possible.","title":"How can I execute functional tests as part of CICD pipeline","body":"<p>In my organisation I have created a test automation using qaf (qmetry automation framework). My target is to run this functional test cases automatically in CICD pipeline. We have a system where when code check-in was complete then the Jenkins tool will trigger the functional test cases automatically and it runs in available VDI. We have 20-30 VDI out of which it will pick one and run the tests.\nPicking the random VDI means will not have standard username and password to login into application and I cannot manually enter username password because we use auto authentications(application logs in based on windows profile). My plan is to create some service account and provide access to that service account.\nSince the service account do not match with VDI profile. Is there any way I can make use of chrome custom profile where chrome driver wouldn't take default window profile and take custom profile related to service accounts and start executing the tests?</p>\n<p>I am new to this automating this way. Request you to provide detailed answer if possible.</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":19617455,"reputation":1,"user_id":14358592,"display_name":"Adnan"},"score":0,"creation_date":1632350832,"post_id":69291994,"comment_id":122471742,"body_markdown":"sorry, I changed my question, time complexity of put and get","body":"sorry, I changed my question, time complexity of put and get"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1632350951,"post_id":69291994,"comment_id":122471768,"body_markdown":"@RobbyCornelissen - it appears the intended structure is an ArrayList of buckets (which I assume will be indexed by hash value % size) each containing a LinkedList, for hash collisions.  So there&#39;s the potential for near-O(1) lookup, depending on the average collisions per bucket.","body":"@RobbyCornelissen - it appears the intended structure is an ArrayList of buckets (which I assume will be indexed by hash value % size) each containing a LinkedList, for hash collisions.  So there&#39;s the potential for near-O(1) lookup, depending on the average collisions per bucket."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1632357249,"post_id":69291994,"comment_id":122472655,"body_markdown":"Hash tables *are* implemented using dynamic arrays, i.e. they have arrays and they dynamically resize them when needed. https://en.wikipedia.org/wiki/Hash_table#Dynamic_resizing","body":"Hash tables <i>are</i> implemented using dynamic arrays, i.e. they have arrays and they dynamically resize them when needed. <a href=\"https://en.wikipedia.org/wiki/Hash_table#Dynamic_resizing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hash_table#Dynamic_resizing</a>"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1632358912,"post_id":69291994,"comment_id":122472935,"body_markdown":"@kaya - this could just be a matter of wording. A Java array cannot be resized; you have to allocate a new one and copy.  A Java ArrayList&lt;&gt; can be resized from the point of view of the user; under the covers, the implementation may have a plain array that needs  to be reallocated and copied.  But ArrayList&lt;&gt; **looks** like it is dynamic in a way that an array is not.","body":"@kaya - this could just be a matter of wording. A Java array cannot be resized; you have to allocate a new one and copy.  A Java ArrayList&lt;&gt; can be resized from the point of view of the user; under the covers, the implementation may have a plain array that needs  to be reallocated and copied.  But ArrayList&lt;&gt; <b>looks</b> like it is dynamic in a way that an array is not."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1632394880,"post_id":69291994,"comment_id":122482961,"body_markdown":"@user16632363 An ArrayList doesn&#39;t merely look like a dynamic array - it is, precisely, a dynamic array. The term &quot;dynamic array&quot; means a data structure with an array which is dynamically reallocated as required. Whether that behaviour is implemented in the ArrayList class or the HashMap class must be irrelevant.","body":"@user16632363 An ArrayList doesn&#39;t merely look like a dynamic array - it is, precisely, a dynamic array. The term &quot;dynamic array&quot; means a data structure with an array which is dynamically reallocated as required. Whether that behaviour is implemented in the ArrayList class or the HashMap class must be irrelevant."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632351720,"creation_date":1632351720,"answer_id":69292177,"question_id":69291994,"body_markdown":"The issue for puts is how often you&#39;re going to need to extend the ArrayList.  \r\n\r\nThis is probably little different in overhead to extending a plain array: you have to allocate a new one and rehash. \r\n\r\nNote you&#39;ll need to know the intended ArrayList size in order to compute the hash index (as hash code % array size), so you should allocate the ArrayList with that capacity initially and then populate with nulls - since the array elements don&#39;t exist until added to the list. \r\n\r\nSimilarly for when you rehash.\r\n\r\nYou can of course do it wrong: you could compute a size for use in computing the hash index, and then **not** extend the ArrayList accordingly. Then you&#39;d suffer from arbitrary need to extend the ArrayList whenever you had an index higher than one you&#39;d seen before, which may require reallocation internal to the ArrayList.\r\n\r\nIn short: there&#39;s no significant performance penalty for using an ArrayList if you do it in a reasonable way, but no particular benefit either.\r\n","title":"What is the time complexity of a HashMap implemented using dynamic array?","body":"<p>The issue for puts is how often you're going to need to extend the ArrayList.</p>\n<p>This is probably little different in overhead to extending a plain array: you have to allocate a new one and rehash.</p>\n<p>Note you'll need to know the intended ArrayList size in order to compute the hash index (as hash code % array size), so you should allocate the ArrayList with that capacity initially and then populate with nulls - since the array elements don't exist until added to the list.</p>\n<p>Similarly for when you rehash.</p>\n<p>You can of course do it wrong: you could compute a size for use in computing the hash index, and then <strong>not</strong> extend the ArrayList accordingly. Then you'd suffer from arbitrary need to extend the ArrayList whenever you had an index higher than one you'd seen before, which may require reallocation internal to the ArrayList.</p>\n<p>In short: there's no significant performance penalty for using an ArrayList if you do it in a reasonable way, but no particular benefit either.</p>\n"},{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632354118,"creation_date":1632354118,"answer_id":69292375,"question_id":69291994,"body_markdown":"HashMap [already uses a dynamic array](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/8a979adeddccf886d6cff144d40dc578ba3a9fe5/src/java.base/share/classes/java/util/HashMap.java#L385):\r\n\r\n    /**\r\n     * The table, initialized on first use, and resized as\r\n     * necessary. When allocated, length is always a power of two.\r\n     * (We also tolerate length zero in some operations to allow\r\n     * bootstrapping mechanics that are currently not needed.)\r\n     */\r\n    transient Node&lt;K,V&gt;[] table;\r\n\r\nUsing an ArrayList instead of a manually resized array does not increase the time complexity.","title":"What is the time complexity of a HashMap implemented using dynamic array?","body":"<p>HashMap <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/8a979adeddccf886d6cff144d40dc578ba3a9fe5/src/java.base/share/classes/java/util/HashMap.java#L385\" rel=\"nofollow noreferrer\">already uses a dynamic array</a>:</p>\n<pre><code>/**\n * The table, initialized on first use, and resized as\n * necessary. When allocated, length is always a power of two.\n * (We also tolerate length zero in some operations to allow\n * bootstrapping mechanics that are currently not needed.)\n */\ntransient Node&lt;K,V&gt;[] table;\n</code></pre>\n<p>Using an ArrayList instead of a manually resized array does not increase the time complexity.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632547705,"creation_date":1632356134,"answer_id":69292556,"question_id":69291994,"body_markdown":"&gt; What is the time complexity of a HashMap implemented using dynamic array?\r\n\r\nThe short answer is: It depends on how you actually implement the `put` and `get` methods, and the rehashing.  However, assuming that you have gotten it right, then the complexity would be the same as with classic arrays.\r\n\r\nNote that a typical hash table implementation *will not benefit* from using a dynamic array (aka a `List`).  \r\n\r\n - In between resizes, a hash table has an array whose size is fixed.  Entries are added and removed from buckets, but the number of buckets and their positions in the array do not change.  Since the code is not changing the array size, there is no benefit in using dynamic arrays in between the resizes.\r\n\r\n - When the hash table resizes, it needs to create a new array (typically about twice the size of the current one).  Then it recompute the entry -&gt; bucket mappings and redistributes the entries.  Note that a new array is required, since it is not feasible to redistribute the entries &quot;in place&quot;.  Secondly, the size of the new array will be known (and fixed) when it is allocated.  So again there is no benefit here from using a dynamic array.\r\n\r\nAdd to this that for all primitive operations on an array, the equivalent operations for a dynamic array (i.e. `ArrayList`&lt;sup&gt;1&lt;/sup&gt;) have a small performance overhead.  So there will be a small performance hit from using a dynamic array in a hash table implementation.\r\n\r\n-----------------\r\n\r\nFinally, you need to be careful when talking about complexity of hash table implementations.  The **average** complexity of `HashMap.put` (and similar) is `O(1)` **amortized**.  \r\n\r\n  - A single `put` operation may be `O(N)` if it triggers a resize.\r\n\r\n  - If the hash function is pathological, all operations can be `O(N)`.\r\n\r\n  - If you choose an inappropriate load factor, performance will suffer.\r\n\r\n  - If you implement an incorrect resizing policy then performance will suffer.\r\n\r\n(Amortized means averaged over all similar operations on the table.  For example, N insertions with different keys into an empty table is `O(N)` ... or `O(1)` amortized per insertion.)\r\n\r\nIn short: the complexity of hash tables is ... complex.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - a `Vector` will be slightly worse than an `ArrayList`, but  `LinkedList` would actually make the complexity for `get` and `put` `O(N)` instead of `O(1)`.  I&#39;ll leave you to figure out the details.&lt;/sup&gt;\r\n\r\n","title":"What is the time complexity of a HashMap implemented using dynamic array?","body":"<blockquote>\n<p>What is the time complexity of a HashMap implemented using dynamic array?</p>\n</blockquote>\n<p>The short answer is: It depends on how you actually implement the <code>put</code> and <code>get</code> methods, and the rehashing.  However, assuming that you have gotten it right, then the complexity would be the same as with classic arrays.</p>\n<p>Note that a typical hash table implementation <em>will not benefit</em> from using a dynamic array (aka a <code>List</code>).</p>\n<ul>\n<li><p>In between resizes, a hash table has an array whose size is fixed.  Entries are added and removed from buckets, but the number of buckets and their positions in the array do not change.  Since the code is not changing the array size, there is no benefit in using dynamic arrays in between the resizes.</p>\n</li>\n<li><p>When the hash table resizes, it needs to create a new array (typically about twice the size of the current one).  Then it recompute the entry -&gt; bucket mappings and redistributes the entries.  Note that a new array is required, since it is not feasible to redistribute the entries &quot;in place&quot;.  Secondly, the size of the new array will be known (and fixed) when it is allocated.  So again there is no benefit here from using a dynamic array.</p>\n</li>\n</ul>\n<p>Add to this that for all primitive operations on an array, the equivalent operations for a dynamic array (i.e. <code>ArrayList</code><sup>1</sup>) have a small performance overhead.  So there will be a small performance hit from using a dynamic array in a hash table implementation.</p>\n<hr />\n<p>Finally, you need to be careful when talking about complexity of hash table implementations.  The <strong>average</strong> complexity of <code>HashMap.put</code> (and similar) is <code>O(1)</code> <strong>amortized</strong>.</p>\n<ul>\n<li><p>A single <code>put</code> operation may be <code>O(N)</code> if it triggers a resize.</p>\n</li>\n<li><p>If the hash function is pathological, all operations can be <code>O(N)</code>.</p>\n</li>\n<li><p>If you choose an inappropriate load factor, performance will suffer.</p>\n</li>\n<li><p>If you implement an incorrect resizing policy then performance will suffer.</p>\n</li>\n</ul>\n<p>(Amortized means averaged over all similar operations on the table.  For example, N insertions with different keys into an empty table is <code>O(N)</code> ... or <code>O(1)</code> amortized per insertion.)</p>\n<p>In short: the complexity of hash tables is ... complex.</p>\n<hr />\n<p><sup>1 - a <code>Vector</code> will be slightly worse than an <code>ArrayList</code>, but  <code>LinkedList</code> would actually make the complexity for <code>get</code> and <code>put</code> <code>O(N)</code> instead of <code>O(1)</code>.  I'll leave you to figure out the details.</sup></p>\n"}],"owner":{"account_id":19617455,"reputation":1,"user_id":14358592,"display_name":"Adnan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1632547705,"creation_date":1632349878,"question_id":69291994,"body_markdown":"They say HashMap&#39;s put and get operations have a constant time complexity, is it still going to be O(1) if it is implemented with a dynamic array?\r\n\r\nex:\r\n\r\n     public class HashMap &lt;key, value&gt;{\r\n        private class Entry &lt;k, v&gt;{\r\n            private k key;\r\n            private v value;\r\n    \r\n            public Entry(k key, v value){\r\n                this.key = key;\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        private ArrayList &lt; LinkedList&lt;Entry&lt;key, value&gt;&gt; &gt; = new ArrayList&lt;&gt;();\r\n        \r\n        // the rest of the implementation\r\n        // ...\r\n    \r\n    }","title":"What is the time complexity of a HashMap implemented using dynamic array?","body":"<p>They say HashMap's put and get operations have a constant time complexity, is it still going to be O(1) if it is implemented with a dynamic array?</p>\n<p>ex:</p>\n<pre><code> public class HashMap &lt;key, value&gt;{\n    private class Entry &lt;k, v&gt;{\n        private k key;\n        private v value;\n\n        public Entry(k key, v value){\n            this.key = key;\n            this.value = value;\n        }\n    }\n\n    private ArrayList &lt; LinkedList&lt;Entry&lt;key, value&gt;&gt; &gt; = new ArrayList&lt;&gt;();\n    \n    // the rest of the implementation\n    // ...\n\n}\n</code></pre>\n"},{"tags":["java","android-studio","android-intent","android-recyclerview"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1632542483,"post_id":69322420,"comment_id":122527138,"body_markdown":"You never initialize `context` in `ContactAdapter`.  Add a parameter to constructor and assign it.  Pass `this` in when you instantiate it in `init`.","body":"You never initialize <code>context</code> in <code>ContactAdapter</code>.  Add a parameter to constructor and assign it.  Pass <code>this</code> in when you instantiate it in <code>init</code>."}],"answers":[{"tags":[],"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632547431,"creation_date":1632547431,"answer_id":69323390,"question_id":69322420,"body_markdown":"Replace your ContactAdapter class with the code below.\r\n\r\n    public class ContactAdapter extends RecyclerView.Adapter&lt;ContactAdapter.MyViewHolder&gt; {\r\n    \r\n            private List&lt;Contact&gt; contacts;\r\n            Context context;\r\n        \r\n        \r\n        \r\n            public ContactAdapter(Context context, List&lt;Contact&gt; contacts) {\r\n        \r\n                this.context = context;\r\n                this.contacts = contacts;\r\n        \r\n            }\r\n        \r\n        \r\n            @NonNull\r\n            @Override\r\n            public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(context).inflate(R.layout.model_contact_design, parent, false);\r\n                return  new ViewHolder(view);\r\n            }\r\n        \r\n            @Override\r\n            public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n                Contact contact = contacts.get(position);\r\n        \r\n                holder.nameTv.setText(contact.getName());\r\n                holder.photoIv.setImageResource(contact.getPhoto());\r\n                holder.phoneNo.setText(contact.getPhoneNo());\r\n        \r\n        \r\n                holder.callIv.setOnClickListener(new OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        String phoneNo = contact.getPhoneNo();\r\n                        String call = &quot;tel:&quot; + phoneNo.trim();\r\n                        Intent intent = new Intent(Intent.ACTION_DIAL);\r\n                        intent.setData(Uri.parse(call));\r\n                        context.startActivity(intent);\r\n                    }\r\n        \r\n        \r\n        \r\n                });\r\n        \r\n        \r\n            }\r\n            @Override\r\n            public int getItemCount() {\r\n        \r\n                return contacts.size();\r\n            }\r\n        \r\n            public class ViewHolder extends RecyclerView.ViewHolder {\r\n                private ImageView photoIv;\r\n                ImageButton callIv;\r\n                private TextView nameTv,phoneNo;\r\n                Context context;\r\n        \r\n        \r\n        \r\n                public ViewHolder(@NonNull View itemView) {\r\n        \r\n                    super(itemView);\r\n                    photoIv=itemView.findViewById(R.id.photoIV);\r\n                    callIv=itemView.findViewById(R.id.callIV);\r\n                    nameTv=itemView.findViewById(R.id.nameTV);\r\n                    phoneNo=itemView.findViewById(R.id.phoneNo);\r\n        \r\n        \r\n        \r\n                }\r\n        \r\n        \r\n            }\r\n        \r\n        }\r\n\r\nAnd replace your `private void init()` in MainJava class with the code below.\r\n\r\n    private void init() {\r\n                contacts= new ArrayList&lt;&gt;();\r\n                recyclerView=findViewById(R.id.contactsRecycleView);\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n                adapter=new ContactAdapter(this, contacts);\r\n                recyclerView.setAdapter(adapter);\r\n            }","title":"My app is crashing after I clicked the call button","body":"<p>Replace your ContactAdapter class with the code below.</p>\n<pre><code>public class ContactAdapter extends RecyclerView.Adapter&lt;ContactAdapter.MyViewHolder&gt; {\n\n        private List&lt;Contact&gt; contacts;\n        Context context;\n    \n    \n    \n        public ContactAdapter(Context context, List&lt;Contact&gt; contacts) {\n    \n            this.context = context;\n            this.contacts = contacts;\n    \n        }\n    \n    \n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(context).inflate(R.layout.model_contact_design, parent, false);\n            return  new ViewHolder(view);\n        }\n    \n        @Override\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            Contact contact = contacts.get(position);\n    \n            holder.nameTv.setText(contact.getName());\n            holder.photoIv.setImageResource(contact.getPhoto());\n            holder.phoneNo.setText(contact.getPhoneNo());\n    \n    \n            holder.callIv.setOnClickListener(new OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    String phoneNo = contact.getPhoneNo();\n                    String call = &quot;tel:&quot; + phoneNo.trim();\n                    Intent intent = new Intent(Intent.ACTION_DIAL);\n                    intent.setData(Uri.parse(call));\n                    context.startActivity(intent);\n                }\n    \n    \n    \n            });\n    \n    \n        }\n        @Override\n        public int getItemCount() {\n    \n            return contacts.size();\n        }\n    \n        public class ViewHolder extends RecyclerView.ViewHolder {\n            private ImageView photoIv;\n            ImageButton callIv;\n            private TextView nameTv,phoneNo;\n            Context context;\n    \n    \n    \n            public ViewHolder(@NonNull View itemView) {\n    \n                super(itemView);\n                photoIv=itemView.findViewById(R.id.photoIV);\n                callIv=itemView.findViewById(R.id.callIV);\n                nameTv=itemView.findViewById(R.id.nameTV);\n                phoneNo=itemView.findViewById(R.id.phoneNo);\n    \n    \n    \n            }\n    \n    \n        }\n    \n    }\n</code></pre>\n<p>And replace your <code>private void init()</code> in MainJava class with the code below.</p>\n<pre><code>private void init() {\n            contacts= new ArrayList&lt;&gt;();\n            recyclerView=findViewById(R.id.contactsRecycleView);\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\n            adapter=new ContactAdapter(this, contacts);\n            recyclerView.setAdapter(adapter);\n        }\n</code></pre>\n"}],"owner":{"account_id":22852801,"reputation":1,"user_id":16998131,"display_name":"klen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1632847692,"answer_count":1,"score":-4,"last_activity_date":1632547431,"creation_date":1632532431,"question_id":69322420,"body_markdown":"    I am 15 and  a starter in Android Studio, my app works fine but crashes every time i click the call button\r\n    \r\n   \r\n    This is my xml\r\n   \r\n  \r\n      \r\n    \r\n        &lt;LinearLayout\r\n            android:layout_weight=&quot;8&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/recyclerview_bg&quot;\r\n            android:layout_height=&quot;0dp&quot;&gt;\r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/contactsRecycleView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_marginStart=&quot;3dp&quot;\r\n                android:layout_marginTop=&quot;3dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n    \r\n   tHIS IS MY MAIN.JAVA, I CANT REALLY MAKE IT IVE BEEN DOING THIS FOR A WEEK\r\n    \r\n    \r\n        private List&lt;Contact&gt; contacts;\r\n        private RecyclerView recyclerView;\r\n        private ContactAdapter adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_hotlines);\r\n    \r\n            init();\r\n    \r\n            setData();\r\n        }\r\n    \r\n        public void setData() {\r\n            contacts.add(new Contact(&quot;PNP&quot;, &quot;092770&quot;,R.drawable.ic_baseline_account_circle_24));\r\n            contacts.add(new Contact(&quot;Rescue Team &quot;, &quot;091567&quot;,R.drawable.ic_baseline_account_circle_24));\r\n            contacts.add(new Contact(&quot;HAT&quot;, &quot;097709&quot;,R.drawable.ic_baseline_account_circle_24));\r\n            adapter.notifyDataSetChanged();\r\n        }\r\n    \r\n        private void init() {\r\n            contacts= new ArrayList&lt;&gt;();\r\n            recyclerView=findViewById(R.id.contactsRecycleView);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            adapter=new ContactAdapter(contacts);\r\n            recyclerView.setAdapter(adapter);\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n   this is my Recycler Adapter. I want to pass a data on my dialer cause i cant seem to do an ACTION_CALL, I came up with using an interface method but lost throughout the tutorial. so I just stick with passing the data on the dialer. I&#39;ve researched but I cant really get it. I added THE call button on holder. Can someone explain it to me clearly. Ill really appreciate it.\r\n    \r\n    \r\n    \r\n        private List&lt;Contact&gt; contacts;\r\n        Context context;\r\n    \r\n    \r\n    \r\n        public ContactAdapter(List&lt;Contact&gt; contacts) {\r\n    \r\n            this.contacts = contacts;\r\n    \r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.model_contact_design, parent, false);\r\n            return  new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            Contact contact = contacts.get(position);\r\n    \r\n            holder.nameTv.setText(contact.getName());\r\n            holder.photoIv.setImageResource(contact.getPhoto());\r\n            holder.phoneNo.setText(contact.getPhoneNo());\r\n    \r\n\r\n            holder.callIv.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String phoneNo = contact.getPhoneNo();\r\n                    String call = &quot;tel:&quot; + phoneNo.trim();\r\n                    Intent intent = new Intent(Intent.ACTION_DIAL);\r\n                    intent.setData(Uri.parse(call));\r\n                    context.startActivity(intent);\r\n                }\r\n    \r\n    \r\n    \r\n            });\r\n    \r\n    \r\n        }\r\n        @Override\r\n        public int getItemCount() {\r\n    \r\n            return contacts.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            private ImageView photoIv;\r\n            ImageButton callIv;\r\n            private TextView nameTv,phoneNo;\r\n            Context context;\r\n    \r\n    \r\n    \r\n            public ViewHolder(@NonNull View itemView) {\r\n    \r\n                super(itemView);\r\n                photoIv=itemView.findViewById(R.id.photoIV);\r\n                callIv=itemView.findViewById(R.id.callIV);\r\n                nameTv=itemView.findViewById(R.id.nameTV);\r\n                phoneNo=itemView.findViewById(R.id.phoneNo);\r\n    \r\n    \r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n    \r\ntHIS IS MY LOGCATT:\r\n   \r\n       \r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.content.Context.startActivity(android.content.Intent)&#39; on a null object reference\r\n            at com.example.last.ContactAdapter$1.onClick(ContactAdapter.java:55)\r\n            at android.view.View.performClick(View.java:7125)\r\n            at android.view.View.performClickInternal(View.java:7102)\r\n            at android.view.View.access$3500(View.java:801)\r\n            at android.view.View$PerformClick.run(View.java:27336)\r\n            at android.os.Handler.handleCallback(Handler.java:883)\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\n","title":"My app is crashing after I clicked the call button","body":"<pre><code>I am 15 and  a starter in Android Studio, my app works fine but crashes every time i click the call button\n\n\nThis is my xml\n\n\n  \n\n    &lt;LinearLayout\n        android:layout_weight=&quot;8&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:padding=&quot;10dp&quot;\n        android:background=&quot;@drawable/recyclerview_bg&quot;\n        android:layout_height=&quot;0dp&quot;&gt;\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/contactsRecycleView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_marginStart=&quot;3dp&quot;\n            android:layout_marginTop=&quot;3dp&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>tHIS IS MY MAIN.JAVA, I CANT REALLY MAKE IT IVE BEEN DOING THIS FOR A WEEK</p>\n<pre><code>    private List&lt;Contact&gt; contacts;\n    private RecyclerView recyclerView;\n    private ContactAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_hotlines);\n\n        init();\n\n        setData();\n    }\n\n    public void setData() {\n        contacts.add(new Contact(&quot;PNP&quot;, &quot;092770&quot;,R.drawable.ic_baseline_account_circle_24));\n        contacts.add(new Contact(&quot;Rescue Team &quot;, &quot;091567&quot;,R.drawable.ic_baseline_account_circle_24));\n        contacts.add(new Contact(&quot;HAT&quot;, &quot;097709&quot;,R.drawable.ic_baseline_account_circle_24));\n        adapter.notifyDataSetChanged();\n    }\n\n    private void init() {\n        contacts= new ArrayList&lt;&gt;();\n        recyclerView=findViewById(R.id.contactsRecycleView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        adapter=new ContactAdapter(contacts);\n        recyclerView.setAdapter(adapter);\n    }\n\n\n\n}\n</code></pre>\n<p>this is my Recycler Adapter. I want to pass a data on my dialer cause i cant seem to do an ACTION_CALL, I came up with using an interface method but lost throughout the tutorial. so I just stick with passing the data on the dialer. I've researched but I cant really get it. I added THE call button on holder. Can someone explain it to me clearly. Ill really appreciate it.</p>\n<pre><code>    private List&lt;Contact&gt; contacts;\n    Context context;\n\n\n\n    public ContactAdapter(List&lt;Contact&gt; contacts) {\n\n        this.contacts = contacts;\n\n    }\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.model_contact_design, parent, false);\n        return  new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        Contact contact = contacts.get(position);\n\n        holder.nameTv.setText(contact.getName());\n        holder.photoIv.setImageResource(contact.getPhoto());\n        holder.phoneNo.setText(contact.getPhoneNo());\n\n\n        holder.callIv.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String phoneNo = contact.getPhoneNo();\n                String call = &quot;tel:&quot; + phoneNo.trim();\n                Intent intent = new Intent(Intent.ACTION_DIAL);\n                intent.setData(Uri.parse(call));\n                context.startActivity(intent);\n            }\n\n\n\n        });\n\n\n    }\n    @Override\n    public int getItemCount() {\n\n        return contacts.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        private ImageView photoIv;\n        ImageButton callIv;\n        private TextView nameTv,phoneNo;\n        Context context;\n\n\n\n        public ViewHolder(@NonNull View itemView) {\n\n            super(itemView);\n            photoIv=itemView.findViewById(R.id.photoIV);\n            callIv=itemView.findViewById(R.id.callIV);\n            nameTv=itemView.findViewById(R.id.nameTV);\n            phoneNo=itemView.findViewById(R.id.phoneNo);\n\n\n\n        }\n\n\n    }\n\n}\n</code></pre>\n<p>tHIS IS MY LOGCATT:</p>\n<pre><code>    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.content.Context.startActivity(android.content.Intent)' on a null object reference\n        at com.example.last.ContactAdapter$1.onClick(ContactAdapter.java:55)\n        at android.view.View.performClick(View.java:7125)\n        at android.view.View.performClickInternal(View.java:7102)\n        at android.view.View.access$3500(View.java:801)\n        at android.view.View$PerformClick.run(View.java:27336)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n"},{"tags":["java","android","opengl-es","opengl-es-3.0"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632547391,"creation_date":1632547391,"answer_id":69323389,"question_id":69321952,"body_markdown":"[`glUniform`*](https://www.khronos.org/registry/OpenGL-Refpages/es3.0/html/glUniform.xhtml) sets a uniform variable in the default uniform block of the currently installed shader program. If there is if there is no current program object, a _GL_INVALID_OPERATION_ error is generated.  \r\n\r\nTherefore you must install the shader program before you can set the uniforms:\r\n\r\n```java\r\n// install program\r\nGLES30.glUseProgram(programID);\r\n\r\n// set uniforms\r\nGLES30.glUniformMatrix4fv(location, 1, false, matrix.mat, 0);\r\n// [...]\r\n```\r\n ","title":"Why does GLES30.glUniformMatrix4fv makes GL_INVALID_OPERATION?","body":"<p><a href=\"https://www.khronos.org/registry/OpenGL-Refpages/es3.0/html/glUniform.xhtml\" rel=\"nofollow noreferrer\"><code>glUniform</code>*</a> sets a uniform variable in the default uniform block of the currently installed shader program. If there is if there is no current program object, a <em>GL_INVALID_OPERATION</em> error is generated.</p>\n<p>Therefore you must install the shader program before you can set the uniforms:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// install program\nGLES30.glUseProgram(programID);\n\n// set uniforms\nGLES30.glUniformMatrix4fv(location, 1, false, matrix.mat, 0);\n// [...]\n</code></pre>\n"}],"owner":{"display_name":"user14587078"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69323389,"answer_count":1,"score":1,"last_activity_date":1632547391,"creation_date":1632526026,"question_id":69321952,"body_markdown":"I&#39;m having a hard time seeing why GLES30.glUniform4fv returns me a GL_INVALID_OPERATION\r\nI&#39;ve looked up other possible issues, but I don&#39;t see them in my code.\r\n\r\nhere&#39;s my code:\r\n\r\n```abstract ShaderProgram```, where I call glUniform4fv:\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.opengl.GLES30;\r\nimport android.opengl.Matrix;\r\nimport android.util.Log;\r\n\r\nimport com.example.myapplication.vectors.Matrix4f;\r\nimport com.example.myapplication.vectors.Vector3f;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.FloatBuffer;\r\n\r\npublic abstract class ShaderProgram {\r\n\r\n    public int programID;\r\n    public int vertexShader;\r\n    public int fragmentShader;\r\n\r\n    private static FloatBuffer matrixBuffer = ByteBuffer.allocateDirect(16*4).order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n\r\n    ShaderProgram(String vertCode, String fragCode){\r\n        vertexShader = loadShader(GLES30.GL_VERTEX_SHADER, vertCode);\r\n        fragmentShader = loadShader(GLES30.GL_FRAGMENT_SHADER,fragCode);\r\n        programID = GLES30.glCreateProgram();\r\n        GLES30.glAttachShader(programID,vertexShader);\r\n        GLES30.glAttachShader(programID,fragmentShader);\r\n\r\n        bindAttributes();\r\n\r\n        GLES30.glLinkProgram(programID);\r\n        GLES30.glValidateProgram(programID);\r\n\r\n        start();\r\n        getAllUniforms();\r\n        stop();\r\n    }\r\n\r\n    abstract void bindAttributes();\r\n\r\n    void bindAttribute(int vbo, String attribute){\r\n        GLES30.glBindAttribLocation(programID,vbo,attribute);\r\n    }\r\n\r\n    private int loadShader(int type, String code){\r\n        int shader = GLES30.glCreateShader(type);\r\n\r\n        GLES30.glShaderSource(shader,code);\r\n        GLES30.glCompileShader(shader);\r\n        final int[] compileStatus = new int[1];\r\n        GLES30.glGetShaderiv(shader, GLES30.GL_COMPILE_STATUS, compileStatus, 0);\r\n        if(compileStatus[0] == 0){\r\n            System.err.println(&quot;Could not compile shader type &quot; + type);\r\n            //frag = 35632\r\n            //vert = 35633\r\n            System.err.println(&quot;[HERE -&gt;]&quot; + GLES30.glGetShaderInfoLog(shader));\r\n            Log.e(&quot;Shader Source&quot;, GLES30.glGetShaderSource(shader));\r\n            GLES30.glDeleteShader(shader);\r\n            shader = 0;\r\n            System.exit(-1);\r\n        }\r\n        return shader;\r\n    }\r\n\r\n    abstract void getAllUniforms();\r\n\r\n    public int getUniformLocation(String uniform){\r\n        return GLES30.glGetUniformLocation(programID,uniform);\r\n    }\r\n\r\n    public void loadUniformFloat(int location, float value){\r\n        GLES30.glUniform1f(location,value);\r\n    }\r\n\r\n    public void loadUniformVector(int location, Vector3f vector){\r\n        GLES30.glUniform3f(location,vector.x,vector.y,vector.z);\r\n    }\r\n\r\n    public void loadUniformBoolean(int location, boolean bool){\r\n        if(bool){\r\n            GLES30.glUniform1i(location,1);\r\n        }else{\r\n            GLES30.glUniform1i(location,0);\r\n        }\r\n    }\r\n\r\n    public void loadUniformMatix(int location, Matrix4f matrix){\r\n        GLES30.glUniformMatrix4fv(location,1,false,matrix.mat,0); //[&lt;-HERE]\r\n        if(GLES30.glGetError() == GLES30.GL_INVALID_OPERATION) {\r\n            Log.e(&quot;GLES Error2&quot;, &quot;INVALID OPERATION&quot;);\r\n        }\r\n    }\r\n\r\n    public void start(){\r\n        GLES30.glUseProgram(programID);\r\n    }\r\n\r\n    public void stop(){\r\n        GLES30.glUseProgram(0);\r\n    }\r\n}\r\n```\r\nimplementation of ShaderProgram, StaticShader:\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.opengl.GLES30;\r\nimport android.util.Log;\r\n\r\nimport com.example.myapplication.vectors.Matrix4f;\r\n\r\npublic class StaticShader extends ShaderProgram{\r\n\r\n    public int positionIn;\r\n    public int UV;\r\n\r\n    public int TRANSFORMATION_MATRIX;\r\n\r\n    StaticShader(String VERTCODE, String FRAGCODE){\r\n        super(VERTCODE, FRAGCODE);\r\n    }\r\n\r\n    @Override\r\n    public void bindAttributes(){\r\n        super.bindAttribute(0,&quot;position&quot;);\r\n        super.bindAttribute(1,&quot;i_UV&quot;);\r\n    }\r\n\r\n    public void getAllUniforms(){\r\n        TRANSFORMATION_MATRIX = super.getUniformLocation(&quot;transformationMatrix&quot;);\r\n        if(TRANSFORMATION_MATRIX == -1){\r\n            Log.e(&quot;Shader&quot;, &quot;transformationMatrix was not found&quot;);\r\n        }\r\n    }\r\n\r\n    public void loadTRansformationMatrix(Matrix4f matrix){\r\n        super.loadUniformMatix(TRANSFORMATION_MATRIX,matrix);\r\n    }\r\n}\r\n```\r\nThe instanciation of StaticShader:\r\n```\r\n//loader.loadAssetText(); just extracts the shader code from a file\r\nshader = new StaticShader(loader.loadAssetText(&quot;Shaders/Static.vertex&quot;),loader.loadAssetText(&quot;Shaders/Static.fragment&quot;));\r\n//maths.createTransformationMatrix(Vector3f translation, Vector3f rotation, Vector3f scale); creates a transformation matrix that, in this case, only results in an identity matrix\r\nshader.loadTRansformationMatrix(maths.createTransformationMatrix(new Vector3f(0.0f,0.0f,0.0f),new Vector3f(0.0f,0.0f,0.0f),new Vector3f(1.0f,1.0f,1.0f)));\r\n```\r\nand here&#39;s my shaders:\r\n```\r\n//Static.vertex\r\n#version 300 es\r\n\r\nin highp vec4 position;\r\nin highp vec2 i_UV;\r\n\r\nout highp vec2 UV;\r\nout highp vec4 color;\r\n\r\nuniform mat4 transformationMatrix;\r\n\r\nvoid main(){\r\n    UV = i_UV;\r\n    color = position;\r\n\r\n    vec4 finalPos = transformationMatrix * position;\r\n    gl_Position = position;\r\n}\r\n```\r\n```\r\n//Static.fragment\r\n#version 300 es\r\n\r\nout highp vec4 Fragment;\r\nin highp vec4 color;\r\nin highp vec2 UV;\r\n\r\nuniform sampler2D textureSampler;\r\n\r\nvoid main(){\r\n    Fragment = texture(textureSampler,UV);\r\n}\r\n```","title":"Why does GLES30.glUniformMatrix4fv makes GL_INVALID_OPERATION?","body":"<p>I'm having a hard time seeing why GLES30.glUniform4fv returns me a GL_INVALID_OPERATION\nI've looked up other possible issues, but I don't see them in my code.</p>\n<p>here's my code:</p>\n<p><code>abstract ShaderProgram</code>, where I call glUniform4fv:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.opengl.GLES30;\nimport android.opengl.Matrix;\nimport android.util.Log;\n\nimport com.example.myapplication.vectors.Matrix4f;\nimport com.example.myapplication.vectors.Vector3f;\n\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\n\npublic abstract class ShaderProgram {\n\n    public int programID;\n    public int vertexShader;\n    public int fragmentShader;\n\n    private static FloatBuffer matrixBuffer = ByteBuffer.allocateDirect(16*4).order(ByteOrder.nativeOrder()).asFloatBuffer();\n\n    ShaderProgram(String vertCode, String fragCode){\n        vertexShader = loadShader(GLES30.GL_VERTEX_SHADER, vertCode);\n        fragmentShader = loadShader(GLES30.GL_FRAGMENT_SHADER,fragCode);\n        programID = GLES30.glCreateProgram();\n        GLES30.glAttachShader(programID,vertexShader);\n        GLES30.glAttachShader(programID,fragmentShader);\n\n        bindAttributes();\n\n        GLES30.glLinkProgram(programID);\n        GLES30.glValidateProgram(programID);\n\n        start();\n        getAllUniforms();\n        stop();\n    }\n\n    abstract void bindAttributes();\n\n    void bindAttribute(int vbo, String attribute){\n        GLES30.glBindAttribLocation(programID,vbo,attribute);\n    }\n\n    private int loadShader(int type, String code){\n        int shader = GLES30.glCreateShader(type);\n\n        GLES30.glShaderSource(shader,code);\n        GLES30.glCompileShader(shader);\n        final int[] compileStatus = new int[1];\n        GLES30.glGetShaderiv(shader, GLES30.GL_COMPILE_STATUS, compileStatus, 0);\n        if(compileStatus[0] == 0){\n            System.err.println(&quot;Could not compile shader type &quot; + type);\n            //frag = 35632\n            //vert = 35633\n            System.err.println(&quot;[HERE -&gt;]&quot; + GLES30.glGetShaderInfoLog(shader));\n            Log.e(&quot;Shader Source&quot;, GLES30.glGetShaderSource(shader));\n            GLES30.glDeleteShader(shader);\n            shader = 0;\n            System.exit(-1);\n        }\n        return shader;\n    }\n\n    abstract void getAllUniforms();\n\n    public int getUniformLocation(String uniform){\n        return GLES30.glGetUniformLocation(programID,uniform);\n    }\n\n    public void loadUniformFloat(int location, float value){\n        GLES30.glUniform1f(location,value);\n    }\n\n    public void loadUniformVector(int location, Vector3f vector){\n        GLES30.glUniform3f(location,vector.x,vector.y,vector.z);\n    }\n\n    public void loadUniformBoolean(int location, boolean bool){\n        if(bool){\n            GLES30.glUniform1i(location,1);\n        }else{\n            GLES30.glUniform1i(location,0);\n        }\n    }\n\n    public void loadUniformMatix(int location, Matrix4f matrix){\n        GLES30.glUniformMatrix4fv(location,1,false,matrix.mat,0); //[&lt;-HERE]\n        if(GLES30.glGetError() == GLES30.GL_INVALID_OPERATION) {\n            Log.e(&quot;GLES Error2&quot;, &quot;INVALID OPERATION&quot;);\n        }\n    }\n\n    public void start(){\n        GLES30.glUseProgram(programID);\n    }\n\n    public void stop(){\n        GLES30.glUseProgram(0);\n    }\n}\n</code></pre>\n<p>implementation of ShaderProgram, StaticShader:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.opengl.GLES30;\nimport android.util.Log;\n\nimport com.example.myapplication.vectors.Matrix4f;\n\npublic class StaticShader extends ShaderProgram{\n\n    public int positionIn;\n    public int UV;\n\n    public int TRANSFORMATION_MATRIX;\n\n    StaticShader(String VERTCODE, String FRAGCODE){\n        super(VERTCODE, FRAGCODE);\n    }\n\n    @Override\n    public void bindAttributes(){\n        super.bindAttribute(0,&quot;position&quot;);\n        super.bindAttribute(1,&quot;i_UV&quot;);\n    }\n\n    public void getAllUniforms(){\n        TRANSFORMATION_MATRIX = super.getUniformLocation(&quot;transformationMatrix&quot;);\n        if(TRANSFORMATION_MATRIX == -1){\n            Log.e(&quot;Shader&quot;, &quot;transformationMatrix was not found&quot;);\n        }\n    }\n\n    public void loadTRansformationMatrix(Matrix4f matrix){\n        super.loadUniformMatix(TRANSFORMATION_MATRIX,matrix);\n    }\n}\n</code></pre>\n<p>The instanciation of StaticShader:</p>\n<pre><code>//loader.loadAssetText(); just extracts the shader code from a file\nshader = new StaticShader(loader.loadAssetText(&quot;Shaders/Static.vertex&quot;),loader.loadAssetText(&quot;Shaders/Static.fragment&quot;));\n//maths.createTransformationMatrix(Vector3f translation, Vector3f rotation, Vector3f scale); creates a transformation matrix that, in this case, only results in an identity matrix\nshader.loadTRansformationMatrix(maths.createTransformationMatrix(new Vector3f(0.0f,0.0f,0.0f),new Vector3f(0.0f,0.0f,0.0f),new Vector3f(1.0f,1.0f,1.0f)));\n</code></pre>\n<p>and here's my shaders:</p>\n<pre><code>//Static.vertex\n#version 300 es\n\nin highp vec4 position;\nin highp vec2 i_UV;\n\nout highp vec2 UV;\nout highp vec4 color;\n\nuniform mat4 transformationMatrix;\n\nvoid main(){\n    UV = i_UV;\n    color = position;\n\n    vec4 finalPos = transformationMatrix * position;\n    gl_Position = position;\n}\n</code></pre>\n<pre><code>//Static.fragment\n#version 300 es\n\nout highp vec4 Fragment;\nin highp vec4 color;\nin highp vec2 UV;\n\nuniform sampler2D textureSampler;\n\nvoid main(){\n    Fragment = texture(textureSampler,UV);\n}\n</code></pre>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1632265979,"post_id":69275975,"comment_id":122444598,"body_markdown":"If Java 9 is the max version you are allowed to use for your project and you are having difficulty finding a development environment which supports it, switch to Java/JavaFX 8 (if that is allowed) instead.  Version 8 is more likely to be well supported by IDEs than the Java 9 version.  The issue you are getting is related to Java/JavaFX platform modularization, which wasn&#39;t implemented in Java 8, so switching to Java 8 might just resolve your issue.  Of course, if it must be Java 9 and only Java 9, this comment will not help you.","body":"If Java 9 is the max version you are allowed to use for your project and you are having difficulty finding a development environment which supports it, switch to Java/JavaFX 8 (if that is allowed) instead.  Version 8 is more likely to be well supported by IDEs than the Java 9 version.  The issue you are getting is related to Java/JavaFX platform modularization, which wasn&#39;t implemented in Java 8, so switching to Java 8 might just resolve your issue.  Of course, if it must be Java 9 and only Java 9, this comment will not help you."},{"owner":{"account_id":19514349,"reputation":69,"user_id":14277600,"display_name":"PioneerRaptor"},"score":0,"creation_date":1632271887,"post_id":69275975,"comment_id":122445529,"body_markdown":"Thanks, I appreciate the feedback, and yeah, it would be a lot easier if we could roll back to 8. Unfortunately, it&#39;s a no.","body":"Thanks, I appreciate the feedback, and yeah, it would be a lot easier if we could roll back to 8. Unfortunately, it&#39;s a no."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1632277174,"post_id":69275975,"comment_id":122446208,"body_markdown":"I suggest that you contact whoever is setting the requirements for your project and request that the requirements are updated to use modern software.","body":"I suggest that you contact whoever is setting the requirements for your project and request that the requirements are updated to use modern software."},{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1632459403,"post_id":69275975,"comment_id":122502724,"body_markdown":"I would prefer switching to jdk 8 or 11 and above. If it&#39;s not possible, then\n\nAdd this to VM Options.\n--module-path /path/to/JavaFX/lib --add-modules=javafx.controls","body":"I would prefer switching to jdk 8 or 11 and above. If it&#39;s not possible, then  Add this to VM Options. --module-path /path/to/JavaFX/lib --add-modules=javafx.controls"}],"answers":[{"tags":[],"owner":{"account_id":19514349,"reputation":69,"user_id":14277600,"display_name":"PioneerRaptor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632547255,"creation_date":1632547255,"answer_id":69323378,"question_id":69275975,"body_markdown":"Thanks to everyone who attempted to help, I was able to get it to work and so I&#39;ll post the solution for anyone else who might run into this rare situation.\r\n\r\n    1. Install JDK 9.0.4 from Oracle.\r\n    2. Install Eclipse\r\n    3. Run Eclipse\r\n    4. Install e(fx)clipse 3.7.0\r\n       - Click Help &gt; Eclipse Marketplace\r\n       - Search &quot;JavaFX&quot;\r\n       - Click &quot;Install&quot; on e(fx)clipse 3.7.0\r\n    5. Install JDK 9.0.4 in Eclipse\r\n       - Window &gt; Preferences\r\n       - Search &quot;Installed&quot;\r\n       - Select &quot;Installed JREs&quot;\r\n       - Click &quot;Add&quot;\r\n       - Select &quot;Standard VM&quot;\r\n       - Click &quot;Directory&quot; \r\n       - Find the JDK Folder, &quot;jdk-9.0.4&quot; and Select It \r\n       - Click &quot;Select Folder&quot; Click &quot;Finish&quot;\r\n    6. Create a new JavaFX Project\r\n       - File &gt; New &gt; Project\r\n       - JavaFX &gt; JavaFX Project\r\n       - Ensure JavaSE-9 is selected next to &quot;Use an executed environment JRE:&quot;\r\n       - Click &quot;Finish&quot;\r\n    7. Configure Build Path\r\n       - Right-click on Project\r\n       - Build Path &gt; Configure Build Path\r\n       - Ensure Libraries is selected along the top row\r\n       - Click JavaFX SDK under Modulepath\r\n       - Click &quot;Remove&quot;\r\n       - Click &quot;Classpath&quot;\r\n       - Click &quot;Add Libary...&quot;\r\n       - Select &quot;JavaFX SDK&quot;\r\n       - Click &quot;Next&quot;\r\n       - Click &quot;Finish&quot;\r\n       - Select &quot;JRE System Library [JavaSE-9]&quot;\r\n       - Click &quot;Remove&quot;\r\n       - Click &quot;Classpath&quot;\r\n       - Click &quot;Add Library...&quot;\r\n       - Select &quot;JRE System Library&quot;\r\n       - Select either &quot;Execution Environment: &quot;JavaSE-9 (jre-9.0.4)&quot; OR &quot;Workspace default JRE (jre-9.0.4)\r\n       - Click Finish\r\n    8. Remove &quot;Module-info.java&quot;\r\n       - Expand your Project Folders in the &quot;Package Explorer&quot;\r\n       - Right-click on &quot;Module-info.java&quot;\r\n       - Click &quot;Delete&quot;","title":"Eclipse/Java 9: How to get e(fx)clipse 3.7.0 to work?","body":"<p>Thanks to everyone who attempted to help, I was able to get it to work and so I'll post the solution for anyone else who might run into this rare situation.</p>\n<pre><code>1. Install JDK 9.0.4 from Oracle.\n2. Install Eclipse\n3. Run Eclipse\n4. Install e(fx)clipse 3.7.0\n   - Click Help &gt; Eclipse Marketplace\n   - Search &quot;JavaFX&quot;\n   - Click &quot;Install&quot; on e(fx)clipse 3.7.0\n5. Install JDK 9.0.4 in Eclipse\n   - Window &gt; Preferences\n   - Search &quot;Installed&quot;\n   - Select &quot;Installed JREs&quot;\n   - Click &quot;Add&quot;\n   - Select &quot;Standard VM&quot;\n   - Click &quot;Directory&quot; \n   - Find the JDK Folder, &quot;jdk-9.0.4&quot; and Select It \n   - Click &quot;Select Folder&quot; Click &quot;Finish&quot;\n6. Create a new JavaFX Project\n   - File &gt; New &gt; Project\n   - JavaFX &gt; JavaFX Project\n   - Ensure JavaSE-9 is selected next to &quot;Use an executed environment JRE:&quot;\n   - Click &quot;Finish&quot;\n7. Configure Build Path\n   - Right-click on Project\n   - Build Path &gt; Configure Build Path\n   - Ensure Libraries is selected along the top row\n   - Click JavaFX SDK under Modulepath\n   - Click &quot;Remove&quot;\n   - Click &quot;Classpath&quot;\n   - Click &quot;Add Libary...&quot;\n   - Select &quot;JavaFX SDK&quot;\n   - Click &quot;Next&quot;\n   - Click &quot;Finish&quot;\n   - Select &quot;JRE System Library [JavaSE-9]&quot;\n   - Click &quot;Remove&quot;\n   - Click &quot;Classpath&quot;\n   - Click &quot;Add Library...&quot;\n   - Select &quot;JRE System Library&quot;\n   - Select either &quot;Execution Environment: &quot;JavaSE-9 (jre-9.0.4)&quot; OR &quot;Workspace default JRE (jre-9.0.4)\n   - Click Finish\n8. Remove &quot;Module-info.java&quot;\n   - Expand your Project Folders in the &quot;Package Explorer&quot;\n   - Right-click on &quot;Module-info.java&quot;\n   - Click &quot;Delete&quot;\n</code></pre>\n"}],"owner":{"account_id":19514349,"reputation":69,"user_id":14277600,"display_name":"PioneerRaptor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69323378,"answer_count":1,"score":1,"last_activity_date":1632547255,"creation_date":1632261480,"question_id":69275975,"body_markdown":"Preface: I already have the latest version of Eclipse installed and have been using it without issue. I&#39;m running into issues now, as we are supposed to implement JavaFX into future projects.\r\n\r\nHere are the instructions I was given to follow:\r\n&gt; \r\n&gt; Installing JavaFX If you have the latest version of Eclipse installed\r\n&gt; on your machine:\r\n&gt; 1. In Eclipse, go to Help, Eclipse MarketPlace\r\n&gt; 2. Search for “javafx” in the “Find” bar\r\n&gt; 3. Click on “install” next to the “e(fx)clipse 3.7.0\r\n&gt; 4. If a message pops up indicating an error, it is because you have other packages which will be overridden – this is OK, confirm these\r\n&gt; updates.\r\n&gt; 5. Restart Eclipse when prompted\r\n&gt; \r\n&gt; Creating a JavaFX Project In Eclipse, New &gt; Project &gt; JavaFX &gt; JavaFX\r\n&gt; Project\r\n\r\nNow, I have followed all of the above steps and I am unable to do anything as the default Main.java fails to compile and run due to the following error:\r\n\r\n&gt; Error occurred during initialization of boot layer\r\n&gt; java.lang.module.FindException: Module javafx.controls not found\r\n\r\nNow, there are a lot of red underlines in the code, and I&#39;m pretty confident it has to do with the JavaFX libraries not being available.\r\n\r\nI have googled and followed other sets of instructions from Stack Overflow and other resources, but they all pretty much deal with Java SE 11 and higher, and we are required to use Java SE 9.\r\n\r\nHere is my current buildpath. Although the instructions were referring to Java SE 11, I did install some JavaFX .jar files and uploaded them under classpath as well ( not currently pictured as I removed them when it didn&#39;t fix the issue ).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI saw another set of instructions that said to edit the isModular setting under the JRE for Java 9, but when I typed in &quot;javafx.controls&quot; under the source module to add exports, it tells me &quot;Module &#39;javafx.controls&quot; is not provided by this build path entry.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V89d3.png","title":"Eclipse/Java 9: How to get e(fx)clipse 3.7.0 to work?","body":"<p>Preface: I already have the latest version of Eclipse installed and have been using it without issue. I'm running into issues now, as we are supposed to implement JavaFX into future projects.</p>\n<p>Here are the instructions I was given to follow:</p>\n<blockquote>\n<p>Installing JavaFX If you have the latest version of Eclipse installed\non your machine:</p>\n<ol>\n<li>In Eclipse, go to Help, Eclipse MarketPlace</li>\n<li>Search for “javafx” in the “Find” bar</li>\n<li>Click on “install” next to the “e(fx)clipse 3.7.0</li>\n<li>If a message pops up indicating an error, it is because you have other packages which will be overridden – this is OK, confirm these\nupdates.</li>\n<li>Restart Eclipse when prompted</li>\n</ol>\n<p>Creating a JavaFX Project In Eclipse, New &gt; Project &gt; JavaFX &gt; JavaFX\nProject</p>\n</blockquote>\n<p>Now, I have followed all of the above steps and I am unable to do anything as the default Main.java fails to compile and run due to the following error:</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n<p>Now, there are a lot of red underlines in the code, and I'm pretty confident it has to do with the JavaFX libraries not being available.</p>\n<p>I have googled and followed other sets of instructions from Stack Overflow and other resources, but they all pretty much deal with Java SE 11 and higher, and we are required to use Java SE 9.</p>\n<p>Here is my current buildpath. Although the instructions were referring to Java SE 11, I did install some JavaFX .jar files and uploaded them under classpath as well ( not currently pictured as I removed them when it didn't fix the issue ).</p>\n<p><a href=\"https://i.stack.imgur.com/V89d3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V89d3.png\" alt=\"enter image description here\" /></a></p>\n<p>I saw another set of instructions that said to edit the isModular setting under the JRE for Java 9, but when I typed in &quot;javafx.controls&quot; under the source module to add exports, it tells me &quot;Module 'javafx.controls&quot; is not provided by this build path entry.</p>\n"},{"tags":["java","casting","implicit-conversion"],"comments":[{"owner":{"account_id":1504483,"reputation":7043,"user_id":1408212,"accept_rate":50,"display_name":"trumpetlicks"},"score":1,"creation_date":1393501333,"post_id":22067409,"comment_id":33462674,"body_markdown":"In most of today&#39;s architectures, long doesn&#39;t hold 64 bits, it holds 32, a long long holds 64!","body":"In most of today&#39;s architectures, long doesn&#39;t hold 64 bits, it holds 32, a long long holds 64!"},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1393501367,"post_id":22067409,"comment_id":33462698,"body_markdown":"@trumpetlicks: Not in Java, where `long` is explicitly defined as *always* being 64 bits.","body":"@trumpetlicks: Not in Java, where <code>long</code> is explicitly defined as <i>always</i> being 64 bits."},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1393501415,"post_id":22067409,"comment_id":33462741,"body_markdown":"It&#39;s not clear what this question means. What &quot;hierarchy for implicit conversion&quot;? What *exactly* are you talking about? Spec references would really help here.","body":"It&#39;s not clear what this question means. What &quot;hierarchy for implicit conversion&quot;? What <i>exactly</i> are you talking about? Spec references would really help here."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1393501422,"post_id":22067409,"comment_id":33462748,"body_markdown":"@trumpetlicks Java is not machine/architecture dependent (behavior, not performance)","body":"@trumpetlicks Java is not machine/architecture dependent (behavior, not performance)"},{"owner":{"account_id":1504483,"reputation":7043,"user_id":1408212,"accept_rate":50,"display_name":"trumpetlicks"},"score":0,"creation_date":1393501566,"post_id":22067409,"comment_id":33462847,"body_markdown":"@JonSkeet - apologies, didn&#39;t see the &quot;java&quot; in the keywords :-)","body":"@JonSkeet - apologies, didn&#39;t see the &quot;java&quot; in the keywords :-)"},{"owner":{"account_id":2205578,"reputation":4860,"user_id":1948895,"accept_rate":100,"display_name":"Floris Velleman"},"score":0,"creation_date":1393501697,"post_id":22067409,"comment_id":33462937,"body_markdown":"possible duplicate of [Java Why is converting a long (64) to float (32) considered widening?](http://stackoverflow.com/questions/15229323/java-why-is-converting-a-long-64-to-float-32-considered-widening)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/15229323/java-why-is-converting-a-long-64-to-float-32-considered-widening\">Java Why is converting a long (64) to float (32) considered widening?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1393501581,"creation_date":1393501581,"answer_id":22067563,"question_id":22067409,"body_markdown":"It&#39;s not about how many bits of data are used. It&#39;s about the scale that can be represented. \n\nFrom [JLS section 5.1.2 (widening primitive conversions)][1]:\n\n&gt; A widening primitive conversion does not lose information about the overall magnitude of a numeric value.\n&gt;\n&gt; ...\n&gt;\n&gt; A widening conversion of an int or a long value to float, or of a long value to double, may result in loss of precision - that is, the result may lose some of the least significant bits of the value. In this case, the resulting floating-point value will be a correctly rounded version of the integer value, using IEEE 754 round-to-nearest mode (&#167;4.2.4).\n\nThe range of `long` is much smaller than the range of `float`, but with a fixed precision of 1. The precision of `float` varies across the range, in terms of absolute value. In other words, no `long` is outside the *range* of `float`, but there are `long` values which can&#39;t be *precisely represented* as `float` values.\n\nMoving to `double` wouldn&#39;t help this - there are `long` values which can&#39;t be precisely represented as `double`, either.\n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2","title":"typecasting long to float implicitly not narrowing","body":"<p>It's not about how many bits of data are used. It's about the scale that can be represented.</p>\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">JLS section 5.1.2 (widening primitive conversions)</a>:</p>\n<blockquote>\n<p>A widening primitive conversion does not lose information about the overall magnitude of a numeric value.</p>\n<p>...</p>\n<p>A widening conversion of an int or a long value to float, or of a long value to double, may result in loss of precision - that is, the result may lose some of the least significant bits of the value. In this case, the resulting floating-point value will be a correctly rounded version of the integer value, using IEEE 754 round-to-nearest mode (§4.2.4).</p>\n</blockquote>\n<p>The range of <code>long</code> is much smaller than the range of <code>float</code>, but with a fixed precision of 1. The precision of <code>float</code> varies across the range, in terms of absolute value. In other words, no <code>long</code> is outside the <em>range</em> of <code>float</code>, but there are <code>long</code> values which can't be <em>precisely represented</em> as <code>float</code> values.</p>\n<p>Moving to <code>double</code> wouldn't help this - there are <code>long</code> values which can't be precisely represented as <code>double</code>, either.</p>\n"},{"tags":[],"owner":{"account_id":19910351,"reputation":1,"user_id":14588480,"display_name":"Kruthika HM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632546513,"creation_date":1632546513,"answer_id":69323313,"question_id":22067409,"body_markdown":"Just because long takes 8 bytes and float is only 4 bytes. How Java accommodates this 8 bytes stuff into 4 bytes? There will be loss of data. Isn’t it?\r\n\r\nConversion from long(8 bytes) to float(4 bytes) is implicit because float save values in the form of exponents.\r\n\r\nFloat store values in the form of exponents which means 2345678 will be stored as 2.345678E6, where E6 stands for 10 to the power of 6\r\n\r\nSo when we store a long value which ofcourse cannot be stored in a float, JVM converts it into exponential form and then stores it. Say, if we want to store a long value of  1234567891234 in a float, then it will first be converted into an exponential form like this: 1.234567891234E12 and hence this made it possible to store the value in a float variable which is really done implicitly. \r\n\r\nHold on ! There is still few things that you may have noticed. What about the precision? A Float has precision of 6-7 significant digits after decimal? I am still loosing data.\r\n\r\nHere comes one more concept from data storage. The JVM doesn’t cares about loss of precision. It only cares about loss of magnitude.  In the above example, 1 is magnitude and the digits after the decimal is the precision.","title":"typecasting long to float implicitly not narrowing","body":"<p>Just because long takes 8 bytes and float is only 4 bytes. How Java accommodates this 8 bytes stuff into 4 bytes? There will be loss of data. Isn’t it?</p>\n<p>Conversion from long(8 bytes) to float(4 bytes) is implicit because float save values in the form of exponents.</p>\n<p>Float store values in the form of exponents which means 2345678 will be stored as 2.345678E6, where E6 stands for 10 to the power of 6</p>\n<p>So when we store a long value which ofcourse cannot be stored in a float, JVM converts it into exponential form and then stores it. Say, if we want to store a long value of  1234567891234 in a float, then it will first be converted into an exponential form like this: 1.234567891234E12 and hence this made it possible to store the value in a float variable which is really done implicitly.</p>\n<p>Hold on ! There is still few things that you may have noticed. What about the precision? A Float has precision of 6-7 significant digits after decimal? I am still loosing data.</p>\n<p>Here comes one more concept from data storage. The JVM doesn’t cares about loss of precision. It only cares about loss of magnitude.  In the above example, 1 is magnitude and the digits after the decimal is the precision.</p>\n"}],"owner":{"account_id":2622752,"reputation":4429,"user_id":2270563,"accept_rate":81,"display_name":"RamValli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22067563,"answer_count":2,"score":1,"last_activity_date":1632546513,"creation_date":1393501195,"question_id":22067409,"body_markdown":"In java the hierarchy for implicit conversion is \r\n`byte -&gt; short -&gt; int -&gt; long -&gt; float -&gt; double `\r\nLong can hold 8 bytes of data. Then why it is implicitly typecasted to float which can hold only 4 bytes rather than double which can hold 8 bytes.Why it is not considered as narrowing ?\r\n\r\nAnd which primitive types will be implicitly converted to char ?","title":"typecasting long to float implicitly not narrowing","body":"<p>In java the hierarchy for implicit conversion is \n<code>byte -&gt; short -&gt; int -&gt; long -&gt; float -&gt; double</code>\nLong can hold 8 bytes of data. Then why it is implicitly typecasted to float which can hold only 4 bytes rather than double which can hold 8 bytes.Why it is not considered as narrowing ?</p>\n\n<p>And which primitive types will be implicitly converted to char ?</p>\n"},{"tags":["java","android","kotlin","asynchronous","nullpointerexception"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":2,"creation_date":1632538478,"post_id":69322782,"comment_id":122526700,"body_markdown":"`relatedLayout` is null, not `elem`.","body":"<code>relatedLayout</code> is null, not <code>elem</code>."}],"answers":[{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632546289,"creation_date":1632546289,"answer_id":69323296,"question_id":69322782,"body_markdown":"Your  `relatedlayout` not initialized yet and you are trying to add a view on `null` that&#39;s why you&#39;re getting this exception.\r\n\r\ninitialize  `relatedLayout` in `onCreate()` like this\r\n\r\n \r\n\r\n    relatedLayout=findViewById(R.id.your XML id)","title":"java.lang.NullPointerException on non-null android view","body":"<p>Your  <code>relatedlayout</code> not initialized yet and you are trying to add a view on <code>null</code> that's why you're getting this exception.</p>\n<p>initialize  <code>relatedLayout</code> in <code>onCreate()</code> like this</p>\n<pre><code>relatedLayout=findViewById(R.id.your XML id)\n</code></pre>\n"}],"owner":{"account_id":19051728,"reputation":69,"user_id":13909750,"display_name":"Nekidev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1632546289,"creation_date":1632538336,"question_id":69322782,"body_markdown":"I&#39;m trying to enter some api results into a layout in android studio, but I get a `java.lang.NullPointerException` on the view when it&#39;s not. Here is my code:\r\n```\r\nAsyncTask.execute {\r\n    var related = gson.fromJson(AnibaseApi().getAnimeRelated(anime.id), Array&lt;AnimeResponseObject&gt;::class.java)\r\n\r\n    println(related) // First sysyem.out\r\n\r\n    for (r in related) {\r\n        runOnUiThread {\r\n            var elem = if (r.english != &quot;&quot;) {\r\n                AnimeVerticalObject(this).set(\r\n                    r.english,\r\n                    r.image\r\n                ).build() // returns LinearLayout\r\n            } else {\r\n                AnimeVerticalObject(this).set(\r\n                    r.title,\r\n                    r.image\r\n                ).build() // returns LinearLayout\r\n            }\r\n            println(elem) // second system.out\r\n            relatedLayout.addView(elem!!) // Line 110\r\n\r\n            var space = Space(this)\r\n            space.layoutParams = LinearLayout.LayoutParams(\r\n                10.toDp(),\r\n                LinearLayout.LayoutParams.MATCH_PARENT\r\n            )\r\n            relatedLayout.addView(space)\r\n        }\r\n    }\r\n}\r\n```\r\nNotice that `Int.toDp()` returns an `Int`. My log says that the view is not null as it can be seen when printed.\r\n\r\n```\r\nI/System.out: [Lcom.my.package.utils.AnimeResponseObject;@4f30821 \r\nI/System.out: android.widget.LinearLayout{8ee2334 V.E...... ......I. 0,0-0,0}\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.my.package, PID: 465\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.LinearLayout.addView(android.view.View)&#39; on a null object reference\r\n        at com.my.package.AnimeActivity2.onCreate$lambda-2$lambda-1(AnimeActivity2.kt:110)\r\n        at com.my.package.AnimeActivity2.$r8$lambda$HrayXNmY3lD16wB92hio1CE3OxE(Unknown Source:0)\r\n        at com.my.package.AnimeActivity2$$ExternalSyntheticLambda1.run(Unknown Source:4)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:250)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7851)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\r\n```\r\n\r\nSo now, i cannot understand why, if my view is not null (has non-null verifier), it still throws this exception. Any ideas?","title":"java.lang.NullPointerException on non-null android view","body":"<p>I'm trying to enter some api results into a layout in android studio, but I get a <code>java.lang.NullPointerException</code> on the view when it's not. Here is my code:</p>\n<pre><code>AsyncTask.execute {\n    var related = gson.fromJson(AnibaseApi().getAnimeRelated(anime.id), Array&lt;AnimeResponseObject&gt;::class.java)\n\n    println(related) // First sysyem.out\n\n    for (r in related) {\n        runOnUiThread {\n            var elem = if (r.english != &quot;&quot;) {\n                AnimeVerticalObject(this).set(\n                    r.english,\n                    r.image\n                ).build() // returns LinearLayout\n            } else {\n                AnimeVerticalObject(this).set(\n                    r.title,\n                    r.image\n                ).build() // returns LinearLayout\n            }\n            println(elem) // second system.out\n            relatedLayout.addView(elem!!) // Line 110\n\n            var space = Space(this)\n            space.layoutParams = LinearLayout.LayoutParams(\n                10.toDp(),\n                LinearLayout.LayoutParams.MATCH_PARENT\n            )\n            relatedLayout.addView(space)\n        }\n    }\n}\n</code></pre>\n<p>Notice that <code>Int.toDp()</code> returns an <code>Int</code>. My log says that the view is not null as it can be seen when printed.</p>\n<pre><code>I/System.out: [Lcom.my.package.utils.AnimeResponseObject;@4f30821 \nI/System.out: android.widget.LinearLayout{8ee2334 V.E...... ......I. 0,0-0,0}\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my.package, PID: 465\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.LinearLayout.addView(android.view.View)' on a null object reference\n        at com.my.package.AnimeActivity2.onCreate$lambda-2$lambda-1(AnimeActivity2.kt:110)\n        at com.my.package.AnimeActivity2.$r8$lambda$HrayXNmY3lD16wB92hio1CE3OxE(Unknown Source:0)\n        at com.my.package.AnimeActivity2$$ExternalSyntheticLambda1.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:250)\n        at android.app.ActivityThread.main(ActivityThread.java:7851)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\n</code></pre>\n<p>So now, i cannot understand why, if my view is not null (has non-null verifier), it still throws this exception. Any ideas?</p>\n"},{"tags":["java","multithreading","inner-classes","runnable"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1632544253,"post_id":69323112,"comment_id":122527352,"body_markdown":"Same instance of `Outer` is shared; ***unless*** you instantiate multiple instances of `Outer`. Modifying `counter` without `volatile` (or using an `AtomicInteger`) is not advisable. But then &quot;do stuff involving counter&quot; might, or might not, be done in a safe manner.","body":"Same instance of <code>Outer</code> is shared; <b><i>unless</i></b> you instantiate multiple instances of <code>Outer</code>. Modifying <code>counter</code> without <code>volatile</code> (or using an <code>AtomicInteger</code>) is not advisable. But then &quot;do stuff involving counter&quot; might, or might not, be done in a safe manner."},{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1632546038,"post_id":69323112,"comment_id":122527550,"body_markdown":"volatile is usually not enough for counters. One gets concurrency problem incrementing the value like &quot;counter = counter + 1&quot; from different threads.","body":"volatile is usually not enough for counters. One gets concurrency problem incrementing the value like &quot;counter = counter + 1&quot; from different threads."}],"answers":[{"tags":[],"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1632544197,"creation_date":1632544197,"answer_id":69323145,"question_id":69323112,"body_markdown":"They will share the same `counter`.","title":"If a class has an inner class and the inner class runs a thread, do the inner class threads share the same fields of the outer class with one another?","body":"<p>They will share the same <code>counter</code>.</p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632545609,"creation_date":1632545609,"answer_id":69323238,"question_id":69323112,"body_markdown":"If you have only a single instance of Outer, you will have only a single instance of counter. All the threads will share it.\r\n\r\nImportant! Validate concurrency and visibility issues accessing the counter from different threads. Most probably you need to use AtomicInteger instead of &quot;int&quot; or wrap all the access code (for both write and read operations) into a synchronize block.","title":"If a class has an inner class and the inner class runs a thread, do the inner class threads share the same fields of the outer class with one another?","body":"<p>If you have only a single instance of Outer, you will have only a single instance of counter. All the threads will share it.</p>\n<p>Important! Validate concurrency and visibility issues accessing the counter from different threads. Most probably you need to use AtomicInteger instead of &quot;int&quot; or wrap all the access code (for both write and read operations) into a synchronize block.</p>\n"}],"owner":{"account_id":15523824,"reputation":65,"user_id":11199289,"display_name":"Mason Williams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":69323145,"answer_count":2,"score":3,"last_activity_date":1632545609,"creation_date":1632543754,"question_id":69323112,"body_markdown":"Basically, if I have the code:\r\n\r\n```    \r\npublic class Outer { \r\n   public int counter = 0;\r\n   public void makeNewThread() {\r\n      Thread t1 = new Thread(new Inner());\r\n      t1.start();\r\n   }\r\n\r\n   private class Inner implements Runnable {\r\n      public void run() { //do stuff involving counter... }\r\n   }\r\n\r\n}\r\n```\r\n\r\nEverytime makeNewThread() is called, will each thread have their own version of counter, or will they all share the same version of counter? I would assume they would all share the same version since it&#39;s an inner class, but each thread has their own stack so I&#39;m not sure. ","title":"If a class has an inner class and the inner class runs a thread, do the inner class threads share the same fields of the outer class with one another?","body":"<p>Basically, if I have the code:</p>\n<pre><code>public class Outer { \n   public int counter = 0;\n   public void makeNewThread() {\n      Thread t1 = new Thread(new Inner());\n      t1.start();\n   }\n\n   private class Inner implements Runnable {\n      public void run() { //do stuff involving counter... }\n   }\n\n}\n</code></pre>\n<p>Everytime makeNewThread() is called, will each thread have their own version of counter, or will they all share the same version of counter? I would assume they would all share the same version since it's an inner class, but each thread has their own stack so I'm not sure.</p>\n"},{"tags":["java","logging","filter","log4j2"],"comments":[{"owner":{"account_id":542649,"reputation":727,"user_id":911548,"display_name":"jbrond"},"score":1,"creation_date":1631256740,"post_id":69127604,"comment_id":122177956,"body_markdown":"In `CompositeFilter` when the first filter returns ACCEPT or DENAY it exits. So you cannot make AND filtering configuration. The only thing that comes to mind is to create a custom filter, but, from what you write, it is not a solution for you...","body":"In <code>CompositeFilter</code> when the first filter returns ACCEPT or DENAY it exits. So you cannot make AND filtering configuration. The only thing that comes to mind is to create a custom filter, but, from what you write, it is not a solution for you..."}],"answers":[{"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632545419,"creation_date":1632545419,"answer_id":69323224,"question_id":69127604,"body_markdown":"There are two ways you could accomplish what you want. (1) Create a `CompositeFilter` as you mentioned in your question using both the `RegexFilter` and `ThreadContextMapFilter`. (2) Use a `ScriptFilter`.\r\n\r\nBelow is some sample code to illustrate how you can do both of these. \r\nFirst, a class to generate some log events:\r\n\r\n    package example;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.ThreadContext;\r\n    \r\n    public class SomeClass {\r\n    \r\n    \tprivate static final Logger log = LogManager.getLogger();\t\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n    \t\tThreadContext.put(&quot;someValue&quot;, &quot;foo&quot;);\r\n    \t\tlog.info(&quot;Here&#39;s a test of info!&quot;); //should not be accepted\r\n    \t\tlog.info(&quot;A message that doesn&#39;t match the regex&quot;); //should be accepted\r\n    \t\tThreadContext.put(&quot;someValue&quot;, &quot;bar&quot;);\r\n    \t\tlog.info(&quot;Another test of info&quot;); //regex matches, context does not. Accepted.\r\n    \t\tlog.info(&quot;Some other message&quot;); //does not match regex, context does not match. Accepted.\r\n    \t}\r\n    }\r\n\r\nNow the log4j2.xml configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    \t\t\t&lt;PatternLayout pattern=&quot;%d{yyy-MM-dd} [%t] %-5level %logger{36} %X{someValue} - %msg%n&quot; /&gt;\r\n    \t\t&lt;/Console&gt;\r\n    \r\n    \t\t&lt;File name=&quot;File1&quot; fileName=&quot;logs/File1.log&quot; immediateFlush=&quot;false&quot;\r\n    \t\t\tappend=&quot;false&quot;&gt;\r\n    \t\t\t&lt;PatternLayout\r\n    \t\t\t\tpattern=&quot;%d{yyy-MM-dd} [%t] %-5level %logger{36} %X{someValue} - %msg%n&quot; /&gt;\r\n    \t\t\t&lt;Filters&gt;\r\n    \t\t\t\t&lt;ThreadContextMapFilter onMatch=&quot;NEUTRAL&quot; onMismatch=&quot;ACCEPT&quot;&gt;\r\n    \t\t\t\t  &lt;KeyValuePair key=&quot;someValue&quot; value=&quot;foo&quot;/&gt;\r\n    \t\t\t\t&lt;/ThreadContextMapFilter&gt;\r\n    \t\t\t\t&lt;RegexFilter regex=&quot;.* test .*&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n    \t\t\t&lt;/Filters&gt;\r\n    \r\n    \t\t&lt;/File&gt;\r\n    \t\t&lt;File name=&quot;File2&quot; fileName=&quot;logs/File2.log&quot; immediateFlush=&quot;false&quot;\r\n    \t\t\tappend=&quot;false&quot;&gt;\r\n    \t\t\t&lt;PatternLayout\r\n    \t\t\t\tpattern=&quot;%d{yyy-MM-dd} [%t] %-5level %logger{36} %X{someValue} - %msg%n&quot; /&gt;\r\n    \t\t\t&lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMisMatch=&quot;DENY&quot;&gt;\r\n    \t          &lt;Script name=&quot;MyFilter&quot; language=&quot;JavaScript&quot;&gt;&lt;![CDATA[\r\n    \t\t          if(logEvent.getContextMap().get(&quot;someValue&quot;) == &quot;foo&quot; \r\n    \t\t          \t &amp;&amp; logEvent.getMessage().getFormattedMessage().matches(&quot;.* test .*&quot;)){\r\n    \t        \t\t\tfalse\r\n    \t\t        \t}else{\r\n    \t\t        \t\ttrue\r\n    \t\t        \t}\r\n    \t          ]]&gt;&lt;/Script&gt;\r\n    \t        &lt;/ScriptFilter&gt;\r\n    \t\t&lt;/File&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Root level=&quot;ALL&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Console&quot;  /&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;File1&quot;  /&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;File2&quot;  /&gt;\r\n    \t\t&lt;/Root&gt;\r\n    \t&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nHere is sample console output:\r\n\r\n    2021-09-24 [main] INFO  example.SomeClass foo - Here&#39;s a test of info!\r\n    2021-09-24 [main] INFO  example.SomeClass foo - A message that doesn&#39;t match the regex\r\n    2021-09-24 [main] INFO  example.SomeClass bar - Another test of info\r\n    2021-09-24 [main] INFO  example.SomeClass bar - Some other message\r\n\r\nNotice that all of the messages are accepted since the console appender has no filters.\r\n\r\nThe logs written to File1 and File2 are identical, sample output follows:\r\n\r\n    2021-09-24 [main] INFO  example.SomeClass foo - A message that doesn&#39;t match the regex\r\n    2021-09-24 [main] INFO  example.SomeClass bar - Another test of info\r\n    2021-09-24 [main] INFO  example.SomeClass bar - Some other message\r\n\r\nNotice the 1 message where the regex and context value match has been excluded as desired. \r\n","title":"Filter out messages matching two filters in Log4j2","body":"<p>There are two ways you could accomplish what you want. (1) Create a <code>CompositeFilter</code> as you mentioned in your question using both the <code>RegexFilter</code> and <code>ThreadContextMapFilter</code>. (2) Use a <code>ScriptFilter</code>.</p>\n<p>Below is some sample code to illustrate how you can do both of these.\nFirst, a class to generate some log events:</p>\n<pre><code>package example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ThreadContext;\n\npublic class SomeClass {\n\n    private static final Logger log = LogManager.getLogger();   \n    \n    public static void main(String[] args){\n        ThreadContext.put(&quot;someValue&quot;, &quot;foo&quot;);\n        log.info(&quot;Here's a test of info!&quot;); //should not be accepted\n        log.info(&quot;A message that doesn't match the regex&quot;); //should be accepted\n        ThreadContext.put(&quot;someValue&quot;, &quot;bar&quot;);\n        log.info(&quot;Another test of info&quot;); //regex matches, context does not. Accepted.\n        log.info(&quot;Some other message&quot;); //does not match regex, context does not match. Accepted.\n    }\n}\n</code></pre>\n<p>Now the log4j2.xml configuration file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyy-MM-dd} [%t] %-5level %logger{36} %X{someValue} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n\n        &lt;File name=&quot;File1&quot; fileName=&quot;logs/File1.log&quot; immediateFlush=&quot;false&quot;\n            append=&quot;false&quot;&gt;\n            &lt;PatternLayout\n                pattern=&quot;%d{yyy-MM-dd} [%t] %-5level %logger{36} %X{someValue} - %msg%n&quot; /&gt;\n            &lt;Filters&gt;\n                &lt;ThreadContextMapFilter onMatch=&quot;NEUTRAL&quot; onMismatch=&quot;ACCEPT&quot;&gt;\n                  &lt;KeyValuePair key=&quot;someValue&quot; value=&quot;foo&quot;/&gt;\n                &lt;/ThreadContextMapFilter&gt;\n                &lt;RegexFilter regex=&quot;.* test .*&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\n            &lt;/Filters&gt;\n\n        &lt;/File&gt;\n        &lt;File name=&quot;File2&quot; fileName=&quot;logs/File2.log&quot; immediateFlush=&quot;false&quot;\n            append=&quot;false&quot;&gt;\n            &lt;PatternLayout\n                pattern=&quot;%d{yyy-MM-dd} [%t] %-5level %logger{36} %X{someValue} - %msg%n&quot; /&gt;\n            &lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMisMatch=&quot;DENY&quot;&gt;\n              &lt;Script name=&quot;MyFilter&quot; language=&quot;JavaScript&quot;&gt;&lt;![CDATA[\n                  if(logEvent.getContextMap().get(&quot;someValue&quot;) == &quot;foo&quot; \n                     &amp;&amp; logEvent.getMessage().getFormattedMessage().matches(&quot;.* test .*&quot;)){\n                        false\n                    }else{\n                        true\n                    }\n              ]]&gt;&lt;/Script&gt;\n            &lt;/ScriptFilter&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;ALL&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;  /&gt;\n            &lt;AppenderRef ref=&quot;File1&quot;  /&gt;\n            &lt;AppenderRef ref=&quot;File2&quot;  /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Here is sample console output:</p>\n<pre><code>2021-09-24 [main] INFO  example.SomeClass foo - Here's a test of info!\n2021-09-24 [main] INFO  example.SomeClass foo - A message that doesn't match the regex\n2021-09-24 [main] INFO  example.SomeClass bar - Another test of info\n2021-09-24 [main] INFO  example.SomeClass bar - Some other message\n</code></pre>\n<p>Notice that all of the messages are accepted since the console appender has no filters.</p>\n<p>The logs written to File1 and File2 are identical, sample output follows:</p>\n<pre><code>2021-09-24 [main] INFO  example.SomeClass foo - A message that doesn't match the regex\n2021-09-24 [main] INFO  example.SomeClass bar - Another test of info\n2021-09-24 [main] INFO  example.SomeClass bar - Some other message\n</code></pre>\n<p>Notice the 1 message where the regex and context value match has been excluded as desired.</p>\n"}],"owner":{"account_id":446975,"reputation":2666,"user_id":840333,"accept_rate":67,"display_name":"Joel Westberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1632545419,"creation_date":1631251378,"question_id":69127604,"body_markdown":"I have a Java application that I&#39;m running that uses `log4j2.xml` to configure logging. I want to drop messages that contain a certain string in the message ***and*** also have a certain MDC key. \r\n\r\nIf I specify a filter on the MDC like this:\r\n\r\n```\r\n&lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;&gt;\r\n  &lt;KeyValuePair key=&quot;someValue&quot; value=&quot;foo&quot;/&gt;\r\n&lt;/ThreadContextMapFilter&gt;\r\n```\r\n\r\nit correctly drops all messages that have this key-value pair, but I need it to only drop these if a `RegexFilter` also matches. Is there any way to do this? I see there is `CompositeFilter` but that is not able to perform this kind of boolean operation for me as far as I can tell.\r\n\r\nI do not have the ability to modify source code of this application, all I&#39;ve got to work with is the `log4j2.xml`","title":"Filter out messages matching two filters in Log4j2","body":"<p>I have a Java application that I'm running that uses <code>log4j2.xml</code> to configure logging. I want to drop messages that contain a certain string in the message <em><strong>and</strong></em> also have a certain MDC key.</p>\n<p>If I specify a filter on the MDC like this:</p>\n<pre><code>&lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;&gt;\n  &lt;KeyValuePair key=&quot;someValue&quot; value=&quot;foo&quot;/&gt;\n&lt;/ThreadContextMapFilter&gt;\n</code></pre>\n<p>it correctly drops all messages that have this key-value pair, but I need it to only drop these if a <code>RegexFilter</code> also matches. Is there any way to do this? I see there is <code>CompositeFilter</code> but that is not able to perform this kind of boolean operation for me as far as I can tell.</p>\n<p>I do not have the ability to modify source code of this application, all I've got to work with is the <code>log4j2.xml</code></p>\n"},{"tags":["java","swing","jtextfield"],"comments":[{"owner":{"account_id":6352158,"reputation":195,"user_id":4930836,"display_name":"Simo"},"score":0,"creation_date":1492522155,"post_id":43473110,"comment_id":74002031,"body_markdown":"See this, it may help\n[enter link description here](https://stackoverflow.com/questions/15703644/how-to-filter-certain-characters-in-jtextfield)","body":"See this, it may help <a href=\"https://stackoverflow.com/questions/15703644/how-to-filter-certain-characters-in-jtextfield\">enter link description here</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1492544724,"post_id":43473110,"comment_id":74017578,"body_markdown":"*&quot;a filed in whic the user write the price of a products.&quot;* `new JSpinner(new SpinnerNumberModel(0.0, 0.0, 999.99, .01));`","body":"<i>&quot;a filed in whic the user write the price of a products.&quot;</i> <code>new JSpinner(new SpinnerNumberModel(0.0, 0.0, 999.99, .01));</code>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1492524329,"creation_date":1492524329,"answer_id":43474480,"question_id":43473110,"body_markdown":"Don&#39;t use a KeyListener. That is old code when using AWT.\r\n\r\nSwing has newer and better API&#39;s.\r\n\r\nThe easiest way is to use a `JFormattedTextField`. Read the section from the Swing tutorial on [How to Use Formatted Text Fields](http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html) for more information and working examples.\r\n\r\nThe other option is so use a `DocumentFilter`. Read the section from the Swing tutorial on [Implementing a DocumentFilter](http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter).\r\n\r\n\r\n","title":"JTextField accept only numbers and one dot","body":"<p>Don't use a KeyListener. That is old code when using AWT.</p>\n\n<p>Swing has newer and better API's.</p>\n\n<p>The easiest way is to use a <code>JFormattedTextField</code>. Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\">How to Use Formatted Text Fields</a> for more information and working examples.</p>\n\n<p>The other option is so use a <code>DocumentFilter</code>. Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a DocumentFilter</a>.</p>\n"},{"tags":[],"owner":{"account_id":10706383,"reputation":57,"user_id":7880055,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492690602,"creation_date":1492690602,"answer_id":43519288,"question_id":43473110,"body_markdown":"I found a solution for this problem:\r\nthis is the code i wrote\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    char c=evt.getKeyChar();\r\n            if((Character.isDigit(c))||(c==KeyEvent.VK_PERIOD)||(c==KeyEvent.VK_BACK_SPACE)){\r\n                int punto=0;\r\n                if(c==KeyEvent.VK_PERIOD){ \r\n                            String s=pricefield.getText();\r\n                            int dot=s.indexOf(&#39;.&#39;);\r\n                            punto=dot;\r\n                            if(dot!=-1){\r\n                                getToolkit().beep();\r\n                                evt.consume();\r\n                            }\r\n                        }\r\n            }\r\n            else{    \r\n                getToolkit().beep();\r\n                evt.consume();\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JTextField accept only numbers and one dot","body":"<p>I found a solution for this problem:\nthis is the code i wrote</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>char c=evt.getKeyChar();\r\n        if((Character.isDigit(c))||(c==KeyEvent.VK_PERIOD)||(c==KeyEvent.VK_BACK_SPACE)){\r\n            int punto=0;\r\n            if(c==KeyEvent.VK_PERIOD){ \r\n                        String s=pricefield.getText();\r\n                        int dot=s.indexOf('.');\r\n                        punto=dot;\r\n                        if(dot!=-1){\r\n                            getToolkit().beep();\r\n                            evt.consume();\r\n                        }\r\n                    }\r\n        }\r\n        else{    \r\n            getToolkit().beep();\r\n            evt.consume();\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":19314647,"reputation":1,"user_id":14119687,"display_name":"helloWorld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597874822,"creation_date":1597671193,"answer_id":63451913,"question_id":43473110,"body_markdown":"    \r\n\r\nprivate void textFieldKeyTyped(java.awt.event.KeyEvent evt) {                               \r\n    \r\n\r\n&gt; Get the keyTyped and pass it to the method validate.\r\n\r\n            if(!validate(evt.getKeyChar())){\r\n\r\n&gt; Char or keytyped is not a valid input, so let it consumed.\r\n\r\n                evt.consume();\r\n            }\r\n\r\n&gt; this limit the input of Decimal, only ONE decimal point can be entered;\r\n\r\n            if(evt.getKeyChar()==KeyEvent.VK_DECIMAL || evt.getKeyChar()==KeyEvent.VK_PERIOD){\r\n                \r\n\r\n&gt; get the whole string entered in the textField;\r\n\r\n                String field = textField.getText();\r\n\r\n&gt; get index of dot(. or decimal/period).\r\n&gt; indexOf() method returns -1 if String does not have any dot or decimal poits.\r\n\r\n                int index = field.indexOf(&quot;.&quot;);\r\n\r\n\r\n                if(!(index==-1)){ //index is not equal to -1\r\n                    evt.consume(); //consume\r\n                }\r\n              \r\n            }\r\n        }  \r\n\r\n\r\n&gt; Every keypress, this method gets called.\r\n\r\n    private boolean validate(char ch){\r\n\r\n \r\n&gt; this determine if the character has matching value to Integer, Decimal point, backspace or delete. It returns true if the char is a integer, decimal, delete or backspace, otherwise false.\r\n&gt; However it does not limit how many decimal points can be entered.\r\n\r\n                if(!(Character.isDigit(ch)\r\n                        || ch==KeyEvent.VK_BACKSPACE \r\n                        || ch==KeyEvent.VK_DELETE \r\n                        || ch==KeyEvent.VK_DECIMAL\r\n                        || ch==KeyEvent.VK_PERIOD)){\r\n                    return false;\r\n                }\r\n            \r\n                return true;\r\n                }     \r\n\r\n\r\n\r\n&gt; here is the whole code, I have provided some comments, hope these will help.\r\n\r\n    private void textFieldKeyTyped(java.awt.event.KeyEvent evt) {                               \r\n    \r\n            if(!validate(evt.getKeyChar())){ //get char or keytyped\r\n                evt.consume();\r\n            }\r\n            //limit one dot or decimal point can be entered\r\n            if(evt.getKeyChar()==KeyEvent.VK_DECIMAL || evt.getKeyChar()==KeyEvent.VK_PERIOD){\r\n                \r\n                String field = textField.getText(); //get the string in textField\r\n                int index = field.indexOf(&quot;.&quot;); //find the index of dot(.) or decimal point\r\n                if(!(index==-1)){ //if there is any\r\n                    evt.consume(); //consume the keytyped. this prevents the keytyped from appearing on the textfield;\r\n                }\r\n              \r\n            }\r\n        }     \r\n        //determine if keytyped is a valid input\r\n         private boolean validate(char ch){\r\n            \r\n                if(!(Character.isDigit(ch)\r\n                        || ch==KeyEvent.VK_BACKSPACE \r\n                        || ch==KeyEvent.VK_DELETE  \r\n                        || ch==KeyEvent.VK_DECIMAL \r\n                        || ch==KeyEvent.VK_PERIOD \r\n                        )){\r\n\r\n                    return false; //return false, because char is invalid\t\t\t\r\n                }\r\n            \r\n                return true; // return true, when the if statement above does not meet its conditions  \r\n                }  \r\n","title":"JTextField accept only numbers and one dot","body":"<p>private void textFieldKeyTyped(java.awt.event.KeyEvent evt) {</p>\n<blockquote>\n<p>Get the keyTyped and pass it to the method validate.</p>\n</blockquote>\n<pre><code>        if(!validate(evt.getKeyChar())){\n</code></pre>\n<blockquote>\n<p>Char or keytyped is not a valid input, so let it consumed.</p>\n</blockquote>\n<pre><code>            evt.consume();\n        }\n</code></pre>\n<blockquote>\n<p>this limit the input of Decimal, only ONE decimal point can be entered;</p>\n</blockquote>\n<pre><code>        if(evt.getKeyChar()==KeyEvent.VK_DECIMAL || evt.getKeyChar()==KeyEvent.VK_PERIOD){\n            \n</code></pre>\n<blockquote>\n<p>get the whole string entered in the textField;</p>\n</blockquote>\n<pre><code>            String field = textField.getText();\n</code></pre>\n<blockquote>\n<p>get index of dot(. or decimal/period).\nindexOf() method returns -1 if String does not have any dot or decimal poits.</p>\n</blockquote>\n<pre><code>            int index = field.indexOf(&quot;.&quot;);\n\n\n            if(!(index==-1)){ //index is not equal to -1\n                evt.consume(); //consume\n            }\n          \n        }\n    }  \n</code></pre>\n<blockquote>\n<p>Every keypress, this method gets called.</p>\n</blockquote>\n<pre><code>private boolean validate(char ch){\n</code></pre>\n<blockquote>\n<p>this determine if the character has matching value to Integer, Decimal point, backspace or delete. It returns true if the char is a integer, decimal, delete or backspace, otherwise false.\nHowever it does not limit how many decimal points can be entered.</p>\n</blockquote>\n<pre><code>            if(!(Character.isDigit(ch)\n                    || ch==KeyEvent.VK_BACKSPACE \n                    || ch==KeyEvent.VK_DELETE \n                    || ch==KeyEvent.VK_DECIMAL\n                    || ch==KeyEvent.VK_PERIOD)){\n                return false;\n            }\n        \n            return true;\n            }     \n</code></pre>\n<blockquote>\n<p>here is the whole code, I have provided some comments, hope these will help.</p>\n</blockquote>\n<pre><code>private void textFieldKeyTyped(java.awt.event.KeyEvent evt) {                               \n\n        if(!validate(evt.getKeyChar())){ //get char or keytyped\n            evt.consume();\n        }\n        //limit one dot or decimal point can be entered\n        if(evt.getKeyChar()==KeyEvent.VK_DECIMAL || evt.getKeyChar()==KeyEvent.VK_PERIOD){\n            \n            String field = textField.getText(); //get the string in textField\n            int index = field.indexOf(&quot;.&quot;); //find the index of dot(.) or decimal point\n            if(!(index==-1)){ //if there is any\n                evt.consume(); //consume the keytyped. this prevents the keytyped from appearing on the textfield;\n            }\n          \n        }\n    }     \n    //determine if keytyped is a valid input\n     private boolean validate(char ch){\n        \n            if(!(Character.isDigit(ch)\n                    || ch==KeyEvent.VK_BACKSPACE \n                    || ch==KeyEvent.VK_DELETE  \n                    || ch==KeyEvent.VK_DECIMAL \n                    || ch==KeyEvent.VK_PERIOD \n                    )){\n\n                return false; //return false, because char is invalid           \n            }\n        \n            return true; // return true, when the if statement above does not meet its conditions  \n            }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9793535,"reputation":2283,"user_id":7257373,"display_name":"Chivorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632543212,"creation_date":1632543212,"answer_id":69323075,"question_id":43473110,"body_markdown":"Bellow is my sample code that I already tested and working as expected.\r\nI also added beep sound when user input or press wrong key.\r\n\r\n```\r\nprivate void textFieldScoreKeyTyped(java.awt.event.KeyEvent evt) {                                        \r\n       char c =  evt.getKeyChar();\r\n       if(c == KeyEvent.VK_BACK_SPACE){\r\n            evt.consume(); \r\n       }else if(Character.isLetter(c) || String.valueOf(c).trim().isEmpty()){\r\n           getToolkit().beep();\r\n           evt.consume(); \r\n       }else{\r\n           try{\r\n               Double.parseDouble(textFieldScore.getText()+c);\r\n           }catch(NumberFormatException e){\r\n               getToolkit().beep();\r\n               evt.consume();\r\n           }\r\n       }\r\n    }\r\n```\r\n\r\nGood luck everyone!!","title":"JTextField accept only numbers and one dot","body":"<p>Bellow is my sample code that I already tested and working as expected.\nI also added beep sound when user input or press wrong key.</p>\n<pre><code>private void textFieldScoreKeyTyped(java.awt.event.KeyEvent evt) {                                        \n       char c =  evt.getKeyChar();\n       if(c == KeyEvent.VK_BACK_SPACE){\n            evt.consume(); \n       }else if(Character.isLetter(c) || String.valueOf(c).trim().isEmpty()){\n           getToolkit().beep();\n           evt.consume(); \n       }else{\n           try{\n               Double.parseDouble(textFieldScore.getText()+c);\n           }catch(NumberFormatException e){\n               getToolkit().beep();\n               evt.consume();\n           }\n       }\n    }\n</code></pre>\n<p>Good luck everyone!!</p>\n"}],"owner":{"account_id":10706383,"reputation":57,"user_id":7880055,"display_name":"Dani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43474480,"answer_count":4,"score":0,"last_activity_date":1632543212,"creation_date":1492520862,"question_id":43473110,"body_markdown":"I want that my text field accept only numbers (digit) and one dot, because it is a field in which the user can write the price of products. I have this code but it doesn&#39;t work well, it only accept numbers and delete.\r\n\r\n    char c=evt.getKeyChar();\r\n    if(!(Character.isDigit(c))||(c==KeyEvent.VK_BACK_SPACE)||(c==KeyEvent.VK_DELETE)){\r\n        getToolkit().beep();\r\n        evt.consume();\r\n    }\r\n\r\nCan someone help me to fix it?\r\n","title":"JTextField accept only numbers and one dot","body":"<p>I want that my text field accept only numbers (digit) and one dot, because it is a field in which the user can write the price of products. I have this code but it doesn't work well, it only accept numbers and delete.</p>\n\n<pre><code>char c=evt.getKeyChar();\nif(!(Character.isDigit(c))||(c==KeyEvent.VK_BACK_SPACE)||(c==KeyEvent.VK_DELETE)){\n    getToolkit().beep();\n    evt.consume();\n}\n</code></pre>\n\n<p>Can someone help me to fix it?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":8322856,"reputation":1924,"user_id":6253847,"display_name":"Sammy T"},"score":0,"creation_date":1583444732,"post_id":60403240,"comment_id":107129400,"body_markdown":"Are you doing anything else in the Fragment&#39;s `onCreate`, `onCreateView`, or the other lifecycle methods?","body":"Are you doing anything else in the Fragment&#39;s <code>onCreate</code>, <code>onCreateView</code>, or the other lifecycle methods?"},{"owner":{"account_id":17507319,"reputation":181,"user_id":12696236,"display_name":"RushedPotato"},"score":0,"creation_date":1583446116,"post_id":60403240,"comment_id":107129955,"body_markdown":"Yes, I set up other UI elements","body":"Yes, I set up other UI elements"},{"owner":{"account_id":15633014,"reputation":1150,"user_id":11278807,"display_name":"nulldroid"},"score":0,"creation_date":1583868748,"post_id":60403240,"comment_id":107256011,"body_markdown":"can you share the code of setPager()?","body":"can you share the code of setPager()?"}],"answers":[{"tags":[],"owner":{"account_id":12271594,"reputation":5474,"user_id":8956604,"display_name":"Kasım &#214;zdemir"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1582781985,"creation_date":1582698407,"answer_id":60407969,"question_id":60403240,"body_markdown":"I had the same problem. I have two options.\r\n\r\n 1. Use postdelay when you call LoadData or\r\n 2. First add all fragments with manually. You manage navigationItemSelected yourself.\r\n\r\nLike this:\r\n\r\n    val firstFragment: Fragment = FirstFragment()\r\n    val secondFragment: Fragment = SecondFragment()\r\n    val thirdFragment: Fragment = ThirdFragment()\r\n\r\n    val navView: BottomNavigationView = findViewById(R.id.nav_view)\r\n\r\n    var active = firstFragment\r\n    fm.beginTransaction().add(R.id.nav_host_fragment, thirdFragment, &quot;3&quot;).hide(thirdFragment).commit()\r\n    fm.beginTransaction().add(R.id.nav_host_fragment, secondFragment, &quot;2&quot;).hide(secondFragment).commit()\r\n    fm.beginTransaction().add(R.id.nav_host_fragment, firstFragment, &quot;1&quot;).commit()\r\n\r\n    navView.setOnNavigationItemReselectedListener {  }\r\n    navView.setOnNavigationItemSelectedListener { item -&gt;\r\n           when (item.itemId) {\r\n               R.id.navigation_first -&gt; {\r\n                   fm.beginTransaction().hide(active).show(firstFragment).commit()\r\n                   active = firstFragment\r\n\r\n               }\r\n               R.id.navigation_second -&gt; {\r\n                   fm.beginTransaction().hide(active).show(secondFragment).commit()\r\n                   active = secondFragment\r\n               }\r\n               R.id.navigation_third -&gt; {\r\n                   fm.beginTransaction().hide(active).show(thirdFragment).commit()\r\n                   active = thirdFragment\r\n               }\r\n           }\r\n            true\r\n       }\r\n\r\nAnd remove these lines in your nav_host_fragment:\r\n\r\n    app:defaultNavHost=&quot;true&quot;\r\n    app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n\r\n\r\n    \r\n\r\n  \r\n","title":"Lag when switching tabs in BottomNavigationView","body":"<p>I had the same problem. I have two options.</p>\n\n<ol>\n<li>Use postdelay when you call LoadData or</li>\n<li>First add all fragments with manually. You manage navigationItemSelected yourself.</li>\n</ol>\n\n<p>Like this:</p>\n\n<pre><code>val firstFragment: Fragment = FirstFragment()\nval secondFragment: Fragment = SecondFragment()\nval thirdFragment: Fragment = ThirdFragment()\n\nval navView: BottomNavigationView = findViewById(R.id.nav_view)\n\nvar active = firstFragment\nfm.beginTransaction().add(R.id.nav_host_fragment, thirdFragment, \"3\").hide(thirdFragment).commit()\nfm.beginTransaction().add(R.id.nav_host_fragment, secondFragment, \"2\").hide(secondFragment).commit()\nfm.beginTransaction().add(R.id.nav_host_fragment, firstFragment, \"1\").commit()\n\nnavView.setOnNavigationItemReselectedListener {  }\nnavView.setOnNavigationItemSelectedListener { item -&gt;\n       when (item.itemId) {\n           R.id.navigation_first -&gt; {\n               fm.beginTransaction().hide(active).show(firstFragment).commit()\n               active = firstFragment\n\n           }\n           R.id.navigation_second -&gt; {\n               fm.beginTransaction().hide(active).show(secondFragment).commit()\n               active = secondFragment\n           }\n           R.id.navigation_third -&gt; {\n               fm.beginTransaction().hide(active).show(thirdFragment).commit()\n               active = thirdFragment\n           }\n       }\n        true\n   }\n</code></pre>\n\n<p>And remove these lines in your nav_host_fragment:</p>\n\n<pre><code>app:defaultNavHost=\"true\"\napp:navGraph=\"@navigation/mobile_navigation\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16473748,"reputation":33,"user_id":11902228,"display_name":"Yogesh Mahida"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583574813,"creation_date":1583574813,"answer_id":60576326,"question_id":60403240,"body_markdown":"you can use jetpack navigation for simple bottombar navigation\r\n\r\nSimple Bottom Navigation with Jetpack Navigation:\r\n\r\nLet’s start by including the Jetpack Navigation library in your apps by adding these lines in app’s build.gradle file:\r\n\r\n    def nav_version = &quot;2.1.0&quot;\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\nWe start by creating a simple bottom navigation flow first. For that, you need to do first add NavHostFragment in your single activity layout file. Add this in the activity_main.xml file inside the FrameLayout tag.\r\n\r\n    &lt;fragment\r\n      android:id=&quot;@+id/fragNavHost&quot;\r\n      android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      app:defaultNavHost=&quot;true&quot;\r\n      app:navGraph=&quot;@navigation/bottom_nav_graph&quot; /&gt;\r\n\r\nYou will see an error saying “Cannot resolve symbol @navigation/bottom_nav_graph .”\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/bottom_nav_graph.xml&quot;\r\n        app:startDestination=&quot;@id/homeFragment2&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/homeFragment2&quot;\r\n            android:name=&quot;com.wajahatkarim3.bottomnavigationdemo.HomeFragment&quot;\r\n            android:label=&quot;fragment_home&quot;\r\n            tools:layout=&quot;@layout/fragment_home&quot; /&gt;\r\n        \r\n        &lt;fragment\r\n            android:id=&quot;@+id/searchFragment2&quot;\r\n            android:name=&quot;com.wajahatkarim3.bottomnavigationdemo.SearchFragment&quot;\r\n            android:label=&quot;fragment_search&quot;\r\n            tools:layout=&quot;@layout/fragment_search&quot; /&gt;\r\n        \r\n        &lt;fragment\r\n            android:id=&quot;@+id/notificationsFragment2&quot;\r\n            android:name=&quot;com.wajahatkarim3.bottomnavigationdemo.NotificationsFragment&quot;\r\n            android:label=&quot;fragment_notifications&quot;\r\n            tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\r\n        \r\n        &lt;fragment\r\n            android:id=&quot;@+id/profileFragment2&quot;\r\n            android:name=&quot;com.wajahatkarim3.bottomnavigationdemo.ProfileFragment&quot;\r\n            android:label=&quot;fragment_profile&quot;\r\n            tools:layout=&quot;@layout/fragment_profile&quot; /&gt;\r\n    &lt;/navigation&gt;\r\n\r\nIts time for add some code in our activity class. Open MainActivity.kt file, and create a method setupViews() in it. Call this in onCreate() of the activity. Add these lines in the setupVeiws() method.\r\n\r\n        fun setupViews()\r\n    {\r\n        // Finding the Navigation Controller\r\n        var navController = findNavController(R.id.fragNavHost)\r\n    \r\n        // Setting Navigation Controller with the BottomNavigationView\r\n        bottomNavView.setupWithNavController(navController)\r\n    \r\n        // Setting Up ActionBar with Navigation Controller\r\n        // Pass the IDs of top-level destinations in AppBarConfiguration\r\n        var appBarConfiguration = AppBarConfiguration(\r\n            topLevelDestinationIds = setOf (\r\n                R.id.homeFragment,\r\n                R.id.searchFragment,\r\n                R.id.notificationsFragment,\r\n                R.id.profileFragment\r\n            )\r\n        )\r\n        setupActionBarWithNavController(navController, appBarConfiguration)\r\n    }\r\n\r\n","title":"Lag when switching tabs in BottomNavigationView","body":"<p>you can use jetpack navigation for simple bottombar navigation</p>\n\n<p>Simple Bottom Navigation with Jetpack Navigation:</p>\n\n<p>Let’s start by including the Jetpack Navigation library in your apps by adding these lines in app’s build.gradle file:</p>\n\n<pre><code>def nav_version = \"2.1.0\"\nimplementation \"androidx.navigation:navigation-fragment-ktx:$nav_version\"\nimplementation \"androidx.navigation:navigation-ui-ktx:$nav_version\"\n</code></pre>\n\n<p>We start by creating a simple bottom navigation flow first. For that, you need to do first add NavHostFragment in your single activity layout file. Add this in the activity_main.xml file inside the FrameLayout tag.</p>\n\n<pre><code>&lt;fragment\n  android:id=\"@+id/fragNavHost\"\n  android:name=\"androidx.navigation.fragment.NavHostFragment\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"\n  app:defaultNavHost=\"true\"\n  app:navGraph=\"@navigation/bottom_nav_graph\" /&gt;\n</code></pre>\n\n<p>You will see an error saying “Cannot resolve symbol @navigation/bottom_nav_graph .”</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/bottom_nav_graph.xml\"\n    app:startDestination=\"@id/homeFragment2\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/homeFragment2\"\n        android:name=\"com.wajahatkarim3.bottomnavigationdemo.HomeFragment\"\n        android:label=\"fragment_home\"\n        tools:layout=\"@layout/fragment_home\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/searchFragment2\"\n        android:name=\"com.wajahatkarim3.bottomnavigationdemo.SearchFragment\"\n        android:label=\"fragment_search\"\n        tools:layout=\"@layout/fragment_search\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/notificationsFragment2\"\n        android:name=\"com.wajahatkarim3.bottomnavigationdemo.NotificationsFragment\"\n        android:label=\"fragment_notifications\"\n        tools:layout=\"@layout/fragment_notifications\" /&gt;\n\n    &lt;fragment\n        android:id=\"@+id/profileFragment2\"\n        android:name=\"com.wajahatkarim3.bottomnavigationdemo.ProfileFragment\"\n        android:label=\"fragment_profile\"\n        tools:layout=\"@layout/fragment_profile\" /&gt;\n&lt;/navigation&gt;\n</code></pre>\n\n<p>Its time for add some code in our activity class. Open MainActivity.kt file, and create a method setupViews() in it. Call this in onCreate() of the activity. Add these lines in the setupVeiws() method.</p>\n\n<pre><code>    fun setupViews()\n{\n    // Finding the Navigation Controller\n    var navController = findNavController(R.id.fragNavHost)\n\n    // Setting Navigation Controller with the BottomNavigationView\n    bottomNavView.setupWithNavController(navController)\n\n    // Setting Up ActionBar with Navigation Controller\n    // Pass the IDs of top-level destinations in AppBarConfiguration\n    var appBarConfiguration = AppBarConfiguration(\n        topLevelDestinationIds = setOf (\n            R.id.homeFragment,\n            R.id.searchFragment,\n            R.id.notificationsFragment,\n            R.id.profileFragment\n        )\n    )\n    setupActionBarWithNavController(navController, appBarConfiguration)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18210125,"reputation":77,"user_id":13252809,"display_name":"Akhil Hothi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632543197,"creation_date":1630949730,"answer_id":69078424,"question_id":60403240,"body_markdown":"When I tried @Kasım &#214;zdemir &#39;s answer, Each time the activity is launched, There was an initial ripple effect on the first item in bottom navigation view.(because I am using material bottom navigation view, which has a default ripple effect. And also UI was not visible when I tap for the first time, but I think that was because I was using different method than @Kasım &#214;zdemir to change my active fragment when Item is clicked.\r\n\r\nI didn&#39;t want to start my activity with  first item, but with middle item in navigation view, which is &quot;FragmentTwo&quot; in below case. So the ripple effect was quite irrelevant.\r\n\r\nSo, I just ***attached*** the fragment instead of *adding* it and then hiding it, and now there is no ripple, Here is how code looks in Kotlin...\r\n\r\n        val firstFragment: Fragment = FragmentOne()\r\n        val middleFragment: Fragment = FragmentTwo()\r\n        val thirdFragment: Fragment = FragmentThree()\r\n        var fragment: Fragment? = null\r\n        var bnv: BottomNavigationView? = null\r\n\r\n        bnv = findViewById(R.id.bottom_navigation)\r\n        bnv!!.selectedItemId = R.id.middle_page\r\n\r\n      //fragments attached other than the fragment linked with middle item    \r\n        supportFragmentManager.beginTransaction().attach(firstFragment).commit()\r\n        supportFragmentManager.beginTransaction().attach(thirdFragment).commit()\r\n\r\n        supportFragmentManager.beginTransaction().add(R.id.activity_main_container, middleFragment())\r\n            .commit()\r\n     bnv!!.setOnItemSelectedListener { item -&gt;\r\n    \r\n                when (item.itemId) {    \r\n                    R.id.first_page -&gt; fragment = firstFragment\r\n                    R.id.middle_page -&gt; fragment = middleFragment\r\n                    R.id.third_page -&gt; fragment = thirdFragment    \r\n                }\r\n        \r\n                if (item.isChecked){\r\n                    false\r\n                }\r\n    \r\n                else {\r\n                    supportFragmentManager.beginTransaction()\r\n                        .setCustomAnimations(R.anim.fade_in, R.anim.fade_out).replace(\r\n                            R.id.activity_main_container,\r\n                            fragment!!\r\n                        ).commit()\r\n                    true\r\n                }\r\n            }\r\n\r\nSo, using attach can also work fine instead of adding and then hiding it... for more information you can [check this answer][1]\r\n\r\n(If you haven&#39;t already, Try using Navigation Component for bottom navigation, [like this][2]. It is more handy in some case, as it handles default backStack management by itself.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16691416/when-to-use-the-attach-and-detach-methods-of-fragmenttransaction\r\n  [2]: https://stackoverflow.com/a/50948257/13252809","title":"Lag when switching tabs in BottomNavigationView","body":"<p>When I tried @Kasım Özdemir 's answer, Each time the activity is launched, There was an initial ripple effect on the first item in bottom navigation view.(because I am using material bottom navigation view, which has a default ripple effect. And also UI was not visible when I tap for the first time, but I think that was because I was using different method than @Kasım Özdemir to change my active fragment when Item is clicked.</p>\n<p>I didn't want to start my activity with  first item, but with middle item in navigation view, which is &quot;FragmentTwo&quot; in below case. So the ripple effect was quite irrelevant.</p>\n<p>So, I just <em><strong>attached</strong></em> the fragment instead of <em>adding</em> it and then hiding it, and now there is no ripple, Here is how code looks in Kotlin...</p>\n<pre><code>    val firstFragment: Fragment = FragmentOne()\n    val middleFragment: Fragment = FragmentTwo()\n    val thirdFragment: Fragment = FragmentThree()\n    var fragment: Fragment? = null\n    var bnv: BottomNavigationView? = null\n\n    bnv = findViewById(R.id.bottom_navigation)\n    bnv!!.selectedItemId = R.id.middle_page\n\n  //fragments attached other than the fragment linked with middle item    \n    supportFragmentManager.beginTransaction().attach(firstFragment).commit()\n    supportFragmentManager.beginTransaction().attach(thirdFragment).commit()\n\n    supportFragmentManager.beginTransaction().add(R.id.activity_main_container, middleFragment())\n        .commit()\n bnv!!.setOnItemSelectedListener { item -&gt;\n\n            when (item.itemId) {    \n                R.id.first_page -&gt; fragment = firstFragment\n                R.id.middle_page -&gt; fragment = middleFragment\n                R.id.third_page -&gt; fragment = thirdFragment    \n            }\n    \n            if (item.isChecked){\n                false\n            }\n\n            else {\n                supportFragmentManager.beginTransaction()\n                    .setCustomAnimations(R.anim.fade_in, R.anim.fade_out).replace(\n                        R.id.activity_main_container,\n                        fragment!!\n                    ).commit()\n                true\n            }\n        }\n</code></pre>\n<p>So, using attach can also work fine instead of adding and then hiding it... for more information you can <a href=\"https://stackoverflow.com/questions/16691416/when-to-use-the-attach-and-detach-methods-of-fragmenttransaction\">check this answer</a></p>\n<p>(If you haven't already, Try using Navigation Component for bottom navigation, <a href=\"https://stackoverflow.com/a/50948257/13252809\">like this</a>. It is more handy in some case, as it handles default backStack management by itself.)</p>\n"}],"owner":{"account_id":17507319,"reputation":181,"user_id":12696236,"display_name":"RushedPotato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5572,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1632543197,"creation_date":1582665273,"question_id":60403240,"body_markdown":"I have an Activity that contains a BottomNavigationView, and this bottomnav helps the activity to display three fragments. These fragments load well, and I use an AsyncTask to do every heavy operation, while in the UI thread, I show a ProgressBar until everything loads.     \r\nThere is a weird behaviour with my fragment: The first time I load the fragment it takes some time to actually display it, instead of displaying it instantly with a progressbar.     \r\nThis thing only happens the first time, and only in this fragment.       \r\nThe fragment code only contains this:       \r\n\r\n    @Override\r\n        public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n            super.onActivityCreated(savedInstanceState);\r\n            new LoadData(getView(), getContext()).execute();\r\n        }\r\n    \r\n    private class LoadData extends AsyncTask&lt;Void, Void, Void&gt; {\r\n    \r\n            private View v;\r\n            private Context context;\r\n    \r\n            public LoadData(View v, Context context) {\r\n                items = new ArrayList&lt;&gt;();\r\n                this.v = v;\r\n                this.context = context;\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                setItems(context); //Heavy operation\r\n                adapter = new DashAdapter(items, context);\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                //shows progressbar\r\n                progress = v.findViewById(R.id.DFProgress);\r\n                progress.setVisibility(View.VISIBLE);\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                super.onPostExecute(aVoid);\r\n                setPager();\r\n                //sets viewPager and hides progressbar\r\n                progress.setVisibility(View.GONE);\r\n            }\r\n        }\r\n\r\nIn the gif below, if you look at the bottomnavigationview at the bottom, you can see that it takes time to display the fragment. But after trying to load the fragment a second time, it loads as expected.\r\n[![enter image description here][1]][1]\r\n\r\nHow could I make the fragment to load the right way?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AHbXM.gif","title":"Lag when switching tabs in BottomNavigationView","body":"<p>I have an Activity that contains a BottomNavigationView, and this bottomnav helps the activity to display three fragments. These fragments load well, and I use an AsyncTask to do every heavy operation, while in the UI thread, I show a ProgressBar until everything loads.<br>\nThere is a weird behaviour with my fragment: The first time I load the fragment it takes some time to actually display it, instead of displaying it instantly with a progressbar.<br>\nThis thing only happens the first time, and only in this fragment.<br>\nThe fragment code only contains this:       </p>\n\n<pre><code>@Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        new LoadData(getView(), getContext()).execute();\n    }\n\nprivate class LoadData extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        private View v;\n        private Context context;\n\n        public LoadData(View v, Context context) {\n            items = new ArrayList&lt;&gt;();\n            this.v = v;\n            this.context = context;\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            setItems(context); //Heavy operation\n            adapter = new DashAdapter(items, context);\n            return null;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            //shows progressbar\n            progress = v.findViewById(R.id.DFProgress);\n            progress.setVisibility(View.VISIBLE);\n        }\n\n        @Override\n        protected void onPostExecute(Void aVoid) {\n            super.onPostExecute(aVoid);\n            setPager();\n            //sets viewPager and hides progressbar\n            progress.setVisibility(View.GONE);\n        }\n    }\n</code></pre>\n\n<p>In the gif below, if you look at the bottomnavigationview at the bottom, you can see that it takes time to display the fragment. But after trying to load the fragment a second time, it loads as expected.\n<a href=\"https://i.stack.imgur.com/AHbXM.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AHbXM.gif\" alt=\"enter image description here\"></a></p>\n\n<p>How could I make the fragment to load the right way?</p>\n"},{"tags":["java","reference","garbage-collection","weak-references"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1475862323,"post_id":39285108,"comment_id":67129768,"body_markdown":"In Java, “scope” is a compile-time artifact and does not affect the garbage collector at runtime in any way.","body":"In Java, “scope” is a compile-time artifact and does not affect the garbage collector at runtime in any way."},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":0,"creation_date":1638237757,"post_id":39285108,"comment_id":124029870,"body_markdown":"Same topic but for C#: https://devblogs.microsoft.com/oldnewthing/20100810-00/?p=13193","body":"Same topic but for C#: <a href=\"https://devblogs.microsoft.com/oldnewthing/20100810-00/?p=13193\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/oldnewthing/20100810-00/?p=13193</a>"}],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1472796401,"creation_date":1472796401,"answer_id":39285358,"question_id":39285108,"body_markdown":"I would say the object is collectable at point 2, going by the following language in [JLS section 12.6.1][1]:\r\n\r\n&gt; Optimizing transformations of a program can be designed that reduce the number of objects that are reachable to be less than those which would naively be considered reachable. For example, **a Java compiler or code generator may choose to set a variable or parameter that will no longer be used to null** to cause the storage for such an object to be potentially reclaimable sooner.\r\n\r\nSince the `bt` variable will no longer be used after point 2, Java is free to clear that variable, rendering the BigThing object only weakly reachable.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.6.1","title":"Can Java garbage collect variables before end of scope?","body":"<p>I would say the object is collectable at point 2, going by the following language in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.6.1\" rel=\"noreferrer\">JLS section 12.6.1</a>:</p>\n\n<blockquote>\n  <p>Optimizing transformations of a program can be designed that reduce the number of objects that are reachable to be less than those which would naively be considered reachable. For example, <strong>a Java compiler or code generator may choose to set a variable or parameter that will no longer be used to null</strong> to cause the storage for such an object to be potentially reclaimable sooner.</p>\n</blockquote>\n\n<p>Since the <code>bt</code> variable will no longer be used after point 2, Java is free to clear that variable, rendering the BigThing object only weakly reachable.</p>\n"},{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632542610,"creation_date":1473003987,"answer_id":39318702,"question_id":39285108,"body_markdown":"Java 9 introduces [Reference.reachabilityFence][1] to solve this case, which of course also implies that it does exist in the first place.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/ref/Reference.html","title":"Can Java garbage collect variables before end of scope?","body":"<p>Java 9 introduces <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ref/Reference.html\" rel=\"nofollow noreferrer\">Reference.reachabilityFence</a> to solve this case, which of course also implies that it does exist in the first place.</p>\n"}],"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":39285358,"answer_count":2,"score":7,"last_activity_date":1632542610,"creation_date":1472795250,"question_id":39285108,"body_markdown":"Suppose we have a program like this:\r\n\r\n    void main() {\r\n        // Point 0\r\n        BigThing bt = new BigThing();\r\n        // Point 1\r\n        WeakReference&lt;BigThing&gt; weak = new WeakReference&lt;&gt;(bt);\r\n        // Point 2\r\n        doSomething(weak);\r\n        // Point 3\r\n    }\r\n    \r\n    void doSomething(...) { ... }\r\n\r\nWe know that the weak reference to the `BigThing` object cannot prevent the object from being garbage collected when it becomes no longer strongly reachable.\r\n\r\nMy question is about the local variable `bt` which is a strong reference to the `BigThing` object. **Does the object become not-strongly-reachable at point 2 (just before calling `doSomething()`) or at point 3 (end of block scope)?**\r\n\r\nThe answer to this question will affect whether the call to `doSomething()` is guaranteed to be able to access the live `BigThing` object, or whether the underlying object can die during the function call.\r\n\r\nI am uncertain because you could argue that after point 2, the local variable `bt` is never read or written anymore, so the variable is effectively dead and the pointer value can be discarded. This &quot;optimization&quot; would be valid if all references were strong, but the reasoning falls apart when the notions of soft, weak, and phantom references are introduced, and finalizers as well. Also as an analogy, because C++ has destructors, a value must be destructed at the end of the scope, and cannot be moved ahead to the point of last usage.","title":"Can Java garbage collect variables before end of scope?","body":"<p>Suppose we have a program like this:</p>\n\n<pre><code>void main() {\n    // Point 0\n    BigThing bt = new BigThing();\n    // Point 1\n    WeakReference&lt;BigThing&gt; weak = new WeakReference&lt;&gt;(bt);\n    // Point 2\n    doSomething(weak);\n    // Point 3\n}\n\nvoid doSomething(...) { ... }\n</code></pre>\n\n<p>We know that the weak reference to the <code>BigThing</code> object cannot prevent the object from being garbage collected when it becomes no longer strongly reachable.</p>\n\n<p>My question is about the local variable <code>bt</code> which is a strong reference to the <code>BigThing</code> object. <strong>Does the object become not-strongly-reachable at point 2 (just before calling <code>doSomething()</code>) or at point 3 (end of block scope)?</strong></p>\n\n<p>The answer to this question will affect whether the call to <code>doSomething()</code> is guaranteed to be able to access the live <code>BigThing</code> object, or whether the underlying object can die during the function call.</p>\n\n<p>I am uncertain because you could argue that after point 2, the local variable <code>bt</code> is never read or written anymore, so the variable is effectively dead and the pointer value can be discarded. This \"optimization\" would be valid if all references were strong, but the reasoning falls apart when the notions of soft, weak, and phantom references are introduced, and finalizers as well. Also as an analogy, because C++ has destructors, a value must be destructed at the end of the scope, and cannot be moved ahead to the point of last usage.</p>\n"},{"tags":["java","udp","datagram"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1632520916,"post_id":69321385,"comment_id":122524453,"body_markdown":"Ports below 1024 are protected. Looks like you&#39;re using very low numbers.","body":"Ports below 1024 are protected. Looks like you&#39;re using very low numbers."},{"owner":{"account_id":15443743,"reputation":13,"user_id":11141455,"display_name":"Alexandr Malkov"},"score":0,"creation_date":1632521576,"post_id":69321385,"comment_id":122524564,"body_markdown":"Oh, gush, I changed the ports, but it didn&#39;t help. However, thanks!","body":"Oh, gush, I changed the ports, but it didn&#39;t help. However, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632542551,"creation_date":1632528957,"answer_id":69322169,"question_id":69321385,"body_markdown":"You have to specify the port on which to bind your `DatagramSocket` in order to receive your data. Otherwise it will bind to the first available port found on your machine.\r\n\r\n And you don&#39;t need the `SocketAddress` here, but you do need to take account of the actual received packet length.\r\n\r\nSee [java.net.DatagramSocket Documentation][1]&lt;br&gt;&lt;br&gt;\r\nIn the `receive()` method of your `TransferClient` class:\r\n\r\n    public Command receive() throws IOException, ClassNotFoundException {\r\n\r\n        DatagramSocket s = new DatagramSocket(2029); //Add your port Here\r\n\r\n        DatagramPacket inputPacket = new DatagramPacket(new byte[1024],1024);\r\n        s.receive(inputPacket);\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(inputPacket.getData(), 0, packet.getLength());\r\n        ObjectInputStream ois = new ObjectInputStream(bais);\r\n        return (Command) ois.readObject();\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/DatagramSocket.html#DatagramSocket()","title":"UDP datagram is sent but never received","body":"<p>You have to specify the port on which to bind your <code>DatagramSocket</code> in order to receive your data. Otherwise it will bind to the first available port found on your machine.</p>\n<p>And you don't need the <code>SocketAddress</code> here, but you do need to take account of the actual received packet length.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/DatagramSocket.html#DatagramSocket()\" rel=\"nofollow noreferrer\">java.net.DatagramSocket Documentation</a><br><br>\nIn the <code>receive()</code> method of your <code>TransferClient</code> class:</p>\n<pre><code>public Command receive() throws IOException, ClassNotFoundException {\n\n    DatagramSocket s = new DatagramSocket(2029); //Add your port Here\n\n    DatagramPacket inputPacket = new DatagramPacket(new byte[1024],1024);\n    s.receive(inputPacket);\n    ByteArrayInputStream bais = new ByteArrayInputStream(inputPacket.getData(), 0, packet.getLength());\n    ObjectInputStream ois = new ObjectInputStream(bais);\n    return (Command) ois.readObject();\n}\n</code></pre>\n"}],"owner":{"account_id":15443743,"reputation":13,"user_id":11141455,"display_name":"Alexandr Malkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69322169,"answer_count":1,"score":0,"last_activity_date":1632542551,"creation_date":1632519983,"question_id":69321385,"body_markdown":"I made two different java classes, for a client and for a server, with send and receive methods in each. According to the task, I had to make server-to-client connection via `DatagramPacket`  and client-to-server via `DatagramChannel`. The last one works great, but I have trouble with datagrams -- they are sent from the server and never received on the client. What&#39;s wrong?\r\n\r\n\r\n    public class TransferClient implements Serializable{\r\n        private static final long serialVersionUID = 26L;\r\n        public TransferClient() {\r\n    \r\n        }\r\n    \r\n        public void send(Command com) throws IOException {\r\n            SocketAddress socketAddressChannel = new InetSocketAddress(&quot;localhost&quot;, 1);\r\n            DatagramChannel datagramChannel=DatagramChannel.open();\r\n            ByteBuffer bb;\r\n            datagramChannel.connect(socketAddressChannel);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n            oos.writeObject(com);\r\n            oos.flush();\r\n            bb=ByteBuffer.wrap(baos.toByteArray(),0, baos.size());\r\n            datagramChannel.send(bb,socketAddressChannel);\r\n            baos.close();\r\n            oos.close();\r\n        }\r\n    \r\n        public Command receive() throws IOException, ClassNotFoundException {\r\n            SocketAddress address = new InetSocketAddress(2029);\r\n            DatagramSocket s = new DatagramSocket();\r\n            DatagramPacket inputPacket = new DatagramPacket(new byte[1024],1024, address);\r\n            s.receive(inputPacket);\r\n            ByteArrayInputStream bais = new ByteArrayInputStream(inputPacket.getData());\r\n            ObjectInputStream ois = new ObjectInputStream(bais);\r\n            return (Command) ois.readObject();\r\n        }\r\n    }\r\n\r\n    public class TransferServer {\r\n        public TransferServer(){\r\n    \r\n        }\r\n    \r\n        public void send(Command com) throws IOException {\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n            byte[] buffer;\r\n            oos.writeObject(com);\r\n            oos.flush();\r\n            buffer=baos.toByteArray();\r\n            SocketAddress address = new InetSocketAddress(&quot;localhost&quot;,2029);\r\n            DatagramSocket s = new DatagramSocket();\r\n            DatagramPacket outputPacket = new DatagramPacket(buffer,buffer.length,address);\r\n            s.send(outputPacket);\r\n        }\r\n    \r\n\r\n        public Command receive() throws IOException, ClassNotFoundException {\r\n                SocketAddress socketAddressChannel = new InetSocketAddress(&quot;localhost&quot;, 1);\r\n                DatagramChannel datagramChannel = DatagramChannel.open();\r\n                datagramChannel.bind(socketAddressChannel);\r\n                ByteBuffer bb = ByteBuffer.allocate(1024);\r\n                datagramChannel.receive(bb);\r\n                ByteArrayInputStream bais = new ByteArrayInputStream(bb.array());\r\n                ObjectInputStream ois = new ObjectInputStream(bais);\r\n                Command command;\r\n                System.out.println(ois.available());\r\n                command =(Command) ois.readObject();\r\n                datagramChannel.close();\r\n                ois.close();\r\n                bais.close();\r\n                return command;\r\n        }\r\n    }\r\n","title":"UDP datagram is sent but never received","body":"<p>I made two different java classes, for a client and for a server, with send and receive methods in each. According to the task, I had to make server-to-client connection via <code>DatagramPacket</code>  and client-to-server via <code>DatagramChannel</code>. The last one works great, but I have trouble with datagrams -- they are sent from the server and never received on the client. What's wrong?</p>\n<pre><code>public class TransferClient implements Serializable{\n    private static final long serialVersionUID = 26L;\n    public TransferClient() {\n\n    }\n\n    public void send(Command com) throws IOException {\n        SocketAddress socketAddressChannel = new InetSocketAddress(&quot;localhost&quot;, 1);\n        DatagramChannel datagramChannel=DatagramChannel.open();\n        ByteBuffer bb;\n        datagramChannel.connect(socketAddressChannel);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        oos.writeObject(com);\n        oos.flush();\n        bb=ByteBuffer.wrap(baos.toByteArray(),0, baos.size());\n        datagramChannel.send(bb,socketAddressChannel);\n        baos.close();\n        oos.close();\n    }\n\n    public Command receive() throws IOException, ClassNotFoundException {\n        SocketAddress address = new InetSocketAddress(2029);\n        DatagramSocket s = new DatagramSocket();\n        DatagramPacket inputPacket = new DatagramPacket(new byte[1024],1024, address);\n        s.receive(inputPacket);\n        ByteArrayInputStream bais = new ByteArrayInputStream(inputPacket.getData());\n        ObjectInputStream ois = new ObjectInputStream(bais);\n        return (Command) ois.readObject();\n    }\n}\n\npublic class TransferServer {\n    public TransferServer(){\n\n    }\n\n    public void send(Command com) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        byte[] buffer;\n        oos.writeObject(com);\n        oos.flush();\n        buffer=baos.toByteArray();\n        SocketAddress address = new InetSocketAddress(&quot;localhost&quot;,2029);\n        DatagramSocket s = new DatagramSocket();\n        DatagramPacket outputPacket = new DatagramPacket(buffer,buffer.length,address);\n        s.send(outputPacket);\n    }\n\n\n    public Command receive() throws IOException, ClassNotFoundException {\n            SocketAddress socketAddressChannel = new InetSocketAddress(&quot;localhost&quot;, 1);\n            DatagramChannel datagramChannel = DatagramChannel.open();\n            datagramChannel.bind(socketAddressChannel);\n            ByteBuffer bb = ByteBuffer.allocate(1024);\n            datagramChannel.receive(bb);\n            ByteArrayInputStream bais = new ByteArrayInputStream(bb.array());\n            ObjectInputStream ois = new ObjectInputStream(bais);\n            Command command;\n            System.out.println(ois.available());\n            command =(Command) ois.readObject();\n            datagramChannel.close();\n            ois.close();\n            bais.close();\n            return command;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","listview","arraylist"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633244628,"post_id":69322620,"comment_id":122704355,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":7538388,"reputation":1412,"user_id":5723943,"display_name":"Rediska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632541954,"creation_date":1632541954,"answer_id":69322986,"question_id":69322620,"body_markdown":"The problem most likely is that the ListView adapter recycles the item views, but does not re-initializes them for some reason. This is why you see repeated files and folders: the item views show file names that went outside of the visible part of the list, and are beign incorrectly reused for representing another file.","title":"How to solve this bug in listview?","body":"<p>The problem most likely is that the ListView adapter recycles the item views, but does not re-initializes them for some reason. This is why you see repeated files and folders: the item views show file names that went outside of the visible part of the list, and are beign incorrectly reused for representing another file.</p>\n"}],"owner":{"account_id":22831779,"reputation":9,"user_id":16980104,"display_name":"Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1632541954,"creation_date":1632535540,"question_id":69322620,"body_markdown":"I&#39;m making a file manager for android, but I&#39;m having a problem displaying files and folders in the listview. I&#39;m getting repeated folder and file names, but when I click to proceed in the folder, the ArrayList returns the name correctly. My code: \r\n```\r\npublic void loadFiles(String path){\r\n       listmap.clear();\r\n       array.clear();\r\n       FileUtil.listDir(path, array);\r\n       int position = 0;\r\n       String currentlyPath = path;\r\n       text_currently_path.setText(currentlyPath);\r\n       for(int rep=0; rep&lt; (int)(array.size()); rep++){\r\n           {\r\n           HashMap&lt;String, Object&gt; item = new HashMap&lt;&gt;();\r\n           item.put(&quot;path&quot;, array.get(position));\r\n           listmap.add(item);\r\n           }\r\n           position++;\r\n           listview_files.setAdapter(new ListViewAdapter(listmap));\r\n       }\r\n   }\r\n\r\n```\r\nI want to know if it&#39;s possible to fix this. Thanks a lot to anyone who answers!","title":"How to solve this bug in listview?","body":"<p>I'm making a file manager for android, but I'm having a problem displaying files and folders in the listview. I'm getting repeated folder and file names, but when I click to proceed in the folder, the ArrayList returns the name correctly. My code:</p>\n<pre><code>public void loadFiles(String path){\n       listmap.clear();\n       array.clear();\n       FileUtil.listDir(path, array);\n       int position = 0;\n       String currentlyPath = path;\n       text_currently_path.setText(currentlyPath);\n       for(int rep=0; rep&lt; (int)(array.size()); rep++){\n           {\n           HashMap&lt;String, Object&gt; item = new HashMap&lt;&gt;();\n           item.put(&quot;path&quot;, array.get(position));\n           listmap.add(item);\n           }\n           position++;\n           listview_files.setAdapter(new ListViewAdapter(listmap));\n       }\n   }\n\n</code></pre>\n<p>I want to know if it's possible to fix this. Thanks a lot to anyone who answers!</p>\n"},{"tags":["java","linux","tomcat","threadpool","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632541952,"creation_date":1632541952,"answer_id":69322985,"question_id":69322753,"body_markdown":"&gt; periodically check the database connection status\r\n\r\nIs this polling as a health check or are you rolling your own DB connection pool? \r\n\r\n&gt; However, ScheduledThreadPoolExecutor consumes 100% CPU when corePoolSize = 0. Setting corePoolSize = 1, resolves the issue.\r\n\r\nHow did you determine this? You can check the threads view in VisualVM, but even though all these threads were running, the JVM never went past 3% CPU use. It&#39;s worth noting the thread pool thread is mostly parked.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RSPK9.png\r\n\r\n&gt; In production we would have hundreds of users. My question is, in this case, what would be the ideal value for corePoolSize?\r\n\r\nHow many thread pools are you spinning up? One per authentication is pretty inefficient. Same with connections. Like I mentioned before, you usually want to pool them. How are you keeping connections open across the lifecycle of an &quot;authentication?&quot; Are you storing connections in an `HttpSession`, i.e. `request.getSession()`?  This is a bad idea because of how much overhead is associated with a connection and how easy it is to have cleanup issues.\r\n\r\nDo you have a shared pool and you&#39;re not stopping old tasks? That could pin CPU use.\r\n\r\nAll that said, the general rule for a thread pool is threads=qps*latency, so if you check the connection every 10s, checking the connection takes 1s, and you have 60 connections, you need 6 threads + headroom. Reading your sample, that doesn&#39;t seem to be your problem. It sounds like you&#39;re spinning up way too many thread pools and possibly leaking them.","title":"What is the ideal corePoolSize for ScheduledThreadPoolExecutor?","body":"<blockquote>\n<p>periodically check the database connection status</p>\n</blockquote>\n<p>Is this polling as a health check or are you rolling your own DB connection pool?</p>\n<blockquote>\n<p>However, ScheduledThreadPoolExecutor consumes 100% CPU when corePoolSize = 0. Setting corePoolSize = 1, resolves the issue.</p>\n</blockquote>\n<p>How did you determine this? You can check the threads view in VisualVM, but even though all these threads were running, the JVM never went past 3% CPU use. It's worth noting the thread pool thread is mostly parked.</p>\n<p><a href=\"https://i.stack.imgur.com/RSPK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RSPK9.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>In production we would have hundreds of users. My question is, in this case, what would be the ideal value for corePoolSize?</p>\n</blockquote>\n<p>How many thread pools are you spinning up? One per authentication is pretty inefficient. Same with connections. Like I mentioned before, you usually want to pool them. How are you keeping connections open across the lifecycle of an &quot;authentication?&quot; Are you storing connections in an <code>HttpSession</code>, i.e. <code>request.getSession()</code>?  This is a bad idea because of how much overhead is associated with a connection and how easy it is to have cleanup issues.</p>\n<p>Do you have a shared pool and you're not stopping old tasks? That could pin CPU use.</p>\n<p>All that said, the general rule for a thread pool is threads=qps*latency, so if you check the connection every 10s, checking the connection takes 1s, and you have 60 connections, you need 6 threads + headroom. Reading your sample, that doesn't seem to be your problem. It sounds like you're spinning up way too many thread pools and possibly leaking them.</p>\n"}],"owner":{"account_id":6104453,"reputation":506,"user_id":4762500,"display_name":"Md."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632541952,"creation_date":1632537757,"question_id":69322753,"body_markdown":"In my Java web application, I am using a ScheduledThreadPoolExecutor to periodically check the database connection status. This is for every authenticated user (per authentication).\r\n\r\n    ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(0);\r\n    \r\n    Runnable task = new Runnable() {\r\n         public void run() {\r\n              //check the status of the database connection, and log the result\r\n         }\r\n    };\r\n    \r\n            \r\n    executor.scheduleWithFixedDelay(task, 0, 10, TimeUnit.MINUTES);\r\n\r\n\r\nHowever, ScheduledThreadPoolExecutor consumes 100% CPU when corePoolSize = 0. Setting corePoolSize = 1, resolves the issue.\r\n\r\n    ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(1);\r\n\r\nIn production we would have hundreds of users. **My question is, in this case, what would be the ideal value for corePoolSize?**\r\n","title":"What is the ideal corePoolSize for ScheduledThreadPoolExecutor?","body":"<p>In my Java web application, I am using a ScheduledThreadPoolExecutor to periodically check the database connection status. This is for every authenticated user (per authentication).</p>\n<pre><code>ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(0);\n\nRunnable task = new Runnable() {\n     public void run() {\n          //check the status of the database connection, and log the result\n     }\n};\n\n        \nexecutor.scheduleWithFixedDelay(task, 0, 10, TimeUnit.MINUTES);\n</code></pre>\n<p>However, ScheduledThreadPoolExecutor consumes 100% CPU when corePoolSize = 0. Setting corePoolSize = 1, resolves the issue.</p>\n<pre><code>ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(1);\n</code></pre>\n<p>In production we would have hundreds of users. <strong>My question is, in this case, what would be the ideal value for corePoolSize?</strong></p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632539947,"post_id":69322874,"comment_id":122526872,"body_markdown":"`public static int ` &lt;- The method is only declared to return a single `int`.  If you want to return a `List`, then declare as doing so, `public static List&lt;Integer&gt; `","body":"<code>public static int </code> &lt;- The method is only declared to return a single <code>int</code>.  If you want to return a <code>List</code>, then declare as doing so, <code>public static List&lt;Integer&gt; </code>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1632540404,"post_id":69322874,"comment_id":122526916,"body_markdown":"&quot;I don&#39;t know why the array won&#39;t return.&quot; Well, what *does* happen? I assume what happened - based on my own knowledge of Java - is that you get an error message. Did you *read* the error message? Did you *understand* the error message? Separately: when you write `public static int createArray(int theListSize)`, what do you think the `int` right after `static` means? Do you see how that conflicts with the intent of your code?","body":"&quot;I don&#39;t know why the array won&#39;t return.&quot; Well, what <i>does</i> happen? I assume what happened - based on my own knowledge of Java - is that you get an error message. Did you <i>read</i> the error message? Did you <i>understand</i> the error message? Separately: when you write <code>public static int createArray(int theListSize)</code>, what do you think the <code>int</code> right after <code>static</code> means? Do you see how that conflicts with the intent of your code?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632541720,"creation_date":1632540039,"answer_id":69322884,"question_id":69322874,"body_markdown":"You declared this method as returning a single `int` value, a single number, and a primitive (not an object). \r\n\r\nAn [`ArrayList`][1] is a *collection* of numbers, `Integer` objects (not primitives). \r\n\r\nYou said:\r\n\r\n&gt;Dynamic 1D Array\r\n\r\nI do not know what you mean by &quot;Dynamic&quot;.\r\n\r\nAn array in Java is not the same as an `ArrayList`. The first is a built-in basic type in Java. The second is a class found in the [Java Collections Framework][2], bundled with all Java distributions. \r\n\r\n - [Tutorial on arrays][3] by Oracle\r\n - [Tutorial on Collections][4] by Oracle \r\n\r\nYou asked:\r\n\r\n&gt;I mean that I understand what I&#39;m going to do, but I don&#39;t know why the array won&#39;t return. \r\n\r\nChange your method to return a `List` of `Integer` objects rather than a single `int`. Something like this.\r\n\r\n```java\r\npublic static List &lt; Integer &gt; possiblePrimes ( final int countOfPrimes )\r\n{\r\n    List &lt; Integer &gt; possiblePrimes = new ArrayList &lt; Integer &gt;( countOfPrimes );\r\n    for ( int i = 0 ; i &lt;= countOfPrimes ; i++ ) \r\n    {\r\n        possiblePrimes.add( i , i + 2 );\r\n    }\r\n    return List.copyOf( possiblePrimes );  // Return a unmodifiable list, as a general best practice.\r\n}\r\n```\r\n\r\nCall that method like this.\r\n\r\n```java\r\nList &lt; Integer &gt; maybePrimes = App.possiblePrimes( 7 );\r\nSystem.out.println( &quot;maybePrimes = &quot; + maybePrimes );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;maybePrimes = [2, 3, 4, 5, 6, 7, 8, 9]\r\n\r\nI think your algorithm for finding candidate primes needs some more work. &#128565;‍&#128171;\r\n\r\nIf you really want an array, see:\r\n\r\n - [*How to convert an ArrayList containing Integers to primitive int array?*][5]\r\n - [*Convert ArrayList of Integer Objects to an int array?*][6]\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_collections_framework\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/collections/TOC.html\r\n  [5]: https://stackoverflow.com/q/718554/642706\r\n  [6]: https://stackoverflow.com/q/13098960/642706","title":"How to return and call a Dynamic 1D Array from a method in java? (What am I missing in my code)?","body":"<p>You declared this method as returning a single <code>int</code> value, a single number, and a primitive (not an object).</p>\n<p>An <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> is a <em>collection</em> of numbers, <code>Integer</code> objects (not primitives).</p>\n<p>You said:</p>\n<blockquote>\n<p>Dynamic 1D Array</p>\n</blockquote>\n<p>I do not know what you mean by &quot;Dynamic&quot;.</p>\n<p>An array in Java is not the same as an <code>ArrayList</code>. The first is a built-in basic type in Java. The second is a class found in the <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections Framework</a>, bundled with all Java distributions.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Tutorial on arrays</a> by Oracle</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/collections/TOC.html\" rel=\"nofollow noreferrer\">Tutorial on Collections</a> by Oracle</li>\n</ul>\n<p>You asked:</p>\n<blockquote>\n<p>I mean that I understand what I'm going to do, but I don't know why the array won't return.</p>\n</blockquote>\n<p>Change your method to return a <code>List</code> of <code>Integer</code> objects rather than a single <code>int</code>. Something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List &lt; Integer &gt; possiblePrimes ( final int countOfPrimes )\n{\n    List &lt; Integer &gt; possiblePrimes = new ArrayList &lt; Integer &gt;( countOfPrimes );\n    for ( int i = 0 ; i &lt;= countOfPrimes ; i++ ) \n    {\n        possiblePrimes.add( i , i + 2 );\n    }\n    return List.copyOf( possiblePrimes );  // Return a unmodifiable list, as a general best practice.\n}\n</code></pre>\n<p>Call that method like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Integer &gt; maybePrimes = App.possiblePrimes( 7 );\nSystem.out.println( &quot;maybePrimes = &quot; + maybePrimes );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>maybePrimes = [2, 3, 4, 5, 6, 7, 8, 9]</p>\n</blockquote>\n<p>I think your algorithm for finding candidate primes needs some more work. 😵‍💫</p>\n<p>If you really want an array, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/718554/642706\"><em>How to convert an ArrayList containing Integers to primitive int array?</em></a></li>\n<li><a href=\"https://stackoverflow.com/q/13098960/642706\"><em>Convert ArrayList of Integer Objects to an int array?</em></a></li>\n</ul>\n"}],"owner":{"account_id":22259007,"reputation":3,"user_id":16490737,"display_name":"Ludwig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632552239,"accepted_answer_id":69322884,"answer_count":1,"score":0,"last_activity_date":1632541720,"creation_date":1632539874,"question_id":69322874,"body_markdown":"```\r\n   public static int createArray(int theListSize)\r\n  {\r\n    ArrayList&lt;Integer&gt; possiblePrimeNum = new ArrayList&lt;Integer&gt;();\r\n    \r\n    for (int i=0; i&lt;=theListSize; i++) //simply creates the array\r\n    {\r\n      possiblePrimeNum.add(i, i+2);\r\n    }\r\n    return possiblePrimeNum;\r\n  } \r\n```\r\n\r\nI don&#39;t understand this code. I mean that I understand what I&#39;m going to do, but I don&#39;t know why the array won&#39;t return. What&#39;s wrong here?\r\n\r\n`possiblePrimeNum=createArray(theListSize);`","title":"How to return and call a Dynamic 1D Array from a method in java? (What am I missing in my code)?","body":"<pre><code>   public static int createArray(int theListSize)\n  {\n    ArrayList&lt;Integer&gt; possiblePrimeNum = new ArrayList&lt;Integer&gt;();\n    \n    for (int i=0; i&lt;=theListSize; i++) //simply creates the array\n    {\n      possiblePrimeNum.add(i, i+2);\n    }\n    return possiblePrimeNum;\n  } \n</code></pre>\n<p>I don't understand this code. I mean that I understand what I'm going to do, but I don't know why the array won't return. What's wrong here?</p>\n<p><code>possiblePrimeNum=createArray(theListSize);</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1632541000,"post_id":69322911,"comment_id":122526979,"body_markdown":"The while loop hits one iteration","body":"The while loop hits one iteration"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632541520,"post_id":69322911,"comment_id":122527024,"body_markdown":"You&#39;re code works okay for me","body":"You&#39;re code works okay for me"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1632541774,"post_id":69322911,"comment_id":122527047,"body_markdown":"@MadProgrammer any chance /tmp directory would affect this at all ? Mac OS","body":"@MadProgrammer any chance /tmp directory would affect this at all ? Mac OS"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632541831,"post_id":69322911,"comment_id":122527054,"body_markdown":"@Ryan No idea, I&#39;m running on MacOS as well, trying to find a large file","body":"@Ryan No idea, I&#39;m running on MacOS as well, trying to find a large file"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1632542088,"post_id":69322911,"comment_id":122527085,"body_markdown":"@Ryan Yes, maybe try expanding into a more public space.  I zip a 36mb video file and had no issue decompressing it (using my Downloads folder)","body":"@Ryan Yes, maybe try expanding into a more public space.  I zip a 36mb video file and had no issue decompressing it (using my Downloads folder)"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1632542220,"post_id":69322911,"comment_id":122527103,"body_markdown":"Interesting. I&#39;m testing with a small file (1KB). Surprised it&#39;s not working. I have a single mount point on my k8s cluster underneath /tmp so a bit tied down with this path when I deploy","body":"Interesting. I&#39;m testing with a small file (1KB). Surprised it&#39;s not working. I have a single mount point on my k8s cluster underneath /tmp so a bit tied down with this path when I deploy"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1632542701,"post_id":69322911,"comment_id":122527172,"body_markdown":"Just curious, and not sure it matters, but if you&#39;re using GZIP streams, why does your destination file have a `.zip` extension? Shouldn&#39;t it be `.gz`?","body":"Just curious, and not sure it matters, but if you&#39;re using GZIP streams, why does your destination file have a <code>.zip</code> extension? Shouldn&#39;t it be <code>.gz</code>?"},{"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"score":0,"creation_date":1632542889,"post_id":69322911,"comment_id":122527198,"body_markdown":"I agree with slaw. I was just about to suggest the same. Rename the file to .gz and try to open it. Also try to open with a other utility like 7zip.","body":"I agree with slaw. I was just about to suggest the same. Rename the file to .gz and try to open it. Also try to open with a other utility like 7zip."},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1632546372,"post_id":69322911,"comment_id":122527597,"body_markdown":"gz extension didn&#39;t make a difference","body":"gz extension didn&#39;t make a difference"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632541217,"creation_date":1632540648,"question_id":69322911,"body_markdown":"I&#39;m trying to convert an existing CSV file to a gzip file.\r\n\r\nI verified the CSV looks good. Once I run this code, I get a &quot;failed to expand&quot; error and tried an online decompression tool that also failed, so it seems the output zip is corrupt.\r\n\r\n```\r\n    public void compressGzip(String input, String dest) throws IOException {\r\n\r\n        Path pathSource = Paths.get(input);\r\n        Path destSource = Paths.get(dest);\r\n\r\n        try (GZIPOutputStream gos = new GZIPOutputStream(\r\n                new FileOutputStream(destSource.toFile()));\r\n             FileInputStream fis = new FileInputStream(pathSource.toFile())) {\r\n\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = fis.read(buffer)) &gt; 0) {\r\n                gos.write(buffer, 0, len);\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnything I could be missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIbpq.png","title":"Unable to compress a CSV file Java","body":"<p>I'm trying to convert an existing CSV file to a gzip file.</p>\n<p>I verified the CSV looks good. Once I run this code, I get a &quot;failed to expand&quot; error and tried an online decompression tool that also failed, so it seems the output zip is corrupt.</p>\n<pre><code>    public void compressGzip(String input, String dest) throws IOException {\n\n        Path pathSource = Paths.get(input);\n        Path destSource = Paths.get(dest);\n\n        try (GZIPOutputStream gos = new GZIPOutputStream(\n                new FileOutputStream(destSource.toFile()));\n             FileInputStream fis = new FileInputStream(pathSource.toFile())) {\n\n            byte[] buffer = new byte[1024];\n            int len;\n            while ((len = fis.read(buffer)) &gt; 0) {\n                gos.write(buffer, 0, len);\n            }\n\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qIbpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIbpq.png\" alt=\"enter image description here\" /></a></p>\n<p>Anything I could be missing here?</p>\n"},{"tags":["java","mysql","sql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":22457174,"reputation":71,"user_id":16659692,"display_name":"kuroaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629560607,"creation_date":1629560607,"answer_id":68874498,"question_id":68874446,"body_markdown":"pay attention on your openDataBaseConnection() method. You are declaring again the conAdministrator variable e so the openDataBaseConnection is using conAdministrator as method variable and not the class variable.\r\n\r\nTry this version of openDataBaseConnection:\r\n\r\n \r\n\r\n    /**\r\n     * Name: openDataBaseConnection\r\n     * ABSTRACT: Opens the connection to the database\r\n     * @return blnResult determining factor if the database is connected\r\n     */\r\n    public static boolean openDataBaseConnection() {\r\n        // Connection conAdministrator = null;\r\n        String strConnect = &quot;&quot;;\r\n        boolean blnResult = false;\r\n        try {\r\n            strConnect = &quot;jdbc:mysql://localhost:3306/DBexample&quot;;\r\n            conAdministrator = (Connection)DriverManager.getConnection(strConnect, &quot;root&quot;, &quot;Classof2017!&quot;);\r\n            \r\n            if(conAdministrator != null) {\r\n                System.out.println(&quot;Database is Connected!&quot;);\r\n                blnResult = true;\r\n            }\r\n        }\r\n        catch(Exception e) {\r\n            System.out.println(&quot;Not Connected!&quot;);\r\n    \r\n       }\r\n           return blnResult;\r\n        \r\n    }\r\n\r\nI hope can help you","title":"Using SQL Database in Java","body":"<p>pay attention on your openDataBaseConnection() method. You are declaring again the conAdministrator variable e so the openDataBaseConnection is using conAdministrator as method variable and not the class variable.</p>\n<p>Try this version of openDataBaseConnection:</p>\n<pre><code>/**\n * Name: openDataBaseConnection\n * ABSTRACT: Opens the connection to the database\n * @return blnResult determining factor if the database is connected\n */\npublic static boolean openDataBaseConnection() {\n    // Connection conAdministrator = null;\n    String strConnect = &quot;&quot;;\n    boolean blnResult = false;\n    try {\n        strConnect = &quot;jdbc:mysql://localhost:3306/DBexample&quot;;\n        conAdministrator = (Connection)DriverManager.getConnection(strConnect, &quot;root&quot;, &quot;Classof2017!&quot;);\n        \n        if(conAdministrator != null) {\n            System.out.println(&quot;Database is Connected!&quot;);\n            blnResult = true;\n        }\n    }\n    catch(Exception e) {\n        System.out.println(&quot;Not Connected!&quot;);\n\n   }\n       return blnResult;\n    \n}\n</code></pre>\n<p>I hope can help you</p>\n"},{"tags":[],"owner":{"account_id":14772883,"reputation":103,"user_id":10668771,"display_name":"Bamba675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629560813,"creation_date":1629560813,"answer_id":68874522,"question_id":68874446,"body_markdown":"Its because you have the variable `conAdministrator` twice. Once in the Attribute-Section of the class and once at the top of the method `openDataBaseConnection`, so the connection gets written into the variable in the function.\r\n\r\nRemoving the first line of the method should solve that problem.\r\nTo avoid such bugs in the future, try to access variables which are not in the method with the keyword `this`","title":"Using SQL Database in Java","body":"<p>Its because you have the variable <code>conAdministrator</code> twice. Once in the Attribute-Section of the class and once at the top of the method <code>openDataBaseConnection</code>, so the connection gets written into the variable in the function.</p>\n<p>Removing the first line of the method should solve that problem.\nTo avoid such bugs in the future, try to access variables which are not in the method with the keyword <code>this</code></p>\n"}],"owner":{"account_id":20782366,"reputation":21,"user_id":15262464,"display_name":"Brittney P"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1629619877,"accepted_answer_id":68874498,"answer_count":2,"score":-1,"last_activity_date":1632540492,"creation_date":1629560105,"question_id":68874446,"body_markdown":"I want to access a table I created and print it within the console of Eclipse. However, I keep getting an error message that says this:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;databaseSQL.conAdministrator&quot; is null.\r\n\r\nI also uploaded a jar file: `mysql-connector-java-8.0.26.jar`\r\n\r\nHowever, my `openDataBaseConnection` method returns that the database is connected.\r\n\r\nMy code:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    import java.sql.*;\r\n    import java.sql.DriverManager;\r\n\r\n    public class databaseSQL {\r\n\t\tprivate static Connection conAdministrator;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\topenDataBaseConnection(); \r\n\t\t\tLoadListFromDatabase();\r\n\t\t}\r\n\r\n\t\tpublic static void LoadListFromDatabase() {\t\r\n\t\t\tString strConnect = &quot;jdbc:mysql://localhost:3306/DBexample&quot;;\r\n\t\t\tString sql = &quot;SELECT * FROM employeeInfo&quot;;\r\n\t\t\tStatement sqlCommand = null;\r\n\t\t\tResultSet rstTSource = null;\r\n\t\t\topenDataBaseConnection();\r\n\t\t\ttry {\r\n\t\t\t\tsqlCommand = conAdministrator.createStatement();\r\n\t\t\t\trstTSource = sqlCommand.executeQuery(sql);\r\n\t\t\t\twhile(rstTSource.next()) {\r\n\t\t\t\t\tString name = rstTSource.getString(1);\r\n\t\t\t\t\tSystem.out.println(name);\r\n\t\t\t\t}\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static boolean openDataBaseConnection() {\r\n\t\t\tConnection conAdministrator = null;\r\n\t\t\tString strConnect = &quot;&quot;;\r\n\t\t\tboolean blnResult = false;\r\n\t\t\ttry {\r\n\t\t\t\tstrConnect = &quot;jdbc:mysql://localhost:3306/DBexample&quot;;\r\n\t\t\t\tconAdministrator = \t(Connection)DriverManager.getConnection(strConnect, &quot;root&quot;, &quot;Classof2017!&quot;);\r\n\t\t\t\tif(conAdministrator != null) {\r\n\t\t\t\t\tSystem.out.println(&quot;Database is Connected!&quot;);\r\n\t\t\t\t\tblnResult = true;\r\n\t\t\t\t}\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Not Connected!&quot;);\r\n\t        }\r\n\t\t    return blnResult;\r\n\t\t}\r\n\r\n\t\tpublic static boolean closeDataBaseConnection() {\r\n\t\t\tboolean blnResult = false;\r\n\t\t\ttry {\r\n\t\t\t\tif(conAdministrator != null) {\r\n\t\t\t\t\tif(conAdministrator.isClosed() == false) {\r\n\t\t\t\t\t\tconAdministrator.close();\r\n\t\t\t\t\t\tconAdministrator = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tblnResult = true;\r\n\t\t\t\tSystem.out.println(&quot;Database is Closed.&quot;);\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t    }\r\n\t\t\treturn blnResult;\r\n\t\t}\r\n\t}\r\n\r\nThis is the SQL table I am trying to display in the console:\r\n\r\n    USE DBexample;\r\n    CREATE TABLE employeeInfo(intEmployeeID INT,\r\n\t\t\t\t\t\t\t    strFirstName VARCHAR(20),\r\n\t\t\t\t\t\t\t    strLastName VARCHAR(20),\r\n\t\t\t\t\t\t\t    strHomePhone VARCHAR(20),\r\n\t\t\t\t\t\t\t    strEmail VARCHAR(30),\r\n\t\t\t\t\t\t\t    dtmDateOfBirth DATE);\r\n    INSERT INTO employeeInfo VALUE(&#39;123000&#39;,&#39;Brittney&#39;, &#39;Pugh&#39;, &#39;(513)738-4730&#39;, &#39;pughb@email.com&#39;, &#39;1998-12-01&#39;);\r\n    INSERT INTO employeeInfo VALUE(&#39;246000&#39;, &#39;Emilee&#39;, &#39;Peters&#39;, &#39;(513)222-9876&#39;, &#39;emileep@email.com&#39;, &#39;1990-05-21&#39;);\r\n    INSERT INTO employeeInfo VALUE(&#39;689000&#39;, &#39;Sally&#39;, &#39;Jenkins&#39;, &#39;(513)456-2590&#39;, &#39;jenkinssally@email.com&#39;, &#39;1985-03-23&#39;);\r\n    INSERT INTO employeeInfo VALUE(&#39;537000&#39;, &#39;John&#39;, &#39;Smith&#39;, &#39;(513)889-0754&#39;, &#39;SmithJ@email.com&#39;,&#39;1995-07-07&#39;);\r\n    SELECT * FROM employeeInfo;\r\n\r\n","title":"Using SQL Database in Java","body":"<p>I want to access a table I created and print it within the console of Eclipse. However, I keep getting an error message that says this:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;databaseSQL.conAdministrator&quot; is null.</p>\n</blockquote>\n<p>I also uploaded a jar file: <code>mysql-connector-java-8.0.26.jar</code></p>\n<p>However, my <code>openDataBaseConnection</code> method returns that the database is connected.</p>\n<p>My code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\nimport java.sql.*;\nimport java.sql.DriverManager;\n\npublic class databaseSQL {\n    private static Connection conAdministrator;\n\n    public static void main(String[] args) {\n        openDataBaseConnection(); \n        LoadListFromDatabase();\n    }\n\n    public static void LoadListFromDatabase() { \n        String strConnect = &quot;jdbc:mysql://localhost:3306/DBexample&quot;;\n        String sql = &quot;SELECT * FROM employeeInfo&quot;;\n        Statement sqlCommand = null;\n        ResultSet rstTSource = null;\n        openDataBaseConnection();\n        try {\n            sqlCommand = conAdministrator.createStatement();\n            rstTSource = sqlCommand.executeQuery(sql);\n            while(rstTSource.next()) {\n                String name = rstTSource.getString(1);\n                System.out.println(name);\n            }\n        } catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public static boolean openDataBaseConnection() {\n        Connection conAdministrator = null;\n        String strConnect = &quot;&quot;;\n        boolean blnResult = false;\n        try {\n            strConnect = &quot;jdbc:mysql://localhost:3306/DBexample&quot;;\n            conAdministrator =  (Connection)DriverManager.getConnection(strConnect, &quot;root&quot;, &quot;Classof2017!&quot;);\n            if(conAdministrator != null) {\n                System.out.println(&quot;Database is Connected!&quot;);\n                blnResult = true;\n            }\n        } catch(Exception e) {\n            System.out.println(&quot;Not Connected!&quot;);\n        }\n        return blnResult;\n    }\n\n    public static boolean closeDataBaseConnection() {\n        boolean blnResult = false;\n        try {\n            if(conAdministrator != null) {\n                if(conAdministrator.isClosed() == false) {\n                    conAdministrator.close();\n                    conAdministrator = null;\n                }\n            }\n            blnResult = true;\n            System.out.println(&quot;Database is Closed.&quot;);\n        } catch(Exception e) {\n            System.out.println(e);\n        }\n        return blnResult;\n    }\n}\n</code></pre>\n<p>This is the SQL table I am trying to display in the console:</p>\n<pre><code>USE DBexample;\nCREATE TABLE employeeInfo(intEmployeeID INT,\n                            strFirstName VARCHAR(20),\n                            strLastName VARCHAR(20),\n                            strHomePhone VARCHAR(20),\n                            strEmail VARCHAR(30),\n                            dtmDateOfBirth DATE);\nINSERT INTO employeeInfo VALUE('123000','Brittney', 'Pugh', '(513)738-4730', 'pughb@email.com', '1998-12-01');\nINSERT INTO employeeInfo VALUE('246000', 'Emilee', 'Peters', '(513)222-9876', 'emileep@email.com', '1990-05-21');\nINSERT INTO employeeInfo VALUE('689000', 'Sally', 'Jenkins', '(513)456-2590', 'jenkinssally@email.com', '1985-03-23');\nINSERT INTO employeeInfo VALUE('537000', 'John', 'Smith', '(513)889-0754', 'SmithJ@email.com','1995-07-07');\nSELECT * FROM employeeInfo;\n</code></pre>\n"},{"tags":["java","data-structures","circular-list"],"comments":[{"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"score":2,"creation_date":1632519518,"post_id":69321306,"comment_id":122524204,"body_markdown":"if its a circular list, your while loop will never end","body":"if its a circular list, your while loop will never end"},{"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"score":1,"creation_date":1632519891,"post_id":69321306,"comment_id":122524280,"body_markdown":"You need some way of knowing when you&#39;ve checked every element so you can stop and return -1. I would suggest keeping a reference to the first node you check and see if the current node is the same as the first node. Also you use `break` to immediately exit a loop even if the condition keeping the loop executing is still true. Your while loop at the very end of your question makes no sense. Since your list is circular, temp will never be null, and that loop could be just an if statement. `if(temp == null) index = -1;`","body":"You need some way of knowing when you&#39;ve checked every element so you can stop and return -1. I would suggest keeping a reference to the first node you check and see if the current node is the same as the first node. Also you use <code>break</code> to immediately exit a loop even if the condition keeping the loop executing is still true. Your while loop at the very end of your question makes no sense. Since your list is circular, temp will never be null, and that loop could be just an if statement. <code>if(temp == null) index = -1;</code>"},{"owner":{"account_id":20782366,"reputation":21,"user_id":15262464,"display_name":"Brittney P"},"score":0,"creation_date":1632537924,"post_id":69321306,"comment_id":122526642,"body_markdown":"That&#39;s what I was thinking, but I wasn&#39;t sure how to describe that in the code. I&#39;m not too familiar with linked list. And I had an error that said something about null, so that&#39;s why I created the last while loop. But it didn&#39;t pertain to this specific method. Thank you fo your explanations!","body":"That&#39;s what I was thinking, but I wasn&#39;t sure how to describe that in the code. I&#39;m not too familiar with linked list. And I had an error that said something about null, so that&#39;s why I created the last while loop. But it didn&#39;t pertain to this specific method. Thank you fo your explanations!"}],"answers":[{"tags":[],"owner":{"account_id":4948185,"reputation":248,"user_id":3983013,"accept_rate":75,"display_name":"Piotr Michalczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632521472,"creation_date":1632521472,"answer_id":69321555,"question_id":69321306,"body_markdown":"As Kaus in the comments pointed out your while loop will never end in the current state. Assuming that the `tail` actually points to the last element in your list the following code could be used:\r\n\r\n    public int indexOf(int value) {\r\n        Node head = tail.next; //tail should be connected to a head\r\n        Node current = head;\r\n        int index = 0;\r\n        do {\r\n            if (current.value == value) {\r\n                return index;\r\n            }\r\n            current = current.next;\r\n            ++index;\r\n        } while (current != head);\r\n        return -1;\r\n    }\r\n\r\nAs it goes through all elements (starting from the head) and ends if it encounters head again (assuming that the searching value is not found). ","title":"Return location of first occurrence and return -1 if not found within the circular linked list","body":"<p>As Kaus in the comments pointed out your while loop will never end in the current state. Assuming that the <code>tail</code> actually points to the last element in your list the following code could be used:</p>\n<pre><code>public int indexOf(int value) {\n    Node head = tail.next; //tail should be connected to a head\n    Node current = head;\n    int index = 0;\n    do {\n        if (current.value == value) {\n            return index;\n        }\n        current = current.next;\n        ++index;\n    } while (current != head);\n    return -1;\n}\n</code></pre>\n<p>As it goes through all elements (starting from the head) and ends if it encounters head again (assuming that the searching value is not found).</p>\n"}],"owner":{"account_id":20782366,"reputation":21,"user_id":15262464,"display_name":"Brittney P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69321555,"answer_count":1,"score":0,"last_activity_date":1632540331,"creation_date":1632519272,"question_id":69321306,"body_markdown":"I am trying to assign -1 to the index if is not found within the circular linked list. This is the code I have currently:\r\n\r\n    public int indexOf(int value){\r\n    \tNode temp = tail.next;\r\n    \tint count = 0;\r\n    \tint index = 0;\r\n    \t\r\n    \twhile(temp != null) {\r\n    \t\tif(temp.value == value) {\r\n    \t\t\tindex = count;\r\n    \t\t\treturn index;\r\n    \t\t}\r\n    \t\tcount++;\r\n    \t\ttemp = temp.next;\r\n    \t}\r\n    \r\n    \treturn index -1;\r\n    \t\r\n    }\r\n\r\nWhen I test the code these are the results:\r\n\r\nThe list should be [8 12 14]: [ 8 12 14]\r\n*** TESTING INDEXOF ***\r\nThe index of 8 should be 0: 0\r\nThe index of 14 should be 2: 2\r\n\r\nThe code stops, it is supposed to print the index of 9, which is not in the list, which would be -1. I&#39;m not sure how to fix this. My code just runs and doesn&#39;t produce any more results (well not in a time-efficient manner anyway).\r\n\r\n\r\nWould I have to do :\r\n \r\n\r\n    while(temp == null){ \r\n    index = -1;\r\n    break; \r\n      }\r\n\r\n\r\nI appreciate any help!\r\n\r\n","title":"Return location of first occurrence and return -1 if not found within the circular linked list","body":"<p>I am trying to assign -1 to the index if is not found within the circular linked list. This is the code I have currently:</p>\n<pre><code>public int indexOf(int value){\n    Node temp = tail.next;\n    int count = 0;\n    int index = 0;\n    \n    while(temp != null) {\n        if(temp.value == value) {\n            index = count;\n            return index;\n        }\n        count++;\n        temp = temp.next;\n    }\n\n    return index -1;\n    \n}\n</code></pre>\n<p>When I test the code these are the results:</p>\n<p>The list should be [8 12 14]: [ 8 12 14]\n*** TESTING INDEXOF ***\nThe index of 8 should be 0: 0\nThe index of 14 should be 2: 2</p>\n<p>The code stops, it is supposed to print the index of 9, which is not in the list, which would be -1. I'm not sure how to fix this. My code just runs and doesn't produce any more results (well not in a time-efficient manner anyway).</p>\n<p>Would I have to do :</p>\n<pre><code>while(temp == null){ \nindex = -1;\nbreak; \n  }\n</code></pre>\n<p>I appreciate any help!</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1632530536,"post_id":69322273,"comment_id":122525855,"body_markdown":"Variable names should NOT start with an upper case character. Learn and follow Java naming conventions. A painting method is for painting only. You should NOT be creating Swing components or invoking your `buttons()` method since this will continue to add ActionListeners to the buttons every time the panel is repainted.","body":"Variable names should NOT start with an upper case character. Learn and follow Java naming conventions. A painting method is for painting only. You should NOT be creating Swing components or invoking your <code>buttons()</code> method since this will continue to add ActionListeners to the buttons every time the panel is repainted."},{"owner":{"account_id":22659179,"reputation":53,"user_id":16832576,"display_name":"OutcastedCringe"},"score":0,"creation_date":1632530657,"post_id":69322273,"comment_id":122525865,"body_markdown":"ok, thanks . I know the painting method is only really for painting, but I was trying to strap something together to see if it work, and it did so I was scared to touch it after that.","body":"ok, thanks . I know the painting method is only really for painting, but I was trying to strap something together to see if it work, and it did so I was scared to touch it after that."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1632530897,"post_id":69322273,"comment_id":122525911,"body_markdown":"Don&#39;t do `add(Green);` in the `paintComponent`, this is not how components should be used our how painting works","body":"Don&#39;t do <code>add(Green);</code> in the <code>paintComponent</code>, this is not how components should be used our how painting works"},{"owner":{"account_id":22659179,"reputation":53,"user_id":16832576,"display_name":"OutcastedCringe"},"score":0,"creation_date":1632531200,"post_id":69322273,"comment_id":122525965,"body_markdown":"Camrick Yeah, but my method of making this play able was making buttons over the pieces and use buttons to move them. Last question was about adding them now i need help making them not glitch. \nI truly am sorry for being stupid.","body":"Camrick Yeah, but my method of making this play able was making buttons over the pieces and use buttons to move them. Last question was about adding them now i need help making them not glitch.  I truly am sorry for being stupid."},{"owner":{"account_id":22659179,"reputation":53,"user_id":16832576,"display_name":"OutcastedCringe"},"score":0,"creation_date":1632531291,"post_id":69322273,"comment_id":122525971,"body_markdown":"Also order to organize my code better would i make a separate class or methods for making the buttons work properly.","body":"Also order to organize my code better would i make a separate class or methods for making the buttons work properly."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1632531613,"post_id":69322273,"comment_id":122526025,"body_markdown":"Sorry, I&#39;m not understanding what you are attempting to do. You should either 1) do all custom painting, including the game board and checkers on the board or 2) use all Swing components with the board containing JLabels with Icons to represent each checker. I don&#39;t know what the buttons are used for.","body":"Sorry, I&#39;m not understanding what you are attempting to do. You should either 1) do all custom painting, including the game board and checkers on the board or 2) use all Swing components with the board containing JLabels with Icons to represent each checker. I don&#39;t know what the buttons are used for."},{"owner":{"account_id":22659179,"reputation":53,"user_id":16832576,"display_name":"OutcastedCringe"},"score":0,"creation_date":1632532238,"post_id":69322273,"comment_id":122526080,"body_markdown":"@Bohemian i tried the code you put in and i got 29 errors","body":"@Bohemian i tried the code you put in and i got 29 errors"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1632532429,"post_id":69322273,"comment_id":122526094,"body_markdown":"@OutcastedCringe I removed the import statements because they unnecessary and clutter up the content. Unless the classes are obscure, don&#39;t include imports, or any other code that isn&#39;t absolutely required to describe the problem. I didn&#39;t remove any code, but you should as much as you can that you are sure is not related to the problem so readers don&#39;t have to wade through code noise to find the actual problem.","body":"@OutcastedCringe I removed the import statements because they unnecessary and clutter up the content. Unless the classes are obscure, don&#39;t include imports, or any other code that isn&#39;t absolutely required to describe the problem. I didn&#39;t remove any code, but you should as much as you can that you are sure is not related to the problem so readers don&#39;t have to wade through code noise to find the actual problem."},{"owner":{"account_id":22659179,"reputation":53,"user_id":16832576,"display_name":"OutcastedCringe"},"score":0,"creation_date":1632532813,"post_id":69322273,"comment_id":122526142,"body_markdown":"camrick that&#39;s fair i explain things poorly, my method is\n1. Draw board and Checkers\n2.Add the first set of buttons\n3.Add movement\n4.Add checks to stop overlapping\n5.Add Jumping over other pieces\n6. Win scenario\n7.&quot;King&quot; piece","body":"camrick that&#39;s fair i explain things poorly, my method is 1. Draw board and Checkers 2.Add the first set of buttons 3.Add movement 4.Add checks to stop overlapping 5.Add Jumping over other pieces 6. Win scenario 7.&quot;King&quot; piece"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1632534363,"post_id":69322273,"comment_id":122526288,"body_markdown":"@OutcastedCringe If you want to control the gave through the use of buttons, then use buttons with a `GridLayout`, save yourself a lot of time","body":"@OutcastedCringe If you want to control the gave through the use of buttons, then use buttons with a <code>GridLayout</code>, save yourself a lot of time"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632539852,"creation_date":1632539852,"answer_id":69322871,"question_id":69322273,"body_markdown":"Basic rule of thumb, do not, under any circumstances, modify the state of the component (or any other component) during a paint pass.  This can (and probably will) cause the component to be rescheduled for another paint pass and you&#39;ll end up in an infinite loop.\r\n\r\nThere are so many ways you &quot;might&quot; achieve this, for example, you could use `JButton`s in a `GridLayout`.\r\n\r\nThen all you need to is devise an appropriate model and delegation/observer workflow to keep the UI in sync with the model\r\n\r\n[![Checkers board][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    BoardPane boardPane = new BoardPane();\r\n                    boardPane.setBoardListener(new BoardListener() {\r\n                        @Override\r\n                        public void cellWasSelected(Point p) {\r\n                            System.out.println(&quot;Cell selected &quot; + p);\r\n                        }\r\n                    });\r\n                    frame.add(boardPane);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface BoardListener {\r\n            public void cellWasSelected(Point p);\r\n        }\r\n\r\n        public class BoardPane extends JPanel {\r\n\r\n            private Map&lt;Point, JButton&gt; cells = new HashMap&lt;&gt;();\r\n            private BoardListener boardListener;\r\n\r\n            public BoardPane() {\r\n                int gridSize = 8 * 8;\r\n                setLayout(new GridLayout(8, 8));\r\n                int index = 0;\r\n                for (int row = 0; row &lt; 8; row++) {\r\n                    int xPos = (row % 2 == 0) ? gridSize : 0;\r\n                    for (int col = 0; col &lt; 8; col++) {\r\n                        index++;\r\n                        JButton btn = new JButton();\r\n                        btn.setOpaque(true);\r\n                        btn.setFocusPainted(false);\r\n                        btn.setBorderPainted(false);\r\n                        // I&#39;d prefer to rely on something like\r\n                        // an image, such as an empty image for\r\n                        // cells which are empty\r\n                        btn.setPreferredSize(new Dimension(100, 100));\r\n                        if (index % 2 == 0) {\r\n                            btn.setBackground(Color.BLACK);\r\n                            btn.setForeground(Color.WHITE);\r\n                        } else {\r\n                            btn.setBackground(Color.WHITE);\r\n                            btn.setForeground(Color.BLACK);\r\n                        }\r\n                        Point p = new Point(col, row);\r\n                        btn.putClientProperty(&quot;cell&quot;, p);\r\n                        cells.put(p, btn);\r\n                        add(btn);\r\n\r\n                        btn.addActionListener(new ActionListener() {\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                BoardListener listener = getBoardListener();\r\n                                if (listener == null) {\r\n                                    return;\r\n                                }\r\n                                Point p = (Point)btn.getClientProperty(&quot;cell&quot;);\r\n                                listener.cellWasSelected(p);\r\n                            }\r\n                        });\r\n                    }\r\n                    index++;\r\n                }\r\n            }\r\n\r\n            public void setBoardListener(BoardListener boardListener) {\r\n                this.boardListener = boardListener;\r\n            }\r\n\r\n            public BoardListener getBoardListener() {\r\n                return boardListener;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4pMBP.png\r\n\r\nGenerally, I would use either a completely component based or custom painting based solution and avoid mixing the two.\r\n\r\nRemember, the board should be focused only on what the board needs to do and shouldn&#39;t be doing anything else.  This is the point of &quot;separation of concerns/responsibility&quot;\r\n\r\nA far more complex solution might use a custom layout to manage components on top of a custom painted board, but that is, simply way beyond the scope of the question or your abilities at this time","title":"Program adding too many buttons","body":"<p>Basic rule of thumb, do not, under any circumstances, modify the state of the component (or any other component) during a paint pass.  This can (and probably will) cause the component to be rescheduled for another paint pass and you'll end up in an infinite loop.</p>\n<p>There are so many ways you &quot;might&quot; achieve this, for example, you could use <code>JButton</code>s in a <code>GridLayout</code>.</p>\n<p>Then all you need to is devise an appropriate model and delegation/observer workflow to keep the UI in sync with the model</p>\n<p><a href=\"https://i.stack.imgur.com/4pMBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4pMBP.png\" alt=\"Checkers board\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                BoardPane boardPane = new BoardPane();\n                boardPane.setBoardListener(new BoardListener() {\n                    @Override\n                    public void cellWasSelected(Point p) {\n                        System.out.println(&quot;Cell selected &quot; + p);\n                    }\n                });\n                frame.add(boardPane);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface BoardListener {\n        public void cellWasSelected(Point p);\n    }\n\n    public class BoardPane extends JPanel {\n\n        private Map&lt;Point, JButton&gt; cells = new HashMap&lt;&gt;();\n        private BoardListener boardListener;\n\n        public BoardPane() {\n            int gridSize = 8 * 8;\n            setLayout(new GridLayout(8, 8));\n            int index = 0;\n            for (int row = 0; row &lt; 8; row++) {\n                int xPos = (row % 2 == 0) ? gridSize : 0;\n                for (int col = 0; col &lt; 8; col++) {\n                    index++;\n                    JButton btn = new JButton();\n                    btn.setOpaque(true);\n                    btn.setFocusPainted(false);\n                    btn.setBorderPainted(false);\n                    // I'd prefer to rely on something like\n                    // an image, such as an empty image for\n                    // cells which are empty\n                    btn.setPreferredSize(new Dimension(100, 100));\n                    if (index % 2 == 0) {\n                        btn.setBackground(Color.BLACK);\n                        btn.setForeground(Color.WHITE);\n                    } else {\n                        btn.setBackground(Color.WHITE);\n                        btn.setForeground(Color.BLACK);\n                    }\n                    Point p = new Point(col, row);\n                    btn.putClientProperty(&quot;cell&quot;, p);\n                    cells.put(p, btn);\n                    add(btn);\n\n                    btn.addActionListener(new ActionListener() {\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            BoardListener listener = getBoardListener();\n                            if (listener == null) {\n                                return;\n                            }\n                            Point p = (Point)btn.getClientProperty(&quot;cell&quot;);\n                            listener.cellWasSelected(p);\n                        }\n                    });\n                }\n                index++;\n            }\n        }\n\n        public void setBoardListener(BoardListener boardListener) {\n            this.boardListener = boardListener;\n        }\n\n        public BoardListener getBoardListener() {\n            return boardListener;\n        }\n\n    }\n}\n</code></pre>\n<p>Generally, I would use either a completely component based or custom painting based solution and avoid mixing the two.</p>\n<p>Remember, the board should be focused only on what the board needs to do and shouldn't be doing anything else.  This is the point of &quot;separation of concerns/responsibility&quot;</p>\n<p>A far more complex solution might use a custom layout to manage components on top of a custom painted board, but that is, simply way beyond the scope of the question or your abilities at this time</p>\n"}],"owner":{"account_id":22659179,"reputation":53,"user_id":16832576,"display_name":"OutcastedCringe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1632539852,"creation_date":1632530326,"question_id":69322273,"body_markdown":"I&#39;m trying to make a checkers game and and all seams well so far, but when I hover over the button the graphics glitch out and I don&#39;t know why. Also it adds a lot of buttons to the top and when I move it around (resize) it adds more. It also adds more when I press any green buttons. And they are very tiny buttons at the top and I don&#39;t see where they pop up in my code.\r\n\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Test {\r\n\t private JButton Green;\r\n     private JButton Blue;\r\n\r\n    public static void main(String[] args) {\r\n        new Test();\r\n    }\r\n\r\n    public Test() {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                JFrame frame = new JFrame(&quot;Checkers&quot;);\r\n                JPanel contentPane = new JPanel();\r\n\r\n   \r\n                GameListener listener = new GameListener() {\r\n\r\n                    @Override\r\n                    public void gameWasCompleted() {\r\n                        contentPane.repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void startNewGame() {\r\n                    \tSystem.out.println(&quot;button worked&quot;);\r\n                        contentPane.repaint();\r\n                    }\r\n                };\r\n\r\n                MainPane mainPane = new MainPane();\r\n                mainPane.setGameListener(listener);\r\n\r\n                contentPane.add(mainPane);\r\n\r\n                frame.setContentPane(contentPane);\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    public interface GameListener {\r\n\r\n        void gameWasCompleted();\r\n\r\n        void startNewGame();\r\n    }\r\n\r\n\r\n    public class MainPane extends JPanel implements MouseListener {\r\n\r\n        private GameListener gameListener;\r\n\r\n        public MainPane() {\r\n            addMouseListener(this);\r\n        }\r\n\r\n        public void setGameListener(GameListener gameListener) {\r\n            this.gameListener = gameListener;\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(1000, 1000);\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            int xshift;\r\n            int yshift = 0;\r\n\r\n            g.setColor(new Color(0, 0, 0));\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                xshift = 125;\r\n                for (int j = 0; j &lt; 4; j++) {\r\n                    g.fillRect(xshift, yshift, 125, 125);\r\n                    xshift += 250;\r\n                }\r\n                xshift = 0;\r\n                yshift += 125;\r\n\r\n                for (int k = 0; k &lt; 4; k++) {\r\n                    g.fillRect(xshift, yshift, 125, 125);\r\n                    xshift += 250;\r\n                }\r\n                yshift += 125;\r\n            }\r\n            initalprnt(g);\r\n        }\r\n\r\n\r\n        \r\n        protected void initalprnt(Graphics g) {\r\n            int xshift = 125;\r\n            int yshift = 0;\r\n            g.setColor(new Color(0, 100, 0));\r\n            \r\n            for (int i = 0; i &lt; 3; i++) {\r\n                if (i == 2) {\r\n                    xshift = 125;\r\n                }\r\n                for (int j = 0; j &lt; 4; j++) {\r\n                    g.fillOval(xshift, yshift, 125, 125);\r\n                    Green = new JButton();\r\n                    Green.setBackground(new Color(0, 100, 0, 0));\r\n                    Green.setBounds(xshift, yshift, 125, 125);\r\n                    add(Green);\r\n                    \r\n\r\n                   \r\n                    xshift += 250;\r\n                }\r\n                xshift = 0;\r\n                yshift += 125;\r\n            }\r\n            yshift += 250;\r\n            g.setColor(new Color(0, 0, 100));\r\n            for (int k = 0; k &lt; 3; k++) {\r\n                if (k == 2) {\r\n                    xshift = 0;\r\n                }\r\n                for (int j = 0; j &lt; 4; j++) {\r\n                    g.fillOval(xshift, yshift, 125, 125);\r\n                    Blue = new JButton();\r\n                    Blue.setBackground(new Color(0, 0, 100, 0));\r\n                    Blue.setBounds(xshift, yshift, 125, 125);\r\n                    add(Blue);\r\n                    xshift += 250;\r\n                }\r\n                xshift = 125;\r\n                yshift += 125;\r\n            }\r\n            buttons();\r\n        }\r\n        \r\n        public void buttons() {\r\n        \t Green.addActionListener(e -&gt; {\r\n        \t\t System.out.println(&quot;this does something&quot;);\r\n                 gameListener.startNewGame();\r\n             });\r\n        \t Blue.addActionListener(e -&gt; {\r\n        \t\t System.out.println(&quot;this did something&quot;);\r\n                 gameListener.startNewGame();\r\n             });\r\n        }\r\n\r\n        \r\n        public void mouseClicked(MouseEvent e) {}\r\n\r\n        public void mousePressed(MouseEvent e) {}\r\n\r\n        public void mouseReleased(MouseEvent e) {}\r\n\r\n        public void mouseEntered(MouseEvent e) {}\r\n\r\n        public void mouseExited(MouseEvent e) {}\r\n    }\r\n\r\n    }","title":"Program adding too many buttons","body":"<p>I'm trying to make a checkers game and and all seams well so far, but when I hover over the button the graphics glitch out and I don't know why. Also it adds a lot of buttons to the top and when I move it around (resize) it adds more. It also adds more when I press any green buttons. And they are very tiny buttons at the top and I don't see where they pop up in my code.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test {\n private JButton Green;\n private JButton Blue;\n\npublic static void main(String[] args) {\n    new Test();\n}\n\npublic Test() {\n    EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            JFrame frame = new JFrame(&quot;Checkers&quot;);\n            JPanel contentPane = new JPanel();\n\n\n            GameListener listener = new GameListener() {\n\n                @Override\n                public void gameWasCompleted() {\n                    contentPane.repaint();\n                }\n\n                @Override\n                public void startNewGame() {\n                    System.out.println(&quot;button worked&quot;);\n                    contentPane.repaint();\n                }\n            };\n\n            MainPane mainPane = new MainPane();\n            mainPane.setGameListener(listener);\n\n            contentPane.add(mainPane);\n\n            frame.setContentPane(contentPane);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        }\n    });\n}\n\npublic interface GameListener {\n\n    void gameWasCompleted();\n\n    void startNewGame();\n}\n\n\npublic class MainPane extends JPanel implements MouseListener {\n\n    private GameListener gameListener;\n\n    public MainPane() {\n        addMouseListener(this);\n    }\n\n    public void setGameListener(GameListener gameListener) {\n        this.gameListener = gameListener;\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(1000, 1000);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        int xshift;\n        int yshift = 0;\n\n        g.setColor(new Color(0, 0, 0));\n        for (int i = 0; i &lt; 4; i++) {\n            xshift = 125;\n            for (int j = 0; j &lt; 4; j++) {\n                g.fillRect(xshift, yshift, 125, 125);\n                xshift += 250;\n            }\n            xshift = 0;\n            yshift += 125;\n\n            for (int k = 0; k &lt; 4; k++) {\n                g.fillRect(xshift, yshift, 125, 125);\n                xshift += 250;\n            }\n            yshift += 125;\n        }\n        initalprnt(g);\n    }\n\n\n    \n    protected void initalprnt(Graphics g) {\n        int xshift = 125;\n        int yshift = 0;\n        g.setColor(new Color(0, 100, 0));\n        \n        for (int i = 0; i &lt; 3; i++) {\n            if (i == 2) {\n                xshift = 125;\n            }\n            for (int j = 0; j &lt; 4; j++) {\n                g.fillOval(xshift, yshift, 125, 125);\n                Green = new JButton();\n                Green.setBackground(new Color(0, 100, 0, 0));\n                Green.setBounds(xshift, yshift, 125, 125);\n                add(Green);\n                \n\n               \n                xshift += 250;\n            }\n            xshift = 0;\n            yshift += 125;\n        }\n        yshift += 250;\n        g.setColor(new Color(0, 0, 100));\n        for (int k = 0; k &lt; 3; k++) {\n            if (k == 2) {\n                xshift = 0;\n            }\n            for (int j = 0; j &lt; 4; j++) {\n                g.fillOval(xshift, yshift, 125, 125);\n                Blue = new JButton();\n                Blue.setBackground(new Color(0, 0, 100, 0));\n                Blue.setBounds(xshift, yshift, 125, 125);\n                add(Blue);\n                xshift += 250;\n            }\n            xshift = 125;\n            yshift += 125;\n        }\n        buttons();\n    }\n    \n    public void buttons() {\n         Green.addActionListener(e -&gt; {\n             System.out.println(&quot;this does something&quot;);\n             gameListener.startNewGame();\n         });\n         Blue.addActionListener(e -&gt; {\n             System.out.println(&quot;this did something&quot;);\n             gameListener.startNewGame();\n         });\n    }\n\n    \n    public void mouseClicked(MouseEvent e) {}\n\n    public void mousePressed(MouseEvent e) {}\n\n    public void mouseReleased(MouseEvent e) {}\n\n    public void mouseEntered(MouseEvent e) {}\n\n    public void mouseExited(MouseEvent e) {}\n}\n\n}\n</code></pre>\n"},{"tags":["java","arrays","recursion","search","review"],"comments":[{"owner":{"account_id":17358339,"reputation":981,"user_id":12575211,"display_name":"Shubham Garg"},"score":0,"creation_date":1632535185,"post_id":69322549,"comment_id":122526382,"body_markdown":"Why you are not sorting?","body":"Why you are not sorting?"},{"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"score":2,"creation_date":1632535427,"post_id":69322549,"comment_id":122526406,"body_markdown":"Another approach: sum of first n natural numbers is `n*(n+1)/2`. You can deduct the actual sum from this expected sum and get the missing number.","body":"Another approach: sum of first n natural numbers is <code>n*(n+1)&#47;2</code>. You can deduct the actual sum from this expected sum and get the missing number."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1632538586,"post_id":69322549,"comment_id":122526718,"body_markdown":"Why do you want to use recursion to solve this problem? How do you expect it to help? In your own words, how is the code intended to work, step by step?","body":"Why do you want to use recursion to solve this problem? How do you expect it to help? In your own words, how is the code intended to work, step by step?"}],"answers":[{"tags":[],"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632539438,"creation_date":1632538325,"answer_id":69322780,"question_id":69322549,"body_markdown":"### Given:\r\n---\r\n- An array **A** of size ***n***.\r\n- Array elements are a sequence from 1 to ***n*** , always starting from 1\r\n- There is always only one missing number ***X***.\r\n\r\n### Then:\r\n---\r\n*expectedSum* = ***n*** * ( ***n*** + 1 ) / 2\r\n\r\n*expectedSum* = sum(**A**) + ***X*** \r\n\r\n=&gt;  ***X*** =  *expectedSum* - sum(**A**)\r\n\r\n### Example:\r\n---\r\n**A** = `[ 2 , 7 , 1 , 4 , 5 , 3 , 8 ]`\r\n\r\n*expectedSum* = `8 * ( 8 + 1 ) / 2` \r\n\r\n=&gt; *expectedSum* =  `8 * 9 / 2` \r\n\r\n=&gt; *expectedSum* = `72 / 2` \r\n\r\n=&gt; *expectedSum* = **36**\r\n\r\n\r\n***X*** = 36 - sum(**A**)\r\n\r\n\r\n=&gt; ***X*** = 36 - `( 2 + 7 + 1 + 4 + 5 + 3 + 8 )`\r\n\r\n=&gt; ***X*** = 36 - 30 \r\n\r\n=&gt; ***X*** = 6\r\n","title":"How to exit from recursive function call","body":"<h3>Given:</h3>\n<hr />\n<ul>\n<li>An array <strong>A</strong> of size <em><strong>n</strong></em>.</li>\n<li>Array elements are a sequence from 1 to <em><strong>n</strong></em> , always starting from 1</li>\n<li>There is always only one missing number <em><strong>X</strong></em>.</li>\n</ul>\n<h3>Then:</h3>\n<hr />\n<p><em>expectedSum</em> = <em><strong>n</strong></em> * ( <em><strong>n</strong></em> + 1 ) / 2</p>\n<p><em>expectedSum</em> = sum(<strong>A</strong>) + <em><strong>X</strong></em></p>\n<p>=&gt;  <em><strong>X</strong></em> =  <em>expectedSum</em> - sum(<strong>A</strong>)</p>\n<h3>Example:</h3>\n<hr />\n<p><strong>A</strong> = <code>[ 2 , 7 , 1 , 4 , 5 , 3 , 8 ]</code></p>\n<p><em>expectedSum</em> = <code>8 * ( 8 + 1 ) / 2</code></p>\n<p>=&gt; <em>expectedSum</em> =  <code>8 * 9 / 2</code></p>\n<p>=&gt; <em>expectedSum</em> = <code>72 / 2</code></p>\n<p>=&gt; <em>expectedSum</em> = <strong>36</strong></p>\n<p><em><strong>X</strong></em> = 36 - sum(<strong>A</strong>)</p>\n<p>=&gt; <em><strong>X</strong></em> = 36 - <code>( 2 + 7 + 1 + 4 + 5 + 3 + 8 )</code></p>\n<p>=&gt; <em><strong>X</strong></em> = 36 - 30</p>\n<p>=&gt; <em><strong>X</strong></em> = 6</p>\n"}],"owner":{"account_id":13231316,"reputation":37,"user_id":9554840,"display_name":"Ashish18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632539438,"creation_date":1632534468,"question_id":69322549,"body_markdown":"Problem Statment: Find the missing number in the array\r\nYou are given an array of positive numbers from 1 to n, such that all numbers from 1 to n are present except one number x. You have to find x. The input array is not sorted. Look at the below array and give it a try before checking the solution.\r\n\r\n3,7,1,2,8,4,5\r\nn = 8 \r\nmissing number = 6\r\n\r\nMy Solution I tried but no luck. Basically, I am not sure how to exit the recursive function call \r\n\r\n```public class GFG\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        int[] array={3,7,1,2,8,4,5};\r\n        int i=1;\r\n        int missingItem=array[0]+1;\r\n        System.out.println(checkMissingItem(array,i,missingItem));\r\n    }\r\n\r\n    public static int checkMissingItem(int [] array,int j,int mitem)\r\n    {\r\n      //  System.out.println(array.length);\r\n        for(int x=0;x&lt; array.length;x++)\r\n        {   if(mitem&gt;array.length)\r\n        {\r\n            mitem=array[j]+1;\r\n            j=j+1;\r\n            checkMissingItem(array,j,mitem);\r\n        }\r\n            if(mitem==array[x])\r\n            {\r\n              mitem=array[j]+1;\r\n              j=j+1;\r\n                if(j==array.length)\r\n                {\r\n                    return mitem;\r\n                }else\r\n              checkMissingItem(array,j,mitem);\r\n            }\r\n\r\n\r\n        }\r\n return mitem;\r\n    }\r\n}```","title":"How to exit from recursive function call","body":"<p>Problem Statment: Find the missing number in the array\nYou are given an array of positive numbers from 1 to n, such that all numbers from 1 to n are present except one number x. You have to find x. The input array is not sorted. Look at the below array and give it a try before checking the solution.</p>\n<p>3,7,1,2,8,4,5\nn = 8\nmissing number = 6</p>\n<p>My Solution I tried but no luck. Basically, I am not sure how to exit the recursive function call</p>\n<pre><code>{\n    public static void main(String[] args)\n    {\n        int[] array={3,7,1,2,8,4,5};\n        int i=1;\n        int missingItem=array[0]+1;\n        System.out.println(checkMissingItem(array,i,missingItem));\n    }\n\n    public static int checkMissingItem(int [] array,int j,int mitem)\n    {\n      //  System.out.println(array.length);\n        for(int x=0;x&lt; array.length;x++)\n        {   if(mitem&gt;array.length)\n        {\n            mitem=array[j]+1;\n            j=j+1;\n            checkMissingItem(array,j,mitem);\n        }\n            if(mitem==array[x])\n            {\n              mitem=array[j]+1;\n              j=j+1;\n                if(j==array.length)\n                {\n                    return mitem;\n                }else\n              checkMissingItem(array,j,mitem);\n            }\n\n\n        }\n return mitem;\n    }\n}```\n</code></pre>\n"},{"tags":["java","multithreading","jetty","embedded-jetty","corretto"],"answers":[{"tags":[],"owner":{"account_id":6104453,"reputation":506,"user_id":4762500,"display_name":"Md."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632539101,"creation_date":1632539101,"answer_id":69322837,"question_id":59467696,"body_markdown":"It is possible that you have hit JDK-8129861 that has been fixed in Java 9. It may also be related to JDK-8022642.\r\n\r\nThe workaround is to set core pool size at least 1:\r\n\r\n    ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(1);\r\n\r\n\r\nReferences:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8129861\r\nhttps://bugs.openjdk.java.net/browse/JDK-8022642\r\n\r\nhttps://stackoverflow.com/questions/34615125/scheduledthreadpoolexecutor-with-corepoolsize-0-causes-100-load-on-one-cpu-co\r\n","title":"Linux top command reporting high CPU usage for Java ThreadPoolExecutor thread in Waiting state (after updating Jetty server from 9.0.6 to 9.4.22)","body":"<p>It is possible that you have hit JDK-8129861 that has been fixed in Java 9. It may also be related to JDK-8022642.</p>\n<p>The workaround is to set core pool size at least 1:</p>\n<pre><code>ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(1);\n</code></pre>\n<p>References:\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8129861\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8129861</a>\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8022642\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8022642</a></p>\n<p><a href=\"https://stackoverflow.com/questions/34615125/scheduledthreadpoolexecutor-with-corepoolsize-0-causes-100-load-on-one-cpu-co\">ScheduledThreadPoolExecutor with corePoolSize = 0 causes 100% load on one CPU core</a></p>\n"}],"owner":{"account_id":2456611,"reputation":580,"user_id":2141670,"display_name":"Dhruvil Vaghela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1632539101,"creation_date":1577184824,"question_id":59467696,"body_markdown":"I have a web service which receives requests and after performing certain validations dumps data to a Message Queue. This service creates a ThreadPoolExecutor internally. I use Prometheus and Grafana to visualize application metrics and observed that CPU usage is always increasing and never reducing even during low workload (even if I detach the application from Load Balancer and serve no traffic).\r\n\r\nEarlier I was running application using Jetty 9.0.6 and am observing this behavior after switching to Jetty 9.4.22. Reverting back to Jetty 9.0.6 (or even 9.4.13) seems to resolve this issue. So I suspect this might be related to Jetty (9.4.13+).\r\n\r\nSo I tried to analyze top command output and connect to application using VisualVM at the same time.\r\n\r\nLinux top command reported that a certain thread from the ThreadPoolExecutor was using high CPU with CPU time over 500 minutes, however Visual VM showed that the thread is in waiting state.\r\n\r\n`top` command output (Few threads report high CPU usage for prolonged duration like following when they&#39;re actually in WAITING state)\r\n```\r\n10641 app        20   0 30.4g  21g 112m S 47.9 70.2 657:12.56 657:12 pool-5-thread-1\r\n10914 app        20   0 30.4g  21g 112m R 33.7 70.2 508:25.46 508:25 pool-5-thread-1\r\n10009 app        20   0 30.4g  21g 112m R 33.7 70.2 454:39.50 454:39 pool-5-thread-5\r\n10220 app        20   0 30.4g  21g 112m S 33.7 70.2 444:55.14 444:55 pool-5-thread-7\r\n12230 app        20   0 30.4g  21g 112m R 32.8 70.2 438:18.02 438:18 pool-5-thread-2\r\n```\r\n\r\nThe thread state from Thread Dump\r\n```\r\npool-5-thread-1\r\npriority:5 - threadId:0x00007f13b0033000 - nativeId:0x8c9 - nativeId (decimal):2249 - state:WAITING\r\nstackTrace:\r\njava.lang.Thread.State: WAITING (parking)\r\nat sun.misc.Unsafe.park(Native Method)\r\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\n\r\npool-5-thread-5\r\npriority:5 - threadId:0x00007f13a0020800 - nativeId:0x8cd - nativeId (decimal):2253 - state:WAITING\r\nstackTrace:\r\njava.lang.Thread.State: WAITING (parking)\r\nat sun.misc.Unsafe.park(Native Method)\r\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\n\r\npool-5-thread-7\r\npriority:5 - threadId:0x00007f139c021800 - nativeId:0x8cf - nativeId (decimal):2255 - state:WAITING\r\nstackTrace:\r\njava.lang.Thread.State: WAITING (parking)\r\nat sun.misc.Unsafe.park(Native Method)\r\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\n\r\npool-5-thread-2\r\npriority:5 - threadId:0x00007f13bc021800 - nativeId:0x8ca - nativeId (decimal):2250 - state:WAITING\r\nstackTrace:\r\njava.lang.Thread.State: WAITING (parking)\r\nat sun.misc.Unsafe.park(Native Method)\r\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI need help understanding if this could be related to switching from `Oracle JDK 8u65` to `Amazon Corretto JDK 8u232`\r\n\r\nCPU usage as monitored in EC2 console\r\n[![CPU usage as monitored in EC2 console][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VcJLb.png\r\n\r\nUpdate:\r\nFull top output (from another occurrence) -\r\n\r\n    top - 12:16:34 up  5:03,  0 users,  load average: 10.64, 9.74, 9.72\r\n    Threads: 7123 total,  10 running, 7113 sleeping,   0 stopped,   0 zombie\r\n    %Cpu(s): 28.3 us, 16.0 sy,  0.0 ni, 54.8 id,  0.0 wa,  0.0 hi,  0.9 si,  0.0 st\r\n    KiB Mem:  32121548 total, 26088752 used,  6032796 free,   134028 buffers\r\n    KiB Swap:        0 total,        0 used,        0 free.  2008744 cached Mem\r\n    \r\n      PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\r\n     5660 app        20   0 30.582g 0.021t  97556 S 47.0 69.6 128:42.34 pool-5-thread-3\r\n     4804 app        20   0 30.582g 0.021t  97556 R 49.6 69.6  98:41.07 pool-5-thread-1\r\n     2695 app        20   0 30.582g 0.021t  97556 R 49.9 69.6  93:10.97 pool-5-thread-5\r\n     2392 app        20   0 30.582g 0.021t  97556 S 48.0 69.6  79:47.46 pool-5-thread-9\r\n     2284 app        20   0 30.582g 0.021t  97556 S  3.2 69.6  13:04.52 pool-5-thread-2\r\n\r\nJVM flags being used -\r\n\r\n    -XX:+UseG1GC\r\n    -XX:InitiatingHeapOccupancyPercent=70\r\n    -Xss228k\r\n    -XX:G1HeapRegionSize=4\r\n    -XX:MaxGCPauseMillis=200\r\n    -XX:+PrintGCDateStamps\r\n    -XX:+PrintGCTimeStamps\r\n    -XX:+PrintGCDetails\r\n    -XX:NativeMemoryTracking=detail\r\n    -XX:+PrintTenuringDistribution\r\n    -XX:+UseGCLogFileRotation\r\n    -XX:NumberOfGCLogFiles=20\r\n    -XX:GCLogFileSize=512M\r\n    -Xloggc:/home/app/logs/gc/${CURRENT_DATETIME}.log\r\n    -Xms100m\r\n    -Xmx${JAVA_XMX}m\r\n    -XX:ActiveProcessorCount=${CPUS}\r\n    -XX:MaxMetaspaceSize=256m\r\n    -XX:CompressedClassSpaceSize=200m\r\n    -Dcom.sun.management.jmxremote=true\r\n    -Dcom.sun.management.jmxremote.port=6001\r\n    -Dcom.sun.management.jmxremote.authenticate=false\r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n    -Dcom.sun.management.jmxremote.rmi.port=6001\r\n    -Djava.rmi.server.hostname=${HOST}\r\n    -XX:+UsePerfData\r\n\r\n","title":"Linux top command reporting high CPU usage for Java ThreadPoolExecutor thread in Waiting state (after updating Jetty server from 9.0.6 to 9.4.22)","body":"<p>I have a web service which receives requests and after performing certain validations dumps data to a Message Queue. This service creates a ThreadPoolExecutor internally. I use Prometheus and Grafana to visualize application metrics and observed that CPU usage is always increasing and never reducing even during low workload (even if I detach the application from Load Balancer and serve no traffic).</p>\n\n<p>Earlier I was running application using Jetty 9.0.6 and am observing this behavior after switching to Jetty 9.4.22. Reverting back to Jetty 9.0.6 (or even 9.4.13) seems to resolve this issue. So I suspect this might be related to Jetty (9.4.13+).</p>\n\n<p>So I tried to analyze top command output and connect to application using VisualVM at the same time.</p>\n\n<p>Linux top command reported that a certain thread from the ThreadPoolExecutor was using high CPU with CPU time over 500 minutes, however Visual VM showed that the thread is in waiting state.</p>\n\n<p><code>top</code> command output (Few threads report high CPU usage for prolonged duration like following when they're actually in WAITING state)</p>\n\n<pre><code>10641 app        20   0 30.4g  21g 112m S 47.9 70.2 657:12.56 657:12 pool-5-thread-1\n10914 app        20   0 30.4g  21g 112m R 33.7 70.2 508:25.46 508:25 pool-5-thread-1\n10009 app        20   0 30.4g  21g 112m R 33.7 70.2 454:39.50 454:39 pool-5-thread-5\n10220 app        20   0 30.4g  21g 112m S 33.7 70.2 444:55.14 444:55 pool-5-thread-7\n12230 app        20   0 30.4g  21g 112m R 32.8 70.2 438:18.02 438:18 pool-5-thread-2\n</code></pre>\n\n<p>The thread state from Thread Dump</p>\n\n<pre><code>pool-5-thread-1\npriority:5 - threadId:0x00007f13b0033000 - nativeId:0x8c9 - nativeId (decimal):2249 - state:WAITING\nstackTrace:\njava.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n\npool-5-thread-5\npriority:5 - threadId:0x00007f13a0020800 - nativeId:0x8cd - nativeId (decimal):2253 - state:WAITING\nstackTrace:\njava.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n\npool-5-thread-7\npriority:5 - threadId:0x00007f139c021800 - nativeId:0x8cf - nativeId (decimal):2255 - state:WAITING\nstackTrace:\njava.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n\npool-5-thread-2\npriority:5 - threadId:0x00007f13bc021800 - nativeId:0x8ca - nativeId (decimal):2250 - state:WAITING\nstackTrace:\njava.lang.Thread.State: WAITING (parking)\nat sun.misc.Unsafe.park(Native Method)\n- parking to wait for &lt;0x000000037ca83da0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\nat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\nat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\nat java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\nat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>I need help understanding if this could be related to switching from <code>Oracle JDK 8u65</code> to <code>Amazon Corretto JDK 8u232</code></p>\n\n<p>CPU usage as monitored in EC2 console\n<a href=\"https://i.stack.imgur.com/VcJLb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VcJLb.png\" alt=\"CPU usage as monitored in EC2 console\"></a></p>\n\n<p>Update:\nFull top output (from another occurrence) -</p>\n\n<pre><code>top - 12:16:34 up  5:03,  0 users,  load average: 10.64, 9.74, 9.72\nThreads: 7123 total,  10 running, 7113 sleeping,   0 stopped,   0 zombie\n%Cpu(s): 28.3 us, 16.0 sy,  0.0 ni, 54.8 id,  0.0 wa,  0.0 hi,  0.9 si,  0.0 st\nKiB Mem:  32121548 total, 26088752 used,  6032796 free,   134028 buffers\nKiB Swap:        0 total,        0 used,        0 free.  2008744 cached Mem\n\n  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n 5660 app        20   0 30.582g 0.021t  97556 S 47.0 69.6 128:42.34 pool-5-thread-3\n 4804 app        20   0 30.582g 0.021t  97556 R 49.6 69.6  98:41.07 pool-5-thread-1\n 2695 app        20   0 30.582g 0.021t  97556 R 49.9 69.6  93:10.97 pool-5-thread-5\n 2392 app        20   0 30.582g 0.021t  97556 S 48.0 69.6  79:47.46 pool-5-thread-9\n 2284 app        20   0 30.582g 0.021t  97556 S  3.2 69.6  13:04.52 pool-5-thread-2\n</code></pre>\n\n<p>JVM flags being used -</p>\n\n<pre><code>-XX:+UseG1GC\n-XX:InitiatingHeapOccupancyPercent=70\n-Xss228k\n-XX:G1HeapRegionSize=4\n-XX:MaxGCPauseMillis=200\n-XX:+PrintGCDateStamps\n-XX:+PrintGCTimeStamps\n-XX:+PrintGCDetails\n-XX:NativeMemoryTracking=detail\n-XX:+PrintTenuringDistribution\n-XX:+UseGCLogFileRotation\n-XX:NumberOfGCLogFiles=20\n-XX:GCLogFileSize=512M\n-Xloggc:/home/app/logs/gc/${CURRENT_DATETIME}.log\n-Xms100m\n-Xmx${JAVA_XMX}m\n-XX:ActiveProcessorCount=${CPUS}\n-XX:MaxMetaspaceSize=256m\n-XX:CompressedClassSpaceSize=200m\n-Dcom.sun.management.jmxremote=true\n-Dcom.sun.management.jmxremote.port=6001\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.ssl=false\n-Dcom.sun.management.jmxremote.rmi.port=6001\n-Djava.rmi.server.hostname=${HOST}\n-XX:+UsePerfData\n</code></pre>\n"},{"tags":["java","tomcat","java-platform-module-system"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1632579543,"post_id":69213007,"comment_id":122533940,"body_markdown":"You can take a look at this answer: https://stackoverflow.com/questions/46618118/web-inf-lib-directory-vs-java-9-modules/66587371#66587371","body":"You can take a look at this answer: <a href=\"https://stackoverflow.com/questions/46618118/web-inf-lib-directory-vs-java-9-modules/66587371#66587371\" title=\"web inf lib directory vs java 9 modules\">stackoverflow.com/questions/46618118/&hellip;</a>"},{"owner":{"account_id":11536281,"reputation":267,"user_id":8453586,"accept_rate":58,"display_name":"Raster R"},"score":0,"creation_date":1632673688,"post_id":69213007,"comment_id":122550895,"body_markdown":"@Thiago Henrique Hupner I have seen this. I am still waiting for someone to agree or disagree with what I have said","body":"@Thiago Henrique Hupner I have seen this. I am still waiting for someone to agree or disagree with what I have said"}],"owner":{"account_id":11536281,"reputation":267,"user_id":8453586,"accept_rate":58,"display_name":"Raster R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632537644,"creation_date":1631814462,"question_id":69213007,"body_markdown":"Is it possible for a .war project to be deployed into (Non-embedded) tomcat and for tomcat to apply java modules concepts on it?\r\n\r\nI am thinking its NOT possible currently as of today for following reasons.\r\n1. it is actually catalina.jar which is getting launched by Java in catalina.bat or .sh and it will have to in turn load the modules. I could not see any such concept inside org.apache.catalina.loader.WebappLoader, WebappClassLoader or WebappClassLoaderBase in same package. I might be mistaken of course.\r\n2. I think we can create the .war project using module concepts. Have the modular restrictions enforced during code creation and compilation time if we have a module-info.java created. But all those extra checks will be not applied when application is running in tomcat. Those extra checks might of course keep the libraries inside WEB-INF/lib more efficiently organized during development.\r\n\r\nI do realize we could easily leverage java modules when using embedded tomcat as long as you launch the code as a jar project with all needed dependencies and use --module-path.\r\n\r\nR","title":"java modules in non-embedded tomcat when using a .war traditional project in recent java versions","body":"<p>Is it possible for a .war project to be deployed into (Non-embedded) tomcat and for tomcat to apply java modules concepts on it?</p>\n<p>I am thinking its NOT possible currently as of today for following reasons.</p>\n<ol>\n<li>it is actually catalina.jar which is getting launched by Java in catalina.bat or .sh and it will have to in turn load the modules. I could not see any such concept inside org.apache.catalina.loader.WebappLoader, WebappClassLoader or WebappClassLoaderBase in same package. I might be mistaken of course.</li>\n<li>I think we can create the .war project using module concepts. Have the modular restrictions enforced during code creation and compilation time if we have a module-info.java created. But all those extra checks will be not applied when application is running in tomcat. Those extra checks might of course keep the libraries inside WEB-INF/lib more efficiently organized during development.</li>\n</ol>\n<p>I do realize we could easily leverage java modules when using embedded tomcat as long as you launch the code as a jar project with all needed dependencies and use --module-path.</p>\n<p>R</p>\n"},{"tags":["java","spring-mvc","multipartform-data","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1439885734,"post_id":32066471,"comment_id":52031306,"body_markdown":"Rename `multipartConfigElement` to `mulitpartResolver` it is a magic name... IF it is named differently it isn&#39;t used. Also you are using not the standard servlet file upload but apache commons so there will be no `Part` but a `MultipartFile`. I suggest using springs abstraction which makes those things transparent.","body":"Rename <code>multipartConfigElement</code> to <code>mulitpartResolver</code> it is a magic name... IF it is named differently it isn&#39;t used. Also you are using not the standard servlet file upload but apache commons so there will be no <code>Part</code> but a <code>MultipartFile</code>. I suggest using springs abstraction which makes those things transparent."},{"owner":{"account_id":6532372,"reputation":1369,"user_id":5053124,"accept_rate":60,"display_name":"Nicholas Robinson"},"score":0,"creation_date":1439886480,"post_id":32066471,"comment_id":52031756,"body_markdown":"When you say using spring absractions, do you mean something like: `@RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST) public String uploadFile(MultipartFile file) {...}`?","body":"When you say using spring absractions, do you mean something like: <code>@RequestMapping(value = &quot;&#47;upload&quot;, method = RequestMethod.POST) public String uploadFile(MultipartFile file) {...}</code>?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1439887397,"post_id":32066471,"comment_id":52032310,"body_markdown":"For instance, or use the `MultipartHttpServletRequest` to obtain the files.","body":"For instance, or use the <code>MultipartHttpServletRequest</code> to obtain the files."},{"owner":{"account_id":6532372,"reputation":1369,"user_id":5053124,"accept_rate":60,"display_name":"Nicholas Robinson"},"score":0,"creation_date":1439887524,"post_id":32066471,"comment_id":52032405,"body_markdown":"Just tried that and got `HTTP Status 500 - Request processing failed; nested exception is java.lang.IllegalStateException: Current request is not of type [org.springframework.web.multipart.MultipartHttpServletRequest]: org.apache.catalina.connector.RequestFacade@48844380`","body":"Just tried that and got <code>HTTP Status 500 - Request processing failed; nested exception is java.lang.IllegalStateException: Current request is not of type [org.springframework.web.multipart.MultipartHttpServletReque&zwnj;&#8203;st]: org.apache.catalina.connector.RequestFacade@48844380</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1439887648,"post_id":32066471,"comment_id":52032472,"body_markdown":"Well of course if you haven&#39;t changed your configuration to reflect the correct name for your `MultipartResolver`.","body":"Well of course if you haven&#39;t changed your configuration to reflect the correct name for your <code>MultipartResolver</code>."},{"owner":{"account_id":6532372,"reputation":1369,"user_id":5053124,"accept_rate":60,"display_name":"Nicholas Robinson"},"score":0,"creation_date":1439888017,"post_id":32066471,"comment_id":52032705,"body_markdown":"I have. The updates at the bottom of the question are all now in place in my code. As well as the `MultipartHttpServletRequest` parameter in the controller method.","body":"I have. The updates at the bottom of the question are all now in place in my code. As well as the <code>MultipartHttpServletRequest</code> parameter in the controller method."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1439888786,"post_id":32066471,"comment_id":52033206,"body_markdown":"No you haven&#39;t you sloppy pasted my comment which contains a typo... The name must be `multipartResolver`. Instead of sloppy pasting I suggest a read of the reference guide and try to understand how it works... http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-multipart","body":"No you haven&#39;t you sloppy pasted my comment which contains a typo... The name must be <code>multipartResolver</code>. Instead of sloppy pasting I suggest a read of the reference guide and try to understand how it works... <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-multipart\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":6532372,"reputation":1369,"user_id":5053124,"accept_rate":60,"display_name":"Nicholas Robinson"},"score":0,"creation_date":1439889045,"post_id":32066471,"comment_id":52033381,"body_markdown":"“I choose a lazy person to do a hard job. Because a lazy person will find an easy way to do it.” - Bill Gates ;) .... Didn&#39;t even see that. It is working now! I will check out your link. Thank you **so** much for your help!","body":"“I choose a lazy person to do a hard job. Because a lazy person will find an easy way to do it.” - Bill Gates ;) .... Didn&#39;t even see that. It is working now! I will check out your link. Thank you <b>so</b> much for your help!"},{"owner":{"account_id":2818922,"reputation":35615,"user_id":2423164,"accept_rate":71,"display_name":"ndnenkov"},"score":0,"creation_date":1462304683,"post_id":32066471,"comment_id":61578211,"body_markdown":"Try to add `@RequestParam(&quot;myFile&quot;)` annotation as seen in [this example](http://forum.thymeleaf.org/Fileupload-sample-for-Thyme-and-Spring-3-td3668412.html).","body":"Try to add <code>@RequestParam(&quot;myFile&quot;)</code> annotation as seen in <a href=\"http://forum.thymeleaf.org/Fileupload-sample-for-Thyme-and-Spring-3-td3668412.html\" rel=\"nofollow noreferrer\">this example</a>."}],"answers":[{"tags":[],"owner":{"account_id":1155740,"reputation":3157,"user_id":1136403,"accept_rate":81,"display_name":"İlker Korkut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439884628,"creation_date":1439884628,"answer_id":32066731,"question_id":32066471,"body_markdown":"It seems there is a request method problem.\r\n\r\nYour controller&#39;s request method is `GET` in `uploadFile` method but you want to `POST` a file in html form.","title":"Uploading a file using Spring MVC and Thymeleaf","body":"<p>It seems there is a request method problem.</p>\n\n<p>Your controller's request method is <code>GET</code> in <code>uploadFile</code> method but you want to <code>POST</code> a file in html form.</p>\n"},{"tags":[],"owner":{"account_id":22853261,"reputation":1,"user_id":16998514,"display_name":"Robin YU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632537337,"creation_date":1632537337,"answer_id":69322719,"question_id":32066471,"body_markdown":"I know this question was created a long ago, but if anyone&#39;s still interested in the question, my solution is to put a name for the resolver bean. Careful about the name, it has to be &quot;multipartResolver&quot;, otherwise it probably will not work. \r\n\r\n    @Bean(name = &quot;multipartResolver&quot;)\r\n    public MultipartResolver mulitpartResolver() {\r\n        CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n        commonsMultipartResolver.setDefaultEncoding(&quot;utf-8&quot;);\r\n        commonsMultipartResolver.setMaxUploadSizePerFile(400000002);\r\n        return commonsMultipartResolver;\r\n    }","title":"Uploading a file using Spring MVC and Thymeleaf","body":"<p>I know this question was created a long ago, but if anyone's still interested in the question, my solution is to put a name for the resolver bean. Careful about the name, it has to be &quot;multipartResolver&quot;, otherwise it probably will not work.</p>\n<pre><code>@Bean(name = &quot;multipartResolver&quot;)\npublic MultipartResolver mulitpartResolver() {\n    CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n    commonsMultipartResolver.setDefaultEncoding(&quot;utf-8&quot;);\n    commonsMultipartResolver.setMaxUploadSizePerFile(400000002);\n    return commonsMultipartResolver;\n}\n</code></pre>\n"}],"owner":{"account_id":6532372,"reputation":1369,"user_id":5053124,"accept_rate":60,"display_name":"Nicholas Robinson"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632537337,"creation_date":1439883856,"question_id":32066471,"body_markdown":"I am trying to upload a file to the server using a spring controller. \r\n\r\nThis is my web config:\r\n\r\n\r\n       @Bean\r\n       public CommonsMultipartResolver multipartConfigElement() {\r\n          CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n          commonsMultipartResolver.setDefaultEncoding(&quot;utf-8&quot;);\r\n          commonsMultipartResolver.setMaxUploadSizePerFile(400000002);\r\n          return commonsMultipartResolver;\r\n       }\r\n    \r\n       @Override\r\n       public void addInterceptors(InterceptorRegistry registry) {\r\n          registry.addInterceptor(securityInterceptor()).addPathPatterns(&quot;/**&quot;);\r\n       }\r\n    \r\n       @Bean\r\n       public TemplateResolver templateResolver() {\r\n          TemplateResolver resolver = new ServletContextTemplateResolver();\r\n          resolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n          resolver.setSuffix(&quot;.html&quot;);\r\n          resolver.setTemplateMode(&quot;HTML5&quot;);\r\n          return resolver;\r\n       }\r\n    \r\n       @Bean\r\n       @Autowired\r\n       public SpringTemplateEngine templateEngine(TemplateResolver resolver) {\r\n          SpringTemplateEngine engine = new SpringTemplateEngine();\r\n          engine.setTemplateResolver(resolver);\r\n          return engine;\r\n       }\r\n    \r\n       @Bean\r\n       @Autowired\r\n       public ViewResolver viewResolver(SpringTemplateEngine engine) {\r\n          ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n          resolver.setTemplateEngine(engine);\r\n          return resolver;\r\n       }\r\n\r\nAnd this is my controller:\r\n \r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.GET)\r\n       public String uploadFile(HttpServletRequest request)\r\n             throws IOException, ServletException {\r\n          System.out.println(&quot;Request: &quot; + request); // REM: Debug Print\r\n    \r\n          final String path = request.getParameter(&quot;destination&quot;);\r\n          final Part filePart = request.getPart(&quot;file&quot;);\r\n    \r\n          System.out.println(&quot;Path: &quot; + path); // REM: Debug Print\r\n          System.out.println(&quot;File Part toString: &quot; + filePart); // REM: Debug Print\r\n          if (filePart != null) {\r\n             System.out.println(&quot;File Part name: &quot; + filePart.getName()); // REM: Debug Print\r\n             System.out.println(&quot;File Part size: &quot; + filePart.getSize()); // REM: Debug Print\r\n          }\r\n          else {\r\n             System.out.println(&quot;Parts is null&quot;); // REM: Debug Print\r\n          }\r\n          return &quot;file_upload_testing&quot;;\r\n       }\r\n\r\nThe class is annotated with `@MultipartConfig`.\r\n\r\nI am using Thymeleaf on the front end and I have created a simple form to try get the upload working as follows:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n          lang=&quot;en&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;File Upload&lt;/title&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;form method=&quot;POST&quot; action=&quot;upload&quot; enctype=&quot;multipart/form-data&quot; &gt;\r\n                &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot; /&gt; &lt;br/&gt;\r\n                &lt;input type=&quot;text&quot; value=&quot;/tmp&quot; name=&quot;destination&quot;/&gt;&lt;br/&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; name=&quot;upload&quot; id=&quot;upload&quot; /&gt;\r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nAll my other controllers are working, I just cannot get the `MultipartFile` into the controller.\r\n\r\nI have tried using the `MultipartFile` as a parameter into the my controller and I have also tried casting the `HttpServletRequest` to a Multipart request. None of this made any difference. \r\n\r\nWhen I make the request to the controller with a text file this is the output:\r\n\r\n    Request: org.apache.catalina.connector.RequestFacade@48d0006b\r\n    Path: null\r\n    File Part toString(): null\r\n    Parts is null\r\n\r\nPlease help my figure out why the file is not coming through with the request?\r\n\r\n\r\n[UPDATE] \r\nI have tried changing the request mapping to `@RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)` but still get the same output.\r\n\r\nI have now also tried:\r\n\r\nController:\r\n   \r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n    public String uploadFile(MultipartFile file)\r\n          throws IOException, ServletException {\r\n       System.out.println(&quot;File: &quot; + file); // REM: Debug Print\r\n       return &quot;file_upload_testing&quot;;\r\n    }\r\n\r\nWeb config: \r\n\r\n       @Bean\r\n       public MultipartResolver mulitpartResolver() {\r\n          CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n          commonsMultipartResolver.setDefaultEncoding(&quot;utf-8&quot;);\r\n          commonsMultipartResolver.setMaxUploadSizePerFile(400000002);\r\n          return commonsMultipartResolver;\r\n       }\r\n\r\nWith this I get:\r\n\r\n    java.lang.IllegalArgumentException: Expected MultipartHttpServletRequest: is a MultipartResolver configured?","title":"Uploading a file using Spring MVC and Thymeleaf","body":"<p>I am trying to upload a file to the server using a spring controller. </p>\n\n<p>This is my web config:</p>\n\n<pre><code>   @Bean\n   public CommonsMultipartResolver multipartConfigElement() {\n      CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n      commonsMultipartResolver.setDefaultEncoding(\"utf-8\");\n      commonsMultipartResolver.setMaxUploadSizePerFile(400000002);\n      return commonsMultipartResolver;\n   }\n\n   @Override\n   public void addInterceptors(InterceptorRegistry registry) {\n      registry.addInterceptor(securityInterceptor()).addPathPatterns(\"/**\");\n   }\n\n   @Bean\n   public TemplateResolver templateResolver() {\n      TemplateResolver resolver = new ServletContextTemplateResolver();\n      resolver.setPrefix(\"/WEB-INF/view/\");\n      resolver.setSuffix(\".html\");\n      resolver.setTemplateMode(\"HTML5\");\n      return resolver;\n   }\n\n   @Bean\n   @Autowired\n   public SpringTemplateEngine templateEngine(TemplateResolver resolver) {\n      SpringTemplateEngine engine = new SpringTemplateEngine();\n      engine.setTemplateResolver(resolver);\n      return engine;\n   }\n\n   @Bean\n   @Autowired\n   public ViewResolver viewResolver(SpringTemplateEngine engine) {\n      ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n      resolver.setTemplateEngine(engine);\n      return resolver;\n   }\n</code></pre>\n\n<p>And this is my controller:</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.GET)\n   public String uploadFile(HttpServletRequest request)\n         throws IOException, ServletException {\n      System.out.println(\"Request: \" + request); // REM: Debug Print\n\n      final String path = request.getParameter(\"destination\");\n      final Part filePart = request.getPart(\"file\");\n\n      System.out.println(\"Path: \" + path); // REM: Debug Print\n      System.out.println(\"File Part toString: \" + filePart); // REM: Debug Print\n      if (filePart != null) {\n         System.out.println(\"File Part name: \" + filePart.getName()); // REM: Debug Print\n         System.out.println(\"File Part size: \" + filePart.getSize()); // REM: Debug Print\n      }\n      else {\n         System.out.println(\"Parts is null\"); // REM: Debug Print\n      }\n      return \"file_upload_testing\";\n   }\n</code></pre>\n\n<p>The class is annotated with <code>@MultipartConfig</code>.</p>\n\n<p>I am using Thymeleaf on the front end and I have created a simple form to try get the upload working as follows:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:th=\"http://www.thymeleaf.org\"\n      lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;File Upload&lt;/title&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form method=\"POST\" action=\"upload\" enctype=\"multipart/form-data\" &gt;\n            &lt;input type=\"file\" name=\"file\" id=\"file\" /&gt; &lt;br/&gt;\n            &lt;input type=\"text\" value=\"/tmp\" name=\"destination\"/&gt;&lt;br/&gt;\n            &lt;input type=\"submit\" value=\"Upload\" name=\"upload\" id=\"upload\" /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>All my other controllers are working, I just cannot get the <code>MultipartFile</code> into the controller.</p>\n\n<p>I have tried using the <code>MultipartFile</code> as a parameter into the my controller and I have also tried casting the <code>HttpServletRequest</code> to a Multipart request. None of this made any difference. </p>\n\n<p>When I make the request to the controller with a text file this is the output:</p>\n\n<pre><code>Request: org.apache.catalina.connector.RequestFacade@48d0006b\nPath: null\nFile Part toString(): null\nParts is null\n</code></pre>\n\n<p>Please help my figure out why the file is not coming through with the request?</p>\n\n<p>[UPDATE] \nI have tried changing the request mapping to <code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)</code> but still get the same output.</p>\n\n<p>I have now also tried:</p>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\npublic String uploadFile(MultipartFile file)\n      throws IOException, ServletException {\n   System.out.println(\"File: \" + file); // REM: Debug Print\n   return \"file_upload_testing\";\n}\n</code></pre>\n\n<p>Web config: </p>\n\n<pre><code>   @Bean\n   public MultipartResolver mulitpartResolver() {\n      CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n      commonsMultipartResolver.setDefaultEncoding(\"utf-8\");\n      commonsMultipartResolver.setMaxUploadSizePerFile(400000002);\n      return commonsMultipartResolver;\n   }\n</code></pre>\n\n<p>With this I get:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Expected MultipartHttpServletRequest: is a MultipartResolver configured?\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632537275,"creation_date":1632537275,"answer_id":69322715,"question_id":69311307,"body_markdown":"What you have done so far is for _application_ dependencies, not _build_ dependencies. To change or add additional dependencies to the build itself, use the `buildscript` block. So for you case, to bring in a more recent version of Logback:\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven {\r\n                url &quot;https://plugins.gradle.org/m2/&quot;\r\n            }\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;ch.qos.logback:logback-classic:1.2.6&#39;\r\n        }\r\n    }\r\nhttps://docs.gradle.org/current/userguide/tutorial_using_tasks.html#sec:build_script_external_dependencies\r\n\r\nYou can then invoke the `buildEnvironment` task to view the dependencies of the build.","title":"Gradle : How to bump transitive dependency version which is coming from plugin?","body":"<p>What you have done so far is for <em>application</em> dependencies, not <em>build</em> dependencies. To change or add additional dependencies to the build itself, use the <code>buildscript</code> block. So for you case, to bring in a more recent version of Logback:</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'ch.qos.logback:logback-classic:1.2.6'\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html#sec:build_script_external_dependencies\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/tutorial_using_tasks.html#sec:build_script_external_dependencies</a></p>\n<p>You can then invoke the <code>buildEnvironment</code> task to view the dependencies of the build.</p>\n"}],"owner":{"account_id":2322019,"reputation":2094,"user_id":2037489,"accept_rate":57,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632537275,"creation_date":1632469292,"question_id":69311307,"body_markdown":"I have a huge java multimodule application which uses gradle to manage build and dependencies.\r\nIn one of the modules let&#39;s say module1 the project is using [gretty][1] plugin\r\n\r\n- module1/build.gradle\r\n---\r\n\r\n    plugins{\r\n        id &#39;org.gretty&#39;\r\n    }\r\n\r\ngretty is having a transitive dependency on `ch.qos.logback:logback-classic:1.1.3`\r\n\r\nI want to bump the logback version to the latest. For that I have tried below solutions\r\n\r\n    dependencies {\r\n        // 1 try\r\n        implementation &#39;ch.qos.logback:logback-classic:1.2.6&#39;\r\n    \r\n        // 2nd try\r\n        implementation (&#39;ch.qos.logback:logback-classic:1.2.6&#39;) {\r\n            force = true\r\n        }\r\n    \r\n        // 3rd try\r\n    \r\n        constraints {\r\n            implementation(&#39;ch.qos.logback:logback-classic:1.2.6&#39;) {\r\n                because &#39;some xyz reason&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nBut none of this is having any impact on logback version. Need some suggestion now\r\n\r\n  [1]: https://plugins.gradle.org/plugin/org.gretty\r\n\r\n\r\n","title":"Gradle : How to bump transitive dependency version which is coming from plugin?","body":"<p>I have a huge java multimodule application which uses gradle to manage build and dependencies.\nIn one of the modules let's say module1 the project is using <a href=\"https://plugins.gradle.org/plugin/org.gretty\" rel=\"nofollow noreferrer\">gretty</a> plugin</p>\n<ul>\n<li>module1/build.gradle</li>\n</ul>\n<hr />\n<pre><code>plugins{\n    id 'org.gretty'\n}\n</code></pre>\n<p>gretty is having a transitive dependency on <code>ch.qos.logback:logback-classic:1.1.3</code></p>\n<p>I want to bump the logback version to the latest. For that I have tried below solutions</p>\n<pre><code>dependencies {\n    // 1 try\n    implementation 'ch.qos.logback:logback-classic:1.2.6'\n\n    // 2nd try\n    implementation ('ch.qos.logback:logback-classic:1.2.6') {\n        force = true\n    }\n\n    // 3rd try\n\n    constraints {\n        implementation('ch.qos.logback:logback-classic:1.2.6') {\n            because 'some xyz reason'\n        }\n    }\n}\n</code></pre>\n<p>But none of this is having any impact on logback version. Need some suggestion now</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1632356968,"post_id":69292555,"comment_id":122472616,"body_markdown":"Your explanation is confused and confusing.  Edit your question to describe all inputs, all desired outputs, and the general method for getting from one to the other.  You haven&#39;t done any of this.  Some of it&#39;s maybe guessable, but, for example, the role of the file is a mystery.","body":"Your explanation is confused and confusing.  Edit your question to describe all inputs, all desired outputs, and the general method for getting from one to the other.  You haven&#39;t done any of this.  Some of it&#39;s maybe guessable, but, for example, the role of the file is a mystery."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1632357333,"post_id":69292555,"comment_id":122472665,"body_markdown":"This may help.  [Shunting Yard Algorithm](https://en.wikipedia.org/wiki/Shunting-yard_algorithm)","body":"This may help.  <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Shunting Yard Algorithm</a>"},{"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"score":0,"creation_date":1632357652,"post_id":69292555,"comment_id":122472709,"body_markdown":"@Gene I have updated it with better explanation of inputs and desired output. Thanks.","body":"@Gene I have updated it with better explanation of inputs and desired output. Thanks."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1632358292,"post_id":69292555,"comment_id":122472804,"body_markdown":"It&#39;s still a mystery.  How do you &quot;match the custom boolean&quot;  ?  You need to describe how you&#39;d do it without code.","body":"It&#39;s still a mystery.  How do you &quot;match the custom boolean&quot;  ?  You need to describe how you&#39;d do it without code."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1632358498,"post_id":69292555,"comment_id":122472856,"body_markdown":"Oh I think I guess it now.  The terms of the boolean denote **presence** in a line of the file.  Is that right?  If so you really need to add that important point to the question.","body":"Oh I think I guess it now.  The terms of the boolean denote <b>presence</b> in a line of the file.  Is that right?  If so you really need to add that important point to the question."},{"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"score":0,"creation_date":1632359228,"post_id":69292555,"comment_id":122472994,"body_markdown":"@Gene you guessed correctly. I just added that edit. Thanks","body":"@Gene you guessed correctly. I just added that edit. Thanks"},{"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"score":0,"creation_date":1632359300,"post_id":69292555,"comment_id":122473005,"body_markdown":"@WSJ Thanks for that. The shunting yard algorithm seems promising.","body":"@WSJ Thanks for that. The shunting yard algorithm seems promising."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1632369511,"post_id":69292555,"comment_id":122474552,"body_markdown":"I find recursive descent parsing to be simpler than shunting yard. A grammar to start with is `E -&gt; T op T | T $;  T -&gt; not T | O;  O -&gt; var | &#39;(&#39; E &#39;)&#39;` where op is `and` or `or` and $ is &quot;end of input.&quot;  This should work fine with either RD or SY.","body":"I find recursive descent parsing to be simpler than shunting yard. A grammar to start with is <code>E -&gt; T op T | T $;  T -&gt; not T | O;  O -&gt; var | &#39;(&#39; E &#39;)&#39;</code> where op is <code>and</code> or <code>or</code> and $ is &quot;end of input.&quot;  This should work fine with either RD or SY."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1632370259,"post_id":69292555,"comment_id":122474662,"body_markdown":"A brilliant intro to recursive descent parsing for expression evaluation is given in the [Dragon Book](https://www.thriftbooks.com/w/compiladores-principios-tecnicas-y-herramientas_alfred-v-aho/248872/item/3908261/?gclid=Cj0KCQjwqKuKBhCxARIsACf4XuHRfZym4DannPz0jBy9wT9YBGklY3RaTuV36heHW04nZAdgw6zdi5gaAoKoEALw_wcB#idiq=3908261&amp;edition=2350562) in a very early chapter.  If you can get your hands on a copy, much will become clear.","body":"A brilliant intro to recursive descent parsing for expression evaluation is given in the <a href=\"https://www.thriftbooks.com/w/compiladores-principios-tecnicas-y-herramientas_alfred-v-aho/248872/item/3908261/?gclid=Cj0KCQjwqKuKBhCxARIsACf4XuHRfZym4DannPz0jBy9wT9YBGklY3RaTuV36heHW04nZAdgw6zdi5gaAoKoEALw_wcB#idiq=3908261&amp;edition=2350562\" rel=\"nofollow noreferrer\">Dragon Book</a> in a very early chapter.  If you can get your hands on a copy, much will become clear."},{"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"score":0,"creation_date":1632373442,"post_id":69292555,"comment_id":122475246,"body_markdown":"@WJS I was able to implement the shunting yard algorithm to convert the input from infix to postfix notation. But I can&#39;t figure out how to implement the postfix stack evaluator since all the resources I&#39;ve come across are for standard calculation ops (PEMDAS). Thanks again for your suggestion, this definitely seems the way to go!","body":"@WJS I was able to implement the shunting yard algorithm to convert the input from infix to postfix notation. But I can&#39;t figure out how to implement the postfix stack evaluator since all the resources I&#39;ve come across are for standard calculation ops (PEMDAS). Thanks again for your suggestion, this definitely seems the way to go!"}],"answers":[{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632535623,"creation_date":1632373088,"answer_id":69294244,"question_id":69292555,"body_markdown":"The first step is to tokenize the input. Define\r\n```\r\nenum Token {VAR, LP, RP, NOT, AND, OR, END}\r\n```\r\n`LP` and `RP` are parentheses.  Now define a tokenizer class that looks something like this:\r\n```\r\nclass Tokenizer {\r\n  Tokenizer(String input) {...}\r\n  void reset() {...}\r\n  Token getNext() {...}\r\n  String getVarName() {...}\r\n}\r\n```\r\nCalling `getNext()` on your example in a loop should return\r\n```\r\nLP LP NOT VAR AND LP LP NOT VAR OR VAR RP OR LP VAR OR VAR RP RP RP OR LP VAR AND NOT VAR RP RP AND VAR END\r\n```\r\nCalling `getVarName()` immediately after a `VAR` has been returned by `getNext()` gives you the name of the variable (e.g. `&quot;t42&quot;`). \r\n\r\nThere are many ways to implement little scanners like this. You should do this first and make sure it&#39;s bulletproof by testing. Trying to build a parser on top of a flaky scanner is torture.\r\n\r\nAs I said in comments, I&#39;d consider recursive descent parsing. If you have a suitable grammar, writing an RD parser is a very short step as the [Dragon Book](https://www.thriftbooks.com/w/compiladores-principios-tecnicas-y-herramientas_alfred-v-aho/248872/item/3908261/?gclid=Cj0KCQjwqKuKBhCxARIsACf4XuHRfZym4DannPz0jBy9wT9YBGklY3RaTuV36heHW04nZAdgw6zdi5gaAoKoEALw_wcB#idiq=3908261&amp;edition=2350562) (also mentioned above) shows.\r\n\r\nA reasonable grammar (using tokens as above) is\r\n```\r\nExpr -&gt; Term AND Term\r\n     | Term OR Term \r\n     | Term END\r\n\r\nTerm -&gt; NOT Term \r\n     | Opnd\r\n\r\nOpnd -&gt; VAR \r\n     | LP Expr RP\r\n```\r\nFor example, here is how you&#39;d get started. It shows the first rule converted to a function:\r\n```\r\nclass Evaluator {\r\n  final Tokenizer tokenizer = ...;     // Contains the expression text.\r\n  final Map&lt;String, Boolean&gt; env = ... // Environment: variables to values.\r\n\r\n  Token lookAhead;  // Holds the token we&#39;re parsing right now.\r\n\r\n  Evaluator(Tokenizer tokenizer, Map&lt;String, Boolean&gt; env) { ... }\r\n\r\n  void advance() {\r\n    lookAhead = tokenizer.getNext();\r\n  }\r\n\r\n  boolean expr() {\r\n    boolean leftHandSide = term();  // Parse the left hand side recursively.\r\n    Token op = lookAhead;           // Remember the operator.\r\n    if (op == Token.END) return leftHandSide; // Oops. That&#39;s all.\r\n    advance();                      // Skip past the operator.\r\n    boolean rightHandSide = term(); // Parse the right hand side recursively.\r\n    if (op == Token.AND) return leftHandSide &amp;&amp; rightHandSide;  // Evaluate!\r\n    if (op == Token.OR) return leftHandSide || rightHandSide;\r\n    dieWithSyntaxError(&quot;Expected op, found &quot; + op);\r\n  }\r\n\r\n  boolean term() {...}\r\n\r\n  boolean opnd() {...}\r\n    \r\n}\r\n```\r\nThe environment is used when a VAR is parsed. Its boolean value is `env.get(tokenizer.getVarName())`.\r\n\r\nSo to process the file, you&#39;ll\r\n\r\n```\r\nFor each line\r\n   For each variable tX in the expression\r\n      See if the line contains the string tX is bound to in its text field.\r\n         If so, put the mapping tX -&gt; true in the environment\r\n         else put tX -&gt; false\r\n   Reset the tokenizer\r\n   Call Evaluator.evaluate(tokenizer, environment)\r\n   If it returns true, print the line, else skip it.\r\n```\r\n\r\nThis is the simplest approach I can think of. About 150 lines. Many optimizations are possible.\r\n\r\n**Added**\r\n\r\nWell since I can no longer take away the thrill of discovery, here is my version:\r\n\r\n```\r\nimport static java.lang.Character.isDigit;\r\nimport static java.lang.Character.isWhitespace;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\npublic class TextExpressionSearch {\r\n  enum Token { VAR, LP, RP, NOT, AND, OR, END }\r\n  \r\n  static class Tokenizer {\r\n    final String input;\r\n    int pos = 0;\r\n    String var;\r\n    \r\n    Tokenizer(String input) {\r\n      this.input = input;\r\n    }\r\n        \r\n    void reset() {\r\n      pos = 0;\r\n      var = null;\r\n    }\r\n    \r\n    String getRead() {\r\n      return input.substring(0, pos);\r\n    }\r\n    \r\n    Token getNext() {\r\n      var = null;\r\n      while (pos &lt; input.length() &amp;&amp; isWhitespace(input.charAt(pos))) {\r\n        ++pos;\r\n      }\r\n      if (pos &gt;= input.length()) {\r\n        return Token.END;\r\n      }\r\n      int start = pos++;\r\n      switch (input.charAt(start)) {\r\n      case &#39;t&#39;:\r\n        while (pos &lt; input.length() &amp;&amp; isDigit(input.charAt(pos))) {\r\n          ++pos;\r\n        }\r\n        var = input.substring(start, pos);\r\n        return Token.VAR;\r\n      case &#39;(&#39;:\r\n        return Token.LP;\r\n      case &#39;)&#39;:\r\n        return Token.RP;\r\n      case &#39;n&#39;:\r\n        if (input.startsWith(&quot;ot&quot;, pos)) {\r\n          pos += 2;\r\n          return Token.NOT;\r\n        }\r\n        break;\r\n      case &#39;a&#39;:\r\n        if (input.startsWith(&quot;nd&quot;, pos)) {\r\n          pos += 2;\r\n          return Token.AND;\r\n        }\r\n        break;\r\n      case &#39;o&#39;:\r\n        if (input.startsWith(&quot;r&quot;, pos)) {\r\n          pos += 1;\r\n          return Token.OR;\r\n        }\r\n        break;\r\n      }\r\n      throw new AssertionError(&quot;Can&#39;t tokenize: &quot; + input.substring(start));\r\n    }\r\n  }\r\n  \r\n  static class Evaluator {\r\n    final Tokenizer tokenizer;\r\n    final Map&lt;String, Boolean&gt; env;\r\n    Token lookAhead;\r\n        \r\n    Evaluator(Tokenizer tokenizer, Map&lt;String, Boolean&gt; env) {\r\n      this.tokenizer = tokenizer;\r\n      this.env = env;\r\n      advance();\r\n    }\r\n    \r\n    boolean die(String msg) {\r\n      throw new AssertionError(msg + &quot;\\nRead: &quot; + tokenizer.getRead());\r\n    }\r\n    \r\n    void advance() {\r\n      lookAhead = tokenizer.getNext();\r\n    }\r\n    \r\n    void match(Token token) {\r\n      if (lookAhead != token) {\r\n        die(&quot;Expected &quot; + token + &quot;, found &quot; + lookAhead);\r\n      }\r\n      advance();\r\n    }\r\n    \r\n    boolean evaluate() {\r\n      boolean exprVal = expr();\r\n      match(Token.END); \r\n      return exprVal;\r\n    }\r\n    \r\n    boolean expr() {\r\n      boolean lhs = negated();\r\n      switch (lookAhead) {\r\n      case AND:\r\n        advance();\r\n        return negated() &amp;&amp; lhs;\r\n      case OR:\r\n        advance();\r\n        return negated() || lhs;\r\n      case END:\r\n        return lhs;\r\n      }\r\n      return die(&quot;Expected expr, found &quot; + lookAhead);\r\n    }\r\n\r\n    boolean negated() {\r\n      switch (lookAhead) {\r\n      case NOT:\r\n        advance();\r\n        return !negated();\r\n      default:\r\n        return operand();\r\n      }\r\n    }\r\n    \r\n    boolean operand() {\r\n      switch (lookAhead) {\r\n      case VAR:\r\n        if (!env.containsKey(tokenizer.var)) {\r\n          die(&quot;Undefined variable: &quot; + tokenizer.var);\r\n        }\r\n        boolean varVal = env.get(tokenizer.var);\r\n        advance();\r\n        return varVal;\r\n      case LP:\r\n        advance();\r\n        boolean exprVal = expr();\r\n        match(Token.RP);\r\n        return exprVal;\r\n      }\r\n      return die(&quot;Expected operand, found &quot; + lookAhead);\r\n    }\r\n  }\r\n  \r\n  public static void main(String [] args) {\r\n    String expr = &quot;((not t1 and ((not t2 or t4) or (t3 or t4))) or (t5 and not t6)) and t7&quot;;\r\n    Map&lt;String, String&gt; bindings = new HashMap&lt;&gt;();\r\n    bindings.put(&quot;t1&quot;, &quot;str1&quot;);\r\n    bindings.put(&quot;t2&quot;, &quot;str2&quot;);\r\n    bindings.put(&quot;t3&quot;, &quot;str3&quot;);\r\n    bindings.put(&quot;t4&quot;, &quot;str4&quot;);\r\n    bindings.put(&quot;t5&quot;, &quot;str5&quot;);\r\n    bindings.put(&quot;t6&quot;, &quot;str6&quot;);\r\n    bindings.put(&quot;t7&quot;, &quot;str7&quot;);    \r\n    String [] lines = {&quot;str5 str7&quot;, &quot;str4 str2&quot;};\r\n    Tokenizer tokenizer = new Tokenizer(expr);\r\n    for (String line : lines) {\r\n      Map&lt;String, Boolean&gt; env = \r\n          bindings.entrySet().stream()\r\n              .collect(toMap(e -&gt; e.getKey(), e -&gt; line.contains(e.getValue())));\r\n      tokenizer.reset();\r\n      if (new Evaluator(tokenizer, env).evaluate()) {\r\n        System.out.println(line);\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Parse Boolean Expression in Java","body":"<p>The first step is to tokenize the input. Define</p>\n<pre><code>enum Token {VAR, LP, RP, NOT, AND, OR, END}\n</code></pre>\n<p><code>LP</code> and <code>RP</code> are parentheses.  Now define a tokenizer class that looks something like this:</p>\n<pre><code>class Tokenizer {\n  Tokenizer(String input) {...}\n  void reset() {...}\n  Token getNext() {...}\n  String getVarName() {...}\n}\n</code></pre>\n<p>Calling <code>getNext()</code> on your example in a loop should return</p>\n<pre><code>LP LP NOT VAR AND LP LP NOT VAR OR VAR RP OR LP VAR OR VAR RP RP RP OR LP VAR AND NOT VAR RP RP AND VAR END\n</code></pre>\n<p>Calling <code>getVarName()</code> immediately after a <code>VAR</code> has been returned by <code>getNext()</code> gives you the name of the variable (e.g. <code>&quot;t42&quot;</code>).</p>\n<p>There are many ways to implement little scanners like this. You should do this first and make sure it's bulletproof by testing. Trying to build a parser on top of a flaky scanner is torture.</p>\n<p>As I said in comments, I'd consider recursive descent parsing. If you have a suitable grammar, writing an RD parser is a very short step as the <a href=\"https://www.thriftbooks.com/w/compiladores-principios-tecnicas-y-herramientas_alfred-v-aho/248872/item/3908261/?gclid=Cj0KCQjwqKuKBhCxARIsACf4XuHRfZym4DannPz0jBy9wT9YBGklY3RaTuV36heHW04nZAdgw6zdi5gaAoKoEALw_wcB#idiq=3908261&amp;edition=2350562\" rel=\"nofollow noreferrer\">Dragon Book</a> (also mentioned above) shows.</p>\n<p>A reasonable grammar (using tokens as above) is</p>\n<pre><code>Expr -&gt; Term AND Term\n     | Term OR Term \n     | Term END\n\nTerm -&gt; NOT Term \n     | Opnd\n\nOpnd -&gt; VAR \n     | LP Expr RP\n</code></pre>\n<p>For example, here is how you'd get started. It shows the first rule converted to a function:</p>\n<pre><code>class Evaluator {\n  final Tokenizer tokenizer = ...;     // Contains the expression text.\n  final Map&lt;String, Boolean&gt; env = ... // Environment: variables to values.\n\n  Token lookAhead;  // Holds the token we're parsing right now.\n\n  Evaluator(Tokenizer tokenizer, Map&lt;String, Boolean&gt; env) { ... }\n\n  void advance() {\n    lookAhead = tokenizer.getNext();\n  }\n\n  boolean expr() {\n    boolean leftHandSide = term();  // Parse the left hand side recursively.\n    Token op = lookAhead;           // Remember the operator.\n    if (op == Token.END) return leftHandSide; // Oops. That's all.\n    advance();                      // Skip past the operator.\n    boolean rightHandSide = term(); // Parse the right hand side recursively.\n    if (op == Token.AND) return leftHandSide &amp;&amp; rightHandSide;  // Evaluate!\n    if (op == Token.OR) return leftHandSide || rightHandSide;\n    dieWithSyntaxError(&quot;Expected op, found &quot; + op);\n  }\n\n  boolean term() {...}\n\n  boolean opnd() {...}\n    \n}\n</code></pre>\n<p>The environment is used when a VAR is parsed. Its boolean value is <code>env.get(tokenizer.getVarName())</code>.</p>\n<p>So to process the file, you'll</p>\n<pre><code>For each line\n   For each variable tX in the expression\n      See if the line contains the string tX is bound to in its text field.\n         If so, put the mapping tX -&gt; true in the environment\n         else put tX -&gt; false\n   Reset the tokenizer\n   Call Evaluator.evaluate(tokenizer, environment)\n   If it returns true, print the line, else skip it.\n</code></pre>\n<p>This is the simplest approach I can think of. About 150 lines. Many optimizations are possible.</p>\n<p><strong>Added</strong></p>\n<p>Well since I can no longer take away the thrill of discovery, here is my version:</p>\n<pre><code>import static java.lang.Character.isDigit;\nimport static java.lang.Character.isWhitespace;\nimport java.util.HashMap;\nimport java.util.Map;\nimport static java.util.stream.Collectors.toMap;\n\npublic class TextExpressionSearch {\n  enum Token { VAR, LP, RP, NOT, AND, OR, END }\n  \n  static class Tokenizer {\n    final String input;\n    int pos = 0;\n    String var;\n    \n    Tokenizer(String input) {\n      this.input = input;\n    }\n        \n    void reset() {\n      pos = 0;\n      var = null;\n    }\n    \n    String getRead() {\n      return input.substring(0, pos);\n    }\n    \n    Token getNext() {\n      var = null;\n      while (pos &lt; input.length() &amp;&amp; isWhitespace(input.charAt(pos))) {\n        ++pos;\n      }\n      if (pos &gt;= input.length()) {\n        return Token.END;\n      }\n      int start = pos++;\n      switch (input.charAt(start)) {\n      case 't':\n        while (pos &lt; input.length() &amp;&amp; isDigit(input.charAt(pos))) {\n          ++pos;\n        }\n        var = input.substring(start, pos);\n        return Token.VAR;\n      case '(':\n        return Token.LP;\n      case ')':\n        return Token.RP;\n      case 'n':\n        if (input.startsWith(&quot;ot&quot;, pos)) {\n          pos += 2;\n          return Token.NOT;\n        }\n        break;\n      case 'a':\n        if (input.startsWith(&quot;nd&quot;, pos)) {\n          pos += 2;\n          return Token.AND;\n        }\n        break;\n      case 'o':\n        if (input.startsWith(&quot;r&quot;, pos)) {\n          pos += 1;\n          return Token.OR;\n        }\n        break;\n      }\n      throw new AssertionError(&quot;Can't tokenize: &quot; + input.substring(start));\n    }\n  }\n  \n  static class Evaluator {\n    final Tokenizer tokenizer;\n    final Map&lt;String, Boolean&gt; env;\n    Token lookAhead;\n        \n    Evaluator(Tokenizer tokenizer, Map&lt;String, Boolean&gt; env) {\n      this.tokenizer = tokenizer;\n      this.env = env;\n      advance();\n    }\n    \n    boolean die(String msg) {\n      throw new AssertionError(msg + &quot;\\nRead: &quot; + tokenizer.getRead());\n    }\n    \n    void advance() {\n      lookAhead = tokenizer.getNext();\n    }\n    \n    void match(Token token) {\n      if (lookAhead != token) {\n        die(&quot;Expected &quot; + token + &quot;, found &quot; + lookAhead);\n      }\n      advance();\n    }\n    \n    boolean evaluate() {\n      boolean exprVal = expr();\n      match(Token.END); \n      return exprVal;\n    }\n    \n    boolean expr() {\n      boolean lhs = negated();\n      switch (lookAhead) {\n      case AND:\n        advance();\n        return negated() &amp;&amp; lhs;\n      case OR:\n        advance();\n        return negated() || lhs;\n      case END:\n        return lhs;\n      }\n      return die(&quot;Expected expr, found &quot; + lookAhead);\n    }\n\n    boolean negated() {\n      switch (lookAhead) {\n      case NOT:\n        advance();\n        return !negated();\n      default:\n        return operand();\n      }\n    }\n    \n    boolean operand() {\n      switch (lookAhead) {\n      case VAR:\n        if (!env.containsKey(tokenizer.var)) {\n          die(&quot;Undefined variable: &quot; + tokenizer.var);\n        }\n        boolean varVal = env.get(tokenizer.var);\n        advance();\n        return varVal;\n      case LP:\n        advance();\n        boolean exprVal = expr();\n        match(Token.RP);\n        return exprVal;\n      }\n      return die(&quot;Expected operand, found &quot; + lookAhead);\n    }\n  }\n  \n  public static void main(String [] args) {\n    String expr = &quot;((not t1 and ((not t2 or t4) or (t3 or t4))) or (t5 and not t6)) and t7&quot;;\n    Map&lt;String, String&gt; bindings = new HashMap&lt;&gt;();\n    bindings.put(&quot;t1&quot;, &quot;str1&quot;);\n    bindings.put(&quot;t2&quot;, &quot;str2&quot;);\n    bindings.put(&quot;t3&quot;, &quot;str3&quot;);\n    bindings.put(&quot;t4&quot;, &quot;str4&quot;);\n    bindings.put(&quot;t5&quot;, &quot;str5&quot;);\n    bindings.put(&quot;t6&quot;, &quot;str6&quot;);\n    bindings.put(&quot;t7&quot;, &quot;str7&quot;);    \n    String [] lines = {&quot;str5 str7&quot;, &quot;str4 str2&quot;};\n    Tokenizer tokenizer = new Tokenizer(expr);\n    for (String line : lines) {\n      Map&lt;String, Boolean&gt; env = \n          bindings.entrySet().stream()\n              .collect(toMap(e -&gt; e.getKey(), e -&gt; line.contains(e.getValue())));\n      tokenizer.reset();\n      if (new Evaluator(tokenizer, env).evaluate()) {\n        System.out.println(line);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632517810,"creation_date":1632374181,"answer_id":69294374,"question_id":69292555,"body_markdown":"You can define a parser that returns a `Predicate&lt;String&gt;` that tests if a given string satisfies a conditional expression.\r\n\r\n\r\n    static Predicate&lt;String&gt; parse(String s, Map&lt;String, String&gt; map) {\r\n        return new Object() {\r\n            String[] tokens = Pattern.compile(&quot;[()]|[a-z][a-z0-9]*&quot;)\r\n                .matcher(s).results()\r\n                .map(MatchResult::group)\r\n                .toArray(String[]::new);\r\n            int length = tokens.length;\r\n            int index = 0;\r\n            String token = get();\r\n\r\n            String get() {\r\n                return token = index &lt; length ? tokens[index++] : null;\r\n            }\r\n\r\n            boolean eat(String expect) {\r\n                if (expect.equals(token)) {\r\n                    get();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            Predicate&lt;String&gt; identifier() {\r\n                String id = token;\r\n                return s -&gt; {\r\n                    String value = map.get(id);\r\n                    if (value == null)\r\n                        throw new RuntimeException(\r\n                            &quot;identifier &#39;&quot; + id + &quot;&#39; undefined&quot;);\r\n                    return s.contains(value);\r\n                };\r\n            }\r\n\r\n            Predicate&lt;String&gt; factor() {\r\n                boolean not = false;\r\n                Predicate&lt;String&gt; p;\r\n                if (eat(&quot;not&quot;))\r\n                    not = true;\r\n                switch (token) {\r\n                case &quot;(&quot;:\r\n                    get();\r\n                    p = expression();\r\n                    if (!eat(&quot;)&quot;))\r\n                        throw new RuntimeException(&quot;&#39;)&#39; expected&quot;);\r\n                    break;\r\n                case &quot;)&quot;: case &quot;not&quot;: case &quot;and&quot;: case &quot;or&quot;:\r\n                    throw new RuntimeException(&quot;syntax error at &#39;&quot; + token + &quot;&#39;&quot;);\r\n                default:\r\n                    p = identifier();\r\n                    get();\r\n                    break;\r\n                }\r\n                if (not)\r\n                    p = p.negate();\r\n                return p;\r\n            }\r\n\r\n            Predicate&lt;String&gt; term() {\r\n                Predicate&lt;String&gt; p = factor();\r\n                while (eat(&quot;and&quot;))\r\n                    p = p.and(factor());\r\n                return p;\r\n            }\r\n\r\n            Predicate&lt;String&gt; expression() {\r\n                Predicate&lt;String&gt; p = term();\r\n                while (eat(&quot;or&quot;))\r\n                    p = p.or(term());\r\n                return p;\r\n            }\r\n\r\n            Predicate&lt;String&gt; parse() {\r\n                Predicate&lt;String&gt; p = expression();\r\n                if (token != null)\r\n                    throw new RuntimeException(&quot;extra tokens string&quot;);\r\n                return p;\r\n            }\r\n        }.parse();\r\n    }\r\n\r\ntest case:\r\n\r\n    @Test\r\n    public void testParse() {\r\n        String s = &quot;not ((t1 and not t3) or (t4 and t2)) or t5&quot;;\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;(Map.of(\r\n            &quot;t1&quot;, &quot;str1&quot;,\r\n            &quot;t2&quot;, &quot;str2&quot;,\r\n            &quot;t3&quot;, &quot;str3&quot;,\r\n            &quot;t4&quot;, &quot;str4&quot;,\r\n            &quot;t5&quot;, &quot;str5&quot;));\r\n        Predicate&lt;String&gt; p = parse(s, map);\r\n        assertTrue(p.test(&quot;str5&quot;));\r\n        assertTrue(p.test(&quot;str3&quot;));\r\n        assertTrue(p.test(&quot;str1 str3&quot;));\r\n        assertFalse(p.test(&quot;str1&quot;));\r\n        assertFalse(p.test(&quot;str2 str4&quot;));\r\n        // you can change value of variables.\r\n        assertFalse(p.test(&quot;str1 FOO&quot;));\r\n        map.put(&quot;t5&quot;, &quot;FOO&quot;);\r\n        assertTrue(p.test(&quot;str1 FOO&quot;));\r\n    }\r\n\r\nsyntax:\r\n\r\n    expression = term { &quot;or&quot; term }\r\n    term       = factor { &quot;and&quot; factor }\r\n    factor     = [ &quot;not&quot; ] ( &quot;(&quot; expression &quot;)&quot; | identifier )\r\n    identifier = letter { letter | digit }\r\n    letter     = &quot;a&quot; | &quot;b&quot; | ... | &quot;z&quot;\r\n    digit      = &quot;0&quot; | &quot;1&quot; | ... | &quot;9&quot;\r\n\r\n\r\n","title":"Parse Boolean Expression in Java","body":"<p>You can define a parser that returns a <code>Predicate&lt;String&gt;</code> that tests if a given string satisfies a conditional expression.</p>\n<pre><code>static Predicate&lt;String&gt; parse(String s, Map&lt;String, String&gt; map) {\n    return new Object() {\n        String[] tokens = Pattern.compile(&quot;[()]|[a-z][a-z0-9]*&quot;)\n            .matcher(s).results()\n            .map(MatchResult::group)\n            .toArray(String[]::new);\n        int length = tokens.length;\n        int index = 0;\n        String token = get();\n\n        String get() {\n            return token = index &lt; length ? tokens[index++] : null;\n        }\n\n        boolean eat(String expect) {\n            if (expect.equals(token)) {\n                get();\n                return true;\n            }\n            return false;\n        }\n\n        Predicate&lt;String&gt; identifier() {\n            String id = token;\n            return s -&gt; {\n                String value = map.get(id);\n                if (value == null)\n                    throw new RuntimeException(\n                        &quot;identifier '&quot; + id + &quot;' undefined&quot;);\n                return s.contains(value);\n            };\n        }\n\n        Predicate&lt;String&gt; factor() {\n            boolean not = false;\n            Predicate&lt;String&gt; p;\n            if (eat(&quot;not&quot;))\n                not = true;\n            switch (token) {\n            case &quot;(&quot;:\n                get();\n                p = expression();\n                if (!eat(&quot;)&quot;))\n                    throw new RuntimeException(&quot;')' expected&quot;);\n                break;\n            case &quot;)&quot;: case &quot;not&quot;: case &quot;and&quot;: case &quot;or&quot;:\n                throw new RuntimeException(&quot;syntax error at '&quot; + token + &quot;'&quot;);\n            default:\n                p = identifier();\n                get();\n                break;\n            }\n            if (not)\n                p = p.negate();\n            return p;\n        }\n\n        Predicate&lt;String&gt; term() {\n            Predicate&lt;String&gt; p = factor();\n            while (eat(&quot;and&quot;))\n                p = p.and(factor());\n            return p;\n        }\n\n        Predicate&lt;String&gt; expression() {\n            Predicate&lt;String&gt; p = term();\n            while (eat(&quot;or&quot;))\n                p = p.or(term());\n            return p;\n        }\n\n        Predicate&lt;String&gt; parse() {\n            Predicate&lt;String&gt; p = expression();\n            if (token != null)\n                throw new RuntimeException(&quot;extra tokens string&quot;);\n            return p;\n        }\n    }.parse();\n}\n</code></pre>\n<p>test case:</p>\n<pre><code>@Test\npublic void testParse() {\n    String s = &quot;not ((t1 and not t3) or (t4 and t2)) or t5&quot;;\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;(Map.of(\n        &quot;t1&quot;, &quot;str1&quot;,\n        &quot;t2&quot;, &quot;str2&quot;,\n        &quot;t3&quot;, &quot;str3&quot;,\n        &quot;t4&quot;, &quot;str4&quot;,\n        &quot;t5&quot;, &quot;str5&quot;));\n    Predicate&lt;String&gt; p = parse(s, map);\n    assertTrue(p.test(&quot;str5&quot;));\n    assertTrue(p.test(&quot;str3&quot;));\n    assertTrue(p.test(&quot;str1 str3&quot;));\n    assertFalse(p.test(&quot;str1&quot;));\n    assertFalse(p.test(&quot;str2 str4&quot;));\n    // you can change value of variables.\n    assertFalse(p.test(&quot;str1 FOO&quot;));\n    map.put(&quot;t5&quot;, &quot;FOO&quot;);\n    assertTrue(p.test(&quot;str1 FOO&quot;));\n}\n</code></pre>\n<p>syntax:</p>\n<pre><code>expression = term { &quot;or&quot; term }\nterm       = factor { &quot;and&quot; factor }\nfactor     = [ &quot;not&quot; ] ( &quot;(&quot; expression &quot;)&quot; | identifier )\nidentifier = letter { letter | digit }\nletter     = &quot;a&quot; | &quot;b&quot; | ... | &quot;z&quot;\ndigit      = &quot;0&quot; | &quot;1&quot; | ... | &quot;9&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632422112,"creation_date":1632422112,"answer_id":69305300,"question_id":69292555,"body_markdown":"For posterity, here is my shunting yard solution which includes input validation:\r\n\r\n\r\n    public class CustomInputParser {\r\n\tprivate Stack&lt;Character&gt; ops;\r\n\tprivate LinkedList&lt;Character&gt; postFix;\r\n\tprivate HashMap&lt;Character, Integer&gt; precedence;\r\n\tprivate Stack&lt;Boolean&gt; eval; \r\n\tprivate HashMap&lt;Integer, String&gt; termsMap;\r\n\tprivate String customBool;\r\n\t\r\n\tpublic CustomInputParser(HashMap&lt;Integer, String&gt; tMap, String custBool) {\r\n\t\tthis.ops = new Stack&lt;Character&gt;();\r\n\t\tthis.eval = new Stack&lt;Boolean&gt;();\r\n\t\tthis.postFix = new LinkedList&lt;Character&gt;();\r\n\t\tthis.termsMap = tMap;\r\n\t\tthis.customBool = custBool;\r\n\t\tthis.precedence = new HashMap&lt;Character, Integer&gt;();\r\n\t\tprecedence.put(&#39;n&#39;, 1);\r\n\t\tprecedence.put(&#39;a&#39;, 2);\r\n\t\tprecedence.put(&#39;o&#39;,3);\r\n\t\tprecedence.put(&#39;(&#39;, 4);\r\n\t\t \r\n\t}\r\n\t\r\n\tprivate int inToPost() {\r\n\t\tchar[] expr = convertToArr(this.customBool);\r\n\t\tchar c;\r\n\t\tfor(int i = 0; i &lt; expr.length; i++) {\r\n\t\t\tc = expr[i];\r\n\t\t\tif(isOp(c)) {\r\n\t\t\t\tif(processOp(c) != 0) return -1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(!Character.isDigit(c)) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//I made the mistake of using a queue of Characters for postfix initially\r\n\t\t\t\t//This only worked for up to 9 operands (multi digit would add mutiple chars to\r\n\t\t\t\t// postfix for a single reference.\r\n\t\t\t\t//This loops is a lazy workaround: \r\n\t\t\t\t//   1. get the string of the reference (e.g. &quot;11&quot;)\r\n\t\t\t\t//   2. convert it to int\r\n\t\t\t\t//   3. store the char value of the int in postfix\r\n\t\t\t\t//   4. when evaluating operands in postfix eval, convert char back to int to get the termsMap key\r\n\t\t\t\tString num = &quot;&quot;;\r\n\t\t\t\twhile(i &lt; expr.length) {\r\n\t\t\t\t\tif(!Character.isDigit(expr[i])) {\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tc = expr[i];\r\n\t\t\t\t\tnum += c;\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tint j = Integer.valueOf(num);\r\n\t\t\t\tc = (char) j;\r\n\t\t\t\tpostFix.offer(c); //enqueue\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile(!ops.empty()) {\r\n\t\t\tif(ops.peek() == &#39;(&#39;)return -1; //no matching close paren for the open paren\r\n\t\t\tpostFix.offer(ops.pop()); //pop and enqueue all remaining ops from stack\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tprivate boolean isOp(char c) {\r\n\t\tif(c == &#39;(&#39; || c == &#39;)&#39; || c ==&#39;n&#39; || c==&#39;a&#39; || c==&#39;o&#39;) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tprivate int processOp(char c) {\r\n\t\tif (ops.empty() || c == &#39;(&#39;) {\r\n\t\t\tops.push(c);\r\n\t\t}\r\n\t\telse if(c == &#39;)&#39;) {\r\n\t\t\twhile(ops.peek() != &#39;(&#39;) {\r\n\t\t\t\tpostFix.offer(ops.pop()); //pop and equeue ops wrapped in parens\r\n\t\t\t\tif(ops.empty()) return -1; //no matching open paren for the close paren\r\n\t\t\t}\r\n\t\t\tops.pop(); // don&#39;t enqueue open paren, just remove it from stack\r\n\t\t}\r\n\t\telse if(precedence.get(c) &gt; precedence.get(ops.peek())) {\r\n\t\t\tpostFix.offer(ops.pop()); //pop and enqueue the higher precedence op\r\n\t\t\tops.push(c);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tops.push(c);\r\n\t\t}\r\n\t\treturn 0;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic boolean evaluate(String s) {\r\n\t\twhile(!postFix.isEmpty()) {\r\n\t\t\tchar c = postFix.poll();\r\n\t\t\tboolean op1, op2;\r\n\t\t\tswitch(c) {\r\n\t\t\t\tcase &#39;n&#39;:\r\n\t\t\t\t\top1 = eval.pop();\r\n\t\t\t\t\teval.push(!op1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &#39;a&#39;:\r\n\t\t\t\t\top1 = eval.pop();\r\n\t\t\t\t\top2 = eval.pop();\r\n\t\t\t\t\teval.push(op1 &amp;&amp; op2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &#39;o&#39;:\r\n\t\t\t\t\top1 = eval.pop();\r\n\t\t\t\t\top2 = eval.pop();\r\n\t\t\t\t\teval.push(op1 || op2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tint termKey = (int) c;\r\n\t\t\t\t\tString term = this.termsMap.get(termKey);\r\n\t\t\t\t\teval.push(s.contains(String.valueOf(term)));\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn eval.pop();\r\n\t}\r\n\t\r\n\tprivate char[] convertToArr(String x) {\r\n\t\tx = x.replace(&quot;not&quot;, &quot;n&quot;).replace(&quot;and&quot;,&quot;a&quot;).replace(&quot;or&quot;, &quot;o&quot;).replace(&quot;t&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n\t\treturn x.toCharArray();\r\n\t}\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString customBool = &quot;(t1 and not (t2 and t3)) or (t4 and not t5)&quot;;\r\n\t\tHashMap&lt;Integer,String&gt; termsMap = new HashMap&lt;Integer, String&gt;();\r\n\t\ttermsMap.put(1,&quot;str1&quot;);\r\n\t\ttermsMap.put(2,&quot;str2&quot;);\r\n\t\ttermsMap.put(3,&quot;str3&quot;);\r\n\t\ttermsMap.put(4,&quot;str4&quot;);\r\n\t\ttermsMap.put(5,&quot;str5&quot;);\r\n\t\tCustomInputParser c = new CustomInputParser(termsMap, customBool);\r\n\t\tif(c.inToPost() != 0) {\r\n\t\t\tSystem.out.println(&quot;invalid custom boolean&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\tSystem.out.println(c.evaluate(&quot;str1str5&quot;));\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n}","title":"Parse Boolean Expression in Java","body":"<p>For posterity, here is my shunting yard solution which includes input validation:</p>\n<pre><code>public class CustomInputParser {\nprivate Stack&lt;Character&gt; ops;\nprivate LinkedList&lt;Character&gt; postFix;\nprivate HashMap&lt;Character, Integer&gt; precedence;\nprivate Stack&lt;Boolean&gt; eval; \nprivate HashMap&lt;Integer, String&gt; termsMap;\nprivate String customBool;\n\npublic CustomInputParser(HashMap&lt;Integer, String&gt; tMap, String custBool) {\n    this.ops = new Stack&lt;Character&gt;();\n    this.eval = new Stack&lt;Boolean&gt;();\n    this.postFix = new LinkedList&lt;Character&gt;();\n    this.termsMap = tMap;\n    this.customBool = custBool;\n    this.precedence = new HashMap&lt;Character, Integer&gt;();\n    precedence.put('n', 1);\n    precedence.put('a', 2);\n    precedence.put('o',3);\n    precedence.put('(', 4);\n     \n}\n\nprivate int inToPost() {\n    char[] expr = convertToArr(this.customBool);\n    char c;\n    for(int i = 0; i &lt; expr.length; i++) {\n        c = expr[i];\n        if(isOp(c)) {\n            if(processOp(c) != 0) return -1;\n        }\n        else {\n            if(!Character.isDigit(c)) {\n                return -1;\n            }\n            \n            \n            \n            //I made the mistake of using a queue of Characters for postfix initially\n            //This only worked for up to 9 operands (multi digit would add mutiple chars to\n            // postfix for a single reference.\n            //This loops is a lazy workaround: \n            //   1. get the string of the reference (e.g. &quot;11&quot;)\n            //   2. convert it to int\n            //   3. store the char value of the int in postfix\n            //   4. when evaluating operands in postfix eval, convert char back to int to get the termsMap key\n            String num = &quot;&quot;;\n            while(i &lt; expr.length) {\n                if(!Character.isDigit(expr[i])) {\n                    i--;\n                    break;\n                }\n                c = expr[i];\n                num += c;\n                i++;\n            }\n            int j = Integer.valueOf(num);\n            c = (char) j;\n            postFix.offer(c); //enqueue\n            \n            \n        }\n    }\n    while(!ops.empty()) {\n        if(ops.peek() == '(')return -1; //no matching close paren for the open paren\n        postFix.offer(ops.pop()); //pop and enqueue all remaining ops from stack\n    }\n    return 0;\n}\n\nprivate boolean isOp(char c) {\n    if(c == '(' || c == ')' || c =='n' || c=='a' || c=='o') {\n        return true;\n    }\n    return false;\n}\n\nprivate int processOp(char c) {\n    if (ops.empty() || c == '(') {\n        ops.push(c);\n    }\n    else if(c == ')') {\n        while(ops.peek() != '(') {\n            postFix.offer(ops.pop()); //pop and equeue ops wrapped in parens\n            if(ops.empty()) return -1; //no matching open paren for the close paren\n        }\n        ops.pop(); // don't enqueue open paren, just remove it from stack\n    }\n    else if(precedence.get(c) &gt; precedence.get(ops.peek())) {\n        postFix.offer(ops.pop()); //pop and enqueue the higher precedence op\n        ops.push(c);\n    }\n    else {\n        ops.push(c);\n    }\n    return 0;\n    \n}\n\npublic boolean evaluate(String s) {\n    while(!postFix.isEmpty()) {\n        char c = postFix.poll();\n        boolean op1, op2;\n        switch(c) {\n            case 'n':\n                op1 = eval.pop();\n                eval.push(!op1);\n                break;\n                \n            case 'a':\n                op1 = eval.pop();\n                op2 = eval.pop();\n                eval.push(op1 &amp;&amp; op2);\n                break;\n                \n            case 'o':\n                op1 = eval.pop();\n                op2 = eval.pop();\n                eval.push(op1 || op2);\n                break;\n            \n            default:\n                int termKey = (int) c;\n                String term = this.termsMap.get(termKey);\n                eval.push(s.contains(String.valueOf(term)));\n                break;\n        }\n    }\n    return eval.pop();\n}\n\nprivate char[] convertToArr(String x) {\n    x = x.replace(&quot;not&quot;, &quot;n&quot;).replace(&quot;and&quot;,&quot;a&quot;).replace(&quot;or&quot;, &quot;o&quot;).replace(&quot;t&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\n    return x.toCharArray();\n}\n\n\npublic static void main(String[] args) {\n    String customBool = &quot;(t1 and not (t2 and t3)) or (t4 and not t5)&quot;;\n    HashMap&lt;Integer,String&gt; termsMap = new HashMap&lt;Integer, String&gt;();\n    termsMap.put(1,&quot;str1&quot;);\n    termsMap.put(2,&quot;str2&quot;);\n    termsMap.put(3,&quot;str3&quot;);\n    termsMap.put(4,&quot;str4&quot;);\n    termsMap.put(5,&quot;str5&quot;);\n    CustomInputParser c = new CustomInputParser(termsMap, customBool);\n    if(c.inToPost() != 0) {\n        System.out.println(&quot;invalid custom boolean&quot;);\n    }\n    else {\n    System.out.println(c.evaluate(&quot;str1str5&quot;));\n    }\n    \n    \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":15734225,"reputation":11,"user_id":11353737,"display_name":"s_herbert"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69294244,"answer_count":3,"score":1,"last_activity_date":1632535623,"creation_date":1632356092,"question_id":69292555,"body_markdown":"Given an arbitrary number of TextField inputs (t1, t2, t3, ...) and a custom boolean string input from a JtextArea, I need to check if lines in a file match the custom boolean expression. It needs to support nested parentheses.\r\n\r\nExample:\r\n\r\nUser enters &quot;str1&quot; into t1 , &quot;str2&quot; into t2, &quot;str3&quot; into t3, &quot;str4&quot; into t4, &quot;str5&quot; into t5.\r\n\r\nUser enters the following into the JTextArea for the custom boolean:\r\n\r\n &quot;not ((t1 and not t3) or (t4 and t2)) or t5&quot;\r\n\r\nThen based on these inputs, I must filter a file and return lines in the file that match the custom boolean based on a &quot;contains&quot; relationship (e.g. &quot;t1 and not t3&quot; means a line must contain the string t1 and not contain the string t3). \r\n\r\nFor example a file with the following two lines:\r\n\r\nstr 5\r\n\r\nstr4 str2 \r\n\r\nThe filter would only return str5 because it is the only line that matches the custom boolean.\r\n\r\nI am having trouble even getting started. I have tried to think of a recursive solution but couldn&#39;t come up with anything. Also I tried non-recursive solutions but can&#39;t come up with anything either.\r\n\r\nThere is also the problem of the end result boolean needing to take in a parameter (each line in the file). I thought of maybe producing a sequence of operations to perform rather than a boolean that somehow takes in a parameter. But I can&#39;t figure out how to get this sequence in the first place.\r\n\r\nHere is what I have now. It is very bad and I am thinking of scrapping this approach.\r\n\r\n    public class CustomInputParser {\r\n\tprivate ArrayList&lt;String&gt; pairs;\r\n\tprivate String inp;\r\n\tprivate HashMap&lt;Integer,String&gt; atomMap;\r\n\t\r\n\tpublic CustomInputParser() {\r\n\t\tthis.pairs = null;\r\n\t\tthis.inp = &quot;&quot;;\r\n\t\tthis.atomMap = new HashMap&lt;Integer,String&gt;();\r\n\t}\r\n\t\r\n\tpublic void findAtoms() {\r\n\t\tint i = 0;\r\n\t\tfor(String s : this.pairs) {\r\n\t\t\tString[] indices = s.split(&quot;,&quot;);\r\n\t\t\tint begin = Integer.valueOf(indices[0]);\r\n\t\t\tint end = Integer.valueOf(indices[1]);\r\n\t\t\tif(!inp.substring(begin+1, end).contains(&quot;(&quot;)) {\r\n\r\n\t\t\t\tthis.pairs.set(i, this.pairs.get(i) + &quot;,@&quot;);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void computeAtoms() {\r\n\t\tint i = 0;\r\n\t\tfor(String s : this.pairs) {\r\n\t\t\tif(s.contains(&quot;,@&quot;)) {\r\n\t\t\t\tString[] indices = s.split(&quot;,&quot;);\r\n\t\t\t\tint begin = Integer.valueOf(indices[0]);\r\n\t\t\t\tint end = Integer.valueOf(indices[1]);\r\n\t\t\t\t\t//this.pairs.set(i,this.pairs.get(i).replace(&quot;,a&quot;, &quot;&quot;));\r\n\t\t\t\t\tthis.pairs.set(i, this.pairs.get(i) + &quot;,&quot;+inp.substring(begin+1, end));\r\n\t\t\t\t\tthis.atomMap.put(begin,this.pairs.get(i).split(&quot;,&quot;)[3]+&quot;#&quot;+String.valueOf(end));\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tSystem.out.println(this.pairs.toString());\r\n\t\tSystem.out.println(this.atomMap.toString());\r\n\t}\r\n\t\r\n\tpublic void replaceAtoms() {\r\n\t\tint i = 0;\r\n\t\tfor(String s : this.pairs) {\r\n\t\t\tif(!(s.contains(&quot;o&quot;) || s.contains(&quot;a&quot;) || s.contains(&quot;n&quot;))) {\r\n\t\t\t\tString[] indices = s.split(&quot;,&quot;);\r\n\t\t\t\tint begin = Integer.valueOf(indices[0])+1;\r\n\t\t\t\tint end = Integer.valueOf(indices[1]);\r\n\t\t\t\tfor(int j = begin; j &lt; end; j++) {\r\n\t\t\t\t\tif(inp.charAt(j) == &#39;(&#39;) {\r\n\t\t\t\t\t\tif(atomMap.containsKey(j)) {\r\n\t\t\t\t\t\t\tthis.pairs.set(i, this.pairs.get(i) + &quot;,&quot;+j+&quot;#&quot;+atomMap.get(j).split(&quot;#&quot;)[1]+&quot;&gt;&quot;+atomMap.get(j).split(&quot;#&quot;)[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.pairs.set(i,&quot;!&quot;+ this.pairs.get(i));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tSystem.out.println(this.pairs.toString());\r\n\t}\r\n\tpublic ArrayList&lt;String&gt; getPairs(String str){\r\n\t\tthis.inp = str;\r\n\t\tArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n\t\tchar[] arr = str.toCharArray();\r\n\t\tStack&lt;Integer&gt; s = new Stack&lt;Integer&gt;();\r\n\t\tfor(int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif(arr[i] == &#39;(&#39;) {\r\n\t\t\t\t\r\n\t\t\t\ts.push(i);\r\n\t\t\t}\r\n\t\t\tif(arr[i] == &#39;)&#39;) {\r\n\t\t\t\tif(s.empty()) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tInteger start  = s.pop();\r\n\t\t\t\t\tInteger end = Integer.valueOf(i);\r\n\t\t\t\t\tres.add(start.toString() + &quot;,&quot; + end.toString());\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!s.empty()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tthis.pairs = res;\r\n\t\treturn res;\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;((not t1 and ((not t2 or t4) or (t3 or t4))) or (t5 and not t6)) and t7&quot;;\r\n\t\tx = x.replace(&quot;not&quot;, &quot;n&quot;).replace(&quot;and&quot;,&quot;a&quot;).replace(&quot;or&quot;, &quot;o&quot;).replace(&quot;t&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n\t\tSystem.out.println(x);\r\n\t\tCustomInputParser c = new CustomInputParser();\r\n\t\tSystem.out.println(c.getPairs(x).toString());\r\n\t\tc.findAtoms();\r\n\t\tc.computeAtoms();\r\n\t\tc.replaceAtoms();\r\n\t\t\r\n\t}\r\n}\r\n\r\n","title":"Parse Boolean Expression in Java","body":"<p>Given an arbitrary number of TextField inputs (t1, t2, t3, ...) and a custom boolean string input from a JtextArea, I need to check if lines in a file match the custom boolean expression. It needs to support nested parentheses.</p>\n<p>Example:</p>\n<p>User enters &quot;str1&quot; into t1 , &quot;str2&quot; into t2, &quot;str3&quot; into t3, &quot;str4&quot; into t4, &quot;str5&quot; into t5.</p>\n<p>User enters the following into the JTextArea for the custom boolean:</p>\n<p>&quot;not ((t1 and not t3) or (t4 and t2)) or t5&quot;</p>\n<p>Then based on these inputs, I must filter a file and return lines in the file that match the custom boolean based on a &quot;contains&quot; relationship (e.g. &quot;t1 and not t3&quot; means a line must contain the string t1 and not contain the string t3).</p>\n<p>For example a file with the following two lines:</p>\n<p>str 5</p>\n<p>str4 str2</p>\n<p>The filter would only return str5 because it is the only line that matches the custom boolean.</p>\n<p>I am having trouble even getting started. I have tried to think of a recursive solution but couldn't come up with anything. Also I tried non-recursive solutions but can't come up with anything either.</p>\n<p>There is also the problem of the end result boolean needing to take in a parameter (each line in the file). I thought of maybe producing a sequence of operations to perform rather than a boolean that somehow takes in a parameter. But I can't figure out how to get this sequence in the first place.</p>\n<p>Here is what I have now. It is very bad and I am thinking of scrapping this approach.</p>\n<pre><code>public class CustomInputParser {\nprivate ArrayList&lt;String&gt; pairs;\nprivate String inp;\nprivate HashMap&lt;Integer,String&gt; atomMap;\n\npublic CustomInputParser() {\n    this.pairs = null;\n    this.inp = &quot;&quot;;\n    this.atomMap = new HashMap&lt;Integer,String&gt;();\n}\n\npublic void findAtoms() {\n    int i = 0;\n    for(String s : this.pairs) {\n        String[] indices = s.split(&quot;,&quot;);\n        int begin = Integer.valueOf(indices[0]);\n        int end = Integer.valueOf(indices[1]);\n        if(!inp.substring(begin+1, end).contains(&quot;(&quot;)) {\n\n            this.pairs.set(i, this.pairs.get(i) + &quot;,@&quot;);\n        }\n        i++;\n    }\n    \n}\n\npublic void computeAtoms() {\n    int i = 0;\n    for(String s : this.pairs) {\n        if(s.contains(&quot;,@&quot;)) {\n            String[] indices = s.split(&quot;,&quot;);\n            int begin = Integer.valueOf(indices[0]);\n            int end = Integer.valueOf(indices[1]);\n                //this.pairs.set(i,this.pairs.get(i).replace(&quot;,a&quot;, &quot;&quot;));\n                this.pairs.set(i, this.pairs.get(i) + &quot;,&quot;+inp.substring(begin+1, end));\n                this.atomMap.put(begin,this.pairs.get(i).split(&quot;,&quot;)[3]+&quot;#&quot;+String.valueOf(end));\n            \n        }\n        i++;\n    }\n    System.out.println(this.pairs.toString());\n    System.out.println(this.atomMap.toString());\n}\n\npublic void replaceAtoms() {\n    int i = 0;\n    for(String s : this.pairs) {\n        if(!(s.contains(&quot;o&quot;) || s.contains(&quot;a&quot;) || s.contains(&quot;n&quot;))) {\n            String[] indices = s.split(&quot;,&quot;);\n            int begin = Integer.valueOf(indices[0])+1;\n            int end = Integer.valueOf(indices[1]);\n            for(int j = begin; j &lt; end; j++) {\n                if(inp.charAt(j) == '(') {\n                    if(atomMap.containsKey(j)) {\n                        this.pairs.set(i, this.pairs.get(i) + &quot;,&quot;+j+&quot;#&quot;+atomMap.get(j).split(&quot;#&quot;)[1]+&quot;&gt;&quot;+atomMap.get(j).split(&quot;#&quot;)[0]);\n                    }\n                    else {\n                        this.pairs.set(i,&quot;!&quot;+ this.pairs.get(i));\n                    }\n                }\n            }\n            \n            \n        }\n        i++;\n    }\n    System.out.println(this.pairs.toString());\n}\npublic ArrayList&lt;String&gt; getPairs(String str){\n    this.inp = str;\n    ArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();\n    char[] arr = str.toCharArray();\n    Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;();\n    for(int i = 0; i &lt; arr.length; i++) {\n        if(arr[i] == '(') {\n            \n            s.push(i);\n        }\n        if(arr[i] == ')') {\n            if(s.empty()) {\n                return null;\n            }\n            else {\n                Integer start  = s.pop();\n                Integer end = Integer.valueOf(i);\n                res.add(start.toString() + &quot;,&quot; + end.toString());\n                \n                \n            }\n        }\n        \n    }\n    \n    if(!s.empty()) {\n        return null;\n    }\n    this.pairs = res;\n    return res;\n    \n}\n\n\npublic static void main(String[] args) {\n    String x = &quot;((not t1 and ((not t2 or t4) or (t3 or t4))) or (t5 and not t6)) and t7&quot;;\n    x = x.replace(&quot;not&quot;, &quot;n&quot;).replace(&quot;and&quot;,&quot;a&quot;).replace(&quot;or&quot;, &quot;o&quot;).replace(&quot;t&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\n    System.out.println(x);\n    CustomInputParser c = new CustomInputParser();\n    System.out.println(c.getPairs(x).toString());\n    c.findAtoms();\n    c.computeAtoms();\n    c.replaceAtoms();\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-webflux"],"owner":{"account_id":2597640,"reputation":836,"user_id":2250934,"accept_rate":64,"display_name":"Hexy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632535241,"creation_date":1632440781,"question_id":69308017,"body_markdown":"I am trying to understand how doOnNext for ExchangeFilterFunctions are being called.\r\nI extended this code https://github.com/spring-guides/gs-reactive-rest-service\r\nto do this\r\n\r\n```\r\n\r\n@Component\r\npublic class GreetingClient {\r\n\r\n\tprivate final WebClient client;\r\n\r\n\t// Spring Boot auto-configures a `WebClient.Builder` instance with nice defaults and customizations.\r\n\t// We can use it to create a dedicated `WebClient` for our component.\r\n\tpublic GreetingClient(WebClient.Builder builder) {\r\n\t\tthis.client = builder.baseUrl(&quot;http://localhost:8080&quot;)\r\n\t\t\t\t.filter(filter1)\r\n\t\t\t\t.filter(filter2)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\tpublic Mono&lt;String&gt; getMessage() {\r\n\t\treturn this.client.get().uri(&quot;/hello&quot;).accept(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(Greeting.class)\r\n\t\t\t\t.map(Greeting::getMessage);\r\n\t}\r\n\r\n\tExchangeFilterFunction filter1 = ((clientRequest, exchangeFunction) -&gt; {\r\n\t\tSystem.out.println(&quot;Filter1 invoked&quot;);\r\n\t\treturn exchangeFunction.exchange(clientRequest).doOnNext(\r\n\t\t\t\tclientResponse -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;doOnNext for filter1&quot;);\r\n\t\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\tExchangeFilterFunction filter2 = ((clientRequest, exchangeFunction) -&gt; {\r\n\t\tSystem.out.println(&quot;Filter2 invoked&quot;);\r\n\t\treturn exchangeFunction.exchange(clientRequest).doOnNext(\r\n\t\t\t\tclientResponse -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;doOnNext for filter2&quot;);\r\n\t\t\t\t}\r\n\t\t);\r\n\t});\r\n}\r\n```\r\n# The Output\r\n```\r\nFilter1 invoked\r\nFilter2 invoked\r\ndoOnNext for filter2\r\ndoOnNext for filter1\r\n&gt;&gt; message = Hello, Spring!\r\n```\r\n\r\n**The filter1 is invoked after filter2 but doOnNext is invoked in the reverse order.** I read this discussion https://github.com/spring-projects/spring-framework/issues/20216 &amp; the fix was done for WebClientBuilder to execute filters in the order they are added.\r\n\r\nNot sure what I am missing.","title":"WebClient filters doOnNext called in reverse order","body":"<p>I am trying to understand how doOnNext for ExchangeFilterFunctions are being called.\nI extended this code <a href=\"https://github.com/spring-guides/gs-reactive-rest-service\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-reactive-rest-service</a>\nto do this</p>\n<pre><code>\n@Component\npublic class GreetingClient {\n\n    private final WebClient client;\n\n    // Spring Boot auto-configures a `WebClient.Builder` instance with nice defaults and customizations.\n    // We can use it to create a dedicated `WebClient` for our component.\n    public GreetingClient(WebClient.Builder builder) {\n        this.client = builder.baseUrl(&quot;http://localhost:8080&quot;)\n                .filter(filter1)\n                .filter(filter2)\n                .build();\n    }\n\n    public Mono&lt;String&gt; getMessage() {\n        return this.client.get().uri(&quot;/hello&quot;).accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(Greeting.class)\n                .map(Greeting::getMessage);\n    }\n\n    ExchangeFilterFunction filter1 = ((clientRequest, exchangeFunction) -&gt; {\n        System.out.println(&quot;Filter1 invoked&quot;);\n        return exchangeFunction.exchange(clientRequest).doOnNext(\n                clientResponse -&gt; {\n                    System.out.println(&quot;doOnNext for filter1&quot;);\n                }\n        );\n    });\n\n    ExchangeFilterFunction filter2 = ((clientRequest, exchangeFunction) -&gt; {\n        System.out.println(&quot;Filter2 invoked&quot;);\n        return exchangeFunction.exchange(clientRequest).doOnNext(\n                clientResponse -&gt; {\n                    System.out.println(&quot;doOnNext for filter2&quot;);\n                }\n        );\n    });\n}\n</code></pre>\n<h1>The Output</h1>\n<pre><code>Filter1 invoked\nFilter2 invoked\ndoOnNext for filter2\ndoOnNext for filter1\n&gt;&gt; message = Hello, Spring!\n</code></pre>\n<p><strong>The filter1 is invoked after filter2 but doOnNext is invoked in the reverse order.</strong> I read this discussion <a href=\"https://github.com/spring-projects/spring-framework/issues/20216\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/20216</a> &amp; the fix was done for WebClientBuilder to execute filters in the order they are added.</p>\n<p>Not sure what I am missing.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1584717048,"post_id":60776659,"comment_id":107530062,"body_markdown":"I&#39;m a bit unclear on what you&#39;re looking for. Is it simply that you don&#39;t want duplicates for the same primary key? What about the case where data in those with the same key (e.g. `Machinarium`) have different contents, (e.g. `Version`)?","body":"I&#39;m a bit unclear on what you&#39;re looking for. Is it simply that you don&#39;t want duplicates for the same primary key? What about the case where data in those with the same key (e.g. <code>Machinarium</code>) have different contents, (e.g. <code>Version</code>)?"},{"owner":{"account_id":17984787,"reputation":686,"user_id":13070305,"display_name":"takotsubo"},"score":0,"creation_date":1584722769,"post_id":60776659,"comment_id":107532761,"body_markdown":"No, in this case I will probably just rewrite old value in HashMap. Maybe will found other solution later.","body":"No, in this case I will probably just rewrite old value in HashMap. Maybe will found other solution later."}],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584717514,"creation_date":1584717514,"answer_id":60776899,"question_id":60776659,"body_markdown":"Ultimately, your issue is here: `new FileWriter(new File(&quot;games.json&quot;), true))`.\r\n\r\nThe `FileWriter` constructor is `FileWriter(File file, boolean append)` so you are appending data to that file every time you write. \r\n\r\nWhat you want instead is just `FileWriter(File file)` which overwrites the file by default. This assumes that your `games` map is always up to date and has all the data in memory.\r\n\r\nThis is a bit less efficient since you&#39;d be overwriting the entire file every time a change is made, but this doesn&#39;t seem likely to be a lot of data, so I don&#39;t think it should be a concern. If this turns out to be a very large amount of data that is updated frequently, you may want to look into using a database instead of a JSON file.","title":"Need help troubleshooting with Jackson","body":"<p>Ultimately, your issue is here: <code>new FileWriter(new File(\"games.json\"), true))</code>.</p>\n\n<p>The <code>FileWriter</code> constructor is <code>FileWriter(File file, boolean append)</code> so you are appending data to that file every time you write. </p>\n\n<p>What you want instead is just <code>FileWriter(File file)</code> which overwrites the file by default. This assumes that your <code>games</code> map is always up to date and has all the data in memory.</p>\n\n<p>This is a bit less efficient since you'd be overwriting the entire file every time a change is made, but this doesn't seem likely to be a lot of data, so I don't think it should be a concern. If this turns out to be a very large amount of data that is updated frequently, you may want to look into using a database instead of a JSON file.</p>\n"}],"owner":{"account_id":17984787,"reputation":686,"user_id":13070305,"display_name":"takotsubo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60776899,"answer_count":1,"score":2,"last_activity_date":1632535083,"creation_date":1584716525,"question_id":60776659,"body_markdown":"I have a HashMap which I initialize once in static block from a json file. Then I work with my local HashMap to save users requests.\r\n\r\n```\r\nstatic {\r\n  TypeFactory typeFactory = mapper.getTypeFactory();\r\n  MapType mapType = typeFactory.constructMapType(ConcurrentHashMap.class, String.class, GooglePlayGame.class);\r\n  try {\r\n       games = mapper.readValue(new File(&quot;games.json&quot;), mapType);\r\n        } catch (IOException e) {\r\n          log.error(e.getMessage());\r\n        }\r\n    }\r\n```\r\nWhen I decide to stop app and launch it again, I can add new pair of &quot;key-value&quot; to this map, but when I&#39;m trying to append changes into my json file, everything that was already in json file is duplicated + new value.\r\nThis code:\r\n```\r\ntry(JsonGenerator g = mapper.getFactory().createGenerator(\r\n                  new PrintWriter(new BufferedWriter(new FileWriter(new File(&quot;games.json&quot;), true))))) {\r\n    mapper.writeValue(g, games);\r\n    } catch (IOException e) {\r\n      log.error(e.getMessage());\r\n    }\r\n```\r\nI understood why it&#39;s happening (because of static initialization every new launch, and then I write to file all hashmap again and again), but I don&#39;t know how to fix this. I want to append new pairs to existing json file. \r\n\r\nFor example:\r\nAdding first request, all fine:\r\n```\r\n{&quot;Machinarium&quot;:\r\n   {&quot;Title&quot;:&quot;Machinarium&quot;,\r\n    &quot;Updated&quot;:&quot;28 February, 2019&quot;,\r\n    &quot;Version&quot;:&quot;2.5.6&quot;,&quot;Requirements&quot;:&quot;4.1,\r\n     &quot;Contacts&quot;:&quot;support@amanita-design.net&quot;\r\n}\r\n```\r\nThen I restart app and got another request, my json file now looks like:\r\n```\r\n{&quot;Machinarium&quot;:\r\n   {&quot;Title&quot;:&quot;Machinarium&quot;,\r\n    &quot;Updated&quot;:&quot;28 February, 2019&quot;,\r\n    &quot;Version&quot;:&quot;2.5.6&quot;,&quot;Requirements&quot;:&quot;4.1,\r\n     &quot;Contacts&quot;:&quot;support@amanita-design.net&quot;,\r\n....\r\n},\r\n{&quot;Machinarium&quot;:\r\n   {&quot;Title&quot;:&quot;Machinarium&quot;,\r\n    &quot;Updated&quot;:&quot;28 February, 2019&quot;,\r\n    &quot;Version&quot;:&quot;2.5.6&quot;,&quot;Requirements&quot;:&quot;4.1,\r\n     &quot;Contacts&quot;:&quot;support@amanita-design.net&quot;,\r\n....\r\n},\r\n&quot;Samorost 3&quot;:\r\n   {&quot;Title&quot;:&quot;Samorost 3&quot;,\r\n    &quot;Updated&quot;:&quot;November 14, 2019&quot;,\r\n     &quot;Version&quot;:&quot;1.0&quot;,\r\n     &quot;Requirements&quot;:&quot;4.3,\r\n...}\r\n```\r\nAs you can see, duplicate here. \r\n\r\n\r\nSo the goal is: create HashMap -&gt; get user request -&gt; write this request(pair &quot;key-value&quot;) to local hashmap -&gt; write hashmap (or every pair separately? hmm) to json file. Then when app starts again: initialize hashmap from this json file with saved requests -&gt; get new user request -&gt; add new requests to json file. \r\n\r\nI need to write each pair one by one to file (not all map), but how? ","title":"Need help troubleshooting with Jackson","body":"<p>I have a HashMap which I initialize once in static block from a json file. Then I work with my local HashMap to save users requests.</p>\n<pre><code>static {\n  TypeFactory typeFactory = mapper.getTypeFactory();\n  MapType mapType = typeFactory.constructMapType(ConcurrentHashMap.class, String.class, GooglePlayGame.class);\n  try {\n       games = mapper.readValue(new File(&quot;games.json&quot;), mapType);\n        } catch (IOException e) {\n          log.error(e.getMessage());\n        }\n    }\n</code></pre>\n<p>When I decide to stop app and launch it again, I can add new pair of &quot;key-value&quot; to this map, but when I'm trying to append changes into my json file, everything that was already in json file is duplicated + new value.\nThis code:</p>\n<pre><code>try(JsonGenerator g = mapper.getFactory().createGenerator(\n                  new PrintWriter(new BufferedWriter(new FileWriter(new File(&quot;games.json&quot;), true))))) {\n    mapper.writeValue(g, games);\n    } catch (IOException e) {\n      log.error(e.getMessage());\n    }\n</code></pre>\n<p>I understood why it's happening (because of static initialization every new launch, and then I write to file all hashmap again and again), but I don't know how to fix this. I want to append new pairs to existing json file.</p>\n<p>For example:\nAdding first request, all fine:</p>\n<pre><code>{&quot;Machinarium&quot;:\n   {&quot;Title&quot;:&quot;Machinarium&quot;,\n    &quot;Updated&quot;:&quot;28 February, 2019&quot;,\n    &quot;Version&quot;:&quot;2.5.6&quot;,&quot;Requirements&quot;:&quot;4.1,\n     &quot;Contacts&quot;:&quot;support@amanita-design.net&quot;\n}\n</code></pre>\n<p>Then I restart app and got another request, my json file now looks like:</p>\n<pre><code>{&quot;Machinarium&quot;:\n   {&quot;Title&quot;:&quot;Machinarium&quot;,\n    &quot;Updated&quot;:&quot;28 February, 2019&quot;,\n    &quot;Version&quot;:&quot;2.5.6&quot;,&quot;Requirements&quot;:&quot;4.1,\n     &quot;Contacts&quot;:&quot;support@amanita-design.net&quot;,\n....\n},\n{&quot;Machinarium&quot;:\n   {&quot;Title&quot;:&quot;Machinarium&quot;,\n    &quot;Updated&quot;:&quot;28 February, 2019&quot;,\n    &quot;Version&quot;:&quot;2.5.6&quot;,&quot;Requirements&quot;:&quot;4.1,\n     &quot;Contacts&quot;:&quot;support@amanita-design.net&quot;,\n....\n},\n&quot;Samorost 3&quot;:\n   {&quot;Title&quot;:&quot;Samorost 3&quot;,\n    &quot;Updated&quot;:&quot;November 14, 2019&quot;,\n     &quot;Version&quot;:&quot;1.0&quot;,\n     &quot;Requirements&quot;:&quot;4.3,\n...}\n</code></pre>\n<p>As you can see, duplicate here.</p>\n<p>So the goal is: create HashMap -&gt; get user request -&gt; write this request(pair &quot;key-value&quot;) to local hashmap -&gt; write hashmap (or every pair separately? hmm) to json file. Then when app starts again: initialize hashmap from this json file with saved requests -&gt; get new user request -&gt; add new requests to json file.</p>\n<p>I need to write each pair one by one to file (not all map), but how?</p>\n"},{"tags":["java","maven","jenkins","directory","share"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1632505362,"post_id":69318927,"comment_id":122519806,"body_markdown":"Why should one app generate the surefire report of another app?","body":"Why should one app generate the surefire report of another app?"},{"owner":{"account_id":1005158,"reputation":7158,"user_id":1019129,"accept_rate":51,"display_name":"sten"},"score":0,"creation_date":1632506583,"post_id":69318927,"comment_id":122520227,"body_markdown":"no.. the second is a custom app that uses the generrated xml","body":"no.. the second is a custom app that uses the generrated xml"},{"owner":{"account_id":10813059,"reputation":1474,"user_id":7953086,"accept_rate":75,"display_name":"fmdaboville"},"score":0,"creation_date":1632506610,"post_id":69318927,"comment_id":122520237,"body_markdown":"you mean between two different pipelines ?","body":"you mean between two different pipelines ?"},{"owner":{"account_id":12331167,"reputation":323,"user_id":8997124,"display_name":"RNoB"},"score":0,"creation_date":1632570425,"post_id":69318927,"comment_id":122531744,"body_markdown":"If it is both for the same Application, maybe you want to use a multi module maven project.","body":"If it is both for the same Application, maybe you want to use a multi module maven project."}],"answers":[{"tags":[],"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632506958,"creation_date":1632506958,"answer_id":69319472,"question_id":69318927,"body_markdown":"Try the `custom workspace` option within the __advanced__ options in the job configuration.\r\n","title":"jenkins maven: shared target directory","body":"<p>Try the <code>custom workspace</code> option within the <strong>advanced</strong> options in the job configuration.</p>\n"},{"tags":[],"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632533807,"creation_date":1632533807,"answer_id":69322500,"question_id":69318927,"body_markdown":"Use [archiveArtifacts](https://www.jenkins.io/doc/pipeline/steps/core/) option in the first build and [Copy Artifacts](https://plugins.jenkins.io/copyartifact/) plugin for 2nd.\r\n\r\nDon&#39;t share the workspace; that&#39;s a recipe for disaster.","title":"jenkins maven: shared target directory","body":"<p>Use <a href=\"https://www.jenkins.io/doc/pipeline/steps/core/\" rel=\"nofollow noreferrer\">archiveArtifacts</a> option in the first build and <a href=\"https://plugins.jenkins.io/copyartifact/\" rel=\"nofollow noreferrer\">Copy Artifacts</a> plugin for 2nd.</p>\n<p>Don't share the workspace; that's a recipe for disaster.</p>\n"}],"owner":{"account_id":1005158,"reputation":7158,"user_id":1019129,"accept_rate":51,"display_name":"sten"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632533807,"creation_date":1632503858,"question_id":69318927,"body_markdown":"In Jenkins is there a way to share Directory between Maven builds ?\r\n\r\nI have two java apps .. first generates .xml in target (via surefire) that the second uses to generate  a report.","title":"jenkins maven: shared target directory","body":"<p>In Jenkins is there a way to share Directory between Maven builds ?</p>\n<p>I have two java apps .. first generates .xml in target (via surefire) that the second uses to generate  a report.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632518225,"creation_date":1632518225,"answer_id":69321182,"question_id":69321077,"body_markdown":"Sounds like this might be a HW or Test question, so just writing steps to help you out:\r\n\r\n - first have a user-decision variable and initialize it to &quot;Y&quot;\r\n - then put the game in a while(user-decision=&quot;Y&quot;) loop\r\n - at the end of this loop ask the user for their decision and update the user-decision variable to either Y or N\r\n - if they say Y loop continues, else it ends\r\n\r\n    ","title":"How can I start the program over again","body":"<p>Sounds like this might be a HW or Test question, so just writing steps to help you out:</p>\n<ul>\n<li>first have a user-decision variable and initialize it to &quot;Y&quot;</li>\n<li>then put the game in a while(user-decision=&quot;Y&quot;) loop</li>\n<li>at the end of this loop ask the user for their decision and update the user-decision variable to either Y or N</li>\n<li>if they say Y loop continues, else it ends</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22851525,"reputation":1,"user_id":16997059,"display_name":"Liitlewheat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632521268,"creation_date":1632520674,"answer_id":69321475,"question_id":69321077,"body_markdown":"if you need to repeat your code, put it in a new class (Game) and instantiate in main () and call until your Game class returns TRUE (press Y) \r\n\r\n    package appMain;\r\n    import java.util.Scanner;\r\n    public class Game {\r\n      \r\n       public Boolean PlayGame() {\r\n             System.out.println(&quot;START GAME&quot;);\r\n             //\r\n             // &gt;&gt;   PUT THERE YOUT GAME CODE  &lt;&lt;\r\n             // \r\n             Scanner input = new Scanner(System.in);\r\n             String answer = input.next();\r\n \r\n             if(answer.equals(&quot;Y&quot;)) {\r\n                    return true;\r\n             }\r\n             return false;\r\n       }\r\n    }\r\n \r\n \r\n    package appMain;\r\n    public class GameMain {\r\n             public static void main(String args[]) {\r\n                    Game game =  new Game();\r\n                    while (game.PlayGame()) {\r\n                    }\r\n                    System.out.println(&quot;GAME finish&quot;);\r\n             }\r\n    }\r\n","title":"How can I start the program over again","body":"<p>if you need to repeat your code, put it in a new class (Game) and instantiate in main () and call until your Game class returns TRUE (press Y)</p>\n<pre><code>package appMain;\nimport java.util.Scanner;\npublic class Game {\n  \n   public Boolean PlayGame() {\n         System.out.println(&quot;START GAME&quot;);\n         //\n         // &gt;&gt;   PUT THERE YOUT GAME CODE  &lt;&lt;\n         // \n         Scanner input = new Scanner(System.in);\n         String answer = input.next();\n\n         if(answer.equals(&quot;Y&quot;)) {\n                return true;\n         }\n         return false;\n   }\n}\n\n\npackage appMain;\npublic class GameMain {\n         public static void main(String args[]) {\n                Game game =  new Game();\n                while (game.PlayGame()) {\n                }\n                System.out.println(&quot;GAME finish&quot;);\n         }\n}\n</code></pre>\n"}],"owner":{"account_id":18792359,"reputation":1,"user_id":13704535,"display_name":"Tran Minh My"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1632533794,"creation_date":1632517446,"question_id":69321077,"body_markdown":"I&#39;m trying to start the game over if the user enters &quot;Yes&quot;. I tried using a `while` loop, but it&#39;s gone wrong somewhere that I can&#39;t find.\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class RockPaperScissors {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint playerScore = 0;\r\n\t\tint computerScore = 0;\r\n\t\tint round = 0;\r\n\t\t\r\n\t\tString decision;\r\n\t\t\r\n\t\t\r\n\t\t// Get user input\r\n\t\twhile (round&lt;3) {\r\n\t\tSystem.out.println(&quot;Please enter your move: Rock, Paper or Scissors&quot;);\r\n\t\tSystem.out.println(&quot;&gt;&gt;&quot;);\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tString playerMove = input.next();\r\n\t\t\r\n\t\t// Check if user input is valid\r\n\t\tif (!playerMove.equalsIgnoreCase(&quot;Rock&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;Paper&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;Scissors&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Move is invalid, Opponent gets a point&quot;);\r\n\t\t\tcomputerScore++;\r\n\t\t\tround++;\r\n\t\t\tSystem.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t\t// Randomly generate computerMove \r\n\t\tint computerInt = (int)(Math.random()*3);\r\n\t\tString computerMove = &quot; &quot;;\r\n\t\t\r\n\t\tif (computerInt == 0) {\r\n\t\t\t\tcomputerMove = &quot;Rock&quot;; \r\n\t\t\r\n\t\t} else if (computerInt == 1) {\r\n\t\t\t\tcomputerMove = &quot;Paper&quot;;\r\n\t\t\t\r\n\t\t} else if (computerInt == 2) {\r\n\t\t\t\tcomputerMove = &quot;Scissors&quot;;}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Opponent move is &quot;+ computerMove);\r\n\t\t\r\n\t\t// Establish winning or losing scenarios\r\n\t\tif (playerMove.equalsIgnoreCase(computerMove)) {\r\n\t\t\tSystem.out.println(&quot;Tied&quot;);\r\n\t\t\tround++;\r\n\t\t\tSystem.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\r\n\t\t\r\n\t\t} else if (playerMove.equalsIgnoreCase(&quot;Rock&quot;) &amp;&amp; computerMove.equalsIgnoreCase(&quot;Scissors&quot;) ||\r\n\t\t\tplayerMove.equalsIgnoreCase(&quot;Scissors&quot;) &amp;&amp; computerMove.equalsIgnoreCase(&quot;Paper&quot;) ||\r\n\t\t\tplayerMove.equalsIgnoreCase(&quot;Rock&quot;) &amp;&amp; computerMove.equalsIgnoreCase(&quot;Paper&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;You won&quot;);\r\n\t\t\t\tplayerScore++;\r\n\t\t\t\tround++; \r\n\t\t\t\tSystem.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t else { \r\n\t\t\t\tSystem.out.println(&quot;You lost&quot;);\r\n\t\t\t\tcomputerScore++;\r\n\t\t\t\tround++;\r\n\t\t\t\tSystem.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t \t\r\n\t\t\t\t\t// Determine the last winner\r\n\t\t\t\tif (playerScore &lt; computerScore) {\r\n\t\t\t\t\tSystem.out.println(&quot;You lose, so sad ;(&quot;);\r\n\t\t\t\t} else if (playerScore &gt; computerScore) {\r\n\t\t\t\t\tSystem.out.println(&quot;You win, here&#39;s a cookie ;) &quot;);\r\n\t\t\t\t} else {\r\n\t \t\t\tSystem.out.println(&quot;Tied, maybe try harder ^_^&quot;); }\r\n\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Do you wanna play again?&quot;);\r\n\t\t\t\t\r\n\t\t\t\t }\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t}\r\n\t\r\n```","title":"How can I start the program over again","body":"<p>I'm trying to start the game over if the user enters &quot;Yes&quot;. I tried using a <code>while</code> loop, but it's gone wrong somewhere that I can't find.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class RockPaperScissors {\n\n    public static void main(String[] args) {\n        \n        int playerScore = 0;\n        int computerScore = 0;\n        int round = 0;\n        \n        String decision;\n        \n        \n        // Get user input\n        while (round&lt;3) {\n        System.out.println(&quot;Please enter your move: Rock, Paper or Scissors&quot;);\n        System.out.println(&quot;&gt;&gt;&quot;);\n        \n        Scanner input = new Scanner(System.in);\n        String playerMove = input.next();\n        \n        // Check if user input is valid\n        if (!playerMove.equalsIgnoreCase(&quot;Rock&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;Paper&quot;) &amp;&amp; !playerMove.equalsIgnoreCase(&quot;Scissors&quot;)) {\n            System.out.println(&quot;Move is invalid, Opponent gets a point&quot;);\n            computerScore++;\n            round++;\n            System.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\n        } else {\n            \n                // Randomly generate computerMove \n        int computerInt = (int)(Math.random()*3);\n        String computerMove = &quot; &quot;;\n        \n        if (computerInt == 0) {\n                computerMove = &quot;Rock&quot;; \n        \n        } else if (computerInt == 1) {\n                computerMove = &quot;Paper&quot;;\n            \n        } else if (computerInt == 2) {\n                computerMove = &quot;Scissors&quot;;}\n        \n        System.out.println(&quot;Opponent move is &quot;+ computerMove);\n        \n        // Establish winning or losing scenarios\n        if (playerMove.equalsIgnoreCase(computerMove)) {\n            System.out.println(&quot;Tied&quot;);\n            round++;\n            System.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\n        \n        } else if (playerMove.equalsIgnoreCase(&quot;Rock&quot;) &amp;&amp; computerMove.equalsIgnoreCase(&quot;Scissors&quot;) ||\n            playerMove.equalsIgnoreCase(&quot;Scissors&quot;) &amp;&amp; computerMove.equalsIgnoreCase(&quot;Paper&quot;) ||\n            playerMove.equalsIgnoreCase(&quot;Rock&quot;) &amp;&amp; computerMove.equalsIgnoreCase(&quot;Paper&quot;)) {\n                System.out.println(&quot;You won&quot;);\n                playerScore++;\n                round++; \n                System.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\n                }\n        \n             else { \n                System.out.println(&quot;You lost&quot;);\n                computerScore++;\n                round++;\n                System.out.println(&quot;Your point is &quot;+ playerScore + &quot;; Opponent score is &quot;+ computerScore);\n                }\n        }\n            \n                    // Determine the last winner\n                if (playerScore &lt; computerScore) {\n                    System.out.println(&quot;You lose, so sad ;(&quot;);\n                } else if (playerScore &gt; computerScore) {\n                    System.out.println(&quot;You win, here's a cookie ;) &quot;);\n                } else {\n                System.out.println(&quot;Tied, maybe try harder ^_^&quot;); }\n        }\n                System.out.println(&quot;Do you wanna play again?&quot;);\n                \n                 }\n                \n                \n                }\n                \n                \n            \n                }\n    \n</code></pre>\n"},{"tags":["java","pivot","quicksort"],"answers":[{"tags":[],"owner":{"account_id":1463059,"reputation":199,"user_id":1376802,"display_name":"arpitpanwar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1444871864,"creation_date":1444871864,"answer_id":33138245,"question_id":33137454,"body_markdown":"You can choose the leftmost element in the array or you can choose any random element to be your pivot.\r\n\r\nCheck out the [wikipedia page on quicksort][1] for more details about choosing pivot\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quicksort#Choice_of_pivot","title":"Implementing QuickSort With middle element as Pivot","body":"<p>You can choose the leftmost element in the array or you can choose any random element to be your pivot.</p>\n\n<p>Check out the <a href=\"https://en.wikipedia.org/wiki/Quicksort#Choice_of_pivot\" rel=\"nofollow\">wikipedia page on quicksort</a> for more details about choosing pivot</p>\n"},{"tags":[],"owner":{"account_id":16521323,"reputation":11,"user_id":12663091,"display_name":"Aditya Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583775237,"creation_date":1583775237,"answer_id":60605695,"question_id":33137454,"body_markdown":"you have to send pivot value in first stack call inclusive and pivot+1 as lower index for second stack call.\r\nYou also have to put value of left as i+1 then your code will give an correct output","title":"Implementing QuickSort With middle element as Pivot","body":"<p>you have to send pivot value in first stack call inclusive and pivot+1 as lower index for second stack call.\nYou also have to put value of left as i+1 then your code will give an correct output</p>\n"},{"tags":[],"owner":{"account_id":22850991,"reputation":1,"user_id":16996604,"display_name":"Piyush Yadav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632533672,"creation_date":1632510349,"answer_id":69320011,"question_id":33137454,"body_markdown":"You have to change the return value to left+1 in partition method.\r\n\r\nTry this program: \r\n\r\n    import java.io.*;\r\n    public class QuickSort {\r\n\r\n    public int partion(int[] a, int l, int h) {\r\n\r\n        int middle = (h+l)/2;\r\n        //System.out.println(middle);\r\n        int pivot = a[middle];\r\n        int i = l;\r\n        int j = h;\r\n\r\n        while (i &lt;= j) {\r\n            while (a[i] &lt; pivot) i++;\r\n            while (a[j] &gt; pivot) j--;\r\n            if (i &lt;= j) {\r\n                swap(a, i, j);\r\n                i++;\r\n                j--;\r\n              \r\n            }\r\n        }\r\n       // swap(a,i,j);\r\n        System.out.println((i+j)/2);\r\n        return i-1;\r\n    }\r\n\r\n    public void quick(int[] a, int l, int h) {\r\n            if (l&lt;h) {\r\n                int pi = partion(a, l, h);\r\n                System.out.println(pi);\r\n                if (l &lt; pi - 1)\r\n                    quick(a, l, pi+1);\r\n                if (pi &lt; h)\r\n                    quick(a, pi+1, h);\r\n            }\r\n        }\r\n\r\n    public void swap(int[] a, int l, int h){\r\n        int temp=a[l];\r\n        a[l]=a[h];\r\n        a[h]=temp;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] a = {10,80,30,90,40,50,70};\r\n        int l=0;\r\n        int h=a.length-1;\r\n\r\n        QuickSort q =new QuickSort();\r\n        q.quick(a,0,h);\r\n        System.out.println(&quot; Sorted Array : &quot;);\r\n        for(int e :a){\r\n           System.out.print(e+&quot; , &quot;);\r\n        }\r\n      }\r\n    }\r\n","title":"Implementing QuickSort With middle element as Pivot","body":"<p>You have to change the return value to left+1 in partition method.</p>\n<p>Try this program:</p>\n<pre><code>import java.io.*;\npublic class QuickSort {\n\npublic int partion(int[] a, int l, int h) {\n\n    int middle = (h+l)/2;\n    //System.out.println(middle);\n    int pivot = a[middle];\n    int i = l;\n    int j = h;\n\n    while (i &lt;= j) {\n        while (a[i] &lt; pivot) i++;\n        while (a[j] &gt; pivot) j--;\n        if (i &lt;= j) {\n            swap(a, i, j);\n            i++;\n            j--;\n          \n        }\n    }\n   // swap(a,i,j);\n    System.out.println((i+j)/2);\n    return i-1;\n}\n\npublic void quick(int[] a, int l, int h) {\n        if (l&lt;h) {\n            int pi = partion(a, l, h);\n            System.out.println(pi);\n            if (l &lt; pi - 1)\n                quick(a, l, pi+1);\n            if (pi &lt; h)\n                quick(a, pi+1, h);\n        }\n    }\n\npublic void swap(int[] a, int l, int h){\n    int temp=a[l];\n    a[l]=a[h];\n    a[h]=temp;\n}\n\npublic static void main(String[] args) {\n    int[] a = {10,80,30,90,40,50,70};\n    int l=0;\n    int h=a.length-1;\n\n    QuickSort q =new QuickSort();\n    q.quick(a,0,h);\n    System.out.println(&quot; Sorted Array : &quot;);\n    for(int e :a){\n       System.out.print(e+&quot; , &quot;);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3373147,"reputation":1276,"user_id":2831921,"accept_rate":63,"display_name":"Jay Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1632533672,"creation_date":1444865806,"question_id":33137454,"body_markdown":"I tried and wrote a code for Quicksort with middle element as pivot.\r\n\r\nI was successful in writing one.\r\n\r\nBut Pivot has the property that:\r\n\r\nElements on its left are lesser than pivot and greater on its right.\r\n\r\nI was not able to achieve this in my following code.\r\n\r\n    private static void QuickSortAlgorithm(int[] a, int i, int n) \r\n    {\r\n        if(i&lt;n)\r\n        {\r\n            int part = partition(a,i,n);\r\n    \r\n            QuickSortAlgorithm(a, i, part-1);\r\n\r\n            QuickSortAlgorithm(a, part, n);\r\n        }\r\n    }\r\n\r\n    private static int partition(int[] a, int i, int n) \r\n    {\r\n        int pivot = (i+n)/2;\r\n        \r\n        int left = i;\r\n        \r\n        int right = n;\r\n        while(left&lt;=right)\r\n        {\r\n            while(a[left]&lt;a[pivot]){\r\n                left++;\r\n            }\r\n\r\n            while(a[right]&gt;a[pivot])\r\n            {\r\n                right--;\r\n            }\r\n\r\n            if(left&lt;=right)\r\n            {\r\n                swap(a,left,right);\r\n                left++;\r\n                right--;\r\n            }\r\n        }\r\n        return left;\r\n            \r\n    }\r\n\r\n\r\nMain Method:    \r\n\r\n        int a[]={5,7,3,9,1};\r\n        int n = a.length;\r\n        QuickSortAlgorithm(a,0,n-1);\r\n        System.out.println(Arrays.toString(a));\r\n\r\nMy doubt is:\r\n\r\nI am sending left as my partitioned index.\r\n\r\nBut, when I am recursively calling QuickSortAlgorithm()\r\n\r\nI am sending `i to part-1` and `part to n`;\r\n\r\nWhat should I send as partition index so that \r\n\r\nI could call something like this: So that pivot property is satisfied?\r\n\r\n        QuickSortAlgorithm(a, i, part-1);\r\n\r\n        QuickSortAlgorithm(a, part+1, n);\r\n\r\nThank you:)\r\n\r\n","title":"Implementing QuickSort With middle element as Pivot","body":"<p>I tried and wrote a code for Quicksort with middle element as pivot.</p>\n\n<p>I was successful in writing one.</p>\n\n<p>But Pivot has the property that:</p>\n\n<p>Elements on its left are lesser than pivot and greater on its right.</p>\n\n<p>I was not able to achieve this in my following code.</p>\n\n<pre><code>private static void QuickSortAlgorithm(int[] a, int i, int n) \n{\n    if(i&lt;n)\n    {\n        int part = partition(a,i,n);\n\n        QuickSortAlgorithm(a, i, part-1);\n\n        QuickSortAlgorithm(a, part, n);\n    }\n}\n\nprivate static int partition(int[] a, int i, int n) \n{\n    int pivot = (i+n)/2;\n\n    int left = i;\n\n    int right = n;\n    while(left&lt;=right)\n    {\n        while(a[left]&lt;a[pivot]){\n            left++;\n        }\n\n        while(a[right]&gt;a[pivot])\n        {\n            right--;\n        }\n\n        if(left&lt;=right)\n        {\n            swap(a,left,right);\n            left++;\n            right--;\n        }\n    }\n    return left;\n\n}\n</code></pre>\n\n<p>Main Method:    </p>\n\n<pre><code>    int a[]={5,7,3,9,1};\n    int n = a.length;\n    QuickSortAlgorithm(a,0,n-1);\n    System.out.println(Arrays.toString(a));\n</code></pre>\n\n<p>My doubt is:</p>\n\n<p>I am sending left as my partitioned index.</p>\n\n<p>But, when I am recursively calling QuickSortAlgorithm()</p>\n\n<p>I am sending <code>i to part-1</code> and <code>part to n</code>;</p>\n\n<p>What should I send as partition index so that </p>\n\n<p>I could call something like this: So that pivot property is satisfied?</p>\n\n<pre><code>    QuickSortAlgorithm(a, i, part-1);\n\n    QuickSortAlgorithm(a, part+1, n);\n</code></pre>\n\n<p>Thank you:)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11540266,"reputation":322,"user_id":8456245,"display_name":"Seyed Mohammad Amin Atyabi"},"score":1,"creation_date":1632514343,"post_id":69320401,"comment_id":122522799,"body_markdown":"Duplicate question\nhttps://stackoverflow.com/questions/15215326/how-can-i-create-table-using-ascii-in-a-console","body":"Duplicate question <a href=\"https://stackoverflow.com/questions/15215326/how-can-i-create-table-using-ascii-in-a-console\" title=\"how can i create table using ascii in a console\">stackoverflow.com/questions/15215326/&hellip;</a>"},{"owner":{"account_id":22497060,"reputation":1708,"user_id":16693888,"display_name":"Ghost Ops"},"score":0,"creation_date":1632590689,"post_id":69320401,"comment_id":122536502,"body_markdown":"Does this answer your question? [How can I create table using ASCII in a console?](https://stackoverflow.com/questions/15215326/how-can-i-create-table-using-ascii-in-a-console)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15215326/how-can-i-create-table-using-ascii-in-a-console\">How can I create table using ASCII in a console?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632533333,"creation_date":1632533333,"answer_id":69322471,"question_id":69320401,"body_markdown":"You can accomplish this by using a combination of the [String#format()](https://www.javatpoint.com/java-string-format) method and the [System.out.printf()](https://www.baeldung.com/java-printstream-printf) method for formatting your particular Strings to the console window. \r\n\r\nFirst it would be nice if you modify your **Employee** class so that the `separationDate` is of `int` type and not of `double` type. This would of course also include the **Constructor** as well as the **Getter** and **Setter** methods for this class instance variable. Adding a Getter method to your **Employee** class to convert this integer value to a string date format wouldn&#39;t be a bad idea either or just use a date string altogether instead of a numerical value for your `separationDate` instance variable. Never the less... your class could be modified to something like this where either or could be acquired:\r\n\r\n\r\n    public class Employee {\r\n\r\n        private String firstName;\r\n        private String lastName;\r\n\r\n        private String department;\r\n        private int separationDate;\r\n\r\n        // constructor\r\n        public Employee(String firstName, String lastName,\r\n                String department, int separationDate) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n\r\n            this.department = department;\r\n            this.separationDate = separationDate;\r\n        }\r\n\r\n        // set firstName\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        // get firstName\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        // set lastName\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        // Get Employee Full Name\r\n        public String getFullName() {\r\n            return this.firstName + &quot; &quot; + this.lastName;\r\n        }\r\n\r\n        // get lastName\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        // set department\r\n        public void setDepartment(String department) {\r\n            this.department = department;\r\n        }\r\n\r\n        // get department\r\n        public String getDepartment() {\r\n            return department;\r\n        }\r\n\r\n        public void setseparationDate(int separationDate) {\r\n            this.separationDate = separationDate;\r\n        }\r\n\r\n        // Get Separation Date (As String)\r\n        public String getseparationDate() {\r\n            String dateString = &quot;&quot;;\r\n            if (this.separationDate != 0) {\r\n                String date = String.valueOf(this.separationDate);\r\n                dateString = date.substring(0, 4) + &quot;-&quot; + date.substring(4, 6) + &quot;-&quot; + date.substring(6, 8);\r\n            }\r\n            return dateString;\r\n        }\r\n\r\n        public int getseparationDateAsInt() {\r\n            return this.separationDate;\r\n        }\r\n\r\n        // return Employee&#39;s first and last name combined\r\n        public String getName() {\r\n            return String.format(&quot;%s %s&quot;, getFirstName(), getLastName());\r\n        }\r\n\r\n        // return a String containing the Employee&#39;s information\r\n        @Override\r\n        public String toString() {\r\n            return new StringBuilder(firstName).append(&quot;, &quot;).append(lastName).append(&quot;, &quot;)\r\n                    .append(department).append(&quot;, &quot;).append(separationDate).toString();\r\n        }\r\n\r\n        /**\r\n         * Similar to the toString() method except it will return an object instance \r\n         * as string in a table style format.&lt;br&gt;\r\n         * \r\n         * @param options (Optional - Boolean - Two Options)&lt;pre&gt;\r\n         * \r\n         *     addHeader          - If true is supplied then the Object instance string\r\n         *                          id prefixed with an underlined Header String. If \r\n         *                          null or nothing is supplied then no header is \r\n         *                          provided.\r\n         * \r\n         *     addFinalUnderline  - If true is supplied then an underline is added to \r\n         *                          the Onject instance string. If null or nothing is\r\n         *                          supplied then no underline is provided under the\r\n         *                          table. If this optional parameter is supplied then \r\n         *                          a boolean value (or null) &lt;u&gt;must&lt;/u&gt; be supplied to the\r\n         *                          &#39;addHeader&#39; parameter.&lt;/pre&gt;\r\n         * \r\n         * @return (String) An Object instance String. A toString in table style format.\r\n         */\r\n        public String toTableString(Boolean... options) {\r\n            boolean addHeader = false;\r\n            boolean addFinalUnderline = false;\r\n            if (options.length &gt; 0) {\r\n                if (options.length &gt;= 1 &amp;&amp; options[0] != null) {\r\n                    addHeader = options[0];\r\n                }\r\n                if (options.length &gt;= 2 &amp;&amp; options[1] != null) {\r\n                    addFinalUnderline = options[1];\r\n                }\r\n            }\r\n            String ls = System.lineSeparator();\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            String header = String.format(&quot;%-25s|  %-20s|  %-15s&quot;, &quot;Name&quot;, &quot;Position&quot;, &quot;Separation Date&quot;);\r\n            String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;));\r\n            if (addHeader) {\r\n                sb.append(underline).append(ls);\r\n                sb.append(header).append(ls);\r\n                sb.append(underline).append(ls);\r\n            }\r\n            sb.append(String.format(&quot;%-25s|  %-20s|  %-15s&quot;, getName(),\r\n                    getDepartment(), getseparationDate()));\r\n            if (addFinalUnderline) {\r\n                sb.append(ls).append(underline);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nYour instances of Employee are held as elements within the Employee Array named `employees` and now you want to sort them. This can be done with the `java.util.Arrays.sort()` method, for example:\r\n\r\n    java.util.Arrays.sort(employees, new java.util.Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee first, Employee second) {\r\n            return first.getName().compareTo(second.getName());\r\n        }\r\n    });\r\n\r\nSince you have already created the `getName()` method (which is used to compare in the above code) within the **Employee** class the sort would take care of first and last name sorting should last names be the same.\r\n\r\nYou&#39;re already familiar with the String formatting methods so I&#39;m not going to bore you with that anymore. To get the table you want ( or similar to it) then you can do it this way:\r\n\r\n    Employee[] employees = {\r\n        new Employee(&quot;John&quot;, &quot;Johnson&quot;, &quot;Manager&quot;, 20161231),\r\n        new Employee(&quot;Tou&quot;, &quot;Xiong&quot;, &quot;Software Engineer&quot;, 20161005),\r\n        new Employee(&quot;Michaela&quot;, &quot;Michaelson&quot;, &quot;District Manager&quot;, 20151219),\r\n        new Employee(&quot;Jake&quot;, &quot;Jacobson&quot;, &quot;Programmer&quot;, 00000000),\r\n        new Employee(&quot;John&quot;, &quot;Jackson&quot;, &quot;Coffee Mole&quot;, 20161012),\r\n        new Employee(&quot;Jackquelyn&quot;, &quot;Jackson&quot;, &quot;DBA&quot;, 00000000),\r\n        new Employee(&quot;Sally&quot;, &quot;Webber&quot;, &quot;Web Developer&quot;, 20151218)\r\n    };\r\n        \r\n    // Sort the above Object Array (employees) by the employee&#39;s first name.\r\n    java.util.Arrays.sort(employees, new java.util.Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee first, Employee second) {\r\n            return first.getName().compareTo(second.getName());\r\n        }\r\n    });\r\n        \r\n    // Build the Header string\r\n    String header = String.format(&quot;%-25s|  %-20s|  %-15s&quot;, &quot;Name&quot;, &quot;Position&quot;, &quot;Separation Date&quot;);\r\n    // Build the Header Underline string\r\n    String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;));\r\n    System.out.println(underline);\r\n    System.out.println(header);\r\n    System.out.println(underline);\r\n    // Build the table data strings\r\n    for (Employee empl : employees) {\r\n        System.out.printf(&quot;%-25s|  %-20s|  %-15s%n&quot;, empl.getName(),\r\n                empl.getDepartment(), empl.getseparationDate());\r\n    }\r\n    System.out.println(underline); // Table underline to indicate End Of Table\r\n\r\n**The Console Window *should* display:**\r\n```\r\n------------------------------------------------------------------\r\nName                     |  Position            |  Separation Date\r\n------------------------------------------------------------------\r\nJackquelyn Jackson       |  DBA                 |                 \r\nJake Jacobson            |  Programmer          |                 \r\nJohn Jackson             |  Coffee Mole         |  2016-10-12     \r\nJohn Johnson             |  Manager             |  2016-12-31     \r\nMichaela Michaelson      |  District Manager    |  2015-12-19     \r\nSally Webber             |  Web Developer       |  2015-12-18     \r\nTou Xiong                |  Software Engineer   |  2016-10-05     \r\n------------------------------------------------------------------\r\n```\r\n\r\nIn the above **Employee** class code, you may have noticed a method added named `toTableString()`. This method was added to the class to assist with displaying Employee object instances in a table format to the console Window (read the method&#39;s javadoc). It **could** be used something like this:\r\n\r\n    Employee[] employees = {\r\n        new Employee(&quot;John&quot;, &quot;Johnson&quot;, &quot;Manager&quot;, 20161231),\r\n        new Employee(&quot;Tou&quot;, &quot;Xiong&quot;, &quot;Software Engineer&quot;, 20161005),\r\n        new Employee(&quot;Michaela&quot;, &quot;Michaelson&quot;, &quot;District Manager&quot;, 20151219),\r\n        new Employee(&quot;Jake&quot;, &quot;Jacobson&quot;, &quot;Programmer&quot;, 00000000),\r\n        new Employee(&quot;John&quot;, &quot;Jackson&quot;, &quot;Coffee Mole&quot;, 20161012),\r\n        new Employee(&quot;Jackquelyn&quot;, &quot;Jackson&quot;, &quot;DBA&quot;, 00000000),\r\n        new Employee(&quot;Sally&quot;, &quot;Webber&quot;, &quot;Web Developer&quot;, 20151218)\r\n    };\r\n        \r\n    // Sort the above Object Array (employees) by the employee&#39;s first name.\r\n    java.util.Arrays.sort(employees, new java.util.Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee first, Employee second) {\r\n            return first.getName().compareTo(second.getName());\r\n        }\r\n    });\r\n\r\n    // Display the table in Console Window.\r\n    int cnt = 1;\r\n    for (Employee empl : employees) {\r\n        if (cnt == 1) {\r\n            System.out.println(empl.toTableString(true));\r\n        }\r\n        else {\r\n            if ((cnt) == employees.length) {\r\n                System.out.println(empl.toTableString(null, true));\r\n            }\r\n            else {\r\n                System.out.println(empl.toTableString());\r\n            }\r\n        }\r\n        cnt++;\r\n    }\r\n\r\n**The Console Window *should* display:**\r\n```\r\n------------------------------------------------------------------\r\nName                     |  Position            |  Separation Date\r\n------------------------------------------------------------------\r\nJackquelyn Jackson       |  DBA                 |                 \r\nJake Jacobson            |  Programmer          |                 \r\nJohn Jackson             |  Coffee Mole         |  2016-10-12     \r\nJohn Johnson             |  Manager             |  2016-12-31     \r\nMichaela Michaelson      |  District Manager    |  2015-12-19     \r\nSally Webber             |  Web Developer       |  2015-12-18     \r\nTou Xiong                |  Software Engineer   |  2016-10-05     \r\n------------------------------------------------------------------\r\n```\r\n","title":"Particular Format Table in Java","body":"<p>You can accomplish this by using a combination of the <a href=\"https://www.javatpoint.com/java-string-format\" rel=\"nofollow noreferrer\">String#format()</a> method and the <a href=\"https://www.baeldung.com/java-printstream-printf\" rel=\"nofollow noreferrer\">System.out.printf()</a> method for formatting your particular Strings to the console window.</p>\n<p>First it would be nice if you modify your <strong>Employee</strong> class so that the <code>separationDate</code> is of <code>int</code> type and not of <code>double</code> type. This would of course also include the <strong>Constructor</strong> as well as the <strong>Getter</strong> and <strong>Setter</strong> methods for this class instance variable. Adding a Getter method to your <strong>Employee</strong> class to convert this integer value to a string date format wouldn't be a bad idea either or just use a date string altogether instead of a numerical value for your <code>separationDate</code> instance variable. Never the less... your class could be modified to something like this where either or could be acquired:</p>\n<pre><code>public class Employee {\n\n    private String firstName;\n    private String lastName;\n\n    private String department;\n    private int separationDate;\n\n    // constructor\n    public Employee(String firstName, String lastName,\n            String department, int separationDate) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n\n        this.department = department;\n        this.separationDate = separationDate;\n    }\n\n    // set firstName\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    // get firstName\n    public String getFirstName() {\n        return firstName;\n    }\n\n    // set lastName\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    // Get Employee Full Name\n    public String getFullName() {\n        return this.firstName + &quot; &quot; + this.lastName;\n    }\n\n    // get lastName\n    public String getLastName() {\n        return lastName;\n    }\n\n    // set department\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    // get department\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setseparationDate(int separationDate) {\n        this.separationDate = separationDate;\n    }\n\n    // Get Separation Date (As String)\n    public String getseparationDate() {\n        String dateString = &quot;&quot;;\n        if (this.separationDate != 0) {\n            String date = String.valueOf(this.separationDate);\n            dateString = date.substring(0, 4) + &quot;-&quot; + date.substring(4, 6) + &quot;-&quot; + date.substring(6, 8);\n        }\n        return dateString;\n    }\n\n    public int getseparationDateAsInt() {\n        return this.separationDate;\n    }\n\n    // return Employee's first and last name combined\n    public String getName() {\n        return String.format(&quot;%s %s&quot;, getFirstName(), getLastName());\n    }\n\n    // return a String containing the Employee's information\n    @Override\n    public String toString() {\n        return new StringBuilder(firstName).append(&quot;, &quot;).append(lastName).append(&quot;, &quot;)\n                .append(department).append(&quot;, &quot;).append(separationDate).toString();\n    }\n\n    /**\n     * Similar to the toString() method except it will return an object instance \n     * as string in a table style format.&lt;br&gt;\n     * \n     * @param options (Optional - Boolean - Two Options)&lt;pre&gt;\n     * \n     *     addHeader          - If true is supplied then the Object instance string\n     *                          id prefixed with an underlined Header String. If \n     *                          null or nothing is supplied then no header is \n     *                          provided.\n     * \n     *     addFinalUnderline  - If true is supplied then an underline is added to \n     *                          the Onject instance string. If null or nothing is\n     *                          supplied then no underline is provided under the\n     *                          table. If this optional parameter is supplied then \n     *                          a boolean value (or null) &lt;u&gt;must&lt;/u&gt; be supplied to the\n     *                          'addHeader' parameter.&lt;/pre&gt;\n     * \n     * @return (String) An Object instance String. A toString in table style format.\n     */\n    public String toTableString(Boolean... options) {\n        boolean addHeader = false;\n        boolean addFinalUnderline = false;\n        if (options.length &gt; 0) {\n            if (options.length &gt;= 1 &amp;&amp; options[0] != null) {\n                addHeader = options[0];\n            }\n            if (options.length &gt;= 2 &amp;&amp; options[1] != null) {\n                addFinalUnderline = options[1];\n            }\n        }\n        String ls = System.lineSeparator();\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        String header = String.format(&quot;%-25s|  %-20s|  %-15s&quot;, &quot;Name&quot;, &quot;Position&quot;, &quot;Separation Date&quot;);\n        String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;));\n        if (addHeader) {\n            sb.append(underline).append(ls);\n            sb.append(header).append(ls);\n            sb.append(underline).append(ls);\n        }\n        sb.append(String.format(&quot;%-25s|  %-20s|  %-15s&quot;, getName(),\n                getDepartment(), getseparationDate()));\n        if (addFinalUnderline) {\n            sb.append(ls).append(underline);\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Your instances of Employee are held as elements within the Employee Array named <code>employees</code> and now you want to sort them. This can be done with the <code>java.util.Arrays.sort()</code> method, for example:</p>\n<pre><code>java.util.Arrays.sort(employees, new java.util.Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee first, Employee second) {\n        return first.getName().compareTo(second.getName());\n    }\n});\n</code></pre>\n<p>Since you have already created the <code>getName()</code> method (which is used to compare in the above code) within the <strong>Employee</strong> class the sort would take care of first and last name sorting should last names be the same.</p>\n<p>You're already familiar with the String formatting methods so I'm not going to bore you with that anymore. To get the table you want ( or similar to it) then you can do it this way:</p>\n<pre><code>Employee[] employees = {\n    new Employee(&quot;John&quot;, &quot;Johnson&quot;, &quot;Manager&quot;, 20161231),\n    new Employee(&quot;Tou&quot;, &quot;Xiong&quot;, &quot;Software Engineer&quot;, 20161005),\n    new Employee(&quot;Michaela&quot;, &quot;Michaelson&quot;, &quot;District Manager&quot;, 20151219),\n    new Employee(&quot;Jake&quot;, &quot;Jacobson&quot;, &quot;Programmer&quot;, 00000000),\n    new Employee(&quot;John&quot;, &quot;Jackson&quot;, &quot;Coffee Mole&quot;, 20161012),\n    new Employee(&quot;Jackquelyn&quot;, &quot;Jackson&quot;, &quot;DBA&quot;, 00000000),\n    new Employee(&quot;Sally&quot;, &quot;Webber&quot;, &quot;Web Developer&quot;, 20151218)\n};\n    \n// Sort the above Object Array (employees) by the employee's first name.\njava.util.Arrays.sort(employees, new java.util.Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee first, Employee second) {\n        return first.getName().compareTo(second.getName());\n    }\n});\n    \n// Build the Header string\nString header = String.format(&quot;%-25s|  %-20s|  %-15s&quot;, &quot;Name&quot;, &quot;Position&quot;, &quot;Separation Date&quot;);\n// Build the Header Underline string\nString underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;));\nSystem.out.println(underline);\nSystem.out.println(header);\nSystem.out.println(underline);\n// Build the table data strings\nfor (Employee empl : employees) {\n    System.out.printf(&quot;%-25s|  %-20s|  %-15s%n&quot;, empl.getName(),\n            empl.getDepartment(), empl.getseparationDate());\n}\nSystem.out.println(underline); // Table underline to indicate End Of Table\n</code></pre>\n<p><strong>The Console Window <em>should</em> display:</strong></p>\n<pre><code>------------------------------------------------------------------\nName                     |  Position            |  Separation Date\n------------------------------------------------------------------\nJackquelyn Jackson       |  DBA                 |                 \nJake Jacobson            |  Programmer          |                 \nJohn Jackson             |  Coffee Mole         |  2016-10-12     \nJohn Johnson             |  Manager             |  2016-12-31     \nMichaela Michaelson      |  District Manager    |  2015-12-19     \nSally Webber             |  Web Developer       |  2015-12-18     \nTou Xiong                |  Software Engineer   |  2016-10-05     \n------------------------------------------------------------------\n</code></pre>\n<p>In the above <strong>Employee</strong> class code, you may have noticed a method added named <code>toTableString()</code>. This method was added to the class to assist with displaying Employee object instances in a table format to the console Window (read the method's javadoc). It <strong>could</strong> be used something like this:</p>\n<pre><code>Employee[] employees = {\n    new Employee(&quot;John&quot;, &quot;Johnson&quot;, &quot;Manager&quot;, 20161231),\n    new Employee(&quot;Tou&quot;, &quot;Xiong&quot;, &quot;Software Engineer&quot;, 20161005),\n    new Employee(&quot;Michaela&quot;, &quot;Michaelson&quot;, &quot;District Manager&quot;, 20151219),\n    new Employee(&quot;Jake&quot;, &quot;Jacobson&quot;, &quot;Programmer&quot;, 00000000),\n    new Employee(&quot;John&quot;, &quot;Jackson&quot;, &quot;Coffee Mole&quot;, 20161012),\n    new Employee(&quot;Jackquelyn&quot;, &quot;Jackson&quot;, &quot;DBA&quot;, 00000000),\n    new Employee(&quot;Sally&quot;, &quot;Webber&quot;, &quot;Web Developer&quot;, 20151218)\n};\n    \n// Sort the above Object Array (employees) by the employee's first name.\njava.util.Arrays.sort(employees, new java.util.Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee first, Employee second) {\n        return first.getName().compareTo(second.getName());\n    }\n});\n\n// Display the table in Console Window.\nint cnt = 1;\nfor (Employee empl : employees) {\n    if (cnt == 1) {\n        System.out.println(empl.toTableString(true));\n    }\n    else {\n        if ((cnt) == employees.length) {\n            System.out.println(empl.toTableString(null, true));\n        }\n        else {\n            System.out.println(empl.toTableString());\n        }\n    }\n    cnt++;\n}\n</code></pre>\n<p><strong>The Console Window <em>should</em> display:</strong></p>\n<pre><code>------------------------------------------------------------------\nName                     |  Position            |  Separation Date\n------------------------------------------------------------------\nJackquelyn Jackson       |  DBA                 |                 \nJake Jacobson            |  Programmer          |                 \nJohn Jackson             |  Coffee Mole         |  2016-10-12     \nJohn Johnson             |  Manager             |  2016-12-31     \nMichaela Michaelson      |  District Manager    |  2015-12-19     \nSally Webber             |  Web Developer       |  2015-12-18     \nTou Xiong                |  Software Engineer   |  2016-10-05     \n------------------------------------------------------------------\n</code></pre>\n"}],"owner":{"account_id":21870234,"reputation":1,"user_id":16159839,"display_name":"Daniel.grafton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632533333,"creation_date":1632512741,"question_id":69320401,"body_markdown":"[Table Format][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wH4ID.png\r\n\r\nI have to create a program that sorts all employees by last name and prints them to the screen in a tabular format. \r\n\r\nI am having an issue creating a table in the format attached above. Please see what I have and can help out, at this point I don&#39;t know how to set it up so the final output looks like the table attached. Thank you.\r\n\r\n```\r\n    public static void main(String[] args)\r\n    {\r\n        Employee[] employees = {\r\n                new Employee(&quot;John&quot;,&quot;Johnson&quot;,&quot;Manager&quot;,20161231),\r\n                new Employee(&quot;Tou&quot;,&quot;Xiong&quot;,&quot;Software Engineer&quot;,20161005),\r\n                new Employee(&quot;Michaela&quot;, &quot;Michaelson&quot;, &quot;District Manager&quot;, 20151219),\r\n                new Employee(&quot;Jake&quot;,&quot;Jacobson&quot;,&quot;Programmer&quot;,00000000),\r\n                new Employee(&quot;Jackquelyn&quot;, &quot;Jackson&quot;, &quot;DBA&quot;,00000000),\r\n                new Employee(&quot;Sally&quot;,&quot;Webber&quot;,&quot;Web Developer&quot;,20151218)\r\n        };\r\n\r\n\r\n// get List view of the Employees\r\n        List&lt;Employee&gt; list = Arrays.asList(employees);\r\n\r\n// display all Employees\r\n        System.out.println(&quot;Complete Employee list:&quot;);\r\n        list.stream().forEach(System.out::println);\r\n\r\n\r\n// Functions for getting first and last names from an Employee\r\n        Function&lt;Employee, String&gt; byFirstName = Employee::getFirstName;\r\n        Function&lt;Employee, String&gt; byLastName = Employee::getLastName;\r\n\r\n// Comparator for comparing Employees by first name then last name\r\n        Comparator&lt;Employee&gt; lastThenFirst =\r\n                Comparator.comparing(byLastName).thenComparing(byFirstName);\r\n\r\n// sort employees by last name, then first name\r\n        System.out.printf(\r\n                &quot;%nEmployees in ascending order by last name then first:%n&quot;);\r\n        list.stream()\r\n                .sorted(lastThenFirst)\r\n                .forEach(System.out::println);\r\n    }\r\n}\r\nclass Employee\r\n{\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    private String department;\r\n    private double separationDate;\r\n\r\n    // constructor\r\n    public Employee(String firstName, String lastName,\r\n                    String department,double separationDate)\r\n    {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n\r\n        this.department = department;\r\n        this.separationDate=separationDate;\r\n    }\r\n\r\n    // set firstName\r\n    public void setFirstName(String firstName)\r\n    {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    // get firstName\r\n    public String getFirstName()\r\n    {\r\n        return firstName;\r\n    }\r\n\r\n    // set lastName\r\n    public void setLastName(String lastName)\r\n    {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    // get lastName\r\n    public String getLastName()\r\n    {\r\n        return lastName;\r\n    }\r\n\r\n    // set department\r\n    public void setDepartment(String department)\r\n    {\r\n        this.department = department;\r\n    }\r\n\r\n    // get department\r\n    public String getDepartment()\r\n    {\r\n        return department;\r\n    }\r\n\r\n    public void setseparationDate(double separationDate)\r\n    {\r\n        this.separationDate = separationDate;\r\n    }\r\n\r\n    // get salary\r\n    public double getseparationDate()\r\n    {\r\n        return separationDate;\r\n    }\r\n\r\n    // return Employee&#39;s first and last name combined\r\n    public String getName()\r\n    {\r\n        return String.format(&quot;%s %s&quot;, getFirstName(), getLastName());\r\n    }\r\n\r\n    // return a String containing the Employee&#39;s information\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return String.format(&quot;%-8s %-8s %s %8.0f&quot;,\r\n                getFirstName(), getLastName(), getDepartment(),getseparationDate());\r\n    }\r\n}```","title":"Particular Format Table in Java","body":"<p><a href=\"https://i.stack.imgur.com/wH4ID.png\" rel=\"nofollow noreferrer\">Table Format</a></p>\n<p>I have to create a program that sorts all employees by last name and prints them to the screen in a tabular format.</p>\n<p>I am having an issue creating a table in the format attached above. Please see what I have and can help out, at this point I don't know how to set it up so the final output looks like the table attached. Thank you.</p>\n<pre><code>    public static void main(String[] args)\n    {\n        Employee[] employees = {\n                new Employee(&quot;John&quot;,&quot;Johnson&quot;,&quot;Manager&quot;,20161231),\n                new Employee(&quot;Tou&quot;,&quot;Xiong&quot;,&quot;Software Engineer&quot;,20161005),\n                new Employee(&quot;Michaela&quot;, &quot;Michaelson&quot;, &quot;District Manager&quot;, 20151219),\n                new Employee(&quot;Jake&quot;,&quot;Jacobson&quot;,&quot;Programmer&quot;,00000000),\n                new Employee(&quot;Jackquelyn&quot;, &quot;Jackson&quot;, &quot;DBA&quot;,00000000),\n                new Employee(&quot;Sally&quot;,&quot;Webber&quot;,&quot;Web Developer&quot;,20151218)\n        };\n\n\n// get List view of the Employees\n        List&lt;Employee&gt; list = Arrays.asList(employees);\n\n// display all Employees\n        System.out.println(&quot;Complete Employee list:&quot;);\n        list.stream().forEach(System.out::println);\n\n\n// Functions for getting first and last names from an Employee\n        Function&lt;Employee, String&gt; byFirstName = Employee::getFirstName;\n        Function&lt;Employee, String&gt; byLastName = Employee::getLastName;\n\n// Comparator for comparing Employees by first name then last name\n        Comparator&lt;Employee&gt; lastThenFirst =\n                Comparator.comparing(byLastName).thenComparing(byFirstName);\n\n// sort employees by last name, then first name\n        System.out.printf(\n                &quot;%nEmployees in ascending order by last name then first:%n&quot;);\n        list.stream()\n                .sorted(lastThenFirst)\n                .forEach(System.out::println);\n    }\n}\nclass Employee\n{\n    private String firstName;\n    private String lastName;\n\n    private String department;\n    private double separationDate;\n\n    // constructor\n    public Employee(String firstName, String lastName,\n                    String department,double separationDate)\n    {\n        this.firstName = firstName;\n        this.lastName = lastName;\n\n        this.department = department;\n        this.separationDate=separationDate;\n    }\n\n    // set firstName\n    public void setFirstName(String firstName)\n    {\n        this.firstName = firstName;\n    }\n\n    // get firstName\n    public String getFirstName()\n    {\n        return firstName;\n    }\n\n    // set lastName\n    public void setLastName(String lastName)\n    {\n        this.lastName = lastName;\n    }\n\n    // get lastName\n    public String getLastName()\n    {\n        return lastName;\n    }\n\n    // set department\n    public void setDepartment(String department)\n    {\n        this.department = department;\n    }\n\n    // get department\n    public String getDepartment()\n    {\n        return department;\n    }\n\n    public void setseparationDate(double separationDate)\n    {\n        this.separationDate = separationDate;\n    }\n\n    // get salary\n    public double getseparationDate()\n    {\n        return separationDate;\n    }\n\n    // return Employee's first and last name combined\n    public String getName()\n    {\n        return String.format(&quot;%s %s&quot;, getFirstName(), getLastName());\n    }\n\n    // return a String containing the Employee's information\n    @Override\n    public String toString()\n    {\n        return String.format(&quot;%-8s %-8s %s %8.0f&quot;,\n                getFirstName(), getLastName(), getDepartment(),getseparationDate());\n    }\n}```\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632500768,"creation_date":1632500768,"answer_id":69318341,"question_id":69306972,"body_markdown":"There is a misunderstanding about the `@MockBean` default behaviour:\r\n&gt; Why didn&#39;t the default @MockBean behavior of MockReset.RESET work? Is\r\n&gt; there something wrong with how I have set up my test such that default\r\n&gt; MockReset.RESET was failing?\r\n\r\nFrom the [`MockBean.reset`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html#reset--) method documentation:\r\n\r\n&gt; The reset mode to apply to the mock bean. The default is\r\n&gt; MockReset.AFTER meaning that mocks are automatically reset after each\r\n&gt; test method is invoked.\r\n\r\nSo your `MockBean` will be reset and unregistered from the application context after your first testcase execution and then your second testcase will find it null, while it will not happen in case of `@MockBean(reset = MockReset.NONE)` as you have done.","title":"Understanding @MockBean usage With &#39;RestTemplate restTemplate&#39;","body":"<p>There is a misunderstanding about the <code>@MockBean</code> default behaviour:</p>\n<blockquote>\n<p>Why didn't the default @MockBean behavior of MockReset.RESET work? Is\nthere something wrong with how I have set up my test such that default\nMockReset.RESET was failing?</p>\n</blockquote>\n<p>From the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html#reset--\" rel=\"nofollow noreferrer\"><code>MockBean.reset</code></a> method documentation:</p>\n<blockquote>\n<p>The reset mode to apply to the mock bean. The default is\nMockReset.AFTER meaning that mocks are automatically reset after each\ntest method is invoked.</p>\n</blockquote>\n<p>So your <code>MockBean</code> will be reset and unregistered from the application context after your first testcase execution and then your second testcase will find it null, while it will not happen in case of <code>@MockBean(reset = MockReset.NONE)</code> as you have done.</p>\n"}],"owner":{"account_id":1686454,"reputation":99,"user_id":1549646,"display_name":"BDF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69318341,"answer_count":1,"score":3,"last_activity_date":1632533108,"creation_date":1632431723,"question_id":69306972,"body_markdown":"The behavior that I am seeing is a NullPointerException in the second test when the mocked ```restTemplate``` called.  That pointed to a problem in the resetting of the mock.   What surprised me is the fix ( that made both tests pass).\r\n\r\nModifying the code from\r\n```@MockBean private RestTemplate restTemplate;```\r\nto\r\n```@MockBean(reset = MockReset.NONE) private RestTemplate restTemplate;```\r\nfixed the issue.    A few questions here:\r\n1.  Why didn&#39;t the default @MockBean behavior of MockReset.RESET work?  \r\n2.  Is there something wrong with how I have set up my test such that default MockReset.RESET was failing?\r\n3.  Is there something wrong with the test config class?\r\n\r\nHopefully, I&#39;ve provided enough context to answer the question.\r\n\r\nI&#39;ve created a simplified example of what I&#39;m seeing:\r\nTest configuration:\r\n```java\r\n@Profile(&quot;test&quot;)\r\n@Configuration\r\npublic class TestConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectNode getWeatherService(RestTemplate restTemplate) {\r\n        return new WeatherServiceImpl(restTemplate);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe test:\r\n```java\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@AutoConfigureMockMvc\r\nclass SamTest {\r\n    @Autowired private MockMvc mockMvc;\r\n    @MockBean private RestTemplate restTemplate;\r\n    /*\r\n    Works:\r\n    @MockBean(reset = MockReset.NONE) private RestTemplate restTemplate;\r\n    Fails:\r\n    @MockBean(reset = MockReset.BEFORE) private RestTemplate restTemplate;\r\n    @MockBean(reset = MockReset.AFTER) private RestTemplate restTemplate;\r\n     */\r\n    @Test\r\n    public void testOne() throws Exception {\r\n        Mockito.when(restTemplate.getForEntity(&quot;http://some.weather.api&quot;, ObjectNode.class))\r\n                .thenReturn(new ResponseEntity(&quot;{\\&quot;weather\\&quot; : \\&quot;rainy\\&quot;}&quot;, HttpStatus.OK));\r\n\r\n        // Makes call to standard @RestController with a @GetMapping\r\n        // Call to external API is contained in @Service class.\r\n        // Currently controller just passes through the json from the underlying service call.\r\n        this.mockMvc.perform(\r\n                get(&quot;/weather/check&quot;).\r\n                        contentType(MediaType.APPLICATION_JSON_VALUE)).\r\n                andExpect(status().isOk());\r\n    }\r\n\r\n    @Test\r\n    public void testTwo() throws Exception {\r\n        Mockito.when(restTemplate.getForEntity(&quot;http://some.weather.api&quot;, ObjectNode.class))\r\n                .thenReturn(new ResponseEntity(&quot;{\\&quot;error\\&quot; : \\&quot;bandwidth\\&quot;}&quot;, HttpStatus.BANDWIDTH_LIMIT_EXCEEDED));\r\n\r\n        this.mockMvc.perform(\r\n                get(&quot;/weather/check&quot;).\r\n                        contentType(MediaType.APPLICATION_JSON_VALUE)).\r\n                andExpect(status().is5xxServerError());\r\n    }\r\n}\r\n```\r\nThe service:\r\n```java\r\n@Service\r\npublic class WeatherServiceImpl implements WeatherService {\r\n    private final RestTemplate restTemplate;\r\n\r\n    @Autowired\r\n    public WeatherServiceImpl(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n    }\r\n\r\n    @Override\r\n    public ObjectNode retrieve(URI uri) {\r\n        ResponseEntity&lt;ObjectNode&gt; response = restTemplate.getForEntity(uri, ObjectNode.class);\r\n        return response.getBody();\r\n    }\r\n\r\n}\r\n```","title":"Understanding @MockBean usage With &#39;RestTemplate restTemplate&#39;","body":"<p>The behavior that I am seeing is a NullPointerException in the second test when the mocked <code>restTemplate</code> called.  That pointed to a problem in the resetting of the mock.   What surprised me is the fix ( that made both tests pass).</p>\n<p>Modifying the code from\n<code>@MockBean private RestTemplate restTemplate;</code>\nto\n<code>@MockBean(reset = MockReset.NONE) private RestTemplate restTemplate;</code>\nfixed the issue.    A few questions here:</p>\n<ol>\n<li>Why didn't the default @MockBean behavior of MockReset.RESET work?</li>\n<li>Is there something wrong with how I have set up my test such that default MockReset.RESET was failing?</li>\n<li>Is there something wrong with the test config class?</li>\n</ol>\n<p>Hopefully, I've provided enough context to answer the question.</p>\n<p>I've created a simplified example of what I'm seeing:\nTest configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Profile(&quot;test&quot;)\n@Configuration\npublic class TestConfiguration {\n\n    @Bean\n    @Primary\n    public ObjectNode getWeatherService(RestTemplate restTemplate) {\n        return new WeatherServiceImpl(restTemplate);\n    }\n\n}\n</code></pre>\n<p>The test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@AutoConfigureMockMvc\nclass SamTest {\n    @Autowired private MockMvc mockMvc;\n    @MockBean private RestTemplate restTemplate;\n    /*\n    Works:\n    @MockBean(reset = MockReset.NONE) private RestTemplate restTemplate;\n    Fails:\n    @MockBean(reset = MockReset.BEFORE) private RestTemplate restTemplate;\n    @MockBean(reset = MockReset.AFTER) private RestTemplate restTemplate;\n     */\n    @Test\n    public void testOne() throws Exception {\n        Mockito.when(restTemplate.getForEntity(&quot;http://some.weather.api&quot;, ObjectNode.class))\n                .thenReturn(new ResponseEntity(&quot;{\\&quot;weather\\&quot; : \\&quot;rainy\\&quot;}&quot;, HttpStatus.OK));\n\n        // Makes call to standard @RestController with a @GetMapping\n        // Call to external API is contained in @Service class.\n        // Currently controller just passes through the json from the underlying service call.\n        this.mockMvc.perform(\n                get(&quot;/weather/check&quot;).\n                        contentType(MediaType.APPLICATION_JSON_VALUE)).\n                andExpect(status().isOk());\n    }\n\n    @Test\n    public void testTwo() throws Exception {\n        Mockito.when(restTemplate.getForEntity(&quot;http://some.weather.api&quot;, ObjectNode.class))\n                .thenReturn(new ResponseEntity(&quot;{\\&quot;error\\&quot; : \\&quot;bandwidth\\&quot;}&quot;, HttpStatus.BANDWIDTH_LIMIT_EXCEEDED));\n\n        this.mockMvc.perform(\n                get(&quot;/weather/check&quot;).\n                        contentType(MediaType.APPLICATION_JSON_VALUE)).\n                andExpect(status().is5xxServerError());\n    }\n}\n</code></pre>\n<p>The service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class WeatherServiceImpl implements WeatherService {\n    private final RestTemplate restTemplate;\n\n    @Autowired\n    public WeatherServiceImpl(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    @Override\n    public ObjectNode retrieve(URI uri) {\n        ResponseEntity&lt;ObjectNode&gt; response = restTemplate.getForEntity(uri, ObjectNode.class);\n        return response.getBody();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1632507027,"post_id":69319422,"comment_id":122520391,"body_markdown":"Can you please share settings.json from vs code?","body":"Can you please share settings.json from vs code?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1632515163,"post_id":69319422,"comment_id":122523067,"body_markdown":"Ideally you should be following a consistent style guide within the industry. Opening brackets are never on their own lines in Java","body":"Ideally you should be following a consistent style guide within the industry. Opening brackets are never on their own lines in Java"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1633196862,"post_id":69319422,"comment_id":122697439,"body_markdown":"I agree with @OneCricketeer, follow Java Code Conventions. Opening brackets on a new line look alien to Java coders","body":"I agree with @OneCricketeer, follow Java Code Conventions. Opening brackets on a new line look alien to Java coders"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632507266,"creation_date":1632507266,"answer_id":69319520,"question_id":69319422,"body_markdown":"Press `Ctrl+Shift+P` in VS Code. It will open settings. There disable auto formatting of code, as in below image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2YOzd.png","title":"VS code editing Java on save","body":"<p>Press <code>Ctrl+Shift+P</code> in VS Code. It will open settings. There disable auto formatting of code, as in below image.</p>\n<p><a href=\"https://i.stack.imgur.com/2YOzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YOzd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632514745,"creation_date":1632508619,"answer_id":69319729,"question_id":69319422,"body_markdown":"Hit `Ctrl + Shift + P` and type **Save Without Formatting**. Hit Enter(Return) and it should save without applying any formatting. Doing this every time doesn&#39;t make sense. So maybe you would like to change the key binding from File -&gt; Preferences -&gt; Keyborad Shortcuts. \r\n\r\nThe doc talks more on that [here](https://code.visualstudio.com/updates/v1_28#_save-without-formatters)\r\n\r\n**EDIT 1: START**\r\n\r\nIf you happen to have a liking for a particular style(like [eclipse-java-google-style](https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml)), you can consider setting up the `java.format.settings.url` option under File-&gt;Preferences-&gt;Settings -&gt; Java. \r\n\r\nYou can also create your own formatting profile in eclipse and export the profile as xml file and provide the path to the xml file.\r\n\r\nBut in order to be able to do that you will first need to install the extension [Language Support for Java(TM) by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java).\r\n\r\n**Creating profile in eclipse:**\r\nGenerally speaking you create profiles in Eclipse by going to the Windows -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter -&gt; New -&gt; Brace Positions -&gt; Choose the option you want(perhaps `Next line` is what you are looking for, click on the checkbox to modify all with the same value) -&gt; In the same window you will see the `export button(somewhere top right corner)` -&gt; export your new profile to some safe location of your choice. It will be saved as an XML file.\r\n\r\nCopy the full path of the file and paste it in the `java.format.settings.url` section mentioned above.\r\n\r\nHaving a profile setup will save you lot of time. You will never have to manually format your braces/ indentation or any other piece. Define the formatting once and forget about it.\r\n\r\nThis profile setup also gives you the privilege of using the default `Save` of VSCode. It will format on save but as per your defined profile.\r\n\r\nKind of Win-Win situation for both you and VSCode&#39;s default settings.\r\n\r\n\r\n**EDIT 1: END**\r\n\r\n","title":"VS code editing Java on save","body":"<p>Hit <code>Ctrl + Shift + P</code> and type <strong>Save Without Formatting</strong>. Hit Enter(Return) and it should save without applying any formatting. Doing this every time doesn't make sense. So maybe you would like to change the key binding from File -&gt; Preferences -&gt; Keyborad Shortcuts.</p>\n<p>The doc talks more on that <a href=\"https://code.visualstudio.com/updates/v1_28#_save-without-formatters\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>EDIT 1: START</strong></p>\n<p>If you happen to have a liking for a particular style(like <a href=\"https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml\" rel=\"nofollow noreferrer\">eclipse-java-google-style</a>), you can consider setting up the <code>java.format.settings.url</code> option under File-&gt;Preferences-&gt;Settings -&gt; Java.</p>\n<p>You can also create your own formatting profile in eclipse and export the profile as xml file and provide the path to the xml file.</p>\n<p>But in order to be able to do that you will first need to install the extension <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java(TM) by Red Hat</a>.</p>\n<p><strong>Creating profile in eclipse:</strong>\nGenerally speaking you create profiles in Eclipse by going to the Windows -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter -&gt; New -&gt; Brace Positions -&gt; Choose the option you want(perhaps <code>Next line</code> is what you are looking for, click on the checkbox to modify all with the same value) -&gt; In the same window you will see the <code>export button(somewhere top right corner)</code> -&gt; export your new profile to some safe location of your choice. It will be saved as an XML file.</p>\n<p>Copy the full path of the file and paste it in the <code>java.format.settings.url</code> section mentioned above.</p>\n<p>Having a profile setup will save you lot of time. You will never have to manually format your braces/ indentation or any other piece. Define the formatting once and forget about it.</p>\n<p>This profile setup also gives you the privilege of using the default <code>Save</code> of VSCode. It will format on save but as per your defined profile.</p>\n<p>Kind of Win-Win situation for both you and VSCode's default settings.</p>\n<p><strong>EDIT 1: END</strong></p>\n"}],"owner":{"account_id":22850500,"reputation":13,"user_id":16996191,"display_name":"Jon Bailey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69319729,"answer_count":2,"score":1,"last_activity_date":1632532752,"creation_date":1632506681,"question_id":69319422,"body_markdown":"I am typing some class or method, and using line breaks to help me see where everything is, and it keeps getting edited out when I save.  I&#39;ve tried looking for an answer in the extensions and settings, but can&#39;t figure out what might be deleting the new lines.\r\n\r\nI&#39;ll have something like:\r\n\r\n    public class SomeClass\r\n    {\r\n        public static void main (String[] args)\r\n        {\r\n            Some code here;\r\n        }\r\n    }\r\n\r\nand it will delete the first line break after SomeClass and after args)\r\nit will edit it to look like this:\r\n\r\n    public class SomeClass {\r\n        public static void main (String[] args) {\r\n            some code here;\r\n        }\r\n    }\r\n\r\nHow do I turn off the editing on save that deletes my new lines?\r\n\r\nHere is settings.json:\r\n\r\n```json\r\n{\r\n    &quot;files.autoSave&quot;: &quot;afterDelay&quot;,\r\n    &quot;editor.suggestSelection&quot;: &quot;first&quot;,\r\n    &quot;vsintellicode.modify.editor.suggestSelection&quot;: &quot;automaticallyOverrodeDefaultValue&quot;,\r\n    &quot;files.exclude&quot;: {\r\n        &quot;**/.classpath&quot;: true,\r\n        &quot;**/.project&quot;: true,\r\n        &quot;**/.settings&quot;: true,\r\n        &quot;**/.factorypath&quot;: true\r\n    },\r\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\r\n    &quot;editor.padding.bottom&quot;: 5,\r\n    &quot;editor.padding.top&quot;: 5,\r\n    &quot;editor.roundedSelection&quot;: false,\r\n    &quot;javascript.format.placeOpenBraceOnNewLineForControlBlocks&quot;: true,\r\n    &quot;javascript.format.placeOpenBraceOnNewLineForFunctions&quot;: true,\r\n    &quot;files.insertFinalNewline&quot;: true,\r\n    &quot;editor.renderFinalNewline&quot;: false,\r\n    &quot;editor.trimAutoWhitespace&quot;: false,\r\n    &quot;launch&quot;: {\r\n        &quot;configurations&quot;: [],\r\n        &quot;compounds&quot;: []\r\n    }\r\n}\r\n```","title":"VS code editing Java on save","body":"<p>I am typing some class or method, and using line breaks to help me see where everything is, and it keeps getting edited out when I save.  I've tried looking for an answer in the extensions and settings, but can't figure out what might be deleting the new lines.</p>\n<p>I'll have something like:</p>\n<pre><code>public class SomeClass\n{\n    public static void main (String[] args)\n    {\n        Some code here;\n    }\n}\n</code></pre>\n<p>and it will delete the first line break after SomeClass and after args)\nit will edit it to look like this:</p>\n<pre><code>public class SomeClass {\n    public static void main (String[] args) {\n        some code here;\n    }\n}\n</code></pre>\n<p>How do I turn off the editing on save that deletes my new lines?</p>\n<p>Here is settings.json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;files.autoSave&quot;: &quot;afterDelay&quot;,\n    &quot;editor.suggestSelection&quot;: &quot;first&quot;,\n    &quot;vsintellicode.modify.editor.suggestSelection&quot;: &quot;automaticallyOverrodeDefaultValue&quot;,\n    &quot;files.exclude&quot;: {\n        &quot;**/.classpath&quot;: true,\n        &quot;**/.project&quot;: true,\n        &quot;**/.settings&quot;: true,\n        &quot;**/.factorypath&quot;: true\n    },\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\n    &quot;editor.padding.bottom&quot;: 5,\n    &quot;editor.padding.top&quot;: 5,\n    &quot;editor.roundedSelection&quot;: false,\n    &quot;javascript.format.placeOpenBraceOnNewLineForControlBlocks&quot;: true,\n    &quot;javascript.format.placeOpenBraceOnNewLineForFunctions&quot;: true,\n    &quot;files.insertFinalNewline&quot;: true,\n    &quot;editor.renderFinalNewline&quot;: false,\n    &quot;editor.trimAutoWhitespace&quot;: false,\n    &quot;launch&quot;: {\n        &quot;configurations&quot;: [],\n        &quot;compounds&quot;: []\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","completable-future"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1632521662,"post_id":69321040,"comment_id":122524579,"body_markdown":"Unfortunately, there’s a zoo of futures in Java. Which one are you referring to? Post a link to the class Javadoc.","body":"Unfortunately, there’s a zoo of futures in Java. Which one are you referring to? Post a link to the class Javadoc."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1632531666,"post_id":69321040,"comment_id":122526029,"body_markdown":"*Or is it the fact that if this is returned, then the call is successful,* The operation may not even have happened yet.  The Future is a handle on the future success or failure of the operation.","body":"<i>Or is it the fact that if this is returned, then the call is successful,</i> The operation may not even have happened yet.  The Future is a handle on the future success or failure of the operation."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632531911,"creation_date":1632531911,"answer_id":69322386,"question_id":69321040,"body_markdown":"The Future&lt;RecordMetaData&gt; is a handle on the future successful or failed completion of the operation.\r\n\r\nIf for example you call `get()&#39; on the Future object, then if it returns, you&#39;ll have a RecordMetaData.  Otherwise, it&#39;ll throw an ExecutionException, whose cause will tell you the actual failure.\r\n\r\nSee [the documentation](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get--).\r\n ","title":"Java Future&lt;RecordMetaData&gt; verify if success or failure?","body":"<p>The Future is a handle on the future successful or failed completion of the operation.</p>\n<p>If for example you call `get()' on the Future object, then if it returns, you'll have a RecordMetaData.  Otherwise, it'll throw an ExecutionException, whose cause will tell you the actual failure.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get--\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n"}],"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1632531911,"creation_date":1632517186,"question_id":69321040,"body_markdown":"When calling the Kafka Producer, is there a way to verify if the result is success or failure? I get back a ```Future&lt;RecordMetaData&gt;``` but I do not know how to verify if it is successful or not successful. Or is it the fact that if this is returned, then the call is successful, if it failed then there would be an error thrown?","title":"Java Future&lt;RecordMetaData&gt; verify if success or failure?","body":"<p>When calling the Kafka Producer, is there a way to verify if the result is success or failure? I get back a <code>Future&lt;RecordMetaData&gt;</code> but I do not know how to verify if it is successful or not successful. Or is it the fact that if this is returned, then the call is successful, if it failed then there would be an error thrown?</p>\n"},{"tags":["java","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632531844,"creation_date":1632530203,"answer_id":69322261,"question_id":69319079,"body_markdown":"Short answer is NO, there is no current support for conditional behaviour for ApiModelProperty.\r\n\r\nLong answer - its quite a challenge - becauae as far as swagger/springfox issues go( [#805](https://github.com/springfox/springfox/issues/807),[#563](https://github.com/springfox/springfox/issues/563) ). \r\nseems there is support of JsonView, and this feature was added to release version `3.0.0`, also seems that issue [#805](https://github.com/springfox/springfox/issues/807), is very similar to what you are facing, so its a good place to start.\r\n\r\nIt also mentions that there is a way, but it involves removing JsonView and rely on mapping DTOs to Models using [mapstruct](https://mapstruct.org/)&#39;s `@Mapper` annotated Interfaces, which let you generate different DTO&#39;s for the same model.\r\n\r\nAnd from a personal opinion, I think there should a seperation of responsibity here and have a 1:1 relationsip between DTO and request/response models or content, maybe have those specific cases be handled using plain old java way.\r\n\r\nFrom top of my head assuming your usecase is for a Student object:\r\n\r\n### Absraction\r\n\r\n```java\r\npublic interface Student {\r\n    int getId();\r\n    String getName();\r\n    String getAge();\r\n}\r\n```\r\n\r\n### Model\r\n&gt;also acts as controller, can access the view layer and data layer\r\n```java\r\npublic class StudentModel implements Student {\r\n    private int id;\r\n    private String insuranceNumber;\r\n    private String natSecurityNum;\r\n    private String name;\r\n    private String age;\r\n\r\n    public double calculateEnrolmentFee() {\r\n        // some database/service calls \r\n    }\r\n    public StudentInfo getInfo(){\r\n        // map model to info dto\r\n    }\r\n    public StudentDetails getDetails() {\r\n       // map model to details dto\r\n    }\r\n   \r\n    public void terminateEnrollment() {\r\n        // some behaviour and state changes\r\n    }\r\n    // Override Student&#39;s getters\r\n    .\r\n    .\r\n    .\r\n\r\n}\r\n```\r\n\r\n### View\r\n&gt;For endpoint 1\r\n\r\n```java\r\npublic class StudentInfo implements Student {\r\n    private int id;\r\n    private String name;\r\n    private String age;\r\n\r\n   // Override Student&#39;s getters and add setters\r\n    .\r\n    .\r\n}\r\n```\r\n\r\n&gt;For endpoint 2\r\n\r\n```java\r\npublic class StudentDetails implements Student {\r\n    private int id;\r\n    private String insuranceNumber;\r\n    private String natSecurityNum;\r\n    private String name;\r\n    private String age;\r\n\r\n    // Override Student&#39;s getters and add getter/setter based on design\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\nYou can use builders aswell.\r\n\r\n","title":"Hide property from Swagger conditionally?","body":"<p>Short answer is NO, there is no current support for conditional behaviour for ApiModelProperty.</p>\n<p>Long answer - its quite a challenge - becauae as far as swagger/springfox issues go( <a href=\"https://github.com/springfox/springfox/issues/807\" rel=\"nofollow noreferrer\">#805</a>,<a href=\"https://github.com/springfox/springfox/issues/563\" rel=\"nofollow noreferrer\">#563</a> ).\nseems there is support of JsonView, and this feature was added to release version <code>3.0.0</code>, also seems that issue <a href=\"https://github.com/springfox/springfox/issues/807\" rel=\"nofollow noreferrer\">#805</a>, is very similar to what you are facing, so its a good place to start.</p>\n<p>It also mentions that there is a way, but it involves removing JsonView and rely on mapping DTOs to Models using <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a>'s <code>@Mapper</code> annotated Interfaces, which let you generate different DTO's for the same model.</p>\n<p>And from a personal opinion, I think there should a seperation of responsibity here and have a 1:1 relationsip between DTO and request/response models or content, maybe have those specific cases be handled using plain old java way.</p>\n<p>From top of my head assuming your usecase is for a Student object:</p>\n<h3>Absraction</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Student {\n    int getId();\n    String getName();\n    String getAge();\n}\n</code></pre>\n<h3>Model</h3>\n<blockquote>\n<p>also acts as controller, can access the view layer and data layer</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentModel implements Student {\n    private int id;\n    private String insuranceNumber;\n    private String natSecurityNum;\n    private String name;\n    private String age;\n\n    public double calculateEnrolmentFee() {\n        // some database/service calls \n    }\n    public StudentInfo getInfo(){\n        // map model to info dto\n    }\n    public StudentDetails getDetails() {\n       // map model to details dto\n    }\n   \n    public void terminateEnrollment() {\n        // some behaviour and state changes\n    }\n    // Override Student's getters\n    .\n    .\n    .\n\n}\n</code></pre>\n<h3>View</h3>\n<blockquote>\n<p>For endpoint 1</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentInfo implements Student {\n    private int id;\n    private String name;\n    private String age;\n\n   // Override Student's getters and add setters\n    .\n    .\n}\n</code></pre>\n<blockquote>\n<p>For endpoint 2</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentDetails implements Student {\n    private int id;\n    private String insuranceNumber;\n    private String natSecurityNum;\n    private String name;\n    private String age;\n\n    // Override Student's getters and add getter/setter based on design\n    .\n    .\n    .\n}\n</code></pre>\n<p>You can use builders aswell.</p>\n"}],"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3451,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1632531844,"creation_date":1632504705,"question_id":69319079,"body_markdown":"I have a class that I am annotating with Swagger annotations for documentation of our API. One such class is used as part of the Response for two different endpoints. However, we are using `@JsonView` to hide some of the properties of the class for the different endpoints. When our Swagger.json is generated, the hidden properties are shown for both responses.\r\n\r\nI was able to hide the properties completely by annotating them with `@ApiModelProperty(hidden = true)`, however this hid them from both responses. Is there any way to use the JsonView to hide the properties only from some responses?","title":"Hide property from Swagger conditionally?","body":"<p>I have a class that I am annotating with Swagger annotations for documentation of our API. One such class is used as part of the Response for two different endpoints. However, we are using <code>@JsonView</code> to hide some of the properties of the class for the different endpoints. When our Swagger.json is generated, the hidden properties are shown for both responses.</p>\n<p>I was able to hide the properties completely by annotating them with <code>@ApiModelProperty(hidden = true)</code>, however this hid them from both responses. Is there any way to use the JsonView to hide the properties only from some responses?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":5565947,"reputation":2509,"user_id":4413257,"accept_rate":68,"display_name":"matoni"},"score":8,"creation_date":1500913828,"post_id":45285636,"comment_id":77533560,"body_markdown":"If object state can be mutated after creation, then it can&#39;t be considered as immutable.","body":"If object state can be mutated after creation, then it can&#39;t be considered as immutable."},{"owner":{"account_id":1481078,"reputation":912,"user_id":6181919,"display_name":"Arko"},"score":0,"creation_date":1500914759,"post_id":45285636,"comment_id":77534065,"body_markdown":"I understood that part. Thanks.","body":"I understood that part. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1501061050,"creation_date":1500913999,"answer_id":45285752,"question_id":45285636,"body_markdown":"What you wrote allows to not set more than one time a field of an object.&lt;br&gt;\r\nBut it is not a way to create object with a fully initialized state as a constructor or a builder can provide.&lt;br&gt;\r\nSo, if the client manipulates the object with a **not complete** or **corrupted** state, it could not work as expected.&lt;br&gt;\r\n\r\nBesides, providing setters that may be invoked by the clients at compile time but **which the misuses would be known only at runtime (by throwing an exception) is not a friendly and good designed API**.&lt;br&gt;\r\n\r\n----------\r\n**Example of issue with an object that has a not complete state.**\r\n\r\n\r\nTake a `Rectangle` class.&lt;br&gt;\r\nIt is composed of 4 **mandatory** information (height, weight, x and y coordinates).\r\nThese are represented by 4 instance fields :\r\n\r\n&gt; int x, int y, int width, int height\r\n\r\nSuppose the class provides an instance method `boolean contains(Point p)` to determinate if a `Point` (x, y coordinates) is included in it.&lt;br&gt;\r\n\r\nIf you apply your method to value fields of this class, you may create  `Rectangle` instances with incomplete/partial state.&lt;br&gt;\r\nThe `contains()` method could not work.&lt;br&gt; It should perform different checks and if a field is missing in `Rectangle`, it should may be even throw an exception.&lt;br&gt;\r\n\r\n\r\n**Example of issue with an object which the state may be corrupted**\r\n\r\nIf your object may be manipulated by multiple threads, using your way to value the fields of the object may set the object in an unexpected and inconsistent state.&lt;br&gt;\r\nTwo threads may manipulate the object at the same time and changing two fields that should not be changed in this way.&lt;br&gt;\r\nTo avoid it, you are forced to use explicit synchronization mechanisms for both reading and writing of fields.&lt;br&gt;\r\n\r\nIi you use a constructor or a builder, you have not these problems as you get out of the box a **complete**, **unmodifiable** (de facto  **thread-safe**)  object with a **clear API**.\r\n\r\n\r\n\r\n\r\n","title":"Can I use setter method for a replacement of final variable In the following way","body":"<p>What you wrote allows to not set more than one time a field of an object.<br>\nBut it is not a way to create object with a fully initialized state as a constructor or a builder can provide.<br>\nSo, if the client manipulates the object with a <strong>not complete</strong> or <strong>corrupted</strong> state, it could not work as expected.<br></p>\n\n<p>Besides, providing setters that may be invoked by the clients at compile time but <strong>which the misuses would be known only at runtime (by throwing an exception) is not a friendly and good designed API</strong>.<br></p>\n\n<hr>\n\n<p><strong>Example of issue with an object that has a not complete state.</strong></p>\n\n<p>Take a <code>Rectangle</code> class.<br>\nIt is composed of 4 <strong>mandatory</strong> information (height, weight, x and y coordinates).\nThese are represented by 4 instance fields :</p>\n\n<blockquote>\n  <p>int x, int y, int width, int height</p>\n</blockquote>\n\n<p>Suppose the class provides an instance method <code>boolean contains(Point p)</code> to determinate if a <code>Point</code> (x, y coordinates) is included in it.<br></p>\n\n<p>If you apply your method to value fields of this class, you may create  <code>Rectangle</code> instances with incomplete/partial state.<br>\nThe <code>contains()</code> method could not work.<br> It should perform different checks and if a field is missing in <code>Rectangle</code>, it should may be even throw an exception.<br></p>\n\n<p><strong>Example of issue with an object which the state may be corrupted</strong></p>\n\n<p>If your object may be manipulated by multiple threads, using your way to value the fields of the object may set the object in an unexpected and inconsistent state.<br>\nTwo threads may manipulate the object at the same time and changing two fields that should not be changed in this way.<br>\nTo avoid it, you are forced to use explicit synchronization mechanisms for both reading and writing of fields.<br></p>\n\n<p>Ii you use a constructor or a builder, you have not these problems as you get out of the box a <strong>complete</strong>, <strong>unmodifiable</strong> (de facto  <strong>thread-safe</strong>)  object with a <strong>clear API</strong>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1500914834,"creation_date":1500914834,"answer_id":45285960,"question_id":45285636,"body_markdown":"There are several things to note\r\n\r\n 1. Using a `Supplier&lt;String&gt;` instead of a `String` does not improve the code. There are only two cases, the intended case where the method is only executed once and the code of the supplier gets executed immediately and the erroneous case, where the supplier does not get executed, but where’s the sense in optimizing the erroneous case?\r\n\r\n 2. If a particular property supports being `null`, that approach fails to handle the case when it should be fixed to `null.\r\n\r\n 3. The API signature does not indicate that the class should be treated like immutable. Most readers will assume that it is mutable. So they may try to modify the object and not even notice the error if you’re going to remove the exception throwing statement, as said in a comment.\r\n\r\n 4. Immutable objects created by a builder are definitely completed and truly immutable once build. In contrast, your class allows the creator to forget setting some properties to fixed values, producing an actually mutable object.\r\n\r\n 5. Since instances of this class are not guaranteed to be immutable, they also do not have the guaranty to be thread safe that is usually associated with immutable objects.\r\n","title":"Can I use setter method for a replacement of final variable In the following way","body":"<p>There are several things to note</p>\n\n<ol>\n<li><p>Using a <code>Supplier&lt;String&gt;</code> instead of a <code>String</code> does not improve the code. There are only two cases, the intended case where the method is only executed once and the code of the supplier gets executed immediately and the erroneous case, where the supplier does not get executed, but where’s the sense in optimizing the erroneous case?</p></li>\n<li><p>If a particular property supports being <code>null</code>, that approach fails to handle the case when it should be fixed to `null.</p></li>\n<li><p>The API signature does not indicate that the class should be treated like immutable. Most readers will assume that it is mutable. So they may try to modify the object and not even notice the error if you’re going to remove the exception throwing statement, as said in a comment.</p></li>\n<li><p>Immutable objects created by a builder are definitely completed and truly immutable once build. In contrast, your class allows the creator to forget setting some properties to fixed values, producing an actually mutable object.</p></li>\n<li><p>Since instances of this class are not guaranteed to be immutable, they also do not have the guaranty to be thread safe that is usually associated with immutable objects.</p></li>\n</ol>\n"}],"owner":{"account_id":1481078,"reputation":912,"user_id":6181919,"display_name":"Arko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":45285960,"answer_count":2,"score":3,"last_activity_date":1632531510,"creation_date":1500913642,"question_id":45285636,"body_markdown":"Most of us understand the consequences of shared mutability, and it is said that always prefer immutability(final modifier, set once and you can&#39;t change it) if you have a chance. I have seen few coding examples where People are actually making fields final or setters as private or even removing setters for a class (which can be DTO, Model or Entity class) and another class (a builder class which can set values once to that immutable class) is used to create and set fields of the Immutable class  To ensure no other class is able to modify the state. Which seems a burden to me. SO I have come-up with this thought (below I am giving an example)\r\n\r\n    public class TestDataClass {\r\n    \r\n        private String name;\r\n    \t\r\n    \t public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(Supplier&lt;String&gt; supplier) throws Exception {\r\n            if(Objects.isNull(name))\r\n                {this.name = supplier.get();return;}\r\n            throw new Exception(&quot;This field is immutable and already has a value &quot;+this.name);\r\n        }\r\n    }\r\n\r\nIn this way either you can set values through setter like this `objectOfTestDataClass.setName(() -&gt; {return Perform_Desired_Logic;});`\r\nor\r\n`objectOfTestDataClass.setName(() -&gt;&quot;My Name&quot;);` if it is plain setter. Then also you dont have to create a bulder class or make setters private or omit setter method\r\n\r\nIn this way, I can get rid of variable initialization during Instantiation also once you set fields to become Immutable(I am not considering reflection).\r\n\r\n\r\nI want your expert opinion to validate how legitimate is my thought, Can I consider this as Immutability? Am I missing something? in that case please correct me.","title":"Can I use setter method for a replacement of final variable In the following way","body":"<p>Most of us understand the consequences of shared mutability, and it is said that always prefer immutability(final modifier, set once and you can't change it) if you have a chance. I have seen few coding examples where People are actually making fields final or setters as private or even removing setters for a class (which can be DTO, Model or Entity class) and another class (a builder class which can set values once to that immutable class) is used to create and set fields of the Immutable class  To ensure no other class is able to modify the state. Which seems a burden to me. SO I have come-up with this thought (below I am giving an example)</p>\n<pre><code>public class TestDataClass {\n\n    private String name;\n    \n     public String getName() {\n        return name;\n    }\n\n    public void setName(Supplier&lt;String&gt; supplier) throws Exception {\n        if(Objects.isNull(name))\n            {this.name = supplier.get();return;}\n        throw new Exception(&quot;This field is immutable and already has a value &quot;+this.name);\n    }\n}\n</code></pre>\n<p>In this way either you can set values through setter like this <code>objectOfTestDataClass.setName(() -&gt; {return Perform_Desired_Logic;});</code>\nor\n<code>objectOfTestDataClass.setName(() -&gt;&quot;My Name&quot;);</code> if it is plain setter. Then also you dont have to create a bulder class or make setters private or omit setter method</p>\n<p>In this way, I can get rid of variable initialization during Instantiation also once you set fields to become Immutable(I am not considering reflection).</p>\n<p>I want your expert opinion to validate how legitimate is my thought, Can I consider this as Immutability? Am I missing something? in that case please correct me.</p>\n"},{"tags":["java","concurrency","hashmap","concurrentmodification"],"comments":[{"owner":{"account_id":202356,"reputation":6380,"user_id":449378,"accept_rate":62,"display_name":"Navaneeth Sen"},"score":1,"creation_date":1631771409,"post_id":69202716,"comment_id":122312646,"body_markdown":"Why do you want to write to the hashmap concurrently? Cant you use a Queue to write values to the hashmap for simplicity? Which means push the messages into the queue first and write to the Hashmap by popping from the queue","body":"Why do you want to write to the hashmap concurrently? Cant you use a Queue to write values to the hashmap for simplicity? Which means push the messages into the queue first and write to the Hashmap by popping from the queue"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1631772195,"post_id":69202716,"comment_id":122312821,"body_markdown":"Why not just use synchronization? In the context of uploading files any attempt to improve on it is futile.","body":"Why not just use synchronization? In the context of uploading files any attempt to improve on it is futile."},{"owner":{"account_id":10716734,"reputation":243,"user_id":7887075,"display_name":"Amol Kshirsagar"},"score":0,"creation_date":1631791657,"post_id":69202716,"comment_id":122320802,"body_markdown":"thanks @NavaneethSen and user207421 Now I have aggregated above \n fileUploadLodgeReturnDetailsDTO objects into lists such that even if multiple threads try to PUT into the HashMap, they will always do the PUT at different KEYS. So, even if 4 threads are modifying the HashMap with PUT they will do so at 4 diff Keys at any given time. I am not doing a GET at all now since there will be no value corresponding to the key present in the HashMap when I do a PUT.  Would it still cause ConcurrentModificationException? From what read it occurs when you are iterating and updating via multiple threads","body":"thanks @NavaneethSen and user207421 Now I have aggregated above   fileUploadLodgeReturnDetailsDTO objects into lists such that even if multiple threads try to PUT into the HashMap, they will always do the PUT at different KEYS. So, even if 4 threads are modifying the HashMap with PUT they will do so at 4 diff Keys at any given time. I am not doing a GET at all now since there will be no value corresponding to the key present in the HashMap when I do a PUT.  Would it still cause ConcurrentModificationException? From what read it occurs when you are iterating and updating via multiple threads"}],"answers":[{"tags":[],"owner":{"account_id":10716734,"reputation":243,"user_id":7887075,"display_name":"Amol Kshirsagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632531457,"creation_date":1632530279,"answer_id":69322267,"question_id":69202716,"body_markdown":"As I mentioned earlier I tried multiple options like below:\r\n\r\nA) **ConcurrentHashMap**: But it does guarantee prevention of ConcurrentModificationException but does not guarantee that elements are inserted correctly.I have tested and concurrenthashmap does not populate all the elements all the time correctly\r\n\r\nB) **Synchronised** :Used synchronised on the uploadFiles map above but that defeats the purpose of using spring webflux\r\n\r\nC) **Deep Cloned** the HashMap and made sure I am GETTING only on the cloned map and PUTTING only to the original map but then I faced race condition\r\n\r\nSince I was using **Spring webflux**, the approach which finally worked for me was to aggregate the threads using **collectList()** after the call to the DocumentStorage and then group them based on the attribute which was going to be used as the key in the final hashmap in question. **I did this so that I dont have to iterate over the hashmap and insert at the same time. All I did was just PUT making sure that there are NO multiple PUTS for the same key**\r\n\r\nCode to aggregate the threads returning from the DocumentStorage.Please read the comments as well :)\r\n\r\n```\r\nFlux.fromIterable(entryValue)\r\n                  .flatMap(\r\n                      fileUploadLodgeReturnDetailsDTO -&gt; {\r\n//call to the documentStorage happens at per document level\r\n                        return callToDocumentStorage(fileUploadLodgeReturnDetailsDTO);\r\n                      })\r\n                  .collectList()\r\n                  .flatMapMany(\r\n                      fileUploadLodgeReturnDetailsDTOS -&gt; {\r\n                      //final grouping by key happens here\r\n                        groupByKeyAndInsertToMap(\r\n                            fileUploadLodgeReturnDetailsDTOS);\r\n                        return Flux.fromIterable(fileUploadLodgeReturnDetailsDTOS);\r\n                      });\r\n```\r\n\r\nThe groupingBy and insert code in above function groupByKeyAndInsertToMap() goes like this:\r\n\r\n```\r\n Map&lt;String, List&lt;FileUploadLodgeReturnDetailsDTO&gt;&gt; groupedByDocumentType =\r\n        fileUploadLodgeReturnDetailsDTOs.stream()\r\n            .collect(\r\n                Collectors.groupingBy(\r\n                    fileUploadLodgeReturnDetailsDTO -&gt; {\r\n                      return fileUploadLodgeReturnDetailsDTO.getDocumentType().name();\r\n                    }));\r\n  //the final PUT into the MAP at unique Keys Always to avoid ConcurrentModificationException\r\n    groupedByDocumentType.entrySet().stream()\r\n        .forEach(\r\n            stringListEntry -&gt; {\r\n              uploadFileList.put(\r\n                  LandDocumentType.make(stringListEntry.getKey()),\r\n                  new ArrayList&lt;&gt;(stringListEntry.getValue()));\r\n            });\r\n```\r\n\r\nThis solution can be helpful for non spring webflux applications as well where you just collect the objects into a List and group them by the parameter which is going to be the key in your final HashMap","title":"Insert Data into HashMap - Race condition","body":"<p>As I mentioned earlier I tried multiple options like below:</p>\n<p>A) <strong>ConcurrentHashMap</strong>: But it does guarantee prevention of ConcurrentModificationException but does not guarantee that elements are inserted correctly.I have tested and concurrenthashmap does not populate all the elements all the time correctly</p>\n<p>B) <strong>Synchronised</strong> :Used synchronised on the uploadFiles map above but that defeats the purpose of using spring webflux</p>\n<p>C) <strong>Deep Cloned</strong> the HashMap and made sure I am GETTING only on the cloned map and PUTTING only to the original map but then I faced race condition</p>\n<p>Since I was using <strong>Spring webflux</strong>, the approach which finally worked for me was to aggregate the threads using <strong>collectList()</strong> after the call to the DocumentStorage and then group them based on the attribute which was going to be used as the key in the final hashmap in question. <strong>I did this so that I dont have to iterate over the hashmap and insert at the same time. All I did was just PUT making sure that there are NO multiple PUTS for the same key</strong></p>\n<p>Code to aggregate the threads returning from the DocumentStorage.Please read the comments as well :)</p>\n<pre><code>Flux.fromIterable(entryValue)\n                  .flatMap(\n                      fileUploadLodgeReturnDetailsDTO -&gt; {\n//call to the documentStorage happens at per document level\n                        return callToDocumentStorage(fileUploadLodgeReturnDetailsDTO);\n                      })\n                  .collectList()\n                  .flatMapMany(\n                      fileUploadLodgeReturnDetailsDTOS -&gt; {\n                      //final grouping by key happens here\n                        groupByKeyAndInsertToMap(\n                            fileUploadLodgeReturnDetailsDTOS);\n                        return Flux.fromIterable(fileUploadLodgeReturnDetailsDTOS);\n                      });\n</code></pre>\n<p>The groupingBy and insert code in above function groupByKeyAndInsertToMap() goes like this:</p>\n<pre><code> Map&lt;String, List&lt;FileUploadLodgeReturnDetailsDTO&gt;&gt; groupedByDocumentType =\n        fileUploadLodgeReturnDetailsDTOs.stream()\n            .collect(\n                Collectors.groupingBy(\n                    fileUploadLodgeReturnDetailsDTO -&gt; {\n                      return fileUploadLodgeReturnDetailsDTO.getDocumentType().name();\n                    }));\n  //the final PUT into the MAP at unique Keys Always to avoid ConcurrentModificationException\n    groupedByDocumentType.entrySet().stream()\n        .forEach(\n            stringListEntry -&gt; {\n              uploadFileList.put(\n                  LandDocumentType.make(stringListEntry.getKey()),\n                  new ArrayList&lt;&gt;(stringListEntry.getValue()));\n            });\n</code></pre>\n<p>This solution can be helpful for non spring webflux applications as well where you just collect the objects into a List and group them by the parameter which is going to be the key in your final HashMap</p>\n"}],"owner":{"account_id":10716734,"reputation":243,"user_id":7887075,"display_name":"Amol Kshirsagar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632531457,"creation_date":1631769620,"question_id":69202716,"body_markdown":"I am working on a Spring Webflux application in which I need to make 1 Spring webflux call for each document to a Document Storage system.So 20 documents will make 20 calls.The calls happen fine and I am able to get back data as well. Issue arises when these 20 calls come back and want to populate a  single HashMap which is of the below mentioned structure. \r\n\r\n//DocumentType is an Enum\r\n\r\nHashMap&lt;DocumentType,List&lt;FileUploadDetailsDTO&gt;&gt; = new HashMap();\r\n\r\nSo every document will go in the List&lt;DocumentDTO&gt; based on its document type. I have written the below mentioned code for this \r\n\r\n```\r\n    Gson gson = new Gson();\r\n    ///here uploadFiles is the final Map I want to populate\r\n    String jsonString = gson.toJson(uploadedFiles);\r\n    Type type =\r\n        new TypeToken&lt;Map&lt;DocumentType, List&lt;FileUploadDetailsDTO&gt;&gt;&gt;() {}.getType();\r\n        //this is the cloned uploadFiles to avoid get and put on the same HashMap and cause ConcurrentModificationException\r\n    Map&lt;DocumentType, List&lt;FileUploadDetailsDTO&gt;&gt; clonedUploadedFiles =\r\n        gson.fromJson(jsonString, type);\r\n\r\n       //I do a get from the cloned Map always\r\n      if (clonedUploadedFiles.containsKey(DocumentType.make(documentType))) {\r\n        List&lt;FileUploadDetailsDTO&gt; clonedFilesForDocTypeList =\r\n            new ArrayList&lt;&gt;(clonedUploadedFiles.get(DocumentType.make(documentType)));\r\n        clonedFilesForDocTypeList.add(fileUploadLodgeReturnDetailsDTO);\r\n        //and only put in the original map always\r\n        uploadedFiles.put(DocumentType.make(documentType), clonedFilesForDocTypeList);\r\n      } else {\r\n        List&lt;FileUploadDetailsDTO&gt; listOfDocuments = new ArrayList&lt;&gt;();\r\n        listOfDocuments.add(fileUploadLodgeReturnDetailsDTO);\r\n        //and only put in the original map always\r\n        uploadedFiles.put(DocumentType.make(documentType), listOfDocuments);\r\n      }\r\n```\r\n**Problem**: Sometimes it causes a race condition and 2 threads which put into the HashMap at the same key since they satisfy the first if condition which does a **containsKey** check on the Map.\r\n\r\n**Options Tried**:\r\n\r\nA) **ConcurrentHashMap**: But it does guarantee prevention of ConcurrentModificationException but does not guarantee that elements are inserted correctly.I have tested and concurrenthashmap does not populate all the elements all the time correctly\r\n\r\nB) **Synchronised** :Used synchronised on the uploadFiles map above but that defeats the purpose of using spring webflux","title":"Insert Data into HashMap - Race condition","body":"<p>I am working on a Spring Webflux application in which I need to make 1 Spring webflux call for each document to a Document Storage system.So 20 documents will make 20 calls.The calls happen fine and I am able to get back data as well. Issue arises when these 20 calls come back and want to populate a  single HashMap which is of the below mentioned structure.</p>\n<p>//DocumentType is an Enum</p>\n<p>HashMap&lt;DocumentType,List&gt; = new HashMap();</p>\n<p>So every document will go in the List based on its document type. I have written the below mentioned code for this</p>\n<pre><code>    Gson gson = new Gson();\n    ///here uploadFiles is the final Map I want to populate\n    String jsonString = gson.toJson(uploadedFiles);\n    Type type =\n        new TypeToken&lt;Map&lt;DocumentType, List&lt;FileUploadDetailsDTO&gt;&gt;&gt;() {}.getType();\n        //this is the cloned uploadFiles to avoid get and put on the same HashMap and cause ConcurrentModificationException\n    Map&lt;DocumentType, List&lt;FileUploadDetailsDTO&gt;&gt; clonedUploadedFiles =\n        gson.fromJson(jsonString, type);\n\n       //I do a get from the cloned Map always\n      if (clonedUploadedFiles.containsKey(DocumentType.make(documentType))) {\n        List&lt;FileUploadDetailsDTO&gt; clonedFilesForDocTypeList =\n            new ArrayList&lt;&gt;(clonedUploadedFiles.get(DocumentType.make(documentType)));\n        clonedFilesForDocTypeList.add(fileUploadLodgeReturnDetailsDTO);\n        //and only put in the original map always\n        uploadedFiles.put(DocumentType.make(documentType), clonedFilesForDocTypeList);\n      } else {\n        List&lt;FileUploadDetailsDTO&gt; listOfDocuments = new ArrayList&lt;&gt;();\n        listOfDocuments.add(fileUploadLodgeReturnDetailsDTO);\n        //and only put in the original map always\n        uploadedFiles.put(DocumentType.make(documentType), listOfDocuments);\n      }\n</code></pre>\n<p><strong>Problem</strong>: Sometimes it causes a race condition and 2 threads which put into the HashMap at the same key since they satisfy the first if condition which does a <strong>containsKey</strong> check on the Map.</p>\n<p><strong>Options Tried</strong>:</p>\n<p>A) <strong>ConcurrentHashMap</strong>: But it does guarantee prevention of ConcurrentModificationException but does not guarantee that elements are inserted correctly.I have tested and concurrenthashmap does not populate all the elements all the time correctly</p>\n<p>B) <strong>Synchronised</strong> :Used synchronised on the uploadFiles map above but that defeats the purpose of using spring webflux</p>\n"},{"tags":["java","intellij-idea","breakpoints","remote-debugging"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1632532004,"post_id":69322350,"comment_id":122526055,"body_markdown":"Which UI theme are you using? And which version of IDEA?","body":"Which UI theme are you using? And which version of IDEA?"},{"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"score":0,"creation_date":1632591689,"post_id":69322350,"comment_id":122536755,"body_markdown":"Material Theme Darker from this [Jetbrains Material Theme UI Plugin](https://plugins.jetbrains.com/plugin/8006-material-theme-ui). Version of IDEA - `2021.2.2`.","body":"Material Theme Darker from this <a href=\"https://plugins.jetbrains.com/plugin/8006-material-theme-ui\" rel=\"nofollow noreferrer\">Jetbrains Material Theme UI Plugin</a>. Version of IDEA - <code>2021.2.2</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632605976,"post_id":69322350,"comment_id":122539641,"body_markdown":"What do the breakpoints look like if you use the default theme? (I don&#39;t think that theme is from Jetbrains, by the way)","body":"What do the breakpoints look like if you use the default theme? (I don&#39;t think that theme is from Jetbrains, by the way)"}],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632531350,"creation_date":1632531350,"question_id":69322350,"body_markdown":"I&#39;m trying to debug a Spring Boot microservice using Intellij&#39;s remote debugging feature. I have followed the correct steps to connect to the Cloud Service (like enabling ssh) where the service is deployed, and have set up the correct Intellij configuration under &quot;Remote JVM Debug&quot;.\r\n\r\nThe method I&#39;m trying to debug is a Spring Boot `RequestMapping` (`GET`) controller method. I added in my breakpoints in this method, but as soon as I hit the debug button and visit the associated path (same as the `RequestMapping`&#39;s `path` value) in the UI in the browser, the breakpoints don&#39;t seem to work as the method execution never steps. Instead, the red breakpoint dots are somehow replaced with green checkmarks, like below -\r\n\r\n[![Breakpoints before][1]][1]\r\n\r\n[![Breakpoints after][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/yoO8u.png\r\n  [2]: https://i.stack.imgur.com/hvLIa.png\r\n\r\nWhat does this indicate? Any idea as to why the debugging doesn&#39;t work? Even print statements in the method aren&#39;t displayed in the console.\r\n","title":"Breakpoints in Intellij during remote debugging not working","body":"<p>I'm trying to debug a Spring Boot microservice using Intellij's remote debugging feature. I have followed the correct steps to connect to the Cloud Service (like enabling ssh) where the service is deployed, and have set up the correct Intellij configuration under &quot;Remote JVM Debug&quot;.</p>\n<p>The method I'm trying to debug is a Spring Boot <code>RequestMapping</code> (<code>GET</code>) controller method. I added in my breakpoints in this method, but as soon as I hit the debug button and visit the associated path (same as the <code>RequestMapping</code>'s <code>path</code> value) in the UI in the browser, the breakpoints don't seem to work as the method execution never steps. Instead, the red breakpoint dots are somehow replaced with green checkmarks, like below -</p>\n<p><a href=\"https://i.stack.imgur.com/yoO8u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yoO8u.png\" alt=\"Breakpoints before\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hvLIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hvLIa.png\" alt=\"Breakpoints after\" /></a></p>\n<p>What does this indicate? Any idea as to why the debugging doesn't work? Even print statements in the method aren't displayed in the console.</p>\n"},{"tags":["python","java","amazon-web-services","aws-lambda","boto3"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632549320,"post_id":69321810,"comment_id":122528001,"body_markdown":"Java [`URLDecoder`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLDecoder.html).","body":"Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLDecoder.html\" rel=\"nofollow noreferrer\"><code>URLDecoder</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":1199494,"reputation":2990,"user_id":1170451,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632531328,"creation_date":1632531328,"answer_id":69322347,"question_id":69321810,"body_markdown":"Python can also generate an all-in-one encoded URL for any HTTP method, as that&#39;s the default form of a pre-signed URL. I created a test python script just to make sure that everything worked properly. If you run this (after exporting your credentials and replacing the variables with the appropriate bucket/object keys) you will get an encoded URL output to the console:\r\n\r\n```python\r\nimport boto3\r\n\r\ns3 = boto3.client(&#39;s3&#39;)\r\nurl = s3.generate_presigned_url(&#39;put_object&#39;, Params={&#39;Bucket&#39;: bucket, &#39;Key&#39;: object_key},\r\n                                ExpiresIn=expirationInSeconds,  \r\n                                HttpMethod=method)\r\n\r\nprint(url)\r\n```\r\n\r\nIt&#39;s likely that you&#39;re using `generate_presigned_post`, which returns a dict instead of a URL for your python lambda, however post operations will work fine using `generate_presigned_url` as long as you ensure you pass in the correct HttpMethod. ([reference][1])\r\n\r\n\r\n  [1]: https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.generate_presigned_url","title":"Generating a pre-signed URL in Python and then consuming it in Java","body":"<p>Python can also generate an all-in-one encoded URL for any HTTP method, as that's the default form of a pre-signed URL. I created a test python script just to make sure that everything worked properly. If you run this (after exporting your credentials and replacing the variables with the appropriate bucket/object keys) you will get an encoded URL output to the console:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import boto3\n\ns3 = boto3.client('s3')\nurl = s3.generate_presigned_url('put_object', Params={'Bucket': bucket, 'Key': object_key},\n                                ExpiresIn=expirationInSeconds,  \n                                HttpMethod=method)\n\nprint(url)\n</code></pre>\n<p>It's likely that you're using <code>generate_presigned_post</code>, which returns a dict instead of a URL for your python lambda, however post operations will work fine using <code>generate_presigned_url</code> as long as you ensure you pass in the correct HttpMethod. (<a href=\"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.generate_presigned_url\" rel=\"nofollow noreferrer\">reference</a>)</p>\n"}],"owner":{"account_id":10597477,"reputation":386,"user_id":7805600,"display_name":"Claudiu Moise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69322347,"answer_count":1,"score":0,"last_activity_date":1632531328,"creation_date":1632524196,"question_id":69321810,"body_markdown":"I have a Java-Python integration question, I&#39;m receiving a pre-signed URL from a Python Lambda and a Java desktop client is actually using the URL to perform a multi-part upload.\r\n\r\nThe essence of the issue I&#39;m facing is that the way Python and Java consumes a presigned URL is completely different. Python uses a JSON object like \r\n\r\n    {&quot;url&quot;:&quot;https://some-bucket-us-west-2.s3.amazonaws.com/&quot;,&quot;fields&quot;:{&quot;key&quot;:&quot;my_object_key&quot;,&quot;AWSAccessKeyId&quot;:&quot;XXXXXXXXXXX&quot;,&quot;x-amz-security-token&quot;:&quot;my_token&quot;,&quot;policy&quot;:&quot;my_policy&quot;,&quot;signature&quot;:&quot;my_sig&quot;}}\r\n\r\nExample usage of pre-signed URL in Python: \r\n\r\n    requests.post(returned_url_response[&#39;url&#39;], data=returned_url_response[&#39;fields&#39;], files=files)\r\n\r\nHowever Java uses an actual URL that is parameterized/encoded in some fashion:\r\n\r\nhttps://my-bucket-us-west-2.s3.us-west-2.amazonaws.com/caseId%3D02_mock/dummy.encrypted?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20210924T184139Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=some_credentialFaws4_request&amp;X-Amz-Signature=some_hash\r\n\r\nExample usage of pre-signed URL in Java:\r\n\r\n    URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\n\r\n    // Create the connection and use it to upload the new object using the pre-signed URL.\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setDoOutput(true);\r\n    connection.setRequestMethod(&quot;PUT&quot;);\r\n    OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream())\r\n\r\nMy question is if there is a Java equivalent for doing what I did in Python so that I can still use the output generated by Python?\r\n\r\nAlternatively will using `generate_presigned_url()` in the Python lambda generate a URL that I can use from the Java application? Will I need to generate a pre-signed URL for each ClientMethod operation `create_multipart_upload, upload_part, complete_multipart_upload`?\r\n\r\nFinally, would either of the two approaches be preferable to just throwing out my Python Lambda and making a Java Lambda that generates a pre-signed URL instead?\r\n","title":"Generating a pre-signed URL in Python and then consuming it in Java","body":"<p>I have a Java-Python integration question, I'm receiving a pre-signed URL from a Python Lambda and a Java desktop client is actually using the URL to perform a multi-part upload.</p>\n<p>The essence of the issue I'm facing is that the way Python and Java consumes a presigned URL is completely different. Python uses a JSON object like</p>\n<pre><code>{&quot;url&quot;:&quot;https://some-bucket-us-west-2.s3.amazonaws.com/&quot;,&quot;fields&quot;:{&quot;key&quot;:&quot;my_object_key&quot;,&quot;AWSAccessKeyId&quot;:&quot;XXXXXXXXXXX&quot;,&quot;x-amz-security-token&quot;:&quot;my_token&quot;,&quot;policy&quot;:&quot;my_policy&quot;,&quot;signature&quot;:&quot;my_sig&quot;}}\n</code></pre>\n<p>Example usage of pre-signed URL in Python:</p>\n<pre><code>requests.post(returned_url_response['url'], data=returned_url_response['fields'], files=files)\n</code></pre>\n<p>However Java uses an actual URL that is parameterized/encoded in some fashion:</p>\n<p><a href=\"https://my-bucket-us-west-2.s3.us-west-2.amazonaws.com/caseId%3D02_mock/dummy.encrypted?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20210924T184139Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=some_credentialFaws4_request&amp;X-Amz-Signature=some_hash\" rel=\"nofollow noreferrer\">https://my-bucket-us-west-2.s3.us-west-2.amazonaws.com/caseId%3D02_mock/dummy.encrypted?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20210924T184139Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=some_credentialFaws4_request&amp;X-Amz-Signature=some_hash</a></p>\n<p>Example usage of pre-signed URL in Java:</p>\n<pre><code>URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n\n\n// Create the connection and use it to upload the new object using the pre-signed URL.\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestMethod(&quot;PUT&quot;);\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream())\n</code></pre>\n<p>My question is if there is a Java equivalent for doing what I did in Python so that I can still use the output generated by Python?</p>\n<p>Alternatively will using <code>generate_presigned_url()</code> in the Python lambda generate a URL that I can use from the Java application? Will I need to generate a pre-signed URL for each ClientMethod operation <code>create_multipart_upload, upload_part, complete_multipart_upload</code>?</p>\n<p>Finally, would either of the two approaches be preferable to just throwing out my Python Lambda and making a Java Lambda that generates a pre-signed URL instead?</p>\n"},{"tags":["java","jenetics"],"answers":[{"tags":[],"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632467453,"creation_date":1632467453,"answer_id":69310927,"question_id":69307665,"body_markdown":"For converting the _best_ `Phenotype` in an actual route, you can use the `Codec`. In your example it will look like this:\r\n\r\n```java\r\nfinal Phenotype&lt;EnumGene&lt;double[]&gt;, Double&gt; best = ...;\r\nfinal ISeq&lt;double[]&gt; route = encotrarRuta.codec().decode(best.genotype());\r\n```\r\n\r\nYou can find another TSP example in the example module: [TravelingSalesman.java][1]. This examples uses _real_ GPS [WayPoints][2] from the [JPX][3] library.\r\n\r\n\r\n  [1]: https://github.com/jenetics/jenetics/blob/master/jenetics.example/src/main/java/io/jenetics/example/TravelingSalesman.java\r\n  [2]: https://www.javadoc.io/doc/io.jenetics/jpx/latest/io.jenetics.jpx/io/jenetics/jpx/WayPoint.html\r\n  [3]: https://github.com/jenetics/jpx","title":"Jenetics: how to interpret and get the result of a chromosome?","body":"<p>For converting the <em>best</em> <code>Phenotype</code> in an actual route, you can use the <code>Codec</code>. In your example it will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Phenotype&lt;EnumGene&lt;double[]&gt;, Double&gt; best = ...;\nfinal ISeq&lt;double[]&gt; route = encotrarRuta.codec().decode(best.genotype());\n</code></pre>\n<p>You can find another TSP example in the example module: <a href=\"https://github.com/jenetics/jenetics/blob/master/jenetics.example/src/main/java/io/jenetics/example/TravelingSalesman.java\" rel=\"nofollow noreferrer\">TravelingSalesman.java</a>. This examples uses <em>real</em> GPS <a href=\"https://www.javadoc.io/doc/io.jenetics/jpx/latest/io.jenetics.jpx/io/jenetics/jpx/WayPoint.html\" rel=\"nofollow noreferrer\">WayPoints</a> from the <a href=\"https://github.com/jenetics/jpx\" rel=\"nofollow noreferrer\">JPX</a> library.</p>\n"},{"tags":[],"owner":{"account_id":22841815,"reputation":1,"user_id":16988689,"display_name":"leon kennedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632531280,"creation_date":1632531280,"answer_id":69322344,"question_id":69307665,"body_markdown":"\r\nI found the solution, or what I wanted to obtain,\r\n\r\n    best.genotype().chromosome().iterator().forEachRemaining(i -&gt; {\r\n            for (double ds : i.allele()) {\r\n                System.out.println(ds);\r\n            }\r\n        });\r\n\r\nwith that I get the list of points of the solution \r\n\r\n    [[D@7cd84586|[D@30dae81|[D@1b2c6ec2|[D@4769b07b|[D@4edde6e5|[D@66a29884|[D@1e80bfe8|[D@70177ecd] -&gt; 12.65685424949238\r\n    1.0\r\n    1.0\r\n    2.0\r\n    2.0\r\n    3.0\r\n    3.0\r\n    3.0\r\n    1.0\r\n    4.0\r\n    1.0\r\n    6.0\r\n    1.0\r\n    6.0\r\n    3.0\r\n    5.0\r\n    4.0","title":"Jenetics: how to interpret and get the result of a chromosome?","body":"<p>I found the solution, or what I wanted to obtain,</p>\n<pre><code>best.genotype().chromosome().iterator().forEachRemaining(i -&gt; {\n        for (double ds : i.allele()) {\n            System.out.println(ds);\n        }\n    });\n</code></pre>\n<p>with that I get the list of points of the solution</p>\n<pre><code>[[D@7cd84586|[D@30dae81|[D@1b2c6ec2|[D@4769b07b|[D@4edde6e5|[D@66a29884|[D@1e80bfe8|[D@70177ecd] -&gt; 12.65685424949238\n1.0\n1.0\n2.0\n2.0\n3.0\n3.0\n3.0\n1.0\n4.0\n1.0\n6.0\n1.0\n6.0\n3.0\n5.0\n4.0\n</code></pre>\n"}],"owner":{"account_id":22841815,"reputation":1,"user_id":16988689,"display_name":"leon kennedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69322344,"answer_count":2,"score":0,"last_activity_date":1632531280,"creation_date":1632437210,"question_id":69307665,"body_markdown":"I practice using this library, Jenetics.io. In their manual they have an example,  Traveling salesman. The example only shows the minimum path found, but does not show the point set or point order of the solution. How do I get the set of points of the solution?\r\n\r\nthe manual.. page 129 [enter link description here][1]\r\n\r\n\r\n  [1]: https://jenetics.io/manual/manual-6.3.0.pdf\r\n  \r\nto run the code, the result:\r\n\r\n    [[D@79fc0f2f|[D@37a71e93|[D@4783da3f|[D@6e2c634b|[D@49097b5d|[D@378fd1ac|[D@5e9f23b4|[D@2dda6444|[D@50040f0c] -&gt; 16.46284073991415\r\n\r\nthe code that I use:\r\n\r\n    public class EncotrarRuta implements Problem&lt;ISeq&lt;double[]&gt;,EnumGene&lt;double[]&gt;,Double&gt;{\r\n\r\n    private final ISeq&lt;double[]&gt; _points;\r\n    private ArrayList&lt;Double&gt; puntosX = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;Double&gt; puntosY = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public EncotrarRuta(ArrayList&lt;Double&gt; puntosX, ArrayList&lt;Double&gt; puntosY) {\r\n        this._points = null;\r\n        this.puntosX = puntosX;\r\n        this.puntosY = puntosY;\r\n    }\r\n    \r\n\r\n    public EncotrarRuta(ISeq&lt;double[]&gt; points) {\r\n        this._points = requireNonNull(points);\r\n    }\r\n    \r\n    @Override\r\n    public Function&lt;ISeq&lt;double[]&gt;, Double&gt; fitness() {\r\n        return p -&gt; IntStream.range(0, p.length())\r\n            .mapToDouble(i -&gt; {\r\n                final double[] p1 = p.get(i);\r\n                final double[] p2 = p.get((i+1)%p.size());\r\n                return hypot(p1[0]-p2[0],p1[1]-p2[1]);\r\n            }).sum();\r\n    }\r\n\r\n    @Override\r\n    public Codec&lt;ISeq&lt;double[]&gt;, EnumGene&lt;double[]&gt;&gt; codec() {\r\n        return Codecs.ofPermutation(_points);\r\n    }\r\n\r\n    public static EncotrarRuta of(ArrayList&lt;Double&gt; puntosX, ArrayList&lt;Double&gt; puntosY){\r\n        final MSeq&lt;double[]&gt; points = MSeq.ofLength(puntosX.size());\r\n        \r\n        for (int i = 0; i &lt; puntosX.size(); i++) {\r\n            points.set(i, new double[]{puntosX.get(i),puntosY.get(i)});\r\n        }\r\n\r\n        return new EncotrarRuta(points.asISeq());\r\n    }\r\n\r\n    public void run() {\r\n\r\n        EncotrarRuta encotrarRuta = EncotrarRuta.of(puntosX, puntosY);\r\n\r\n        Engine&lt;EnumGene&lt;double[]&gt;,Double&gt; engine = Engine\r\n            .builder(encotrarRuta)\r\n            .optimize(Optimize.MINIMUM)\r\n            .maximalPhenotypeAge(11)\r\n            .populationSize(500)\r\n            .alterers(\r\n                new SwapMutator&lt;&gt;(0.2),\r\n                new PartiallyMatchedCrossover&lt;&gt;(0.35))\r\n            .build();\r\n\r\n        EvolutionStatistics&lt;Double, ?&gt; statistics = EvolutionStatistics.ofNumber();\r\n\r\n        Phenotype&lt;EnumGene&lt;double[]&gt;,Double&gt; best = engine.stream()\r\n            .limit(bySteadyFitness(25))\r\n            .limit(250)\r\n            .peek(statistics)\r\n            .collect(toBestPhenotype());\r\n\r\n\r\n        System.out.println(best);\r\n       \r\n\r\n    }\r\n\r\n    \r\n}","title":"Jenetics: how to interpret and get the result of a chromosome?","body":"<p>I practice using this library, Jenetics.io. In their manual they have an example,  Traveling salesman. The example only shows the minimum path found, but does not show the point set or point order of the solution. How do I get the set of points of the solution?</p>\n<p>the manual.. page 129 <a href=\"https://jenetics.io/manual/manual-6.3.0.pdf\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<p>to run the code, the result:</p>\n<pre><code>[[D@79fc0f2f|[D@37a71e93|[D@4783da3f|[D@6e2c634b|[D@49097b5d|[D@378fd1ac|[D@5e9f23b4|[D@2dda6444|[D@50040f0c] -&gt; 16.46284073991415\n</code></pre>\n<p>the code that I use:</p>\n<pre><code>public class EncotrarRuta implements Problem&lt;ISeq&lt;double[]&gt;,EnumGene&lt;double[]&gt;,Double&gt;{\n\nprivate final ISeq&lt;double[]&gt; _points;\nprivate ArrayList&lt;Double&gt; puntosX = new ArrayList&lt;&gt;();\nprivate ArrayList&lt;Double&gt; puntosY = new ArrayList&lt;&gt;();\n\n\npublic EncotrarRuta(ArrayList&lt;Double&gt; puntosX, ArrayList&lt;Double&gt; puntosY) {\n    this._points = null;\n    this.puntosX = puntosX;\n    this.puntosY = puntosY;\n}\n\n\npublic EncotrarRuta(ISeq&lt;double[]&gt; points) {\n    this._points = requireNonNull(points);\n}\n\n@Override\npublic Function&lt;ISeq&lt;double[]&gt;, Double&gt; fitness() {\n    return p -&gt; IntStream.range(0, p.length())\n        .mapToDouble(i -&gt; {\n            final double[] p1 = p.get(i);\n            final double[] p2 = p.get((i+1)%p.size());\n            return hypot(p1[0]-p2[0],p1[1]-p2[1]);\n        }).sum();\n}\n\n@Override\npublic Codec&lt;ISeq&lt;double[]&gt;, EnumGene&lt;double[]&gt;&gt; codec() {\n    return Codecs.ofPermutation(_points);\n}\n\npublic static EncotrarRuta of(ArrayList&lt;Double&gt; puntosX, ArrayList&lt;Double&gt; puntosY){\n    final MSeq&lt;double[]&gt; points = MSeq.ofLength(puntosX.size());\n    \n    for (int i = 0; i &lt; puntosX.size(); i++) {\n        points.set(i, new double[]{puntosX.get(i),puntosY.get(i)});\n    }\n\n    return new EncotrarRuta(points.asISeq());\n}\n\npublic void run() {\n\n    EncotrarRuta encotrarRuta = EncotrarRuta.of(puntosX, puntosY);\n\n    Engine&lt;EnumGene&lt;double[]&gt;,Double&gt; engine = Engine\n        .builder(encotrarRuta)\n        .optimize(Optimize.MINIMUM)\n        .maximalPhenotypeAge(11)\n        .populationSize(500)\n        .alterers(\n            new SwapMutator&lt;&gt;(0.2),\n            new PartiallyMatchedCrossover&lt;&gt;(0.35))\n        .build();\n\n    EvolutionStatistics&lt;Double, ?&gt; statistics = EvolutionStatistics.ofNumber();\n\n    Phenotype&lt;EnumGene&lt;double[]&gt;,Double&gt; best = engine.stream()\n        .limit(bySteadyFitness(25))\n        .limit(250)\n        .peek(statistics)\n        .collect(toBestPhenotype());\n\n\n    System.out.println(best);\n   \n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1631837051,"post_id":69216382,"comment_id":122337239,"body_markdown":"Have you tried `Patient[] patients;`? It would help if you provided all the relevant code to produce a [mre].","body":"Have you tried <code>Patient[] patients;</code>? It would help if you provided all the relevant code to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21711135,"reputation":7,"user_id":16022751,"display_name":"Notjesus1"},"score":0,"creation_date":1631837286,"post_id":69216382,"comment_id":122337273,"body_markdown":"Just added all the relevant code mate","body":"Just added all the relevant code mate"},{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":1,"creation_date":1632530798,"post_id":69216382,"comment_id":122525893,"body_markdown":"Please don&#39;t vandalize your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed, and thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](/help/what-to-do-instead-of-deleting-question).","body":"Please don&#39;t vandalize your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed, and thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"/help/what-to-do-instead-of-deleting-question\">How does deleting work?</a>."}],"answers":[{"tags":[],"owner":{"account_id":4542075,"reputation":666,"user_id":3689646,"accept_rate":100,"display_name":"Amir Saadallah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631837403,"creation_date":1631837403,"answer_id":69216427,"question_id":69216382,"body_markdown":"    // imports\r\n    \r\n    public class PatientFlow {\r\n       private Patient[] patients;\r\n       public PatientFlow(){\r\n          // init array\r\n       }\r\n        \r\n       // other prop\r\n       //  getter &amp; setter\r\n    }\r\n\r\n","title":"Creating an array of objects by parameters","body":"<pre><code>// imports\n\npublic class PatientFlow {\n   private Patient[] patients;\n   public PatientFlow(){\n      // init array\n   }\n    \n   // other prop\n   //  getter &amp; setter\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631839003,"creation_date":1631838687,"answer_id":69216518,"question_id":69216382,"body_markdown":"By the way, in current Java 17, you can reduce that entire `Patient` class to a simple line using the [records](https://openjdk.java.net/jeps/395) feature. \r\n\r\n    record Patient ( String name, String age, String address, String gender, int medicareFinal, String appDay, String time ) {}\r\n\r\nYou do not need your `enum weekdays`. Java provides `DayOfWeek` enum. \r\n\r\nI don’t understand the meaning of multiple `readPatient1()` methods. You should be looping on a single method repeatedly until the user wants to stop. \r\n\r\nYou said:\r\n\r\n&gt; Now my task is to create an array of patient(objects) within the first class (patientFlow)\r\n\r\nSo declare a member field in that class. Size the array to the most number of patients you will book. \r\n\r\n    Patient[] patients = new Patient[ 12 ] ;\r\n\r\nFirst patient goes into the first slot identified by a zero-based index number. \r\n\r\n    patients[ 0 ] = new Patient( … ) ;\r\n\r\nIncrement an index number in your loop to repeatedly add patients. Name your index number something like `int index = 0 ;`\r\n\r\n    patients[ index ] = new Patient( … ) ;\r\n\r\nFYI, in real work we would likely use a `List` rather than a mere array. \r\n\r\nAs for `static`, you are probably having a problem in your `main` method which I don’t see here. And that problem is almost certainly a duplicate of many existing Questions already answered on Stack Overflow. Always search before posting. \r\n","title":"Creating an array of objects by parameters","body":"<p>By the way, in current Java 17, you can reduce that entire <code>Patient</code> class to a simple line using the <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature.</p>\n<pre><code>record Patient ( String name, String age, String address, String gender, int medicareFinal, String appDay, String time ) {}\n</code></pre>\n<p>You do not need your <code>enum weekdays</code>. Java provides <code>DayOfWeek</code> enum.</p>\n<p>I don’t understand the meaning of multiple <code>readPatient1()</code> methods. You should be looping on a single method repeatedly until the user wants to stop.</p>\n<p>You said:</p>\n<blockquote>\n<p>Now my task is to create an array of patient(objects) within the first class (patientFlow)</p>\n</blockquote>\n<p>So declare a member field in that class. Size the array to the most number of patients you will book.</p>\n<pre><code>Patient[] patients = new Patient[ 12 ] ;\n</code></pre>\n<p>First patient goes into the first slot identified by a zero-based index number.</p>\n<pre><code>patients[ 0 ] = new Patient( … ) ;\n</code></pre>\n<p>Increment an index number in your loop to repeatedly add patients. Name your index number something like <code>int index = 0 ;</code></p>\n<pre><code>patients[ index ] = new Patient( … ) ;\n</code></pre>\n<p>FYI, in real work we would likely use a <code>List</code> rather than a mere array.</p>\n<p>As for <code>static</code>, you are probably having a problem in your <code>main</code> method which I don’t see here. And that problem is almost certainly a duplicate of many existing Questions already answered on Stack Overflow. Always search before posting.</p>\n"}],"owner":{"account_id":21711135,"reputation":7,"user_id":16022751,"display_name":"Notjesus1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1632530734,"creation_date":1631836931,"question_id":69216382,"body_markdown":"I have 2 classes, the first class (PatientFlow) contains a constructor, a bunch of getMethods and a toString, no main. The first class cannot output or get read input, only through passed parameters. \r\nThe second class (Patient) asks for the users inputs for some questions such as name, dob etc.. this class runs a bunch of methods aswell. \r\n\r\n    Patient p1 = new Patient(name,dob,address,gender,medicareNum,appDay,time); //Patient created\r\n    //is what is created with all users input and sent to the constructor class\r\n\r\nNow my task is to create an array of patient(objects) within the first class (patientFlow).. but I don&#39;t understand how to do that... I&#39;ve been seriously stuck on this for some days now and its driving me insane.. When I put the main() in the first class, I can&#39;t reference anything because of static.. \r\n\r\n    public class Patient\r\n    {\r\n      private String name, age, address, gender, time, appDay;\r\n      private int medicareFinal;\r\n      private boolean vaccination;\r\n      public Patient (String name, String age, String address, String gender, int medicareFinal, String appDay, String time)\r\n        {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.address = address;\r\n        this.gender = gender;\r\n        this.medicareFinal = medicareFinal;\r\n        this.appDay = appDay;\r\n        this.time = time; \r\n        }\r\n      public String getName()\r\n        { \r\n         return name;\r\n        }\r\n      public String getAddress()\r\n        { \r\n         return address;\r\n        }\r\n      public String getGender()\r\n        { \r\n         return gender;\r\n        }\r\n      public String getTime()\r\n        { \r\n         return time;\r\n        }\r\n      public String getAge()\r\n        {\r\n         return age; \r\n        }\r\n      public int getMedicare()\r\n        {\r\n         return medicareFinal;\r\n        }\r\n      public String getAppDay()\r\n        {\r\n         return appDay;\r\n        }\r\n      public String toString()\r\n        { \r\n         String data; \r\n         data = &quot;Patient Name: &quot;+ name + &quot;\\n&quot;;\r\n         data += &quot;Age/Dob: &quot; + age + &quot;\\n&quot;;\r\n         data += &quot;Address: &quot; + address + &quot;\\n&quot;;\r\n         data += &quot;Gender: &quot; + gender + &quot;\\n&quot;;\r\n         data += &quot;Medicare Number: &quot; + medicareFinal + &quot;\\n&quot;;\r\n         data += &quot;Appointment Day: &quot; + appDay + &quot;\\n&quot;;\r\n         data += &quot;Appointment Time: &quot; + time + &quot;\\n&quot;;\r\n         return data;\r\n        }\r\n    }\r\n\r\n    import java.time.*; // This is used to utilize dates/times\r\n    import java.util.*;\r\n    public class PatientFlow\r\n    {\r\n       Patient p1, p2;\r\n       Scanner scan=new Scanner(System.in); \r\n       enum weekdays {Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday} //enumerated type for Task 4    \r\n       public void readPatient1() //Details of first patient\r\n         {\r\n          System.out.println(&quot;Firstly, what is your full name?&quot;);\r\n          String name = scan.nextLine(); \r\n          System.out.println(name + &quot;, Please enter your date of birth in the correct format yyyy-mm-dd:&quot;);\r\n          String dob = scan.nextLine();\r\n          age(dob); //Calling age method to check if patient is older than 18\r\n          System.out.println(&quot;What is your current residential address?&quot;); \r\n          String address= scan.nextLine();\r\n          System.out.println(&quot;Are you male or female?&quot;);\r\n          String gender = scan.nextLine();\r\n          System.out.println(&quot;What is your 8-digit Medicare number?&quot;);\r\n          int medicareNum = scan.nextInt();\r\n          int medicareFinal = medicare(medicareNum); //Calling medicare method to check if input = 8 numbers\r\n          String shift = scan.nextLine();\r\n          System.out.println(&quot;What day would you like to book the vaccination?&quot;);\r\n          String appDay = scan.nextLine();\r\n          weekdays(appDay); //Calling weekday method which checks availability through enumerated type\r\n          System.out.println(&quot;What time would you like to book on &quot; + appDay + &quot;?&quot;);\r\n          String time = scan.nextLine();\r\n          p1 = new Patient(name,dob,address,gender,medicareNum,appDay,time); //Patient created\r\n          System.out.println(&quot;You have booked in:&quot;);\r\n          System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p1);\r\n          System.out.println(&quot;-----------------------------------------------&quot;);\r\n         }\r\n       public void readPatient2() //Details for the second patient\r\n         {\r\n          System.out.println(&quot;Name of the person attending the second booking:&quot;);\r\n          String name = scan.nextLine(); \r\n          System.out.println(name + &quot;, Please enter your date of birth in the correct format yyyy-mm-dd:&quot;);\r\n          String dob = scan.nextLine();\r\n          age(dob); //Calling age method to check if patient is older than 18\r\n          System.out.println(&quot;What is your current residential address?&quot;); \r\n          String address= scan.nextLine();\r\n          System.out.println(&quot;Are you male or female?&quot;);\r\n          String gender = scan.nextLine();\r\n          System.out.println(&quot;What is your 8 digit medicare number?&quot;);\r\n          int medicareNum = scan.nextInt();\r\n          int medicareFinal = medicare(medicareNum); //Calling medicare method to check if input = 8 numbers\r\n          String shift = scan.nextLine(); //Using this to catch the users &#39;enter&#39; input\r\n          System.out.println(&quot;What day would you like to book the vaccination?&quot;);\r\n          String appDay = scan.nextLine();\r\n          weekdays(appDay); //Calling weekday method which checks availability through enumerated type\r\n          System.out.println(&quot;What time would you like to book on &quot; + appDay + &quot;?&quot;);\r\n          String time = scan.nextLine();\r\n          p2 = new Patient(name,dob,address,gender,medicareNum,appDay,time); //Patient created\r\n          System.out.println(&quot;Thank you for using this online booking service.&quot;);\r\n          System.out.println(&quot;You have booked in:&quot;);\r\n          System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p2);\r\n          System.out.println(&quot;-----------------------------------------------&quot;);\r\n         }\r\n       public void age(String dob) //Method for DOB\r\n         {\r\n          Scanner scan = new Scanner(System.in); //Retrieving User inputs\r\n          String answer, consent;\r\n          LocalDate dateOfBirth = LocalDate.parse(dob); // Convert string input to date format\r\n          LocalDate currDate = LocalDate.now(); // Get todays date: yyyy-mm-dd\r\n          Period period = Period.between(currDate, dateOfBirth); // Get the difference between the two dates\r\n          int age  = Math.abs(period.getYears()); // Isolate the number of years to get proper age format\r\n          if (age &lt; 18)\r\n          {\r\n            System.out.println(&quot;Sorry, because you are &quot; + age + &quot; years old, it is illegal to book you an appointment. You must be 18 to book this service.&quot;);\r\n            System.out.println(&quot;If an adult is with you, type &#39;yes&#39; to continue. If not, try booking again later. Thank you&quot;);\r\n            answer = scan.nextLine();\r\n            if (answer.equals(&quot;yes&quot;))\r\n            {\r\n              System.out.println(&quot;Continuing booking process...&quot;);\r\n            } else\r\n            {\r\n              System.out.println(&quot;You need an adult with you in order to continue this booking.&quot;);\r\n              System.exit(0);   //Terminates if person is under 18 without adult\r\n            }\r\n          } //returning values\r\n         }\r\n       public static int medicare(int medicareNum) //Method for medicare\r\n         {\r\n           Scanner scan = new Scanner(System.in);\r\n           String correct, shift;\r\n           int medicareFinal = medicareNum;\r\n           int medicaretemp;\r\n           int length = String.valueOf(medicareNum).length(); // Int conversion to string length\r\n           if (length == 8) // If statement to proceed with correct detail\r\n           {\r\n             System.out.println(medicareNum +&quot;, Are you sure this is the correct number? This information is very important. &#39;yes&#39; or &#39;no&#39;&quot;);\r\n             correct = scan.nextLine();\r\n             if (correct.equals(&quot;yes&quot;)) // Nested if statement\r\n             {                     \r\n               System.out.println(&quot;Thank you, please continue with the booking&quot;);\r\n               medicareFinal = medicareNum;\r\n             } else\r\n             {\r\n               length = 0;\r\n             }\r\n           }\r\n           while (length != 8) // while loop to get correct size of input \r\n            {   System.out.println(&quot;You haven&#39;t input the correct amount of numbers in. Please try again.&quot;);\r\n                medicaretemp = scan.nextInt();\r\n                medicareFinal = medicaretemp;\r\n                shift = scan.nextLine(); //Using this to catch the users &#39;enter&#39; input\r\n                int lengthNew = String.valueOf(medicaretemp).length(); // Conversion of int to String\r\n                if (lengthNew == 8)\r\n                {\r\n                  System.out.println(medicaretemp +&quot;, Is this new number correct? This information is very important. &#39;yes&#39; or &#39;no&#39;&quot;);\r\n                  correct = scan.nextLine();\r\n                  if (correct.equals(&quot;yes&quot;))\r\n                  {\r\n                    medicareFinal = medicaretemp;\r\n                    System.out.println(&quot;Thank you, please continue with the booking&quot;);\r\n                    break; //Breaking loop if requirement is met\r\n                  } else\r\n                  {\r\n                    length = 0;\r\n                  }\r\n                }\r\n            } \r\n            return medicareFinal; // return value\r\n        }\r\n       public void weekdays(String appDay)\r\n         {    \r\n          boolean dayAvail = false;\r\n          for(weekdays day : weekdays.values())\r\n             {\r\n              if (appDay.equalsIgnoreCase(day.name())) \r\n              {\r\n                dayAvail = true;\r\n                System.out.println(appDay + &quot; is available for your appointment.&quot;);\r\n                break;\r\n              }\r\n             }\r\n          if (!dayAvail)\r\n          {\r\n            System.err.println( &quot;This day is not available..&quot; ); // Shows error message, will put exception in there for Assignment 3      \r\n          } \r\n         }\r\n       public void confirmation()\r\n         {\r\n          int answer;\r\n          String shift;\r\n          System.out.println(&quot;Are the details correct for both patients or do they need modifying?&quot;);\r\n          System.out.println(&quot;Press &#39;1&#39; to modify &quot; + p1.getName() + &quot;, press &#39;2&#39; to modify &quot; + p2.getName() + &quot;, or press 3 to complete booking&quot;);\r\n          answer = scan.nextInt();\r\n          shift = scan.nextLine(); //Using this to catch the users &#39;enter&#39; input\r\n          if (answer==1)\r\n          {\r\n            readPatient1(); //Calls back to Patient 1 method\r\n            confirmation();\r\n          }\r\n          if (answer==2)\r\n          {\r\n            readPatient2(); //Calls back to Patient 2 method\r\n            confirmation();\r\n          }\r\n          if (answer==3)\r\n          {\r\n            System.out.println(&quot;Thank you for using this online booking service.&quot;);\r\n            System.out.println(&quot;You have booked in:&quot;);\r\n            System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p1);\r\n            System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p2);\r\n            System.out.println(&quot;-----------------------------------------------&quot;);\r\n            System.out.println(&quot;Remember to come 10 minutes early and sign in with the appropriate applications! Both appointments will be held at the AIS&quot;);\r\n            System.exit(0); //Exit program when user is happy with details\r\n          }\r\n         }\r\n       public void PatientBook()\r\n         {\r\n          String answer;\r\n          System.out.println(&quot;\\n&quot;);\r\n          System.out.println(&quot;Would you like to add another appointment? &#39;yes&#39; or &#39;no&#39;&quot;);\r\n          answer = scan.nextLine();\r\n          switch (answer) //Using a switch to dictate which methods are required next\r\n            {\r\n              case (&quot;yes&quot;):\r\n                  readPatient2();\r\n                  confirmation();\r\n              case (&quot;no&quot;):\r\n                    System.out.println(&quot;Thank you for using this online booking service.&quot;);\r\n             System.out.println(&quot;You have booked in:&quot;);\r\n             System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p1);\r\n             System.out.println(&quot;-----------------------------------------------&quot;);\r\n             System.out.println(&quot;Remember to come 10 minutes early and sign in with the appropriate applications! Your appointment will be held at the AIS&quot;);\r\n             System.exit(0);\r\n            }\r\n         }\r\n       public void init() //method to call all methods when required\r\n         {\r\n          start();\r\n          readPatient1();\r\n          PatientBook();\r\n          readPatient2();\r\n          confirmation();\r\n         }\r\n       public static void main(String [] args)\r\n         {\r\n          PatientFlow pf = new PatientFlow(); //Creating the object\r\n          pf.init();\r\n         }\r\n    }\r\n\r\nHow can I fix this?","title":"Creating an array of objects by parameters","body":"<p>I have 2 classes, the first class (PatientFlow) contains a constructor, a bunch of getMethods and a toString, no main. The first class cannot output or get read input, only through passed parameters.\nThe second class (Patient) asks for the users inputs for some questions such as name, dob etc.. this class runs a bunch of methods aswell.</p>\n<pre><code>Patient p1 = new Patient(name,dob,address,gender,medicareNum,appDay,time); //Patient created\n//is what is created with all users input and sent to the constructor class\n</code></pre>\n<p>Now my task is to create an array of patient(objects) within the first class (patientFlow).. but I don't understand how to do that... I've been seriously stuck on this for some days now and its driving me insane.. When I put the main() in the first class, I can't reference anything because of static..</p>\n<pre><code>public class Patient\n{\n  private String name, age, address, gender, time, appDay;\n  private int medicareFinal;\n  private boolean vaccination;\n  public Patient (String name, String age, String address, String gender, int medicareFinal, String appDay, String time)\n    {\n    this.name = name;\n    this.age = age;\n    this.address = address;\n    this.gender = gender;\n    this.medicareFinal = medicareFinal;\n    this.appDay = appDay;\n    this.time = time; \n    }\n  public String getName()\n    { \n     return name;\n    }\n  public String getAddress()\n    { \n     return address;\n    }\n  public String getGender()\n    { \n     return gender;\n    }\n  public String getTime()\n    { \n     return time;\n    }\n  public String getAge()\n    {\n     return age; \n    }\n  public int getMedicare()\n    {\n     return medicareFinal;\n    }\n  public String getAppDay()\n    {\n     return appDay;\n    }\n  public String toString()\n    { \n     String data; \n     data = &quot;Patient Name: &quot;+ name + &quot;\\n&quot;;\n     data += &quot;Age/Dob: &quot; + age + &quot;\\n&quot;;\n     data += &quot;Address: &quot; + address + &quot;\\n&quot;;\n     data += &quot;Gender: &quot; + gender + &quot;\\n&quot;;\n     data += &quot;Medicare Number: &quot; + medicareFinal + &quot;\\n&quot;;\n     data += &quot;Appointment Day: &quot; + appDay + &quot;\\n&quot;;\n     data += &quot;Appointment Time: &quot; + time + &quot;\\n&quot;;\n     return data;\n    }\n}\n\nimport java.time.*; // This is used to utilize dates/times\nimport java.util.*;\npublic class PatientFlow\n{\n   Patient p1, p2;\n   Scanner scan=new Scanner(System.in); \n   enum weekdays {Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday} //enumerated type for Task 4    \n   public void readPatient1() //Details of first patient\n     {\n      System.out.println(&quot;Firstly, what is your full name?&quot;);\n      String name = scan.nextLine(); \n      System.out.println(name + &quot;, Please enter your date of birth in the correct format yyyy-mm-dd:&quot;);\n      String dob = scan.nextLine();\n      age(dob); //Calling age method to check if patient is older than 18\n      System.out.println(&quot;What is your current residential address?&quot;); \n      String address= scan.nextLine();\n      System.out.println(&quot;Are you male or female?&quot;);\n      String gender = scan.nextLine();\n      System.out.println(&quot;What is your 8-digit Medicare number?&quot;);\n      int medicareNum = scan.nextInt();\n      int medicareFinal = medicare(medicareNum); //Calling medicare method to check if input = 8 numbers\n      String shift = scan.nextLine();\n      System.out.println(&quot;What day would you like to book the vaccination?&quot;);\n      String appDay = scan.nextLine();\n      weekdays(appDay); //Calling weekday method which checks availability through enumerated type\n      System.out.println(&quot;What time would you like to book on &quot; + appDay + &quot;?&quot;);\n      String time = scan.nextLine();\n      p1 = new Patient(name,dob,address,gender,medicareNum,appDay,time); //Patient created\n      System.out.println(&quot;You have booked in:&quot;);\n      System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p1);\n      System.out.println(&quot;-----------------------------------------------&quot;);\n     }\n   public void readPatient2() //Details for the second patient\n     {\n      System.out.println(&quot;Name of the person attending the second booking:&quot;);\n      String name = scan.nextLine(); \n      System.out.println(name + &quot;, Please enter your date of birth in the correct format yyyy-mm-dd:&quot;);\n      String dob = scan.nextLine();\n      age(dob); //Calling age method to check if patient is older than 18\n      System.out.println(&quot;What is your current residential address?&quot;); \n      String address= scan.nextLine();\n      System.out.println(&quot;Are you male or female?&quot;);\n      String gender = scan.nextLine();\n      System.out.println(&quot;What is your 8 digit medicare number?&quot;);\n      int medicareNum = scan.nextInt();\n      int medicareFinal = medicare(medicareNum); //Calling medicare method to check if input = 8 numbers\n      String shift = scan.nextLine(); //Using this to catch the users 'enter' input\n      System.out.println(&quot;What day would you like to book the vaccination?&quot;);\n      String appDay = scan.nextLine();\n      weekdays(appDay); //Calling weekday method which checks availability through enumerated type\n      System.out.println(&quot;What time would you like to book on &quot; + appDay + &quot;?&quot;);\n      String time = scan.nextLine();\n      p2 = new Patient(name,dob,address,gender,medicareNum,appDay,time); //Patient created\n      System.out.println(&quot;Thank you for using this online booking service.&quot;);\n      System.out.println(&quot;You have booked in:&quot;);\n      System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p2);\n      System.out.println(&quot;-----------------------------------------------&quot;);\n     }\n   public void age(String dob) //Method for DOB\n     {\n      Scanner scan = new Scanner(System.in); //Retrieving User inputs\n      String answer, consent;\n      LocalDate dateOfBirth = LocalDate.parse(dob); // Convert string input to date format\n      LocalDate currDate = LocalDate.now(); // Get todays date: yyyy-mm-dd\n      Period period = Period.between(currDate, dateOfBirth); // Get the difference between the two dates\n      int age  = Math.abs(period.getYears()); // Isolate the number of years to get proper age format\n      if (age &lt; 18)\n      {\n        System.out.println(&quot;Sorry, because you are &quot; + age + &quot; years old, it is illegal to book you an appointment. You must be 18 to book this service.&quot;);\n        System.out.println(&quot;If an adult is with you, type 'yes' to continue. If not, try booking again later. Thank you&quot;);\n        answer = scan.nextLine();\n        if (answer.equals(&quot;yes&quot;))\n        {\n          System.out.println(&quot;Continuing booking process...&quot;);\n        } else\n        {\n          System.out.println(&quot;You need an adult with you in order to continue this booking.&quot;);\n          System.exit(0);   //Terminates if person is under 18 without adult\n        }\n      } //returning values\n     }\n   public static int medicare(int medicareNum) //Method for medicare\n     {\n       Scanner scan = new Scanner(System.in);\n       String correct, shift;\n       int medicareFinal = medicareNum;\n       int medicaretemp;\n       int length = String.valueOf(medicareNum).length(); // Int conversion to string length\n       if (length == 8) // If statement to proceed with correct detail\n       {\n         System.out.println(medicareNum +&quot;, Are you sure this is the correct number? This information is very important. 'yes' or 'no'&quot;);\n         correct = scan.nextLine();\n         if (correct.equals(&quot;yes&quot;)) // Nested if statement\n         {                     \n           System.out.println(&quot;Thank you, please continue with the booking&quot;);\n           medicareFinal = medicareNum;\n         } else\n         {\n           length = 0;\n         }\n       }\n       while (length != 8) // while loop to get correct size of input \n        {   System.out.println(&quot;You haven't input the correct amount of numbers in. Please try again.&quot;);\n            medicaretemp = scan.nextInt();\n            medicareFinal = medicaretemp;\n            shift = scan.nextLine(); //Using this to catch the users 'enter' input\n            int lengthNew = String.valueOf(medicaretemp).length(); // Conversion of int to String\n            if (lengthNew == 8)\n            {\n              System.out.println(medicaretemp +&quot;, Is this new number correct? This information is very important. 'yes' or 'no'&quot;);\n              correct = scan.nextLine();\n              if (correct.equals(&quot;yes&quot;))\n              {\n                medicareFinal = medicaretemp;\n                System.out.println(&quot;Thank you, please continue with the booking&quot;);\n                break; //Breaking loop if requirement is met\n              } else\n              {\n                length = 0;\n              }\n            }\n        } \n        return medicareFinal; // return value\n    }\n   public void weekdays(String appDay)\n     {    \n      boolean dayAvail = false;\n      for(weekdays day : weekdays.values())\n         {\n          if (appDay.equalsIgnoreCase(day.name())) \n          {\n            dayAvail = true;\n            System.out.println(appDay + &quot; is available for your appointment.&quot;);\n            break;\n          }\n         }\n      if (!dayAvail)\n      {\n        System.err.println( &quot;This day is not available..&quot; ); // Shows error message, will put exception in there for Assignment 3      \n      } \n     }\n   public void confirmation()\n     {\n      int answer;\n      String shift;\n      System.out.println(&quot;Are the details correct for both patients or do they need modifying?&quot;);\n      System.out.println(&quot;Press '1' to modify &quot; + p1.getName() + &quot;, press '2' to modify &quot; + p2.getName() + &quot;, or press 3 to complete booking&quot;);\n      answer = scan.nextInt();\n      shift = scan.nextLine(); //Using this to catch the users 'enter' input\n      if (answer==1)\n      {\n        readPatient1(); //Calls back to Patient 1 method\n        confirmation();\n      }\n      if (answer==2)\n      {\n        readPatient2(); //Calls back to Patient 2 method\n        confirmation();\n      }\n      if (answer==3)\n      {\n        System.out.println(&quot;Thank you for using this online booking service.&quot;);\n        System.out.println(&quot;You have booked in:&quot;);\n        System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p1);\n        System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p2);\n        System.out.println(&quot;-----------------------------------------------&quot;);\n        System.out.println(&quot;Remember to come 10 minutes early and sign in with the appropriate applications! Both appointments will be held at the AIS&quot;);\n        System.exit(0); //Exit program when user is happy with details\n      }\n     }\n   public void PatientBook()\n     {\n      String answer;\n      System.out.println(&quot;\\n&quot;);\n      System.out.println(&quot;Would you like to add another appointment? 'yes' or 'no'&quot;);\n      answer = scan.nextLine();\n      switch (answer) //Using a switch to dictate which methods are required next\n        {\n          case (&quot;yes&quot;):\n              readPatient2();\n              confirmation();\n          case (&quot;no&quot;):\n                System.out.println(&quot;Thank you for using this online booking service.&quot;);\n         System.out.println(&quot;You have booked in:&quot;);\n         System.out.println(&quot;-----------------------------------------------&quot; + &quot;\\n&quot; + p1);\n         System.out.println(&quot;-----------------------------------------------&quot;);\n         System.out.println(&quot;Remember to come 10 minutes early and sign in with the appropriate applications! Your appointment will be held at the AIS&quot;);\n         System.exit(0);\n        }\n     }\n   public void init() //method to call all methods when required\n     {\n      start();\n      readPatient1();\n      PatientBook();\n      readPatient2();\n      confirmation();\n     }\n   public static void main(String [] args)\n     {\n      PatientFlow pf = new PatientFlow(); //Creating the object\n      pf.init();\n     }\n}\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","concurrency","binary","boolean","combinations"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":2,"creation_date":1632526753,"post_id":69321964,"comment_id":122525338,"body_markdown":"Since starting thread is quite an expensive operation it somewhat does not matter how complex code is to decide when to start new thread... But at this point it is quite unclear what exactly you have problem with - it seem you just need to start 31 thread corresponding to values 1-31 (skipping 00000)... Maybe [edit] the question to show code you have and brief explanation what part you measured already and found that it needs optimization.","body":"Since starting thread is quite an expensive operation it somewhat does not matter how complex code is to decide when to start new thread... But at this point it is quite unclear what exactly you have problem with - it seem you just need to start 31 thread corresponding to values 1-31 (skipping 00000)... Maybe <a href=\"https://stackoverflow.com/posts/69321964/edit\">edit</a> the question to show code you have and brief explanation what part you measured already and found that it needs optimization."},{"owner":{"account_id":3194540,"reputation":23,"user_id":2698033,"display_name":"user2698033"},"score":0,"creation_date":1632527186,"post_id":69321964,"comment_id":122525389,"body_markdown":"Hi Alexei! I didn&#39;t code it yet, just seeing what would be the best (or at least good) approach. Im sorry but i don&#39;t need to start 31 threads, i just need to start a thread for each combination of true bits. The thing is that i have to test all 31 combinations that have a true bit, and thats for 5 bits. Maybe if then there are more bits the thing starts to get bigger. My question was if this was the only approach.","body":"Hi Alexei! I didn&#39;t code it yet, just seeing what would be the best (or at least good) approach. Im sorry but i don&#39;t need to start 31 threads, i just need to start a thread for each combination of true bits. The thing is that i have to test all 31 combinations that have a true bit, and thats for 5 bits. Maybe if then there are more bits the thing starts to get bigger. My question was if this was the only approach."}],"answers":[{"tags":[],"owner":{"account_id":13597557,"reputation":358,"user_id":9809131,"display_name":"Timur Efimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632530345,"creation_date":1632527029,"answer_id":69322046,"question_id":69321964,"body_markdown":"I think the only way to do it faster is through pre-calculation.\r\n\r\nSo, `String[][] arr;` and `for (String a : arr[5]) {/* thread creation etc */}` should be used. \r\n\r\nWhere &#39;5&#39; it is &#39;00101&#39;.\r\n\r\nAlso might helps: `Integer.toBinaryString(5)` and `(int) Long.parseLong(&quot;00101&quot;, 2)`.","title":"New thread per each boolean true combination","body":"<p>I think the only way to do it faster is through pre-calculation.</p>\n<p>So, <code>String[][] arr;</code> and <code>for (String a : arr[5]) {/* thread creation etc */}</code> should be used.</p>\n<p>Where '5' it is '00101'.</p>\n<p>Also might helps: <code>Integer.toBinaryString(5)</code> and <code>(int) Long.parseLong(&quot;00101&quot;, 2)</code>.</p>\n"}],"owner":{"account_id":3194540,"reputation":23,"user_id":2698033,"display_name":"user2698033"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632552358,"accepted_answer_id":69322046,"answer_count":1,"score":0,"last_activity_date":1632530345,"creation_date":1632526176,"question_id":69321964,"body_markdown":"I have a doubt about what would be the better way to achieve this:\r\n\r\nI have a Class that contains 5 boolean variables (example: 11111, being one combination). Now, the thing is that I&#39;m gonna start a new thread per each true combination, meaning that if i have 11000 i want to start a thread for 11000, another for 10000 and the last one for 01000.\r\n\r\nI have to know all the values of the input combinations. The most obvious and inefficient way would be just comparing all the 32 (in this case) combinations (00000, 00001, etc.) and starting only when and AND of that and the actual value (11000) is != 0, that would be the cases that i previous mentioned (11000, 10000 and 01000).\r\n\r\nIn that case I&#39;m gonna have to do 32 comparisons every single time. The thing is that if then i have 6 booleans now i have to do 64, and so on.\r\n\r\nAnyone can think of a better strategy to &quot;capture&quot; every combination?\r\n","title":"New thread per each boolean true combination","body":"<p>I have a doubt about what would be the better way to achieve this:</p>\n<p>I have a Class that contains 5 boolean variables (example: 11111, being one combination). Now, the thing is that I'm gonna start a new thread per each true combination, meaning that if i have 11000 i want to start a thread for 11000, another for 10000 and the last one for 01000.</p>\n<p>I have to know all the values of the input combinations. The most obvious and inefficient way would be just comparing all the 32 (in this case) combinations (00000, 00001, etc.) and starting only when and AND of that and the actual value (11000) is != 0, that would be the cases that i previous mentioned (11000, 10000 and 01000).</p>\n<p>In that case I'm gonna have to do 32 comparisons every single time. The thing is that if then i have 6 booleans now i have to do 64, and so on.</p>\n<p>Anyone can think of a better strategy to &quot;capture&quot; every combination?</p>\n"},{"tags":["java","csv","bufferedreader","filereader","printwriter"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632527352,"post_id":69321992,"comment_id":122525414,"body_markdown":"Why do you want to add something to the file just to delete it afterward?","body":"Why do you want to add something to the file just to delete it afterward?"},{"owner":{"account_id":22829649,"reputation":21,"user_id":16978357,"display_name":"Jaret Daly"},"score":0,"creation_date":1632527424,"post_id":69321992,"comment_id":122525425,"body_markdown":"So I can rerun the code. If I run it repeatedly, then the new gamer gets added every iteration. @Jo&#227;oDias","body":"So I can rerun the code. If I run it repeatedly, then the new gamer gets added every iteration. @Jo&#227;oDias"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1632527642,"post_id":69321992,"comment_id":122525457,"body_markdown":"You can&#39;t open the file in append mode. This will not remove any data from the file. 1) You need to read the data into your ArrayList and close the file. 2) Delete the last item in the ArrayList.  3) Then open the file for output and then write the data from the ArrayList to the file.","body":"You can&#39;t open the file in append mode. This will not remove any data from the file. 1) You need to read the data into your ArrayList and close the file. 2) Delete the last item in the ArrayList.  3) Then open the file for output and then write the data from the ArrayList to the file."},{"owner":{"account_id":22829649,"reputation":21,"user_id":16978357,"display_name":"Jaret Daly"},"score":0,"creation_date":1632527783,"post_id":69321992,"comment_id":122525468,"body_markdown":"How would I go about deleting the last item in the Arraylist? @camickr","body":"How would I go about deleting the last item in the Arraylist? @camickr"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1632527835,"post_id":69321992,"comment_id":122525477,"body_markdown":"If you are introduced to a new class then take the time to read the API first. This way you get an idea of all the functionality the class provides. That is how you learn about different classes in the JDK. There is a method that gives you the number of items in the ArrayList and a method to remove a specific item.","body":"If you are introduced to a new class then take the time to read the API first. This way you get an idea of all the functionality the class provides. That is how you learn about different classes in the JDK. There is a method that gives you the number of items in the ArrayList and a method to remove a specific item."},{"owner":{"account_id":22829649,"reputation":21,"user_id":16978357,"display_name":"Jaret Daly"},"score":0,"creation_date":1632528635,"post_id":69321992,"comment_id":122525577,"body_markdown":"I&#39;m doing some reading and I&#39;m seeing that the File class does not have a close() method. Also in my code I am using an array rather than an ArrayList. @camickr","body":"I&#39;m doing some reading and I&#39;m seeing that the File class does not have a close() method. Also in my code I am using an array rather than an ArrayList. @camickr"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1632529280,"post_id":69321992,"comment_id":122525669,"body_markdown":"You already have the `close()` method. This is not new. The point is you can&#39;t delete data from a file. You need to completely recreate the file. So you need to read all the data into memory and then write the memory back to the file (except for the last line). I suggested using an ArrayList as your &quot;memory&quot; since you don&#39;t need to know how many lines are in the file. You are using an Array to process the data in each line. That does not change.","body":"You already have the <code>close()</code> method. This is not new. The point is you can&#39;t delete data from a file. You need to completely recreate the file. So you need to read all the data into memory and then write the memory back to the file (except for the last line). I suggested using an ArrayList as your &quot;memory&quot; since you don&#39;t need to know how many lines are in the file. You are using an Array to process the data in each line. That does not change."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632530466,"post_id":69321992,"comment_id":122525846,"body_markdown":"Sure, but what is the purpose of it? Why adding it and then delete it? What is the actual use case that you are trying to tackle? that is my actual question.","body":"Sure, but what is the purpose of it? Why adding it and then delete it? What is the actual use case that you are trying to tackle? that is my actual question."}],"answers":[{"tags":[],"owner":{"account_id":21981657,"reputation":31,"user_id":16256598,"display_name":"Sergi7"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632528555,"creation_date":1632528555,"answer_id":69322148,"question_id":69321992,"body_markdown":"When you have a while loop with this condition:\r\n`line = br.readLine() != null`\r\nYou could change it to something like this:\r\n\r\n\r\n    line = br.readLine();\r\n    while(line != null){\r\n       your code here...\r\n    } // end loop\r\n\r\nYou could make a temporary variable to store the line you&#39;re using on the loop, and in case the code exits finally the loop, get that line and delete it from the csv.\r\n\r\nPS: Sorry if I didn&#39;t explain myself as good as I would like, just starting on this.\r\nGood luck!\r\n\r\n","title":"How do I read data from a csv file, store it to memory, then write the memory back into the csv file(while removing the last line that was read)?","body":"<p>When you have a while loop with this condition:\n<code>line = br.readLine() != null</code>\nYou could change it to something like this:</p>\n<pre><code>line = br.readLine();\nwhile(line != null){\n   your code here...\n} // end loop\n</code></pre>\n<p>You could make a temporary variable to store the line you're using on the loop, and in case the code exits finally the loop, get that line and delete it from the csv.</p>\n<p>PS: Sorry if I didn't explain myself as good as I would like, just starting on this.\nGood luck!</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632530185,"creation_date":1632530185,"answer_id":69322257,"question_id":69321992,"body_markdown":"A most basic example of writing data from an ArrayList:\r\n\r\n\tpublic static void main(String[] args) throws Exception\r\n\t{\r\n\t\tArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n\t\tlines.add(&quot;one&quot;);\r\n\t\tlines.add(&quot;two&quot;);\r\n\t\tlines.add(&quot;three&quot;);\r\n\r\n\t\tFile file = new File(&quot;testing.txt&quot;);\r\n\t\tBufferedWriter writer = new BufferedWriter( new FileWriter( file ) );\r\n\r\n\t\tfor (int i = 0; i &lt; lines.size(); i++)\r\n\t\t{\r\n\t\t\tif (i &gt; 0)\r\n\t\t\t\twriter.newLine();\r\n\r\n\t\t\twriter.write( lines.get(i) );\r\n\t\t}\r\n\r\n\t\twriter.close();\r\n\t}\r\n\r\nSo you first need to read your data into the ArrayList and delete the last item before writing out the data in the ArrayList.","title":"How do I read data from a csv file, store it to memory, then write the memory back into the csv file(while removing the last line that was read)?","body":"<p>A most basic example of writing data from an ArrayList:</p>\n<pre><code>public static void main(String[] args) throws Exception\n{\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    lines.add(&quot;one&quot;);\n    lines.add(&quot;two&quot;);\n    lines.add(&quot;three&quot;);\n\n    File file = new File(&quot;testing.txt&quot;);\n    BufferedWriter writer = new BufferedWriter( new FileWriter( file ) );\n\n    for (int i = 0; i &lt; lines.size(); i++)\n    {\n        if (i &gt; 0)\n            writer.newLine();\n\n        writer.write( lines.get(i) );\n    }\n\n    writer.close();\n}\n</code></pre>\n<p>So you first need to read your data into the ArrayList and delete the last item before writing out the data in the ArrayList.</p>\n"}],"owner":{"account_id":22829649,"reputation":21,"user_id":16978357,"display_name":"Jaret Daly"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1632530185,"creation_date":1632526479,"question_id":69321992,"body_markdown":"My code uses a buffered reader to read a file with a list of values, and my FileWriter adds another gamer to the list. Whenever I go to run my code, the new gamer is added repeatedly. How do I read the data into memory and then write the memory back into the file without the last line added?\r\n\r\nInput:\r\n```java\r\npackage week3assignment;\r\n\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Jaret_Dalrymple_GamesReport {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tFile gameScores = new File(&quot;C:\\\\Users\\\\jaret\\\\OneDrive\\\\Desktop\\\\GameScores.csv&quot;);\r\n\t\treadWrite(gameScores);\r\n\t\taddGamer(gameScores, &quot;Jimmy&quot;, &quot;189&quot;, &quot;190&quot;, &quot;197&quot;, &quot;199&quot;, &quot;198&quot;, &quot;193&quot;, &quot;199&quot;, &quot;199&quot;, &quot;188&quot;, &quot;196&quot;);\r\n\t\treadWrite2(gameScores);\r\n\t}\r\n\r\n\tprivate static void readWrite(File gameScores) throws IOException {\r\n\r\n\t\tif (gameScores.exists()) {\r\n\t\t\tBufferedReader br = null;\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\tString csvSplitBy = &quot;,&quot;;\r\n\t\t\tint gamerCount = 0;\r\n\t\t\tint topScore = 0;\r\n\t\t\tString topScorer = &quot;&quot;;\r\n\t\t\tbr = new BufferedReader(new FileReader(gameScores));\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Games Report&quot;);\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Gamer\t1\t2\t3\t4\t5\t6\t7&quot;);\r\n\t\t\tSystem.out.println(&quot;\t8\t9\t10\tTotal&quot;);\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tString list[] = new String[10];\r\n\t\t\t\tlist = line.split(csvSplitBy);\r\n\t\t\t\tint sum = 0;\r\n\r\n\t\t\t\tfor (String element : list) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tInteger num = Integer.parseInt(element);\r\n\t\t\t\t\t\tsum += num;\r\n\t\t\t\t\t} catch (NumberFormatException nfe) {\r\n\t\t\t\t\t\tSystem.out.print(list[0] + &quot;\\t&quot; + list[1] + (list[1].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[2]\r\n\t\t\t\t\t\t\t\t+ (list[2].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[3]\r\n\t\t\t\t\t\t\t\t+ (list[3].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[4]\r\n\t\t\t\t\t\t\t\t+ (list[4].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[5]\r\n\t\t\t\t\t\t\t\t+ (list[5].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[6]\r\n\t\t\t\t\t\t\t\t+ (list[6].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[7]\r\n\t\t\t\t\t\t\t\t+ (list[7].length() &gt; 10 ? &quot;\\n\\t&quot; : &quot;\\n\\t&quot;) + list[8]\r\n\t\t\t\t\t\t\t\t+ (list[8].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[9]\r\n\t\t\t\t\t\t\t\t+ (list[9].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[10] + &quot;\\t&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sum &gt; topScore) {\r\n\t\t\t\t\ttopScore = sum;\r\n\t\t\t\t\ttopScorer = list[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tSystem.out.println(sum);\r\n\t\t\t\tgamerCount++;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;# of Gamers:\t&quot; + gamerCount);\r\n\t\t\tSystem.out.println(&quot;Top Gamer:\t&quot; + topScorer);\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tbr.close();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void addGamer(File gameScores, String first, String second, String third, String fourth,\r\n\t\t\tString fifth, String sixth, String seventh, String eighth, String ninth, String tenth, String eleventh)\r\n\t\t\tthrows IOException {\r\n\t\tFileWriter newGamer = new FileWriter(gameScores, true);\r\n\t\tnewGamer.write(&quot;\\n&quot; + first + &quot;,&quot; + second + &quot;,&quot; + third + &quot;,&quot; + fourth + &quot;,&quot; + fifth + &quot;,&quot; + sixth + &quot;,&quot; + \r\n\t\tseventh + &quot;,&quot; + eighth + &quot;,&quot; + ninth + &quot;,&quot; + tenth + &quot;,&quot; + eleventh);\r\n\t\tnewGamer.close();\r\n\t\tSystem.out.println(&quot;Gamer Jimmy record added.&quot;);;\r\n\t}\r\n\r\n\tprivate static void readWrite2(File gameScores) throws IOException {\r\n\r\n\t\tif (gameScores.exists()) {\r\n\t\t\tBufferedReader br = null;\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\tString csvSplitBy = &quot;,&quot;;\r\n\t\t\tint gamerCount = 0;\r\n\t\t\tint topScore = 0;\r\n\t\t\tString topScorer = &quot;&quot;;\r\n\t\t\tFileWriter fw = new FileWriter(gameScores, true);\r\n\t\t\tbr = new BufferedReader(new FileReader(gameScores));\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Games Report&quot;);\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Gamer\t1\t2\t3\t4\t5\t6\t7&quot;);\r\n\t\t\tSystem.out.println(&quot;\t8\t9\t10\tTotal&quot;);\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tString list[] = new String[10];\r\n\t\t\t\tlist = line.split(csvSplitBy);\r\n\t\t\t\tint sum = 0;\r\n\r\n\t\t\t\tfor (String element : list) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tInteger num = Integer.parseInt(element);\r\n\t\t\t\t\t\tsum += num;\r\n\t\t\t\t\t} catch (NumberFormatException nfe) {\r\n\t\t\t\t\t\tSystem.out.print(list[0] + &quot;\\t&quot; + list[1] + (list[1].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[2]\r\n\t\t\t\t\t\t\t\t+ (list[2].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[3]\r\n\t\t\t\t\t\t\t\t+ (list[3].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[4]\r\n\t\t\t\t\t\t\t\t+ (list[4].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[5]\r\n\t\t\t\t\t\t\t\t+ (list[5].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[6]\r\n\t\t\t\t\t\t\t\t+ (list[6].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[7]\r\n\t\t\t\t\t\t\t\t+ (list[7].length() &gt; 10 ? &quot;\\n\\t&quot; : &quot;\\n\\t&quot;) + list[8]\r\n\t\t\t\t\t\t\t\t+ (list[8].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[9]\r\n\t\t\t\t\t\t\t\t+ (list[9].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[10] + &quot;\\t&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sum &gt; topScore) {\r\n\t\t\t\t\ttopScore = sum;\r\n\t\t\t\t\ttopScorer = list[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tSystem.out.println(sum);\r\n\t\t\t\tgamerCount++;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;----------------------------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;-------------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;# of Gamers:\t&quot; + gamerCount);\r\n\t\t\tSystem.out.println(&quot;Top Gamer:\t&quot; + topScorer);\r\n\t\t\t\r\n\t\t\tbr.close();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOuput:\r\n```\r\n----------------------------------------------------------\r\n-------------------------------------\r\nGames Report\r\n----------------------------------------------------------\r\n-------------------------------------\r\nGamer\t1\t2\t3\t4\t5\t6\t7\r\n\t8\t9\t10\tTotal\r\n----------------------------------------------------------\r\n-------------------------------------\r\nBob\t167\t123\t159\t102\t102\t189\t183\r\n\t173\t197\t148\t1543\r\nSally\t189\t130\t138\t113\t159\t116\t134\r\n\t196\t150\t144\t1469\r\nMario\t104\t106\t120\t188\t143\t189\t149\r\n\t174\t163\t100\t1436\r\nLev\t152\t159\t195\t140\t154\t176\t107\r\n\t128\t166\t181\t1558\r\nCarden\t158\t200\t175\t114\t117\t150\t176\r\n\t181\t131\t132\t1534\r\nAdelie\t175\t199\t122\t104\t198\t182\t175\r\n\t153\t120\t165\t1593\r\nLada\t161\t108\t102\t193\t151\t197\t115\r\n\t137\t126\t186\t1476\r\nXavier\t178\t171\t147\t113\t107\t129\t128\r\n\t189\t165\t195\t1522\r\nRaffi\t176\t144\t151\t124\t149\t112\t158\r\n\t159\t119\t177\t1469\r\nChang\t135\t144\t177\t153\t143\t125\t145\r\n\t140\t117\t158\t1437\r\nMich\t156\t105\t178\t137\t165\t180\t128\r\n\t115\t139\t157\t1460\r\nMason\t162\t185\t108\t106\t113\t135\t139\r\n\t135\t197\t160\t1440\r\nCora\t186\t115\t106\t126\t135\t108\t157\r\n\t156\t187\t120\t1396\r\nSergio\t117\t105\t115\t116\t193\t200\t176\r\n\t134\t122\t153\t1431\r\nJonas\t132\t163\t196\t101\t134\t159\t131\r\n\t104\t135\t168\t1423\r\nJimmy\t189\t190\t197\t199\t198\t193\t199\r\n\t199\t188\t196\t1948\r\n----------------------------------------------------------\r\n-------------------------------------\r\n# of Gamers:\t16\r\nTop Gamer:\tJimmy\r\n----------------------------------------------------------\r\n-------------------------------------\r\nGamer Jimmy record added.\r\n----------------------------------------------------------\r\n-------------------------------------\r\nGames Report\r\n----------------------------------------------------------\r\n-------------------------------------\r\nGamer\t1\t2\t3\t4\t5\t6\t7\r\n\t8\t9\t10\tTotal\r\n----------------------------------------------------------\r\n-------------------------------------\r\nBob\t167\t123\t159\t102\t102\t189\t183\r\n\t173\t197\t148\t1543\r\nSally\t189\t130\t138\t113\t159\t116\t134\r\n\t196\t150\t144\t1469\r\nMario\t104\t106\t120\t188\t143\t189\t149\r\n\t174\t163\t100\t1436\r\nLev\t152\t159\t195\t140\t154\t176\t107\r\n\t128\t166\t181\t1558\r\nCarden\t158\t200\t175\t114\t117\t150\t176\r\n\t181\t131\t132\t1534\r\nAdelie\t175\t199\t122\t104\t198\t182\t175\r\n\t153\t120\t165\t1593\r\nLada\t161\t108\t102\t193\t151\t197\t115\r\n\t137\t126\t186\t1476\r\nXavier\t178\t171\t147\t113\t107\t129\t128\r\n\t189\t165\t195\t1522\r\nRaffi\t176\t144\t151\t124\t149\t112\t158\r\n\t159\t119\t177\t1469\r\nChang\t135\t144\t177\t153\t143\t125\t145\r\n\t140\t117\t158\t1437\r\nMich\t156\t105\t178\t137\t165\t180\t128\r\n\t115\t139\t157\t1460\r\nMason\t162\t185\t108\t106\t113\t135\t139\r\n\t135\t197\t160\t1440\r\nCora\t186\t115\t106\t126\t135\t108\t157\r\n\t156\t187\t120\t1396\r\nSergio\t117\t105\t115\t116\t193\t200\t176\r\n\t134\t122\t153\t1431\r\nJonas\t132\t163\t196\t101\t134\t159\t131\r\n\t104\t135\t168\t1423\r\nJimmy\t189\t190\t197\t199\t198\t193\t199\r\n\t199\t188\t196\t1948\r\nJimmy\t189\t190\t197\t199\t198\t193\t199\r\n\t199\t188\t196\t1948\r\n----------------------------------------------------------\r\n-------------------------------------\r\n# of Gamers:\t17\r\nTop Gamer:\tJimmy\r\n```\r\n","title":"How do I read data from a csv file, store it to memory, then write the memory back into the csv file(while removing the last line that was read)?","body":"<p>My code uses a buffered reader to read a file with a list of values, and my FileWriter adds another gamer to the list. Whenever I go to run my code, the new gamer is added repeatedly. How do I read the data into memory and then write the memory back into the file without the last line added?</p>\n<p>Input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package week3assignment;\n\nimport java.io.*;\nimport java.util.Scanner;\n\npublic class Jaret_Dalrymple_GamesReport {\n\n    public static void main(String[] args) throws IOException {\n        File gameScores = new File(&quot;C:\\\\Users\\\\jaret\\\\OneDrive\\\\Desktop\\\\GameScores.csv&quot;);\n        readWrite(gameScores);\n        addGamer(gameScores, &quot;Jimmy&quot;, &quot;189&quot;, &quot;190&quot;, &quot;197&quot;, &quot;199&quot;, &quot;198&quot;, &quot;193&quot;, &quot;199&quot;, &quot;199&quot;, &quot;188&quot;, &quot;196&quot;);\n        readWrite2(gameScores);\n    }\n\n    private static void readWrite(File gameScores) throws IOException {\n\n        if (gameScores.exists()) {\n            BufferedReader br = null;\n            String line = &quot;&quot;;\n            String csvSplitBy = &quot;,&quot;;\n            int gamerCount = 0;\n            int topScore = 0;\n            String topScorer = &quot;&quot;;\n            br = new BufferedReader(new FileReader(gameScores));\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            System.out.println(&quot;Games Report&quot;);\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            System.out.println(&quot;Gamer   1   2   3   4   5   6   7&quot;);\n            System.out.println(&quot;    8   9   10  Total&quot;);\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n\n            while ((line = br.readLine()) != null) {\n                String list[] = new String[10];\n                list = line.split(csvSplitBy);\n                int sum = 0;\n\n                for (String element : list) {\n                    try {\n                        Integer num = Integer.parseInt(element);\n                        sum += num;\n                    } catch (NumberFormatException nfe) {\n                        System.out.print(list[0] + &quot;\\t&quot; + list[1] + (list[1].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[2]\n                                + (list[2].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[3]\n                                + (list[3].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[4]\n                                + (list[4].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[5]\n                                + (list[5].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[6]\n                                + (list[6].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[7]\n                                + (list[7].length() &gt; 10 ? &quot;\\n\\t&quot; : &quot;\\n\\t&quot;) + list[8]\n                                + (list[8].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[9]\n                                + (list[9].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[10] + &quot;\\t&quot;);\n                    }\n                }\n                if (sum &gt; topScore) {\n                    topScore = sum;\n                    topScorer = list[0];\n                }\n\n                System.out.println(sum);\n                gamerCount++;\n            }\n\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            System.out.println(&quot;# of Gamers:    &quot; + gamerCount);\n            System.out.println(&quot;Top Gamer:  &quot; + topScorer);\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            br.close();\n        }\n    }\n\n    private static void addGamer(File gameScores, String first, String second, String third, String fourth,\n            String fifth, String sixth, String seventh, String eighth, String ninth, String tenth, String eleventh)\n            throws IOException {\n        FileWriter newGamer = new FileWriter(gameScores, true);\n        newGamer.write(&quot;\\n&quot; + first + &quot;,&quot; + second + &quot;,&quot; + third + &quot;,&quot; + fourth + &quot;,&quot; + fifth + &quot;,&quot; + sixth + &quot;,&quot; + \n        seventh + &quot;,&quot; + eighth + &quot;,&quot; + ninth + &quot;,&quot; + tenth + &quot;,&quot; + eleventh);\n        newGamer.close();\n        System.out.println(&quot;Gamer Jimmy record added.&quot;);;\n    }\n\n    private static void readWrite2(File gameScores) throws IOException {\n\n        if (gameScores.exists()) {\n            BufferedReader br = null;\n            String line = &quot;&quot;;\n            String csvSplitBy = &quot;,&quot;;\n            int gamerCount = 0;\n            int topScore = 0;\n            String topScorer = &quot;&quot;;\n            FileWriter fw = new FileWriter(gameScores, true);\n            br = new BufferedReader(new FileReader(gameScores));\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            System.out.println(&quot;Games Report&quot;);\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            System.out.println(&quot;Gamer   1   2   3   4   5   6   7&quot;);\n            System.out.println(&quot;    8   9   10  Total&quot;);\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n\n            while ((line = br.readLine()) != null) {\n                String list[] = new String[10];\n                list = line.split(csvSplitBy);\n                int sum = 0;\n\n                for (String element : list) {\n                    try {\n                        Integer num = Integer.parseInt(element);\n                        sum += num;\n                    } catch (NumberFormatException nfe) {\n                        System.out.print(list[0] + &quot;\\t&quot; + list[1] + (list[1].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[2]\n                                + (list[2].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[3]\n                                + (list[3].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[4]\n                                + (list[4].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[5]\n                                + (list[5].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[6]\n                                + (list[6].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[7]\n                                + (list[7].length() &gt; 10 ? &quot;\\n\\t&quot; : &quot;\\n\\t&quot;) + list[8]\n                                + (list[8].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[9]\n                                + (list[9].length() &gt; 10 ? &quot;\\t&quot; : &quot;\\t&quot;) + list[10] + &quot;\\t&quot;);\n                    }\n                }\n                if (sum &gt; topScore) {\n                    topScore = sum;\n                    topScorer = list[0];\n                }\n\n                System.out.println(sum);\n                gamerCount++;\n            }\n\n            System.out.println(&quot;----------------------------------------------------------&quot;);\n            System.out.println(&quot;-------------------------------------&quot;);\n            System.out.println(&quot;# of Gamers:    &quot; + gamerCount);\n            System.out.println(&quot;Top Gamer:  &quot; + topScorer);\n            \n            br.close();\n        }\n    }\n}\n</code></pre>\n<p>Ouput:</p>\n<pre><code>----------------------------------------------------------\n-------------------------------------\nGames Report\n----------------------------------------------------------\n-------------------------------------\nGamer   1   2   3   4   5   6   7\n    8   9   10  Total\n----------------------------------------------------------\n-------------------------------------\nBob 167 123 159 102 102 189 183\n    173 197 148 1543\nSally   189 130 138 113 159 116 134\n    196 150 144 1469\nMario   104 106 120 188 143 189 149\n    174 163 100 1436\nLev 152 159 195 140 154 176 107\n    128 166 181 1558\nCarden  158 200 175 114 117 150 176\n    181 131 132 1534\nAdelie  175 199 122 104 198 182 175\n    153 120 165 1593\nLada    161 108 102 193 151 197 115\n    137 126 186 1476\nXavier  178 171 147 113 107 129 128\n    189 165 195 1522\nRaffi   176 144 151 124 149 112 158\n    159 119 177 1469\nChang   135 144 177 153 143 125 145\n    140 117 158 1437\nMich    156 105 178 137 165 180 128\n    115 139 157 1460\nMason   162 185 108 106 113 135 139\n    135 197 160 1440\nCora    186 115 106 126 135 108 157\n    156 187 120 1396\nSergio  117 105 115 116 193 200 176\n    134 122 153 1431\nJonas   132 163 196 101 134 159 131\n    104 135 168 1423\nJimmy   189 190 197 199 198 193 199\n    199 188 196 1948\n----------------------------------------------------------\n-------------------------------------\n# of Gamers:    16\nTop Gamer:  Jimmy\n----------------------------------------------------------\n-------------------------------------\nGamer Jimmy record added.\n----------------------------------------------------------\n-------------------------------------\nGames Report\n----------------------------------------------------------\n-------------------------------------\nGamer   1   2   3   4   5   6   7\n    8   9   10  Total\n----------------------------------------------------------\n-------------------------------------\nBob 167 123 159 102 102 189 183\n    173 197 148 1543\nSally   189 130 138 113 159 116 134\n    196 150 144 1469\nMario   104 106 120 188 143 189 149\n    174 163 100 1436\nLev 152 159 195 140 154 176 107\n    128 166 181 1558\nCarden  158 200 175 114 117 150 176\n    181 131 132 1534\nAdelie  175 199 122 104 198 182 175\n    153 120 165 1593\nLada    161 108 102 193 151 197 115\n    137 126 186 1476\nXavier  178 171 147 113 107 129 128\n    189 165 195 1522\nRaffi   176 144 151 124 149 112 158\n    159 119 177 1469\nChang   135 144 177 153 143 125 145\n    140 117 158 1437\nMich    156 105 178 137 165 180 128\n    115 139 157 1460\nMason   162 185 108 106 113 135 139\n    135 197 160 1440\nCora    186 115 106 126 135 108 157\n    156 187 120 1396\nSergio  117 105 115 116 193 200 176\n    134 122 153 1431\nJonas   132 163 196 101 134 159 131\n    104 135 168 1423\nJimmy   189 190 197 199 198 193 199\n    199 188 196 1948\nJimmy   189 190 197 199 198 193 199\n    199 188 196 1948\n----------------------------------------------------------\n-------------------------------------\n# of Gamers:    17\nTop Gamer:  Jimmy\n</code></pre>\n"},{"tags":["java","random","numbers"],"comments":[{"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"score":0,"creation_date":1556473026,"post_id":55890962,"comment_id":98442466,"body_markdown":"IMHO, there is no *correct* answer. This problem can be achieved in multiple ways!","body":"IMHO, there is no <i>correct</i> answer. This problem can be achieved in multiple ways!"}],"answers":[{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1556461492,"creation_date":1556460490,"answer_id":55891072,"question_id":55890962,"body_markdown":"You can start the index of the loop from 2 instead of 1 and print out the number 1 before the for-loop. Something like:\r\n\r\n\tRandom rnd = new Random();\r\n\tint number;\r\n\r\n    // print out 1 as you need it to be the first number\r\n\tSystem.out.println(1);\r\n   \r\n    // observe here that we start i at 2\r\n\tfor (int i = 2; i &lt;= 100; i++) {\r\n\t\tif (i % 7 == 0) {\r\n\t\t\tSystem.out.println(i + &quot; : Lucky number!&quot;);\r\n\t\t}\r\n\r\n        if (i % 5 == 0) {\r\n\t\t\t// Do something else here...\r\n\t\t}\r\n\t\tnumber = rnd.nextInt(100);\r\n\t\tSystem.out.println(number);\r\n\t}","title":"Generate list of random numbers starting with x","body":"<p>You can start the index of the loop from 2 instead of 1 and print out the number 1 before the for-loop. Something like:</p>\n\n<pre><code>Random rnd = new Random();\nint number;\n\n// print out 1 as you need it to be the first number\nSystem.out.println(1);\n\n// observe here that we start i at 2\nfor (int i = 2; i &lt;= 100; i++) {\n    if (i % 7 == 0) {\n        System.out.println(i + \" : Lucky number!\");\n    }\n\n    if (i % 5 == 0) {\n        // Do something else here...\n    }\n    number = rnd.nextInt(100);\n    System.out.println(number);\n}\n</code></pre>\n"}],"owner":{"account_id":15832126,"reputation":436,"user_id":11423137,"display_name":"Djabone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55891072,"answer_count":1,"score":1,"last_activity_date":1632529999,"creation_date":1556459719,"question_id":55890962,"body_markdown":"I was asked to generate a list of random numbers from 1 to 100. Then I was asked to print a message at each random number that was divisible by 7, that was okay too. \r\n\r\nMy issue is that this list has to start with the number 1 and has then to be continued with random numbers. Additionally, I want to print a certain text every fifth line. \r\n\r\nQuestions:\r\n\r\n1) How do I start my list with the number 1 and still keep the rest random?\r\n\r\n2) How do I print a message every fifth line? \r\n\r\nI have been searching for 2 hours and only found results for python and other languages. I was not able to find the right answer.\r\n\r\n    import java.util.Random;\r\n    \r\n    public class rannumb \r\n    {   \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tRandom rnd = new Random();\r\n    \t\tint number;\r\n    \r\n    \t\tfor(int i = 1; i&lt;=100; i++) {\r\n    \t\t\tif (i%7==0) {\r\n    \t\t\t\tSystem.out.println(i+ &quot; : Lucky number!&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tnumber = rnd.nextInt(100);\r\n    \t\t\tSystem.out.println(number);\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe output I get is : \r\n\r\n - 3, 69, 75, 83, 96, 47, 7 : Lucky number!, 56, 30, 98, 6, 66, 97, 63, 14 : Lucky number!\r\n\r\n\r\nThe output I expect to get is:\r\n\r\n - 1, 3, 69, 75, 83 : message, 96, 47, 7 : Lucky number!, 56, 30 : message, 98, 6, 66, 97, 63, 14 : Lucky number!\r\n\r\n _______________________________________\r\n\r\n\r\n**Correct answer:**\r\n\r\n    public static void main(String[] args) {\r\n    \t\r\n    \t    Random rnd = new Random();\r\n            int number;\r\n    \r\n            for(int i = 1; i&lt;=100; i++) {\r\n                \r\n    \t\t\tif (i==1) {\r\n    \t\t\t\tSystem.out.println(1);\r\n    \t\t\t\tcontinue;\r\n                }\r\n    \r\n                number = rnd.nextInt(100);\r\n                //I used i instead of number first, thats why I had an issue\r\n                if (number%7==0) {\r\n                    System.out.println(number+ &quot; : Lucky number!&quot;);\r\n                }\r\n                \r\n                else{\r\n                System.out.println(number); \r\n    \r\n            }\r\n                // now I use i as you showed so that i can get the position of the number and not the number itself\t\t\t\r\n    \t\t\tif (i%5==0) {\r\n                    System.out.println(&quot;---&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Generate list of random numbers starting with x","body":"<p>I was asked to generate a list of random numbers from 1 to 100. Then I was asked to print a message at each random number that was divisible by 7, that was okay too. </p>\n\n<p>My issue is that this list has to start with the number 1 and has then to be continued with random numbers. Additionally, I want to print a certain text every fifth line. </p>\n\n<p>Questions:</p>\n\n<p>1) How do I start my list with the number 1 and still keep the rest random?</p>\n\n<p>2) How do I print a message every fifth line? </p>\n\n<p>I have been searching for 2 hours and only found results for python and other languages. I was not able to find the right answer.</p>\n\n<pre><code>import java.util.Random;\n\npublic class rannumb \n{       \n    public static void main(String[] args) {\n\n        Random rnd = new Random();\n        int number;\n\n        for(int i = 1; i&lt;=100; i++) {\n            if (i%7==0) {\n                System.out.println(i+ \" : Lucky number!\");\n            }\n\n            number = rnd.nextInt(100);\n            System.out.println(number); \n\n        }\n    }\n}\n</code></pre>\n\n<p>The output I get is : </p>\n\n<ul>\n<li>3, 69, 75, 83, 96, 47, 7 : Lucky number!, 56, 30, 98, 6, 66, 97, 63, 14 : Lucky number!</li>\n</ul>\n\n<p>The output I expect to get is:</p>\n\n<ul>\n<li>1, 3, 69, 75, 83 : message, 96, 47, 7 : Lucky number!, 56, 30 : message, 98, 6, 66, 97, 63, 14 : Lucky number!</li>\n</ul>\n\n<hr>\n\n<p><strong>Correct answer:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n\n        Random rnd = new Random();\n        int number;\n\n        for(int i = 1; i&lt;=100; i++) {\n\n            if (i==1) {\n                System.out.println(1);\n                continue;\n            }\n\n            number = rnd.nextInt(100);\n            //I used i instead of number first, thats why I had an issue\n            if (number%7==0) {\n                System.out.println(number+ \" : Lucky number!\");\n            }\n\n            else{\n            System.out.println(number); \n\n        }\n            // now I use i as you showed so that i can get the position of the number and not the number itself         \n            if (i%5==0) {\n                System.out.println(\"---\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","retrofit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1632420369,"post_id":69304896,"comment_id":122494188,"body_markdown":"`File file = new File(Uri.parse(Foto.get(0)).getPath())` Please tell the value of `file.getAbsolutePath()` Also add `if(!file.exists()) return;`.","body":"<code>File file = new File(Uri.parse(Foto.get(0)).getPath())</code> Please tell the value of <code>file.getAbsolutePath()</code> Also add <code>if(!file.exists()) return;</code>."},{"owner":{"account_id":11775269,"reputation":65,"user_id":9114785,"display_name":"CarlosDnl"},"score":0,"creation_date":1632421671,"post_id":69304896,"comment_id":122494720,"body_markdown":"This it the error java.lang.IllegalArgumentException: Only one encoding annotation is allowed.","body":"This it the error java.lang.IllegalArgumentException: Only one encoding annotation is allowed."}],"answers":[{"tags":[],"owner":{"account_id":21927811,"reputation":1228,"user_id":16210149,"display_name":"Anatolii Chub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632529638,"creation_date":1632529638,"answer_id":69322215,"question_id":69304896,"body_markdown":"`@FormUrlEncoded` - Represents a URL encoded form. As it specified in the doc: \r\n\r\n&gt; Denotes that the request body will use form URL encoding.\r\n\r\n  \r\n`@Multipart` - Represents a message with a list of parts. The body of the each part may be of any media type, and contain text or binary data. Doc:\r\n\r\n&gt; Denotes that the request body is multi-part.\r\n      \r\nThe error:\r\n&gt; java.lang.IllegalArgumentException: Only one encoding annotation is\r\n&gt; allowed.\r\n\r\nmeans that you should use **only one** encoding annotation: `@FormUrlEncoded` or `@Multipart`\r\n\r\nin your case it&#39;s `@Multipart`.\r\n\r\n","title":"error uploading image using multipart retrofit","body":"<p><code>@FormUrlEncoded</code> - Represents a URL encoded form. As it specified in the doc:</p>\n<blockquote>\n<p>Denotes that the request body will use form URL encoding.</p>\n</blockquote>\n<p><code>@Multipart</code> - Represents a message with a list of parts. The body of the each part may be of any media type, and contain text or binary data. Doc:</p>\n<blockquote>\n<p>Denotes that the request body is multi-part.</p>\n</blockquote>\n<p>The error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Only one encoding annotation is\nallowed.</p>\n</blockquote>\n<p>means that you should use <strong>only one</strong> encoding annotation: <code>@FormUrlEncoded</code> or <code>@Multipart</code></p>\n<p>in your case it's <code>@Multipart</code>.</p>\n"}],"owner":{"account_id":11775269,"reputation":65,"user_id":9114785,"display_name":"CarlosDnl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632529638,"creation_date":1632420035,"question_id":69304896,"body_markdown":"I am trying to upload an image to an endpoint using retrofit with the following code,where I convert each of the strings to RequestBody.\r\n```\r\nprivate void createNovedad(String IdUnidad,String Serial,String Unidad, List&lt;String&gt; Foto, String Tipo,String CodigoReferencia,String  NombrePuntoReferencia,String Quienregistro,String Novedad, String UsuarioAdmin,String Longitude,String Latitude){\r\n\r\n        RequestBody IdUnidadbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),IdUnidad );\r\n        RequestBody Serialbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Serial);\r\n        RequestBody Unidadbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Unidad );\r\n       File file = new File(Uri.parse(Foto.get(0)).getPath());\r\n        RequestBody FotoBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\r\n        RequestBody Tipobody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Tipo );\r\n        RequestBody CodigoReferenciabody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),CodigoReferencia );\r\n        RequestBody NombrePuntoReferenciabody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),NombrePuntoReferencia );\r\n        RequestBody Quienregistrobbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Quienregistro );\r\n        RequestBody Novedadbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Novedad );\r\n        RequestBody UsuarioAdminbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),UsuarioAdmin );\r\n        RequestBody Longitudebody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Longitude);\r\n        RequestBody Latitudebody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Latitude );\r\n\r\n\r\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(URL_NOVEDAD)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        JsonPlaceHolderApi jsonPlaceHolderApi = retrofit.create(JsonPlaceHolderApi.class);\r\n        Call&lt;Referencia&gt; response = jsonPlaceHolderApi.sendNovedad(IdUnidadbody,Serialbody, Unidadbody, FotoBody,Tipobody,CodigoReferenciabody, NombrePuntoReferenciabody,Quienregistrobbody,Novedadbody, UsuarioAdminbody, Longitudebody, Latitudebody);\r\n        response.enqueue(new Callback&lt;Referencia&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Referencia&gt; call, Response&lt;Referencia&gt; response) {\r\n                if (!response.isSuccessful()) {\r\n                    Toast.makeText(getApplicationContext(), String.valueOf(response.code()), Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }else{\r\n                    Toast.makeText(getApplicationContext(), &quot;Novedad creada correctamente&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Referencia&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(), String.valueOf(t), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n```\r\nAnd this is the model that I am using\r\n\r\n```\r\n    @Multipart\r\n    @FormUrlEncoded\r\n    @POST(&quot;create/novreferencia&quot;)\r\n    Call&lt;Referencia&gt; sendNovedad(@Part(&quot;IdUnidad&quot;) RequestBody IdUnidad,\r\n                                 @Part(&quot;Serial&quot;) RequestBody Serial,\r\n                                 @Part(&quot;Unidad&quot;) RequestBody Unidad,\r\n                                 @Part(&quot;Foto\\&quot;; filename=\\&quot;pp.png\\&quot; &quot;) RequestBody Foto,\r\n                                 @Part(&quot;Tipo&quot;) RequestBody Tipo,\r\n                                 @Part(&quot;CodigoReferencia&quot;) RequestBody CodigoReferencia,\r\n                                 @Part(&quot;NombrePuntoReferencia&quot;) RequestBody  NombrePuntoReferencia,\r\n                                 @Part(&quot;QuienRegistro&quot;) RequestBody QuienRegistro,\r\n                                 @Part(&quot;Novedad&quot;) RequestBody  Novedad,\r\n                                 @Part(&quot;UsuarioAdmin&quot;) RequestBody  UsuarioAdmin,\r\n                                 @Part(&quot;Latitude&quot;) RequestBody  Latitude,\r\n                                 @Part(&quot;Longitude&quot;) RequestBody  Longitude);\r\n\r\n```\r\nThe problem is that the logcat does not show me any error, but the application stops working. All variables are String","title":"error uploading image using multipart retrofit","body":"<p>I am trying to upload an image to an endpoint using retrofit with the following code,where I convert each of the strings to RequestBody.</p>\n<pre><code>private void createNovedad(String IdUnidad,String Serial,String Unidad, List&lt;String&gt; Foto, String Tipo,String CodigoReferencia,String  NombrePuntoReferencia,String Quienregistro,String Novedad, String UsuarioAdmin,String Longitude,String Latitude){\n\n        RequestBody IdUnidadbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),IdUnidad );\n        RequestBody Serialbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Serial);\n        RequestBody Unidadbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Unidad );\n       File file = new File(Uri.parse(Foto.get(0)).getPath());\n        RequestBody FotoBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\n        RequestBody Tipobody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Tipo );\n        RequestBody CodigoReferenciabody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),CodigoReferencia );\n        RequestBody NombrePuntoReferenciabody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),NombrePuntoReferencia );\n        RequestBody Quienregistrobbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Quienregistro );\n        RequestBody Novedadbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Novedad );\n        RequestBody UsuarioAdminbody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),UsuarioAdmin );\n        RequestBody Longitudebody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Longitude);\n        RequestBody Latitudebody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),Latitude );\n\n\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(URL_NOVEDAD)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        JsonPlaceHolderApi jsonPlaceHolderApi = retrofit.create(JsonPlaceHolderApi.class);\n        Call&lt;Referencia&gt; response = jsonPlaceHolderApi.sendNovedad(IdUnidadbody,Serialbody, Unidadbody, FotoBody,Tipobody,CodigoReferenciabody, NombrePuntoReferenciabody,Quienregistrobbody,Novedadbody, UsuarioAdminbody, Longitudebody, Latitudebody);\n        response.enqueue(new Callback&lt;Referencia&gt;() {\n            @Override\n            public void onResponse(Call&lt;Referencia&gt; call, Response&lt;Referencia&gt; response) {\n                if (!response.isSuccessful()) {\n                    Toast.makeText(getApplicationContext(), String.valueOf(response.code()), Toast.LENGTH_SHORT).show();\n                    return;\n                }else{\n                    Toast.makeText(getApplicationContext(), &quot;Novedad creada correctamente&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;Referencia&gt; call, Throwable t) {\n                Toast.makeText(getApplicationContext(), String.valueOf(t), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n<p>And this is the model that I am using</p>\n<pre><code>    @Multipart\n    @FormUrlEncoded\n    @POST(&quot;create/novreferencia&quot;)\n    Call&lt;Referencia&gt; sendNovedad(@Part(&quot;IdUnidad&quot;) RequestBody IdUnidad,\n                                 @Part(&quot;Serial&quot;) RequestBody Serial,\n                                 @Part(&quot;Unidad&quot;) RequestBody Unidad,\n                                 @Part(&quot;Foto\\&quot;; filename=\\&quot;pp.png\\&quot; &quot;) RequestBody Foto,\n                                 @Part(&quot;Tipo&quot;) RequestBody Tipo,\n                                 @Part(&quot;CodigoReferencia&quot;) RequestBody CodigoReferencia,\n                                 @Part(&quot;NombrePuntoReferencia&quot;) RequestBody  NombrePuntoReferencia,\n                                 @Part(&quot;QuienRegistro&quot;) RequestBody QuienRegistro,\n                                 @Part(&quot;Novedad&quot;) RequestBody  Novedad,\n                                 @Part(&quot;UsuarioAdmin&quot;) RequestBody  UsuarioAdmin,\n                                 @Part(&quot;Latitude&quot;) RequestBody  Latitude,\n                                 @Part(&quot;Longitude&quot;) RequestBody  Longitude);\n\n</code></pre>\n<p>The problem is that the logcat does not show me any error, but the application stops working. All variables are String</p>\n"},{"tags":["java","queue","message-queue"],"comments":[{"owner":{"account_id":15501861,"reputation":160,"user_id":11183011,"display_name":"Ali Azim"},"score":0,"creation_date":1553088999,"post_id":55261942,"comment_id":97255402,"body_markdown":"when you finish with the queue, just call the close method to release resource used by the queue - bigQueue.close();","body":"when you finish with the queue, just call the close method to release resource used by the queue - bigQueue.close();"},{"owner":{"account_id":13749228,"reputation":21,"user_id":9921860,"display_name":"Aravindhan Kannan"},"score":0,"creation_date":1553089414,"post_id":55261942,"comment_id":97255689,"body_markdown":"I have used the close function also, but still, disk memory is not clearing up.","body":"I have used the close function also, but still, disk memory is not clearing up."},{"owner":{"account_id":15501861,"reputation":160,"user_id":11183011,"display_name":"Ali Azim"},"score":0,"creation_date":1553089661,"post_id":55261942,"comment_id":97255869,"body_markdown":"There must be a memory leak in your program, share your code here.","body":"There must be a memory leak in your program, share your code here."},{"owner":{"account_id":13749228,"reputation":21,"user_id":9921860,"display_name":"Aravindhan Kannan"},"score":0,"creation_date":1553090021,"post_id":55261942,"comment_id":97256123,"body_markdown":"IBigQueue bigQueue = new BigQueueImpl(&quot;/home/test/BigQueueNew&quot;, &quot;demo1&quot;);\n\t\tfor (int i = 0; i &lt; 10000; i++)\n\t\t{\n\t\t\tObject mo = new Object();\n\t\t\t//mo.setName(&quot;Aravind &quot; + i);\n\t\t\tbigQueue.enqueue(serialize(mo));\n\t\t}\n\t\twhile (!bigQueue.isEmpty())\n\t\t{\n\t\t\tManagedObject mo = (ManagedObject) deserialize(bigQueue.dequeue());\n\t\t\tSystem.out.println(&quot;Key Dqueue ME&quot;);\n\t\t}\n\t\tbigQueue.close();\n\t\t//\tbigQueue.removeAll();\n\t\tbigQueue.gc();;\n\t\tSystem.out.println(&quot;Big Queue  is &quot; + bigQueue.isEmpty() +&quot; Size is &quot;+bigQueue.size());","body":"IBigQueue bigQueue = new BigQueueImpl(&quot;/home/test/BigQueueNew&quot;, &quot;demo1&quot;); \t\tfor (int i = 0; i &lt; 10000; i++) \t\t{ \t\t\tObject mo = new Object(); \t\t\t//mo.setName(&quot;Aravind &quot; + i); \t\t\tbigQueue.enqueue(serialize(mo)); \t\t} \t\twhile (!bigQueue.isEmpty()) \t\t{ \t\t\tManagedObject mo = (ManagedObject) deserialize(bigQueue.dequeue()); \t\t\tSystem.out.println(&quot;Key Dqueue ME&quot;); \t\t} \t\tbigQueue.close(); \t\t//\tbigQueue.removeAll(); \t\tbigQueue.gc();; \t\tSystem.out.println(&quot;Big Queue  is &quot; + bigQueue.isEmpty() +&quot; Size is &quot;+bigQueue.size());"}],"answers":[{"tags":[],"owner":{"account_id":28643,"reputation":21,"user_id":76702,"display_name":"chinhw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632528740,"creation_date":1632528740,"answer_id":69322159,"question_id":55261942,"body_markdown":"In case someone is looking at this as well.\r\n\r\nIf you are using Java 11 on ubuntu, this could be a known issue. Refer to the link below.\r\n\r\nUnless it is fixed at the source, you could download the source and fix it yourself.\r\n\r\n \r\nhttps://github.com/bulldog2011/bigqueue/issues/39","title":"BigQueue disk space not clearing","body":"<p>In case someone is looking at this as well.</p>\n<p>If you are using Java 11 on ubuntu, this could be a known issue. Refer to the link below.</p>\n<p>Unless it is fixed at the source, you could download the source and fix it yourself.</p>\n<p><a href=\"https://github.com/bulldog2011/bigqueue/issues/39\" rel=\"nofollow noreferrer\">https://github.com/bulldog2011/bigqueue/issues/39</a></p>\n"}],"owner":{"account_id":13749228,"reputation":21,"user_id":9921860,"display_name":"Aravindhan Kannan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1632528740,"creation_date":1553088732,"question_id":55261942,"body_markdown":"I am using a java persistence Queue named BigQueue, It stores the data in the disk, bigQueue.gc() is used to clear the used disk space. The big queue.gc() is not clearing the used disk space. The disk memory is continuously increasing.\r\n\r\n    IBigQueue bigQueue = new BigQueueImpl(&quot;/home/test/BigQueueNew&quot;, &quot;demo1&quot;);\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            ManagedObject mo = new ManagedObject();\r\n            mo.setName(&quot;Aravind &quot; + i);\r\n            bigQueue.enqueue(serialize(mo));\r\n        }\r\n\r\n        while (!bigQueue.isEmpty()) {\r\n            ManagedObject mo = (ManagedObject) deserialize(bigQueue.dequeue());\r\n            System.out.println(&quot;Key Dqueue ME&quot;);\r\n        }\r\n        bigQueue.close(); \r\n\r\n        // bigQueue.removeAll(); bigQueue.gc();; System.out.println(&quot;Big Queue is &quot; + bigQueue.isEmpty() +&quot; Size is &quot;+bigQueue.size());","title":"BigQueue disk space not clearing","body":"<p>I am using a java persistence Queue named BigQueue, It stores the data in the disk, bigQueue.gc() is used to clear the used disk space. The big queue.gc() is not clearing the used disk space. The disk memory is continuously increasing.</p>\n\n<pre><code>IBigQueue bigQueue = new BigQueueImpl(\"/home/test/BigQueueNew\", \"demo1\");\n    for (int i = 0; i &lt; 10000; i++) {\n        ManagedObject mo = new ManagedObject();\n        mo.setName(\"Aravind \" + i);\n        bigQueue.enqueue(serialize(mo));\n    }\n\n    while (!bigQueue.isEmpty()) {\n        ManagedObject mo = (ManagedObject) deserialize(bigQueue.dequeue());\n        System.out.println(\"Key Dqueue ME\");\n    }\n    bigQueue.close(); \n\n    // bigQueue.removeAll(); bigQueue.gc();; System.out.println(\"Big Queue is \" + bigQueue.isEmpty() +\" Size is \"+bigQueue.size());\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging","gson","message"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632528719,"creation_date":1632528719,"answer_id":69322157,"question_id":69083340,"body_markdown":"Gson by default only supports it&#39;s [`@SerializedName`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html) annotation to specify custom JSON member names.\r\n\r\nAssuming that the `@Key` annotation you are using is available at runtime (`@Retention(RUNTIME)`), you could write a custom [`FieldNamingStrategy`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/FieldNamingStrategy.html):\r\n```java\r\npublic class KeyFieldNamingStrategy implements FieldNamingStrategy {\r\n    private final FieldNamingStrategy delegate;\r\n    \r\n    public KeyFieldNamingStrategy(FieldNamingStrategy delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n\r\n    @Override\r\n    public String translateName(Field f) {\r\n        Key key = f.getAnnotation(Key.class);\r\n        if (key == null) {\r\n            // No annotation, use delegate\r\n            return delegate.translateName(f);\r\n        } else {\r\n            return key.value();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then register it with a `GsonBuilder`:\r\n```java\r\nGson gson = new GsonBuilder()\r\n    // Uses IDENTITY as delegate, which uses field names as is\r\n    .setFieldNamingStrategy(new KeyFieldNamingStrategy(FieldNamingPolicy.IDENTITY))\r\n    .create();\r\n```\r\n","title":"How to apply the @Key of the Message class in the Firebase Admin SDK when serializing using Gson","body":"<p>Gson by default only supports it's <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html\" rel=\"nofollow noreferrer\"><code>@SerializedName</code></a> annotation to specify custom JSON member names.</p>\n<p>Assuming that the <code>@Key</code> annotation you are using is available at runtime (<code>@Retention(RUNTIME)</code>), you could write a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/FieldNamingStrategy.html\" rel=\"nofollow noreferrer\"><code>FieldNamingStrategy</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KeyFieldNamingStrategy implements FieldNamingStrategy {\n    private final FieldNamingStrategy delegate;\n    \n    public KeyFieldNamingStrategy(FieldNamingStrategy delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public String translateName(Field f) {\n        Key key = f.getAnnotation(Key.class);\n        if (key == null) {\n            // No annotation, use delegate\n            return delegate.translateName(f);\n        } else {\n            return key.value();\n        }\n    }\n}\n</code></pre>\n<p>And then register it with a <code>GsonBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new GsonBuilder()\n    // Uses IDENTITY as delegate, which uses field names as is\n    .setFieldNamingStrategy(new KeyFieldNamingStrategy(FieldNamingPolicy.IDENTITY))\n    .create();\n</code></pre>\n"}],"owner":{"account_id":22677866,"reputation":3,"user_id":16848583,"display_name":"GYUHO CHOI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69322157,"answer_count":1,"score":0,"last_activity_date":1632528719,"creation_date":1630996281,"question_id":69083340,"body_markdown":"When serializing the object created by the builder of the message class with Gson, I want to get the key name android.\r\n\r\nI think @Key should get android, not androidConfig, as a result of serialize, but It&#39;s not.\r\nThe same goes for Objectmapper as well as Gson.\r\n\r\nMy development environment is Spring Boot 2.3.12.RELEASE, Firebase ADMIN SDK 8.0.1., Gson 2.8.8\r\n```\r\n[source]\r\nmessage = Message.builder()\r\n                    .setNotification(Notification.builder()\r\n                            .setTitle(pushMessageDto.getTitle())\r\n                            .setBody(pushMessageDto.getBody())\r\n                            .setImage(pushMessageDto.getImage())\r\n                            .build())\r\n                    .setAndroidConfig(AndroidConfig.builder()\r\n                            .setTtl(3600 * 1000)\r\n                            .setNotification(AndroidNotification.builder()\r\n                                    .setIcon(ar.getIcon())\r\n                                    .setColor(ar.getColor())\r\n                                    .setClickAction(ar.getClickAction())\r\n                                    .build())\r\n                            .build())\r\n                    .setTopic(pushMessageDto.getTopic())\r\n                    .build();\r\nGson gson = new Gson();\r\nString m = gson.toJson(message);\r\n```\r\n```\r\n[serializing results]\r\n{\r\n   &quot;validate_only&quot;:false,\r\n   &quot;message&quot;:{\r\n      &quot;notification&quot;:{\r\n         &quot;title&quot;:&quot;a&quot;,\r\n         &quot;body&quot;:&quot;b&quot;,\r\n         &quot;image&quot;:&quot;c&quot;\r\n      },\r\n      &quot;androidConfig&quot;:{\r\n         &quot;ttl&quot;:&quot;3&quot;,\r\n         &quot;notification&quot;:{\r\n            &quot;icon&quot;:&quot;&quot;,\r\n            &quot;color&quot;:&quot;#32a852&quot;,\r\n            &quot;clickAction&quot;:&quot;MainActivity&quot;,\r\n         }\r\n      },\r\n      &quot;topic&quot;:&quot;weather&quot;\r\n   }\r\n}\r\n```\r\n```\r\n[Message class of Firebase Admin SDK]\r\npublic class Message {\r\n\r\n  @Key(&quot;data&quot;)\r\n  private final Map&lt;String, String&gt; data;\r\n\r\n  @Key(&quot;notification&quot;)\r\n  private final Notification notification;\r\n\r\n  @Key(&quot;android&quot;)\r\n  private final AndroidConfig androidConfig;\r\n\r\n  @Key(&quot;webpush&quot;)\r\n  private final WebpushConfig webpushConfig;\r\n\r\n  @Key(&quot;apns&quot;)\r\n  private final ApnsConfig apnsConfig;\r\n\r\n  @Key(&quot;token&quot;)\r\n  private final String token;\r\n\r\n  @Key(&quot;topic&quot;)\r\n  private final String topic;\r\n\r\n  @Key(&quot;condition&quot;)\r\n  private final String condition;\r\n\r\n  @Key(&quot;fcm_options&quot;)\r\n  private final FcmOptions fcmOptions;\r\n```\r\n\r\n","title":"How to apply the @Key of the Message class in the Firebase Admin SDK when serializing using Gson","body":"<p>When serializing the object created by the builder of the message class with Gson, I want to get the key name android.</p>\n<p>I think @Key should get android, not androidConfig, as a result of serialize, but It's not.\nThe same goes for Objectmapper as well as Gson.</p>\n<p>My development environment is Spring Boot 2.3.12.RELEASE, Firebase ADMIN SDK 8.0.1., Gson 2.8.8</p>\n<pre><code>[source]\nmessage = Message.builder()\n                    .setNotification(Notification.builder()\n                            .setTitle(pushMessageDto.getTitle())\n                            .setBody(pushMessageDto.getBody())\n                            .setImage(pushMessageDto.getImage())\n                            .build())\n                    .setAndroidConfig(AndroidConfig.builder()\n                            .setTtl(3600 * 1000)\n                            .setNotification(AndroidNotification.builder()\n                                    .setIcon(ar.getIcon())\n                                    .setColor(ar.getColor())\n                                    .setClickAction(ar.getClickAction())\n                                    .build())\n                            .build())\n                    .setTopic(pushMessageDto.getTopic())\n                    .build();\nGson gson = new Gson();\nString m = gson.toJson(message);\n</code></pre>\n<pre><code>[serializing results]\n{\n   &quot;validate_only&quot;:false,\n   &quot;message&quot;:{\n      &quot;notification&quot;:{\n         &quot;title&quot;:&quot;a&quot;,\n         &quot;body&quot;:&quot;b&quot;,\n         &quot;image&quot;:&quot;c&quot;\n      },\n      &quot;androidConfig&quot;:{\n         &quot;ttl&quot;:&quot;3&quot;,\n         &quot;notification&quot;:{\n            &quot;icon&quot;:&quot;&quot;,\n            &quot;color&quot;:&quot;#32a852&quot;,\n            &quot;clickAction&quot;:&quot;MainActivity&quot;,\n         }\n      },\n      &quot;topic&quot;:&quot;weather&quot;\n   }\n}\n</code></pre>\n<pre><code>[Message class of Firebase Admin SDK]\npublic class Message {\n\n  @Key(&quot;data&quot;)\n  private final Map&lt;String, String&gt; data;\n\n  @Key(&quot;notification&quot;)\n  private final Notification notification;\n\n  @Key(&quot;android&quot;)\n  private final AndroidConfig androidConfig;\n\n  @Key(&quot;webpush&quot;)\n  private final WebpushConfig webpushConfig;\n\n  @Key(&quot;apns&quot;)\n  private final ApnsConfig apnsConfig;\n\n  @Key(&quot;token&quot;)\n  private final String token;\n\n  @Key(&quot;topic&quot;)\n  private final String topic;\n\n  @Key(&quot;condition&quot;)\n  private final String condition;\n\n  @Key(&quot;fcm_options&quot;)\n  private final FcmOptions fcmOptions;\n</code></pre>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632462582,"post_id":69308171,"comment_id":122503363,"body_markdown":"What package is HelliApplication in? Where is your catstronaut image relative to the application *class* file? Simplest thing to do is put the image in the same directory as the fxml file and reference if via `@471962_nemuli_catstronaut.png` without the dots, slashes and Pictures prefix. Make sure it is present in the same build output folder or jar location as the fxml.  Try that.","body":"What package is HelliApplication in? Where is your catstronaut image relative to the application <i>class</i> file? Simplest thing to do is put the image in the same directory as the fxml file and reference if via <code>@471962_nemuli_catstronaut.png</code> without the dots, slashes and Pictures prefix. Make sure it is present in the same build output folder or jar location as the fxml.  Try that."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":1,"creation_date":1632496543,"post_id":69308171,"comment_id":122516613,"body_markdown":"you need to show your file tree","body":"you need to show your file tree"},{"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"score":1,"creation_date":1632519585,"post_id":69308171,"comment_id":122524214,"body_markdown":"I added a file tree picture. I can confirm it works if i put it in the same directory as the fxml file, but is that good practice? I&#39;d like to use a different one for an image if possible? The image would be what I am trying to accomplish","body":"I added a file tree picture. I can confirm it works if i put it in the same directory as the fxml file, but is that good practice? I&#39;d like to use a different one for an image if possible? The image would be what I am trying to accomplish"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632526626,"post_id":69308171,"comment_id":122525325,"body_markdown":"You can use a [relative path](https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#location_resolution), but it has to be correct. The image is up 3 levels and down to `Images`, not up 7 levels and down to `Pictures`.  Or you can use an absolute path without `@` (I think, I haven’t tried that), so maybe `/Images/` *filename*.","body":"You can use a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#location_resolution\" rel=\"nofollow noreferrer\">relative path</a>, but it has to be correct. The image is up 3 levels and down to <code>Images</code>, not up 7 levels and down to <code>Pictures</code>.  Or you can use an absolute path without <code>@</code> (I think, I haven’t tried that), so maybe <code>&#47;Images&#47;</code> <i>filename</i>."},{"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"score":0,"creation_date":1632527460,"post_id":69308171,"comment_id":122525432,"body_markdown":"It&#39;s not the same as the the code i showed above, sorry, should have changed that too, fixed it in the post. I just used the scene builder for the path, no image is shown tho.","body":"It&#39;s not the same as the the code i showed above, sorry, should have changed that too, fixed it in the post. I just used the scene builder for the path, no image is shown tho."},{"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"score":0,"creation_date":1632529115,"post_id":69308171,"comment_id":122525643,"body_markdown":"Fixed with using absolute path in the scene builder, that did the trick!","body":"Fixed with using absolute path in the scene builder, that did the trick!"}],"owner":{"account_id":22659175,"reputation":29,"user_id":16832572,"display_name":"MoonLight Fanatic"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632527508,"creation_date":1632442590,"question_id":69308171,"body_markdown":"I just want to display an image but no matter whati&#39;ve tried, it&#39;s not showing up.\r\nI opened up a new project from a default template to see if I had done something, but it won&#39;t work either. \r\nIt will show in the scene builder, but once i compile, nothing there.\r\n\r\nMain:\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 400, 600);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nand the fxml file being:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ImageView fitHeight=&quot;325.0&quot; fitWidth=&quot;347.0&quot; layoutX=&quot;138.0&quot; layoutY=&quot;38.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@../../../Images/471962_nemuli_catstronaut.png&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\nAny clue what&#39;s happening? I am running on linux if that means anything.\r\n\r\n**file tree**\r\n\r\n![tree](https://i.stack.imgur.com/IRcN5.png)","title":"Images showing in scene builder, but not after compilation","body":"<p>I just want to display an image but no matter whati've tried, it's not showing up.\nI opened up a new project from a default template to see if I had done something, but it won't work either.\nIt will show in the scene builder, but once i compile, nothing there.</p>\n<p>Main:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 400, 600);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>and the fxml file being:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;ImageView fitHeight=&quot;325.0&quot; fitWidth=&quot;347.0&quot; layoutX=&quot;138.0&quot; layoutY=&quot;38.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../../../Images/471962_nemuli_catstronaut.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Any clue what's happening? I am running on linux if that means anything.</p>\n<p><strong>file tree</strong></p>\n<p><img src=\"https://i.stack.imgur.com/IRcN5.png\" alt=\"tree\" /></p>\n"},{"tags":["java","maven","javafx","jar"],"comments":[{"owner":{"account_id":2204191,"reputation":63,"user_id":1947796,"display_name":"Omar Abdullwahhab"},"score":0,"creation_date":1632527713,"post_id":69322066,"comment_id":122525461,"body_markdown":"have a look at this answer https://stackoverflow.com/a/53562250/1947796","body":"have a look at this answer <a href=\"https://stackoverflow.com/a/53562250/1947796\">stackoverflow.com/a/53562250/1947796</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632527851,"post_id":69322066,"comment_id":122525479,"body_markdown":"Your approach is [not recommended](https://stackoverflow.com/a/68823040/1155209).","body":"Your approach is <a href=\"https://stackoverflow.com/a/68823040/1155209\">not recommended</a>."},{"owner":{"account_id":13537945,"reputation":408,"user_id":9766517,"display_name":"Ellis Thompson"},"score":0,"creation_date":1632535024,"post_id":69322066,"comment_id":122526364,"body_markdown":"@OmarAbdullwahhab That semi works but it refuses to run on Mac :/","body":"@OmarAbdullwahhab That semi works but it refuses to run on Mac :/"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1632561171,"post_id":69322066,"comment_id":122529971,"body_markdown":"What is &quot;that&quot; and what is &quot;it&quot;?","body":"What is &quot;that&quot; and what is &quot;it&quot;?"},{"owner":{"account_id":13537945,"reputation":408,"user_id":9766517,"display_name":"Ellis Thompson"},"score":0,"creation_date":1632875612,"post_id":69322066,"comment_id":122610389,"body_markdown":"@mipa &quot;that&quot; is the solution he referenced  and &quot;it&quot; is the produced .jar as referenced in the question","body":"@mipa &quot;that&quot; is the solution he referenced  and &quot;it&quot; is the produced .jar as referenced in the question"}],"owner":{"account_id":13537945,"reputation":408,"user_id":9766517,"display_name":"Ellis Thompson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632527350,"creation_date":1632527350,"question_id":69322066,"body_markdown":"I am trying to compile a Jave project using maven into a single executable .jar but am recieveing one of two errors:\r\n```\r\nno main manifest attribute, in csci6461-1.0-SNAPSHOT.jar\r\n```\r\nor one pertaining to JavaFX\r\n\r\n```\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n```\r\n I need the file to be able to be ran directly by the user, what is the best way to approach this?\r\n\r\nThis is my pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.csci6461&lt;/groupId&gt;\r\n    &lt;artifactId&gt;csci6461&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;CSCI6461&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.0&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codeartisans.javafx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codeartisans.javafx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-deployer-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Skip the tests run. --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.15&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Sources generation --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.csci6461.ComputerSimulation&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI have also tried using an Ant build but the latter of the two errors still persist.","title":"Create a .jar from a JavaFX file Maven with all java dependencies","body":"<p>I am trying to compile a Jave project using maven into a single executable .jar but am recieveing one of two errors:</p>\n<pre><code>no main manifest attribute, in csci6461-1.0-SNAPSHOT.jar\n</code></pre>\n<p>or one pertaining to JavaFX</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n</code></pre>\n<p>I need the file to be able to be ran directly by the user, what is the best way to approach this?</p>\n<p>This is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.csci6461&lt;/groupId&gt;\n    &lt;artifactId&gt;csci6461&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CSCI6461&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.0&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codeartisans.javafx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codeartisans.javafx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-deployer-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Skip the tests run. --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.15&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Sources generation --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.csci6461.ComputerSimulation&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have also tried using an Ant build but the latter of the two errors still persist.</p>\n"},{"tags":["java","swing","jframe","joptionpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1632527088,"post_id":69321933,"comment_id":122525383,"body_markdown":"Makes no sense to have two option panes with two sets of &quot;Ok&quot; &quot;Cancel&quot; buttons. However you can add a custom panel to a JOptionPane. See: https://stackoverflow.com/questions/17617390/how-to-set-manage-the-layout-of-joptionpane/17617861#17617861 for an example. The other option is to just create your own JDialog with whatever components you want.","body":"Makes no sense to have two option panes with two sets of &quot;Ok&quot; &quot;Cancel&quot; buttons. However you can add a custom panel to a JOptionPane. See: <a href=\"https://stackoverflow.com/questions/17617390/how-to-set-manage-the-layout-of-joptionpane/17617861#17617861\" title=\"how to set manage the layout of joptionpane\">stackoverflow.com/questions/17617390/&hellip;</a> for an example. The other option is to just create your own JDialog with whatever components you want."},{"owner":{"account_id":2177238,"reputation":1349,"user_id":1927609,"accept_rate":50,"display_name":"fakedad"},"score":0,"creation_date":1632527674,"post_id":69321933,"comment_id":122525458,"body_markdown":"Does this answer your question? [Can I use a Java JOptionPane in a non-modal way?](https://stackoverflow.com/questions/5706455/can-i-use-a-java-joptionpane-in-a-non-modal-way)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5706455/can-i-use-a-java-joptionpane-in-a-non-modal-way\">Can I use a Java JOptionPane in a non-modal way?</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1632527798,"post_id":69321933,"comment_id":122525472,"body_markdown":"`JOptionPane` isn&#39;t really the best choice of this.  Instead, you should start with two `JPanel`s, each displaying the results you want, then add those to a third `JPanel` using a `GridLayout` and then finally, you can display that via a `JOptionPane` or on any window based component","body":"<code>JOptionPane</code> isn&#39;t really the best choice of this.  Instead, you should start with two <code>JPanel</code>s, each displaying the results you want, then add those to a third <code>JPanel</code> using a <code>GridLayout</code> and then finally, you can display that via a <code>JOptionPane</code> or on any window based component"}],"owner":{"account_id":22717653,"reputation":1,"user_id":16882636,"display_name":"BigAinTX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632527095,"creation_date":1632525809,"question_id":69321933,"body_markdown":"I&#39;d like to have 2 JOptionPanes next to each other, one displaying info before a sort, one displaying after a sort. Currently my program just lays the panes on top of each other and making comparing the pre and post data difficult. ","title":"Looking to display 2 JOptionPanes side by side","body":"<p>I'd like to have 2 JOptionPanes next to each other, one displaying info before a sort, one displaying after a sort. Currently my program just lays the panes on top of each other and making comparing the pre and post data difficult.</p>\n"},{"tags":["java","spring","gradle","spring-boot"],"comments":[{"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"score":1,"creation_date":1413121555,"post_id":26325739,"comment_id":41315842,"body_markdown":"In the Spring Boot properties reference (http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties) there is a &quot;security.ignored&quot; property, which defaults to false. There is no description for this property, but based on its name it could do the trick ...","body":"In the Spring Boot properties reference (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingl&zwnj;&#8203;e/&hellip;</a>) there is a &quot;security.ignored&quot; property, which defaults to false. There is no description for this property, but based on its name it could do the trick ..."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1413121687,"post_id":26325739,"comment_id":41315876,"body_markdown":"It is only enabled if you have Spring Security on your classpath. Spring Boot does auto configuration for you (you can even remove the `@enableWebMvc` annotation as Spring Boot enables it for you when it detects Spring WebMVC on the classpath. The username is user and the password is printed to the console (if you still want to use it). All in all it seems you are using spring boot but don&#39;t understand what it can do for you.","body":"It is only enabled if you have Spring Security on your classpath. Spring Boot does auto configuration for you (you can even remove the <code>@enableWebMvc</code> annotation as Spring Boot enables it for you when it detects Spring WebMVC on the classpath. The username is user and the password is printed to the console (if you still want to use it). All in all it seems you are using spring boot but don&#39;t understand what it can do for you."},{"owner":{"account_id":1483302,"reputation":271,"user_id":3502012,"accept_rate":100,"display_name":"ondrejba"},"score":0,"creation_date":1413121819,"post_id":26325739,"comment_id":41315906,"body_markdown":"Thank you. I have just realised that I have accidentally added spring-boot-starter-security to my gradle build, so removing it should solve the problem.","body":"Thank you. I have just realised that I have accidentally added spring-boot-starter-security to my gradle build, so removing it should solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632526965,"creation_date":1632526965,"answer_id":69322039,"question_id":26325739,"body_markdown":"Very old question with at least a suggestion for a solution that I will turn into an answer so that the question can be &quot;closed&quot;.\r\n\r\nRemoving `spring-boot-starter-security` dependency would be a solution.","title":"How can I turn off Spring Security?","body":"<p>Very old question with at least a suggestion for a solution that I will turn into an answer so that the question can be &quot;closed&quot;.</p>\n<p>Removing <code>spring-boot-starter-security</code> dependency would be a solution.</p>\n"}],"owner":{"account_id":1483302,"reputation":271,"user_id":3502012,"accept_rate":100,"display_name":"ondrejba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632526965,"creation_date":1413121242,"question_id":26325739,"body_markdown":"I have created a simple Spring web service using Gradle.\r\n\r\nThis is my **Application.java** code.\r\n\r\n    @EnableAutoConfiguration\r\n    @EnableWebMvc\r\n    @Configuration\r\n    @ComponentScan\r\n    public class Application {\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(Application.class, args);\r\n\t    }\r\n    }\r\n\r\nThis is my **TestController.java** code:\r\n\r\n    @Controller\r\n    public class TestController {\r\n\t    @RequestMapping(value=&quot;/test&quot;, method=RequestMethod.GET)\r\n\t    public @ResponseBody String test() {\r\n\t\t    return &quot;hello&quot;;\r\n\t    }\r\n    }\r\n\r\nWhen I launch the application and try to access it through a browser, it asks me for an username and a password. The problem is that I have not implemented any authentication mechanism and I have no idea how to access the application. How can I turn off the authentication?","title":"How can I turn off Spring Security?","body":"<p>I have created a simple Spring web service using Gradle.</p>\n\n<p>This is my <strong>Application.java</strong> code.</p>\n\n<pre><code>@EnableAutoConfiguration\n@EnableWebMvc\n@Configuration\n@ComponentScan\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>This is my <strong>TestController.java</strong> code:</p>\n\n<pre><code>@Controller\npublic class TestController {\n    @RequestMapping(value=\"/test\", method=RequestMethod.GET)\n    public @ResponseBody String test() {\n        return \"hello\";\n    }\n}\n</code></pre>\n\n<p>When I launch the application and try to access it through a browser, it asks me for an username and a password. The problem is that I have not implemented any authentication mechanism and I have no idea how to access the application. How can I turn off the authentication?</p>\n"},{"tags":["java","interface","polymorphism","abstract-class","guava"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1632608836,"post_id":69321544,"comment_id":122540071,"body_markdown":"It&#39;s not actually possible to override `asMap()` to return `Map&lt;K, Set&lt;V&gt;&gt;`.  Java will report that that&#39;s not a valid override.","body":"It&#39;s not actually possible to override <code>asMap()</code> to return <code>Map&lt;K, Set&lt;V&gt;&gt;</code>.  Java will report that that&#39;s not a valid override."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632525414,"creation_date":1632525414,"answer_id":69321898,"question_id":69321544,"body_markdown":"I can see a single reason: they want to keep the possibility of changing the implementation to return a `List` instead of a `Set` for example and avoid breaking a lot of applications relying on a return object of `Map&lt;K, Set&lt;V&gt;&gt;`.\r\nOf course, this hypothetical change would most probably mean that your code would need to change to adjust your business logic (maybe you were relying on the no duplicates &quot;feature&quot; of `Set`), but at least your code would still compile (unless you do some casting).","title":"When should implementations/extensions of an interface NOT return more specific types than those declared on the interface?","body":"<p>I can see a single reason: they want to keep the possibility of changing the implementation to return a <code>List</code> instead of a <code>Set</code> for example and avoid breaking a lot of applications relying on a return object of <code>Map&lt;K, Set&lt;V&gt;&gt;</code>.\nOf course, this hypothetical change would most probably mean that your code would need to change to adjust your business logic (maybe you were relying on the no duplicates &quot;feature&quot; of <code>Set</code>), but at least your code would still compile (unless you do some casting).</p>\n"},{"tags":[],"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632526903,"creation_date":1632526635,"answer_id":69322008,"question_id":69321544,"body_markdown":"The only reason I could see is that covariant return types were not supported before Java version 1.5 released in September 2004 so it was impossible to return a more specific type then. Not sure when that library was written, but I can only assumed it was written when this was not supported.","title":"When should implementations/extensions of an interface NOT return more specific types than those declared on the interface?","body":"<p>The only reason I could see is that covariant return types were not supported before Java version 1.5 released in September 2004 so it was impossible to return a more specific type then. Not sure when that library was written, but I can only assumed it was written when this was not supported.</p>\n"}],"owner":{"account_id":3070199,"reputation":281,"user_id":2601064,"display_name":"user2601064"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632526903,"creation_date":1632521397,"question_id":69321544,"body_markdown":"Java allows me to define an implementation of an interface that overrides its methods with ones that return a subclasses of the interface&#39;s return type. For example:\r\n\r\n    public interface GoblinHorde {\r\n        Collection&lt;Goblin&gt; getGoblins();\r\n    }\r\n\r\n    public final class UniqueGoblinHorde implements GoblinHorde {\r\n        private Set&lt;Goblins&gt; currentGoblins = new HashSet&lt;&gt;();\r\n        \r\n        @Override\r\n        public Set&lt;Goblin&gt; getGoblins() {\r\n            return currentGoblins;\r\n        }\r\n    } \r\n    \r\nThis makes perfect sense to me because it gives developers an opportunity to make a tradeoff between code maintainability and performance. If you are going to use the results of `GoblinHorde#getGoblins()` as a Set, you should have the option of declaring your GoblinHorde&#39;s type as the impl instead of the interface. This allows you to use the returned Set instead of unnecessarily building a new set from a Collection that is already a Set. Obviously this comes at the cost of code that is less maintainable in the long run, but there are situations where it makes sense. \r\n\r\nHowever, Google doesn&#39;t seem to always follow this pattern. Guava 30.1.1&#39;s `AbstractSetMultimap#asMap()` method returns the more general `Map&lt;K, Collection&lt;V&gt;&gt;` instead of `Map&lt;K, Set&lt;V&gt;&gt;` and goes so far to include a note in the Javadocs that reads `Note: The returned map&#39;s values are guaranteed to be of type Set. To obtain this map with the more specific generic type Map&lt;K, Set&lt;V&gt;&gt;, call Multimaps.asMap(SetMultimap) instead.`\r\n\r\nWhat is the impetus for requiring the use of a secondary static helper method? ","title":"When should implementations/extensions of an interface NOT return more specific types than those declared on the interface?","body":"<p>Java allows me to define an implementation of an interface that overrides its methods with ones that return a subclasses of the interface's return type. For example:</p>\n<pre><code>public interface GoblinHorde {\n    Collection&lt;Goblin&gt; getGoblins();\n}\n\npublic final class UniqueGoblinHorde implements GoblinHorde {\n    private Set&lt;Goblins&gt; currentGoblins = new HashSet&lt;&gt;();\n    \n    @Override\n    public Set&lt;Goblin&gt; getGoblins() {\n        return currentGoblins;\n    }\n} \n</code></pre>\n<p>This makes perfect sense to me because it gives developers an opportunity to make a tradeoff between code maintainability and performance. If you are going to use the results of <code>GoblinHorde#getGoblins()</code> as a Set, you should have the option of declaring your GoblinHorde's type as the impl instead of the interface. This allows you to use the returned Set instead of unnecessarily building a new set from a Collection that is already a Set. Obviously this comes at the cost of code that is less maintainable in the long run, but there are situations where it makes sense.</p>\n<p>However, Google doesn't seem to always follow this pattern. Guava 30.1.1's <code>AbstractSetMultimap#asMap()</code> method returns the more general <code>Map&lt;K, Collection&lt;V&gt;&gt;</code> instead of <code>Map&lt;K, Set&lt;V&gt;&gt;</code> and goes so far to include a note in the Javadocs that reads <code>Note: The returned map's values are guaranteed to be of type Set. To obtain this map with the more specific generic type Map&lt;K, Set&lt;V&gt;&gt;, call Multimaps.asMap(SetMultimap) instead.</code></p>\n<p>What is the impetus for requiring the use of a secondary static helper method?</p>\n"},{"tags":["java","json","parsing","stream","gson"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632526588,"creation_date":1632526588,"answer_id":69322005,"question_id":69278502,"body_markdown":"If you exactly know the JSON structure then you can get rid of the `peek()` and `JsonToken....equals(...)` calls and instead use:\r\n```java\r\nreader.beginArray();\r\nwhile (reader.hasNext()) {\r\n    reader.beginObject();\r\n\r\n    while (reader.hasNext()) {\r\n        String name = reader.nextName();\r\n        String value = reader.nextString();\r\n\r\n        ...\r\n    }\r\n\r\n    reader.endObject();\r\n}\r\nreader.endArray();\r\n```\r\n\r\nThis might not directly solve your problem, but it makes it easier to spot where the issue is. Your current code would for example in some cases not consume values because not all of your `if` and `switch` statements have `else` or `default`, so in case of unexpected JSON data your code would call `JsonReader` methods at unrelated places causing difficult to track down errors.\r\n","title":"Gson Streaming API : Not able to read all iterations of JsonObject","body":"<p>If you exactly know the JSON structure then you can get rid of the <code>peek()</code> and <code>JsonToken....equals(...)</code> calls and instead use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>reader.beginArray();\nwhile (reader.hasNext()) {\n    reader.beginObject();\n\n    while (reader.hasNext()) {\n        String name = reader.nextName();\n        String value = reader.nextString();\n\n        ...\n    }\n\n    reader.endObject();\n}\nreader.endArray();\n</code></pre>\n<p>This might not directly solve your problem, but it makes it easier to spot where the issue is. Your current code would for example in some cases not consume values because not all of your <code>if</code> and <code>switch</code> statements have <code>else</code> or <code>default</code>, so in case of unexpected JSON data your code would call <code>JsonReader</code> methods at unrelated places causing difficult to track down errors.</p>\n"}],"owner":{"account_id":8582801,"reputation":412,"user_id":6429885,"display_name":"Kunal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632526588,"creation_date":1632287291,"question_id":69278502,"body_markdown":"I&#39;m using GSON streaming api for parsing one of the huge data response in the JSON, where the JSON is like inside an Array object we have list of all objects and each objects has some properties. Now the problem is that, when i&#39;m trying to parse this response through my code, it works perfectly fine for the first object set and perfectly iterates through each property inside it, but as it moves to the second object, it fails at first line throwing the following error.\r\n\r\n&gt; Expected name but was BEGIN_OBJECT at Line // line number pointing to that of BeginObject for 2nd object in the JSON\r\n\r\nThis is my JSON structure i&#39;m using to parse:\r\n\r\n    {\r\n\t&quot;Report_Entry&quot;: [\r\n\t\t{\r\n\t\t   &quot;key1&quot;: &quot;value&quot;,\r\n\t\t   &quot;key2&quot;: &quot;value&quot;,\r\n\t\t   &quot;key3&quot;: &quot;value&quot;,\r\n\t\t   &quot;key4&quot;: &quot;value&quot;,\r\n\t\t   &quot;key5&quot;: &quot;value&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t   &quot;key1&quot;: &quot;value&quot;,\r\n\t\t   &quot;key2&quot;: &quot;value&quot;,\r\n\t\t   &quot;key3&quot;: &quot;value&quot;,\r\n\t\t   &quot;key4&quot;: &quot;value&quot;,\r\n\t\t   &quot;key5&quot;: &quot;value&quot;\r\n\t\t}\r\n\t]}\r\n\r\n\r\nThis is the code which i&#39;m using for parsing, how we can achieve the desired output?\r\n\r\n    \t\ttry {\r\n\t\t\tHCMCycleTimePerBp hcmCycleTimePerBp = new HCMCycleTimePerBp();\r\n\r\n\t\t\tpoJSONReaderObj.beginObject();\r\n\t\t\twhile (poJSONReaderObj.hasNext()) {\r\n\t\t\t\t\r\n\t\t\t\tString name = poJSONReaderObj.nextName();\r\n\t\t\t\tif (name.equals(&quot;Report_Entry&quot;)) {\r\n\t\t\t\t\tpoJSONReaderObj.beginArray();\r\n\t\t\t\t\twhile (poJSONReaderObj.hasNext()) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tJsonToken nextToken2 = poJSONReaderObj.peek();\r\n\t\t\t\t\t\tif (JsonToken.BEGIN_OBJECT.equals(nextToken2)) {\r\n\t\t\t\t\t\t\tpoJSONReaderObj.beginObject();\r\n\t\t\t\t\t\t} else if (JsonToken.END_OBJECT.equals(nextToken2)) {\r\n\t\t\t\t\t\t\tpoJSONReaderObj.endObject();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tString nextString = &quot;&quot;;\r\n\t\t\t\t\t\t\tif (JsonToken.STRING.equals(nextToken2)) {\r\n\t\t\t\t\t\t\t\tnextString = poJSONReaderObj.nextString();\r\n\t\t\t\t\t\t\t} else if (JsonToken.NAME.equals(nextToken2)) {\r\n\t\t\t\t\t\t\t\tnextString = poJSONReaderObj.nextName();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tswitch (nextString) {\r\n\t\t\t\t\t\t\tcase &quot;key1&quot;:\r\n\t\t\t\t\t\t\t\thcmCycleTimePerBp.setKey1(poJSONReaderObj.nextString());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase &quot;key2&quot;:\r\n\t\t\t\t\t\t\t\thcmCycleTimePerBp.setKey2(poJSONReaderObj.nextString());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase &quot;key3&quot;:\r\n\t\t\t\t\t\t\t\thcmCycleTimePerBp.setKey3(poJSONReaderObj.nextString());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase &quot;key4&quot;:\r\n\t\t\t\t\t\t\t\thcmCycleTimePerBp.setKey4(poJSONReaderObj.nextString());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase &quot;key5&quot;:\r\n\t\t\t\t\t\t\t\thcmCycleTimePerBp.setKey5(poJSONReaderObj.nextString());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tpoJSONReaderObj.endObject();\r\n\r\n\t\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t\t&quot;Value of Map is : &quot; + new Gson().toJson(hcmCycleTimePerBp) + &quot;counter  : &quot; + counter);\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t\tSystem.out.println(&quot;Counter : &quot; + counter);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tJsonToken nextToken = poJSONReaderObj.peek();\r\n\t\t\tif (JsonToken.END_OBJECT.equals(nextToken)) {\r\n\t\t\t\tpoJSONReaderObj.endObject();\r\n\t\t\t} else if (JsonToken.END_ARRAY.equals(nextToken)) {\r\n\t\t\t\tpoJSONReaderObj.endArray();\r\n\t\t\t}\r\n\t\t} catch (\r\n\t\t\tIOException ioException) {\r\n\t\t\t\tioException.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\r\n","title":"Gson Streaming API : Not able to read all iterations of JsonObject","body":"<p>I'm using GSON streaming api for parsing one of the huge data response in the JSON, where the JSON is like inside an Array object we have list of all objects and each objects has some properties. Now the problem is that, when i'm trying to parse this response through my code, it works perfectly fine for the first object set and perfectly iterates through each property inside it, but as it moves to the second object, it fails at first line throwing the following error.</p>\n<blockquote>\n<p>Expected name but was BEGIN_OBJECT at Line // line number pointing to that of BeginObject for 2nd object in the JSON</p>\n</blockquote>\n<p>This is my JSON structure i'm using to parse:</p>\n<pre><code>{\n&quot;Report_Entry&quot;: [\n    {\n       &quot;key1&quot;: &quot;value&quot;,\n       &quot;key2&quot;: &quot;value&quot;,\n       &quot;key3&quot;: &quot;value&quot;,\n       &quot;key4&quot;: &quot;value&quot;,\n       &quot;key5&quot;: &quot;value&quot;\n    },\n    {\n       &quot;key1&quot;: &quot;value&quot;,\n       &quot;key2&quot;: &quot;value&quot;,\n       &quot;key3&quot;: &quot;value&quot;,\n       &quot;key4&quot;: &quot;value&quot;,\n       &quot;key5&quot;: &quot;value&quot;\n    }\n]}\n</code></pre>\n<p>This is the code which i'm using for parsing, how we can achieve the desired output?</p>\n<pre><code>        try {\n        HCMCycleTimePerBp hcmCycleTimePerBp = new HCMCycleTimePerBp();\n\n        poJSONReaderObj.beginObject();\n        while (poJSONReaderObj.hasNext()) {\n            \n            String name = poJSONReaderObj.nextName();\n            if (name.equals(&quot;Report_Entry&quot;)) {\n                poJSONReaderObj.beginArray();\n                while (poJSONReaderObj.hasNext()) {\n                    \n                    JsonToken nextToken2 = poJSONReaderObj.peek();\n                    if (JsonToken.BEGIN_OBJECT.equals(nextToken2)) {\n                        poJSONReaderObj.beginObject();\n                    } else if (JsonToken.END_OBJECT.equals(nextToken2)) {\n                        poJSONReaderObj.endObject();\n                    } else {\n                        String nextString = &quot;&quot;;\n                        if (JsonToken.STRING.equals(nextToken2)) {\n                            nextString = poJSONReaderObj.nextString();\n                        } else if (JsonToken.NAME.equals(nextToken2)) {\n                            nextString = poJSONReaderObj.nextName();\n                        }\n\n                        switch (nextString) {\n                        case &quot;key1&quot;:\n                            hcmCycleTimePerBp.setKey1(poJSONReaderObj.nextString());\n                            break;\n                        case &quot;key2&quot;:\n                            hcmCycleTimePerBp.setKey2(poJSONReaderObj.nextString());\n                            break;\n                        case &quot;key3&quot;:\n                            hcmCycleTimePerBp.setKey3(poJSONReaderObj.nextString());\n                            break;\n                        case &quot;key4&quot;:\n                            hcmCycleTimePerBp.setKey4(poJSONReaderObj.nextString());\n                            break;\n                        case &quot;key5&quot;:\n                            hcmCycleTimePerBp.setKey5(poJSONReaderObj.nextString());\n                            break;\n                    }\n                }\n                \n                poJSONReaderObj.endObject();\n\n                System.out.println(\n                        &quot;Value of Map is : &quot; + new Gson().toJson(hcmCycleTimePerBp) + &quot;counter  : &quot; + counter);\n                counter++;\n                System.out.println(&quot;Counter : &quot; + counter);\n            }\n        }\n        JsonToken nextToken = poJSONReaderObj.peek();\n        if (JsonToken.END_OBJECT.equals(nextToken)) {\n            poJSONReaderObj.endObject();\n        } else if (JsonToken.END_ARRAY.equals(nextToken)) {\n            poJSONReaderObj.endArray();\n        }\n    } catch (\n        IOException ioException) {\n            ioException.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","android-room","android-livedata","mediatorlivedata"],"answers":[{"tags":[],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632523619,"creation_date":1632523619,"answer_id":69321758,"question_id":69292367,"body_markdown":"it appears that I don&#39;t to include my code inside any executer when using LiveData as return value from Dao queries.  \r\nRoom really execute queries on background only if it results from its abstract queries not the one I wrote.\r\n\r\nso my code looks like this at the end : \r\n\r\nmy Dao \r\n```\r\n@Dao\r\npublic abstract class UserDao {\r\n    @Query(&quot;Select * from page&quot;)\r\n    public abstract LiveData&lt;List&lt;PageEntity&gt;&gt; getAllPages ();\r\n    @Transaction\r\n    @Query(&quot;Select * from user limit 1&quot;)\r\n    public abstract LiveData&lt;UserPageRelation&gt; getAllUserPages ();   \r\n}\r\n```\r\n\r\nmy ViewModel \r\n```\r\npublic class MyViewModel extends ViewModel {\r\n\r\n    private MediatorLiveData&lt;PagesCombinedData&gt; pagesCombinedData;\r\n    public LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\r\n           if (pagesCombinedData==null){\r\n               pagesCombinedData = new MediatorLiveData&lt;&gt;();\r\n           }\r\n           LiveData&lt;List&lt;PageEntity&gt;&gt; value1 = scheduleDB.userDao().getAllPages();\r\n           LiveData&lt;UserPageRelation&gt; value2 = scheduleDB.userDao().getAllUserPages();\r\n           pagesCombinedData.addSource(value1, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\r\n           pagesCombinedData.addSource(value2, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\r\n           return pagesCombinedData;\r\n    }\r\n    private PagesCombinedData combineData(LiveData&lt;List&lt;PageEntity&gt;&gt; pages,LiveData&lt;UserPageRelation&gt; userPages ){\r\n        return new PagesCombinedData(pages.getValue()==null?new ArrayList&lt;&gt;():pages.getValue()\r\n                ,userPages.getValue()==null ?new ArrayList&lt;&gt;():userPages.getValue().getUserPages());\r\n    }\r\n}\r\n```\r\nand that work like charm returning the MediatorLiveData that I could observe from both of the data lists I wanted.","title":"Room Database doesn&#39;t run my implemented transaction on background thread","body":"<p>it appears that I don't to include my code inside any executer when using LiveData as return value from Dao queries.<br />\nRoom really execute queries on background only if it results from its abstract queries not the one I wrote.</p>\n<p>so my code looks like this at the end :</p>\n<p>my Dao</p>\n<pre><code>@Dao\npublic abstract class UserDao {\n    @Query(&quot;Select * from page&quot;)\n    public abstract LiveData&lt;List&lt;PageEntity&gt;&gt; getAllPages ();\n    @Transaction\n    @Query(&quot;Select * from user limit 1&quot;)\n    public abstract LiveData&lt;UserPageRelation&gt; getAllUserPages ();   \n}\n</code></pre>\n<p>my ViewModel</p>\n<pre><code>public class MyViewModel extends ViewModel {\n\n    private MediatorLiveData&lt;PagesCombinedData&gt; pagesCombinedData;\n    public LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\n           if (pagesCombinedData==null){\n               pagesCombinedData = new MediatorLiveData&lt;&gt;();\n           }\n           LiveData&lt;List&lt;PageEntity&gt;&gt; value1 = scheduleDB.userDao().getAllPages();\n           LiveData&lt;UserPageRelation&gt; value2 = scheduleDB.userDao().getAllUserPages();\n           pagesCombinedData.addSource(value1, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\n           pagesCombinedData.addSource(value2, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\n           return pagesCombinedData;\n    }\n    private PagesCombinedData combineData(LiveData&lt;List&lt;PageEntity&gt;&gt; pages,LiveData&lt;UserPageRelation&gt; userPages ){\n        return new PagesCombinedData(pages.getValue()==null?new ArrayList&lt;&gt;():pages.getValue()\n                ,userPages.getValue()==null ?new ArrayList&lt;&gt;():userPages.getValue().getUserPages());\n    }\n}\n</code></pre>\n<p>and that work like charm returning the MediatorLiveData that I could observe from both of the data lists I wanted.</p>\n"}],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69321758,"answer_count":1,"score":0,"last_activity_date":1632523619,"creation_date":1632353994,"question_id":69292367,"body_markdown":"**This question is a solution I&#39;ve tried for my other [question][1], so if you have a solution to the first one that avoids this question problems, I&#39;m all ears.**\r\n\r\nSo I have this method in Dao (`getPageCombinedData`) that is annotated with `@transaction` and should return a MediatorLiveData, I thought since MediatorLiveData is a subclass of LiveData, then Room will provide the necessary code to return it using background thread as quoted from its documentation. \r\n\r\n&gt; When Room queries return LiveData, the queries are automatically run asynchronously on a background thread.\r\n\r\nbut instead I got the exception telling me that I&#39;m running my query on Main Thread\r\n```\r\njava.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\r\n```\r\nI firstly tried making this with an Executer on another thread but I found out that whenever the database gets updated, it will never reach my observer with the new data as my code looked like this\r\n\r\nmy ViewModel code  \r\n```\r\npublic LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\r\n    MediatorLiveData&lt;PagesCombinedData&gt;dataLiveObj = new MediatorLiveData&lt;&gt;();\r\n    executor.execute(()-&gt;{\r\n                UserPageRelation userRelation = scheduleDB.userDao().getAllUserPages().getValue();\r\n                dataLiveObj .postValue(scheduleDB.userDao().getPagesCombinedData().getValue());\r\n            });\r\nreturn dataLiveObj;\r\n}\r\n```\r\nwhere that way will only update the returned LiveData only once when the thread finish executing and whenever the database gets updated, my observer in UI Fragment will never know about it.\r\n\r\nso now I don&#39;t know how should I return this Mediator in order for my UI to observe it and update the UI whenever data is updated in the database. \r\n\r\nMy Fragment&#39;s code that should observe the Mediator \r\n```\r\npagesViewModel.getPageCombinedData().observe(getViewLifecycleOwner(), pagesCombinedData -&gt; {\r\n            pagesAdapter.setUserPages(pagesCombinedData.getUserEntities());\r\n            pagesAdapter.setPageEntities(pagesCombinedData.getPageEntities());\r\n            pagesAdapter.notifyDataSetChanged();\r\n});\r\n```\r\n\r\nMy PagesViewModel Code :\r\n```\r\npublic LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\r\n        return scheduleDB.userDao().getPagesCombinedData();\r\n}\r\n```\r\n\r\nmy UserDao code that should construct the Mediator Object : \r\n```\r\n@Dao\r\npublic abstract class UserDao {\r\n    @Transaction\r\n    public MediatorLiveData&lt;PagesCombinedData&gt; getPagesCombinedData (){\r\n        MediatorLiveData &lt;PagesCombinedData&gt; dataMediator  = new MediatorLiveData&lt;&gt;();\r\n        LiveData&lt;List&lt;PageEntity&gt;&gt; value1 = getAllPages();\r\n        LiveData&lt;UserPageRelation&gt; value2 = getAllUserPages();\r\n        dataMediator.addSource(value1, value -&gt; dataMediator.setValue(combineData(value1,value2)));\r\n        dataMediator.addSource(value2, value -&gt; dataMediator.setValue(combineData(value1,value2)));\r\n        return dataMediator;\r\n    }\r\n    private PagesCombinedData combineData(LiveData&lt;List&lt;PageEntity&gt;&gt; pages,LiveData&lt;UserPageRelation&gt; userPages ){\r\n        return new PagesCombinedData(pages.getValue()==null?new ArrayList&lt;&gt;():pages.getValue()\r\n                ,userPages.getValue()==null ?new ArrayList&lt;&gt;():userPages.getValue().getUserPages());\r\n    }\r\n    @Query(&quot;Select * from page&quot;)\r\n    public abstract LiveData&lt;List&lt;PageEntity&gt;&gt; getAllPages ();\r\n    @Transaction\r\n    @Query(&quot;Select * from user limit 1&quot;)\r\n    public abstract LiveData&lt;UserPageRelation&gt; getAllUserPages ();   \r\n}\r\n```\r\n----------\r\n## Update ## \r\n\r\ntried to move my code into the ViewModel but it tells me that I can&#39;t addsource on a background thread because it uses observeForever -_-* \r\n\r\nthe code I tried in  my ViewModel \r\n\r\n```\r\nprivate MediatorLiveData&lt;PagesCombinedData&gt; pagesCombinedData;\r\nprivate ExecutorService executor ;\r\npublic LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\r\n        if (pagesCombinedData==null){\r\n            pagesCombinedData = new MediatorLiveData&lt;&gt;();\r\n            pagesCombinedData.setValue(new PagesCombinedData());\r\n        }\r\n        executor.execute(()-&gt;{\r\n            LiveData&lt;List&lt;PageEntity&gt;&gt; value1 = scheduleDB.userDao().getAllPages();\r\n            LiveData&lt;UserPageRelation&gt; value2 = scheduleDB.userDao().getAllUserPages();\r\n            pagesCombinedData.addSource(value1, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\r\n            pagesCombinedData.addSource(value2, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\r\n        });\r\n        return pagesCombinedData;\r\n    }\r\n``` \r\nthe exception I got (line 59 is `addSource` line) \r\n```\r\njava.lang.IllegalStateException: Cannot invoke observeForever on a background thread\r\n        at androidx.lifecycle.LiveData.assertMainThread(LiveData.java:487)\r\n        at androidx.lifecycle.LiveData.observeForever(LiveData.java:224)\r\n        at androidx.lifecycle.MediatorLiveData$Source.plug(MediatorLiveData.java:141)\r\n        at androidx.lifecycle.MediatorLiveData.addSource(MediatorLiveData.java:96)\r\n        at com.example.pretest.schedule.pages.PagesViewModel.lambda$getPageCombinedData$2$PagesViewModel(PagesViewModel.java:59)\r\n        at com.example.pretest.schedule.pages.-$$Lambda$PagesViewModel$Z3rbrO9SPtD8Pwpbh3mfk47DjVE.run(lambda)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n        at java.lang.Thread.run(Thread.java:841)\r\n```\r\n\r\njust tell me plain and simple, is what I&#39;m trying to achieve impossible ? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69289074/recyclerview-adapter-depends-on-two-sources-of-data","title":"Room Database doesn&#39;t run my implemented transaction on background thread","body":"<p><strong>This question is a solution I've tried for my other <a href=\"https://stackoverflow.com/questions/69289074/recyclerview-adapter-depends-on-two-sources-of-data\">question</a>, so if you have a solution to the first one that avoids this question problems, I'm all ears.</strong></p>\n<p>So I have this method in Dao (<code>getPageCombinedData</code>) that is annotated with <code>@transaction</code> and should return a MediatorLiveData, I thought since MediatorLiveData is a subclass of LiveData, then Room will provide the necessary code to return it using background thread as quoted from its documentation.</p>\n<blockquote>\n<p>When Room queries return LiveData, the queries are automatically run asynchronously on a background thread.</p>\n</blockquote>\n<p>but instead I got the exception telling me that I'm running my query on Main Thread</p>\n<pre><code>java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\n</code></pre>\n<p>I firstly tried making this with an Executer on another thread but I found out that whenever the database gets updated, it will never reach my observer with the new data as my code looked like this</p>\n<p>my ViewModel code</p>\n<pre><code>public LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\n    MediatorLiveData&lt;PagesCombinedData&gt;dataLiveObj = new MediatorLiveData&lt;&gt;();\n    executor.execute(()-&gt;{\n                UserPageRelation userRelation = scheduleDB.userDao().getAllUserPages().getValue();\n                dataLiveObj .postValue(scheduleDB.userDao().getPagesCombinedData().getValue());\n            });\nreturn dataLiveObj;\n}\n</code></pre>\n<p>where that way will only update the returned LiveData only once when the thread finish executing and whenever the database gets updated, my observer in UI Fragment will never know about it.</p>\n<p>so now I don't know how should I return this Mediator in order for my UI to observe it and update the UI whenever data is updated in the database.</p>\n<p>My Fragment's code that should observe the Mediator</p>\n<pre><code>pagesViewModel.getPageCombinedData().observe(getViewLifecycleOwner(), pagesCombinedData -&gt; {\n            pagesAdapter.setUserPages(pagesCombinedData.getUserEntities());\n            pagesAdapter.setPageEntities(pagesCombinedData.getPageEntities());\n            pagesAdapter.notifyDataSetChanged();\n});\n</code></pre>\n<p>My PagesViewModel Code :</p>\n<pre><code>public LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\n        return scheduleDB.userDao().getPagesCombinedData();\n}\n</code></pre>\n<p>my UserDao code that should construct the Mediator Object :</p>\n<pre><code>@Dao\npublic abstract class UserDao {\n    @Transaction\n    public MediatorLiveData&lt;PagesCombinedData&gt; getPagesCombinedData (){\n        MediatorLiveData &lt;PagesCombinedData&gt; dataMediator  = new MediatorLiveData&lt;&gt;();\n        LiveData&lt;List&lt;PageEntity&gt;&gt; value1 = getAllPages();\n        LiveData&lt;UserPageRelation&gt; value2 = getAllUserPages();\n        dataMediator.addSource(value1, value -&gt; dataMediator.setValue(combineData(value1,value2)));\n        dataMediator.addSource(value2, value -&gt; dataMediator.setValue(combineData(value1,value2)));\n        return dataMediator;\n    }\n    private PagesCombinedData combineData(LiveData&lt;List&lt;PageEntity&gt;&gt; pages,LiveData&lt;UserPageRelation&gt; userPages ){\n        return new PagesCombinedData(pages.getValue()==null?new ArrayList&lt;&gt;():pages.getValue()\n                ,userPages.getValue()==null ?new ArrayList&lt;&gt;():userPages.getValue().getUserPages());\n    }\n    @Query(&quot;Select * from page&quot;)\n    public abstract LiveData&lt;List&lt;PageEntity&gt;&gt; getAllPages ();\n    @Transaction\n    @Query(&quot;Select * from user limit 1&quot;)\n    public abstract LiveData&lt;UserPageRelation&gt; getAllUserPages ();   \n}\n</code></pre>\n<hr />\n<h2>Update</h2>\n<p>tried to move my code into the ViewModel but it tells me that I can't addsource on a background thread because it uses observeForever -_-*</p>\n<p>the code I tried in  my ViewModel</p>\n<pre><code>private MediatorLiveData&lt;PagesCombinedData&gt; pagesCombinedData;\nprivate ExecutorService executor ;\npublic LiveData&lt;PagesCombinedData&gt; getPageCombinedData(){\n        if (pagesCombinedData==null){\n            pagesCombinedData = new MediatorLiveData&lt;&gt;();\n            pagesCombinedData.setValue(new PagesCombinedData());\n        }\n        executor.execute(()-&gt;{\n            LiveData&lt;List&lt;PageEntity&gt;&gt; value1 = scheduleDB.userDao().getAllPages();\n            LiveData&lt;UserPageRelation&gt; value2 = scheduleDB.userDao().getAllUserPages();\n            pagesCombinedData.addSource(value1, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\n            pagesCombinedData.addSource(value2, value -&gt; pagesCombinedData.setValue(combineData(value1,value2)));\n        });\n        return pagesCombinedData;\n    }\n</code></pre>\n<p>the exception I got (line 59 is <code>addSource</code> line)</p>\n<pre><code>java.lang.IllegalStateException: Cannot invoke observeForever on a background thread\n        at androidx.lifecycle.LiveData.assertMainThread(LiveData.java:487)\n        at androidx.lifecycle.LiveData.observeForever(LiveData.java:224)\n        at androidx.lifecycle.MediatorLiveData$Source.plug(MediatorLiveData.java:141)\n        at androidx.lifecycle.MediatorLiveData.addSource(MediatorLiveData.java:96)\n        at com.example.pretest.schedule.pages.PagesViewModel.lambda$getPageCombinedData$2$PagesViewModel(PagesViewModel.java:59)\n        at com.example.pretest.schedule.pages.-$$Lambda$PagesViewModel$Z3rbrO9SPtD8Pwpbh3mfk47DjVE.run(lambda)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n        at java.lang.Thread.run(Thread.java:841)\n</code></pre>\n<p>just tell me plain and simple, is what I'm trying to achieve impossible ?</p>\n"},{"tags":["java","spring","junit","mockito","junit5"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632492086,"post_id":69316265,"comment_id":122514714,"body_markdown":"there are just too many things that are wrong here, from field injection vs constructor injection to using `AtomicReference` for whatever reason","body":"there are just too many things that are wrong here, from field injection vs constructor injection to using <code>AtomicReference</code> for whatever reason"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632492343,"post_id":69316265,"comment_id":122514815,"body_markdown":"Inject a `GreetingService` that sets `temp` to a non-null value.","body":"Inject a <code>GreetingService</code> that sets <code>temp</code> to a non-null value."},{"owner":{"account_id":20854394,"reputation":233,"user_id":15318112,"display_name":"justAnotherDev"},"score":0,"creation_date":1632493283,"post_id":69316265,"comment_id":122515220,"body_markdown":"GreetingService would be a mocked object right? @AndyTurner how can it set the value of a local variable? Can you elaborate a little.","body":"GreetingService would be a mocked object right? @AndyTurner how can it set the value of a local variable? Can you elaborate a little."},{"owner":{"account_id":20854394,"reputation":233,"user_id":15318112,"display_name":"justAnotherDev"},"score":0,"creation_date":1632498831,"post_id":69316265,"comment_id":122517547,"body_markdown":"@Eugene I just used field injection here for better understanding. :) I used construction injection in my actual code. The project is actually a reactive streams project. Where I&#39;m calling a method that uses WebClient to call an external service. The usecase is something like this, once I get response from WebClient I need to validate it. If validation fails, I still need the response to be returned in someway. So, that&#39;s what the reference to AtomicReference is doing. Sorry for the vague example","body":"@Eugene I just used field injection here for better understanding. :) I used construction injection in my actual code. The project is actually a reactive streams project. Where I&#39;m calling a method that uses WebClient to call an external service. The usecase is something like this, once I get response from WebClient I need to validate it. If validation fails, I still need the response to be returned in someway. So, that&#39;s what the reference to AtomicReference is doing. Sorry for the vague example"},{"owner":{"account_id":19155054,"reputation":61,"user_id":13992051,"display_name":"ASG"},"score":0,"creation_date":1633200594,"post_id":69316265,"comment_id":122698248,"body_markdown":"Have a look at this https://stackoverflow.com/questions/69352844/mock-local-variable-in-junit-mockito","body":"Have a look at this <a href=\"https://stackoverflow.com/questions/69352844/mock-local-variable-in-junit-mockito\" title=\"mock local variable in junit mockito\">stackoverflow.com/questions/69352844/&hellip;</a>"},{"owner":{"account_id":20854394,"reputation":233,"user_id":15318112,"display_name":"justAnotherDev"},"score":0,"creation_date":1633358256,"post_id":69316265,"comment_id":122731869,"body_markdown":"Yeah, that was asked by me. That was the answer I was looking for. Thanks anyways :)","body":"Yeah, that was asked by me. That was the answer I was looking for. Thanks anyways :)"}],"answers":[{"tags":[],"owner":{"account_id":4947488,"reputation":71,"user_id":3982476,"display_name":"Alexej Timonin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632522677,"creation_date":1632522677,"answer_id":69321666,"question_id":69316265,"body_markdown":"Here is how I would test this code without touching it. I do want to point out that the code in this question is written in a way which promotes testing of implementation details and not interface of the class. This kind of tests will not support in refactoring because they will break.\r\n\r\nI&#39;ve done some assumptions about the types this coded uses:\r\n\r\n```java\r\n@Component\r\npublic class GreetingService {\r\n\r\n    public String getGreeting(AtomicReference&lt;SomeCustomClass&gt; someCustomClass) {\r\n        return someCustomClass.get().getSomeValue();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class SomeCustomClass {\r\n\r\n    private String someValue;\r\n\r\n    public String getSomeValue() {\r\n        return someValue;\r\n    }\r\n\r\n    public void setSomeValue(String s) {\r\n        this.someValue = s;\r\n    }\r\n}\r\n```\r\n\r\nThe plan here is to mock ```GreetingService.getGreeting``` in a way which lets us to manipulate the ```temp``` during tests. \r\nThe code is using private field injection, this means that we want to boot up Spring with all of its bells and whistles, which is achieved by using ```@SpringBootTest``` annotation.\r\n\r\nWhen Spring creates our ```Example``` component we want it to use our mock ```GreetingService``` for that, this is achieved by declaring a ```@MockBean``` field in the test.\r\n\r\nNow in the tests we want to manipulate ```temp``` which is passed in to the ```GreetingService``` from inside of ```Example.greet```, for this we can use Mockitos ```then(Answer&lt;T&gt;)``` method. In the ```Answer``` we can manipulate the ```temp``` reference. Here is the final result:\r\n```java\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.invocation.InvocationOnMock;\r\nimport org.mockito.stubbing.Answer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\n\r\n@SpringBootTest\r\npublic class ExampleTest {\r\n\r\n    @Autowired\r\n    private Example example;\r\n\r\n    @MockBean\r\n    private GreetingService greetingService;\r\n\r\n    @Test\r\n    public void returnsGreetingByNameIfValueIsNotNull() {\r\n        // arrange\r\n        when(greetingService.getGreeting(any())).then(new Answer&lt;String&gt;() {\r\n            @Override\r\n            public String answer(InvocationOnMock invocation) throws Throwable {\r\n                SomeCustomClass testSomeCustomClass = new SomeCustomClass();\r\n                testSomeCustomClass.setSomeValue(&quot;Aloha&quot;);\r\n\r\n                AtomicReference&lt;SomeCustomClass&gt; ref = invocation.getArgument(0, AtomicReference.class);\r\n                ref.set(testSomeCustomClass);\r\n                return ref.get().getSomeValue();\r\n            }\r\n        });\r\n\r\n        // act\r\n        String result = example.greet(&quot;Jon Doe&quot;);\r\n\r\n        // assert\r\n        assertThat(result).isEqualTo(&quot;Aloha Jon Doe&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void returnsDefaultGreetingIfValueIsNull() {\r\n        // arrange\r\n        when(greetingService.getGreeting(any())).then(new Answer&lt;String&gt;() {\r\n            @Override\r\n            public String answer(InvocationOnMock invocation) throws Throwable {\r\n                return null;\r\n            }\r\n        });\r\n\r\n        // act\r\n        String result = example.greet(&quot;Jon Doe&quot;);\r\n\r\n        // assert\r\n        assertThat(result).isEqualTo(&quot;Hello, user&quot;);\r\n    }\r\n}\r\n```","title":"How to mock a local variable that&#39;s being set in an external method call using Mockito","body":"<p>Here is how I would test this code without touching it. I do want to point out that the code in this question is written in a way which promotes testing of implementation details and not interface of the class. This kind of tests will not support in refactoring because they will break.</p>\n<p>I've done some assumptions about the types this coded uses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class GreetingService {\n\n    public String getGreeting(AtomicReference&lt;SomeCustomClass&gt; someCustomClass) {\n        return someCustomClass.get().getSomeValue();\n    }\n}\n</code></pre>\n<pre><code>public class SomeCustomClass {\n\n    private String someValue;\n\n    public String getSomeValue() {\n        return someValue;\n    }\n\n    public void setSomeValue(String s) {\n        this.someValue = s;\n    }\n}\n</code></pre>\n<p>The plan here is to mock <code>GreetingService.getGreeting</code> in a way which lets us to manipulate the <code>temp</code> during tests.\nThe code is using private field injection, this means that we want to boot up Spring with all of its bells and whistles, which is achieved by using <code>@SpringBootTest</code> annotation.</p>\n<p>When Spring creates our <code>Example</code> component we want it to use our mock <code>GreetingService</code> for that, this is achieved by declaring a <code>@MockBean</code> field in the test.</p>\n<p>Now in the tests we want to manipulate <code>temp</code> which is passed in to the <code>GreetingService</code> from inside of <code>Example.greet</code>, for this we can use Mockitos <code>then(Answer&lt;T&gt;)</code> method. In the <code>Answer</code> we can manipulate the <code>temp</code> reference. Here is the final result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n\nimport java.util.concurrent.atomic.AtomicReference;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.invocation.InvocationOnMock;\nimport org.mockito.stubbing.Answer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\n\n@SpringBootTest\npublic class ExampleTest {\n\n    @Autowired\n    private Example example;\n\n    @MockBean\n    private GreetingService greetingService;\n\n    @Test\n    public void returnsGreetingByNameIfValueIsNotNull() {\n        // arrange\n        when(greetingService.getGreeting(any())).then(new Answer&lt;String&gt;() {\n            @Override\n            public String answer(InvocationOnMock invocation) throws Throwable {\n                SomeCustomClass testSomeCustomClass = new SomeCustomClass();\n                testSomeCustomClass.setSomeValue(&quot;Aloha&quot;);\n\n                AtomicReference&lt;SomeCustomClass&gt; ref = invocation.getArgument(0, AtomicReference.class);\n                ref.set(testSomeCustomClass);\n                return ref.get().getSomeValue();\n            }\n        });\n\n        // act\n        String result = example.greet(&quot;Jon Doe&quot;);\n\n        // assert\n        assertThat(result).isEqualTo(&quot;Aloha Jon Doe&quot;);\n    }\n\n    @Test\n    public void returnsDefaultGreetingIfValueIsNull() {\n        // arrange\n        when(greetingService.getGreeting(any())).then(new Answer&lt;String&gt;() {\n            @Override\n            public String answer(InvocationOnMock invocation) throws Throwable {\n                return null;\n            }\n        });\n\n        // act\n        String result = example.greet(&quot;Jon Doe&quot;);\n\n        // assert\n        assertThat(result).isEqualTo(&quot;Hello, user&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20854394,"reputation":233,"user_id":15318112,"display_name":"justAnotherDev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632522677,"creation_date":1632491938,"question_id":69316265,"body_markdown":"I have a code similar to this. \r\n\r\n    @Component\r\n    public class Example {\r\n      \r\n      @Autowired\r\n      private GreetingService greetService;\r\n        \r\n      public String greet(String name) {\r\n        AtomicReference&lt;SomeCustomClass&gt; temp = new AtomicReference&lt;&gt;(); \r\n        String greeting = greetService.getGreeting(temp);  // The method sets a value for temp\r\n        if(!Objects.isNull(temp.get())) {return greeting + &quot; &quot; + name;}\r\n        return &quot;Hello, user&quot;;\r\n      }\r\n    \r\n    }\r\n\r\nI know this is a deliberate example but I have a similar usecase which is a complex version of this. I want to test this class for which I want to test the `if` block. Can someone help me understand, how can I test the code inside `if` block.","title":"How to mock a local variable that&#39;s being set in an external method call using Mockito","body":"<p>I have a code similar to this.</p>\n<pre><code>@Component\npublic class Example {\n  \n  @Autowired\n  private GreetingService greetService;\n    \n  public String greet(String name) {\n    AtomicReference&lt;SomeCustomClass&gt; temp = new AtomicReference&lt;&gt;(); \n    String greeting = greetService.getGreeting(temp);  // The method sets a value for temp\n    if(!Objects.isNull(temp.get())) {return greeting + &quot; &quot; + name;}\n    return &quot;Hello, user&quot;;\n  }\n\n}\n</code></pre>\n<p>I know this is a deliberate example but I have a similar usecase which is a complex version of this. I want to test this class for which I want to test the <code>if</code> block. Can someone help me understand, how can I test the code inside <code>if</code> block.</p>\n"},{"tags":["java","android","android-studio","android-layout","android-widget"],"answers":[{"tags":[],"owner":{"account_id":15826927,"reputation":3,"user_id":11419503,"display_name":"Jojoyel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632505666,"creation_date":1632505666,"answer_id":69319254,"question_id":69302167,"body_markdown":"Have you tried ```android:elevation``` property ? I think it is what you&#39;re looking for,\r\nHope will help","title":"How to set a layout on top of a ViewPager widget in Android Studio","body":"<p>Have you tried <code>android:elevation</code> property ? I think it is what you're looking for,\nHope will help</p>\n"}],"owner":{"account_id":17585753,"reputation":79,"user_id":12800048,"display_name":"Vmir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632522107,"creation_date":1632408086,"question_id":69302167,"body_markdown":"I want to have a layout constantly on top of everything and visible all the time, however, once I swipe to the next element in the ViewPager, the FrameLayout is getting behind the ViewPager.\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    android:gravity=&quot;center_vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/videosViewPager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n\r\n        android:layout_height=&quot;match_parent&quot;\r\n\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n\r\n    &lt;RelativeLayout\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/preview_display_layout&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n\r\n            android:visibility=&quot;visible&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;\r\n            tools:layout_editor_absoluteX=&quot;216dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nI tried to place a button instead of and on top of the FrameLayout and, guess what, the button remains on top of everything without going behind the ViewPager after each sroll.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/videosViewPager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n\r\n        android:layout_height=&quot;match_parent&quot;\r\n\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n\r\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n&lt;RelativeLayout\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;Button\r\n        android:layout_width=&quot;197dp&quot;\r\n        android:layout_height=&quot;286dp&quot;&gt;\r\n\r\n    &lt;/Button&gt;\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/preview_display_layout&quot;\r\n        android:layout_width=&quot;197dp&quot;\r\n        android:layout_height=&quot;286dp&quot;\r\n\r\n        android:visibility=&quot;visible&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;\r\n        tools:layout_editor_absoluteX=&quot;216dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\nHere is my code in MainActivity \r\n```\r\n    private ViewPager2 videosViewPager;\r\n    private SurfaceView previewDisplayView;\r\n protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(getContentViewLayoutResId());\r\n\r\n        previewDisplayView = new SurfaceView(this);\r\n        setupPreviewDisplayView();\r\n\r\n\r\n         videosViewPager = findViewById(R.id.videosViewPager);\r\n\r\n        List&lt;VideoItem&gt; videoItems = new ArrayList&lt;&gt;();\r\n\r\n        VideoItem life = new VideoItem();\r\n        String path = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video;\r\n        life.videoURL = Uri.parse(path);\r\n   \r\n        videoItems.add(life);\r\n\r\n        VideoItem rest = new VideoItem();\r\n        String path2 = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video1;\r\n        rest.videoURL = Uri.parse(path);\r\n  \r\n        videoItems.add(rest);\r\n\r\n        videosViewPager.setAdapter(new VideoAdapter(videoItems));\r\n}\r\n\r\n    private void setupPreviewDisplayView() {\r\n        previewDisplayView.setVisibility(View.GONE);\r\n        ViewGroup viewGroup = findViewById(R.id.preview_display_layout);\r\n        viewGroup.addView(previewDisplayView);\r\n\r\n        previewDisplayView\r\n                .getHolder()\r\n                .addCallback(\r\n                        new SurfaceHolder.Callback() {\r\n                            @Override\r\n                            public void surfaceCreated(SurfaceHolder holder) {\r\n                                processor.getVideoSurfaceOutput().setSurface(holder.getSurface());\r\n                                Log.d(&quot;Surface&quot;,&quot;Surface Created&quot;);\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n                                onPreviewDisplaySurfaceChanged(holder, format, width, height);\r\n                                \r\n                                Log.d(&quot;Surface&quot;,&quot;Surface Changed&quot;);\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceDestroyed(SurfaceHolder holder) {\r\n                                processor.getVideoSurfaceOutput().setSurface(null);\r\n                                Log.d(&quot;Surface&quot;,&quot;Surface destroy&quot;);\r\n                            }\r\n\r\n                        });\r\n\r\n    }\r\n```\r\nI guess my issue is in adding SurfaceView(previewDisplayView)in ViewGroup.\r\nWhat can I do to make the previewDisplayView get always on top of everything? By the way, I tried bringToFront(), but after a swipe the previewDisplayLayout is automatically going behind the ViewPager.\r\nThank you in advance","title":"How to set a layout on top of a ViewPager widget in Android Studio","body":"<p>I want to have a layout constantly on top of everything and visible all the time, however, once I swipe to the next element in the ViewPager, the FrameLayout is getting behind the ViewPager.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    android:gravity=&quot;center_vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/videosViewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;match_parent&quot;\n\n        android:orientation=&quot;vertical&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\n\n    &lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/preview_display_layout&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;200dp&quot;\n\n            android:visibility=&quot;visible&quot;\n            tools:ignore=&quot;MissingConstraints&quot;\n            tools:layout_editor_absoluteX=&quot;216dp&quot;\n            tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n\n        &lt;/FrameLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I tried to place a button instead of and on top of the FrameLayout and, guess what, the button remains on top of everything without going behind the ViewPager after each sroll.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/videosViewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;match_parent&quot;\n\n        android:orientation=&quot;vertical&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n\n\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;Button\n        android:layout_width=&quot;197dp&quot;\n        android:layout_height=&quot;286dp&quot;&gt;\n\n    &lt;/Button&gt;\n    &lt;FrameLayout\n        android:id=&quot;@+id/preview_display_layout&quot;\n        android:layout_width=&quot;197dp&quot;\n        android:layout_height=&quot;286dp&quot;\n\n        android:visibility=&quot;visible&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteX=&quot;216dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n    &lt;/FrameLayout&gt;\n\n&lt;/RelativeLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Here is my code in MainActivity</p>\n<pre><code>    private ViewPager2 videosViewPager;\n    private SurfaceView previewDisplayView;\n protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(getContentViewLayoutResId());\n\n        previewDisplayView = new SurfaceView(this);\n        setupPreviewDisplayView();\n\n\n         videosViewPager = findViewById(R.id.videosViewPager);\n\n        List&lt;VideoItem&gt; videoItems = new ArrayList&lt;&gt;();\n\n        VideoItem life = new VideoItem();\n        String path = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video;\n        life.videoURL = Uri.parse(path);\n   \n        videoItems.add(life);\n\n        VideoItem rest = new VideoItem();\n        String path2 = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video1;\n        rest.videoURL = Uri.parse(path);\n  \n        videoItems.add(rest);\n\n        videosViewPager.setAdapter(new VideoAdapter(videoItems));\n}\n\n    private void setupPreviewDisplayView() {\n        previewDisplayView.setVisibility(View.GONE);\n        ViewGroup viewGroup = findViewById(R.id.preview_display_layout);\n        viewGroup.addView(previewDisplayView);\n\n        previewDisplayView\n                .getHolder()\n                .addCallback(\n                        new SurfaceHolder.Callback() {\n                            @Override\n                            public void surfaceCreated(SurfaceHolder holder) {\n                                processor.getVideoSurfaceOutput().setSurface(holder.getSurface());\n                                Log.d(&quot;Surface&quot;,&quot;Surface Created&quot;);\n\n                            }\n\n                            @Override\n                            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n                                onPreviewDisplaySurfaceChanged(holder, format, width, height);\n                                \n                                Log.d(&quot;Surface&quot;,&quot;Surface Changed&quot;);\n                            }\n\n                            @Override\n                            public void surfaceDestroyed(SurfaceHolder holder) {\n                                processor.getVideoSurfaceOutput().setSurface(null);\n                                Log.d(&quot;Surface&quot;,&quot;Surface destroy&quot;);\n                            }\n\n                        });\n\n    }\n</code></pre>\n<p>I guess my issue is in adding SurfaceView(previewDisplayView)in ViewGroup.\nWhat can I do to make the previewDisplayView get always on top of everything? By the way, I tried bringToFront(), but after a swipe the previewDisplayLayout is automatically going behind the ViewPager.\nThank you in advance</p>\n"},{"tags":["java","spring-boot","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632521372,"creation_date":1632521372,"answer_id":69321540,"question_id":69321465,"body_markdown":"This is a quote from Spring documentation\r\n\r\n&gt; **BeanPostProcessors and AOP auto-proxying**\r\n&gt; \r\n&gt; Classes that implement the BeanPostProcessor interface are special, and so they are treated differently by the container. All BeanPostProcessors and their directly referenced beans are instantiated on startup, as part of the special startup phase of the ApplicationContext. Next, all those BeanPostProcessors are registered in a sorted fashion - and applied to all further beans. Because AOP auto-proxying is implemented as a BeanPostProcessor itself, no BeanPostProcessors or directly referenced beans are eligible for auto-proxying, and thus do not have aspects woven into them.\r\n&gt;\r\n&gt; For any such bean, you should see an info log message: **“Bean foo is not eligible for getting processed by all BeanPostProcessor interfaces (for example: not eligible for auto-proxying)”**.\r\n\r\nSo, this is because `Advisor` bean participates very early in application bootstrap. This is probably ok, if you wanted it, and the warning you get is not a problem, but just a reminder.\r\n\r\n","title":"Bean &#39;advisor&#39; of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors","body":"<p>This is a quote from Spring documentation</p>\n<blockquote>\n<p><strong>BeanPostProcessors and AOP auto-proxying</strong></p>\n<p>Classes that implement the BeanPostProcessor interface are special, and so they are treated differently by the container. All BeanPostProcessors and their directly referenced beans are instantiated on startup, as part of the special startup phase of the ApplicationContext. Next, all those BeanPostProcessors are registered in a sorted fashion - and applied to all further beans. Because AOP auto-proxying is implemented as a BeanPostProcessor itself, no BeanPostProcessors or directly referenced beans are eligible for auto-proxying, and thus do not have aspects woven into them.</p>\n<p>For any such bean, you should see an info log message: <strong>“Bean foo is not eligible for getting processed by all BeanPostProcessor interfaces (for example: not eligible for auto-proxying)”</strong>.</p>\n</blockquote>\n<p>So, this is because <code>Advisor</code> bean participates very early in application bootstrap. This is probably ok, if you wanted it, and the warning you get is not a problem, but just a reminder.</p>\n"}],"owner":{"account_id":22642173,"reputation":113,"user_id":16818097,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69321540,"answer_count":1,"score":0,"last_activity_date":1632521372,"creation_date":1632520558,"question_id":69321465,"body_markdown":"I have a configuration class like this,\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class Config {\r\n    \r\n       @Bean\r\n       public Advisor advisor() {\r\n            AspectJExpressionPointcut ajp = new AspectJExpressionPointcut();\r\n            ajp.setExpression(&quot;execution(public * my.package..*.*(..))&quot;);\r\n            return new DefaultPointcutAdvisor(ajp, interceptor());\r\n        }\r\n    }\r\n\r\nAnd whenever the project is starting I am getting the following warning.\r\n\r\n&gt; Bean &#39;advisor&#39; of type\r\n&gt; [org.springframework.aop.support.DefaultPointcutAdvisor] is not\r\n&gt; eligible for getting processed by all BeanPostProcessors (for example:\r\n&gt; not eligible for auto-proxying)\r\n\r\nWhy I am getting this warning. How can I fix this?","title":"Bean &#39;advisor&#39; of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors","body":"<p>I have a configuration class like this,</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class Config {\n\n   @Bean\n   public Advisor advisor() {\n        AspectJExpressionPointcut ajp = new AspectJExpressionPointcut();\n        ajp.setExpression(&quot;execution(public * my.package..*.*(..))&quot;);\n        return new DefaultPointcutAdvisor(ajp, interceptor());\n    }\n}\n</code></pre>\n<p>And whenever the project is starting I am getting the following warning.</p>\n<blockquote>\n<p>Bean 'advisor' of type\n[org.springframework.aop.support.DefaultPointcutAdvisor] is not\neligible for getting processed by all BeanPostProcessors (for example:\nnot eligible for auto-proxying)</p>\n</blockquote>\n<p>Why I am getting this warning. How can I fix this?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632433216,"creation_date":1632433216,"answer_id":69307195,"question_id":69306578,"body_markdown":"Starting the character class with `[^` makes is a [negated character class](https://www.regular-expressions.info/charclass.html#negated).\r\n\r\nUsing `([^0-9]|[^A-Z])+` matches any char except a digit (but does match A-Z), or any char except A-Z (but does match a digit).\r\n\r\nThis way it can match any character.\r\n\r\nIf you would turn it into `[A-Z]([0-9]|[A-Z])+[A-Z]` it still does not make it mandatory to match at least a single digit on the inside due to the alternation `|` and it can still match `AAA` for example.\r\n\r\nYou might use:\r\n\r\n    ^[A-Z]+[0-9][A-Z0-9]*[A-Z]$\r\n\r\nThe pattern matches:\r\n\r\n- `^` Start of string\r\n- `[A-Z]+` Match 1+ times A-Z\r\n- `[0-9]` Match a single digit\r\n- `[A-Z0-9]*` Optionally match either A-Z or 0-9\r\n- `[A-Z]` Match a single char A-Z\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/7LOWBl/1)\r\n","title":"How do I get a regex expression to contain only uppercase letters or numbers?","body":"<p>Starting the character class with <code>[^</code> makes is a <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">negated character class</a>.</p>\n<p>Using <code>([^0-9]|[^A-Z])+</code> matches any char except a digit (but does match A-Z), or any char except A-Z (but does match a digit).</p>\n<p>This way it can match any character.</p>\n<p>If you would turn it into <code>[A-Z]([0-9]|[A-Z])+[A-Z]</code> it still does not make it mandatory to match at least a single digit on the inside due to the alternation <code>|</code> and it can still match <code>AAA</code> for example.</p>\n<p>You might use:</p>\n<pre><code>^[A-Z]+[0-9][A-Z0-9]*[A-Z]$\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[A-Z]+</code> Match 1+ times A-Z</li>\n<li><code>[0-9]</code> Match a single digit</li>\n<li><code>[A-Z0-9]*</code> Optionally match either A-Z or 0-9</li>\n<li><code>[A-Z]</code> Match a single char A-Z</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/7LOWBl/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":15702039,"reputation":18231,"user_id":11329890,"display_name":"Ryszard Czech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632521342,"creation_date":1632521342,"answer_id":69321535,"question_id":69306578,"body_markdown":"Use\r\n```java\r\n^(?=\\D*\\d\\D*$)[A-Z][A-Z\\d]*[A-Z]$\r\n```\r\nSee [regex proof][1]. \r\n\r\n`(?=\\D*\\d\\D*$)` requires only one digit in the string, no more no less.\r\n\r\n**EXPLANATION**\r\n```java\r\n--------------------------------------------------------------------------------\r\n  ^                        the beginning of the string\r\n--------------------------------------------------------------------------------\r\n  (?=                      look ahead to see if there is:\r\n--------------------------------------------------------------------------------\r\n    \\D*                      non-digits (all but 0-9) (0 or more\r\n                             times (matching the most amount\r\n                             possible))\r\n--------------------------------------------------------------------------------\r\n    \\d                       digits (0-9)\r\n--------------------------------------------------------------------------------\r\n    \\D*                      non-digits (all but 0-9) (0 or more\r\n                             times (matching the most amount\r\n                             possible))\r\n--------------------------------------------------------------------------------\r\n    $                        before an optional \\n, and the end of\r\n                             the string\r\n--------------------------------------------------------------------------------\r\n  )                        end of look-ahead\r\n--------------------------------------------------------------------------------\r\n  [A-Z]                    any character of: &#39;A&#39; to &#39;Z&#39;\r\n--------------------------------------------------------------------------------\r\n  [A-Z\\d]*                 any character of: &#39;A&#39; to &#39;Z&#39;, digits (0-9)\r\n                           (0 or more times (matching the most amount\r\n                           possible))\r\n--------------------------------------------------------------------------------\r\n  [A-Z]                    any character of: &#39;A&#39; to &#39;Z&#39;\r\n--------------------------------------------------------------------------------\r\n  $                        before an optional \\n, and the end of the\r\n                           string\r\n```\r\n\r\n  [1]: https://regex101.com/r/5rJ9qB/2","title":"How do I get a regex expression to contain only uppercase letters or numbers?","body":"<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>^(?=\\D*\\d\\D*$)[A-Z][A-Z\\d]*[A-Z]$\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/5rJ9qB/2\" rel=\"nofollow noreferrer\">regex proof</a>.</p>\n<p><code>(?=\\D*\\d\\D*$)</code> requires only one digit in the string, no more no less.</p>\n<p><strong>EXPLANATION</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>--------------------------------------------------------------------------------\n  ^                        the beginning of the string\n--------------------------------------------------------------------------------\n  (?=                      look ahead to see if there is:\n--------------------------------------------------------------------------------\n    \\D*                      non-digits (all but 0-9) (0 or more\n                             times (matching the most amount\n                             possible))\n--------------------------------------------------------------------------------\n    \\d                       digits (0-9)\n--------------------------------------------------------------------------------\n    \\D*                      non-digits (all but 0-9) (0 or more\n                             times (matching the most amount\n                             possible))\n--------------------------------------------------------------------------------\n    $                        before an optional \\n, and the end of\n                             the string\n--------------------------------------------------------------------------------\n  )                        end of look-ahead\n--------------------------------------------------------------------------------\n  [A-Z]                    any character of: 'A' to 'Z'\n--------------------------------------------------------------------------------\n  [A-Z\\d]*                 any character of: 'A' to 'Z', digits (0-9)\n                           (0 or more times (matching the most amount\n                           possible))\n--------------------------------------------------------------------------------\n  [A-Z]                    any character of: 'A' to 'Z'\n--------------------------------------------------------------------------------\n  $                        before an optional \\n, and the end of the\n                           string\n</code></pre>\n"}],"owner":{"account_id":17478064,"reputation":61,"user_id":12672482,"display_name":"Bhavya Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5754,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69307195,"answer_count":2,"score":0,"last_activity_date":1632521342,"creation_date":1632429027,"question_id":69306578,"body_markdown":"Regex expression: ```[A-Z]([^0-9]|[^A-Z])+[A-Z]```\r\n\r\nThe requirements are that the string should start and end with a capital letter A-Z, and contain at least one number in between. It should not have anything else besides capital letters on the inside. However, it&#39;s accepting spaces and punctuation too.\r\n\r\nMy expression fails the following test case **A65AJ3L 3F,D** due to the comma and whitespace.\r\n\r\nWhy does this happen when I explicitly said only numbers and uppercase letters can be in the string?","title":"How do I get a regex expression to contain only uppercase letters or numbers?","body":"<p>Regex expression: <code>[A-Z]([^0-9]|[^A-Z])+[A-Z]</code></p>\n<p>The requirements are that the string should start and end with a capital letter A-Z, and contain at least one number in between. It should not have anything else besides capital letters on the inside. However, it's accepting spaces and punctuation too.</p>\n<p>My expression fails the following test case <strong>A65AJ3L 3F,D</strong> due to the comma and whitespace.</p>\n<p>Why does this happen when I explicitly said only numbers and uppercase letters can be in the string?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":10711397,"reputation":126,"user_id":7883514,"display_name":"Satyam Singh"},"score":1,"creation_date":1631208874,"post_id":69122433,"comment_id":122167704,"body_markdown":"Is your kafka running in local at 9092 port ? could you confirm","body":"Is your kafka running in local at 9092 port ? could you confirm"}],"answers":[{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632520553,"creation_date":1632520553,"answer_id":69321463,"question_id":69122433,"body_markdown":"You are getting this warning because of below Apache-Kafka configuration\r\n\r\n    KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39;\r\nWhich means at the time of Spring Boot start consumer try to listen/consume message from   **mytopic** but it&#39;s actually not exist.\r\n\r\nPlease create topic first or change above configuration to\r\n\r\n    KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;true&#39;\r\n \r\n","title":"Kafka not connecting getting below issue","body":"<p>You are getting this warning because of below Apache-Kafka configuration</p>\n<pre><code>KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'\n</code></pre>\n<p>Which means at the time of Spring Boot start consumer try to listen/consume message from   <strong>mytopic</strong> but it's actually not exist.</p>\n<p>Please create topic first or change above configuration to</p>\n<pre><code>KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'true'\n</code></pre>\n"}],"owner":{"account_id":22705151,"reputation":21,"user_id":16871977,"display_name":"Aneesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632520553,"creation_date":1631208355,"question_id":69122433,"body_markdown":"```\r\n2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:41.778  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:41.779  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:43.001  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:43.002  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup]\r\n```\r\n\r\nCode \r\n\r\n```\r\n@Service\r\npublic class KafKaConsumerService {\r\n\tprivate final Logger logger = \r\n            LoggerFactory.getLogger(KafKaConsumerService.class);\r\n \r\n\t@KafkaListener(topics=&quot;mytopic&quot;, groupId=&quot;mygroup&quot;)\r\n\tpublic void consumeFromTopic(String message) {\r\n\t\tSystem.out.println(&quot;Consummed message &quot;+message);\r\n\t}\r\n\r\n}\r\n\r\n    public class KafKaProducerService {\r\n\tprivate static final Logger logger = \r\n            LoggerFactory.getLogger(KafKaProducerService.class);\r\n     \r\n\tpublic static final String topic = &quot;mytopic&quot;;\r\n\t  \r\n\t  @Autowired \r\n\t  private KafkaTemplate&lt;String, String&gt; kafkaTemp;\r\n\t  \r\n\t  public void publishToTopic(String message) {\r\n\t\t  System.out.println(&quot;Publishing to topic &quot;+topic);\r\n\t\t  this.kafkaTemp.send(topic, message);\r\n\t  }\r\n}\r\n```\r\n\r\nproperties\r\n   \r\n```\r\nspring.kafka.consumer.bootstrap-servers=localhost:9092\r\nspring.kafka.consumer.group-id=mygroup\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\nspring.kafka.producer.bootstrap-servers=localhost:9092\r\nspring.kafka.producer.key-deserializer = org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.producer.value-deserializer = org.apache.kafka.common.serialization.StringDeserializer\r\n```","title":"Kafka not connecting getting below issue","body":"<pre><code>2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:41.778  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:41.779  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:43.001  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:43.002  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup]\n</code></pre>\n<p>Code</p>\n<pre><code>@Service\npublic class KafKaConsumerService {\n    private final Logger logger = \n            LoggerFactory.getLogger(KafKaConsumerService.class);\n \n    @KafkaListener(topics=&quot;mytopic&quot;, groupId=&quot;mygroup&quot;)\n    public void consumeFromTopic(String message) {\n        System.out.println(&quot;Consummed message &quot;+message);\n    }\n\n}\n\n    public class KafKaProducerService {\n    private static final Logger logger = \n            LoggerFactory.getLogger(KafKaProducerService.class);\n     \n    public static final String topic = &quot;mytopic&quot;;\n      \n      @Autowired \n      private KafkaTemplate&lt;String, String&gt; kafkaTemp;\n      \n      public void publishToTopic(String message) {\n          System.out.println(&quot;Publishing to topic &quot;+topic);\n          this.kafkaTemp.send(topic, message);\n      }\n}\n</code></pre>\n<p>properties</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=localhost:9092\nspring.kafka.consumer.group-id=mygroup\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n\nspring.kafka.producer.bootstrap-servers=localhost:9092\nspring.kafka.producer.key-deserializer = org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.producer.value-deserializer = org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632519390,"creation_date":1632519390,"answer_id":69321317,"question_id":69321300,"body_markdown":"Your arguments are 1 String. Your constructor is looking for String, int, double. You just put the closing quotation mark in the wrong spot.\r\n\r\n```\r\nEmployee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\r\nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\r\n```\r\n\r\nShould be\r\n\r\n```\r\nEmployee micheal = new Employee(&quot;Micheal&quot;, 124, 15000.0);\r\nEmployee jim = new Employee(&quot;Jim&quot;, 124, 10000.0);\r\n```","title":"How can I fix the constructor in my Employee program?","body":"<p>Your arguments are 1 String. Your constructor is looking for String, int, double. You just put the closing quotation mark in the wrong spot.</p>\n<pre><code>Employee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\n</code></pre>\n<p>Should be</p>\n<pre><code>Employee micheal = new Employee(&quot;Micheal&quot;, 124, 15000.0);\nEmployee jim = new Employee(&quot;Jim&quot;, 124, 10000.0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19339689,"reputation":6375,"user_id":14529779,"display_name":"XM01 - stands with Palestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632519524,"creation_date":1632519524,"answer_id":69321329,"question_id":69321300,"body_markdown":"You have to respect typing in java *String* enclosed within quoted, *int* and *double* must be numbers not strings. So Change\r\n```java\r\nEmployee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\r\n```\r\nto :\r\n```java\r\nEmployee micheal = new Employee (&quot;Micheal&quot;, 124, 15000.0);\r\n```","title":"How can I fix the constructor in my Employee program?","body":"<p>You have to respect typing in java <em>String</em> enclosed within quoted, <em>int</em> and <em>double</em> must be numbers not strings. So Change</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\n</code></pre>\n<p>to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee micheal = new Employee (&quot;Micheal&quot;, 124, 15000.0);\n</code></pre>\n"}],"owner":{"account_id":22851886,"reputation":1,"user_id":16997371,"display_name":"McXombiGuts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1632661079,"accepted_answer_id":69321317,"answer_count":2,"score":-4,"last_activity_date":1632519524,"creation_date":1632519166,"question_id":69321300,"body_markdown":"I currently have an assignment in my coding class that has me stumped. I&#39;m a beginner at coding, and I am currently trying to get a constructor to work. I get the following *error:\r\n &quot;constructor Employee in class Employee cannot be applied to given types;\r\n  required: String,int,double\r\n  found:    String\r\n  reason: actual and formal argument lists differ in length&quot;*\r\n\r\nConstructor code: \r\n\r\n```java\r\npublic class Employee {\r\n    \r\n    String name; //Employee name\r\n    int employeeId; // employee id\r\n    double salary; // employee salary\r\n    \r\n    \r\n   //Constructor here\r\n    public Employee(String name, int employeeId, double salary) {\r\n        this.name = name;\r\n        this.employeeId = employeeId;\r\n        this.salary = salary;\r\n```\r\nProblem corresponding code: \r\n```java\r\nEmployee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\r\n        \r\nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\r\n```\r\n\r\n\r\nThe purpose of the program is to display two made up employee&#39;s names, ID #&#39;s, and salary. After that&#39;s done, I need to have it calculate and set a 10% raise in salary for one of the employee&#39;s.","title":"How can I fix the constructor in my Employee program?","body":"<p>I currently have an assignment in my coding class that has me stumped. I'm a beginner at coding, and I am currently trying to get a constructor to work. I get the following <em>error:\n&quot;constructor Employee in class Employee cannot be applied to given types;\nrequired: String,int,double\nfound:    String\nreason: actual and formal argument lists differ in length&quot;</em></p>\n<p>Constructor code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n    \n    String name; //Employee name\n    int employeeId; // employee id\n    double salary; // employee salary\n    \n    \n   //Constructor here\n    public Employee(String name, int employeeId, double salary) {\n        this.name = name;\n        this.employeeId = employeeId;\n        this.salary = salary;\n</code></pre>\n<p>Problem corresponding code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\n        \nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\n</code></pre>\n<p>The purpose of the program is to display two made up employee's names, ID #'s, and salary. After that's done, I need to have it calculate and set a 10% raise in salary for one of the employee's.</p>\n"},{"tags":["java","macos","terminal"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1632519334,"post_id":69321288,"comment_id":122524162,"body_markdown":"Is there a package declaration in the java file?","body":"Is there a package declaration in the java file?"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1632519581,"post_id":69321288,"comment_id":122524213,"body_markdown":"Use the command `vi DeptQuery.java` and check if you have a package declaration at the top.","body":"Use the command <code>vi DeptQuery.java</code> and check if you have a package declaration at the top."}],"owner":{"account_id":20843575,"reputation":1,"user_id":15309636,"display_name":"hashingboth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632552481,"answer_count":0,"score":0,"last_activity_date":1632519327,"creation_date":1632519071,"question_id":69321288,"body_markdown":"I am using Mac Big Sur terminal.\r\n\r\nI have a .java file. I can compile using:\r\njavac DeptQuery.java\r\n\r\nwhere it creates the class file within the same directory. But then when I type\r\n\r\njava DeptQuery \r\n\r\nto run it, it give the error: &quot;Error: Could not find or load main class DeptQuery&quot;\r\n\r\nI also can&#39;t open the .java file from the terminal, I can only compile it from there.","title":"Could not find or load main class Mac terminal .java","body":"<p>I am using Mac Big Sur terminal.</p>\n<p>I have a .java file. I can compile using:\njavac DeptQuery.java</p>\n<p>where it creates the class file within the same directory. But then when I type</p>\n<p>java DeptQuery</p>\n<p>to run it, it give the error: &quot;Error: Could not find or load main class DeptQuery&quot;</p>\n<p>I also can't open the .java file from the terminal, I can only compile it from there.</p>\n"},{"tags":["java","unit-testing","static","mockito"],"answers":[{"tags":[],"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632519257,"creation_date":1632518507,"answer_id":69321217,"question_id":69317570,"body_markdown":"The static initializer is **only executed once**, when the class is loaded. This means it will only run for the first test case using the `Host` class.\r\n\r\nIn your example, once `testLocalhost` is run, the class is used in the line  `Host.getLOCALHOST()`, by which point its initializer has been executed. It never runs again throughout the rest of the unit tests. \r\n\r\nIf you switch the order of these test cases, you&#39;ll get a different result.\r\n\r\nJudging by your test cases, there&#39;s a few things you could do to make the code match your expectations. Since the IP and the host name will change throughout the execution of your program, they shouldn&#39;t be static members set in the static initializer block.\r\n\r\n 1. Get rid of shared state. Setting aside concurrency and memory visibility, `static` members will be visible to all instances of the class. Omit the `static` keyword and make these into regular fields\r\n    ```\r\n    public class Host {\r\n  \r\n        private final String hostName;\r\n\r\n        private final String ip;\r\n\r\n        // Constructor, use this to build new instances\r\n        public Host(String hostName, String ip) {\r\n            this.hostName = hostName;\r\n            this.ip = ip;\r\n        }\r\n\r\n        // No longer static, this is now an instance method\r\n        public getHostName() {\r\n            return this.hostName;\r\n        }\r\n\r\n        public getIp() {\r\n            return this.ip;\r\n        }\r\n    }\r\n    ```\r\n    \r\n 2. Build instances of your class, passing arguments to the constructor to customize its behaviour.\r\n    ```\r\n    // Host.getIp(); // If IP and host name can vary, don&#39;t make them static\r\n    InetAddress localhost = InetAddress.getLocalHost();\r\n    // build a new instance of Host, provide the relevant data at construction time\r\n    Host testedHost = new Host(localhost.getHostName(), localhost.getHostAddress());\r\n    // call the instance method, this doesn&#39;t affect your other tests\r\n    assertThat(testedHost.getIp()).is(someIp);\r\n    // at this point, the Host instance you created may be garbage-collected to free memory (you don&#39;t need to do that yourself)\r\n    ```\r\n    Now every test case will be independent from the others. Just create a new instance of `Host` every time you need one.\r\n 3. Get rid of static mocks. notice how the `InetAddress` method invocations were moved outside the `Host` class. By passing them through the constructor, you make the code easier to test. [Inversion of control](https://en.wikipedia.org/wiki/Inversion_of_control) is achieved.\r\n\r\nInstead of a public constructor, you could use a factory method. Bottom line is that if you want to have the class change its behaviour, it&#39;s usually better to create new instances and encapsulate any state.\r\n\r\nStatic classes and members are better suited for things like immutable contants that won&#39;t change throughout the execution of your program, or utility methods that don&#39;t rely on any internal state, i.e. [pure functions](https://en.wikipedia.org/wiki/Pure_function). ","title":"Failing unit test with mockito.mockStatic","body":"<p>The static initializer is <strong>only executed once</strong>, when the class is loaded. This means it will only run for the first test case using the <code>Host</code> class.</p>\n<p>In your example, once <code>testLocalhost</code> is run, the class is used in the line  <code>Host.getLOCALHOST()</code>, by which point its initializer has been executed. It never runs again throughout the rest of the unit tests.</p>\n<p>If you switch the order of these test cases, you'll get a different result.</p>\n<p>Judging by your test cases, there's a few things you could do to make the code match your expectations. Since the IP and the host name will change throughout the execution of your program, they shouldn't be static members set in the static initializer block.</p>\n<ol>\n<li><p>Get rid of shared state. Setting aside concurrency and memory visibility, <code>static</code> members will be visible to all instances of the class. Omit the <code>static</code> keyword and make these into regular fields</p>\n<pre><code>public class Host {\n\n    private final String hostName;\n\n    private final String ip;\n\n    // Constructor, use this to build new instances\n    public Host(String hostName, String ip) {\n        this.hostName = hostName;\n        this.ip = ip;\n    }\n\n    // No longer static, this is now an instance method\n    public getHostName() {\n        return this.hostName;\n    }\n\n    public getIp() {\n        return this.ip;\n    }\n}\n</code></pre>\n</li>\n<li><p>Build instances of your class, passing arguments to the constructor to customize its behaviour.</p>\n<pre><code>// Host.getIp(); // If IP and host name can vary, don't make them static\nInetAddress localhost = InetAddress.getLocalHost();\n// build a new instance of Host, provide the relevant data at construction time\nHost testedHost = new Host(localhost.getHostName(), localhost.getHostAddress());\n// call the instance method, this doesn't affect your other tests\nassertThat(testedHost.getIp()).is(someIp);\n// at this point, the Host instance you created may be garbage-collected to free memory (you don't need to do that yourself)\n</code></pre>\n<p>Now every test case will be independent from the others. Just create a new instance of <code>Host</code> every time you need one.</p>\n</li>\n<li><p>Get rid of static mocks. notice how the <code>InetAddress</code> method invocations were moved outside the <code>Host</code> class. By passing them through the constructor, you make the code easier to test. <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">Inversion of control</a> is achieved.</p>\n</li>\n</ol>\n<p>Instead of a public constructor, you could use a factory method. Bottom line is that if you want to have the class change its behaviour, it's usually better to create new instances and encapsulate any state.</p>\n<p>Static classes and members are better suited for things like immutable contants that won't change throughout the execution of your program, or utility methods that don't rely on any internal state, i.e. <a href=\"https://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow noreferrer\">pure functions</a>.</p>\n"}],"owner":{"account_id":7399463,"reputation":1,"user_id":5630381,"display_name":"Josip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632519257,"creation_date":1632497175,"question_id":69317570,"body_markdown":"So, I&#39;m writing a junit test and I can&#39;t seem te figure out why it is failing. I&#39;m using Mockito.mockStatic in order to mock InetAddres.class. Running the unit tests all at once fails. Running them separately succeeds. I understand static blocks are initialized once. What I can&#39;t seem to figure out is why class Host is not reinitialized with every unit test. Any help is appreciated\r\n\r\nJ\r\n\r\nHere is my code:\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n\r\nclass HostTest {\r\n\r\n    @Test\r\n    void testLocalhost() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\r\n            Mockito.when(inetAddress.getHostName()).thenReturn(&quot;LOCALHOST&quot;);\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\r\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;LOCALHOST&quot;);\r\n            Mockito.reset(inetAddress);\r\n\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testIP() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\r\n            Mockito.when(inetAddress.getHostAddress()).thenReturn(&quot;127.0.0.1&quot;);\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\r\n            assertThat(Host.getIP()).isEqualTo(&quot;127.0.0.1&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testUnkownHostExceptionIP() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\r\n            assertThat(Host.getIP()).isEqualTo(&quot;Unkown ip&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    @Test\r\n    void testUnkownHostExceptionLocalhost() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\r\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;Unkown hostname&quot;);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Host {\r\n\r\n    private static String LOCALHOST;\r\n    private static String IP;\r\n\r\n    static {\r\n        try {\r\n            InetAddress localhost = InetAddress.getLocalHost();\r\n            LOCALHOST = localhost.getHostName();\r\n            IP = localhost.getHostAddress();\r\n        } catch (UnknownHostException e) {\r\n            LOCALHOST = &quot;Unkown hostname&quot;;\r\n            IP = &quot;Unkown ip&quot;;\r\n        }\r\n    }\r\n\r\n    public static String getLOCALHOST() {\r\n        return LOCALHOST;\r\n    }\r\n\r\n    public static String getIP() {\r\n        return IP;\r\n    }\r\n}\r\n```","title":"Failing unit test with mockito.mockStatic","body":"<p>So, I'm writing a junit test and I can't seem te figure out why it is failing. I'm using Mockito.mockStatic in order to mock InetAddres.class. Running the unit tests all at once fails. Running them separately succeeds. I understand static blocks are initialized once. What I can't seem to figure out is why class Host is not reinitialized with every unit test. Any help is appreciated</p>\n<p>J</p>\n<p>Here is my code:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n\nclass HostTest {\n\n    @Test\n    void testLocalhost() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\n            Mockito.when(inetAddress.getHostName()).thenReturn(&quot;LOCALHOST&quot;);\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;LOCALHOST&quot;);\n            Mockito.reset(inetAddress);\n\n        }\n    }\n\n    @Test\n    void testIP() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\n            Mockito.when(inetAddress.getHostAddress()).thenReturn(&quot;127.0.0.1&quot;);\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\n            assertThat(Host.getIP()).isEqualTo(&quot;127.0.0.1&quot;);\n        }\n    }\n\n    @Test\n    void testUnkownHostExceptionIP() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\n            assertThat(Host.getIP()).isEqualTo(&quot;Unkown ip&quot;);\n        }\n\n    }\n\n    @Test\n    void testUnkownHostExceptionLocalhost() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;Unkown hostname&quot;);\n\n        }\n    }\n}\n\n\n\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\npublic class Host {\n\n    private static String LOCALHOST;\n    private static String IP;\n\n    static {\n        try {\n            InetAddress localhost = InetAddress.getLocalHost();\n            LOCALHOST = localhost.getHostName();\n            IP = localhost.getHostAddress();\n        } catch (UnknownHostException e) {\n            LOCALHOST = &quot;Unkown hostname&quot;;\n            IP = &quot;Unkown ip&quot;;\n        }\n    }\n\n    public static String getLOCALHOST() {\n        return LOCALHOST;\n    }\n\n    public static String getIP() {\n        return IP;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1632524947,"post_id":69320822,"comment_id":122525082,"body_markdown":"Looks like this [answer](https://stackoverflow.com/a/50114884/8370915) is related to your question. Please, check it. If it doesn&#39;t help you, update your question with attempts to continue investigation.","body":"Looks like this <a href=\"https://stackoverflow.com/a/50114884/8370915\">answer</a> is related to your question. Please, check it. If it doesn&#39;t help you, update your question with attempts to continue investigation."},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632546602,"post_id":69320822,"comment_id":122527614,"body_markdown":"This video could help you. [Selenium java](https://www.youtube.com/watch?v=NJZop3GZWQU&amp;lc=Ugw4fM2arcxSvYEieHx4AaABAg.9S8bG9W9G3c9SLFsYZMChk)","body":"This video could help you. <a href=\"https://www.youtube.com/watch?v=NJZop3GZWQU&amp;lc=Ugw4fM2arcxSvYEieHx4AaABAg.9S8bG9W9G3c9SLFsYZMChk\" rel=\"nofollow noreferrer\">Selenium java</a>"}],"answers":[{"tags":[],"owner":{"account_id":22851525,"reputation":1,"user_id":16997059,"display_name":"Liitlewheat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632517820,"creation_date":1632517820,"answer_id":69321133,"question_id":69320822,"body_markdown":"you write that you have jar in the libraries.\r\nDo you mean a libraries on a filesystem or a libraries in a project? \r\nIf not - then the JAR needs to be inserted into the Project (see picture)[Project / Libraries][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ik6PV.png","title":"Selenium Java setup eclipse","body":"<p>you write that you have jar in the libraries.\nDo you mean a libraries on a filesystem or a libraries in a project?\nIf not - then the JAR needs to be inserted into the Project (see picture)<a href=\"https://i.stack.imgur.com/Ik6PV.png\" rel=\"nofollow noreferrer\">Project / Libraries</a></p>\n"}],"owner":{"account_id":18686239,"reputation":69,"user_id":13621685,"display_name":"Anshul Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632517820,"creation_date":1632515495,"question_id":69320822,"body_markdown":"I am new to java in selenium i am setting up the below code however eclipse is unable to recognize the webdriver and chromedriver below are the snap can someone please help me on this. I have also downloaded the JARS and kept it on the the libraries\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/meSUL.jpg","title":"Selenium Java setup eclipse","body":"<p>I am new to java in selenium i am setting up the below code however eclipse is unable to recognize the webdriver and chromedriver below are the snap can someone please help me on this. I have also downloaded the JARS and kept it on the the libraries</p>\n<p><a href=\"https://i.stack.imgur.com/meSUL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/meSUL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-oauth2"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1632528883,"post_id":69319411,"comment_id":122525610,"body_markdown":"why not just generate a jwt that lasts for 100 years and use that... sounds a lot easier.","body":"why not just generate a jwt that lasts for 100 years and use that... sounds a lot easier."}],"owner":{"account_id":2556410,"reputation":51,"user_id":6062333,"display_name":"Juan Pablo Meza Utreras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1561,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1632517820,"creation_date":1632506606,"question_id":69319411,"body_markdown":"I&#39;m migrating a microservice built on Spring Boot from Spring Security OAuth 2 (2.5.5) to Spring Security 5. For resource servers, this is easily done following many of the [tutorials found online][1]. \r\n\r\nProblem arises when there&#39;s Authorization server logic, which is not directly supported by Spring Security 5. Recently Spring has made available a production-ready version of their new Auth server, [Spring Authorization Server 0.2.0][2]. This components follows the same coding style and structure of Spring Security OAuth 2, but there is no documentation available yet, and very few tutorials online available.\r\n\r\nWhile this microservice is not a proper authorization server, it uses Spring auth server code to generate a custom `authenticationProvider` for our local environment that can return a `OAuth2Authentication` (deprecated) authentication token, all of this configuration is defined in a `ResourceServerConfigurerAdapter` (which is also deprecated). \r\n\r\nThis was done so that we can test endpoints in our local environment without the need of a JWT, and by having a `OAuth2Authentication` we don&#39;t need to make any changes in our code, if we ever need to get any claims from the JWT in the code. I haven&#39;t seen this kind of setup online, and I haven&#39;t been able to properly create an `authenticationProvider` using Spring Authorization Server&#39;s classes. I always get a 403 response from any endpoint.\r\n\r\nOriginal code with Spring Security OAuth 2\r\n\r\n    @EnableResourceServer\r\n    @Configuration\r\n    @Profile(&quot;local&quot;)\r\n    public class ResourceServerConfigurationLocal extends ResourceServerConfigurerAdapter{\r\n\r\n        private static final String LOCAL = &quot;local&quot;;\r\n        @Value(&quot;${id.local.oauth}&quot;)\r\n        private String id;\r\n        @Value(&quot;${clientId.local.oauth}&quot;)\r\n        private Integer clientId;\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n          http\r\n            .requestMatchers()\r\n                .antMatchers(&quot;/api/**&quot;)\r\n                .and()\r\n            .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n            .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\r\n        }\r\n\r\n        @Override\r\n        public void configure(final ResourceServerSecurityConfigurer resources) {\r\n        resources\r\n                .tokenExtractor(request -&gt; new UsernamePasswordAuthenticationToken(LOCAL, LOCAL))\r\n                .tokenServices(ResourceServerTokenServicesLocal.getResourceServerTokenServices());\r\n        }\r\n\r\n        private static class LocalAuthenticationProvider {\r\n            private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\r\n                return new AuthenticationProvider() {\r\n                    @Override\r\n                    public Authentication authenticate(Authentication authentication) {\r\n                        log.info(&quot;Logged with ID: {}&quot;, id);\r\n                        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\r\n                        token.setDetails(CustomUserDetails.builder().userId(clientId).build());\r\n                        return new OAuth2Authentication(null, token);\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean supports(Class&lt;?&gt; authentication) {\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\n        private static class ResourceServerTokenServicesLocal {\r\n            private static ResourceServerTokenServices getResourceServerTokenServices() {\r\n                return new ResourceServerTokenServices() {\r\n                    @Override\r\n                    public OAuth2Authentication loadAuthentication(String accessToken) {\r\n                        return new OAuth2Authentication(\r\n                            Oauth2RequestLocal.getOauth2Request(),\r\n                            new UsernamePasswordAuthenticationToken(LOCAL, LOCAL));\r\n                    }\r\n\r\n                    @Override\r\n                    public OAuth2AccessToken readAccessToken(String accessToken) {\r\n                        return new DefaultOAuth2AccessToken(LOCAL);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\n        private static class Oauth2RequestLocal {\r\n            private static OAuth2Request getOauth2Request() {\r\n                return new OAuth2Request(Collections.emptyMap(),\r\n                    &quot;clientId1&quot;,\r\n                    null,\r\n                    true,\r\n                    Collections.emptySet(),\r\n                    null,\r\n                    &quot;http://local&quot;,\r\n                    null,\r\n                    null);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat I have tried so far:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Profile(&quot;local&quot;)\r\n    public class ResourceServerConfigurationLocal extends WebSecurityConfigurerAdapter {\r\n\r\n        private static final String LOCAL = &quot;local&quot;;\r\n        @Value(&quot;${id.local.oauth}&quot;)\r\n        private String id;\r\n        @Value(&quot;${clientId.local.oauth}&quot;)\r\n        private Integer clientId;\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .requestMatchers()\r\n                \t.antMatchers(&quot;/api/**&quot;)\r\n                \t.and()\r\n                .authorizeRequests()\r\n                \t.anyRequest()\r\n                \t.authenticated()\r\n                \t.and()\r\n                .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\r\n        }\r\n        \r\n        private static class LocalAuthenticationProvider {\r\n            private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\r\n                return new AuthenticationProvider() {\r\n                    @Override\r\n                    public Authentication authenticate(Authentication authentication) {\r\n                    log.info(&quot;Logged with ID: {}&quot;, id);\r\n                        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\r\n                        token.setDetails(CustomUserDetails.builder().userId(clientId).build());\r\n\r\n                        return new OAuth2AccessTokenAuthenticationToken(\r\n                        \t\tRegisteredClient.withId(clientId.toString()).clientId(clientId.toString()).clientName(id).build(), \r\n                        \t\ttoken, \r\n                        \t\tnew OAuth2AccessToken(OAuth2AccessToken.TokenType.BEARER,&quot;a&quot;,null,null));\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean supports(Class&lt;?&gt; authentication) {\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://www.baeldung.com/spring-security-oauth-resource-server\r\n  [2]: https://github.com/spring-projects/spring-authorization-server","title":"Custom authenticationProvider with Spring Authorization Server","body":"<p>I'm migrating a microservice built on Spring Boot from Spring Security OAuth 2 (2.5.5) to Spring Security 5. For resource servers, this is easily done following many of the <a href=\"https://www.baeldung.com/spring-security-oauth-resource-server\" rel=\"nofollow noreferrer\">tutorials found online</a>.</p>\n<p>Problem arises when there's Authorization server logic, which is not directly supported by Spring Security 5. Recently Spring has made available a production-ready version of their new Auth server, <a href=\"https://github.com/spring-projects/spring-authorization-server\" rel=\"nofollow noreferrer\">Spring Authorization Server 0.2.0</a>. This components follows the same coding style and structure of Spring Security OAuth 2, but there is no documentation available yet, and very few tutorials online available.</p>\n<p>While this microservice is not a proper authorization server, it uses Spring auth server code to generate a custom <code>authenticationProvider</code> for our local environment that can return a <code>OAuth2Authentication</code> (deprecated) authentication token, all of this configuration is defined in a <code>ResourceServerConfigurerAdapter</code> (which is also deprecated).</p>\n<p>This was done so that we can test endpoints in our local environment without the need of a JWT, and by having a <code>OAuth2Authentication</code> we don't need to make any changes in our code, if we ever need to get any claims from the JWT in the code. I haven't seen this kind of setup online, and I haven't been able to properly create an <code>authenticationProvider</code> using Spring Authorization Server's classes. I always get a 403 response from any endpoint.</p>\n<p>Original code with Spring Security OAuth 2</p>\n<pre><code>@EnableResourceServer\n@Configuration\n@Profile(&quot;local&quot;)\npublic class ResourceServerConfigurationLocal extends ResourceServerConfigurerAdapter{\n\n    private static final String LOCAL = &quot;local&quot;;\n    @Value(&quot;${id.local.oauth}&quot;)\n    private String id;\n    @Value(&quot;${clientId.local.oauth}&quot;)\n    private Integer clientId;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n      http\n        .requestMatchers()\n            .antMatchers(&quot;/api/**&quot;)\n            .and()\n        .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n        .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\n    }\n\n    @Override\n    public void configure(final ResourceServerSecurityConfigurer resources) {\n    resources\n            .tokenExtractor(request -&gt; new UsernamePasswordAuthenticationToken(LOCAL, LOCAL))\n            .tokenServices(ResourceServerTokenServicesLocal.getResourceServerTokenServices());\n    }\n\n    private static class LocalAuthenticationProvider {\n        private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\n            return new AuthenticationProvider() {\n                @Override\n                public Authentication authenticate(Authentication authentication) {\n                    log.info(&quot;Logged with ID: {}&quot;, id);\n                    UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\n                    token.setDetails(CustomUserDetails.builder().userId(clientId).build());\n                    return new OAuth2Authentication(null, token);\n                }\n\n                @Override\n                public boolean supports(Class&lt;?&gt; authentication) {\n                    return true;\n                }\n            };\n        }\n    }\n\n    private static class ResourceServerTokenServicesLocal {\n        private static ResourceServerTokenServices getResourceServerTokenServices() {\n            return new ResourceServerTokenServices() {\n                @Override\n                public OAuth2Authentication loadAuthentication(String accessToken) {\n                    return new OAuth2Authentication(\n                        Oauth2RequestLocal.getOauth2Request(),\n                        new UsernamePasswordAuthenticationToken(LOCAL, LOCAL));\n                }\n\n                @Override\n                public OAuth2AccessToken readAccessToken(String accessToken) {\n                    return new DefaultOAuth2AccessToken(LOCAL);\n                }\n            };\n        }\n    }\n\n    private static class Oauth2RequestLocal {\n        private static OAuth2Request getOauth2Request() {\n            return new OAuth2Request(Collections.emptyMap(),\n                &quot;clientId1&quot;,\n                null,\n                true,\n                Collections.emptySet(),\n                null,\n                &quot;http://local&quot;,\n                null,\n                null);\n        }\n    }\n}\n</code></pre>\n<p>What I have tried so far:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Profile(&quot;local&quot;)\npublic class ResourceServerConfigurationLocal extends WebSecurityConfigurerAdapter {\n\n    private static final String LOCAL = &quot;local&quot;;\n    @Value(&quot;${id.local.oauth}&quot;)\n    private String id;\n    @Value(&quot;${clientId.local.oauth}&quot;)\n    private Integer clientId;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .requestMatchers()\n                .antMatchers(&quot;/api/**&quot;)\n                .and()\n            .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n            .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\n    }\n    \n    private static class LocalAuthenticationProvider {\n        private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\n            return new AuthenticationProvider() {\n                @Override\n                public Authentication authenticate(Authentication authentication) {\n                log.info(&quot;Logged with ID: {}&quot;, id);\n                    UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\n                    token.setDetails(CustomUserDetails.builder().userId(clientId).build());\n\n                    return new OAuth2AccessTokenAuthenticationToken(\n                            RegisteredClient.withId(clientId.toString()).clientId(clientId.toString()).clientName(id).build(), \n                            token, \n                            new OAuth2AccessToken(OAuth2AccessToken.TokenType.BEARER,&quot;a&quot;,null,null));\n                }\n\n                @Override\n                public boolean supports(Class&lt;?&gt; authentication) {\n                    return true;\n                }\n            };\n        }\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1548040387,"post_id":54282556,"comment_id":95387761,"body_markdown":"The interesting thing is that the [Oracle Java SE FAQs](https://www.oracle.com/technetwork/java/javase/overview/faqs-jsp-136696.html) actually answer this directly:   *&quot;Is Java still free?\nThe current version of Java - Java SE 11 is available from Oracle under an open source license at http://jdk.java.net/11/.&quot;*","body":"The interesting thing is that the <a href=\"https://www.oracle.com/technetwork/java/javase/overview/faqs-jsp-136696.html\" rel=\"nofollow noreferrer\">Oracle Java SE FAQs</a> actually answer this directly:   <i>&quot;Is Java still free? The current version of Java - Java SE 11 is available from Oracle under an open source license at <a href=\"http://jdk.java.net/11/\" rel=\"nofollow noreferrer\">jdk.java.net/11</a>.&quot;</i>"},{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1548040811,"post_id":54282556,"comment_id":95387841,"body_markdown":"A 10 minutes Devoxx video @ https://youtu.be/cUqcSFLnk_E?t=35 provides good info on free/commercial license, updates and support topics.","body":"A 10 minutes Devoxx video @ <a href=\"https://youtu.be/cUqcSFLnk_E?t=35\" rel=\"nofollow noreferrer\">youtu.be/cUqcSFLnk_E?t=35</a> provides good info on free/commercial license, updates and support topics."}],"answers":[{"tags":[],"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548036657,"creation_date":1548036657,"answer_id":54282731,"question_id":54282556,"body_markdown":"All Oracle&#39;s OpenJDK&#39;s are free, in any environment. The issue arises when you use the Oracle JDK (not with the OpenJDK). Since they are functionally the same since Java 11, there is no need to switch languages. \r\n\r\nMore details here:\r\nhttps://blog.jetbrains.com/idea/2018/09/using-java-11-in-production-important-things-to-know/","title":"Is there any OpenJDK that is fully free and will be available for commercial use","body":"<p>All Oracle's OpenJDK's are free, in any environment. The issue arises when you use the Oracle JDK (not with the OpenJDK). Since they are functionally the same since Java 11, there is no need to switch languages. </p>\n\n<p>More details here:\n<a href=\"https://blog.jetbrains.com/idea/2018/09/using-java-11-in-production-important-things-to-know/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2018/09/using-java-11-in-production-important-things-to-know/</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1632516982,"creation_date":1548040176,"answer_id":54283051,"question_id":54282556,"body_markdown":"# Yes, Java is still free\r\n\r\nIt is vital that you study: [*Java Is Still Free*](https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04). Written by key members of the Java community, providing both a summary and all the gory details.\r\n\r\n# Guidance\r\n\r\nThe [OpenJDK][1] source code is [available free-of-cost][2] per its GNU GPL+linking exception license. \r\n\r\nSeveral vendors provide releases based on that OpenJDK source code. They can do so free-of-cost or they can charge a fee or set other licensing terms, as long as they abide by the GNU GPL+linking exception licensing. \r\n\r\nThe Oracle JDK in latest versions has changed its licensing. It can no longer be used in production without a paid support plan. Contact Oracle for details. The Oracle JDK has converged to be at feature-parity with OpenJDK, with Oracle having contributed to OpenJDK even more of their formerly commercial parts such as [Flight Recorder][3] and [Mission Control][4].\r\n\r\nOther vendors also provide releases with commercial terms, for a product which may contain some OpenJDK code. \r\n\r\nAnd some vendors such as Adoptium with their Eclipse Temurin product (formerly AdoptOpenJDK), Azul Systems with their Zulu product, and Amazon Web Services with their Corretto product, all provide builds of OpenJDK without payment required. \r\n\r\nA release may or may not be labeled “Java”. If a vendor want their release to carry the branding “Java”, they must pass rigorous testing for compliance with the Java specifications and abide by Oracle’s terms for using their trademark.\r\n\r\nHere is a flowchart that may help guide you in determining how and where to obtain Java 11. Important: This info may be incorrect. You are responsible for studying the details of the license under which you use any software. \r\n\r\n*(Note that the diagrams say &quot;Adoptium&quot;, which is not a distribution, but instead the organization that produces the distribution called &quot;Eclipse Temurin&quot;. See [here](https://adoptium.net/faq.html#temurinName) for more info.)*\r\n\r\n\r\n----------\r\n\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation][5]][5]\r\n\r\n\r\n----------\r\n\r\n[![Motivations in choosing a vendor for Java][6]][6]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://openjdk.java.net/\r\n  [3]: https://openjdk.java.net/jeps/328\r\n  [4]: https://openjdk.java.net/projects/jmc/\r\n  [5]: https://i.stack.imgur.com/2k5u8.png\r\n  [6]: https://i.stack.imgur.com/unKsY.png","title":"Is there any OpenJDK that is fully free and will be available for commercial use","body":"<h1>Yes, Java is still free</h1>\n<p>It is vital that you study: <a href=\"https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04\" rel=\"nofollow noreferrer\"><em>Java Is Still Free</em></a>. Written by key members of the Java community, providing both a summary and all the gory details.</p>\n<h1>Guidance</h1>\n<p>The <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> source code is <a href=\"https://openjdk.java.net/\" rel=\"nofollow noreferrer\">available free-of-cost</a> per its GNU GPL+linking exception license.</p>\n<p>Several vendors provide releases based on that OpenJDK source code. They can do so free-of-cost or they can charge a fee or set other licensing terms, as long as they abide by the GNU GPL+linking exception licensing.</p>\n<p>The Oracle JDK in latest versions has changed its licensing. It can no longer be used in production without a paid support plan. Contact Oracle for details. The Oracle JDK has converged to be at feature-parity with OpenJDK, with Oracle having contributed to OpenJDK even more of their formerly commercial parts such as <a href=\"https://openjdk.java.net/jeps/328\" rel=\"nofollow noreferrer\">Flight Recorder</a> and <a href=\"https://openjdk.java.net/projects/jmc/\" rel=\"nofollow noreferrer\">Mission Control</a>.</p>\n<p>Other vendors also provide releases with commercial terms, for a product which may contain some OpenJDK code.</p>\n<p>And some vendors such as Adoptium with their Eclipse Temurin product (formerly AdoptOpenJDK), Azul Systems with their Zulu product, and Amazon Web Services with their Corretto product, all provide builds of OpenJDK without payment required.</p>\n<p>A release may or may not be labeled “Java”. If a vendor want their release to carry the branding “Java”, they must pass rigorous testing for compliance with the Java specifications and abide by Oracle’s terms for using their trademark.</p>\n<p>Here is a flowchart that may help guide you in determining how and where to obtain Java 11. Important: This info may be incorrect. You are responsible for studying the details of the license under which you use any software.</p>\n<p><em>(Note that the diagrams say &quot;Adoptium&quot;, which is not a distribution, but instead the organization that produces the distribution called &quot;Eclipse Temurin&quot;. See <a href=\"https://adoptium.net/faq.html#temurinName\" rel=\"nofollow noreferrer\">here</a> for more info.)</em></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/2k5u8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2k5u8.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/unKsY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/unKsY.png\" alt=\"Motivations in choosing a vendor for Java\" /></a></p>\n"}],"owner":{"account_id":13671084,"reputation":411,"user_id":9863738,"display_name":"Thanus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18139,"favorite_count":0,"down_vote_count":4,"up_vote_count":12,"answer_count":2,"score":8,"last_activity_date":1632516982,"creation_date":1548034612,"question_id":54282556,"body_markdown":"I just recently heard about the licensing for Oracle JDK, after trying to create a springboot app for a year.  I wanted to find out if there are other alternative JDK which are free for production/commercial use, and if they are what is the certainty that it wouldnt be paid for after or that it would be in the market for long. My only alternative now is to rewrite my code in another language. ","title":"Is there any OpenJDK that is fully free and will be available for commercial use","body":"<p>I just recently heard about the licensing for Oracle JDK, after trying to create a springboot app for a year.  I wanted to find out if there are other alternative JDK which are free for production/commercial use, and if they are what is the certainty that it wouldnt be paid for after or that it would be in the market for long. My only alternative now is to rewrite my code in another language. </p>\n"},{"tags":["java","switch-statement","expression"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632508011,"creation_date":1632508011,"answer_id":69319641,"question_id":69319618,"body_markdown":"You need to remove this line because this is a different object from what you declared in the `main` method\r\n\r\n```\r\npublic class Menus {\r\n\r\n    public void loginChoiceCase() {\r\n        InputRequests inp = new InputRequests(); &lt;--- delete this line\r\n        switch (inp.getLoginRole()) {\r\n            case 1 -&gt; System.out.println(&quot;test&quot;);\r\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\r\n            case 3 -&gt; System.exit(1);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nExplanation: why this happened?\r\n\r\nBecause the object you declared in the `loginChoiceCase` method has didn&#39;t store the value from the user console and the value of `loginRole` the default which is zero and you don&#39;t have a menu with zero case.","title":"Java Skipping switch statement using getter as expression","body":"<p>You need to remove this line because this is a different object from what you declared in the <code>main</code> method</p>\n<pre><code>public class Menus {\n\n    public void loginChoiceCase() {\n        InputRequests inp = new InputRequests(); &lt;--- delete this line\n        switch (inp.getLoginRole()) {\n            case 1 -&gt; System.out.println(&quot;test&quot;);\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\n            case 3 -&gt; System.exit(1);\n        }\n    }\n}\n\n</code></pre>\n<p>Explanation: why this happened?</p>\n<p>Because the object you declared in the <code>loginChoiceCase</code> method has didn't store the value from the user console and the value of <code>loginRole</code> the default which is zero and you don't have a menu with zero case.</p>\n"},{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632516004,"creation_date":1632510307,"answer_id":69320000,"question_id":69319618,"body_markdown":"Your program isn&#39;t skipping over the switch statement.\r\nLook at the Menus.loginChoiceCase() method. It&#39;s creating a new instance of InputRequests. Which means inp.getLoginRole() is null, and your switch statement doesn&#39;t have a default case to catch nulls.\r\n\r\nAdd a default case to the switch statement\r\n\r\n    default -&gt; System.out.println(&quot;Null&quot;);\r\n\r\n\r\nIdeally what you would want to do is have your loginChoiceCase() method take in an int, and then use that in you case statement.\r\nWith loginChoiceCase() able to take in an int you can then use your getter. Like below.\r\n\r\n\r\nInputRequests\r\n\r\n    public class InputRequests {\r\n    public int loginRole;\r\n\r\n\r\n    public void loginChoice(){\r\n        Scanner login = new Scanner(System.in);\r\n        loginRole = login.nextInt();\r\n    }\r\n\r\n    public int getLoginRole() {\r\n        return loginRole;\r\n    }\r\n    }\r\n\r\nMenus\r\n\r\n    public class Menus {\r\n\r\n    public void loginChoiceCase(int choice) {\r\n        switch (choice) {\r\n            case 1 : System.out.println(&quot;test&quot;);\r\n            case 2 : System.out.println(&quot;tested&quot;);\r\n            case 3 : System.exit(1);\r\n            default : System.out.println(&quot;Null&quot;);\r\n        }\r\n    }\r\n    }\r\n\r\nMain\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Printblocks print = new Printblocks();\r\n        InputRequests input = new InputRequests();\r\n        Menus menu = new Menus();\r\n        print.firstMenu();\r\n        menu.loginChoiceCase(input.getLoginRole);\r\n        System.out.println(input.getLoginRole());\r\n    }\r\n    }","title":"Java Skipping switch statement using getter as expression","body":"<p>Your program isn't skipping over the switch statement.\nLook at the Menus.loginChoiceCase() method. It's creating a new instance of InputRequests. Which means inp.getLoginRole() is null, and your switch statement doesn't have a default case to catch nulls.</p>\n<p>Add a default case to the switch statement</p>\n<pre><code>default -&gt; System.out.println(&quot;Null&quot;);\n</code></pre>\n<p>Ideally what you would want to do is have your loginChoiceCase() method take in an int, and then use that in you case statement.\nWith loginChoiceCase() able to take in an int you can then use your getter. Like below.</p>\n<p>InputRequests</p>\n<pre><code>public class InputRequests {\npublic int loginRole;\n\n\npublic void loginChoice(){\n    Scanner login = new Scanner(System.in);\n    loginRole = login.nextInt();\n}\n\npublic int getLoginRole() {\n    return loginRole;\n}\n}\n</code></pre>\n<p>Menus</p>\n<pre><code>public class Menus {\n\npublic void loginChoiceCase(int choice) {\n    switch (choice) {\n        case 1 : System.out.println(&quot;test&quot;);\n        case 2 : System.out.println(&quot;tested&quot;);\n        case 3 : System.exit(1);\n        default : System.out.println(&quot;Null&quot;);\n    }\n}\n}\n</code></pre>\n<p>Main</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Printblocks print = new Printblocks();\n    InputRequests input = new InputRequests();\n    Menus menu = new Menus();\n    print.firstMenu();\n    menu.loginChoiceCase(input.getLoginRole);\n    System.out.println(input.getLoginRole());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21607416,"reputation":103,"user_id":15934606,"display_name":"ThatsALotOfSemiColons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69320000,"answer_count":2,"score":4,"last_activity_date":1632516004,"creation_date":1632507866,"question_id":69319618,"body_markdown":"Hey Sorry for the what for you guys must seem like a stupid question but I&#39;ve been stuck on this for a while now, im using a getter from a different class as the switch expression in another class, my program keeps skipping the entire switch alltogether.\r\n\r\nThank you for your time!\r\n\r\nFirst class \r\n```import java.util.Scanner;\r\n\r\npublic class InputRequests {\r\n    public int loginRole;\r\n\r\n\r\n    public void loginChoice(){\r\n        Scanner login = new Scanner(System.in);\r\n        loginRole = login.nextInt();\r\n    }\r\n\r\n    public int getLoginRole() {\r\n        return loginRole;\r\n    }\r\n} \r\n```\r\n\r\nSecond class \r\n\r\n```\r\npublic class Menus {\r\n\r\n    public void loginChoiceCase() {\r\n        InputRequests inp = new InputRequests();\r\n        switch (inp.getLoginRole()) {\r\n            case 1 -&gt; System.out.println(&quot;test&quot;);\r\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\r\n            case 3 -&gt; System.exit(1);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nmain\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Printblocks print = new Printblocks();\r\n        InputRequests input = new InputRequests();\r\n        Menus menu = new Menus();\r\n        print.firstMenu();\r\n        input.loginChoice();\r\n        menu.loginChoiceCase();\r\n        System.out.println(input.getLoginRole());\r\n    }\r\n}\r\n```\r\n\r\nThe first menu print is just a pintblock without anything else, \r\nwhen running the program I do get the int I enter back.\r\n\r\n\r\n\r\n","title":"Java Skipping switch statement using getter as expression","body":"<p>Hey Sorry for the what for you guys must seem like a stupid question but I've been stuck on this for a while now, im using a getter from a different class as the switch expression in another class, my program keeps skipping the entire switch alltogether.</p>\n<p>Thank you for your time!</p>\n<p>First class</p>\n<pre><code>\npublic class InputRequests {\n    public int loginRole;\n\n\n    public void loginChoice(){\n        Scanner login = new Scanner(System.in);\n        loginRole = login.nextInt();\n    }\n\n    public int getLoginRole() {\n        return loginRole;\n    }\n} \n</code></pre>\n<p>Second class</p>\n<pre><code>public class Menus {\n\n    public void loginChoiceCase() {\n        InputRequests inp = new InputRequests();\n        switch (inp.getLoginRole()) {\n            case 1 -&gt; System.out.println(&quot;test&quot;);\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\n            case 3 -&gt; System.exit(1);\n        }\n    }\n}\n\n</code></pre>\n<p>main</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Printblocks print = new Printblocks();\n        InputRequests input = new InputRequests();\n        Menus menu = new Menus();\n        print.firstMenu();\n        input.loginChoice();\n        menu.loginChoiceCase();\n        System.out.println(input.getLoginRole());\n    }\n}\n</code></pre>\n<p>The first menu print is just a pintblock without anything else,\nwhen running the program I do get the int I enter back.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632505518,"post_id":69319178,"comment_id":122519870,"body_markdown":"a 404? or an actual Exception?","body":"a 404? or an actual Exception?"},{"owner":{"account_id":15162508,"reputation":1322,"user_id":10941102,"display_name":"szatkus"},"score":0,"creation_date":1632506090,"post_id":69319178,"comment_id":122520067,"body_markdown":"@Eugene 404. As I said `HelloController` is missing, so there&#39;s no handler to serve the request.","body":"@Eugene 404. As I said <code>HelloController</code> is missing, so there&#39;s no handler to serve the request."}],"answers":[{"tags":[],"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632515715,"creation_date":1632515715,"answer_id":69320856,"question_id":69319178,"body_markdown":"The reason why this happens is because your `Config` annotation is looking in a sub-package to find the beans but it can no longer find them.\r\n\r\nIf you annotate your `Config` static class with a `@ComponentScan(&quot;package.of.your.helloController&quot;)` then your controller it will be found again.","title":"Spring can&#39;t resolve dependencies with an internal class","body":"<p>The reason why this happens is because your <code>Config</code> annotation is looking in a sub-package to find the beans but it can no longer find them.</p>\n<p>If you annotate your <code>Config</code> static class with a <code>@ComponentScan(&quot;package.of.your.helloController&quot;)</code> then your controller it will be found again.</p>\n"}],"owner":{"account_id":15162508,"reputation":1322,"user_id":10941102,"display_name":"szatkus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632515715,"creation_date":1632505268,"question_id":69319178,"body_markdown":"today I&#39;ve met online another poor soul learning Spring. I decided I&#39;ll help them. Story as old as Spring, a missing bean in unit tests. I made a quick fix, I put a configuration with the missing bean and it worked, seemed like everything was fine.\r\n\r\n```\r\n@Configuration\r\nclass Config {\r\n    @Bean\r\n    HelloService getHelloService() {\r\n        return new HelloService();\r\n    }\r\n}\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(HelloController.class)\r\n@Import({Config.class})\r\nclass HelloControllerIntTest {\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n\r\n    @Test\r\n    void hello() throws Exception {\r\n        RequestBuilder request = get(&quot;/hello&quot;);\r\n        MvcResult result = mvc.perform(request).andReturn();\r\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\r\n    }\r\n\r\n    @Test\r\n    public void testHelloWithName() throws Exception {\r\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\r\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nOn the second thought, polluting the public space with additional and very genericly named class is not a good idea, so I decided to put it inside of the class.\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(HelloController.class)\r\n@Import({HelloControllerIntTest.Config.class})\r\nclass HelloControllerIntTest {\r\n\r\n   @Configuration\r\n   static class Config {\r\n    @Bean\r\n    HelloService getHelloService() {\r\n        return new HelloService();\r\n    }\r\n   }\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n\r\n    @Test\r\n    void hello() throws Exception {\r\n        RequestBuilder request = get(&quot;/hello&quot;);\r\n        MvcResult result = mvc.perform(request).andReturn();\r\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\r\n    }\r\n\r\n    @Test\r\n    public void testHelloWithName() throws Exception {\r\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\r\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nTo my surprise, it doesn&#39;t work, 404 error. I put a breakpoint in the `HelloController` and it seems the bean is not constructed at all. Also I peeked into the beans definitions and it seems the first version has 91 beans, and the second 88, so we have missing beans over there.\r\n\r\nAny ideas what happened here? Why in the second version Spring ignores HelloController?","title":"Spring can&#39;t resolve dependencies with an internal class","body":"<p>today I've met online another poor soul learning Spring. I decided I'll help them. Story as old as Spring, a missing bean in unit tests. I made a quick fix, I put a configuration with the missing bean and it worked, seemed like everything was fine.</p>\n<pre><code>@Configuration\nclass Config {\n    @Bean\n    HelloService getHelloService() {\n        return new HelloService();\n    }\n}\n\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(HelloController.class)\n@Import({Config.class})\nclass HelloControllerIntTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n\n    @Test\n    void hello() throws Exception {\n        RequestBuilder request = get(&quot;/hello&quot;);\n        MvcResult result = mvc.perform(request).andReturn();\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\n    }\n\n    @Test\n    public void testHelloWithName() throws Exception {\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\n    }\n}\n\n</code></pre>\n<p>On the second thought, polluting the public space with additional and very genericly named class is not a good idea, so I decided to put it inside of the class.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(HelloController.class)\n@Import({HelloControllerIntTest.Config.class})\nclass HelloControllerIntTest {\n\n   @Configuration\n   static class Config {\n    @Bean\n    HelloService getHelloService() {\n        return new HelloService();\n    }\n   }\n\n    @Autowired\n    private MockMvc mvc;\n\n\n    @Test\n    void hello() throws Exception {\n        RequestBuilder request = get(&quot;/hello&quot;);\n        MvcResult result = mvc.perform(request).andReturn();\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\n    }\n\n    @Test\n    public void testHelloWithName() throws Exception {\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\n    }\n}\n\n</code></pre>\n<p>To my surprise, it doesn't work, 404 error. I put a breakpoint in the <code>HelloController</code> and it seems the bean is not constructed at all. Also I peeked into the beans definitions and it seems the first version has 91 beans, and the second 88, so we have missing beans over there.</p>\n<p>Any ideas what happened here? Why in the second version Spring ignores HelloController?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"score":0,"creation_date":1632418216,"post_id":69304502,"comment_id":122493440,"body_markdown":"Decleare the array outside the constructor then pass it to it.","body":"Decleare the array outside the constructor then pass it to it."},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1632418756,"post_id":69304502,"comment_id":122493647,"body_markdown":"What error it throws? It is straightforward only.","body":"What error it throws? It is straightforward only."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632418300,"creation_date":1632418300,"answer_id":69304556,"question_id":69304502,"body_markdown":"Your `List&lt;CategoryDto&gt; list` is a variable declaration, like `int i` or `String b` , you need to pass a value.\r\n\r\nDirectly, like the others\r\n\r\n    BookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, Arrays.asList(), 1);\r\n\r\n\r\nUsing a variable\r\n\r\n    List&lt;CategoryDto&gt; list = Arrays.asList();\r\n    // List&lt;CategoryDto&gt; list = Arrays.asList(new CategoryDto(.., ..));\r\n    String title = &quot;abc&quot;;\r\n    String author = &quot;foo&quot;;\r\n\r\n    BookDto addBook = new BookDto(0, title, author, list, 1);\r\n\r\n\r\n\r\n","title":"How can I pass an arraylist to a constructor in Java?","body":"<p>Your <code>List&lt;CategoryDto&gt; list</code> is a variable declaration, like <code>int i</code> or <code>String b</code> , you need to pass a value.</p>\n<p>Directly, like the others</p>\n<pre><code>BookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, Arrays.asList(), 1);\n</code></pre>\n<p>Using a variable</p>\n<pre><code>List&lt;CategoryDto&gt; list = Arrays.asList();\n// List&lt;CategoryDto&gt; list = Arrays.asList(new CategoryDto(.., ..));\nString title = &quot;abc&quot;;\nString author = &quot;foo&quot;;\n\nBookDto addBook = new BookDto(0, title, author, list, 1);\n</code></pre>\n"}],"owner":{"account_id":22839731,"reputation":105,"user_id":16986959,"display_name":"It&#39;s Siddiqi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1632515534,"creation_date":1632418032,"question_id":69304502,"body_markdown":"I have this class `BookDto`:\r\n\r\n```java\r\npublic class BookDto {\r\n\t    private int  id;\r\n\t\tprivate String title;\r\n\t\tprivate String author;\r\n\t\tprivate List&lt;CategoryDto&gt; category; \r\n\t\tprivate int copies;\r\n\t\t\r\n\t\tpublic BookDto(int id, String title, String author, List&lt;CategoryDto&gt; category, int copies) {\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.author = author;\r\n\t\t\tthis.category = category;\r\n\t\t\tthis.copies = copies;\r\n\t\t}\r\n\r\n\t\t//getter and setters\r\n}\r\n```\r\n\r\nIn my main function I am trying to initialize `BookDto`:\r\n\r\n```java\r\nBookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, List&lt;CategoryDto&gt; list, 1);\r\n```\r\n\r\nBut `List&lt;CategoryDTO&gt;` is throwing an error?","title":"How can I pass an arraylist to a constructor in Java?","body":"<p>I have this class <code>BookDto</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BookDto {\n        private int  id;\n        private String title;\n        private String author;\n        private List&lt;CategoryDto&gt; category; \n        private int copies;\n        \n        public BookDto(int id, String title, String author, List&lt;CategoryDto&gt; category, int copies) {\n            this.title = title;\n            this.id = id;\n            this.author = author;\n            this.category = category;\n            this.copies = copies;\n        }\n\n        //getter and setters\n}\n</code></pre>\n<p>In my main function I am trying to initialize <code>BookDto</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, List&lt;CategoryDto&gt; list, 1);\n</code></pre>\n<p>But <code>List&lt;CategoryDTO&gt;</code> is throwing an error?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632515473,"creation_date":1632515473,"answer_id":69320819,"question_id":69318039,"body_markdown":"The code that is trying to access the field is inside the class `TestReflection` and that is all that matters. There is no indicator that the subclass is willing to grant its superclass access to its field, as `private` implies no access from any other class. The subclass is just invoking a method `update()` of its superclass without knowing what that method will do internally, so it’s not the subclass trying to access the subclass’s field here.\r\n\r\nTo be more precise, in your specific example, the subclass is a nested class of the superclass, so accessing each other’s `private` members is allowed, but you hit an old flaw of Reflection that existed as long as nested classes exist. When you compile your example with target JDK&#160;11 or newer, this specific example will work.\r\n\r\nBut for top level classes, `private` means that no other class can access it (without enabling access override first), regardless of whether it is a subclass or superclass of the the declaring class. Which seems to be your actual question.\r\n\r\nNote that using a construct like `getClass().getDeclaredFields()` is rather unusual. Even more is looping over the discovered fields and just setting all of them. Normally, you want to know what class and field you’re accessing. In your example, you’re trying to set the field `abc` of the subclass but when you change the example to `new TestReflection().update()`, you’re setting the field `foo` of `TestReflection` instead.","title":"Updating field using reflection from parent class","body":"<p>The code that is trying to access the field is inside the class <code>TestReflection</code> and that is all that matters. There is no indicator that the subclass is willing to grant its superclass access to its field, as <code>private</code> implies no access from any other class. The subclass is just invoking a method <code>update()</code> of its superclass without knowing what that method will do internally, so it’s not the subclass trying to access the subclass’s field here.</p>\n<p>To be more precise, in your specific example, the subclass is a nested class of the superclass, so accessing each other’s <code>private</code> members is allowed, but you hit an old flaw of Reflection that existed as long as nested classes exist. When you compile your example with target JDK 11 or newer, this specific example will work.</p>\n<p>But for top level classes, <code>private</code> means that no other class can access it (without enabling access override first), regardless of whether it is a subclass or superclass of the the declaring class. Which seems to be your actual question.</p>\n<p>Note that using a construct like <code>getClass().getDeclaredFields()</code> is rather unusual. Even more is looping over the discovered fields and just setting all of them. Normally, you want to know what class and field you’re accessing. In your example, you’re trying to set the field <code>abc</code> of the subclass but when you change the example to <code>new TestReflection().update()</code>, you’re setting the field <code>foo</code> of <code>TestReflection</code> instead.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69320819,"answer_count":1,"score":0,"last_activity_date":1632515473,"creation_date":1632499325,"question_id":69318039,"body_markdown":"I have a Parent class that has a method that uses reflection to retrieve and update fields.  This method will be called by the child class\r\n```\r\npackage com.torchai.service.common.response;\r\n\r\nimport java.lang.reflect.Field;\r\n\r\npublic class TestReflection {\r\n    private String foo;\r\n\r\n    public void update() throws IllegalAccessException {\r\n        final Field[] fields = getClass().getDeclaredFields();\r\n        for (final Field f : fields) {\r\n            //   f.setAccessible(true);\r\n            //   final Object value = response.get(f.getName());\r\n            Object value = &quot;new value&quot;;\r\n            f.set(this, value);\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(final String[] args) throws IllegalAccessException {\r\n        final TestReflection t = new TestReflection() {\r\n            private String abc;\r\n        };\r\n\r\n        t.update();\r\n    }\r\n}\r\n```\r\n\r\nWhen the child class (in this case, an anonymous class) calls the method, which is inherited form the parent, the value of `this` is the child class.  Because of that, I thought there would be no problem in retrieving and setting private fields.  It turns out that `getDeclaredFields()` can retrieve `private` fields, but `Field.set()` cannot update them, unless I `setAccessible` to true.  Is this correct behavior?  Why can&#39;t the child class set its own fields?  If I can see the field (i.e., I can retrieve the private field) shouldn&#39;t I be able to update it?\r\n\r\nThe exception I get is\r\n```\r\njava.lang.IllegalAccessException: Class com.torchai.service.common.response.TestReflection can not access a member of class com.torchai.service.common.response.TestReflection$1 with modifiers &quot;private&quot;\r\n```\r\nNote that it implies that it is the parent class that it trying to access the child class.  Why is the parent class being considered the caller?\r\n\r\nIf I change the main method to eliminate the use of the child class\r\n```\r\nTestReflection t = new TestReflection();\r\nt.update()\r\n```\r\n\r\nthen it works as expected.  The class is updating its own fields, so `setAccessbile` is not necessary\r\n","title":"Updating field using reflection from parent class","body":"<p>I have a Parent class that has a method that uses reflection to retrieve and update fields.  This method will be called by the child class</p>\n<pre><code>package com.torchai.service.common.response;\n\nimport java.lang.reflect.Field;\n\npublic class TestReflection {\n    private String foo;\n\n    public void update() throws IllegalAccessException {\n        final Field[] fields = getClass().getDeclaredFields();\n        for (final Field f : fields) {\n            //   f.setAccessible(true);\n            //   final Object value = response.get(f.getName());\n            Object value = &quot;new value&quot;;\n            f.set(this, value);\n\n        }\n    }\n\n    public static void main(final String[] args) throws IllegalAccessException {\n        final TestReflection t = new TestReflection() {\n            private String abc;\n        };\n\n        t.update();\n    }\n}\n</code></pre>\n<p>When the child class (in this case, an anonymous class) calls the method, which is inherited form the parent, the value of <code>this</code> is the child class.  Because of that, I thought there would be no problem in retrieving and setting private fields.  It turns out that <code>getDeclaredFields()</code> can retrieve <code>private</code> fields, but <code>Field.set()</code> cannot update them, unless I <code>setAccessible</code> to true.  Is this correct behavior?  Why can't the child class set its own fields?  If I can see the field (i.e., I can retrieve the private field) shouldn't I be able to update it?</p>\n<p>The exception I get is</p>\n<pre><code>java.lang.IllegalAccessException: Class com.torchai.service.common.response.TestReflection can not access a member of class com.torchai.service.common.response.TestReflection$1 with modifiers &quot;private&quot;\n</code></pre>\n<p>Note that it implies that it is the parent class that it trying to access the child class.  Why is the parent class being considered the caller?</p>\n<p>If I change the main method to eliminate the use of the child class</p>\n<pre><code>TestReflection t = new TestReflection();\nt.update()\n</code></pre>\n<p>then it works as expected.  The class is updating its own fields, so <code>setAccessbile</code> is not necessary</p>\n"},{"tags":["java","android","junit"],"answers":[{"tags":[],"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632514696,"creation_date":1632514696,"answer_id":69320714,"question_id":34618924,"body_markdown":"Revisiting over 5.5 years later after I saw someone upvoted.\r\n\r\nAnswering my own question.\r\n\r\nPer my experience and https://developer.android.com/training/testing/unit-testing/local-unit-tests#error-not-mocked\r\n\r\nAny Android API call in a unit test by default throws an exception.  \r\nThis is by design to force you to mock anything that you call.  \r\nYou can change this default behavior with the following in your module&#39;s build.gradle:\r\n\r\n```\r\nandroid {\r\n    ...\r\n    testOptions {\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n}\r\n```\r\n\r\nDoing so will result in any Android API call being a no-op that always returns null or 0.  \r\nThis must have been what I was doing &gt;5.5 years ago.  \r\nThis is OK while developing test, but is not advised to leave in permanently.\r\n","title":"Android JUnit3 test ParcelUuid getUuid() returning null for non-null UUID?","body":"<p>Revisiting over 5.5 years later after I saw someone upvoted.</p>\n<p>Answering my own question.</p>\n<p>Per my experience and <a href=\"https://developer.android.com/training/testing/unit-testing/local-unit-tests#error-not-mocked\" rel=\"nofollow noreferrer\">https://developer.android.com/training/testing/unit-testing/local-unit-tests#error-not-mocked</a></p>\n<p>Any Android API call in a unit test by default throws an exception.<br />\nThis is by design to force you to mock anything that you call.<br />\nYou can change this default behavior with the following in your module's build.gradle:</p>\n<pre><code>android {\n    ...\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n</code></pre>\n<p>Doing so will result in any Android API call being a no-op that always returns null or 0.<br />\nThis must have been what I was doing &gt;5.5 years ago.<br />\nThis is OK while developing test, but is not advised to leave in permanently.</p>\n"}],"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69320714,"answer_count":1,"score":4,"last_activity_date":1632514696,"creation_date":1452019038,"question_id":34618924,"body_markdown":"I have the following code in an Android JUnit3 unit test:\r\n\r\n    public void testWTF()\r\n    {\r\n        UUID uuidExpected = UUID.fromString(&quot;00001234-0000-1000-8000-00805f9b34fb&quot;);\r\n        ParcelUuid parcelUuid = new ParcelUuid(uuidExpected);\r\n        UUID uuidActual = parcelUuid.getUuid();\r\n        Assert.assertEquals(&quot;uuidExpected != uuidActual&quot;, uuidExpected, uuidActual);\r\n    }\r\n\r\ngetUuid() is returning null, but the UUID passed to the ParcelUuid is non-null and valid.\r\n\r\nWhat gives?\r\n\r\nIs there something wrong w/ using the Android runtime library in a JUnit test?\r\n\r\nThanks!\r\n\r\nPv","title":"Android JUnit3 test ParcelUuid getUuid() returning null for non-null UUID?","body":"<p>I have the following code in an Android JUnit3 unit test:</p>\n\n<pre><code>public void testWTF()\n{\n    UUID uuidExpected = UUID.fromString(\"00001234-0000-1000-8000-00805f9b34fb\");\n    ParcelUuid parcelUuid = new ParcelUuid(uuidExpected);\n    UUID uuidActual = parcelUuid.getUuid();\n    Assert.assertEquals(\"uuidExpected != uuidActual\", uuidExpected, uuidActual);\n}\n</code></pre>\n\n<p>getUuid() is returning null, but the UUID passed to the ParcelUuid is non-null and valid.</p>\n\n<p>What gives?</p>\n\n<p>Is there something wrong w/ using the Android runtime library in a JUnit test?</p>\n\n<p>Thanks!</p>\n\n<p>Pv</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"score":1,"creation_date":1632483473,"post_id":69313853,"comment_id":122511178,"body_markdown":"Can you try adding `systemProperties project.properties.subMap([&quot;ipAmount&quot;])` in your gradle task and try to pass it with `-PipAmount=2` in your cmd?","body":"Can you try adding <code>systemProperties project.properties.subMap([&quot;ipAmount&quot;])</code> in your gradle task and try to pass it with <code>-PipAmount=2</code> in your cmd?"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1632504808,"post_id":69313853,"comment_id":122519622,"body_markdown":"@Billatron this is the solution! You can post the answer - I grade up him!","body":"@Billatron this is the solution! You can post the answer - I grade up him!"},{"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"score":0,"creation_date":1632513262,"post_id":69313853,"comment_id":122522462,"body_markdown":"Awesome, posted below! Cheers.","body":"Awesome, posted below! Cheers."}],"answers":[{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632483529,"creation_date":1632483529,"answer_id":69314407,"question_id":69313853,"body_markdown":"If your tests are being launched by the gradle `JavaExec` task then you can configure gradle to pass through its system properties like this:\r\n&#160;\r\n```groovy\r\n// The run task added by the application plugin\r\n// is also of type JavaExec.\r\ntasks.withType(JavaExec) {\r\n&#160;&#160;&#160;&#160;// Assign all Java system properties from\r\n&#160;&#160;&#160;&#160;// the command line to the JavaExec task.\r\n&#160;&#160;&#160;&#160;systemProperties System.properties\r\n}\r\n```\r\n\r\nSee [the user guide](https://blog.mrhaki.com/2015/09/gradle-goodness-pass-java-system.html) for full details.","title":"Can&#39;t pass parameters/sytem properties with gradlew command line","body":"<p>If your tests are being launched by the gradle <code>JavaExec</code> task then you can configure gradle to pass through its system properties like this:\n </p>\n<pre><code>// The run task added by the application plugin\n// is also of type JavaExec.\ntasks.withType(JavaExec) {\n    // Assign all Java system properties from\n    // the command line to the JavaExec task.\n    systemProperties System.properties\n}\n</code></pre>\n<p>See <a href=\"https://blog.mrhaki.com/2015/09/gradle-goodness-pass-java-system.html\" rel=\"nofollow noreferrer\">the user guide</a> for full details.</p>\n"},{"tags":[],"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632513506,"creation_date":1632513153,"answer_id":69320477,"question_id":69313853,"body_markdown":"As explained also in the comment! \r\n\r\nAll you need to do is:\r\n```groovy\r\ntask task1(type: Test) {\r\nsystemProperties project.properties.subMap([&quot;ipAmount&quot;])\r\n        useTestNG() {\r\n            suites &#39;./src/test/resources/testng/task1.xml&#39;\r\n        }\r\n    }\r\n```\r\nThen you can pass the property using `gradlew clean task1 -PipAmount=2`\r\n\r\nFinally the `systemProperties` is a map so you can add more variables like `[&quot;ipAmount&quot;, &quot;anotherParam&quot;, &quot;moreParam&quot;]`","title":"Can&#39;t pass parameters/sytem properties with gradlew command line","body":"<p>As explained also in the comment!</p>\n<p>All you need to do is:</p>\n<pre><code>task task1(type: Test) {\nsystemProperties project.properties.subMap([&quot;ipAmount&quot;])\n        useTestNG() {\n            suites './src/test/resources/testng/task1.xml'\n        }\n    }\n</code></pre>\n<p>Then you can pass the property using <code>gradlew clean task1 -PipAmount=2</code></p>\n<p>Finally the <code>systemProperties</code> is a map so you can add more variables like <code>[&quot;ipAmount&quot;, &quot;anotherParam&quot;, &quot;moreParam&quot;]</code></p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69320477,"answer_count":2,"score":1,"last_activity_date":1632513506,"creation_date":1632480985,"question_id":69313853,"body_markdown":"I try to pass parameters with gradlew command line, but can&#39;t.\r\nI successfully pass the Optional parameter with XML file, but need have the possibility to pass with gradle CMD\r\n\r\nGradle task:\r\n\r\n```go\r\n    task task1(type: Test) {\r\n        useTestNG() {\r\n            suites &#39;./src/test/resources/testng/task1.xml&#39;\r\n        }\r\n    }\r\n```\r\n\r\nXML:\r\n```xml\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;test1&quot;&gt;\r\n\r\n    &lt;test name=&quot;test1&quot;&gt;\r\n        &lt;parameter name=&quot;ipAmount&quot; value=&quot;20&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;tests.traffic.Test1&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n&lt;/suite&gt;\r\n\r\n```\r\n\r\nCode:\r\n\r\n```java\r\n    @Test(testName = &quot;Name&quot;, description = &quot;description&quot;)\r\n    @Parameters({&quot;ipAmount&quot;})\r\n    public void createTrafficTest(\r\n            @Optional(&quot;1&quot;) Integer ipAmount\r\n    ){\r\n        final String IP_AMOUNT_PARAMETER = System.getProperty(&quot;ipAmount&quot;);\r\n\r\n        System.out.println(ipAmount);//20\r\n        System.out.println(IP_AMOUNT_PARAMETER);//null\r\n    }\r\n```\r\n\r\ngradle CMD:\r\n\r\n```bash\r\n    gradlew clean task1 -DipAmount=2 \r\n```\r\n\r\n\r\n```bash\r\n    gradlew clean task1 -PipAmount=2 \r\n```\r\n\r\nIn both cases I get the same result: ipAmount=20, IP_AMOUNT_PARAMETER = null\r\n\r\n\r\n# How to correctly pass parameters from the gradle cmd?","title":"Can&#39;t pass parameters/sytem properties with gradlew command line","body":"<p>I try to pass parameters with gradlew command line, but can't.\nI successfully pass the Optional parameter with XML file, but need have the possibility to pass with gradle CMD</p>\n<p>Gradle task:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>    task task1(type: Test) {\n        useTestNG() {\n            suites './src/test/resources/testng/task1.xml'\n        }\n    }\n</code></pre>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;test1&quot;&gt;\n\n    &lt;test name=&quot;test1&quot;&gt;\n        &lt;parameter name=&quot;ipAmount&quot; value=&quot;20&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.traffic.Test1&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n\n&lt;/suite&gt;\n\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test(testName = &quot;Name&quot;, description = &quot;description&quot;)\n    @Parameters({&quot;ipAmount&quot;})\n    public void createTrafficTest(\n            @Optional(&quot;1&quot;) Integer ipAmount\n    ){\n        final String IP_AMOUNT_PARAMETER = System.getProperty(&quot;ipAmount&quot;);\n\n        System.out.println(ipAmount);//20\n        System.out.println(IP_AMOUNT_PARAMETER);//null\n    }\n</code></pre>\n<p>gradle CMD:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    gradlew clean task1 -DipAmount=2 \n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code>    gradlew clean task1 -PipAmount=2 \n</code></pre>\n<p>In both cases I get the same result: ipAmount=20, IP_AMOUNT_PARAMETER = null</p>\n<h1>How to correctly pass parameters from the gradle cmd?</h1>\n"},{"tags":["java","jboss","wildfly","wildfly-10"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1632774632,"post_id":69320520,"comment_id":122579788,"body_markdown":"Can you describe your deployment a bit? Is it large in size? Are you including a lot of dependencies?","body":"Can you describe your deployment a bit? Is it large in size? Are you including a lot of dependencies?"},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1632858049,"post_id":69320520,"comment_id":122606434,"body_markdown":"I got a webapp by Netbeans project. Then I apply Clean and Build. After that, I go to Wildfly admin Console-&gt;Deployments. I press Add button and select the War file where is located in project target folder. The War file has a size of 50MB aproximately or little more.","body":"I got a webapp by Netbeans project. Then I apply Clean and Build. After that, I go to Wildfly admin Console-&gt;Deployments. I press Add button and select the War file where is located in project target folder. The War file has a size of 50MB aproximately or little more."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1632861958,"post_id":69320520,"comment_id":122607649,"body_markdown":"Are you including the Jakarta EE specification libraries? That&#39;s not too big, but if you include those that may reduce the size by excluding them and allow a faster deployment.","body":"Are you including the Jakarta EE specification libraries? That&#39;s not too big, but if you include those that may reduce the size by excluding them and allow a faster deployment."}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632513391,"creation_date":1632513391,"question_id":69320520,"body_markdown":"I have a java web application and I uploaded it to Wildfly server by Admin Console. After that, I replaced in deployments section the same web application and it takes 15 seconds approximately. The question is that while it is replacing in those 15 seconds, the web application is unavailable for users?","title":"Is Java web application unavailable while Wildfly is replacing a deployment?","body":"<p>I have a java web application and I uploaded it to Wildfly server by Admin Console. After that, I replaced in deployments section the same web application and it takes 15 seconds approximately. The question is that while it is replacing in those 15 seconds, the web application is unavailable for users?</p>\n"},{"tags":["java","android","observable","retrofit2","rx-java"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":1,"creation_date":1632514419,"post_id":69320480,"comment_id":122522824,"body_markdown":"&quot;Now I realized that I actually need the original list of my MyObjects from the observable to be stored in List&lt;MyObject&gt; myObjectsList&quot; - use a `ConnectableObservable` that shares one subscription to the upstream but can publish to multiple subscribers - http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/observables/ConnectableObservable.html","body":"&quot;Now I realized that I actually need the original list of my MyObjects from the observable to be stored in List&lt;MyObject&gt; myObjectsList&quot; - use a <code>ConnectableObservable</code> that shares one subscription to the upstream but can publish to multiple subscribers - <a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/observables/ConnectableObservable.html\" rel=\"nofollow noreferrer\">reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/&hellip;</a>"},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632529825,"post_id":69320480,"comment_id":122525746,"body_markdown":"Thanks I did this and it works. For anyone wondering how I implemented it, I returned the observable from the repository to the viewmodel, moved my retry() and doOnError() operators to that observable and then called .publish() on that same observable chain and stored it in a ConnectableObservable&lt;List&lt;MyObject&gt;&gt; called connectable. Then I did two separate observable chains from that connectable and subscribed for each of my aforementioned needs and after that I called connect on the connectable. Worked perfectly, thanks!","body":"Thanks I did this and it works. For anyone wondering how I implemented it, I returned the observable from the repository to the viewmodel, moved my retry() and doOnError() operators to that observable and then called .publish() on that same observable chain and stored it in a ConnectableObservable&lt;List&lt;MyObject&gt;&gt; called connectable. Then I did two separate observable chains from that connectable and subscribed for each of my aforementioned needs and after that I called connect on the connectable. Worked perfectly, thanks!"},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":1,"creation_date":1632613192,"post_id":69320480,"comment_id":122540618,"body_markdown":"Why doesn&#39;t a simple `doOnNext` after `myObjectsRepository.getMyObjectsObservable()` work in this case?","body":"Why doesn&#39;t a simple <code>doOnNext</code> after <code>myObjectsRepository.getMyObjectsObservable()</code> work in this case?"},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632623793,"post_id":69320480,"comment_id":122541760,"body_markdown":"I am not the right person to answer on which is better as I am just learning JavaRx and Android, but I did get that to work with doOnNext() in a little test I just did on some very similar code (not the original) including with correct threading as well. I was wondering if either is a better approach. Your way seems simpler @Fred however the threading is slightly more complicated, but still simpler overall.","body":"I am not the right person to answer on which is better as I am just learning JavaRx and Android, but I did get that to work with doOnNext() in a little test I just did on some very similar code (not the original) including with correct threading as well. I was wondering if either is a better approach. Your way seems simpler @Fred however the threading is slightly more complicated, but still simpler overall."},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":0,"creation_date":1632740429,"post_id":69320480,"comment_id":122566231,"body_markdown":"I don&#39;t see why the threading is any different. To the best of my knowledge it works like any other rx method/operator. Could you elaborate? The reason why I think `doOnNext` or any of the `doOn*` methods for that matter is more appropriate is because you describe kind of a side effect/saving state, which I think the `doOn*` methods are the most appropriate for.","body":"I don&#39;t see why the threading is any different. To the best of my knowledge it works like any other rx method/operator. Could you elaborate? The reason why I think <code>doOnNext</code> or any of the <code>doOn*</code> methods for that matter is more appropriate is because you describe kind of a side effect/saving state, which I think the <code>doOn*</code> methods are the most appropriate for."},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632772375,"post_id":69320480,"comment_id":122579022,"body_markdown":"@Fred I meant in order to save List&lt;MyObject&gt; on the main thread, which would be the case implementing the connectable observer, I had to do an observeOn the main thread before doOnNext, and then I had to do another observeOn in order to switch the rest of the downstream like the mapping, toList, concatmap, doOnError operators and then one more observeOn right before subscribe in order to switch back to the main thread.","body":"@Fred I meant in order to save List&lt;MyObject&gt; on the main thread, which would be the case implementing the connectable observer, I had to do an observeOn the main thread before doOnNext, and then I had to do another observeOn in order to switch the rest of the downstream like the mapping, toList, concatmap, doOnError operators and then one more observeOn right before subscribe in order to switch back to the main thread."},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632772422,"post_id":69320480,"comment_id":122579047,"body_markdown":"@Fred Now I am a noob in android/Rx/developing, so I am not exactly sure if its necessary but I felt weird saving the state in the background thread of my repository when my Main thread would need access to the list, maybe I could just synchronize repository List&lt;MyObject&gt; get and set method to avoid any problems and avoid doing the aforementioned extra threading I am talking about, Idk if that is a good idea either though cuz it could hold up the main thread possibly.","body":"@Fred Now I am a noob in android/Rx/developing, so I am not exactly sure if its necessary but I felt weird saving the state in the background thread of my repository when my Main thread would need access to the list, maybe I could just synchronize repository List&lt;MyObject&gt; get and set method to avoid any problems and avoid doing the aforementioned extra threading I am talking about, Idk if that is a good idea either though cuz it could hold up the main thread possibly."},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":1,"creation_date":1632833163,"post_id":69320480,"comment_id":122595711,"body_markdown":"ah! I get it now. I think moving it to the mainthread is better for the reasons you already mentioned. Ideally, you should try to find a way where you wouldn&#39;t need to keep this in memory or maybe even just save it in `subscribe`. That might not be straight forward though.","body":"ah! I get it now. I think moving it to the mainthread is better for the reasons you already mentioned. Ideally, you should try to find a way where you wouldn&#39;t need to keep this in memory or maybe even just save it in <code>subscribe</code>. That might not be straight forward though."}],"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632513177,"creation_date":1632513177,"question_id":69320480,"body_markdown":"I have a retrofit api call that returns a javarx observable. Here is the retrofit interface\r\n\r\n    @GET(&quot;/myobjects&quot;)\r\n    Observable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable();\r\n\r\nThen I have a repository method:\r\n\r\n    public Observable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable(){\r\n        return api.getMyObjectsObservable();\r\n    }\r\n\r\nIn my viewmodel, I have a method that subscribes to the javarx observable returned by the repository. Inside the method, the observable chain in which I subscribe in that method sets values for two MutableLiveData objects that are observed by my activity. One MutableLiveData, &quot;succeededLiveData&quot;, holds a boolean which determines if the API call succeeded and displays this for the user in the activity, and the other &quot;myObjectStringsListLiveData&quot; is a list of strings with information from a MyObject object that will be displayed in a listview in the activity. Here is that observable chain:\r\n\r\n    Disposable disposable = myObjectsRepository.getMyObjectsObservable()\r\n\t\t.concatMapIterable(myObject -&gt; myObject)\r\n\t\t.map(myObject -&gt; myObject.getString1() + &quot; And &quot; + myObject.getString2())\r\n\t\t.toList()\r\n\t\t.doOnError(throwable -&gt; {succeededLiveData.postValue(false);\r\n\t\t\t\t\t\t\t\tmyObjectStringsListLiveData.postValue(null);})\r\n\t\t.retry(4)\r\n\t\t.observeOn(AndroidSchedulers.mainThread())\r\n\t\t.subscribe(myObjectStringsList -&gt; {\r\n\t\t\t\t\tsucceededLiveData.setValue(true);\r\n\t\t\t\t\tmyObjectStringsListLiveData.setValue(myObjectStringsList);\r\n\t\t\t\t},\r\n\t\t\t\tthrowable -&gt; {\r\n\t\t\t\t\tsucceededLiveData.setValue(false);\r\n\t\t\t\t\tmyObjectStringsListLiveData.setValue(null);});\r\n\r\nNow I realized that I actually need the original list of my MyObjects from the observable to be stored in ```List&lt;MyObject&gt; myObjectsList``` which is a field of my viewmodel, not just the ```List&lt;String&gt;``` that is stored in my LiveData &quot;myObjectStringsListLiveData&quot;. This means that I need a way to extract the myObjectsList from the observable before all the mapping. I can&#39;t observe the myObjectsObservable twice, once before the mapping, and then one mapped like my code above, because that would cause two API calls which I obviously do not want. At least it is my understanding that that would happen, as observables execute the code separately for each subscriber. \r\n\r\nSo I can only personally think of two possible solutions as I am still a javarx noob. One would be to use a type of Subject that subscribes to the retrofit myObjectsObservable so that the API wouldn&#39;t be called twice and then subsequently subscribe to that subject twice in my viewmodel. Although I am not quite sure how to implement this, but I think I could figure it out.\r\n\r\nThe other option I can think of would be to subscribe only once, and inside the lambda I pass the subscribe() method, store the ```List&lt;MyObject``` emitted by the Observable, and then instead of using the JavaRx map/concatMapIterable/toList() operators, use the java Stream library inside the lambda as well, and use that to map the myObjectsList to ```List&lt;String&gt;``` that will be posted to the myObjectStringsListLiveData. A downside to this would that this would occur on the main thread I believe. Although maybe I could change the &quot;setValue&quot; methods to &quot;postValue&quot; methods and observeOn a background thread. I am not really sure if that is okay to use the viewmodel in the background like that. \r\n\r\nThe second solution doesn&#39;t seem too elegant. Is it wise to do stuff with a viewmodel in the background? Maybe the first way with a Subject is better?\r\n\r\nWhat do you all think is the best way?\r\n\r\nAlso, as a bonus question, that is somewhat unrelated to the first question, I was wondering if postValue in MutableLiveData will always execute in order, like how I do so in my lambdas in the observable chain, because I will get a NullPointerException in my activity if ```succeededLiveData.getValue()``` is called after OnChanged is called for the MyObjectStringsList that I observe in my activity. Will postValue always propagate to each respective LiveData observer in the order they are called? \r\n\r\nThanks for any responses!","title":"What is the best way to get two lists of different object types from the same observable in javarx on Android?","body":"<p>I have a retrofit api call that returns a javarx observable. Here is the retrofit interface</p>\n<pre><code>@GET(&quot;/myobjects&quot;)\nObservable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable();\n</code></pre>\n<p>Then I have a repository method:</p>\n<pre><code>public Observable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable(){\n    return api.getMyObjectsObservable();\n}\n</code></pre>\n<p>In my viewmodel, I have a method that subscribes to the javarx observable returned by the repository. Inside the method, the observable chain in which I subscribe in that method sets values for two MutableLiveData objects that are observed by my activity. One MutableLiveData, &quot;succeededLiveData&quot;, holds a boolean which determines if the API call succeeded and displays this for the user in the activity, and the other &quot;myObjectStringsListLiveData&quot; is a list of strings with information from a MyObject object that will be displayed in a listview in the activity. Here is that observable chain:</p>\n<pre><code>Disposable disposable = myObjectsRepository.getMyObjectsObservable()\n    .concatMapIterable(myObject -&gt; myObject)\n    .map(myObject -&gt; myObject.getString1() + &quot; And &quot; + myObject.getString2())\n    .toList()\n    .doOnError(throwable -&gt; {succeededLiveData.postValue(false);\n                            myObjectStringsListLiveData.postValue(null);})\n    .retry(4)\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(myObjectStringsList -&gt; {\n                succeededLiveData.setValue(true);\n                myObjectStringsListLiveData.setValue(myObjectStringsList);\n            },\n            throwable -&gt; {\n                succeededLiveData.setValue(false);\n                myObjectStringsListLiveData.setValue(null);});\n</code></pre>\n<p>Now I realized that I actually need the original list of my MyObjects from the observable to be stored in <code>List&lt;MyObject&gt; myObjectsList</code> which is a field of my viewmodel, not just the <code>List&lt;String&gt;</code> that is stored in my LiveData &quot;myObjectStringsListLiveData&quot;. This means that I need a way to extract the myObjectsList from the observable before all the mapping. I can't observe the myObjectsObservable twice, once before the mapping, and then one mapped like my code above, because that would cause two API calls which I obviously do not want. At least it is my understanding that that would happen, as observables execute the code separately for each subscriber.</p>\n<p>So I can only personally think of two possible solutions as I am still a javarx noob. One would be to use a type of Subject that subscribes to the retrofit myObjectsObservable so that the API wouldn't be called twice and then subsequently subscribe to that subject twice in my viewmodel. Although I am not quite sure how to implement this, but I think I could figure it out.</p>\n<p>The other option I can think of would be to subscribe only once, and inside the lambda I pass the subscribe() method, store the <code>List&lt;MyObject</code> emitted by the Observable, and then instead of using the JavaRx map/concatMapIterable/toList() operators, use the java Stream library inside the lambda as well, and use that to map the myObjectsList to <code>List&lt;String&gt;</code> that will be posted to the myObjectStringsListLiveData. A downside to this would that this would occur on the main thread I believe. Although maybe I could change the &quot;setValue&quot; methods to &quot;postValue&quot; methods and observeOn a background thread. I am not really sure if that is okay to use the viewmodel in the background like that.</p>\n<p>The second solution doesn't seem too elegant. Is it wise to do stuff with a viewmodel in the background? Maybe the first way with a Subject is better?</p>\n<p>What do you all think is the best way?</p>\n<p>Also, as a bonus question, that is somewhat unrelated to the first question, I was wondering if postValue in MutableLiveData will always execute in order, like how I do so in my lambdas in the observable chain, because I will get a NullPointerException in my activity if <code>succeededLiveData.getValue()</code> is called after OnChanged is called for the MyObjectStringsList that I observe in my activity. Will postValue always propagate to each respective LiveData observer in the order they are called?</p>\n<p>Thanks for any responses!</p>\n"},{"tags":["java","spring-boot","performance","collections","java-stream"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":2,"creation_date":1632435065,"post_id":69307363,"comment_id":122498886,"body_markdown":"I&#39;d iterate on `tz.entrySet`  to avoid the unnecessary lookup of the key. I&#39;d also set the initial capacity on the ArrayList.  But otherwise, it&#39;s fine.","body":"I&#39;d iterate on <code>tz.entrySet</code>  to avoid the unnecessary lookup of the key. I&#39;d also set the initial capacity on the ArrayList.  But otherwise, it&#39;s fine."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632436170,"creation_date":1632436170,"answer_id":69307550,"question_id":69307363,"body_markdown":"Here&#39;s a &#39;modern&#39; way, using streams and a `record`, but what you have written is fine.\r\n\r\n```\r\npublic class SO69307363 {\r\n    record TimeZone(String name, String label){};\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\r\n        tz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\r\n        tz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\r\n        tz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\r\n        tz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\r\n\r\n        List&lt;TimeZone&gt; timeZones = tz.entrySet().stream()\r\n                .map(e -&gt; new TimeZone(e.getKey(), e.getValue()))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nI think that this way is easier to read and understand, simply because there is less code.","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>Here's a 'modern' way, using streams and a <code>record</code>, but what you have written is fine.</p>\n<pre><code>public class SO69307363 {\n    record TimeZone(String name, String label){};\n\n    public static void main(String[] args) {\n        Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\n        tz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\n        tz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\n        tz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\n        tz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\n\n        List&lt;TimeZone&gt; timeZones = tz.entrySet().stream()\n                .map(e -&gt; new TimeZone(e.getKey(), e.getValue()))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>I think that this way is easier to read and understand, simply because there is less code.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632436834,"creation_date":1632436834,"answer_id":69307632,"question_id":69307363,"body_markdown":"1. If the input data are provided as the mentioned JSON string, it would be better to implement a POJO and then deserialize that JSON as a list/array.\r\n\r\n2. If the input data are provided as a map, a constructor/mapper method/builder should be implemented for `Timezone` class to convert the map entries:\r\n```java\r\nMap&lt;String,String&gt; tz = Map.of(\r\n    &quot;America/New_York&quot;, &quot;US Eastern Time&quot;,\r\n    &quot;America/Chicago&quot;, &quot;US Central Time&quot;,\r\n    &quot;America/Denver&quot;, &quot;US Mountain Time&quot;,\r\n    &quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;\r\n);    \r\n\r\nList&lt;Timezone&gt; timezoneList = tz.entrySet()\r\n    .stream()\r\n    .map(e -&gt; new Timezone(e.getKey(), e.getValue())) // constructor\r\n//  .map(e -&gt; new TimezoneBuilder().withName(e.getKey()).withLabel(e.getValue()).build()\r\n    .collect(Collectors.toList());\r\n```\r\n","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<ol>\n<li><p>If the input data are provided as the mentioned JSON string, it would be better to implement a POJO and then deserialize that JSON as a list/array.</p>\n</li>\n<li><p>If the input data are provided as a map, a constructor/mapper method/builder should be implemented for <code>Timezone</code> class to convert the map entries:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,String&gt; tz = Map.of(\n    &quot;America/New_York&quot;, &quot;US Eastern Time&quot;,\n    &quot;America/Chicago&quot;, &quot;US Central Time&quot;,\n    &quot;America/Denver&quot;, &quot;US Mountain Time&quot;,\n    &quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;\n);    \n\nList&lt;Timezone&gt; timezoneList = tz.entrySet()\n    .stream()\n    .map(e -&gt; new Timezone(e.getKey(), e.getValue())) // constructor\n//  .map(e -&gt; new TimezoneBuilder().withName(e.getKey()).withLabel(e.getValue()).build()\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11003756,"reputation":735,"user_id":8303430,"display_name":"Rituraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632438682,"creation_date":1632438682,"answer_id":69307834,"question_id":69307363,"body_markdown":"If you use Apache commons library, then here is a one liner solution for you. \r\n\r\n`List&lt;Timezone&gt; collect = CollectionUtils.collect(tz.entrySet().iterator(), entry -&gt; new Timezone(entry.getKey(), entry.getValue()), new ArrayList&lt;&gt;());`\r\n\r\n\r\nif you prefer to use Java-8 syntax, then follow the answer provided by tgdavies above.\r\n\r\n","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>If you use Apache commons library, then here is a one liner solution for you.</p>\n<p><code>List&lt;Timezone&gt; collect = CollectionUtils.collect(tz.entrySet().iterator(), entry -&gt; new Timezone(entry.getKey(), entry.getValue()), new ArrayList&lt;&gt;());</code></p>\n<p>if you prefer to use Java-8 syntax, then follow the answer provided by tgdavies above.</p>\n"},{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632512322,"creation_date":1632512322,"answer_id":69320325,"question_id":69307363,"body_markdown":"All answers are correct, if you are using JDK16+, ```toList()``` could be used directly, and will return unmodifiableList, \r\n\r\n```\r\nList&lt;Timezone&gt; timezones = tz.entrySet()\r\n                                     .stream()\r\n                                     .map(a -&gt; new Timezone(a.getKey(), a.getValue()))\r\n                                     .toList();\r\n\r\n```","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>All answers are correct, if you are using JDK16+, <code>toList()</code> could be used directly, and will return unmodifiableList,</p>\n<pre><code>List&lt;Timezone&gt; timezones = tz.entrySet()\n                                     .stream()\n                                     .map(a -&gt; new Timezone(a.getKey(), a.getValue()))\n                                     .toList();\n\n</code></pre>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3586,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1632512322,"creation_date":1632434501,"question_id":69307363,"body_markdown":"Below is what I am trying to achieve.\r\n\r\n    &quot;timezones&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/New_York&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Eastern Time&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/Chicago&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Central Time&quot;\r\n\t\t},\r\n\t\t\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/Denver&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Mountain Time&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/Los_Angeles&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Pacific Time&quot;\r\n\t\t},\r\n\r\n     ]\r\n\r\nBelow is my code snippet.\r\n\r\n        Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\r\n\t\ttz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\r\n\t\ttz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\r\n\t\ttz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\r\n\t\ttz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\r\n\t\t\r\n\r\n\t\tList&lt;Timezone&gt; timezoneList = new ArrayList&lt;&gt;();\r\n\t\tfor (String key : tz.keySet()) {\r\n\t\t\tTimezone timezone = new Timezone();\r\n\t\t\tString value = tz.get(key);\r\n\t\t\ttimezone.setName(key);\r\n\t\t\ttimezone.setLabel(value);\r\n\t\t\ttimezoneList.add(timezone);\r\n\t\t}\r\n\r\nHere I am iterating map based on keyset and then getting value from it, then creating an object and adding it to list. This looks like lot of process.\r\n\r\nIs there any better way to do this?","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>Below is what I am trying to achieve.</p>\n<pre><code>&quot;timezones&quot;: [\n    {\n        &quot;name&quot; : &quot;America/New_York&quot;,\n        &quot;label&quot; : &quot;US Eastern Time&quot;\n    },\n    {\n        &quot;name&quot; : &quot;America/Chicago&quot;,\n        &quot;label&quot; : &quot;US Central Time&quot;\n    },\n    \n    {\n        &quot;name&quot; : &quot;America/Denver&quot;,\n        &quot;label&quot; : &quot;US Mountain Time&quot;\n    },\n    {\n        &quot;name&quot; : &quot;America/Los_Angeles&quot;,\n        &quot;label&quot; : &quot;US Pacific Time&quot;\n    },\n\n ]\n</code></pre>\n<p>Below is my code snippet.</p>\n<pre><code>    Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\n    tz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\n    tz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\n    tz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\n    tz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\n    \n\n    List&lt;Timezone&gt; timezoneList = new ArrayList&lt;&gt;();\n    for (String key : tz.keySet()) {\n        Timezone timezone = new Timezone();\n        String value = tz.get(key);\n        timezone.setName(key);\n        timezone.setLabel(value);\n        timezoneList.add(timezone);\n    }\n</code></pre>\n<p>Here I am iterating map based on keyset and then getting value from it, then creating an object and adding it to list. This looks like lot of process.</p>\n<p>Is there any better way to do this?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632506082,"creation_date":1632498543,"answer_id":69317877,"question_id":69317317,"body_markdown":"### The syntax isn&#39;t supported by MySQL\r\n\r\nMySQL doesn&#39;t support this syntax yet. You can see that on the Javadoc of jOOQ&#39;s [`UpdateSetFirstStep.set(Row2, Select)`][1] method, which lists these dialects as supported:\r\n\r\n```java\r\n@Support({ASE,AURORA_POSTGRES,BIGQUERY,COCKROACHDB,DB2,H2,HANA,HSQLDB,INGRES,ORACLE,POSTGRES,SNOWFLAKE,SQLSERVER,SYBASE})\r\n```\r\n\r\njOOQ could emulate the syntax:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/10522 (Using `UPDATE .. FROM` for uncorrelated subqueries)\r\n- https://github.com/jOOQ/jOOQ/issues/10523 (By splitting the correlated subquery into two)\r\n\r\nBoth of these emulations aren&#39;t available yet as of jOOQ 3.15\r\n\r\n### If the syntax was supported, why the extra derived table?\r\n\r\nIf the syntax was supported, then the additional derived table is a workaround implemented by jOOQ for a limitation in MySQL, where an `UPDATE` or `DELETE` query cannot reference the DML statement&#39;s target table from within a correlated subquery (but magically, this limitations disappears when nesting the correlated subquery one level in a derived table). See:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/6583\r\n- https://dev.mysql.com/doc/refman/8.0/en/subquery-restrictions.html\r\n- https://stackoverflow.com/q/23853453/521799\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/UpdateSetFirstStep.html#set(org.jooq.Row2,org.jooq.Select)","title":"Subquery inside an update to set multiple values","body":"<h3>The syntax isn't supported by MySQL</h3>\n<p>MySQL doesn't support this syntax yet. You can see that on the Javadoc of jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/UpdateSetFirstStep.html#set(org.jooq.Row2,org.jooq.Select)\" rel=\"nofollow noreferrer\"><code>UpdateSetFirstStep.set(Row2, Select)</code></a> method, which lists these dialects as supported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Support({ASE,AURORA_POSTGRES,BIGQUERY,COCKROACHDB,DB2,H2,HANA,HSQLDB,INGRES,ORACLE,POSTGRES,SNOWFLAKE,SQLSERVER,SYBASE})\n</code></pre>\n<p>jOOQ could emulate the syntax:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/10522\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10522</a> (Using <code>UPDATE .. FROM</code> for uncorrelated subqueries)</li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/10523\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10523</a> (By splitting the correlated subquery into two)</li>\n</ul>\n<p>Both of these emulations aren't available yet as of jOOQ 3.15</p>\n<h3>If the syntax was supported, why the extra derived table?</h3>\n<p>If the syntax was supported, then the additional derived table is a workaround implemented by jOOQ for a limitation in MySQL, where an <code>UPDATE</code> or <code>DELETE</code> query cannot reference the DML statement's target table from within a correlated subquery (but magically, this limitations disappears when nesting the correlated subquery one level in a derived table). See:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/6583\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/6583</a></li>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.0/en/subquery-restrictions.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/subquery-restrictions.html</a></li>\n<li><a href=\"https://stackoverflow.com/q/23853453/521799\">MySQL rationale behind &quot;Can&#39;t specify target table for update in FROM clause&quot;</a></li>\n</ul>\n"}],"owner":{"account_id":5959546,"reputation":37,"user_id":4685124,"display_name":"Bram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69317877,"answer_count":1,"score":1,"last_activity_date":1632511070,"creation_date":1632496110,"question_id":69317317,"body_markdown":"I want to move a DateTime of a record by using `update().set()`. When I try the [given example in the jOOQ docs for using a subselect][1] I found that I needed to cast to a `Row2` type because I want to set two variables. With this, the query gets build in an unusual way *(or at least not according to what I expect of the query given the example in the jOOQ docs)*:\r\n\r\n```java\r\npublic static void moveEventStart(final LocalDate previousEventStart, final LocalDate newEventStart) {\r\n    final Days changeInterval = Days.daysBetween(previousEventStart, newEventStart);\r\n    ActivityTbl a = ACTIVITY.as(&quot;a&quot;);\r\n    ActivityTbl a2 = ACTIVITY.as(&quot;a2&quot;)\r\n\r\n    jooq()\r\n        .update(a)\r\n        .set(\r\n            (Row2) row(a.START, a.END),\r\n            select(\r\n                 models.Jooq.dateAdd(a2.START, changeInterval.getDays(), DatePart.DAY),\r\n                 models.Jooq.dateAdd(a2.END, changeInterval.getDays(), DatePart.DAY))\r\n            .from(a2)\r\n            .where(...))\r\n        .where(...)\r\n        .execute();\r\n}\r\n```\r\nThe dateAdd function is build like this:\r\n```java\r\npublic static Field&lt;Date&gt; dateAdd(TableField&lt;?, LocalDateTime&gt; field, int interval, DatePart datePart) {\r\n    String unit;\r\n    switch (datePart) {\r\n      case YEAR:\r\n        unit = &quot;YEAR&quot;;\r\n        break;\r\n      case MONTH:\r\n        unit = &quot;MONTH&quot;;\r\n        break;\r\n      case DAY:\r\n        unit = &quot;DAY&quot;;\r\n        break;\r\n      case HOUR:\r\n        unit = &quot;HOUR&quot;;\r\n        break;\r\n      case MINUTE:\r\n        unit = &quot;MINUTE&quot;;\r\n        break;\r\n      case SECOND:\r\n        unit = &quot;SECOND&quot;;\r\n        break;\r\n      default:\r\n        unit = &quot;&quot;;\r\n    }\r\n    return DSL.field(\r\n        &quot;DATE_ADD({0}, INTERVAL {1} &quot; + unit + &quot;)&quot;, SQLDataType.DATE, field, DSL.inline(interval));\r\n  }\r\n```\r\n\r\nProduces:\r\n```sql\r\nupdate `Activity` as `a` \r\nset(`start`, `end`) = (\r\n\tselect * from (\r\n\t\tselect \r\n\t\t\tDATE_ADD(`a2`.`start`, INTERVAL 1 DAY), \r\n\t\t\tDATE_ADD(`a2`.`end`, INTERVAL 1 DAY) \r\n\t\tfrom `Activity` as `a2` \r\n\t\twhere (...) as `t`\r\n\t) \r\nwhere (...)\r\n```\r\nWhy does jOOQ build a `select` on top of the already given `select`? And how do I make this work, so it sets the multiple values according to the given select?\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/update-statement/","title":"Subquery inside an update to set multiple values","body":"<p>I want to move a DateTime of a record by using <code>update().set()</code>. When I try the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/update-statement/\" rel=\"nofollow noreferrer\">given example in the jOOQ docs for using a subselect</a> I found that I needed to cast to a <code>Row2</code> type because I want to set two variables. With this, the query gets build in an unusual way <em>(or at least not according to what I expect of the query given the example in the jOOQ docs)</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void moveEventStart(final LocalDate previousEventStart, final LocalDate newEventStart) {\n    final Days changeInterval = Days.daysBetween(previousEventStart, newEventStart);\n    ActivityTbl a = ACTIVITY.as(&quot;a&quot;);\n    ActivityTbl a2 = ACTIVITY.as(&quot;a2&quot;)\n\n    jooq()\n        .update(a)\n        .set(\n            (Row2) row(a.START, a.END),\n            select(\n                 models.Jooq.dateAdd(a2.START, changeInterval.getDays(), DatePart.DAY),\n                 models.Jooq.dateAdd(a2.END, changeInterval.getDays(), DatePart.DAY))\n            .from(a2)\n            .where(...))\n        .where(...)\n        .execute();\n}\n</code></pre>\n<p>The dateAdd function is build like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Field&lt;Date&gt; dateAdd(TableField&lt;?, LocalDateTime&gt; field, int interval, DatePart datePart) {\n    String unit;\n    switch (datePart) {\n      case YEAR:\n        unit = &quot;YEAR&quot;;\n        break;\n      case MONTH:\n        unit = &quot;MONTH&quot;;\n        break;\n      case DAY:\n        unit = &quot;DAY&quot;;\n        break;\n      case HOUR:\n        unit = &quot;HOUR&quot;;\n        break;\n      case MINUTE:\n        unit = &quot;MINUTE&quot;;\n        break;\n      case SECOND:\n        unit = &quot;SECOND&quot;;\n        break;\n      default:\n        unit = &quot;&quot;;\n    }\n    return DSL.field(\n        &quot;DATE_ADD({0}, INTERVAL {1} &quot; + unit + &quot;)&quot;, SQLDataType.DATE, field, DSL.inline(interval));\n  }\n</code></pre>\n<p>Produces:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>update `Activity` as `a` \nset(`start`, `end`) = (\n    select * from (\n        select \n            DATE_ADD(`a2`.`start`, INTERVAL 1 DAY), \n            DATE_ADD(`a2`.`end`, INTERVAL 1 DAY) \n        from `Activity` as `a2` \n        where (...) as `t`\n    ) \nwhere (...)\n</code></pre>\n<p>Why does jOOQ build a <code>select</code> on top of the already given <code>select</code>? And how do I make this work, so it sets the multiple values according to the given select?</p>\n"},{"tags":["java","issue-tracking"],"comments":[{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":9,"creation_date":1440539151,"post_id":29379425,"comment_id":52312962,"body_markdown":"Similarly:  how do we add information to an existing bug report?  Several times I&#39;ve seen an older OpenJDK bug closed with &quot;cannot reproduce&quot; while I&#39;m sitting there with a perfect test case, but no way to contribute anything to the now-closed bug.  It&#39;s very discouraging.","body":"Similarly:  how do we add information to an existing bug report?  Several times I&#39;ve seen an older OpenJDK bug closed with &quot;cannot reproduce&quot; while I&#39;m sitting there with a perfect test case, but no way to contribute anything to the now-closed bug.  It&#39;s very discouraging."},{"owner":{"account_id":4365279,"reputation":14457,"user_id":3561275,"display_name":"omajid"},"score":2,"creation_date":1489515423,"post_id":29379425,"comment_id":72701771,"body_markdown":"It&#39;s a pretty crappy situation. Until it&#39;s fixed, I have a few workarounds. Post them to discuss@openjdk.java.net (or a better mailing list) or if you are using a linux distro, file it against your distribution&#39;s bug tracker. Often we have access to openjdk&#39;s bug system.","body":"It&#39;s a pretty crappy situation. Until it&#39;s fixed, I have a few workarounds. Post them to discuss@openjdk.java.net (or a better mailing list) or if you are using a linux distro, file it against your distribution&#39;s bug tracker. Often we have access to openjdk&#39;s bug system."},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":4,"creation_date":1550822524,"post_id":29379425,"comment_id":96419854,"body_markdown":"[This has been discussed on the OpenJDK mailing list](http://mail.openjdk.java.net/pipermail/discuss/2015-December/003840.html) as well.","body":"<a href=\"http://mail.openjdk.java.net/pipermail/discuss/2015-December/003840.html\" rel=\"nofollow noreferrer\">This has been discussed on the OpenJDK mailing list</a> as well."},{"owner":{"account_id":247716,"reputation":1009,"user_id":2047385,"display_name":"xorcus"},"score":0,"creation_date":1586610646,"post_id":29379425,"comment_id":108192195,"body_markdown":"https://bugreport.java.com/ (based on the link supplied by Karl Richter)","body":"<a href=\"https://bugreport.java.com/\" rel=\"nofollow noreferrer\">bugreport.java.com</a> (based on the link supplied by Karl Richter)"},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":1,"creation_date":1657704426,"post_id":29379425,"comment_id":128871646,"body_markdown":"@omajid At this point it will never be fixed, because it&#39;s not in Oracle interests to have a good working open source project competing with it&#39;s own products and services. That&#39;s why OpenJDK need to get their own foundation and git repo and issue tracker. This is getting annoying to a point where it&#39;s basically mismanagement and neglectance","body":"@omajid At this point it will never be fixed, because it&#39;s not in Oracle interests to have a good working open source project competing with it&#39;s own products and services. That&#39;s why OpenJDK need to get their own foundation and git repo and issue tracker. This is getting annoying to a point where it&#39;s basically mismanagement and neglectance"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1661691288,"post_id":29379425,"comment_id":129827283,"body_markdown":"[The bug submission FAQ list](https://bugs.java.com/bugdatabase/faq.do#faq-10) also refers to [the OpenJDK mailing lists](https://mail.openjdk.org/mailman/listinfo). I don’t know in which situations one is preferred over the other.","body":"<a href=\"https://bugs.java.com/bugdatabase/faq.do#faq-10\" rel=\"nofollow noreferrer\">The bug submission FAQ list</a> also refers to <a href=\"https://mail.openjdk.org/mailman/listinfo\" rel=\"nofollow noreferrer\">the OpenJDK mailing lists</a>. I don’t know in which situations one is preferred over the other."}],"answers":[{"tags":[],"owner":{"account_id":5660321,"reputation":534,"user_id":4478159,"display_name":"csauvanet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1431078024,"creation_date":1431078024,"answer_id":30120615,"question_id":29379425,"body_markdown":"I wanted also to report a bug and the only place I could find is the following one:\r\n\r\nhttp://bugreport.java.com/\r\n\r\nI hope it is the correct place, Oracle engineer might end up creating an issue in the bugs.openjdk.java.net if it happen to be really an bug.\r\n\r\nHope this helps","title":"Where to report issues of OpenJDK when you&#39;re not a OpenJDK developer?","body":"<p>I wanted also to report a bug and the only place I could find is the following one:</p>\n\n<p><a href=\"http://bugreport.java.com/\" rel=\"noreferrer\">http://bugreport.java.com/</a></p>\n\n<p>I hope it is the correct place, Oracle engineer might end up creating an issue in the bugs.openjdk.java.net if it happen to be really an bug.</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1632510846,"creation_date":1470400857,"answer_id":38789513,"question_id":29379425,"body_markdown":"Go to http://bugs.java.com or jump straight to the report page:    http://bugreport.java.com/\r\n\r\nMy interpretation of their [FAQ][1] is that this will be triaged by an Oracle engineer, and if accepted it will be assigned a number and (usually) become visible in both Oracles + the OpenJDK bug databases. \r\n\r\n*It would be **really** helpful if this info/link were on the OpenJDK bug page too. The database split is already confusing enough - when your goal is to contribute to __OpenJDK__ but you find yourself at an Oracle-branded page, it seems like you&#39;ve gone to the wrong place.*\r\n\r\n\r\nUDPATE (Nov 2019): To add **Additional information** to a bug ([FAQ][1] point 6):\r\n\r\n&gt; File a new incident with the subject line &quot;Additional information to JDK-XXXXXXX&#39;. Replace XXXXXXX with the reference number received when the report is filed. We are working on a system where you will be able to provide additional information to the existing bug.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/faq.do\r\n\r\n-----\r\n\r\nNow, if you&#39;re curious who can get *direct* access to the bug database...\r\n\r\nFrom (https://bugs.openjdk.java.net/):\r\n\r\n&gt; Everyone with OpenJDK **Author** status or above has a [JDK Bug System] account which may be used to create and edit bugs. Those without accounts can view bugs anonymously.\r\n\r\nTo understand that, you need to navigate the various &quot;role&quot; definitions: \r\n\r\nhttp://openjdk.java.net/bylaws#author\r\n\r\nFrom Section 7: \r\n\r\n&gt; An **Author** for a Project is a Contributor who has been granted the right to create changesets intended to be pushed into a specific Project’s code repositories, but does not have the right to push such changesets directly.\r\n\r\nFrom Section 2:\r\n\r\n&gt; A **Contributor** is a Participant who has signed the Oracle Contributor Agreement (OCA), or who works for an organization that has signed that agreement or its equivalent and makes contributions within the scope of that work and subject to that agreement. A Contributor may submit changes larger than a simple patch, may propose new Projects, and may take on various roles within Groups and Projects.\r\n\r\nand ...\r\n\r\n&gt; A **Participant** is an individual who has subscribed to one or more OpenJDK mailing lists. A Participant may post messages to a list, submit simple patches, and make other kinds of small contributions.\r\n\r\nSo the bar is set pretty high. `:-/`\r\n\r\n","title":"Where to report issues of OpenJDK when you&#39;re not a OpenJDK developer?","body":"<p>Go to <a href=\"http://bugs.java.com\" rel=\"nofollow noreferrer\">http://bugs.java.com</a> or jump straight to the report page:    <a href=\"http://bugreport.java.com/\" rel=\"nofollow noreferrer\">http://bugreport.java.com/</a></p>\n<p>My interpretation of their <a href=\"https://bugs.java.com/bugdatabase/faq.do\" rel=\"nofollow noreferrer\">FAQ</a> is that this will be triaged by an Oracle engineer, and if accepted it will be assigned a number and (usually) become visible in both Oracles + the OpenJDK bug databases.</p>\n<p><em>It would be <strong>really</strong> helpful if this info/link were on the OpenJDK bug page too. The database split is already confusing enough - when your goal is to contribute to <strong>OpenJDK</strong> but you find yourself at an Oracle-branded page, it seems like you've gone to the wrong place.</em></p>\n<p>UDPATE (Nov 2019): To add <strong>Additional information</strong> to a bug (<a href=\"https://bugs.java.com/bugdatabase/faq.do\" rel=\"nofollow noreferrer\">FAQ</a> point 6):</p>\n<blockquote>\n<p>File a new incident with the subject line &quot;Additional information to JDK-XXXXXXX'. Replace XXXXXXX with the reference number received when the report is filed. We are working on a system where you will be able to provide additional information to the existing bug.</p>\n</blockquote>\n<hr />\n<p>Now, if you're curious who can get <em>direct</em> access to the bug database...</p>\n<p>From (<a href=\"https://bugs.openjdk.java.net/\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/</a>):</p>\n<blockquote>\n<p>Everyone with OpenJDK <strong>Author</strong> status or above has a [JDK Bug System] account which may be used to create and edit bugs. Those without accounts can view bugs anonymously.</p>\n</blockquote>\n<p>To understand that, you need to navigate the various &quot;role&quot; definitions:</p>\n<p><a href=\"http://openjdk.java.net/bylaws#author\" rel=\"nofollow noreferrer\">http://openjdk.java.net/bylaws#author</a></p>\n<p>From Section 7:</p>\n<blockquote>\n<p>An <strong>Author</strong> for a Project is a Contributor who has been granted the right to create changesets intended to be pushed into a specific Project’s code repositories, but does not have the right to push such changesets directly.</p>\n</blockquote>\n<p>From Section 2:</p>\n<blockquote>\n<p>A <strong>Contributor</strong> is a Participant who has signed the Oracle Contributor Agreement (OCA), or who works for an organization that has signed that agreement or its equivalent and makes contributions within the scope of that work and subject to that agreement. A Contributor may submit changes larger than a simple patch, may propose new Projects, and may take on various roles within Groups and Projects.</p>\n</blockquote>\n<p>and ...</p>\n<blockquote>\n<p>A <strong>Participant</strong> is an individual who has subscribed to one or more OpenJDK mailing lists. A Participant may post messages to a list, submit simple patches, and make other kinds of small contributions.</p>\n</blockquote>\n<p>So the bar is set pretty high. <code>:-/</code></p>\n"}],"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3849,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":38789513,"answer_count":2,"score":60,"last_activity_date":1632510846,"creation_date":1427839613,"question_id":29379425,"body_markdown":"First I thought it&#39;s strange that there&#39;s no link to a bug tracker on the [OpenJDK project page][1], then I found [bugs.openjdk.java.net][2], but it&#39;s only for accredited project members. How do people outside the ivory tower contribute issues? There&#39;s the mailing list and some people call sending issues and patches to a mailing list bug tracking... but the development and usage of bug tracker contradicts.\r\n\r\n[1]:http://openjdk.java.net/\r\n[2]:https://bugs.openjdk.java.net/","title":"Where to report issues of OpenJDK when you&#39;re not a OpenJDK developer?","body":"<p>First I thought it's strange that there's no link to a bug tracker on the <a href=\"http://openjdk.java.net/\" rel=\"noreferrer\">OpenJDK project page</a>, then I found <a href=\"https://bugs.openjdk.java.net/\" rel=\"noreferrer\">bugs.openjdk.java.net</a>, but it's only for accredited project members. How do people outside the ivory tower contribute issues? There's the mailing list and some people call sending issues and patches to a mailing list bug tracking... but the development and usage of bug tracker contradicts.</p>\n"},{"tags":["java","database","class","object","verification"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1632515947,"post_id":69319876,"comment_id":122523290,"body_markdown":"Note that you do not need to import anything from `java.lang`.","body":"Note that you do not need to import anything from <code>java.lang</code>."}],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632510205,"creation_date":1632510205,"answer_id":69319985,"question_id":69319876,"body_markdown":"You are trying to create an instance of the class **Consumer** using the constructor ***Consumer()*** which is not defined.\r\n\r\nThe only constructor you have defined is ***Consumer(String name)***.\r\n\r\nYou need to add a default constructor to your **Consumer** class:\r\n\r\n     public Consumer() {\r\n        numConsumers++;\r\n        this.name = &quot;Undefined&quot;; //Or just set it to null\r\n        this.streetNumber = 0;\r\n        this.streetName = &quot; &quot;;\r\n        this.city = &quot; &quot;;\r\n        this.postalCode = &quot; &quot;;\r\n        this.age = 0;\r\n        this.gender = &quot; &quot;;\r\n        MaritalStatus maritalStatus = MaritalStatus.SINGLE;\r\n        Education education = Education.HIGH_SCHOOL;\r\n    }","title":"Java - Cannot create object. Getting error message: &quot;Object cannot be resolved to a type&quot;","body":"<p>You are trying to create an instance of the class <strong>Consumer</strong> using the constructor <em><strong>Consumer()</strong></em> which is not defined.</p>\n<p>The only constructor you have defined is <em><strong>Consumer(String name)</strong></em>.</p>\n<p>You need to add a default constructor to your <strong>Consumer</strong> class:</p>\n<pre><code> public Consumer() {\n    numConsumers++;\n    this.name = &quot;Undefined&quot;; //Or just set it to null\n    this.streetNumber = 0;\n    this.streetName = &quot; &quot;;\n    this.city = &quot; &quot;;\n    this.postalCode = &quot; &quot;;\n    this.age = 0;\n    this.gender = &quot; &quot;;\n    MaritalStatus maritalStatus = MaritalStatus.SINGLE;\n    Education education = Education.HIGH_SCHOOL;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22846762,"reputation":11,"user_id":16992994,"display_name":"pavel_msu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632510311,"creation_date":1632510311,"answer_id":69320002,"question_id":69319876,"body_markdown":"Your class `Consumer` has only one constructor with one required String parameter `public Consumer(String name)`, but in `main` you pass nothing to constructor. \r\n\r\nYou should write\r\n\r\n    Consumer consumerOne = new Consumer(&quot;John&quot;);","title":"Java - Cannot create object. Getting error message: &quot;Object cannot be resolved to a type&quot;","body":"<p>Your class <code>Consumer</code> has only one constructor with one required String parameter <code>public Consumer(String name)</code>, but in <code>main</code> you pass nothing to constructor.</p>\n<p>You should write</p>\n<pre><code>Consumer consumerOne = new Consumer(&quot;John&quot;);\n</code></pre>\n"}],"owner":{"account_id":19962714,"reputation":23,"user_id":14629924,"display_name":"Steven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69319985,"answer_count":2,"score":1,"last_activity_date":1632510511,"creation_date":1632509539,"question_id":69319876,"body_markdown":"New programmer learning Java. I have an assignment where I have to create a database of sorts to store Consumer information. For now I&#39;ve build two classes. The Consumer class itself, and a second, separate class with the main method. I&#39;m still building the program, but I&#39;ve run into something that I just can&#39;t seem to get past. My program won&#39;t let me create any objects of the class Consumer. Please help if anyone has a chance.\r\n\r\nConsumer class code:\r\n```\r\nimport java.lang.Enum;\r\n\r\npublic class Consumer {\r\n\t\r\n\tprivate String name;\r\n\tprivate int streetNumber;\r\n\tprivate String streetName;\r\n\tprivate String city;\r\n\tprivate String postalCode;\r\n\tprivate int age;\r\n\tprivate String gender;\r\n\tprivate static int numConsumers;\r\n\t\r\n\r\n\t\r\n\tpublic Consumer(String name) {\r\n\t\tnumConsumers++;\r\n\t\tthis.name = name;\r\n\t\tthis.streetNumber = 0;\r\n\t\tthis.streetName = &quot; &quot;;\r\n\t\tthis.city = &quot; &quot;;\r\n\t\tthis.postalCode = &quot; &quot;;\r\n\t\tthis.age = 0;\r\n\t\tthis.gender = &quot; &quot;;\r\n\t\tMaritalStatus maritalStatus = MaritalStatus.SINGLE;\r\n\t\tEducation education = Education.HIGH_SCHOOL;\r\n\t}\r\n\t\r\n\tpublic enum MaritalStatus {\r\n\t\tSINGLE,\r\n\t\tCOMMON_LAW,\r\n\t\tMARRIED,\r\n\t\tSEPARATED,\r\n\t\tDIVORCED,\r\n\t\tWIDOWED\r\n\t}\r\n\t\r\n\tpublic enum Education {\r\n\t\tHIGH_SCHOOL,\r\n\t\tCOLLEGE,\r\n\t\tUNIVERSITY,\r\n\t\tNONE\r\n\t}\r\n\t\r\n\tpublic void setName(String newName) {\r\n\t\tname = newName;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic void setStreetNumber (int n) {\r\n\t\tstreetNumber = n;\r\n\t}\r\n\t\r\n\tpublic int getStreetNumber() {\r\n\t\treturn streetNumber;\r\n\t}\r\n\t\r\n\tpublic void setStreetName(String newStreetName) {\r\n\t\tstreetName = newStreetName;\r\n\t}\r\n\t\r\n\tpublic String getStreetName() {\r\n\t\treturn streetName;\r\n\t}\r\n\t\r\n\tpublic void setCity(String newCity) {\r\n\t\tcity = newCity;\r\n\t}\r\n\t\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\t\r\n\tpublic void setPostalCode(String newPostalCode) {\r\n\t\tpostalCode = newPostalCode;\r\n\t}\r\n\t\r\n\tpublic String getPostalCode() {\r\n\t\treturn postalCode;\r\n\t}\r\n\t\r\n\tpublic void setAge (int n) {\r\n\t\tage = n;\r\n\t}\r\n\t\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\t\r\n\tpublic void setGender(String newGender) {\r\n\t\tgender = newGender;\r\n\t}\r\n\t\r\n\tpublic String getGender() {\r\n\t\treturn gender;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Displaying information for consumer &quot; + name);\r\n\t\tSystem.out.println(&quot;Address: &quot; + streetNumber + &quot; &quot; + streetName + &quot;, &quot; + city + &quot;, &quot; + postalCode);\r\n\t\tSystem.out.println(&quot;Age: &quot; + age);\r\n\t\tSystem.out.println(&quot;Gender: &quot; + gender);\r\n\t\tSystem.out.println(&quot;Marital status: &quot; + MaritalStatus.class);\r\n\t\tSystem.out.println(&quot;Education level: &quot; + Education.class);\r\n\t\treturn &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic static String menu() {\r\n\t\tSystem.out.println(&quot;What do you want to do?&quot;);\r\n\t\tSystem.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\r\n\t\tSystem.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\r\n\t\tSystem.out.println(&quot;\\t 5. Quit&quot;);\r\n\t\tSystem.out.println(&quot;Please enter your choice &gt; &quot;);\r\n\t\treturn &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic static int getNumConsumers() {\r\n\t\treturn numConsumers;\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nand the code from my main class/method\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Capitalism {\r\n\t\r\n\tprivate static boolean validatedPassword;\r\n\tprivate static String correctPassword = &quot;password&quot;;\r\n\tprivate static String passwordGuess;\r\n\tprivate static int passwordAttempts;\r\n\tprivate static int totalPasswordAttempts;\r\n\tprivate static int maxNumConsumers;\r\n\tprivate static int userMenuChoice;\r\n\t\r\n\tstatic int getMaxConsumers() {\r\n\t\t\r\n\t\tScanner userInput = new Scanner(System.in);\t\r\n\t\tSystem.out.println(&quot;Please enter the maximum number of consumers your company can handle&quot;);\r\n\t\t\r\n\t\tdo {\r\n\t\t\tif(userInput.hasNextInt()) {\r\n\t\t\t\tmaxNumConsumers = userInput.nextInt();\r\n\t\t\t\tif(maxNumConsumers &lt;= 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a positive number&quot;);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a positive number (1, 8, 15, etc).&quot;);\r\n\t\t\t\tuserInput.nextLine();\r\n\t\t\t}\r\n\t\t} while (maxNumConsumers &lt;= 0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Your company can handle &quot; + maxNumConsumers + &quot; consumers.\\n&quot;);\r\n\t\treturn maxNumConsumers;\r\n\t}\r\n\t\r\n\tstatic void menu() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;What do you want to do?&quot;);\r\n\t\tSystem.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\r\n\t\tSystem.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\r\n\t\tSystem.out.println(&quot;\\t 5. Quit&quot;);\r\n\t\tSystem.out.println(&quot;Please enter your choice &gt; &quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic int getUserMenuChoice() {\r\n\t\tScanner userInput = new Scanner(System.in);\t\r\n\t\t\r\n\t\tdo {\r\n\t\t\tif(userInput.hasNextInt()) {\r\n\t\t\t\tuserMenuChoice = userInput.nextInt();\r\n\t\t\t\tif(userMenuChoice &lt;= 0 || userMenuChoice &gt;= 6) {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a number between 1 and 5.&quot;);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Invalid input. User must enter a number with no letters (i.e. 4 instead of four).&quot;);\r\n\t\t\t\tuserInput.nextLine();\r\n\t\t\t}\r\n\t\t} while (userMenuChoice &lt;= 0 || userMenuChoice &gt;=6);\r\n\t\t\r\n\t\tSystem.out.println(&quot;You have selected option &quot; + userMenuChoice + &quot;.\\n&quot;);\r\n\t\treturn userMenuChoice;\r\n\t}\r\n\r\n\tstatic void validatePassword() {\r\n\t\twhile (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\r\n\t\t\tSystem.out.println(&quot;Please enter your password.&quot;);\r\n\t\t\tScanner userInput = new Scanner(System.in);\r\n\t\t\tpasswordGuess = userInput.next();\r\n\t\t\tif (passwordGuess.equals(correctPassword)) {\r\n\t\t\t\tSystem.out.println(&quot;Correct password. Okay to proceed.&quot;);\r\n\t\t\t\tvalidatedPassword = true;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (passwordAttempts &lt; 2) {\r\n\t\t\t\tSystem.out.println(&quot;Incorrect password. Max of 3 attempts before returning to main menu.&quot;);\r\n\t\t\t\tpasswordAttempts++;\r\n\t\t\t\ttotalPasswordAttempts++;\r\n\t\t\t} else {\r\n\t\t\t\tpasswordAttempts = 0;\r\n\t\t\t\ttotalPasswordAttempts++;\r\n\t\t\t\tif (totalPasswordAttempts == 12) {\r\n\t\t\t\t\tSystem.out.println(&quot;Program has detected suspicious activity and will terminate immediately.&quot;);\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Maximum number of attempts reached. Returning to main menu.&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void validatePassword2() {\r\n\t\twhile (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\r\n\t\t\tSystem.out.println(&quot;Please enter your password.&quot;);\r\n\t\t\tScanner userInput = new Scanner(System.in);\r\n\t\t\tpasswordGuess = userInput.next();\r\n\t\t\tif (passwordGuess.equals(correctPassword)) {\r\n\t\t\t\tSystem.out.println(&quot;Correct password. Okay to proceed.&quot;);\r\n\t\t\t\tvalidatedPassword = true;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (passwordAttempts &lt; 2) {\r\n\t\t\t\tSystem.out.println(&quot;Incorrect password. Max of 3 attempts.&quot;);\r\n\t\t\t\tpasswordAttempts++;\r\n\t\t\t\ttotalPasswordAttempts++;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Program terminated due to safety reasons.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tConsumer consumerOne = new Consumer(); // this is the line where the error message comes up\r\n\t\t\r\n\t\tboolean runProgram = true;\r\n\t\tSystem.out.println(&quot;Welcome to the consumer information database. A place to store and update consumer information. \\n&quot;);\r\n\r\n\t\tgetMaxConsumers();\r\n\t\t\r\n\t\twhile(runProgram) {\r\n\t\t\tmenu();\r\n\t\t\tgetUserMenuChoice();\r\n\t\t\t\r\n\t\t\tswitch(userMenuChoice) {\r\n\t\t\tcase 1:\r\n\t\t\t\tvalidatePassword();\r\n\t\t\t\tSystem.out.println(&quot;Then we continue the rest of this nonesense&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tvalidatePassword2();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\tcase 4:\r\n\t\t\tcase 5:\r\n\t\t\t\trunProgram = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Thank you for using the database. May all your capitalist dreams come true.&quot;);\r\n\t\tSystem.out.println(&quot;Program is now terminated.&quot;);\r\n\r\n\t\t}\r\n\r\n\t\r\n\r\n}\r\n```","title":"Java - Cannot create object. Getting error message: &quot;Object cannot be resolved to a type&quot;","body":"<p>New programmer learning Java. I have an assignment where I have to create a database of sorts to store Consumer information. For now I've build two classes. The Consumer class itself, and a second, separate class with the main method. I'm still building the program, but I've run into something that I just can't seem to get past. My program won't let me create any objects of the class Consumer. Please help if anyone has a chance.</p>\n<p>Consumer class code:</p>\n<pre><code>import java.lang.Enum;\n\npublic class Consumer {\n    \n    private String name;\n    private int streetNumber;\n    private String streetName;\n    private String city;\n    private String postalCode;\n    private int age;\n    private String gender;\n    private static int numConsumers;\n    \n\n    \n    public Consumer(String name) {\n        numConsumers++;\n        this.name = name;\n        this.streetNumber = 0;\n        this.streetName = &quot; &quot;;\n        this.city = &quot; &quot;;\n        this.postalCode = &quot; &quot;;\n        this.age = 0;\n        this.gender = &quot; &quot;;\n        MaritalStatus maritalStatus = MaritalStatus.SINGLE;\n        Education education = Education.HIGH_SCHOOL;\n    }\n    \n    public enum MaritalStatus {\n        SINGLE,\n        COMMON_LAW,\n        MARRIED,\n        SEPARATED,\n        DIVORCED,\n        WIDOWED\n    }\n    \n    public enum Education {\n        HIGH_SCHOOL,\n        COLLEGE,\n        UNIVERSITY,\n        NONE\n    }\n    \n    public void setName(String newName) {\n        name = newName;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public void setStreetNumber (int n) {\n        streetNumber = n;\n    }\n    \n    public int getStreetNumber() {\n        return streetNumber;\n    }\n    \n    public void setStreetName(String newStreetName) {\n        streetName = newStreetName;\n    }\n    \n    public String getStreetName() {\n        return streetName;\n    }\n    \n    public void setCity(String newCity) {\n        city = newCity;\n    }\n    \n    public String getCity() {\n        return city;\n    }\n    \n    public void setPostalCode(String newPostalCode) {\n        postalCode = newPostalCode;\n    }\n    \n    public String getPostalCode() {\n        return postalCode;\n    }\n    \n    public void setAge (int n) {\n        age = n;\n    }\n    \n    public int getAge() {\n        return age;\n    }\n    \n    public void setGender(String newGender) {\n        gender = newGender;\n    }\n    \n    public String getGender() {\n        return gender;\n    }\n    \n    public String toString() {\n        System.out.println();\n        System.out.println(&quot;Displaying information for consumer &quot; + name);\n        System.out.println(&quot;Address: &quot; + streetNumber + &quot; &quot; + streetName + &quot;, &quot; + city + &quot;, &quot; + postalCode);\n        System.out.println(&quot;Age: &quot; + age);\n        System.out.println(&quot;Gender: &quot; + gender);\n        System.out.println(&quot;Marital status: &quot; + MaritalStatus.class);\n        System.out.println(&quot;Education level: &quot; + Education.class);\n        return &quot; &quot;;\n    }\n    \n    public static String menu() {\n        System.out.println(&quot;What do you want to do?&quot;);\n        System.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\n        System.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\n        System.out.println(&quot;\\t 5. Quit&quot;);\n        System.out.println(&quot;Please enter your choice &gt; &quot;);\n        return &quot; &quot;;\n    }\n    \n    public static int getNumConsumers() {\n        return numConsumers;\n    }\n    \n\n}\n\n</code></pre>\n<p>and the code from my main class/method</p>\n<pre><code>import java.util.Scanner;\n\npublic class Capitalism {\n    \n    private static boolean validatedPassword;\n    private static String correctPassword = &quot;password&quot;;\n    private static String passwordGuess;\n    private static int passwordAttempts;\n    private static int totalPasswordAttempts;\n    private static int maxNumConsumers;\n    private static int userMenuChoice;\n    \n    static int getMaxConsumers() {\n        \n        Scanner userInput = new Scanner(System.in); \n        System.out.println(&quot;Please enter the maximum number of consumers your company can handle&quot;);\n        \n        do {\n            if(userInput.hasNextInt()) {\n                maxNumConsumers = userInput.nextInt();\n                if(maxNumConsumers &lt;= 0) {\n                    System.out.println(&quot;Invalid input. Please enter a positive number&quot;);\n                }\n            } else {\n                System.out.println(&quot;Invalid input. Please enter a positive number (1, 8, 15, etc).&quot;);\n                userInput.nextLine();\n            }\n        } while (maxNumConsumers &lt;= 0);\n        \n        System.out.println(&quot;Your company can handle &quot; + maxNumConsumers + &quot; consumers.\\n&quot;);\n        return maxNumConsumers;\n    }\n    \n    static void menu() {\n        \n        System.out.println(&quot;What do you want to do?&quot;);\n        System.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\n        System.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\n        System.out.println(&quot;\\t 5. Quit&quot;);\n        System.out.println(&quot;Please enter your choice &gt; &quot;);\n        \n    }\n    \n    static int getUserMenuChoice() {\n        Scanner userInput = new Scanner(System.in); \n        \n        do {\n            if(userInput.hasNextInt()) {\n                userMenuChoice = userInput.nextInt();\n                if(userMenuChoice &lt;= 0 || userMenuChoice &gt;= 6) {\n                    System.out.println(&quot;Invalid input. Please enter a number between 1 and 5.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Invalid input. User must enter a number with no letters (i.e. 4 instead of four).&quot;);\n                userInput.nextLine();\n            }\n        } while (userMenuChoice &lt;= 0 || userMenuChoice &gt;=6);\n        \n        System.out.println(&quot;You have selected option &quot; + userMenuChoice + &quot;.\\n&quot;);\n        return userMenuChoice;\n    }\n\n    static void validatePassword() {\n        while (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\n            System.out.println(&quot;Please enter your password.&quot;);\n            Scanner userInput = new Scanner(System.in);\n            passwordGuess = userInput.next();\n            if (passwordGuess.equals(correctPassword)) {\n                System.out.println(&quot;Correct password. Okay to proceed.&quot;);\n                validatedPassword = true;\n                break;\n            } else if (passwordAttempts &lt; 2) {\n                System.out.println(&quot;Incorrect password. Max of 3 attempts before returning to main menu.&quot;);\n                passwordAttempts++;\n                totalPasswordAttempts++;\n            } else {\n                passwordAttempts = 0;\n                totalPasswordAttempts++;\n                if (totalPasswordAttempts == 12) {\n                    System.out.println(&quot;Program has detected suspicious activity and will terminate immediately.&quot;);\n                    System.exit(0);\n                }\n                System.out.println(&quot;Maximum number of attempts reached. Returning to main menu.&quot;);\n                break;\n            }   \n        }\n    }\n    \n    static void validatePassword2() {\n        while (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\n            System.out.println(&quot;Please enter your password.&quot;);\n            Scanner userInput = new Scanner(System.in);\n            passwordGuess = userInput.next();\n            if (passwordGuess.equals(correctPassword)) {\n                System.out.println(&quot;Correct password. Okay to proceed.&quot;);\n                validatedPassword = true;\n                break;\n            } else if (passwordAttempts &lt; 2) {\n                System.out.println(&quot;Incorrect password. Max of 3 attempts.&quot;);\n                passwordAttempts++;\n                totalPasswordAttempts++;\n            } else {\n                System.out.println(&quot;Program terminated due to safety reasons.&quot;);\n                System.exit(0);\n            }   \n        }\n    }\n    \n    public static void main(String[] args) {\n        \n        Consumer consumerOne = new Consumer(); // this is the line where the error message comes up\n        \n        boolean runProgram = true;\n        System.out.println(&quot;Welcome to the consumer information database. A place to store and update consumer information. \\n&quot;);\n\n        getMaxConsumers();\n        \n        while(runProgram) {\n            menu();\n            getUserMenuChoice();\n            \n            switch(userMenuChoice) {\n            case 1:\n                validatePassword();\n                System.out.println(&quot;Then we continue the rest of this nonesense&quot;);\n                break;\n            case 2:\n                validatePassword2();\n                break;\n            case 3:\n            case 4:\n            case 5:\n                runProgram = false;\n                break;\n            }\n        \n        }\n        \n        System.out.println(&quot;Thank you for using the database. May all your capitalist dreams come true.&quot;);\n        System.out.println(&quot;Program is now terminated.&quot;);\n\n        }\n\n    \n\n}\n</code></pre>\n"},{"tags":["java","android","mediastore","android-mediascanner","android-10.0"],"comments":[{"owner":{"account_id":14831948,"reputation":2864,"user_id":10711216,"display_name":"Mohan Sai Manthri"},"score":1,"creation_date":1568376998,"post_id":57923329,"comment_id":102264545,"body_markdown":"Where is your fileOutputStream? In above code you&#39;re just making an directory and a file.","body":"Where is your fileOutputStream? In above code you&#39;re just making an directory and a file."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1568377078,"post_id":57923329,"comment_id":102264586,"body_markdown":"@MohanSaiManthri thank you for your comment,actually, I want to create a path to use it","body":"@MohanSaiManthri thank you for your comment,actually, I want to create a path to use it"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1568377644,"post_id":57923329,"comment_id":102264860,"body_markdown":"@MohanSaiManthri can you please check the question again,I have updated it","body":"@MohanSaiManthri can you please check the question again,I have updated it"},{"owner":{"account_id":8739976,"reputation":837,"user_id":6537332,"accept_rate":33,"display_name":"Parag Pawar"},"score":0,"creation_date":1575544627,"post_id":57923329,"comment_id":104606284,"body_markdown":"@MouaadAbdelghafourAITALI Did you find the solution??","body":"@MouaadAbdelghafourAITALI Did you find the solution??"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1575560546,"post_id":57923329,"comment_id":104615132,"body_markdown":"@ParagPawar , just a temporary solution I ended this by adding `android:requestLegacyExternalStorage=&quot;true&quot;` inside the `Application` tag","body":"@ParagPawar , just a temporary solution I ended this by adding <code>android:requestLegacyExternalStorage=&quot;true&quot;</code> inside the <code>Application</code> tag"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1568377814,"creation_date":1568377814,"answer_id":57923693,"question_id":57923329,"body_markdown":"&gt; I want to create a path to use it\r\n\r\nYou are getting a `Uri` from `MediaStore`. There is no &quot;path&quot;. Not only can a `Uri` not be converted to a path, but you do not have filesystem access to that location on Android 10 and higher.\r\n\r\nGet rid of this:\r\n\r\n            if (videoUri != null) {\r\n                savedVideoPath = getRealPathFromURI(videoUri);\r\n            }\r\n\r\nas it will not work.\r\n\r\nReplace it with your code to write out your video to the location identified by the `Uri`. Use `resolver.openOutputStream()` to get an `OutputStream` to that location. In particular, do this *before* you call `resolver.update()` for an `IS_PENDING` of `0`, as that specifically says &quot;I am done writing to the `Uri`; you can use the content now&quot;.\r\n\r\nOr, use one of the filesystem locations that you *do* have access to, such as `getExternalFilesDir()` on `Context`, and get rid of the `MediaStore` stuff.","title":"Save and Insert video to gallery on Android 10","body":"<blockquote>\n  <p>I want to create a path to use it</p>\n</blockquote>\n\n<p>You are getting a <code>Uri</code> from <code>MediaStore</code>. There is no \"path\". Not only can a <code>Uri</code> not be converted to a path, but you do not have filesystem access to that location on Android 10 and higher.</p>\n\n<p>Get rid of this:</p>\n\n<pre><code>        if (videoUri != null) {\n            savedVideoPath = getRealPathFromURI(videoUri);\n        }\n</code></pre>\n\n<p>as it will not work.</p>\n\n<p>Replace it with your code to write out your video to the location identified by the <code>Uri</code>. Use <code>resolver.openOutputStream()</code> to get an <code>OutputStream</code> to that location. In particular, do this <em>before</em> you call <code>resolver.update()</code> for an <code>IS_PENDING</code> of <code>0</code>, as that specifically says \"I am done writing to the <code>Uri</code>; you can use the content now\".</p>\n\n<p>Or, use one of the filesystem locations that you <em>do</em> have access to, such as <code>getExternalFilesDir()</code> on <code>Context</code>, and get rid of the <code>MediaStore</code> stuff.</p>\n"},{"tags":[],"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1632422611,"creation_date":1568513466,"answer_id":57940620,"question_id":57923329,"body_markdown":"I have answered you to your other post to... You need an inputstream (file, bitmap etc.)  and write an outputstream from the inputfile. \r\n\r\nYou have to change the library to make it work with Android Q . If you cannot do this you could copy the video to the media gallery and then delete the old video created in getExternalFilesDir(). After this you have the uri of the video and can do what you want with the uri \r\n\r\n\r\nIf you have saved the video with getExternalFilesDir() you could use my example here : The media uri you get is &quot;uriSavedVideo&quot; . This is only an example. A large video should also be copied in the background. \r\n```\r\nString videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\n\r\nContentValues valuesvideos;\r\nvaluesvideos = new ContentValues();\r\nvaluesvideos.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/&quot; + &quot;Folder&quot;);\r\nvaluesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\r\nvaluesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\r\nvaluesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\nvaluesvideos.put(\r\n    MediaStore.Video.Media.DATE_ADDED, \r\n    System.currentTimeMillis() / 1000);\r\nvaluesvideos.put(MediaStore.Video.Media.DATE_TAKEN, System.currentTimeMillis());\r\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 1);\r\n\r\nContentResolver resolver = mContext.getContentResolver();\r\nUri collection = \r\n    MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\nUri uriSavedVideo = resolver.insert(collection, valuesvideos);\r\nParcelFileDescriptor pfd;\r\n\r\ntry {\r\n    pfd = mContext.getContentResolver().openFileDescriptor(uriSavedVideo, &quot;w&quot;);\r\n\r\n    FileOutputStream out = new FileOutputStream(pfd.getFileDescriptor());\r\n    // Get the already saved video as fileinputstream from here\r\n    File storageDir = new File(\r\n        mContext.getExternalFilesDir(Environment.DIRECTORY_MOVIES), \r\n        &quot;Folder&quot;);\r\n    File imageFile = new File(storageDir, &quot;Myvideo&quot;);\r\n    FileInputStream in = new FileInputStream(imageFile);\r\n\r\n    byte[] buf = new byte[8192];\r\n    int len;\r\n    while ((len = in.read(buf)) &gt; 0) {\r\n        out.write(buf, 0, len);\r\n    }\r\n\r\n    out.close();\r\n    in.close();\r\n    pfd.close();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nvaluesvideos.clear();\r\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 0);\r\nmContext.getContentResolver().update(uriSavedVideo, valuesvideos, null, null);\r\n```\r\n\r\n\r\n\r\n","title":"Save and Insert video to gallery on Android 10","body":"<p>I have answered you to your other post to... You need an inputstream (file, bitmap etc.)  and write an outputstream from the inputfile.</p>\n<p>You have to change the library to make it work with Android Q . If you cannot do this you could copy the video to the media gallery and then delete the old video created in getExternalFilesDir(). After this you have the uri of the video and can do what you want with the uri</p>\n<p>If you have saved the video with getExternalFilesDir() you could use my example here : The media uri you get is &quot;uriSavedVideo&quot; . This is only an example. A large video should also be copied in the background.</p>\n<pre><code>String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\n\nContentValues valuesvideos;\nvaluesvideos = new ContentValues();\nvaluesvideos.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/&quot; + &quot;Folder&quot;);\nvaluesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\nvaluesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\nvaluesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\nvaluesvideos.put(\n    MediaStore.Video.Media.DATE_ADDED, \n    System.currentTimeMillis() / 1000);\nvaluesvideos.put(MediaStore.Video.Media.DATE_TAKEN, System.currentTimeMillis());\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 1);\n\nContentResolver resolver = mContext.getContentResolver();\nUri collection = \n    MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\nUri uriSavedVideo = resolver.insert(collection, valuesvideos);\nParcelFileDescriptor pfd;\n\ntry {\n    pfd = mContext.getContentResolver().openFileDescriptor(uriSavedVideo, &quot;w&quot;);\n\n    FileOutputStream out = new FileOutputStream(pfd.getFileDescriptor());\n    // Get the already saved video as fileinputstream from here\n    File storageDir = new File(\n        mContext.getExternalFilesDir(Environment.DIRECTORY_MOVIES), \n        &quot;Folder&quot;);\n    File imageFile = new File(storageDir, &quot;Myvideo&quot;);\n    FileInputStream in = new FileInputStream(imageFile);\n\n    byte[] buf = new byte[8192];\n    int len;\n    while ((len = in.read(buf)) &gt; 0) {\n        out.write(buf, 0, len);\n    }\n\n    out.close();\n    in.close();\n    pfd.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nvaluesvideos.clear();\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 0);\nmContext.getContentResolver().update(uriSavedVideo, valuesvideos, null, null);\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10505,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1632509731,"creation_date":1568376285,"question_id":57923329,"body_markdown":"I&#39;m trying to save a video to the gallery,the following code works well an all Android versions except the **Android Q**: \r\n\r\n```\r\nprivate void getPath() {\r\n    String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    ContentResolver resolver = getContentResolver();\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, videoFileName);\r\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n    contentValues.put(\r\n        MediaStore.MediaColumns.RELATIVE_PATH, \r\n        &quot;Movies/&quot; + &quot;Folder&quot;);\r\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 1);\r\n    Uri collection = \r\n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n    Uri videoUri = resolver.insert(collection, contentValues);\r\n    if (videoUri != null) {\r\n        try (ParcelFileDescriptor pfd = resolver.openFileDescriptor(videoUri, &quot;w&quot;, null)) {\r\n            OutputStream outputStream = null;\r\n            if (pfd != null) {\r\n                outputStream = resolver.openOutputStream(videoUri);\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    contentValues.clear();\r\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 0);\r\n    if (videoUri != null) {\r\n        resolver.update(videoUri, contentValues, null, null);\r\n    }\r\n    } else {\r\n        File storageDir = new File(\r\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES)\r\n            + &quot;/Folder&quot;);\r\n        boolean success = true;\r\n        if (!storageDir.exists()) {\r\n            success = storageDir.mkdirs();\r\n        }\r\n        if (success) {\r\n            File videoFile = new File(storageDir, videoFileName);\r\n            savedVideoPath = videoFile.getAbsolutePath();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also tried using get `getExternalFilesDir()` , but doesn&#39;t work, no video created in the gallery\r\n\r\n```\r\nString videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    File imageFile = null;\r\n    File storageDir = new File(\r\n        getExternalFilesDir(Environment.DIRECTORY_DCIM),\r\n        &quot;Folder&quot;);\r\n    boolean success = true;\r\n    if (!storageDir.exists()) {\r\n        success = storageDir.mkdirs();\r\n    }\r\n    if (success) {\r\n        imageFile = new File(storageDir, videoFileName);\r\n    }\r\n    savedVideoPath = imageFile.getAbsolutePath();\r\n```\r\n\r\nI use a 3rd-party library to record `SurfaceView`, this library requires a path to save the recorded video : \r\n\r\n     mRenderPipeline = EZFilter.input(this.effectBmp)\r\n                        .addFilter(new GalleryEffects().getEffect(VideoMaker.this, i))\r\n                        .enableRecord(savedVideoPath, true, false)\r\n                        .into(mRenderView);\r\n\r\nWhen record video finished, the recorded video saved with the given path `savedVideoPath` , everything works just fine on all android version except the **Android Q**\r\n\r\nAfter saving the video, when I check, I get an empty video in the gallery \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XyWCe.png","title":"Save and Insert video to gallery on Android 10","body":"<p>I'm trying to save a video to the gallery,the following code works well an all Android versions except the <strong>Android Q</strong>:</p>\n<pre><code>private void getPath() {\n    String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    ContentResolver resolver = getContentResolver();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, videoFileName);\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n    contentValues.put(\n        MediaStore.MediaColumns.RELATIVE_PATH, \n        &quot;Movies/&quot; + &quot;Folder&quot;);\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 1);\n    Uri collection = \n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n    Uri videoUri = resolver.insert(collection, contentValues);\n    if (videoUri != null) {\n        try (ParcelFileDescriptor pfd = resolver.openFileDescriptor(videoUri, &quot;w&quot;, null)) {\n            OutputStream outputStream = null;\n            if (pfd != null) {\n                outputStream = resolver.openOutputStream(videoUri);\n                outputStream.flush();\n                outputStream.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    contentValues.clear();\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 0);\n    if (videoUri != null) {\n        resolver.update(videoUri, contentValues, null, null);\n    }\n    } else {\n        File storageDir = new File(\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES)\n            + &quot;/Folder&quot;);\n        boolean success = true;\n        if (!storageDir.exists()) {\n            success = storageDir.mkdirs();\n        }\n        if (success) {\n            File videoFile = new File(storageDir, videoFileName);\n            savedVideoPath = videoFile.getAbsolutePath();\n        }\n    }\n}\n</code></pre>\n<p>I also tried using get <code>getExternalFilesDir()</code> , but doesn't work, no video created in the gallery</p>\n<pre><code>String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    File imageFile = null;\n    File storageDir = new File(\n        getExternalFilesDir(Environment.DIRECTORY_DCIM),\n        &quot;Folder&quot;);\n    boolean success = true;\n    if (!storageDir.exists()) {\n        success = storageDir.mkdirs();\n    }\n    if (success) {\n        imageFile = new File(storageDir, videoFileName);\n    }\n    savedVideoPath = imageFile.getAbsolutePath();\n</code></pre>\n<p>I use a 3rd-party library to record <code>SurfaceView</code>, this library requires a path to save the recorded video :</p>\n<pre><code> mRenderPipeline = EZFilter.input(this.effectBmp)\n                    .addFilter(new GalleryEffects().getEffect(VideoMaker.this, i))\n                    .enableRecord(savedVideoPath, true, false)\n                    .into(mRenderView);\n</code></pre>\n<p>When record video finished, the recorded video saved with the given path <code>savedVideoPath</code> , everything works just fine on all android version except the <strong>Android Q</strong></p>\n<p>After saving the video, when I check, I get an empty video in the gallery</p>\n<p><a href=\"https://i.stack.imgur.com/XyWCe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XyWCe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","junit","build"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1590443393,"post_id":62010685,"comment_id":109676733,"body_markdown":"Your coworker does not seem to be importing the project correctly; this will happen automatically on a correct import. Use File→Import→Existing Maven projects.","body":"Your coworker does not seem to be importing the project correctly; this will happen automatically on a correct import. Use File→Import→Existing Maven projects."},{"owner":{"account_id":5574704,"reputation":478,"user_id":4418511,"accept_rate":50,"display_name":"GC_"},"score":0,"creation_date":1590499455,"post_id":62010685,"comment_id":109697621,"body_markdown":"@chrylis-cautiouslyoptimistic- I think we tried it both ways.  We are using mvn eclsipe:eclipse.  Not sure why it only seems to work once in a while.","body":"@chrylis-cautiouslyoptimistic- I think we tried it both ways.  We are using mvn eclsipe:eclipse.  Not sure why it only seems to work once in a while."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1590504203,"post_id":62010685,"comment_id":109700502,"body_markdown":"`mvn eclipse:eclipse` has been obsolete for over 10 years.","body":"<code>mvn eclipse:eclipse</code> has been obsolete for over 10 years."}],"answers":[{"tags":[],"owner":{"account_id":2842663,"reputation":616,"user_id":2441939,"display_name":"petrubear"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1590442644,"creation_date":1590442644,"answer_id":62011172,"question_id":62010685,"body_markdown":"you have to go to Project -&gt; Build Path -&gt; Configure Build Path\r\n\r\nThen in the Source tab, you choose &quot;Add Folder&quot; and select that src/test/java, once it is added to your sources you double click where it says &quot;Contains test sources&quot; \r\n","title":"How can I change a source folder to a test source folder in Eclipse","body":"<p>you have to go to Project -> Build Path -> Configure Build Path</p>\n\n<p>Then in the Source tab, you choose \"Add Folder\" and select that src/test/java, once it is added to your sources you double click where it says \"Contains test sources\" </p>\n"}],"owner":{"account_id":5574704,"reputation":478,"user_id":4418511,"accept_rate":50,"display_name":"GC_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4022,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62011172,"answer_count":1,"score":3,"last_activity_date":1632509445,"creation_date":1590440294,"question_id":62010685,"body_markdown":"How can I define a folder, in eclipse, as a test folder?  On my machine, the test folder `/src/test` shows up correctly, with the test green test folder icon. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, one a coworker&#39;s computer it shows as a source package. How do I assign/update this value?\r\n\r\n  [1]: https://i.stack.imgur.com/S887i.png","title":"How can I change a source folder to a test source folder in Eclipse","body":"<p>How can I define a folder, in eclipse, as a test folder?  On my machine, the test folder <code>/src/test</code> shows up correctly, with the test green test folder icon.</p>\n<p><a href=\"https://i.stack.imgur.com/S887i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S887i.png\" alt=\"enter image description here\" /></a></p>\n<p>However, one a coworker's computer it shows as a source package. How do I assign/update this value?</p>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632355467,"creation_date":1632355467,"answer_id":69292486,"question_id":69292128,"body_markdown":"If I&#39;m not mistaken, the main file that spring load is `application.yaml`, you can override the value from this file in other profiles, but other profiles can&#39;t override the value that was declared in another profile. \r\n\r\nIn you case, you can declare all development configuration in `application.yaml` and in `application-docker.yaml` override the specific properties. Then, when you want to run your service in docker just set `docker` profile.","title":"Running Spring Boot App with Multiple Spring Profiles","body":"<p>If I'm not mistaken, the main file that spring load is <code>application.yaml</code>, you can override the value from this file in other profiles, but other profiles can't override the value that was declared in another profile.</p>\n<p>In you case, you can declare all development configuration in <code>application.yaml</code> and in <code>application-docker.yaml</code> override the specific properties. Then, when you want to run your service in docker just set <code>docker</code> profile.</p>\n"},{"tags":[],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632509111,"creation_date":1632509111,"answer_id":69319813,"question_id":69292128,"body_markdown":"Problem solved.  For development purposes, devs on this project create their own `application-development.properties` files which are not committed to Git.  I was under the assumption that everyone was creating this file under `src/main/resources`.  But the developer who experienced different behavior had placed this file in the root directory of the project.  This causes Spring  to load the properties in a different fashion (which caused only one profile to be picked up on startup.\r\n\r\nBe careful where you put your properties files.","title":"Running Spring Boot App with Multiple Spring Profiles","body":"<p>Problem solved.  For development purposes, devs on this project create their own <code>application-development.properties</code> files which are not committed to Git.  I was under the assumption that everyone was creating this file under <code>src/main/resources</code>.  But the developer who experienced different behavior had placed this file in the root directory of the project.  This causes Spring  to load the properties in a different fashion (which caused only one profile to be picked up on startup.</p>\n<p>Be careful where you put your properties files.</p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632509111,"creation_date":1632351115,"question_id":69292128,"body_markdown":"I have a Spring Boot application (running in Docker, but I don&#39;t think that&#39;s relevant) that I start as follows:\r\n\r\n    java -Dspring.profiles.active=development,docker -jar /app.jar\r\n\r\nMy Spring Boot `development` profile includes an entry:\r\n\r\n    service.baseurl: http://foo\r\n\r\nMy Spring Boot `docker` profile includes an entry:\r\n\r\n    service.baseurl: http://bar\r\n\r\nMy understanding of how Spring profiles work is that values are picked up from the LAST value found when there are multiple profiles (see https://stackoverflow.com/a/51565684/2117355).  Based on this, I would expect that my application loads `http://bar` as the value for `service.baseurl`.  This is in fact what happens on my development machine.\r\n\r\nHowever, on my teammate&#39;s machine, the value loaded for `service.baseurl` is `http://foo`.\r\n\r\nThis one is a real head-scratcher.  Could there be some setting, or version of something, on my teammate&#39;s machine that is causing her to get different results here?\r\n\r\nFor what it&#39;s worth, we are both running:\r\n* Java JDK 16.0.2\r\n* Spring Boot 2.5.4\r\n* Gradle 7.2\r\n* Docker 20.10.8","title":"Running Spring Boot App with Multiple Spring Profiles","body":"<p>I have a Spring Boot application (running in Docker, but I don't think that's relevant) that I start as follows:</p>\n<pre><code>java -Dspring.profiles.active=development,docker -jar /app.jar\n</code></pre>\n<p>My Spring Boot <code>development</code> profile includes an entry:</p>\n<pre><code>service.baseurl: http://foo\n</code></pre>\n<p>My Spring Boot <code>docker</code> profile includes an entry:</p>\n<pre><code>service.baseurl: http://bar\n</code></pre>\n<p>My understanding of how Spring profiles work is that values are picked up from the LAST value found when there are multiple profiles (see <a href=\"https://stackoverflow.com/a/51565684/2117355\">https://stackoverflow.com/a/51565684/2117355</a>).  Based on this, I would expect that my application loads <code>http://bar</code> as the value for <code>service.baseurl</code>.  This is in fact what happens on my development machine.</p>\n<p>However, on my teammate's machine, the value loaded for <code>service.baseurl</code> is <code>http://foo</code>.</p>\n<p>This one is a real head-scratcher.  Could there be some setting, or version of something, on my teammate's machine that is causing her to get different results here?</p>\n<p>For what it's worth, we are both running:</p>\n<ul>\n<li>Java JDK 16.0.2</li>\n<li>Spring Boot 2.5.4</li>\n<li>Gradle 7.2</li>\n<li>Docker 20.10.8</li>\n</ul>\n"},{"tags":["java","spring-boot","bitbucket","application.xml"],"comments":[{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1632509067,"post_id":69307289,"comment_id":122521106,"body_markdown":"Note that this is specifically a Bitbucket feature. Git does not have this sort of thing. GitHub and GitLab provide other features that can be used in similar ways, but they are not the same.","body":"Note that this is specifically a Bitbucket feature. Git does not have this sort of thing. GitHub and GitLab provide other features that can be used in similar ways, but they are not the same."}],"answers":[{"tags":[],"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632464907,"creation_date":1632464907,"answer_id":69310480,"question_id":69307289,"body_markdown":"The error is coming from some commit policy set up at bitbucket level. You need to ask your repository&#39;s maintainers about this. A temporary fix can be that you change the name of the property in your yml file and then create a configuration bean that reads the props and then initialize your javamailsender.\r\n\r\nNote: If MAIL_USERNAME and MAIL_PASSWORD are passed as command line arguments and the jar is instantiated using a script in the server, then you are not having that much of a vulnerability that the commit reject message is implying. You are also encrypting the password here. ","title":"GENERIC_PASSWORD vulnerability Spring boot","body":"<p>The error is coming from some commit policy set up at bitbucket level. You need to ask your repository's maintainers about this. A temporary fix can be that you change the name of the property in your yml file and then create a configuration bean that reads the props and then initialize your javamailsender.</p>\n<p>Note: If MAIL_USERNAME and MAIL_PASSWORD are passed as command line arguments and the jar is instantiated using a script in the server, then you are not having that much of a vulnerability that the commit reject message is implying. You are also encrypting the password here.</p>\n"},{"tags":[],"owner":{"account_id":22841606,"reputation":1,"user_id":16988509,"display_name":"Diego Avellaneda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632486460,"creation_date":1632486460,"answer_id":69315019,"question_id":69307289,"body_markdown":"A lot of people have been adding “gates” and “checks” to automate quality. It’s all a “process over people” thing … luckily as a “team_leader” on the project you can bypass all that (use it, don’t abuse it).\r\n\r\nThe check is per “push”, so you can disable it, push and re-enable it. In this case having a password coming from the shell’s environment and being injected in the spring configuration is not that offensive. \r\n\r\n&lt;br&gt;1. Repository settings&lt;br&gt;\r\n2- Hooks &lt;br&gt;\r\n3- Reject Vulnerable Commits&lt;br&gt;\r\n\r\nDisable it, push, re-enable it\r\n\r\n","title":"GENERIC_PASSWORD vulnerability Spring boot","body":"<p>A lot of people have been adding “gates” and “checks” to automate quality. It’s all a “process over people” thing … luckily as a “team_leader” on the project you can bypass all that (use it, don’t abuse it).</p>\n<p>The check is per “push”, so you can disable it, push and re-enable it. In this case having a password coming from the shell’s environment and being injected in the spring configuration is not that offensive.</p>\n<p><br>1. Repository settings<br>\n2- Hooks <br>\n3- Reject Vulnerable Commits<br></p>\n<p>Disable it, push, re-enable it</p>\n"}],"owner":{"account_id":22841606,"reputation":1,"user_id":16988509,"display_name":"Diego Avellaneda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632509017,"creation_date":1632433948,"question_id":69307289,"body_markdown":"*I got below message when I push on bitbucket:*\r\n\r\n    Repository https://git.xx.xxx/scm/appXXXx/appxxx-xx-gateway.git\r\n    pre-receive hook declined\r\n    Push rejected due to security vulnerabilities detected by security hook.\r\n    GENERIC_PASSWORD vulnerability detected in file src/main/resources/application.yml (678a59ebfee39534b4a68e1ad01c36f3cf2f9a2b) on line 14.\r\n\r\n*The reason of this message is because the word &#39;password &#39;is in the Application.xml as par below example:*\r\n\r\n    mail:\r\n    host: myhost.xxx.com\r\n    port: 123\r\n        username: ${MAIL_USERNAME}\r\n        password: ENC(${MAIL_PASSWORD})\r\n\r\n\r\n*Do you guys have an idea how to overcome this?*\r\n\r\n*Your help is great appreciated*\r\nThank you \r\n\r\n\r\n","title":"GENERIC_PASSWORD vulnerability Spring boot","body":"<p><em>I got below message when I push on bitbucket:</em></p>\n<pre><code>Repository https://git.xx.xxx/scm/appXXXx/appxxx-xx-gateway.git\npre-receive hook declined\nPush rejected due to security vulnerabilities detected by security hook.\nGENERIC_PASSWORD vulnerability detected in file src/main/resources/application.yml (678a59ebfee39534b4a68e1ad01c36f3cf2f9a2b) on line 14.\n</code></pre>\n<p><em>The reason of this message is because the word 'password 'is in the Application.xml as par below example:</em></p>\n<pre><code>mail:\nhost: myhost.xxx.com\nport: 123\n    username: ${MAIL_USERNAME}\n    password: ENC(${MAIL_PASSWORD})\n</code></pre>\n<p><em>Do you guys have an idea how to overcome this?</em></p>\n<p><em>Your help is great appreciated</em>\nThank you</p>\n"},{"tags":["java","android","nullpointerexception","rx-java","android-jetpack-datastore"],"comments":[{"owner":{"account_id":4341785,"reputation":12857,"user_id":3544839,"accept_rate":62,"display_name":"Moinkhan"},"score":0,"creation_date":1632398971,"post_id":69180313,"comment_id":122484666,"body_markdown":"Did you tried calling `readLayoutFlow` in `onActivityCreated()` or `onViewCreated()` ?","body":"Did you tried calling <code>readLayoutFlow</code> in <code>onActivityCreated()</code> or <code>onViewCreated()</code> ?"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1632404819,"post_id":69180313,"comment_id":122487435,"body_markdown":"yes I tried it on `onViewCreated()` and the same error","body":"yes I tried it on <code>onViewCreated()</code> and the same error"}],"answers":[{"tags":[],"owner":{"account_id":13850701,"reputation":116,"user_id":9998698,"display_name":"D. Exter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632508827,"creation_date":1632480702,"answer_id":69313788,"question_id":69180313,"body_markdown":"The reason for the NullPointerException is the initialization of  `readLayoutFlow` before `dataStore`.  \r\nThe code\r\n\r\n```Java\r\npublic Flowable&lt;String&gt; readLayoutFlow =\r\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\r\n```\r\nis evaluated before the constructors&#39; code is executed. Therefore `dataStore` is `null` and the NullPointerException is thrown.  \r\n\r\nAn easy solution would be to move the initialization of `readLayoutFlow` into the constructor like this:\r\n```Java\r\npublic static class DataStoreRepository {\r\n    RxDataStore&lt;Preferences&gt; dataStore;\r\n    \r\n    public final Flowable&lt;String&gt; readLayoutFlow;\r\n\r\n    public DataStoreRepository(Context context) {\r\n        dataStore = new RxPreferenceDataStoreBuilder(\r\n                            Objects.requireNonNull(context),\r\n                            /*name=*/ &quot;settings&quot;)\r\n                        .build();\r\n\r\n        readLayoutFlow = dataStore.data()\r\n            .map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\r\n    }\r\n\r\n    \\\\ other code\r\n}\r\n```\r\n\r\n\r\n**Edit: Blank screen on first launch**\r\n\r\nThere are two different cases that you could mean. I&#39;m going to answer for both:\r\n\r\n**First start after installing the app**\r\n\r\nTo set the layout on the very first launch I would recommend setting a default value for the preference that is saved at the first start (set a `booleanPreferencesKey` to check if it is the first start).\r\n\r\n**Restart of the app**\r\n\r\nIf the blank screen occurs at every new start of the app, you probably have no check for the currently set preference in the fragments `onViewCreated`. Personally I would use a `MutableLiveData&lt;String&gt; recyclerViewLayoutPreference` in the Fragment to observe the preference like this:\r\n\r\n```Java\r\nprivate MutableLiveData&lt;String&gt; recyclerViewLayoutPreference;\r\n\r\n@Override\r\npublic void onCreate(/*params*/) {\r\n    super.onCreate(/*params*/);\r\n    recyclerViewLayoutPreferences = new MutableLiveData&lt;&gt;();\r\n}\r\n\r\n@Override\r\npublic void onViewCreated(/*params*/) {\r\n    super.onViewCreated(/*params*/),\r\n\r\n    dataStoreRepository.readLayoutFlow()\r\n        .subscribeOn(Schedulers.io())\r\n        .doOnNext(recyclerViewLayoutPreference::postValue)\r\n        .subscribe();\r\n\r\n    recyclerViewLayoutPreference.observe(getViewLifecycleOwner(), layoutString -&gt; {\r\n        if (layoutString == null) return;\r\n\r\n        switch (layoutString) {\r\n            case &quot;cardLayout&quot;:\r\n                adapter.setViewType(0);\r\n                binding.homeRecyclerView.setLayoutManager(layoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n            /* other cases */\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThis way you only have to call `dataStoreRepository.saveValue(...)` in the cases in `changeAndSaveLayout` and the usage of `LiveData` keeps the necessary management of Lifecycle Events to a minimum.","title":"Migrate from SharedPreferences to Jetpack DataStore &quot;Java&quot;","body":"<p>The reason for the NullPointerException is the initialization of  <code>readLayoutFlow</code> before <code>dataStore</code>.<br />\nThe code</p>\n<pre><code>public Flowable&lt;String&gt; readLayoutFlow =\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\n</code></pre>\n<p>is evaluated before the constructors' code is executed. Therefore <code>dataStore</code> is <code>null</code> and the NullPointerException is thrown.</p>\n<p>An easy solution would be to move the initialization of <code>readLayoutFlow</code> into the constructor like this:</p>\n<pre><code>public static class DataStoreRepository {\n    RxDataStore&lt;Preferences&gt; dataStore;\n    \n    public final Flowable&lt;String&gt; readLayoutFlow;\n\n    public DataStoreRepository(Context context) {\n        dataStore = new RxPreferenceDataStoreBuilder(\n                            Objects.requireNonNull(context),\n                            /*name=*/ &quot;settings&quot;)\n                        .build();\n\n        readLayoutFlow = dataStore.data()\n            .map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\n    }\n\n    \\\\ other code\n}\n</code></pre>\n<p><strong>Edit: Blank screen on first launch</strong></p>\n<p>There are two different cases that you could mean. I'm going to answer for both:</p>\n<p><strong>First start after installing the app</strong></p>\n<p>To set the layout on the very first launch I would recommend setting a default value for the preference that is saved at the first start (set a <code>booleanPreferencesKey</code> to check if it is the first start).</p>\n<p><strong>Restart of the app</strong></p>\n<p>If the blank screen occurs at every new start of the app, you probably have no check for the currently set preference in the fragments <code>onViewCreated</code>. Personally I would use a <code>MutableLiveData&lt;String&gt; recyclerViewLayoutPreference</code> in the Fragment to observe the preference like this:</p>\n<pre><code>private MutableLiveData&lt;String&gt; recyclerViewLayoutPreference;\n\n@Override\npublic void onCreate(/*params*/) {\n    super.onCreate(/*params*/);\n    recyclerViewLayoutPreferences = new MutableLiveData&lt;&gt;();\n}\n\n@Override\npublic void onViewCreated(/*params*/) {\n    super.onViewCreated(/*params*/),\n\n    dataStoreRepository.readLayoutFlow()\n        .subscribeOn(Schedulers.io())\n        .doOnNext(recyclerViewLayoutPreference::postValue)\n        .subscribe();\n\n    recyclerViewLayoutPreference.observe(getViewLifecycleOwner(), layoutString -&gt; {\n        if (layoutString == null) return;\n\n        switch (layoutString) {\n            case &quot;cardLayout&quot;:\n                adapter.setViewType(0);\n                binding.homeRecyclerView.setLayoutManager(layoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n            /* other cases */\n        }\n    });\n}\n</code></pre>\n<p>This way you only have to call <code>dataStoreRepository.saveValue(...)</code> in the cases in <code>changeAndSaveLayout</code> and the usage of <code>LiveData</code> keeps the necessary management of Lifecycle Events to a minimum.</p>\n"}],"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69313788,"answer_count":1,"score":2,"last_activity_date":1632508827,"creation_date":1631632206,"question_id":69180313,"body_markdown":"According to this [question][1], I am trying to migrate the current project from SharedPreferences to the dataStore to store the value of layout chosen by the user, the problem is with reading the value, I got NPE, first this my code\r\n\r\n\r\nThe inner **DataStoreRepository** class\r\n\r\n```\r\npublic class Utils {\r\n\r\n/*\r\n* Some unrelated codes\r\n*/\r\n\r\npublic static class DataStoreRepository {\r\n        RxDataStore&lt;Preferences&gt; dataStore;\r\n\r\n        public DataStoreRepository(Context context) {\r\n            dataStore =\r\n                    new RxPreferenceDataStoreBuilder(Objects.requireNonNull(context), /*name=*/ &quot;settings&quot;).build();\r\n        }\r\n\r\n\r\n        public Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY;\r\n\r\n\r\n        public void saveValue(String keyName, String value) {\r\n\r\n            RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(keyName);\r\n\r\n            dataStore.updateDataAsync(prefsIn -&gt; {\r\n                MutablePreferences mutablePreferences = prefsIn.toMutablePreferences();\r\n                String currentKey = prefsIn.get(RECYCLER_VIEW_LAYOUT_KEY);\r\n\r\n                if (currentKey == null) {\r\n                    saveValue(keyName, value);\r\n                }\r\n\r\n                mutablePreferences.set(RECYCLER_VIEW_LAYOUT_KEY,\r\n                        currentKey != null ? value : &quot;cardLayout&quot;);\r\n                return Single.just(mutablePreferences);\r\n            }).subscribe();\r\n           // The update is completed once updateResult is completed.\r\n        }\r\n\r\n        public Flowable&lt;String&gt; readLayoutFlow =\r\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\r\n\r\n    }\r\n}\r\n```\r\n\r\nand I use it in the fragment like this\r\n\r\n**first I read the flowable**\r\n\r\n```\r\nprivate Utils.DataStoreRepository dataStoreRepository;\r\nprivate String layout2;\r\n\r\n\r\npublic View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n\r\n        dataStoreRepository = new Utils.DataStoreRepository(requireContext());\r\n\r\n            dataStoreRepository.readLayoutFlow.subscribeOn(Schedulers.io())\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribe(new FlowableSubscriber&lt;String&gt;() {\r\n                        @Override\r\n                        public void onSubscribe(@io.reactivex.rxjava3.annotations.NonNull Subscription s) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onNext(String layout) {\r\n                            layout2 = layout;\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(Throwable t) {\r\n                            Log.e(TAG, &quot;onError: &quot; + t.getMessage());\r\n                        }\r\n\r\n                        @Override\r\n                        public void onComplete() {\r\n\r\n                        }\r\n                    });\r\n\r\n```\r\n\r\nthen in the same class I store the value on method **`changeAndSaveLayout()`**\r\n\r\n```\r\nprivate void changeAndSaveLayout() {\r\n        android.app.AlertDialog.Builder builder\r\n                = new android.app.AlertDialog.Builder(getContext());\r\n\r\n        builder.setTitle(getString(R.string.choose_layout));\r\n\r\n        String[] recyclerViewLayouts = getResources().getStringArray(R.array.RecyclerViewLayouts);\r\n//        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n\r\n        builder.setItems(recyclerViewLayouts, (dialog, index) -&gt; {\r\n            switch (index) {\r\n                case 0: // Card List Layout\r\n                    adapter.setViewType(0);\r\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardLayout&quot;);\r\n//                    editor.apply();\r\n\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardLayout&quot;);\r\n\r\n                    break;\r\n                case 1: // Cards Magazine Layout\r\n                    adapter.setViewType(1);\r\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardMagazineLayout&quot;);\r\n//                    editor.apply();\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardMagazineLayout&quot;);\r\n                    break;\r\n                case 2: // PostTitle Layout\r\n                    adapter.setViewType(2);\r\n                    binding.homeRecyclerView.setLayoutManager(titleLayoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;titleLayout&quot;);\r\n//                    editor.apply();\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;titleLayout&quot;);\r\n                    break;\r\n                case 3: //Grid Layout\r\n                    adapter.setViewType(3);\r\n                    binding.homeRecyclerView.setLayoutManager(gridLayoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;gridLayout&quot;);\r\n//                    editor.apply();\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;gridLayout&quot;);\r\n\r\n            }\r\n        });\r\n\r\n        android.app.AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n    }\r\n```\r\n\r\nand when I run I got this NPE, and it about reading value **`readLayoutFlow`** , I tried to make the creation of the key outside the method like this\r\n\r\n```\r\npublic Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(&quot;recyclerViewLayout&quot;);\r\n```\r\n\r\nand in the saveValue() change it&#39;s value like this, but it also doesn&#39;t work\r\n\r\n`RECYCLER_VIEW_LAYOUT_KEY.to(keyName);`\r\n\r\n\r\n**the output of NPE**\r\n\r\n\r\n```\r\n Process: com.blogspot.abtallaldigital, PID: 9184\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;io.reactivex.rxjava3.core.Flowable androidx.datastore.rxjava3.RxDataStore.data()&#39; on a null object reference\r\n        at com.blogspot.abtallaldigital.utils.Utils$DataStoreRepository.&lt;init&gt;(Utils.java:4)\r\n        at com.blogspot.abtallaldigital.ui.home.HomeFragment.onCreateView(HomeFragment.java:10)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:4)\r\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:15)\r\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\r\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\r\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\r\n        at androidx.fragment.app.FragmentManager.G(FragmentManager.java:1)\r\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2)\r\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:26)\r\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\r\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\r\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\r\n        at androidx.fragment.app.FragmentManager.m(FragmentManager.java:4)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:1)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:6)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:1)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\r\n        at android.app.Activity.performStart(Activity.java:8018)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3475)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55215641/7639296","title":"Migrate from SharedPreferences to Jetpack DataStore &quot;Java&quot;","body":"<p>According to this <a href=\"https://stackoverflow.com/a/55215641/7639296\">question</a>, I am trying to migrate the current project from SharedPreferences to the dataStore to store the value of layout chosen by the user, the problem is with reading the value, I got NPE, first this my code</p>\n<p>The inner <strong>DataStoreRepository</strong> class</p>\n<pre><code>public class Utils {\n\n/*\n* Some unrelated codes\n*/\n\npublic static class DataStoreRepository {\n        RxDataStore&lt;Preferences&gt; dataStore;\n\n        public DataStoreRepository(Context context) {\n            dataStore =\n                    new RxPreferenceDataStoreBuilder(Objects.requireNonNull(context), /*name=*/ &quot;settings&quot;).build();\n        }\n\n\n        public Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY;\n\n\n        public void saveValue(String keyName, String value) {\n\n            RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(keyName);\n\n            dataStore.updateDataAsync(prefsIn -&gt; {\n                MutablePreferences mutablePreferences = prefsIn.toMutablePreferences();\n                String currentKey = prefsIn.get(RECYCLER_VIEW_LAYOUT_KEY);\n\n                if (currentKey == null) {\n                    saveValue(keyName, value);\n                }\n\n                mutablePreferences.set(RECYCLER_VIEW_LAYOUT_KEY,\n                        currentKey != null ? value : &quot;cardLayout&quot;);\n                return Single.just(mutablePreferences);\n            }).subscribe();\n           // The update is completed once updateResult is completed.\n        }\n\n        public Flowable&lt;String&gt; readLayoutFlow =\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\n\n    }\n}\n</code></pre>\n<p>and I use it in the fragment like this</p>\n<p><strong>first I read the flowable</strong></p>\n<pre><code>private Utils.DataStoreRepository dataStoreRepository;\nprivate String layout2;\n\n\npublic View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n\n        dataStoreRepository = new Utils.DataStoreRepository(requireContext());\n\n            dataStoreRepository.readLayoutFlow.subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(new FlowableSubscriber&lt;String&gt;() {\n                        @Override\n                        public void onSubscribe(@io.reactivex.rxjava3.annotations.NonNull Subscription s) {\n\n                        }\n\n                        @Override\n                        public void onNext(String layout) {\n                            layout2 = layout;\n                        }\n\n                        @Override\n                        public void onError(Throwable t) {\n                            Log.e(TAG, &quot;onError: &quot; + t.getMessage());\n                        }\n\n                        @Override\n                        public void onComplete() {\n\n                        }\n                    });\n\n</code></pre>\n<p>then in the same class I store the value on method <strong><code>changeAndSaveLayout()</code></strong></p>\n<pre><code>private void changeAndSaveLayout() {\n        android.app.AlertDialog.Builder builder\n                = new android.app.AlertDialog.Builder(getContext());\n\n        builder.setTitle(getString(R.string.choose_layout));\n\n        String[] recyclerViewLayouts = getResources().getStringArray(R.array.RecyclerViewLayouts);\n//        SharedPreferences.Editor editor = sharedPreferences.edit();\n\n\n        builder.setItems(recyclerViewLayouts, (dialog, index) -&gt; {\n            switch (index) {\n                case 0: // Card List Layout\n                    adapter.setViewType(0);\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardLayout&quot;);\n//                    editor.apply();\n\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardLayout&quot;);\n\n                    break;\n                case 1: // Cards Magazine Layout\n                    adapter.setViewType(1);\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardMagazineLayout&quot;);\n//                    editor.apply();\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardMagazineLayout&quot;);\n                    break;\n                case 2: // PostTitle Layout\n                    adapter.setViewType(2);\n                    binding.homeRecyclerView.setLayoutManager(titleLayoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;titleLayout&quot;);\n//                    editor.apply();\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;titleLayout&quot;);\n                    break;\n                case 3: //Grid Layout\n                    adapter.setViewType(3);\n                    binding.homeRecyclerView.setLayoutManager(gridLayoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;gridLayout&quot;);\n//                    editor.apply();\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;gridLayout&quot;);\n\n            }\n        });\n\n        android.app.AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n</code></pre>\n<p>and when I run I got this NPE, and it about reading value <strong><code>readLayoutFlow</code></strong> , I tried to make the creation of the key outside the method like this</p>\n<pre><code>public Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(&quot;recyclerViewLayout&quot;);\n</code></pre>\n<p>and in the saveValue() change it's value like this, but it also doesn't work</p>\n<p><code>RECYCLER_VIEW_LAYOUT_KEY.to(keyName);</code></p>\n<p><strong>the output of NPE</strong></p>\n<pre><code> Process: com.blogspot.abtallaldigital, PID: 9184\n    java.lang.NullPointerException: Attempt to invoke virtual method 'io.reactivex.rxjava3.core.Flowable androidx.datastore.rxjava3.RxDataStore.data()' on a null object reference\n        at com.blogspot.abtallaldigital.utils.Utils$DataStoreRepository.&lt;init&gt;(Utils.java:4)\n        at com.blogspot.abtallaldigital.ui.home.HomeFragment.onCreateView(HomeFragment.java:10)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:4)\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:15)\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\n        at androidx.fragment.app.FragmentManager.G(FragmentManager.java:1)\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2)\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:26)\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\n        at androidx.fragment.app.FragmentManager.m(FragmentManager.java:4)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:1)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:6)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:1)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\n        at android.app.Activity.performStart(Activity.java:8018)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3475)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10721114,"reputation":1329,"user_id":7890197,"accept_rate":88,"display_name":"Badda"},"score":2,"creation_date":1632496033,"post_id":69308577,"comment_id":122516409,"body_markdown":"This error has nothing to do with Selenium and is more related to Java basics","body":"This error has nothing to do with Selenium and is more related to Java basics"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633107330,"post_id":69308577,"comment_id":122681060,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":10721114,"reputation":1329,"user_id":7890197,"accept_rate":88,"display_name":"Badda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632496485,"creation_date":1632496003,"answer_id":69317287,"question_id":69308577,"body_markdown":"The method `Duration.ofSeconds(seconds)` returns not a `int` but a `Duration`.\r\n\r\nYour error is stating that the function `parseInt(String, int)` requires an `int` as a second parameter, and that you are trying to give a `Duration` to it. \r\n\r\nHowever, what you are actually trying to do is setup a implicit wait for your Selenium Driver. To do that, you need to use the function :\r\n\r\n\tdriver.manage().timeouts().implicitlyWait(long time, TimeUnit unit)\r\n\r\nIn your case, that would be :\r\n\r\n    driver.manage().timeouts().implictlyWait(Config.getProperty(&quot;implicit.wait&quot;), TimeUnit.SECONDS);\r\n\r\nAs I am not sure what your `Config` class contains, I&#39;m not sure that the code will compile, but you should understand your mistake and be able to correct it by yourself if you understood correctly. \r\n\r\nDon&#39;t be afraid to ask questions if needed; however, you should know that you should be able to solve this kind of error which are only related to the basics of Java coding. If you still don&#39;t understand, I advise you read a few tutorial about the use of parameters in functions.\r\n\r\n","title":"Getting error : The method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)","body":"<p>The method <code>Duration.ofSeconds(seconds)</code> returns not a <code>int</code> but a <code>Duration</code>.</p>\n<p>Your error is stating that the function <code>parseInt(String, int)</code> requires an <code>int</code> as a second parameter, and that you are trying to give a <code>Duration</code> to it.</p>\n<p>However, what you are actually trying to do is setup a implicit wait for your Selenium Driver. To do that, you need to use the function :</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(long time, TimeUnit unit)\n</code></pre>\n<p>In your case, that would be :</p>\n<pre><code>driver.manage().timeouts().implictlyWait(Config.getProperty(&quot;implicit.wait&quot;), TimeUnit.SECONDS);\n</code></pre>\n<p>As I am not sure what your <code>Config</code> class contains, I'm not sure that the code will compile, but you should understand your mistake and be able to correct it by yourself if you understood correctly.</p>\n<p>Don't be afraid to ask questions if needed; however, you should know that you should be able to solve this kind of error which are only related to the basics of Java coding. If you still don't understand, I advise you read a few tutorial about the use of parameters in functions.</p>\n"}],"owner":{"account_id":22842675,"reputation":1,"user_id":16989410,"display_name":"Sakhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632508725,"creation_date":1632447569,"question_id":69308577,"body_markdown":"seek for your advise,\r\n\r\nGetting the error :\r\nThe method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)\r\n\r\nCode: Using Selenium 4\r\ndriver.manage().timeouts().implicitlyWait(Integer.parseInt(Config.getProperty(&quot;implicit.wait&quot;),Duration.ofSeconds(seconds)));","title":"Getting error : The method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)","body":"<p>seek for your advise,</p>\n<p>Getting the error :\nThe method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)</p>\n<p>Code: Using Selenium 4\ndriver.manage().timeouts().implicitlyWait(Integer.parseInt(Config.getProperty(&quot;implicit.wait&quot;),Duration.ofSeconds(seconds)));</p>\n"},{"tags":["java","spring","spring-mvc","fortify","mass-assignment"],"comments":[{"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"score":0,"creation_date":1514363747,"post_id":47945383,"comment_id":82946277,"body_markdown":"Why do you use a bean? You could just bind to a String in every method (since you only use the string anyway) E.g. findByDocName(String name)","body":"Why do you use a bean? You could just bind to a String in every method (since you only use the string anyway) E.g. findByDocName(String name)"}],"answers":[{"tags":[],"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514410377,"creation_date":1514410377,"answer_id":47998900,"question_id":47945383,"body_markdown":"Simple question - how your mapper can instantionate the bean? [Here][1] is answer / example. You can pass that data by `query parameter`, or in `header`. However that would be strange. Better is to have that methods with `@QueryParam` providing location, or name. That way it will be easier to protect your application. \r\n\r\nAs a side note, query has limited length, so if your search form is big and strange, `@POST` can be good idea, and that way you can pass all the data. For this, simple example that would be overkill. \r\n\r\n  [1]: https://blog.dejavu.sk/2014/02/11/inject-custom-java-types-via-jax-rs-parameter-annotations/","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>Simple question - how your mapper can instantionate the bean? <a href=\"https://blog.dejavu.sk/2014/02/11/inject-custom-java-types-via-jax-rs-parameter-annotations/\" rel=\"nofollow noreferrer\">Here</a> is answer / example. You can pass that data by <code>query parameter</code>, or in <code>header</code>. However that would be strange. Better is to have that methods with <code>@QueryParam</code> providing location, or name. That way it will be easier to protect your application. </p>\n\n<p>As a side note, query has limited length, so if your search form is big and strange, <code>@POST</code> can be good idea, and that way you can pass all the data. For this, simple example that would be overkill. </p>\n"},{"tags":[],"owner":{"account_id":5322213,"reputation":1420,"user_id":4245484,"display_name":"Christian Frommeyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514885519,"creation_date":1514885519,"answer_id":48058485,"question_id":47945383,"body_markdown":"This looks like an unfortunate false positive. The rule behind this error is made to avoid that properties present in an object but not intended to be (unvalidated) user input are *accidentally* populated from a web request. An example would be a POST request creating a resource. If the request handler takes the full resource object and fills only missing properties an malicious user could populate fields that she shouldn&#39;t be able to edit.\r\n\r\nThis case however does not match the scheme. You just use the same mechanism to capture your different arguments. Additionally populated properties will not even be read. In\r\n\r\n```GET http://yourhost/findDocSearch/byName?name=Abuse&amp;zipCode=11111```\r\n\r\nthe additional zipCode would just be ignored. Therefore the assumed risk is not present here.\r\n\r\nTo *fix* the warning, you could mark it as a false positive (if this is possible inside your setup). If that is not possible you could also just map the query parameters to method arguments directly. As you only have limited parameters that should not harm too much. If this is also no option you probably need to figure out the exact algorithm your code analysis uses to figure out what checks it will recognize. Unfortunately most scanners are only  able to discover a limited set of ways to do input validation.","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>This looks like an unfortunate false positive. The rule behind this error is made to avoid that properties present in an object but not intended to be (unvalidated) user input are <em>accidentally</em> populated from a web request. An example would be a POST request creating a resource. If the request handler takes the full resource object and fills only missing properties an malicious user could populate fields that she shouldn't be able to edit.</p>\n\n<p>This case however does not match the scheme. You just use the same mechanism to capture your different arguments. Additionally populated properties will not even be read. In</p>\n\n<p><code>GET http://yourhost/findDocSearch/byName?name=Abuse&amp;zipCode=11111</code></p>\n\n<p>the additional zipCode would just be ignored. Therefore the assumed risk is not present here.</p>\n\n<p>To <em>fix</em> the warning, you could mark it as a false positive (if this is possible inside your setup). If that is not possible you could also just map the query parameters to method arguments directly. As you only have limited parameters that should not harm too much. If this is also no option you probably need to figure out the exact algorithm your code analysis uses to figure out what checks it will recognize. Unfortunately most scanners are only  able to discover a limited set of ways to do input validation.</p>\n"},{"tags":[],"owner":{"account_id":4827758,"reputation":2373,"user_id":3896780,"display_name":"Mehmet Sunkur"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1514911946,"creation_date":1514909822,"answer_id":48064311,"question_id":47945383,"body_markdown":"InitBinder can be used for methods. You can try this.\r\n    \r\n    @InitBinder(&quot;findDocByName&quot;)\r\n    public void initBinderByName(WebDataBinder binder) {\r\n        binder.setDisallowedFields(new String[]{&quot;distance&quot;,&quot;zipcode&quot;});\r\n    }\r\n\r\n\r\n    @InitBinder(&quot;findDocByLocation&quot;)\r\n    public void initBinderByZipCode(WebDataBinder binder) {\r\n        binder.setDisallowedFields(new String[]{&quot;distance&quot;,&quot;name&quot;});\r\n    }","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>InitBinder can be used for methods. You can try this.</p>\n\n<pre><code>@InitBinder(\"findDocByName\")\npublic void initBinderByName(WebDataBinder binder) {\n    binder.setDisallowedFields(new String[]{\"distance\",\"zipcode\"});\n}\n\n\n@InitBinder(\"findDocByLocation\")\npublic void initBinderByZipCode(WebDataBinder binder) {\n    binder.setDisallowedFields(new String[]{\"distance\",\"name\"});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4569459,"reputation":89,"user_id":3709544,"display_name":"Suraj Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517842542,"creation_date":1517842542,"answer_id":48625284,"question_id":47945383,"body_markdown":"i was facing same issue, then i added below code in same rest controller class:\r\n\r\n    @InitBinder\r\n    public void populateCustomerRequest(WebDataBinder binder) {\r\n        binder.setDisallowedFields(new String[]{});\r\n    }\r\n\r\nnow its working fine for me and mass assignment issue was fixed.","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>i was facing same issue, then i added below code in same rest controller class:</p>\n\n<pre><code>@InitBinder\npublic void populateCustomerRequest(WebDataBinder binder) {\n    binder.setDisallowedFields(new String[]{});\n}\n</code></pre>\n\n<p>now its working fine for me and mass assignment issue was fixed.</p>\n"}],"owner":{"account_id":5439984,"reputation":1379,"user_id":4328321,"accept_rate":89,"display_name":"dildeepak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48064311,"answer_count":4,"score":7,"last_activity_date":1632508442,"creation_date":1513964594,"question_id":47945383,"body_markdown":"  I have a Controller class with the below two methods for finding a doctors (context changed). Getting the \r\n**Mass Assignment: Insecure Binder Configuration (API Abuse, Structural)** error on both methods. \r\n\r\n\t@Controller\r\n\t@RequestMapping(value = &quot;/findDocSearch&quot;)\r\n\tpublic class Controller {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate IFindDocService findDocService;\r\n\t\r\n\t\t@RequestMapping(value = &quot;/byName&quot;, method = RequestMethod.GET)\r\n\t\t@ResponseBody\r\n\t\tpublic List&lt;FindDocDTO&gt; findDocByName(FindDocBean bean) {\r\n\t\t\treturn findDocService.retrieveDocByName(bean.getName());\r\n\t\t}\r\n\r\n\t\t@RequestMapping(value = &quot;/byLoc&quot;, method = RequestMethod.GET)\r\n\t\t@ResponseBody\r\n\t\tpublic List&lt;FindDocDTO&gt; findDocByLocation(FindDocBean bean) {\r\n\t\t\treturn findDocService.retrieveDocByZipCode(bean.getZipcode(),\r\n\t\t\tbean.getDistance());\r\n\t\t}\r\n\t}\r\n\r\nand my Bean is :\r\n\r\n    public class FindDocBean implements Serializable {\r\n    \tprivate static final long serialVersionUID = -1212xxxL;\r\n    \r\n    \tprivate String name;\r\n    \tprivate String zipcode;\r\n    \tprivate int distance;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn String.format(&quot;FindDocBean[name: %s, zipcode:%s, distance:%s]&quot;,\r\n    \t\t\t\tname, zipcode, distance);\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getZipcode() {\r\n    \t\treturn zipcode;\r\n    \t}\r\n    \r\n    \tpublic void setZipcode(String zipcode) {\r\n    \t\tthis.zipcode = zipcode;\r\n    \t}\r\n    \r\n    \tpublic int getDistance() {\r\n    \t\treturn distance;\r\n    \t}\r\n    \r\n    \tpublic void setDistance(int distance) {\r\n    \t\tthis.distance = distance;\r\n    \t}\r\n\r\nAs per all the suggestions found so far, they are suggesting to restrict the bean with required parameters only by something like below :\r\n\r\n    final String[] DISALLOWED_FIELDS = new String[]{&quot;bean.name&quot;, &quot;bean.zipcode&quot;, };\r\n    \r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setDisallowedFields(DISALLOWED_FIELDS);\r\n\r\nBut my problem is all the 3 parameters of the bean will be used in either of the method supplied on Controller.\r\n\r\nCan someone please suggest some solution for this. Thanks in advance.","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>I have a Controller class with the below two methods for finding a doctors (context changed). Getting the \n<strong>Mass Assignment: Insecure Binder Configuration (API Abuse, Structural)</strong> error on both methods. </p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/findDocSearch\")\npublic class Controller {\n\n    @Autowired\n    private IFindDocService findDocService;\n\n    @RequestMapping(value = \"/byName\", method = RequestMethod.GET)\n    @ResponseBody\n    public List&lt;FindDocDTO&gt; findDocByName(FindDocBean bean) {\n        return findDocService.retrieveDocByName(bean.getName());\n    }\n\n    @RequestMapping(value = \"/byLoc\", method = RequestMethod.GET)\n    @ResponseBody\n    public List&lt;FindDocDTO&gt; findDocByLocation(FindDocBean bean) {\n        return findDocService.retrieveDocByZipCode(bean.getZipcode(),\n        bean.getDistance());\n    }\n}\n</code></pre>\n\n<p>and my Bean is :</p>\n\n<pre><code>public class FindDocBean implements Serializable {\n    private static final long serialVersionUID = -1212xxxL;\n\n    private String name;\n    private String zipcode;\n    private int distance;\n\n    @Override\n    public String toString() {\n        return String.format(\"FindDocBean[name: %s, zipcode:%s, distance:%s]\",\n                name, zipcode, distance);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getZipcode() {\n        return zipcode;\n    }\n\n    public void setZipcode(String zipcode) {\n        this.zipcode = zipcode;\n    }\n\n    public int getDistance() {\n        return distance;\n    }\n\n    public void setDistance(int distance) {\n        this.distance = distance;\n    }\n</code></pre>\n\n<p>As per all the suggestions found so far, they are suggesting to restrict the bean with required parameters only by something like below :</p>\n\n<pre><code>final String[] DISALLOWED_FIELDS = new String[]{\"bean.name\", \"bean.zipcode\", };\n\n@InitBinder\npublic void initBinder(WebDataBinder binder) {\n    binder.setDisallowedFields(DISALLOWED_FIELDS);\n</code></pre>\n\n<p>But my problem is all the 3 parameters of the bean will be used in either of the method supplied on Controller.</p>\n\n<p>Can someone please suggest some solution for this. Thanks in advance.</p>\n"},{"tags":["java","algorithm","math","data-structures"],"answers":[{"tags":[],"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632508408,"creation_date":1632504321,"answer_id":69319018,"question_id":69316775,"body_markdown":"You can solve the problem with a sliding window algorithm. The window&#39;s length should be `K+L`. Imagine robo1 leading, and robo2 following behind as they march across the array. \r\n\r\nAs the window moves you need to update separate sums for each robot: `sum1` and `sum2`. You also need to keep track of the best sum seen by the trailing robot: `best2`, and the best combined sum: `bestCombined`. \r\n\r\nAfter each window move, update the best results:\r\n\r\n    best2=max(best2, sum2) \r\n    bestCombined=max(bestCombined, best2+sum1)\r\n\r\nWhen the sliding window reaches the end of the array, `bestCombined` is one of two possible answers. Swap the robots, and run the algorithm again to find the other possible answer.\r\n\r\n\r\n----------\r\n\r\n\r\nHere&#39;s a sample run of the algorithm.  \r\n**First with robo1 leading (blue) and robo2 following (red):**  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Then with robo2 leading, and robo1 following:**  \r\n[![enter image description here][2]][2]\r\n\r\nThe best combined score is 24 which is achieved with robo2 leading.\r\n\r\n  [1]: https://i.stack.imgur.com/trOBX.png\r\n  [2]: https://i.stack.imgur.com/rg6Zo.png","title":"Collect Max Coins From An Array In 2 Consecutive Intervals","body":"<p>You can solve the problem with a sliding window algorithm. The window's length should be <code>K+L</code>. Imagine robo1 leading, and robo2 following behind as they march across the array.</p>\n<p>As the window moves you need to update separate sums for each robot: <code>sum1</code> and <code>sum2</code>. You also need to keep track of the best sum seen by the trailing robot: <code>best2</code>, and the best combined sum: <code>bestCombined</code>.</p>\n<p>After each window move, update the best results:</p>\n<pre><code>best2=max(best2, sum2) \nbestCombined=max(bestCombined, best2+sum1)\n</code></pre>\n<p>When the sliding window reaches the end of the array, <code>bestCombined</code> is one of two possible answers. Swap the robots, and run the algorithm again to find the other possible answer.</p>\n<hr />\n<p>Here's a sample run of the algorithm.<br />\n<strong>First with robo1 leading (blue) and robo2 following (red):</strong></p>\n<p><a href=\"https://i.stack.imgur.com/trOBX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/trOBX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Then with robo2 leading, and robo1 following:</strong><br />\n<a href=\"https://i.stack.imgur.com/rg6Zo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rg6Zo.png\" alt=\"enter image description here\" /></a></p>\n<p>The best combined score is 24 which is achieved with robo2 leading.</p>\n"}],"owner":{"account_id":1893997,"reputation":494,"user_id":1711359,"accept_rate":50,"display_name":"Uppicharla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69319018,"answer_count":1,"score":1,"last_activity_date":1632508408,"creation_date":1632493973,"question_id":69316775,"body_markdown":"Given an array A consisting of N integers denoting the number of `coins` on each `box` in \r\nthe row, and integers K and L denoting, respectively, the number of boxes that `robo1 and robo2` can \r\nchoose when collecting, returns the maximum number of coins that can be collected by them, or -1 \r\nif there are no such intervals. \r\n\r\n&gt; For example, given A = [6, 1, 4, 6, 3, 2, 7, 4], K = 3, L = 2, your\r\n&gt; function should return 24, because robo1 can choose boxes 3 to 5 and\r\n&gt; collect 4 + 6 + 3 = 13 coins, and robo2 can choose boxes 7 to 8 and\r\n&gt; collect  7 +4 = 11 coins. Thus, they will collect 13 + 11 = 24 coins\r\n&gt; in total, and that is the maximum  number that can be achieved. \r\n&gt; \r\n&gt; Given A = [10, 19, 15], K = 2, L = 2, your function should return -1,\r\n&gt; because it is not possible for robo1 and robo2 to choose two disjoint\r\n&gt; intervals.\r\n\r\nI have written below function to collect max coins.\r\n\r\n    public static int getMaxCoins(int[] A, int K, int L) {\r\n\r\n        if(A.length&lt;K+L)\r\n            return -1;\r\n        \r\n        int highest = 0;\r\n        int lowest = 0;\r\n\r\n        if(K&gt;L){\r\n            highest = K;\r\n            lowest = L;\r\n        }\r\n        \r\n        int robo1Coins = 0;       \r\n        int remainingArray[] = null;\r\n        int part1[];\r\n        int part2[];\r\n        \r\n        int robo2Coins = 0;\r\n        \r\n        for(int i=0;i+highest&lt;=A.length;i++){\r\n            int[] sub = Arrays.copyOfRange(A, i, i+highest);\r\n            int count = IntStream.of(sub).sum();\r\n            if(count&gt;robo1Coins) {\r\n            \trobo1Coins = count;\r\n            \tpart1 = Arrays.copyOfRange(A, 0, i);\r\n            \tpart2 = Arrays.copyOfRange(A, i+highest, A.length);\r\n            \tremainingArray = IntStream.concat(Arrays.stream(part1), Arrays.stream(part2)).toArray();\r\n            }            \r\n        }\r\n        \r\n        for(int i=0;i+lowest&lt;=remainingArray.length;i++){\r\n            int[] sub = Arrays.copyOfRange(remainingArray, i, i+lowest);\r\n            int count = IntStream.of(sub).sum();\r\n            if(count&gt;robo2Coins) {\r\n            \trobo2Coins = count;\r\n            }            \r\n        }\r\n        \r\n        System.out.println(&quot;Robo1 Coins - &quot;+robo1Coins+&quot; Robo2 Coins-&quot;+robo2Coins);\r\n\r\n    return robo1Coins+robo2Coins;\r\n    }\r\n\r\nThe above solution is working fine for the given cases.\r\n\r\n&gt; But I feel my solution has few problems\r\n&gt; 1. Not optimistic/Less performant\r\n&gt; 2. Failing on edge cases\r\n&gt; 3. Not following any algorithmic approach\r\n\r\n*Please help to point out. What is the right approaches/algorithms available to solve this in more efficient manner.*","title":"Collect Max Coins From An Array In 2 Consecutive Intervals","body":"<p>Given an array A consisting of N integers denoting the number of <code>coins</code> on each <code>box</code> in\nthe row, and integers K and L denoting, respectively, the number of boxes that <code>robo1 and robo2</code> can\nchoose when collecting, returns the maximum number of coins that can be collected by them, or -1\nif there are no such intervals.</p>\n<blockquote>\n<p>For example, given A = [6, 1, 4, 6, 3, 2, 7, 4], K = 3, L = 2, your\nfunction should return 24, because robo1 can choose boxes 3 to 5 and\ncollect 4 + 6 + 3 = 13 coins, and robo2 can choose boxes 7 to 8 and\ncollect  7 +4 = 11 coins. Thus, they will collect 13 + 11 = 24 coins\nin total, and that is the maximum  number that can be achieved.</p>\n<p>Given A = [10, 19, 15], K = 2, L = 2, your function should return -1,\nbecause it is not possible for robo1 and robo2 to choose two disjoint\nintervals.</p>\n</blockquote>\n<p>I have written below function to collect max coins.</p>\n<pre><code>public static int getMaxCoins(int[] A, int K, int L) {\n\n    if(A.length&lt;K+L)\n        return -1;\n    \n    int highest = 0;\n    int lowest = 0;\n\n    if(K&gt;L){\n        highest = K;\n        lowest = L;\n    }\n    \n    int robo1Coins = 0;       \n    int remainingArray[] = null;\n    int part1[];\n    int part2[];\n    \n    int robo2Coins = 0;\n    \n    for(int i=0;i+highest&lt;=A.length;i++){\n        int[] sub = Arrays.copyOfRange(A, i, i+highest);\n        int count = IntStream.of(sub).sum();\n        if(count&gt;robo1Coins) {\n            robo1Coins = count;\n            part1 = Arrays.copyOfRange(A, 0, i);\n            part2 = Arrays.copyOfRange(A, i+highest, A.length);\n            remainingArray = IntStream.concat(Arrays.stream(part1), Arrays.stream(part2)).toArray();\n        }            \n    }\n    \n    for(int i=0;i+lowest&lt;=remainingArray.length;i++){\n        int[] sub = Arrays.copyOfRange(remainingArray, i, i+lowest);\n        int count = IntStream.of(sub).sum();\n        if(count&gt;robo2Coins) {\n            robo2Coins = count;\n        }            \n    }\n    \n    System.out.println(&quot;Robo1 Coins - &quot;+robo1Coins+&quot; Robo2 Coins-&quot;+robo2Coins);\n\nreturn robo1Coins+robo2Coins;\n}\n</code></pre>\n<p>The above solution is working fine for the given cases.</p>\n<blockquote>\n<p>But I feel my solution has few problems</p>\n<ol>\n<li>Not optimistic/Less performant</li>\n<li>Failing on edge cases</li>\n<li>Not following any algorithmic approach</li>\n</ol>\n</blockquote>\n<p><em>Please help to point out. What is the right approaches/algorithms available to solve this in more efficient manner.</em></p>\n"},{"tags":["java","caching","guava"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632447614,"post_id":69308342,"comment_id":122500945,"body_markdown":"So you would never want an entry to be evicted, except in the case where disk usage reaches some limit? And the cache *doesn&#39;t* contain the data which is in the files? And always has an entry for every file? Perhaps an actual caching library is overkill, and you could just use a Map with the last access time in its value, and scan the Map when you want to delete a file (as scanning the Map is cheap compared to any disk operation)","body":"So you would never want an entry to be evicted, except in the case where disk usage reaches some limit? And the cache <i>doesn&#39;t</i> contain the data which is in the files? And always has an entry for every file? Perhaps an actual caching library is overkill, and you could just use a Map with the last access time in its value, and scan the Map when you want to delete a file (as scanning the Map is cheap compared to any disk operation)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1632448320,"post_id":69308342,"comment_id":122501075,"body_markdown":"Why do you want a custom eviction policy?  The point of most caches is that they have their own eviction policy, smarter than what you might write yourself.","body":"Why do you want a custom eviction policy?  The point of most caches is that they have their own eviction policy, smarter than what you might write yourself."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":3,"creation_date":1632450013,"post_id":69308342,"comment_id":122501336,"body_markdown":"You need data to justify this requirement, because a [modern policy](https://github.com/ben-manes/caffeine/wiki/Efficiency) can make very smart decisions. If you can acquire traces, then you can use a [simulator](https://github.com/ben-manes/caffeine/wiki/Simulator) to look for improvement opportunities. In Guava (or Caffeine), you can use a `Weigher` that provides the file size and a `maximumWeight` to bound the cache by, and have a `RemovalListener` callback to delete the file on eviction. This would abstract the algorithms while solving your actual goal.","body":"You need data to justify this requirement, because a <a href=\"https://github.com/ben-manes/caffeine/wiki/Efficiency\" rel=\"nofollow noreferrer\">modern policy</a> can make very smart decisions. If you can acquire traces, then you can use a <a href=\"https://github.com/ben-manes/caffeine/wiki/Simulator\" rel=\"nofollow noreferrer\">simulator</a> to look for improvement opportunities. In Guava (or Caffeine), you can use a <code>Weigher</code> that provides the file size and a <code>maximumWeight</code> to bound the cache by, and have a <code>RemovalListener</code> callback to delete the file on eviction. This would abstract the algorithms while solving your actual goal."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632450307,"post_id":69308342,"comment_id":122501385,"body_markdown":"@LouisWasserman I think the reason is that the cache content is the files on disk, not the data in memory, so the in memory &#39;cache&#39; can&#39;t make eviction decisions, as it doesn&#39;t know when the storage limit has been reached.","body":"@LouisWasserman I think the reason is that the cache content is the files on disk, not the data in memory, so the in memory &#39;cache&#39; can&#39;t make eviction decisions, as it doesn&#39;t know when the storage limit has been reached."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1632451164,"post_id":69308342,"comment_id":122501526,"body_markdown":"@tgdavies That is why a logical limit based on the entry&#39;s &quot;weight&quot; can be used instead. The cache will trigger an eviction not on the number of entries, `Map.size()`, but on the accumulated weight.","body":"@tgdavies That is why a logical limit based on the entry&#39;s &quot;weight&quot; can be used instead. The cache will trigger an eviction not on the number of entries, <code>Map.size()</code>, but on the accumulated weight."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1632451489,"post_id":69308342,"comment_id":122501564,"body_markdown":"@BenManes interesting, yes weigher and maximumWeight look like they&#39;d do what the OP wants.","body":"@BenManes interesting, yes weigher and maximumWeight look like they&#39;d do what the OP wants."},{"owner":{"account_id":5589289,"reputation":631,"user_id":4428999,"accept_rate":65,"display_name":"LearningToCode"},"score":0,"creation_date":1632501105,"post_id":69308342,"comment_id":122518423,"body_markdown":"Let me explore the Weigher and maximumWeight idea, looks promising. I think what I really want is a custom eviction trigger policy, most caches offer based on size or time and both of which don&#39;t work for my case. I don&#39;t want to implement the &#39;Map&#39; myself as I don&#39;t want to loose the eviction schemes implemented by these smart cache libraries already.","body":"Let me explore the Weigher and maximumWeight idea, looks promising. I think what I really want is a custom eviction trigger policy, most caches offer based on size or time and both of which don&#39;t work for my case. I don&#39;t want to implement the &#39;Map&#39; myself as I don&#39;t want to loose the eviction schemes implemented by these smart cache libraries already."},{"owner":{"account_id":5589289,"reputation":631,"user_id":4428999,"accept_rate":65,"display_name":"LearningToCode"},"score":0,"creation_date":1632852046,"post_id":69308342,"comment_id":122604156,"body_markdown":"The weight of a KV is a static value and determined only once at the insertion. Is there any way to make it dynamic? In my example - the weight of key varies with the current size of file and total weight is the total disk space.\nAlso, are there any other cache libraries that offer the same feature?","body":"The weight of a KV is a static value and determined only once at the insertion. Is there any way to make it dynamic? In my example - the weight of key varies with the current size of file and total weight is the total disk space. Also, are there any other cache libraries that offer the same feature?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632876461,"post_id":69308342,"comment_id":122610505,"body_markdown":"What if you `invalidate` the cache entry when the file size changes? (I&#39;m assuming that you take an action to change the file size)","body":"What if you <code>invalidate</code> the cache entry when the file size changes? (I&#39;m assuming that you take an action to change the file size)"}],"owner":{"account_id":5589289,"reputation":631,"user_id":4428999,"accept_rate":65,"display_name":"LearningToCode"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632508291,"creation_date":1632444698,"question_id":69308342,"body_markdown":"I am building a cache based storage server (in java) that accepts client requests and stores data in the corresponding files on disk. The file metadata is small and can be cached in memory. However, if the disk size reaches a limit, I would like to explicitly evict the next evictable entry in the cache. Most cache libraries offer eviction by cache size or eviction by time, however I want a custom eviction trigger policy. I don&#39;t plan on implementing any cache algorithm (if possible).\r\n\r\nI surveyed several java caching libraries but they don&#39;t provide an option for custom eviction trigger policy or a method that returns the `nextEvictableKey()`. The closest example would be guava library [here][1] but I cannot access it from the application because its at &#39;default&#39; access.\r\n\r\nAny ideas on how to solve this problem?\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2652","title":"Cache lib that supports custom eviction trigger or provides next evictable key","body":"<p>I am building a cache based storage server (in java) that accepts client requests and stores data in the corresponding files on disk. The file metadata is small and can be cached in memory. However, if the disk size reaches a limit, I would like to explicitly evict the next evictable entry in the cache. Most cache libraries offer eviction by cache size or eviction by time, however I want a custom eviction trigger policy. I don't plan on implementing any cache algorithm (if possible).</p>\n<p>I surveyed several java caching libraries but they don't provide an option for custom eviction trigger policy or a method that returns the <code>nextEvictableKey()</code>. The closest example would be guava library <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2652\" rel=\"nofollow noreferrer\">here</a> but I cannot access it from the application because its at 'default' access.</p>\n<p>Any ideas on how to solve this problem?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409042681,"creation_date":1409042681,"answer_id":25501556,"question_id":25501503,"body_markdown":"You can use Quartz Scheduler. It integrates great with Spring.\r\n\r\nhttp://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger\r\n\r\nhttp://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06\r\n\r\n","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>You can use Quartz Scheduler. It integrates great with Spring.</p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger\" rel=\"nofollow\">http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger</a></p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06\" rel=\"nofollow\">http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06</a></p>\n"},{"tags":[],"owner":{"account_id":2647904,"reputation":2404,"user_id":2290235,"display_name":"rgrebski"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1504864374,"creation_date":1409043630,"answer_id":25501851,"question_id":25501503,"body_markdown":"If you don&#39;t have to run this job on a single node in a cluster you can use Spring Task, see:\r\nhttp://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Scheduled(cron=&quot;0 0 0 1 1/1 *&quot;)\r\n    public void doSomething() {\r\n        // something that should execute on 1st day every month @ 00:00\r\n    }\r\n\r\nFor generating cron expressions try [cronmaker.com][1]\r\n\r\n\r\n  [1]: http://www.cronmaker.com/\r\n\r\nPlease be aware that if you use this code in a cluster it will run on all nodes.","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>If you don't have to run this job on a single node in a cluster you can use Spring Task, see:\n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron=\"0 0 0 1 1/1 *\")\npublic void doSomething() {\n    // something that should execute on 1st day every month @ 00:00\n}\n</code></pre>\n\n<p>For generating cron expressions try <a href=\"http://www.cronmaker.com/\" rel=\"noreferrer\">cronmaker.com</a></p>\n\n<p>Please be aware that if you use this code in a cluster it will run on all nodes.</p>\n"},{"tags":[],"owner":{"account_id":8644989,"reputation":121,"user_id":6472461,"display_name":"C&#225;ssio Morales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632507653,"creation_date":1632507653,"answer_id":69319593,"question_id":25501503,"body_markdown":"Since v5.3 Spring supports macros which represent commonly used sequences. See: [New in Spring 5.3: Improved Cron Expressions][1]\r\n\r\nIn your case you could use:\r\n\r\n    @Scheduled(cron = &quot;@monthly&quot;)\r\n    public void task() {\r\n        // your task\r\n    }\r\n\r\nwhich is the same as writing this:\r\n    \t\r\n    @Scheduled(cron = &quot;0 0 0 1 * *&quot;)\r\n    public void task() {\r\n        // your task\r\n    }\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>Since v5.3 Spring supports macros which represent commonly used sequences. See: <a href=\"https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions\" rel=\"nofollow noreferrer\">New in Spring 5.3: Improved Cron Expressions</a></p>\n<p>In your case you could use:</p>\n<pre><code>@Scheduled(cron = &quot;@monthly&quot;)\npublic void task() {\n    // your task\n}\n</code></pre>\n<p>which is the same as writing this:</p>\n<pre><code>@Scheduled(cron = &quot;0 0 0 1 * *&quot;)\npublic void task() {\n    // your task\n}\n</code></pre>\n"}],"owner":{"account_id":2316112,"reputation":151,"user_id":2033149,"display_name":"dvrnaidu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20895,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":25501851,"answer_count":3,"score":7,"last_activity_date":1632507653,"creation_date":1409042545,"question_id":25501503,"body_markdown":"We have a requirement of running a job on 1st of every month (time: 00:00:00 AM) exactly.  \r\nWe are using Spring framework&#39;s *ScheduledTimerTask* to schedule jobs using delay and period properties. This class doesn&#39;t support running a job on specific date.\r\n\r\nCan somebody suggest, how we can solve that problem using Spring and Java technology?\r\n\r\n","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>We have a requirement of running a job on 1st of every month (time: 00:00:00 AM) exactly.<br>\nWe are using Spring framework's <em>ScheduledTimerTask</em> to schedule jobs using delay and period properties. This class doesn't support running a job on specific date.</p>\n\n<p>Can somebody suggest, how we can solve that problem using Spring and Java technology?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1632506429,"post_id":69319318,"comment_id":122520173,"body_markdown":"&quot;`int [][] num = newList`&quot; that&#39;s not valid Java. Please post the actual code.","body":"&quot;<code>int [][] num = newList</code>&quot; that&#39;s not valid Java. Please post the actual code."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":2,"creation_date":1632506486,"post_id":69319318,"comment_id":122520193,"body_markdown":"Your code is not even compiling. How you are getting these values printed","body":"Your code is not even compiling. How you are getting these values printed"},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":1,"creation_date":1632506632,"post_id":69319318,"comment_id":122520244,"body_markdown":"Please present the expected output alongside the output you&#39;re getting. Are the expected values in the int range?","body":"Please present the expected output alongside the output you&#39;re getting. Are the expected values in the int range?"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632506856,"creation_date":1632506856,"answer_id":69319460,"question_id":69319318,"body_markdown":"In your String **Inodes = IUsed + IFree**. When you find with the matcher one by one in each iteration all 3 values **Inodes, IUsed, IFree** are getting picked up. So each iteration is printing **Inodes + IUsed + IFree**. That&#39;s why you are getting double values here. \r\n\r\nSo your code should be like this:\r\n\r\n    public static void main(String[] args) throws JSONException {\r\n        String strHDD = &quot;df -i\\n&quot; + &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot;\r\n            + &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot;\r\n            + &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot;\r\n            + &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot;\r\n            + &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot;\r\n            + &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot;\r\n            + &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot;\r\n            + &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot;\r\n            + &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot;\r\n            + &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot;\r\n            + &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot;\r\n            + &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot;\r\n            + &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot;\r\n            + &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot;\r\n            + &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot;\r\n            + &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot;;\r\n    \r\n        String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;;\r\n        Pattern pattern = Pattern.compile(strRegex);\r\n        Matcher matcher = pattern.matcher(strHDD);\r\n        int columTotal = 0;\r\n        while (matcher.find()) {\r\n    \r\n          String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;);\r\n    \r\n          List&lt;String&gt; list = Arrays.asList(stringArray);\r\n    \r\n          List&lt;Integer&gt; newList = list.stream().map(s -&gt; Integer.parseInt(s)).collect(Collectors.toList());\r\n    \r\n          columTotal += newList.get(0);\r\n          System.out.println(&quot;Value to add : &quot; + newList.get(0));\r\n          \r\n        }\r\n        System.out.println(&quot;Total : &quot; + columTotal);\r\n      }\r\n\r\n\r\n**Result:**\r\n\r\n    Value to add : 719488\r\n    Value to add : 4093600\r\n    Value to add : 4096453\r\n    Value to add : 4096453\r\n    Value to add : 4096453\r\n    Value to add : 32768\r\n    Value to add : 327680\r\n    Value to add : 131072\r\n    Value to add : 131072\r\n    Value to add : 327680\r\n    Value to add : 131072\r\n    Value to add : 327680\r\n    Value to add : 32768000\r\n    Value to add : 1048576\r\n    Value to add : 4096453\r\n    Total : 56424500","title":"Why i can&#39;t sum an ArrayList Integer colum?","body":"<p>In your String <strong>Inodes = IUsed + IFree</strong>. When you find with the matcher one by one in each iteration all 3 values <strong>Inodes, IUsed, IFree</strong> are getting picked up. So each iteration is printing <strong>Inodes + IUsed + IFree</strong>. That's why you are getting double values here.</p>\n<p>So your code should be like this:</p>\n<pre><code>public static void main(String[] args) throws JSONException {\n    String strHDD = &quot;df -i\\n&quot; + &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot;\n        + &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot;\n        + &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot;\n        + &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot;\n        + &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot;\n        + &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot;\n        + &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot;\n        + &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot;\n        + &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot;\n        + &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot;\n        + &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot;\n        + &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot;\n        + &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot;\n        + &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot;\n        + &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot;\n        + &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot;;\n\n    String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;;\n    Pattern pattern = Pattern.compile(strRegex);\n    Matcher matcher = pattern.matcher(strHDD);\n    int columTotal = 0;\n    while (matcher.find()) {\n\n      String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;);\n\n      List&lt;String&gt; list = Arrays.asList(stringArray);\n\n      List&lt;Integer&gt; newList = list.stream().map(s -&gt; Integer.parseInt(s)).collect(Collectors.toList());\n\n      columTotal += newList.get(0);\n      System.out.println(&quot;Value to add : &quot; + newList.get(0));\n      \n    }\n    System.out.println(&quot;Total : &quot; + columTotal);\n  }\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>Value to add : 719488\nValue to add : 4093600\nValue to add : 4096453\nValue to add : 4096453\nValue to add : 4096453\nValue to add : 32768\nValue to add : 327680\nValue to add : 131072\nValue to add : 131072\nValue to add : 327680\nValue to add : 131072\nValue to add : 327680\nValue to add : 32768000\nValue to add : 1048576\nValue to add : 4096453\nTotal : 56424500\n</code></pre>\n"}],"owner":{"account_id":18899223,"reputation":81,"user_id":13787632,"display_name":"Fabio Ochoa Restrepo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":69319460,"answer_count":1,"score":-2,"last_activity_date":1632506936,"creation_date":1632506058,"question_id":69319318,"body_markdown":"I&#39;m new to java and I can&#39;t figure it out, any tips?\r\n\r\n\r\n\r\n   \r\n\r\nI&#39;m trying to sum all this numbers\r\n\r\nlike 719488 + 4093600 + 4096453 + 4096453 + 4096453 = Something\r\n\r\nThe result I&#39;m getting is:\r\n\r\n    1438976\r\n    8187200\r\n    8192906\r\n    8192906\r\n    8192906\r\n    65536\r\n    655360\r\n    262144\r\n    262144\r\n    655360\r\n    262144\r\n    655360\r\n    65536000\r\n    2097152\r\n    8192906\r\n\r\nBasically is multiplicating by 2 each number in each line by its own value.\r\n\r\nPlease, I need help.\r\nThank you \r\n\r\n\r\nadding more info:\r\n\r\n    String strHDD = &quot;df -i\\n&quot; +\r\n            &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot; +\r\n            &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot; +\r\n            &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot; +\r\n            &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot; +\r\n            &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot; +\r\n            &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot; +\r\n            &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot; +\r\n            &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot; +\r\n            &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot; +\r\n            &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot; +\r\n            &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot; +\r\n            &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot; +\r\n            &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot; +\r\n            &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot; +\r\n            &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot; +\r\n            &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot; +\r\n            &quot;[1;31mvg1108yr:resolve:[0m/opt/SP/resolve \\$&quot;\r\n    \r\n          String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;\r\n          Pattern pattern = Pattern.compile(strRegex);\r\n          Matcher matcher = pattern.matcher(strHDD);\r\n          while (matcher.find()) {\r\n    \r\n        String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;)\r\n    \r\n              List&lt;String&gt; list = Arrays.asList(stringArray)\r\n    \r\n              List&lt;Integer&gt; newList = list.stream()\r\n                      .map(s -&gt; Integer.parseInt(s))\r\n                      .collect(Collectors.toList());\r\n    \r\n    \r\n              int [][] num = newList\r\n    \r\n              int columTotal = 0\r\n    \r\n              for (int i = 0; i &lt; num.length; i++){\r\n                  columTotal += num[i][0]\r\n              }\r\n              println(newList)\r\n    \r\n    \r\n    \r\n    }\r\n\r\noutput:\r\n\r\n    [719488, 42967, 676521]\r\n    [4093600, 436, 4093164]\r\n    [4096453, 1, 4096452]\r\n    [4096453, 1384, 4095069]\r\n    [4096453, 16, 4096437]\r\n    [32768, 351, 32417]\r\n    [327680, 19465, 308215]\r\n    [131072, 322, 130750]\r\n    [131072, 166, 130906]\r\n    [327680, 4486, 323194]\r\n    [131072, 163, 130909]\r\n    [327680, 34, 327646]\r\n    [32768000, 156936, 32611064]\r\n    [1048576, 11, 1048565]\r\n    [4096453, 1, 4096452]\r\n    \r\n    Process finished with exit code 0\r\nor:\r\n\r\n    int columTotal = 0\r\n    \r\n              for (int i = 0; i &lt; num.length; i++){\r\n                  columTotal += num[i][0]\r\n              }\r\n              println(columTotal)\r\n\r\n    1438976\r\n    8187200\r\n    8192906\r\n    8192906\r\n    8192906\r\n    65536\r\n    655360\r\n    262144\r\n    262144\r\n    655360\r\n    262144\r\n    655360\r\n    65536000\r\n    2097152\r\n    8192906\r\n    \r\n    Process finished with exit code 0\r\n\r\nBut it never sums only multiply by two ","title":"Why i can&#39;t sum an ArrayList Integer colum?","body":"<p>I'm new to java and I can't figure it out, any tips?</p>\n<p>I'm trying to sum all this numbers</p>\n<p>like 719488 + 4093600 + 4096453 + 4096453 + 4096453 = Something</p>\n<p>The result I'm getting is:</p>\n<pre><code>1438976\n8187200\n8192906\n8192906\n8192906\n65536\n655360\n262144\n262144\n655360\n262144\n655360\n65536000\n2097152\n8192906\n</code></pre>\n<p>Basically is multiplicating by 2 each number in each line by its own value.</p>\n<p>Please, I need help.\nThank you</p>\n<p>adding more info:</p>\n<pre><code>String strHDD = &quot;df -i\\n&quot; +\n        &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot; +\n        &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot; +\n        &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot; +\n        &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot; +\n        &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot; +\n        &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot; +\n        &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot; +\n        &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot; +\n        &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot; +\n        &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot; +\n        &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot; +\n        &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot; +\n        &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot; +\n        &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot; +\n        &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot; +\n        &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot; +\n        &quot;[1;31mvg1108yr:resolve:[0m/opt/SP/resolve \\$&quot;\n\n      String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;\n      Pattern pattern = Pattern.compile(strRegex);\n      Matcher matcher = pattern.matcher(strHDD);\n      while (matcher.find()) {\n\n    String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;)\n\n          List&lt;String&gt; list = Arrays.asList(stringArray)\n\n          List&lt;Integer&gt; newList = list.stream()\n                  .map(s -&gt; Integer.parseInt(s))\n                  .collect(Collectors.toList());\n\n\n          int [][] num = newList\n\n          int columTotal = 0\n\n          for (int i = 0; i &lt; num.length; i++){\n              columTotal += num[i][0]\n          }\n          println(newList)\n\n\n\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[719488, 42967, 676521]\n[4093600, 436, 4093164]\n[4096453, 1, 4096452]\n[4096453, 1384, 4095069]\n[4096453, 16, 4096437]\n[32768, 351, 32417]\n[327680, 19465, 308215]\n[131072, 322, 130750]\n[131072, 166, 130906]\n[327680, 4486, 323194]\n[131072, 163, 130909]\n[327680, 34, 327646]\n[32768000, 156936, 32611064]\n[1048576, 11, 1048565]\n[4096453, 1, 4096452]\n\nProcess finished with exit code 0\n</code></pre>\n<p>or:</p>\n<pre><code>int columTotal = 0\n\n          for (int i = 0; i &lt; num.length; i++){\n              columTotal += num[i][0]\n          }\n          println(columTotal)\n\n1438976\n8187200\n8192906\n8192906\n8192906\n65536\n655360\n262144\n262144\n655360\n262144\n655360\n65536000\n2097152\n8192906\n\nProcess finished with exit code 0\n</code></pre>\n<p>But it never sums only multiply by two</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7993,"page":1999,"page_size":100}
