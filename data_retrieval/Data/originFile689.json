{"items":[{"tags":["java","cdi","quarkus-rest-client","exceptionmapper"],"owner":{"account_id":27659594,"reputation":1,"user_id":21112724,"display_name":"athosga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675106837,"creation_date":1675106837,"question_id":75289214,"body_markdown":"I&#39;m trying to create an ExceptionMapper with an abstract parent class and some injected fields. Here is the part of code, simplified:\r\n\r\n```\r\n@Provider\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\r\n    @Override\r\n    public Response toResponse(MyException exception) {\r\n        ...\r\n    }\r\n}\r\n\r\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\r\n    @Inject\r\n    private ClassA fieldInParentA; // will be null.\r\n\r\n    @Inject\r\n    private ClassB fieldInParentB; // will be null.\r\n\r\n    // all kind of other stuff, including getters\r\n    ... \r\n}\r\n```\r\nClassA and ClassB are simple classes with @Dependent, @ApplicationScoped or @Singleton scopes (tried all these).\r\n\r\nThe problem is, that the fields of the parent don&#39;t get injected (nor do I see any error report in logs) and the result of getFieldInParentA() or of getFieldInParentB() return null in toResponse(), although the problem is not with the injected objects (they gets injected properly in other places). \r\n\r\nFurther, to my biggest surprise, all of fieldInParentA, fieldInParentB and fieldInChild **will be** injected when also the child class contains injected field. This is so with any dependent, singleton or application scoped fields:\r\n\r\n\r\n```\r\n@Provider\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\r\n    @Inject\r\n    private ClassC fieldInChild; // **will be initialized!**\r\n    \r\n    @Override\r\n    public Response toResponse(MyException exception) {\r\n      ...\r\n    }\r\n}\r\n\r\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\r\n    @Inject\r\n    private ClassA fieldInParentA; // **will be initialized!**\r\n\r\n    @Inject\r\n    private ClassB fieldInParentB; // **will be initialized!**\r\n\r\n    ... \r\n}\r\n```\r\n\r\nI might not understand properly the scopes (might it be the @Provider for blame?) or the inheritance of injected fields in Jakarta Dependency Injection, but besides not being able to initialize my classes (you might have guessed, that I don&#39;t want fields in the child class :) ) it is also bothering, that I do not understand this (apparently strange) behavior: *how can the injection of a field in a parent depend on whether we there are fields in the child or not*?!\r\n1. \r\nI did a lot of search, but I unfortunately couldn&#39;t find anything useful.\r\n","title":"Injection issue for exception mapper with abstract parent (Quarkus REST client)","body":"<p>I'm trying to create an ExceptionMapper with an abstract parent class and some injected fields. Here is the part of code, simplified:</p>\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\n    @Override\n    public Response toResponse(MyException exception) {\n        ...\n    }\n}\n\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\n    @Inject\n    private ClassA fieldInParentA; // will be null.\n\n    @Inject\n    private ClassB fieldInParentB; // will be null.\n\n    // all kind of other stuff, including getters\n    ... \n}\n</code></pre>\n<p>ClassA and ClassB are simple classes with @Dependent, @ApplicationScoped or @Singleton scopes (tried all these).</p>\n<p>The problem is, that the fields of the parent don't get injected (nor do I see any error report in logs) and the result of getFieldInParentA() or of getFieldInParentB() return null in toResponse(), although the problem is not with the injected objects (they gets injected properly in other places).</p>\n<p>Further, to my biggest surprise, all of fieldInParentA, fieldInParentB and fieldInChild <strong>will be</strong> injected when also the child class contains injected field. This is so with any dependent, singleton or application scoped fields:</p>\n<pre><code>@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class MyExceptionMapper extends GenericExceptionMapper&lt;MyException&gt; {\n    @Inject\n    private ClassC fieldInChild; // **will be initialized!**\n    \n    @Override\n    public Response toResponse(MyException exception) {\n      ...\n    }\n}\n\npublic abstract class GenericExceptionMapper&lt;T extends WebApplicationException&gt; implements ExceptionMapper&lt;T&gt; {\n    @Inject\n    private ClassA fieldInParentA; // **will be initialized!**\n\n    @Inject\n    private ClassB fieldInParentB; // **will be initialized!**\n\n    ... \n}\n</code></pre>\n<p>I might not understand properly the scopes (might it be the @Provider for blame?) or the inheritance of injected fields in Jakarta Dependency Injection, but besides not being able to initialize my classes (you might have guessed, that I don't want fields in the child class :) ) it is also bothering, that I do not understand this (apparently strange) behavior: <em>how can the injection of a field in a parent depend on whether we there are fields in the child or not</em>?!\n1.\nI did a lot of search, but I unfortunately couldn't find anything useful.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":16118964,"reputation":47,"user_id":11635355,"display_name":"Luffy123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675106652,"creation_date":1675084291,"question_id":75284895,"body_markdown":"I have a json which include multiple array.\r\nI have json as:\r\n\r\n```json\r\n&quot;eList&quot;: [\r\n    {\r\n        &quot;eList&quot;: [\r\n            {\r\n                &quot;eOne&quot;: &quot;86&quot;\r\n            }\r\n        ],\r\n        &quot;idList&quot;: [\r\n            &quot;67890&quot;,\r\n            &quot;24328&quot;\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n\r\n\r\nI have exploded the id list as:\r\n```\r\ndf=df.withColumn(&quot;idList&quot;,explode(col(&quot;eList.idList&quot;)))\r\n```\r\n\r\nIt works fine till here.\r\nI want  the value of eOne from elist. I want the output as follows:\r\n\r\n```\r\n| idList   | eList |\r\n| -------- | ----- |\r\n|  67890   | 86    | \r\n|  24328   | null  |\r\n```\r\n\r\nexplode function is not going to work. I dont have anything unique rows to partition by window? How am i supposed to proceed?","title":"Get value of inside of another array after exploding an array","body":"<p>I have a json which include multiple array.\nI have json as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;eList&quot;: [\n    {\n        &quot;eList&quot;: [\n            {\n                &quot;eOne&quot;: &quot;86&quot;\n            }\n        ],\n        &quot;idList&quot;: [\n            &quot;67890&quot;,\n            &quot;24328&quot;\n        ]\n    }\n]\n</code></pre>\n<p>I have exploded the id list as:</p>\n<pre><code>df=df.withColumn(&quot;idList&quot;,explode(col(&quot;eList.idList&quot;)))\n</code></pre>\n<p>It works fine till here.\nI want  the value of eOne from elist. I want the output as follows:</p>\n<pre><code>| idList   | eList |\n| -------- | ----- |\n|  67890   | 86    | \n|  24328   | null  |\n</code></pre>\n<p>explode function is not going to work. I dont have anything unique rows to partition by window? How am i supposed to proceed?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675105831,"creation_date":1675105831,"answer_id":75289054,"question_id":75289004,"body_markdown":"You need to declare your iterator as `Iterator&lt;String&gt;` to tell the compiler `it.next()` will return a `String`, which has the `endsWith`, otherwise it will think `it.next()` will return an `Object`, which does not have `endsWith`.","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>You need to declare your iterator as <code>Iterator&lt;String&gt;</code> to tell the compiler <code>it.next()</code> will return a <code>String</code>, which has the <code>endsWith</code>, otherwise it will think <code>it.next()</code> will return an <code>Object</code>, which does not have <code>endsWith</code>.</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675106234,"creation_date":1675106234,"answer_id":75289117,"question_id":75289004,"body_markdown":"You should learn what **generics** are. You got error because you use raw type with iterator. Raw type means `Object` type, but method you want to call `endsWith()` is the method of `String` type. So you should declare your iterator like `Iterator&lt;String&gt;` to specify the type of generic. So that compiler knows the actual type of objects.\r\nMore about generics you can read here \r\nhttps://docs.oracle.com/javase/tutorial/java/generics/index.html","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>You should learn what <strong>generics</strong> are. You got error because you use raw type with iterator. Raw type means <code>Object</code> type, but method you want to call <code>endsWith()</code> is the method of <code>String</code> type. So you should declare your iterator like <code>Iterator&lt;String&gt;</code> to specify the type of generic. So that compiler knows the actual type of objects.\nMore about generics you can read here\n<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/index.html</a></p>\n"}],"owner":{"account_id":16654776,"reputation":70,"user_id":12036497,"display_name":"Morgan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675147743,"accepted_answer_id":75289054,"answer_count":2,"score":-2,"last_activity_date":1675106234,"creation_date":1675105553,"question_id":75289004,"body_markdown":"I&#39;m a beginner in Java and am kinda confused why the below code outputs a compilation error.\r\n\r\nBelow is the code.\r\n\r\nWhat did I do wrong?\r\n\r\n```\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; words = List.of(&quot;Apple&quot;, &quot;Bat&quot;, &quot;Cat&quot;);\r\n\r\n//        System.out.println(&quot;Apple&quot;.endsWith(&quot;le&quot;));\r\n\r\n        Iterator it = words.iterator();\r\n\r\n        while (it.hasNext()) {\r\n            if (it.next().endsWith(&quot;at&quot;)) {\r\n                it.remove();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Java Beginner; Compilation Error with &quot;endsWith&quot; method","body":"<p>I'm a beginner in Java and am kinda confused why the below code outputs a compilation error.</p>\n<p>Below is the code.</p>\n<p>What did I do wrong?</p>\n<pre><code>import java.util.Iterator;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; words = List.of(&quot;Apple&quot;, &quot;Bat&quot;, &quot;Cat&quot;);\n\n//        System.out.println(&quot;Apple&quot;.endsWith(&quot;le&quot;));\n\n        Iterator it = words.iterator();\n\n        while (it.hasNext()) {\n            if (it.next().endsWith(&quot;at&quot;)) {\n                it.remove();\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1582812770,"post_id":60435130,"comment_id":106912345,"body_markdown":"You can just define this method in the class, Lombok will use that then.","body":"You can just define this method in the class, Lombok will use that then."},{"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"score":0,"creation_date":1582812887,"post_id":60435130,"comment_id":106912413,"body_markdown":"No need to have `@override` annotation? Could you please post an example?","body":"No need to have <code>@override</code> annotation? Could you please post an example?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1582843343,"post_id":60435130,"comment_id":106926728,"body_markdown":"You&#39;ve got a good answer, the linked question has some additional related info. Concerning customization: You can&#39;t modify what Lombok setter does (e.g., notify observers or alike). All you can do is to stop Lombok from generating the setter and write your own.","body":"You&#39;ve got a good answer, the linked question has some additional related info. Concerning customization: You can&#39;t modify what Lombok setter does (e.g., notify observers or alike). All you can do is to stop Lombok from generating the setter and write your own."},{"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"score":0,"creation_date":1675105488,"post_id":60435130,"comment_id":132853082,"body_markdown":"I would suggest you go with the lombok provided setter and getter, and add a new method: getAdjustedScore() that returns the score + 1.  It is a bad idea to override the basic concepts of a setter and getter - it is expected that the value passed to a setter is what gets set and returned for that specific value.  Adding getAdjustedScore() makes it very easy to identify what value you are referring to.","body":"I would suggest you go with the lombok provided setter and getter, and add a new method: getAdjustedScore() that returns the score + 1.  It is a bad idea to override the basic concepts of a setter and getter - it is expected that the value passed to a setter is what gets set and returned for that specific value.  Adding getAdjustedScore() makes it very easy to identify what value you are referring to."}],"answers":[{"tags":[],"owner":{"account_id":2169245,"reputation":1238,"user_id":1921678,"accept_rate":100,"display_name":"marandus"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1582812937,"creation_date":1582812937,"answer_id":60435217,"question_id":60435130,"body_markdown":"You can just write the getter method in the class. Lombok will not override methods. If a method that it should generate is already present, it will skip that one.\r\n\r\nSo you could do this:\r\n\r\n```java\r\n@Data\r\npublic class Score {\r\n  private long grade;\r\n\r\n  public void setGrade(long grade) {\r\n    this.grade = grade + 1;\r\n  }\r\n}\r\n```\r\n\r\nOr instead just override the getter:\r\n\r\n```java\r\n@Data\r\npublic class Score {\r\n  private long grade;\r\n\r\n  public long getGrade() {\r\n    return this.grade + 1;\r\n  }\r\n}\r\n```\r\n\r\nEdit:\r\nTo add on your comment: `@Override` is only required if you override methods from superclasses or interfaces. Lombok injects the method directly into your class, thus no `@Override` is required (and it will cause an compiler error, because there is nothing that could be overridden).","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>You can just write the getter method in the class. Lombok will not override methods. If a method that it should generate is already present, it will skip that one.</p>\n\n<p>So you could do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Score {\n  private long grade;\n\n  public void setGrade(long grade) {\n    this.grade = grade + 1;\n  }\n}\n</code></pre>\n\n<p>Or instead just override the getter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Score {\n  private long grade;\n\n  public long getGrade() {\n    return this.grade + 1;\n  }\n}\n</code></pre>\n\n<p>Edit:\nTo add on your comment: <code>@Override</code> is only required if you override methods from superclasses or interfaces. Lombok injects the method directly into your class, thus no <code>@Override</code> is required (and it will cause an compiler error, because there is nothing that could be overridden).</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675106021,"creation_date":1582813173,"answer_id":60435296,"question_id":60435130,"body_markdown":"This works fine for me\r\n\r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            MyDataClass object = new MyDataClass();\r\n            object.setOverriddenSet(&quot;some value&quot;);\r\n            if (!&quot;fixed value&quot;.equals(object.getOverriddenSet())) {\r\n                throw new RuntimeException();\r\n            }\r\n            System.out.println(&quot;all went well.&quot;);\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    class MyDataClass {\r\n        String overriddenSet = &quot;fixed initial value&quot;;\r\n    \r\n        void setOverriddenSet(String setTo) {\r\n            overriddenSet = &quot;fixed value&quot;;\r\n        }\r\n    }","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>This works fine for me</p>\n<pre><code>class Scratch {\n    public static void main(String[] args) {\n        MyDataClass object = new MyDataClass();\n        object.setOverriddenSet(&quot;some value&quot;);\n        if (!&quot;fixed value&quot;.equals(object.getOverriddenSet())) {\n            throw new RuntimeException();\n        }\n        System.out.println(&quot;all went well.&quot;);\n    }\n}\n\n@Data\nclass MyDataClass {\n    String overriddenSet = &quot;fixed initial value&quot;;\n\n    void setOverriddenSet(String setTo) {\n        overriddenSet = &quot;fixed value&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383886,"reputation":17470,"user_id":740018,"accept_rate":57,"display_name":"Leem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10311,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1582843135,"accepted_answer_id":60435217,"answer_count":2,"score":4,"last_activity_date":1675106021,"creation_date":1582812587,"question_id":60435130,"body_markdown":"I use lombok library in my java project.\r\n\r\n    @Data\r\n    public class Score {\r\n       private long grade;\r\n    }\r\n\r\nWith this code, I have getter and setter automatically. e.g.\r\n\r\n    Score score = new Score();\r\n    score.setGrade(10);\r\n    // when I call score.getGrade(), I get 10.\r\n\r\nBut now I want to customize the setter method to introduce additional logics for the grade value. e.g.\r\n   \r\n\r\n    public void setGrade(long grade) {\r\n           // so the returned value from getter is always 1 bigger than what has been set.\r\n           this.grade += 1; \r\n       }\r\n\r\nBasically, I want to have `score.setGrade(10)` but `score.getGrade()` returns 11. That&#39;s override the setter. \r\nHow to achieve it with lombok in use?\r\n","title":"Using Lombok library, but how to customize/override the setter method","body":"<p>I use lombok library in my java project.</p>\n\n<pre><code>@Data\npublic class Score {\n   private long grade;\n}\n</code></pre>\n\n<p>With this code, I have getter and setter automatically. e.g.</p>\n\n<pre><code>Score score = new Score();\nscore.setGrade(10);\n// when I call score.getGrade(), I get 10.\n</code></pre>\n\n<p>But now I want to customize the setter method to introduce additional logics for the grade value. e.g.</p>\n\n<pre><code>public void setGrade(long grade) {\n       // so the returned value from getter is always 1 bigger than what has been set.\n       this.grade += 1; \n   }\n</code></pre>\n\n<p>Basically, I want to have <code>score.setGrade(10)</code> but <code>score.getGrade()</code> returns 11. That's override the setter. \nHow to achieve it with lombok in use?</p>\n"},{"tags":["java","server","client","multicast"],"owner":{"account_id":24083813,"reputation":1,"user_id":18058121,"display_name":"DreckigerDan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675105729,"creation_date":1675105729,"question_id":75289038,"body_markdown":"my programm is establishing a connection via multicastsocket between server and client. I want to send some informations to the client and then receive an answer from the client and print it out.\r\nThis works, but it always printing out the String infromation. Like it is still saved in the DatagramPacket and fill the String received with data from String information. So when i run the programm its always printing out &quot;Server: received Message: Welcome to the Event Server&quot;\r\n\r\n    \t\r\n```\r\n    \tSystem.out.println(&quot;Server is running...&quot;);\r\n    \t\r\n    \tInetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\r\n    \tMulticastSocket info_socket = new MulticastSocket(3456);\r\n    \t\r\n    \tinfo_socket.joinGroup(infoChannel);\r\n    \t\r\n    \t\r\n    \tString information = &quot;Welcome to the Event Server &quot;;\r\n    \tbyte [] buffer = information.getBytes();\r\n    \tDatagramPacket info_packet = new DatagramPacket(buffer, buffer.length, infoChannel, 3456);\r\n        \r\n    \t\r\n    \tinfo_socket.send(info_packet);\r\n    \tSystem.out.println(&quot;Message send&quot;);\r\n    \t\r\n    \t\r\n    \twhile(true) {\r\n    \t\tinfo_packet.setData(new byte[256]);\r\n    \t    \r\n    \t    info_socket.receive(info_packet);\r\n    \t    String received = new String(info_packet.getData(), info_packet.getOffset(), info_packet.getLength());\r\n    \t    \r\n    \t    info_packet.setLength(info_packet.getLength());\r\n\r\n    \t    System.out.println(&quot;Server: received Message: &quot; + received);\r\n    \t\r\n    \t\r\n    \t}\r\n    \t\r\n```\r\n\r\nCLient :\r\n\r\n\r\n```\r\n\t\tSystem.out.println(&quot;Client is waiting for Connection to Server...&quot;);\r\n    \tInetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\r\n    \tMulticastSocket info = new MulticastSocket(3456);\r\n\t\tinfo.joinGroup(infoChannel);\t\r\n\t\t\t\t\r\n\t\r\n\t\t\t\t\r\n\t\tbyte[] buffer = new byte[350];\r\n\r\n\t\tDatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n\t\t\r\n\t\tinfo.receive(packet);\r\n\t\t\r\n     \tString recString = new String(buffer);\r\n\t\tString[] lines = recString.split(&quot;#&quot;);\r\n\t\t\r\n\t\tArrays.stream(lines).forEach(System.out::println);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter message to send: &quot;);\r\n\t\tString answer = readIn.nextLine();\r\n\t\t\r\n\t\tpacket = new DatagramPacket(answer.getBytes(), answer.length(), infoChannel, 3456);\r\n\t\t\r\n\t\tinfo.send(packet);\r\n\t\tSystem.out.println(&quot;client: Inormation sended to Server&quot;);\r\n\t\tinfo.close();\r\n```\r\n\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n\r\ni tried to somehow clear the buffer and then store the received message in the String received","title":"Java Multicast Connection Server Client I dont understand why it is printing out the string i sended","body":"<p>my programm is establishing a connection via multicastsocket between server and client. I want to send some informations to the client and then receive an answer from the client and print it out.\nThis works, but it always printing out the String infromation. Like it is still saved in the DatagramPacket and fill the String received with data from String information. So when i run the programm its always printing out &quot;Server: received Message: Welcome to the Event Server&quot;</p>\n<pre><code>        System.out.println(&quot;Server is running...&quot;);\n        \n        InetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\n        MulticastSocket info_socket = new MulticastSocket(3456);\n        \n        info_socket.joinGroup(infoChannel);\n        \n        \n        String information = &quot;Welcome to the Event Server &quot;;\n        byte [] buffer = information.getBytes();\n        DatagramPacket info_packet = new DatagramPacket(buffer, buffer.length, infoChannel, 3456);\n        \n        \n        info_socket.send(info_packet);\n        System.out.println(&quot;Message send&quot;);\n        \n        \n        while(true) {\n            info_packet.setData(new byte[256]);\n            \n            info_socket.receive(info_packet);\n            String received = new String(info_packet.getData(), info_packet.getOffset(), info_packet.getLength());\n            \n            info_packet.setLength(info_packet.getLength());\n\n            System.out.println(&quot;Server: received Message: &quot; + received);\n        \n        \n        }\n        \n</code></pre>\n<p>CLient :</p>\n<pre><code>        System.out.println(&quot;Client is waiting for Connection to Server...&quot;);\n        InetAddress infoChannel = InetAddress.getByName(&quot;225.5.6.6&quot;);\n        MulticastSocket info = new MulticastSocket(3456);\n        info.joinGroup(infoChannel);    \n                \n    \n                \n        byte[] buffer = new byte[350];\n\n        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\n        \n        info.receive(packet);\n        \n        String recString = new String(buffer);\n        String[] lines = recString.split(&quot;#&quot;);\n        \n        Arrays.stream(lines).forEach(System.out::println);\n        \n        System.out.println(&quot;Enter message to send: &quot;);\n        String answer = readIn.nextLine();\n        \n        packet = new DatagramPacket(answer.getBytes(), answer.length(), infoChannel, 3456);\n        \n        info.send(packet);\n        System.out.println(&quot;client: Inormation sended to Server&quot;);\n        info.close();\n</code></pre>\n<p>Thanks in advance!</p>\n<p>i tried to somehow clear the buffer and then store the received message in the String received</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":11128032,"reputation":801,"user_id":8168882,"display_name":"&#199;ağatay Sel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105471,"creation_date":1675105471,"answer_id":75288991,"question_id":74822010,"body_markdown":"uses clause in @Mapper annotation allow your mapper to use the mappers you defined if they are required. If you want to just get a reference to mapper you can use.\r\n\r\n    MyMapper INSTANCE = Mappers.getMapper( MyMapper.class );","title":"Mapstruct: how to autowire abstract class mapper","body":"<p>uses clause in @Mapper annotation allow your mapper to use the mappers you defined if they are required. If you want to just get a reference to mapper you can use.</p>\n<pre><code>MyMapper INSTANCE = Mappers.getMapper( MyMapper.class );\n</code></pre>\n"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675105471,"creation_date":1671180168,"question_id":74822010,"body_markdown":"my problem seems easy, but may be I&#39;m doing something wrong. this is mapper class with `@Named(&quot;toLocationListCommon&quot;)` bean which suppose to be used in other mappers\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class CommonLocationMapper {\r\n        @Setter(onMethod_ = @Autowired)\r\n        protected TestService testService;\r\n    \r\n        @Named(&quot;toLocationListCommon&quot;)\r\n        List&lt;Location&gt; toLocationListCommon(List&lt;? extends ILocation&gt; loc) {\r\n    \t\t//do mapping logic\r\n        }\r\n    \r\n    }\r\nhere I&#39;m trying to use it:\r\n\r\n    @Mapper(implementationName = &quot;V1Impl&quot;, config = CommonMapper.CommonMapperConfig.class, uses = CommonLocationMapper.class)\r\n    interface TestMapper {\r\n    \t//other mapping methods\r\n    }\r\nI expect to have autowired bean `CommonLocationMapper` in implementation for `TestMapper`, but I haven&#39;t. \r\nWhat I&#39;m doing wrong? thanks in advance!  ","title":"Mapstruct: how to autowire abstract class mapper","body":"<p>my problem seems easy, but may be I'm doing something wrong. this is mapper class with <code>@Named(&quot;toLocationListCommon&quot;)</code> bean which suppose to be used in other mappers</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CommonLocationMapper {\n    @Setter(onMethod_ = @Autowired)\n    protected TestService testService;\n\n    @Named(&quot;toLocationListCommon&quot;)\n    List&lt;Location&gt; toLocationListCommon(List&lt;? extends ILocation&gt; loc) {\n        //do mapping logic\n    }\n\n}\n</code></pre>\n<p>here I'm trying to use it:</p>\n<pre><code>@Mapper(implementationName = &quot;V1Impl&quot;, config = CommonMapper.CommonMapperConfig.class, uses = CommonLocationMapper.class)\ninterface TestMapper {\n    //other mapping methods\n}\n</code></pre>\n<p>I expect to have autowired bean <code>CommonLocationMapper</code> in implementation for <code>TestMapper</code>, but I haven't.\nWhat I'm doing wrong? thanks in advance!</p>\n"},{"tags":["java","lstm","recurrent-neural-network","deeplearning4j","dl4j"],"answers":[{"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675062716,"creation_date":1675062341,"answer_id":75281130,"question_id":75280102,"body_markdown":"There are several problems you&#39;ve got here. If you read the documentation for `predict` it tells you:\r\n\r\n&gt; Usable only for classification networks in conjunction with OutputLayer. Cannot be used with RnnOutputLayer, CnnLossLayer, or networks used for regression.\r\n\r\nThe error message therefore tells you that it only works with `rank 2 output`. \r\n\r\nIn your attempted solution, you try then to reshape the input, and the network complains that it isn&#39;t getting the input it is expecting. \r\n\r\nYou want to either use `rnnTimeStep` (for single stepping) or `output` (for the entire sequence) to get the unprocessed output, and then apply the `argMax` accordingly. \r\n\r\nThe output of `rnnTimeStep()` is just a slice of output, so in order to get the same output as `predict`, you should be able to use `output.argMax(1).toIntVector()` on it. \r\n\r\nThe output of `output()` will be a 2-D matrix, so you&#39;ll need to specify the correct axes.","title":"DL4J LSTM - Contradictory Errors","body":"<p>There are several problems you've got here. If you read the documentation for <code>predict</code> it tells you:</p>\n<blockquote>\n<p>Usable only for classification networks in conjunction with OutputLayer. Cannot be used with RnnOutputLayer, CnnLossLayer, or networks used for regression.</p>\n</blockquote>\n<p>The error message therefore tells you that it only works with <code>rank 2 output</code>.</p>\n<p>In your attempted solution, you try then to reshape the input, and the network complains that it isn't getting the input it is expecting.</p>\n<p>You want to either use <code>rnnTimeStep</code> (for single stepping) or <code>output</code> (for the entire sequence) to get the unprocessed output, and then apply the <code>argMax</code> accordingly.</p>\n<p>The output of <code>rnnTimeStep()</code> is just a slice of output, so in order to get the same output as <code>predict</code>, you should be able to use <code>output.argMax(1).toIntVector()</code> on it.</p>\n<p>The output of <code>output()</code> will be a 2-D matrix, so you'll need to specify the correct axes.</p>\n"}],"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75281130,"answer_count":1,"score":0,"last_activity_date":1675105394,"creation_date":1675050677,"question_id":75280102,"body_markdown":"I&#39;m trying to create a simple LSTM using Deeplearning4J in Java, with 2 input features and a timeseries length of 1. However, I&#39;m running into an error concerning the number of input dimensions when calling predict(). \r\n\r\n```\r\nimport org.deeplearning4j.nn.api.OptimizationAlgorithm;\r\nimport org.deeplearning4j.nn.conf.BackpropType;\r\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\r\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\r\nimport org.deeplearning4j.nn.conf.layers.LSTM;\r\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\r\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\r\nimport org.deeplearning4j.nn.weights.WeightInit;\r\nimport org.nd4j.linalg.activations.Activation;\r\nimport org.nd4j.linalg.api.ndarray.INDArray;\r\nimport org.nd4j.linalg.dataset.DataSet;\r\nimport org.nd4j.linalg.factory.Nd4j;\r\nimport org.nd4j.linalg.learning.config.Adam;\r\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\r\n\r\npublic class LSTMRegression {\r\n\tpublic static final int inputSize = 2,\r\n\t\t\t\t\t\t\tlstmLayerSize = 4,\r\n\t\t\t\t\t\t\toutputSize = 1;\r\n\t\r\n\tpublic static final double learningRate = 0.0001;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint miniBatchSize = 29;\r\n\t\t\r\n\t\tMultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\r\n                .updater(new Adam(learningRate))\r\n                .list()\r\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY).build())\r\n                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.SIGMOID).build())\r\n                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.SIGMOID).build())\r\n                .layer(3, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY)\r\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\r\n                \r\n                .backpropType(BackpropType.TruncatedBPTT)\r\n                .tBPTTForwardLength(miniBatchSize)\r\n                .tBPTTBackwardLength(miniBatchSize)\r\n                .build();\r\n\t\t\r\n\t\tvar network = new MultiLayerNetwork(conf);\r\n\t\t\r\n\t\tnetwork.init();\r\n\t\tnetwork.fit(getTrain());\r\n\t\t\r\n\t\tSystem.out.println(network.predict(getTest()));\r\n\t}\r\n\t\r\n\tpublic static DataSet getTest() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1);\r\n\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n\t\r\n\tpublic static DataSet getTrain() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1);\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n}\r\n```\r\n\r\nThe following error occurs when run:\r\n\r\n```\r\n22:38:28.803 [main] INFO  o.d.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\r\n22:38:29.755 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1]\tand labels with shape [29, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: predict(INDArray) method can only be used on rank 2 output - got array with rank 3\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:274)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2275)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\r\n\tat LSTMRegression.main(LSTMRegression.java:78)\r\n```\r\n\r\nThat&#39;s weird I figured, but I tried reshaping it anyway:\r\n\r\n```\r\n    public static DataSet getTest() {\r\n\t\tINDArray input = Nd4j.zeros(29, 2, 1).reshape(29, 2);\r\n\r\n\t\tINDArray labels = Nd4j.zeros(29, 1);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n```\r\n\r\n...Leading to the opposite problem:\r\n\r\n```\r\n22:45:28.232 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1]\tand labels with shape [29, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\r\n\tat org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\r\n\tat org.nd4j.common.base.Preconditions.checkState(Preconditions.java:265)\r\n\tat org.deeplearning4j.nn.layers.recurrent.LSTM.activateHelper(LSTM.java:121)\r\n\tat org.deeplearning4j.nn.layers.recurrent.LSTM.activate(LSTM.java:110)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1349)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2467)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2430)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2421)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2408)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2270)\r\n\tat org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\r\n\tat LSTMRegression.main(LSTMRegression.java:78)\r\n```\r\n\r\nWhat exactly am I doing wrong here?\r\n\r\nEDIT: I used zeros obviously to make the code a bit easier to read. Here&#39;s what my training and test data actually looks like in the form of a multidimensional double array:\r\n\r\n```\r\npublic static DataSet getData() {\r\n\t\tdouble[][][] inputArray = {\r\n\t\t\t{{18.7}, {181}},\r\n\t\t\t{{17.4}, {186}},\r\n\t\t\t{{18}, {195}},\r\n\t\t\t{{19.3}, {193}},\r\n\t\t\t{{20.6}, {190}},\r\n\t\t\t{{17.8}, {181}},\r\n\t\t\t{{19.6}, {195}},\r\n\t\t\t{{18.1}, {193}},\r\n\t\t\t{{20.2}, {190}},\r\n\t\t\t{{17.1}, {186}},\r\n\t\t\t{{17.3}, {180}},\r\n            ...\r\n        }\r\n       double[][] outputArray = {\r\n\t\t\t\t{3750},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{3250},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{3650},\r\n\t\t\t\t{3625},\r\n\t\t\t\t{4675},\r\n\t\t\t\t{3475},\r\n\t\t\t\t{4250},\r\n\t\t\t\t{3300},\r\n\t\t\t\t{3700},\r\n\t\t\t\t{3200},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{4400},\r\n\t\t\t\t{3700},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{4500},\r\n                ...\r\n        };\r\n        INDArray input = Nd4j.create(inputArray);\r\n\t\tINDArray labels = Nd4j.create(outputArray);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n}\r\n```\r\n\r\n... As well as my test data (updated to only include inputs):\r\n```\r\npublic static INDArray getTest() {\r\n\t\tdouble[][][] test = new double[][][]{\r\n            {{20}, {203}},\r\n            {{16}, {183}},\r\n            {{20}, {190}},\r\n            {{18.6}, {193}},\r\n            {{18.9}, {184}},\r\n            {{17.2}, {199}},\r\n            {{20}, {190}},\r\n            {{17}, {181}},\r\n            {{19}, {197}},\r\n            {{16.5}, {198}},\r\n            {{20.3}, {191}},\r\n            {{17.7}, {193}},\r\n            {{19.5}, {197}},\r\n            {{20.7}, {191}},\r\n            {{18.3}, {196}},\r\n            {{17}, {188}},\r\n            {{20.5}, {199}},\r\n            {{17}, {189}},\r\n            {{18.6}, {189}},\r\n            {{17.2}, {187}},\r\n            {{19.8}, {198}},\r\n            {{17}, {176}},\r\n            {{18.5}, {202}},\r\n            {{15.9}, {186}},\r\n            {{19}, {199}},\r\n            {{17.6}, {191}},\r\n            {{18.3}, {195}},\r\n            {{17.1}, {191}},\r\n            {{18}, {210}}\r\n\t\t};\r\n\t\t\r\n\t\tINDArray input = Nd4j.create(test);\r\n\t\t\r\n\t\treturn input;\r\n\t}\r\n```","title":"DL4J LSTM - Contradictory Errors","body":"<p>I'm trying to create a simple LSTM using Deeplearning4J in Java, with 2 input features and a timeseries length of 1. However, I'm running into an error concerning the number of input dimensions when calling predict().</p>\n<pre><code>import org.deeplearning4j.nn.api.OptimizationAlgorithm;\nimport org.deeplearning4j.nn.conf.BackpropType;\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\nimport org.deeplearning4j.nn.conf.layers.LSTM;\nimport org.deeplearning4j.nn.conf.layers.RnnOutputLayer;\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\nimport org.deeplearning4j.nn.weights.WeightInit;\nimport org.nd4j.linalg.activations.Activation;\nimport org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.dataset.DataSet;\nimport org.nd4j.linalg.factory.Nd4j;\nimport org.nd4j.linalg.learning.config.Adam;\nimport org.nd4j.linalg.lossfunctions.LossFunctions;\n\npublic class LSTMRegression {\n    public static final int inputSize = 2,\n                            lstmLayerSize = 4,\n                            outputSize = 1;\n    \n    public static final double learningRate = 0.0001;\n\n    public static void main(String[] args) {\n        int miniBatchSize = 29;\n        \n        MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\n                .updater(new Adam(learningRate))\n                .list()\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY).build())\n                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.SIGMOID).build())\n                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.SIGMOID).build())\n                .layer(3, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY)\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\n                \n                .backpropType(BackpropType.TruncatedBPTT)\n                .tBPTTForwardLength(miniBatchSize)\n                .tBPTTBackwardLength(miniBatchSize)\n                .build();\n        \n        var network = new MultiLayerNetwork(conf);\n        \n        network.init();\n        network.fit(getTrain());\n        \n        System.out.println(network.predict(getTest()));\n    }\n    \n    public static DataSet getTest() {\n        INDArray input = Nd4j.zeros(29, 2, 1);\n\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n    \n    public static DataSet getTrain() {\n        INDArray input = Nd4j.zeros(29, 2, 1);\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n}\n</code></pre>\n<p>The following error occurs when run:</p>\n<pre><code>22:38:28.803 [main] INFO  o.d.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\n22:38:29.755 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1] and labels with shape [29, 1]\nException in thread &quot;main&quot; java.lang.IllegalStateException: predict(INDArray) method can only be used on rank 2 output - got array with rank 3\n    at org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\n    at org.nd4j.common.base.Preconditions.checkState(Preconditions.java:274)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2275)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\n    at LSTMRegression.main(LSTMRegression.java:78)\n</code></pre>\n<p>That's weird I figured, but I tried reshaping it anyway:</p>\n<pre><code>    public static DataSet getTest() {\n        INDArray input = Nd4j.zeros(29, 2, 1).reshape(29, 2);\n\n        INDArray labels = Nd4j.zeros(29, 1);\n        \n        return new DataSet(input, labels);\n    }\n</code></pre>\n<p>...Leading to the opposite problem:</p>\n<pre><code>22:45:28.232 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [29, 2, 1] and labels with shape [29, 1]\nException in thread &quot;main&quot; java.lang.IllegalStateException: 3D input expected to RNN layer expected, got 2\n    at org.nd4j.common.base.Preconditions.throwStateEx(Preconditions.java:639)\n    at org.nd4j.common.base.Preconditions.checkState(Preconditions.java:265)\n    at org.deeplearning4j.nn.layers.recurrent.LSTM.activateHelper(LSTM.java:121)\n    at org.deeplearning4j.nn.layers.recurrent.LSTM.activate(LSTM.java:110)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1349)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2467)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2430)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2421)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2408)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2270)\n    at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.predict(MultiLayerNetwork.java:2286)\n    at LSTMRegression.main(LSTMRegression.java:78)\n</code></pre>\n<p>What exactly am I doing wrong here?</p>\n<p>EDIT: I used zeros obviously to make the code a bit easier to read. Here's what my training and test data actually looks like in the form of a multidimensional double array:</p>\n<pre><code>public static DataSet getData() {\n        double[][][] inputArray = {\n            {{18.7}, {181}},\n            {{17.4}, {186}},\n            {{18}, {195}},\n            {{19.3}, {193}},\n            {{20.6}, {190}},\n            {{17.8}, {181}},\n            {{19.6}, {195}},\n            {{18.1}, {193}},\n            {{20.2}, {190}},\n            {{17.1}, {186}},\n            {{17.3}, {180}},\n            ...\n        }\n       double[][] outputArray = {\n                {3750},\n                {3800},\n                {3250},\n                {3450},\n                {3650},\n                {3625},\n                {4675},\n                {3475},\n                {4250},\n                {3300},\n                {3700},\n                {3200},\n                {3800},\n                {4400},\n                {3700},\n                {3450},\n                {4500},\n                ...\n        };\n        INDArray input = Nd4j.create(inputArray);\n        INDArray labels = Nd4j.create(outputArray);\n        \n        return new DataSet(input, labels);\n}\n</code></pre>\n<p>... As well as my test data (updated to only include inputs):</p>\n<pre><code>public static INDArray getTest() {\n        double[][][] test = new double[][][]{\n            {{20}, {203}},\n            {{16}, {183}},\n            {{20}, {190}},\n            {{18.6}, {193}},\n            {{18.9}, {184}},\n            {{17.2}, {199}},\n            {{20}, {190}},\n            {{17}, {181}},\n            {{19}, {197}},\n            {{16.5}, {198}},\n            {{20.3}, {191}},\n            {{17.7}, {193}},\n            {{19.5}, {197}},\n            {{20.7}, {191}},\n            {{18.3}, {196}},\n            {{17}, {188}},\n            {{20.5}, {199}},\n            {{17}, {189}},\n            {{18.6}, {189}},\n            {{17.2}, {187}},\n            {{19.8}, {198}},\n            {{17}, {176}},\n            {{18.5}, {202}},\n            {{15.9}, {186}},\n            {{19}, {199}},\n            {{17.6}, {191}},\n            {{18.3}, {195}},\n            {{17.1}, {191}},\n            {{18}, {210}}\n        };\n        \n        INDArray input = Nd4j.create(test);\n        \n        return input;\n    }\n</code></pre>\n"},{"tags":["java","json","jsonschema","json-schema-validator"],"answers":[{"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509085210,"creation_date":1509084528,"answer_id":46968506,"question_id":46968457,"body_markdown":"I assume your `json` is in a String variable named `var`.\r\nuse `org.json` for the below code.\r\n\r\n    JSONObject jObj=new JSONObject(var);\r\n    ArrayList arr=new ArrayList();\r\n    \r\n    for (Object keyObj: jObj.keySet())\r\n    {\r\n        String key = (String)keyObject;\r\n        arr.add(key);        \r\n    }\r\n\r\nThat&#39;s it. \r\n\r\nI have added maven dependency for `org.json` package for those who are working with maven!\r\n\r\n    &lt;dependency&gt;  \r\n    \t&lt;groupId&gt;org.json&lt;/groupId&gt;  \r\n    \t&lt;artifactId&gt;json&lt;/artifactId&gt;  \r\n    \t&lt;version&gt;20160810&lt;/version&gt; \r\n    &lt;/dependency&gt; ","title":"Java - How to get all the field names from JSON Schema","body":"<p>I assume your <code>json</code> is in a String variable named <code>var</code>.\nuse <code>org.json</code> for the below code.</p>\n\n<pre><code>JSONObject jObj=new JSONObject(var);\nArrayList arr=new ArrayList();\n\nfor (Object keyObj: jObj.keySet())\n{\n    String key = (String)keyObject;\n    arr.add(key);        \n}\n</code></pre>\n\n<p>That's it. </p>\n\n<p>I have added maven dependency for <code>org.json</code> package for those who are working with maven!</p>\n\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.json&lt;/groupId&gt;  \n    &lt;artifactId&gt;json&lt;/artifactId&gt;  \n    &lt;version&gt;20160810&lt;/version&gt; \n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9224505,"reputation":8167,"user_id":6852729,"display_name":"KeLiuyue"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1509085034,"creation_date":1509085034,"answer_id":46968613,"question_id":46968457,"body_markdown":"1.convert to `JSONObject`\r\n\r\n2.save in `List`\r\n\r\n3.convert `List` to `Array`\r\n\r\ntry this .\r\n\r\n    public void getKey(String response) {\r\n        List&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(response);\r\n            JSONObject schema = jsonObject.getJSONObject(&quot;schema&quot;);\r\n            JSONObject properties = schema.getJSONObject(&quot;properties&quot;);\r\n            Iterator iterator = properties.keys();\r\n            while (iterator.hasNext()) {\r\n                String key = iterator.next().toString();\r\n                keyList.add(key);\r\n            }\r\n            String[] arr = (String[]) keyList.toArray(new String[keyList.size()]);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Java - How to get all the field names from JSON Schema","body":"<p>1.convert to <code>JSONObject</code></p>\n\n<p>2.save in <code>List</code></p>\n\n<p>3.convert <code>List</code> to <code>Array</code></p>\n\n<p>try this .</p>\n\n<pre><code>public void getKey(String response) {\n    List&lt;String&gt; keyList = new ArrayList&lt;String&gt;();\n    try {\n        JSONObject jsonObject = new JSONObject(response);\n        JSONObject schema = jsonObject.getJSONObject(\"schema\");\n        JSONObject properties = schema.getJSONObject(\"properties\");\n        Iterator iterator = properties.keys();\n        while (iterator.hasNext()) {\n            String key = iterator.next().toString();\n            keyList.add(key);\n        }\n        String[] arr = (String[]) keyList.toArray(new String[keyList.size()]);\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21089810,"reputation":61,"user_id":15501992,"display_name":"RulleR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675105322,"creation_date":1675105322,"answer_id":75288966,"question_id":46968457,"body_markdown":"Recursive solution that will work with nested objects\r\n\r\n    public Set&lt;String&gt; getMetadataSchemaFields(JsonNode metadataSchema) {\r\n        if (metadataSchema.has(&quot;properties&quot;)) {\r\n            val fields = new HashSet&lt;String&gt;();\r\n            metadataSchema.get(&quot;properties&quot;).fields().forEachRemaining(entry -&gt; {\r\n                val nodeFields = getMetadataSchemaFields(entry.getValue());\r\n                if (nodeFields.isEmpty()) {\r\n                    fields.add(entry.getKey());\r\n                } else {\r\n                    nodeFields.forEach(nodeField -&gt; fields.add(entry.getKey() + &quot;/&quot; + nodeField));\r\n                }\r\n            });\r\n            return fields;\r\n        } else {\r\n            return Set.of();\r\n        }\r\n    }","title":"Java - How to get all the field names from JSON Schema","body":"<p>Recursive solution that will work with nested objects</p>\n<pre><code>public Set&lt;String&gt; getMetadataSchemaFields(JsonNode metadataSchema) {\n    if (metadataSchema.has(&quot;properties&quot;)) {\n        val fields = new HashSet&lt;String&gt;();\n        metadataSchema.get(&quot;properties&quot;).fields().forEachRemaining(entry -&gt; {\n            val nodeFields = getMetadataSchemaFields(entry.getValue());\n            if (nodeFields.isEmpty()) {\n                fields.add(entry.getKey());\n            } else {\n                nodeFields.forEach(nodeField -&gt; fields.add(entry.getKey() + &quot;/&quot; + nodeField));\n            }\n        });\n        return fields;\n    } else {\n        return Set.of();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2476517,"reputation":117,"user_id":2157055,"accept_rate":44,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46968613,"answer_count":3,"score":0,"last_activity_date":1675105322,"creation_date":1509084291,"question_id":46968457,"body_markdown":"    {\r\n        &quot;type&quot;: &quot;TestType&quot;,\r\n        &quot;schema&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n                &quot;field1&quot;: {\r\n                    &quot;format&quot;: &quot;date&quot;,\r\n                    &quot;label&quot;: &quot;field 1&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;field2&quot;: {\r\n                    &quot;format&quot;: &quot;date&quot;,\r\n                    &quot;label&quot;: &quot;field 2&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;required&quot;: [],\r\n            &quot;additionalProperties&quot;: false\r\n        }\r\n    }\r\n\r\nHi Guys, I am new to JSON Schema, I just want to know how to define the Java model to mapping above JSON Schema, I want to get all the field name from the definition.\r\n\r\nSo it means that I want to parse the JSON Schema and return like this:\r\n\r\n    [field1, field2]\r\nNote that the field list is automatic, may add more fields into the JSON Schema, field3, field4 ...","title":"Java - How to get all the field names from JSON Schema","body":"<pre><code>{\n    \"type\": \"TestType\",\n    \"schema\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"field1\": {\n                \"format\": \"date\",\n                \"label\": \"field 1\",\n                \"type\": \"string\"\n            },\n            \"field2\": {\n                \"format\": \"date\",\n                \"label\": \"field 2\",\n                \"type\": \"string\"\n            }\n        },\n        \"required\": [],\n        \"additionalProperties\": false\n    }\n}\n</code></pre>\n\n<p>Hi Guys, I am new to JSON Schema, I just want to know how to define the Java model to mapping above JSON Schema, I want to get all the field name from the definition.</p>\n\n<p>So it means that I want to parse the JSON Schema and return like this:</p>\n\n<pre><code>[field1, field2]\n</code></pre>\n\n<p>Note that the field list is automatic, may add more fields into the JSON Schema, field3, field4 ...</p>\n"},{"tags":["java","spring","webclient","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1590444489,"creation_date":1556686595,"answer_id":55931789,"question_id":55923326,"body_markdown":"Yes, it is possible.\r\n\r\n`Mono` has two concepts for re-subscribing (and thus, re-triggering the request)\r\n\r\n* _retry_ = re-subscribe if the upstream completed with an exception\r\n* _repeat_ = re-subscribe if the upstream completed successfully\r\n\r\nEach concept has multiple overloaded methods on `Mono` for different use cases.  Look for the `retry*` and `repeat*` methods.\r\nFor example, to retry a maximum number of times with no delay, use `retry(int numRetries)`.\r\n\r\nMore complex use cases are supported via the `retryWhen` and `repeatWhen` methods, as shown in the following examples.\r\n\r\n### retryWhen\r\n\r\nTo retry if the mono completed with an exception a maximum of 5 times with 5 seconds between each attempt:\r\n\r\n```java\r\n// From reactor-core &gt;= v3.3.4.RELEASE\r\nimport reactor.util.retry.Retry;\r\n\r\nthis.webClient\r\n        .post()\r\n        .uri(SERVICE_URL)\r\n        .body(BodyInserters.fromValue(docRequest))\r\n        .retrieve()\r\n        .bodyToMono(Document.class)\r\n        .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\r\n        .delaySubscription(Duration.ofSeconds(10))\r\n\r\n```\r\n\r\nThe retry builder supports other backoff strategies (e.g. exponential) and other options to fully customize retries.\r\n\r\nNote the `retryWhen(Retry)` method used above was added in reactor-core v3.3.4.RELEASE, and the `retryWhen(Function)` method was deprecated.\r\nPrior to reactor-core v3.3.4.RELEASE, you could use the retry function builder from [reactor-extras][1] project to create a `Function` to pass to `retryWhen(Function)`.\r\n\r\n\r\n### repeatWhen\r\n\r\nIf you need to repeat on success, then use `.repeatWhen` or `.repeatWhenEmpty` instead of `.retryWhen` above.\r\n\r\nUse the repeat function builder from [reactor-extras][1] project to create the repeat `Function` as follows:\r\n\r\n```\r\n// From reactor-extras\r\nimport reactor.retry.Repeat;\r\n\r\nthis.webClient\r\n        .post()\r\n        .uri(SERVICE_URL)\r\n        .body(BodyInserters.fromValue(docRequest))\r\n        .retrieve()\r\n        .bodyToMono(Document.class)\r\n        .filter(document -&gt; !document.isEmpty())\r\n        .repeatWhenEmpty(Repeat.onlyIf(repeatContext -&gt; true)\r\n                .exponentialBackoff(Duration.ofSeconds(5), Duration.ofSeconds(10))\r\n                .timeout(Duration.ofSeconds(30)))\r\n        .delaySubscription(Duration.ofSeconds(10))\r\n```\r\n\r\nYou can also chain a `.retry*` with a `.repeat*` if you want to re-subscribe on both success or failure.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry","title":"Conditional repeat or retry on Mono with webclient from Spring WebFlux","body":"<p>Yes, it is possible.</p>\n\n<p><code>Mono</code> has two concepts for re-subscribing (and thus, re-triggering the request)</p>\n\n<ul>\n<li><em>retry</em> = re-subscribe if the upstream completed with an exception</li>\n<li><em>repeat</em> = re-subscribe if the upstream completed successfully</li>\n</ul>\n\n<p>Each concept has multiple overloaded methods on <code>Mono</code> for different use cases.  Look for the <code>retry*</code> and <code>repeat*</code> methods.\nFor example, to retry a maximum number of times with no delay, use <code>retry(int numRetries)</code>.</p>\n\n<p>More complex use cases are supported via the <code>retryWhen</code> and <code>repeatWhen</code> methods, as shown in the following examples.</p>\n\n<h3>retryWhen</h3>\n\n<p>To retry if the mono completed with an exception a maximum of 5 times with 5 seconds between each attempt:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// From reactor-core &gt;= v3.3.4.RELEASE\nimport reactor.util.retry.Retry;\n\nthis.webClient\n        .post()\n        .uri(SERVICE_URL)\n        .body(BodyInserters.fromValue(docRequest))\n        .retrieve()\n        .bodyToMono(Document.class)\n        .retryWhen(Retry.fixedDelay(5, Duration.ofSeconds(5)))\n        .delaySubscription(Duration.ofSeconds(10))\n\n</code></pre>\n\n<p>The retry builder supports other backoff strategies (e.g. exponential) and other options to fully customize retries.</p>\n\n<p>Note the <code>retryWhen(Retry)</code> method used above was added in reactor-core v3.3.4.RELEASE, and the <code>retryWhen(Function)</code> method was deprecated.\nPrior to reactor-core v3.3.4.RELEASE, you could use the retry function builder from <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry\" rel=\"noreferrer\">reactor-extras</a> project to create a <code>Function</code> to pass to <code>retryWhen(Function)</code>.</p>\n\n<h3>repeatWhen</h3>\n\n<p>If you need to repeat on success, then use <code>.repeatWhen</code> or <code>.repeatWhenEmpty</code> instead of <code>.retryWhen</code> above.</p>\n\n<p>Use the repeat function builder from <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-repeat-retry\" rel=\"noreferrer\">reactor-extras</a> project to create the repeat <code>Function</code> as follows:</p>\n\n<pre><code>// From reactor-extras\nimport reactor.retry.Repeat;\n\nthis.webClient\n        .post()\n        .uri(SERVICE_URL)\n        .body(BodyInserters.fromValue(docRequest))\n        .retrieve()\n        .bodyToMono(Document.class)\n        .filter(document -&gt; !document.isEmpty())\n        .repeatWhenEmpty(Repeat.onlyIf(repeatContext -&gt; true)\n                .exponentialBackoff(Duration.ofSeconds(5), Duration.ofSeconds(10))\n                .timeout(Duration.ofSeconds(30)))\n        .delaySubscription(Duration.ofSeconds(10))\n</code></pre>\n\n<p>You can also chain a <code>.retry*</code> with a <code>.repeat*</code> if you want to re-subscribe on both success or failure.</p>\n"}],"owner":{"account_id":15845759,"reputation":568,"user_id":11433112,"display_name":"Bernado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34170,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":55931789,"answer_count":1,"score":22,"last_activity_date":1675104849,"creation_date":1556635147,"question_id":55923326,"body_markdown":"I want implement a **conditional repeat** on a `Mono` in WebFlux with `WebClient`. The situation is the following:\r\n\r\nWe have a rest service service that returns a generated document. The generation of this document is triggered from another service that gets called before this one. The document generation service needs between 10-30 seconds. \r\n\r\nWe want to check after 10 seconds if document (`Mono&lt;Document&gt;`) is generated. If so, all is fine. If not, repeat (or retry) after another 5 seconds and check if document is generated. And so on until (worst case) a timeout after 30 seconds.\r\n\r\nIs this possible? Some (pseudo) code:\r\n\r\n``` lang-java\r\nreturn this.webClient\r\n    .post()\r\n    .uri(SERVICE_URL))\r\n    .body(BodyInserters.fromObject(docRequest))\r\n    .retrieve()\r\n    .bodyToMono(Document.class)\r\n    .delaySubscription(Duration.ofSeconds(10))\r\n    .repeat5TimesWithDynamicTimeDelayUntil(!document.isEmpty())\r\n    .subscribe();\r\n```\r\n","title":"Conditional repeat or retry on Mono with webclient from Spring WebFlux","body":"<p>I want implement a <strong>conditional repeat</strong> on a <code>Mono</code> in WebFlux with <code>WebClient</code>. The situation is the following:</p>\n<p>We have a rest service service that returns a generated document. The generation of this document is triggered from another service that gets called before this one. The document generation service needs between 10-30 seconds.</p>\n<p>We want to check after 10 seconds if document (<code>Mono&lt;Document&gt;</code>) is generated. If so, all is fine. If not, repeat (or retry) after another 5 seconds and check if document is generated. And so on until (worst case) a timeout after 30 seconds.</p>\n<p>Is this possible? Some (pseudo) code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return this.webClient\n    .post()\n    .uri(SERVICE_URL))\n    .body(BodyInserters.fromObject(docRequest))\n    .retrieve()\n    .bodyToMono(Document.class)\n    .delaySubscription(Duration.ofSeconds(10))\n    .repeat5TimesWithDynamicTimeDelayUntil(!document.isEmpty())\n    .subscribe();\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":2,"creation_date":1675113119,"post_id":75288868,"comment_id":132855197,"body_markdown":"Check this https://jda.wiki/using-jda/interactions/#handling-autocomplete You&#39;ll have to implement the actual completion logic yourself.","body":"Check this <a href=\"https://jda.wiki/using-jda/interactions/#handling-autocomplete\" rel=\"nofollow noreferrer\">jda.wiki/using-jda/interactions/#handling-autocomplete</a> You&#39;ll have to implement the actual completion logic yourself."},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1675118835,"post_id":75288868,"comment_id":132856601,"body_markdown":"Super helpful, thanks! Also the website is amazing &lt;3","body":"Super helpful, thanks! Also the website is amazing &lt;3"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675104699,"creation_date":1675104699,"question_id":75288868,"body_markdown":"I want the user to be able to auto complete the **finishDate** value with *&quot;MM/dd/yyyy HH&quot;*\r\nBut i cannot find it anywhere on how to set it up.\r\n\r\nThis is what the command looks like rn:\r\n\r\n    jda.getGuildById(guild.getId()).upsertCommand(&quot;lottery&quot;, &quot;Creates a lottery in the current or selected channel.&quot;)\r\n         .addOption(OptionType.STRING, &quot;reward&quot;, &quot;The reward for the lottey winners&quot;, true)\r\n         .addOption(OptionType.STRING, &quot;finishDate&quot;, &quot;Use format MM/dd/yyyy HH&quot;, true, true);\r\n\r\n\r\n\r\n","title":"How does autoComplete work with Options for commands?","body":"<p>I want the user to be able to auto complete the <strong>finishDate</strong> value with <em>&quot;MM/dd/yyyy HH&quot;</em>\nBut i cannot find it anywhere on how to set it up.</p>\n<p>This is what the command looks like rn:</p>\n<pre><code>jda.getGuildById(guild.getId()).upsertCommand(&quot;lottery&quot;, &quot;Creates a lottery in the current or selected channel.&quot;)\n     .addOption(OptionType.STRING, &quot;reward&quot;, &quot;The reward for the lottey winners&quot;, true)\n     .addOption(OptionType.STRING, &quot;finishDate&quot;, &quot;Use format MM/dd/yyyy HH&quot;, true, true);\n</code></pre>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1675094008,"post_id":75285498,"comment_id":132849265,"body_markdown":"What do you mean by &quot;go to the IP address in Chrome or Edge&quot;? Do you use the JavaScript websocket API?","body":"What do you mean by &quot;go to the IP address in Chrome or Edge&quot;? Do you use the JavaScript websocket API?"},{"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"score":0,"creation_date":1675094112,"post_id":75285498,"comment_id":132849312,"body_markdown":"@vanje No, I&#39;m just typing in the IP address from a new tab.  My goal is to be able to send over a js file initially that uses the API to handle the connection from the client side.","body":"@vanje No, I&#39;m just typing in the IP address from a new tab.  My goal is to be able to send over a js file initially that uses the API to handle the connection from the client side."}],"answers":[{"tags":[],"owner":{"account_id":15452760,"reputation":387,"user_id":11147707,"display_name":"Iziminza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675104652,"creation_date":1675103827,"answer_id":75288723,"question_id":75285498,"body_markdown":"In addition to your Java WebSocket server, you need an HTML page that connects to your server via the [JavaScript WebSocket API][1], like this:\r\n\r\n    &lt;!-- ... --&gt;\r\n    &lt;script&gt;\r\n    try {\r\n        socket = new WebSocket(host);\r\n        socket.onopen = function(openEvent) {\r\n            // ...\r\n        };\r\n\r\n        socket.onmessage = function (messageEvent) {\r\n            if (messageEvent.data instanceof Blob) {\r\n                // ...\r\n            } else {\r\n                alert(messageEvent.data);\r\n            }\r\n        };\r\n\r\n        socket.onerror = function (errorEvent) {\r\n            // ...\r\n        };\r\n\r\n        socket.onclose = function (errorEvent) {\r\n            // ...\r\n        };\r\n    } catch (exception) {\r\n        if (window.console) console.log(exception);\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;!-- ... --&gt;\r\n\r\nThen, you open that HTML page in your browser and it connects to your WebSocket server.\r\n\r\nSources: [here][2] or further down in [this answer to another question][3].\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\r\n  [2]: https://iditect.com/article/websocket-for-java.html\r\n  [3]: https://stackoverflow.com/a/57924245/11147707","title":"Java Websocket Client Not Including Key in Response","body":"<p>In addition to your Java WebSocket server, you need an HTML page that connects to your server via the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\" rel=\"nofollow noreferrer\">JavaScript WebSocket API</a>, like this:</p>\n<pre><code>&lt;!-- ... --&gt;\n&lt;script&gt;\ntry {\n    socket = new WebSocket(host);\n    socket.onopen = function(openEvent) {\n        // ...\n    };\n\n    socket.onmessage = function (messageEvent) {\n        if (messageEvent.data instanceof Blob) {\n            // ...\n        } else {\n            alert(messageEvent.data);\n        }\n    };\n\n    socket.onerror = function (errorEvent) {\n        // ...\n    };\n\n    socket.onclose = function (errorEvent) {\n        // ...\n    };\n} catch (exception) {\n    if (window.console) console.log(exception);\n}\n&lt;/script&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p>Then, you open that HTML page in your browser and it connects to your WebSocket server.</p>\n<p>Sources: <a href=\"https://iditect.com/article/websocket-for-java.html\" rel=\"nofollow noreferrer\">here</a> or further down in <a href=\"https://stackoverflow.com/a/57924245/11147707\">this answer to another question</a>.</p>\n"}],"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75288723,"answer_count":1,"score":0,"last_activity_date":1675104652,"creation_date":1675087339,"question_id":75285498,"body_markdown":"I am trying to make a websocket server in Java.  When I start the server and go to the IP address in Chrome or Edge, the browser sends this to the server: \r\n\r\n~~~\r\nGET / HTTP/1.1\r\nHost: 127.0.0.1:5801\r\nConnection: keep-alive\r\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nDNT: 1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.70\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nSec-Fetch-Site: none\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-User: ?1\r\nSec-Fetch-Dest: document\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-US,en;q=0.9\r\n~~~\r\n\r\nIt&#39;s not including ```Sec-Websocket-Key```, which I need to upgrade the connection.  Is there a way to request a websocket connection from the server?","title":"Java Websocket Client Not Including Key in Response","body":"<p>I am trying to make a websocket server in Java.  When I start the server and go to the IP address in Chrome or Edge, the browser sends this to the server:</p>\n<pre><code>GET / HTTP/1.1\nHost: 127.0.0.1:5801\nConnection: keep-alive\nsec-ch-ua: &quot;Not_A Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;109&quot;, &quot;Chromium&quot;;v=&quot;109&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nDNT: 1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.70\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nSec-Fetch-Site: none\nSec-Fetch-Mode: navigate\nSec-Fetch-User: ?1\nSec-Fetch-Dest: document\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9\n</code></pre>\n<p>It's not including <code>Sec-Websocket-Key</code>, which I need to upgrade the connection.  Is there a way to request a websocket connection from the server?</p>\n"},{"tags":["java","android","date","formatting"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100163,"post_id":75288076,"comment_id":132851467,"body_markdown":"Did you try `DateFormat.FULL`?  The `LONG` format doesn&#39;t generally include the day of the week.","body":"Did you try <code>DateFormat.FULL</code>?  The <code>LONG</code> format doesn&#39;t generally include the day of the week."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100584,"post_id":75288076,"comment_id":132851593,"body_markdown":"Consider not using `DateFormat` and other date and time classes from the mid-1990s. `DateFormat` is notoriously troublesome, and all those classes are long outdated. See if you can use [desugaring](https://developer.android.com/studio/write/java8-support) to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). You wan classes `LocalDate`, `DateTimeFormatter` and `FormatStyle`.","body":"Consider not using <code>DateFormat</code> and other date and time classes from the mid-1990s. <code>DateFormat</code> is notoriously troublesome, and all those classes are long outdated. See if you can use <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a> to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. You wan classes <code>LocalDate</code>, <code>DateTimeFormatter</code> and <code>FormatStyle</code>."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1675100632,"post_id":75288076,"comment_id":132851608,"body_markdown":"Your problem is in architecture.  Nothing should be sending the date as a text string like that.  It should be sending it as an integer (from a predefined time, generally the epoch) or it should be sending it in a predefined format without words, and formatting it on the client side when displayed.","body":"Your problem is in architecture.  Nothing should be sending the date as a text string like that.  It should be sending it as an integer (from a predefined time, generally the epoch) or it should be sending it in a predefined format without words, and formatting it on the client side when displayed."},{"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"score":0,"creation_date":1675100641,"post_id":75288076,"comment_id":132851612,"body_markdown":"@DawoodibnKareem I just tried using FULL instead of LONG, and it appears to work for English and Spanish so far - I&#39;m going to try implementing it at this point, but it seems like changing it to DateFormat.FULL worked.","body":"@DawoodibnKareem I just tried using FULL instead of LONG, and it appears to work for English and Spanish so far - I&#39;m going to try implementing it at this point, but it seems like changing it to DateFormat.FULL worked."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100710,"post_id":75288076,"comment_id":132851631,"body_markdown":"@OleV.V. Are you sure the java.time classes include something equivalent to `DateFormat.FULL` or `DateFormat.LONG`?  I&#39;ve certainly never seen anything that would work for this.","body":"@OleV.V. Are you sure the java.time classes include something equivalent to <code>DateFormat.FULL</code> or <code>DateFormat.LONG</code>?  I&#39;ve certainly never seen anything that would work for this."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100719,"post_id":75288076,"comment_id":132851633,"body_markdown":"@GabeSechan is very, very correct. Have the sender send the date in ISO 8601 standard[](https://en.wikipedia.org/wiki/ISO_8601) format. It goes like `2023-01-30`.","body":"@GabeSechan is very, very correct. Have the sender send the date in ISO 8601 standard[](<a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_8601</a>) format. It goes like <code>2023-01-30</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100788,"post_id":75288076,"comment_id":132851658,"body_markdown":"Yes, @DawoodibnKareem, [I am in no doubt whatsoever](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/FormatStyle.html).","body":"Yes, @DawoodibnKareem, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\">I am in no doubt whatsoever</a>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675100830,"post_id":75288076,"comment_id":132851677,"body_markdown":"Thank you, @OleV.V., I had never seen that Enum before.","body":"Thank you, @OleV.V., I had never seen that Enum before."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675100915,"post_id":75288076,"comment_id":132851705,"body_markdown":"For example `LocalDate.parse(&quot;lundi 30 janvier 2023&quot;, DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLocale(Locale.FRENCH))` yields `2023-01-30`. Also @DawoodibnKareem","body":"For example <code>LocalDate.parse(&quot;lundi 30 janvier 2023&quot;, DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL).withLoca&zwnj;&#8203;le(Locale.FRENCH))</code> yields <code>2023-01-30</code>. Also @DawoodibnKareem"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675101628,"post_id":75288076,"comment_id":132851920,"body_markdown":"A further reason for wanting the `LocalDate` class that you also mention in the question is that counting days is so straightforward: `ChronoUnit.DAYS.between(today, dateFromUser)`.","body":"A further reason for wanting the <code>LocalDate</code> class that you also mention in the question is that counting days is so straightforward: <code>ChronoUnit.DAYS.between(today, dateFromUser)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675109519,"post_id":75288076,"comment_id":132854205,"body_markdown":"Usage: I think you mean *parse*, that is, convert from string to a date-time object, not *format*, which would be the opposite conversion. I might even suspect that Wijdane KHATTAT misunderstood when answering because you said the opposite of what you meant.","body":"Usage: I think you mean <i>parse</i>, that is, convert from string to a date-time object, not <i>format</i>, which would be the opposite conversion. I might even suspect that Wijdane KHATTAT misunderstood when answering because you said the opposite of what you meant."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675115733,"post_id":75288076,"comment_id":132855885,"body_markdown":"FYI, you should not be exchanging date-time values as localized text. Use the standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats for textual data exchange and data storage.","body":"FYI, you should not be exchanging date-time values as localized text. Use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for textual data exchange and data storage."}],"answers":[{"tags":[],"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675104414,"creation_date":1675104414,"answer_id":75288822,"question_id":75288076,"body_markdown":"You must to configure your dates patterns for each language (Locale) =&gt; This output is exactly what you want, try to adapt it with your function need :\r\n\r\n    public static void main(String[] args) {\r\n            Locale enLocale = Locale.UK;\r\n            String datePatternForEn = &quot;EEEE&#39;, &#39;MMMM&#39;, &#39;dd yyyy&quot;;\r\n            Locale frLocale = Locale.FRANCE;\r\n            String datePatternForFr = &quot;EEEE dd MMMM yyyy&quot;;\r\n            Locale spLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n            String datePatternForSp = &quot;EEEE&#39;,&#39; dd&#39; de &#39;MMMM&#39; de &#39;yyyy&quot;;\r\n            DateTimeFormatter englishDateFormat = DateTimeFormatter.ofPattern(datePatternForEn, enLocale);\r\n            DateTimeFormatter frenchDateFormat = DateTimeFormatter.ofPattern(datePatternForFr, frLocale);\r\n            DateTimeFormatter spanishDateFormat = DateTimeFormatter.ofPattern(datePatternForSp, spLocale);\r\n            System.out.println(LocalDate.now().format(englishDateFormat));\r\n            System.out.println(LocalDate.now().format(frenchDateFormat));\r\n            System.out.println(LocalDate.now().format(spanishDateFormat));\r\n        }","title":"How would I format dates of different languages to get the difference between the current day and a day in the future?","body":"<p>You must to configure your dates patterns for each language (Locale) =&gt; This output is exactly what you want, try to adapt it with your function need :</p>\n<pre><code>public static void main(String[] args) {\n        Locale enLocale = Locale.UK;\n        String datePatternForEn = &quot;EEEE', 'MMMM', 'dd yyyy&quot;;\n        Locale frLocale = Locale.FRANCE;\n        String datePatternForFr = &quot;EEEE dd MMMM yyyy&quot;;\n        Locale spLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\n        String datePatternForSp = &quot;EEEE',' dd' de 'MMMM' de 'yyyy&quot;;\n        DateTimeFormatter englishDateFormat = DateTimeFormatter.ofPattern(datePatternForEn, enLocale);\n        DateTimeFormatter frenchDateFormat = DateTimeFormatter.ofPattern(datePatternForFr, frLocale);\n        DateTimeFormatter spanishDateFormat = DateTimeFormatter.ofPattern(datePatternForSp, spLocale);\n        System.out.println(LocalDate.now().format(englishDateFormat));\n        System.out.println(LocalDate.now().format(frenchDateFormat));\n        System.out.println(LocalDate.now().format(spanishDateFormat));\n    }\n</code></pre>\n"}],"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675104414,"creation_date":1675099955,"question_id":75288076,"body_markdown":"So the goal is to be able to get the current date (no problem there) and compare it to a date coming in, which can be either the current date or a date in the future. Not only that, but because of how other languages write out or structure dates, the date string that comes in can change format-wise depending on the language.\r\n\r\nIf the device is set to English, the string comes in like so:\r\n\r\n**&quot;Monday, January 30, 2023&quot;**\r\n\r\nBut if the device is set to French, the string looks like this instead:\r\n\r\n**&quot;lundi 30 janvier 2023&quot;**\r\n\r\n... and Spanish like this:\r\n\r\n**&quot;lunes, 30 de enero de 2023&quot;**\r\n\r\n... and so on. Italian is slightly different, and I&#39;ve also tried German, which is also slightly different.\r\n\r\nI did try DateFormat with DateFormat.LONG and Locale.getDefault() as the parameters (so that it would always use the Locale the device is set to and will always get the full date) but it throws an &quot;unparsable date&quot; error for every language, even the English string.\r\n\r\nHow would I take any of the given strings above and format them in a way that I can compare the date to the current date (a value like LocalDate.now())? Is there an overarching way to do so across languages, or do I need to create formats for all of these? The purpose is to see how far out the date asked for is from the current date to adjust what is visible in my app (done based on days - is the asked for date 3 days out from the current date? 4 days? 5?). \r\n\r\nThanks in advance for any and all help and insight!","title":"How would I format dates of different languages to get the difference between the current day and a day in the future?","body":"<p>So the goal is to be able to get the current date (no problem there) and compare it to a date coming in, which can be either the current date or a date in the future. Not only that, but because of how other languages write out or structure dates, the date string that comes in can change format-wise depending on the language.</p>\n<p>If the device is set to English, the string comes in like so:</p>\n<p><strong>&quot;Monday, January 30, 2023&quot;</strong></p>\n<p>But if the device is set to French, the string looks like this instead:</p>\n<p><strong>&quot;lundi 30 janvier 2023&quot;</strong></p>\n<p>... and Spanish like this:</p>\n<p><strong>&quot;lunes, 30 de enero de 2023&quot;</strong></p>\n<p>... and so on. Italian is slightly different, and I've also tried German, which is also slightly different.</p>\n<p>I did try DateFormat with DateFormat.LONG and Locale.getDefault() as the parameters (so that it would always use the Locale the device is set to and will always get the full date) but it throws an &quot;unparsable date&quot; error for every language, even the English string.</p>\n<p>How would I take any of the given strings above and format them in a way that I can compare the date to the current date (a value like LocalDate.now())? Is there an overarching way to do so across languages, or do I need to create formats for all of these? The purpose is to see how far out the date asked for is from the current date to adjust what is visible in my app (done based on days - is the asked for date 3 days out from the current date? 4 days? 5?).</p>\n<p>Thanks in advance for any and all help and insight!</p>\n"},{"tags":["java","discord","illegalstateexception","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675103981,"creation_date":1675103981,"answer_id":75288749,"question_id":75172314,"body_markdown":" 1. The **channel** is not declared properly. It does not have a type... In this case you should use either `TextChannel channel = (whatever)` or `Channel channel = (whatever)`\r\n 2. You get the error message because **channel** is not within the scope of\r\n `onMessageReceived()` You need to learn about scopes.\r\n 3. The `onReady()` will have no use in this case. Just as i mentioned before... Because of scopes.\r\n\r\nHere is what your code should look like:\r\n\r\n        @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n        if(event.isFromType(ChannelType.PRIVATE)){\r\n            TextChannel textChannel = event.getJDA().getGuildById(&quot;1046510699809079448&quot;).getTextChannelById(&quot;1046510701184831540&quot;);\r\n            textChannel.sendMessage(event.getMessage().getContentRaw()).queue();\r\n        }\r\n\r\nYou need to get the **TextChannel** from a **Guild** by using their ID&#39;s.\r\nThen you can get the message that was sent to the bot, by using **event.getMessage()** and getting its content via **.getContentRaw()**\r\nand send it using **textChannel.sendMessage().queue()**","title":"Transfer messages from direct message to specific channel using Java Discord API","body":"<ol>\n<li>The <strong>channel</strong> is not declared properly. It does not have a type... In this case you should use either <code>TextChannel channel = (whatever)</code> or <code>Channel channel = (whatever)</code></li>\n<li>You get the error message because <strong>channel</strong> is not within the scope of\n<code>onMessageReceived()</code> You need to learn about scopes.</li>\n<li>The <code>onReady()</code> will have no use in this case. Just as i mentioned before... Because of scopes.</li>\n</ol>\n<p>Here is what your code should look like:</p>\n<pre><code>    @Override\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\n    if(event.isFromType(ChannelType.PRIVATE)){\n        TextChannel textChannel = event.getJDA().getGuildById(&quot;1046510699809079448&quot;).getTextChannelById(&quot;1046510701184831540&quot;);\n        textChannel.sendMessage(event.getMessage().getContentRaw()).queue();\n    }\n</code></pre>\n<p>You need to get the <strong>TextChannel</strong> from a <strong>Guild</strong> by using their ID's.\nThen you can get the message that was sent to the bot, by using <strong>event.getMessage()</strong> and getting its content via <strong>.getContentRaw()</strong>\nand send it using <strong>textChannel.sendMessage().queue()</strong></p>\n"}],"owner":{"account_id":22562352,"reputation":35,"user_id":16749841,"display_name":"Alex Cai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675103981,"creation_date":1674131676,"question_id":75172314,"body_markdown":"I want to make my bot in a server channel to say whatever an user dm it.\r\n```java\r\npublic class PrivateMessage extends ListenerAdapter\r\n{\r\n    private TextChannel channel;\r\n\r\n    @Override\r\n    public void onReady(@NotNull ReadyEvent event)\r\n    {\r\n        channel = event.getJDA().getChannelById(TextChannel.class, 962688156942073887L);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent event)\r\n    {\r\n        if (event.isFromType(ChannelType.PRIVATE))\r\n            channel.sendMessage(MessageCreateData.fromMessage(event.getMessage())).queue();\r\n    }\r\n}\r\n```\r\nAt first it was working properly, until I dm it an image.\r\n```\r\njava.lang.IllegalStateException: Cannot build an empty message. You need at least one of content, embeds, components, or files\r\n```\r\nHow can I fix this?","title":"Transfer messages from direct message to specific channel using Java Discord API","body":"<p>I want to make my bot in a server channel to say whatever an user dm it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrivateMessage extends ListenerAdapter\n{\n    private TextChannel channel;\n\n    @Override\n    public void onReady(@NotNull ReadyEvent event)\n    {\n        channel = event.getJDA().getChannelById(TextChannel.class, 962688156942073887L);\n    }\n\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent event)\n    {\n        if (event.isFromType(ChannelType.PRIVATE))\n            channel.sendMessage(MessageCreateData.fromMessage(event.getMessage())).queue();\n    }\n}\n</code></pre>\n<p>At first it was working properly, until I dm it an image.</p>\n<pre><code>java.lang.IllegalStateException: Cannot build an empty message. You need at least one of content, embeds, components, or files\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","android","seekbar"],"comments":[{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1558626230,"post_id":45329174,"comment_id":99171730,"body_markdown":"To change in layout see https://stackoverflow.com/questions/16163215/android-styling-seek-bar.","body":"To change in layout see <a href=\"https://stackoverflow.com/questions/16163215/android-styling-seek-bar\" title=\"android styling seek bar\">stackoverflow.com/questions/16163215/android-styling-seek-ba&zwnj;&#8203;r</a>."}],"answers":[{"tags":[],"owner":{"account_id":8700106,"reputation":1366,"user_id":6510301,"accept_rate":78,"display_name":"Anmol317"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501077923,"creation_date":1501077861,"answer_id":45329270,"question_id":45329174,"body_markdown":"You need to call you seekbar like this\r\n\r\n    SeekBar newSeek = new SeekBar(this, null, R.style.YOUR_NEW_STYLE);\r\n\r\nwhere `YOUR_NEW_STYLE` will define the colors of the `Seekbar` that you want.","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You need to call you seekbar like this</p>\n\n<pre><code>SeekBar newSeek = new SeekBar(this, null, R.style.YOUR_NEW_STYLE);\n</code></pre>\n\n<p>where <code>YOUR_NEW_STYLE</code> will define the colors of the <code>Seekbar</code> that you want.</p>\n"},{"tags":[],"owner":{"account_id":5062380,"reputation":5275,"user_id":4063532,"accept_rate":75,"display_name":"Oussema Aroua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501077982,"creation_date":1501077982,"answer_id":45329332,"question_id":45329174,"body_markdown":"try this :\r\n\r\n    seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.mcolor), PorterDuff.Mode.MULTIPLY);\r\n\r\n","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>try this :</p>\n\n<pre><code>seekBar.getProgressDrawable().setColorFilter(getResources().getColor(R.color.mcolor), PorterDuff.Mode.MULTIPLY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9354171,"reputation":683,"user_id":6942800,"display_name":"Przemyslaw Jablonski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501078123,"creation_date":1501078123,"answer_id":45329393,"question_id":45329174,"body_markdown":"        //seekBar.setBackgroundColor(Color.DKGRAY);\r\n        //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\r\nThere are few Views in Android SDK (ProgressBar is another example) in which you have to change colour using graphical color filters, instead of changing Background / Foreground source colour.\r\n\r\nFind `.setColorFilter()` method, supply your source colour into it with some PorterDuff filter, like `.Mode.MULTIPLY` (depending on what filter mode you like best) and there you go.\r\n\r\nExample:\r\n\r\n    seekBar.setColorFilter(new PorterDuffColorFilter(srcColor,PorterDuff.Mode.MULTIPLY));","title":"how to change SeekBar color in android? (Programmatically)","body":"<pre><code>    //seekBar.setBackgroundColor(Color.DKGRAY);\n    //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\n</code></pre>\n\n<p>There are few Views in Android SDK (ProgressBar is another example) in which you have to change colour using graphical color filters, instead of changing Background / Foreground source colour.</p>\n\n<p>Find <code>.setColorFilter()</code> method, supply your source colour into it with some PorterDuff filter, like <code>.Mode.MULTIPLY</code> (depending on what filter mode you like best) and there you go.</p>\n\n<p>Example:</p>\n\n<pre><code>seekBar.setColorFilter(new PorterDuffColorFilter(srcColor,PorterDuff.Mode.MULTIPLY));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1501081821,"creation_date":1501078208,"answer_id":45329427,"question_id":45329174,"body_markdown":"To change the color of the `Seekbar` thumb, create a new style in `style.xml`\r\n\r\n    &lt;style name=&quot;SeekBarColor&quot;\r\n      parent=&quot;Widget.AppCompat.SeekBar&quot;&gt; \r\n      &lt;item name=&quot;colorAccent&quot;&gt;@color/your_color&lt;/item&gt; \r\n    &lt;/style&gt;\r\n\r\nFinally in the layout:\r\n\r\n    &lt;SeekBar\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:theme=&quot;@style/SeekBarColor&quot; /&gt;\r\n\r\nTo change the `Seekbar` progress color, use this in Java Class.\r\n\r\n    seekBar.getProgressDrawable().setColorFilter(&quot;yourcolor&quot;, PorterDuff.Mode.MULTIPLY);\r\n\r\nBoth these will work for API&gt;16.\r\n\r\n**Edit**\r\n\r\nTo change SeekBar thumb color by Java code.\r\n  \r\n     seekBar.getProgressDrawable().setColorFilter(getResources().getCo‌​lor(R.color.your_color‌​), PorterDuff.Mode.SRC_ATOP);\r\n ","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>To change the color of the <code>Seekbar</code> thumb, create a new style in <code>style.xml</code></p>\n\n<pre><code>&lt;style name=\"SeekBarColor\"\n  parent=\"Widget.AppCompat.SeekBar\"&gt; \n  &lt;item name=\"colorAccent\"&gt;@color/your_color&lt;/item&gt; \n&lt;/style&gt;\n</code></pre>\n\n<p>Finally in the layout:</p>\n\n<pre><code>&lt;SeekBar\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:theme=\"@style/SeekBarColor\" /&gt;\n</code></pre>\n\n<p>To change the <code>Seekbar</code> progress color, use this in Java Class.</p>\n\n<pre><code>seekBar.getProgressDrawable().setColorFilter(\"yourcolor\", PorterDuff.Mode.MULTIPLY);\n</code></pre>\n\n<p>Both these will work for API>16.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>To change SeekBar thumb color by Java code.</p>\n\n<pre><code> seekBar.getProgressDrawable().setColorFilter(getResources().getCo‌​lor(R.color.your_color‌​), PorterDuff.Mode.SRC_ATOP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13321778,"reputation":71,"user_id":9616158,"display_name":"Georges daou"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523212394,"creation_date":1523212394,"answer_id":49721343,"question_id":45329174,"body_markdown":"While using a style is a good idea, it does not provide much flexibility specially if you want to assign the colors programmatically I suggest:\r\n\r\n \r\n   `//for the progress \r\nseekBar.getProgressDrawable().setColorFilter(mThemeColor,PorterDuff.Mode.SRC_ATOP);\r\n//for the thumb handle\r\nseekBar.getThumb().setColorFilter(mThemeColor, PorterDuff.Mode.SRC_ATOP);`","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>While using a style is a good idea, it does not provide much flexibility specially if you want to assign the colors programmatically I suggest:</p>\n\n<p><code>//for the progress \nseekBar.getProgressDrawable().setColorFilter(mThemeColor,PorterDuff.Mode.SRC_ATOP);\n//for the thumb handle\nseekBar.getThumb().setColorFilter(mThemeColor, PorterDuff.Mode.SRC_ATOP);</code></p>\n"},{"tags":[],"owner":{"account_id":2757379,"reputation":557,"user_id":4569915,"display_name":"twenk11k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533367365,"creation_date":1533367365,"answer_id":51683448,"question_id":45329174,"body_markdown":"You can change seekbar thumb and progress colors for programmatically like this:\r\n\r\n       seekBar.getProgressDrawable().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\r\n       seekBar.getThumb().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\r\n      ","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You can change seekbar thumb and progress colors for programmatically like this:</p>\n\n<pre><code>   seekBar.getProgressDrawable().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\n   seekBar.getThumb().setColorFilter(Utils.getAccentColor(this), PorterDuff.Mode.SRC_IN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546077618,"creation_date":1546077618,"answer_id":53968509,"question_id":45329174,"body_markdown":"You can easily change it via code,\r\n\r\nFor example:\r\n\r\n    seekbar.setProgressTintList(ColorStateList.valueOf(Color.parseColor(#000000)));\r\n\r\nor\r\n\r\n    seekbar.setProgressTintList(ColorStateList.valueOf(Color.RED));\r\n\r\nHoping that it will be helpfull for someone in future.","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>You can easily change it via code,</p>\n\n<p>For example:</p>\n\n<pre><code>seekbar.setProgressTintList(ColorStateList.valueOf(Color.parseColor(#000000)));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>seekbar.setProgressTintList(ColorStateList.valueOf(Color.RED));\n</code></pre>\n\n<p>Hoping that it will be helpfull for someone in future.</p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573732940,"creation_date":1573732940,"answer_id":58856347,"question_id":45329174,"body_markdown":"Just a little more peachy answer\r\n\r\n    public static void setSeekBarColor(SeekBar seekBar, int color) {\r\n        seekBar.getProgressDrawable().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\r\n        seekBar.getThumb().setColorFilter(color, PorterDuff.Mode.SRC_ATOP);\r\n    }\r\n","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>Just a little more peachy answer</p>\n\n<pre><code>public static void setSeekBarColor(SeekBar seekBar, int color) {\n    seekBar.getProgressDrawable().setColorFilter(color, PorterDuff.Mode.MULTIPLY);\n    seekBar.getThumb().setColorFilter(color, PorterDuff.Mode.SRC_ATOP);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2559530,"reputation":1322,"user_id":2220839,"accept_rate":33,"display_name":"moyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675103417,"creation_date":1675103417,"answer_id":75288654,"question_id":45329174,"body_markdown":"Kotlin version, and without using deprecated methods:\r\n````\r\nval colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(\r\n    Resources.getSystem().getColor(R.color.your_color, null),\r\n    BlendModeCompat.SRC_ATOP\r\n)\r\n\r\n// SeekBar progress color\r\nseekBar.progressDrawable.colorFilter = colorFilter\r\n// SeekBar thumb handle color\r\nseekBar.thumb.colorFilter = colorFilter\r\n````","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>Kotlin version, and without using deprecated methods:</p>\n<pre><code>val colorFilter = BlendModeColorFilterCompat.createBlendModeColorFilterCompat(\n    Resources.getSystem().getColor(R.color.your_color, null),\n    BlendModeCompat.SRC_ATOP\n)\n\n// SeekBar progress color\nseekBar.progressDrawable.colorFilter = colorFilter\n// SeekBar thumb handle color\nseekBar.thumb.colorFilter = colorFilter\n</code></pre>\n"}],"owner":{"account_id":4017930,"reputation":277,"user_id":3309334,"accept_rate":62,"display_name":"Alpoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22937,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":45329427,"answer_count":9,"score":12,"last_activity_date":1675103417,"creation_date":1501077651,"question_id":45329174,"body_markdown":"I made an equalizer to go with my app but I am not sure how I can change the seekbar&#39;s thumb and progress color. It seems to be pink by default and that doesn&#39;t fit my app&#39;s aesthetics.\r\n\r\n\r\n     SeekBar seekBar = new SeekBar(this);\r\n\r\n            seekBar.setId(i);\r\n\r\n            seekBar.setLayoutParams(layoutParams);\r\n            seekBar.setMax(upperEqualizerBandLevel - lowerEqualizerBandLevel);\r\n\r\n            seekBar.setProgress(mEqualizer.getBandLevel(equalizerBandIndex));\r\n            //seekBar.setBackgroundColor(Color.DKGRAY);\r\n            //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);","title":"how to change SeekBar color in android? (Programmatically)","body":"<p>I made an equalizer to go with my app but I am not sure how I can change the seekbar's thumb and progress color. It seems to be pink by default and that doesn't fit my app's aesthetics.</p>\n\n<pre><code> SeekBar seekBar = new SeekBar(this);\n\n        seekBar.setId(i);\n\n        seekBar.setLayoutParams(layoutParams);\n        seekBar.setMax(upperEqualizerBandLevel - lowerEqualizerBandLevel);\n\n        seekBar.setProgress(mEqualizer.getBandLevel(equalizerBandIndex));\n        //seekBar.setBackgroundColor(Color.DKGRAY);\n        //seekBar.setDrawingCacheBackgroundColor(Color.DKGRAY);\n</code></pre>\n"},{"tags":["java","spring-boot","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675103068,"creation_date":1675103068,"answer_id":75288604,"question_id":75286211,"body_markdown":"Add the following to `application.properties`:\r\n\r\n    logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level ${PID} --- [${spring.application.name}]  [%thread] %logger{36} : %msg%n\r\n    spring.application.name=@project.name@\r\n\r\nSample output:\r\n\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : Starting QualifierApplication using Java 11.0.15 on NB-3HP3HG3 with PID 5340 (C:\\workspaces\\stackoverflow_workspace\\qualifier\\target\\classes started by WilliamsJ in C:\\workspaces\\stackoverflow_workspace\\qualifier)\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] o.s.b.w.e.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\r\n\r\n","title":"Issue arranging SpringBoot console output log","body":"<p>Add the following to <code>application.properties</code>:</p>\n<pre><code>logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level ${PID} --- [${spring.application.name}]  [%thread] %logger{36} : %msg%n\nspring.application.name=@project.name@\n</code></pre>\n<p>Sample output:</p>\n<pre><code>2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : Starting QualifierApplication using Java 11.0.15 on NB-3HP3HG3 with PID 5340 (C:\\workspaces\\stackoverflow_workspace\\qualifier\\target\\classes started by WilliamsJ in C:\\workspaces\\stackoverflow_workspace\\qualifier)\n2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] c.example.demo.QualifierApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-30 18:21:22 INFO  5340 --- [qualifier]  [main] o.s.b.w.e.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75288604,"answer_count":1,"score":0,"last_activity_date":1675103068,"creation_date":1675090912,"question_id":75286211,"body_markdown":"Small question on how to re arrange a SpringBoot application output log please.\r\n\r\nIt is well known, if no configuration change, the logs seen in **console** for a SpringBoot app looks like this:\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00  INFO 5216 --- [           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 DEBUG 5216 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n\r\n```\r\n\r\nIt is a timestamp -&gt; log level -&gt; PID -&gt; --- -&gt; thread -&gt; the class\r\n\r\nI just want to rearrange the order to something like:\r\n\r\ntimestamp -&gt; PID -&gt; log level -&gt; --- -&gt; applicationName -&gt; thread -&gt; the class\r\n\r\nSomething like:\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n\r\n```\r\n\r\nWhat I tried:\r\n\r\nI saw there is a property for that, and I tried:\r\n\r\n```logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]```\r\n\r\nHowever, this is not giving the correct output.\r\n\r\nMay I ask what is the pattern in order to have this please?\r\n\r\n```\r\n2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\r\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n```\r\n\r\nThank you","title":"Issue arranging SpringBoot console output log","body":"<p>Small question on how to re arrange a SpringBoot application output log please.</p>\n<p>It is well known, if no configuration change, the logs seen in <strong>console</strong> for a SpringBoot app looks like this:</p>\n<pre><code>2023-01-30T21:21:06.076+08:00  INFO 5216 --- [           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 DEBUG 5216 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n\n</code></pre>\n<p>It is a timestamp -&gt; log level -&gt; PID -&gt; --- -&gt; thread -&gt; the class</p>\n<p>I just want to rearrange the order to something like:</p>\n<p>timestamp -&gt; PID -&gt; log level -&gt; --- -&gt; applicationName -&gt; thread -&gt; the class</p>\n<p>Something like:</p>\n<pre><code>2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n\n</code></pre>\n<p>What I tried:</p>\n<p>I saw there is a property for that, and I tried:</p>\n<p><code>logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]</code></p>\n<p>However, this is not giving the correct output.</p>\n<p>May I ask what is the pattern in order to have this please?</p>\n<pre><code>2023-01-30T21:21:06.076+08:00 5216  INFO --- [myappName][           main] org.example.Main                         : Started Main in 3.544 seconds (process running for 4.151)\n2023-01-30T21:21:06.078+08:00 5216 DEBUG --- [myappName][           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","multidimensional-array","combinatorics"],"comments":[{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":1,"creation_date":1674925834,"post_id":75263504,"comment_id":132819804,"body_markdown":"You forgot to mention the constraint of having only disjoint subsets made of consecutive elements from the input set. Or, you are missing partitions like `[[1, 3], [2, 4], [5, 6]]`.","body":"You forgot to mention the constraint of having only disjoint subsets made of consecutive elements from the input set. Or, you are missing partitions like <code>[[1, 3], [2, 4], [5, 6]]</code>."},{"owner":{"account_id":14859215,"reputation":39,"user_id":10730661,"display_name":"bha_1999"},"score":0,"creation_date":1675102884,"post_id":75263504,"comment_id":132852300,"body_markdown":"Yea, I mentioned subArrays, not subsets. I thought it would be obvious, but I&#39;ll update the question just to be clear, thanks","body":"Yea, I mentioned subArrays, not subsets. I thought it would be obvious, but I&#39;ll update the question just to be clear, thanks"}],"owner":{"account_id":14859215,"reputation":39,"user_id":10730661,"display_name":"bha_1999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675103036,"creation_date":1674854718,"question_id":75263504,"body_markdown":"It&#39;s a combinatorics problem. We can partition the array at max n-1 times and out of it, we have to choose k-1 partitions.\r\n\r\nEx: arr[] = {1, 2, 3, 4, 5, 6}\r\nk = 3, n = 6.\r\n\r\nTotal possibilities = ``` (n-1)C(k-1)``` 5C2 = 10.\r\n\r\nExpected Output : (3-dimensional array)\r\n---------------------------------------\r\n```\r\n[\r\n[[1], [2], [3, 4, 5, 6]], \r\n[[1], [2, 3], [4, 5, 6]], \r\n[[1], [2, 3, 4], [5, 6]], \r\n[[1], [2, 3, 4, 5], [6]],\r\n[[1, 2], [3], [4, 5, 6]], \r\n[[1, 2], [3, 4], [5, 6]], \r\n[[1, 2], [3, 4, 5], [6]], \r\n[[1, 2, 3], [4, 5], [6]],\r\n[[1, 2, 3, 4], [5], [6]],\r\n]\r\n```\r\nConstraints: \r\n1) Subarrays should have at least 1 element. \r\n2) SubArrays should only consist of consecutive elements. \r\nFor ex: [[1, 3], [2, 4], [5, 6]] This is not valid.\r\n\r\nSo far, I have tried a recursive method but it yields wrong results. I can&#39;t wrap my head around how to correct it. I need an answer explaining how to approach this problem properly and the intuition behind it first and then correct my code and point out where I went wrong.\r\n\r\nMy code:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        int n = 6;\r\n        int k = 3;\r\n        int[] arr = new int[]{1,2,3,4,5,6};\r\n        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;Integer&gt; eachSubArray = new ArrayList&lt;Integer&gt;();\r\n        int index = 0;\r\n        \r\n        generateCombinations(arr, k, index, eachSubArray, eachComb, result);\r\n        \r\n        for (ArrayList&lt;ArrayList&lt;Integer&gt;&gt; each : result) {\r\n        \tfor(ArrayList&lt;Integer&gt; eachh: each) {\r\n        \t\tSystem.out.println(eachh);\r\n        \t}\r\n        \tSystem.out.println(&quot;-------------------------------&quot;);\r\n        }\r\n    }\r\n\r\n\tprivate static void generateCombinations(int[] arr, int k, int index, ArrayList&lt;Integer&gt; eachSubArray,\r\n\t\t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb, ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result) {\r\n\t\t\r\n\r\n\t\tif(k==0 || index==arr.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tif(!eachSubArray.isEmpty()) {\r\n\t\t\teachComb.add(new ArrayList&lt;&gt;(eachSubArray));\r\n\t\t}\r\n\t\t\r\n\t\tif(k==1) {\r\n\t\t\tArrayList&lt;Integer&gt; last = new ArrayList&lt;Integer&gt;();\r\n\t\t\tfor(int i=index; i&lt;arr.length; i++) {\r\n\t\t\t\tlast.add(arr[i]);\r\n\t\t\t}\r\n\t\t\tif(!last.isEmpty()) {\r\n\t\t\t\teachComb.add((last));\r\n\t\t\t\tresult.add(new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(eachComb));\r\n\t\t\t\teachComb.remove(eachComb.size()-1);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\teachSubArray.clear();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=index; i&lt;arr.length; i++) {\r\n\t\t\teachSubArray.add((arr[i]));\r\n\t\t\tgenerateCombinations(arr, k-1, i+1, eachSubArray, eachComb, result);\r\n\t\t\tif(!eachComb.isEmpty()) {\r\n\t\t\t\teachComb.remove(eachComb.size()-1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n```","title":"Generate all possible combinations of an array of size n having exactly k subarrays","body":"<p>It's a combinatorics problem. We can partition the array at max n-1 times and out of it, we have to choose k-1 partitions.</p>\n<p>Ex: arr[] = {1, 2, 3, 4, 5, 6}\nk = 3, n = 6.</p>\n<p>Total possibilities = <code> (n-1)C(k-1)</code> 5C2 = 10.</p>\n<h2>Expected Output : (3-dimensional array)</h2>\n<pre><code>[\n[[1], [2], [3, 4, 5, 6]], \n[[1], [2, 3], [4, 5, 6]], \n[[1], [2, 3, 4], [5, 6]], \n[[1], [2, 3, 4, 5], [6]],\n[[1, 2], [3], [4, 5, 6]], \n[[1, 2], [3, 4], [5, 6]], \n[[1, 2], [3, 4, 5], [6]], \n[[1, 2, 3], [4, 5], [6]],\n[[1, 2, 3, 4], [5], [6]],\n]\n</code></pre>\n<p>Constraints:</p>\n<ol>\n<li>Subarrays should have at least 1 element.</li>\n<li>SubArrays should only consist of consecutive elements.\nFor ex: [[1, 3], [2, 4], [5, 6]] This is not valid.</li>\n</ol>\n<p>So far, I have tried a recursive method but it yields wrong results. I can't wrap my head around how to correct it. I need an answer explaining how to approach this problem properly and the intuition behind it first and then correct my code and point out where I went wrong.</p>\n<p>My code:</p>\n<pre><code> public static void main(String[] args) {\n        int n = 6;\n        int k = 3;\n        int[] arr = new int[]{1,2,3,4,5,6};\n        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        ArrayList&lt;Integer&gt; eachSubArray = new ArrayList&lt;Integer&gt;();\n        int index = 0;\n        \n        generateCombinations(arr, k, index, eachSubArray, eachComb, result);\n        \n        for (ArrayList&lt;ArrayList&lt;Integer&gt;&gt; each : result) {\n            for(ArrayList&lt;Integer&gt; eachh: each) {\n                System.out.println(eachh);\n            }\n            System.out.println(&quot;-------------------------------&quot;);\n        }\n    }\n\n    private static void generateCombinations(int[] arr, int k, int index, ArrayList&lt;Integer&gt; eachSubArray,\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; eachComb, ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; result) {\n        \n\n        if(k==0 || index==arr.length) {\n            return;\n        }\n        \n\n        if(!eachSubArray.isEmpty()) {\n            eachComb.add(new ArrayList&lt;&gt;(eachSubArray));\n        }\n        \n        if(k==1) {\n            ArrayList&lt;Integer&gt; last = new ArrayList&lt;Integer&gt;();\n            for(int i=index; i&lt;arr.length; i++) {\n                last.add(arr[i]);\n            }\n            if(!last.isEmpty()) {\n                eachComb.add((last));\n                result.add(new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(eachComb));\n                eachComb.remove(eachComb.size()-1);\n            }\n            return;\n        }\n        \n        eachSubArray.clear();\n        \n        \n        \n        for(int i=index; i&lt;arr.length; i++) {\n            eachSubArray.add((arr[i]));\n            generateCombinations(arr, k-1, i+1, eachSubArray, eachComb, result);\n            if(!eachComb.isEmpty()) {\n                eachComb.remove(eachComb.size()-1);\n            }\n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","security","ssl","mockserver"],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675102679,"creation_date":1675102679,"question_id":75288539,"body_markdown":"There is a Java unit test using MockServer.\r\n\r\nFor failed SSL handshake emulation I intend to use a certain certificate:\r\nan instance of a class extending `java.security.cert.Certificate`.\r\n\r\nI tried to find something in the [docs][1], but it only describes how to use the SSL context defined by MockServer, without mentioning options of custom SSL contexts. \r\n\r\nHow to make MockServer apply a user-defined certificate for SSL handshakes?\r\n\r\n\r\n  [1]: https://www.mock-server.com/mock_server/HTTPS_TLS.html","title":"How to use custom certificates in MockServer SSL context?","body":"<p>There is a Java unit test using MockServer.</p>\n<p>For failed SSL handshake emulation I intend to use a certain certificate:\nan instance of a class extending <code>java.security.cert.Certificate</code>.</p>\n<p>I tried to find something in the <a href=\"https://www.mock-server.com/mock_server/HTTPS_TLS.html\" rel=\"nofollow noreferrer\">docs</a>, but it only describes how to use the SSL context defined by MockServer, without mentioning options of custom SSL contexts.</p>\n<p>How to make MockServer apply a user-defined certificate for SSL handshakes?</p>\n"},{"tags":["java","android","bundle","parcelable"],"comments":[{"owner":{"account_id":4079753,"reputation":2891,"user_id":3350516,"accept_rate":50,"display_name":"rorschach"},"score":0,"creation_date":1472904622,"post_id":39306586,"comment_id":65946276,"body_markdown":"Does it actually give you the line number where that Exception is thrown?","body":"Does it actually give you the line number where that Exception is thrown?"},{"owner":{"account_id":7113086,"reputation":211,"user_id":5440307,"display_name":"Prashant"},"score":0,"creation_date":1472904734,"post_id":39306586,"comment_id":65946310,"body_markdown":"Ya it says 197 it&#39;s the first line of handle bundle method where I m checking bundle null,  \n\nCaused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null\n       at android.util.ArrayMap.validate(ArrayMap.java:550)\n       at android.os.Parcel.readArrayMapInternal(Parcel.java:2486)\n       at android.os.BaseBundle.unparcel(BaseBundle.java:221)\n       at android.os.BaseBundle.containsKey(BaseBundle.java:269)\n       at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197)","body":"Ya it says 197 it&#39;s the first line of handle bundle method where I m checking bundle null,    Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null        at android.util.ArrayMap.validate(ArrayMap.java:550)        at android.os.Parcel.readArrayMapInternal(Parcel.java:2486)        at android.os.BaseBundle.unparcel(BaseBundle.java:221)        at android.os.BaseBundle.containsKey(BaseBundle.java:269)        at com.example.fragments.QuestionSwipeFragment.handleBundle(Sou&zwnj;&#8203;rceFile:197)"},{"owner":{"account_id":6537320,"reputation":374,"user_id":5056336,"display_name":"Harshikesh Kumar"},"score":0,"creation_date":1477314932,"post_id":39306586,"comment_id":67702020,"body_markdown":"can you paste your ResourceModel class code here.","body":"can you paste your ResourceModel class code here."},{"owner":{"account_id":5234507,"reputation":2709,"user_id":4183558,"accept_rate":75,"display_name":"mattfred"},"score":1,"creation_date":1547566050,"post_id":39306586,"comment_id":95230725,"body_markdown":"Was this ever solved? I&#39;m getting this same error.","body":"Was this ever solved? I&#39;m getting this same error."},{"owner":{"account_id":1324396,"reputation":122,"user_id":4065151,"display_name":"Vijay Sonawane"},"score":1,"creation_date":1580273559,"post_id":39306586,"comment_id":106039192,"body_markdown":"Is this issue resolved, facing same in crashlytics?","body":"Is this issue resolved, facing same in crashlytics?"},{"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"score":0,"creation_date":1643658689,"post_id":39306586,"comment_id":125394488,"body_markdown":"Still have any solutions ?","body":"Still have any solutions ?"},{"owner":{"account_id":1501298,"reputation":313,"user_id":1405843,"accept_rate":100,"display_name":"jonathan3087"},"score":0,"creation_date":1674497654,"post_id":39306586,"comment_id":132722114,"body_markdown":"I added a bounty, here is my crashlytics log:  (wouldn&#39;t let me add my log, was too long.  Do I need to add it as an answer, that doesn&#39;t seem to be the right place.","body":"I added a bounty, here is my crashlytics log:  (wouldn&#39;t let me add my log, was too long.  Do I need to add it as an answer, that doesn&#39;t seem to be the right place."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674557647,"post_id":39306586,"comment_id":132734536,"body_markdown":"@jonathan3087 the right place would have been a new question. It’s rather unlikely that your problem is related to this question from 2016 when you say that you *didn’t* have this problem *from* 2017 to ??? (some rather recent date?).","body":"@jonathan3087 the right place would have been a new question. It’s rather unlikely that your problem is related to this question from 2016 when you say that you <i>didn’t</i> have this problem <i>from</i> 2017 to ??? (some rather recent date?)."}],"answers":[{"tags":[],"owner":{"account_id":13268646,"reputation":26,"user_id":9580471,"display_name":"sansecy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629106587,"creation_date":1629106587,"answer_id":68800466,"question_id":39306586,"body_markdown":"When I have this problem it&#39;s actually caused by other exceptions\r\n\r\nMy problem is caused by starting an Activity that is not exported\r\n\r\nSolution:\r\n1. Check that your passed argument does have multiple **null** keys\r\n2. Check whether an Activity that is not set to export has been started (for starting other apps)\r\n3. You can set references directly to fragments without passing them through **bundle**","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>When I have this problem it's actually caused by other exceptions</p>\n<p>My problem is caused by starting an Activity that is not exported</p>\n<p>Solution:</p>\n<ol>\n<li>Check that your passed argument does have multiple <strong>null</strong> keys</li>\n<li>Check whether an Activity that is not set to export has been started (for starting other apps)</li>\n<li>You can set references directly to fragments without passing them through <strong>bundle</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3488220,"reputation":574,"user_id":2918533,"accept_rate":52,"display_name":"AndyBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675097298,"creation_date":1675074552,"answer_id":75283105,"question_id":39306586,"body_markdown":"@jonathan3087\r\nPlease check below things in your Parcelable class:\r\n - Order of your Parcelable class&#39;s field in `writeToParcel()`\r\n - Key name or reusing key or not\r\n - check proguard keep\r\n\r\n","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>@jonathan3087\nPlease check below things in your Parcelable class:</p>\n<ul>\n<li>Order of your Parcelable class's field in <code>writeToParcel()</code></li>\n<li>Key name or reusing key or not</li>\n<li>check proguard keep</li>\n</ul>\n"}],"owner":{"account_id":7113086,"reputation":211,"user_id":5440307,"display_name":"Prashant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2575,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1675101868,"creation_date":1472903542,"question_id":39306586,"body_markdown":"I&#39;m getting this error \r\n\r\n&gt; Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null at android.util.ArrayMap.validate(ArrayMap.java:550) at android.os.Parcel.readArrayMapInternal(Parcel.java:2486) at android.os.BaseBundle.unparcel(BaseBundle.java:221) at android.os.BaseBundle.containsKey(BaseBundle.java:269) at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197) \r\n\r\nnot in my current device but it is coming from crashlytics, but I can&#39;t regenerate this issue in my own device tried all possible ways but can&#39;t get this same error in my device, below is my code, answers would be really appreciated.\r\n\r\n    public class QuestionSwipeFragment extends DialogFragment {\r\n    \r\n        private View mRootView;\r\n        private int mPosition;\r\n        private List&lt;ResourceModel&gt; mResourceList;\r\n        private QuestionSwipePagerAdapter mQuestionSwipePagerAdapter;\r\n        private ViewPager mPager;\r\n    \r\n        private int mSelectedChapterId;\r\n        private int mSelectedSectionId;\r\n        private int mSelectedSubSectionId;\r\n        private boolean mSelectedFavourite;\r\n    \r\n        private boolean mIsFavourite;\r\n        private boolean mIsPagination;\r\n    \r\n        private int mCurrentPage;\r\n        private int mTotalPage;\r\n    \r\n        int mResourcePageNo;\r\n        int mMarkId;\r\n        int mDifficulties;\r\n    \r\n        private int mFragmentType;\r\n    \r\n        private int mFragType;\r\n        private PaginationParams mPaginationParams = new PaginationParams();\r\n    \r\n        private static final int RESOURCE_ALL = -1;\r\n    \r\n        private boolean onDestroy = false;\r\n    \r\n        private static final String API_TYPE_PAGINATION = &quot;pagination&quot;;\r\n    \r\n        public QuestionSwipeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int id, int fragType, boolean isFavourited, boolean isPaginationRequest,\r\n                                                 int chapterId, int sectionId,\r\n                                                 int resourcePageNo, int markId,\r\n                                                 int difficulties, int currentPage,\r\n                                                 int totalPage) {\r\n            Bundle bundle = new Bundle();\r\n            QuestionSwipeFragment fragment = new QuestionSwipeFragment();\r\n    \r\n            bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, id);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\r\n    \r\n            bundle.putBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED, isFavourited);\r\n            bundle.putBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST, isPaginationRequest);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, chapterId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, sectionId);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO, resourcePageNo);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_MARKID, markId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_DIFFICULTIES, difficulties);\r\n    \r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\r\n    \r\n            fragment.setArguments(bundle);\r\n            return fragment;\r\n        }\r\n    \r\n        public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int position, int fragType,\r\n                                                 int selectedChapterId, int selectedSectionId, int selectedSubSectionId, int currentPage, int totalPage) {\r\n            Bundle bundle = new Bundle();\r\n            QuestionSwipeFragment fragment = new QuestionSwipeFragment();\r\n            bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, position);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, selectedChapterId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, selectedSectionId);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID, selectedSubSectionId);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\r\n            bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\r\n    \r\n            bundle.putInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT, fragType);\r\n    \r\n            fragment.setArguments(bundle);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            handleBundle(getArguments());\r\n            setStyle(DialogFragment.STYLE_NORMAL, R.style.MyMaterialTheme);\r\n        }\r\n\r\n    //the below method is causing IllegalArgumentException\r\n     private void handleBundle(Bundle bundle) {\r\n              if (bundle != null) {\r\n                    if (bundle.containsKey(Constants.QUESTION_SWIPE_RESOURCE_LIST)) {\r\n                        mResourceList = bundle.getParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST);\r\n                        mPosition = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION);\r\n                        mFragType = bundle.getInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT);\r\n        \r\n                        mSelectedChapterId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID);\r\n                        mSelectedSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID);\r\n        \r\n                        mSelectedSubSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID);\r\n        \r\n                        mIsFavourite = bundle.getBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED);\r\n                        mIsPagination = bundle.getBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST);\r\n        \r\n                        mCurrentPage = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTPAGE);\r\n                        mTotalPage = bundle.getInt(Constants.QUESTION_SWIPE_TOTALPAGE);\r\n        \r\n                        mResourcePageNo = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO);\r\n                        mMarkId = bundle.getInt(Constants.QUESTION_SWIPE_MARKID);\r\n                        mDifficulties = bundle.getInt(Constants.QUESTION_SWIPE_DIFFICULTIES);\r\n        \r\n                        mFragmentType = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nAnd below is the code where i am starting this fragment from adapter\r\n\r\n    private void setonClickListeners(ResourceQuestionsViewHolder viewHolder, final int position) {\r\n            viewHolder.mContainerView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n   \r\n                    DialogFragment questionSwipeFragment = QuestionSwipeFragment.newInstance(getExtractResourceInfo(position).getExtractedList(), getExtractResourceInfo(position).getPosition(), Constants.QB_DETAILS_FRAGMENT, isFavourited, isPaginationRequest, chapterId, sectionId, resourcePageNo, markId, difficulties, mCurrentPage, mTotalPage);\r\n                    questionSwipeFragment.show(((QuestionBankActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\r\n    \r\n                }\r\n            });\r\n    }\r\n\r\n    private void setonLongClickListener(SubSectionResourceQuestionsViewHolder viewHolder, final int position) {\r\n            viewHolder.mContainerView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View v) {\r\n\r\n                    DialogFragment questionBankFragment = QBSubSectionDetailFragment.newInstance(mResourceList, false, position);\r\n                    questionBankFragment.show(((SynopsisActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\r\n    \r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n     ","title":"Android java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null","body":"<p>I'm getting this error</p>\n<blockquote>\n<p>Caused by java.lang.IllegalArgumentException: Duplicate key in ArrayMap: null at android.util.ArrayMap.validate(ArrayMap.java:550) at android.os.Parcel.readArrayMapInternal(Parcel.java:2486) at android.os.BaseBundle.unparcel(BaseBundle.java:221) at android.os.BaseBundle.containsKey(BaseBundle.java:269) at com.example.fragments.QuestionSwipeFragment.handleBundle(SourceFile:197)</p>\n</blockquote>\n<p>not in my current device but it is coming from crashlytics, but I can't regenerate this issue in my own device tried all possible ways but can't get this same error in my device, below is my code, answers would be really appreciated.</p>\n<pre><code>public class QuestionSwipeFragment extends DialogFragment {\n\n    private View mRootView;\n    private int mPosition;\n    private List&lt;ResourceModel&gt; mResourceList;\n    private QuestionSwipePagerAdapter mQuestionSwipePagerAdapter;\n    private ViewPager mPager;\n\n    private int mSelectedChapterId;\n    private int mSelectedSectionId;\n    private int mSelectedSubSectionId;\n    private boolean mSelectedFavourite;\n\n    private boolean mIsFavourite;\n    private boolean mIsPagination;\n\n    private int mCurrentPage;\n    private int mTotalPage;\n\n    int mResourcePageNo;\n    int mMarkId;\n    int mDifficulties;\n\n    private int mFragmentType;\n\n    private int mFragType;\n    private PaginationParams mPaginationParams = new PaginationParams();\n\n    private static final int RESOURCE_ALL = -1;\n\n    private boolean onDestroy = false;\n\n    private static final String API_TYPE_PAGINATION = &quot;pagination&quot;;\n\n    public QuestionSwipeFragment() {\n        // Required empty public constructor\n    }\n\n    public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int id, int fragType, boolean isFavourited, boolean isPaginationRequest,\n                                             int chapterId, int sectionId,\n                                             int resourcePageNo, int markId,\n                                             int difficulties, int currentPage,\n                                             int totalPage) {\n        Bundle bundle = new Bundle();\n        QuestionSwipeFragment fragment = new QuestionSwipeFragment();\n\n        bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, id);\n        bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\n\n        bundle.putBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED, isFavourited);\n        bundle.putBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST, isPaginationRequest);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, chapterId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, sectionId);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO, resourcePageNo);\n        bundle.putInt(Constants.QUESTION_SWIPE_MARKID, markId);\n        bundle.putInt(Constants.QUESTION_SWIPE_DIFFICULTIES, difficulties);\n\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\n        bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\n\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n\n    public static DialogFragment newInstance(List&lt;ResourceModel&gt; mResourceList, int position, int fragType,\n                                             int selectedChapterId, int selectedSectionId, int selectedSubSectionId, int currentPage, int totalPage) {\n        Bundle bundle = new Bundle();\n        QuestionSwipeFragment fragment = new QuestionSwipeFragment();\n        bundle.putParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST, (ArrayList&lt;? extends Parcelable&gt;) mResourceList);\n        bundle.putInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION, position);\n        bundle.putInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT, fragType);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID, selectedChapterId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID, selectedSectionId);\n        bundle.putInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID, selectedSubSectionId);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTPAGE, currentPage);\n        bundle.putInt(Constants.QUESTION_SWIPE_TOTALPAGE, totalPage);\n\n        bundle.putInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT, fragType);\n\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        handleBundle(getArguments());\n        setStyle(DialogFragment.STYLE_NORMAL, R.style.MyMaterialTheme);\n    }\n\n//the below method is causing IllegalArgumentException\n private void handleBundle(Bundle bundle) {\n          if (bundle != null) {\n                if (bundle.containsKey(Constants.QUESTION_SWIPE_RESOURCE_LIST)) {\n                    mResourceList = bundle.getParcelableArrayList(Constants.QUESTION_SWIPE_RESOURCE_LIST);\n                    mPosition = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCE_LIST_POSTION);\n                    mFragType = bundle.getInt(Constants.QUESTION_SWIPE_TYPE_FRAGMENT);\n    \n                    mSelectedChapterId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_CHAPTER_ID);\n                    mSelectedSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SECTION_ID);\n    \n                    mSelectedSubSectionId = bundle.getInt(Constants.QUESTION_SWIPE_SELECTED_SUBSECTION_ID);\n    \n                    mIsFavourite = bundle.getBoolean(Constants.QUESTION_SWIPE_ISFAVOURITED);\n                    mIsPagination = bundle.getBoolean(Constants.QUESTION_SWIPE_ISPAGINATIONREQUEST);\n    \n                    mCurrentPage = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTPAGE);\n                    mTotalPage = bundle.getInt(Constants.QUESTION_SWIPE_TOTALPAGE);\n    \n                    mResourcePageNo = bundle.getInt(Constants.QUESTION_SWIPE_RESOURCEPAGE_NO);\n                    mMarkId = bundle.getInt(Constants.QUESTION_SWIPE_MARKID);\n                    mDifficulties = bundle.getInt(Constants.QUESTION_SWIPE_DIFFICULTIES);\n    \n                    mFragmentType = bundle.getInt(Constants.QUESTION_SWIPE_CURRENTFRAGMENT);\n                }\n            }\n        }\n</code></pre>\n<p>And below is the code where i am starting this fragment from adapter</p>\n<pre><code>private void setonClickListeners(ResourceQuestionsViewHolder viewHolder, final int position) {\n        viewHolder.mContainerView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                DialogFragment questionSwipeFragment = QuestionSwipeFragment.newInstance(getExtractResourceInfo(position).getExtractedList(), getExtractResourceInfo(position).getPosition(), Constants.QB_DETAILS_FRAGMENT, isFavourited, isPaginationRequest, chapterId, sectionId, resourcePageNo, markId, difficulties, mCurrentPage, mTotalPage);\n                questionSwipeFragment.show(((QuestionBankActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\n\n            }\n        });\n}\n\nprivate void setonLongClickListener(SubSectionResourceQuestionsViewHolder viewHolder, final int position) {\n        viewHolder.mContainerView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n\n                DialogFragment questionBankFragment = QBSubSectionDetailFragment.newInstance(mResourceList, false, position);\n                questionBankFragment.show(((SynopsisActivity) mContext).getSupportFragmentManager(), &quot;dialog&quot;);\n\n                return true;\n            }\n        });\n    }\n \n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","exception"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":3,"creation_date":1674507682,"post_id":75214653,"comment_id":132725061,"body_markdown":"Why have you set your ApiError fields private ? Have you tried making them public instead ?","body":"Why have you set your ApiError fields private ? Have you tried making them public instead ?"}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675101678,"creation_date":1675101678,"answer_id":75288372,"question_id":75214653,"body_markdown":"As you defined all properties in your `ApiError` data class as private they are not visible to Jackson ObjectMapper serializer which is included in spring-web. \r\n\r\nSo to solve your issue you just need *to remove **private** modifier* like this:\r\n\r\n```\r\ndata class ApiError(\r\n    val requestUri: String? = null,\r\n    val status: Int = 0,\r\n    val statusText: String? = null,\r\n    val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\r\n    val errorMessage: String? = null,\r\n)\r\n```","title":"@RestControllerAdvice paired with @ExceptionHandler is not returning a JSON from a data class","body":"<p>As you defined all properties in your <code>ApiError</code> data class as private they are not visible to Jackson ObjectMapper serializer which is included in spring-web.</p>\n<p>So to solve your issue you just need <em>to remove <strong>private</strong> modifier</em> like this:</p>\n<pre><code>data class ApiError(\n    val requestUri: String? = null,\n    val status: Int = 0,\n    val statusText: String? = null,\n    val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\n    val errorMessage: String? = null,\n)\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75288372,"answer_count":1,"score":2,"last_activity_date":1675101678,"creation_date":1674505257,"question_id":75214653,"body_markdown":"I&#39;m writing a small app using Kotlin with Spring Boot 3. I wanted to have a nice exception handling, so I have created a class annotated with `@RestControllerAdvice`, having a couple of methods annotated with `@ExceptionHandler`. I have created a `data class` to store the returned body data:\r\n\r\n    data class ApiError(\r\n        private val requestUri: String? = null,\r\n        private val status: Int = 0,\r\n        private val statusText: String? = null,\r\n        private val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\r\n        private val errorMessage: String? = null,\r\n    )\r\n\r\nThe rest is quite simple:\r\n\r\n    @RestControllerAdvice\r\n    class ControllerExceptionHandler {\r\n    \r\n        @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\r\n        fun methodNotSupportedException(\r\n            exception: HttpRequestMethodNotSupportedException,\r\n            request: HttpServletRequest,\r\n        ): ResponseEntity&lt;ApiError&gt; {\r\n            println(buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception))\r\n            return ResponseEntity(\r\n                buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception),\r\n                HttpStatus.METHOD_NOT_ALLOWED,\r\n            )\r\n        }\r\n    \r\n        @ExceptionHandler(NotFoundException::class)\r\n        fun notFoundExceptionHandler(\r\n            exception: NotFoundException,\r\n            request: HttpServletRequest,\r\n        ): ResponseEntity&lt;ApiError&gt; {\r\n            println(buildApiError(request, HttpStatus.NOT_FOUND, exception))\r\n            return ResponseEntity(\r\n                buildApiError(request, HttpStatus.NOT_FOUND, exception),\r\n                HttpStatus.NOT_FOUND,\r\n            )\r\n        }\r\n\r\n        private fun buildApiError(\r\n            request: HttpServletRequest,\r\n            httpStatus: HttpStatus,\r\n            throwable: Throwable,\r\n        ): ApiError {\r\n            return ApiError(\r\n                requestUri = request.requestURI,\r\n                status = httpStatus.value(),\r\n                statusText = httpStatus.reasonPhrase,\r\n                errorMessage = throwable.message,\r\n            )\r\n        }\r\n    }\r\n\r\nAnd there is this (do not worry about the quality of this code, it is just for testing purposes.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(\r\n        path = [&quot;/hello&quot;],\r\n    )\r\n    class HelloController {\r\n    \r\n        @GetMapping(&quot;/{name}&quot;, produces = [MediaType.APPLICATION_JSON_VALUE])\r\n        private fun hello(@PathVariable name: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\r\n    \r\n            // this is a forced exception so the @ExceptionHandlers could handle them.\r\n            if (name.lowercase() == &quot;stefan&quot;) throw NotFoundException(&quot;Name not found!&quot;)\r\n            return ResponseEntity.ok(mapOf(&quot;Hello&quot; to &quot;$name!&quot;))\r\n        }\r\n    }\r\n\r\nThe problem is that when I run the app and send a `GET` request to `http://localhost:8080/hello/myrealname I just receive a tiny object:\r\n\r\n    {\r\n    \t&quot;Hello&quot;: &quot;myrealname&quot;\r\n    }\r\n\r\nBut when I either POST to this endpoint or GET with name &quot;stefan&quot; to trigger the exception, I have received a proper status code, either 500 or 404, but the body of my response was empty!\r\n\r\nLater on I tried to return a string or a map instead of my `ApiError` class, everything was fine, the body was there, either a map or a string. But when I want to return an instance of `ApiError`, the body is empty. Bare `&#39;{}&#39;`. Is there something wrong with my object? This is not the first time I have worked with exception handling in a controller advice class, and I have never had a situation like this.\r\n\r\nWhat could be the possible cause of this problem? Is there a better, more Kotlin-ish approach to this? Any extension methods I have no idea about maybe?\r\n\r\nHonest thank You for any clues :)\r\n","title":"@RestControllerAdvice paired with @ExceptionHandler is not returning a JSON from a data class","body":"<p>I'm writing a small app using Kotlin with Spring Boot 3. I wanted to have a nice exception handling, so I have created a class annotated with <code>@RestControllerAdvice</code>, having a couple of methods annotated with <code>@ExceptionHandler</code>. I have created a <code>data class</code> to store the returned body data:</p>\n<pre><code>data class ApiError(\n    private val requestUri: String? = null,\n    private val status: Int = 0,\n    private val statusText: String? = null,\n    private val createdAt: ZonedDateTime = ZonedDateTime.now(ZoneId.of(&quot;Europe/Warsaw&quot;)),\n    private val errorMessage: String? = null,\n)\n</code></pre>\n<p>The rest is quite simple:</p>\n<pre><code>@RestControllerAdvice\nclass ControllerExceptionHandler {\n\n    @ExceptionHandler(HttpRequestMethodNotSupportedException::class)\n    fun methodNotSupportedException(\n        exception: HttpRequestMethodNotSupportedException,\n        request: HttpServletRequest,\n    ): ResponseEntity&lt;ApiError&gt; {\n        println(buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception))\n        return ResponseEntity(\n            buildApiError(request, HttpStatus.METHOD_NOT_ALLOWED, exception),\n            HttpStatus.METHOD_NOT_ALLOWED,\n        )\n    }\n\n    @ExceptionHandler(NotFoundException::class)\n    fun notFoundExceptionHandler(\n        exception: NotFoundException,\n        request: HttpServletRequest,\n    ): ResponseEntity&lt;ApiError&gt; {\n        println(buildApiError(request, HttpStatus.NOT_FOUND, exception))\n        return ResponseEntity(\n            buildApiError(request, HttpStatus.NOT_FOUND, exception),\n            HttpStatus.NOT_FOUND,\n        )\n    }\n\n    private fun buildApiError(\n        request: HttpServletRequest,\n        httpStatus: HttpStatus,\n        throwable: Throwable,\n    ): ApiError {\n        return ApiError(\n            requestUri = request.requestURI,\n            status = httpStatus.value(),\n            statusText = httpStatus.reasonPhrase,\n            errorMessage = throwable.message,\n        )\n    }\n}\n</code></pre>\n<p>And there is this (do not worry about the quality of this code, it is just for testing purposes.</p>\n<pre><code>@RestController\n@RequestMapping(\n    path = [&quot;/hello&quot;],\n)\nclass HelloController {\n\n    @GetMapping(&quot;/{name}&quot;, produces = [MediaType.APPLICATION_JSON_VALUE])\n    private fun hello(@PathVariable name: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\n\n        // this is a forced exception so the @ExceptionHandlers could handle them.\n        if (name.lowercase() == &quot;stefan&quot;) throw NotFoundException(&quot;Name not found!&quot;)\n        return ResponseEntity.ok(mapOf(&quot;Hello&quot; to &quot;$name!&quot;))\n    }\n}\n</code></pre>\n<p>The problem is that when I run the app and send a <code>GET</code> request to `http://localhost:8080/hello/myrealname I just receive a tiny object:</p>\n<pre><code>{\n    &quot;Hello&quot;: &quot;myrealname&quot;\n}\n</code></pre>\n<p>But when I either POST to this endpoint or GET with name &quot;stefan&quot; to trigger the exception, I have received a proper status code, either 500 or 404, but the body of my response was empty!</p>\n<p>Later on I tried to return a string or a map instead of my <code>ApiError</code> class, everything was fine, the body was there, either a map or a string. But when I want to return an instance of <code>ApiError</code>, the body is empty. Bare <code>'{}'</code>. Is there something wrong with my object? This is not the first time I have worked with exception handling in a controller advice class, and I have never had a situation like this.</p>\n<p>What could be the possible cause of this problem? Is there a better, more Kotlin-ish approach to this? Any extension methods I have no idea about maybe?</p>\n<p>Honest thank You for any clues :)</p>\n"},{"tags":["javascript","java","mysql","spring-boot","spring-thymeleaf"],"comments":[{"owner":{"account_id":10570375,"reputation":768,"user_id":7787367,"display_name":"stan chacon"},"score":0,"creation_date":1675108515,"post_id":75288322,"comment_id":132853917,"body_markdown":"The best way you can do this in my personal opinion is with a database scheduled job.","body":"The best way you can do this in my personal opinion is with a database scheduled job."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675117732,"post_id":75288322,"comment_id":132856355,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"score":0,"creation_date":1675345052,"post_id":75288322,"comment_id":132911833,"body_markdown":"Thank you for your various interventions.\nHow could I create a scheduled task in the database that will automatically change the status to expired if the end date is equal to the machine&#39;s local date.","body":"Thank you for your various interventions. How could I create a scheduled task in the database that will automatically change the status to expired if the end date is equal to the machine&#39;s local date."},{"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"score":0,"creation_date":1675855379,"post_id":75288322,"comment_id":133016476,"body_markdown":"Ok my code is in french","body":"Ok my code is in french"}],"owner":{"account_id":25751493,"reputation":1,"user_id":19503964,"display_name":"faysalsanf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675101364,"creation_date":1675101364,"question_id":75288322,"body_markdown":"My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it. My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it.\r\n\r\nI use Spring boot and Thymeleaf.\r\n\r\nI have done several searches on the internet but I can&#39;t find a solution. Could someone help me find a suitable solution.\r\n\r\nI use Spring boot, Thymeleaf and MySql as my Database Management System.","title":"How to automatically update the expired status on contracts when they expire? Spring boot","body":"<p>My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it. My company just started using contracts. I created a value in the Status picklist called Expired for expired contracts. My goal is to automate the setting of the value to Expired without asking the sales people to do it.</p>\n<p>I use Spring boot and Thymeleaf.</p>\n<p>I have done several searches on the internet but I can't find a solution. Could someone help me find a suitable solution.</p>\n<p>I use Spring boot, Thymeleaf and MySql as my Database Management System.</p>\n"},{"tags":["java","kotlin","mockk"],"owner":{"account_id":7662345,"reputation":113,"user_id":5807216,"display_name":"Albert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675101353,"creation_date":1675101010,"question_id":75288256,"body_markdown":"I have tried using [mockk.io][1] constructor&#39;s mocking with `java.io.FileReader`\r\n\r\n```kotlin\r\nimport java.io.FileReader\r\nimport io.mockk.mockkConstructor\r\n\r\nmockkConstructor(FileReader::class)\r\n\r\nevery {  constructedWith&lt;FileReader&gt;(EqMatcher(&quot;/etc/resolv.conf&quot;)).readLines()} returns listOf(&quot;127.0.0.1&quot;)\r\n// code dies here\r\n\r\n\r\nval f = FileReader(&quot;/etc/resolv.conf&quot;).readLines()\r\nf.forEach { println(it) }\r\n```\r\n\r\nWhen I run it in my tests, it runs for 10 seconds without effects and dies without any error.&lt;br&gt;\r\nIn debug mode, when stopping randomly, I can see, that it visits following classes:\r\nCollections.java, Throwable.java, Arrays.java, Object.java, HashMap.java.\r\n\r\nI&#39;ve checked and it works for my own simple classes.\r\n\r\nWhat may be wrong with my code?\r\n\r\n  [1]: https://mockk.io/#constructor-mocks","title":"Mockk mockkConstructor doesn&#39;t work for FileReader","body":"<p>I have tried using <a href=\"https://mockk.io/#constructor-mocks\" rel=\"nofollow noreferrer\">mockk.io</a> constructor's mocking with <code>java.io.FileReader</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.FileReader\nimport io.mockk.mockkConstructor\n\nmockkConstructor(FileReader::class)\n\nevery {  constructedWith&lt;FileReader&gt;(EqMatcher(&quot;/etc/resolv.conf&quot;)).readLines()} returns listOf(&quot;127.0.0.1&quot;)\n// code dies here\n\n\nval f = FileReader(&quot;/etc/resolv.conf&quot;).readLines()\nf.forEach { println(it) }\n</code></pre>\n<p>When I run it in my tests, it runs for 10 seconds without effects and dies without any error.<br>\nIn debug mode, when stopping randomly, I can see, that it visits following classes:\nCollections.java, Throwable.java, Arrays.java, Object.java, HashMap.java.</p>\n<p>I've checked and it works for my own simple classes.</p>\n<p>What may be wrong with my code?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"score":0,"creation_date":1674823055,"post_id":75256306,"comment_id":132800230,"body_markdown":"For spring to make use of the Value and Autowired annotation, the class should be annotated with Component so that it can be picked up during context initialization. Have you tried creating a spring Bean from the SchemaPhysicalNamingStrategy ?","body":"For spring to make use of the Value and Autowired annotation, the class should be annotated with Component so that it can be picked up during context initialization. Have you tried creating a spring Bean from the SchemaPhysicalNamingStrategy ?"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1674837027,"post_id":75256306,"comment_id":132805078,"body_markdown":"@NikhilJoseph, yes. My SchemaPhysicalNamingStrategy has Compoent annotation, but it doesn&#39;t help. Its instance is created by Spring using reflection. HibernateJpaConfiguration.java \n\n\n\t\tthis.hibernatePropertiesCustomizers = determineHibernatePropertiesCustomizers(\n\t\t\t\tphysicalNamingStrategy.getIfAvailable(), implicitNamingStrategy.getIfAvailable(), beanFactory,\n\t\t\t\thibernatePropertiesCustomizers.orderedStream().collect(Collectors.toList()));","body":"@NikhilJoseph, yes. My SchemaPhysicalNamingStrategy has Compoent annotation, but it doesn&#39;t help. Its instance is created by Spring using reflection. HibernateJpaConfiguration.java    \t\tthis.hibernatePropertiesCustomizers = determineHibernatePropertiesCustomizers( \t\t\t\tphysicalNamingStrategy.getIfAvailable(), implicitNamingStrategy.getIfAvailable(), beanFactory, \t\t\t\thibernatePropertiesCustomizers.orderedStream().collect(C&zwnj;&#8203;ollectors.toList()))&zwnj;&#8203;;"},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":0,"creation_date":1675061958,"post_id":75256306,"comment_id":132839479,"body_markdown":"What are you trying to accomplish? Why are you trying to inject `schema` and `catalogName` into a naming strategy? Can you add the values to the Map in `jpaProperties()`?","body":"What are you trying to accomplish? Why are you trying to inject <code>schema</code> and <code>catalogName</code> into a naming strategy? Can you add the values to the Map in <code>jpaProperties()</code>?"},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":1,"creation_date":1675063277,"post_id":75256306,"comment_id":132839745,"body_markdown":"I don&#39;t think that Spring is the issue here. `hibernate.physical_naming_strategy` is vendor-specific (Hibernate), and it&#39;s unlikely that Spring is involved in the construction of the object.","body":"I don&#39;t think that Spring is the issue here. <code>hibernate.physical_naming_strategy</code> is vendor-specific (Hibernate), and it&#39;s unlikely that Spring is involved in the construction of the object."},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675098742,"post_id":75256306,"comment_id":132850959,"body_markdown":"@Bernie. Thanks. I just want to dynamically set schema, catalog names in physical naming strategy instance instead of hard coding in java code. I am not sure how I can set schema and catalog names in jpaProperties -     protected Map&lt;String, Object&gt; jpaProperties() {\n        return of(\n                &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\n    }","body":"@Bernie. Thanks. I just want to dynamically set schema, catalog names in physical naming strategy instance instead of hard coding in java code. I am not sure how I can set schema and catalog names in jpaProperties -     protected Map&lt;String, Object&gt; jpaProperties() {         return of(                 &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());     }"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1675099096,"post_id":75256306,"comment_id":132851104,"body_markdown":"@Bernie, Thanks. see HibernateJpaConfiguration.java, if LocalContainerEntityManagerFactoryBean bean is present then spring won&#39;t touch vendor properties. Because of &quot;ConditionalOnMissingBean&quot;. \n\n\tBean\n\tPrimary\n\tConditionalOnMissingBean({ LocalContainerEntityManagerFactoryBean.class, EntityManagerFactory.class })\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder) {\n\t\tMap&lt;String, Object&gt; vendorProperties = getVendorProperties();\n\t\tcustomizeVendorProperties(vendorProperties);","body":"@Bernie, Thanks. see HibernateJpaConfiguration.java, if LocalContainerEntityManagerFactoryBean bean is present then spring won&#39;t touch vendor properties. Because of &quot;ConditionalOnMissingBean&quot;.   \tBean \tPrimary \tConditionalOnMissingBean({ LocalContainerEntityManagerFactoryBean.class, EntityManagerFactory.class }) \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder factoryBuilder) { \t\tMap&lt;String, Object&gt; vendorProperties = getVendorProperties(); \t\tcustomizeVendorProperties(vendorProperties);"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675101302,"creation_date":1675101302,"answer_id":75288308,"question_id":75256306,"body_markdown":"Documentation [says](https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#beans-manageable) following:\r\n\r\nHibernate supports using the following integrations as managed beans:\r\n- jakarta.persistence.AttributeConverter\r\n- Jakarta Persistence &quot;entity listener&quot; classes\r\n- org.hibernate.type.descriptor.jdbc.JdbcType\r\n- org.hibernate.type.descriptor.java.BasicJavaType\r\n- org.hibernate.type.descriptor.java.MutabilityPlan\r\n- org.hibernate.usertype.UserType\r\n- org.hibernate.usertype.UserCollectionType\r\n- org.hibernate.metamodel.EmbeddableInstantiator\r\n- org.hibernate.envers.RevisionListener\r\n- org.hibernate.id.IdentifierGenerator\r\n\r\nSince Hibernate do not recognise naming strategies as managed beans you need to pass them as instances to property map, for example:\r\n\r\n```java\r\n@Bean(name = &quot;integrationEntityManagerFactory&quot;)\r\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\r\n        EntityManagerFactoryBuilder builder\r\n        SchemaPhysicalNamingStrategy namingStrategy) {\r\n    return builder.dataSource(integrationDataSource())\r\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\r\n            .properties(jpaProperties(namingStrategy))\r\n            .build();\r\n}\r\n\r\n\r\nprotected Map&lt;String, Object&gt; jpaProperties(PhysicalNamingStrategy namingStrategy) {\r\n    return of(&quot;hibernate.physical_naming_strategy&quot;, namingStrategy);\r\n}\r\n```","title":"@Value or @Autowired annotations not working with custom Physical Naming Strategy","body":"<p>Documentation <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#beans-manageable\" rel=\"nofollow noreferrer\">says</a> following:</p>\n<p>Hibernate supports using the following integrations as managed beans:</p>\n<ul>\n<li>jakarta.persistence.AttributeConverter</li>\n<li>Jakarta Persistence &quot;entity listener&quot; classes</li>\n<li>org.hibernate.type.descriptor.jdbc.JdbcType</li>\n<li>org.hibernate.type.descriptor.java.BasicJavaType</li>\n<li>org.hibernate.type.descriptor.java.MutabilityPlan</li>\n<li>org.hibernate.usertype.UserType</li>\n<li>org.hibernate.usertype.UserCollectionType</li>\n<li>org.hibernate.metamodel.EmbeddableInstantiator</li>\n<li>org.hibernate.envers.RevisionListener</li>\n<li>org.hibernate.id.IdentifierGenerator</li>\n</ul>\n<p>Since Hibernate do not recognise naming strategies as managed beans you need to pass them as instances to property map, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;integrationEntityManagerFactory&quot;)\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\n        EntityManagerFactoryBuilder builder\n        SchemaPhysicalNamingStrategy namingStrategy) {\n    return builder.dataSource(integrationDataSource())\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\n            .properties(jpaProperties(namingStrategy))\n            .build();\n}\n\n\nprotected Map&lt;String, Object&gt; jpaProperties(PhysicalNamingStrategy namingStrategy) {\n    return of(&quot;hibernate.physical_naming_strategy&quot;, namingStrategy);\n}\n</code></pre>\n"}],"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75288308,"answer_count":1,"score":2,"last_activity_date":1675101302,"creation_date":1674812450,"question_id":75256306,"body_markdown":"Something similar to this question but OP there not mentioned that whether they creating LocalContainerEntityManagerFactoryBean .  \r\nhttps://stackoverflow.com/questions/64141279/spring-not-injecting-value-or-autowired-annotated-variables-in-physicalnamings\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    public class SchemaPhysicalNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {\r\n    \r\n        @Value(value = &quot;${spring.jpa.hibernate.default_schema}&quot;)\r\n        private String schemaName;\r\n    \r\n        @Value(value = &quot;${spring.jpa.hibernate.default_catalog}&quot;)\r\n        private String catalogName;\r\n    \r\n        /**\r\n         * @param identifier\r\n         * @param jdbcEnvironment\r\n         * @return\r\n         */\r\n        @Override\r\n        public Identifier toPhysicalSchemaName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n            if (isNull(identifier)) {\r\n                identifier = toIdentifier(this.schemaName);\r\n            }\r\n            return super.toPhysicalSchemaName(identifier, jdbcEnvironment);\r\n        }\r\n    \r\n        @Override\r\n        public Identifier toPhysicalCatalogName(\r\n                Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n            if (isNull(identifier)) {\r\n                identifier = toIdentifier(this.catalogName);\r\n            }\r\n            return super.toPhysicalCatalogName(identifier, jdbcEnvironment);\r\n        }\r\n    }\r\n\r\nBelow is one of the two LocalContainerEntityManagerFactoryBean objects which needs customised physical naming strategy. \r\n\r\n    @Bean(name = &quot;integrationEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder.dataSource(integrationDataSource())\r\n                .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\r\n                .properties(jpaProperties())\r\n                .build();\r\n    }\r\n    \r\n    \r\n        protected Map&lt;String, Object&gt; jpaProperties() {\r\n            return of(\r\n                    &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\r\n        }\r\n\r\n\r\nIssue is - @Value and @Autowired are not working on SchemaPhysicalNamingStrategy as spring creates instance using reflection. Can&#39;t add it to constructor as spring calls constructor without params using reflection. One option is to create SessionFactory bean and set on it but that will be overkill. Please help. \r\n\r\n\r\n\r\n","title":"@Value or @Autowired annotations not working with custom Physical Naming Strategy","body":"<p>Something similar to this question but OP there not mentioned that whether they creating LocalContainerEntityManagerFactoryBean .<br />\n<a href=\"https://stackoverflow.com/questions/64141279/spring-not-injecting-value-or-autowired-annotated-variables-in-physicalnamings\">Spring not injecting @Value or @Autowired annotated variables in PhysicalNamingStrategy Implementations:</a></p>\n<pre><code>@Configuration\npublic class SchemaPhysicalNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {\n\n    @Value(value = &quot;${spring.jpa.hibernate.default_schema}&quot;)\n    private String schemaName;\n\n    @Value(value = &quot;${spring.jpa.hibernate.default_catalog}&quot;)\n    private String catalogName;\n\n    /**\n     * @param identifier\n     * @param jdbcEnvironment\n     * @return\n     */\n    @Override\n    public Identifier toPhysicalSchemaName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n        if (isNull(identifier)) {\n            identifier = toIdentifier(this.schemaName);\n        }\n        return super.toPhysicalSchemaName(identifier, jdbcEnvironment);\n    }\n\n    @Override\n    public Identifier toPhysicalCatalogName(\n            Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n        if (isNull(identifier)) {\n            identifier = toIdentifier(this.catalogName);\n        }\n        return super.toPhysicalCatalogName(identifier, jdbcEnvironment);\n    }\n}\n</code></pre>\n<p>Below is one of the two LocalContainerEntityManagerFactoryBean objects which needs customised physical naming strategy.</p>\n<pre><code>@Bean(name = &quot;integrationEntityManagerFactory&quot;)\npublic LocalContainerEntityManagerFactoryBean integrationEntityManagerFactory(\n        EntityManagerFactoryBuilder builder) {\n    return builder.dataSource(integrationDataSource())\n            .packages(&quot;xx.xx.xx.xxxx.entity&quot;)\n            .properties(jpaProperties())\n            .build();\n}\n\n\n    protected Map&lt;String, Object&gt; jpaProperties() {\n        return of(\n                &quot;hibernate.physical_naming_strategy&quot;, SchemaPhysicalNamingStrategy.class.getName());\n    }\n</code></pre>\n<p>Issue is - @Value and @Autowired are not working on SchemaPhysicalNamingStrategy as spring creates instance using reflection. Can't add it to constructor as spring calls constructor without params using reflection. One option is to create SessionFactory bean and set on it but that will be overkill. Please help.</p>\n"},{"tags":["javascript","java","openssl","cryptography"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675101248,"creation_date":1675099468,"answer_id":75287989,"question_id":75287129,"body_markdown":"*rsautl* unchangeably uses SHA1 for the OAEP digests, see [here][1]. Since you apply SHA256 in the WebCrypto code, you must use [*pkeyutl*][2] instead, which allows the specification of the digests:\r\n\r\n```none\r\nopenssl pkeyutl -in plaintext.txt -out ciphertext.bin -encrypt -keyform DER -pubin -inkey spki.der -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 \r\n```\r\n\r\nA ciphertext generated in this way can be decrypted using the WebCrypto code: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    (async () =&gt; {\r\n\r\n    // your private key\r\n    var privateKeyInPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==&quot;;\r\n\r\n    var privateKey = await window.crypto.subtle.importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {name: &quot;RSA-OAEP&quot;, hash: &quot;SHA-256&quot;}, true, [&quot;decrypt&quot;]);   \r\n    console.log(privateKey);\r\n\r\n    // Base64 encoded ciphertext from openssl pkeyutl\r\n    var cipher = &quot;V2QWzwoOHPAlKhGqv0fDSv+lSPytBW4tTxVVJgneyvfIqTDvllhbZJzUAszdAC0IEow+YgbIWHyIBCw9YVS+EDZ3jbuIU97nx5NxAimiUFKvUmHE8p3oP6AP/etJhGQGC+fMiTbhmGn5FQhMnH/2lVei3yJypXWbgI6ONRmncYalq73q7VGelFUSubuPWQA3bKzuIOSorpQFy9sGIMDvW+YOMLrClVmUujVrEXrdsIbvzSb6hooKHbwjOaAmN4XRw0sr+YaF3n2PwazpLSvJmuugF26GxhmJAMmNViUvvsN+ycpJZdyRKNehQGqmahpC0XXihZ9dsHEH7vIDDmPAZQ==&quot;;\r\n    console.log(&#39;cipher: &#39;+cipher)\r\n\r\n    // successfull decryption\r\n    var decrypted = await window.crypto.subtle.decrypt({name: &quot;RSA-OAEP&quot;}, privateKey, str2ab(window.atob(cipher)));\r\n    const dec = new TextDecoder();\r\n    console.log(&#39;DECRYPTED MSG:&#39; + dec.decode(decrypted));\r\n\r\n    })();\r\n\r\n\r\n    function base64StringToArrayBuffer(base64String){\r\n        return Uint8Array.from(window.atob(base64String), c =&gt; c.charCodeAt(0));\r\n    }\r\n\r\n    function str2ab(str) {\r\n        const buf = new ArrayBuffer(str.length);\r\n        const bufView = new Uint8Array(buf);\r\n        for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\r\n            bufView[i] = str.charCodeAt(i);\r\n        }\r\n        return buf;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n-------\r\n\r\nFor completeness: In the context of OAEP there are two digests to specify, the content digest and the MGF1 digest. *pkeyutl* allows to set both independently. If both digests are identical (which is usually the case), it is sufficient to set only the content digest via `rsa_oaep_md`, i.e. the MGF1 digest implicitly has the same value as long as no other digest is explicitly set via `rsa_mgf1_md`.\r\n\r\n\r\n\r\n[1]: https://superuser.com/q/1016696\r\n[2]: https://www.openssl.org/docs/man1.1.1/man1/openssl-pkeyutl.html","title":"Getting different encryption results - RSA - Java and Openssl","body":"<p><em>rsautl</em> unchangeably uses SHA1 for the OAEP digests, see <a href=\"https://superuser.com/q/1016696\">here</a>. Since you apply SHA256 in the WebCrypto code, you must use <a href=\"https://www.openssl.org/docs/man1.1.1/man1/openssl-pkeyutl.html\" rel=\"nofollow noreferrer\"><em>pkeyutl</em></a> instead, which allows the specification of the digests:</p>\n<pre class=\"lang-none prettyprint-override\"><code>openssl pkeyutl -in plaintext.txt -out ciphertext.bin -encrypt -keyform DER -pubin -inkey spki.der -pkeyopt rsa_padding_mode:oaep -pkeyopt rsa_oaep_md:sha256 -pkeyopt rsa_mgf1_md:sha256 \n</code></pre>\n<p>A ciphertext generated in this way can be decrypted using the WebCrypto code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(async () =&gt; {\n\n// your private key\nvar privateKeyInPem = \"MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\";\n\nvar privateKey = await window.crypto.subtle.importKey(\"pkcs8\", base64StringToArrayBuffer(privateKeyInPem), {name: \"RSA-OAEP\", hash: \"SHA-256\"}, true, [\"decrypt\"]);   \nconsole.log(privateKey);\n\n// Base64 encoded ciphertext from openssl pkeyutl\nvar cipher = \"V2QWzwoOHPAlKhGqv0fDSv+lSPytBW4tTxVVJgneyvfIqTDvllhbZJzUAszdAC0IEow+YgbIWHyIBCw9YVS+EDZ3jbuIU97nx5NxAimiUFKvUmHE8p3oP6AP/etJhGQGC+fMiTbhmGn5FQhMnH/2lVei3yJypXWbgI6ONRmncYalq73q7VGelFUSubuPWQA3bKzuIOSorpQFy9sGIMDvW+YOMLrClVmUujVrEXrdsIbvzSb6hooKHbwjOaAmN4XRw0sr+YaF3n2PwazpLSvJmuugF26GxhmJAMmNViUvvsN+ycpJZdyRKNehQGqmahpC0XXihZ9dsHEH7vIDDmPAZQ==\";\nconsole.log('cipher: '+cipher)\n\n// successfull decryption\nvar decrypted = await window.crypto.subtle.decrypt({name: \"RSA-OAEP\"}, privateKey, str2ab(window.atob(cipher)));\nconst dec = new TextDecoder();\nconsole.log('DECRYPTED MSG:' + dec.decode(decrypted));\n\n})();\n\n\nfunction base64StringToArrayBuffer(base64String){\n    return Uint8Array.from(window.atob(base64String), c =&gt; c.charCodeAt(0));\n}\n\nfunction str2ab(str) {\n    const buf = new ArrayBuffer(str.length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n        bufView[i] = str.charCodeAt(i);\n    }\n    return buf;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>For completeness: In the context of OAEP there are two digests to specify, the content digest and the MGF1 digest. <em>pkeyutl</em> allows to set both independently. If both digests are identical (which is usually the case), it is sufficient to set only the content digest via <code>rsa_oaep_md</code>, i.e. the MGF1 digest implicitly has the same value as long as no other digest is explicitly set via <code>rsa_mgf1_md</code>.</p>\n"}],"owner":{"account_id":17208279,"reputation":89,"user_id":12458326,"display_name":"Ilja Veselov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287989,"answer_count":1,"score":0,"last_activity_date":1675101248,"creation_date":1675095193,"question_id":75287129,"body_markdown":"When I encrypt a string of text with Java and Openssl - I am unable to decrypt the cipher (using Javascript Crypto Subtle) got from Openssl, however Java cipher is decrypted (with Crypto Subtle Web API JS) succesfully. Could you please look into and advise where is the mistake?\r\n\r\n1. Here are RSA Public and Private key examples in Base64 generated by JS Crypto Sublte API:\r\n\r\nPublic key (RSA-OAEP, monulus 2048, hash SHA-256):\r\n\r\n   ```\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8JhmO71HZ1vb8uxKhw6MM+ZvtTmc9Tw6AFpJVgXKiTjebj1SPdnxhdhJ5Bj15RN0rGNACXhAyUdn7zsp66/tmjNuC91L+9PvQBjDbXLsx7XUV9nIGJ3aYO5/qruVNXwyemf7wlwZVDF7oeZ8JUfjABTg7a7xui2WdXDHgvhTQdvQ9TS0NkX9xWAiDSn/HWfoEBC7TLeKeVjHsT7g1JnskGxfVhFrLfxQCxYZle4ebXP7dCPsff4WNNCxzBQtHHt8iEoZ0SVKBzS5zhdLHIdAIW4ELdnYsM7iTlWZO+kfWnlV2i13lAJobhxOAqwsg4OqkTsrx0KtWfZH40bNtFzx8wIDAQAB\r\n\r\n```\r\n\r\nPrivate Key (the same parameteres):\r\n\r\n```\r\n   MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\r\n\r\n\r\n```\r\n\r\n2. Here is Java Code which receives Public key as Base64 string and create PublicKey instance from ite. Then I am encrypting a string of text with this key and encode the cipher to Base64 string.\r\n\r\n \r\n\r\n     ```\r\n     String stringToEncrypt = &quot;This is encrypted message!!!&quot;;\r\n\r\n    byte[] publicKeyBytes = Base64.getDecoder().decode(&quot;MIIBIjANBgkqhki....&quot;);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\n\r\n    OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new \r\n     MGF1ParameterSpec(&quot;SHA-256&quot;),PSource.PSpecified.DEFAULT);\r\n\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n     PublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n\r\n     cipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams);\r\n\r\n     String cipherBytes = \r\n     Base64.getEncoder().encodeToString(cipher.doFinal(stringToEncrypt.getBytes()));\r\n\r\n    ```\r\n\r\n     The cipherBytes Base64 string then succsefully decrypted by JS Crypto Subtle code below:\r\n\r\n3. First keypair generation code:\r\n\r\n```\r\nconst keyPair = await window.crypto.subtle.generateKey(\r\n            {\r\n                name: &quot;RSA-OAEP&quot;,\r\n                modulusLength: 2048,\r\n                publicExponent: new Uint8Array([1, 0, 1]),\r\n                hash: &quot;SHA-256&quot;\r\n            },\r\n            true,\r\n            [&quot;encrypt&quot;, &quot;decrypt&quot;]\r\n        )\r\n\r\n```\r\n\r\n\r\n\r\nImport Private key = \r\n\r\n```\r\n    return window.crypto.subtle\r\n          .importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {\r\n              name: &quot;RSA-OAEP&quot;,\r\n              hash: &quot;SHA-256&quot;,\r\n          }, true, [&quot;decrypt&quot;]).then(key=&gt;{\r\n              return key;\r\n          })\r\n\r\n```\r\n\r\nAnd then decrypt cipher \r\n\r\n```\r\n        const dec = new TextDecoder();\r\n\r\n        function str2ab(str: any) {\r\n            const buf = new ArrayBuffer(str.length);\r\n            const bufView = new Uint8Array(buf);\r\n            for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\r\n                bufView[i] = str.charCodeAt(i);\r\n            }\r\n\r\n            return buf;\r\n        }\r\n\r\n        console.log(&#39;cipher: &#39;+cipher)\r\n        return window.crypto.subtle.decrypt({\r\n                name: &quot;RSA-OAEP&quot;,\r\n            },\r\n            privateKey,\r\n            str2ab(window.atob(cipher))\r\n        ).then(result=&gt;{\r\n            console.log(&#39;DECRYPTED MSG:&#39;+dec.decode(result));\r\n        })\r\n\r\n\r\n```\r\n\r\nBut the problem is when I try to decrypt the cipher from openssl - it doesn&#39;t work.\r\nHere is the Openssl command which I use:\r\n\r\n```\r\nOpenSSL&gt; rsautl -encrypt -pubin -keyform DER -inkey publicKey.der -oaep -in input.txt -out out.bin\r\n\r\n```\r\nI am using the same Public key, just converted from Base64 string to DER format (converted Base64 string key to DER with Java - 1. Decode base64 string -&gt; byte[]-&gt;write to file each byte)\r\n\r\nAnd finally last Openssl operation to convert binary data from out.bin to Base64 string\r\n\r\n```\r\nOpenSSL&gt; enc -A -base64 -in out.bin -out base64.txt\r\n\r\n``` \r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting different encryption results - RSA - Java and Openssl","body":"<p>When I encrypt a string of text with Java and Openssl - I am unable to decrypt the cipher (using Javascript Crypto Subtle) got from Openssl, however Java cipher is decrypted (with Crypto Subtle Web API JS) succesfully. Could you please look into and advise where is the mistake?</p>\n<ol>\n<li>Here are RSA Public and Private key examples in Base64 generated by JS Crypto Sublte API:</li>\n</ol>\n<p>Public key (RSA-OAEP, monulus 2048, hash SHA-256):</p>\n<pre><code>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8JhmO71HZ1vb8uxKhw6MM+ZvtTmc9Tw6AFpJVgXKiTjebj1SPdnxhdhJ5Bj15RN0rGNACXhAyUdn7zsp66/tmjNuC91L+9PvQBjDbXLsx7XUV9nIGJ3aYO5/qruVNXwyemf7wlwZVDF7oeZ8JUfjABTg7a7xui2WdXDHgvhTQdvQ9TS0NkX9xWAiDSn/HWfoEBC7TLeKeVjHsT7g1JnskGxfVhFrLfxQCxYZle4ebXP7dCPsff4WNNCxzBQtHHt8iEoZ0SVKBzS5zhdLHIdAIW4ELdnYsM7iTlWZO+kfWnlV2i13lAJobhxOAqwsg4OqkTsrx0KtWfZH40bNtFzx8wIDAQAB\n\n</code></pre>\n<p>Private Key (the same parameteres):</p>\n<pre><code>   MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDwmGY7vUdnW9vy7EqHDowz5m+1OZz1PDoAWklWBcqJON5uPVI92fGF2EnkGPXlE3SsY0AJeEDJR2fvOynrr+2aM24L3Uv70+9AGMNtcuzHtdRX2cgYndpg7n+qu5U1fDJ6Z/vCXBlUMXuh5nwlR+MAFODtrvG6LZZ1cMeC+FNB29D1NLQ2Rf3FYCINKf8dZ+gQELtMt4p5WMexPuDUmeyQbF9WEWst/FALFhmV7h5tc/t0I+x9/hY00LHMFC0ce3yIShnRJUoHNLnOF0sch0AhbgQt2diwzuJOVZk76R9aeVXaLXeUAmhuHE4CrCyDg6qROyvHQq1Z9kfjRs20XPHzAgMBAAECggEAPtCjPGyeFFu00LclfB5tt20t9CQ/GP3o7MelxvpLF0mMNT74VmKs/rNqE037ARxzxUBCa1aEn6hvd9O8DadIgw5zaFCWMoDyQYtVlqE/NaMA9hDLf7XS2qTaGyLPgX/UFAZLAkMWb9ddfncVKYybtR0+Xn/i56dYVYAk7spTvmkai5Q4Li5eEJqrRNse5fg/wiwDda/cWlEvlvfziAjU51gS/Y9ItUT8Z1g8A2NYfqgFVgBVb0qrtbP76TWPbeLZr1FXTMDB0MO+zuC+1lq48+CYqSJqi9a4GlW2gi0wkaQe3VIOsHipv82kSh20LczXiSKqF58F8m4whWqpa02rrQKBgQD6tbuFiY8fVXi44m1mFO7KDIVXFjuMca0+qXisVaUhG4q42fnlHN0kyuH2IFXNxHD+gE4MnvAUkXDkG1znaz8vM2tfQn6vSpU7OytwOt6UEMWm+112083nGMUy1Me/6rAJbBWfTAl0KXY9/Y/SuEL8u+W6Eas+eASUIe1DooI4xwKBgQD1rAfUXjuRH6WFnbITdG8B3WVZhRCx3YuQVE1UnHR8N6qfx6qKIricvKMSvtWAj0UiIbSA8DENyfMiyAbGpZ0cILxtdXZOtZFW9hfiOeLptnYKTJXOiGoju1prxpUNUKu/1kd7e0clxN75mooge8yFFA6il43wYhhwO2si+FYJdQKBgQDL+1TpX3StX9NrSf8MkXd/uRQ8OQCWUl9MnoJqZPyHpWsG34Ms4IElUFTs9n4Zfv0YdLgMGLzpXzRkw8ahG2c7NjDkPqvoX1xv5sJ++8bg3YyTQe1XoxjiMAsyQmGLSp2T7PbitvDyLFHiOg3surL2AsL00y9rEidXhwsOfohJPQKBgQCqhw4sQHjShIgNlmfMj06amcZG/FGZVPISbiH7cFp++tjp7duX5QAGc/4x/dsPUOOpDIJR2egC7UJiyzvA2aaTprmEtTs46VmIZmwvsQSsO+X1wjFeWlxqjxr1orNFudBt6dxWfzzkn6Iy2i203Jobac+61r5EtKLIDMaSUJTQHQKBgQDaNTfgakpyZBSp/Ydzu76qDKpzGuDqrLBnR/lui4DrSyUoOjNwaGlkU/B6USdaC/BGO7lI08HZU7FzutvXb1mKS+nUI7rKvSTN9NKUJF4MaBv9q40RViKkF9vbq2f1wMs2KUNc0ex2ZL+5BOBICJNHyVulKSxY54Z55L/H4FZmWw==\n\n\n</code></pre>\n<ol start=\"2\">\n<li><p>Here is Java Code which receives Public key as Base64 string and create PublicKey instance from ite. Then I am encrypting a string of text with this key and encode the cipher to Base64 string.</p>\n<pre><code>String stringToEncrypt = &quot;This is encrypted message!!!&quot;;\n\nbyte[] publicKeyBytes = Base64.getDecoder().decode(&quot;MIIBIjANBgkqhki....&quot;);\n\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\n\nOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new \nMGF1ParameterSpec(&quot;SHA-256&quot;),PSource.PSpecified.DEFAULT);\n\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n\nPublicKey rsaPublicKey = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\n\ncipher.init(Cipher.ENCRYPT_MODE, rsaPublicKey,oaepParams);\n\nString cipherBytes = \nBase64.getEncoder().encodeToString(cipher.doFinal(stringToEncrypt.getBytes()));\n\n</code></pre>\n<p>The cipherBytes Base64 string then succsefully decrypted by JS Crypto Subtle code below:</p>\n</li>\n<li><p>First keypair generation code:</p>\n</li>\n</ol>\n<pre><code>const keyPair = await window.crypto.subtle.generateKey(\n            {\n                name: &quot;RSA-OAEP&quot;,\n                modulusLength: 2048,\n                publicExponent: new Uint8Array([1, 0, 1]),\n                hash: &quot;SHA-256&quot;\n            },\n            true,\n            [&quot;encrypt&quot;, &quot;decrypt&quot;]\n        )\n\n</code></pre>\n<p>Import Private key =</p>\n<pre><code>    return window.crypto.subtle\n          .importKey(&quot;pkcs8&quot;, base64StringToArrayBuffer(privateKeyInPem), {\n              name: &quot;RSA-OAEP&quot;,\n              hash: &quot;SHA-256&quot;,\n          }, true, [&quot;decrypt&quot;]).then(key=&gt;{\n              return key;\n          })\n\n</code></pre>\n<p>And then decrypt cipher</p>\n<pre><code>        const dec = new TextDecoder();\n\n        function str2ab(str: any) {\n            const buf = new ArrayBuffer(str.length);\n            const bufView = new Uint8Array(buf);\n            for (let i = 0, strLen = str.length; i &lt; strLen; i++) {\n                bufView[i] = str.charCodeAt(i);\n            }\n\n            return buf;\n        }\n\n        console.log('cipher: '+cipher)\n        return window.crypto.subtle.decrypt({\n                name: &quot;RSA-OAEP&quot;,\n            },\n            privateKey,\n            str2ab(window.atob(cipher))\n        ).then(result=&gt;{\n            console.log('DECRYPTED MSG:'+dec.decode(result));\n        })\n\n\n</code></pre>\n<p>But the problem is when I try to decrypt the cipher from openssl - it doesn't work.\nHere is the Openssl command which I use:</p>\n<pre><code>OpenSSL&gt; rsautl -encrypt -pubin -keyform DER -inkey publicKey.der -oaep -in input.txt -out out.bin\n\n</code></pre>\n<p>I am using the same Public key, just converted from Base64 string to DER format (converted Base64 string key to DER with Java - 1. Decode base64 string -&gt; byte[]-&gt;write to file each byte)</p>\n<p>And finally last Openssl operation to convert binary data from out.bin to Base64 string</p>\n<pre><code>OpenSSL&gt; enc -A -base64 -in out.bin -out base64.txt\n\n</code></pre>\n"},{"tags":["java","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":26864616,"reputation":304,"user_id":20447561,"display_name":"Yuji Bry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675101049,"creation_date":1675101049,"answer_id":75288266,"question_id":75282937,"body_markdown":"I would recommend reaching out to [Firebase support][1] since this is about ownership issue. It’ll be challenging to help you on a public forum without going into project-specific details. The support channel can offer personalized help. \r\n\r\n  [1]: https://firebase.google.com/support\r\n","title":"FCM-I have the server key but I am not remembering the login details to FCM. How will i get details from serverkey?","body":"<p>I would recommend reaching out to <a href=\"https://firebase.google.com/support\" rel=\"nofollow noreferrer\">Firebase support</a> since this is about ownership issue. It’ll be challenging to help you on a public forum without going into project-specific details. The support channel can offer personalized help.</p>\n"}],"owner":{"account_id":18449467,"reputation":80,"user_id":13439943,"display_name":"syam kumar c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675101049,"creation_date":1675073752,"question_id":75282937,"body_markdown":"I have done a project with FCM Push Notification feature. In my java I put the server key from FCM for easily pushing the notification. This was 2 years before and now I am not remembering the Gmail I used to create the FCM account.\r\nIs there any way I can get any information from my server key?","title":"FCM-I have the server key but I am not remembering the login details to FCM. How will i get details from serverkey?","body":"<p>I have done a project with FCM Push Notification feature. In my java I put the server key from FCM for easily pushing the notification. This was 2 years before and now I am not remembering the Gmail I used to create the FCM account.\nIs there any way I can get any information from my server key?</p>\n"},{"tags":["java","spring-boot","validation","thymeleaf"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675295472,"post_id":75288193,"comment_id":132900782,"body_markdown":"https://stackoverflow.com/questions/64266061/using-an-enum-within-a-nested-class-with-thymeleaf-and-spring-boot","body":"<a href=\"https://stackoverflow.com/questions/64266061/using-an-enum-within-a-nested-class-with-thymeleaf-and-spring-boot\" title=\"using an enum within a nested class with thymeleaf and spring boot\">stackoverflow.com/questions/64266061/&hellip;</a>"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675295524,"post_id":75288193,"comment_id":132900788,"body_markdown":"Could try that since your stacktrace shows the value is null","body":"Could try that since your stacktrace shows the value is null"},{"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"score":0,"creation_date":1675344543,"post_id":75288193,"comment_id":132911635,"body_markdown":"the issue is not in enum itself, cuz even the ```String lengthOfOutput``` attribute annotated with\n```@Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)```\ndoes not affect the ```bindingResult.hasErrors()```","body":"the issue is not in enum itself, cuz even the <code>String lengthOfOutput</code> attribute annotated with <code>@Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)</code> does not affect the <code>bindingResult.hasErrors()</code>"}],"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100657,"creation_date":1675100657,"question_id":75288193,"body_markdown":"I&#39;m struggling to get the validation work on simple web form in spring boot + thymeleaf project.\r\n\r\nI&#39;ve got these dependencies in my pom:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThat&#39;s my DTO with @NotEmpty and @Pattern annotated fields:\r\n\r\n    package com.example.randomtext.web;\r\n    import lombok.Getter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.Pattern;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class MainPageForm {\r\n        @NotEmpty(message = &quot;choose the source file&quot;)\r\n        private SourceFile sourceFile;\r\n        private String sourceText;\r\n        private boolean sourceTextSet;\r\n        private String generatedText;\r\n        @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)\r\n        private String lengthOfOutput;\r\n    \r\n        @RequiredArgsConstructor\r\n        @Getter\r\n        public enum SourceFile {\r\n            ALICE(&quot;alice.txt&quot;),\r\n            CONFUCIUS(&quot;confucius.txt&quot;),\r\n            private static final SourceFile[] ALL_VALUES = SourceFile.values();\r\n            private final String fileName;\r\n        }\r\n    }\r\n\r\nthat&#39;s my main.html form\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;RandomText&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h3&gt;Random text generator&lt;/h3&gt;\r\n    &lt;pre th:if=&quot;${!mainPageForm.sourceTextSet}&quot; th:style=&quot;&#39;color:red;&#39;&quot;&gt;\r\n        source text not set. Have you chosen the source file?&lt;/pre&gt;\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/random_text}&quot; th:object=&quot;${mainPageForm}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;label&gt;source file&lt;/label&gt;&lt;br&gt;\r\n        &lt;div th:each=&quot;sourceFile : ${T(com.example.randomtext.web.MainPageForm.SourceFile).values()}&quot;&gt;\r\n            &lt;input type=&quot;radio&quot; th:field=&quot;*{sourceFile}&quot; th:value=&quot;${sourceFile}&quot;&gt;\r\n            &lt;label th:text=&quot;${sourceFile.getFileName()}&quot;&gt;source file&lt;/label&gt;\r\n            &lt;pre th:style=&quot;&#39;color:red;&#39;&quot;\r\n                th:if=&quot;${#fields.hasErrors(&#39;sourceFile&#39;)}&quot;\r\n            th:errors=&quot;*{sourceFile}&quot;&gt;&lt;/pre&gt;\r\n            &lt;br&gt;\r\n        &lt;/div&gt;\r\n        &lt;label&gt;length of string to be generated&lt;br&gt;\r\n            &lt;input type=&quot;text&quot; width=&quot;200&quot; th:field=&quot;*{lengthOfOutput}&quot;&gt;\r\n            &lt;pre th:style=&quot;&#39;color:red;&#39;&quot;\r\n               th:if=&quot;${#fields.hasErrors(&#39;lengthOfOutput&#39;)}&quot;\r\n               th:errors=&quot;*{lengthOfOutput}&quot;&gt;&lt;/pre&gt;\r\n        &lt;/label&gt;&lt;br&gt;&lt;br&gt;\r\n        &lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;input type=&quot;reset&quot; value=&quot;Reset&quot;/&gt;\r\n    &lt;/form&gt;\r\n    &lt;pre th:text=&quot;${mainPageForm.sourceText}&quot; th:style=&quot;&#39;color:black;&#39;&quot;&gt;\r\n        source text&lt;/pre&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmy controller looks like\r\n\r\n    package com.example.randomtext.web;\r\n    \r\n    import com.example.randomtext.RandomTextService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.net.URISyntaxException;\r\n    \r\n    import static com.example.randomtext.Constants.BASE_PATH;\r\n    import static com.example.randomtext.Constants.MAIN_TEMPLATE;\r\n    \r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class MainPageController {\r\n        private final RandomTextService service;\r\n    \r\n        @GetMapping(BASE_PATH)\r\n        public String doGet(MainPageForm form) {\r\n            return MAIN_TEMPLATE;\r\n        }\r\n    \r\n        @PostMapping(BASE_PATH)\r\n        public String doPost(@Valid MainPageForm mainPageForm, BindingResult bindingResult) throws URISyntaxException {\r\n            log.info(&quot;got form data {}&quot;, mainPageForm.toString());\r\n            if (!bindingResult.hasErrors()) {\r\n                log.info(&quot;see no errors :E&quot;);\r\n                log.info(bindingResult.toString());\r\n                log.info(&quot;sourceFile {}&quot;, mainPageForm.getSourceFile().getFileName());\r\n                mainPageForm.setSourceText(service.readSourceString(mainPageForm.getSourceFile().getFileName()));\r\n            } else {\r\n                log.info(&quot;got errors&quot;);\r\n                bindingResult.getFieldErrors()\r\n                             .forEach(e -&gt; log.error(&quot;got validation error {} for field {}&quot;,\r\n                                                     e.getDefaultMessage(),\r\n                                                     e.getField()));\r\n            }\r\n            return MAIN_TEMPLATE;\r\n        }\r\n    }\r\n\r\nand when I submitting the empty form the log output is:\r\n\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : got form data MainPageForm(sourceFile=null, sourceText=null, sourceTextSet=false, generatedText=null, lengthOfOutput=)\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : see no errors :E\r\n    2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : org.springframework.validation.BeanPropertyBindingResult: 0 errors\r\n    2023-01-30T20:22:49.483+03:00 ERROR 5464 --- [p-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.example.randomtext.web.MainPageForm$SourceFile.getFileName()&quot; because the return value of &quot;com.example.randomtext.web.MainPageForm.getSourceFile()&quot; is null] with root cause\r\n\r\nI&#39;ve looked trough similar questions:\r\nhttps://stackoverflow.com/questions/49492803/spring-boot-validation-doesnt-work\r\nhttps://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\r\nhttps://stackoverflow.com/questions/27111806/validation-form-in-spring-using-valid-not-work\r\nhttps://stackoverflow.com/questions/71330986/dto-validation-in-spring-boot-not-working\r\n\r\nplayed with javax and hibernate validation dependencies versions,\r\ntried maven-clean but nothing of these helped\r\n\r\nI&#39;d appreciate any hint\r\n","title":"themyleaf validation does not work at spring boot + themyleaf project","body":"<p>I'm struggling to get the validation work on simple web form in spring boot + thymeleaf project.</p>\n<p>I've got these dependencies in my pom:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;6.1.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>That's my DTO with @NotEmpty and @Pattern annotated fields:</p>\n<pre><code>package com.example.randomtext.web;\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.Pattern;\n\n@Getter\n@Setter\n@ToString\npublic class MainPageForm {\n    @NotEmpty(message = &quot;choose the source file&quot;)\n    private SourceFile sourceFile;\n    private String sourceText;\n    private boolean sourceTextSet;\n    private String generatedText;\n    @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;input the whole number&quot;)\n    private String lengthOfOutput;\n\n    @RequiredArgsConstructor\n    @Getter\n    public enum SourceFile {\n        ALICE(&quot;alice.txt&quot;),\n        CONFUCIUS(&quot;confucius.txt&quot;),\n        private static final SourceFile[] ALL_VALUES = SourceFile.values();\n        private final String fileName;\n    }\n}\n</code></pre>\n<p>that's my main.html form</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;RandomText&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Random text generator&lt;/h3&gt;\n&lt;pre th:if=&quot;${!mainPageForm.sourceTextSet}&quot; th:style=&quot;'color:red;'&quot;&gt;\n    source text not set. Have you chosen the source file?&lt;/pre&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/random_text}&quot; th:object=&quot;${mainPageForm}&quot;\n      method=&quot;post&quot;&gt;\n    &lt;label&gt;source file&lt;/label&gt;&lt;br&gt;\n    &lt;div th:each=&quot;sourceFile : ${T(com.example.randomtext.web.MainPageForm.SourceFile).values()}&quot;&gt;\n        &lt;input type=&quot;radio&quot; th:field=&quot;*{sourceFile}&quot; th:value=&quot;${sourceFile}&quot;&gt;\n        &lt;label th:text=&quot;${sourceFile.getFileName()}&quot;&gt;source file&lt;/label&gt;\n        &lt;pre th:style=&quot;'color:red;'&quot;\n            th:if=&quot;${#fields.hasErrors('sourceFile')}&quot;\n        th:errors=&quot;*{sourceFile}&quot;&gt;&lt;/pre&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    &lt;label&gt;length of string to be generated&lt;br&gt;\n        &lt;input type=&quot;text&quot; width=&quot;200&quot; th:field=&quot;*{lengthOfOutput}&quot;&gt;\n        &lt;pre th:style=&quot;'color:red;'&quot;\n           th:if=&quot;${#fields.hasErrors('lengthOfOutput')}&quot;\n           th:errors=&quot;*{lengthOfOutput}&quot;&gt;&lt;/pre&gt;\n    &lt;/label&gt;&lt;br&gt;&lt;br&gt;\n    &lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;input type=&quot;reset&quot; value=&quot;Reset&quot;/&gt;\n&lt;/form&gt;\n&lt;pre th:text=&quot;${mainPageForm.sourceText}&quot; th:style=&quot;'color:black;'&quot;&gt;\n    source text&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my controller looks like</p>\n<pre><code>package com.example.randomtext.web;\n\nimport com.example.randomtext.RandomTextService;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport javax.validation.Valid;\nimport java.net.URISyntaxException;\n\nimport static com.example.randomtext.Constants.BASE_PATH;\nimport static com.example.randomtext.Constants.MAIN_TEMPLATE;\n\n@Controller\n@RequiredArgsConstructor\n@Slf4j\npublic class MainPageController {\n    private final RandomTextService service;\n\n    @GetMapping(BASE_PATH)\n    public String doGet(MainPageForm form) {\n        return MAIN_TEMPLATE;\n    }\n\n    @PostMapping(BASE_PATH)\n    public String doPost(@Valid MainPageForm mainPageForm, BindingResult bindingResult) throws URISyntaxException {\n        log.info(&quot;got form data {}&quot;, mainPageForm.toString());\n        if (!bindingResult.hasErrors()) {\n            log.info(&quot;see no errors :E&quot;);\n            log.info(bindingResult.toString());\n            log.info(&quot;sourceFile {}&quot;, mainPageForm.getSourceFile().getFileName());\n            mainPageForm.setSourceText(service.readSourceString(mainPageForm.getSourceFile().getFileName()));\n        } else {\n            log.info(&quot;got errors&quot;);\n            bindingResult.getFieldErrors()\n                         .forEach(e -&gt; log.error(&quot;got validation error {} for field {}&quot;,\n                                                 e.getDefaultMessage(),\n                                                 e.getField()));\n        }\n        return MAIN_TEMPLATE;\n    }\n}\n</code></pre>\n<p>and when I submitting the empty form the log output is:</p>\n<pre><code>2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : got form data MainPageForm(sourceFile=null, sourceText=null, sourceTextSet=false, generatedText=null, lengthOfOutput=)\n2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : see no errors :E\n2023-01-30T20:22:49.481+03:00  INFO 5464 --- [p-nio-80-exec-6] c.e.randomtext.web.MainPageController    : org.springframework.validation.BeanPropertyBindingResult: 0 errors\n2023-01-30T20:22:49.483+03:00 ERROR 5464 --- [p-nio-80-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.example.randomtext.web.MainPageForm$SourceFile.getFileName()&quot; because the return value of &quot;com.example.randomtext.web.MainPageForm.getSourceFile()&quot; is null] with root cause\n</code></pre>\n<p>I've looked trough similar questions:\n<a href=\"https://stackoverflow.com/questions/49492803/spring-boot-validation-doesnt-work\">Spring boot validation doesn&#39;t work</a>\n<a href=\"https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\">Spring boot validation annotations @Valid and @NotBlank not working</a>\n<a href=\"https://stackoverflow.com/questions/27111806/validation-form-in-spring-using-valid-not-work\">Validation form in Spring using @Valid not work</a>\n<a href=\"https://stackoverflow.com/questions/71330986/dto-validation-in-spring-boot-not-working\">DTO validation in Spring Boot not working</a></p>\n<p>played with javax and hibernate validation dependencies versions,\ntried maven-clean but nothing of these helped</p>\n<p>I'd appreciate any hint</p>\n"},{"tags":["java","jackson","reactive-streams","mutiny","smallrye"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1666459804,"post_id":74156376,"comment_id":130944344,"body_markdown":"I had created a `jsongenerator` that creates the wrapper for your first json (not using mutiny) , this could help you ?","body":"I had created a <code>jsongenerator</code> that creates the wrapper for your first json (not using mutiny) , this could help you ?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1666470614,"post_id":74156376,"comment_id":130946446,"body_markdown":"@dariosicily Thanks a lot for your response but I did not understand your response completely. Do you mean you have created JSON using the `JsonGenerator` which you would like to provide? I am already creating the wrapper using the `JsonGenerator` and provided the same using the question. All I need to do is append that JSON to the mutiny which is returning the response asynchronously. I am unable to do it.","body":"@dariosicily Thanks a lot for your response but I did not understand your response completely. Do you mean you have created JSON using the <code>JsonGenerator</code> which you would like to provide? I am already creating the wrapper using the <code>JsonGenerator</code> and provided the same using the question. All I need to do is append that JSON to the mutiny which is returning the response asynchronously. I am unable to do it."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675100416,"creation_date":1675100416,"answer_id":75288153,"question_id":74156376,"body_markdown":"Your approach wouldn&#39;t make as you are wrapping random input that goes out of the `CustomGenerator` control.\r\n\r\nSince you are able to generate the final output only when all emitted `Customer` object are emitted, and supposing you would like to retain a object oriented approach (i.e. not shifting to emitting JSON tokens), you should collect the emitted customers then wrap the collected items into your final JSON output:\r\n\r\n    Uni&lt;byte[]&gt; result = Multi.createFrom().publisher(new CustomerPublisher(input))\r\n        .collect()\r\n        .asList()\r\n        .map(customers -&gt; {\r\n            ByteArrayOutputStream jsonOutput = new ByteArrayOutputStream();\r\n            JsonGenerator jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeArrayFieldStart(&quot;customerList&quot;);\r\n            customers.forEach(customer -&gt; jsonGenerator.writeObject(customer));\r\n            jsonGenerator.writeEndArray();\r\n            jsonGenerator.writeEndObject();\r\n            jsonGenerator.writeEndObject();\r\n            jsonGnenerator.close();\r\n            return jsonOutput.toByteArray();\r\n        });","title":"How to add wrapper JSON to Mutiny Multi?","body":"<p>Your approach wouldn't make as you are wrapping random input that goes out of the <code>CustomGenerator</code> control.</p>\n<p>Since you are able to generate the final output only when all emitted <code>Customer</code> object are emitted, and supposing you would like to retain a object oriented approach (i.e. not shifting to emitting JSON tokens), you should collect the emitted customers then wrap the collected items into your final JSON output:</p>\n<pre><code>Uni&lt;byte[]&gt; result = Multi.createFrom().publisher(new CustomerPublisher(input))\n    .collect()\n    .asList()\n    .map(customers -&gt; {\n        ByteArrayOutputStream jsonOutput = new ByteArrayOutputStream();\n        JsonGenerator jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n        jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n        jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeArrayFieldStart(&quot;customerList&quot;);\n        customers.forEach(customer -&gt; jsonGenerator.writeObject(customer));\n        jsonGenerator.writeEndArray();\n        jsonGenerator.writeEndObject();\n        jsonGenerator.writeEndObject();\n        jsonGnenerator.close();\n        return jsonOutput.toByteArray();\n    });\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675100416,"creation_date":1666368424,"question_id":74156376,"body_markdown":"I have a Java method which creates the customer information in JSON format using the streams approach and returns as and when it is created in an asynchronous approach using the `Multi` from `SmallRye Mutiny`. \r\n\r\nI would like to add the wrapper to this JSON which is being created using the `Jackson JsonGenerator`. I don&#39;t understand how to add the same. I believe I need to make use of the `Multi.createBy().concatenating()` to achieve [this][1].\r\n\r\nThe following is the method that I have:\r\n```\r\npublic static Multi&lt;Customer&gt; generateCustomer(final Input input) {\r\n    try {\r\n        return Multi.createFrom().publisher(new CustomerPublisher(input));\r\n    } catch (Exception e) {\r\n        throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n    }\r\n}\r\n```\r\n\r\nThe above method currently returns something like this asynchronously:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;:&quot;Batman&quot;,\r\n    &quot;age&quot;:45,\r\n    &quot;city&quot;:&quot;gotham&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;:&quot;superman&quot;,\r\n    &quot;age&quot;:50,\r\n    &quot;city&quot;:&quot;moon&quot;\r\n  }\r\n]\r\n```\r\n\r\nI would like to add a wrapper to this JSON and create something like this:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;superman&quot;,\r\n        &quot;age&quot;: 50,\r\n        &quot;city&quot;: &quot;moon&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nSo I have added a method which does this and I would like to call the same, but I am unable to append the same to my ` return Multi.createFrom().publisher`\r\n\r\n```\r\npublic class CustomerGenerator {\r\n\r\n    private ByteArrayOutputStream jsonOutput;\r\n    private JsonGenerator jsonGenerator;\r\n\r\n    private CustomerGenerator() {\r\n        try {\r\n            jsonOutput = new ByteArrayOutputStream();\r\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public static Multi &lt; Customer &gt; generateCustomer(final Input input) {\r\n        CustomerGenerator customerGenerator = new CustomerGenerator();\r\n        customerGenerator.wrapperStart();\r\n        try {\r\n            return Multi.createFrom().publisher(new CustomerPublisher(input));\r\n        } catch (Exception e) {\r\n            throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\r\n        } finally {\r\n            System.out.println(&quot;ALL DONE&quot;);\r\n            customerGenerator.wrapperEnd();\r\n        }\r\n    }\r\n\r\n    public void wrapperStart() {\r\n        try {\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public void wrapperEnd() {\r\n        try {\r\n            jsonGenerator.writeEndObject(); // End body\r\n            jsonGenerator.writeEndObject(); // End whole json file\r\n        } catch (IOException ex) {\r\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n        } finally {\r\n            try {\r\n                jsonGenerator.close();\r\n                System.out.println(&quot;JSON DOCUMENT STRING : &quot; + jsonOutput.toString());\r\n            } catch (Exception e) {\r\n                // do nothing\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/merging-and-concatenating-streams/#merging-multis","title":"How to add wrapper JSON to Mutiny Multi?","body":"<p>I have a Java method which creates the customer information in JSON format using the streams approach and returns as and when it is created in an asynchronous approach using the <code>Multi</code> from <code>SmallRye Mutiny</code>.</p>\n<p>I would like to add the wrapper to this JSON which is being created using the <code>Jackson JsonGenerator</code>. I don't understand how to add the same. I believe I need to make use of the <code>Multi.createBy().concatenating()</code> to achieve <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/merging-and-concatenating-streams/#merging-multis\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>The following is the method that I have:</p>\n<pre><code>public static Multi&lt;Customer&gt; generateCustomer(final Input input) {\n    try {\n        return Multi.createFrom().publisher(new CustomerPublisher(input));\n    } catch (Exception e) {\n        throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n    }\n}\n</code></pre>\n<p>The above method currently returns something like this asynchronously:</p>\n<pre><code>[\n  {\n    &quot;name&quot;:&quot;Batman&quot;,\n    &quot;age&quot;:45,\n    &quot;city&quot;:&quot;gotham&quot;\n  },\n  {\n    &quot;name&quot;:&quot;superman&quot;,\n    &quot;age&quot;:50,\n    &quot;city&quot;:&quot;moon&quot;\n  }\n]\n</code></pre>\n<p>I would like to add a wrapper to this JSON and create something like this:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      },\n      {\n        &quot;name&quot;: &quot;superman&quot;,\n        &quot;age&quot;: 50,\n        &quot;city&quot;: &quot;moon&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>So I have added a method which does this and I would like to call the same, but I am unable to append the same to my <code> return Multi.createFrom().publisher</code></p>\n<pre><code>public class CustomerGenerator {\n\n    private ByteArrayOutputStream jsonOutput;\n    private JsonGenerator jsonGenerator;\n\n    private CustomerGenerator() {\n        try {\n            jsonOutput = new ByteArrayOutputStream();\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\n        }\n    }\n\n    public static Multi &lt; Customer &gt; generateCustomer(final Input input) {\n        CustomerGenerator customerGenerator = new CustomerGenerator();\n        customerGenerator.wrapperStart();\n        try {\n            return Multi.createFrom().publisher(new CustomerPublisher(input));\n        } catch (Exception e) {\n            throw new NewException(&quot;Exception occurred during the generation of Customer : &quot; + e);\n        } finally {\n            System.out.println(&quot;ALL DONE&quot;);\n            customerGenerator.wrapperEnd();\n        }\n    }\n\n    public void wrapperStart() {\n        try {\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n        }\n    }\n\n    public void wrapperEnd() {\n        try {\n            jsonGenerator.writeEndObject(); // End body\n            jsonGenerator.writeEndObject(); // End whole json file\n        } catch (IOException ex) {\n            throw new TestDataGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n        } finally {\n            try {\n                jsonGenerator.close();\n                System.out.println(&quot;JSON DOCUMENT STRING : &quot; + jsonOutput.toString());\n            } catch (Exception e) {\n                // do nothing\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100407,"creation_date":1675100407,"question_id":75288150,"body_markdown":"I have the following annotations:\r\n\r\n```\r\npublic @interface A { B[] value(); }\r\npublic @interface B { C[] value(); }\r\npublic @interface C { Class&lt;?&gt; value(); }\r\n```\r\n\r\nOn the method that I use to process, I receive the annotation itself not the annotation mirror and that behaviour cannot be changed.\r\n\r\n```\r\npublic void process(B annotation)\r\n```\r\n\r\nTo get the class from C I do the following:\r\n\r\n```\r\n    private TypeMirror getClassFromAnnotation( C annotation )\r\n    {\r\n        try\r\n        {\r\n            return getTypeMirror( annotation.value() );\r\n        }\r\n        catch ( MirroredTypeException ex )\r\n        {\r\n            return ex.getTypeMirror();\r\n        }\r\n    }\r\n```\r\n\r\nThe code works fine but the issue comes down when I do the tests.\r\n\r\nI can&#39;t achieve 100% coverage because `return getTypeMirror( annotation.value() )` never gets executed.\r\n\r\nHow can I fix this?\r\n\r\nThanks","title":"Get Class&lt;?&gt; from annotation on annotation processor","body":"<p>I have the following annotations:</p>\n<pre><code>public @interface A { B[] value(); }\npublic @interface B { C[] value(); }\npublic @interface C { Class&lt;?&gt; value(); }\n</code></pre>\n<p>On the method that I use to process, I receive the annotation itself not the annotation mirror and that behaviour cannot be changed.</p>\n<pre><code>public void process(B annotation)\n</code></pre>\n<p>To get the class from C I do the following:</p>\n<pre><code>    private TypeMirror getClassFromAnnotation( C annotation )\n    {\n        try\n        {\n            return getTypeMirror( annotation.value() );\n        }\n        catch ( MirroredTypeException ex )\n        {\n            return ex.getTypeMirror();\n        }\n    }\n</code></pre>\n<p>The code works fine but the issue comes down when I do the tests.</p>\n<p>I can't achieve 100% coverage because <code>return getTypeMirror( annotation.value() )</code> never gets executed.</p>\n<p>How can I fix this?</p>\n<p>Thanks</p>\n"},{"tags":["java","class","java.util.scanner","printwriter"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1675104466,"post_id":75288139,"comment_id":132852801,"body_markdown":"This thread might help: https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final","body":"This thread might help: <a href=\"https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final\" title=\"why is the java util scanner class declared final\">stackoverflow.com/questions/3776940/&hellip;</a>"}],"owner":{"account_id":26365556,"reputation":1,"user_id":20021091,"display_name":"Mohammed Alsafari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675100330,"creation_date":1675100330,"question_id":75288139,"body_markdown":"As a new OOP programmer, our instructor has faced us with an interesting question. \\*Why we can&#39;t inherent a Scanner class?&quot; He said.\r\n\r\nAt first it was kinda obvious, &quot;Because it is declared as final!&quot; We said.\r\n\r\nHe said: &quot;Ok.. Why is the Scanner class defined as final, while PrintWriter is not? and by the way it is not because of security reasons. look it up!&quot;?\r\n\r\nWhat a great question in my sight! they are very similar, we use the first one to scan &amp; input and the second one to write &amp; output.\r\n\r\nI&#39;ve already seen some other similar question in stack overflow, [here](https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final). But I wasn&#39;t satisfied with the answers.\r\n\r\n----------\r\n\r\nSo my question is &quot;Why is the Scanner class is defined as final, while PrintWriter is not?&quot;.\r\n\r\nI tried to search it in google, found no answer. Matter of fact, found no body asking the same question.\r\n\r\nI also looked the Scanner &amp; PrintWriter java documentation. found nothing that justifies it.","title":"Why is the Scanner class in java is defined as final while PrintWriter is not?","body":"<p>As a new OOP programmer, our instructor has faced us with an interesting question. *Why we can't inherent a Scanner class?&quot; He said.</p>\n<p>At first it was kinda obvious, &quot;Because it is declared as final!&quot; We said.</p>\n<p>He said: &quot;Ok.. Why is the Scanner class defined as final, while PrintWriter is not? and by the way it is not because of security reasons. look it up!&quot;?</p>\n<p>What a great question in my sight! they are very similar, we use the first one to scan &amp; input and the second one to write &amp; output.</p>\n<p>I've already seen some other similar question in stack overflow, <a href=\"https://stackoverflow.com/questions/3776940/why-is-the-java-util-scanner-class-declared-final\">here</a>. But I wasn't satisfied with the answers.</p>\n<hr />\n<p>So my question is &quot;Why is the Scanner class is defined as final, while PrintWriter is not?&quot;.</p>\n<p>I tried to search it in google, found no answer. Matter of fact, found no body asking the same question.</p>\n<p>I also looked the Scanner &amp; PrintWriter java documentation. found nothing that justifies it.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1675091689,"post_id":75286300,"comment_id":132848487,"body_markdown":"Don&#39;t create multiple scanners. Just create one, and call nextLine twice.","body":"Don&#39;t create multiple scanners. Just create one, and call nextLine twice."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1675091954,"post_id":75286300,"comment_id":132848580,"body_markdown":"Actually, does JUnit4 let you access System.in? I don&#39;t know what you mean by &quot;When I uploaded it to the JUnit4&quot;. This error seems to be caused when System.in gets closed. When using JUnit4 you might not get a System.in at all. Which line throws the exception?","body":"Actually, does JUnit4 let you access System.in? I don&#39;t know what you mean by &quot;When I uploaded it to the JUnit4&quot;. This error seems to be caused when System.in gets closed. When using JUnit4 you might not get a System.in at all. Which line throws the exception?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1675092123,"post_id":75286300,"comment_id":132848639,"body_markdown":"For completeness&#39; sake: exception are thrown at _runtime_, which happens after compilations. Code might compile fine, but still have all sorts of problems and bugs. (How great would it be if code that compiled meant that it works and doesn&#39;t have bugs? One can dream …)","body":"For completeness&#39; sake: exception are thrown at <i>runtime</i>, which happens after compilations. Code might compile fine, but still have all sorts of problems and bugs. (How great would it be if code that compiled meant that it works and doesn&#39;t have bugs? One can dream …)"},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1675098577,"post_id":75286300,"comment_id":132850885,"body_markdown":"I updated the post with a few more details. When I refer to uploading, I mean that students are to upload their draft/finished code to a cloud application-&gt; automated &quot;assignment tester &amp; grading&quot; software that uses JUnit4. So the cloud application I&#39;m uploading to is what checks my code. But since it has this error, it won&#39;t even run the test. It won&#39;t show a line number for the error, and my IDE isn&#39;t showing it at all either.\n\nI&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot; but I will look that up.","body":"I updated the post with a few more details. When I refer to uploading, I mean that students are to upload their draft/finished code to a cloud application-&gt; automated &quot;assignment tester &amp; grading&quot; software that uses JUnit4. So the cloud application I&#39;m uploading to is what checks my code. But since it has this error, it won&#39;t even run the test. It won&#39;t show a line number for the error, and my IDE isn&#39;t showing it at all either.  I&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot; but I will look that up."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":2,"creation_date":1675098719,"post_id":75286300,"comment_id":132850952,"body_markdown":"&quot;I&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot;: you&#39;re creating a scanner twice, instead of creating one and call nextLine two times on the *same* Scanner. This is  what @matt meant.","body":"&quot;I&#39;m not sure how to &quot;Don&#39;t create multiple scanners&quot;: you&#39;re creating a scanner twice, instead of creating one and call nextLine two times on the <i>same</i> Scanner. This is  what @matt meant."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":2,"creation_date":1675098881,"post_id":75286300,"comment_id":132851013,"body_markdown":"Since you cannot see the correct stacktrace, it&#39;s impossible for you to tell which class is missing in the &quot;cloud&#39;s java&quot;. I suggest you try -if possible- to upload a simple hello world first, and then start adding line by line (where it makes sense) to see which one is causing the issue.","body":"Since you cannot see the correct stacktrace, it&#39;s impossible for you to tell which class is missing in the &quot;cloud&#39;s java&quot;. I suggest you try -if possible- to upload a simple hello world first, and then start adding line by line (where it makes sense) to see which one is causing the issue."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675100194,"creation_date":1675100194,"answer_id":75288115,"question_id":75286300,"body_markdown":"Here&#39;s an example of using just ONE SCANNER as suggested in the comments.\r\n\r\nI&#39;ve also eliminated the second set of variables for lower case; just convert the input directly to lower case and store it in the original variable:\r\n\r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Type a word:\\n&quot;);    \r\n        String word = sc.nextLine().toLowerCase();\r\n    \r\n        System.out.println(&quot;Type a sentence:\\n&quot;);\r\n        String sentence = sc.nextLine().toLowerCase();\r\n    \r\n        boolean isContains = sentence.contains(word);\r\n        System.out.println(isContains);\r\n      }\r\n\r\nIf you need to preserve the exact user input for later, then you can convert to lower case only when you call contains() like this:\r\n\r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Type a word:\\n&quot;);    \r\n        String word = sc.nextLine();\r\n    \r\n        System.out.println(&quot;Type a sentence:\\n&quot;);\r\n        String sentence = sc.nextLine();\r\n    \r\n        boolean isContains = sentence.toLowerCase().contains(word.toLowerCase());\r\n        System.out.println(isContains);\r\n      }\r\n\r\n","title":"Java Homework Assignment — java.util.NoSuchElementException: No line found","body":"<p>Here's an example of using just ONE SCANNER as suggested in the comments.</p>\n<p>I've also eliminated the second set of variables for lower case; just convert the input directly to lower case and store it in the original variable:</p>\n<pre><code>  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Type a word:\\n&quot;);    \n    String word = sc.nextLine().toLowerCase();\n\n    System.out.println(&quot;Type a sentence:\\n&quot;);\n    String sentence = sc.nextLine().toLowerCase();\n\n    boolean isContains = sentence.contains(word);\n    System.out.println(isContains);\n  }\n</code></pre>\n<p>If you need to preserve the exact user input for later, then you can convert to lower case only when you call contains() like this:</p>\n<pre><code>  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Type a word:\\n&quot;);    \n    String word = sc.nextLine();\n\n    System.out.println(&quot;Type a sentence:\\n&quot;);\n    String sentence = sc.nextLine();\n\n    boolean isContains = sentence.toLowerCase().contains(word.toLowerCase());\n    System.out.println(isContains);\n  }\n</code></pre>\n"}],"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675100194,"creation_date":1675091356,"question_id":75286300,"body_markdown":"I get an error from automated JUnit 4 unit testing software that my course instructor uses to automatically check assignments.\r\n\r\nWe upload our draft code to a cloud program tester which automatically checks and grades the assignments.\r\n\r\nThis is week 1 of first semester. I&#39;ve never coded in Java before. And the lessons haven&#39;t taught if/else, while, loops, switch etc. so I don&#39;t think it&#39;s okay to use those (they appear next module.)\r\n\r\nI followed a class video tutorial, which doesn&#39;t throw any exceptions in the tutorial — so I don&#39;t know what&#39;s going on.\r\n\r\nThe unit was on variables, input, printing out, Booleans, operators, and a few things like contains, replace, equals etc.\r\n\r\nNote: I am allowed to ask questions on StackOverflow per instructor.\r\n\r\n**The error is: java.util.NoSuchElementException: No line found**\r\n\r\nNo line number is specified in the testing software where the exception occurs. And since it&#39;s not happening in my IDE, I don&#39;t know where it is.\r\n\r\nOther solutions I&#39;ve found require while and other methods I&#39;m not supposed to use.\r\n\r\nMy code (below) runs okay in the VSCODE IDE cloud the school provided.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ContainsAnyCase {\r\n\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Type a word:\\n&quot;);\r\n\r\n    Scanner userInputWord = new Scanner(System.in);\r\n\r\n    String word = userInputWord.nextLine();\r\n\r\n    String wordlc = word.toLowerCase();\r\n\r\n    System.out.println(&quot;Type a sentence:\\n&quot;);\r\n\r\n    Scanner userInputSentence = new Scanner(System.in);\r\n\r\n    String sentence = userInputSentence.nextLine();\r\n\r\n    String sentencelc = sentence.toLowerCase();\r\n\r\n    boolean isContains = sentencelc.contains(wordlc);\r\n\r\n    System.out.println(isContains);\r\n\r\n  }\r\n}\r\n```\r\nI&#39;m wondering if anyone can explain why there is an error and if there are ways to fix it or avoid the error without going into the territory of future modules? Also, I&#39;m still learning how to use Stack Overflow appropriately. If I asked my question wrong, please advise how I can improve my question or post. Thank you.\r\n\r\n\r\nI expected for the program to tell me true/false if the word was in the sentence. In my IDE, it worked. When I uploaded it to the JUnit4, it said java.util.NoSuchElementException: No line found","title":"Java Homework Assignment — java.util.NoSuchElementException: No line found","body":"<p>I get an error from automated JUnit 4 unit testing software that my course instructor uses to automatically check assignments.</p>\n<p>We upload our draft code to a cloud program tester which automatically checks and grades the assignments.</p>\n<p>This is week 1 of first semester. I've never coded in Java before. And the lessons haven't taught if/else, while, loops, switch etc. so I don't think it's okay to use those (they appear next module.)</p>\n<p>I followed a class video tutorial, which doesn't throw any exceptions in the tutorial — so I don't know what's going on.</p>\n<p>The unit was on variables, input, printing out, Booleans, operators, and a few things like contains, replace, equals etc.</p>\n<p>Note: I am allowed to ask questions on StackOverflow per instructor.</p>\n<p><strong>The error is: java.util.NoSuchElementException: No line found</strong></p>\n<p>No line number is specified in the testing software where the exception occurs. And since it's not happening in my IDE, I don't know where it is.</p>\n<p>Other solutions I've found require while and other methods I'm not supposed to use.</p>\n<p>My code (below) runs okay in the VSCODE IDE cloud the school provided.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ContainsAnyCase {\n\n  public static void main(String[] args) {\n    System.out.println(&quot;Type a word:\\n&quot;);\n\n    Scanner userInputWord = new Scanner(System.in);\n\n    String word = userInputWord.nextLine();\n\n    String wordlc = word.toLowerCase();\n\n    System.out.println(&quot;Type a sentence:\\n&quot;);\n\n    Scanner userInputSentence = new Scanner(System.in);\n\n    String sentence = userInputSentence.nextLine();\n\n    String sentencelc = sentence.toLowerCase();\n\n    boolean isContains = sentencelc.contains(wordlc);\n\n    System.out.println(isContains);\n\n  }\n}\n</code></pre>\n<p>I'm wondering if anyone can explain why there is an error and if there are ways to fix it or avoid the error without going into the territory of future modules? Also, I'm still learning how to use Stack Overflow appropriately. If I asked my question wrong, please advise how I can improve my question or post. Thank you.</p>\n<p>I expected for the program to tell me true/false if the word was in the sentence. In my IDE, it worked. When I uploaded it to the JUnit4, it said java.util.NoSuchElementException: No line found</p>\n"},{"tags":["java","selenium","selenium-webdriver","jenkins","ie-compatibility-mode"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674686528,"post_id":75240620,"comment_id":132770483,"body_markdown":"IE, or Edge? Because those are completely different browsers. (And if you _really_ mean IE: that browser was officially discontinued by Microsoft in June of 2022. All in-support versions of Windows come with Edge)","body":"IE, or Edge? Because those are completely different browsers. (And if you <i>really</i> mean IE: that browser was officially discontinued by Microsoft in June of 2022. All in-support versions of Windows come with Edge)"},{"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"score":0,"creation_date":1674686681,"post_id":75240620,"comment_id":132770507,"body_markdown":"Edge allows you to run IE under compatibility mode (https://learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium/ie-mode?tabs=java).  This is Microsoft&#39;s way of providing backward compatibility for applications that can only run under IE.","body":"Edge allows you to run IE under compatibility mode (<a href=\"https://learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium/ie-mode?tabs=java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium&zwnj;&#8203;/&hellip;</a>).  This is Microsoft&#39;s way of providing backward compatibility for applications that can only run under IE."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674686801,"post_id":75240620,"comment_id":132770536,"body_markdown":"Then please edit your post and title to reflect the fact that you&#39;re using Edge, set to IE compatibility more. Right now your title and post sound like you&#39;re straight up using IE.","body":"Then please edit your post and title to reflect the fact that you&#39;re using Edge, set to IE compatibility more. Right now your title and post sound like you&#39;re straight up using IE."},{"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"score":0,"creation_date":1674687248,"post_id":75240620,"comment_id":132770640,"body_markdown":"Yes, good catch.  Title updated.","body":"Yes, good catch.  Title updated."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674687358,"post_id":75240620,"comment_id":132770672,"body_markdown":"You&#39;re still saying you&#39;re running IE, though. I&#39;ve edited your title and post to say you&#39;re running Edge, in IE compatibility mode, instead.","body":"You&#39;re still saying you&#39;re running IE, though. I&#39;ve edited your title and post to say you&#39;re running Edge, in IE compatibility mode, instead."},{"owner":{"account_id":10259402,"reputation":25928,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1674727877,"post_id":75240620,"comment_id":132777251,"body_markdown":"In which user context is that PowerShell code running? Jenkins runs as LocalSystem by default, which behaves differently than a regular user account, where a browser is supposed to run. Furthermore, Jenkins as a service runs in session 0 isolation, so it can&#39;t launch interactive programs such as a browser. There are ways around that, e. g. create an additional Jenkins node that is launched as a regular user by a scheduled task. Run that PowerShell script on this node by specifying it via `agent` or `node` directives.","body":"In which user context is that PowerShell code running? Jenkins runs as LocalSystem by default, which behaves differently than a regular user account, where a browser is supposed to run. Furthermore, Jenkins as a service runs in session 0 isolation, so it can&#39;t launch interactive programs such as a browser. There are ways around that, e. g. create an additional Jenkins node that is launched as a regular user by a scheduled task. Run that PowerShell script on this node by specifying it via <code>agent</code> or <code>node</code> directives."},{"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"score":0,"creation_date":1674757628,"post_id":75240620,"comment_id":132787044,"body_markdown":"The Jenkins job was not setup as a service since you&#39;re right, it did not allow for user interaction.  We have a service account login that launched that job and it remains logged on in perpetuity.  I don&#39;t think it was setup as a PowerShell, but I could be wrong.  I didn&#39;t set it up.","body":"The Jenkins job was not setup as a service since you&#39;re right, it did not allow for user interaction.  We have a service account login that launched that job and it remains logged on in perpetuity.  I don&#39;t think it was setup as a PowerShell, but I could be wrong.  I didn&#39;t set it up."}],"owner":{"account_id":2778886,"reputation":31,"user_id":2391844,"display_name":"DeZaelez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675100150,"creation_date":1674686353,"question_id":75240620,"body_markdown":"I have the following code that launches Edge in IE Compatibility mode:\r\n```\r\n\t\t\tcase EDGE_COMPATIBILITY: {\r\n\t\t\t\tlogMessage(MessType.INFO, &quot;Running Edge under compatibility mode.&quot;);\r\n\t\t\t\t\r\n\t\t\t\tInternetExplorerOptions ieOptions = new InternetExplorerOptions();\r\n\t\t\t\t\r\n\t\t\t\tieOptions.introduceFlakinessByIgnoringSecurityDomains();\r\n\t\t\t\tieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\n\t\t\t\tieOptions.attachToEdgeChrome();\r\n\t\t\t\tieOptions.destructivelyEnsureCleanSession();\r\n\t\t\t\t\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, projectLoc + &quot;\\\\src\\\\externaljars\\\\selenium\\\\edgedriver\\\\iedriverserver.exe&quot;);\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlogMessage(MessType.INFO, &quot;About to create &#39;webdr&#39;&quot;);\r\n\t\t\t\t\twebdr = new InternetExplorerDriver(ieOptions);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlogMessage(MessType.INFO, &quot;Sleeping for 10 seconds.&quot;);\r\n\t\t\t\t\tThread.sleep(10000);\r\n\t\t\t\t\tlogMessage(MessType.INFO, &quot;Done sleeping ...&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\twebdr.manage().window().maximize();\r\n\r\n\t\t\t\t\tThread.sleep(1000);\t\t\r\n\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n```\r\n\r\nThis works great when running the automated scripts locally, here is what it looks like:\r\n```\r\nTITLE Executing Method launchBrowser  Time: [1:38:34PM]\r\nINFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\r\nINFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\r\nINFO Running Edge under compatibility mode.\r\nINFO About to create &#39;webdr&#39;\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarted InternetExplorerDriver server (32-bit)\r\n4.7.0.0\r\nListening on port 23537\r\nOnly local connections are allowed\r\nINFO Sleeping for 10 seconds.\r\nINFO Done sleeping ...\r\n```\r\n\r\n\r\nbut when I try to run the same code from a Jenkins server, I get the following exception error:\r\n```\r\n14:02:26    [testng] TITLE Executing Method launchBrowser  Time: [4:2:26PM]\r\n14:02:26    [testng] INFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\r\n14:02:26    [testng] INFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\r\n14:02:26    [testng] INFO Running Edge under compatibility mode.\r\n14:02:26    [testng] INFO About to create &#39;webdr&#39;\r\n14:02:27    [testng] Started InternetExplorerDriver server (32-bit)\r\n14:02:27    [testng] 4.7.0.0\r\n14:02:27    [testng] Listening on port xxxxxx\r\n14:02:27    [testng] Only local connections are allowed\r\n14:05:28    [testng] org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n14:05:28    [testng] Host info: host: &#39;xxxxxxxxxx&#39;, ip: &#39;xx.xx.xx.xx&#39;\r\n14:05:28    [testng] Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\n14:05:28    [testng] System info: os.name: &#39;Windows Server 2016&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.11&#39;\r\n14:05:28    [testng] Driver info: org.openqa.selenium.ie.InternetExplorerDriver\r\n14:05:28    [testng] Command: [null, newSession {capabilities=[Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}], desiredCapabilities=Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}}]\r\n14:05:28    [testng] Capabilities {}\r\n14:05:28    [testng] \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:559)\r\n\r\n```\r\nWhat is even more interesting is that if I log onto the Jenkins server to see what&#39;s going on, then I don&#39;t get the exception error.  It is as though attaching a screen output ***completes*** the instantiation process.\r\n\r\nDoes anyone know whether this is a Jenkins limitation?  Or are there any other InternetOptions that I should be using.","title":"Unable to run Edge in IE Compatibility mode on the Jenkins server","body":"<p>I have the following code that launches Edge in IE Compatibility mode:</p>\n<pre><code>            case EDGE_COMPATIBILITY: {\n                logMessage(MessType.INFO, &quot;Running Edge under compatibility mode.&quot;);\n                \n                InternetExplorerOptions ieOptions = new InternetExplorerOptions();\n                \n                ieOptions.introduceFlakinessByIgnoringSecurityDomains();\n                ieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\n                ieOptions.attachToEdgeChrome();\n                ieOptions.destructivelyEnsureCleanSession();\n                \n                System.setProperty(&quot;webdriver.ie.driver&quot;, projectLoc + &quot;\\\\src\\\\externaljars\\\\selenium\\\\edgedriver\\\\iedriverserver.exe&quot;);\n                \n                try {\n                    logMessage(MessType.INFO, &quot;About to create 'webdr'&quot;);\n                    webdr = new InternetExplorerDriver(ieOptions);\n                    \n                    logMessage(MessType.INFO, &quot;Sleeping for 10 seconds.&quot;);\n                    Thread.sleep(10000);\n                    logMessage(MessType.INFO, &quot;Done sleeping ...&quot;);\n                    \n                    webdr.manage().window().maximize();\n\n                    Thread.sleep(1000);     \n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                \n                break;\n            }\n\n</code></pre>\n<p>This works great when running the automated scripts locally, here is what it looks like:</p>\n<pre><code>TITLE Executing Method launchBrowser  Time: [1:38:34PM]\nINFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\nINFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\nINFO Running Edge under compatibility mode.\nINFO About to create 'webdr'\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarted InternetExplorerDriver server (32-bit)\n4.7.0.0\nListening on port 23537\nOnly local connections are allowed\nINFO Sleeping for 10 seconds.\nINFO Done sleeping ...\n</code></pre>\n<p>but when I try to run the same code from a Jenkins server, I get the following exception error:</p>\n<pre><code>14:02:26    [testng] TITLE Executing Method launchBrowser  Time: [4:2:26PM]\n14:02:26    [testng] INFO TEMP LOG MESSAGE : Data Source: DATABASE  Browser: EDGE_COMPATIBILITY URL: null\n14:02:26    [testng] INFO TEMP LOG MESSAGE :  Browser: EDGE_COMPATIBILITY\n14:02:26    [testng] INFO Running Edge under compatibility mode.\n14:02:26    [testng] INFO About to create 'webdr'\n14:02:27    [testng] Started InternetExplorerDriver server (32-bit)\n14:02:27    [testng] 4.7.0.0\n14:02:27    [testng] Listening on port xxxxxx\n14:02:27    [testng] Only local connections are allowed\n14:05:28    [testng] org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \n14:05:28    [testng] Host info: host: 'xxxxxxxxxx', ip: 'xx.xx.xx.xx'\n14:05:28    [testng] Build info: version: '4.6.0', revision: '79f1c02ae20'\n14:05:28    [testng] System info: os.name: 'Windows Server 2016', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.11'\n14:05:28    [testng] Driver info: org.openqa.selenium.ie.InternetExplorerDriver\n14:05:28    [testng] Command: [null, newSession {capabilities=[Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}], desiredCapabilities=Capabilities {browserName: internet explorer, se:ieOptions: {ie.edgepath: C:\\Program Files (x86)\\Micr..., ignoreProtectedModeSettings: true}}}]\n14:05:28    [testng] Capabilities {}\n14:05:28    [testng]    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:559)\n\n</code></pre>\n<p>What is even more interesting is that if I log onto the Jenkins server to see what's going on, then I don't get the exception error.  It is as though attaching a screen output <em><strong>completes</strong></em> the instantiation process.</p>\n<p>Does anyone know whether this is a Jenkins limitation?  Or are there any other InternetOptions that I should be using.</p>\n"},{"tags":["java","io","zip"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671099680,"post_id":74809821,"comment_id":132026708,"body_markdown":"Which version of Java are you using? https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L1871 shows that the temp file should replace the original. That method should be called from `close()`: https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L484. You&#39;re calling that (through try-with-resources), so the file replacement should occur.","body":"Which version of Java are you using? <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L1871\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/class&zwnj;&#8203;es/&hellip;</a> shows that the temp file should replace the original. That method should be called from <code>close()</code>: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/classes/jdk/nio/zipfs/ZipFileSystem.java#L484\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.zipfs/share/class&zwnj;&#8203;es/&hellip;</a>. You&#39;re calling that (through try-with-resources), so the file replacement should occur."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671100104,"post_id":74809821,"comment_id":132026853,"body_markdown":"@RobSpoor    I am using Java 8. I don&#39;t understand &#39;method should be called from close()&#39;","body":"@RobSpoor    I am using Java 8. I don&#39;t understand &#39;method should be called from close()&#39;"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671100655,"post_id":74809821,"comment_id":132027039,"body_markdown":"what I meant is that when you call `close()` (through the try-with-resources), the `sync()` call I linked to should be called automatically. That should take care of the file replacement. Can you perhaps try with Java 11 or Java 17?","body":"what I meant is that when you call <code>close()</code> (through the try-with-resources), the <code>sync()</code> call I linked to should be called automatically. That should take care of the file replacement. Can you perhaps try with Java 11 or Java 17?"},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671101095,"post_id":74809821,"comment_id":132027179,"body_markdown":"@RobSpoor Actaully I am trying this in my work system, we don&#39;t have java 11 or java 17","body":"@RobSpoor Actaully I am trying this in my work system, we don&#39;t have java 11 or java 17"},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671107780,"post_id":74809821,"comment_id":132029488,"body_markdown":"@RobSpoor I tried to open .tmp file in 7Zip I can see my temp file there with new changes, do you know why this is happening and how we can avoid and make changes in the existing file.","body":"@RobSpoor I tried to open .tmp file in 7Zip I can see my temp file there with new changes, do you know why this is happening and how we can avoid and make changes in the existing file."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671112166,"post_id":74809821,"comment_id":132031204,"body_markdown":"I&#39;ve created a little test program to reproduce it. I actually could, by not closing the file. Can you use try-with-resources for `outputFile`? Even though you&#39;re closing the `CSVWriter`, the file itself appears to not be closed. Either the `CSVWriter` doesn&#39;t call `close()` of its underlying stream, or perhaps the code doesn&#39;t even get there. Is an exception printed?","body":"I&#39;ve created a little test program to reproduce it. I actually could, by not closing the file. Can you use try-with-resources for <code>outputFile</code>? Even though you&#39;re closing the <code>CSVWriter</code>, the file itself appears to not be closed. Either the <code>CSVWriter</code> doesn&#39;t call <code>close()</code> of its underlying stream, or perhaps the code doesn&#39;t even get there. Is an exception printed?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671112541,"post_id":74809821,"comment_id":132031360,"body_markdown":"I also noticed you don&#39;t close the `CSVReader`. That didn&#39;t prevent my test program from adding the file though.","body":"I also noticed you don&#39;t close the <code>CSVReader</code>. That didn&#39;t prevent my test program from adding the file though."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671113398,"post_id":74809821,"comment_id":132031694,"body_markdown":"@RobSpoor I am not getting exception in the console, CSVWriter with try-with-resources is also not working.","body":"@RobSpoor I am not getting exception in the console, CSVWriter with try-with-resources is also not working."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671114798,"post_id":74809821,"comment_id":132032232,"body_markdown":"@RobSpoor I am getting FileSystemException, when I close the reader before writing the file , I added the log in the question!","body":"@RobSpoor I am getting FileSystemException, when I close the reader before writing the file , I added the log in the question!"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671115054,"post_id":74809821,"comment_id":132032330,"body_markdown":"Are you doing other things with the ZIP file? Because somewhere there&#39;s still a file handle to it open. That could be from reading or writing it; Windows is always very picky about that.","body":"Are you doing other things with the ZIP file? Because somewhere there&#39;s still a file handle to it open. That could be from reading or writing it; Windows is always very picky about that."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671115080,"post_id":74809821,"comment_id":132032339,"body_markdown":"Note that an external program like 7-zip can also be the reason the file is still open.","body":"Note that an external program like 7-zip can also be the reason the file is still open."},{"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"score":0,"creation_date":1671115182,"post_id":74809821,"comment_id":132032383,"body_markdown":"@RobSpoor I am not doing anythin with the file.","body":"@RobSpoor I am not doing anythin with the file."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671115378,"creation_date":1671115223,"answer_id":74813245,"question_id":74809821,"body_markdown":"You did not `zip.close()`. Better use the _try-with-resources_ syntax, which closes also when an exception is thrown or one returns inside the `{ }`. \r\n\r\n    try (ZipFile zip = new ZipFile(zipFile)) {\r\n        ...\r\n\r\n","title":"Write CSV file inside zip file using FileSystem","body":"<p>You did not <code>zip.close()</code>. Better use the <em>try-with-resources</em> syntax, which closes also when an exception is thrown or one returns inside the <code>{ }</code>.</p>\n<pre><code>try (ZipFile zip = new ZipFile(zipFile)) {\n    ...\n</code></pre>\n"}],"owner":{"account_id":27260181,"reputation":15,"user_id":20783127,"display_name":"shrikant02"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74813245,"answer_count":1,"score":0,"last_activity_date":1675099952,"creation_date":1671098713,"question_id":74809821,"body_markdown":"I want read the CSV files inside the zip file and edit the record based on some condition. I am using FileSystem class to create zip file system and then edit csv files. I used the below code read csv files\r\n\r\n\r\n```\r\npublic static List&lt;String&gt; getFileList() {\r\n\t\tList&lt;String&gt; fileList = new ArrayList&lt;&gt;();\r\n\t\tZipFile zip = null;\r\n\t\ttry {\r\n\t\t\tzip = new ZipFile(zipFile);\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; entries = zip.entries();\r\n\t\t\twhile (entries.hasMoreElements()) {\r\n\t\t\t\tZipEntry entry = entries.nextElement();\r\n\t\t\t\tif (entry.getName().contains(&quot;**&quot;) &amp;&amp; !entry.getName().contains(&quot;***&quot;)) {\r\n\t\t\t\t\tfileList.add(entry.getName());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn fileList;\r\n\t}\r\n\r\n\tpublic static void modifyTextFileInZip() throws IOException {\r\n\t\tPath zipfilePath = Paths.get(zipFile);\r\n\r\n\t\ttry (FileSystem fs = FileSystems.newFileSystem(zipfilePath, null)) {\r\n\t\t\tfor (String file : getFileList()) {\r\n\t\t\t\tPath source = fs.getPath(file);\r\n\t\t\t\tString tempFileDest = source.getParent().toString() + &quot;/&quot; + &quot;temp_&quot; + source.getFileName();\r\n\t\t\t\ttempFileDest = tempFileDest.replace(&quot;.red&quot;, &quot;&quot;);\r\n\t\t\t\tPath temp = fs.getPath(tempFileDest);\r\n\t\t\t\teditFiles(source, temp);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void editFiles(Path source, Path dest) {\r\n\t\tCSVReader reader;\r\n\t\ttry {\r\n\t\t\treader = new CSVReader(new InputStreamReader(Files.newInputStream(source)));\r\n\t\t\tList&lt;String[]&gt; records = reader.readAll();\r\n\t\t\tIterator&lt;String[]&gt; iterator = records.iterator();\r\n\t\t\t\r\n\t        Optional&lt;String&gt; fileName =\r\n\t        Files.list(source.getParent())\r\n\t                .filter(file -&gt; file.getFileName().toString().endsWith(&quot;***&quot;) &amp;&amp;\r\n\t                        !file.getFileName().toString().endsWith(&quot;****&quot;))\r\n\t                .map(file -&gt; file.toString())\r\n\t                .findFirst();\r\n\t        //System.out.println(fileName);\r\n\t        \r\n\t\t\twhile (iterator.hasNext()) {\r\n\t\t\t\tString[] record = iterator.next();\r\n\t\t        String val = null;\r\n\t\t        if(&quot;****&quot;.equals(record[5])){\r\n\t\t\t        try {\r\n\t\t\t            val = fileName.orElseThrow(() -&gt; new RuntimeException(&quot;File Not found&quot;));\r\n\t\t\t            val = &quot;**&quot; + val;\r\n\t\t\t            //System.out.println(val);\r\n\t\t\t        } catch(Exception e){\r\n\t\t\t            System.out.println(&quot;File not Found&quot;);\r\n\t\t\t        }\r\n\t\t        \trecord[5] = val;\r\n\t\t        }\r\n\t\t        \r\n\t\t        for(String cell: record) {\r\n\t\t        \tSystem.out.print(cell);\r\n\t\t        }\r\n\t\t      \tSystem.out.println();\t       \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tFiles.createFile(dest);\r\n\t\t\tPrintWriter outputFile = new PrintWriter(Files.newOutputStream(dest));\r\n\t        CSVWriter writer = new CSVWriter(outputFile);\r\n\t\t\twriter.writeAll(records);\r\n\r\n\t\t\twriter.close();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nerro log =&gt; \r\n\r\n    java.nio.file.FileSystemException: C:\\zipfile\\P003.zip: The process cannot access the file because it is being used by another process.\r\n    \r\n    \tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\r\n    \tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\r\n    \tat sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\r\n    \tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)\r\n    \tat java.nio.file.Files.delete(Files.java:1126)\r\n    \tat com.sun.nio.zipfs.ZipFileSystem.sync(ZipFileSystem.java:1294)\r\n    \tat com.sun.nio.zipfs.ZipFileSystem.close(ZipFileSystem.java:277)\r\n    \tat com.shrikant.Main.Main2.modifyTextFileInZip(Main2.java:60)\r\n    \tat com.shrikant.EditCsvFilesApplication.main(EditCsvFilesApplication.java:21)\r\n\r\nI wans able to read the and edit the files using inputStream from Path object and then pass it to CSVReader object. But when I pass outputStream to CSVWriter and try to write data to temp file and can&#39;t see any changes inside zip file. And also I am getting a .tmp (zipfstmp3381860066025396844.tmp) file generated every I run my program.\r\n\r\nI followed this =&gt; https://stackoverflow.com/a/43836969/20783127   to write this program\r\n\r\nDon&#39;t know what&#39;s going wrong, I can anyone explain ?\r\n\r\n\r\nI am trying read and edit the csv files in zip file using FileSystem class in java, but its not working\r\n","title":"Write CSV file inside zip file using FileSystem","body":"<p>I want read the CSV files inside the zip file and edit the record based on some condition. I am using FileSystem class to create zip file system and then edit csv files. I used the below code read csv files</p>\n<pre><code>public static List&lt;String&gt; getFileList() {\n        List&lt;String&gt; fileList = new ArrayList&lt;&gt;();\n        ZipFile zip = null;\n        try {\n            zip = new ZipFile(zipFile);\n            Enumeration&lt;? extends ZipEntry&gt; entries = zip.entries();\n            while (entries.hasMoreElements()) {\n                ZipEntry entry = entries.nextElement();\n                if (entry.getName().contains(&quot;**&quot;) &amp;&amp; !entry.getName().contains(&quot;***&quot;)) {\n                    fileList.add(entry.getName());\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return fileList;\n    }\n\n    public static void modifyTextFileInZip() throws IOException {\n        Path zipfilePath = Paths.get(zipFile);\n\n        try (FileSystem fs = FileSystems.newFileSystem(zipfilePath, null)) {\n            for (String file : getFileList()) {\n                Path source = fs.getPath(file);\n                String tempFileDest = source.getParent().toString() + &quot;/&quot; + &quot;temp_&quot; + source.getFileName();\n                tempFileDest = tempFileDest.replace(&quot;.red&quot;, &quot;&quot;);\n                Path temp = fs.getPath(tempFileDest);\n                editFiles(source, temp);\n            }\n        }\n    }\n\n    public static void editFiles(Path source, Path dest) {\n        CSVReader reader;\n        try {\n            reader = new CSVReader(new InputStreamReader(Files.newInputStream(source)));\n            List&lt;String[]&gt; records = reader.readAll();\n            Iterator&lt;String[]&gt; iterator = records.iterator();\n            \n            Optional&lt;String&gt; fileName =\n            Files.list(source.getParent())\n                    .filter(file -&gt; file.getFileName().toString().endsWith(&quot;***&quot;) &amp;&amp;\n                            !file.getFileName().toString().endsWith(&quot;****&quot;))\n                    .map(file -&gt; file.toString())\n                    .findFirst();\n            //System.out.println(fileName);\n            \n            while (iterator.hasNext()) {\n                String[] record = iterator.next();\n                String val = null;\n                if(&quot;****&quot;.equals(record[5])){\n                    try {\n                        val = fileName.orElseThrow(() -&gt; new RuntimeException(&quot;File Not found&quot;));\n                        val = &quot;**&quot; + val;\n                        //System.out.println(val);\n                    } catch(Exception e){\n                        System.out.println(&quot;File not Found&quot;);\n                    }\n                    record[5] = val;\n                }\n                \n                for(String cell: record) {\n                    System.out.print(cell);\n                }\n                System.out.println();          \n            }\n            \n            Files.createFile(dest);\n            PrintWriter outputFile = new PrintWriter(Files.newOutputStream(dest));\n            CSVWriter writer = new CSVWriter(outputFile);\n            writer.writeAll(records);\n\n            writer.close();\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>erro log =&gt;</p>\n<pre><code>java.nio.file.FileSystemException: C:\\zipfile\\P003.zip: The process cannot access the file because it is being used by another process.\n\n    at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\n    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\n    at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\n    at sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:103)\n    at java.nio.file.Files.delete(Files.java:1126)\n    at com.sun.nio.zipfs.ZipFileSystem.sync(ZipFileSystem.java:1294)\n    at com.sun.nio.zipfs.ZipFileSystem.close(ZipFileSystem.java:277)\n    at com.shrikant.Main.Main2.modifyTextFileInZip(Main2.java:60)\n    at com.shrikant.EditCsvFilesApplication.main(EditCsvFilesApplication.java:21)\n</code></pre>\n<p>I wans able to read the and edit the files using inputStream from Path object and then pass it to CSVReader object. But when I pass outputStream to CSVWriter and try to write data to temp file and can't see any changes inside zip file. And also I am getting a .tmp (zipfstmp3381860066025396844.tmp) file generated every I run my program.</p>\n<p>I followed this =&gt; <a href=\"https://stackoverflow.com/a/43836969/20783127\">https://stackoverflow.com/a/43836969/20783127</a>   to write this program</p>\n<p>Don't know what's going wrong, I can anyone explain ?</p>\n<p>I am trying read and edit the csv files in zip file using FileSystem class in java, but its not working</p>\n"},{"tags":["java","eclipse","refactoring","rename"],"comments":[{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":1,"creation_date":1341708807,"post_id":11379808,"comment_id":14997517,"body_markdown":"What view are you in?  What are you renaming, and to what?  You only have to give more information if you actually expect some help...","body":"What view are you in?  What are you renaming, and to what?  You only have to give more information if you actually expect some help..."},{"owner":{"account_id":151360,"reputation":1533,"user_id":365172,"accept_rate":62,"display_name":"vikas"},"score":1,"creation_date":1341750005,"post_id":11379808,"comment_id":15002709,"body_markdown":"Also verify if the project has any compile error. Sometime with compile errors it does not let you refactor things.","body":"Also verify if the project has any compile error. Sometime with compile errors it does not let you refactor things."},{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":1,"creation_date":1386882576,"post_id":11379808,"comment_id":30738960,"body_markdown":"This happened to me when attempting rename on a Javascript method. JSDT is installed. Removing and adding project did not help.","body":"This happened to me when attempting rename on a Javascript method. JSDT is installed. Removing and adding project did not help."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1637577815,"post_id":11379808,"comment_id":123854743,"body_markdown":"Update: beware that there is a bug triggering this for newer versions of Eclipse up to 2020-09, please update your Eclipse and see [this Q/A](https://stackoverflow.com/q/63534117/589259) for details. And don&#39;t forget to vote those up. Of course, regardless of the crash, it should not open &quot;Run...&quot;.","body":"Update: beware that there is a bug triggering this for newer versions of Eclipse up to 2020-09, please update your Eclipse and see <a href=\"https://stackoverflow.com/q/63534117/589259\">this Q/A</a> for details. And don&#39;t forget to vote those up. Of course, regardless of the crash, it should not open &quot;Run...&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1933624,"reputation":164,"user_id":1742486,"display_name":"Kevin"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1350080652,"creation_date":1350080652,"answer_id":12867927,"question_id":11379808,"body_markdown":"Try to delete the project from Eclipse (don&#39;t delete project contents on disk) and then reload it.\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>Try to delete the project from Eclipse (don't delete project contents on disk) and then reload it.</p>\n"},{"tags":[],"owner":{"account_id":2382985,"reputation":1,"user_id":2084606,"display_name":"jakethasnake919"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361221950,"creation_date":1361221950,"answer_id":14945377,"question_id":11379808,"body_markdown":"I was seeing the exact same issue as the OP when I was trying to rename both variables, and method names. After I restarted Eclipse, the Refactor-&gt;Rename functionality worked correctly.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I was seeing the exact same issue as the OP when I was trying to rename both variables, and method names. After I restarted Eclipse, the Refactor->Rename functionality worked correctly.</p>\n"},{"tags":[],"owner":{"display_name":"user656698"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370101546,"creation_date":1370101546,"answer_id":16874437,"question_id":11379808,"body_markdown":"I had this problem with Eclipse Helios.  I looked in the .metadata directory of the workspace and opened the .log file.  It had a pretty long chain of references relating to the error, but the pertinent parts of that were:\r\n\r\n&gt; java.lang.NoClassDefFoundError: org/eclipse/jdt/core/IMethod\r\n\r\nand\r\n\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759)\r\n&gt; \tat\r\n&gt; org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756)\r\n&gt; \tat\r\n&gt; org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361)\r\n&gt; \tat\r\n&gt; org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194)\r\n&gt; \tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) \tat\r\n&gt; org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134)\r\n&gt; \tat\r\n&gt; org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041)\r\n&gt; \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)\r\n\r\nI went to **Help** &gt; **Install New Software** &gt; **What is already installed**, and then selected everything relating to org.eclipse.swt and clicked on **Uninstall**.  After restarting Eclipse, the problem went away and I was able to refactor / rename normally again.\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I had this problem with Eclipse Helios.  I looked in the .metadata directory of the workspace and opened the .log file.  It had a pretty long chain of references relating to the error, but the pertinent parts of that were:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: org/eclipse/jdt/core/IMethod</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>java.lang.reflect.InvocationTargetException   at\n  org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421)\n    at\n  org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759)\n    at\n  org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)\n    at\n  org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756)\n    at\n  org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151)\n    at\n  org.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361)\n    at\n  org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119)\n    at\n  org.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341)\n    at\n  org.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)   at\n  org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134)\n    at\n  org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)</p>\n</blockquote>\n\n<p>I went to <strong>Help</strong> > <strong>Install New Software</strong> > <strong>What is already installed</strong>, and then selected everything relating to org.eclipse.swt and clicked on <strong>Uninstall</strong>.  After restarting Eclipse, the problem went away and I was able to refactor / rename normally again.</p>\n"},{"tags":[],"owner":{"account_id":2611807,"reputation":976,"user_id":2261788,"accept_rate":80,"display_name":"Dicky Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381785762,"creation_date":1381785762,"answer_id":19369536,"question_id":11379808,"body_markdown":"The refactor will not work if there are any errors in your project. \r\n\r\nFix the errors, or just comment out the section being detected as an error in order to run the refactor. \r\n\r\nThis worked for me.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>The refactor will not work if there are any errors in your project. </p>\n\n<p>Fix the errors, or just comment out the section being detected as an error in order to run the refactor. </p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1707616,"reputation":354,"user_id":1566371,"display_name":"Archenoth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417020385,"creation_date":1402943070,"answer_id":24249846,"question_id":11379808,"body_markdown":"If something not overly obvious makes a refactor fail, you can look for problems by attempting to preview the refactor rather than trying to execute it.\r\n\r\nAs Dicky Moore mentioned, you cannot refactor with errors in your project... But these aren&#39;t always code errors or build path issues that Eclipse marks. So sometimes it doesn&#39;t appear as though you have any errors and it will still fail. &quot;Preview&quot;, as mentioned above will show these problems in an error dialog, even if they never show up elsewhere.\r\n\r\nFrom there, you can configure your project to fix the errors (A common one is that the refactor tries to account for an output folder that it shouldn&#39;t, which can be fixed by excluding the folder in your `Build Path &gt; Source` settings.) or uninstall problematic plugins.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>If something not overly obvious makes a refactor fail, you can look for problems by attempting to preview the refactor rather than trying to execute it.</p>\n\n<p>As Dicky Moore mentioned, you cannot refactor with errors in your project... But these aren't always code errors or build path issues that Eclipse marks. So sometimes it doesn't appear as though you have any errors and it will still fail. \"Preview\", as mentioned above will show these problems in an error dialog, even if they never show up elsewhere.</p>\n\n<p>From there, you can configure your project to fix the errors (A common one is that the refactor tries to account for an output folder that it shouldn't, which can be fixed by excluding the folder in your <code>Build Path &gt; Source</code> settings.) or uninstall problematic plugins.</p>\n"},{"tags":[],"owner":{"account_id":5125271,"reputation":71,"user_id":4107564,"display_name":"nickle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412892013,"creation_date":1412384866,"answer_id":26188649,"question_id":11379808,"body_markdown":"With 4.4 (Luna), I had cross-project refactoring problems after large refactorings - deleting the &lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core \r\nfolder  fixed that for me","title":"Can&#39;t refactor rename in Eclipse","body":"<p>With 4.4 (Luna), I had cross-project refactoring problems after large refactorings - deleting the /.metadata/.plugins/org.eclipse.jdt.core \nfolder  fixed that for me</p>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418848189,"creation_date":1418835800,"answer_id":27530885,"question_id":11379808,"body_markdown":"I wanted to add some information to some other answers here.\r\n\r\n[Archenoth&#39;s answer][1] points out you can get more information from running Preview on the rename operation.  It took me a while to figure out how to get to preview: type the rename keystroke a second time to get the dialog.  Sometimes Preview didn&#39;t give the error information (and neither did the quick rename without the ppoup) but clicking OK in the dialog did say more.\r\n\r\n[MutantXenu][2] found information in the logs by going into files in the workspace, but you can also get to these within Eclipse by going to the Error Log view (from Cmd-3)\r\n\r\nWhen I had this problem, the error log pointed me to this failed assertion: &quot;Search for method declaration did not find original element&quot; which led to some unresolved bugs.  (I&#39;m running Kepler, but the problem is apparently hard to replicate and I don&#39;t see evidence it&#39;s resolved. See [here][3] and [here][4].)\r\n\r\nYou can see if you&#39;re experiencing this specific bug by selecting the method and using Cmd-G (or Ctrl-G: Search &gt; Declarations &gt; Workspace).  Eclipse is unable to find the method you&#39;re trying to rename and the search comes up empty.\r\n\r\nMy case suggests it&#39;s possible the error might have to do with identically-named methods in different classes.  When the problem is occuring with one method, it doesn&#39;t affect most others.\r\n\r\nRefresh, Project-&gt;Clean, and restarting Eclipse were not helpful to me.\r\n[Kevin&#39;s answer][5] worked for me: &quot;Try to delete the project from Eclipse (don&#39;t delete project contents on disk) and then reload it.&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24249846/411282\r\n  [2]: https://stackoverflow.com/a/16874437/411282\r\n  [3]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=338871\r\n  [4]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=148014\r\n  [5]: https://stackoverflow.com/a/12867927/411282","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I wanted to add some information to some other answers here.</p>\n\n<p><a href=\"https://stackoverflow.com/a/24249846/411282\">Archenoth's answer</a> points out you can get more information from running Preview on the rename operation.  It took me a while to figure out how to get to preview: type the rename keystroke a second time to get the dialog.  Sometimes Preview didn't give the error information (and neither did the quick rename without the ppoup) but clicking OK in the dialog did say more.</p>\n\n<p><a href=\"https://stackoverflow.com/a/16874437/411282\">MutantXenu</a> found information in the logs by going into files in the workspace, but you can also get to these within Eclipse by going to the Error Log view (from Cmd-3)</p>\n\n<p>When I had this problem, the error log pointed me to this failed assertion: \"Search for method declaration did not find original element\" which led to some unresolved bugs.  (I'm running Kepler, but the problem is apparently hard to replicate and I don't see evidence it's resolved. See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=338871\" rel=\"noreferrer\">here</a> and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=148014\" rel=\"noreferrer\">here</a>.)</p>\n\n<p>You can see if you're experiencing this specific bug by selecting the method and using Cmd-G (or Ctrl-G: Search > Declarations > Workspace).  Eclipse is unable to find the method you're trying to rename and the search comes up empty.</p>\n\n<p>My case suggests it's possible the error might have to do with identically-named methods in different classes.  When the problem is occuring with one method, it doesn't affect most others.</p>\n\n<p>Refresh, Project->Clean, and restarting Eclipse were not helpful to me.\n<a href=\"https://stackoverflow.com/a/12867927/411282\">Kevin's answer</a> worked for me: \"Try to delete the project from Eclipse (don't delete project contents on disk) and then reload it.\"</p>\n"},{"tags":[],"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425310873,"creation_date":1425298215,"answer_id":28809469,"question_id":11379808,"body_markdown":"While renaming methods directly in the editor does not work in very rare cases and then the IDE restores the orignal method name after pressing return key - kind of &quot;agnostic mode&quot; :-), when I do the same via Refactoring -&gt; **Change Methode Signature**, in the upper right corner I change the method name, then I receive a fully detailed error message: &quot;An unexpected exception occured while performing the refactoring... Reason: anonymous #1 in .... in lambda #1 ... in ... Working Copy ... does not exist.&quot;\r\n\r\nThis indicates, that renaming methods triggers this failure, **when the method to be renamed is used in the context of an lambda or anonymous class**. \r\n\r\nTo check, comment out the occurence in the lambda or anonymous class, the refactoring/renaming could then work as expected as it did in my case.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>While renaming methods directly in the editor does not work in very rare cases and then the IDE restores the orignal method name after pressing return key - kind of \"agnostic mode\" :-), when I do the same via Refactoring -> <strong>Change Methode Signature</strong>, in the upper right corner I change the method name, then I receive a fully detailed error message: \"An unexpected exception occured while performing the refactoring... Reason: anonymous #1 in .... in lambda #1 ... in ... Working Copy ... does not exist.\"</p>\n\n<p>This indicates, that renaming methods triggers this failure, <strong>when the method to be renamed is used in the context of an lambda or anonymous class</strong>. </p>\n\n<p>To check, comment out the occurence in the lambda or anonymous class, the refactoring/renaming could then work as expected as it did in my case.</p>\n"},{"tags":[],"owner":{"account_id":875266,"reputation":697,"user_id":925035,"display_name":"Moika Turns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495800307,"creation_date":1495800307,"answer_id":44201176,"question_id":11379808,"body_markdown":"Had same issue:\r\n\r\n- left click on property name in java class\r\n- right click\r\n- refactor\r\n- rename\r\n- do the rename\r\n- press enter\r\n- green progress bar appears on footer menu but never finishes\r\n- to recover i have to kill eclipse (you can try exiting but it will hang when saving workbench state)\r\n\r\nI&#39;m running this on windows: \r\n\r\n- Version: Kepler Service Release 2\r\n- Build id: 20140224-0627\r\n\r\nI &#39;fixed&#39; the behaviour by:\r\n\r\n - making a small change to the file\r\n - saving the file\r\n - retried the refactor and it worked fine (although there is an uncomfortable delay waiting for the refactor to complete circa five seconds)\r\n\r\nThere were no errors in the project, nothing obvious in the logs when it hangs and deleting/reimporting the project from the workspace did not work either (and deleting .classpath .project and .settings before re-importing).","title":"Can&#39;t refactor rename in Eclipse","body":"<p>Had same issue:</p>\n\n<ul>\n<li>left click on property name in java class</li>\n<li>right click</li>\n<li>refactor</li>\n<li>rename</li>\n<li>do the rename</li>\n<li>press enter</li>\n<li>green progress bar appears on footer menu but never finishes</li>\n<li>to recover i have to kill eclipse (you can try exiting but it will hang when saving workbench state)</li>\n</ul>\n\n<p>I'm running this on windows: </p>\n\n<ul>\n<li>Version: Kepler Service Release 2</li>\n<li>Build id: 20140224-0627</li>\n</ul>\n\n<p>I 'fixed' the behaviour by:</p>\n\n<ul>\n<li>making a small change to the file</li>\n<li>saving the file</li>\n<li>retried the refactor and it worked fine (although there is an uncomfortable delay waiting for the refactor to complete circa five seconds)</li>\n</ul>\n\n<p>There were no errors in the project, nothing obvious in the logs when it hangs and deleting/reimporting the project from the workspace did not work either (and deleting .classpath .project and .settings before re-importing).</p>\n"},{"tags":[],"owner":{"account_id":12946539,"reputation":11,"user_id":9360737,"display_name":"Yoav Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518621296,"creation_date":1518621296,"answer_id":48790456,"question_id":11379808,"body_markdown":"Try the following (just worked for me):\r\n\r\n1. Delete the project\r\n2. Create a new java project with the same name","title":"Can&#39;t refactor rename in Eclipse","body":"<p>Try the following (just worked for me):</p>\n\n<ol>\n<li>Delete the project</li>\n<li>Create a new java project with the same name</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9260911,"reputation":21,"user_id":6878032,"display_name":"Piotr Ławniczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522840921,"creation_date":1522612135,"answer_id":49602027,"question_id":11379808,"body_markdown":"I&#39;ve been struggling this issue too. When I looked on Error Log View of Eclipse, I noticed that each time I tried to rename a variable or method, I was getting this kind of exception:\r\n\r\n\r\n    java.lang.reflect.InvocationTargetException at \r\n    org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at \r\n    org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759) at\r\n    org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at \r\n    org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756) at\r\n    org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606) at \r\n    org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191) at\r\n    org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151) at\r\n    org.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197) at\r\n    org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361) at\r\n    org.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119) at \r\n    org.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341) at \r\n    org.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194) at\r\n    org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at\r\n    org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at \r\n    org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041) at \r\n    org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)\r\n\r\nI noticed it all starts from SWT libraries. Tried to update SWT, but for some reasons I wasn&#39;t able even to find SWT installed.\r\nSo I simply installed **SWT Tools**\t3.106.0.v20170503-0851 via Help -&gt; Install new Software, what happily solved the issue.","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I've been struggling this issue too. When I looked on Error Log View of Eclipse, I noticed that each time I tried to rename a variable or method, I was getting this kind of exception:</p>\n\n<pre><code>java.lang.reflect.InvocationTargetException at \norg.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at \norg.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759) at\norg.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at \norg.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756) at\norg.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2606) at \norg.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:191) at\norg.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper.perform(RefactoringExecutionHelper.java:151) at\norg.eclipse.jdt.ui.refactoring.RenameSupport.perform(RenameSupport.java:197) at\norg.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode.doRename(RenameLinkedMode.java:361) at\norg.eclipse.jdt.internal.ui.refactoring.reorg.RenameLinkedMode$EditorSynchronizer.left(RenameLinkedMode.java:119) at \norg.eclipse.jface.text.link.LinkedModeModel.exit(LinkedModeModel.java:341) at \norg.eclipse.jface.text.link.LinkedModeUI$4.run(LinkedModeUI.java:1194) at\norg.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at\norg.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at \norg.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4041) at \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3660)\n</code></pre>\n\n<p>I noticed it all starts from SWT libraries. Tried to update SWT, but for some reasons I wasn't able even to find SWT installed.\nSo I simply installed <strong>SWT Tools</strong> 3.106.0.v20170503-0851 via Help -> Install new Software, what happily solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":13482013,"reputation":1,"user_id":9727012,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542261613,"creation_date":1542261613,"answer_id":53313311,"question_id":11379808,"body_markdown":"A quick workaround which worked for me:\r\n\r\n - Add the static modifier to your method signature (&quot;forces&quot; compilation error through just in time compilation on all references)\r\n - Refactor the method name (the errors remain)\r\n - Remove the static modifier (recompiles with changed method signature, errors gone...)\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>A quick workaround which worked for me:</p>\n\n<ul>\n<li>Add the static modifier to your method signature (\"forces\" compilation error through just in time compilation on all references)</li>\n<li>Refactor the method name (the errors remain)</li>\n<li>Remove the static modifier (recompiles with changed method signature, errors gone...)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1650379798,"creation_date":1647871280,"answer_id":71558901,"question_id":11379808,"body_markdown":"If you use Lombok (`1.18.22` in my case) and the error message in Eclipse Error Logs says `Unhandled event loop exception`, then it might be a [Lombok issue][1] - which in the mean time has been resolved. Upgrade Lombok to `1.18.24` or above.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/3134","title":"Can&#39;t refactor rename in Eclipse","body":"<p>If you use Lombok (<code>1.18.22</code> in my case) and the error message in Eclipse Error Logs says <code>Unhandled event loop exception</code>, then it might be a <a href=\"https://github.com/projectlombok/lombok/issues/3134\" rel=\"noreferrer\">Lombok issue</a> - which in the mean time has been resolved. Upgrade Lombok to <code>1.18.24</code> or above.</p>\n"},{"tags":[],"owner":{"account_id":27519607,"reputation":1,"user_id":21000009,"display_name":"duag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673612424,"creation_date":1673612424,"answer_id":75109136,"question_id":11379808,"body_markdown":"I solved by doing below steps\r\nWindow --&gt; preferences --&gt; java --&gt; uncheck &quot;rename in editor without dialog&quot;\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I solved by doing below steps\nWindow --&gt; preferences --&gt; java --&gt; uncheck &quot;rename in editor without dialog&quot;</p>\n"},{"tags":[],"owner":{"account_id":24762965,"reputation":21,"user_id":18737647,"display_name":"RustinH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675099810,"creation_date":1675099810,"answer_id":75288040,"question_id":11379808,"body_markdown":"I experienced this same issue when trying to refactor a function name, the following steps worked for me but I cannot verify the cause is the same as the original question.\r\n\r\n### Steps:\r\n 1. Close Project\r\n 2. Open Project\r\n 3. Right Click the Project and select Index&gt;&gt;Freshen All Files\r\n 4. Now select Index&gt;&gt;Rebuild\r\n---\r\nRestarting Eclipse had no impact on me, I suspect Freshen All Files did most of the work. Hopefully this works for someone!","title":"Can&#39;t refactor rename in Eclipse","body":"<p>I experienced this same issue when trying to refactor a function name, the following steps worked for me but I cannot verify the cause is the same as the original question.</p>\n<h3>Steps:</h3>\n<ol>\n<li>Close Project</li>\n<li>Open Project</li>\n<li>Right Click the Project and select Index&gt;&gt;Freshen All Files</li>\n<li>Now select Index&gt;&gt;Rebuild</li>\n</ol>\n<hr />\n<p>Restarting Eclipse had no impact on me, I suspect Freshen All Files did most of the work. Hopefully this works for someone!</p>\n"}],"owner":{"account_id":1635921,"reputation":473,"user_id":1509419,"accept_rate":57,"display_name":"Mike Dannyboy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32187,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":15,"score":30,"last_activity_date":1675099810,"creation_date":1341707827,"question_id":11379808,"body_markdown":"If I do a refactor rename on something, it tries to do it for a moment but then just reverts it right back to what it was named before.  No errors or any indication that something is wrong is shown.\r\n\r\n---\r\n\r\nI just restarted Eclipse and now it&#39;s even worse.  Before, at least selecting *Refactor &gt; Rename* would &quot;box&quot; the name and pretend it&#39;s letting you do a refactor.  Now, after restart, selecting *Refactor &gt; Rename* does nothing.\r\n\r\nWin7 64 bit   \r\nEclipse Indigo build 20110615-0604\r\n","title":"Can&#39;t refactor rename in Eclipse","body":"<p>If I do a refactor rename on something, it tries to do it for a moment but then just reverts it right back to what it was named before.  No errors or any indication that something is wrong is shown.</p>\n\n<hr>\n\n<p>I just restarted Eclipse and now it's even worse.  Before, at least selecting <em>Refactor > Rename</em> would \"box\" the name and pretend it's letting you do a refactor.  Now, after restart, selecting <em>Refactor > Rename</em> does nothing.</p>\n\n<p>Win7 64 bit<br>\nEclipse Indigo build 20110615-0604</p>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1675098714,"post_id":75287802,"comment_id":132850950,"body_markdown":"The short answer is that arrays and generics just never mix well.","body":"The short answer is that arrays and generics just never mix well."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675098672,"creation_date":1675098672,"answer_id":75287835,"question_id":75287802,"body_markdown":"&gt; But as I understand it the array isn&#39;t generic, as its generic type is defined to be String.\r\n\r\nDifferent meanings of the same word. What the compiler means is: There are `&lt;&gt;` and/or type vars involved anywhere in the array type. Which you can&#39;t do.\r\n\r\nArrays are low-level constructs that you don&#39;t use except for classes that define new collection concepts. You aren&#39;t doing that here. Ditch the array, make a `List&lt;Queue&lt;String&gt;&gt;` instead.\r\n\r\nIf you insist on using arrays, you&#39;re doing it: `arr = new Queue[10]`. Yes, this gets a warning. The only thing you can do is live with it, or use `@SuppressWarnings`. Arrays and generics don&#39;t mix very well. Hence, don&#39;t - use `List&lt;Queue&lt;String&gt;&gt;` instead.","title":"Compiler says &quot;Cannot create a generic array&quot; although array isn&#39;t generic","body":"<blockquote>\n<p>But as I understand it the array isn't generic, as its generic type is defined to be String.</p>\n</blockquote>\n<p>Different meanings of the same word. What the compiler means is: There are <code>&lt;&gt;</code> and/or type vars involved anywhere in the array type. Which you can't do.</p>\n<p>Arrays are low-level constructs that you don't use except for classes that define new collection concepts. You aren't doing that here. Ditch the array, make a <code>List&lt;Queue&lt;String&gt;&gt;</code> instead.</p>\n<p>If you insist on using arrays, you're doing it: <code>arr = new Queue[10]</code>. Yes, this gets a warning. The only thing you can do is live with it, or use <code>@SuppressWarnings</code>. Arrays and generics don't mix very well. Hence, don't - use <code>List&lt;Queue&lt;String&gt;&gt;</code> instead.</p>\n"}],"owner":{"account_id":21106875,"reputation":3,"user_id":17450919,"display_name":"BroPro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675098705,"accepted_answer_id":75287835,"answer_count":1,"score":0,"last_activity_date":1675098672,"creation_date":1675098536,"question_id":75287802,"body_markdown":"I created the class `Queue` with\r\n\r\n```\r\nimport java.util.LinkedList;\r\npublic class Queue &lt;T&gt;{\r\n        private LinkedList&lt;T&gt; list;\r\n\r\n        public Queue() {\r\n            list = new LinkedList&lt;&gt;();\r\n        }\r\n\r\n        ...\r\n}\r\n```\r\n\r\nI also created the class `Cinema`, which has a private field of an array of `Queue&lt;String&gt;`.\r\n\r\n```\r\npublic class Cinema {\r\n\tprivate Queue&lt;String&gt;[] arr;\r\n\t\r\n\tpublic Cinema() {\r\n\t\tarr = new Queue&lt;String&gt;[10];\r\n\t\tfor (int i = 0; i &lt; 10; i++)\r\n\t\t\tarr[i] = new Queue&lt;String&gt;();\r\n\t}\r\n\r\n        ...\r\n}\r\n```\r\n\r\nHowever, the line `arr = new Queue&lt;String&gt;[10];` throws a compilation error, saying `Cannot create a generic array of Queue&lt;String&gt;`. But as I understand it the array isn&#39;t generic, as its generic type is defined to be `String`.\r\n\r\nWhen I change the line to\r\n\r\n```\r\narr = new Queue[10];\r\n```\r\n\r\nthe code works again, although it still gives me a warning saying `Type safety: The expression of type Queue[] needs unchecked conversion to conform to Queue&lt;String&gt;[]`. So I don&#39;t understand why the original doesn&#39;t work.","title":"Compiler says &quot;Cannot create a generic array&quot; although array isn&#39;t generic","body":"<p>I created the class <code>Queue</code> with</p>\n<pre><code>import java.util.LinkedList;\npublic class Queue &lt;T&gt;{\n        private LinkedList&lt;T&gt; list;\n\n        public Queue() {\n            list = new LinkedList&lt;&gt;();\n        }\n\n        ...\n}\n</code></pre>\n<p>I also created the class <code>Cinema</code>, which has a private field of an array of <code>Queue&lt;String&gt;</code>.</p>\n<pre><code>public class Cinema {\n    private Queue&lt;String&gt;[] arr;\n    \n    public Cinema() {\n        arr = new Queue&lt;String&gt;[10];\n        for (int i = 0; i &lt; 10; i++)\n            arr[i] = new Queue&lt;String&gt;();\n    }\n\n        ...\n}\n</code></pre>\n<p>However, the line <code>arr = new Queue&lt;String&gt;[10];</code> throws a compilation error, saying <code>Cannot create a generic array of Queue&lt;String&gt;</code>. But as I understand it the array isn't generic, as its generic type is defined to be <code>String</code>.</p>\n<p>When I change the line to</p>\n<pre><code>arr = new Queue[10];\n</code></pre>\n<p>the code works again, although it still gives me a warning saying <code>Type safety: The expression of type Queue[] needs unchecked conversion to conform to Queue&lt;String&gt;[]</code>. So I don't understand why the original doesn't work.</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":3050692,"reputation":1007,"user_id":2585333,"accept_rate":45,"display_name":"Sameer Puri"},"score":0,"creation_date":1415680263,"post_id":26857487,"comment_id":42276615,"body_markdown":"What IDE are you utilizing?","body":"What IDE are you utilizing?"},{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":0,"creation_date":1415680339,"post_id":26857487,"comment_id":42276636,"body_markdown":"i am using terminal in ubuntu","body":"i am using terminal in ubuntu"},{"owner":{"account_id":108185,"reputation":1246,"user_id":287281,"accept_rate":70,"display_name":"beyonddc"},"score":1,"creation_date":1415680348,"post_id":26857487,"comment_id":42276641,"body_markdown":"How do you compile this?  Looking at your error message, I think it is a simple classpath issue.  You need to specify your classpath in your javac command when you try to compile it.","body":"How do you compile this?  Looking at your error message, I think it is a simple classpath issue.  You need to specify your classpath in your javac command when you try to compile it."},{"owner":{"account_id":1874766,"reputation":1089,"user_id":1696191,"accept_rate":65,"display_name":"the.wizard"},"score":0,"creation_date":1415680535,"post_id":26857487,"comment_id":42276683,"body_markdown":"post your code to here.. so we can help you better..","body":"post your code to here.. so we can help you better.."},{"owner":{"account_id":1046862,"reputation":1573,"user_id":1051671,"accept_rate":50,"display_name":"RSCode"},"score":0,"creation_date":1415680670,"post_id":26857487,"comment_id":42276721,"body_markdown":"did you first compile the Student.java class before compiling MessConvener.java class?","body":"did you first compile the Student.java class before compiling MessConvener.java class?"},{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":0,"creation_date":1415680938,"post_id":26857487,"comment_id":42276819,"body_markdown":"@beyonddc i compile it using javac.","body":"@beyonddc i compile it using javac."},{"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"score":0,"creation_date":1415680972,"post_id":26857487,"comment_id":42276828,"body_markdown":"@RobinSaxena i have already compiled Student.java","body":"@RobinSaxena i have already compiled Student.java"},{"owner":{"account_id":12264582,"reputation":301,"user_id":8951449,"display_name":"kaiya"},"score":0,"creation_date":1555032035,"post_id":26857487,"comment_id":97976390,"body_markdown":"this seems to be a problem with Intellij IDEA (rsp. the usage). had this problem twice today, could fix it in the maven project with smac89 help, and now i got it in the other (gradle) project, too. Happened when I copied some classes from one project to the other. very odd behaviour.","body":"this seems to be a problem with Intellij IDEA (rsp. the usage). had this problem twice today, could fix it in the maven project with smac89 help, and now i got it in the other (gradle) project, too. Happened when I copied some classes from one project to the other. very odd behaviour."},{"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"score":0,"creation_date":1667553246,"post_id":26857487,"comment_id":131197954,"body_markdown":"In Intellij, try [Go to File &gt; Invalidate Caches/Restart &gt; You can choose only Invalidate and restart.](https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found)","body":"In Intellij, try <a href=\"https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found\">Go to File &gt; Invalidate Caches/Restart &gt; You can choose only Invalidate and restart.</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1415684675,"creation_date":1415680504,"answer_id":26857540,"question_id":26857487,"body_markdown":"There are two possible reasons why this happens\r\n\r\n1. Is the root of your directories included in the classpath? You need to specify when starting a java program. [See the documentation on how to do that][1] or [this variant for unix][2].\r\n\r\n2. Are your classes public? If you forget the public modifier, classes will have package visibility and cannot be accessed from other packages.\r\n\r\n3. Oh well, nobody expects the spanish inquisition ... check your spelling carefully, including capitals.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/classpath.html","title":"cannot access the classes in the package","body":"<p>There are two possible reasons why this happens</p>\n\n<ol>\n<li><p>Is the root of your directories included in the classpath? You need to specify when starting a java program. <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow\">See the documentation on how to do that</a> or <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/classpath.html\" rel=\"nofollow\">this variant for unix</a>.</p></li>\n<li><p>Are your classes public? If you forget the public modifier, classes will have package visibility and cannot be accessed from other packages.</p></li>\n<li><p>Oh well, nobody expects the spanish inquisition ... check your spelling carefully, including capitals.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1571755577,"creation_date":1504206552,"answer_id":45988523,"question_id":26857487,"body_markdown":"The error you&#39;re getting makes sense. The `Student` class is located in `MessManagement` package not `MessManagement.student` package.\n\nSo either remove your import of `Student` in `MessManagement` or change the package name in `Student` to `MessManagement.student`.\r\n\r\n---\r\n\r\nFor me, I got this error for a different reason and this was in a maven project. It began to occur after I made major changes to the classes and copied in a lot of new classes. There were no conflicting package names as in your case.\r\n\r\nThe solution was to do `mvn clean`.\r\n\r\nAfter this, I didn&#39;t get that error anymore.","title":"cannot access the classes in the package","body":"<p>The error you're getting makes sense. The <code>Student</code> class is located in <code>MessManagement</code> package not <code>MessManagement.student</code> package.</p>\n\n<p>So either remove your import of <code>Student</code> in <code>MessManagement</code> or change the package name in <code>Student</code> to <code>MessManagement.student</code>.</p>\n\n<hr>\n\n<p>For me, I got this error for a different reason and this was in a maven project. It began to occur after I made major changes to the classes and copied in a lot of new classes. There were no conflicting package names as in your case.</p>\n\n<p>The solution was to do <code>mvn clean</code>.</p>\n\n<p>After this, I didn't get that error anymore.</p>\n"},{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510726103,"creation_date":1510726103,"answer_id":47300482,"question_id":26857487,"body_markdown":"I recently had this issue and it was because I had a class file in the same directory as the java file that I was compiling. You need to delete all .class files in that directory. ","title":"cannot access the classes in the package","body":"<p>I recently had this issue and it was because I had a class file in the same directory as the java file that I was compiling. You need to delete all .class files in that directory. </p>\n"},{"tags":[],"owner":{"account_id":14235299,"reputation":629,"user_id":10387434,"display_name":"Leonid Ivankin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1539766542,"creation_date":1539766542,"answer_id":52850937,"question_id":26857487,"body_markdown":"I deleted the [out][1] folder and the problem was solved\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9hm8Z.png","title":"cannot access the classes in the package","body":"<p>I deleted the <a href=\"https://i.stack.imgur.com/9hm8Z.png\" rel=\"nofollow noreferrer\">out</a> folder and the problem was solved</p>\n"},{"tags":[],"owner":{"account_id":18600726,"reputation":1,"user_id":15614100,"display_name":"Ron Levi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618252056,"creation_date":1618252056,"answer_id":67063785,"question_id":26857487,"body_markdown":"For me it happened after updating java to jdk_16.\r\n\r\nit was solved after I changed the &quot;misc.xml&quot; file inside &quot;.idea&quot; folder.\r\nchanged languageLevel=&quot;JDK_15&quot; to languageLevel=&quot;JDK_16&quot;.","title":"cannot access the classes in the package","body":"<p>For me it happened after updating java to jdk_16.</p>\n<p>it was solved after I changed the &quot;misc.xml&quot; file inside &quot;.idea&quot; folder.\nchanged languageLevel=&quot;JDK_15&quot; to languageLevel=&quot;JDK_16&quot;.</p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667553357,"creation_date":1667553357,"answer_id":74314621,"question_id":26857487,"body_markdown":"In `Intellij`, try \r\n\r\n1. Go to File \r\n2. Invalidate Caches/Restart \r\n3. You can choose only Invalidate and restart\r\n\r\n[See this answer](https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found)","title":"cannot access the classes in the package","body":"<p>In <code>Intellij</code>, try</p>\n<ol>\n<li>Go to File</li>\n<li>Invalidate Caches/Restart</li>\n<li>You can choose only Invalidate and restart</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/questions/38549649/java-cannot-access-class-class-file-not-found\">See this answer</a></p>\n"},{"tags":[],"owner":{"account_id":27659265,"reputation":11,"user_id":21112463,"display_name":"erWin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675098485,"creation_date":1675098485,"answer_id":75287789,"question_id":26857487,"body_markdown":"Well I guess I am literally 8 years late, but today I had this problem and I managed to solve it just re-writing the state of the class. Seems that if you comitted your project, pulling it back could make you have that problem, but writing again the &quot;public&quot; state of your class worked for me. I Hope it works for you guys. chrss.","title":"cannot access the classes in the package","body":"<p>Well I guess I am literally 8 years late, but today I had this problem and I managed to solve it just re-writing the state of the class. Seems that if you comitted your project, pulling it back could make you have that problem, but writing again the &quot;public&quot; state of your class worked for me. I Hope it works for you guys. chrss.</p>\n"}],"owner":{"account_id":4628482,"reputation":1329,"user_id":3751615,"accept_rate":94,"display_name":"Rohith R"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81600,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26857540,"answer_count":7,"score":10,"last_activity_date":1675098485,"creation_date":1415680136,"question_id":26857487,"body_markdown":"I have the following directory structure :\r\n\r\n`MessManagement` is the parent directory.\r\n\r\nUnder that i have 3 directories :\r\n`student` , `messconvener`,`messmanager`\r\n\r\nThe student directory contains the `Student.java` and `Student.class` files. The `messconvener` contains the `MessConvener.java` this requires the `Student class` as `MessConvener` **is extended** from `Student` itself.\r\n\r\nHow should i do the packaging of the classes....??\r\n\r\nWhat i have tried so far.\r\n\r\nCode :\r\n\r\nThis is `Student.java`\r\n\r\n    package MessManagement;\r\n\timport java.sql.*;\r\n\r\n\tpublic class Student\r\n\t{\r\n\t\t\r\n\t}\r\n\r\nThis is `MessConvener.java`\r\n\r\n    package MessManagement;\r\n\timport MessManagement.student.Student;\r\n\tpublic class MessConvener extends Student\r\n\t{\r\n\t\t\t\r\n\t}\r\n\r\n\r\n\r\nBut this does not seem to work.Error Meesage :\r\n\r\n`MessConvener.java:2: error: package MessManagement.student does not exist\r\nimport MessManagement.student.Student;\r\n                             ^\r\nMessConvener.java:3: error: cannot find symbol\r\npublic class MessConvener extends Student\r\n                                  ^\r\n  symbol: class Student\r\n2 errors`","title":"cannot access the classes in the package","body":"<p>I have the following directory structure :</p>\n\n<p><code>MessManagement</code> is the parent directory.</p>\n\n<p>Under that i have 3 directories :\n<code>student</code> , <code>messconvener</code>,<code>messmanager</code></p>\n\n<p>The student directory contains the <code>Student.java</code> and <code>Student.class</code> files. The <code>messconvener</code> contains the <code>MessConvener.java</code> this requires the <code>Student class</code> as <code>MessConvener</code> <strong>is extended</strong> from <code>Student</code> itself.</p>\n\n<p>How should i do the packaging of the classes....??</p>\n\n<p>What i have tried so far.</p>\n\n<p>Code :</p>\n\n<p>This is <code>Student.java</code></p>\n\n<pre><code>package MessManagement;\nimport java.sql.*;\n\npublic class Student\n{\n\n}\n</code></pre>\n\n<p>This is <code>MessConvener.java</code></p>\n\n<pre><code>package MessManagement;\nimport MessManagement.student.Student;\npublic class MessConvener extends Student\n{\n\n}\n</code></pre>\n\n<p>But this does not seem to work.Error Meesage :</p>\n\n<p><code>MessConvener.java:2: error: package MessManagement.student does not exist\nimport MessManagement.student.Student;\n                             ^\nMessConvener.java:3: error: cannot find symbol\npublic class MessConvener extends Student\n                                  ^\n  symbol: class Student\n2 errors</code></p>\n"},{"tags":["java","java-stream","java-9"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":11,"creation_date":1508507969,"post_id":46850689,"comment_id":80648850,"body_markdown":"A quick google search came up with [this](https://blog.codefx.org/java/java-9-stream/): &quot;Called on an ordered stream it will return a new one that consists of those element that passed the predicate until the first one failed. It’s a little like filter but it cuts the stream off as soon as the first element fails the predicate. _In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does._&quot; - If you&#39;d change your predicate to get odd elements only `filter()` would result in `1,3,5,7,9` while `takeWhile()` would result in just `1`.","body":"A quick google search came up with <a href=\"https://blog.codefx.org/java/java-9-stream/\" rel=\"nofollow noreferrer\">this</a>: &quot;Called on an ordered stream it will return a new one that consists of those element that passed the predicate until the first one failed. It’s a little like filter but it cuts the stream off as soon as the first element fails the predicate. <i>In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does.</i>&quot; - If you&#39;d change your predicate to get odd elements only <code>filter()</code> would result in <code>1,3,5,7,9</code> while <code>takeWhile()</code> would result in just <code>1</code>."},{"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"score":0,"creation_date":1508508141,"post_id":46850689,"comment_id":80648965,"body_markdown":"Okay. So perhaps it is a more narrowed down form of `filter`.","body":"Okay. So perhaps it is a more narrowed down form of <code>filter</code>."},{"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"score":2,"creation_date":1508508426,"post_id":46850689,"comment_id":80649162,"body_markdown":"In fact this is why there is a `while` in the function name indicating `break` if predicate does not hold.","body":"In fact this is why there is a <code>while</code> in the function name indicating <code>break</code> if predicate does not hold."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1508508705,"post_id":46850689,"comment_id":80649351,"body_markdown":"You got it :) ..","body":"You got it :) .."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1508511492,"creation_date":1508508161,"answer_id":46850795,"question_id":46850689,"body_markdown":"`filter` will remove all items from the stream that do not satisfy the condition.\r\n\r\n`takeWhile` will abort the stream on the first occurrence of an item which does not satisfy the condition.\r\n\r\ne.g.\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\r\n        .filter(i -&gt; i &lt; 4 )\r\n        .forEach(System.out::print);\r\n\r\nwill print\r\n\r\n&gt; 123321\r\n\r\nbut\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\r\n        .takeWhile(i -&gt; i &lt; 4 )\r\n        .forEach(System.out::print);\r\n\r\nwill print\r\n\r\n&gt; 123\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p><code>filter</code> will remove all items from the stream that do not satisfy the condition.</p>\n\n<p><code>takeWhile</code> will abort the stream on the first occurrence of an item which does not satisfy the condition.</p>\n\n<p>e.g.</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\n    .filter(i -&gt; i &lt; 4 )\n    .forEach(System.out::print);\n</code></pre>\n\n<p>will print</p>\n\n<blockquote>\n  <p>123321</p>\n</blockquote>\n\n<p>but</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1)\n    .takeWhile(i -&gt; i &lt; 4 )\n    .forEach(System.out::print);\n</code></pre>\n\n<p>will print</p>\n\n<blockquote>\n  <p>123</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508508171,"creation_date":1508508171,"answer_id":46850800,"question_id":46850689,"body_markdown":"According to this blogpost: https://blog.codefx.org/java/java-9-stream/\r\n\r\n&gt; Called on an **ordered stream** it will return a new one that consists of those element that passed the predicate **until the first one failed**. It’s a little like filter but it **cuts the stream off as soon as the first element fails** the predicate. In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does.\r\n\r\ni marked the important stuff in bold.\r\n\r\nThe example from the post:\r\n\r\n    Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;e&quot;)\r\n\t    .takeWhile(s -&gt; !String.isEmpty(s));\r\n\t    .forEach(System.out::print);\r\n \r\nOutputs `abc`. Because it filters until the first one doesn&#39;t match the predicate (in the example the 4th element). So you could say it&#39;s shortcircuiting the stream.\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p>According to this blogpost: <a href=\"https://blog.codefx.org/java/java-9-stream/\" rel=\"nofollow noreferrer\">https://blog.codefx.org/java/java-9-stream/</a></p>\n\n<blockquote>\n  <p>Called on an <strong>ordered stream</strong> it will return a new one that consists of those element that passed the predicate <strong>until the first one failed</strong>. It’s a little like filter but it <strong>cuts the stream off as soon as the first element fails</strong> the predicate. In its parlance, it takes elements from the stream while the predicate holds and stops as soon as it no longer does.</p>\n</blockquote>\n\n<p>i marked the important stuff in bold.</p>\n\n<p>The example from the post:</p>\n\n<pre><code>Stream.of(\"a\", \"b\", \"c\", \"\", \"e\")\n    .takeWhile(s -&gt; !String.isEmpty(s));\n    .forEach(System.out::print);\n</code></pre>\n\n<p>Outputs <code>abc</code>. Because it filters until the first one doesn't match the predicate (in the example the 4th element). So you could say it's shortcircuiting the stream.</p>\n"},{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508508173,"creation_date":1508508173,"answer_id":46850802,"question_id":46850689,"body_markdown":"It could be used to get the index of the first `null` value e.g.\r\n\r\n    Stream.of(&quot;Test&quot;, &quot;Test2&quot;, null, &quot;Test2&quot;, null).takeWhile(Objects:isNull).count();\r\n\r\nYou could do the same with `filter` but in that case you would need to have a condition to break the filter as soon as you get the first null value. So in practice `filter` is not suited for that kind of work while `takeWhile` is exactly for that case.\r\n\r\n\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p>It could be used to get the index of the first <code>null</code> value e.g.</p>\n\n<pre><code>Stream.of(\"Test\", \"Test2\", null, \"Test2\", null).takeWhile(Objects:isNull).count();\n</code></pre>\n\n<p>You could do the same with <code>filter</code> but in that case you would need to have a condition to break the filter as soon as you get the first null value. So in practice <code>filter</code> is not suited for that kind of work while <code>takeWhile</code> is exactly for that case.</p>\n"},{"tags":[],"owner":{"account_id":10941923,"reputation":6757,"user_id":8041461,"accept_rate":60,"display_name":"jrtapsell"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1508508887,"creation_date":1508508212,"answer_id":46850816,"question_id":46850689,"body_markdown":"# The difference\r\n## takeWhile\r\n\r\nTakes values while the filter is true, then stops\r\n\r\n## filter\r\n\r\nTakes all the values that match the filter\r\n\r\n# Example\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i % 2 == 0 )\r\n        .forEach(System.out::println);\r\n\r\n[TIO](https://tio.run/##LU1LDoIwEN33FLMxgWSc@FckuHPpihNUBBwslLSDiTGcHRv1bV7yvo1@6rnty665PZJp4ra3TqAJKg3Chry4UreUfylVhdHew0Vz91b9cDVcgBctgZ6Wb9AGIwpZ7moiAu1qH8Nb/dpkq2iJK1zjBre4wz0eMMHlIqaKjZQuYpifgGEGK8gyWECs4A@qrDvr4h7lLy9lWBrkeOzDjZguTtWoxmn6AA)\r\n\r\nThis outputs all of the even numbers from 2 to 10 inclusive.\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i % 2 == 0 )\r\n        .forEach(System.out::println);\r\n\r\n[TIO](https://tio.run/##LU27CsJAEOzvK7YRElgX35qIdpZWFtZrPHXjJRdyG0HEb4@HOs3APEt@8NA3ti7P96zvpWp8q1BGlToVR0FbyxUdvrQ2heMQYM9Sv0zTnZwUEJQ10sPLGapoJDEr9ZWIgNtrSOFlfm3yl2SME5ziDOe4wCWuMMPxKCXluz3exNlEYLgFgQFMYLOBEaQG/qCLb3dc3JLDM6iNY53meROf1NXp2rzNu@8/)\r\n\r\nThis outputs nothing, as 1 is not even, so it stops before outputing anything.","title":"How is takeWhile different from filter?","body":"<h1>The difference</h1>\n\n<h2>takeWhile</h2>\n\n<p>Takes values while the filter is true, then stops</p>\n\n<h2>filter</h2>\n\n<p>Takes all the values that match the filter</p>\n\n<h1>Example</h1>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i % 2 == 0 )\n    .forEach(System.out::println);\n</code></pre>\n\n<p><a href=\"https://tio.run/##LU1LDoIwEN33FLMxgWSc@FckuHPpihNUBBwslLSDiTGcHRv1bV7yvo1@6rnty665PZJp4ra3TqAJKg3Chry4UreUfylVhdHew0Vz91b9cDVcgBctgZ6Wb9AGIwpZ7moiAu1qH8Nb/dpkq2iJK1zjBre4wz0eMMHlIqaKjZQuYpifgGEGK8gyWECs4A@qrDvr4h7lLy9lWBrkeOzDjZguTtWoxmn6AA\" rel=\"noreferrer\">TIO</a></p>\n\n<p>This outputs all of the even numbers from 2 to 10 inclusive.</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i % 2 == 0 )\n    .forEach(System.out::println);\n</code></pre>\n\n<p><a href=\"https://tio.run/##LU27CsJAEOzvK7YRElgX35qIdpZWFtZrPHXjJRdyG0HEb4@HOs3APEt@8NA3ti7P96zvpWp8q1BGlToVR0FbyxUdvrQ2heMQYM9Sv0zTnZwUEJQ10sPLGapoJDEr9ZWIgNtrSOFlfm3yl2SME5ziDOe4wCWuMMPxKCXluz3exNlEYLgFgQFMYLOBEaQG/qCLb3dc3JLDM6iNY53meROf1NXp2rzNu@8/\" rel=\"noreferrer\">TIO</a></p>\n\n<p>This outputs nothing, as 1 is not even, so it stops before outputing anything.</p>\n"},{"tags":[],"owner":{"account_id":15338670,"reputation":11,"user_id":11066286,"display_name":"Robertas Tutlys"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1589540681,"creation_date":1589540229,"answer_id":61817586,"question_id":46850689,"body_markdown":"The operations **takeWhile** and **dropWhile** are more efficient than a filter if you know that the source is **sorted**. These operations make use of short-circuiting and that means: a computation stops as a result is found, there is no need to process the whole stream with filter operation  ","title":"How is takeWhile different from filter?","body":"<p>The operations <strong>takeWhile</strong> and <strong>dropWhile</strong> are more efficient than a filter if you know that the source is <strong>sorted</strong>. These operations make use of short-circuiting and that means: a computation stops as a result is found, there is no need to process the whole stream with filter operation  </p>\n"}],"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17179,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":46850795,"answer_count":5,"score":48,"last_activity_date":1675098392,"creation_date":1508507828,"question_id":46850689,"body_markdown":"How is takeWhile() different from filter() in Java 9. What extra utility does it have?\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i &lt; 4 )\r\n            .forEach(System.out::println);\r\n\r\nThis is perhaps what following would do\r\n\r\n    Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i &lt; 4 )\r\n            .forEach(System.out::println);\r\n\r\nWhat was the need of this new function then?\r\n\r\n\r\n","title":"How is takeWhile different from filter?","body":"<p>How is takeWhile() different from filter() in Java 9. What extra utility does it have?</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).filter(i -&gt; i &lt; 4 )\n        .forEach(System.out::println);\n</code></pre>\n\n<p>This is perhaps what following would do</p>\n\n<pre><code>Stream.of(1,2,3,4,5,6,7,8,9,10).takeWhile(i -&gt; i &lt; 4 )\n        .forEach(System.out::println);\n</code></pre>\n\n<p>What was the need of this new function then?</p>\n"},{"tags":["java","multithreading","jsr352"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646072809,"post_id":71299439,"comment_id":126029583,"body_markdown":"See https://docs.spring.io/spring-batch/docs/current/reference/html/jsr-352.html, section Partitioning.","body":"See <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/jsr-352.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/current/reference/html/&hellip;</a>, section Partitioning."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1646117420,"post_id":71299439,"comment_id":126038536,"body_markdown":"Thank you, Partitioning seems the answer. And I do not understand why this question would get downvoted without even a comment.","body":"Thank you, Partitioning seems the answer. And I do not understand why this question would get downvoted without even a comment."}],"answers":[{"tags":[],"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675098053,"creation_date":1646757739,"answer_id":71398536,"question_id":71299439,"body_markdown":"Here is another [example of using partitioned][1] chunk processing in JBeret. Partitioned batchlet should be similar in terms of job configuration. But partitioned batchlet is not common compared to partitioned chunk steps, because batchlet is mainly a task-oriented step, which is not easy to split into multiple partitions. So you may want to check if batchlet step is really suitable.\r\n\r\nJBeret project [test-apps][2] module contains some examples with partition configuration. For example, [cdiScopes][3] tests use batchlet with partitions. [Throttle][4] tests use chunk with partitions.\r\n\r\nJBeret test-apps/chunkPartition test module contains a [job xml that uses mapper for dynamic partition][5].\r\n\r\n\r\n  [1]: https://github.com/wildfly/quickstart/blob/main/batch-processing/src/main/resources/META-INF/batch-jobs/import-file.xml\r\n  [2]: https://github.com/jberet/jsr352/tree/master/test-apps\r\n  [3]: https://github.com/jberet/jsr352/blob/master/test-apps/cdiScopes/stepScoped/src/main/resources/META-INF/batch-jobs/stepScopedPartitioned.xml\r\n  [4]: https://github.com/jberet/jsr352/blob/master/test-apps/throttle/src/main/resources/META-INF/batch-jobs/throttle.xml\r\n  [5]: https://github.com/jberet/jsr352/blob/master/test-apps/chunkPartition/src/main/resources/META-INF/batch-jobs/org.jberet.test.chunkPartitionRestart2StepsMapper.xml","title":"Java Batch Multithreading","body":"<p>Here is another <a href=\"https://github.com/wildfly/quickstart/blob/main/batch-processing/src/main/resources/META-INF/batch-jobs/import-file.xml\" rel=\"nofollow noreferrer\">example of using partitioned</a> chunk processing in JBeret. Partitioned batchlet should be similar in terms of job configuration. But partitioned batchlet is not common compared to partitioned chunk steps, because batchlet is mainly a task-oriented step, which is not easy to split into multiple partitions. So you may want to check if batchlet step is really suitable.</p>\n<p>JBeret project <a href=\"https://github.com/jberet/jsr352/tree/master/test-apps\" rel=\"nofollow noreferrer\">test-apps</a> module contains some examples with partition configuration. For example, <a href=\"https://github.com/jberet/jsr352/blob/master/test-apps/cdiScopes/stepScoped/src/main/resources/META-INF/batch-jobs/stepScopedPartitioned.xml\" rel=\"nofollow noreferrer\">cdiScopes</a> tests use batchlet with partitions. <a href=\"https://github.com/jberet/jsr352/blob/master/test-apps/throttle/src/main/resources/META-INF/batch-jobs/throttle.xml\" rel=\"nofollow noreferrer\">Throttle</a> tests use chunk with partitions.</p>\n<p>JBeret test-apps/chunkPartition test module contains a <a href=\"https://github.com/jberet/jsr352/blob/master/test-apps/chunkPartition/src/main/resources/META-INF/batch-jobs/org.jberet.test.chunkPartitionRestart2StepsMapper.xml\" rel=\"nofollow noreferrer\">job xml that uses mapper for dynamic partition</a>.</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71398536,"answer_count":1,"score":0,"last_activity_date":1675098053,"creation_date":1646072588,"question_id":71299439,"body_markdown":"I have some JSR-352 batch jobs that run quite well - despite their runtime.\r\nNow I am thinking of distributing the work across several threads.\r\n\r\nHow is this pattern supported by JSR-352?\r\n\r\nEdit: Now that I know the keywords to search for I can make out more resources on this problem:\r\n\r\n- https://stackoverflow.com/questions/58427625/batch-job-definition-how-to-run-a-dynamically-calculated-number-of-partitions\r\n- https://stackoverflow.com/questions/20741433/jsr-352-batch-application-example\r\n- https://github.com/javaee-samples/jakartaee-samples/tree/main/ee7/batch\r\n- https://www.baeldung.com/java-ee-7-batch-processing#partitionof-job\r\n- https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf page 24+\r\n\r\nI want to create a partitioned batchlet, and the partitions must be calculated at runtime. The idea is to split the processing of all records into a predefined maximum number of partitions, or a number of partitions with maximum size.","title":"Java Batch Multithreading","body":"<p>I have some JSR-352 batch jobs that run quite well - despite their runtime.\nNow I am thinking of distributing the work across several threads.</p>\n<p>How is this pattern supported by JSR-352?</p>\n<p>Edit: Now that I know the keywords to search for I can make out more resources on this problem:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/58427625/batch-job-definition-how-to-run-a-dynamically-calculated-number-of-partitions\">Batch job definition: How to run a dynamically-calculated number of partitions?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20741433/jsr-352-batch-application-example\">JSR 352 batch application example</a></li>\n<li><a href=\"https://github.com/javaee-samples/jakartaee-samples/tree/main/ee7/batch\" rel=\"nofollow noreferrer\">https://github.com/javaee-samples/jakartaee-samples/tree/main/ee7/batch</a></li>\n<li><a href=\"https://www.baeldung.com/java-ee-7-batch-processing#partitionof-job\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-ee-7-batch-processing#partitionof-job</a></li>\n<li><a href=\"https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf</a> page 24+</li>\n</ul>\n<p>I want to create a partitioned batchlet, and the partitions must be calculated at runtime. The idea is to split the processing of all records into a predefined maximum number of partitions, or a number of partitions with maximum size.</p>\n"},{"tags":["java","selenium","flexbox","calendar","click"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1675095058,"post_id":75286296,"comment_id":132849652,"body_markdown":"(https://stackoverflow.com/a/30206106/7598774) - Refer this if it helps","body":"(<a href=\"https://stackoverflow.com/a/30206106/7598774\">stackoverflow.com/a/30206106/7598774</a>) - Refer this if it helps"},{"owner":{"account_id":26926509,"reputation":11,"user_id":20499692,"display_name":"shady"},"score":0,"creation_date":1675097168,"post_id":75286296,"comment_id":132850360,"body_markdown":"Hey. I found a fix. Thanks anyways!","body":"Hey. I found a fix. Thanks anyways!"},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1675097237,"post_id":75286296,"comment_id":132850391,"body_markdown":"Do you mind sharing your fix in the form of an answer so that it will be useful for everyone.","body":"Do you mind sharing your fix in the form of an answer so that it will be useful for everyone."}],"answers":[{"tags":[],"owner":{"account_id":26926509,"reputation":11,"user_id":20499692,"display_name":"shady"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675097805,"creation_date":1675097805,"answer_id":75287656,"question_id":75286296,"body_markdown":"Actually this has nothing to do with flex. I had to scroll a bit lower for the calender to pop up. The below code sorted things.\r\n\r\n    driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);   \r\n    JavascriptExecutor js = (JavascriptExecutor)driver;\r\n    js.executeScript(&quot;window.scrollBy(0,800)&quot;);\r\n    Thread.sleep(3000);\r\n    driver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();\r\n\r\n    ","title":"I&#39;m unable to click on a element with it&#39;s ID using Selenium. There&#39;s &quot;flex&quot; written inside a rounded rectangle when I inspect element. Any solutions?","body":"<p>Actually this has nothing to do with flex. I had to scroll a bit lower for the calender to pop up. The below code sorted things.</p>\n<pre><code>driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);   \nJavascriptExecutor js = (JavascriptExecutor)driver;\njs.executeScript(&quot;window.scrollBy(0,800)&quot;);\nThread.sleep(3000);\ndriver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":26926509,"reputation":11,"user_id":20499692,"display_name":"shady"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675097832,"creation_date":1675091348,"question_id":75286296,"body_markdown":"I&#39;m trying to click on an element using selenium and make a calender pop up.\r\nI think that the &quot;flex thingy&quot; has something to do with this.\r\n\r\n\r\nI&#39;m trying to click on the &quot;Date of Travel&quot; button to make the calender pop up on this website: https://www.path2usa.com/travel-companion/\r\n\r\nHere&#39;s my code\r\n\r\n`driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);`\t\t\r\n`driver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();`\r\n\r\nFor some reason, the calendar does not pop up.\r\n\r\nI&#39;m very new to this and I apologize if this sounds stupid. I&#39;d really appreciate any help!\r\n\r\n","title":"I&#39;m unable to click on a element with it&#39;s ID using Selenium. There&#39;s &quot;flex&quot; written inside a rounded rectangle when I inspect element. Any solutions?","body":"<p>I'm trying to click on an element using selenium and make a calender pop up.\nI think that the &quot;flex thingy&quot; has something to do with this.</p>\n<p>I'm trying to click on the &quot;Date of Travel&quot; button to make the calender pop up on this website: <a href=\"https://www.path2usa.com/travel-companion/\" rel=\"nofollow noreferrer\">https://www.path2usa.com/travel-companion/</a></p>\n<p>Here's my code</p>\n<p><code>driver.get(&quot;https://www.path2usa.com/travel-companion/&quot;);</code><br />\n<code>driver.findElement(By.id(&quot;form-field-travel_comp_date&quot;)).click();</code></p>\n<p>For some reason, the calendar does not pop up.</p>\n<p>I'm very new to this and I apologize if this sounds stupid. I'd really appreciate any help!</p>\n"},{"tags":["java","android","textview"],"owner":{"account_id":25207917,"reputation":3,"user_id":20633669,"display_name":"Levon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675097495,"creation_date":1675096763,"question_id":75287444,"body_markdown":"Whenever I click the textview background gets bigger and don&#39;t even fit in textviews borders\r\n\r\nbefore:\r\n\r\n[before click](https://i.stack.imgur.com/ktaVF.png)\r\n\r\nafter:\r\n\r\n[after click](https://i.stack.imgur.com/lOaiN.png)\r\n\r\nthe textview I use:\r\n\r\n```xml\r\n&lt;TextView\r\n            android:id=&quot;@+id/Card1&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;@drawable/placeholder&quot;\r\n            android:gravity=&quot;bottom&quot;\r\n            android:text=&quot;@string/placeholder&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;12sp&quot;\r\n            android:textStyle=&quot;italic&quot;\r\n            app:layout_constraintDimensionRatio=&quot;0.678&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/Card2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/guideline3&quot;&gt;&lt;/TextView&gt;\r\n```\r\n\r\nand heres the code on click\r\n\r\n```java\r\ncard1.setOnClickListener(view -&gt; {if (!card1Poped[0]){\r\n\r\n            ValueAnimator animation = ValueAnimator.ofFloat(0f, 100f);\r\n        animation.setDuration(500);\r\n        animation.setInterpolator(new OvershootInterpolator());\r\n        animation.start();\r\n        animation.addUpdateListener(updatedAnimation -&gt; {\r\n            float animatedValue = (float) updatedAnimation.getAnimatedValue();\r\n            card1.setTranslationY(-animatedValue);\r\n            card2.setTranslationY(0);\r\n            card3.setTranslationY(0);\r\n            card4.setTranslationY(0);\r\n            card5.setTranslationY(0);\r\n            card1Poped[0] = true;\r\n            card2Poped[0] = false;\r\n            card3Poped[0] = false;\r\n            card4Poped[0] = false;\r\n            card5Poped[0] = false;\r\n\r\n        });\r\n    }else if (!CardViewerPoped[0]) {\r\n            CardViewer.setVisibility(View.VISIBLE);\r\n            CardViewer.setAlpha(0F);\r\n            CardViewer.setImageDrawable(card1.getBackground());\r\n            ValueAnimator alphaAnim = ValueAnimator.ofFloat(0F, 1F);\r\n            alphaAnim.setDuration(250);\r\n            alphaAnim.setInterpolator(new LinearInterpolator());\r\n            alphaAnim.start();\r\n            alphaAnim.addUpdateListener(valueAnimator -&gt; {\r\n                float alphaValue = (float) valueAnimator.getAnimatedValue();\r\n                CardViewer.setAlpha(alphaValue);\r\n            });\r\n            CardViewerPoped[0] = true;\r\n        }\r\n    });\r\n```\r\n\r\nthe problem is with &quot;else if&quot; part, there it basically gives its background to an ImageView, and that image view starts to fade in, I DO NOTHING with that textview but it changes and idk why\r\n\r\nI tried like .invalidate cuz its only thing I can think of that can help but it doesn&#39;t.","title":"textviews background change its size when i click it","body":"<p>Whenever I click the textview background gets bigger and don't even fit in textviews borders</p>\n<p>before:</p>\n<p><a href=\"https://i.stack.imgur.com/ktaVF.png\" rel=\"nofollow noreferrer\">before click</a></p>\n<p>after:</p>\n<p><a href=\"https://i.stack.imgur.com/lOaiN.png\" rel=\"nofollow noreferrer\">after click</a></p>\n<p>the textview I use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TextView\n            android:id=&quot;@+id/Card1&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:background=&quot;@drawable/placeholder&quot;\n            android:gravity=&quot;bottom&quot;\n            android:text=&quot;@string/placeholder&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;12sp&quot;\n            android:textStyle=&quot;italic&quot;\n            app:layout_constraintDimensionRatio=&quot;0.678&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/Card2&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/guideline3&quot;&gt;&lt;/TextView&gt;\n</code></pre>\n<p>and heres the code on click</p>\n<pre class=\"lang-java prettyprint-override\"><code>card1.setOnClickListener(view -&gt; {if (!card1Poped[0]){\n\n            ValueAnimator animation = ValueAnimator.ofFloat(0f, 100f);\n        animation.setDuration(500);\n        animation.setInterpolator(new OvershootInterpolator());\n        animation.start();\n        animation.addUpdateListener(updatedAnimation -&gt; {\n            float animatedValue = (float) updatedAnimation.getAnimatedValue();\n            card1.setTranslationY(-animatedValue);\n            card2.setTranslationY(0);\n            card3.setTranslationY(0);\n            card4.setTranslationY(0);\n            card5.setTranslationY(0);\n            card1Poped[0] = true;\n            card2Poped[0] = false;\n            card3Poped[0] = false;\n            card4Poped[0] = false;\n            card5Poped[0] = false;\n\n        });\n    }else if (!CardViewerPoped[0]) {\n            CardViewer.setVisibility(View.VISIBLE);\n            CardViewer.setAlpha(0F);\n            CardViewer.setImageDrawable(card1.getBackground());\n            ValueAnimator alphaAnim = ValueAnimator.ofFloat(0F, 1F);\n            alphaAnim.setDuration(250);\n            alphaAnim.setInterpolator(new LinearInterpolator());\n            alphaAnim.start();\n            alphaAnim.addUpdateListener(valueAnimator -&gt; {\n                float alphaValue = (float) valueAnimator.getAnimatedValue();\n                CardViewer.setAlpha(alphaValue);\n            });\n            CardViewerPoped[0] = true;\n        }\n    });\n</code></pre>\n<p>the problem is with &quot;else if&quot; part, there it basically gives its background to an ImageView, and that image view starts to fade in, I DO NOTHING with that textview but it changes and idk why</p>\n<p>I tried like .invalidate cuz its only thing I can think of that can help but it doesn't.</p>\n"},{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1675007882,"post_id":75272106,"comment_id":132831229,"body_markdown":"Does your stack trace indicate that the error is occurring on the assignment to `jwtToken`?  I&#39;m wondering if there might be some external method encountering that error.","body":"Does your stack trace indicate that the error is occurring on the assignment to <code>jwtToken</code>?  I&#39;m wondering if there might be some external method encountering that error."},{"owner":{"account_id":13960589,"reputation":25,"user_id":17882204,"display_name":"Arialita"},"score":0,"creation_date":1675084939,"post_id":75272106,"comment_id":132846037,"body_markdown":"I updated my question, the error occurs in the generation of token.","body":"I updated my question, the error occurs in the generation of token."}],"answers":[{"tags":[],"owner":{"account_id":13960589,"reputation":25,"user_id":17882204,"display_name":"Arialita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675097478,"creation_date":1675097478,"answer_id":75287596,"question_id":75272106,"body_markdown":"I found the solution, I had to add to my pom the following dependencies: jjwt-impl and jjwt-jackson. Also I had to create my secret key as follows:\r\n\r\n    private String secret = &quot;2D4A614E645267556B58703273357638792F423F4428472B4B6250655368566D&quot;;\r\n    \r\n    \r\n    \r\n    @Value(&quot;${app.jwttoken.message}&quot;)\r\n    private String message;\r\n    \r\n    @Override\r\n    public Map&lt;String, String&gt; generateToken(User user) {\r\n        String jwtToken=&quot;&quot;;\r\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(getSignInKey(),SignatureAlgorithm.HS256).compact();\r\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\r\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\r\n        jwtTokenGen.put(&quot;message&quot;, message);\r\n        return jwtTokenGen;\r\n    }\r\n    \r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(secret);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\nTurns out I was using &quot;secretkey&quot; as my jwt.secret in application properties. And I was passing that variable alone. What I did now was use an online keygenerator and then created a function to convert it to a Key and then passed it to signWith() method.","title":"The signing key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm","body":"<p>I found the solution, I had to add to my pom the following dependencies: jjwt-impl and jjwt-jackson. Also I had to create my secret key as follows:</p>\n<pre><code>private String secret = &quot;2D4A614E645267556B58703273357638792F423F4428472B4B6250655368566D&quot;;\n\n\n\n@Value(&quot;${app.jwttoken.message}&quot;)\nprivate String message;\n\n@Override\npublic Map&lt;String, String&gt; generateToken(User user) {\n    String jwtToken=&quot;&quot;;\n    jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(getSignInKey(),SignatureAlgorithm.HS256).compact();\n    Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\n    jwtTokenGen.put(&quot;token&quot;, jwtToken);\n    jwtTokenGen.put(&quot;message&quot;, message);\n    return jwtTokenGen;\n}\n\nprivate Key getSignInKey() {\n    byte[] keyBytes = Decoders.BASE64.decode(secret);\n    return Keys.hmacShaKeyFor(keyBytes);\n}\n</code></pre>\n<p>Turns out I was using &quot;secretkey&quot; as my jwt.secret in application properties. And I was passing that variable alone. What I did now was use an online keygenerator and then created a function to convert it to a Key and then passed it to signWith() method.</p>\n"}],"owner":{"account_id":13960589,"reputation":25,"user_id":17882204,"display_name":"Arialita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287596,"answer_count":1,"score":0,"last_activity_date":1675097478,"creation_date":1674956481,"question_id":75272106,"body_markdown":"I&#39;m this is my first time making a project that needs JWT authentication, I&#39;m following [this](https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/) tutorial, but I get the problem that my key must be higher than 256bits, I searched here and found [this](https://stackoverflow.com/questions/55545957/io-jsonwebtoken-security-weakkeyexception-the-verification-keys-size-is-48-bit) post, however I&#39;m new in this topic so I don&#39;t really know how to make it 256bits. Below is my code:\r\n\r\n```\r\n@Service\r\npublic class JwtGeneration implements IJwtGeneration {\r\n    \r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String secret;\r\n    \r\n    @Value(&quot;${app.jwttoken.message}&quot;)\r\n    private String message;\r\n    \r\n    @Override\r\n    public Map&lt;String, String&gt; generateToken(User user) {\r\n        String jwtToken=&quot;&quot;;\r\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(SignatureAlgorithm.HS256, &quot;secret&quot;).compact();\r\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\r\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\r\n        jwtTokenGen.put(&quot;message&quot;, message);\r\n        return jwtTokenGen;\r\n    }\r\n    \r\n}\r\n``` \r\nHow can I make it 256 bits?\r\n\r\n\r\nSearching more, I found that I could try this:\r\n\r\n```\r\n@Service\r\npublic class JwtGeneration implements IJwtGeneration {\r\n    \r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String secret;\r\n    \r\n    byte[] decodedKey = secret.getBytes(StandardCharsets.UTF_8);\r\n    SecretKey key = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;HMACSHA256&quot;);\r\n    \r\n    @Value(&quot;${app.jwttoken.message}&quot;)\r\n    private String message;\r\n    \r\n    @Override\r\n    public Map&lt;String, String&gt; generateToken(User user) {\r\n        String jwtToken=&quot;&quot;;\r\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(key, SignatureAlgorithm.HS256).compact();\r\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\r\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\r\n        jwtTokenGen.put(&quot;message&quot;, message);\r\n        return jwtTokenGen;\r\n    }\r\n    \r\n}\r\n``` \r\nBut I still get error, how can I fix it? \r\n\r\n**UPDATE**\r\nThis is the error message I get: &quot;io.jsonwebtoken.security.WeakKeyException: The signing key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS256 MUST have a size &gt;= 256 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class&#39;s &#39;secretKeyFor(SignatureAlgorithm.HS256)&#39; method to create a key guaranteed to be secure enough for HS256.  See https://tools.ietf.org/html/rfc7518#section-3.2 for more information.\r\nat com.authdemo.AuthDemo.config.JwtGeneration.generateToken(JwtGeneration.java:26) ~[classes/:na]\r\n\tat com.authdemo.AuthDemo.controller.UserController.loginUser(UserController.java:44) ~[classes/:na]&quot;\r\n\r\nI tried `SecretKey key = secretKeyFor(SignatureAlgorithm.HS256)` but it didn&#39;t work.","title":"The signing key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm","body":"<p>I'm this is my first time making a project that needs JWT authentication, I'm following <a href=\"https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/\" rel=\"nofollow noreferrer\">this</a> tutorial, but I get the problem that my key must be higher than 256bits, I searched here and found <a href=\"https://stackoverflow.com/questions/55545957/io-jsonwebtoken-security-weakkeyexception-the-verification-keys-size-is-48-bit\">this</a> post, however I'm new in this topic so I don't really know how to make it 256bits. Below is my code:</p>\n<pre><code>@Service\npublic class JwtGeneration implements IJwtGeneration {\n    \n    @Value(&quot;${jwt.secret}&quot;)\n    private String secret;\n    \n    @Value(&quot;${app.jwttoken.message}&quot;)\n    private String message;\n    \n    @Override\n    public Map&lt;String, String&gt; generateToken(User user) {\n        String jwtToken=&quot;&quot;;\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(SignatureAlgorithm.HS256, &quot;secret&quot;).compact();\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\n        jwtTokenGen.put(&quot;message&quot;, message);\n        return jwtTokenGen;\n    }\n    \n}\n</code></pre>\n<p>How can I make it 256 bits?</p>\n<p>Searching more, I found that I could try this:</p>\n<pre><code>@Service\npublic class JwtGeneration implements IJwtGeneration {\n    \n    @Value(&quot;${jwt.secret}&quot;)\n    private String secret;\n    \n    byte[] decodedKey = secret.getBytes(StandardCharsets.UTF_8);\n    SecretKey key = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;HMACSHA256&quot;);\n    \n    @Value(&quot;${app.jwttoken.message}&quot;)\n    private String message;\n    \n    @Override\n    public Map&lt;String, String&gt; generateToken(User user) {\n        String jwtToken=&quot;&quot;;\n        jwtToken = Jwts.builder().setSubject(user.getUserName()).setIssuedAt(new Date()).signWith(key, SignatureAlgorithm.HS256).compact();\n        Map&lt;String, String&gt; jwtTokenGen = new HashMap&lt;&gt;();\n        jwtTokenGen.put(&quot;token&quot;, jwtToken);\n        jwtTokenGen.put(&quot;message&quot;, message);\n        return jwtTokenGen;\n    }\n    \n}\n</code></pre>\n<p>But I still get error, how can I fix it?</p>\n<p><strong>UPDATE</strong>\nThis is the error message I get: &quot;io.jsonwebtoken.security.WeakKeyException: The signing key's size is 48 bits which is not secure enough for the HS256 algorithm.  The JWT JWA Specification (RFC 7518, Section 3.2) states that keys used with HS256 MUST have a size &gt;= 256 bits (the key size must be greater than or equal to the hash output size).  Consider using the io.jsonwebtoken.security.Keys class's 'secretKeyFor(SignatureAlgorithm.HS256)' method to create a key guaranteed to be secure enough for HS256.  See <a href=\"https://tools.ietf.org/html/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc7518#section-3.2</a> for more information.\nat com.authdemo.AuthDemo.config.JwtGeneration.generateToken(JwtGeneration.java:26) ~[classes/:na]\nat com.authdemo.AuthDemo.controller.UserController.loginUser(UserController.java:44) ~[classes/:na]&quot;</p>\n<p>I tried <code>SecretKey key = secretKeyFor(SignatureAlgorithm.HS256)</code> but it didn't work.</p>\n"},{"tags":["java","android","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617579601,"creation_date":1617157248,"answer_id":66880791,"question_id":66848572,"body_markdown":"Going to &quot;answer&quot; my own questions and hope someone corrects me if anything is wrong.\r\n\r\n&gt; Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it&#39;s only used for testing?\r\n\r\nNo, the `kotlin-stdlib` should not be included in the POM of a release publication for a java/android library that has no kotlin code or kotlin-based dependencies.\r\n\r\nI&#39;m making that assertion as I have compiled a java-only app against a version of this library where the `kotlin-stdlib` compilation condition was removed from the POM, and everything behaved as expected (in that it worked).\r\n\r\n&gt;  If so, how could I exclude it if generating the POM when defining the publication\r\n\r\n&lt;strike&gt;After defining your POM, you can use [pom.withXml][1] from the MavenPom plugin to remove the dependency nodes you want to exclude from the generated POM. e.g.\r\n\r\n```groovy/gradle-6.8.3\r\npom {\r\n    licenses { ... }\r\n    developers { ... }\r\n    scm { ... }\r\n}\r\n\r\npom.withXml {\r\n    asNode()\r\n        .dependencies\r\n        .dependency\r\n        .findAll { it.artifactId.text() == &quot;kotlin-stdlib&quot; }\r\n        .collect { it.parent().remove(it) }\r\n}\r\n```\r\n&lt;/strike&gt;\r\n\r\n**Edit:** This does not remove the dependencies from the generated `module.json`, so this now seems even more wrong than it felt before.\r\n\r\nInstead, you can check the Gradle Start Parameters to determine which variant is being targeted by the current Task Requests, and only apply the plugin if the variant should actually include it:\r\n\r\n```\r\ndef kolinEnabledVariant = getGradle()\r\n        .getStartParameter()\r\n        .getTaskRequests()\r\n        .toString()\r\n        .contains(&quot;Debug&quot;)\r\n\r\nif (kolinEnabledVariant) {\r\n    apply plugin: &#39;kotlin-android&#39;\r\n}\r\n``` \r\n\r\nCommenters on a [related answer][2] note that the variant name should start with a capital letter.\r\n\r\n&gt; Or, is that not really a good option and I should just rewrite the tests in Java?\r\n\r\nThat&#39;s giving up.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPom.html#org.gradle.api.publish.maven.MavenPom:withXml(org.gradle.api.Action)\r\n  [2]: https://stackoverflow.com/a/43336869/1426565","title":"Excluding testImplementation dependency for Kotlin stdlib in generated POM for Android artifact","body":"<p>Going to &quot;answer&quot; my own questions and hope someone corrects me if anything is wrong.</p>\n<blockquote>\n<p>Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it's only used for testing?</p>\n</blockquote>\n<p>No, the <code>kotlin-stdlib</code> should not be included in the POM of a release publication for a java/android library that has no kotlin code or kotlin-based dependencies.</p>\n<p>I'm making that assertion as I have compiled a java-only app against a version of this library where the <code>kotlin-stdlib</code> compilation condition was removed from the POM, and everything behaved as expected (in that it worked).</p>\n<blockquote>\n<p>If so, how could I exclude it if generating the POM when defining the publication</p>\n</blockquote>\n<p><strike>After defining your POM, you can use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPom.html#org.gradle.api.publish.maven.MavenPom:withXml(org.gradle.api.Action)\" rel=\"nofollow noreferrer\">pom.withXml</a> from the MavenPom plugin to remove the dependency nodes you want to exclude from the generated POM. e.g.</p>\n<pre><code>pom {\n    licenses { ... }\n    developers { ... }\n    scm { ... }\n}\n\npom.withXml {\n    asNode()\n        .dependencies\n        .dependency\n        .findAll { it.artifactId.text() == &quot;kotlin-stdlib&quot; }\n        .collect { it.parent().remove(it) }\n}\n</code></pre>\n</strike>\n<p><strong>Edit:</strong> This does not remove the dependencies from the generated <code>module.json</code>, so this now seems even more wrong than it felt before.</p>\n<p>Instead, you can check the Gradle Start Parameters to determine which variant is being targeted by the current Task Requests, and only apply the plugin if the variant should actually include it:</p>\n<pre><code>def kolinEnabledVariant = getGradle()\n        .getStartParameter()\n        .getTaskRequests()\n        .toString()\n        .contains(&quot;Debug&quot;)\n\nif (kolinEnabledVariant) {\n    apply plugin: 'kotlin-android'\n}\n</code></pre>\n<p>Commenters on a <a href=\"https://stackoverflow.com/a/43336869/1426565\">related answer</a> note that the variant name should start with a capital letter.</p>\n<blockquote>\n<p>Or, is that not really a good option and I should just rewrite the tests in Java?</p>\n</blockquote>\n<p>That's giving up.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675097473,"creation_date":1617702676,"answer_id":66966374,"question_id":66848572,"body_markdown":"Since Kotlin 1.4, the various Kotlin Gradle plugins automatically add a dependency on kotlin-std. See [Dependency on the standard library][1].\r\n\r\nYou can disable it by adding to `gradle.properties`:\r\n\r\n```properties\r\nkotlin.stdlib.default.dependency=false\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/gradle-configure-project.html#dependency-on-the-standard-library","title":"Excluding testImplementation dependency for Kotlin stdlib in generated POM for Android artifact","body":"<p>Since Kotlin 1.4, the various Kotlin Gradle plugins automatically add a dependency on kotlin-std. See <a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#dependency-on-the-standard-library\" rel=\"nofollow noreferrer\">Dependency on the standard library</a>.</p>\n<p>You can disable it by adding to <code>gradle.properties</code>:</p>\n<pre><code>kotlin.stdlib.default.dependency=false\n</code></pre>\n"}],"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1651,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66966374,"answer_count":2,"score":2,"last_activity_date":1675097473,"creation_date":1616990189,"question_id":66848572,"body_markdown":"I&#39;m migrating an older Android library from jcenter to mavenCentral in light of their deprecation. All of the actual library modules are written in Java, but several of them have tests written in Kotlin.\r\n\r\nUntil upgrading (to AS 4.1.3, Gradle 6.8.3), the generated POM(s) never included a compilation dependency on the `kotlin-stdlib`. Now it appears that applying the `kotlin-android` plugin causes the generated POM to add it, even though the dependency is included as `testImplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.4.31&quot;`.\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.31&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n**The question:** Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it&#39;s only used for testing?\r\n\r\nOr, do I have to do something special to exclude that &quot;dependency&quot; in this specific case? If so, how could I exclude it if generating the POM when defining the publication like:\r\n\r\n```\r\nafterEvaluate {\r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                from components.release\r\n                ....\r\n\r\n                pom {\r\n                    name = ...\r\n                    licenses { }\r\n                    developers { }\r\n                    scm { }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOr, is that not really a good option and I should just rewrite the tests in Java?\r\n\r\nIt&#39;s worth noting that removing the `kotlin-android` plugin also removes it as a compilation dependency from the POM(s). It seems to have no effect on generating the AAR; it just prevents the tests from running.\r\n","title":"Excluding testImplementation dependency for Kotlin stdlib in generated POM for Android artifact","body":"<p>I'm migrating an older Android library from jcenter to mavenCentral in light of their deprecation. All of the actual library modules are written in Java, but several of them have tests written in Kotlin.</p>\n<p>Until upgrading (to AS 4.1.3, Gradle 6.8.3), the generated POM(s) never included a compilation dependency on the <code>kotlin-stdlib</code>. Now it appears that applying the <code>kotlin-android</code> plugin causes the generated POM to add it, even though the dependency is included as <code>testImplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.4.31&quot;</code>.</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n      &lt;version&gt;1.4.31&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p><strong>The question:</strong> Was the previously-generated POM wrong in that it should have included kotlin as a compilation dependency, even though it's only used for testing?</p>\n<p>Or, do I have to do something special to exclude that &quot;dependency&quot; in this specific case? If so, how could I exclude it if generating the POM when defining the publication like:</p>\n<pre><code>afterEvaluate {\n    publishing {\n        publications {\n            release(MavenPublication) {\n                from components.release\n                ....\n\n                pom {\n                    name = ...\n                    licenses { }\n                    developers { }\n                    scm { }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Or, is that not really a good option and I should just rewrite the tests in Java?</p>\n<p>It's worth noting that removing the <code>kotlin-android</code> plugin also removes it as a compilation dependency from the POM(s). It seems to have no effect on generating the AAR; it just prevents the tests from running.</p>\n"},{"tags":["java","android","permissions"],"owner":{"account_id":18852982,"reputation":45,"user_id":13751667,"display_name":"DJAMEL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675097390,"creation_date":1675097390,"question_id":75287581,"body_markdown":"I am traying to use  mMap.setMyLocationEnabled(true); to get my position using GPS but I found this error : \r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\nProcess: com.example.test_app, PID: 19982 java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION\r\nHow to fix it ?\r\n\r\n\r\n     public void onMapReady (GoogleMap googleMap){\r\n            mMap = googleMap; \r\n            mMap.setMyLocationEnabled(true);  // error --------------------------\r\n            mMap.getUiSettings().setMyLocationButtonEnabled(true);   -\r\n            mMap.getUiSettings().setZoomControlsEnabled(true);\r\n    \r\n    }\r\n    \r\n    //in  my manifest \r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.google.android.things.permission.MANAGE_GNSS_DRIVERS&quot; /&gt;\r\n\r\n","title":"How to get My Location in google Map using GPS?","body":"<p>I am traying to use  mMap.setMyLocationEnabled(true); to get my position using GPS but I found this error :</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.test_app, PID: 19982 java.lang.SecurityException: my location requires permission ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION\nHow to fix it ?</p>\n<pre><code> public void onMapReady (GoogleMap googleMap){\n        mMap = googleMap; \n        mMap.setMyLocationEnabled(true);  // error --------------------------\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);   -\n        mMap.getUiSettings().setZoomControlsEnabled(true);\n\n}\n\n//in  my manifest \n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.things.permission.MANAGE_GNSS_DRIVERS&quot; /&gt;\n</code></pre>\n"},{"tags":["java","kotlin","gradle","kotlin-gradle-plugin"],"owner":{"account_id":10591996,"reputation":333,"user_id":7802223,"display_name":"gorodkovskaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675099397,"answer_count":0,"score":1,"last_activity_date":1675097166,"creation_date":1675093710,"question_id":75286833,"body_markdown":"I have a project and libraries with source code written in Java and tests written in Kotlin.\r\n\r\nAll projects are built by Gradle using Kotlin plugin.\r\n\r\nBut I noticed Kotlin is being added as transitive dependency to my libraries under the hood, even though I use Kotlin in tests only.\r\n\r\n**How could I avoid adding Kotlin as a transitive dependency?**\r\n\r\n`settings.gradle`:\r\n```\r\npluginManagement {\r\n    plugins {\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.6.10&#39;\r\n    }\r\n}\r\n```\r\nA common `build.gradle`:\r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.jvm&#39;\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8&#39;\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-reflect&#39;\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-test&#39;\r\n    testImplementation &#39;org.jetbrains.kotlin:kotlin-test-junit5&#39;\r\n}\r\n```\r\nAnd when I build the dependency tree:\r\n```\r\n------------------------------------------------------------\r\nProject &#39;:commons-logging&#39;\r\n------------------------------------------------------------\r\n\r\ntestCompileClasspath - Compile classpath for compilation &#39;test&#39; (target  (jvm)).\r\n+--- org.mycompany:lib-logging:1.0.0\r\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0 -&gt; 1.3.72\r\n|         +--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72\r\n|         |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72\r\n|         |    \\--- org.jetbrains:annotations:13.0\r\n|         \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.72\r\n|              \\--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72 (*)\r\n+--- org.mycompany:lib-core:3.0.0\r\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\r\n+--- org.mycompany:lib-spring:3.0.0\r\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\r\n```\r\nSo all these Kotlin dependencies shall not be present in artifacts by `org.mycompany`","title":"Use Kotlin Gradle plugin for tests only","body":"<p>I have a project and libraries with source code written in Java and tests written in Kotlin.</p>\n<p>All projects are built by Gradle using Kotlin plugin.</p>\n<p>But I noticed Kotlin is being added as transitive dependency to my libraries under the hood, even though I use Kotlin in tests only.</p>\n<p><strong>How could I avoid adding Kotlin as a transitive dependency?</strong></p>\n<p><code>settings.gradle</code>:</p>\n<pre><code>pluginManagement {\n    plugins {\n        id 'org.jetbrains.kotlin.jvm' version '1.6.10'\n    }\n}\n</code></pre>\n<p>A common <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm'\n}\n\ndependencies {\n    testImplementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n    testImplementation 'org.jetbrains.kotlin:kotlin-reflect'\n    testImplementation 'org.jetbrains.kotlin:kotlin-test'\n    testImplementation 'org.jetbrains.kotlin:kotlin-test-junit5'\n}\n</code></pre>\n<p>And when I build the dependency tree:</p>\n<pre><code>------------------------------------------------------------\nProject ':commons-logging'\n------------------------------------------------------------\n\ntestCompileClasspath - Compile classpath for compilation 'test' (target  (jvm)).\n+--- org.mycompany:lib-logging:1.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0 -&gt; 1.3.72\n|         +--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72\n|         |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.72\n|         |    \\--- org.jetbrains:annotations:13.0\n|         \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.72\n|              \\--- org.jetbrains.kotlin:kotlin-stdlib:1.3.72 (*)\n+--- org.mycompany:lib-core:3.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\n+--- org.mycompany:lib-spring:3.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30 -&gt; 1.3.72 (*)\n</code></pre>\n<p>So all these Kotlin dependencies shall not be present in artifacts by <code>org.mycompany</code></p>\n"},{"tags":["java","java-native-interface","applet"],"comments":[{"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"score":1,"creation_date":1559827903,"post_id":56478292,"comment_id":99547734,"body_markdown":"I think this may be a duplicate of https://stackoverflow.com/questions/3719065/java-calling-dll-from-a-local-applet-im-doing-something-wrong","body":"I think this may be a duplicate of <a href=\"https://stackoverflow.com/questions/3719065/java-calling-dll-from-a-local-applet-im-doing-something-wrong\" title=\"java calling dll from a local applet im doing something wrong\">stackoverflow.com/questions/3719065/&hellip;</a>"},{"owner":{"account_id":406514,"reputation":145,"user_id":776080,"accept_rate":64,"display_name":"Khan Aamir"},"score":0,"creation_date":1559830674,"post_id":56478292,"comment_id":99549528,"body_markdown":"no its not , i have jar files which is complied by third party .. though i have given all permission its not working hence posted.","body":"no its not , i have jar files which is complied by third party .. though i have given all permission its not working hence posted."}],"owner":{"account_id":406514,"reputation":145,"user_id":776080,"accept_rate":64,"display_name":"Khan Aamir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675097102,"creation_date":1559826539,"question_id":56478292,"body_markdown":"I need to implement smart card authentication for NHS as described here.\r\nhttps://developer.nhs.uk/apis/spine-core/smartcards.html \r\n\r\ni am getting following error.\r\n\r\naccess denied (&quot;java.lang.RuntimePermission&quot; &quot;loadLibrary.TicketApiDll&quot;)\r\njava.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;loadLibrary.TicketApiDll&quot;)\r\n\r\n\r\n\r\n\r\nI created sample applet and tried to execute. Applet is executing with class path of jar file as mentioned by NHS UK. \r\n\r\n  \r\n\r\n      import java.applet.*;\r\n        import java.awt.*;\r\n        import com.gemplus.gemauth.api.GATicket;\r\n        public class AuthenticateExample extends Applet {\r\n        \t  \r\n        \t  public void paint(Graphics g)\r\n        \t  {\r\n        \t\t  try{\r\n        \t\t  String str = this.getParameter(&quot;msg&quot;);\r\n        \t\t  g.drawString(&quot;asdasdasdasdsad&quot;,200,80);\t\r\n        \t\t  //g.drawString(str,100,80);\t\r\n        \t\t  g.drawString(authenticate(),100,80);\t\r\n        \t\t  }\r\n        \t\t catch(Exception e)  \r\n                {  \r\n        \t\t    System.out.println(&quot;Exception Aamir&quot;);  \r\n                    System.out.println(e);  \r\n                }  \r\n        \t  }\r\n        \t  public String authenticate() throws Exception {\r\n        \t\tGATicket gat = new GATicket();\r\n        \t\tString ticket = gat.getTicket();\r\n        \t\treturn ticket;\r\n        \r\n        \t}\r\n    \t\r\n    }\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;HTML&gt;\r\n    &lt;HEAD&gt;\r\n    &lt;TITLE&gt; A Simple Program &lt;/TITLE&gt;\r\n    &lt;/HEAD&gt;\r\n    &lt;BODY&gt;\r\n\r\n    Here is the output of my program:\r\n\r\n    &lt;applet code=&quot;AuthenticateExample&quot; ARCHIVE=&quot;GATicket.jar&quot;  WIDTH=&quot;300&quot; HEIGHT=&quot;200&quot;&gt;\r\n    &lt;PARAM name=&quot;msg&quot; value=&quot;hi aamir love&quot;&gt;\r\n    &lt;/applet&gt; \r\n    &lt;/APPLET&gt;\r\n    &lt;/BODY&gt;\r\n    &lt;/HTML&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ni need token in result as mentioned in NHS web site.\r\n\r\n\r\nEDIT\r\n\r\n    grant codeBase &quot;file:///F:/Projects/Java/GATicket.JAR&quot; {\r\n          permission java.security.AllPermission;\r\n    };\r\n\r\nit has been added as describe by other post.","title":"access denied loadLibrary java.lang.RuntimePermission java.security.AccessControlException","body":"<p>I need to implement smart card authentication for NHS as described here.\n<a href=\"https://developer.nhs.uk/apis/spine-core/smartcards.html\" rel=\"nofollow noreferrer\">https://developer.nhs.uk/apis/spine-core/smartcards.html</a> </p>\n\n<p>i am getting following error.</p>\n\n<p>access denied (\"java.lang.RuntimePermission\" \"loadLibrary.TicketApiDll\")\njava.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"loadLibrary.TicketApiDll\")</p>\n\n<p>I created sample applet and tried to execute. Applet is executing with class path of jar file as mentioned by NHS UK. </p>\n\n<pre><code>  import java.applet.*;\n    import java.awt.*;\n    import com.gemplus.gemauth.api.GATicket;\n    public class AuthenticateExample extends Applet {\n\n          public void paint(Graphics g)\n          {\n              try{\n              String str = this.getParameter(\"msg\");\n              g.drawString(\"asdasdasdasdsad\",200,80);   \n              //g.drawString(str,100,80);   \n              g.drawString(authenticate(),100,80);  \n              }\n             catch(Exception e)  \n            {  \n                System.out.println(\"Exception Aamir\");  \n                System.out.println(e);  \n            }  \n          }\n          public String authenticate() throws Exception {\n            GATicket gat = new GATicket();\n            String ticket = gat.getTicket();\n            return ticket;\n\n        }\n\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;HTML&gt;\r\n&lt;HEAD&gt;\r\n&lt;TITLE&gt; A Simple Program &lt;/TITLE&gt;\r\n&lt;/HEAD&gt;\r\n&lt;BODY&gt;\r\n\r\nHere is the output of my program:\r\n\r\n&lt;applet code=\"AuthenticateExample\" ARCHIVE=\"GATicket.jar\"  WIDTH=\"300\" HEIGHT=\"200\"&gt;\r\n&lt;PARAM name=\"msg\" value=\"hi aamir love\"&gt;\r\n&lt;/applet&gt; \r\n&lt;/APPLET&gt;\r\n&lt;/BODY&gt;\r\n&lt;/HTML&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i need token in result as mentioned in NHS web site.</p>\n\n<p>EDIT</p>\n\n<pre><code>grant codeBase \"file:///F:/Projects/Java/GATicket.JAR\" {\n      permission java.security.AllPermission;\n};\n</code></pre>\n\n<p>it has been added as describe by other post.</p>\n"},{"tags":["java","arrays","for-loop"],"owner":{"account_id":27658972,"reputation":1,"user_id":21112236,"display_name":"dlearyous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675097854,"answer_count":0,"score":0,"last_activity_date":1675096972,"creation_date":1675096972,"question_id":75287494,"body_markdown":"I&#39;m making a program where I am using a for loop to prompt the user to input a value that will be inserted into an array, where the array is initialized to a number that the user has input and thus the loop runs through that many times as well.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Borda {\r\n   public static void main(String[] args)\r\n   {\r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      System.out.print(&quot;Please enter the number of candidates: &quot;);\r\n      int candidateCount = keyboard.nextInt();\r\n\r\n      String[] nameStrings;\r\n      nameStrings = new String[candidateCount];\r\n\r\n      for (int i = 0; i &lt; candidateCount; i++)\r\n      {\r\n         System.out.print(&quot;Please enter the name of candidate &quot; + (i + 1) + &quot;:&quot; );\r\n         nameStrings[i] = keyboard.nextLine();\r\n      }\r\n\r\n      System.out.println(nameStrings[0]);\r\n   }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I compile and run this code, **the loop seems to just ignore the keyboard.nextLine(); operation and skip to the second pass of the loop.** Can anyone tell me how I can fix this so that it just displays &quot;Please enter the name of candidate 1:&quot; on the first pass and lets the user input a String? The 0 position in the array is just being left empty, the System.out.println(nameStrings[0]); is just a test to see if it&#39;s working.\r\n\r\nI&#39;ve tried running this program with a debug and stepping through the whole program, but I can&#39;t find the reason.","title":"Java for loop is spontaneously looping on the first pass and then behaving as expected","body":"<p>I'm making a program where I am using a for loop to prompt the user to input a value that will be inserted into an array, where the array is initialized to a number that the user has input and thus the loop runs through that many times as well.</p>\n<pre><code>import java.util.Scanner;\npublic class Borda {\n   public static void main(String[] args)\n   {\n      Scanner keyboard = new Scanner(System.in);\n      \n      System.out.print(&quot;Please enter the number of candidates: &quot;);\n      int candidateCount = keyboard.nextInt();\n\n      String[] nameStrings;\n      nameStrings = new String[candidateCount];\n\n      for (int i = 0; i &lt; candidateCount; i++)\n      {\n         System.out.print(&quot;Please enter the name of candidate &quot; + (i + 1) + &quot;:&quot; );\n         nameStrings[i] = keyboard.nextLine();\n      }\n\n      System.out.println(nameStrings[0]);\n   }\n}\n\n</code></pre>\n<p>When I compile and run this code, <strong>the loop seems to just ignore the keyboard.nextLine(); operation and skip to the second pass of the loop.</strong> Can anyone tell me how I can fix this so that it just displays &quot;Please enter the name of candidate 1:&quot; on the first pass and lets the user input a String? The 0 position in the array is just being left empty, the System.out.println(nameStrings[0]); is just a test to see if it's working.</p>\n<p>I've tried running this program with a debug and stepping through the whole program, but I can't find the reason.</p>\n"},{"tags":["java","apache-poi","apache-commons","xssf"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1675096324,"post_id":75287277,"comment_id":132850067,"body_markdown":"Please do not re-format stack traces (e.g. remove line-breaks) when inserting into a question. Just format it as `code`.","body":"Please do not re-format stack traces (e.g. remove line-breaks) when inserting into a question. Just format it as <code>code</code>."},{"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"score":0,"creation_date":1675096620,"post_id":75287277,"comment_id":132850152,"body_markdown":"@Robert thanks, will take care going forward.","body":"@Robert thanks, will take care going forward."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1675109104,"post_id":75287277,"comment_id":132854070,"body_markdown":"Check your classpath at runtime - it looks like you aren&#39;t using the jars you think you are","body":"Check your classpath at runtime - it looks like you aren&#39;t using the jars you think you are"}],"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675096834,"creation_date":1675096081,"question_id":75287277,"body_markdown":"I was trying to load an excel into POI workbook with the below constructor\r\n\r\n    Workbook workbook = new XSSFWorkbook(file.getAbsolutePath());\r\n\r\nbut got \r\n\r\n```\r\n[main] WARN org.apache.poi.openxml4j.opc.OPCPackage - Unable to call close() on a package that hasn&#39;t been fully opened yet\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: InputStream of class class java.util.zip.InflaterInputStream is not implementing InputStreamStatistics.\r\n at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\r\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:157)\r\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:36)\r\n at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getInputStream(ZipFileZipEntrySource.java:63)\r\n at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:282)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:743)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:248)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:177)\r\n at org.apache.poi.openxml4j.opc.OPCPackage.open(POIXMLDocument.java:88)\r\n at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:332).\r\n```\r\n\r\nI have searched for many solutions over Internet regarding this and most of them are highlighting to change the poi and common-compress version to the latest one.\r\n\r\nI am already using the latest versions only:\r\ni.e. poi-ooxml-5.2.2.jar and commons-compress-1.21.jar  but still getting this error. Can someone please suggest more. Is there any version incompatibility or anything?\r\n","title":"InputStream of class class java.util.zip.InflaterInputStream is not implementing InputStreamStatistics","body":"<p>I was trying to load an excel into POI workbook with the below constructor</p>\n<pre><code>Workbook workbook = new XSSFWorkbook(file.getAbsolutePath());\n</code></pre>\n<p>but got</p>\n<pre><code>[main] WARN org.apache.poi.openxml4j.opc.OPCPackage - Unable to call close() on a package that hasn't been fully opened yet\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: InputStream of class class java.util.zip.InflaterInputStream is not implementing InputStreamStatistics.\n at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:157)\n at org.apache.poi.openxml4j.util.ZipSecureFile.getInputStream(ZipSecureFile.java:36)\n at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getInputStream(ZipFileZipEntrySource.java:63)\n at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:282)\n at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:743)\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:248)\n at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:177)\n at org.apache.poi.openxml4j.opc.OPCPackage.open(POIXMLDocument.java:88)\n at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:332).\n</code></pre>\n<p>I have searched for many solutions over Internet regarding this and most of them are highlighting to change the poi and common-compress version to the latest one.</p>\n<p>I am already using the latest versions only:\ni.e. poi-ooxml-5.2.2.jar and commons-compress-1.21.jar  but still getting this error. Can someone please suggest more. Is there any version incompatibility or anything?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":2,"creation_date":1583916781,"post_id":60632260,"comment_id":107269232,"body_markdown":"Note that &quot;connected&quot; is not &quot;can access the internet&quot;","body":"Note that &quot;connected&quot; is not &quot;can access the internet&quot;"},{"owner":{"account_id":16918829,"reputation":21,"user_id":12236110,"display_name":"Pachiko"},"score":0,"creation_date":1583916957,"post_id":60632260,"comment_id":107269310,"body_markdown":"@RyanM So what is the alternative to isConnected() if i want to use Network object?","body":"@RyanM So what is the alternative to isConnected() if i want to use Network object?"}],"answers":[{"tags":[],"owner":{"account_id":17389628,"reputation":1,"user_id":12600380,"display_name":"Harris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583923780,"creation_date":1583923780,"answer_id":60634285,"question_id":60632260,"body_markdown":"   You can use this method to check the connectivity. **connectivityManager.getActiveNetwork()** is added in SDK 29.\r\n\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n        if (context == null) return false;\r\n\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                if (capabilities != null) {\r\n                    if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\r\n                        return true;\r\n                    }\r\n                    if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\r\n                        return true;\r\n                    }\r\n                    return capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET);\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                NetworkInfo info = connectivityManager.getActiveNetworkInfo();\r\n                return info != null &amp;&amp; info.isConnected();\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p>You can use this method to check the connectivity. <strong>connectivityManager.getActiveNetwork()</strong> is added in SDK 29.</p>\n\n<pre><code>public static boolean isNetworkAvailable(Context context) {\n    if (context == null) return false;\n\n    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    if (connectivityManager != null) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n            if (capabilities != null) {\n                if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                    return true;\n                }\n                if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                    return true;\n                }\n                return capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET);\n            } else {\n                return false;\n            }\n        } else {\n            NetworkInfo info = connectivityManager.getActiveNetworkInfo();\n            return info != null &amp;&amp; info.isConnected();\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1675093407,"creation_date":1662375396,"answer_id":73608271,"question_id":60632260,"body_markdown":"You shall use new implementation for SDK_INT &gt;= Q and for older versions you use old api and suppress deprecation like this:\r\n\r\nIn kotlin:\r\n\r\n    val Context.isNetworkConnected: Boolean\r\n        get() {\r\n            val manager = getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\r\n            return if (SDK_INT &gt;= Q)\r\n                manager.getNetworkCapabilities(manager.activeNetwork)?.let {\r\n                    it.hasTransport(TRANSPORT_WIFI) || it.hasTransport(TRANSPORT_CELLULAR) ||\r\n                            it.hasTransport(TRANSPORT_BLUETOOTH) ||\r\n                            it.hasTransport(TRANSPORT_ETHERNET) ||\r\n                            it.hasTransport(TRANSPORT_VPN)\r\n                } ?: false\r\n            else\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                manager.activeNetworkInfo?.isConnected == true\r\n        }","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p>You shall use new implementation for SDK_INT &gt;= Q and for older versions you use old api and suppress deprecation like this:</p>\n<p>In kotlin:</p>\n<pre><code>val Context.isNetworkConnected: Boolean\n    get() {\n        val manager = getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\n        return if (SDK_INT &gt;= Q)\n            manager.getNetworkCapabilities(manager.activeNetwork)?.let {\n                it.hasTransport(TRANSPORT_WIFI) || it.hasTransport(TRANSPORT_CELLULAR) ||\n                        it.hasTransport(TRANSPORT_BLUETOOTH) ||\n                        it.hasTransport(TRANSPORT_ETHERNET) ||\n                        it.hasTransport(TRANSPORT_VPN)\n            } ?: false\n        else\n            @Suppress(&quot;DEPRECATION&quot;)\n            manager.activeNetworkInfo?.isConnected == true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675096691,"creation_date":1675096691,"answer_id":75287425,"question_id":60632260,"body_markdown":"`NetworkInfo` deprecated: https://developer.android.com/reference/android/net/NetworkInfo\r\n\r\n- `getActiveNetworkInfo` deprecated on API 29.\r\n- `getAllNetworkInfo` deprecated on API 23.\r\n\r\nYou should use this code.\r\n\r\n```kotlin\r\n\r\n   private fun isAvailableNetwork(context: Context): Boolean {\r\n        val connectivityManager =\r\n            context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n        val network = connectivityManager.activeNetwork ?: return false\r\n        val networkCapabilities =\r\n            connectivityManager.getNetworkCapabilities(network) ?: return false\r\n        return when {\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\r\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_BLUETOOTH) -&gt; true\r\n            else -&gt; false\r\n        }\r\n    }\r\n```","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p><code>NetworkInfo</code> deprecated: <a href=\"https://developer.android.com/reference/android/net/NetworkInfo\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/net/NetworkInfo</a></p>\n<ul>\n<li><code>getActiveNetworkInfo</code> deprecated on API 29.</li>\n<li><code>getAllNetworkInfo</code> deprecated on API 23.</li>\n</ul>\n<p>You should use this code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n   private fun isAvailableNetwork(context: Context): Boolean {\n        val connectivityManager =\n            context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val network = connectivityManager.activeNetwork ?: return false\n        val networkCapabilities =\n            connectivityManager.getNetworkCapabilities(network) ?: return false\n        return when {\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\n            networkCapabilities.hasTransport(NetworkCapabilities.TRANSPORT_BLUETOOTH) -&gt; true\n            else -&gt; false\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16918829,"reputation":21,"user_id":12236110,"display_name":"Pachiko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675096691,"creation_date":1583916740,"question_id":60632260,"body_markdown":"I want to use `ConnectivityManager` to check if an active network can access the internet or not ie. `getActiveNetworkInfo().isConnected()`.\r\n\r\nI read that we can still use `getActiveNetwork()` to get an active network, but there doesn&#39;t seem to be a similar method like `isConnected` for `Network` objects. How to workaround?\r\n\r\nThe deprecated code is found here: https://codelabs.developers.google.com/codelabs/android-training-asynctask-asynctaskloader/index.html?index=..%2F..%2Fandroid-training#4","title":"Alternative to NetworkInfo.isConnected() (Deprecated in API 23) for Network objects","body":"<p>I want to use <code>ConnectivityManager</code> to check if an active network can access the internet or not ie. <code>getActiveNetworkInfo().isConnected()</code>.</p>\n\n<p>I read that we can still use <code>getActiveNetwork()</code> to get an active network, but there doesn't seem to be a similar method like <code>isConnected</code> for <code>Network</code> objects. How to workaround?</p>\n\n<p>The deprecated code is found here: <a href=\"https://codelabs.developers.google.com/codelabs/android-training-asynctask-asynctaskloader/index.html?index=..%2F..%2Fandroid-training#4\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/android-training-asynctask-asynctaskloader/index.html?index=..%2F..%2Fandroid-training#4</a></p>\n"},{"tags":["java","xml","groovy","xsd","jaxb"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675096289,"creation_date":1675096289,"answer_id":75287325,"question_id":75286824,"body_markdown":"Try this (assuming the package name is &quot;test&quot;):\r\n\r\n    JAXBContext jc = JAXBContext.newInstance(&quot;test&quot;, test.ObjectFactory.class.getClassLoader());","title":"java.lang.Instantiation exception when unmarshalling XML file with Groovy, but in Java works","body":"<p>Try this (assuming the package name is &quot;test&quot;):</p>\n<pre><code>JAXBContext jc = JAXBContext.newInstance(&quot;test&quot;, test.ObjectFactory.class.getClassLoader());\n</code></pre>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675096289,"creation_date":1675093684,"question_id":75286824,"body_markdown":"I have an XSD schema which defines a complex type hierarchy:\r\n\r\n``` xml\r\n&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;Node&quot;&gt;\r\n\t&lt;xsd:complexContent&gt;\r\n\t\t&lt;xsd:extension base=&quot;core:DescribableElement&quot;&gt;\r\n\t\t\t...\r\n\t\t&lt;/xsd:extension&gt;\r\n\t&lt;/xsd:complexContent&gt;\r\n&lt;/xsd:complexType&gt;\r\n&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;SuccessorNode&quot;&gt;\r\n\t&lt;xsd:complexContent&gt;\r\n\t\t&lt;xsd:extension base=&quot;test:Node&quot;&gt;\r\n\t\t\t...\r\n\t\t&lt;/xsd:extension&gt;\r\n\t&lt;/xsd:complexContent&gt;\r\n&lt;/xsd:complexType&gt;\r\n&lt;xsd:complexType name=&quot;StartNode&quot;&gt;\r\n\t&lt;xsd:complexContent&gt;\r\n\t\t&lt;xsd:extension base=&quot;test:SuccessorNode&quot;&gt;\r\n\t\t\t...\r\n\t\t&lt;/xsd:extension&gt;\r\n\t&lt;/xsd:complexContent&gt;\r\n&lt;/xsd:complexType&gt;\r\n&lt;!-- other types omitted for brevity... --&gt;\r\n```\r\n\r\nFrom this XSD schema, I have generated the corrisponding Java classes using Gradle jaxb plugin.\r\n\r\nMy problem is that when I try to unmarshal an XML file written according to this schema, in Groovy I get an error, but in Java it works correctly.\r\n\r\nJava code:\r\n``` java\r\nFile xmlFile = new File(&quot;test.xml&quot;);\r\nJAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\r\nUnmarshaller unmarshaller = context.createUnmarshaller();\r\nJAXBElement&lt;Pipeline&gt; element = (JAXBElement&lt;Pipeline&gt;) unmarshaller.unmarshal(xmlFile);\r\n```\r\n\r\nGroovy code:\r\n``` groovy\r\ndef xmlFile = new File(&quot;test.xml&quot;)\r\ndef context = JAXBContext.newInstance(ObjectFactory.class)\r\ndef unmarshaller = context.createUnmarshaller()\r\ndef element = unmarshaller.unmarshal(xmlFile) as JAXBElement&lt;Pipeline&gt;\r\n```\r\n\r\nWith the Groovy code, I get a `java.lang.InstantiationException`:\r\n```\r\nCaught: jakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\r\n - with linked exception:\r\n[java.lang.InstantiationException]\r\njakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\r\n - with linked exception:\r\n[java.lang.InstantiationException]\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:665)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:156)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.XsiTypeLoader.startElement(XsiTypeLoader.java:49)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:534)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:513)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:218)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:189)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:140)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:179)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:164)\r\n\tat Test.main(Test.groovy:13)\r\n\tat Test.run(Test.groovy:18)\r\nCaused by: java.lang.InstantiationException\r\n\tat org.glassfish.jaxb.core.v2.ClassFactory.create0(ClassFactory.java:102)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.ClassBeanInfoImpl.createInstance(ClassBeanInfoImpl.java:252)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:659)\r\n\t... 12 more\r\n```\r\n\r\nIt seems that the Groovy code is unable to handle namespaces inside the `xsi:type` attribute, while the Java code handles them nicely:\r\n- the Java code correctly instantiates the concrete classes;\r\n- on the other hand, the Groovy code tries to instantiates the abstract one (and this it throws an exception since an abstract class cannot be instantiated)\r\n\r\nWhy does this happen? Is there a way to fix this behaviour?\r\n","title":"java.lang.Instantiation exception when unmarshalling XML file with Groovy, but in Java works","body":"<p>I have an XSD schema which defines a complex type hierarchy:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;Node&quot;&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;core:DescribableElement&quot;&gt;\n            ...\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n&lt;xsd:complexType abstract=&quot;true&quot; name=&quot;SuccessorNode&quot;&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;test:Node&quot;&gt;\n            ...\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n&lt;xsd:complexType name=&quot;StartNode&quot;&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=&quot;test:SuccessorNode&quot;&gt;\n            ...\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n&lt;/xsd:complexType&gt;\n&lt;!-- other types omitted for brevity... --&gt;\n</code></pre>\n<p>From this XSD schema, I have generated the corrisponding Java classes using Gradle jaxb plugin.</p>\n<p>My problem is that when I try to unmarshal an XML file written according to this schema, in Groovy I get an error, but in Java it works correctly.</p>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File xmlFile = new File(&quot;test.xml&quot;);\nJAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\nUnmarshaller unmarshaller = context.createUnmarshaller();\nJAXBElement&lt;Pipeline&gt; element = (JAXBElement&lt;Pipeline&gt;) unmarshaller.unmarshal(xmlFile);\n</code></pre>\n<p>Groovy code:</p>\n<pre><code>def xmlFile = new File(&quot;test.xml&quot;)\ndef context = JAXBContext.newInstance(ObjectFactory.class)\ndef unmarshaller = context.createUnmarshaller()\ndef element = unmarshaller.unmarshal(xmlFile) as JAXBElement&lt;Pipeline&gt;\n</code></pre>\n<p>With the Groovy code, I get a <code>java.lang.InstantiationException</code>:</p>\n<pre><code>Caught: jakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\n - with linked exception:\n[java.lang.InstantiationException]\njakarta.xml.bind.UnmarshalException: Unable to create an instance of test.Node\n - with linked exception:\n[java.lang.InstantiationException]\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:701)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:665)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.StructureLoader.startElement(StructureLoader.java:156)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.XsiTypeLoader.startElement(XsiTypeLoader.java:49)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:534)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:513)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:218)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:189)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:140)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:179)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:164)\n    at Test.main(Test.groovy:13)\n    at Test.run(Test.groovy:18)\nCaused by: java.lang.InstantiationException\n    at org.glassfish.jaxb.core.v2.ClassFactory.create0(ClassFactory.java:102)\n    at org.glassfish.jaxb.runtime.v2.runtime.ClassBeanInfoImpl.createInstance(ClassBeanInfoImpl.java:252)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.createInstance(UnmarshallingContext.java:659)\n    ... 12 more\n</code></pre>\n<p>It seems that the Groovy code is unable to handle namespaces inside the <code>xsi:type</code> attribute, while the Java code handles them nicely:</p>\n<ul>\n<li>the Java code correctly instantiates the concrete classes;</li>\n<li>on the other hand, the Groovy code tries to instantiates the abstract one (and this it throws an exception since an abstract class cannot be instantiated)</li>\n</ul>\n<p>Why does this happen? Is there a way to fix this behaviour?</p>\n"},{"tags":["java","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095949,"creation_date":1675095949,"answer_id":75287261,"question_id":75276196,"body_markdown":"It cannot be done with the `ModelControllerClient`. The `module` command is a high level CLI command and not what is referred to as an operation.\r\n\r\nYou could launch a CLI process and send the command. The other option would be to copy the JAR and create the `module.xml` programmatically.","title":"How to add a module programmatically in Wildfly?","body":"<p>It cannot be done with the <code>ModelControllerClient</code>. The <code>module</code> command is a high level CLI command and not what is referred to as an operation.</p>\n<p>You could launch a CLI process and send the command. The other option would be to copy the JAR and create the <code>module.xml</code> programmatically.</p>\n"}],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675095949,"creation_date":1675007069,"question_id":75276196,"body_markdown":"In Wildfly-CLI `jboss-cli.sh`it is possible to add a module like this\r\n\r\n```\r\nmodule add --name=org.postgres\r\n           --resources=postgresql-42.2.5.jar\r\n           --dependencies=javax.api,javax.transaction.api\r\n```\r\n\r\nThis adds the file `postgresql-42.2.5.jar` and creates `module.xml` with the following structure in `/modules/org/postgres/main`:\r\n\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.postgres&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;postgresql-42.5.1.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nHow can this be done programmatically with `ModelControllerClient` (available in `org.wildfly.core:wildfly-controller-client:19.0.1.Final`)?\r\n\r\n```\r\nModelControllerClient client = ModelControllerClient.Factory.create(InetAddress.getByName(&quot;localhost&quot;), 9990);\r\n```","title":"How to add a module programmatically in Wildfly?","body":"<p>In Wildfly-CLI <code>jboss-cli.sh</code>it is possible to add a module like this</p>\n<pre><code>module add --name=org.postgres\n           --resources=postgresql-42.2.5.jar\n           --dependencies=javax.api,javax.transaction.api\n</code></pre>\n<p>This adds the file <code>postgresql-42.2.5.jar</code> and creates <code>module.xml</code> with the following structure in <code>/modules/org/postgres/main</code>:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.postgres&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;postgresql-42.5.1.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>How can this be done programmatically with <code>ModelControllerClient</code> (available in <code>org.wildfly.core:wildfly-controller-client:19.0.1.Final</code>)?</p>\n<pre><code>ModelControllerClient client = ModelControllerClient.Factory.create(InetAddress.getByName(&quot;localhost&quot;), 9990);\n</code></pre>\n"},{"tags":["java","arrays","collections","hashmap"],"comments":[{"owner":{"account_id":31485,"reputation":89963,"user_id":86463,"accept_rate":86,"display_name":"harto"},"score":4,"creation_date":1246945633,"post_id":1090556,"comment_id":904522,"body_markdown":"you want the keys, the values, or both?","body":"you want the keys, the values, or both?"}],"answers":[{"tags":[],"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"down_vote_count":7,"up_vote_count":228,"is_accepted":true,"score":221,"last_activity_date":1588964136,"creation_date":1246945634,"answer_id":1090564,"question_id":1090556,"body_markdown":"```java\r\nhashMap.keySet().toArray(); // returns an array of keys\r\nhashMap.values().toArray(); // returns an array of values\r\n```\r\n\r\n----\r\n\r\n# Edit\r\n\r\nIt should be noted that the ordering of both arrays may not be the same,\r\nSee oxbow_lakes answer for a better approach for iteration when the pair key/values are needed.","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre class=\"lang-java prettyprint-override\"><code>hashMap.keySet().toArray(); // returns an array of keys\nhashMap.values().toArray(); // returns an array of values\n</code></pre>\n\n<hr>\n\n<h1>Edit</h1>\n\n<p>It should be noted that the ordering of both arrays may not be the same,\nSee oxbow_lakes answer for a better approach for iteration when the pair key/values are needed.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1246946756,"creation_date":1246946756,"answer_id":1090619,"question_id":1090556,"body_markdown":"If you want the keys and values, you can always do this via the `entrySet`:\r\n\r\n    hashMap.entrySet().toArray(); // returns a Map.Entry&lt;K,V&gt;[]\r\n\r\nFrom each entry you can (of course) get both the key *and* value via the `getKey` and `getValue` methods","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>If you want the keys and values, you can always do this via the <code>entrySet</code>:</p>\n\n<pre><code>hashMap.entrySet().toArray(); // returns a Map.Entry&lt;K,V&gt;[]\n</code></pre>\n\n<p>From each entry you can (of course) get both the key <em>and</em> value via the <code>getKey</code> and <code>getValue</code> methods</p>\n"},{"tags":[],"owner":{"account_id":197433,"reputation":79,"user_id":441510,"display_name":"valerian"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1559007765,"creation_date":1284641745,"answer_id":3726858,"question_id":1090556,"body_markdown":"    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n    map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n\t\r\n    Object[][] twoDarray = new Object[map.size()][2];\r\n\r\n    Object[] keys = map.keySet().toArray();\r\n    Object[] values = map.values().toArray();\r\n\r\n    for (int row = 0; row &lt; twoDarray.length; row++) {\r\n        twoDarray[row][0] = keys[row];\r\n        twoDarray[row][1] = values[row];\r\n    }\r\n\t\r\n    // Print out the new 2D array\r\n    for (int i = 0; i &lt; twoDarray.length; i++) {\r\n\t\tfor (int j = 0; j &lt; twoDarray[i].length; j++) {\r\n\t\t\tSystem.out.println(twoDarray[i][j]);\r\n\t\t}\r\n    }","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"key1\", \"value1\");\nmap.put(\"key2\", \"value2\");\n\nObject[][] twoDarray = new Object[map.size()][2];\n\nObject[] keys = map.keySet().toArray();\nObject[] values = map.values().toArray();\n\nfor (int row = 0; row &lt; twoDarray.length; row++) {\n    twoDarray[row][0] = keys[row];\n    twoDarray[row][1] = values[row];\n}\n\n// Print out the new 2D array\nfor (int i = 0; i &lt; twoDarray.length; i++) {\n    for (int j = 0; j &lt; twoDarray[i].length; j++) {\n        System.out.println(twoDarray[i][j]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237114,"reputation":2821,"user_id":505069,"accept_rate":58,"display_name":"kmccoy"},"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1588918465,"creation_date":1302901549,"answer_id":5682375,"question_id":1090556,"body_markdown":"If you have `HashMap&lt;String, SomeObject&gt; hashMap` then:\r\n\r\n```java\r\nhashMap.values().toArray();\r\n```\r\n\r\nWill return an `Object[]`. If instead you want an array of the type `SomeObject`, you could use:\r\n\r\n```java\r\nhashMap.values().toArray(new SomeObject[0]);\r\n```","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>If you have <code>HashMap&lt;String, SomeObject&gt; hashMap</code> then:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>hashMap.values().toArray();\n</code></pre>\n\n<p>Will return an <code>Object[]</code>. If instead you want an array of the type <code>SomeObject</code>, you could use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>hashMap.values().toArray(new SomeObject[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":466223,"reputation":3651,"user_id":870840,"accept_rate":88,"display_name":"CrackerJack9"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1328851439,"creation_date":1312741593,"answer_id":6974800,"question_id":1090556,"body_markdown":"To guarantee the correct order for each array of Keys and Values, use this (the other answers use individual `Set`s which offer no guarantee as to order.\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    String[] keys = new String[map.size()];\r\n    Object[] values = new Object[map.size()];\r\n    int index = 0;\r\n    for (Map.Entry&lt;String, Object&gt; mapEntry : map.entrySet()) {\r\n        keys[index] = mapEntry.getKey();\r\n        values[index] = mapEntry.getValue();\r\n        index++;\r\n    }","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>To guarantee the correct order for each array of Keys and Values, use this (the other answers use individual <code>Set</code>s which offer no guarantee as to order.</p>\n\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nString[] keys = new String[map.size()];\nObject[] values = new Object[map.size()];\nint index = 0;\nfor (Map.Entry&lt;String, Object&gt; mapEntry : map.entrySet()) {\n    keys[index] = mapEntry.getKey();\n    values[index] = mapEntry.getValue();\n    index++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044630,"reputation":5926,"user_id":1049903,"accept_rate":47,"display_name":"Dean Wild"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1321455158,"creation_date":1321455158,"answer_id":8153613,"question_id":1090556,"body_markdown":"An alternative to CrackerJacks suggestion, if you want the HashMap to maintain order you could consider using a LinkedHashMap instead. As far as im aware it&#39;s functionality is identical to a HashMap but it is FIFO so it maintains the order in which items were added.","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>An alternative to CrackerJacks suggestion, if you want the HashMap to maintain order you could consider using a LinkedHashMap instead. As far as im aware it's functionality is identical to a HashMap but it is FIFO so it maintains the order in which items were added.</p>\n"},{"tags":[],"owner":{"account_id":1206654,"reputation":676,"user_id":1176124,"accept_rate":0,"display_name":"Mayur"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332283284,"creation_date":1332283284,"answer_id":9796117,"question_id":1090556,"body_markdown":"You may try this too.\r\n\r\n    public static String[][] getArrayFromHash(Hashtable&lt;String,String&gt; data){\r\n    \t\tString[][] str = null;\r\n    \t\t{\r\n    \t\t\tObject[] keys = data.keySet().toArray();\r\n    \t\t\tObject[] values = data.values().toArray();\r\n    \t\t\tstr = new String[keys.length][values.length];\r\n    \t\t\tfor(int i=0;i&lt;keys.length;i++) {\r\n    \t\t\t\tstr[0][i] = (String)keys[i];\r\n    \t\t\t\tstr[1][i] = (String)values[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn str;\r\n    \t}\r\n\r\nHere I am using String as return type. You may change it to required return type by you.","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>You may try this too.</p>\n\n<pre><code>public static String[][] getArrayFromHash(Hashtable&lt;String,String&gt; data){\n        String[][] str = null;\n        {\n            Object[] keys = data.keySet().toArray();\n            Object[] values = data.values().toArray();\n            str = new String[keys.length][values.length];\n            for(int i=0;i&lt;keys.length;i++) {\n                str[0][i] = (String)keys[i];\n                str[1][i] = (String)values[i];\n            }\n        }\n        return str;\n    }\n</code></pre>\n\n<p>Here I am using String as return type. You may change it to required return type by you.</p>\n"},{"tags":[],"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397727551,"creation_date":1397727551,"answer_id":23129617,"question_id":1090556,"body_markdown":" To Get in One Dimension Array. \r\n       \r\n        String[] arr1 = new String[hashmap.size()];\r\n        String[] arr2 = new String[hashmap.size()];\r\n        Set entries = hashmap.entrySet();\r\n        Iterator entriesIterator = entries.iterator();\r\n\r\n        int i = 0;\r\n        while(entriesIterator.hasNext()){\r\n\r\n            Map.Entry mapping = (Map.Entry) entriesIterator.next();\r\n\r\n            arr1[i] = mapping.getKey().toString();\r\n            arr2[i] = mapping.getValue().toString();\r\n\r\n            i++;\r\n        }\r\n&lt;br&gt;\r\nTo Get in two Dimension Array.   &lt;br&gt;\r\n \r\n\r\n       String[][] arr = new String[hashmap.size()][2];\r\n       Set entries = hashmap.entrySet();\r\n       Iterator entriesIterator = entries.iterator();\r\n\r\n       int i = 0;\r\n       while(entriesIterator.hasNext()){\r\n\r\n        Map.Entry mapping = (Map.Entry) entriesIterator.next();\r\n\r\n        arr[i][0] = mapping.getKey().toString();\r\n        arr[i][1] = mapping.getValue().toString();\r\n\r\n        i++;\r\n    }","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>To Get in One Dimension Array. </p>\n\n<pre><code>    String[] arr1 = new String[hashmap.size()];\n    String[] arr2 = new String[hashmap.size()];\n    Set entries = hashmap.entrySet();\n    Iterator entriesIterator = entries.iterator();\n\n    int i = 0;\n    while(entriesIterator.hasNext()){\n\n        Map.Entry mapping = (Map.Entry) entriesIterator.next();\n\n        arr1[i] = mapping.getKey().toString();\n        arr2[i] = mapping.getValue().toString();\n\n        i++;\n    }\n</code></pre>\n\n<p><br>\nTo Get in two Dimension Array.   <br></p>\n\n<pre><code>   String[][] arr = new String[hashmap.size()][2];\n   Set entries = hashmap.entrySet();\n   Iterator entriesIterator = entries.iterator();\n\n   int i = 0;\n   while(entriesIterator.hasNext()){\n\n    Map.Entry mapping = (Map.Entry) entriesIterator.next();\n\n    arr[i][0] = mapping.getKey().toString();\n    arr[i][1] = mapping.getValue().toString();\n\n    i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3894735,"reputation":314,"user_id":3224087,"display_name":"Hugo Tavares"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1405606477,"creation_date":1405606477,"answer_id":24806015,"question_id":1090556,"body_markdown":"I used almost the same as @kmccoy, but instead of a `keySet()` I did this\r\n\r\n    hashMap.values().toArray(new MyObject[0]);\r\n","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>I used almost the same as @kmccoy, but instead of a <code>keySet()</code> I did this</p>\n\n<pre><code>hashMap.values().toArray(new MyObject[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489676470,"creation_date":1489676470,"answer_id":42837697,"question_id":1090556,"body_markdown":"    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;E,T&gt; E[] hashMapKeysToArray(HashMap&lt;E,T&gt; map)\r\n    \t{\r\n    \t\tint s;\r\n    \t\tif(map == null || (s = map.size())&lt;1)\r\n    \t\t\treturn null;\r\n    \r\n    \t\tE[] temp;\r\n    \t\tE typeHelper;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tIterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\r\n    \t\t\tEntry&lt;E, T&gt; iK = iterator.next();\r\n    \t\t\ttypeHelper = iK.getKey();\r\n    \r\n    \t\t\tObject o = Array.newInstance(typeHelper.getClass(), s);\r\n    \t\t\ttemp = (E[]) o;\r\n    \r\n    \t\t\tint index = 0;\r\n    \t\t\tfor (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\r\n    \t\t\t{\r\n    \t\t\t\ttemp[index++] = mapEntry.getKey();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn temp;\r\n    \t}\r\n    //--------------------------------------------------------\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;E,T&gt; T[] hashMapValuesToArray(HashMap&lt;E,T&gt; map)\r\n    \t{\r\n    \t\tint s;\r\n    \t\tif(map == null || (s = map.size())&lt;1)\r\n    \t\t\treturn null;\r\n    \r\n    \t\tT[] temp;\r\n    \t\tT typeHelper;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tIterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\r\n    \t\t\tEntry&lt;E, T&gt; iK = iterator.next();\r\n    \t\t\ttypeHelper = iK.getValue();\r\n    \r\n    \t\t\tObject o = Array.newInstance(typeHelper.getClass(), s);\r\n    \t\t\ttemp = (T[]) o;\r\n    \r\n    \t\t\tint index = 0;\r\n    \t\t\tfor (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\r\n    \t\t\t{\r\n    \t\t\t\ttemp[index++] = mapEntry.getValue();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{return null;}\r\n\r\n    \t\treturn temp;\r\n    \t}","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre><code>@SuppressWarnings(\"unchecked\")\n    public static &lt;E,T&gt; E[] hashMapKeysToArray(HashMap&lt;E,T&gt; map)\n    {\n        int s;\n        if(map == null || (s = map.size())&lt;1)\n            return null;\n\n        E[] temp;\n        E typeHelper;\n        try\n        {\n            Iterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\n            Entry&lt;E, T&gt; iK = iterator.next();\n            typeHelper = iK.getKey();\n\n            Object o = Array.newInstance(typeHelper.getClass(), s);\n            temp = (E[]) o;\n\n            int index = 0;\n            for (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\n            {\n                temp[index++] = mapEntry.getKey();\n            }\n        }\n        catch (Exception e)\n        {\n            return null;\n        }\n        return temp;\n    }\n//--------------------------------------------------------\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;E,T&gt; T[] hashMapValuesToArray(HashMap&lt;E,T&gt; map)\n    {\n        int s;\n        if(map == null || (s = map.size())&lt;1)\n            return null;\n\n        T[] temp;\n        T typeHelper;\n        try\n        {\n            Iterator&lt;Entry&lt;E, T&gt;&gt; iterator = map.entrySet().iterator();\n            Entry&lt;E, T&gt; iK = iterator.next();\n            typeHelper = iK.getValue();\n\n            Object o = Array.newInstance(typeHelper.getClass(), s);\n            temp = (T[]) o;\n\n            int index = 0;\n            for (Map.Entry&lt;E,T&gt; mapEntry : map.entrySet())\n            {\n                temp[index++] = mapEntry.getValue();\n            }\n        }\n        catch (Exception e)\n        {return null;}\n\n        return temp;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539205,"reputation":363,"user_id":4396444,"display_name":"Roman Irtov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523554232,"creation_date":1523554232,"answer_id":49802708,"question_id":1090556,"body_markdown":"\r\n    HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n    String[] stringValues= new String[hashMap.values().size()];\r\n    hashMap.values().toArray(stringValues);\r\n      ","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<pre><code>HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\nString[] stringValues= new String[hashMap.values().size()];\nhashMap.values().toArray(stringValues);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4676843,"reputation":1007,"user_id":3786869,"display_name":"Graham Russell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1558996202,"creation_date":1558996202,"answer_id":56333062,"question_id":1090556,"body_markdown":"If you are using Java 8+ and need a 2 dimensional `Array`, perhaps for TestNG data providers, you can try:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    map.entrySet()\r\n        .stream()\r\n        .map(e -&gt; new Object[]{e.getKey(), e.getValue()})\r\n        .toArray(Object[][]::new);\r\n\r\nIf your `Object`s are `String`s and you need a `String[][]`, try:\r\n\r\n    map.entrySet()\r\n        .stream()\r\n        .map(e -&gt; new String[]{e.getKey(), e.getValue().toString()})\r\n        .toArray(String[][]::new);","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>If you are using Java 8+ and need a 2 dimensional <code>Array</code>, perhaps for TestNG data providers, you can try:</p>\n\n\n\n<pre><code>map.entrySet()\n    .stream()\n    .map(e -&gt; new Object[]{e.getKey(), e.getValue()})\n    .toArray(Object[][]::new);\n</code></pre>\n\n<p>If your <code>Object</code>s are <code>String</code>s and you need a <code>String[][]</code>, try:</p>\n\n<pre><code>map.entrySet()\n    .stream()\n    .map(e -&gt; new String[]{e.getKey(), e.getValue().toString()})\n    .toArray(String[][]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17647174,"reputation":1,"user_id":12808361,"display_name":"عمار الريالي"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617978220,"creation_date":1617975921,"answer_id":67022285,"question_id":1090556,"body_markdown":"if you need to pass values to an array of objects try:\r\n                \r\n    Array:\r\n    Object[] object= hashMap.values().toArray(new Object[0]);\r\n\r\n    Arraylist:\r\n    ArrayList&lt;Object&gt; object=new ArrayList&lt;&gt;(hashMap.values());\r\n","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>if you need to pass values to an array of objects try:</p>\n<pre><code>Array:\nObject[] object= hashMap.values().toArray(new Object[0]);\n\nArraylist:\nArrayList&lt;Object&gt; object=new ArrayList&lt;&gt;(hashMap.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9061941,"reputation":156,"user_id":6748219,"display_name":"Thierry Marchand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619013066,"creation_date":1619013066,"answer_id":67197257,"question_id":1090556,"body_markdown":"In the case keys and values are strings and you want to alternate key and value in the same array:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    String[] result = myMap.entrySet()\r\n                           .stream()\r\n                           .flatMap(entry -&gt; Stream.of(entry.getKey(),entry.getValue()))\r\n                           .toArray(String[]::new);\r\n    // result = {key_1, value_1, key_2, value_2 ...}\r\n    \r\n","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>In the case keys and values are strings and you want to alternate key and value in the same array:</p>\n\n<pre><code>String[] result = myMap.entrySet()\n                       .stream()\n                       .flatMap(entry -&gt; Stream.of(entry.getKey(),entry.getValue()))\n                       .toArray(String[]::new);\n// result = {key_1, value_1, key_2, value_2 ...}\n</code></pre>\n"}],"owner":{"account_id":31021,"reputation":57580,"user_id":84916,"accept_rate":83,"display_name":"burntsugar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358430,"favorite_count":0,"down_vote_count":3,"up_vote_count":140,"accepted_answer_id":1090564,"answer_count":14,"score":137,"last_activity_date":1675095929,"creation_date":1246945412,"question_id":1090556,"body_markdown":"I need to convert a `HashMap&lt;String, Object&gt;` to an array; could anyone show me how it&#39;s done?","title":"Java: how to convert HashMap&lt;String, Object&gt; to array","body":"<p>I need to convert a <code>HashMap&lt;String, Object&gt;</code> to an array; could anyone show me how it's done?</p>\n"},{"tags":["java","tomcat","memory-leaks"],"comments":[{"owner":{"account_id":8552992,"reputation":37,"user_id":6409401,"display_name":"Sharan"},"score":0,"creation_date":1477485565,"post_id":40257193,"comment_id":67785408,"body_markdown":"The classloader/component &quot;org.apache.catalina.loader.WebappClassLoader @ 0xc3daba00&quot; occupies 14,467,560 (15.32%) bytes. The memory is accumulated in one instance of &quot;java.util.HashMap$Entry[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.\n\nKeywords\njava.util.HashMap$Entry[]\norg.apache.catalina.loader.WebappClassLoader @ 0xc3daba00","body":"The classloader/component &quot;org.apache.catalina.loader.WebappClassLoader @ 0xc3daba00&quot; occupies 14,467,560 (15.32%) bytes. The memory is accumulated in one instance of &quot;java.util.HashMap$Entry[]&quot; loaded by &quot;&lt;system class loader&gt;&quot;.  Keywords java.util.HashMap$Entry[] org.apache.catalina.loader.WebappClassLoader @ 0xc3daba00"},{"owner":{"account_id":8552992,"reputation":37,"user_id":6409401,"display_name":"Sharan"},"score":0,"creation_date":1477485803,"post_id":40257193,"comment_id":67785565,"body_markdown":"I found above things in MAT Analyzer. Most of the leaks are due to hashmap entry and org.springframework.beans.CachedIntrospectionResults. Can any one help me to solve this memory leak. Unnecessary memory leaks are causing rather than my application classes and objects.I am trying to resolve this since 2 weeks but unable to find any solution.","body":"I found above things in MAT Analyzer. Most of the leaks are due to hashmap entry and org.springframework.beans.CachedIntrospectionResults. Can any one help me to solve this memory leak. Unnecessary memory leaks are causing rather than my application classes and objects.I am trying to resolve this since 2 weeks but unable to find any solution."},{"owner":{"account_id":3241537,"reputation":1471,"user_id":2734445,"accept_rate":75,"display_name":"Senthil Arumugam SP"},"score":0,"creation_date":1592578202,"post_id":40257193,"comment_id":110484245,"body_markdown":"I m facing the same issue. Did anyone find the cause?","body":"I m facing the same issue. Did anyone find the cause?"}],"answers":[{"tags":[],"owner":{"account_id":2714498,"reputation":1,"user_id":2342166,"display_name":"waveopera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498661957,"creation_date":1498661957,"answer_id":44806132,"question_id":40257193,"body_markdown":"Have you resolve this problem now? \r\nI think you can try to find usage of &quot;org.springframework.beans.CachedIntrospectionResults&quot;, maybe you will find some causes.","title":"memory leaks caused by assertionLock org.apache.catalina.loader.WebappClassLoader","body":"<p>Have you resolve this problem now? \nI think you can try to find usage of \"org.springframework.beans.CachedIntrospectionResults\", maybe you will find some causes.</p>\n"},{"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095861,"creation_date":1675095861,"answer_id":75287251,"question_id":40257193,"body_markdown":"It is not always a leak. The *reserved memory* shows a memory size which could be garbage collected if the `WebAppClassLoader` would not reference them. The `WebAppClassLoader` has a lifecycle bound to the webapp, and will be stopped/closed when the application stops. Until that it remembers all classes it loaded. The reserved memory then shows how much memory is allocated by objects which are linked to it somehow.\r\n\r\nIt can be used to access these classes ie. in VisualVM to look which really takes some significiant amount of memory. In my case it was a huge static ConcurrentHashMap used as a cache.","title":"memory leaks caused by assertionLock org.apache.catalina.loader.WebappClassLoader","body":"<p>It is not always a leak. The <em>reserved memory</em> shows a memory size which could be garbage collected if the <code>WebAppClassLoader</code> would not reference them. The <code>WebAppClassLoader</code> has a lifecycle bound to the webapp, and will be stopped/closed when the application stops. Until that it remembers all classes it loaded. The reserved memory then shows how much memory is allocated by objects which are linked to it somehow.</p>\n<p>It can be used to access these classes ie. in VisualVM to look which really takes some significiant amount of memory. In my case it was a huge static ConcurrentHashMap used as a cache.</p>\n"}],"owner":{"account_id":8552992,"reputation":37,"user_id":6409401,"display_name":"Sharan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675095861,"creation_date":1477470250,"question_id":40257193,"body_markdown":"In MAT analyzer tool I am finding memory leaks caused by assertionLock `org.apache.catalina.loader.WebappClassLoader`. Can anyone help me regarding avoiding memory leak by that class?","title":"memory leaks caused by assertionLock org.apache.catalina.loader.WebappClassLoader","body":"<p>In MAT analyzer tool I am finding memory leaks caused by assertionLock <code>org.apache.catalina.loader.WebappClassLoader</code>. Can anyone help me regarding avoiding memory leak by that class?</p>\n"},{"tags":["java","maven","java-17"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675089868,"post_id":75285758,"comment_id":132847821,"body_markdown":"If you look at [Start.java:781](https://github.com/openjdk/jdk/blob/jdk-17+35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Start.java#L781), you can see it&#39;s trying to load a class by name. So for some reason, the `doclet` config param looks like it&#39;s not being applied. I tried to trace it back, but it was a little complicated. I would run in debug and step through. Ultimately, all the config looks like it comes from here [Main.java:52](https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Main.java#L51), which is just a String[]","body":"If you look at <a href=\"https://github.com/openjdk/jdk/blob/jdk-17+35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Start.java#L781\" rel=\"nofollow noreferrer\">Start.java:781</a>, you can see it&#39;s trying to load a class by name. So for some reason, the <code>doclet</code> config param looks like it&#39;s not being applied. I tried to trace it back, but it was a little complicated. I would run in debug and step through. Ultimately, all the config looks like it comes from here <a href=\"https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/jdk.javadoc/share/classes/jdk/javadoc/internal/tool/Main.java#L51\" rel=\"nofollow noreferrer\">Main.java:52</a>, which is just a String[]"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675090546,"post_id":75285758,"comment_id":132848097,"body_markdown":"Never seen this notation: &quot;*@options @packages*&quot;. Does it mean those are *literally* the arguments? If so, all your config is being lost. Or maybe those are some kind of shorthand in place of the actual arguments. Not sure","body":"Never seen this notation: &quot;<i>@options @packages</i>&quot;. Does it mean those are <i>literally</i> the arguments? If so, all your config is being lost. Or maybe those are some kind of shorthand in place of the actual arguments. Not sure"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675091509,"post_id":75285758,"comment_id":132848425,"body_markdown":"Do you use the latest version of the javadoc plug-in?","body":"Do you use the latest version of the javadoc plug-in?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675091832,"post_id":75285758,"comment_id":132848535,"body_markdown":"@Thorbj&#248;rnRavnAndersen It&#39;s in the question. &lt;version&gt;3.4.0&lt;/version&gt;","body":"@Thorbj&#248;rnRavnAndersen It&#39;s in the question. &lt;version&gt;3.4.0&lt;/version&gt;"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1675093996,"post_id":75285758,"comment_id":132849264,"body_markdown":"I would expect the following file: `target/apidocs/@options` which should tell which jars are used for doclets. It seems like one of those jars needs this class.","body":"I would expect the following file: <code>target&#47;apidocs&#47;@options</code> which should tell which jars are used for doclets. It seems like one of those jars needs this class."},{"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"score":0,"creation_date":1675095557,"post_id":75285758,"comment_id":132849808,"body_markdown":"For Java 9+ support, use `spring-auto-restdocs-json-doclet-jdk9` as doclet dependency.","body":"For Java 9+ support, use <code>spring-auto-restdocs-json-doclet-jdk9</code> as doclet dependency."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675121936,"post_id":75285758,"comment_id":132857134,"body_markdown":"@Michael Latest version is 3.4.1 according to https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html","body":"@Michael Latest version is 3.4.1 according to <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/usage.html</a>"},{"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"score":0,"creation_date":1675162239,"post_id":75285758,"comment_id":132864622,"body_markdown":"@Thorbj&#248;rnRavnAndersen. The root cause of the issue is the doclet dependency, both 3.4.0 and 3.4.1 can work without any issues after I switched to the `spring-auto-restdocs-json-doclet-jdk9`.","body":"@Thorbj&#248;rnRavnAndersen. The root cause of the issue is the doclet dependency, both 3.4.0 and 3.4.1 can work without any issues after I switched to the <code>spring-auto-restdocs-json-doclet-jdk9</code>."}],"answers":[{"tags":[],"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675095517,"creation_date":1675095517,"answer_id":75287189,"question_id":75285758,"body_markdown":"For Java 9+ support, use `spring-auto-restdocs-json-doclet-jdk9` as doclet dependency.\r\n\r\nThe implementation of `ExtractDocumentationAsJsonDoclet` extends from the deprecated class `Standard `, which was removed in JDK 17. ","title":"JDK 17 maven clean install failed due to Java doclet","body":"<p>For Java 9+ support, use <code>spring-auto-restdocs-json-doclet-jdk9</code> as doclet dependency.</p>\n<p>The implementation of <code>ExtractDocumentationAsJsonDoclet</code> extends from the deprecated class <code>Standard </code>, which was removed in JDK 17.</p>\n"}],"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675095517,"creation_date":1675088574,"question_id":75285758,"body_markdown":"I just updated my laptop&#39;s Java version to 17 and updated the maven POM file accordingly. However, I keep getting the following error when I ran `mvn clean install`: \r\n\r\n    Exit code: 1 - Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/doclets/standard/Standard\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.loadDocletClass(Start.java:781)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.preprocess(Start.java:752)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:371)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:342)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:63)\r\n    \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:52)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.tools.doclets.standard.Standard\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 16 more\r\n    \r\n    Command line was: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/javadoc @options @packages\r\n\r\nThis is the configuration I used for the `maven-javadoc-plugin`:\r\n\r\n                 &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.0&lt;/version&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate-javadoc-json&lt;/id&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;doclet&gt;capital.scalable.restdocs.jsondoclet.ExtractDocumentationAsJsonDoclet&lt;/doclet&gt;\r\n                        &lt;docletArtifact&gt;\r\n                            &lt;groupId&gt;capital.scalable&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-auto-restdocs-json-doclet-jdk9&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.0.11&lt;/version&gt;\r\n                        &lt;/docletArtifact&gt;\r\n                        &lt;destDir&gt;generated-javadoc-json&lt;/destDir&gt;\r\n                        &lt;reportOutputDirectory&gt;${basedir}${docDirectory}/report&lt;/reportOutputDirectory&gt;\r\n                        &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\r\n                        &lt;show&gt;package&lt;/show&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nDoes anyone know why it keeps trying to find the `com.sun.tools.doclets.standard.Standard` even though I&#39;ve specified another doclet to be used?","title":"JDK 17 maven clean install failed due to Java doclet","body":"<p>I just updated my laptop's Java version to 17 and updated the maven POM file accordingly. However, I keep getting the following error when I ran <code>mvn clean install</code>:</p>\n<pre><code>Exit code: 1 - Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/doclets/standard/Standard\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.loadDocletClass(Start.java:781)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.preprocess(Start.java:752)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:371)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:342)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:63)\n    at jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:52)\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.doclets.standard.Standard\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 16 more\n\nCommand line was: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/javadoc @options @packages\n</code></pre>\n<p>This is the configuration I used for the <code>maven-javadoc-plugin</code>:</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-javadoc-json&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;doclet&gt;capital.scalable.restdocs.jsondoclet.ExtractDocumentationAsJsonDoclet&lt;/doclet&gt;\n                    &lt;docletArtifact&gt;\n                        &lt;groupId&gt;capital.scalable&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-auto-restdocs-json-doclet-jdk9&lt;/artifactId&gt;\n                        &lt;version&gt;2.0.11&lt;/version&gt;\n                    &lt;/docletArtifact&gt;\n                    &lt;destDir&gt;generated-javadoc-json&lt;/destDir&gt;\n                    &lt;reportOutputDirectory&gt;${basedir}${docDirectory}/report&lt;/reportOutputDirectory&gt;\n                    &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\n                    &lt;show&gt;package&lt;/show&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Does anyone know why it keeps trying to find the <code>com.sun.tools.doclets.standard.Standard</code> even though I've specified another doclet to be used?</p>\n"},{"tags":["java","null"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1582117833,"post_id":60301088,"comment_id":106665825,"body_markdown":"Eclipse is having an internal error, so maybe try reinstalling it.","body":"Eclipse is having an internal error, so maybe try reinstalling it."},{"owner":{"account_id":17417598,"reputation":31,"user_id":12623710,"display_name":"Clarissa Thomas"},"score":0,"creation_date":1582118109,"post_id":60301088,"comment_id":106665976,"body_markdown":"Thank you @ak47 for editing my post, i really dont know how to reply or edit to my own post. :P","body":"Thank you @ak47 for editing my post, i really dont know how to reply or edit to my own post. :P"},{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1582119057,"post_id":60301088,"comment_id":106666515,"body_markdown":"Just as an FYI -- You shouldn&#39;t really include screenshots in your question -- atleast not for the code snippets -- the ones displaying the eclipse exceptions are fine","body":"Just as an FYI -- You shouldn&#39;t really include screenshots in your question -- atleast not for the code snippets -- the ones displaying the eclipse exceptions are fine"}],"answers":[{"tags":[],"owner":{"account_id":12239080,"reputation":189,"user_id":8932643,"display_name":"Quadrivics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582118622,"creation_date":1582118622,"answer_id":60301398,"question_id":60301088,"body_markdown":"Try to reinstall Eclipse. If that does not help try to see if your java is installed correctly. Go to command prompt and navigate to the project rootfolder.\r\nThen do the following (trying to compile the program):\r\n\r\n`javac Palindrome.java` or `javac Palindrome2.java`\r\n\r\nWhen this does work try to run the programs with either:\r\n\r\n`java MyFirstJavaProgram`\r\nor\r\n`java MyFirstJavaProgram2`\r\nto try and run the program you just compiled. Then you can check if the fault is in your java installation or if it is in Eclipse.","title":"Getting null argument when I run any program in eclipse","body":"<p>Try to reinstall Eclipse. If that does not help try to see if your java is installed correctly. Go to command prompt and navigate to the project rootfolder.\nThen do the following (trying to compile the program):</p>\n\n<p><code>javac Palindrome.java</code> or <code>javac Palindrome2.java</code></p>\n\n<p>When this does work try to run the programs with either:</p>\n\n<p><code>java MyFirstJavaProgram</code>\nor\n<code>java MyFirstJavaProgram2</code>\nto try and run the program you just compiled. Then you can check if the fault is in your java installation or if it is in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":3371479,"reputation":53,"user_id":2830588,"accept_rate":86,"display_name":"Raziel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095392,"creation_date":1675095392,"answer_id":75287158,"question_id":60301088,"body_markdown":"I had the same error and after many checks i found the root cause: it was the JDK that i had imported/selected into Eclipse that was corrupted. Replaced the JDK with a fresh copy downloaded from Oracle and installed, the issue has been resolved.","title":"Getting null argument when I run any program in eclipse","body":"<p>I had the same error and after many checks i found the root cause: it was the JDK that i had imported/selected into Eclipse that was corrupted. Replaced the JDK with a fresh copy downloaded from Oracle and installed, the issue has been resolved.</p>\n"}],"owner":{"account_id":17417598,"reputation":31,"user_id":12623710,"display_name":"Clarissa Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1675095392,"creation_date":1582117647,"question_id":60301088,"body_markdown":"I tried execution in eclipse with two different palindrome programs in java. But when i click Run As Java Application all i get is the below error.\r\nI am getting a different error when i run the same program in command prompt as well\r\n\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n![enter image description here][3]\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RMOfr.png\r\n  [2]: https://i.stack.imgur.com/fG5ck.png\r\n  [3]: https://i.stack.imgur.com/JHvXo.png\r\n  [4]: https://i.stack.imgur.com/Vdpsu.png","title":"Getting null argument when I run any program in eclipse","body":"<p>I tried execution in eclipse with two different palindrome programs in java. But when i click Run As Java Application all i get is the below error.\nI am getting a different error when i run the same program in command prompt as well</p>\n\n<p><img src=\"https://i.stack.imgur.com/RMOfr.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/fG5ck.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/JHvXo.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/Vdpsu.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","telosys"],"answers":[{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675095067,"creation_date":1675095067,"answer_id":75287111,"question_id":75262713,"body_markdown":"The &quot;@Package&quot; annotation is provided for certain special cases, for example for languages or modeling tools in which the name of the &quot;package&quot; does not necessarily depend on the directory in which the source files are located.  \r\n\r\nThis annotation is useless if you are in a context of Java code generation (nothing to do with &quot;Java packages&quot;)","title":"Telosys - Intended Usage of @Package Annotation","body":"<p>The &quot;@Package&quot; annotation is provided for certain special cases, for example for languages or modeling tools in which the name of the &quot;package&quot; does not necessarily depend on the directory in which the source files are located.</p>\n<p>This annotation is useless if you are in a context of Java code generation (nothing to do with &quot;Java packages&quot;)</p>\n"}],"owner":{"account_id":901873,"reputation":851,"user_id":937808,"accept_rate":33,"display_name":"Michael Ressler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75287111,"answer_count":1,"score":0,"last_activity_date":1675095067,"creation_date":1674848813,"question_id":75262713,"body_markdown":"[The documentation][1] for @Package simply states that a user can specify the package the entity belongs to. I do not see any usage of this annotation in the examples provided for Java classes. I have taken to using the following syntax for package declarations:\r\n\r\n`package ${target.javaPackageFromFolder(${SRC})}.$entity.package;`\r\n\r\nHowever, that doesn&#39;t place the object in the right directory as my `templates.cfg` doesn&#39;t know about this `$entity.package` attribute.\r\n\r\nWhen I specify:\r\n\r\n`${SRC}/${ROOT_PKG}/model/${entity.package}` for the project folder in the `templates.cfg`, my output directory resolves to:\r\n\r\n`[INFO] OK :  src/main/java/com/mycompany/model/${entity.package}/EntityName.java`\r\n\r\nWhat is the intended use of this annotation? Can someone point me in the right direction?\r\n\r\n\r\n  [1]: https://doc.telosys.org/dsl-model/annotations#package-string","title":"Telosys - Intended Usage of @Package Annotation","body":"<p><a href=\"https://doc.telosys.org/dsl-model/annotations#package-string\" rel=\"nofollow noreferrer\">The documentation</a> for @Package simply states that a user can specify the package the entity belongs to. I do not see any usage of this annotation in the examples provided for Java classes. I have taken to using the following syntax for package declarations:</p>\n<p><code>package ${target.javaPackageFromFolder(${SRC})}.$entity.package;</code></p>\n<p>However, that doesn't place the object in the right directory as my <code>templates.cfg</code> doesn't know about this <code>$entity.package</code> attribute.</p>\n<p>When I specify:</p>\n<p><code>${SRC}/${ROOT_PKG}/model/${entity.package}</code> for the project folder in the <code>templates.cfg</code>, my output directory resolves to:</p>\n<p><code>[INFO] OK :  src/main/java/com/mycompany/model/${entity.package}/EntityName.java</code></p>\n<p>What is the intended use of this annotation? Can someone point me in the right direction?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670226191,"post_id":74684786,"comment_id":131818009,"body_markdown":"by making sure that that class can be autowired (is it component/service/...) and that it&#39;s on the path at compile- and runtime","body":"by making sure that that class can be autowired (is it component/service/...) and that it&#39;s on the path at compile- and runtime"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670226223,"post_id":74684786,"comment_id":131818020,"body_markdown":"My full source code https://github.com/donhuvy/micro-service-usecase/blob/777d068ae198b9f4507cc4d2b1594622829d4b92/gateway/src/main/java/org/sid/gateway/GatewayApplication.java#L27 @Stultuske please specific and more detail.","body":"My full source code <a href=\"https://github.com/donhuvy/micro-service-usecase/blob/777d068ae198b9f4507cc4d2b1594622829d4b92/gateway/src/main/java/org/sid/gateway/GatewayApplication.java#L27\" rel=\"nofollow noreferrer\">github.com/donhuvy/micro-service-usecase/blob/&hellip;</a> @Stultuske please specific and more detail."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670226677,"post_id":74684786,"comment_id":131818140,"body_markdown":"the implementations (I know of) of that interface are in spring-cloud-commons. Try adding a dependency tot that: https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons/3.1.5","body":"the implementations (I know of) of that interface are in spring-cloud-commons. Try adding a dependency tot that: <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-commons/3.1.5\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.cloud/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670233588,"post_id":74684786,"comment_id":131820374,"body_markdown":"You are using Spring Cloud, Spring Cloud is tied to certain versions of Spring Boot. You are using incmopatible versions. For Spring Boot you need 2022.0.x (release train) anything else is for Spring Boot 2.x releases.","body":"You are using Spring Cloud, Spring Cloud is tied to certain versions of Spring Boot. You are using incmopatible versions. For Spring Boot you need 2022.0.x (release train) anything else is for Spring Boot 2.x releases."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1670233718,"post_id":74684786,"comment_id":131820425,"body_markdown":"Are you sure `2022.x` , I think latest version of Spring Cloud is still `2021.x` ?","body":"Are you sure <code>2022.x</code> , I think latest version of Spring Cloud is still <code>2021.x</code> ?"},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":1,"creation_date":1670350794,"post_id":74684786,"comment_id":131854902,"body_markdown":"`2022.x` is the one compatible with Boot 3.0.0. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3.","body":"<code>2022.x</code> is the one compatible with Boot 3.0.0. However, it&#39;s not GA yet. The release is planned for mid-December; if you&#39;re using Spring Cloud in your apps, we suggest you wait till then with doing the switch to Boot 3."}],"answers":[{"tags":[],"owner":{"account_id":27658777,"reputation":1,"user_id":21112082,"display_name":"user21112082"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675095028,"creation_date":1675094939,"answer_id":75287093,"question_id":74684786,"body_markdown":"add this to your application properties\r\n\r\n    spring.cloud.discovery.enabled=true\r\n","title":"required a bean of type &#39;org.springframework.cloud.client.discovery.ReactiveDiscoveryClient&#39; that could not be found","body":"<p>add this to your application properties</p>\n<pre><code>spring.cloud.discovery.enabled=true\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675095028,"creation_date":1670226119,"question_id":74684786,"body_markdown":"I am upgrading to Spring Boot 3.0.0 . I catch error.\r\n\r\nFile `GatewayApplication.java`\r\n\r\n```java\r\npackage org.sid.gateway;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.client.discovery.ReactiveDiscoveryClient;\r\nimport org.springframework.cloud.gateway.discovery.DiscoveryClientRouteDefinitionLocator;\r\nimport org.springframework.cloud.gateway.discovery.DiscoveryLocatorProperties;\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class GatewayApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(GatewayApplication.class, args);\r\n    }\r\n\r\n    public RouteLocator routes(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(r -&gt; r.path(&quot;/customers/**&quot;).uri(&quot;lb://CUSTOMER-SERVICE&quot;))\r\n                .route(r -&gt; r.path(&quot;/products/**&quot;).uri(&quot;lb://INVENTORY-SERVICE&quot;))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DiscoveryClientRouteDefinitionLocator dynamicRoutes(ReactiveDiscoveryClient rdc, DiscoveryLocatorProperties dlp) {\r\n        return new DiscoveryClientRouteDefinitionLocator(rdc, dlp);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\nParameter 0 of method dynamicRoutes in org.sid.gateway.GatewayApplication required a bean of type &#39;org.springframework.cloud.client.discovery.ReactiveDiscoveryClient&#39; that could not be found.\r\n```\r\n\r\nHow to fix it?","title":"required a bean of type &#39;org.springframework.cloud.client.discovery.ReactiveDiscoveryClient&#39; that could not be found","body":"<p>I am upgrading to Spring Boot 3.0.0 . I catch error.</p>\n<p>File <code>GatewayApplication.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.sid.gateway;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.ReactiveDiscoveryClient;\nimport org.springframework.cloud.gateway.discovery.DiscoveryClientRouteDefinitionLocator;\nimport org.springframework.cloud.gateway.discovery.DiscoveryLocatorProperties;\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class GatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayApplication.class, args);\n    }\n\n    public RouteLocator routes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/customers/**&quot;).uri(&quot;lb://CUSTOMER-SERVICE&quot;))\n                .route(r -&gt; r.path(&quot;/products/**&quot;).uri(&quot;lb://INVENTORY-SERVICE&quot;))\n                .build();\n    }\n\n    @Bean\n    public DiscoveryClientRouteDefinitionLocator dynamicRoutes(ReactiveDiscoveryClient rdc, DiscoveryLocatorProperties dlp) {\n        return new DiscoveryClientRouteDefinitionLocator(rdc, dlp);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Parameter 0 of method dynamicRoutes in org.sid.gateway.GatewayApplication required a bean of type 'org.springframework.cloud.client.discovery.ReactiveDiscoveryClient' that could not be found.\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","android","android-safe-args"],"owner":{"account_id":1615163,"reputation":29,"user_id":1493083,"display_name":"HalSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675094394,"creation_date":1675094394,"question_id":75286964,"body_markdown":"When syncing (&quot;Synk now&quot;) in my android JAVA project this error appers.\r\nI have the plugins and class paths that the documentation specifies. \r\nHave I missed something maybe?\r\nDoc ref: https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\r\n\r\n\r\nI cant really find anything regarding this on in a java project, only kotlin, so can&#39;t really apply those.\r\n\r\nThis is my buid.gradle\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.3&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.fishiz&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.fishiz&quot;\r\n        minSdk 29\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.4.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.4.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n}\r\n```\r\n\r\nThis is the entire exception (long):\r\n\r\n```\r\nPlugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (plugin dependency must include a version number for this source)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:369)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:121)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n```\r\n\r\n","title":"Plugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources","body":"<p>When syncing (&quot;Synk now&quot;) in my android JAVA project this error appers.\nI have the plugins and class paths that the documentation specifies.\nHave I missed something maybe?\nDoc ref: <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args</a></p>\n<p>I cant really find anything regarding this on in a java project, only kotlin, so can't really apply those.</p>\n<p>This is my buid.gradle</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.5.3&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\n\nplugins {\n    id 'androidx.navigation.safeargs'\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.fishiz'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.fishiz&quot;\n        minSdk 29\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    repositories {\n        gradlePluginPortal()\n        google()\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.4.1'\n    implementation 'androidx.navigation:navigation-ui:2.4.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n}\n</code></pre>\n<p>This is the entire exception (long):</p>\n<pre><code>Plugin [id: 'androidx.navigation.safeargs'] was not found in any of the following sources:\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'androidx.navigation.safeargs'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (plugin dependency must include a version number for this source)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:369)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:121)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675094248,"creation_date":1675094248,"answer_id":75286932,"question_id":75281293,"body_markdown":"    @PostConstruct\r\n    public void init() {\r\n        BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\r\n        eventPublisher.publishEvent(event);\r\n    }\r\n\r\nThat&#39;s too early to interact with low-level resource. You really cannot send message to the broker while your application is still in a configuration phase.\r\n\r\nSee into an `ApplicationRunner` instead: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.command-line-runner","title":"Dispatcher has no subscribers for channel","body":"<pre><code>@PostConstruct\npublic void init() {\n    BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\n    eventPublisher.publishEvent(event);\n}\n</code></pre>\n<p>That's too early to interact with low-level resource. You really cannot send message to the broker while your application is still in a configuration phase.</p>\n<p>See into an <code>ApplicationRunner</code> instead: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.command-line-runner\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.command-line-runner</a></p>\n"}],"owner":{"account_id":3371794,"reputation":143468,"user_id":2830850,"display_name":"Tarun Lalwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75286932,"answer_count":1,"score":0,"last_activity_date":1675094248,"creation_date":1675063720,"question_id":75281293,"body_markdown":"I am trying to create a Generic eventPublisher for my microservices.\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cloud.stream.annotation.EnableBinding;\r\nimport org.springframework.cloud.stream.messaging.Source;\r\nimport org.springframework.messaging.support.MessageBuilder;\r\n\r\n@EnableBinding(TaskEventStreams.class)\r\npublic class EventPublisher {\r\n\r\n    private final TaskEventStreams source;\r\n\r\n    @Autowired\r\n    public EventPublisher(TaskEventStreams source) {\r\n        this.source = source;\r\n    }\r\n\r\n    public void publishEvent(BaseEvent event) {\r\n        publishEvent(event, event.getTenant());\r\n    }\r\n\r\n    public void publishEvent(BaseEvent event, String key) {\r\n\r\n        source.taskEventOutput().send(\r\n                MessageBuilder\r\n                        .withPayload(event)\r\n                        .copyHeaders(event.getHeaders())\r\n                        .setHeader(&quot;partitionKey&quot;, key)\r\n                        .build());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport org.springframework.cloud.stream.annotation.Input;\r\nimport org.springframework.cloud.stream.annotation.Output;\r\nimport org.springframework.messaging.MessageChannel;\r\nimport org.springframework.messaging.SubscribableChannel;\r\n\r\npublic interface TaskEventStreams {\r\n    String TASK_EVENT_OUTPUT = &quot;task-event-output&quot;;\r\n\r\n    @Output(TASK_EVENT_OUTPUT)\r\n    MessageChannel taskEventOutput();\r\n}\r\n```\r\n\r\nApplication properties\r\n```yaml\r\nspring:\r\n  cloud:\r\n    stream:\r\n      default-binder: kafka\r\n      kafka:\r\n        binder:\r\n          brokers: localhost:9092\r\n          auto-create-topics: true\r\n      bindings:\r\n        task-event-output:\r\n          destination: tasks\r\n          group: tasks\r\n          binder: kafka\r\n          contentType: application/json\r\n```\r\n\r\nThis service will only publish the events. These events then later can be consumed by other services. But when I am trying to publish the event I am getting below exception\r\n```java\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class Main {\r\n\r\n    @Autowired\r\n    EventPublisher eventPublisher;\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(Main.class, args);\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\r\n        eventPublisher.publishEvent(event);\r\n    }\r\n}\r\n```\r\n\r\nException:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;main&#39;: Invocation of init method failed; nested exception is org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel &#39;task-event-output&#39;.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}], failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor\r\n```\r\n\r\nIs there a limitation that without consumer we cannot have producer? or am I missing something with this","title":"Dispatcher has no subscribers for channel","body":"<p>I am trying to create a Generic eventPublisher for my microservices.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.stream.annotation.EnableBinding;\nimport org.springframework.cloud.stream.messaging.Source;\nimport org.springframework.messaging.support.MessageBuilder;\n\n@EnableBinding(TaskEventStreams.class)\npublic class EventPublisher {\n\n    private final TaskEventStreams source;\n\n    @Autowired\n    public EventPublisher(TaskEventStreams source) {\n        this.source = source;\n    }\n\n    public void publishEvent(BaseEvent event) {\n        publishEvent(event, event.getTenant());\n    }\n\n    public void publishEvent(BaseEvent event, String key) {\n\n        source.taskEventOutput().send(\n                MessageBuilder\n                        .withPayload(event)\n                        .copyHeaders(event.getHeaders())\n                        .setHeader(&quot;partitionKey&quot;, key)\n                        .build());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.cloud.stream.annotation.Input;\nimport org.springframework.cloud.stream.annotation.Output;\nimport org.springframework.messaging.MessageChannel;\nimport org.springframework.messaging.SubscribableChannel;\n\npublic interface TaskEventStreams {\n    String TASK_EVENT_OUTPUT = &quot;task-event-output&quot;;\n\n    @Output(TASK_EVENT_OUTPUT)\n    MessageChannel taskEventOutput();\n}\n</code></pre>\n<p>Application properties</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    stream:\n      default-binder: kafka\n      kafka:\n        binder:\n          brokers: localhost:9092\n          auto-create-topics: true\n      bindings:\n        task-event-output:\n          destination: tasks\n          group: tasks\n          binder: kafka\n          contentType: application/json\n</code></pre>\n<p>This service will only publish the events. These events then later can be consumed by other services. But when I am trying to publish the event I am getting below exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class Main {\n\n    @Autowired\n    EventPublisher eventPublisher;\n    public static void main(String[] args) {\n\n        SpringApplication.run(Main.class, args);\n        System.out.println(&quot;Hello world!&quot;);\n    }\n\n    @PostConstruct\n    public void init() {\n        BaseEvent event = TaskCreatedEvent.builder().tenant(&quot;tenant&quot;).build();\n        eventPublisher.publishEvent(event);\n    }\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'main': Invocation of init method failed; nested exception is org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'task-event-output'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}], failedMessage=GenericMessage [payload=byte[255], headers={id=06b61f95-24d8-7f35-3e57-9ae262c2ca47, partitionKey=tenant, contentType=application/json, tenant=tenant, timestamp=1675063077441}]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor\n</code></pre>\n<p>Is there a limitation that without consumer we cannot have producer? or am I missing something with this</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675093946,"creation_date":1675093946,"answer_id":75286876,"question_id":75274879,"body_markdown":"Use an `ErrorHandlingDeserializer`; deserialization errors will be sent to the `CommonErrorHandler`. With the `DefaultErrorHandler` and `Ackmode.MANUAL_IMMEDIATE`, the error handler can be configured to ack recovered records.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\n```java\r\n/**\r\n * {@inheritDoc}\r\n * The container must be configured with\r\n * {@link org.springframework.kafka.listener.ContainerProperties.AckMode#MANUAL_IMMEDIATE}.\r\n * Whether or not the commit is sync or async depends on the container&#39;s syncCommits\r\n * property.\r\n * @param commitRecovered true to commit.\r\n */\r\n@Override\r\npublic void setCommitRecovered(boolean commitRecovered) { // NOSONAR enhanced javadoc\r\n\tsuper.setCommitRecovered(commitRecovered);\r\n}\r\n```\r\n\r\nThe `KafkaListenerErrorHandler` will never receive these errors.","title":"How to acknowledge poison pill in error handler","body":"<p>Use an <code>ErrorHandlingDeserializer</code>; deserialization errors will be sent to the <code>CommonErrorHandler</code>. With the <code>DefaultErrorHandler</code> and <code>Ackmode.MANUAL_IMMEDIATE</code>, the error handler can be configured to ack recovered records.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * {@inheritDoc}\n * The container must be configured with\n * {@link org.springframework.kafka.listener.ContainerProperties.AckMode#MANUAL_IMMEDIATE}.\n * Whether or not the commit is sync or async depends on the container's syncCommits\n * property.\n * @param commitRecovered true to commit.\n */\n@Override\npublic void setCommitRecovered(boolean commitRecovered) { // NOSONAR enhanced javadoc\n    super.setCommitRecovered(commitRecovered);\n}\n</code></pre>\n<p>The <code>KafkaListenerErrorHandler</code> will never receive these errors.</p>\n"}],"owner":{"account_id":3774672,"reputation":97,"user_id":3135811,"display_name":"subham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675093946,"creation_date":1674995227,"question_id":75274879,"body_markdown":"I have a requirement to process kafka messages in at-least-once fashion. Spring kafka supports async ack starting from 2.8 version. I am storing received offsets from kafka in a map and after message processing is done committing kafka offsets. This all working fine until i send any error event(poison pill). I am not able to commit bad record inside error handler and due to this kafka is not consuming any new records after encountering any bad/malformed record.\r\n\r\ncode for kafka listener factory:\r\n```\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, JsonNode&gt; kafkaConsumerFactory) {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; factory =\r\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(kafkaConsumerFactory);\r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n            factory.setErrorHandler(errorHandler());\r\n            factory.getContainerProperties().setAsyncAcks(true);\r\n            return factory;\r\n        }\r\n```\r\n\r\nError Handler Code:\r\n```\r\n  @Bean(&quot;errorHandler&quot;)\r\n    public ErrorHandler errorHandler() {\r\n        log.info(&quot;Creating error handler&quot;);\r\n        return (thrownException, records) -&gt; {\r\n            log.error(&quot;Inside error handler&quot;);\r\n        };\r\n    }\r\n```\r\n\r\nThis error handler does not have access to Acknowledgement object.\r\nI created `KafkaListenerErrorHandler` which has access to Acknowledgement object. but on error KafkaListenerErrorHandler is not getting called.\r\n\r\ncode:\r\n\r\n```\r\n  @Bean(&quot;kafkaListenErrorHandler&quot;)\r\n    public ManualAckListenerErrorHandler kafkaListenerErrorHandler() {\r\n        return (message, exception, consumer, ack) -&gt; {\r\n            log.info(&quot;Inside manual ack error handler &quot; + exception.getMessage());\r\n            exception.printStackTrace();\r\n            ack.acknowledge();\r\n            return null;\r\n        };\r\n    }\r\n```\r\n\r\nin kafka consumer\r\n\r\n```\r\n  @KafkaListener(\r\n            id=&quot;default_kafka_listener&quot;,\r\n            topics = &quot;topic&quot;,\r\n            groupId = &quot;groupId&quot;,\r\n            containerFactory = &quot;kafkaListener&quot;,\r\n            errorHandler = &quot;kafkaListenErrorHandler&quot;,\r\n            autoStartup = &quot;false&quot;)\r\n   public void consume(@Payload JsonNode message)\r\n```\r\n\r\nCurrent spring boot version 2.7.8\r\nspring-kafka version 2.9.5\r\n\r\nHow to acknowledge error messages in kafkaListenErrorHandler?\r\n","title":"How to acknowledge poison pill in error handler","body":"<p>I have a requirement to process kafka messages in at-least-once fashion. Spring kafka supports async ack starting from 2.8 version. I am storing received offsets from kafka in a map and after message processing is done committing kafka offsets. This all working fine until i send any error event(poison pill). I am not able to commit bad record inside error handler and due to this kafka is not consuming any new records after encountering any bad/malformed record.</p>\n<p>code for kafka listener factory:</p>\n<pre><code>    public ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, JsonNode&gt; kafkaConsumerFactory) {\n            ConcurrentKafkaListenerContainerFactory&lt;String, JsonNode&gt; factory =\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n            factory.setConsumerFactory(kafkaConsumerFactory);\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n            factory.setErrorHandler(errorHandler());\n            factory.getContainerProperties().setAsyncAcks(true);\n            return factory;\n        }\n</code></pre>\n<p>Error Handler Code:</p>\n<pre><code>  @Bean(&quot;errorHandler&quot;)\n    public ErrorHandler errorHandler() {\n        log.info(&quot;Creating error handler&quot;);\n        return (thrownException, records) -&gt; {\n            log.error(&quot;Inside error handler&quot;);\n        };\n    }\n</code></pre>\n<p>This error handler does not have access to Acknowledgement object.\nI created <code>KafkaListenerErrorHandler</code> which has access to Acknowledgement object. but on error KafkaListenerErrorHandler is not getting called.</p>\n<p>code:</p>\n<pre><code>  @Bean(&quot;kafkaListenErrorHandler&quot;)\n    public ManualAckListenerErrorHandler kafkaListenerErrorHandler() {\n        return (message, exception, consumer, ack) -&gt; {\n            log.info(&quot;Inside manual ack error handler &quot; + exception.getMessage());\n            exception.printStackTrace();\n            ack.acknowledge();\n            return null;\n        };\n    }\n</code></pre>\n<p>in kafka consumer</p>\n<pre><code>  @KafkaListener(\n            id=&quot;default_kafka_listener&quot;,\n            topics = &quot;topic&quot;,\n            groupId = &quot;groupId&quot;,\n            containerFactory = &quot;kafkaListener&quot;,\n            errorHandler = &quot;kafkaListenErrorHandler&quot;,\n            autoStartup = &quot;false&quot;)\n   public void consume(@Payload JsonNode message)\n</code></pre>\n<p>Current spring boot version 2.7.8\nspring-kafka version 2.9.5</p>\n<p>How to acknowledge error messages in kafkaListenErrorHandler?</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675099416,"post_id":75286825,"comment_id":132851221,"body_markdown":"**1)** There is nothing in the loop that changes the value of `userInput`. So, `while (userInput &gt; 0)` will either loop forever (when `userInput &gt; 0`) or never (when `userInput &lt;= 0`.  **2)** You might want `int userInput = scan.nextInt();` inside the loop.","body":"<b>1)</b> There is nothing in the loop that changes the value of <code>userInput</code>. So, <code>while (userInput &gt; 0)</code> will either loop forever (when <code>userInput &gt; 0</code>) or never (when <code>userInput &lt;= 0</code>.  <b>2)</b> You might want <code>int userInput = scan.nextInt();</code> inside the loop."}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675093891,"creation_date":1675093891,"answer_id":75286868,"question_id":75286825,"body_markdown":"Your loop condition is based on `userInput`, which doesn&#39;t change inside the loop.","title":"How do you use a while loop with user input?","body":"<p>Your loop condition is based on <code>userInput</code>, which doesn't change inside the loop.</p>\n"}],"owner":{"account_id":26476011,"reputation":1,"user_id":20115883,"display_name":"Beef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675093891,"creation_date":1675093686,"question_id":75286825,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Max {\r\n   \r\n   public int findMax() {\r\n      /* Type your code here. */\r\n      Scanner scan = new Scanner(System.in);\r\n      int userInput = scan.nextInt();\r\n      int largestInt = 0;\r\n      \r\n      while (userInput &gt; 0) {\r\n         if (userInput &gt; largestInt) {\r\n            largestInt = userInput;\r\n         }\r\n      }\r\n      return largestInt;\r\n   }\r\n   \r\n   public static void main(String[] args) {\r\n      Max test = new Max();\r\n      System.out.println(test.findMax());\r\n   }\r\n}\r\n```\r\n\r\nThis is being tested on Zybooks, and everything I have tried has resulted in the program timing out. I can&#39;t figure out why! I think my while loop is very logical, what am I missing?\r\n\r\n```\r\n1:Compare output\r\n0 / 1\r\nProgram timed out\r\nOutput differs. See highlights below.\r\nInput\r\n2 77 17 4 -1\r\nYour output\r\n\r\nExpected output\r\n77\r\n```\r\n\r\nIf userInput is greater than largestInt, assign userInt value to largestValue until userInt is negative, and return largestInt.","title":"How do you use a while loop with user input?","body":"<pre><code>import java.util.Scanner;\n\npublic class Max {\n   \n   public int findMax() {\n      /* Type your code here. */\n      Scanner scan = new Scanner(System.in);\n      int userInput = scan.nextInt();\n      int largestInt = 0;\n      \n      while (userInput &gt; 0) {\n         if (userInput &gt; largestInt) {\n            largestInt = userInput;\n         }\n      }\n      return largestInt;\n   }\n   \n   public static void main(String[] args) {\n      Max test = new Max();\n      System.out.println(test.findMax());\n   }\n}\n</code></pre>\n<p>This is being tested on Zybooks, and everything I have tried has resulted in the program timing out. I can't figure out why! I think my while loop is very logical, what am I missing?</p>\n<pre><code>1:Compare output\n0 / 1\nProgram timed out\nOutput differs. See highlights below.\nInput\n2 77 17 4 -1\nYour output\n\nExpected output\n77\n</code></pre>\n<p>If userInput is greater than largestInt, assign userInt value to largestValue until userInt is negative, and return largestInt.</p>\n"},{"tags":["java","windows","java-home"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1675071272,"post_id":75282294,"comment_id":132841772,"body_markdown":"The short answer is &quot;use a symbolic link&quot;.  See https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/.","body":"The short answer is &quot;use a symbolic link&quot;.  See <a href=\"https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/\" rel=\"nofollow noreferrer\">howtogeek.com/16226/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675093652,"creation_date":1675093652,"answer_id":75286817,"question_id":75282294,"body_markdown":"By default, (Oracle) Java installers for Windows put the installation in directory whose name matches the Java version and patch number; e.g.\r\n\r\n    C:\\Program Files\\Java\\jdk1.6.0_30\r\n\r\nThis allows you to have multiple different versions of Java installed.  That&#39;s a good thing because a lot of applications require a particular Java version.  And to that end, you probably want to use different Java versions for different applications.  \r\n\r\nHowever, if you want a default version that you can easily change without changing lots of classpath settings in lots of places, the obvious way to do it is to use a [symbolic link or symlink][1].  For example:\r\n\r\n  C: Program Files:\r\n      Java:\r\n          jdk1.6.0_30:\r\n              ...\r\n          jdk1.8.0_77:\r\n              ...\r\n          default -&gt; jdk1.8.0_77\r\n\r\nThen your use `C:\\Program Files\\Java\\default\\bin` in `%PATH%` and `C:\\Program Files\\Java\\default` in `%JAVA_HOME%`, and similarly change any `-cp` options in batch files, etc. \r\n\r\nOnce you have done all of that, you can switch to a different default Java version, by simply updating the target for the `default` symlink to a different installation directory. \r\n\r\nNote that Linux has a more sophisticated way of doing this using the `alternative` utilities.  But under the hood that is all done with symlinks.\r\n\r\n\r\n          \r\n\r\n\r\n  [1]: https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/","title":"JAVA_HOME path required to be updated after each update of JDK/JRE","body":"<p>By default, (Oracle) Java installers for Windows put the installation in directory whose name matches the Java version and patch number; e.g.</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0_30\n</code></pre>\n<p>This allows you to have multiple different versions of Java installed.  That's a good thing because a lot of applications require a particular Java version.  And to that end, you probably want to use different Java versions for different applications.</p>\n<p>However, if you want a default version that you can easily change without changing lots of classpath settings in lots of places, the obvious way to do it is to use a <a href=\"https://www.howtogeek.com/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/\" rel=\"nofollow noreferrer\">symbolic link or symlink</a>.  For example:</p>\n<p>C: Program Files:\nJava:\njdk1.6.0_30:\n...\njdk1.8.0_77:\n...\ndefault -&gt; jdk1.8.0_77</p>\n<p>Then your use <code>C:\\Program Files\\Java\\default\\bin</code> in <code>%PATH%</code> and <code>C:\\Program Files\\Java\\default</code> in <code>%JAVA_HOME%</code>, and similarly change any <code>-cp</code> options in batch files, etc.</p>\n<p>Once you have done all of that, you can switch to a different default Java version, by simply updating the target for the <code>default</code> symlink to a different installation directory.</p>\n<p>Note that Linux has a more sophisticated way of doing this using the <code>alternative</code> utilities.  But under the hood that is all done with symlinks.</p>\n"}],"owner":{"account_id":14899337,"reputation":11,"user_id":10758608,"display_name":"Darshan L S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675093652,"creation_date":1675070243,"question_id":75282294,"body_markdown":"In the windows environment variable the JAVA_HOME path needs to be updated after each time upgrading the JDK/JRE. Is there any solution for this to maintain the default path for JAVA_HOME irrespective of the version it gets upgraded?\r\nLet me know if anyone has any solution for this.\r\n\r\nwe tried of setting the new path while installing the JRE, even this path changes after upgrading the JRE.","title":"JAVA_HOME path required to be updated after each update of JDK/JRE","body":"<p>In the windows environment variable the JAVA_HOME path needs to be updated after each time upgrading the JDK/JRE. Is there any solution for this to maintain the default path for JAVA_HOME irrespective of the version it gets upgraded?\nLet me know if anyone has any solution for this.</p>\n<p>we tried of setting the new path while installing the JRE, even this path changes after upgrading the JRE.</p>\n"},{"tags":["java","amazon-web-services","hibernate","kotlin","elasticsearch"],"owner":{"account_id":5233824,"reputation":217,"user_id":4183141,"accept_rate":70,"display_name":"Sjenkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675093651,"creation_date":1675092068,"question_id":75286443,"body_markdown":"The past few weeks I&#39;ve been trying to solve this issue. The indexing works &quot;perfectly&quot; until it doesn&#39;t. It is often with large amounts of entities (10k+) that at around 70% of all entities it starts throwing `403` responses. \r\n\r\nThe Setup\r\n----------\r\n**The packages (gradle):** \r\n```gradle\r\nimplementation group: &#39;org.hibernate.search&#39;, name: &#39;hibernate-search-engine&#39;, version: &#39;6.1.7.Final&#39;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-mapper-orm&quot;, version: &quot;6.1.7.Final&quot;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-lucene&quot;, version: &quot;6.1.7.Final&quot;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch&quot;, version: &quot;6.1.7.Final&quot;\r\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch-aws&quot;, version: &quot;6.1.7.Final&quot;\r\n```\r\n\r\n**The hibernate config:** \r\n```kotlin\r\ncfg.setProperty(&quot;hibernate.search.backend.type&quot;, &quot;elasticsearch&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.aws.signing.enabled&quot;, &quot;true&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.aws.region&quot;,config.getProperty(&quot;AWS_REGION&quot;))\r\ncfg.setProperty(&quot;hibernate.search.backend.aws.credentials.type&quot;, &quot;static&quot;)\r\ncfg.setProperty(\r\n    &quot;hibernate.search.backend.aws.credentials.access_key_id&quot;,\r\n    config.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;)\r\n)\r\ncfg.setProperty(\r\n    &quot;hibernate.search.backend.aws.credentials.secret_access_key&quot;,\r\n    config.getProperty(&quot;AWS_SECRET_ACCESS_KEY&quot;)\r\n)\r\ncfg.setProperty(&quot;hibernate.search.backend.uris&quot;, config.getProperty(&quot;AWS_ES_HOSTS&quot;))\r\ncfg.setProperty(&quot;hibernate.search.backend.version_check.enabled&quot;, &quot;false&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.version&quot;,config.getProperty(&quot;AWS_ES_VERSION&quot;))\r\ncfg.setProperty(&quot;hibernate.search.schema_management.strategy&quot;, &quot;create&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.indexing.max_bulk_size&quot;, &quot;20&quot;)\r\ncfg.setProperty(&quot;hibernate.search.backend.indexing.queue_size&quot;, &quot;20&quot;)\r\n```\r\n\r\n***the code***: \r\n```kotlin\r\nCompletableFuture.runAsync {\r\n    Search.session(database.factory.openSession())\r\n        .massIndexer()\r\n        .idFetchSize(20)\r\n        .batchSizeToLoadObjects(10)\r\n        .dropAndCreateSchemaOnStart(false)\r\n        .purgeAllOnStart(false)\r\n        .startAndWait()\r\n}\r\n```\r\n\r\nThe output: \r\n-----------------\r\n\r\n**At first... it works fine:** \r\n```\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.74% [128.930679documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33458 entities in 259447 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.85% [128.958908 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33508 entities in 259708 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.97% [129.021820 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33558 entities in 260016 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.08% [129.061295 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33608 entities in 260383 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.19% [129.071411 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33658 entities in 260650 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.31% [129.131012 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33708 entities in 260961 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.42% [129.168732 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33758 entities in 261316 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.53% [129.184586 documents/second].\r\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33808 entities in 261771 ms.\r\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.65% [129.151047 documents/second].\r\n```\r\n\r\n**And then... it does not:** \r\n\r\n```\r\nERROR LogFailureHandler:36 - HSEARCH000058: Exception occurred org.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\nRequest: POST /_bulk with parameters {}\r\nResponse: 403 &#39;Forbidden&#39; from &#39;https://redacted.es.amazonaws.com&#39; with body\r\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\r\n}\r\nFailing operation:\r\n  Indexing instance of entity &#39;Entity&#39; during mass indexing\r\nEntities that could not be indexed correctly:\r\nEntity#ac4650e6-2008-4fd5-949f-8541569d6ba9\r\norg.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\nRequest: POST /_bulk with parameters {}\r\nResponse: 403 &#39;Forbidden&#39; from &#39;https://redacted.es.amazonaws.com&#39; with body\r\n{\r\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\r\n}\r\nat org.hibernate.search.backend.elasticsearch.orchestration.impl.ElasticsearchDefaultWorkSequenceBuilder$BulkedWorkExecutionState.onBulkWorkComplete(ElasticsearchDefaultWorkSequenceBuilder.java:239) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat org.hibernate.search.util.common.impl.Futures.lambda$handler$3(Futures.java:100) ~[hibernate-search-util-common-6.1.7.Final.jar:6.1.7.Final]\r\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\r\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\nat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2144) ~[?:?]\r\nat org.hibernate.search.backend.elasticsearch.client.impl.ElasticsearchClientImpl$1.onFailure(ElasticsearchClientImpl.java:127) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:672) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\r\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:408) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\r\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:392) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\r\nat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:122) ~[httpcore-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:182) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:448) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:338) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\nat java.lang.Thread.run(Thread.java:830) ~[?:?]\r\nCaused by: org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\r\nRequest: POST /_bulk with parameters {}\r\nResponse: 403 &#39;Forbidden&#39; from &#39;https://redacted.es.amazonaws.com&#39; with body\r\n{\r\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\r\n}\r\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.handleResult(AbstractNonBulkableWork.java:84) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.lambda$execute$3(AbstractNonBulkableWork.java:66) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\r\nat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642\r\n```\r\n\r\nI&#39;ve spit through all the documentation I could find, tried different parameters, offsets, fetchId sizes, etc. To no avail. The true differentiating factor I seem to not be able to dig through is that is first works (the entities are actually indexed and show up), but that it doesn&#39;t work after a while... (4-5minutes). Nothing is to be found about that. \r\n\r\nAny feedback, answers or questions are welcome. ","title":"Hibernate Search with AWS OpenSearch: 403 Forbidden after 10 minutes","body":"<p>The past few weeks I've been trying to solve this issue. The indexing works &quot;perfectly&quot; until it doesn't. It is often with large amounts of entities (10k+) that at around 70% of all entities it starts throwing <code>403</code> responses.</p>\n<h2>The Setup</h2>\n<p><strong>The packages (gradle):</strong></p>\n<pre><code>implementation group: 'org.hibernate.search', name: 'hibernate-search-engine', version: '6.1.7.Final'\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-mapper-orm&quot;, version: &quot;6.1.7.Final&quot;\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-lucene&quot;, version: &quot;6.1.7.Final&quot;\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch&quot;, version: &quot;6.1.7.Final&quot;\nimplementation group: &quot;org.hibernate.search&quot;, name: &quot;hibernate-search-backend-elasticsearch-aws&quot;, version: &quot;6.1.7.Final&quot;\n</code></pre>\n<p><strong>The hibernate config:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>cfg.setProperty(&quot;hibernate.search.backend.type&quot;, &quot;elasticsearch&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.aws.signing.enabled&quot;, &quot;true&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.aws.region&quot;,config.getProperty(&quot;AWS_REGION&quot;))\ncfg.setProperty(&quot;hibernate.search.backend.aws.credentials.type&quot;, &quot;static&quot;)\ncfg.setProperty(\n    &quot;hibernate.search.backend.aws.credentials.access_key_id&quot;,\n    config.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;)\n)\ncfg.setProperty(\n    &quot;hibernate.search.backend.aws.credentials.secret_access_key&quot;,\n    config.getProperty(&quot;AWS_SECRET_ACCESS_KEY&quot;)\n)\ncfg.setProperty(&quot;hibernate.search.backend.uris&quot;, config.getProperty(&quot;AWS_ES_HOSTS&quot;))\ncfg.setProperty(&quot;hibernate.search.backend.version_check.enabled&quot;, &quot;false&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.version&quot;,config.getProperty(&quot;AWS_ES_VERSION&quot;))\ncfg.setProperty(&quot;hibernate.search.schema_management.strategy&quot;, &quot;create&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.indexing.max_bulk_size&quot;, &quot;20&quot;)\ncfg.setProperty(&quot;hibernate.search.backend.indexing.queue_size&quot;, &quot;20&quot;)\n</code></pre>\n<p><em><strong>the code</strong></em>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>CompletableFuture.runAsync {\n    Search.session(database.factory.openSession())\n        .massIndexer()\n        .idFetchSize(20)\n        .batchSizeToLoadObjects(10)\n        .dropAndCreateSchemaOnStart(false)\n        .purgeAllOnStart(false)\n        .startAndWait()\n}\n</code></pre>\n<h2>The output:</h2>\n<p><strong>At first... it works fine:</strong></p>\n<pre><code>PojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.74% [128.930679documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33458 entities in 259447 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.85% [128.958908 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33508 entities in 259708 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 75.97% [129.021820 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33558 entities in 260016 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.08% [129.061295 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33608 entities in 260383 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.19% [129.071411 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33658 entities in 260650 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.31% [129.131012 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33708 entities in 260961 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.42% [129.168732 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33758 entities in 261316 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.53% [129.184586 documents/second].\nPojoMassIndexingLoggingMonitor:97 - HSEARCH000030: Mass indexing progress: indexed 33808 entities in 261771 ms.\nPojoMassIndexingLoggingMonitor:100 - HSEARCH000031: Mass indexing progress: 76.65% [129.151047 documents/second].\n</code></pre>\n<p><strong>And then... it does not:</strong></p>\n<pre><code>ERROR LogFailureHandler:36 - HSEARCH000058: Exception occurred org.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /_bulk with parameters {}\nResponse: 403 'Forbidden' from 'https://redacted.es.amazonaws.com' with body\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\n}\nFailing operation:\n  Indexing instance of entity 'Entity' during mass indexing\nEntities that could not be indexed correctly:\nEntity#ac4650e6-2008-4fd5-949f-8541569d6ba9\norg.hibernate.search.util.common.SearchException: HSEARCH400588: Call to the bulk REST API failed: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /_bulk with parameters {}\nResponse: 403 'Forbidden' from 'https://redacted.es.amazonaws.com' with body\n{\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\n}\nat org.hibernate.search.backend.elasticsearch.orchestration.impl.ElasticsearchDefaultWorkSequenceBuilder$BulkedWorkExecutionState.onBulkWorkComplete(ElasticsearchDefaultWorkSequenceBuilder.java:239) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.search.util.common.impl.Futures.lambda$handler$3(Futures.java:100) ~[hibernate-search-util-common-6.1.7.Final.jar:6.1.7.Final]\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\nat java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2144) ~[?:?]\nat org.hibernate.search.backend.elasticsearch.client.impl.ElasticsearchClientImpl$1.onFailure(ElasticsearchClientImpl.java:127) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:672) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:408) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\nat org.elasticsearch.client.RestClient$1.completed(RestClient.java:392) ~[elasticsearch-rest-client-7.17.4.jar:7.17.4]\nat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:122) ~[httpcore-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:182) ~[httpasyncclient-4.1.5.jar:4.1.5]\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:448) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:338) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\nat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\nat java.lang.Thread.run(Thread.java:830) ~[?:?]\nCaused by: org.hibernate.search.util.common.SearchException: HSEARCH400007: Elasticsearch request failed: HSEARCH400090: Elasticsearch response indicates a failure.\nRequest: POST /_bulk with parameters {}\nResponse: 403 'Forbidden' from 'https://redacted.es.amazonaws.com' with body\n{\n&quot;message&quot;: &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\\n\\nThe Canonical String for this request should have been&quot;\n}\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.handleResult(AbstractNonBulkableWork.java:84) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.search.backend.elasticsearch.work.impl.AbstractNonBulkableWork.lambda$execute$3(AbstractNonBulkableWork.java:66) ~[hibernate-search-backend-elasticsearch-6.1.7.Final.jar:6.1.7.Final]\nat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642\n</code></pre>\n<p>I've spit through all the documentation I could find, tried different parameters, offsets, fetchId sizes, etc. To no avail. The true differentiating factor I seem to not be able to dig through is that is first works (the entities are actually indexed and show up), but that it doesn't work after a while... (4-5minutes). Nothing is to be found about that.</p>\n<p>Any feedback, answers or questions are welcome.</p>\n"},{"tags":["java","android","kotlin","permissions","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675107358,"post_id":75286768,"comment_id":132853576,"body_markdown":"Please post your code in a code block so the lines persist. All is unreadable now.","body":"Please post your code in a code block so the lines persist. All is unreadable now."}],"owner":{"account_id":27601819,"reputation":47,"user_id":21066904,"display_name":"Chibako"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675093431,"creation_date":1675093431,"question_id":75286768,"body_markdown":"i want to create a Directory called &quot;test&quot; in Downlaods folder.\r\ni granted all permissions (Manage External Storage, Read/Write Permissions) and i am using this codes\r\n\r\n\r\n\r\n`if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    val baseDirectory = context.getExternalFilesDir(Constants.baseDirectory)\r\n                    if (!baseDirectory?.exists()!!) {\r\n                        baseDirectory.mkdir()\r\n                    }\r\n                } `\r\nbut my folder is not created (folder created in android/data )\r\ni also used this codes\r\n\r\nval downloadsDirectory =\r\n                        `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n                    val appDirectory = File(downloadsDirectory, Constants.baseDirectory)\r\n                    if (!appDirectory.exists()) {\r\n                        appDirectory.mkdir()\r\n                    }`\r\n\r\nand again my folder is not created, i dont care permissions i just need to create folder in Downloads","title":"How to Create a Directory in Downloads folder in Android API 30+?","body":"<p>i want to create a Directory called &quot;test&quot; in Downlaods folder.\ni granted all permissions (Manage External Storage, Read/Write Permissions) and i am using this codes</p>\n<p><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) { val baseDirectory = context.getExternalFilesDir(Constants.baseDirectory) if (!baseDirectory?.exists()!!) { baseDirectory.mkdir() } } </code>\nbut my folder is not created (folder created in android/data )\ni also used this codes</p>\n<p>val downloadsDirectory =\n<code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) val appDirectory = File(downloadsDirectory, Constants.baseDirectory) if (!appDirectory.exists()) { appDirectory.mkdir() }</code></p>\n<p>and again my folder is not created, i dont care permissions i just need to create folder in Downloads</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674118687,"creation_date":1674118687,"answer_id":75169770,"question_id":75167299,"body_markdown":"If you use the terminal for running command lines in the IDE, you can specify the JAVA_HOME variable from Settings | Tools | Terminal | Environment variables configuration.\r\n\r\nIf you run Maven goals/Gradle tasks from the build tool window, you can specify which JRE to use from Settings | Build, Execution, Deployment | Build Tools | Maven | Runner for Maven, and Settings | Build, Execution, Deployment | Build Tools | Gradle | Gradle JVM for Gradle.","title":"Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version","body":"<p>If you use the terminal for running command lines in the IDE, you can specify the JAVA_HOME variable from Settings | Tools | Terminal | Environment variables configuration.</p>\n<p>If you run Maven goals/Gradle tasks from the build tool window, you can specify which JRE to use from Settings | Build, Execution, Deployment | Build Tools | Maven | Runner for Maven, and Settings | Build, Execution, Deployment | Build Tools | Gradle | Gradle JVM for Gradle.</p>\n"},{"tags":[],"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675092980,"creation_date":1675092980,"answer_id":75286660,"question_id":75167299,"body_markdown":"Found another solution after a few days, this question was raised.\r\n\r\nIf you are working with IntelliJ IDEA. There is a solution, If you are working in multiple projects and the java versions of those projects are different, you can easily switch the java version of the intellij idea terminal without changing the windows system variable paths.\r\n\r\nI am using IntelliJ IDEA 2022.3.1 (Community Edition)\r\n\r\n 1. Go to File -&gt; Settings\r\n 2. In the pop-up window&#39;s left side panel, Got to Tools -&gt; Terminal\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n 3. Click on the right-side icon of the Environment variables field. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DNkM3.jpg\r\n  [2]: https://i.stack.imgur.com/s6ZtF.jpg\r\n\r\n 4. Set Java_Home as &lt;Your Java folder path - without bin&gt;\r\n\r\nNote: In the attached screenshots rather than java it is mentioned as corretto for the Environment variables and the JAVA_HOME path. Folks who have no idea about corretto and java, please consider they are same.","title":"Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version","body":"<p>Found another solution after a few days, this question was raised.</p>\n<p>If you are working with IntelliJ IDEA. There is a solution, If you are working in multiple projects and the java versions of those projects are different, you can easily switch the java version of the intellij idea terminal without changing the windows system variable paths.</p>\n<p>I am using IntelliJ IDEA 2022.3.1 (Community Edition)</p>\n<ol>\n<li>Go to File -&gt; Settings</li>\n<li>In the pop-up window's left side panel, Got to Tools -&gt; Terminal</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/DNkM3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNkM3.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Click on the right-side icon of the Environment variables field.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/s6ZtF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6ZtF.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Set Java_Home as &lt;Your Java folder path - without bin&gt;</li>\n</ol>\n<p>Note: In the attached screenshots rather than java it is mentioned as corretto for the Environment variables and the JAVA_HOME path. Folks who have no idea about corretto and java, please consider they are same.</p>\n"}],"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675092980,"creation_date":1674096481,"question_id":75167299,"body_markdown":"Normally I have to work with multiple java versions for multiple projects. Therefore what I normally do is change the java path for the particular version from the environment variables.\r\n\r\nWhile I am using the IntelliJ idea, sometimes even though I changed the java path in environment variables IntelliJ idea terminal is showing the wrong jvm version when **./gradlew -version** or **mvn -version** commands are executed.\r\nBut real PowerShell, command prompt or git bash is showing the correct jvm version when executing the above commands.\r\n\r\nI double checked in the IntelliJ idea \r\n\r\n1. Flie -&gt; Project Structure\r\n2. File -&gt; Settings\r\n&lt;sub&gt;Buidl, Execution, Deployment -&gt; Gradle -&gt; all the options and &lt;/sub&gt;\r\n&lt;sub&gt;Tools -&gt; Terminal -&gt; in Environment Variables, correct java path is set&lt;/sub&gt;\r\n3. Project Configurations\r\n\r\nAll above are set as they should be with the correct java version and path.","title":"Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version","body":"<p>Normally I have to work with multiple java versions for multiple projects. Therefore what I normally do is change the java path for the particular version from the environment variables.</p>\n<p>While I am using the IntelliJ idea, sometimes even though I changed the java path in environment variables IntelliJ idea terminal is showing the wrong jvm version when <strong>./gradlew -version</strong> or <strong>mvn -version</strong> commands are executed.\nBut real PowerShell, command prompt or git bash is showing the correct jvm version when executing the above commands.</p>\n<p>I double checked in the IntelliJ idea</p>\n<ol>\n<li>Flie -&gt; Project Structure</li>\n<li>File -&gt; Settings\n<sub>Buidl, Execution, Deployment -&gt; Gradle -&gt; all the options and </sub>\n<sub>Tools -&gt; Terminal -&gt; in Environment Variables, correct java path is set</sub></li>\n<li>Project Configurations</li>\n</ol>\n<p>All above are set as they should be with the correct java version and path.</p>\n"},{"tags":["java","redis","locking","redisson","unlock"],"owner":{"account_id":4642475,"reputation":816,"user_id":4283034,"accept_rate":75,"display_name":"karfai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675092914,"creation_date":1675092914,"question_id":75286644,"body_markdown":"As title, may I know do the waitForUnlock method exist Redisson? I search though internet and check the method one by one seem no method suit my use case. Below is the code how I make it. Do we have better option or I miss out something? Thanks.\r\n\r\n```\r\npublic void methodA() {\r\n    RLock lock = redisson.getLock(&quot;myLock&quot;);\r\n    lock.lock(10, TimeUnit.SECONDS);\r\n    // action\r\n    lock.unlock();\r\n}\r\n\r\npublic void methodB() {\r\n    waitForUnlock();\r\n}\r\n\r\npublic void waitForUnlock() {\r\n    RLock lock = redisson.getLock(&quot;myLock&quot;);\r\n    while(lock.isLock()) {}  // wait for unlock without create lock\r\n    // action;\r\n}\r\n\r\n```","title":"Redisson where is the waitForUnlock method?","body":"<p>As title, may I know do the waitForUnlock method exist Redisson? I search though internet and check the method one by one seem no method suit my use case. Below is the code how I make it. Do we have better option or I miss out something? Thanks.</p>\n<pre><code>public void methodA() {\n    RLock lock = redisson.getLock(&quot;myLock&quot;);\n    lock.lock(10, TimeUnit.SECONDS);\n    // action\n    lock.unlock();\n}\n\npublic void methodB() {\n    waitForUnlock();\n}\n\npublic void waitForUnlock() {\n    RLock lock = redisson.getLock(&quot;myLock&quot;);\n    while(lock.isLock()) {}  // wait for unlock without create lock\n    // action;\n}\n\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1675076374,"post_id":75281501,"comment_id":132843372,"body_markdown":"check the usage of cascade = CascadeType.DELETE.","body":"check the usage of cascade = CascadeType.DELETE."}],"answers":[{"tags":[],"owner":{"account_id":27163815,"reputation":9,"user_id":20701613,"display_name":"kesav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675065577,"creation_date":1675065577,"answer_id":75281551,"question_id":75281501,"body_markdown":"For that you need to delete all foreign keys with used by primary key\r\n\r\nor by using **cascade**\r\n\r\nAfter that use below\r\n\r\nIn JPA we can use **deleteById**\r\n\r\nor **by named query**\r\n\r\nDELETE FROM EMPLOYEE WHERE ID = ?1\r\n\r\nor **my native query**\r\n\r\ndelete from employee where id = ?1","title":"How to properly delete a record from a database in one query? JPA","body":"<p>For that you need to delete all foreign keys with used by primary key</p>\n<p>or by using <strong>cascade</strong></p>\n<p>After that use below</p>\n<p>In JPA we can use <strong>deleteById</strong></p>\n<p>or <strong>by named query</strong></p>\n<p>DELETE FROM EMPLOYEE WHERE ID = ?1</p>\n<p>or <strong>my native query</strong></p>\n<p>delete from employee where id = ?1</p>\n"},{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675092667,"creation_date":1675065584,"answer_id":75281553,"question_id":75281501,"body_markdown":"First, are you sure the direction of the relation makes sense? I would have expected it to be the other way around, because the user ID and name seem to be the more basic info that you need more often.\r\n\r\nSecond, what you&#39;re doing seems like an attempt to optimize performance, because you could just as well store all the data in a single entity. Are you sure the optimization pays off? (I would guess not.) See [Premature Optimization][1].\r\n\r\nThird, _if_ the relation was the other way around, you could modify the annotation to `@OneToOne(cascade=CascadeType.DELETE)` or `@OneToOne(cascade=CascadeType.ALL)` to let JPA automatically delete the other entity when the first is deleted.\r\n\r\n\r\n  [1]: http://wiki.c2.com/?PrematureOptimization","title":"How to properly delete a record from a database in one query? JPA","body":"<p>First, are you sure the direction of the relation makes sense? I would have expected it to be the other way around, because the user ID and name seem to be the more basic info that you need more often.</p>\n<p>Second, what you're doing seems like an attempt to optimize performance, because you could just as well store all the data in a single entity. Are you sure the optimization pays off? (I would guess not.) See <a href=\"http://wiki.c2.com/?PrematureOptimization\" rel=\"nofollow noreferrer\">Premature Optimization</a>.</p>\n<p>Third, <em>if</em> the relation was the other way around, you could modify the annotation to <code>@OneToOne(cascade=CascadeType.DELETE)</code> or <code>@OneToOne(cascade=CascadeType.ALL)</code> to let JPA automatically delete the other entity when the first is deleted.</p>\n"}],"owner":{"account_id":23193397,"reputation":53,"user_id":17289413,"display_name":"eva_mila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75281553,"answer_count":2,"score":1,"last_activity_date":1675092667,"creation_date":1675065207,"question_id":75281501,"body_markdown":"How to properly delete a record from a database in one query. For example, when an entity uses the primary key of the parent entity using the @MapsId annotation, if the parent entry is deleted, it will swear that the parent&#39;s id is used in the child entity.\r\n\r\nCode example :\r\n\r\n    @Entity\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private long id;\r\n        private String name;\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    public class UserDetails {\r\n        @Id\r\n        private long id;\r\n        private String phone;\r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @MapsId\r\n        private User user;\r\n    }\r\n\r\nHere, when deleting a User using the JpaRepository delete method, an error will occur that the UserDetail uses the primary key User\r\n","title":"How to properly delete a record from a database in one query? JPA","body":"<p>How to properly delete a record from a database in one query. For example, when an entity uses the primary key of the parent entity using the @MapsId annotation, if the parent entry is deleted, it will swear that the parent's id is used in the child entity.</p>\n<p>Code example :</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n    private String name;\n}\n\n\n@Entity\npublic class UserDetails {\n    @Id\n    private long id;\n    private String phone;\n    @OneToOne(fetch = FetchType.LAZY)\n    @MapsId\n    private User user;\n}\n</code></pre>\n<p>Here, when deleting a User using the JpaRepository delete method, an error will occur that the UserDetail uses the primary key User</p>\n"},{"tags":["java","maven","intellij-idea","java-11"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1550250586,"post_id":54711414,"comment_id":96213711,"body_markdown":"Try version from https://www.jetbrains.com/idea/download - the compatible Maven version was updated there to 3.6+.","body":"Try version from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> - the compatible Maven version was updated there to 3.6+."}],"answers":[{"tags":[],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675092557,"creation_date":1550492338,"answer_id":54747153,"question_id":54711414,"body_markdown":"Upgrading to IntelliJ Version 2018.3.4 fixed this issue. \r\nYou could also try to delete `.gradle` folder as suggested by @Ninja","title":"Error &#39;zip END header not found&#39; in intellij maven while updating from Java 8 to OpenJdk 11.0.2","body":"<p>Upgrading to IntelliJ Version 2018.3.4 fixed this issue.\nYou could also try to delete <code>.gradle</code> folder as suggested by @Ninja</p>\n"},{"tags":[],"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611409890,"creation_date":1611409890,"answer_id":65859963,"question_id":54711414,"body_markdown":"I meet this error when build with gradlew, after remove the cache of gradle it works.\r\n\r\nSolution in gradle wrapper build \r\n\r\n    rm ~/.gradle/*\r\n\r\nIf you use maven, maybe remove every thing in local maven wrapper will do the same thing.","title":"Error &#39;zip END header not found&#39; in intellij maven while updating from Java 8 to OpenJdk 11.0.2","body":"<p>I meet this error when build with gradlew, after remove the cache of gradle it works.</p>\n<p>Solution in gradle wrapper build</p>\n<pre><code>rm ~/.gradle/*\n</code></pre>\n<p>If you use maven, maybe remove every thing in local maven wrapper will do the same thing.</p>\n"},{"tags":[],"owner":{"account_id":18535418,"reputation":1,"user_id":13505212,"display_name":"Deni Gunawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675055959,"creation_date":1675055959,"answer_id":75280503,"question_id":54711414,"body_markdown":"if you used intellij idea for create some code, maybe your forgot to enable gradle, when i am facing same error . i just enable gradle on my intellij idea and then my error is resolving. \r\n\r\nyou just choose **preferences -&gt; plugins -&gt; enable gradle if there is not enable**\r\n\r\nhope this solution can help you. ","title":"Error &#39;zip END header not found&#39; in intellij maven while updating from Java 8 to OpenJdk 11.0.2","body":"<p>if you used intellij idea for create some code, maybe your forgot to enable gradle, when i am facing same error . i just enable gradle on my intellij idea and then my error is resolving.</p>\n<p>you just choose <strong>preferences -&gt; plugins -&gt; enable gradle if there is not enable</strong></p>\n<p>hope this solution can help you.</p>\n"}],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15724,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54747153,"answer_count":3,"score":5,"last_activity_date":1675092557,"creation_date":1550240929,"question_id":54711414,"body_markdown":"I am trying to update from java 8 to OpenJdk 11. When I do mvn install from terminal, build works fine. But fails from (mac) intelliJ mvn install\r\n\r\nBelow is the startup command\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/openjdk-11.0.2.jdk/Contents/Home/bin/java -Dmaven.multiModuleProjectDirectory=/Users/myhome/Documents/WORKSPACES/something/develop &quot;-Dmaven.home=/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3&quot; &quot;-Dclassworlds.conf=/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/bin/m2.conf&quot; -Didea.launcher.port=53262 &quot;-Didea.launcher.bin.path=/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/boot/plexus-classworlds-2.5.2.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar&quot; com.intellij.rt.execution.application.AppMainV2 org.codehaus.classworlds.Launcher -Didea.version=2018.2.6 -s /Users/myhome/Documents/config/maven/apache-maven-3.6.0/conf/settings.xml -Dmaven.repo.local=/Users/myhome/Documents/config/maven/repo install\r\n\r\nBelow is a sample error line\r\n\r\n&gt; [ERROR]\r\n&gt; /Users/myhome/Documents/WORKSPACES/something/SomeClass.java:[7,33]\r\n&gt; cannot access org.springframework.kafka.support \r\n&gt; \r\n&gt; [ERROR] zip END header not found\r\n\r\nAny tip to fix it ?\r\n(Already updated SDKs in platform settings to OpenJdk11, Maven&gt;Runner is using OpenJdk11, Java Compiler updated to 11.\r\n\r\n[![MavenRunner[![\\]\\[1\\]][1]][1]][2]\r\n\r\n\r\n[![Jdk][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CEfZO.png\r\n  [2]: https://i.stack.imgur.com/8qf8c.png\r\n  [3]: https://i.stack.imgur.com/ckdJb.png","title":"Error &#39;zip END header not found&#39; in intellij maven while updating from Java 8 to OpenJdk 11.0.2","body":"<p>I am trying to update from java 8 to OpenJdk 11. When I do mvn install from terminal, build works fine. But fails from (mac) intelliJ mvn install</p>\n\n<p>Below is the startup command</p>\n\n<blockquote>\n  <p>/Library/Java/JavaVirtualMachines/openjdk-11.0.2.jdk/Contents/Home/bin/java -Dmaven.multiModuleProjectDirectory=/Users/myhome/Documents/WORKSPACES/something/develop \"-Dmaven.home=/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3\" \"-Dclassworlds.conf=/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/bin/m2.conf\" -Didea.launcher.port=53262 \"-Didea.launcher.bin.path=/Applications/IntelliJ IDEA.app/Contents/bin\" -Dfile.encoding=UTF-8 -classpath \"/Applications/IntelliJ IDEA.app/Contents/plugins/maven/lib/maven3/boot/plexus-classworlds-2.5.2.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar\" com.intellij.rt.execution.application.AppMainV2 org.codehaus.classworlds.Launcher -Didea.version=2018.2.6 -s /Users/myhome/Documents/config/maven/apache-maven-3.6.0/conf/settings.xml -Dmaven.repo.local=/Users/myhome/Documents/config/maven/repo install</p>\n</blockquote>\n\n<p>Below is a sample error line</p>\n\n<blockquote>\n  <p>[ERROR]\n  /Users/myhome/Documents/WORKSPACES/something/SomeClass.java:[7,33]\n  cannot access org.springframework.kafka.support </p>\n  \n  <p>[ERROR] zip END header not found</p>\n</blockquote>\n\n<p>Any tip to fix it ?\n(Already updated SDKs in platform settings to OpenJdk11, Maven>Runner is using OpenJdk11, Java Compiler updated to 11.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CEfZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CEfZO.png\" alt=\"MavenRunner[![][1]\"></a>]<a href=\"https://i.stack.imgur.com/8qf8c.png\" rel=\"nofollow noreferrer\">2</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ckdJb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckdJb.png\" alt=\"Jdk\"></a></p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","xpath-1.0"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675092507,"creation_date":1675091690,"answer_id":75286367,"question_id":75286187,"body_markdown":"Child XPath need to be a **relative** XPath. Normally this means the XPath expression is started with a dot `.` to make this XPath **relative** to the node it applied on. I.e. to be relative to the parent node. Otherwise Selenium will search for the given `xpath` (the parameter you passing to this method) starting from the top of the entire page.  \r\nSo, if for example, the passed `xpath` is `&quot;//span[@id=&#39;myId&#39;]&quot;` it should be `&quot;.//span[@id=&#39;myId&#39;]&quot;`.  \r\nAlternatevely you can add this dot `.` inside the `parent.findElement(By.xpath(xpath));` line to make it \r\n```java\r\nWebElement child = parent.findElement(By.xpath(&quot;.&quot; + xpath));\r\n```\r\nBut passing the `xpath` with the dot is more simple and clean way. Especially if the passed `xpath` is come complex expression like `&quot;(//div[@class=&#39;myClass&#39;])[5]//input&quot;` - in this case automatically adding a dot before this expression may not work properly.","title":"Find child element by xpath","body":"<p>Child XPath need to be a <strong>relative</strong> XPath. Normally this means the XPath expression is started with a dot <code>.</code> to make this XPath <strong>relative</strong> to the node it applied on. I.e. to be relative to the parent node. Otherwise Selenium will search for the given <code>xpath</code> (the parameter you passing to this method) starting from the top of the entire page.<br />\nSo, if for example, the passed <code>xpath</code> is <code>&quot;//span[@id='myId']&quot;</code> it should be <code>&quot;.//span[@id='myId']&quot;</code>.<br />\nAlternatevely you can add this dot <code>.</code> inside the <code>parent.findElement(By.xpath(xpath));</code> line to make it</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement child = parent.findElement(By.xpath(&quot;.&quot; + xpath));\n</code></pre>\n<p>But passing the <code>xpath</code> with the dot is more simple and clean way. Especially if the passed <code>xpath</code> is come complex expression like <code>&quot;(//div[@class='myClass'])[5]//input&quot;</code> - in this case automatically adding a dot before this expression may not work properly.</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75286367,"answer_count":1,"score":1,"last_activity_date":1675092507,"creation_date":1675090820,"question_id":75286187,"body_markdown":"    public WebElement findChildByXpath(WebElement parent, String xpath) {\r\n        loggingService.timeMark(&quot;findChildByXpath&quot;, &quot;begin. Xpath: &quot; + xpath);\r\n\r\n        String parentInnerHtml = parent.getAttribute(&quot;innerHTML&quot;); // Uncomment for debug purpose.\r\n\r\n        WebElement child = parent.findElement(By.xpath(xpath));\r\n\r\n        String childInnerHtml = child.getAttribute(&quot;innerHTML&quot;); // Uncomment for debug purpose.\r\n\r\n        return child;\r\n    }\r\n\r\nThe problem with this code is that childInnerHtml gives me wrong result. I scrape numbers and they are equal.\r\n\r\nI even suppose that my code is equal to **driver.findElement(By.xpath**.\r\n\r\nCould you tell me whether my comment really finds a child or what to correct?","title":"Find child element by xpath","body":"<pre><code>public WebElement findChildByXpath(WebElement parent, String xpath) {\n    loggingService.timeMark(&quot;findChildByXpath&quot;, &quot;begin. Xpath: &quot; + xpath);\n\n    String parentInnerHtml = parent.getAttribute(&quot;innerHTML&quot;); // Uncomment for debug purpose.\n\n    WebElement child = parent.findElement(By.xpath(xpath));\n\n    String childInnerHtml = child.getAttribute(&quot;innerHTML&quot;); // Uncomment for debug purpose.\n\n    return child;\n}\n</code></pre>\n<p>The problem with this code is that childInnerHtml gives me wrong result. I scrape numbers and they are equal.</p>\n<p>I even suppose that my code is equal to <strong>driver.findElement(By.xpath</strong>.</p>\n<p>Could you tell me whether my comment really finds a child or what to correct?</p>\n"},{"tags":["java","websocket","socket.io","long-polling","fallback"],"answers":[{"tags":[],"owner":{"account_id":1034209,"reputation":735,"user_id":1041921,"display_name":"arnold"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1675092397,"creation_date":1443717603,"answer_id":32892676,"question_id":32891438,"body_markdown":"Socket.io is one of several implementations for the websockets protocol and its main selling point (IMO) is its ease of use: you don&#39;t need to code keep-alive mechanisms or decide which transport is best, it does it for you.\r\n\r\nSo, to make it clear, socket.io doesn&#39;t replace the websocket protocol, it&#39;s a package that implements it for you.\r\n\r\nYou mentioned long-polling. That is one of the transports used by socket.io. Long Polling is HTTP based and it&#39;s basically request --&gt; wait --&gt; response and the wait isn&#39;t very long, as it can be dropped by load balancers on EOF or stale connections. Nevertheless, it&#39;s still useful when the websockets protocol (TCP based) isn&#39;t available and socket.io automatically re-establishes the connection for you. Notice that websockets is a relatively new protocol, ratified in 2011, so older browsers don&#39;t support it. Well, socket.io detects that and then resorts to long polling, so you don&#39;t have to &quot;worry&quot; about it.\r\n\r\nA websocket connection starts with HTTP, listening on the same port. For example, http://localhost:8080 (just a silly example). Then, when it&#39;s possible, socket.io switches to ws://localhost:8080 for you. \r\n\r\nI never had problems with network topology challenges when using socket.io, as when the HTTP port is available and using long polling / websockets is possible, it just worked for me.\r\n\r\nOne of the libraries with fallback implementation, as you mentioned, is netty-socket.io. Notice how it configures the two transports:\r\n\r\n    public class Configuration {\r\n    \r\n        private ExceptionListener exceptionListener = new DefaultExceptionListener();\r\n    \r\n        private String context = &quot;/socket.io&quot;;\r\n    \r\n        private List&lt;Transport&gt; transports = Arrays.asList(Transport.WEBSOCKET, Transport.POLLING);\r\n    \r\n        private int bossThreads = 0; // 0 = current_processors_amount * 2\r\n        private int workerThreads = 0; // 0 = current_processors_amount * 2\r\n\r\nThe complete code can be found [here][1].\r\n\r\nNode JS has also libraries for websockets, and I mention it here just to clarify that long polling and websockets aren&#39;t the only two available transports (might be the only ones in Java): \r\n\r\n    io.set(&#39;transports&#39;, [                     // enable all transports (optional if you want flashsocket)\r\n                &#39;websocket&#39;\r\n              , &#39;flashsocket&#39;\r\n              , &#39;htmlfile&#39;\r\n              , &#39;xhr-polling&#39;\r\n              , &#39;jsonp-polling&#39;\r\n            ]);\r\n\r\nIn a nutshell, socket.io attempts to make things as easy as possible for you, including not having to worry about what transports to use, as it&#39;s done under the hood for you, yet still configurable if you want.\r\n\r\nI hope this brief explanation helps you!\r\n\r\n\r\n\r\n  [1]: https://github.com/mrniko/netty-socketio/blob/master/src/main/java/com/corundumstudio/socketio/Configuration.java &quot;here&quot;","title":"How does fallback work with socket.io?","body":"<p>Socket.io is one of several implementations for the websockets protocol and its main selling point (IMO) is its ease of use: you don't need to code keep-alive mechanisms or decide which transport is best, it does it for you.</p>\n<p>So, to make it clear, socket.io doesn't replace the websocket protocol, it's a package that implements it for you.</p>\n<p>You mentioned long-polling. That is one of the transports used by socket.io. Long Polling is HTTP based and it's basically request --&gt; wait --&gt; response and the wait isn't very long, as it can be dropped by load balancers on EOF or stale connections. Nevertheless, it's still useful when the websockets protocol (TCP based) isn't available and socket.io automatically re-establishes the connection for you. Notice that websockets is a relatively new protocol, ratified in 2011, so older browsers don't support it. Well, socket.io detects that and then resorts to long polling, so you don't have to &quot;worry&quot; about it.</p>\n<p>A websocket connection starts with HTTP, listening on the same port. For example, http://localhost:8080 (just a silly example). Then, when it's possible, socket.io switches to ws://localhost:8080 for you.</p>\n<p>I never had problems with network topology challenges when using socket.io, as when the HTTP port is available and using long polling / websockets is possible, it just worked for me.</p>\n<p>One of the libraries with fallback implementation, as you mentioned, is netty-socket.io. Notice how it configures the two transports:</p>\n<pre><code>public class Configuration {\n\n    private ExceptionListener exceptionListener = new DefaultExceptionListener();\n\n    private String context = &quot;/socket.io&quot;;\n\n    private List&lt;Transport&gt; transports = Arrays.asList(Transport.WEBSOCKET, Transport.POLLING);\n\n    private int bossThreads = 0; // 0 = current_processors_amount * 2\n    private int workerThreads = 0; // 0 = current_processors_amount * 2\n</code></pre>\n<p>The complete code can be found <a href=\"https://github.com/mrniko/netty-socketio/blob/master/src/main/java/com/corundumstudio/socketio/Configuration.java\" rel=\"nofollow noreferrer\" title=\"here\">here</a>.</p>\n<p>Node JS has also libraries for websockets, and I mention it here just to clarify that long polling and websockets aren't the only two available transports (might be the only ones in Java):</p>\n<pre><code>io.set('transports', [                     // enable all transports (optional if you want flashsocket)\n            'websocket'\n          , 'flashsocket'\n          , 'htmlfile'\n          , 'xhr-polling'\n          , 'jsonp-polling'\n        ]);\n</code></pre>\n<p>In a nutshell, socket.io attempts to make things as easy as possible for you, including not having to worry about what transports to use, as it's done under the hood for you, yet still configurable if you want.</p>\n<p>I hope this brief explanation helps you!</p>\n"}],"owner":{"account_id":2821352,"reputation":1940,"user_id":2425044,"accept_rate":70,"display_name":"Gr&#233;goire Borel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15381,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":32892676,"answer_count":1,"score":13,"last_activity_date":1675092397,"creation_date":1443713434,"question_id":32891438,"body_markdown":"I&#39;d like to use `WebSocket` with `Java`. Problem is, my server is separated from the client by a proxy that cannot be configured. I&#39;ve been searching for implementations of `WebSocket` with fallbacks such as `long-polling`. I&#39;ve found `socket.io` but don&#39;t know how the fallback works. \r\n\r\nUnder which case does it replace `WebSocket` and how?\r\n\r\nAre there other libraries like socket.io with fallbacks implementations? I would like to find one in `Java`, but I only found `Jetty`.\r\n\r\n**EDIT:** does the fallback only depend on the browser&#39;s compatibility with WebSocket? What if the cause of failure is a proxy badly configured, is socket.io going to detect it as a compatibilty failure and thus switch to long-polling (or another technique)?\r\n\r\n**Answer:** since v1, socket.io includes [engine.io][1], which brings the following features:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/socketio/engine.io\r\n  [2]: http://i.stack.imgur.com/JR5vK.png","title":"How does fallback work with socket.io?","body":"<p>I'd like to use <code>WebSocket</code> with <code>Java</code>. Problem is, my server is separated from the client by a proxy that cannot be configured. I've been searching for implementations of <code>WebSocket</code> with fallbacks such as <code>long-polling</code>. I've found <code>socket.io</code> but don't know how the fallback works. </p>\n\n<p>Under which case does it replace <code>WebSocket</code> and how?</p>\n\n<p>Are there other libraries like socket.io with fallbacks implementations? I would like to find one in <code>Java</code>, but I only found <code>Jetty</code>.</p>\n\n<p><strong>EDIT:</strong> does the fallback only depend on the browser's compatibility with WebSocket? What if the cause of failure is a proxy badly configured, is socket.io going to detect it as a compatibilty failure and thus switch to long-polling (or another technique)?</p>\n\n<p><strong>Answer:</strong> since v1, socket.io includes <a href=\"https://github.com/socketio/engine.io\" rel=\"noreferrer\">engine.io</a>, which brings the following features:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JR5vK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JR5vK.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675091977,"post_id":75235513,"comment_id":132848590,"body_markdown":"If you try to log the value of `itemSnapshot.getKey()`, are you getting the expected value?","body":"If you try to log the value of <code>itemSnapshot.getKey()</code>, are you getting the expected value?"}],"owner":{"account_id":27619183,"reputation":1,"user_id":21080655,"display_name":"namdo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675092307,"creation_date":1674657342,"question_id":75235513,"body_markdown":"I want to get the key which is the color blue in the picture \r\n\r\n![enter image description here](https://i.stack.imgur.com/eA76I.png)\r\n\r\nI want to get and show it to the snapshot but it did not show. Please help\r\n\r\nThis is my code:\r\n\r\n```\r\nreference = FirebaseDatabase.getInstance().getReference(&quot;Cashier&quot;);\r\n\r\n        eventListener = reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                dataList.clear();\r\n                for (DataSnapshot itemSnapshot: snapshot.getChildren()){\r\n                    UserDataClass userDataClass = itemSnapshot.getValue(UserDataClass.class);\r\n                    userDataClass.setKey(itemSnapshot.getKey());\r\n                    dataList.add(userDataClass);\r\n                }`\r\n\r\n","title":"How do I get the data that I have pushed in the Firebase?","body":"<p>I want to get the key which is the color blue in the picture</p>\n<p><img src=\"https://i.stack.imgur.com/eA76I.png\" alt=\"enter image description here\" /></p>\n<p>I want to get and show it to the snapshot but it did not show. Please help</p>\n<p>This is my code:</p>\n<pre><code>reference = FirebaseDatabase.getInstance().getReference(&quot;Cashier&quot;);\n\n        eventListener = reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                dataList.clear();\n                for (DataSnapshot itemSnapshot: snapshot.getChildren()){\n                    UserDataClass userDataClass = itemSnapshot.getValue(UserDataClass.class);\n                    userDataClass.setKey(itemSnapshot.getKey());\n                    dataList.add(userDataClass);\n                }`\n\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","sonarqube"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1675093949,"post_id":75286451,"comment_id":132849242,"body_markdown":"I don&#39;t see any argument matchers in your code","body":"I don&#39;t see any argument matchers in your code"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156820,"post_id":75286451,"comment_id":132862905,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1675192741,"post_id":75286451,"comment_id":132874726,"body_markdown":"Clearly, the error refers to code you haven&#39;t shown here. That error is from Mockito.  Perhaps you have a setup method in this test class that is doing some stubbing?","body":"Clearly, the error refers to code you haven&#39;t shown here. That error is from Mockito.  Perhaps you have a setup method in this test class that is doing some stubbing?"}],"owner":{"account_id":16578125,"reputation":33,"user_id":11979422,"display_name":"Rajesh Basnet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675092108,"creation_date":1675092108,"question_id":75286451,"body_markdown":"\r\n```\r\npublic String buildSolrDateFormat(final String strDate) {\r\n\r\n\t\tfinal String dateFormat1 = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9]&quot;;\r\n\t\tfinal String dateFormat2 = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9][0-9]&quot;;\r\n\t\tfinal String dateFormat3 = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9][0-9][0-9]&quot;;\r\n\t\tfinal String dateFormat = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]&quot;;\r\n\t\tfinal String solrFormat = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]Z&quot;;\r\n\r\n\t\tDateTimeFormatter formatter;\r\n\t\tDateTime dateTime = new DateTime();\r\n\t\tString formattedDate = &quot;&quot;;\r\n\t\tif (strDate.matches(dateFormat1)) {\r\n\t\t\tformatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\r\n\t\t\tdateTime = formatter.withZoneUTC().parseDateTime(strDate);\r\n\t\t\tformattedDate = dateTime.toString();\r\n\t\t} else if (strDate.matches(dateFormat2)) {\r\n\t\t\tformatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SS&quot;);\r\n\t\t\tdateTime = formatter.withZoneUTC().parseDateTime(strDate);\r\n\t\t\tformattedDate = dateTime.toString();\r\n\t\t} else if (strDate.matches(dateFormat3)) {\r\n\t\t\tformatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\t\t\tdateTime = formatter.withZoneUTC().parseDateTime(strDate);\r\n\t\t\tformattedDate = dateTime.toString();\r\n\t\t} else if (strDate.matches(solrFormat)) {\r\n\t\t\tformattedDate = strDate;\r\n\t\t} else if (strDate.matches(dateFormat)) {\r\n\t\t\tformattedDate = strDate.concat(&quot;T00:00:00Z&quot;);\r\n\t\t}\r\n\r\n\t\treturn formattedDate;\r\n\t}\r\n```\r\n\r\nI have to write test case for this method and below is the test case for the above method. Everything is fine on my IDE it runs without an errors in my IDE but when I try to build application on Sonar Plans it throws error with this test case on logs.\r\n\r\n```\r\n    @Test\r\n    void testBuildSolrDateFormat() {\r\n        String formattedDate1 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15 14:42:28.7&quot;);\r\n        assertEquals(&quot;2022-11-15T14:42:28.700Z&quot;, formattedDate1);\r\n        String formattedDate2 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15 14:42:28.74&quot;);\r\n        assertEquals(&quot;2022-11-15T14:42:28.740Z&quot;, formattedDate2);\r\n        String formattedDate3 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15 14:42:28.743&quot;);\r\n        assertEquals(&quot;2022-11-15T14:42:28.743Z&quot;, formattedDate3);\r\n        String formattedDate5 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15T14:42:28Z&quot;);\r\n        assertEquals(&quot;2022-11-15T14:42:28Z&quot;, formattedDate5);\r\n        String formattedDate6 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15&quot;);\r\n        assertEquals(&quot;2022-11-15T00:00:00Z&quot;, formattedDate6);\r\n    }\r\n```\r\n\r\n\r\nThis throws **Misplaced or misused argument matcher detected here** errors on **Sonar Logs** while it&#39;s fine on my IDE ( NO ERRORS ON IDE)","title":"Misplaced or misused argument matcher detected here","body":"<pre><code>public String buildSolrDateFormat(final String strDate) {\n\n        final String dateFormat1 = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9]&quot;;\n        final String dateFormat2 = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9][0-9]&quot;;\n        final String dateFormat3 = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9].[0-9][0-9][0-9]&quot;;\n        final String dateFormat = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]&quot;;\n        final String solrFormat = &quot;[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]Z&quot;;\n\n        DateTimeFormatter formatter;\n        DateTime dateTime = new DateTime();\n        String formattedDate = &quot;&quot;;\n        if (strDate.matches(dateFormat1)) {\n            formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.S&quot;);\n            dateTime = formatter.withZoneUTC().parseDateTime(strDate);\n            formattedDate = dateTime.toString();\n        } else if (strDate.matches(dateFormat2)) {\n            formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SS&quot;);\n            dateTime = formatter.withZoneUTC().parseDateTime(strDate);\n            formattedDate = dateTime.toString();\n        } else if (strDate.matches(dateFormat3)) {\n            formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n            dateTime = formatter.withZoneUTC().parseDateTime(strDate);\n            formattedDate = dateTime.toString();\n        } else if (strDate.matches(solrFormat)) {\n            formattedDate = strDate;\n        } else if (strDate.matches(dateFormat)) {\n            formattedDate = strDate.concat(&quot;T00:00:00Z&quot;);\n        }\n\n        return formattedDate;\n    }\n</code></pre>\n<p>I have to write test case for this method and below is the test case for the above method. Everything is fine on my IDE it runs without an errors in my IDE but when I try to build application on Sonar Plans it throws error with this test case on logs.</p>\n<pre><code>    @Test\n    void testBuildSolrDateFormat() {\n        String formattedDate1 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15 14:42:28.7&quot;);\n        assertEquals(&quot;2022-11-15T14:42:28.700Z&quot;, formattedDate1);\n        String formattedDate2 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15 14:42:28.74&quot;);\n        assertEquals(&quot;2022-11-15T14:42:28.740Z&quot;, formattedDate2);\n        String formattedDate3 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15 14:42:28.743&quot;);\n        assertEquals(&quot;2022-11-15T14:42:28.743Z&quot;, formattedDate3);\n        String formattedDate5 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15T14:42:28Z&quot;);\n        assertEquals(&quot;2022-11-15T14:42:28Z&quot;, formattedDate5);\n        String formattedDate6 = jsonMetaDataService.buildSolrDateFormat(&quot;2022-11-15&quot;);\n        assertEquals(&quot;2022-11-15T00:00:00Z&quot;, formattedDate6);\n    }\n</code></pre>\n<p>This throws <strong>Misplaced or misused argument matcher detected here</strong> errors on <strong>Sonar Logs</strong> while it's fine on my IDE ( NO ERRORS ON IDE)</p>\n"},{"tags":["java","android","webview","android-webview"],"owner":{"account_id":25868031,"reputation":1,"user_id":19599334,"display_name":"Sandesh Murdia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675091581,"creation_date":1674984444,"question_id":75273858,"body_markdown":"[![image][1]][1]\r\n\r\nUsing `webview` on java.\r\n\r\nThe request I am sending is throwing an error.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private WebView mywebView;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mywebView=(WebView) findViewById(R.id.webview);\r\n\r\n        mywebView.setWebViewClient(new WebViewClient());\r\n        WebView.setWebContentsDebuggingEnabled(true);\r\n        mywebView.loadUrl(&quot;https://lighthearted-platypus-a4a153.netlify.app/&quot;);\r\n\r\n\r\n        WebSettings webSettings=mywebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n    }\r\n\r\n    public class mywebClient extends WebViewClient{\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon){\r\n            super.onPageStarted(view,url,favicon);\r\n        }\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view,String url){\r\n\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onBackPressed(){\r\n        if(mywebView.canGoBack()) {\r\n            mywebView.goBack();\r\n        }\r\n        else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNeed to send get request successfully on the api.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wPhxF.png","title":"Getting this error when using webview net::ERR_CONTENT_DECODING_FAILED","body":"<p><a href=\"https://i.stack.imgur.com/wPhxF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wPhxF.png\" alt=\"image\" /></a></p>\n<p>Using <code>webview</code> on java.</p>\n<p>The request I am sending is throwing an error.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private WebView mywebView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mywebView=(WebView) findViewById(R.id.webview);\n\n        mywebView.setWebViewClient(new WebViewClient());\n        WebView.setWebContentsDebuggingEnabled(true);\n        mywebView.loadUrl(&quot;https://lighthearted-platypus-a4a153.netlify.app/&quot;);\n\n\n        WebSettings webSettings=mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n\n    public class mywebClient extends WebViewClient{\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon){\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view,String url){\n\n            view.loadUrl(url);\n            return true;\n        }\n\n\n    }\n\n\n\n    @Override\n    public void onBackPressed(){\n        if(mywebView.canGoBack()) {\n            mywebView.goBack();\n        }\n        else{\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>Need to send get request successfully on the api.</p>\n"},{"tags":["java","spring","spring-boot","junit","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675091672,"post_id":75286331,"comment_id":132848482,"body_markdown":"The junit version doesn&#39;t matter, what does matter is which Spring BOot version you are using. DItch `@RunWith` that is for JUnit4 (and you state you are using JUnit5).  DItch your `@BeforeEach` method and instead add `@Autowired` to the `MockMvc` field (that is the whole point of `@WebMvcTest` and you are basically throwing all of that out of the window while still incurring the startup cost, so all the pain without the benefits).","body":"The junit version doesn&#39;t matter, what does matter is which Spring BOot version you are using. DItch <code>@RunWith</code> that is for JUnit4 (and you state you are using JUnit5).  DItch your <code>@BeforeEach</code> method and instead add <code>@Autowired</code> to the <code>MockMvc</code> field (that is the whole point of <code>@WebMvcTest</code> and you are basically throwing all of that out of the window while still incurring the startup cost, so all the pain without the benefits)."}],"owner":{"account_id":16002638,"reputation":15,"user_id":11548881,"display_name":"Companion Cube"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675091524,"creation_date":1675091524,"question_id":75286331,"body_markdown":"I integrated validation with RestControllerAdvice in RestController. \r\n\r\nWhen I request invalid parameter to this controller using postman, it returns reponse code 400.\r\n\r\nBut in junit test code, it returns 400. \r\n\r\nIf you let me know what should I do, I&#39;ll appreciate. \r\n\r\nHere are my codes.\r\n\r\nMy junit version is 5.8.2\r\n\r\n### Controller \r\n```java\r\npackage com.example.applyhome.api.home.controller;\r\n\r\nimport com.example.applyhome.api.common.domain.ApiResponse;\r\nimport com.example.applyhome.api.common.service.ApiService;\r\nimport com.example.applyhome.api.home.service.HomeService;\r\nimport com.example.applyhome.module.annotation.Api;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Pattern;\r\nimport javax.validation.constraints.Size;\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Validated\r\n@Api\r\npublic class HomeController {\r\n  private final HomeService homeService;\r\n  private final ApiService apiService;\r\n\r\n  @GetMapping(&quot;/homes/{month}&quot;)\r\n  public ResponseEntity&lt;ApiResponse&gt; getHome(\r\n          @PathVariable(&quot;month&quot;)\r\n          @Size(min = 6, max = 6)\r\n          @NotNull\r\n          @Pattern(regexp = &quot;^\\\\d{4}(0[1-9]|1[0-2])$&quot;)\r\n          String month) {\r\n\r\n    return apiService.okResponse(homeService.getHomeList(month));\r\n  }\r\n}\r\n\r\n```\r\n\r\n### RestControllerAdvice\r\n```java\r\npackage com.example.applyhome.api.common.advice;\r\n\r\nimport com.example.applyhome.api.common.domain.ApiResponse;\r\nimport com.example.applyhome.api.common.service.ApiService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\nimport javax.validation.ValidationException;\r\n\r\n@RestControllerAdvice\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class ExceptionControllerAdvice {\r\n  private final ApiService apiService;\r\n\r\n  @ExceptionHandler(ValidationException.class)\r\n  public ResponseEntity&lt;ApiResponse&gt; validationExceptionHandler(ValidationException ve) {\r\n    log.error(ve.getMessage());\r\n    return apiService.badRequest(ve.getMessage().split(&quot;,&quot;));\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\n### ControllerTest\r\n```java\r\npackage com.example.applyhome.api.home.controller;\r\n\r\nimport com.example.applyhome.api.common.advice.ExceptionControllerAdvice;\r\nimport com.example.applyhome.api.common.service.ApiService;\r\nimport com.example.applyhome.api.home.service.HomeService;\r\nimport org.junit.jupiter.api.*;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.result.MockMvcResultHandlers;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.validation.Validator;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nimport static org.hamcrest.Matchers.*;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n\r\n@RunWith(SpringRunner.class)\r\n@WebMvcTest(controllers = HomeController.class)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\nclass HomeControllerTest {\r\n  private MockMvc mockMvc;\r\n  @MockBean\r\n  private HomeService homeService;\r\n  @MockBean\r\n  private ApiService apiService;\r\n\r\n  @BeforeEach\r\n  public void setUp() {\r\n    mockMvc = MockMvcBuilders.standaloneSetup(new HomeController(homeService, apiService))\r\n            .setValidator(mock(Validator.class))\r\n            .setControllerAdvice(new ExceptionControllerAdvice(apiService))\r\n            .build();\r\n  }\r\n\r\n  @Test\r\n  @Order(1)\r\n  void pathVariableTest1() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 1))\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n  @Test\r\n  @Order(2)\r\n  void pathVariableTest2() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 2))\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n  @Test\r\n  @Order(3)\r\n  void pathVariableTest3() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 3))\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n  @Test\r\n  @Order(4)\r\n  void pathVariableTest4() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 4))\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n\r\n  @Test\r\n  @Order(5)\r\n  void pathVariableTest5() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/2022&quot; + todayMonth().substring(0, 5))\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n\r\n  @Test\r\n  @Order(6)\r\n  void pathVariableTest6() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth())\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isOk())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n  @Test\r\n  @Order(7)\r\n  void pathVariableTest7() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth() + &quot;0&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n\r\n  @Test\r\n  @Order(8)\r\n  void pathVariableTest8() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth() + &quot;01&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n\r\n  @Test\r\n  @Order(9)\r\n  void regexpTest1() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/202213&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n\r\n  @Test\r\n  @Order(10)\r\n  void regexpTest2() throws Exception{\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/abc&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isBadRequest())\r\n            .andDo(MockMvcResultHandlers.print());\r\n  }\r\n  private String todayMonth() {\r\n    return LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;));\r\n  }\r\n}\r\n\r\n```\r\n\r\nThank you. ","title":"Junit Test return status code 200, expected 400","body":"<p>I integrated validation with RestControllerAdvice in RestController.</p>\n<p>When I request invalid parameter to this controller using postman, it returns reponse code 400.</p>\n<p>But in junit test code, it returns 400.</p>\n<p>If you let me know what should I do, I'll appreciate.</p>\n<p>Here are my codes.</p>\n<p>My junit version is 5.8.2</p>\n<h3>Controller</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.applyhome.api.home.controller;\n\nimport com.example.applyhome.api.common.domain.ApiResponse;\nimport com.example.applyhome.api.common.service.ApiService;\nimport com.example.applyhome.api.home.service.HomeService;\nimport com.example.applyhome.module.annotation.Api;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport javax.validation.constraints.Size;\n\n@RestController\n@RequiredArgsConstructor\n@Slf4j\n@Validated\n@Api\npublic class HomeController {\n  private final HomeService homeService;\n  private final ApiService apiService;\n\n  @GetMapping(&quot;/homes/{month}&quot;)\n  public ResponseEntity&lt;ApiResponse&gt; getHome(\n          @PathVariable(&quot;month&quot;)\n          @Size(min = 6, max = 6)\n          @NotNull\n          @Pattern(regexp = &quot;^\\\\d{4}(0[1-9]|1[0-2])$&quot;)\n          String month) {\n\n    return apiService.okResponse(homeService.getHomeList(month));\n  }\n}\n\n</code></pre>\n<h3>RestControllerAdvice</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.applyhome.api.common.advice;\n\nimport com.example.applyhome.api.common.domain.ApiResponse;\nimport com.example.applyhome.api.common.service.ApiService;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\nimport javax.validation.ValidationException;\n\n@RestControllerAdvice\n@RequiredArgsConstructor\n@Slf4j\npublic class ExceptionControllerAdvice {\n  private final ApiService apiService;\n\n  @ExceptionHandler(ValidationException.class)\n  public ResponseEntity&lt;ApiResponse&gt; validationExceptionHandler(ValidationException ve) {\n    log.error(ve.getMessage());\n    return apiService.badRequest(ve.getMessage().split(&quot;,&quot;));\n  }\n\n}\n\n</code></pre>\n<h3>ControllerTest</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.applyhome.api.home.controller;\n\nimport com.example.applyhome.api.common.advice.ExceptionControllerAdvice;\nimport com.example.applyhome.api.common.service.ApiService;\nimport com.example.applyhome.api.home.service.HomeService;\nimport org.junit.jupiter.api.*;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultHandlers;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.validation.Validator;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\nimport static org.hamcrest.Matchers.*;\nimport static org.mockito.Mockito.mock;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n\n@RunWith(SpringRunner.class)\n@WebMvcTest(controllers = HomeController.class)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\nclass HomeControllerTest {\n  private MockMvc mockMvc;\n  @MockBean\n  private HomeService homeService;\n  @MockBean\n  private ApiService apiService;\n\n  @BeforeEach\n  public void setUp() {\n    mockMvc = MockMvcBuilders.standaloneSetup(new HomeController(homeService, apiService))\n            .setValidator(mock(Validator.class))\n            .setControllerAdvice(new ExceptionControllerAdvice(apiService))\n            .build();\n  }\n\n  @Test\n  @Order(1)\n  void pathVariableTest1() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 1))\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n  @Test\n  @Order(2)\n  void pathVariableTest2() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 2))\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n  @Test\n  @Order(3)\n  void pathVariableTest3() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 3))\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n  @Test\n  @Order(4)\n  void pathVariableTest4() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth().substring(0, 4))\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n\n  @Test\n  @Order(5)\n  void pathVariableTest5() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/2022&quot; + todayMonth().substring(0, 5))\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n\n  @Test\n  @Order(6)\n  void pathVariableTest6() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth())\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk())\n            .andDo(MockMvcResultHandlers.print());\n  }\n  @Test\n  @Order(7)\n  void pathVariableTest7() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth() + &quot;0&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n\n  @Test\n  @Order(8)\n  void pathVariableTest8() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/&quot; + todayMonth() + &quot;01&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n\n  @Test\n  @Order(9)\n  void regexpTest1() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/202213&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n\n  @Test\n  @Order(10)\n  void regexpTest2() throws Exception{\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/homes/abc&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest())\n            .andDo(MockMvcResultHandlers.print());\n  }\n  private String todayMonth() {\n    return LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;yyyyMM&quot;));\n  }\n}\n\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","xml","xsd","javax"],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675091278,"creation_date":1480945406,"answer_id":40975673,"question_id":40974762,"body_markdown":"**Automatic repair of an XML document is not possible in the general case.**\r\n\r\nIn only very limited contexts would the repair necessary to make an XML document valid be automatically discernable from any given validation error.  There is not a one-to-one mapping between validation errors and ways of remedying them.\r\n\r\nConsider element `r` with `a` through `e` children:\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \r\n      &lt;xsd:element name=&quot;r&quot;&gt;\r\n        &lt;xsd:complexType&gt;\r\n          &lt;xsd:sequence&gt;\r\n            &lt;xsd:element name=&quot;a&quot;/&gt;\r\n            &lt;xsd:element name=&quot;b&quot;/&gt;\r\n            &lt;xsd:element name=&quot;c&quot;/&gt;\r\n            &lt;xsd:element name=&quot;d&quot;/&gt;\r\n            &lt;xsd:element name=&quot;e&quot;/&gt;\r\n          &lt;/xsd:sequence&gt;\r\n        &lt;/xsd:complexType&gt;\r\n      &lt;/xsd:element&gt;\r\n    \r\n    &lt;/xsd:schema&gt;\r\n\r\nAn XML document such as this one,\r\n\r\n    &lt;r&gt;\r\n      &lt;a/&gt;\r\n      &lt;x/&gt;\r\n      &lt;b/&gt;\r\n      &lt;c/&gt;\r\n      &lt;d/&gt;\r\n      &lt;e/&gt;\r\n    &lt;/r&gt;\r\n\r\nwould yield a validation message such as the following by Xerces-J:\r\n\r\n&gt; [Error] try.xml:5:7: cvc-complex-type.2.4.a: Invalid content was found\r\n&gt; starting with element &#39;x&#39;. One of &#39;{b}&#39; is expected.\r\n\r\nYou might here automatically remove `x`, and all would be fine.  (Or, you might insert a `b`, which would not be fine.)\r\n\r\nHowever, for the same XSD, consider that this XML document,\r\n\r\n    &lt;r&gt;\r\n      &lt;a/&gt;\r\n      &lt;c/&gt;\r\n      &lt;d/&gt;\r\n      &lt;e/&gt;\r\n    &lt;/r&gt;\r\n\r\nwould yield a validation message such as the following by Xerces-J:\r\n\r\n&gt; [Error] try.xml:5:7: cvc-complex-type.2.4.a: Invalid content was found\r\n&gt; starting with element &#39;c&#39;. One of &#39;{b}&#39; is expected.\r\n\r\nIf you automatically removed `c`, your document would still be invalid, and you&#39;d receive a similar message about `d` being unexpected. This would continue until your document looked like this,\r\n\r\n    &lt;r&gt;\r\n      &lt;a/&gt;\r\n    &lt;/r&gt;\r\n\r\nat which point your error message will have returned to the original,\r\n\r\n&gt; [Error] try.xml:5:5: cvc-complex-type.2.4.b: The content of element\r\n&gt; &#39;r&#39; is not complete. One of &#39;{b}&#39; is expected.\r\n\r\nAs you can see, there&#39;s simply not enough information available in a given validation error to know how to repair the XML document in general.\r\n\r\nYou could do better by consulting the XSD, but this is extremely complex and still not guaranteed to uniquely determine the exact mistake made by the authoring person or system.  Automatic repair of an XML document, even given an XSD, is not possible in the general case.\r\n\r\nSee also\r\n-\r\n- https://stackoverflow.com/q/75283844/290085\r\n","title":"How to remove invalid XML elements","body":"<p><strong>Automatic repair of an XML document is not possible in the general case.</strong></p>\n<p>In only very limited contexts would the repair necessary to make an XML document valid be automatically discernable from any given validation error.  There is not a one-to-one mapping between validation errors and ways of remedying them.</p>\n<p>Consider element <code>r</code> with <code>a</code> through <code>e</code> children:</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n\n  &lt;xsd:element name=&quot;r&quot;&gt;\n    &lt;xsd:complexType&gt;\n      &lt;xsd:sequence&gt;\n        &lt;xsd:element name=&quot;a&quot;/&gt;\n        &lt;xsd:element name=&quot;b&quot;/&gt;\n        &lt;xsd:element name=&quot;c&quot;/&gt;\n        &lt;xsd:element name=&quot;d&quot;/&gt;\n        &lt;xsd:element name=&quot;e&quot;/&gt;\n      &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n  &lt;/xsd:element&gt;\n\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>An XML document such as this one,</p>\n<pre><code>&lt;r&gt;\n  &lt;a/&gt;\n  &lt;x/&gt;\n  &lt;b/&gt;\n  &lt;c/&gt;\n  &lt;d/&gt;\n  &lt;e/&gt;\n&lt;/r&gt;\n</code></pre>\n<p>would yield a validation message such as the following by Xerces-J:</p>\n<blockquote>\n<p>[Error] try.xml:5:7: cvc-complex-type.2.4.a: Invalid content was found\nstarting with element 'x'. One of '{b}' is expected.</p>\n</blockquote>\n<p>You might here automatically remove <code>x</code>, and all would be fine.  (Or, you might insert a <code>b</code>, which would not be fine.)</p>\n<p>However, for the same XSD, consider that this XML document,</p>\n<pre><code>&lt;r&gt;\n  &lt;a/&gt;\n  &lt;c/&gt;\n  &lt;d/&gt;\n  &lt;e/&gt;\n&lt;/r&gt;\n</code></pre>\n<p>would yield a validation message such as the following by Xerces-J:</p>\n<blockquote>\n<p>[Error] try.xml:5:7: cvc-complex-type.2.4.a: Invalid content was found\nstarting with element 'c'. One of '{b}' is expected.</p>\n</blockquote>\n<p>If you automatically removed <code>c</code>, your document would still be invalid, and you'd receive a similar message about <code>d</code> being unexpected. This would continue until your document looked like this,</p>\n<pre><code>&lt;r&gt;\n  &lt;a/&gt;\n&lt;/r&gt;\n</code></pre>\n<p>at which point your error message will have returned to the original,</p>\n<blockquote>\n<p>[Error] try.xml:5:5: cvc-complex-type.2.4.b: The content of element\n'r' is not complete. One of '{b}' is expected.</p>\n</blockquote>\n<p>As you can see, there's simply not enough information available in a given validation error to know how to repair the XML document in general.</p>\n<p>You could do better by consulting the XSD, but this is extremely complex and still not guaranteed to uniquely determine the exact mistake made by the authoring person or system.  Automatic repair of an XML document, even given an XSD, is not possible in the general case.</p>\n<h2>See also</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/75283844/290085\">Automatically correct invalid XML?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480952586,"creation_date":1480952586,"answer_id":40977957,"question_id":40974762,"body_markdown":"Everything kjhughes says is correct.\r\n\r\nHowever, if there are particular patterns of validation errors in your input, then it&#39;s possible to create rules that fix those.\r\n\r\nIn many cases it&#39;s probably simplest to do this by writing XSLT code that detects the incorrect pattern and fixes it without even applying schema validation. For example, if you have a perennial problem with EEE elements where the child XXX element is supposed to precede child YYY but they are often in the wrong order, then you can repair that with a template rule\r\n\r\n    &lt;xsl:template match=&quot;EEE[XXX &gt;&gt; YYY]&quot;&gt;\r\n      &lt;xsl:copy&gt;\r\n        &lt;xsl:copy-of select=&quot;XXX/preceding-sibling::*, XXX, YYY, YYY/following-sibling::*&quot;/&gt;\r\n      &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nThe theory in XML Schema is that when you validate a document, the output is not just a yes/no answer, nor even a set of error messages, but rather a document in which individual nodes are marked as valid or invalid, and if invalid, with the error conditions that cause them to be considered invalid. The theory is that you can then explore this document, find the invalidities, and handle them in the appropriate way. However, I don&#39;t think there are many tools that implement this, at least not in full.\r\n\r\nRecent releases of Saxon&#39;s schema processor introduce the InvalidityHandler, which is called to provide complete information about each validity error, and an implementation of this interface, which produces a report of validation errors in XML format. This is designed to enable the construction of tools that do more with the error information than simply putting it in front of the user to ponder. There&#39;s certainly a class of validation errors where it would be possible to take the error report and generate XSLT code to correct the error, for example if the input is a set of transactions to be processed then you could create a transaction file that omits those transactions that failed validation.\r\n\r\n(Having said that, for this particular use case it might be better to write an XSLT or XQuery application that validates transactions one by one, and uses try/catch to copy only the valid transactions.)","title":"How to remove invalid XML elements","body":"<p>Everything kjhughes says is correct.</p>\n\n<p>However, if there are particular patterns of validation errors in your input, then it's possible to create rules that fix those.</p>\n\n<p>In many cases it's probably simplest to do this by writing XSLT code that detects the incorrect pattern and fixes it without even applying schema validation. For example, if you have a perennial problem with EEE elements where the child XXX element is supposed to precede child YYY but they are often in the wrong order, then you can repair that with a template rule</p>\n\n<pre><code>&lt;xsl:template match=\"EEE[XXX &gt;&gt; YYY]\"&gt;\n  &lt;xsl:copy&gt;\n    &lt;xsl:copy-of select=\"XXX/preceding-sibling::*, XXX, YYY, YYY/following-sibling::*\"/&gt;\n  &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n\n<p>The theory in XML Schema is that when you validate a document, the output is not just a yes/no answer, nor even a set of error messages, but rather a document in which individual nodes are marked as valid or invalid, and if invalid, with the error conditions that cause them to be considered invalid. The theory is that you can then explore this document, find the invalidities, and handle them in the appropriate way. However, I don't think there are many tools that implement this, at least not in full.</p>\n\n<p>Recent releases of Saxon's schema processor introduce the InvalidityHandler, which is called to provide complete information about each validity error, and an implementation of this interface, which produces a report of validation errors in XML format. This is designed to enable the construction of tools that do more with the error information than simply putting it in front of the user to ponder. There's certainly a class of validation errors where it would be possible to take the error report and generate XSLT code to correct the error, for example if the input is a set of transactions to be processed then you could create a transaction file that omits those transactions that failed validation.</p>\n\n<p>(Having said that, for this particular use case it might be better to write an XSLT or XQuery application that validates transactions one by one, and uses try/catch to copy only the valid transactions.)</p>\n"}],"owner":{"account_id":2775988,"reputation":2874,"user_id":2389570,"accept_rate":62,"display_name":"Niccol&#242;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675091278,"creation_date":1480942463,"question_id":40974762,"body_markdown":"I have a XML file and its XSD schema.\r\nI am able to validate the XML file and implement a custom org.xml.sax.ErrorHandler like the following:\r\n\r\n    class MyErrorHandler implements ErrorHandler{\r\n      ...\r\n      @Override\r\n      public void warning(SAXParseException exception) throws SAXException {\r\n        System.out.println(&quot;Line: &quot; + exception.getLineNumber() + &quot;) &quot; + exception.getMessage() + exception);\r\n        warnings++;\r\n      }\r\n    ...\r\n    }\r\n\r\nIs it possible to actually manipulate the element causing the exception, for example by removing it from the XML file?\r\n\r\nTwo notes:\r\n\r\n* the XML manipulation doesn&#39;t need to be in-place, i.e. I can produce a new file with the failing elements removed;\r\n* best would be to be able to also get the parent element of the one causing the exception, so that I can decide whether to remove the parent altogether.\r\n\r\nAlso just a suggestion on which direction to follow in order to solve the problem is appreciated. Thanks!","title":"How to remove invalid XML elements","body":"<p>I have a XML file and its XSD schema.\nI am able to validate the XML file and implement a custom org.xml.sax.ErrorHandler like the following:</p>\n\n<pre><code>class MyErrorHandler implements ErrorHandler{\n  ...\n  @Override\n  public void warning(SAXParseException exception) throws SAXException {\n    System.out.println(\"Line: \" + exception.getLineNumber() + \") \" + exception.getMessage() + exception);\n    warnings++;\n  }\n...\n}\n</code></pre>\n\n<p>Is it possible to actually manipulate the element causing the exception, for example by removing it from the XML file?</p>\n\n<p>Two notes:</p>\n\n<ul>\n<li>the XML manipulation doesn't need to be in-place, i.e. I can produce a new file with the failing elements removed;</li>\n<li>best would be to be able to also get the parent element of the one causing the exception, so that I can decide whether to remove the parent altogether.</li>\n</ul>\n\n<p>Also just a suggestion on which direction to follow in order to solve the problem is appreciated. Thanks!</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1673293358,"post_id":75062167,"comment_id":132462195,"body_markdown":"The best plan is to have it notify you of the exceptions so you can fix them by hand.  Trying to fix the stupidities that people put into CSV files automatically requires some advanced AI.","body":"The best plan is to have it notify you of the exceptions so you can fix them by hand.  Trying to fix the stupidities that people put into CSV files automatically requires some advanced AI."},{"owner":{"account_id":5436770,"reputation":402,"user_id":4326020,"accept_rate":57,"display_name":"Jax"},"score":0,"creation_date":1673296604,"post_id":75062167,"comment_id":132463078,"body_markdown":"So you want to get rid of escape characters in loaded CSV data? Consider loading the file to a string, and using ‘String.replace’ to flush the extra escape characters out of the string? From there, you can split the string into lines using split and cycle through the lines as you otherwise would. https://stackoverflow.com/questions/12423071/how-to-remove-escape-characters-from-a-string-in-java","body":"So you want to get rid of escape characters in loaded CSV data? Consider loading the file to a string, and using ‘String.replace’ to flush the extra escape characters out of the string? From there, you can split the string into lines using split and cycle through the lines as you otherwise would. <a href=\"https://stackoverflow.com/questions/12423071/how-to-remove-escape-characters-from-a-string-in-java\" title=\"how to remove escape characters from a string in java\">stackoverflow.com/questions/12423071/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673301080,"post_id":75062167,"comment_id":132464264,"body_markdown":"`CsvParser` should allow you to process one line first and then parse it","body":"<code>CsvParser</code> should allow you to process one line first and then parse it"},{"owner":{"account_id":11188567,"reputation":1125,"user_id":8209920,"display_name":"JavaCodeNet"},"score":0,"creation_date":1673355977,"post_id":75062167,"comment_id":132475989,"body_markdown":"thank you @g00se, if you have it handy could you share an example or a documentation reference to achieve this? If there is an issue in parsing I would also like to have a fallback to adjust the line and do re-parsing again.","body":"thank you @g00se, if you have it handy could you share an example or a documentation reference to achieve this? If there is an issue in parsing I would also like to have a fallback to adjust the line and do re-parsing again."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673363095,"post_id":75062167,"comment_id":132478705,"body_markdown":"I don&#39;t I&#39;m afraid. But look at the Javadoc. Should be simple enough","body":"I don&#39;t I&#39;m afraid. But look at the Javadoc. Should be simple enough"}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675090725,"creation_date":1675090224,"answer_id":75286067,"question_id":75062167,"body_markdown":"A **customized** `CSVReader` instance works for me; see code below:\r\n\r\n    CSVParserBuilder pb = new CSVParserBuilder();\r\n    CSVParser p = pb.withIgnoreLeadingWhiteSpace(true)\r\n            .withEscapeChar(&#39;%&#39;)\r\n            .withSeparator(&#39;,&#39;)\r\n            .build();\r\n    CSVReaderBuilder rb = new CSVReaderBuilder(new FileReader(file));\r\n    rb.withCSVParser(p);\r\n    CSVReader csvReader = rb.build();\r\n    \r\n    String[] nextLine;\r\n    int row = 0;\r\n    while ((nextLine = csvReader.readNext()) != null) {\r\n      row++;\r\n      if (nextLine.length &gt; 0) {\r\n        System.out.println(&quot;ROW: &quot; + row + &quot; &quot; + String.join(&quot;,&quot;, nextLine));\r\n      }\r\n    }\r\n\r\n**Note:** I set a different escape character with `.withEscapeChar(&#39;%&#39;)`. You could choose any special character different from `\\` of which you know that it has no actual meaning in your data.\r\n\r\nGiven such a customized `CSVParser`, the configured `CSVReader` instance works just fine with your csv data provided in the OP.\r\n\r\nIt produces\r\n\r\n    ROW: 1 id,name,address,phone\r\n    ROW: 2 1,Bob,New Jersey,9999999999\r\n    ROW: 3 2,Smith,Sydney ///\\,9999999999\r\n\r\nas (expected) output without any errors.\r\n\r\nI used OpenCSV in version 5.7.x\r\n\r\n","title":"How to parse or sanitize incoming csv entries with backslash symbols?","body":"<p>A <strong>customized</strong> <code>CSVReader</code> instance works for me; see code below:</p>\n<pre><code>CSVParserBuilder pb = new CSVParserBuilder();\nCSVParser p = pb.withIgnoreLeadingWhiteSpace(true)\n        .withEscapeChar('%')\n        .withSeparator(',')\n        .build();\nCSVReaderBuilder rb = new CSVReaderBuilder(new FileReader(file));\nrb.withCSVParser(p);\nCSVReader csvReader = rb.build();\n\nString[] nextLine;\nint row = 0;\nwhile ((nextLine = csvReader.readNext()) != null) {\n  row++;\n  if (nextLine.length &gt; 0) {\n    System.out.println(&quot;ROW: &quot; + row + &quot; &quot; + String.join(&quot;,&quot;, nextLine));\n  }\n}\n</code></pre>\n<p><strong>Note:</strong> I set a different escape character with <code>.withEscapeChar('%')</code>. You could choose any special character different from <code>\\</code> of which you know that it has no actual meaning in your data.</p>\n<p>Given such a customized <code>CSVParser</code>, the configured <code>CSVReader</code> instance works just fine with your csv data provided in the OP.</p>\n<p>It produces</p>\n<pre><code>ROW: 1 id,name,address,phone\nROW: 2 1,Bob,New Jersey,9999999999\nROW: 3 2,Smith,Sydney ///\\,9999999999\n</code></pre>\n<p>as (expected) output without any errors.</p>\n<p>I used OpenCSV in version 5.7.x</p>\n"}],"owner":{"account_id":11188567,"reputation":1125,"user_id":8209920,"display_name":"JavaCodeNet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675090725,"creation_date":1673293071,"question_id":75062167,"body_markdown":"I have a requirement to parse external CSV files and read their name attributes. I am using opencsv library to achieve this, please find the test code below. It works pretty well with valid CSV files, however, if one of the rows is invalid, there is no way to handle that error. I shared an example CSV below with an error case, inside which the escaped double quote is causing the problem in java. Could we somehow parse this inline or at the file level and replace `\\&quot;` with `&quot;`.\r\n\r\n\r\n        @Test\r\n        public void csvTest() throws IOException {\r\n            String fileName = &quot;ERROR.csv&quot;;\r\n            File file = new File(&quot;D:\\\\csvFiles\\\\&quot; + fileName);\r\n            if (file.exists()) {\r\n    \r\n                CSVReader csvReader = new CSVReader(new FileReader(&quot;D:\\\\csvFiles\\\\&quot; + fileName));\r\n                String[] nextLine;\r\n                int row = 0;\r\n                while ((nextLine = csvReader.readNext()) != null) {\r\n                    row++;\r\n                    if (nextLine.length &gt; 0) {\r\n                        System.out.println(&quot;ROW: &quot; + row + &quot; &quot; + String.join(&quot;,&quot;, nextLine));\r\n                    }\r\n                }\r\n    \r\n            }\r\n        } \r\n\r\nERROR.csv\r\n\r\n    id,name,address,phone\r\n    &quot;1&quot;,&quot;Bob&quot;,&quot;New Jersey&quot;,&quot;9999999999&quot;\r\n    &quot;2&quot;,&quot;Smith&quot;,&quot;Sydney ///\\&quot;,&quot;9999999999&quot;\r\n\r\n&gt; Note: When we open this csv file in the excel app, then it renders\r\n&gt; perfectly, so is it only in the java world that is treating it\r\n&gt; erroneously, because a double quote has been escaped with the preceding\r\n&gt; backslash (`\\&quot;`)?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qVMWi.png","title":"How to parse or sanitize incoming csv entries with backslash symbols?","body":"<p>I have a requirement to parse external CSV files and read their name attributes. I am using opencsv library to achieve this, please find the test code below. It works pretty well with valid CSV files, however, if one of the rows is invalid, there is no way to handle that error. I shared an example CSV below with an error case, inside which the escaped double quote is causing the problem in java. Could we somehow parse this inline or at the file level and replace <code>\\&quot;</code> with <code>&quot;</code>.</p>\n<pre><code>    @Test\n    public void csvTest() throws IOException {\n        String fileName = &quot;ERROR.csv&quot;;\n        File file = new File(&quot;D:\\\\csvFiles\\\\&quot; + fileName);\n        if (file.exists()) {\n\n            CSVReader csvReader = new CSVReader(new FileReader(&quot;D:\\\\csvFiles\\\\&quot; + fileName));\n            String[] nextLine;\n            int row = 0;\n            while ((nextLine = csvReader.readNext()) != null) {\n                row++;\n                if (nextLine.length &gt; 0) {\n                    System.out.println(&quot;ROW: &quot; + row + &quot; &quot; + String.join(&quot;,&quot;, nextLine));\n                }\n            }\n\n        }\n    } \n</code></pre>\n<p>ERROR.csv</p>\n<pre><code>id,name,address,phone\n&quot;1&quot;,&quot;Bob&quot;,&quot;New Jersey&quot;,&quot;9999999999&quot;\n&quot;2&quot;,&quot;Smith&quot;,&quot;Sydney ///\\&quot;,&quot;9999999999&quot;\n</code></pre>\n<blockquote>\n<p>Note: When we open this csv file in the excel app, then it renders\nperfectly, so is it only in the java world that is treating it\nerroneously, because a double quote has been escaped with the preceding\nbackslash (<code>\\&quot;</code>)?</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/qVMWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qVMWi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","datetime","timezone-offset","datetimeoffset"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675070429,"post_id":75280511,"comment_id":132841526,"body_markdown":"Do you know whether that’s a message from [forbidden-apis](https://github.com/policeman-tools/forbidden-apis/wiki)? It could sound like it.","body":"Do you know whether that’s a message from <a href=\"https://github.com/policeman-tools/forbidden-apis/wiki\" rel=\"nofollow noreferrer\">forbidden-apis</a>? It could sound like it."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675070541,"post_id":75280511,"comment_id":132841558,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat`, `Date`, `Calendar` and`TimeZone`. Those classes are troublesome and long outdated. Use `Instant`, `ZoneOffset` and `OffsetDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code>, <code>Date</code>, <code>Calendar</code> and<code>TimeZone</code>. Those classes are troublesome and long outdated. Use <code>Instant</code>, <code>ZoneOffset</code> and <code>OffsetDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675078444,"post_id":75280511,"comment_id":132843972,"body_markdown":"If you meant to ask for a `java.util.Date` with the format you mentioned, that is neither possible nor what you should want. Use a date-time object (for example an `OffsetDateTime`, not a `Date` as I said) to hold a *value*. When you need to give output in a specific format, use a formatter for formatting that value into a `String` in the desired format. As an aside only, `Instant.toString()` prints in that format, `OffsetDateTime.toString()` will if the offset is 0; `Date.toString()` *never* will.","body":"If you meant to ask for a <code>java.util.Date</code> with the format you mentioned, that is neither possible nor what you should want. Use a date-time object (for example an <code>OffsetDateTime</code>, not a <code>Date</code> as I said) to hold a <i>value</i>. When you need to give output in a specific format, use a formatter for formatting that value into a <code>String</code> in the desired format. As an aside only, <code>Instant.toString()</code> prints in that format, <code>OffsetDateTime.toString()</code> will if the offset is 0; <code>Date.toString()</code> <i>never</i> will."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675085912,"post_id":75280511,"comment_id":132846373,"body_markdown":"Is the UTC offset always a whole number of hours? Could it be for example +5:30 or +5:45?","body":"Is the UTC offset always a whole number of hours? Could it be for example +5:30 or +5:45?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675072371,"creation_date":1675069486,"answer_id":75282167,"question_id":75280511,"body_markdown":"I would suggest to move away from the legacy API (java.util.Date, java.util.Calendar, etc.), it is cumbersome and error prone. Since java 8 the modern date-time API, [java.time][1], is available. With it the task would be quite trivial.\r\n```\r\nString date = &quot;2023-01-09T23:51:44.595Z&quot;;\r\nOffsetDateTime oldDateTime = OffsetDateTime.parse(date);\r\nSystem.out.println(&quot;old - &quot; + oldDateTime);\r\nZoneOffset offset = ZoneOffset.ofHours(6);\r\nOffsetDateTime newDateTime = oldDateTime.withOffsetSameInstant(offset);\r\nSystem.out.println(&quot;new - &quot; + newDateTime);\r\n```\r\nPrints time - `2023-01-10T05:51:44.595+06:00`.\r\n\r\nNote that it ends with `+06:00`, not `Z`. `Z` at the end of a date-time string means `Zulu`, which indicates that the time is in UTC - [What is the Z ending on date strings like 2014-01-01T00:00:00.588Z][2]. Since resulting time is UTC + 6 hours, a date sting `2023-01-10T05:51:44.595Z` would be **incorrect**.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://stackoverflow.com/questions/27840670/what-is-the-z-ending-on-date-strings-like-2014-01-01t000000-588z","title":"Date conversion: add UTCOffset to existing timezone","body":"<p>I would suggest to move away from the legacy API (java.util.Date, java.util.Calendar, etc.), it is cumbersome and error prone. Since java 8 the modern date-time API, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>, is available. With it the task would be quite trivial.</p>\n<pre><code>String date = &quot;2023-01-09T23:51:44.595Z&quot;;\nOffsetDateTime oldDateTime = OffsetDateTime.parse(date);\nSystem.out.println(&quot;old - &quot; + oldDateTime);\nZoneOffset offset = ZoneOffset.ofHours(6);\nOffsetDateTime newDateTime = oldDateTime.withOffsetSameInstant(offset);\nSystem.out.println(&quot;new - &quot; + newDateTime);\n</code></pre>\n<p>Prints time - <code>2023-01-10T05:51:44.595+06:00</code>.</p>\n<p>Note that it ends with <code>+06:00</code>, not <code>Z</code>. <code>Z</code> at the end of a date-time string means <code>Zulu</code>, which indicates that the time is in UTC - <a href=\"https://stackoverflow.com/questions/27840670/what-is-the-z-ending-on-date-strings-like-2014-01-01t000000-588z\">What is the Z ending on date strings like 2014-01-01T00:00:00.588Z</a>. Since resulting time is UTC + 6 hours, a date sting <code>2023-01-10T05:51:44.595Z</code> would be <strong>incorrect</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675090609,"creation_date":1675085218,"answer_id":75285083,"question_id":75280511,"body_markdown":"java.time\r\n--\r\n\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) was released as part of the **Java 8 standard library** which supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nSolution using `java.time`\r\n--\r\n\r\n 1. `java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format e.g. your date-time string, `2023-01-09T23:51:44.595Z` which can be directly parsed into an `OffsetDateTime`. \r\n 2. Your offset string is not in the ISO 8601 standard format. The standard format is `+/-HH:mm:ss` or `Z` which refers to `+00:00` offset. In most cases, you will see `+/-HH:mm` e.g. `+06:00`. You can choose any basic string manipulation technique to get the hours and minutes from your string and create a `ZoneOffset` instance using them. I have used one which I have found easy to do.\r\n\r\nThe rest of the code is straightforward. \r\n\r\n**Demo:**\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String strDateTime = &quot;2023-01-09T23:51:44.595Z&quot;;\r\n            String utcOffset = &quot;UTC +6&quot;;\r\n            int offsetHour = Integer.parseInt(utcOffset.replaceAll(&quot;[^0-9+-]&quot;, &quot;&quot;));\r\n            ZoneOffset zoneOffset = ZoneOffset.ofHours(offsetHour);\r\n            OffsetDateTime odtGiven = OffsetDateTime.parse(strDateTime);\r\n            OffsetDateTime odtDesired = odtGiven.withOffsetSameLocal(zoneOffset)\r\n                                            .withOffsetSameInstant(zoneOffset.UTC);\r\n            System.out.println(odtDesired);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-01-09T17:51:44.595Z\r\n\r\nNote that `2023-01-10T05:51:44.595Z` does not make sense without am/pm marker as you mean `05:51:44.595 pm`. You can use a `DateTimeFormatter` to format the above output in your desired way.\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/l2YdsV)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n---\r\n\r\nI liked the alternative way [suggested by Ole V.V.](https://stackoverflow.com/questions/75280511/date-conversion-add-utcoffset-to-existing-timezone/75285083?noredirect=1#comment132847275_75285083) to parse the offset string. Given below is the solution based on his suggestion:\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String strDateTime = &quot;2023-01-09T23:51:44.595Z&quot;;\r\n            String utcOffset = &quot;UTC +6&quot;;\r\n            DateTimeFormatter offsetFormatter = new DateTimeFormatterBuilder()\r\n                                                .appendLiteral(&quot;UTC &quot;)\r\n                                                .appendOffset(&quot;+H:mm&quot;, &quot;+0&quot;)\r\n                                                .toFormatter(Locale.ROOT);\r\n            ZoneOffset zoneOffset = offsetFormatter.parse(utcOffset, ZoneOffset::from);\r\n            // Rest of the lines are the same as the above code\r\n        }\r\n    }\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/8WZj5C)","title":"Date conversion: add UTCOffset to existing timezone","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> was released as part of the <strong>Java 8 standard library</strong> which supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<h2>Solution using <code>java.time</code></h2>\n<ol>\n<li><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format e.g. your date-time string, <code>2023-01-09T23:51:44.595Z</code> which can be directly parsed into an <code>OffsetDateTime</code>.</li>\n<li>Your offset string is not in the ISO 8601 standard format. The standard format is <code>+/-HH:mm:ss</code> or <code>Z</code> which refers to <code>+00:00</code> offset. In most cases, you will see <code>+/-HH:mm</code> e.g. <code>+06:00</code>. You can choose any basic string manipulation technique to get the hours and minutes from your string and create a <code>ZoneOffset</code> instance using them. I have used one which I have found easy to do.</li>\n</ol>\n<p>The rest of the code is straightforward.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\n\nclass Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;2023-01-09T23:51:44.595Z&quot;;\n        String utcOffset = &quot;UTC +6&quot;;\n        int offsetHour = Integer.parseInt(utcOffset.replaceAll(&quot;[^0-9+-]&quot;, &quot;&quot;));\n        ZoneOffset zoneOffset = ZoneOffset.ofHours(offsetHour);\n        OffsetDateTime odtGiven = OffsetDateTime.parse(strDateTime);\n        OffsetDateTime odtDesired = odtGiven.withOffsetSameLocal(zoneOffset)\n                                        .withOffsetSameInstant(zoneOffset.UTC);\n        System.out.println(odtDesired);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-01-09T17:51:44.595Z\n</code></pre>\n<p>Note that <code>2023-01-10T05:51:44.595Z</code> does not make sense without am/pm marker as you mean <code>05:51:44.595 pm</code>. You can use a <code>DateTimeFormatter</code> to format the above output in your desired way.</p>\n<p><a href=\"https://ideone.com/l2YdsV\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p>I liked the alternative way <a href=\"https://stackoverflow.com/questions/75280511/date-conversion-add-utcoffset-to-existing-timezone/75285083?noredirect=1#comment132847275_75285083\">suggested by Ole V.V.</a> to parse the offset string. Given below is the solution based on his suggestion:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;2023-01-09T23:51:44.595Z&quot;;\n        String utcOffset = &quot;UTC +6&quot;;\n        DateTimeFormatter offsetFormatter = new DateTimeFormatterBuilder()\n                                            .appendLiteral(&quot;UTC &quot;)\n                                            .appendOffset(&quot;+H:mm&quot;, &quot;+0&quot;)\n                                            .toFormatter(Locale.ROOT);\n        ZoneOffset zoneOffset = offsetFormatter.parse(utcOffset, ZoneOffset::from);\n        // Rest of the lines are the same as the above code\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/8WZj5C\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"}],"owner":{"account_id":25278119,"reputation":31,"user_id":19106386,"display_name":"Shilpa HM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675090609,"creation_date":1675056076,"question_id":75280511,"body_markdown":"I have date which is in the format of(example) Date = 2023-01-09T23:51:44.595Z\r\nand I have utcOffset String utcOffset = &quot;UTC +6&quot;\r\n\r\nI want output as 2023-01-10T05:51:44.595Z in Date format.\r\n\r\nHow to achieve this??\r\n\r\nI should add UTC offset to existing date.\r\n\r\nTried this:\r\n```\r\npublic static void main(String[] args) throws ParseException {\r\n\t\tString rawDate = &quot;2023-01-09T23:51:44.595Z&quot;;\r\n\t\tString utcOffset = &quot;UTC +6&quot;;\r\n\r\n\t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ROOT);\r\n\t\tDate date = (Date) formatter.parse(rawDate);\r\n\t\tSimpleDateFormat formatter1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ROOT);\r\n\t\tString v = formatter1.format(date);\r\n\t\tSystem.out.println(&quot;Original raw date::::::::::&quot;+v);\r\n\t\t\r\n\t\tSystem.out.println(&quot;utcOffset::::::::::&quot;+utcOffset);\r\n\r\n\t\tDate triggerTime = date;\r\n\t\tString onlyHoursAndMin = StringUtils.strip(utcOffset, &quot;UTC &quot;);\r\n\r\n\t\tString[] split = onlyHoursAndMin.split(&quot;:&quot;);\r\n\t\tint hours = Integer.parseInt(&quot;0&quot;);\r\n\t\tint minutes = Integer.parseInt(&quot;0&quot;);\r\n\t\tif (split.length == 2) {\r\n\t\t\thours = Integer.parseInt(split[0]);\r\n\t\t\tminutes = Integer.parseInt(split[1]);\r\n\t\t} else if (split.length == 1) {\r\n\t\t\thours = Integer.parseInt(split[0]);\r\n\t\t\tminutes = Integer.parseInt(&quot;0&quot;);\r\n\t\t}\r\n\r\n\t\tTimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n\t\tCalendar calendar = Calendar.getInstance(timeZone);\r\n\t\tcalendar.setTime(triggerTime);\r\n\t\tcalendar.add(Calendar.HOUR_OF_DAY, hours);\r\n\t\tcalendar.add(Calendar.MINUTE, minutes);\r\n\t\tDate s = calendar.getTime();\r\n\t\t\r\n\t\tSimpleDateFormat utcFormatter1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ROOT);\r\n\t\tString newDate = utcFormatter1.format(s);\r\n\t\tSystem.out.println(&quot;Date in string format::::::::::::::&quot;+newDate);\r\n\t\t\r\n\t\tSimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ROOT);\r\n\t\tSimpleDateFormat format2 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ROOT);\r\n\t\tDate aaa = format1.parse(newDate);\r\n\t\tString bbb = format2.format(aaa);\r\n\t\tSystem.out.println(&quot;:::::::::::::&quot;+aaa);\r\n\t\tSystem.out.println(&quot;Date in correct format::::::::::::::&quot;+format2.format(aaa));\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\nbut finale Date format is Tue Jan 10 05:51:44 IST 2023 which is not expected.\r\n\r\nand when build I am getting below error as well:\r\nForbidden method invocation: java.util.Calendar#getInstance(java.util.TimeZone) [Uses default locale or time zone]","title":"Date conversion: add UTCOffset to existing timezone","body":"<p>I have date which is in the format of(example) Date = 2023-01-09T23:51:44.595Z\nand I have utcOffset String utcOffset = &quot;UTC +6&quot;</p>\n<p>I want output as 2023-01-10T05:51:44.595Z in Date format.</p>\n<p>How to achieve this??</p>\n<p>I should add UTC offset to existing date.</p>\n<p>Tried this:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n        String rawDate = &quot;2023-01-09T23:51:44.595Z&quot;;\n        String utcOffset = &quot;UTC +6&quot;;\n\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ROOT);\n        Date date = (Date) formatter.parse(rawDate);\n        SimpleDateFormat formatter1 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ROOT);\n        String v = formatter1.format(date);\n        System.out.println(&quot;Original raw date::::::::::&quot;+v);\n        \n        System.out.println(&quot;utcOffset::::::::::&quot;+utcOffset);\n\n        Date triggerTime = date;\n        String onlyHoursAndMin = StringUtils.strip(utcOffset, &quot;UTC &quot;);\n\n        String[] split = onlyHoursAndMin.split(&quot;:&quot;);\n        int hours = Integer.parseInt(&quot;0&quot;);\n        int minutes = Integer.parseInt(&quot;0&quot;);\n        if (split.length == 2) {\n            hours = Integer.parseInt(split[0]);\n            minutes = Integer.parseInt(split[1]);\n        } else if (split.length == 1) {\n            hours = Integer.parseInt(split[0]);\n            minutes = Integer.parseInt(&quot;0&quot;);\n        }\n\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\n        Calendar calendar = Calendar.getInstance(timeZone);\n        calendar.setTime(triggerTime);\n        calendar.add(Calendar.HOUR_OF_DAY, hours);\n        calendar.add(Calendar.MINUTE, minutes);\n        Date s = calendar.getTime();\n        \n        SimpleDateFormat utcFormatter1 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ROOT);\n        String newDate = utcFormatter1.format(s);\n        System.out.println(&quot;Date in string format::::::::::::::&quot;+newDate);\n        \n        SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ROOT);\n        SimpleDateFormat format2 = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ROOT);\n        Date aaa = format1.parse(newDate);\n        String bbb = format2.format(aaa);\n        System.out.println(&quot;:::::::::::::&quot;+aaa);\n        System.out.println(&quot;Date in correct format::::::::::::::&quot;+format2.format(aaa));\n        \n    }\n</code></pre>\n<p>but finale Date format is Tue Jan 10 05:51:44 IST 2023 which is not expected.</p>\n<p>and when build I am getting below error as well:\nForbidden method invocation: java.util.Calendar#getInstance(java.util.TimeZone) [Uses default locale or time zone]</p>\n"},{"tags":["java","authentication","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":1012183,"reputation":111,"user_id":1024510,"display_name":"AlexK"},"score":1,"creation_date":1320182233,"post_id":4664893,"comment_id":9749611,"body_markdown":"You can follow my answer to http://stackoverflow.com/questions/4824395/spring-security-forward-directive-cant-forward-to-login-form/7972971#7972971","body":"You can follow my answer to <a href=\"http://stackoverflow.com/questions/4824395/spring-security-forward-directive-cant-forward-to-login-form/7972971#7972971\" title=\"spring security forward directive cant forward to login form\">stackoverflow.com/questions/4824395/&hellip;</a>"},{"owner":{"account_id":90694,"reputation":31596,"user_id":249538,"accept_rate":91,"display_name":"goat"},"score":3,"creation_date":1511837256,"post_id":4664893,"comment_id":82002603,"body_markdown":"Readers, beware of the answers to this question if they tell you to do: `SecurityContextHolder.getContext().setAuthentication(authentication)`. It works, and is common, but there are serious functionality shortcomings that you will meet if you just do that. For more info, see my question, and the answer: https://stackoverflow.com/questions/47233187/spring-security-manual-login-best-practice","body":"Readers, beware of the answers to this question if they tell you to do: <code>SecurityContextHolder.getContext().setAuthentication(authent&zwnj;&#8203;ication)</code>. It works, and is common, but there are serious functionality shortcomings that you will meet if you just do that. For more info, see my question, and the answer: <a href=\"https://stackoverflow.com/questions/47233187/spring-security-manual-login-best-practice\" title=\"spring security manual login best practice\">stackoverflow.com/questions/47233187/&hellip;</a>"},{"owner":{"account_id":6300997,"reputation":11,"user_id":4895669,"display_name":"Mircea Lutic"},"score":0,"creation_date":1634926005,"post_id":4664893,"comment_id":123167157,"body_markdown":"Here is a related issue:\nhttps://stackoverflow.com/questions/69681254/how-to-configure-springboot-authentication-for-restcontroller","body":"Here is a related issue: <a href=\"https://stackoverflow.com/questions/69681254/how-to-configure-springboot-authentication-for-restcontroller\" title=\"how to configure springboot authentication for restcontroller\">stackoverflow.com/questions/69681254/&hellip;</a>"},{"owner":{"account_id":6300997,"reputation":11,"user_id":4895669,"display_name":"Mircea Lutic"},"score":0,"creation_date":1634926072,"post_id":4664893,"comment_id":123167185,"body_markdown":"Here is a related issue:\nhttps://stackoverflow.com/questions/69681254/how-to-configure-springboot-authentication-for-restcontroller","body":"Here is a related issue: <a href=\"https://stackoverflow.com/questions/69681254/how-to-configure-springboot-authentication-for-restcontroller\" title=\"how to configure springboot authentication for restcontroller\">stackoverflow.com/questions/69681254/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1322711302,"creation_date":1294801815,"answer_id":4665015,"question_id":4664893,"body_markdown":"Turn on debug logging to get a better picture of what is going on.\r\n\r\nYou can tell if the session cookies are being set by using a browser-side debugger to look at the headers returned in HTTP responses.  (There are other ways too.)\r\n\r\nOne possibility is that SpringSecurity is setting secure session cookies, and your next page requested has an &quot;http&quot; URL instead of an &quot;https&quot; URL.  (The browser won&#39;t send a secure cookie for an &quot;http&quot; URL.)","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>Turn on debug logging to get a better picture of what is going on.</p>\n\n<p>You can tell if the session cookies are being set by using a browser-side debugger to look at the headers returned in HTTP responses.  (There are other ways too.)</p>\n\n<p>One possibility is that SpringSecurity is setting secure session cookies, and your next page requested has an \"http\" URL instead of an \"https\" URL.  (The browser won't send a secure cookie for an \"http\" URL.)</p>\n"},{"tags":[],"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1294854488,"creation_date":1294854488,"answer_id":4672083,"question_id":4664893,"body_markdown":"I had the same problem as you a while back. I can&#39;t remember the details but the following code got things working for me. This code is used within a Spring Webflow flow, hence the RequestContext and ExternalContext classes. But the part that is most relevant to you is the doAutoLogin method. \r\n\r\n    public String registerUser(UserRegistrationFormBean userRegistrationFormBean,\r\n                               RequestContext requestContext,\r\n                               ExternalContext externalContext) {\r\n\r\n        try {\r\n            Locale userLocale = requestContext.getExternalContext().getLocale();\r\n            this.userService.createNewUser(userRegistrationFormBean, userLocale, Constants.SYSTEM_USER_ID);\r\n            String emailAddress = userRegistrationFormBean.getChooseEmailAddressFormBean().getEmailAddress();\r\n            String password = userRegistrationFormBean.getChoosePasswordFormBean().getPassword();\r\n            doAutoLogin(emailAddress, password, (HttpServletRequest) externalContext.getNativeRequest());\r\n            return &quot;success&quot;;\r\n\r\n        } catch (EmailAddressNotUniqueException e) {\r\n            MessageResolver messageResolvable \r\n                    = new MessageBuilder().error()\r\n                                          .source(UserRegistrationFormBean.PROPERTYNAME_EMAIL_ADDRESS)\r\n                                          .code(&quot;userRegistration.emailAddress.not.unique&quot;)\r\n                                          .build();\r\n            requestContext.getMessageContext().addMessage(messageResolvable);\r\n            return &quot;error&quot;;\r\n        }\r\n        \r\n    }\r\n    \r\n\r\n    private void doAutoLogin(String username, String password, HttpServletRequest request) {\r\n\r\n        try {\r\n            // Must be called from request filtered by Spring Security, otherwise SecurityContextHolder is not updated\r\n            UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password);\r\n            token.setDetails(new WebAuthenticationDetails(request));\r\n            Authentication authentication = this.authenticationProvider.authenticate(token);\r\n            logger.debug(&quot;Logging in with [{}]&quot;, authentication.getPrincipal());\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        } catch (Exception e) {\r\n            SecurityContextHolder.getContext().setAuthentication(null);\r\n            logger.error(&quot;Failure in autoLogin&quot;, e);\r\n        }\r\n        \r\n    }","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>I had the same problem as you a while back. I can't remember the details but the following code got things working for me. This code is used within a Spring Webflow flow, hence the RequestContext and ExternalContext classes. But the part that is most relevant to you is the doAutoLogin method. </p>\n\n<pre><code>public String registerUser(UserRegistrationFormBean userRegistrationFormBean,\n                           RequestContext requestContext,\n                           ExternalContext externalContext) {\n\n    try {\n        Locale userLocale = requestContext.getExternalContext().getLocale();\n        this.userService.createNewUser(userRegistrationFormBean, userLocale, Constants.SYSTEM_USER_ID);\n        String emailAddress = userRegistrationFormBean.getChooseEmailAddressFormBean().getEmailAddress();\n        String password = userRegistrationFormBean.getChoosePasswordFormBean().getPassword();\n        doAutoLogin(emailAddress, password, (HttpServletRequest) externalContext.getNativeRequest());\n        return \"success\";\n\n    } catch (EmailAddressNotUniqueException e) {\n        MessageResolver messageResolvable \n                = new MessageBuilder().error()\n                                      .source(UserRegistrationFormBean.PROPERTYNAME_EMAIL_ADDRESS)\n                                      .code(\"userRegistration.emailAddress.not.unique\")\n                                      .build();\n        requestContext.getMessageContext().addMessage(messageResolvable);\n        return \"error\";\n    }\n\n}\n\n\nprivate void doAutoLogin(String username, String password, HttpServletRequest request) {\n\n    try {\n        // Must be called from request filtered by Spring Security, otherwise SecurityContextHolder is not updated\n        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password);\n        token.setDetails(new WebAuthenticationDetails(request));\n        Authentication authentication = this.authenticationProvider.authenticate(token);\n        logger.debug(\"Logging in with [{}]\", authentication.getPrincipal());\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    } catch (Exception e) {\n        SecurityContextHolder.getContext().setAuthentication(null);\n        logger.error(\"Failure in autoLogin\", e);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1294883867,"creation_date":1294883867,"answer_id":4676078,"question_id":4664893,"body_markdown":"Ultimately figured out the root of the problem.\r\n\r\nWhen I create the security context manually no session object is created. Only when the request finishes processing does the Spring Security mechanism realize that the session object is null (when it tries to store the security context to the session after the request has been processed).\r\n\r\nAt the end of the request Spring Security creates a new session object and session ID. However this new session ID never makes it to the browser because it occurs at the end of the request, after the response to the browser has been made. This causes the new session ID (and hence the Security context containing my manually logged on user) to be lost when the next request contains the previous session ID.\r\n\r\n","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>Ultimately figured out the root of the problem.</p>\n\n<p>When I create the security context manually no session object is created. Only when the request finishes processing does the Spring Security mechanism realize that the session object is null (when it tries to store the security context to the session after the request has been processed).</p>\n\n<p>At the end of the request Spring Security creates a new session object and session ID. However this new session ID never makes it to the browser because it occurs at the end of the request, after the response to the browser has been made. This causes the new session ID (and hence the Security context containing my manually logged on user) to be lost when the next request contains the previous session ID.</p>\n"},{"tags":[],"owner":{"account_id":1012183,"reputation":111,"user_id":1024510,"display_name":"AlexK"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519716773,"creation_date":1320182388,"answer_id":7973063,"question_id":4664893,"body_markdown":"The new filtering feature in Servlet 2.4 basically alleviates the restriction that filters can only operate in the request flow before and after the actual request processing by the application server. Instead, Servlet 2.4 filters can now interact with the request dispatcher at every dispatch point. This means that when a Web resource forwards a request to another resource (for instance, a servlet forwarding the request to a JSP page in the same application), a filter can be operating before the request is handled by the targeted resource. It also means that should a Web resource include the output or function from other Web resources (for instance, a JSP page including the output from multiple other JSP pages), Servlet 2.4 filters can work before and after each of the included resources. . \r\n\r\nTo turn on that feature you need:\r\n\r\n**web.xml**\r\n\r\n    &lt;filter&gt;   \r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;   \r\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; \r\n    &lt;/filter&gt;  \r\n    &lt;filter-mapping&gt;   \r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;   \r\n        &lt;url-pattern&gt;/&lt;strike&gt;*&lt;/strike&gt;&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n**RegistrationController**\r\n\r\n    return &quot;forward:/login?j_username=&quot; + registrationModel.getUserEmail()\r\n            + &quot;&amp;j_password=&quot; + registrationModel.getPassword();","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>The new filtering feature in Servlet 2.4 basically alleviates the restriction that filters can only operate in the request flow before and after the actual request processing by the application server. Instead, Servlet 2.4 filters can now interact with the request dispatcher at every dispatch point. This means that when a Web resource forwards a request to another resource (for instance, a servlet forwarding the request to a JSP page in the same application), a filter can be operating before the request is handled by the targeted resource. It also means that should a Web resource include the output or function from other Web resources (for instance, a JSP page including the output from multiple other JSP pages), Servlet 2.4 filters can work before and after each of the included resources. . </p>\n\n<p>To turn on that feature you need:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;filter&gt;   \n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;   \n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; \n&lt;/filter&gt;  \n&lt;filter-mapping&gt;   \n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;   \n    &lt;url-pattern&gt;/&lt;strike&gt;*&lt;/strike&gt;&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p><strong>RegistrationController</strong></p>\n\n<pre><code>return \"forward:/login?j_username=\" + registrationModel.getUserEmail()\n        + \"&amp;j_password=\" + registrationModel.getPassword();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1076689,"reputation":948,"user_id":1074677,"display_name":"Stuart McIntyre"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1675090335,"creation_date":1322710496,"answer_id":8336233,"question_id":4664893,"body_markdown":"I couldn&#39;t find any other full solutions so I thought I would post mine.  This may be a bit of a hack, but it resolved the issue to the above problem:\r\n\r\n        @Autowired\r\n        AuthenticationServiceImpl authenticationManager;\r\n    \r\n        public void login(HttpServletRequest request, String userName, String password) {\r\n        \r\n            UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(userName, password);\r\n    \r\n            // Authenticate the user\r\n            Authentication authentication = authenticationManager.authenticate(authRequest);\r\n            SecurityContext securityContext = SecurityContextHolder.getContext();\r\n            securityContext.setAuthentication(authentication);\r\n    \r\n            // Create a new session and add the security context.\r\n            HttpSession session = request.getSession(true);\r\n            session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\r\n        }\r\n\r\n  \r\n","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>I couldn't find any other full solutions so I thought I would post mine.  This may be a bit of a hack, but it resolved the issue to the above problem:</p>\n<pre><code>    @Autowired\n    AuthenticationServiceImpl authenticationManager;\n\n    public void login(HttpServletRequest request, String userName, String password) {\n    \n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(userName, password);\n\n        // Authenticate the user\n        Authentication authentication = authenticationManager.authenticate(authRequest);\n        SecurityContext securityContext = SecurityContextHolder.getContext();\n        securityContext.setAuthentication(authentication);\n\n        // Create a new session and add the security context.\n        HttpSession session = request.getSession(true);\n        session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1403177170,"creation_date":1403176635,"answer_id":24305274,"question_id":4664893,"body_markdown":"I was trying to test an extjs application and after sucessfully setting a testingAuthenticationToken this suddenly stopped working with no obvious cause.\r\n\r\nI couldn&#39;t get the above answers to work so my solution was to skip out this bit of spring in the test environment. I introduced a seam around spring like this: \r\n\r\n    public class SpringUserAccessor implements UserAccessor\r\n    {\r\n        @Override\r\n        public User getUser()\r\n        {\r\n            SecurityContext context = SecurityContextHolder.getContext();\r\n            Authentication authentication = context.getAuthentication();\r\n            return (User) authentication.getPrincipal();\r\n        }\r\n    }\r\n\r\nUser is a custom type here.\r\n\r\nI&#39;m then wrapping it in a class which just has an option for the test code to switch spring out.\r\n\r\n    public class CurrentUserAccessor\r\n    {\r\n        private static UserAccessor _accessor;\r\n    \r\n        public CurrentUserAccessor()\r\n        {\r\n            _accessor = new SpringUserAccessor();\r\n        }\r\n    \r\n        public User getUser()\r\n        {\r\n            return _accessor.getUser();\r\n        }\r\n    \r\n        public static void UseTestingAccessor(User user)\r\n        {\r\n            _accessor = new TestUserAccessor(user);\r\n        }\r\n    }\r\n\r\nThe test version just looks like this:\r\n\r\n    public class TestUserAccessor implements UserAccessor\r\n    {\r\n        private static User _user;\r\n    \r\n        public TestUserAccessor(User user)\r\n        {\r\n            _user = user;\r\n        }\r\n    \r\n        @Override\r\n        public User getUser()\r\n        {\r\n            return _user;\r\n        }\r\n    }\r\n\r\nIn the calling code I&#39;m still using a proper user loaded from the database:\r\n\r\n        User user = (User) _userService.loadUserByUsername(username);\r\n        CurrentUserAccessor.UseTestingAccessor(user);\r\n\r\nObviously this wont be suitable if you actually need to use the security but I&#39;m running with a no-security setup for the testing deployment.  I thought someone else might run into a similar situation.  This is a pattern I&#39;ve used for mocking out static dependencies before.  The other alternative is you can maintain the staticness of the wrapper class but I prefer this one as the dependencies of the code are more explicit since you have to pass CurrentUserAccessor into classes where it is required.","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>I was trying to test an extjs application and after sucessfully setting a testingAuthenticationToken this suddenly stopped working with no obvious cause.</p>\n\n<p>I couldn't get the above answers to work so my solution was to skip out this bit of spring in the test environment. I introduced a seam around spring like this: </p>\n\n<pre><code>public class SpringUserAccessor implements UserAccessor\n{\n    @Override\n    public User getUser()\n    {\n        SecurityContext context = SecurityContextHolder.getContext();\n        Authentication authentication = context.getAuthentication();\n        return (User) authentication.getPrincipal();\n    }\n}\n</code></pre>\n\n<p>User is a custom type here.</p>\n\n<p>I'm then wrapping it in a class which just has an option for the test code to switch spring out.</p>\n\n<pre><code>public class CurrentUserAccessor\n{\n    private static UserAccessor _accessor;\n\n    public CurrentUserAccessor()\n    {\n        _accessor = new SpringUserAccessor();\n    }\n\n    public User getUser()\n    {\n        return _accessor.getUser();\n    }\n\n    public static void UseTestingAccessor(User user)\n    {\n        _accessor = new TestUserAccessor(user);\n    }\n}\n</code></pre>\n\n<p>The test version just looks like this:</p>\n\n<pre><code>public class TestUserAccessor implements UserAccessor\n{\n    private static User _user;\n\n    public TestUserAccessor(User user)\n    {\n        _user = user;\n    }\n\n    @Override\n    public User getUser()\n    {\n        return _user;\n    }\n}\n</code></pre>\n\n<p>In the calling code I'm still using a proper user loaded from the database:</p>\n\n<pre><code>    User user = (User) _userService.loadUserByUsername(username);\n    CurrentUserAccessor.UseTestingAccessor(user);\n</code></pre>\n\n<p>Obviously this wont be suitable if you actually need to use the security but I'm running with a no-security setup for the testing deployment.  I thought someone else might run into a similar situation.  This is a pattern I've used for mocking out static dependencies before.  The other alternative is you can maintain the staticness of the wrapper class but I prefer this one as the dependencies of the code are more explicit since you have to pass CurrentUserAccessor into classes where it is required.</p>\n"}],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232446,"favorite_count":0,"down_vote_count":0,"up_vote_count":125,"accepted_answer_id":4672083,"answer_count":6,"score":125,"last_activity_date":1675090335,"creation_date":1294800251,"question_id":4664893,"body_markdown":"After a new user submits a &#39;New account&#39; form, I want to manually log that user in so they don&#39;t have to login on the subsequent page.\r\n\r\nThe normal form login page going through the spring security interceptor works just fine.\r\n\r\nIn the new-account-form controller I am creating a UsernamePasswordAuthenticationToken and setting it in the SecurityContext manually:\r\n\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\nOn that same page I later check that the user is logged in with:\r\n\r\n    SecurityContextHolder.getContext().getAuthentication().getAuthorities();\r\n\r\nThis returns the authorities I set earlier in the authentication. All is well.\r\n\r\nBut when this same code is called on the very next page I load, the authentication token is just UserAnonymous.\r\n\r\nI&#39;m not clear why it did not keep the authentication I set on the previous request. Any thoughts?\r\n\r\n - Could it have to do with session ID&#39;s not being set up correctly?\r\n - Is there something that is possibly overwriting my authentication somehow?\r\n - Perhaps I just need another step to save the authentication?\r\n - Or is there something I need to do to declare the authentication across the whole session rather than a single request somehow?\r\n\r\nJust looking for some thoughts that might help me see what&#39;s happening here.","title":"How to manually set an authenticated user in Spring Security / SpringMVC","body":"<p>After a new user submits a 'New account' form, I want to manually log that user in so they don't have to login on the subsequent page.</p>\n\n<p>The normal form login page going through the spring security interceptor works just fine.</p>\n\n<p>In the new-account-form controller I am creating a UsernamePasswordAuthenticationToken and setting it in the SecurityContext manually:</p>\n\n<pre><code>SecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n\n<p>On that same page I later check that the user is logged in with:</p>\n\n<pre><code>SecurityContextHolder.getContext().getAuthentication().getAuthorities();\n</code></pre>\n\n<p>This returns the authorities I set earlier in the authentication. All is well.</p>\n\n<p>But when this same code is called on the very next page I load, the authentication token is just UserAnonymous.</p>\n\n<p>I'm not clear why it did not keep the authentication I set on the previous request. Any thoughts?</p>\n\n<ul>\n<li>Could it have to do with session ID's not being set up correctly?</li>\n<li>Is there something that is possibly overwriting my authentication somehow?</li>\n<li>Perhaps I just need another step to save the authentication?</li>\n<li>Or is there something I need to do to declare the authentication across the whole session rather than a single request somehow?</li>\n</ul>\n\n<p>Just looking for some thoughts that might help me see what's happening here.</p>\n"},{"tags":["java","spring-integration","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675090285,"creation_date":1675090285,"answer_id":75286088,"question_id":75271589,"body_markdown":"First of all it looks like you use very old Spring Integration version. See if you can upgrade to most recent: https://spring.io/projects/spring-integration#support.\r\n\r\nThen I see that you configure your `SftpOutboundGateway` to rely on `file_remoteFile` and `file_renameTo` headers, but your `rename()` gateway contract does not populate those headers. Not sure what would you expect from the `SftpOutboundGateway` if you don&#39;t supply respective data...","title":"How to move file from directory to another with spring integration and sftp","body":"<p>First of all it looks like you use very old Spring Integration version. See if you can upgrade to most recent: <a href=\"https://spring.io/projects/spring-integration#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-integration#support</a>.</p>\n<p>Then I see that you configure your <code>SftpOutboundGateway</code> to rely on <code>file_remoteFile</code> and <code>file_renameTo</code> headers, but your <code>rename()</code> gateway contract does not populate those headers. Not sure what would you expect from the <code>SftpOutboundGateway</code> if you don't supply respective data...</p>\n"}],"owner":{"account_id":5477948,"reputation":1,"user_id":4355427,"display_name":"Wael90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675090285,"creation_date":1674948034,"question_id":75271589,"body_markdown":"I am facing errors trying to move a file from one directory to another \r\n\r\nhere my code that i added\r\n\r\n```\r\n\t\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;moveFiles&quot; )\r\n    public MessageHandler sftpPutHandler(){\r\n        SftpOutboundGateway sftpOutboundGateway = new SftpOutboundGateway(sftpSessionFactory(), &quot;mv&quot;, &quot;headers[&#39;file_remoteFile&#39;]&quot;);\r\n        sftpOutboundGateway.setRenameExpression(new SpelExpressionParser().parseExpression(&quot;headers[&#39;file_renameTo&#39;]&quot;));\r\n        sftpOutboundGateway.setChmod(777);\r\n        return sftpOutboundGateway;\r\n    }\r\n    \r\n\r\n\t@MessagingGateway\r\n\tpublic interface fileGateway {\r\n\t\t\r\n\t\t@Gateway(requestChannel = &quot;moveFiles&quot;)\r\n        void rename(File file);\r\n\t}\r\n\t\r\n```\r\nactually i tried many times to change the new path of the file (the new placement) and i failed\r\n\r\nIhave got this error\r\n\r\n\r\n```\r\n\r\njava.lang.NullPointerException: null\r\n\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.getRemoteFilename(AbstractRemoteFileOutboundGateway.java:1238)\r\n\r\n2023-01-29 00:18:56.923  WARN 15520 --- [ XNIO-2 task-17] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by Handler execution: java.lang.NullPointerException\r\n```\r\n","title":"How to move file from directory to another with spring integration and sftp","body":"<p>I am facing errors trying to move a file from one directory to another</p>\n<p>here my code that i added</p>\n<pre><code>    \n    @Bean\n    @ServiceActivator(inputChannel = &quot;moveFiles&quot; )\n    public MessageHandler sftpPutHandler(){\n        SftpOutboundGateway sftpOutboundGateway = new SftpOutboundGateway(sftpSessionFactory(), &quot;mv&quot;, &quot;headers['file_remoteFile']&quot;);\n        sftpOutboundGateway.setRenameExpression(new SpelExpressionParser().parseExpression(&quot;headers['file_renameTo']&quot;));\n        sftpOutboundGateway.setChmod(777);\n        return sftpOutboundGateway;\n    }\n    \n\n    @MessagingGateway\n    public interface fileGateway {\n        \n        @Gateway(requestChannel = &quot;moveFiles&quot;)\n        void rename(File file);\n    }\n    \n</code></pre>\n<p>actually i tried many times to change the new path of the file (the new placement) and i failed</p>\n<p>Ihave got this error</p>\n<pre><code>\njava.lang.NullPointerException: null\n    at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.getRemoteFilename(AbstractRemoteFileOutboundGateway.java:1238)\n\n2023-01-29 00:18:56.923  WARN 15520 --- [ XNIO-2 task-17] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by Handler execution: java.lang.NullPointerException\n</code></pre>\n"},{"tags":["java","swing","jdesktoppane"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1674836175,"post_id":75260503,"comment_id":132804797,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use Internal Frames](https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow noreferrer\">How to Use Internal Frames</a> section."},{"owner":{"account_id":26964225,"reputation":3,"user_id":20531388,"display_name":"Alfredo Aparicio"},"score":0,"creation_date":1674838268,"post_id":75260503,"comment_id":132805468,"body_markdown":"@GilbertLeBlanc I&#39;m not using any GUI, writing all the code by myself in intellij. This is working for me, since the project is being updated once in a while and the GUI version needed to be graphically improved too.","body":"@GilbertLeBlanc I&#39;m not using any GUI, writing all the code by myself in intellij. This is working for me, since the project is being updated once in a while and the GUI version needed to be graphically improved too."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1674838582,"post_id":75260503,"comment_id":132805580,"body_markdown":"The code in your question is not a [mcve] since it is missing code for class `Internal_Frametst`.","body":"The code in your question is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> since it is missing code for class <code>Internal_Frametst</code>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1674838718,"post_id":75260503,"comment_id":132805627,"body_markdown":"*This is working for me,* - then why are you asking a question??? The code posted here is wrong. There is no need for a panel or layout managers or manually invoking repaint(). You add the desktop pane to the frame and the internal frame to the desktop pane. Read the tutorial and download the working examples to understand how to use a desktop pane and internal frames. Because a desktop pane doesn&#39;t use a layout manager (so you can drag internal frames) you need to set the size of the internal frames manually.","body":"<i>This is working for me,</i> - then why are you asking a question??? The code posted here is wrong. There is no need for a panel or layout managers or manually invoking repaint(). You add the desktop pane to the frame and the internal frame to the desktop pane. Read the tutorial and download the working examples to understand how to use a desktop pane and internal frames. Because a desktop pane doesn&#39;t use a layout manager (so you can drag internal frames) you need to set the size of the internal frames manually."},{"owner":{"account_id":26964225,"reputation":3,"user_id":20531388,"display_name":"Alfredo Aparicio"},"score":0,"creation_date":1674839210,"post_id":75260503,"comment_id":132805791,"body_markdown":"@Abra I didn&#39;t add the custom internal code because the problem is not about the internal frame. (Added in the edit)","body":"@Abra I didn&#39;t add the custom internal code because the problem is not about the internal frame. (Added in the edit)"},{"owner":{"account_id":26964225,"reputation":3,"user_id":20531388,"display_name":"Alfredo Aparicio"},"score":0,"creation_date":1674839325,"post_id":75260503,"comment_id":132805831,"body_markdown":"@camickr the &quot;this is working for me&quot; was about working without GUIs, the problem is that my JDesktopPane is not displaying any component I add to it.","body":"@camickr the &quot;this is working for me&quot; was about working without GUIs, the problem is that my JDesktopPane is not displaying any component I add to it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674850520,"post_id":75260503,"comment_id":132808926,"body_markdown":"*my JDesktopPane is not displaying any component I add to it.* - I gave you the reason why. And you were given a link to the Swing tutorial with working examples, so I assume the problem is now solved?","body":"<i>my JDesktopPane is not displaying any component I add to it.</i> - I gave you the reason why. And you were given a link to the Swing tutorial with working examples, so I assume the problem is now solved?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674952207,"post_id":75260503,"comment_id":132824142,"body_markdown":"*and look for working examples* - not sure what you mean by &quot;look&quot;. The tutorial already contains working examples, so you don&#39;t have to look to far.","body":"<i>and look for working examples</i> - not sure what you mean by &quot;look&quot;. The tutorial already contains working examples, so you don&#39;t have to look to far."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675090269,"creation_date":1675090269,"answer_id":75286083,"question_id":75260503,"body_markdown":"Your code creates several components that are never added to the visible UI at all. In the version you have posted, the internal frame is invisible and the button to make it visible is not part of the frame. But there are also problems with the initial sizes of the components.\r\n\r\nI strongly recommend to keep the creation of a component, the setting of its initial properties, and the code to add it to a parent component close together in your source code.\r\n\r\nFurther, consider the points discussed in https://stackoverflow.com/q/49002/2711488 Your subclasses are entirely unnecessary.\r\n\r\nHere is a revised version of your code that will open the internal frame when the button is clicked:\r\n\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class UiExample {\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(UiExample::initializeUI);\r\n    }\r\n\r\n    static void initializeUI() {\r\n        JPanel p1 = new JPanel();\r\n        JButton b = new JButton(&quot;Show Internal Frame&quot;);\r\n        p1.add(b);\r\n\r\n        JInternalFrame ift = initializeInternalFrame();\r\n        b.addActionListener(e -&gt; {\r\n            ift.pack();\r\n            ift.setVisible(true);\r\n        });\r\n        JDesktopPane p = new JDesktopPane();\r\n        p.add(ift);\r\n\r\n        JFrame mainFrame = new JFrame();\r\n        mainFrame.setSize(300, 200);\r\n        mainFrame.getContentPane().add(p, BorderLayout.CENTER);\r\n        mainFrame.getContentPane().add(p1, BorderLayout.PAGE_START);\r\n        mainFrame.setVisible(true);\r\n    }\r\n\r\n    static JInternalFrame initializeInternalFrame() {\r\n        JInternalFrame iFrame = new JInternalFrame();\r\n        iFrame.setIconifiable(true);\r\n        // setIcon(true);\r\n        iFrame.setClosable(true);\r\n        iFrame.setDefaultCloseOperation(JInternalFrame.HIDE_ON_CLOSE);\r\n        JPanel p = new JPanel();\r\n        p.add(new JLabel(&quot;Hello&quot;));\r\n        iFrame.add(p);\r\n        return iFrame;\r\n    }\r\n}\r\n```\r\n\r\nNote that `setDefaultCloseOperation(JInternalFrame.HIDE_ON_CLOSE)` is necessary for being able to show the frame again via `setVisible(true)` after the internal frame has been closed.\r\n","title":"JDesktopPane not displaying any component","body":"<p>Your code creates several components that are never added to the visible UI at all. In the version you have posted, the internal frame is invisible and the button to make it visible is not part of the frame. But there are also problems with the initial sizes of the components.</p>\n<p>I strongly recommend to keep the creation of a component, the setting of its initial properties, and the code to add it to a parent component close together in your source code.</p>\n<p>Further, consider the points discussed in <a href=\"https://stackoverflow.com/q/49002/2711488\">Prefer composition over inheritance?</a> Your subclasses are entirely unnecessary.</p>\n<p>Here is a revised version of your code that will open the internal frame when the button is clicked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.*;\n\npublic class UiExample {\n    public static void main(String[] args) {\n        EventQueue.invokeLater(UiExample::initializeUI);\n    }\n\n    static void initializeUI() {\n        JPanel p1 = new JPanel();\n        JButton b = new JButton(&quot;Show Internal Frame&quot;);\n        p1.add(b);\n\n        JInternalFrame ift = initializeInternalFrame();\n        b.addActionListener(e -&gt; {\n            ift.pack();\n            ift.setVisible(true);\n        });\n        JDesktopPane p = new JDesktopPane();\n        p.add(ift);\n\n        JFrame mainFrame = new JFrame();\n        mainFrame.setSize(300, 200);\n        mainFrame.getContentPane().add(p, BorderLayout.CENTER);\n        mainFrame.getContentPane().add(p1, BorderLayout.PAGE_START);\n        mainFrame.setVisible(true);\n    }\n\n    static JInternalFrame initializeInternalFrame() {\n        JInternalFrame iFrame = new JInternalFrame();\n        iFrame.setIconifiable(true);\n        // setIcon(true);\n        iFrame.setClosable(true);\n        iFrame.setDefaultCloseOperation(JInternalFrame.HIDE_ON_CLOSE);\n        JPanel p = new JPanel();\n        p.add(new JLabel(&quot;Hello&quot;));\n        iFrame.add(p);\n        return iFrame;\n    }\n}\n</code></pre>\n<p>Note that <code>setDefaultCloseOperation(JInternalFrame.HIDE_ON_CLOSE)</code> is necessary for being able to show the frame again via <code>setVisible(true)</code> after the internal frame has been closed.</p>\n"}],"owner":{"account_id":26964225,"reputation":3,"user_id":20531388,"display_name":"Alfredo Aparicio"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75286083,"answer_count":1,"score":-1,"last_activity_date":1675090269,"creation_date":1674835190,"question_id":75260503,"body_markdown":"I&#39;m experimenting with desktop panes so I can use them in my work projects. The problem here is that I want to use an JInternalFrame within a JDesktopPane, in a normal JPanel it shows normally but cannot move it, using the desktop pane doesn&#39;t display any component added.\r\n\r\nHere is the code of the last try, is simple just for learning how it works:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Internal_FrameShowtst extends JFrame{\r\n\r\n    Internal_FrameShowtst(){\r\n        BorderLayout bl = new BorderLayout();\r\n        JDesktopPane p = new JDesktopPane();\r\n        JPanel p1 = new JPanel();\r\n        JButton b = new JButton(&quot;click&quot;);\r\n        JInternalFrame in = new JInternalFrame(&quot;Test&quot;);\r\n        Internal_Frametst ift = new Internal_Frametst();\r\n        b.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                //p1.add(new JLabel(&quot;hola&quot;));\r\n                //in.add(p1);\r\n                //in.setVisible(true);\r\n                ift.setVisible(true);\r\n            }\r\n        });\r\n        p1.add(b);\r\n        bl.addLayoutComponent(p,BorderLayout.CENTER);\r\n        //p.add(in);\r\n        p.add(ift);\r\n        p.repaint();\r\n        setLayout(bl);\r\n        add(p);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                new Internal_FrameShowtst().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\ncustom internal frame class:\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class Internal_Frametst extends JInternalFrame {\r\n\r\n    Internal_Frametst(){\r\n        JPanel p = new JPanel();\r\n        JLabel label = new JLabel(&quot;Halo&quot;);\r\n        setIconifiable(true);\r\n        //setIcon(true);\r\n        setClosable(true);\r\n        p.add(label);\r\n        p.setSize(300,300);\r\n        add(p);\r\n        //setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve read and tried the following:\r\nhttps://stackoverflow.com/q/70552413/20531388\r\nhttps://stackoverflow.com/questions/67928423/jdesktoppane-not-displaying-components-when-adding-jinternalframe\r\n\r\n\r\nI&#39;ve tried adding the components directly, adding a JPanel, adding the internal frame, trying without it, creating the internal frame in the main class, creating my own internal frame in its own class, using layout managers with both panels (normal and desktop), all with the same result.","title":"JDesktopPane not displaying any component","body":"<p>I'm experimenting with desktop panes so I can use them in my work projects. The problem here is that I want to use an JInternalFrame within a JDesktopPane, in a normal JPanel it shows normally but cannot move it, using the desktop pane doesn't display any component added.</p>\n<p>Here is the code of the last try, is simple just for learning how it works:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Internal_FrameShowtst extends JFrame{\n\n    Internal_FrameShowtst(){\n        BorderLayout bl = new BorderLayout();\n        JDesktopPane p = new JDesktopPane();\n        JPanel p1 = new JPanel();\n        JButton b = new JButton(&quot;click&quot;);\n        JInternalFrame in = new JInternalFrame(&quot;Test&quot;);\n        Internal_Frametst ift = new Internal_Frametst();\n        b.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                //p1.add(new JLabel(&quot;hola&quot;));\n                //in.add(p1);\n                //in.setVisible(true);\n                ift.setVisible(true);\n            }\n        });\n        p1.add(b);\n        bl.addLayoutComponent(p,BorderLayout.CENTER);\n        //p.add(in);\n        p.add(ift);\n        p.repaint();\n        setLayout(bl);\n        add(p);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Internal_FrameShowtst().setVisible(true);\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>custom internal frame class:</p>\n<pre><code>import javax.swing.*;\n\npublic class Internal_Frametst extends JInternalFrame {\n\n    Internal_Frametst(){\n        JPanel p = new JPanel();\n        JLabel label = new JLabel(&quot;Halo&quot;);\n        setIconifiable(true);\n        //setIcon(true);\n        setClosable(true);\n        p.add(label);\n        p.setSize(300,300);\n        add(p);\n        //setVisible(true);\n    }\n}\n</code></pre>\n<p>I've read and tried the following:\n<a href=\"https://stackoverflow.com/q/70552413/20531388\">Components inside JDesktopPane not showing</a>\n<a href=\"https://stackoverflow.com/questions/67928423/jdesktoppane-not-displaying-components-when-adding-jinternalframe\">JDesktopPane not displaying components when adding JInternalFrame</a></p>\n<p>I've tried adding the components directly, adding a JPanel, adding the internal frame, trying without it, creating the internal frame in the main class, creating my own internal frame in its own class, using layout managers with both panels (normal and desktop), all with the same result.</p>\n"},{"tags":["java","android","date","datetime","kotlin"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1488451194,"post_id":42553017,"comment_id":72240989,"body_markdown":"What are `startDate` and `endDate`, exactly? (We don&#39;t even know their types at the moment.) If you could use Joda Time instead, that would be a *lot* better, btw.","body":"What are <code>startDate</code> and <code>endDate</code>, exactly? (We don&#39;t even know their types at the moment.) If you could use Joda Time instead, that would be a <i>lot</i> better, btw."},{"owner":{"account_id":10042539,"reputation":923,"user_id":7424946,"accept_rate":75,"display_name":"debo.stackoverflow"},"score":0,"creation_date":1488451817,"post_id":42553017,"comment_id":72241405,"body_markdown":"@JonSkeet startDate = (string)2/3/2017 endDate = (string)3/3/2017","body":"@JonSkeet startDate = (string)2/3/2017 endDate = (string)3/3/2017"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1488452259,"post_id":42553017,"comment_id":72241697,"body_markdown":"So you&#39;re using the deprecated `Date(String)` constructor? I&#39;d stop doing that, to start with. I&#39;d suggest using `SimpleDateFormat` with a specific format and using the UTC time zone. (It may well be that you&#39;re getting the wrong result because of a DST transition - it&#39;s hard to know without knowing which time zone you&#39;re in.)","body":"So you&#39;re using the deprecated <code>Date(String)</code> constructor? I&#39;d stop doing that, to start with. I&#39;d suggest using <code>SimpleDateFormat</code> with a specific format and using the UTC time zone. (It may well be that you&#39;re getting the wrong result because of a DST transition - it&#39;s hard to know without knowing which time zone you&#39;re in.)"},{"owner":{"account_id":10042539,"reputation":923,"user_id":7424946,"accept_rate":75,"display_name":"debo.stackoverflow"},"score":0,"creation_date":1488453269,"post_id":42553017,"comment_id":72242361,"body_markdown":"@JonSkeet Ok I have implemented Sachin answer which uses the Simple date Format.From now on will not use Date constructor.","body":"@JonSkeet Ok I have implemented Sachin answer which uses the Simple date Format.From now on will not use Date constructor."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1488453291,"post_id":42553017,"comment_id":72242375,"body_markdown":"Glad to hear it. That constructor was deprecated over 20 years ago :)","body":"Glad to hear it. That constructor was deprecated over 20 years ago :)"},{"owner":{"account_id":10042539,"reputation":923,"user_id":7424946,"accept_rate":75,"display_name":"debo.stackoverflow"},"score":0,"creation_date":1488453395,"post_id":42553017,"comment_id":72242431,"body_markdown":"@JonSkeet :) Thanks","body":"@JonSkeet :) Thanks"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1518232811,"post_id":42553017,"comment_id":84433047,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), `java.util.Calendar` and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html). **See the [modern Answer by Anton Balaniuc](https://stackoverflow.com/a/42553293/642706).**","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <code>java.util.Calendar</code> and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>. <b>See the <a href=\"https://stackoverflow.com/a/42553293/642706\">modern Answer by Anton Balaniuc</a>.</b>"},{"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"score":0,"creation_date":1531136071,"post_id":42553017,"comment_id":89467600,"body_markdown":"follow the below link it will work for u.the easy way https://stackoverflow.com/a/51244555/5697474","body":"follow the below link it will work for u.the easy way <a href=\"https://stackoverflow.com/a/51244555/5697474\">stackoverflow.com/a/51244555/5697474</a>"},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1630408355,"post_id":42553017,"comment_id":121942538,"body_markdown":"You should try this https://stackoverflow.com/a/68997515/15005298","body":"You should try this <a href=\"https://stackoverflow.com/a/68997515/15005298\">stackoverflow.com/a/68997515/15005298</a>"}],"answers":[{"tags":[],"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"down_vote_count":1,"up_vote_count":69,"is_accepted":true,"score":68,"last_activity_date":1488452642,"creation_date":1488451190,"answer_id":42553096,"question_id":42553017,"body_markdown":"Your code for generating date object:\r\n     \r\n    Date date = new Date(&quot;2/3/2017&quot;); //deprecated\r\n\r\nYou are getting 28 days as answer because according to `Date(String)` constructor it is thinking day = 3,month = 2 and year = 2017\r\n\r\nYou can convert String to Date as follows:\r\n    \r\n    String dateStr = &quot;2/3/2017&quot;;\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\tDate date = sdf.parse(dateStr);\r\n\r\nUse above template to make your Date object. Then use below code for calculating days in between two dates. Hope this clear the thing.\r\n\r\nIt can de done as follows:\r\n\r\n    long diff = endDateValue.getTime() - startDateValue.getTime();\r\n    System.out.println (&quot;Days: &quot; + TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS));\r\n\r\nPlease check [link][1]\r\n\r\nIf you use Joda Time it is much more simple:\r\n    \r\n    int days = Days.daysBetween(date1, date2).getDays();\r\n\r\nPlease check [JodaTime][2]\r\n\r\n[How to use JodaTime in Java Project][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20165564/calculating-days-between-two-dates-with-in-java\r\n  [2]: https://stackoverflow.com/questions/7103064/java-calculate-the-number-of-days-between-two-dates\r\n  [3]: https://stackoverflow.com/questions/12105164/java-joda-time-download-and-install-step-by-step","title":"Android calculate days between two dates","body":"<p>Your code for generating date object:</p>\n\n<pre><code>Date date = new Date(\"2/3/2017\"); //deprecated\n</code></pre>\n\n<p>You are getting 28 days as answer because according to <code>Date(String)</code> constructor it is thinking day = 3,month = 2 and year = 2017</p>\n\n<p>You can convert String to Date as follows:</p>\n\n<pre><code>String dateStr = \"2/3/2017\";\nSimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\nDate date = sdf.parse(dateStr);\n</code></pre>\n\n<p>Use above template to make your Date object. Then use below code for calculating days in between two dates. Hope this clear the thing.</p>\n\n<p>It can de done as follows:</p>\n\n<pre><code>long diff = endDateValue.getTime() - startDateValue.getTime();\nSystem.out.println (\"Days: \" + TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS));\n</code></pre>\n\n<p>Please check <a href=\"https://stackoverflow.com/questions/20165564/calculating-days-between-two-dates-with-in-java\">link</a></p>\n\n<p>If you use Joda Time it is much more simple:</p>\n\n<pre><code>int days = Days.daysBetween(date1, date2).getDays();\n</code></pre>\n\n<p>Please check <a href=\"https://stackoverflow.com/questions/7103064/java-calculate-the-number-of-days-between-two-dates\">JodaTime</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12105164/java-joda-time-download-and-install-step-by-step\">How to use JodaTime in Java Project</a></p>\n"},{"tags":[],"owner":{"account_id":10368010,"reputation":376,"user_id":7646491,"display_name":"Jitendra virani"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1488451511,"creation_date":1488451511,"answer_id":42553213,"question_id":42553017,"body_markdown":"    public static int getDaysDifference(Date fromDate,Date toDate)\r\n    {\r\n    if(fromDate==null||toDate==null)\r\n    return 0;\r\n     \r\n    return (int)( (toDate.getTime() - fromDate.getTime()) / (1000 * 60 * 60 * 24));\r\n    }","title":"Android calculate days between two dates","body":"<pre><code>public static int getDaysDifference(Date fromDate,Date toDate)\n{\nif(fromDate==null||toDate==null)\nreturn 0;\n\nreturn (int)( (toDate.getTime() - fromDate.getTime()) / (1000 * 60 * 60 * 24));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1488453182,"creation_date":1488451724,"answer_id":42553293,"question_id":42553017,"body_markdown":"Does `Android` fully support `java-8`? If yes you can simple use `ChronoUnit` [class][1] \r\n\r\n    LocalDate start = LocalDate.of(2017,2,3);\r\n    LocalDate end = LocalDate.of(2017,3,3);\r\n    \r\n    System.out.println(ChronoUnit.DAYS.between(start, end)); // 28\r\n\r\nor same thing using formatter\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\r\n    LocalDate start = LocalDate.parse(&quot;2/3/2017&quot;,formatter);\r\n    LocalDate end = LocalDate.parse(&quot;3/3/2017&quot;,formatter);\r\n    \r\n    System.out.println(ChronoUnit.DAYS.between(start, end)); // 28\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html","title":"Android calculate days between two dates","body":"<p>Does <code>Android</code> fully support <code>java-8</code>? If yes you can simple use <code>ChronoUnit</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\">class</a> </p>\n\n<pre><code>LocalDate start = LocalDate.of(2017,2,3);\nLocalDate end = LocalDate.of(2017,3,3);\n\nSystem.out.println(ChronoUnit.DAYS.between(start, end)); // 28\n</code></pre>\n\n<p>or same thing using formatter</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"M/d/yyyy\");\nLocalDate start = LocalDate.parse(\"2/3/2017\",formatter);\nLocalDate end = LocalDate.parse(\"3/3/2017\",formatter);\n\nSystem.out.println(ChronoUnit.DAYS.between(start, end)); // 28\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5097571,"reputation":502,"user_id":4088357,"display_name":"Janice Kartika"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488452709,"creation_date":1488452709,"answer_id":42553680,"question_id":42553017,"body_markdown":"What date format do you use? Is it `d/M/yyyy` or `M/d/yyyy`?\r\n\r\nd = day, M = month, yyyy = year\r\n\r\n(see: https://developer.android.com/reference/java/text/SimpleDateFormat.html)\r\n\r\nThen the codes:\r\n    \r\n    public static final String DATE_FORMAT = &quot;d/M/yyyy&quot;;  //or use &quot;M/d/yyyy&quot;   \r\n    \r\n    public static long getDaysBetweenDates(String start, String end) {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT, Locale.ENGLISH);\r\n        Date startDate, endDate;\r\n        long numberOfDays = 0;\r\n        try {\r\n            startDate = dateFormat.parse(start);\r\n            endDate = dateFormat.parse(end);\r\n            numberOfDays = getUnitBetweenDates(startDate, endDate, TimeUnit.DAYS);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return numberOfDays;\r\n    }\r\n\r\nAnd for `getUnitBetweenDates` method:\r\n\r\n    private static long getUnitBetweenDates(Date startDate, Date endDate, TimeUnit unit) {\r\n        long timeDiff = endDate.getTime() - startDate.getTime();\r\n        return unit.convert(timeDiff, TimeUnit.MILLISECONDS);\r\n    }","title":"Android calculate days between two dates","body":"<p>What date format do you use? Is it <code>d/M/yyyy</code> or <code>M/d/yyyy</code>?</p>\n\n<p>d = day, M = month, yyyy = year</p>\n\n<p>(see: <a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">https://developer.android.com/reference/java/text/SimpleDateFormat.html</a>)</p>\n\n<p>Then the codes:</p>\n\n<pre><code>public static final String DATE_FORMAT = \"d/M/yyyy\";  //or use \"M/d/yyyy\"   \n\npublic static long getDaysBetweenDates(String start, String end) {\n    SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT, Locale.ENGLISH);\n    Date startDate, endDate;\n    long numberOfDays = 0;\n    try {\n        startDate = dateFormat.parse(start);\n        endDate = dateFormat.parse(end);\n        numberOfDays = getUnitBetweenDates(startDate, endDate, TimeUnit.DAYS);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return numberOfDays;\n}\n</code></pre>\n\n<p>And for <code>getUnitBetweenDates</code> method:</p>\n\n<pre><code>private static long getUnitBetweenDates(Date startDate, Date endDate, TimeUnit unit) {\n    long timeDiff = endDate.getTime() - startDate.getTime();\n    return unit.convert(timeDiff, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7648232,"reputation":1230,"user_id":5798049,"accept_rate":83,"display_name":"Mr. Mad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488452817,"creation_date":1488452817,"answer_id":42553743,"question_id":42553017,"body_markdown":"Have look at this code , this is helpful for me ,hope it will help you.\r\n\r\n    public String get_count_of_days(String Created_date_String, String Expire_date_String) {\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());\r\n\r\n    Date Created_convertedDate = null, Expire_CovertedDate = null, todayWithZeroTime = null;\r\n    try {\r\n        Created_convertedDate = dateFormat.parse(Created_date_String);\r\n        Expire_CovertedDate = dateFormat.parse(Expire_date_String);\r\n\r\n        Date today = new Date();\r\n\r\n        todayWithZeroTime = dateFormat.parse(dateFormat.format(today));\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    int c_year = 0, c_month = 0, c_day = 0;\r\n\r\n    if (Created_convertedDate.after(todayWithZeroTime)) {\r\n        Calendar c_cal = Calendar.getInstance();\r\n        c_cal.setTime(Created_convertedDate);\r\n        c_year = c_cal.get(Calendar.YEAR);\r\n        c_month = c_cal.get(Calendar.MONTH);\r\n        c_day = c_cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n    } else {\r\n        Calendar c_cal = Calendar.getInstance();\r\n        c_cal.setTime(todayWithZeroTime);\r\n        c_year = c_cal.get(Calendar.YEAR);\r\n        c_month = c_cal.get(Calendar.MONTH);\r\n        c_day = c_cal.get(Calendar.DAY_OF_MONTH);\r\n    }\r\n\r\n\r\n    /*Calendar today_cal = Calendar.getInstance();\r\n    int today_year = today_cal.get(Calendar.YEAR);\r\n    int today = today_cal.get(Calendar.MONTH);\r\n    int today_day = today_cal.get(Calendar.DAY_OF_MONTH);\r\n    */\r\n\r\n    Calendar e_cal = Calendar.getInstance();\r\n    e_cal.setTime(Expire_CovertedDate);\r\n\r\n    int e_year = e_cal.get(Calendar.YEAR);\r\n    int e_month = e_cal.get(Calendar.MONTH);\r\n    int e_day = e_cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n    Calendar date1 = Calendar.getInstance();\r\n    Calendar date2 = Calendar.getInstance();\r\n\r\n    date1.clear();\r\n    date1.set(c_year, c_month, c_day);\r\n    date2.clear();\r\n    date2.set(e_year, e_month, e_day);\r\n\r\n    long diff = date2.getTimeInMillis() - date1.getTimeInMillis();\r\n\r\n    float dayCount = (float) diff / (24 * 60 * 60 * 1000);\r\n\r\n    return (&quot;&quot; + (int) dayCount + &quot; Days&quot;);\r\n}","title":"Android calculate days between two dates","body":"<p>Have look at this code , this is helpful for me ,hope it will help you.</p>\n\n<pre><code>public String get_count_of_days(String Created_date_String, String Expire_date_String) {\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yyyy\", Locale.getDefault());\n\nDate Created_convertedDate = null, Expire_CovertedDate = null, todayWithZeroTime = null;\ntry {\n    Created_convertedDate = dateFormat.parse(Created_date_String);\n    Expire_CovertedDate = dateFormat.parse(Expire_date_String);\n\n    Date today = new Date();\n\n    todayWithZeroTime = dateFormat.parse(dateFormat.format(today));\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n\nint c_year = 0, c_month = 0, c_day = 0;\n\nif (Created_convertedDate.after(todayWithZeroTime)) {\n    Calendar c_cal = Calendar.getInstance();\n    c_cal.setTime(Created_convertedDate);\n    c_year = c_cal.get(Calendar.YEAR);\n    c_month = c_cal.get(Calendar.MONTH);\n    c_day = c_cal.get(Calendar.DAY_OF_MONTH);\n\n} else {\n    Calendar c_cal = Calendar.getInstance();\n    c_cal.setTime(todayWithZeroTime);\n    c_year = c_cal.get(Calendar.YEAR);\n    c_month = c_cal.get(Calendar.MONTH);\n    c_day = c_cal.get(Calendar.DAY_OF_MONTH);\n}\n\n\n/*Calendar today_cal = Calendar.getInstance();\nint today_year = today_cal.get(Calendar.YEAR);\nint today = today_cal.get(Calendar.MONTH);\nint today_day = today_cal.get(Calendar.DAY_OF_MONTH);\n*/\n\nCalendar e_cal = Calendar.getInstance();\ne_cal.setTime(Expire_CovertedDate);\n\nint e_year = e_cal.get(Calendar.YEAR);\nint e_month = e_cal.get(Calendar.MONTH);\nint e_day = e_cal.get(Calendar.DAY_OF_MONTH);\n\nCalendar date1 = Calendar.getInstance();\nCalendar date2 = Calendar.getInstance();\n\ndate1.clear();\ndate1.set(c_year, c_month, c_day);\ndate2.clear();\ndate2.set(e_year, e_month, e_day);\n\nlong diff = date2.getTimeInMillis() - date1.getTimeInMillis();\n\nfloat dayCount = (float) diff / (24 * 60 * 60 * 1000);\n\nreturn (\"\" + (int) dayCount + \" Days\");\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10520291,"reputation":334,"user_id":7753077,"display_name":"fuzzKitty"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513079517,"creation_date":1513079517,"answer_id":47771951,"question_id":42553017,"body_markdown":"Very simple, just use Calendar, create two instances for the two dates, convert to milliseconds, subtract and convert to days (rounded up)... like this, basically:\r\n\r\n\r\n    Calendar startDate = Calendar.getInstance();\r\n    startDate.set(mStartYear, mStartMonth, mStartDay);\r\n    long startDateMillis = startDate.getTimeInMillis();\r\n\r\n    Calendar endDate = Calendar.getInstance();\r\n    endDate.set(mEndYear, mEndMonth, mEndDay);\r\n    long endDateMillis = endDate.getTimeInMillis();\r\n\r\n    long differenceMillis = endDateMillis - startDateMillis;\r\n    int daysDifference = (int) (differenceMillis / (1000 * 60 * 60 * 24));","title":"Android calculate days between two dates","body":"<p>Very simple, just use Calendar, create two instances for the two dates, convert to milliseconds, subtract and convert to days (rounded up)... like this, basically:</p>\n\n<pre><code>Calendar startDate = Calendar.getInstance();\nstartDate.set(mStartYear, mStartMonth, mStartDay);\nlong startDateMillis = startDate.getTimeInMillis();\n\nCalendar endDate = Calendar.getInstance();\nendDate.set(mEndYear, mEndMonth, mEndDay);\nlong endDateMillis = endDate.getTimeInMillis();\n\nlong differenceMillis = endDateMillis - startDateMillis;\nint daysDifference = (int) (differenceMillis / (1000 * 60 * 60 * 24));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7521101,"reputation":616,"user_id":5712938,"display_name":"grabarz121"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518180479,"creation_date":1518180176,"answer_id":48706121,"question_id":42553017,"body_markdown":"Be carefur if you&#39;d like to use received integer e.g. to indicate specific day in custom calendar implementation. For example, I tried to go in m app from monthly calendar view to daily view and show daily content, by calculating dates from 1970-01-01 to selected one, and each 25-31th day of month shows me as one day earlier, because `datesDifferenceInMillis / (24 * 60 * 60 * 1000);` may return something like 17645,95833333333, and casting this to int you&#39;ll get value lower by 1. In this case correctly number of days you&#39;ll get by rounding received float by using NumberFormat class. Here&#39;s my code:\r\n\r\n    NumberFormat numberFormat = NumberFormat.getInstance(Locale.getDefault());\r\n    numberFormat.setRoundingMode(RoundingMode.HALF_UP);\r\n    numberFormat.setMaximumFractionDigits(0);\r\n    numberFormat.setMinimumFractionDigits(0);\r\n    int days = numberFormat.parse(numberFormat.format(value)).intValue();\r\n\r\nI hope it will be helpful.","title":"Android calculate days between two dates","body":"<p>Be carefur if you'd like to use received integer e.g. to indicate specific day in custom calendar implementation. For example, I tried to go in m app from monthly calendar view to daily view and show daily content, by calculating dates from 1970-01-01 to selected one, and each 25-31th day of month shows me as one day earlier, because <code>datesDifferenceInMillis / (24 * 60 * 60 * 1000);</code> may return something like 17645,95833333333, and casting this to int you'll get value lower by 1. In this case correctly number of days you'll get by rounding received float by using NumberFormat class. Here's my code:</p>\n\n<pre><code>NumberFormat numberFormat = NumberFormat.getInstance(Locale.getDefault());\nnumberFormat.setRoundingMode(RoundingMode.HALF_UP);\nnumberFormat.setMaximumFractionDigits(0);\nnumberFormat.setMinimumFractionDigits(0);\nint days = numberFormat.parse(numberFormat.format(value)).intValue();\n</code></pre>\n\n<p>I hope it will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":109994,"reputation":15573,"user_id":291240,"accept_rate":70,"display_name":"William Hu"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1567052378,"creation_date":1567004827,"answer_id":57695391,"question_id":42553017,"body_markdown":"**Kotlin**\r\n\r\nHere is the example to calculate days from today to some date:\r\n\r\n    \r\n     val millionSeconds = yourDate.time - Calendar.getInstance().timeInMillis\r\n     leftDays.text = TimeUnit.MILLISECONDS.toDays(millionSeconds).toString() + &quot;days&quot;\r\n\r\nIf you want to calculate two days, then change:\r\n\r\n    val millionSeconds = yourDate1.time - yourDate2.time\r\n\r\nshould work.\r\n\r\n","title":"Android calculate days between two dates","body":"<p><strong>Kotlin</strong></p>\n\n<p>Here is the example to calculate days from today to some date:</p>\n\n<pre><code> val millionSeconds = yourDate.time - Calendar.getInstance().timeInMillis\n leftDays.text = TimeUnit.MILLISECONDS.toDays(millionSeconds).toString() + \"days\"\n</code></pre>\n\n<p>If you want to calculate two days, then change:</p>\n\n<pre><code>val millionSeconds = yourDate1.time - yourDate2.time\n</code></pre>\n\n<p>should work.</p>\n"},{"tags":[],"owner":{"account_id":9840360,"reputation":283,"user_id":7289525,"display_name":"MaKi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585637699,"creation_date":1585637699,"answer_id":60944941,"question_id":42553017,"body_markdown":"I modified Jitendra&#39;s answer in Kotlin:\r\n\r\n    fun getDaysBetweenDates(firstDateValue: String, secondDateValue: String, format: String): String\r\n    {\r\n        val sdf = SimpleDateFormat(format, Locale.getDefault())\r\n        \r\n        val firstDate = sdf.parse(firstDateValue)\r\n        val secondDate = sdf.parse(secondDateValue)\r\n        \r\n        if (firstDate == null || secondDate == null)\r\n            return 0.toString()\r\n        \r\n        return (((secondDate.time - firstDate.time) / (1000 * 60 * 60 * 24)) + 1).toString()\r\n    }\r\n\r\nand call it like\r\n\r\n    val days = getDaysBetweenDates(&quot;31-03-2020&quot;, &quot;24-04-2020&quot;,&quot;dd-MM-yyyy&quot;)","title":"Android calculate days between two dates","body":"<p>I modified Jitendra's answer in Kotlin:</p>\n\n<pre><code>fun getDaysBetweenDates(firstDateValue: String, secondDateValue: String, format: String): String\n{\n    val sdf = SimpleDateFormat(format, Locale.getDefault())\n\n    val firstDate = sdf.parse(firstDateValue)\n    val secondDate = sdf.parse(secondDateValue)\n\n    if (firstDate == null || secondDate == null)\n        return 0.toString()\n\n    return (((secondDate.time - firstDate.time) / (1000 * 60 * 60 * 24)) + 1).toString()\n}\n</code></pre>\n\n<p>and call it like</p>\n\n<pre><code>val days = getDaysBetweenDates(\"31-03-2020\", \"24-04-2020\",\"dd-MM-yyyy\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1585712119,"creation_date":1585680595,"answer_id":60957813,"question_id":42553017,"body_markdown":"## java.time and ThreeTenABP\r\n\r\nIf I understand correctly, you want the number of days from start day through end date *inclusive*.\r\n\r\n\t\tDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;d/M/u&quot;);\r\n\t\t\r\n\t\tString startDate = &quot;2/3/2017&quot;;\r\n\t\tString endDate = &quot;3/3/2017&quot;;\r\n\t\t\r\n\t\tLocalDate startDateValue = LocalDate.parse(startDate, dateFormatter);\r\n\t\tLocalDate endDateValue = LocalDate.parse(endDate, dateFormatter);\r\n\t\tlong days = ChronoUnit.DAYS.between(startDateValue, endDateValue) + 1;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Days: &quot; + days);\r\n\r\nOutput:\r\n\r\n&gt; Days: 2\r\n\r\n`ChronoUnit.DAYS.between()` gives us a count of days from start date inclusive to end date *exclusive*. So to include the end date too we needed to add 1 day just as you did in the question.\r\n\r\n## What went wrong in your code?\r\n\r\nYou are using the `Date(String)` constructor. This constructor has been deprecated since 1997 because it works unreliably across time zones, so don’t use it. Also it’s kind of magical: at least I never really know what I get. Apparently it takes `2/3/2017` to mean February 3, 2017, where you intended 2 March 2017. From February 3 to March 3 inclusive is 29 days (since 2017 wasn’t a leap year). This explains why you got 29. (If necessary, we could spell our way through the documentation and find out why `2/3/2017` is interpreted the way it is, only I’d find that a pointless waste of time to do.)\r\n\r\n**You can’t convert from milliseconds.** Please also note that not only the question but also the very many answers that convert from milliseconds to days are incorrect. Such a conversion assumes that a day is always 24 hours. Because of summer time (DST) and other time anomalies a day is not always 24 hours. All of those answers will count a day too few for example if the leave crosses the *spring gap* or *spring forward* when summer time begins.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.","title":"Android calculate days between two dates","body":"<h2>java.time and ThreeTenABP</h2>\n\n<p>If I understand correctly, you want the number of days from start day through end date <em>inclusive</em>.</p>\n\n<pre><code>    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\"d/M/u\");\n\n    String startDate = \"2/3/2017\";\n    String endDate = \"3/3/2017\";\n\n    LocalDate startDateValue = LocalDate.parse(startDate, dateFormatter);\n    LocalDate endDateValue = LocalDate.parse(endDate, dateFormatter);\n    long days = ChronoUnit.DAYS.between(startDateValue, endDateValue) + 1;\n\n    System.out.println(\"Days: \" + days);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Days: 2</p>\n</blockquote>\n\n<p><code>ChronoUnit.DAYS.between()</code> gives us a count of days from start date inclusive to end date <em>exclusive</em>. So to include the end date too we needed to add 1 day just as you did in the question.</p>\n\n<h2>What went wrong in your code?</h2>\n\n<p>You are using the <code>Date(String)</code> constructor. This constructor has been deprecated since 1997 because it works unreliably across time zones, so don’t use it. Also it’s kind of magical: at least I never really know what I get. Apparently it takes <code>2/3/2017</code> to mean February 3, 2017, where you intended 2 March 2017. From February 3 to March 3 inclusive is 29 days (since 2017 wasn’t a leap year). This explains why you got 29. (If necessary, we could spell our way through the documentation and find out why <code>2/3/2017</code> is interpreted the way it is, only I’d find that a pointless waste of time to do.)</p>\n\n<p><strong>You can’t convert from milliseconds.</strong> Please also note that not only the question but also the very many answers that convert from milliseconds to days are incorrect. Such a conversion assumes that a day is always 24 hours. Because of summer time (DST) and other time anomalies a day is not always 24 hours. All of those answers will count a day too few for example if the leave crosses the <em>spring gap</em> or <em>spring forward</em> when summer time begins.</p>\n\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1303633,"reputation":821,"user_id":1253065,"display_name":"semih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586175853,"creation_date":1586175853,"answer_id":61059794,"question_id":42553017,"body_markdown":"You can use joda time, it so simple\r\n\r\n    fun getBetweenDates(startDate: Long, endDate: Long): String {\r\n        val period = Period(startDate, endDate, PeriodType.yearMonthDayTime())\r\n    \r\n        val formatter = PeriodFormatterBuilder()\r\n            .appendYears().appendSuffix(&quot; year &quot;)\r\n            .appendMonths().appendSuffix(&quot; month &quot;)\r\n            .appendDays().appendSuffix(&quot; days &quot;)\r\n            .appendHours().appendSuffix(&quot; hours &quot;)\r\n            .appendMinutes().appendSuffix(&quot; minutes &quot;)\r\n            .appendSeconds().appendSuffix(&quot; seconds &quot;)\r\n            .appendMillis().appendSuffix(&quot; millis &quot;)\r\n            .toFormatter()\r\n    \r\n        return formatter.print(period)\r\n    }\r\n\r\nstart and end dates millisecond, and result example: &quot;2 year 1 month ...&quot;","title":"Android calculate days between two dates","body":"<p>You can use joda time, it so simple</p>\n\n<pre><code>fun getBetweenDates(startDate: Long, endDate: Long): String {\n    val period = Period(startDate, endDate, PeriodType.yearMonthDayTime())\n\n    val formatter = PeriodFormatterBuilder()\n        .appendYears().appendSuffix(\" year \")\n        .appendMonths().appendSuffix(\" month \")\n        .appendDays().appendSuffix(\" days \")\n        .appendHours().appendSuffix(\" hours \")\n        .appendMinutes().appendSuffix(\" minutes \")\n        .appendSeconds().appendSuffix(\" seconds \")\n        .appendMillis().appendSuffix(\" millis \")\n        .toFormatter()\n\n    return formatter.print(period)\n}\n</code></pre>\n\n<p>start and end dates millisecond, and result example: \"2 year 1 month ...\"</p>\n"},{"tags":[],"owner":{"account_id":13023687,"reputation":11,"user_id":9412259,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598005218,"creation_date":1598005218,"answer_id":63520992,"question_id":42553017,"body_markdown":"    fun countDaysBetweenTwoCalendar(calendarStart: Calendar, calendarEnd: Calendar) : Int{\r\n        val millionSeconds = calendarEnd.timeInMillis - calendarStart.timeInMillis\r\n        val days = TimeUnit.MILLISECONDS.toDays(millionSeconds) //this way not round number\r\n        val daysRounded = (millionSeconds / (1000.0 * 60 * 60 * 24)).roundToInt()\r\n        return daysRounded\r\n    }","title":"Android calculate days between two dates","body":"<pre><code>fun countDaysBetweenTwoCalendar(calendarStart: Calendar, calendarEnd: Calendar) : Int{\n    val millionSeconds = calendarEnd.timeInMillis - calendarStart.timeInMillis\n    val days = TimeUnit.MILLISECONDS.toDays(millionSeconds) //this way not round number\n    val daysRounded = (millionSeconds / (1000.0 * 60 * 60 * 24)).roundToInt()\n    return daysRounded\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16430171,"reputation":408,"user_id":11869227,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602084811,"creation_date":1602084811,"answer_id":64247419,"question_id":42553017,"body_markdown":"while none of these worked for me, here is an easy way to implement your code with a very simple fonction :\r\n\r\n\r\n    private long getDaysDifference(Date fromDate,Date toDate) {\r\n\r\n        if(fromDate == null || toDate == null)\r\n            return 0;\r\n\r\n\r\n        int a = Integer.parseInt(DateFormat.format(&quot;dd&quot;,   fromDate)+&quot;&quot;);\r\n        int b = Integer.parseInt(DateFormat.format(&quot;dd&quot;,   toDate)+&quot;&quot;);\r\n\r\n        if ( b &lt;= a){\r\n            return Calendar.getInstance().getActualMaximum(Calendar.DAY_OF_MONTH) + b - a;\r\n        }\r\n        return b - a;\r\n    }\r\n\r\n\r\nEnJoY","title":"Android calculate days between two dates","body":"<p>while none of these worked for me, here is an easy way to implement your code with a very simple fonction :</p>\n<pre><code>private long getDaysDifference(Date fromDate,Date toDate) {\n\n    if(fromDate == null || toDate == null)\n        return 0;\n\n\n    int a = Integer.parseInt(DateFormat.format(&quot;dd&quot;,   fromDate)+&quot;&quot;);\n    int b = Integer.parseInt(DateFormat.format(&quot;dd&quot;,   toDate)+&quot;&quot;);\n\n    if ( b &lt;= a){\n        return Calendar.getInstance().getActualMaximum(Calendar.DAY_OF_MONTH) + b - a;\n    }\n    return b - a;\n}\n</code></pre>\n<p>EnJoY</p>\n"},{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1609686420,"creation_date":1609686420,"answer_id":65551309,"question_id":42553017,"body_markdown":"**SUPER SIMPLE**\r\n\r\nuse `LocalDate()` include   `implementation &#39;com.jakewharton.threetenabp:threetenabp:1.2.1&#39;` to use in android \r\n\r\n**Example** \r\n\r\n**IN KOTLIN**\r\n\r\n    val daysDifferene = LocalDate.of(2017,3,3).toEpochDay() - LocalDate.of(2017,3,2)\r\n\r\n***even better***\r\n\r\ncreate extension function to `LocalDate` class \r\n\r\n    private operator fun LocalDate.minus(other: LocalDate) = toEpochDay() - other.toEpochDay()\r\n      \r\nnow just say \r\n\r\n    val daysDifference = localDate1 - localDate2 // you get number of days in Long type\r\n    \r\n**IN JAVA**\r\n\r\n    long daysDifference = LocalDate.of(2017,3,3).toEpochDay() - LocalDate.of(2107,3,2) ","title":"Android calculate days between two dates","body":"<p><strong>SUPER SIMPLE</strong></p>\n<p>use <code>LocalDate()</code> include   <code>implementation 'com.jakewharton.threetenabp:threetenabp:1.2.1'</code> to use in android</p>\n<p><strong>Example</strong></p>\n<p><strong>IN KOTLIN</strong></p>\n<pre><code>val daysDifferene = LocalDate.of(2017,3,3).toEpochDay() - LocalDate.of(2017,3,2)\n</code></pre>\n<p><em><strong>even better</strong></em></p>\n<p>create extension function to <code>LocalDate</code> class</p>\n<pre><code>private operator fun LocalDate.minus(other: LocalDate) = toEpochDay() - other.toEpochDay()\n  \n</code></pre>\n<p>now just say</p>\n<pre><code>val daysDifference = localDate1 - localDate2 // you get number of days in Long type\n</code></pre>\n<p><strong>IN JAVA</strong></p>\n<pre><code>long daysDifference = LocalDate.of(2017,3,3).toEpochDay() - LocalDate.of(2107,3,2) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640179261,"creation_date":1640179261,"answer_id":70449744,"question_id":42553017,"body_markdown":"use this way :\r\n\r\n     fun stringDateToCalendar(dateString: String?, formatString: String): Calendar? {\r\n\r\n            if (dateString == null || dateString.isEmpty() || formatString.isBlank())\r\n                return null\r\n\r\n            val inputDateFormat = SimpleDateFormat(formatString, Locale.ENGLISH)\r\n\r\n            return try {\r\n                inputDateFormat.parse(dateString)?.let {\r\n                    val cal = Calendar.getInstance()\r\n                    cal.time = it\r\n                    cal\r\n                }\r\n            } catch (e: ParseException) {\r\n                null\r\n            }\r\n\r\n     }\r\n        \r\n     val calendarFrom = stringDateToCalendar(\r\n          &quot;2021-12-12&quot;,\r\n          &quot;yyyy-MM-dd&quot;\r\n     )\r\n\r\n     val calendarTo = CalendarUtils.stringDateToCalendar(\r\n          &quot;2022-03-20&quot;,\r\n          &quot;yyyy-MM-dd&quot;\r\n     )\r\n        \r\n        \r\n\r\n     val msDiff = calendarTo?.timeInMillis?.minus(calendarFrom?.timeInMillis ?: 0) ?: 0\r\n     val daysDiff = TimeUnit.MILLISECONDS.toDays(msDiff)","title":"Android calculate days between two dates","body":"<p>use this way :</p>\n<pre><code> fun stringDateToCalendar(dateString: String?, formatString: String): Calendar? {\n\n        if (dateString == null || dateString.isEmpty() || formatString.isBlank())\n            return null\n\n        val inputDateFormat = SimpleDateFormat(formatString, Locale.ENGLISH)\n\n        return try {\n            inputDateFormat.parse(dateString)?.let {\n                val cal = Calendar.getInstance()\n                cal.time = it\n                cal\n            }\n        } catch (e: ParseException) {\n            null\n        }\n\n }\n    \n val calendarFrom = stringDateToCalendar(\n      &quot;2021-12-12&quot;,\n      &quot;yyyy-MM-dd&quot;\n )\n\n val calendarTo = CalendarUtils.stringDateToCalendar(\n      &quot;2022-03-20&quot;,\n      &quot;yyyy-MM-dd&quot;\n )\n    \n    \n\n val msDiff = calendarTo?.timeInMillis?.minus(calendarFrom?.timeInMillis ?: 0) ?: 0\n val daysDiff = TimeUnit.MILLISECONDS.toDays(msDiff)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20458576,"reputation":1140,"user_id":15011702,"display_name":"Rahul Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667462487,"creation_date":1667462487,"answer_id":74299735,"question_id":42553017,"body_markdown":"**Here the simply common function Kotlin code**\r\n\r\n&gt; Here comparing these formatted dates **&quot;2022-11-04&quot;, &quot;2022-11-20&quot;**\r\n&gt; Output will be **16 Days**\r\n\r\n     open fun dateSubstraction(date1: String, date2: String): String {\r\n            val dateFormatter = SimpleDateFormat(&quot;yyyy-MM-dd&quot;) //Define input date format here\r\n            val formatedDate1= dateFormat.parse(date1)  //formated  date1\r\n            val formatedDate2= dateFormat.parse(date2)  //formated date2\r\n            val millionSeconds = formatedDate2.time - formatedDate1.time\r\n            return TimeUnit.MILLISECONDS.toDays(millionSeconds).toString()+&quot;Days&quot;\r\n        }","title":"Android calculate days between two dates","body":"<p><strong>Here the simply common function Kotlin code</strong></p>\n<blockquote>\n<p>Here comparing these formatted dates <strong>&quot;2022-11-04&quot;, &quot;2022-11-20&quot;</strong>\nOutput will be <strong>16 Days</strong></p>\n</blockquote>\n<pre><code> open fun dateSubstraction(date1: String, date2: String): String {\n        val dateFormatter = SimpleDateFormat(&quot;yyyy-MM-dd&quot;) //Define input date format here\n        val formatedDate1= dateFormat.parse(date1)  //formated  date1\n        val formatedDate2= dateFormat.parse(date2)  //formated date2\n        val millionSeconds = formatedDate2.time - formatedDate1.time\n        return TimeUnit.MILLISECONDS.toDays(millionSeconds).toString()+&quot;Days&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19229726,"reputation":36,"user_id":14777843,"display_name":"Afaaq Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675090254,"creation_date":1675090254,"answer_id":75286076,"question_id":42553017,"body_markdown":"I have done this work in past. This was very simple\r\n\r\n     val currentCalendar = Calendar.getInstance()\r\n        val targetCalendar = Calendar.getInstance().apply {\r\n            set(2023, Calendar.APRIL, 9, 23, 59, 59)\r\n        }//your input: date, month, and time\r\n        val difference = targetCalendar.timeInMillis - currentCalendar.timeInMillis\r\n        val differenceInDays = TimeUnit.MILLISECONDS.toDays(difference)\r\n        val remainingMonths = differenceInDays / 30//remaining months\r\n        val remainingDays = differenceInDays % 30//remaining days\r\n        val differenceInSeconds = TimeUnit.MILLISECONDS.toSeconds(difference)\r\n        val differenceInMinutes = TimeUnit.MILLISECONDS.toMinutes(difference)\r\n        val differenceInHours = TimeUnit.MILLISECONDS.toHours(difference)\r\n        val remainingSeconds = differenceInSeconds % 60//remaining seconds\r\n        val remainingMinutes = differenceInMinutes % 60//remaining minutes\r\n        val remainingHours = differenceInHours % 24// remaining hours\r\n*Thats It We have done it*","title":"Android calculate days between two dates","body":"<p>I have done this work in past. This was very simple</p>\n<pre><code> val currentCalendar = Calendar.getInstance()\n    val targetCalendar = Calendar.getInstance().apply {\n        set(2023, Calendar.APRIL, 9, 23, 59, 59)\n    }//your input: date, month, and time\n    val difference = targetCalendar.timeInMillis - currentCalendar.timeInMillis\n    val differenceInDays = TimeUnit.MILLISECONDS.toDays(difference)\n    val remainingMonths = differenceInDays / 30//remaining months\n    val remainingDays = differenceInDays % 30//remaining days\n    val differenceInSeconds = TimeUnit.MILLISECONDS.toSeconds(difference)\n    val differenceInMinutes = TimeUnit.MILLISECONDS.toMinutes(difference)\n    val differenceInHours = TimeUnit.MILLISECONDS.toHours(difference)\n    val remainingSeconds = differenceInSeconds % 60//remaining seconds\n    val remainingMinutes = differenceInMinutes % 60//remaining minutes\n    val remainingHours = differenceInHours % 24// remaining hours\n</code></pre>\n<p><em>Thats It We have done it</em></p>\n"}],"owner":{"account_id":10042539,"reputation":923,"user_id":7424946,"accept_rate":75,"display_name":"debo.stackoverflow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103277,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":42553096,"answer_count":17,"score":37,"last_activity_date":1675090254,"creation_date":1488451012,"question_id":42553017,"body_markdown":"I have written the following code to find days between two dates\r\n\r\n        startDateValue = new Date(startDate);\r\n        endDateValue = new Date(endDate);\r\n        long diff = endDateValue.getTime() - startDateValue.getTime();\r\n        long seconds = diff / 1000;\r\n        long minutes = seconds / 60;\r\n        long hours = minutes / 60;\r\n        long days = (hours / 24) + 1;\r\n        Log.d(&quot;days&quot;, &quot;&quot; + days);\r\n\r\nWhen start and end date are 2/3/2017 and 3/3/2017 respectively the number of days showing is 29.Though when they are of the same day it is showing 1.(The number of days one takes a leave.So if one takes a single day leave,he has to select same start and end date.So in this case he has taken two days leave).\r\n\r\nWhat am I doing wrong?\r\nThank you for your time.\r\n\r\nNote: Please don&#39;t use the date constructor. Check the accepted answer below. Use simpledateformat or Joda time. Date constructor is deprecated.","title":"Android calculate days between two dates","body":"<p>I have written the following code to find days between two dates</p>\n\n<pre><code>    startDateValue = new Date(startDate);\n    endDateValue = new Date(endDate);\n    long diff = endDateValue.getTime() - startDateValue.getTime();\n    long seconds = diff / 1000;\n    long minutes = seconds / 60;\n    long hours = minutes / 60;\n    long days = (hours / 24) + 1;\n    Log.d(\"days\", \"\" + days);\n</code></pre>\n\n<p>When start and end date are 2/3/2017 and 3/3/2017 respectively the number of days showing is 29.Though when they are of the same day it is showing 1.(The number of days one takes a leave.So if one takes a single day leave,he has to select same start and end date.So in this case he has taken two days leave).</p>\n\n<p>What am I doing wrong?\nThank you for your time.</p>\n\n<p>Note: Please don't use the date constructor. Check the accepted answer below. Use simpledateformat or Joda time. Date constructor is deprecated.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":1,"creation_date":1437287186,"post_id":31498571,"comment_id":50960633,"body_markdown":"I don&#39;t think so, why you want to do it ?","body":"I don&#39;t think so, why you want to do it ?"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1437287216,"post_id":31498571,"comment_id":50960639,"body_markdown":"Using &quot;switch-case&quot; meant to make your code easier to understand, don&#39;t try to over complicate it.","body":"Using &quot;switch-case&quot; meant to make your code easier to understand, don&#39;t try to over complicate it."},{"owner":{"account_id":5113734,"reputation":50630,"user_id":4099593,"accept_rate":100,"display_name":"Bhargav Rao"},"score":0,"creation_date":1437287224,"post_id":31498571,"comment_id":50960641,"body_markdown":"Relevant [Passing a value from one case to another in switch statement](http://stackoverflow.com/questions/16621708/passing-a-value-from-one-case-to-another-in-switch-statement)","body":"Relevant <a href=\"http://stackoverflow.com/questions/16621708/passing-a-value-from-one-case-to-another-in-switch-statement\">Passing a value from one case to another in switch statement</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1437287390,"post_id":31498571,"comment_id":50960671,"body_markdown":"@MarounMaroun I&#39;m puzzled. You closed the question as a duplicate of a question dealing with _nested_ switch-case-statements. But this question is about code reusage of another case in the _same_ switch. Or did I understand this wrong?","body":"@MarounMaroun I&#39;m puzzled. You closed the question as a duplicate of a question dealing with <i>nested</i> switch-case-statements. But this question is about code reusage of another case in the <i>same</i> switch. Or did I understand this wrong?"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1437287474,"post_id":31498571,"comment_id":50960682,"body_markdown":"@Seelenvirtuose I reopened, though the answer for this question is very similar.","body":"@Seelenvirtuose I reopened, though the answer for this question is very similar."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1437287599,"post_id":31498571,"comment_id":50960710,"body_markdown":"@MarounMaroun I agree about the similarity of the answers, and I think that would have been a good reason for closing this one. I just thought, it&#39;s not really a duplicate ...","body":"@MarounMaroun I agree about the similarity of the answers, and I think that would have been a good reason for closing this one. I just thought, it&#39;s not really a duplicate ..."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1437287630,"post_id":31498571,"comment_id":50960715,"body_markdown":"@Seelenvirtuose You&#39;re right and thanks for the comment. I didn&#39;t pay enough attention.","body":"@Seelenvirtuose You&#39;re right and thanks for the comment. I didn&#39;t pay enough attention."},{"owner":{"account_id":267481,"reputation":17937,"user_id":555690,"accept_rate":74,"display_name":"Saturn"},"score":0,"creation_date":1437287737,"post_id":31498571,"comment_id":50960732,"body_markdown":"Hm, there&#39;s a downvote but this question seems fine and valid to me. Not quite useful but yeah.","body":"Hm, there&#39;s a downvote but this question seems fine and valid to me. Not quite useful but yeah."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1437291655,"post_id":31498571,"comment_id":50961369,"body_markdown":"I guess you can put case 3:  before case 1: and case 2. In case 3:   remove the break;  and add  orderType=1. This will cause case 1: to be executed. It is NOT a nice solution and I would try yo avoid it.","body":"I guess you can put case 3:  before case 1: and case 2. In case 3:   remove the break;  and add  orderType=1. This will cause case 1: to be executed. It is NOT a nice solution and I would try yo avoid it."}],"answers":[{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1437287175,"creation_date":1437287175,"answer_id":31498581,"question_id":31498571,"body_markdown":"No, you can&#39;t _jump_ to the code snippet in another switch case. You can however extract the code into an own method that can be called from another case:\r\n\r\n    switch (orderType) {\r\n        case 1: \r\n            someMethod1();\r\n            break;\r\n        case 2:\r\n            someMethod2();\r\n            break;\r\n        case 3:\r\n            someMethod1();\r\n            someMethod2();\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    void someMethod1() { ... }\r\n    void someMethod2() { ... }\r\n","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>No, you can't <em>jump</em> to the code snippet in another switch case. You can however extract the code into an own method that can be called from another case:</p>\n\n<pre><code>switch (orderType) {\n    case 1: \n        someMethod1();\n        break;\n    case 2:\n        someMethod2();\n        break;\n    case 3:\n        someMethod1();\n        someMethod2();\n        break;\n    default:\n        break;\n}\n\nvoid someMethod1() { ... }\nvoid someMethod2() { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445258049,"creation_date":1437287240,"answer_id":31498585,"question_id":31498571,"body_markdown":"You can&#39;t just call a another `case` block like this. What you could do, though, is wrap each of these blocks in a method, and reuse them:\r\n\r\n    private void doSomething() {\r\n        // implementation\r\n    }\r\n    \r\n    private void doSomethingElse() {\r\n        // implementation\r\n    }\r\n    \r\n    private void runSwitch(int order) {\r\n    \r\n        switch (orderType) {\r\n               case 1: \r\n                    doSomething();\r\n                    break;\r\n               case 2:\r\n                    doSomethingElse();\r\n                    break;\r\n               case 3:\r\n                    doSomething();\r\n                    doSomethingElse();\r\n                    break;\r\n               default:\r\n                    break;\r\n        }\r\n    }","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>You can't just call a another <code>case</code> block like this. What you could do, though, is wrap each of these blocks in a method, and reuse them:</p>\n\n<pre><code>private void doSomething() {\n    // implementation\n}\n\nprivate void doSomethingElse() {\n    // implementation\n}\n\nprivate void runSwitch(int order) {\n\n    switch (orderType) {\n           case 1: \n                doSomething();\n                break;\n           case 2:\n                doSomethingElse();\n                break;\n           case 3:\n                doSomething();\n                doSomethingElse();\n                break;\n           default:\n                break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1452180927,"creation_date":1452180927,"answer_id":34659095,"question_id":31498571,"body_markdown":"Although you cannot influence the `switch` cases directly, you can call switch&#39;s parent method from one case and pass different arguments. For example,\r\n\r\n    void foo(int param1, String param2, ...) {\r\n        switch (param1) {\r\n            case 0:\r\n                foo(1, &quot;some string&quot;);\r\n                break;\r\n            \r\n            case 1:\r\n                //do something\r\n                break;\r\n            \r\n            default:\r\n                break;\r\n        }\r\n    }","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>Although you cannot influence the <code>switch</code> cases directly, you can call switch's parent method from one case and pass different arguments. For example,</p>\n\n<pre><code>void foo(int param1, String param2, ...) {\n    switch (param1) {\n        case 0:\n            foo(1, \"some string\");\n            break;\n\n        case 1:\n            //do something\n            break;\n\n        default:\n            break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7319351,"reputation":140,"user_id":5575833,"display_name":"Nicolas Facciolo"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1546704495,"creation_date":1546610635,"answer_id":54040464,"question_id":31498571,"body_markdown":"You can use this trick in some case :\r\n\r\n    switch (orderType) {\r\n       case 3: \r\n            statement 3;\r\n       case 2:\r\n            statement 2;\r\n       case 1:\r\n            statement 1;\r\n            break;\r\n       default:\r\n            break;`\r\n}\r\n\r\n","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>You can use this trick in some case :</p>\n\n<pre><code>switch (orderType) {\n   case 3: \n        statement 3;\n   case 2:\n        statement 2;\n   case 1:\n        statement 1;\n        break;\n   default:\n        break;`\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12703574,"reputation":164,"user_id":9229582,"display_name":"Pavan Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588932048,"creation_date":1579845270,"answer_id":59891050,"question_id":31498571,"body_markdown":"Using methods is the best way to do it as mentioned in the accepted answer but for some reasons if you are unable to create method, Here is one more way to do this without using methods\r\n```\r\nboolean isBreakTheLoop = false, isCase2Required = false;\r\nwhile(!isBreakTheLoop){\r\n    switch (orderType) {\r\n       case 1: \r\n            statement 1;\r\n            if(isCase2Required){\r\n               orderType = 2;\r\n               break;\r\n            }\r\n            isBreakTheLoop = true;\r\n            break;\r\n       case 2:\r\n            statement 2;\r\n            isBreakTheLoop = true;\r\n            break;\r\n       case 3:\r\n            orderType = 1;\r\n            isCase2Required = true;\r\n            break;\r\n       default:\r\n            isBreakTheLoop = true;\r\n            break;\r\n    }\r\n}\r\n```","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>Using methods is the best way to do it as mentioned in the accepted answer but for some reasons if you are unable to create method, Here is one more way to do this without using methods</p>\n\n<pre><code>boolean isBreakTheLoop = false, isCase2Required = false;\nwhile(!isBreakTheLoop){\n    switch (orderType) {\n       case 1: \n            statement 1;\n            if(isCase2Required){\n               orderType = 2;\n               break;\n            }\n            isBreakTheLoop = true;\n            break;\n       case 2:\n            statement 2;\n            isBreakTheLoop = true;\n            break;\n       case 3:\n            orderType = 1;\n            isCase2Required = true;\n            break;\n       default:\n            isBreakTheLoop = true;\n            break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26229556,"reputation":1,"user_id":19905745,"display_name":"Patcha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675090180,"creation_date":1675090180,"answer_id":75286054,"question_id":31498571,"body_markdown":"Just a reminder: while the most suggested case is the best solution, note that if you don&#39;t close with a `brake;` your `case:`, it will continue executing in the next case.\r\n\r\nThen, while it&#39;s still best pratice to break your cases, you could still adopt a solution similar to the following:\r\n\r\n```\r\nswitch (orderType) {\r\n    case 3:\r\n        someMethod1();\r\n    case 2:\r\n        someMethod2();\r\n        break;\r\n    case 1: \r\n        someMethod1();\r\n        break;\r\n    default:\r\n        break;\r\n}\r\n```\r\n\r\nNote that &quot;avoiding breaks&quot; solution can&#39;t completely cover OP necessities, because writing:\r\n```\r\n    case 3:\r\n    case 1:\r\n        someMethod1();\r\n    case 2:\r\n        someMethod2();\r\n    default:\r\n        break;\r\n```\r\nor:\r\n```\r\n    case 3:\r\n    case 1:\r\n        someMethod1();\r\n        break;\r\n    case 2:\r\n        someMethod2();\r\n        break;\r\n    default:\r\n        break;\r\n```\r\nwould make `case: 3` be the same than `case: 1`, making them execute both methods in first code, or a single method in the second code.","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>Just a reminder: while the most suggested case is the best solution, note that if you don't close with a <code>brake;</code> your <code>case:</code>, it will continue executing in the next case.</p>\n<p>Then, while it's still best pratice to break your cases, you could still adopt a solution similar to the following:</p>\n<pre><code>switch (orderType) {\n    case 3:\n        someMethod1();\n    case 2:\n        someMethod2();\n        break;\n    case 1: \n        someMethod1();\n        break;\n    default:\n        break;\n}\n</code></pre>\n<p>Note that &quot;avoiding breaks&quot; solution can't completely cover OP necessities, because writing:</p>\n<pre><code>    case 3:\n    case 1:\n        someMethod1();\n    case 2:\n        someMethod2();\n    default:\n        break;\n</code></pre>\n<p>or:</p>\n<pre><code>    case 3:\n    case 1:\n        someMethod1();\n        break;\n    case 2:\n        someMethod2();\n        break;\n    default:\n        break;\n</code></pre>\n<p>would make <code>case: 3</code> be the same than <code>case: 1</code>, making them execute both methods in first code, or a single method in the second code.</p>\n"}],"owner":{"account_id":6376701,"reputation":1131,"user_id":4947388,"accept_rate":50,"display_name":"Lasitha Konara"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24655,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":34659095,"answer_count":6,"score":14,"last_activity_date":1675090180,"creation_date":1437287027,"question_id":31498571,"body_markdown":"My intention is to call two cases inside another case in the same switch statement,\r\n\r\n    switch (orderType) {\r\n            case 1: \r\n                statement 1;\r\n                break;\r\n           case 2:\r\n                statement 2;\r\n                break;\r\n           case 3:\r\n                 **call case 1;**\r\n                 **Call case 2;**\r\n                 break;\r\n           default:\r\n                break;`\r\n    }\r\nCan we do that in Java?\r\n\r\n","title":"Can we call a &quot;case&quot; inside another case in the same switch statement in Java?","body":"<p>My intention is to call two cases inside another case in the same switch statement,</p>\n\n<pre><code>switch (orderType) {\n        case 1: \n            statement 1;\n            break;\n       case 2:\n            statement 2;\n            break;\n       case 3:\n             **call case 1;**\n             **Call case 2;**\n             break;\n       default:\n            break;`\n}\n</code></pre>\n\n<p>Can we do that in Java?</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":3698,"reputation":36043,"user_id":5363,"accept_rate":71,"display_name":"Grzenio"},"score":0,"creation_date":1283436244,"post_id":3627392,"comment_id":3811089,"body_markdown":"you are extending TestCase in JUnit 4? Why are you not using annotations instead?","body":"you are extending TestCase in JUnit 4? Why are you not using annotations instead?"}],"answers":[{"tags":[],"owner":{"account_id":73930,"reputation":2183,"user_id":212665,"accept_rate":100,"display_name":"Vinay Lodha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1283433844,"creation_date":1283433844,"answer_id":3627500,"question_id":3627392,"body_markdown":"Create TestClass and override suite() method and run newly created TestClass.\r\n\r\n     public static Test suite()\r\n        {\r\n            TestSuite suite = new TestSuite(&quot;Test ExpenseTest&quot;);\r\n            suite.add(TestCase1.class);\r\n            suite.add(TestCase2.class);\r\n            return suite;\r\n        }","title":"How to add test cases to a suite using jUnit?","body":"<p>Create TestClass and override suite() method and run newly created TestClass.</p>\n\n<pre><code> public static Test suite()\n    {\n        TestSuite suite = new TestSuite(\"Test ExpenseTest\");\n        suite.add(TestCase1.class);\n        suite.add(TestCase2.class);\n        return suite;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20824,"reputation":32516,"user_id":50109,"accept_rate":69,"display_name":"Juri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1283458505,"creation_date":1283458505,"answer_id":3630857,"question_id":3627392,"body_markdown":"In jUnit4 you have something like this:\r\n\r\n    @RunWith(Suite.class)\r\n    @SuiteClasses({\r\n    \tSomeTest.class,\r\n    \tSomeOtherTest.class,\r\n        ...\r\n    \t})\r\n    public class AllTests {}\r\n\r\nIf you want the Eclipse GUI suite builder (New &gt; JUnit Test suite), you have to add\r\n\r\n    public static junit.framework.Test suite() {\r\n       return new JUnit4TestAdapter(SomeTest.class);\r\n    }\r\n\r\nto each of your test classes s.t. the GUI test suite builder recognizes your test.","title":"How to add test cases to a suite using jUnit?","body":"<p>In jUnit4 you have something like this:</p>\n\n<pre><code>@RunWith(Suite.class)\n@SuiteClasses({\n    SomeTest.class,\n    SomeOtherTest.class,\n    ...\n    })\npublic class AllTests {}\n</code></pre>\n\n<p>If you want the Eclipse GUI suite builder (New > JUnit Test suite), you have to add</p>\n\n<pre><code>public static junit.framework.Test suite() {\n   return new JUnit4TestAdapter(SomeTest.class);\n}\n</code></pre>\n\n<p>to each of your test classes s.t. the GUI test suite builder recognizes your test.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675089846,"creation_date":1675089846,"answer_id":75285995,"question_id":3627392,"body_markdown":"`JUnit 3` supported `TestSuite` and `public static Test suite()`. `JUnit 4` doesn&#39;t support it (it creates added test classes, but doesn&#39;t launch test methods).\r\n\r\nBut you can launch a subsuite of tests inside a suite.\r\n\r\n    import org.junit.runner.RunWith\r\n    import org.junit.runners.Suite\r\n    \r\n    @RunWith(Suite::class)\r\n    @Suite.SuiteClasses(\r\n        Test1::class,\r\n        TestSuite1::class\r\n    )\r\n    class StartTest\r\n\r\nThen inside `StartTest` you can add test classes and test suites.\r\n\r\n    @RunWith(Suite::class)\r\n    @Suite.SuiteClasses(\r\n        Test2::class,\r\n        Test3::class,\r\n        TestSuite2::class\r\n    )\r\n    class TestSuite1\r\n    \r\n    @RunWith(Suite::class)\r\n    @Suite.SuiteClasses(\r\n        Test4::class,\r\n        Test5::class\r\n    )\r\n    class TestSuite2\r\n\r\nThis way you can join test classes into groups (to have a list of 10 items instead of 100).","title":"How to add test cases to a suite using jUnit?","body":"<p><code>JUnit 3</code> supported <code>TestSuite</code> and <code>public static Test suite()</code>. <code>JUnit 4</code> doesn't support it (it creates added test classes, but doesn't launch test methods).</p>\n<p>But you can launch a subsuite of tests inside a suite.</p>\n<pre><code>import org.junit.runner.RunWith\nimport org.junit.runners.Suite\n\n@RunWith(Suite::class)\n@Suite.SuiteClasses(\n    Test1::class,\n    TestSuite1::class\n)\nclass StartTest\n</code></pre>\n<p>Then inside <code>StartTest</code> you can add test classes and test suites.</p>\n<pre><code>@RunWith(Suite::class)\n@Suite.SuiteClasses(\n    Test2::class,\n    Test3::class,\n    TestSuite2::class\n)\nclass TestSuite1\n\n@RunWith(Suite::class)\n@Suite.SuiteClasses(\n    Test4::class,\n    Test5::class\n)\nclass TestSuite2\n</code></pre>\n<p>This way you can join test classes into groups (to have a list of 10 items instead of 100).</p>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3630857,"answer_count":3,"score":0,"last_activity_date":1675089846,"creation_date":1283432994,"question_id":3627392,"body_markdown":"I have 2 test classes, both extend `TestCase`. Each class contains a bunch of individual tests which run against my program. \r\n\r\nHow can I execute both classes (and all tests they have) as part of the same suite?\r\n\r\nI am using jUnit 4.8.","title":"How to add test cases to a suite using jUnit?","body":"<p>I have 2 test classes, both extend <code>TestCase</code>. Each class contains a bunch of individual tests which run against my program. </p>\n\n<p>How can I execute both classes (and all tests they have) as part of the same suite?</p>\n\n<p>I am using jUnit 4.8.</p>\n"},{"tags":["java","spring","spring-security","http-status-code-401"],"owner":{"account_id":27656845,"reputation":11,"user_id":21110545,"display_name":"victs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675090466,"answer_count":0,"score":1,"last_activity_date":1675089700,"creation_date":1675083889,"question_id":75284821,"body_markdown":"I&#39;ve been trying to create a spring security logic to authorize users (inserted into my database) to do different things based on their roles (simple). I&#39;m supposed to have ROLE_USER and ROLE_ADMIN, but I don&#39;t think any of them work. Please help. I&#39;ll try to put every bit of important code here (even the imports).\r\n\r\n\r\n```\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\n\r\nimport com.vitoria.enums.RoleName;\r\n\r\n@Entity\r\n@Table(name = &quot;TB_ROLE&quot;)\r\npublic class RoleModel implements GrantedAuthority, Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID roleId;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(nullable = false, unique = true)\r\n    private RoleName roleName;\r\n\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return this.roleName.toString();\r\n    }\r\n\r\n    public UUID getRoleId() {\r\n        return roleId;\r\n    }\r\n\r\n    public void setRoleId(UUID roleId) {\r\n        this.roleId = roleId;\r\n    }\r\n\r\n    public RoleName getRoleName() {\r\n        return roleName;\r\n    }\r\n\r\n    public void setRoleName(RoleName roleName) {\r\n        this.roleName = roleName;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;TB_USER&quot;)\r\npublic class UserModel implements UserDetails, Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID userId;\r\n    @Column(nullable = false, unique = true)\r\n    private String username;\r\n    @Column(nullable = false)\r\n    private String password;\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;TB_USERS_ROLES&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private List&lt;RoleModel&gt; roles;\r\n\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return this.roles;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return this.password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return this.username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    public UUID getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(UUID userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\npublic enum RoleName {\r\n\tROLE_ADMIN, \r\n\tROLE_USER;\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n\r\nimport javax.transaction.Transactional;\r\n\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.vitoria.models.UserModel;\r\nimport com.vitoria.repositories.UserRepository;\r\n\r\n@Service\r\n@Transactional\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    final UserRepository userRepository;\r\n\r\n    public UserDetailsServiceImpl(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        UserModel userModel = userRepository.findByUsername(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\r\n        return new User(userModel.getUsername(), userModel.getPassword(), true, true, true,true, userModel.getAuthorities());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.vitoria.models.RoleModel;\r\n\r\npublic interface RoleRepository extends JpaRepository&lt;RoleModel, Long&gt; {\r\n\tRoleModel findByRoleName(String roleName);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.vitoria.models.UserModel;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, UUID&gt; {\r\n    Optional&lt;UserModel&gt; findByUsername(String username);\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .csrf().disable();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.access.prepost.PreAuthorize;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n\r\nimport com.vitoria.models.Flowers;\r\nimport com.vitoria.repositories.FlowersRepository;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@EnableAutoConfiguration\r\n@RequestMapping(&quot;/flowers&quot;)\r\npublic class FlowersController {\r\n\r\n\t@Autowired\r\n\tprivate FlowersRepository repo;\r\n\t\r\n\t@PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;Flowers&gt;&gt; findAll(){\r\n\t\tList&lt;Flowers&gt; allFlowers=repo.findAll();\r\n\t\treturn ResponseEntity.ok().body(allFlowers);\r\n\t}\r\n\t\r\n\t@PreAuthorize(&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;, &#39;ROLE_USER&#39;)&quot;)\r\n\t@PostMapping(&quot;/insert&quot;)\r\n\tpublic ResponseEntity&lt;Flowers&gt; insert(@RequestBody Flowers flower){\r\n\t\tFlowers entity=flower;\r\n\t\trepo.save(entity);\r\n\t\treturn ResponseEntity.ok().body(entity);\r\n\t}\r\n\t\r\n\t@PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n\t@DeleteMapping(&quot;/delete/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Void&gt; deleteById(@PathVariable Integer id){\r\n\t\trepo.deleteById(id);\r\n\t\treturn ResponseEntity.noContent().build();\r\n\t}\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.access.prepost.PreAuthorize;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.vitoria.models.UserModel;\r\nimport com.vitoria.repositories.UserRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository repo;\r\n\t\r\n\t@PreAuthorize(&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;, &#39;ROLE_USER&#39;)&quot;)\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;UserModel&gt;&gt; findAll(){\r\n\t\tList&lt;UserModel&gt; users=repo.findAll();\r\n\t\treturn ResponseEntity.ok().body(users);\r\n\t}\r\n\t@PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n\t@GetMapping(&quot;/{username}&quot;)\r\n\tpublic ResponseEntity&lt;Optional&lt;UserModel&gt;&gt; findByUsername(@RequestParam(&quot;username&quot;)String username){\r\n\t\tOptional&lt;UserModel&gt; user=repo.findByUsername(username);\r\n\t\treturn ResponseEntity.ok().body(user);\r\n\t}\r\n\t\r\n\t@PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tpublic ResponseEntity&lt;UserModel&gt; insert(@RequestBody UserModel user){\r\n\t\tUserModel entity=user;\r\n\t\tuser.setPassword(passwordEncoder().encode(user.getPassword()));\r\n\t\trepo.save(entity);\r\n\t\treturn ResponseEntity.ok().body(entity);\r\n\t}\r\n\t\r\n\tprivate PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nmy database looks like this:\r\n\r\n[tb_user](https://i.stack.imgur.com/d5wSA.png)\r\n\r\n[tb_role](https://i.stack.imgur.com/ba45d.png)\r\n\r\n[tb_users_roles](https://i.stack.imgur.com/K9Xv7.png)\r\n\r\n\r\n\r\n\r\n\r\nI think this is all. \r\nPlease keep in mind that when I try to make -&gt;any&lt;- request to any endpoint it comesback unauthorized. SO, I tried something else: taking off the role permission (using the @PreAuthorize(&quot;permitAll()&quot;)) of get all users and I still get 401 as return! Please please help me. \r\n\r\n","title":"Spring Security Database Role Authentication NOT Working and returning 401","body":"<p>I've been trying to create a spring security logic to authorize users (inserted into my database) to do different things based on their roles (simple). I'm supposed to have ROLE_USER and ROLE_ADMIN, but I don't think any of them work. Please help. I'll try to put every bit of important code here (even the imports).</p>\n<pre><code>\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.springframework.security.core.GrantedAuthority;\n\nimport com.vitoria.enums.RoleName;\n\n@Entity\n@Table(name = &quot;TB_ROLE&quot;)\npublic class RoleModel implements GrantedAuthority, Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID roleId;\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false, unique = true)\n    private RoleName roleName;\n\n\n    @Override\n    public String getAuthority() {\n        return this.roleName.toString();\n    }\n\n    public UUID getRoleId() {\n        return roleId;\n    }\n\n    public void setRoleId(UUID roleId) {\n        this.roleId = roleId;\n    }\n\n    public RoleName getRoleName() {\n        return roleName;\n    }\n\n    public void setRoleName(RoleName roleName) {\n        this.roleName = roleName;\n    }\n}\n</code></pre>\n<pre><code>\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;TB_USER&quot;)\npublic class UserModel implements UserDetails, Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID userId;\n    @Column(nullable = false, unique = true)\n    private String username;\n    @Column(nullable = false)\n    private String password;\n    @ManyToMany\n    @JoinTable(name = &quot;TB_USERS_ROLES&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;RoleModel&gt; roles;\n\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return this.roles;\n    }\n\n    @Override\n    public String getPassword() {\n        return this.password;\n    }\n\n    @Override\n    public String getUsername() {\n        return this.username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public UUID getUserId() {\n        return userId;\n    }\n\n    public void setUserId(UUID userId) {\n        this.userId = userId;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<pre><code>\npublic enum RoleName {\n    ROLE_ADMIN, \n    ROLE_USER;\n}\n\n</code></pre>\n<pre><code>\nimport javax.transaction.Transactional;\n\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.vitoria.models.UserModel;\nimport com.vitoria.repositories.UserRepository;\n\n@Service\n@Transactional\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    final UserRepository userRepository;\n\n    public UserDetailsServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        UserModel userModel = userRepository.findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\n        return new User(userModel.getUsername(), userModel.getPassword(), true, true, true,true, userModel.getAuthorities());\n    }\n}\n</code></pre>\n<pre><code>\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.vitoria.models.RoleModel;\n\npublic interface RoleRepository extends JpaRepository&lt;RoleModel, Long&gt; {\n    RoleModel findByRoleName(String roleName);\n}\n</code></pre>\n<pre><code>import java.util.Optional;\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.vitoria.models.UserModel;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel, UUID&gt; {\n    Optional&lt;UserModel&gt; findByUsername(String username);\n}\n</code></pre>\n<pre><code>\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .httpBasic()\n                .and()\n                .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n                .csrf().disable();\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\nimport com.vitoria.models.Flowers;\nimport com.vitoria.repositories.FlowersRepository;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@EnableAutoConfiguration\n@RequestMapping(&quot;/flowers&quot;)\npublic class FlowersController {\n\n    @Autowired\n    private FlowersRepository repo;\n    \n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Flowers&gt;&gt; findAll(){\n        List&lt;Flowers&gt; allFlowers=repo.findAll();\n        return ResponseEntity.ok().body(allFlowers);\n    }\n    \n    @PreAuthorize(&quot;hasAnyRole('ROLE_ADMIN', 'ROLE_USER')&quot;)\n    @PostMapping(&quot;/insert&quot;)\n    public ResponseEntity&lt;Flowers&gt; insert(@RequestBody Flowers flower){\n        Flowers entity=flower;\n        repo.save(entity);\n        return ResponseEntity.ok().body(entity);\n    }\n    \n    @PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteById(@PathVariable Integer id){\n        repo.deleteById(id);\n        return ResponseEntity.noContent().build();\n    }   \n}\n\n</code></pre>\n<pre><code>\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.vitoria.models.UserModel;\nimport com.vitoria.repositories.UserRepository;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository repo;\n    \n    @PreAuthorize(&quot;hasAnyRole('ROLE_ADMIN', 'ROLE_USER')&quot;)\n    @GetMapping\n    public ResponseEntity&lt;List&lt;UserModel&gt;&gt; findAll(){\n        List&lt;UserModel&gt; users=repo.findAll();\n        return ResponseEntity.ok().body(users);\n    }\n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;Optional&lt;UserModel&gt;&gt; findByUsername(@RequestParam(&quot;username&quot;)String username){\n        Optional&lt;UserModel&gt; user=repo.findByUsername(username);\n        return ResponseEntity.ok().body(user);\n    }\n    \n    @PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\n    @PostMapping(&quot;/save&quot;)\n    public ResponseEntity&lt;UserModel&gt; insert(@RequestBody UserModel user){\n        UserModel entity=user;\n        user.setPassword(passwordEncoder().encode(user.getPassword()));\n        repo.save(entity);\n        return ResponseEntity.ok().body(entity);\n    }\n    \n    private PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n}\n</code></pre>\n<p>my database looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/d5wSA.png\" rel=\"nofollow noreferrer\">tb_user</a></p>\n<p><a href=\"https://i.stack.imgur.com/ba45d.png\" rel=\"nofollow noreferrer\">tb_role</a></p>\n<p><a href=\"https://i.stack.imgur.com/K9Xv7.png\" rel=\"nofollow noreferrer\">tb_users_roles</a></p>\n<p>I think this is all.\nPlease keep in mind that when I try to make -&gt;any&lt;- request to any endpoint it comesback unauthorized. SO, I tried something else: taking off the role permission (using the @PreAuthorize(&quot;permitAll()&quot;)) of get all users and I still get 401 as return! Please please help me.</p>\n"},{"tags":["java","kotlin","jackson","micronaut"],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675089480,"creation_date":1674598238,"answer_id":75227801,"question_id":75227344,"body_markdown":"Add @JsonFormat(pattern=&lt;pattern&gt;)\r\n\r\nFor example:\r\n```kotlin\r\n@Serdeable\r\ndata class Thing(@field:JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSZ&quot;) val created: OffsetDateTime)\r\n```\r\n\r\n**UPDATE: Global Setting**\r\n\r\n```yaml\r\nmicronaut:\r\n  application:\r\n    name: kotlinSerde\r\n  serde:\r\n    write-dates-as-timestamps: false # 1\r\n#    date-format: &#39;yyyy-MM-dd&#39; #2\r\n```\r\n1. If you want to use default ISO formats instead of timestamps (ex: `&quot;2023-01-30T09:22:01.796846-05:00&quot;` vs `:1675088195756`)\r\n2. If you want to set a specific date format globally. \r\n\r\nNote: the `JsonFormat` annotation will be used if declared.","title":"How to change the default serialization/deserialization for Java java.time.OffsetDateTime on Micronaut?","body":"<p>Add @JsonFormat(pattern=)</p>\n<p>For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Serdeable\ndata class Thing(@field:JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSZ&quot;) val created: OffsetDateTime)\n</code></pre>\n<p><strong>UPDATE: Global Setting</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>micronaut:\n  application:\n    name: kotlinSerde\n  serde:\n    write-dates-as-timestamps: false # 1\n#    date-format: 'yyyy-MM-dd' #2\n</code></pre>\n<ol>\n<li>If you want to use default ISO formats instead of timestamps (ex: <code>&quot;2023-01-30T09:22:01.796846-05:00&quot;</code> vs <code>:1675088195756</code>)</li>\n<li>If you want to set a specific date format globally.</li>\n</ol>\n<p>Note: the <code>JsonFormat</code> annotation will be used if declared.</p>\n"}],"owner":{"account_id":3016002,"reputation":426,"user_id":2558163,"display_name":"Alexandre V."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75227801,"answer_count":1,"score":0,"last_activity_date":1675089480,"creation_date":1674594723,"question_id":75227344,"body_markdown":"I&#39;m using Micronaut v3.8.1. Micronaut is using Jackson for serialization/deserialization, via Gradle dependency management:\r\n\r\n```\r\nimplementation(&quot;io.micronaut.serde:micronaut-serde-jackson&quot;)\r\n```\r\n\r\nThe default serialization for the `java.time.OffsetDateTime` instances is a number that represents the milliseconds since Epoch.\r\n\r\nFor example, returning instances of a class represented by the next code (Kotlin) from a controller:\r\n\r\n```kotlin\r\nimport io.micronaut.serde.annotation.Serdeable\r\nimport java.time.OffsetDateTime\r\n\r\n@Serdeable\r\nclass Thing(val created: OffsetDateTime)\r\n```\r\n\r\n...a single instance of `Thing` will be serialized to something like:\r\n\r\n```json\r\n{\r\n&quot;created&quot;: 1674594085000\r\n}\r\n```\r\n\r\nI want to change the configuration, to produce the string representation of that date/time, which is:\r\n\r\n```json\r\n{\r\n&quot;created&quot;: &quot;2023-01-24T21:01:25.191493200Z&quot;\r\n}\r\n```\r\n\r\nHow to achieve this? ","title":"How to change the default serialization/deserialization for Java java.time.OffsetDateTime on Micronaut?","body":"<p>I'm using Micronaut v3.8.1. Micronaut is using Jackson for serialization/deserialization, via Gradle dependency management:</p>\n<pre><code>implementation(&quot;io.micronaut.serde:micronaut-serde-jackson&quot;)\n</code></pre>\n<p>The default serialization for the <code>java.time.OffsetDateTime</code> instances is a number that represents the milliseconds since Epoch.</p>\n<p>For example, returning instances of a class represented by the next code (Kotlin) from a controller:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.micronaut.serde.annotation.Serdeable\nimport java.time.OffsetDateTime\n\n@Serdeable\nclass Thing(val created: OffsetDateTime)\n</code></pre>\n<p>...a single instance of <code>Thing</code> will be serialized to something like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;created&quot;: 1674594085000\n}\n</code></pre>\n<p>I want to change the configuration, to produce the string representation of that date/time, which is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;created&quot;: &quot;2023-01-24T21:01:25.191493200Z&quot;\n}\n</code></pre>\n<p>How to achieve this?</p>\n"},{"tags":["java","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1675089826,"post_id":75285833,"comment_id":132847803,"body_markdown":"JARs are not deleted.","body":"JARs are not deleted."}],"owner":{"account_id":2499777,"reputation":2959,"user_id":2175231,"accept_rate":61,"display_name":"Wasabi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675088999,"creation_date":1675088999,"question_id":75285833,"body_markdown":"The Maven Release Plugin&#39;s last step is `release:perform`, which checks out the tag created by `release:prepare` (as defined by the `release.properties` file), compiles, tests and packages the code and then... performs the release.\r\n\r\nThe docs state the following:\r\n\r\n&gt; After the release is complete, the `release.properties` and other release files will be removed from the checkout.\r\n\r\nAre the jars considered &quot;other release files&quot; and therefore deleted as well? If so, can this be disabled (I didn&#39;t see anything relevant in the command-line arguments)?","title":"Does `mvn release:perform` delete the jars once it&#39;s done?","body":"<p>The Maven Release Plugin's last step is <code>release:perform</code>, which checks out the tag created by <code>release:prepare</code> (as defined by the <code>release.properties</code> file), compiles, tests and packages the code and then... performs the release.</p>\n<p>The docs state the following:</p>\n<blockquote>\n<p>After the release is complete, the <code>release.properties</code> and other release files will be removed from the checkout.</p>\n</blockquote>\n<p>Are the jars considered &quot;other release files&quot; and therefore deleted as well? If so, can this be disabled (I didn't see anything relevant in the command-line arguments)?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1675088235,"post_id":75285640,"comment_id":132847204,"body_markdown":"Why don&#39;t you try it?","body":"Why don&#39;t you try it?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1675089697,"post_id":75285640,"comment_id":132847745,"body_markdown":"@GauravJeswani I&#39;m still checking if there will any kind of impact, specially with performance.","body":"@GauravJeswani I&#39;m still checking if there will any kind of impact, specially with performance."}],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675088866,"creation_date":1675088866,"answer_id":75285803,"question_id":75285640,"body_markdown":"REQUIRED means a transaction will be created before the method is invoked, other nested services with REQUIRED will join this transaction. \r\n\r\nREQUIRES_NEW in a nested service will create another transaction which will be independent from the first transaction it (with req_new) could be committed even if the first transaction (req) will be rolled back.\r\n\r\nI doubt that the transaction propagation is responsible for the described behaviour ( thread &quot;dies&quot;). I would check the thread pools used for async also that there all invocations run through a proxy.","title":"Difference between &quot;Propagation.REQUIRED&quot; e &quot;Propagation.REQUIRES_NEW&quot;?","body":"<p>REQUIRED means a transaction will be created before the method is invoked, other nested services with REQUIRED will join this transaction.</p>\n<p>REQUIRES_NEW in a nested service will create another transaction which will be independent from the first transaction it (with req_new) could be committed even if the first transaction (req) will be rolled back.</p>\n<p>I doubt that the transaction propagation is responsible for the described behaviour ( thread &quot;dies&quot;). I would check the thread pools used for async also that there all invocations run through a proxy.</p>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75285803,"answer_count":1,"score":1,"last_activity_date":1675088866,"creation_date":1675087934,"question_id":75285640,"body_markdown":"I have a service class (named A) which has a method with ```@Async``` annotation. This method async from class A, calls another service class (named B) which has the annotation ```@Transactional(propagation = Propagation.REQUIRED)```. This class B, calls another service (named C) which also has the very same annotation from class B. And, the class C, calls a method from a repository class.  \r\nThese sequence is all triggered by a post endpoint with a request body.  \r\nBeing said, I&#39;m facing an intermittent issue that, sometimes I get the result as expected and sometimes I do not have any result (using exaclty the same request body).  \r\nLooking into application&#39;s logs, I could see that, when I get no result, the endpoint do not reach the repository class and apparently the thread &quot;dies&quot; in the class A (when the async method is called).  \r\nSo, my main question is: if I change the type of Propagation from ```REQUIRED``` to ```REQUIRES_NEW``` in the classe C, it would solve my async problem?","title":"Difference between &quot;Propagation.REQUIRED&quot; e &quot;Propagation.REQUIRES_NEW&quot;?","body":"<p>I have a service class (named A) which has a method with <code>@Async</code> annotation. This method async from class A, calls another service class (named B) which has the annotation <code>@Transactional(propagation = Propagation.REQUIRED)</code>. This class B, calls another service (named C) which also has the very same annotation from class B. And, the class C, calls a method from a repository class.<br />\nThese sequence is all triggered by a post endpoint with a request body.<br />\nBeing said, I'm facing an intermittent issue that, sometimes I get the result as expected and sometimes I do not have any result (using exaclty the same request body).<br />\nLooking into application's logs, I could see that, when I get no result, the endpoint do not reach the repository class and apparently the thread &quot;dies&quot; in the class A (when the async method is called).<br />\nSo, my main question is: if I change the type of Propagation from <code>REQUIRED</code> to <code>REQUIRES_NEW</code> in the classe C, it would solve my async problem?</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1618386198,"post_id":67087269,"comment_id":118582568,"body_markdown":"Err, what have you tried yourself. We typically HELP you solving problems, but we arent a free code writing service.","body":"Err, what have you tried yourself. We typically HELP you solving problems, but we arent a free code writing service."},{"owner":{"account_id":21249763,"reputation":83,"user_id":15632111,"display_name":"Julia5049"},"score":0,"creation_date":1618392827,"post_id":67087269,"comment_id":118585482,"body_markdown":"@GhostCat I developed this code myself. So never mind. Also I asked a question on the platform for Q&amp;A.","body":"@GhostCat I developed this code myself. So never mind. Also I asked a question on the platform for Q&amp;A."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1618396724,"post_id":67087269,"comment_id":118587178,"body_markdown":"Please revisit the comment I gave you two hours ago. I explained to you how things are supposed to work here, when you have &quot;not working code&quot;.","body":"Please revisit the comment I gave you two hours ago. I explained to you how things are supposed to work here, when you have &quot;not working code&quot;."}],"answers":[{"tags":[],"owner":{"account_id":18281007,"reputation":90,"user_id":13309843,"display_name":"Shrish Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618385512,"creation_date":1618385512,"answer_id":67087323,"question_id":67087269,"body_markdown":"You can do it with the following code - \r\n\r\n    const arr = [[43, 2, 21],[1, 2, 4, 54],[5, 84, 2],[11, 5, 3, 1]];\r\n    const sumArray = (array) =&gt; {\r\n       const newArray = [];\r\n       array.forEach(sub =&gt; {\r\n          sub.forEach((num, index) =&gt; {\r\n             if(newArray[index]){\r\n                newArray[index] += num;\r\n             }else{\r\n                newArray[index] = num;\r\n             }\r\n          });\r\n       });\r\n       return newArray;\r\n    }","title":"JAVA : How to sum values at the same index in arrays into a single array","body":"<p>You can do it with the following code -</p>\n<pre><code>const arr = [[43, 2, 21],[1, 2, 4, 54],[5, 84, 2],[11, 5, 3, 1]];\nconst sumArray = (array) =&gt; {\n   const newArray = [];\n   array.forEach(sub =&gt; {\n      sub.forEach((num, index) =&gt; {\n         if(newArray[index]){\n            newArray[index] += num;\n         }else{\n            newArray[index] = num;\n         }\n      });\n   });\n   return newArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4341786,"reputation":535,"user_id":3544840,"accept_rate":80,"display_name":"MSR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618386528,"creation_date":1618386528,"answer_id":67087577,"question_id":67087269,"body_markdown":"\t\r\n\r\n    public static void main(String args[]) {\r\n    \r\n    \t\tint numbers[][] = {{43, 2, 21},{1, 2, 4, 54},{5, 84, 2},{11, 5, 3, 1}};\r\n    \t\tint result[]=new int[4];\r\n    \t\t\r\n    \t\tfor(int a=0;a&lt;4;a++) {\r\n    \t\t\tfor(int b=0;b&lt;4;b++) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\tresult[b]+=numbers[a][b];\r\n    \t\t\t\t}catch(IndexOutOfBoundsException e) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(Arrays.toString(result));\r\n    \t\t\r\n    \t}","title":"JAVA : How to sum values at the same index in arrays into a single array","body":"<pre><code>public static void main(String args[]) {\n\n        int numbers[][] = {{43, 2, 21},{1, 2, 4, 54},{5, 84, 2},{11, 5, 3, 1}};\n        int result[]=new int[4];\n        \n        for(int a=0;a&lt;4;a++) {\n            for(int b=0;b&lt;4;b++) {\n                try {\n                result[b]+=numbers[a][b];\n                }catch(IndexOutOfBoundsException e) {\n                    \n                }\n            }\n        }\n        \n        System.out.println(Arrays.toString(result));\n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8856397,"reputation":823,"user_id":6614056,"accept_rate":67,"display_name":"Abhilash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618387188,"creation_date":1618387188,"answer_id":67087736,"question_id":67087269,"body_markdown":"This solution will work fine, just that it will take O(n^2) for completion. We can log some error message for cases where the array elements size are not same.\r\n\r\n    public static void main (String[] args) {\r\n            int[][] input = {{43, 2, 21},{1, 2, 4, 54},{5, 84, 2},{11, 5, 3, 1}};\r\n            int[] output = new int[input.length];\r\n\r\n            for (int i = 0; i &lt; input.length ; i++) {\r\n                for (int j = 0; j &lt; input.length; j++) {\r\n                    try {\r\n                        output[j] = output[j] + input[i][j];\r\n                    }catch (ArrayIndexOutOfBoundsException e) {\r\n                        System.out.println(&quot;Size is not same&quot;);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(Arrays.toString(output));\r\n        }","title":"JAVA : How to sum values at the same index in arrays into a single array","body":"<p>This solution will work fine, just that it will take O(n^2) for completion. We can log some error message for cases where the array elements size are not same.</p>\n<pre><code>public static void main (String[] args) {\n        int[][] input = {{43, 2, 21},{1, 2, 4, 54},{5, 84, 2},{11, 5, 3, 1}};\n        int[] output = new int[input.length];\n\n        for (int i = 0; i &lt; input.length ; i++) {\n            for (int j = 0; j &lt; input.length; j++) {\n                try {\n                    output[j] = output[j] + input[i][j];\n                }catch (ArrayIndexOutOfBoundsException e) {\n                    System.out.println(&quot;Size is not same&quot;);\n                }\n            }\n        }\n        System.out.println(Arrays.toString(output));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21250254,"reputation":1,"user_id":15632547,"display_name":"tpwjd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618388888,"creation_date":1618388888,"answer_id":67088129,"question_id":67087269,"body_markdown":"If you know about the &#39;Two Pointer Algorithm&#39;, you can solve this problem in O(n) time complexity.\r\n\r\n      public static void main(String[] args) {\r\n        int[][] num = {{43, 2, 21, 100},{1, 2, 4, 54},{5,84,2,1,1},{11,5,3,1}};\r\n\r\n        int size = 0;\r\n\r\n        int i = 0;\r\n        int j = 0;\r\n        int sum = 0;\r\n        while(true){\r\n            if(i == num.length){\r\n                /**\r\n                 * insert sum into result array here\r\n                 */\r\n\r\n                if(i == num.length &amp;&amp; j == num[i-1].length)\r\n                    break;\r\n\r\n                sum = 0;\r\n                i = 0;\r\n                j++;\r\n            }\r\n\r\n            if(j &lt; num[i].length) {\r\n                sum += num[i][j];\r\n            }\r\n            i++;\r\n        }\r\n    }","title":"JAVA : How to sum values at the same index in arrays into a single array","body":"<p>If you know about the 'Two Pointer Algorithm', you can solve this problem in O(n) time complexity.</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] num = {{43, 2, 21, 100},{1, 2, 4, 54},{5,84,2,1,1},{11,5,3,1}};\n\n    int size = 0;\n\n    int i = 0;\n    int j = 0;\n    int sum = 0;\n    while(true){\n        if(i == num.length){\n            /**\n             * insert sum into result array here\n             */\n\n            if(i == num.length &amp;&amp; j == num[i-1].length)\n                break;\n\n            sum = 0;\n            i = 0;\n            j++;\n        }\n\n        if(j &lt; num[i].length) {\n            sum += num[i][j];\n        }\n        i++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618483994,"creation_date":1618483994,"answer_id":67107140,"question_id":67087269,"body_markdown":"*lambda is always a good choice for a short solution*\r\n\r\n    int mat[][] = { {43, 2, 21}, {1, 2, 4, 54}, {5, 84, 2}, {11, 5, 3, 1}};    \r\n\r\n    int[] array = Arrays.stream(mat)\r\n        .reduce((a1, a2) -&gt; IntStream.range(0, Math.max(a1.length, a2.length))\r\n            .map(i -&gt; i &lt; a1.length &amp;&amp; i &lt; a2.length ? a1[i] + a2[i]\r\n                : i &lt; a1.length ? a1[i] : a2[i] ).toArray()).get();\r\n\r\n*(can handle rows of different lengths)*","title":"JAVA : How to sum values at the same index in arrays into a single array","body":"<p><em>lambda is always a good choice for a short solution</em></p>\n<pre><code>int mat[][] = { {43, 2, 21}, {1, 2, 4, 54}, {5, 84, 2}, {11, 5, 3, 1}};    \n\nint[] array = Arrays.stream(mat)\n    .reduce((a1, a2) -&gt; IntStream.range(0, Math.max(a1.length, a2.length))\n        .map(i -&gt; i &lt; a1.length &amp;&amp; i &lt; a2.length ? a1[i] + a2[i]\n            : i &lt; a1.length ? a1[i] : a2[i] ).toArray()).get();\n</code></pre>\n<p><em>(can handle rows of different lengths)</em></p>\n"}],"owner":{"account_id":21249763,"reputation":83,"user_id":15632111,"display_name":"Julia5049"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":67107140,"answer_count":5,"score":-2,"last_activity_date":1675088841,"creation_date":1618385264,"question_id":67087269,"body_markdown":"How can I sum values at the same index in arrays into a single array?\r\n\r\nWe have an array of arrays and are required to write a function that takes in this array and returns a new array that represents the sum of corresponding elements of original array.\r\n\r\nIf the original array is −\r\n\r\n    [\r\n       [43, 2, 21],[1, 2, 4, 54],[5, 84, 2],[11, 5, 3, 1]\r\n    ]\r\n\r\nThen the output should be −\r\n\r\n    [60, 93, 30, 55]\r\n\r\nI want to get this result with JAVA\r\n\r\nI&#39;ve found javascript code with googling.\r\n\r\nhttps://www.tutorialspoint.com/how-to-sum-elements-at-the-same-index-in-array-of-arrays-into-a-single-array-javascript \r\n\r\n\r\nThank you :)","title":"JAVA : How to sum values at the same index in arrays into a single array","body":"<p>How can I sum values at the same index in arrays into a single array?</p>\n<p>We have an array of arrays and are required to write a function that takes in this array and returns a new array that represents the sum of corresponding elements of original array.</p>\n<p>If the original array is −</p>\n<pre><code>[\n   [43, 2, 21],[1, 2, 4, 54],[5, 84, 2],[11, 5, 3, 1]\n]\n</code></pre>\n<p>Then the output should be −</p>\n<pre><code>[60, 93, 30, 55]\n</code></pre>\n<p>I want to get this result with JAVA</p>\n<p>I've found javascript code with googling.</p>\n<p><a href=\"https://www.tutorialspoint.com/how-to-sum-elements-at-the-same-index-in-array-of-arrays-into-a-single-array-javascript\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/how-to-sum-elements-at-the-same-index-in-array-of-arrays-into-a-single-array-javascript</a></p>\n<p>Thank you :)</p>\n"},{"tags":["java","runtime","hotswap"],"comments":[{"owner":{"account_id":66000,"reputation":5549,"user_id":193886,"display_name":"ivy"},"score":3,"creation_date":1293619409,"post_id":4553353,"comment_id":4992044,"body_markdown":"Can you explain why you can&#39;t use the Strategy Pattern (e.g. a variable object implementing the required variable functionality)? Swapping methods sounds complicated to achieve what you want.","body":"Can you explain why you can&#39;t use the Strategy Pattern (e.g. a variable object implementing the required variable functionality)? Swapping methods sounds complicated to achieve what you want."},{"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"score":0,"creation_date":1293619523,"post_id":4553353,"comment_id":4992058,"body_markdown":"@ivy: I could use that, of course, but I&#39;m just wondering if it&#39;s possible to do what I described in my question. You can think of it as a &quot;theoretical&quot; question in some way.","body":"@ivy: I could use that, of course, but I&#39;m just wondering if it&#39;s possible to do what I described in my question. You can think of it as a &quot;theoretical&quot; question in some way."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1293619612,"post_id":4553353,"comment_id":4992072,"body_markdown":"@ivy the mechanism is there for upgrading a running service, not for selecting between a set of known implementations.","body":"@ivy the mechanism is there for upgrading a running service, not for selecting between a set of known implementations."},{"owner":{"account_id":66000,"reputation":5549,"user_id":193886,"display_name":"ivy"},"score":0,"creation_date":1293620622,"post_id":4553353,"comment_id":4992211,"body_markdown":"@Pete Sure, but you could load alternatives at runtime, or even redefine classes of the alternatives at runtime. I was hinting at using some kind of proxy mechanism. The &#39;problem&#39; with the example is that even while redefining the class, the current Thread will not use the redefined class. But I guess that makes it an interesting question...","body":"@Pete Sure, but you could load alternatives at runtime, or even redefine classes of the alternatives at runtime. I was hinting at using some kind of proxy mechanism. The &#39;problem&#39; with the example is that even while redefining the class, the current Thread will not use the redefined class. But I guess that makes it an interesting question..."}],"answers":[{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1293619557,"creation_date":1293619557,"answer_id":4553393,"question_id":4553353,"body_markdown":"You can do this through the JPDA (Java Platform Debugger Architecture) interface: http://download.oracle.com/javase/1.4.2/docs/guide/jpda/enhancements.html#hotswap\r\n\r\nIt&#39;s not automatic as the Erlang case - the JVM doesn&#39;t monitor the class path for changes to class files then reload and relink them if changed, for fairly obvious reasons (Java was designed for web deployment you don&#39;t want to be polling a http URL for changes).","title":"Change a method at runtime via a hot swap mechanism","body":"<p>You can do this through the JPDA (Java Platform Debugger Architecture) interface: <a href=\"http://download.oracle.com/javase/1.4.2/docs/guide/jpda/enhancements.html#hotswap\" rel=\"nofollow\">http://download.oracle.com/javase/1.4.2/docs/guide/jpda/enhancements.html#hotswap</a></p>\n\n<p>It's not automatic as the Erlang case - the JVM doesn't monitor the class path for changes to class files then reload and relink them if changed, for fairly obvious reasons (Java was designed for web deployment you don't want to be polling a http URL for changes).</p>\n"},{"tags":[],"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1293653603,"creation_date":1293653603,"answer_id":4557474,"question_id":4553353,"body_markdown":"You can do it via class loaders. For example if you are familiar with Servlet containers such as tomcat that reload pages as you modify them in development. Here is a [great explanation of creating dynamic code in java][1]. It not only explains loading but also compiling source on the fly. You should be able to apply the concepts covered to any strategy of reloading code you want to utilize.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-06-2006/jw-0612-dynamic.html","title":"Change a method at runtime via a hot swap mechanism","body":"<p>You can do it via class loaders. For example if you are familiar with Servlet containers such as tomcat that reload pages as you modify them in development. Here is a <a href=\"http://www.javaworld.com/javaworld/jw-06-2006/jw-0612-dynamic.html\" rel=\"noreferrer\">great explanation of creating dynamic code in java</a>. It not only explains loading but also compiling source on the fly. You should be able to apply the concepts covered to any strategy of reloading code you want to utilize.</p>\n"},{"tags":[],"owner":{"account_id":77511,"reputation":1167,"user_id":221169,"accept_rate":87,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1480258621,"creation_date":1294040779,"answer_id":4582795,"question_id":4553353,"body_markdown":"You can either use the open-source [HotSpot VM][1] or the commercial [JRebel][2] IDE plugin to easily achieve your goal (view comparison table [here][3]).\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136373.html\r\n  [2]: http://zeroturnaround.com/software/jrebel/\r\n  [3]: https://zeroturnaround.com/software/jrebel/features/comparison-matrix/","title":"Change a method at runtime via a hot swap mechanism","body":"<p>You can either use the open-source <a href=\"http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136373.html\" rel=\"noreferrer\">HotSpot VM</a> or the commercial <a href=\"http://zeroturnaround.com/software/jrebel/\" rel=\"noreferrer\">JRebel</a> IDE plugin to easily achieve your goal (view comparison table <a href=\"https://zeroturnaround.com/software/jrebel/features/comparison-matrix/\" rel=\"noreferrer\">here</a>).</p>\n"},{"tags":[],"owner":{"account_id":120200,"reputation":5138,"user_id":312480,"accept_rate":95,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1594030136,"creation_date":1294069168,"answer_id":4585815,"question_id":4553353,"body_markdown":"I&#39;ve used this [hotswap ant task][1] in many projects. The target java application can be launched via Ant, Eclipse, a command prompt, or any other means as long as it is launched in debug mode with the appropriate port open. The linked page provides instructions on how to do this via Ant. \r\n\r\nAny number of classes can be hotswapped as long as the changes are not structural. Method body changes generally hotswap with ease. Code can be hotswapped by running an ant script via a shell or Eclipse.\r\n\r\nAt work, I utilize a script that hotswaps code changes automatically by comparing timestamps on the class files. This is similar to the sample on the project page that shows a simple example that only hotswaps changed classes.\r\n\r\nAdditional note: This utilizes the [JPDA][2].\r\n\r\n\r\n  [1]: https://web.archive.org/web/20070724055839/https://hotswap.dev.java.net/\r\n  [2]: https://web.archive.org/web/20070210072412/http://java.sun.com/javase/technologies/core/toolsapis/jpda/","title":"Change a method at runtime via a hot swap mechanism","body":"<p>I've used this <a href=\"https://web.archive.org/web/20070724055839/https://hotswap.dev.java.net/\" rel=\"nofollow noreferrer\">hotswap ant task</a> in many projects. The target java application can be launched via Ant, Eclipse, a command prompt, or any other means as long as it is launched in debug mode with the appropriate port open. The linked page provides instructions on how to do this via Ant.</p>\n<p>Any number of classes can be hotswapped as long as the changes are not structural. Method body changes generally hotswap with ease. Code can be hotswapped by running an ant script via a shell or Eclipse.</p>\n<p>At work, I utilize a script that hotswaps code changes automatically by comparing timestamps on the class files. This is similar to the sample on the project page that shows a simple example that only hotswaps changed classes.</p>\n<p>Additional note: This utilizes the <a href=\"https://web.archive.org/web/20070210072412/http://java.sun.com/javase/technologies/core/toolsapis/jpda/\" rel=\"nofollow noreferrer\">JPDA</a>.</p>\n"},{"tags":[],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1294130683,"creation_date":1294130683,"answer_id":4591850,"question_id":4553353,"body_markdown":"What about OSGi? Hot swapping is sorta &quot;built in&quot; to the spec - I would think this would be one possible solution as well.","title":"Change a method at runtime via a hot swap mechanism","body":"<p>What about OSGi? Hot swapping is sorta \"built in\" to the spec - I would think this would be one possible solution as well.</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1294147789,"creation_date":1294147789,"answer_id":4594122,"question_id":4553353,"body_markdown":"You could use the Strategy design pattern, so you have a an object to manipulate rather than a method, and a protocol for communicating with the program to tell it to use a given class name as the class of the Strategy object.","title":"Change a method at runtime via a hot swap mechanism","body":"<p>You could use the Strategy design pattern, so you have a an object to manipulate rather than a method, and a protocol for communicating with the program to tell it to use a given class name as the class of the Strategy object.</p>\n"},{"tags":[],"owner":{"account_id":2824650,"reputation":2375,"user_id":2427542,"accept_rate":78,"display_name":"aspiring_sarge"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1675088458,"creation_date":1434902201,"answer_id":30966436,"question_id":4553353,"body_markdown":"I&#39;ve found the relatively newer [Hotswap Agent][1] is well-documented and feature-rich (and best of all, [open source][2]).\r\n\r\n\r\n  [1]: http://hotswapagent.org/\r\n  [2]: https://github.com/HotswapProjects/HotswapAgent","title":"Change a method at runtime via a hot swap mechanism","body":"<p>I've found the relatively newer <a href=\"http://hotswapagent.org/\" rel=\"nofollow noreferrer\">Hotswap Agent</a> is well-documented and feature-rich (and best of all, <a href=\"https://github.com/HotswapProjects/HotswapAgent\" rel=\"nofollow noreferrer\">open source</a>).</p>\n"}],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41793,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":4582795,"answer_count":7,"score":61,"last_activity_date":1675088458,"creation_date":1293619081,"question_id":4553353,"body_markdown":"Assume we have a trivial Java program that consists of just one class:\r\n\r\n    public class HelloWorld {\r\n      \r\n       private static void replacable(int i) {\r\n          System.out.println(&quot;Today is a nice day with a number &quot; + i);\r\n       }        \r\n\r\n       public static void main(String[] args) throws Exception {\r\n          for(int i = 0; i &lt; 100000; ++i) {\r\n          replacable(i);\r\n          Thread.sleep(500);\r\n       }\r\n    }\r\n\r\nAfter it&#39;s compiled and run, output will be this:\r\n\r\n&gt; Today is a nice day with a number 0\r\n&gt; \r\n&gt; Today is a nice day with a number 1\r\n&gt; \r\n&gt; Today is a nice day with a number 2\r\n&gt; \r\n&gt; Today is a nice day with a number 3\r\n&gt; \r\n&gt; ...\r\n\r\nMy question: does there exist (or is there on the horizon) some way to swap `replacable` method at runtime? Something like writing another version of `HelloWorld` with a new version of `replacable`, compiling it and then the old version in an already running JVM?\r\n\r\nSo, if I write the new version like this:\r\n\r\n    private static void replacable(int i) {\r\n       System.out.println(&quot;Today is an even nicer day with a number &quot; + i);\r\n    }  \r\n\r\nis there something similar to [Erlang&#39;s hot code swapping][1] where I can do this:\r\n\r\n1. run original program\r\n2. write modified version\r\n3. using a command line program, connect to running JVM and replace existing method\r\n\r\nso that, during runtime, this will happen:\r\n\r\n&gt; Today is a nice day with a number 15000\r\n&gt; \r\n&gt; Today is a nice day with a number 15001\r\n&gt;\r\n&gt; Today is an even nicer day with a number 15002\r\n&gt;\r\n&gt; Today is an even nicer day with a number 15003\r\n&gt;\r\n&gt; ...\r\n\r\nAssume that above program is standalone, runs in a standard Java SE environment, there is nothing else on classpath, so it&#39;s almost a Hello world style program.\r\n\r\nNote: I know that technologies like bytecode manipulation ([cglib][2]), [aspectJ][3], [jRebel][4], [JMX][5], hotswapping of methods in Java EE etc. exist, but they aren&#39;t what I&#39;m thinking of. Think of Erlang.\r\n\r\n\r\n  [1]: http://spawnlink.com/articles/rules-of-hot-code-swapping/\r\n  [2]: http://cglib.sourceforge.net/\r\n  [3]: http://www.eclipse.org/aspectj/\r\n  [4]: http://www.zeroturnaround.com/jrebel/\r\n  [5]: http://java.sun.com/javase/technologies/core/mntr-mgmt/javamanagement/","title":"Change a method at runtime via a hot swap mechanism","body":"<p>Assume we have a trivial Java program that consists of just one class:</p>\n\n<pre><code>public class HelloWorld {\n\n   private static void replacable(int i) {\n      System.out.println(\"Today is a nice day with a number \" + i);\n   }        \n\n   public static void main(String[] args) throws Exception {\n      for(int i = 0; i &lt; 100000; ++i) {\n      replacable(i);\n      Thread.sleep(500);\n   }\n}\n</code></pre>\n\n<p>After it's compiled and run, output will be this:</p>\n\n<blockquote>\n  <p>Today is a nice day with a number 0</p>\n  \n  <p>Today is a nice day with a number 1</p>\n  \n  <p>Today is a nice day with a number 2</p>\n  \n  <p>Today is a nice day with a number 3</p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>My question: does there exist (or is there on the horizon) some way to swap <code>replacable</code> method at runtime? Something like writing another version of <code>HelloWorld</code> with a new version of <code>replacable</code>, compiling it and then the old version in an already running JVM?</p>\n\n<p>So, if I write the new version like this:</p>\n\n<pre><code>private static void replacable(int i) {\n   System.out.println(\"Today is an even nicer day with a number \" + i);\n}  \n</code></pre>\n\n<p>is there something similar to <a href=\"http://spawnlink.com/articles/rules-of-hot-code-swapping/\">Erlang's hot code swapping</a> where I can do this:</p>\n\n<ol>\n<li>run original program</li>\n<li>write modified version</li>\n<li>using a command line program, connect to running JVM and replace existing method</li>\n</ol>\n\n<p>so that, during runtime, this will happen:</p>\n\n<blockquote>\n  <p>Today is a nice day with a number 15000</p>\n  \n  <p>Today is a nice day with a number 15001</p>\n  \n  <p>Today is an even nicer day with a number 15002</p>\n  \n  <p>Today is an even nicer day with a number 15003</p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>Assume that above program is standalone, runs in a standard Java SE environment, there is nothing else on classpath, so it's almost a Hello world style program.</p>\n\n<p>Note: I know that technologies like bytecode manipulation (<a href=\"http://cglib.sourceforge.net/\">cglib</a>), <a href=\"http://www.eclipse.org/aspectj/\">aspectJ</a>, <a href=\"http://www.zeroturnaround.com/jrebel/\">jRebel</a>, <a href=\"http://java.sun.com/javase/technologies/core/mntr-mgmt/javamanagement/\">JMX</a>, hotswapping of methods in Java EE etc. exist, but they aren't what I'm thinking of. Think of Erlang.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1675087249,"post_id":75285471,"comment_id":132846865,"body_markdown":"What is `n` supposed to be?","body":"What is <code>n</code> supposed to be?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":6,"creation_date":1675087283,"post_id":75285471,"comment_id":132846876,"body_markdown":"Why do you create a new `deptArray`? Using a debugger or even just logging might be helpful.","body":"Why do you create a new <code>deptArray</code>? Using a debugger or even just logging might be helpful."}],"answers":[{"tags":[],"owner":{"account_id":18947627,"reputation":760,"user_id":13826114,"display_name":"benicamera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675087666,"creation_date":1675087666,"answer_id":75285588,"question_id":75285471,"body_markdown":"In your `q3Sales`-method you are reassigning the paramter array.\r\nWhen instatiated, arrays are always filled with `0` (`0.0` as `double` or `false` as `boolean`).","title":"None of my array calculation methods are working / returning values","body":"<p>In your <code>q3Sales</code>-method you are reassigning the paramter array.\nWhen instatiated, arrays are always filled with <code>0</code> (<code>0.0</code> as <code>double</code> or <code>false</code> as <code>boolean</code>).</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675087691,"creation_date":1675087691,"answer_id":75285596,"question_id":75285471,"body_markdown":"You&#39;re overwriting the `deptArray` in the method, which is wrong. Instead you should use the array passed to the method:\r\n\r\n```java\r\npublic double q3Sales (double [] deptArray)\r\n{\r\n    //9.Q3 Sales Calculation for all departments\r\n    return deptArray[6]+deptArray[7]+deptArray[8];\r\n}\r\n```","title":"None of my array calculation methods are working / returning values","body":"<p>You're overwriting the <code>deptArray</code> in the method, which is wrong. Instead you should use the array passed to the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double q3Sales (double [] deptArray)\n{\n    //9.Q3 Sales Calculation for all departments\n    return deptArray[6]+deptArray[7]+deptArray[8];\n}\n</code></pre>\n"}],"owner":{"account_id":27657518,"reputation":11,"user_id":21111074,"display_name":"N K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1675088410,"creation_date":1675087174,"question_id":75285471,"body_markdown":"I&#39;m very new to Java.  I&#39;m trying to build a really simple departmental sales reporting system for my portfolio that declares 5 arrays (of length 12, so for a 12-month reporting period) for each department.  I have an addData method that manually adds test data into each array.  The methods that calculate and return the Q1-Q4 sales data for each department.\r\n\r\nThe problem I have is that while the arrays are storing the test data the methods don&#39;t seem to be returning any values so I&#39;m getting 0.0 (there are no error messages). Can someone help me to fix this? The code is below:\r\n\r\n```\r\npublic double q3Sales (double [] deptArray)\r\n{\r\n\t//9.Q3 Sales Calculation for all departments\r\n\tdeptArray = new double[monthly];\r\n\tdouble Q3Sum = 0;\r\n\t\r\n\tQ3Sum = deptArray[6]+deptArray[7]+deptArray[8];\r\n\treturn Q3Sum;\r\n}\r\n\r\npublic static void main(String[] args) \r\n{\r\n\tQuarterly_Report n=new Quarterly_Report();\r\n\t\tn.addData();\r\n\t\t\r\n\t\t//11. Display Quarterly Sales Table in the Eclipse Console\r\n\t\t\r\n\t\tSystem.out.println(&quot;------------&quot;);\r\n\t\tSystem.out.println(&quot;QUARTERLY DEPARTMENTAL SALES REPORT&quot;);\r\n\t\tSystem.out.println(&quot;------------&quot;);\r\n\t\tSystem.out.println(n.q1Sales(n.electrical));\r\n\t\t\r\n\t\tSystem.out.println(&quot;        \\t Electrical \\t Kitchen \\t Bathroom \\t Soft Furnishings \\t Accessories&quot;);\r\n\t\r\n\t\t\r\n\t\tSystem.out.print(&quot;Q3 Sales&quot;);\r\n\t\tSystem.out.print(&quot;\\t&quot;+ &quot;\\t&quot;);\r\n\t\tSystem.out.print(n.q3Sales(n.electrical));\r\n\t\tSystem.out.print(&quot;\\t&quot; + &quot;\\t&quot;);\r\n\t\tSystem.out.print(n.q3Sales(n.kitchen));\r\n\t\t... etc\r\n\t\r\n```\r\n\r\n1. I am expecting the correct, calculated Q3Sum figure to be displayed.  But it just shows 0.0.  No errors displayed so I don&#39;t know how to go about and fix this as it seems the calculation just isn&#39;t being performed.\r\n2. I have tried using 2D arrays but they are more complex than my ability at the moment.\r\n3. I&#39;ve tried using a for loop in q3Sales() but I get the same problem. ","title":"None of my array calculation methods are working / returning values","body":"<p>I'm very new to Java.  I'm trying to build a really simple departmental sales reporting system for my portfolio that declares 5 arrays (of length 12, so for a 12-month reporting period) for each department.  I have an addData method that manually adds test data into each array.  The methods that calculate and return the Q1-Q4 sales data for each department.</p>\n<p>The problem I have is that while the arrays are storing the test data the methods don't seem to be returning any values so I'm getting 0.0 (there are no error messages). Can someone help me to fix this? The code is below:</p>\n<pre><code>public double q3Sales (double [] deptArray)\n{\n    //9.Q3 Sales Calculation for all departments\n    deptArray = new double[monthly];\n    double Q3Sum = 0;\n    \n    Q3Sum = deptArray[6]+deptArray[7]+deptArray[8];\n    return Q3Sum;\n}\n\npublic static void main(String[] args) \n{\n    Quarterly_Report n=new Quarterly_Report();\n        n.addData();\n        \n        //11. Display Quarterly Sales Table in the Eclipse Console\n        \n        System.out.println(&quot;------------&quot;);\n        System.out.println(&quot;QUARTERLY DEPARTMENTAL SALES REPORT&quot;);\n        System.out.println(&quot;------------&quot;);\n        System.out.println(n.q1Sales(n.electrical));\n        \n        System.out.println(&quot;        \\t Electrical \\t Kitchen \\t Bathroom \\t Soft Furnishings \\t Accessories&quot;);\n    \n        \n        System.out.print(&quot;Q3 Sales&quot;);\n        System.out.print(&quot;\\t&quot;+ &quot;\\t&quot;);\n        System.out.print(n.q3Sales(n.electrical));\n        System.out.print(&quot;\\t&quot; + &quot;\\t&quot;);\n        System.out.print(n.q3Sales(n.kitchen));\n        ... etc\n    \n</code></pre>\n<ol>\n<li>I am expecting the correct, calculated Q3Sum figure to be displayed.  But it just shows 0.0.  No errors displayed so I don't know how to go about and fix this as it seems the calculation just isn't being performed.</li>\n<li>I have tried using 2D arrays but they are more complex than my ability at the moment.</li>\n<li>I've tried using a for loop in q3Sales() but I get the same problem.</li>\n</ol>\n"},{"tags":["java","date","spring-mvc","datetime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1472763776,"post_id":39278917,"comment_id":65896003,"body_markdown":"FYI, those date-time strings comply with the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standard. The [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes can parse and generate such strings by default.","body":"FYI, those date-time strings comply with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes can parse and generate such strings by default."},{"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"score":0,"creation_date":1675088601,"post_id":39278917,"comment_id":132847356,"body_markdown":"Isn&#39;t it because you got seconds in your timestamps? So HH:mm:ss.SSSZ","body":"Isn&#39;t it because you got seconds in your timestamps? So HH:mm:ss.SSSZ"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1675091969,"post_id":39278917,"comment_id":132848588,"body_markdown":"There are two problems with your format: (1) You&#39;ve missed the symbols for seconds, `s`. (2) You have used the wrong symbol for timezone offset. The symbol to parse the timezone offset is `X`. Thus, the correct format is `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX`.","body":"There are two problems with your format: (1) You&#39;ve missed the symbols for seconds, <code>s</code>. (2) You have used the wrong symbol for timezone offset. The symbol to parse the timezone offset is <code>X</code>. Thus, the correct format is <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX</code>."}],"answers":[{"tags":[],"owner":{"account_id":27657847,"reputation":1,"user_id":21111330,"display_name":"Andrei Iorga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675088349,"creation_date":1675088349,"answer_id":75285718,"question_id":39278917,"body_markdown":"Try to change the method in a POST and and to mark your method argument with @RequestBody: \r\n\r\n    @PostMapping(&quot;/list&quot;)\r\n    public SimpleResponse&lt;PagedResult&lt;RecordApi&gt;&gt; list(@RequestBody PageableRequest pageRequest) {\r\n        return ....;\r\n    }","title":"Date request param to Date object in Java","body":"<p>Try to change the method in a POST and and to mark your method argument with @RequestBody:</p>\n<pre><code>@PostMapping(&quot;/list&quot;)\npublic SimpleResponse&lt;PagedResult&lt;RecordApi&gt;&gt; list(@RequestBody PageableRequest pageRequest) {\n    return ....;\n}\n</code></pre>\n"}],"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675088349,"creation_date":1472755997,"question_id":39278917,"body_markdown":"I receive in controller method following request:\r\n`list?finish=2016-09-01T18:45:29.312Z&amp;start=2016-09-01T18:45:29.312Z&amp;userId=1 `\r\n\r\nIn controller I have following method:\r\n\r\n    @RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET)\r\n    public SimpleResponse&lt;PagedResult&lt;RecordApi&gt;&gt; list(PageableRequest pageRequest) {\r\n        return ....;\r\n    }\r\n\r\nAnd `PageableRequest` object:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class PageableRequest {\r\n\r\n        private static final String DATETIME_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm.SSSZ&quot;;\r\n\r\n        @JsonFormat(shape = JsonFormat.Shape.NUMBER, pattern = DATETIME_FORMAT)\r\n        private Date start;\r\n        @JsonFormat(shape = JsonFormat.Shape.NUMBER, pattern = DATETIME_FORMAT)\r\n        private Date finish;\r\n\r\nI tried different datetime formats, but it don&#39;t work:\r\n`yyyy-MM-dd&#39;T&#39;HH:mm.SSSZ` or `yyyy-MM-dd&#39;T&#39;HH:mm.SSS&#39;Z&#39;` or `yyyy-MM-ddTHH:mm.SSSZ`\r\n\r\nBut I see each time `400 Bad Request`\r\nHow to solve this problem?","title":"Date request param to Date object in Java","body":"<p>I receive in controller method following request:\n<code>list?finish=2016-09-01T18:45:29.312Z&amp;start=2016-09-01T18:45:29.312Z&amp;userId=1</code></p>\n\n<p>In controller I have following method:</p>\n\n<pre><code>@RequestMapping(value = \"/list\", method = RequestMethod.GET)\npublic SimpleResponse&lt;PagedResult&lt;RecordApi&gt;&gt; list(PageableRequest pageRequest) {\n    return ....;\n}\n</code></pre>\n\n<p>And <code>PageableRequest</code> object:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PageableRequest {\n\n    private static final String DATETIME_FORMAT = \"yyyy-MM-dd'T'HH:mm.SSSZ\";\n\n    @JsonFormat(shape = JsonFormat.Shape.NUMBER, pattern = DATETIME_FORMAT)\n    private Date start;\n    @JsonFormat(shape = JsonFormat.Shape.NUMBER, pattern = DATETIME_FORMAT)\n    private Date finish;\n</code></pre>\n\n<p>I tried different datetime formats, but it don't work:\n<code>yyyy-MM-dd'T'HH:mm.SSSZ</code> or <code>yyyy-MM-dd'T'HH:mm.SSS'Z'</code> or <code>yyyy-MM-ddTHH:mm.SSSZ</code></p>\n\n<p>But I see each time <code>400 Bad Request</code>\nHow to solve this problem?</p>\n"},{"tags":["java","rest","maven","exception","jersey"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1396877049,"post_id":22913316,"comment_id":34972513,"body_markdown":"`results` might be null ? It will NPE in that case. Also consider renaming one of your variables if you see which one I mean :)","body":"<code>results</code> might be null ? It will NPE in that case. Also consider renaming one of your variables if you see which one I mean :)"},{"owner":{"account_id":4272848,"reputation":1032,"user_id":3494275,"accept_rate":38,"display_name":"nicost"},"score":0,"creation_date":1396877431,"post_id":22913316,"comment_id":34972826,"body_markdown":"hi Christophe - I edited the description above...\nmost funny thing: It all worked perfect until I made a maven build or clean-install....","body":"hi Christophe - I edited the description above... most funny thing: It all worked perfect until I made a maven build or clean-install...."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1396879178,"post_id":22913316,"comment_id":34974049,"body_markdown":"Do you know what changed in the POM ? (You can check history or local history)","body":"Do you know what changed in the POM ? (You can check history or local history)"},{"owner":{"account_id":4272848,"reputation":1032,"user_id":3494275,"accept_rate":38,"display_name":"nicost"},"score":0,"creation_date":1396941561,"post_id":22913316,"comment_id":35002751,"body_markdown":"there is no single change.... :/","body":"there is no single change.... :/"}],"answers":[{"tags":[],"owner":{"account_id":4272848,"reputation":1032,"user_id":3494275,"accept_rate":38,"display_name":"nicost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675088304,"creation_date":1396949243,"answer_id":22932897,"question_id":22913316,"body_markdown":"I finally found my error!\r\n\r\nIn my JPA-Entity class, I mispelled my Named-Query Annotation (even though I don&#39;t use it)\r\n\r\n@NamedQuery(name=&quot;Assignment.findAll&quot;, query =&quot;SELECT * FROM **assignment**&quot;)\r\n\r\nof course one has to write that in capital Letters, i.e. &quot;**Assignment**\r\n\r\nThanks anyway for your help!","title":"org.glassfish.jersey.server.ContainerException: java.lang.ExceptionInInitializerError when calling service","body":"<p>I finally found my error!</p>\n<p>In my JPA-Entity class, I mispelled my Named-Query Annotation (even though I don't use it)</p>\n<p>@NamedQuery(name=&quot;Assignment.findAll&quot;, query =&quot;SELECT * FROM <strong>assignment</strong>&quot;)</p>\n<p>of course one has to write that in capital Letters, i.e. &quot;<strong>Assignment</strong></p>\n<p>Thanks anyway for your help!</p>\n"},{"tags":[],"owner":{"account_id":1688556,"reputation":896,"user_id":1551368,"display_name":"dobrivoje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657874879,"creation_date":1657874879,"answer_id":72991400,"question_id":22913316,"body_markdown":"I&#39;ve had similar situation with an Enum which couldn&#39;t be initialized because of NPE, but Idea didn&#39;t show in the output window, only on the Rest response.","title":"org.glassfish.jersey.server.ContainerException: java.lang.ExceptionInInitializerError when calling service","body":"<p>I've had similar situation with an Enum which couldn't be initialized because of NPE, but Idea didn't show in the output window, only on the Rest response.</p>\n"}],"owner":{"account_id":4272848,"reputation":1032,"user_id":3494275,"accept_rate":38,"display_name":"nicost"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22932897,"answer_count":2,"score":0,"last_activity_date":1675088304,"creation_date":1396875918,"question_id":22913316,"body_markdown":"In my maven-project I get an **java.lang.ExceptionInInitializerError** when I&#39;m calling my webservice.\r\n\r\nIt seems, that there must be some problem when genereting the response.\r\nI can successfully call my service but when generating the response, it seems to crash.\r\nA simple &quot;Response.ok().build() works good. But as far as I create the entitymanager - which not necessary has anything to do with the response - it crashes... (I still respond with just 200).\r\n\r\nThe line in the method body raising the error is &#39;EntityManager em = EntityManagerSingleton.INSTANCE.create();&#39;\r\n\r\n    public enum EntityManagerSingleton {\r\n\tINSTANCE;\r\n\t\r\n\tprivate static EntityManagerFactory singleton Persistence.createEntityManagerFactory(EntityKeyManager.DEBUG_ENTITY_MANAGER);\r\n\tpublic EntityManager create() {\r\n        return singleton.createEntityManager();\r\n    }\r\n}\r\n\r\nI guess there is some dependecy problem concerning the jersey-container, which &quot;confuses&quot; maven somehow...\r\n(Maven clean install did not help ;-) )\r\n\r\ndoes anyone have an idea where my problem could be? thank you very much for your help!\r\n\r\n**stacktrace**\r\n\r\n    \r\n    org.glassfish.jersey.server.ContainerException: java.lang.ExceptionInInitializerError\r\n\tat org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:249)\r\n\tat org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:231)\r\n\tat org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:433)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:265)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:320)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:236)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1028)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:373)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:381)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:344)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:219)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)\r\n\tat com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:156)\r\n\tat com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:233)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\n\r\n**service class**\r\n\r\n    @Path(&quot;getAssignments&quot;)\r\n    public class GetAssignments {\r\n\r\n\t@GET\r\n\tpublic Response getAssignments() {\r\n\t\t\r\n\t\tList&lt;Assignment&gt; results = AssignmentUtil.findAll(); // here I generete the EntityManager as described above and make a simple sql native query\r\n\t\tList&lt;AssignmentDto&gt; resDtoList = new ArrayList&lt;AssignmentDto&gt;();\r\n\t\tfor(Assignment ass : results){\r\n\t\t\tresDtoList.add(AssignmentTransformator.transform(ass));\r\n\t\t}\r\n\t\treturn Response.ok().build();\r\n\t}\r\n}\r\n\r\n**persistence.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;1.0&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n                        http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;bachelordebug&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;!-- &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt; --&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n       &lt;class&gt;com.uzh.platform.data.dao.Assignment&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://127.0.0.1:5432/bachelor&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;bachelor&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;bachelor14&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.release_mode&quot; value=&quot;after_statement&quot;/&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot; value=&quot;1&quot;/&gt;\r\n            &lt;property name=&quot;dialect&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot; value=&quot;thread&quot;/&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot; value=&quot;org.hibernate.cache.NoCacheProvider&quot;/&gt;\r\n            &lt;property name=&quot;show_sql&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n\r\nheres my **pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;platform&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.uzh.platform&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\r\n    &lt;groupId&gt;com.uzh.platform.api&lt;/groupId&gt;\r\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;rest&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.26&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!--scan every X seconds for changes in source code and redeploy them automatically--&gt;\r\n                    &lt;scanIntervalSeconds&gt;5&lt;/scanIntervalSeconds&gt;\r\n                    &lt;!-- enable stopping jetty server by jetty:stop --&gt;\r\n                    &lt;stopPort&gt;9966&lt;/stopPort&gt;\r\n                    &lt;stopKey&gt;foo&lt;/stopKey&gt;\r\n                    &lt;webXml&gt;${webxml.path}&lt;/webXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.wordnik&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs_2.9.1&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.uzh.platform.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nsetting the jersey-version to 2.7 did not help either....","title":"org.glassfish.jersey.server.ContainerException: java.lang.ExceptionInInitializerError when calling service","body":"<p>In my maven-project I get an <strong>java.lang.ExceptionInInitializerError</strong> when I'm calling my webservice.</p>\n\n<p>It seems, that there must be some problem when genereting the response.\nI can successfully call my service but when generating the response, it seems to crash.\nA simple \"Response.ok().build() works good. But as far as I create the entitymanager - which not necessary has anything to do with the response - it crashes... (I still respond with just 200).</p>\n\n<p>The line in the method body raising the error is 'EntityManager em = EntityManagerSingleton.INSTANCE.create();'</p>\n\n<pre><code>public enum EntityManagerSingleton {\nINSTANCE;\n\nprivate static EntityManagerFactory singleton Persistence.createEntityManagerFactory(EntityKeyManager.DEBUG_ENTITY_MANAGER);\npublic EntityManager create() {\n    return singleton.createEntityManager();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I guess there is some dependecy problem concerning the jersey-container, which \"confuses\" maven somehow...\n(Maven clean install did not help ;-) )</p>\n\n<p>does anyone have an idea where my problem could be? thank you very much for your help!</p>\n\n<p><strong>stacktrace</strong></p>\n\n<pre><code>org.glassfish.jersey.server.ContainerException: java.lang.ExceptionInInitializerError\nat org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:249)\nat org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:231)\nat org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:433)\nat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:265)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:320)\nat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:236)\nat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1028)\nat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:373)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:381)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:344)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:219)\nat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)\nat com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:156)\nat com.thetransactioncompany.cors.CORSFilter.doFilter(CORSFilter.java:233)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\nat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\nat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:326)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\nat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p><strong>service class</strong></p>\n\n<pre><code>@Path(\"getAssignments\")\npublic class GetAssignments {\n\n@GET\npublic Response getAssignments() {\n\n    List&lt;Assignment&gt; results = AssignmentUtil.findAll(); // here I generete the EntityManager as described above and make a simple sql native query\n    List&lt;AssignmentDto&gt; resDtoList = new ArrayList&lt;AssignmentDto&gt;();\n    for(Assignment ass : results){\n        resDtoList.add(AssignmentTransformator.transform(ass));\n    }\n    return Response.ok().build();\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"1.0\"\n         xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence\n                    http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"&gt;\n&lt;persistence-unit name=\"bachelordebug\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;!-- &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt; --&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n   &lt;class&gt;com.uzh.platform.data.dao.Assignment&lt;/class&gt;\n    &lt;properties&gt;\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.Driver\"/&gt;\n        &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:postgresql://127.0.0.1:5432/bachelor\"/&gt;\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"bachelor\"/&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"bachelor14\"/&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\"/&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n        &lt;property name=\"hibernate.connection.release_mode\" value=\"after_statement\"/&gt;\n        &lt;property name=\"connection.pool_size\" value=\"1\"/&gt;\n        &lt;property name=\"dialect\" value=\"org.postgresql.Driver\"/&gt;\n        &lt;property name=\"current_session_context_class\" value=\"thread\"/&gt;\n        &lt;property name=\"cache.provider_class\" value=\"org.hibernate.cache.NoCacheProvider\"/&gt;\n        &lt;property name=\"show_sql\" value=\"true\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>heres my <strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;parent&gt;\n    &lt;artifactId&gt;platform&lt;/artifactId&gt;\n    &lt;groupId&gt;com.uzh.platform&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n&lt;groupId&gt;com.uzh.platform.api&lt;/groupId&gt;\n&lt;artifactId&gt;api&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n\n&lt;build&gt;\n    &lt;finalName&gt;rest&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.1.26&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!--scan every X seconds for changes in source code and redeploy them automatically--&gt;\n                &lt;scanIntervalSeconds&gt;5&lt;/scanIntervalSeconds&gt;\n                &lt;!-- enable stopping jetty server by jetty:stop --&gt;\n                &lt;stopPort&gt;9966&lt;/stopPort&gt;\n                &lt;stopKey&gt;foo&lt;/stopKey&gt;\n                &lt;webXml&gt;${webxml.path}&lt;/webXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.wordnik&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-jaxrs_2.9.1&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\n        &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.uzh.platform.core&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n\n<p>setting the jersey-version to 2.7 did not help either....</p>\n"},{"tags":["java","rest-client","microprofile"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1560016897,"post_id":56508910,"comment_id":99604874,"body_markdown":"Post code what you have written so that others can help you.","body":"Post code what you have written so that others can help you."},{"owner":{"account_id":7171011,"reputation":1801,"user_id":5478462,"accept_rate":100,"display_name":"pastaleg"},"score":0,"creation_date":1560017033,"post_id":56508910,"comment_id":99604902,"body_markdown":"Of course it is possible but SO is not a writing service so it would be best if you tried it yourself, evaluated it, and then came here with specific problems that others can help with.","body":"Of course it is possible but SO is not a writing service so it would be best if you tried it yourself, evaluated it, and then came here with specific problems that others can help with."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1560068485,"post_id":56508910,"comment_id":99612387,"body_markdown":"I would rather suggest to use Apache HttpClient for Rest client operations.","body":"I would rather suggest to use Apache HttpClient for Rest client operations."}],"answers":[{"tags":[],"owner":{"account_id":4054771,"reputation":2177,"user_id":3333174,"accept_rate":71,"display_name":"r&#252;-"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1602298704,"creation_date":1602298704,"answer_id":64289541,"question_id":56508910,"body_markdown":"According to the [spec](https://download.eclipse.org/microprofile/microprofile-rest-client-1.4.1/microprofile-rest-client-1.4.1.html#_specifying_additional_client_headers), you can use a `ClientHeadersFactory`. Something like this:\r\n\r\n```java\r\npublic class CustomClientHeadersFactory implements ClientHeadersFactory {\r\n    @Override public MultivaluedMap&lt;String, String&gt; update(\r\n        MultivaluedMap&lt;String, String&gt; incomingHeaders,\r\n        MultivaluedMap&lt;String, String&gt; clientOutgoingHeaders\r\n    ) {\r\n        MultivaluedMap&lt;String, String&gt; returnVal = new MultivaluedHashMap&lt;&gt;();\r\n        returnVal.putAll(clientOutgoingHeaders);\r\n        returnVal.putSingle(&quot;MyHeader&quot;, &quot;generated&quot;);\r\n        return returnVal;\r\n    }\r\n}\r\n\r\n@RegisterRestClient\r\n@RegisterClientHeaders(CustomClientHeadersFactory.class)\r\npublic interface GenericRestClient {\r\n    ...\r\n}\r\n```\r\n\r\nYou can&#39;t pass values directly to the `ClientHeadersFactory`; but you can directly access the headers of an incoming request, if your own service is called via JAX-RS. You can also `@Inject` anything you need. If this is still not sufficient and you really need to pass things from the service call, you can use a custom `@RequestScope` bean, e.g.:\r\n\r\n```java\r\n@RequestScope\r\nclass CustomHeader {\r\n    private String name;\r\n    private String value;\r\n\r\n    // getters/setters\r\n}\r\n\r\npublic class CustomClientHeadersFactory implements ClientHeadersFactory {\r\n    @Inject CustomHeader customHeader;\r\n\r\n    @Override public MultivaluedMap&lt;String, String&gt; update(\r\n        MultivaluedMap&lt;String, String&gt; incomingHeaders,\r\n        MultivaluedMap&lt;String, String&gt; clientOutgoingHeaders\r\n    ) {\r\n        MultivaluedMap&lt;String, String&gt; returnVal = new MultivaluedHashMap&lt;&gt;();\r\n        returnVal.putAll(clientOutgoingHeaders);\r\n        returnVal.putSingle(customHeader.getName(), customHeader.getValue());\r\n        return returnVal;\r\n    }\r\n}\r\n\r\nclass Client {\r\n    @Inject CustomHeader customHeader;\r\n\r\n    void call() {\r\n        customHeader.setName(&quot;MyHeader&quot;);\r\n        customHeader.setValue(&quot;generated&quot;);\r\n\r\n        ...\r\n\r\n        Response response = genericRestClient.sendMessage(path, value);\r\n    }\r\n}\r\n```","title":"How to add HTTP headers in Microprofile REST client dynamically?","body":"<p>According to the <a href=\"https://download.eclipse.org/microprofile/microprofile-rest-client-1.4.1/microprofile-rest-client-1.4.1.html#_specifying_additional_client_headers\" rel=\"noreferrer\">spec</a>, you can use a <code>ClientHeadersFactory</code>. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomClientHeadersFactory implements ClientHeadersFactory {\n    @Override public MultivaluedMap&lt;String, String&gt; update(\n        MultivaluedMap&lt;String, String&gt; incomingHeaders,\n        MultivaluedMap&lt;String, String&gt; clientOutgoingHeaders\n    ) {\n        MultivaluedMap&lt;String, String&gt; returnVal = new MultivaluedHashMap&lt;&gt;();\n        returnVal.putAll(clientOutgoingHeaders);\n        returnVal.putSingle(&quot;MyHeader&quot;, &quot;generated&quot;);\n        return returnVal;\n    }\n}\n\n@RegisterRestClient\n@RegisterClientHeaders(CustomClientHeadersFactory.class)\npublic interface GenericRestClient {\n    ...\n}\n</code></pre>\n<p>You can't pass values directly to the <code>ClientHeadersFactory</code>; but you can directly access the headers of an incoming request, if your own service is called via JAX-RS. You can also <code>@Inject</code> anything you need. If this is still not sufficient and you really need to pass things from the service call, you can use a custom <code>@RequestScope</code> bean, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestScope\nclass CustomHeader {\n    private String name;\n    private String value;\n\n    // getters/setters\n}\n\npublic class CustomClientHeadersFactory implements ClientHeadersFactory {\n    @Inject CustomHeader customHeader;\n\n    @Override public MultivaluedMap&lt;String, String&gt; update(\n        MultivaluedMap&lt;String, String&gt; incomingHeaders,\n        MultivaluedMap&lt;String, String&gt; clientOutgoingHeaders\n    ) {\n        MultivaluedMap&lt;String, String&gt; returnVal = new MultivaluedHashMap&lt;&gt;();\n        returnVal.putAll(clientOutgoingHeaders);\n        returnVal.putSingle(customHeader.getName(), customHeader.getValue());\n        return returnVal;\n    }\n}\n\nclass Client {\n    @Inject CustomHeader customHeader;\n\n    void call() {\n        customHeader.setName(&quot;MyHeader&quot;);\n        customHeader.setValue(&quot;generated&quot;);\n\n        ...\n\n        Response response = genericRestClient.sendMessage(path, value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675087873,"creation_date":1675012649,"answer_id":75276842,"question_id":56508910,"body_markdown":"Add ClientRequestHeader to your client as follows:\r\n\r\n    @POST\r\n    // read from application.properties\r\n    @ClientRequestHeader(name=“myHeader1”, value=&quot;${myProperty}&quot;)\r\n    // read from a method\r\n    @ClientRequestHeader(name=“myHeader2”, value=&quot;{addHeaderMethod}&quot;)\r\n    Response sendMessage();\r\n\r\n    default String addHeaderMethod() {\r\n       //put your logic here\r\n       return “my dynamic value”;\r\n    }","title":"How to add HTTP headers in Microprofile REST client dynamically?","body":"<p>Add ClientRequestHeader to your client as follows:</p>\n<pre><code>@POST\n// read from application.properties\n@ClientRequestHeader(name=“myHeader1”, value=&quot;${myProperty}&quot;)\n// read from a method\n@ClientRequestHeader(name=“myHeader2”, value=&quot;{addHeaderMethod}&quot;)\nResponse sendMessage();\n\ndefault String addHeaderMethod() {\n   //put your logic here\n   return “my dynamic value”;\n}\n</code></pre>\n"}],"owner":{"account_id":4846800,"reputation":173,"user_id":3910226,"display_name":"madafaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5222,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1675087873,"creation_date":1560016844,"question_id":56508910,"body_markdown":"I am developing application, which uses microprofile rest client. And that rest client should send REST request with various http header. Some headers names changes dynamically. My microprofile rest client should be generic, but I did not find how to implement such behaviour.\r\nAccording to the documentation you need to specify all header names in the implementation via annotations and that is not generic. Is there any way how to &quot;hack&quot; it and add HTTP headers programatically?\r\n\r\nThanks in advance\r\n\r\n```\r\n GenericRestClient genericRestClient = null;\r\n Map&lt;String, Object&gt; appConfig = context.appConfigs();\r\n String baseUrl = (String) appConfig.get(&quot;restClient.baseUrl&quot;);\r\n path = (String) appConfig.get(&quot;restClient.path&quot;);\r\n try {\r\n     genericRestClient = RestClientBuilder.newBuilder()\r\n                .baseUri(new URI(baseUrl)).build(GenericRestClient.class);\r\n }catch(URISyntaxException e){\r\n      logger.error(&quot;&quot;,e);\r\n      throw e;\r\n }\r\n\r\nResponse response = genericRestClient.sendMessage(path, value);\r\nlogger.info(&quot;Status: &quot;+response.getStatus());\r\nlogger.info(&quot;Response body: &quot;+response.getEntity().toString());\r\n```\r\nGeneric rest client code:\r\n```\r\n@RegisterRestClient\r\npublic interface GenericRestClient {\r\n    @POST\r\n    @Path(&quot;{path}&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    @Consumes(&quot;application/json&quot;)\r\n    public Response sendMessage(&lt;here should go any map of custom headers&gt;, @PathParam(&quot;path&quot;) String pathParam, String jsonBody);\r\n}","title":"How to add HTTP headers in Microprofile REST client dynamically?","body":"<p>I am developing application, which uses microprofile rest client. And that rest client should send REST request with various http header. Some headers names changes dynamically. My microprofile rest client should be generic, but I did not find how to implement such behaviour.\nAccording to the documentation you need to specify all header names in the implementation via annotations and that is not generic. Is there any way how to \"hack\" it and add HTTP headers programatically?</p>\n\n<p>Thanks in advance</p>\n\n<pre><code> GenericRestClient genericRestClient = null;\n Map&lt;String, Object&gt; appConfig = context.appConfigs();\n String baseUrl = (String) appConfig.get(\"restClient.baseUrl\");\n path = (String) appConfig.get(\"restClient.path\");\n try {\n     genericRestClient = RestClientBuilder.newBuilder()\n                .baseUri(new URI(baseUrl)).build(GenericRestClient.class);\n }catch(URISyntaxException e){\n      logger.error(\"\",e);\n      throw e;\n }\n\nResponse response = genericRestClient.sendMessage(path, value);\nlogger.info(\"Status: \"+response.getStatus());\nlogger.info(\"Response body: \"+response.getEntity().toString());\n</code></pre>\n\n<p>Generic rest client code:</p>\n\n<pre><code>@RegisterRestClient\npublic interface GenericRestClient {\n    @POST\n    @Path(\"{path}\")\n    @Produces(\"application/json\")\n    @Consumes(\"application/json\")\n    public Response sendMessage(&lt;here should go any map of custom headers&gt;, @PathParam(\"path\") String pathParam, String jsonBody);\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","pem","der","pkcs#8"],"owner":{"account_id":27565580,"reputation":3,"user_id":21037820,"display_name":"Sayan Halder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675087487,"creation_date":1675087487,"question_id":75285541,"body_markdown":"I am getting the below error while trying to use the bouncy castle jars in my project.\r\n\r\n```\r\njava.lang.SecurityException: class &quot;org.bouncycastle.asn1.ASN1Integer&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n```\r\nThese are the dependencies - \r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cloudfront&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.72&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.72&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;regions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\nThis is the part of code where I am using this-\r\n\r\n```\r\nimport java.io.StringReader;\r\nimport java.security.KeyPair;\r\nimport java.security.PrivateKey;\r\nimport org.bouncycastle.openssl.PEMKeyPair;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\n\r\npublic class MyUtil {\r\n\tpublic static PrivateKey convertMyPemStringToADerPrivateKey(String privKey) throws Exception {\r\n\t\tPrivateKey derPrivateKey = null;\r\n\t\tStringReader strReader = null;\r\n\t\tPEMParser pemParser = null;\r\n\t\ttry {\r\n\t\t\t//Converting string to reader\r\n\t\t\tstrReader = new StringReader(privKey);\r\n\t\t\t//passing reader to PEMParser from Bouncycastle\r\n\t\t\tpemParser = new PEMParser(strReader);\r\n\t\t\tJcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n\t\t\tKeyPair keyPair = converter.getKeyPair((PEMKeyPair)pemParser.readObject());\r\n\t\t    // Export DER encoded PKCS#8 private key\r\n\t\t\tderPrivateKey = keyPair.getPrivate();\r\n\t    }catch (Exception exception) {\r\n\t    \tthrow exception;\r\n\t    }finally {\r\n\t    \tif(null != strReader) {\r\n\t    \t\tstrReader.close();\r\n\t    \t}\r\n\t    \tif(null != pemParser) {\r\n\t    \t\tpemParser.close();\r\n\t    \t}\r\n\t    }\r\n\t\treturn derPrivateKey;\r\n\t} \r\n```\r\nWhat I am trying to do is convert a RSA private key String object which is in PKCS#1 to DER format, but getting the above exception, can someone please help me on this?\r\n\r\n\r\n\r\n\r\nI was expecting this to work and convert the PEM key to DER format but getting the above exception.","title":"Getting java.lang.SecurityException: class &quot;org.bouncycastle.asn1.ASN1Integer&quot;&#39;s signer information does not match while using bouncy castle","body":"<p>I am getting the below error while trying to use the bouncy castle jars in my project.</p>\n<pre><code>java.lang.SecurityException: class &quot;org.bouncycastle.asn1.ASN1Integer&quot;'s signer information does not match signer information of other classes in the same package\n</code></pre>\n<p>These are the dependencies -</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;cloudfront&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n            &lt;version&gt;1.72&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\n            &lt;version&gt;1.72&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;regions&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>This is the part of code where I am using this-</p>\n<pre><code>import java.io.StringReader;\nimport java.security.KeyPair;\nimport java.security.PrivateKey;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\n\npublic class MyUtil {\n    public static PrivateKey convertMyPemStringToADerPrivateKey(String privKey) throws Exception {\n        PrivateKey derPrivateKey = null;\n        StringReader strReader = null;\n        PEMParser pemParser = null;\n        try {\n            //Converting string to reader\n            strReader = new StringReader(privKey);\n            //passing reader to PEMParser from Bouncycastle\n            pemParser = new PEMParser(strReader);\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n            KeyPair keyPair = converter.getKeyPair((PEMKeyPair)pemParser.readObject());\n            // Export DER encoded PKCS#8 private key\n            derPrivateKey = keyPair.getPrivate();\n        }catch (Exception exception) {\n            throw exception;\n        }finally {\n            if(null != strReader) {\n                strReader.close();\n            }\n            if(null != pemParser) {\n                pemParser.close();\n            }\n        }\n        return derPrivateKey;\n    } \n</code></pre>\n<p>What I am trying to do is convert a RSA private key String object which is in PKCS#1 to DER format, but getting the above exception, can someone please help me on this?</p>\n<p>I was expecting this to work and convert the PEM key to DER format but getting the above exception.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675085689,"post_id":75285115,"comment_id":132846294,"body_markdown":"For starters ditch the `@RunWith` and `@ContextConfiguration`, although not related it doesn&#39;t add anything but clutter. THe error states `&quot;message&quot;:&quot;cgroups: cgroup mountpoint does not exist: unknown&quot;` so you might have an incompatible container, I also don&#39;t really get why you are wrapping it.","body":"For starters ditch the <code>@RunWith</code> and <code>@ContextConfiguration</code>, although not related it doesn&#39;t add anything but clutter. THe error states <code>&quot;message&quot;:&quot;cgroups: cgroup mountpoint does not exist: unknown&quot;</code> so you might have an incompatible container, I also don&#39;t really get why you are wrapping it."},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1675086225,"post_id":75285115,"comment_id":132846510,"body_markdown":"@M.Deinum have those annotations since I will have other test classes that will extend this one and will require those. Would the incompatible container explain why it doesnt work on my machine but it works for my coworker?","body":"@M.Deinum have those annotations since I will have other test classes that will extend this one and will require those. Would the incompatible container explain why it doesnt work on my machine but it works for my coworker?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675086301,"post_id":75285115,"comment_id":132846540,"body_markdown":"Ehrm... If you require those your test is already flawed (as you would be mixing JUnit4 and Junit5 but rely on the latter to do the bootstrapping, I suspect that isn&#39;t really what you want).","body":"Ehrm... If you require those your test is already flawed (as you would be mixing JUnit4 and Junit5 but rely on the latter to do the bootstrapping, I suspect that isn&#39;t really what you want)."}],"answers":[{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675086960,"creation_date":1675086960,"answer_id":75285421,"question_id":75285115,"body_markdown":"This issue all started when I upgraded my OS version to Ubuntu 22.10 and it was related to the version of docker I had installed. Removing the old version and installing the latest version go it working for me, by following this: https://docs.docker.com/engine/install/ubuntu","title":"Container startup failed with Spring Boot","body":"<p>This issue all started when I upgraded my OS version to Ubuntu 22.10 and it was related to the version of docker I had installed. Removing the old version and installing the latest version go it working for me, by following this: <a href=\"https://docs.docker.com/engine/install/ubuntu\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/install/ubuntu</a></p>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675086960,"creation_date":1675085354,"question_id":75285115,"body_markdown":"I am getting the following error when trying to run a bare minimum test to see that spring boot starts up properly: \r\n\r\n    ContainerLaunchException: Container startup failed\r\n\r\n\r\nThis is what I have\r\n\r\n    @ContextConfiguration(classes = {Application.class})\r\n    @SpringBootTest(\r\n        properties = {&quot;management.server.port=&quot;}, // To be able to use mockMvc to access the actuators.\r\n        webEnvironment = WebEnvironment.RANDOM_PORT,\r\n        classes = {Application.class})\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureMockMvc\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @DirtiesContext(classMode = AFTER_CLASS)\r\n    @ComponentScan\r\n    @Log4j2\r\n    public abstract class SpringBootComponentTest {\r\n    \r\n      protected static final WireMockServer WIRE_MOCK_SERVER = new WireMockServer(0);\r\n    \r\n      private enum DatabaseType {\r\n        LOCAL_POSTGRES,\r\n        DOCKER_POSTGRES\r\n      }\r\n    \r\n      @BeforeAll\r\n      static void startWireMock() {\r\n        WIRE_MOCK_SERVER.start();\r\n      }\r\n    \r\n      @DynamicPropertySource\r\n      static void applicationProperties(DynamicPropertyRegistry registry) {\r\n        DatabaseType databaseType = getDatabaseType();\r\n    \r\n        log.info(&quot;Overriding application context with database type {}&quot;, databaseType);\r\n        switch (databaseType) {\r\n          case DOCKER_POSTGRES:\r\n            PostgresContainer postgreSQLContainer = PostgresContainer.getInstance();\r\n            registry.add(&quot;spring.datasource.url&quot;, postgreSQLContainer::getJdbcUrl);\r\n            registry.add(&quot;spring.datasource.username&quot;, postgreSQLContainer::getUsername);\r\n            registry.add(&quot;spring.datasource.password&quot;, postgreSQLContainer::getPassword);\r\n            break;\r\n          case LOCAL_POSTGRES:\r\n            //...\r\n            break;\r\n        }\r\n      }\r\n    \r\n      private static DatabaseType getDatabaseType() {\r\n        try {\r\n          return DatabaseType.valueOf(System.getenv(&quot;TEST_DB&quot;));\r\n        } catch (Exception e) {\r\n          return DatabaseType.DOCKER_POSTGRES;\r\n        }\r\n      }\r\n    \r\n    @Test\r\n      void checkThatSpringBootLoadsProperlyWithoutAnythingElse() {}\r\n    }\r\n\r\nand \r\n\r\n\r\n    public class PostgresContainer extends PostgreSQLContainer&lt;PostgresContainer&gt; {\r\n    \r\n      private static final String IMAGE_VERSION = &quot;postgres:14.4&quot;;\r\n    \r\n      @Container private static PostgresContainer container;\r\n    \r\n      private PostgresContainer() {\r\n        super(IMAGE_VERSION);\r\n      }\r\n    \r\n      public static PostgresContainer getInstance() {\r\n        if (container == null) {\r\n          container =\r\n              new PostgresContainer()\r\n                  .withDatabaseName(&quot;testDb&quot;)\r\n                  .withUsername(&quot;testUser&quot;)\r\n                  .withPassword(&quot;testPasswordTestPassword&quot;);\r\n          container.start();\r\n        }\r\n        return container;\r\n      }\r\n    \r\n      @Override\r\n      public void start() {\r\n        super.start(); // error points to this line\r\n      }\r\n    \r\n      @Override\r\n      public void stop() {\r\n        // do nothing, JVM handles shut down\r\n      }\r\n    }\r\n\r\nThe full stacktrace is the following:\r\n\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1a2e563e testClass = com.gloot.foobar.ApplicationTest, locations = [], classes = [com.gloot.foobar.Application], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;management.server.port=&quot;, &quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;, &quot;server.port=0&quot;], contextCustomizers = [[ImportsContextCustomizer@5b066c33 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5efa40fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4470fbd6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6bb4dd34, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@afb938fd, org.springframework.boot.test.context.SpringBootTestAnnotation@ee5424e7], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n    \tat org.testcontainers.utility.RyukResourceReaper.maybeStart(RyukResourceReaper.java:78)\r\n    \tat org.testcontainers.utility.RyukResourceReaper.init(RyukResourceReaper.java:42)\r\n    \tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:209)\r\n    \tat org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:89)\r\n    \tat com.github.dockerjava.api.DockerClientDelegate.authConfig(DockerClientDelegate.java:108)\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:321)\r\n    \tat com.gloot.foobar.PostgresContainer.start(PostgresContainer.java:30)\r\n    \tat com.gloot.foobar.PostgresContainer.getInstance(PostgresContainer.java:23)\r\n    \tat com.gloot.foobar.SpringBootComponentTest.applicationProperties(SpringBootComponentTest.java:95)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n    \tat org.springframework.test.context.support.DynamicPropertiesContextCustomizer.lambda$buildDynamicPropertiesMap$3(DynamicPropertiesContextCustomizer.java:84)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.test.context.support.DynamicPropertiesContextCustomizer.buildDynamicPropertiesMap(DynamicPropertiesContextCustomizer.java:82)\r\n    \tat org.springframework.test.context.support.DynamicPropertiesContextCustomizer.customizeContext(DynamicPropertiesContextCustomizer.java:72)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextCustomizerAdapter.initialize(SpringBootContextLoader.java:433)\r\n    \tat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:603)\r\n    \tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:383)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n    \t... 70 more\r\n    Caused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n    \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n    \t... 102 more\r\n    Caused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n    \tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\r\n    \tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n    \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n    \t... 103 more\r\n    Caused by: com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;cgroups: cgroup mountpoint does not exist: unknown&quot;}\r\n    \r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.post(DefaultInvocationBuilder.java:102)\r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.exec.StartContainerCmdExec.execute(StartContainerCmdExec.java:31)\r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.exec.StartContainerCmdExec.execute(StartContainerCmdExec.java:13)\r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.exec.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:21)\r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\r\n    \tat org.testcontainers.shaded.com.github.dockerjava.core.command.StartContainerCmdImpl.exec(StartContainerCmdImpl.java:43)\r\n    \tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:441)\r\n    \t... 105 more\r\n\r\nI only get this error on my local machine, my OS is Ubuntu 22.10, Java 17 and Spring Boot 3.0.1","title":"Container startup failed with Spring Boot","body":"<p>I am getting the following error when trying to run a bare minimum test to see that spring boot starts up properly:</p>\n<pre><code>ContainerLaunchException: Container startup failed\n</code></pre>\n<p>This is what I have</p>\n<pre><code>@ContextConfiguration(classes = {Application.class})\n@SpringBootTest(\n    properties = {&quot;management.server.port=&quot;}, // To be able to use mockMvc to access the actuators.\n    webEnvironment = WebEnvironment.RANDOM_PORT,\n    classes = {Application.class})\n@RunWith(SpringRunner.class)\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\n@DirtiesContext(classMode = AFTER_CLASS)\n@ComponentScan\n@Log4j2\npublic abstract class SpringBootComponentTest {\n\n  protected static final WireMockServer WIRE_MOCK_SERVER = new WireMockServer(0);\n\n  private enum DatabaseType {\n    LOCAL_POSTGRES,\n    DOCKER_POSTGRES\n  }\n\n  @BeforeAll\n  static void startWireMock() {\n    WIRE_MOCK_SERVER.start();\n  }\n\n  @DynamicPropertySource\n  static void applicationProperties(DynamicPropertyRegistry registry) {\n    DatabaseType databaseType = getDatabaseType();\n\n    log.info(&quot;Overriding application context with database type {}&quot;, databaseType);\n    switch (databaseType) {\n      case DOCKER_POSTGRES:\n        PostgresContainer postgreSQLContainer = PostgresContainer.getInstance();\n        registry.add(&quot;spring.datasource.url&quot;, postgreSQLContainer::getJdbcUrl);\n        registry.add(&quot;spring.datasource.username&quot;, postgreSQLContainer::getUsername);\n        registry.add(&quot;spring.datasource.password&quot;, postgreSQLContainer::getPassword);\n        break;\n      case LOCAL_POSTGRES:\n        //...\n        break;\n    }\n  }\n\n  private static DatabaseType getDatabaseType() {\n    try {\n      return DatabaseType.valueOf(System.getenv(&quot;TEST_DB&quot;));\n    } catch (Exception e) {\n      return DatabaseType.DOCKER_POSTGRES;\n    }\n  }\n\n@Test\n  void checkThatSpringBootLoadsProperlyWithoutAnythingElse() {}\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class PostgresContainer extends PostgreSQLContainer&lt;PostgresContainer&gt; {\n\n  private static final String IMAGE_VERSION = &quot;postgres:14.4&quot;;\n\n  @Container private static PostgresContainer container;\n\n  private PostgresContainer() {\n    super(IMAGE_VERSION);\n  }\n\n  public static PostgresContainer getInstance() {\n    if (container == null) {\n      container =\n          new PostgresContainer()\n              .withDatabaseName(&quot;testDb&quot;)\n              .withUsername(&quot;testUser&quot;)\n              .withPassword(&quot;testPasswordTestPassword&quot;);\n      container.start();\n    }\n    return container;\n  }\n\n  @Override\n  public void start() {\n    super.start(); // error points to this line\n  }\n\n  @Override\n  public void stop() {\n    // do nothing, JVM handles shut down\n  }\n}\n</code></pre>\n<p>The full stacktrace is the following:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1a2e563e testClass = com.gloot.foobar.ApplicationTest, locations = [], classes = [com.gloot.foobar.Application], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;management.server.port=&quot;, &quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;, &quot;server.port=0&quot;], contextCustomizers = [[ImportsContextCustomizer@5b066c33 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5efa40fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d29b4ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4470fbd6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6bb4dd34, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@afb938fd, org.springframework.boot.test.context.SpringBootTestAnnotation@ee5424e7], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at org.testcontainers.utility.RyukResourceReaper.maybeStart(RyukResourceReaper.java:78)\n    at org.testcontainers.utility.RyukResourceReaper.init(RyukResourceReaper.java:42)\n    at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:209)\n    at org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:89)\n    at com.github.dockerjava.api.DockerClientDelegate.authConfig(DockerClientDelegate.java:108)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:321)\n    at com.gloot.foobar.PostgresContainer.start(PostgresContainer.java:30)\n    at com.gloot.foobar.PostgresContainer.getInstance(PostgresContainer.java:23)\n    at com.gloot.foobar.SpringBootComponentTest.applicationProperties(SpringBootComponentTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.test.context.support.DynamicPropertiesContextCustomizer.lambda$buildDynamicPropertiesMap$3(DynamicPropertiesContextCustomizer.java:84)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.test.context.support.DynamicPropertiesContextCustomizer.buildDynamicPropertiesMap(DynamicPropertiesContextCustomizer.java:82)\n    at org.springframework.test.context.support.DynamicPropertiesContextCustomizer.customizeContext(DynamicPropertiesContextCustomizer.java:72)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextCustomizerAdapter.initialize(SpringBootContextLoader.java:433)\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:603)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:383)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 70 more\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n    ... 102 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\n    at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 103 more\nCaused by: com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;cgroups: cgroup mountpoint does not exist: unknown&quot;}\n\n    at org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\n    at org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.post(DefaultInvocationBuilder.java:102)\n    at org.testcontainers.shaded.com.github.dockerjava.core.exec.StartContainerCmdExec.execute(StartContainerCmdExec.java:31)\n    at org.testcontainers.shaded.com.github.dockerjava.core.exec.StartContainerCmdExec.execute(StartContainerCmdExec.java:13)\n    at org.testcontainers.shaded.com.github.dockerjava.core.exec.AbstrSyncDockerCmdExec.exec(AbstrSyncDockerCmdExec.java:21)\n    at org.testcontainers.shaded.com.github.dockerjava.core.command.AbstrDockerCmd.exec(AbstrDockerCmd.java:35)\n    at org.testcontainers.shaded.com.github.dockerjava.core.command.StartContainerCmdImpl.exec(StartContainerCmdImpl.java:43)\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:441)\n    ... 105 more\n</code></pre>\n<p>I only get this error on my local machine, my OS is Ubuntu 22.10, Java 17 and Spring Boot 3.0.1</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1573495663,"post_id":58805033,"comment_id":103892654,"body_markdown":"Did you try multiple configurations?","body":"Did you try multiple configurations?"},{"owner":{"account_id":2555978,"reputation":1482,"user_id":2217962,"display_name":"schrom"},"score":0,"creation_date":1573548944,"post_id":58805033,"comment_id":103908227,"body_markdown":"You mean split my definition into two classes SecurityConfig1 and SecurityConfig2? Yes, that didn&#39;t work either. Depending on the load order one of them still was winning.","body":"You mean split my definition into two classes SecurityConfig1 and SecurityConfig2? Yes, that didn&#39;t work either. Depending on the load order one of them still was winning."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1573580981,"post_id":58805033,"comment_id":103924949,"body_markdown":"Yes, that&#39;s what I meant. It should work. You have to restrict your configs each for another URL pattern.","body":"Yes, that&#39;s what I meant. It should work. You have to restrict your configs each for another URL pattern."}],"answers":[{"tags":[],"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1573799631,"creation_date":1573799631,"answer_id":58871511,"question_id":58805033,"body_markdown":"You need to create multiple configurations and restrict them only to specific URL patterns using `requestMatcher`. Based on your example, your configurations should look like this:\r\n\r\n**SecurityConfigHTML**\r\n\r\n    public class SecurityConfigHTML extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .requestMatchers().antMatchers(&quot;/index.html&quot;)\r\n                    .and()\r\n                    .authorizeRequests().anyRequest().authenticated()\r\n                    .and()\r\n                    .oauth2Login().loginPage(&quot;/oauth2/authorization/gitlab&quot;);\r\n        }\r\n    }\r\n\r\n**SecurityConfigAPI** \r\n\r\n    public class SecurityConfigAPI extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .requestMatchers().antMatchers(&quot;/api/call&quot;)\r\n                    .and()\r\n                    .authorizeRequests().anyRequest().authenticated()\r\n                    .and()\r\n                    .oauth2ResourceServer().jwt();\r\n        }\r\n    }\r\n","title":"Using Spring Boot 2 OAuth Client and Resourceserver in the same context","body":"<p>You need to create multiple configurations and restrict them only to specific URL patterns using <code>requestMatcher</code>. Based on your example, your configurations should look like this:</p>\n\n<p><strong>SecurityConfigHTML</strong></p>\n\n<pre><code>public class SecurityConfigHTML extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .requestMatchers().antMatchers(\"/index.html\")\n                .and()\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .oauth2Login().loginPage(\"/oauth2/authorization/gitlab\");\n    }\n}\n</code></pre>\n\n<p><strong>SecurityConfigAPI</strong> </p>\n\n<pre><code>public class SecurityConfigAPI extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .requestMatchers().antMatchers(\"/api/call\")\n                .and()\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer().jwt();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27657539,"reputation":1,"user_id":21111090,"display_name":"Yuhua Cao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675086889,"creation_date":1675086793,"answer_id":75285384,"question_id":58805033,"body_markdown":"**SecurityConfigHTML**\r\n\r\nI think we should include `/oauth2/**` into the request matchers, otherwise the `oauth2Login` will not work.\r\n[404 http://localhost:8080/oauth2/authorization/gitlab][1]\r\n\r\n```\r\npublic class SecurityConfigHTML extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n\t\thttp\r\n\t\t\t\t.requestMatchers().antMatchers(&quot;/index.html&quot;, &quot;/oauth2/**&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/oauth2/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.oauth2Login();\r\n\t\t// @formatter:on\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yIvbJ.png","title":"Using Spring Boot 2 OAuth Client and Resourceserver in the same context","body":"<p><strong>SecurityConfigHTML</strong></p>\n<p>I think we should include <code>/oauth2/**</code> into the request matchers, otherwise the <code>oauth2Login</code> will not work.\n<a href=\"https://i.stack.imgur.com/yIvbJ.png\" rel=\"nofollow noreferrer\">404 http://localhost:8080/oauth2/authorization/gitlab</a></p>\n<pre><code>public class SecurityConfigHTML extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n                .requestMatchers().antMatchers(&quot;/index.html&quot;, &quot;/oauth2/**&quot;)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/oauth2/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login();\n        // @formatter:on\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2555978,"reputation":1482,"user_id":2217962,"display_name":"schrom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8482,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":58871511,"answer_count":2,"score":16,"last_activity_date":1675086889,"creation_date":1573489247,"question_id":58805033,"body_markdown":"I&#39;d like my spring boot application to serve a protected frontend, as well as being an API resource server for said frontend at the same time, but I can&#39;t get the oauth stuff working.\r\n\r\nWhat I want is the spring boot application to return a 302 redirect to the oauth server (gitlab in my case) when the browser requests the index.html without a token, so the user is sent to the login form. But I also want that the API to return a 401 when the API is called without a token, as I think a 302 redirect to a login page is not very useful there.\r\n\r\nIn pseudo code:\r\n\r\n    if document_url == /index.html and token not valid\r\n      return 302 https//gitlab/loginpage\r\n    if document_url == /api/restcall and token not valid\r\n      return 401\r\n    server document_url\r\n\r\nI am working with spring boot 2.1, regarding oauth my pom.xml contains\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThis is my naive try in the SecurityConfig\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n\t    \t\t.authorizeRequests().antMatchers(&quot;/index.html&quot;).authenticated()\r\n    \t\t.and()\r\n\t    \t\t.oauth2Login().loginPage(&quot;/oauth2/authorization/gitlab&quot;)\r\n\r\n    \t\t.and()\r\n    \t\t\t.authorizeRequests().antMatchers(&quot;/api/restcall&quot;).authenticated()\r\n    \t\t.and()\r\n\t    \t\t.oauth2ResourceServer().jwt();\r\n        }\r\n    }\r\n\r\nBoth configurations (oauth2Login and oauth2ResourceServer) work fine for themself. But as soon as I combine them the last one wins (so in the above example there would be no 302 and the browser would also see a 401 for the index.html). I presume they share some configuration objects so the last write wins.\r\n\r\nIs there an (easy) way to get what I want? I know spring can do almost anything, but I would very much not to end up manually configuring a gazillion beans ...\r\n\r\n\r\n**Update:**\r\n\r\nI&#39;ve made a minimal example (including @dur&#39;s suggestion) of my code [here][1]\r\n\r\n\r\n  [1]: https://github.com/jeromewaibel/doubleoauth","title":"Using Spring Boot 2 OAuth Client and Resourceserver in the same context","body":"<p>I'd like my spring boot application to serve a protected frontend, as well as being an API resource server for said frontend at the same time, but I can't get the oauth stuff working.</p>\n\n<p>What I want is the spring boot application to return a 302 redirect to the oauth server (gitlab in my case) when the browser requests the index.html without a token, so the user is sent to the login form. But I also want that the API to return a 401 when the API is called without a token, as I think a 302 redirect to a login page is not very useful there.</p>\n\n<p>In pseudo code:</p>\n\n<pre><code>if document_url == /index.html and token not valid\n  return 302 https//gitlab/loginpage\nif document_url == /api/restcall and token not valid\n  return 401\nserver document_url\n</code></pre>\n\n<p>I am working with spring boot 2.1, regarding oauth my pom.xml contains</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>This is my naive try in the SecurityConfig</p>\n\n<pre><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests().antMatchers(\"/index.html\").authenticated()\n        .and()\n            .oauth2Login().loginPage(\"/oauth2/authorization/gitlab\")\n\n        .and()\n            .authorizeRequests().antMatchers(\"/api/restcall\").authenticated()\n        .and()\n            .oauth2ResourceServer().jwt();\n    }\n}\n</code></pre>\n\n<p>Both configurations (oauth2Login and oauth2ResourceServer) work fine for themself. But as soon as I combine them the last one wins (so in the above example there would be no 302 and the browser would also see a 401 for the index.html). I presume they share some configuration objects so the last write wins.</p>\n\n<p>Is there an (easy) way to get what I want? I know spring can do almost anything, but I would very much not to end up manually configuring a gazillion beans ...</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I've made a minimal example (including @dur's suggestion) of my code <a href=\"https://github.com/jeromewaibel/doubleoauth\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","user-interface","jform-designer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156857,"post_id":75285276,"comment_id":132862925,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24626921,"reputation":1,"user_id":18526552,"display_name":"Chang-Feng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675086116,"creation_date":1675086116,"question_id":75285276,"body_markdown":"This is the editing interface:\r\n[enter image description here](https://i.stack.imgur.com/dUcbG.png)\r\n\r\n\r\n\r\nThis is the running interface:\r\n[enter image description here](https://i.stack.imgur.com/u1v2Y.png)\r\n\r\nThe layout used is GridBagLayout.\r\n\r\nWhy is the editing interface different from the running interface?\r\nI want these two interfaces to be the same. What should I do?","title":"Use jformdesigner to develop java UI. Why is the editing interface different from the running interface?","body":"<p>This is the editing interface:\n<a href=\"https://i.stack.imgur.com/dUcbG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is the running interface:\n<a href=\"https://i.stack.imgur.com/u1v2Y.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The layout used is GridBagLayout.</p>\n<p>Why is the editing interface different from the running interface?\nI want these two interfaces to be the same. What should I do?</p>\n"},{"tags":["java","git","intellij-idea","sonarqube","jacoco"],"comments":[{"owner":{"account_id":22703477,"reputation":866,"user_id":16870564,"display_name":"Mister_CK"},"score":0,"creation_date":1675086408,"post_id":75285245,"comment_id":132846580,"body_markdown":"You can create a pre-commit hook (with Husky) that runs tests with coverage. I believe if you run tests with --WatchAll you only run the tests that have changed since your last commit. But that may depend on which test framework you are using (I use Jest).","body":"You can create a pre-commit hook (with Husky) that runs tests with coverage. I believe if you run tests with --WatchAll you only run the tests that have changed since your last commit. But that may depend on which test framework you are using (I use Jest)."}],"owner":{"account_id":2893460,"reputation":23,"user_id":2659916,"display_name":"enesdogan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675085996,"creation_date":1675085996,"question_id":75285245,"body_markdown":"Is there a way to see code coverage by commits not all test coverage?\r\nI want to test my commits before merging and see which lines are not covered. Any plugin for intellij or git command?\r\n\r\nI can run all test suit with coverage but it does show all lines coverage.","title":"How can i see code coverage by new commits?","body":"<p>Is there a way to see code coverage by commits not all test coverage?\nI want to test my commits before merging and see which lines are not covered. Any plugin for intellij or git command?</p>\n<p>I can run all test suit with coverage but it does show all lines coverage.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":11519536,"reputation":443,"user_id":8441830,"display_name":"voismager"},"score":1,"creation_date":1675084748,"post_id":75284764,"comment_id":132845963,"body_markdown":"you got NoSuchMethodError from jackson lib. That usually indicates that you mismatched versions of your libs. Check what version of jackson your project is using and see if it&#39;s compatible with josson&#39;s version","body":"you got NoSuchMethodError from jackson lib. That usually indicates that you mismatched versions of your libs. Check what version of jackson your project is using and see if it&#39;s compatible with josson&#39;s version"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675085956,"creation_date":1675085243,"answer_id":75285091,"question_id":75284764,"body_markdown":"@voismager is right. _Josson_ is using the latest version of _Jackson_ 2.14.1\r\n\r\nBTW, the _Josson_ expression is\r\n\r\n    data[motorSeries.contains($.sourceData.series)].CSDtemplateName\r\n\r\nIf you use `$.sourceData.series.in(motorSeries)`, `motorSeries` becomes the child node of `$.sourceData.series` which is not correct.","title":"Filter with IN clause in josson library","body":"<p>@voismager is right. <em>Josson</em> is using the latest version of <em>Jackson</em> 2.14.1</p>\n<p>BTW, the <em>Josson</em> expression is</p>\n<pre><code>data[motorSeries.contains($.sourceData.series)].CSDtemplateName\n</code></pre>\n<p>If you use <code>$.sourceData.series.in(motorSeries)</code>, <code>motorSeries</code> becomes the child node of <code>$.sourceData.series</code> which is not correct.</p>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75285091,"answer_count":1,"score":1,"last_activity_date":1675085956,"creation_date":1675083627,"question_id":75284764,"body_markdown":"I need to apply filter using IN clause.\r\n\r\nLibrary used: [https://github.com/octomix/josson][1]\r\n\r\nMy JSON file\r\n\r\n```\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;motorSeries&quot;: [\r\n        &quot;UMT O (S)&quot;,\r\n        &quot;LX PLUS (S)&quot;,\r\n        &quot;XUMA DX (S)&quot;,\r\n        &quot;UMAI 100&quot;,\r\n        &quot;UMA (ULTIMA)&quot;\r\n      ],\r\n      &quot;CSDtemplateName&quot;: &quot;ABC&quot;\r\n    },\r\n    {\r\n      &quot;motorSeries&quot;: [\r\n        &quot;A&quot;,\r\n        &quot;B&quot;\r\n      ],\r\n      &quot;CSDtemplateName&quot;: &quot;XYZ&quot;\r\n    }\r\n  ],\r\n  &quot;sourceData&quot;: {\r\n    &quot;series&quot;: &quot;UMT O (S)&quot;\r\n  },\r\n  &quot;filter&quot;: &quot;data[$.sourceData.series in (motorSeries)].CSDtemplateName&quot;\r\n}\r\n```\r\n\r\nJAVA Code to filter data\r\n\r\n```\r\nString json = &quot;{\\&quot;data\\&quot;:[{\\&quot;motorSeries\\&quot;:[\\&quot;UMTO(S)\\&quot;,\\&quot;LXPLUS(S)\\&quot;,\\&quot;XUMADX(S)\\&quot;,\\&quot;UMAI100\\&quot;,\\&quot;UMA(ULTIMA)\\&quot;],\\&quot;pumpModel\\&quot;:\\&quot;CORA-12C\\&quot;,\\&quot;CSDtemplateName\\&quot;:\\&quot;CSD_CORA-100_12C.dxf\\&quot;}],\\&quot;sourceData\\&quot;:{\\&quot;series\\&quot;:\\&quot;LXPLUS(S)\\&quot;,\\&quot;pumpModel\\&quot;:\\&quot;CORA-12C\\&quot;},\\&quot;filter\\&quot;:\\&quot;data[$.sourceData.series.in(motorSeries)].CSDtemplateName\\&quot;}&quot;;\r\nJosson josson = Josson.fromJsonString(json);\r\n\r\nSystem.out.println(josson.getNode(&quot;eval(filter)&quot;));\r\n```\r\n\r\nOutput should be\r\n```\r\n&quot;ABC&quot;\r\n```\r\n\r\nBut the code gives an error\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.JsonNode.isEmpty()Z\r\n\tat com.octomix.josson.FuncExecutor.applyWithArrayNode(FuncExecutor.java:216)\r\n\t\r\n```\r\nwhat mistake I am making. Can somebody help me to solve the issue\r\n\r\nRegards,\r\nPranav\r\n\r\n\r\n  [1]: https://github.com/octomix/josson","title":"Filter with IN clause in josson library","body":"<p>I need to apply filter using IN clause.</p>\n<p>Library used: <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>My JSON file</p>\n<pre><code>{\n  &quot;data&quot;: [\n    {\n      &quot;motorSeries&quot;: [\n        &quot;UMT O (S)&quot;,\n        &quot;LX PLUS (S)&quot;,\n        &quot;XUMA DX (S)&quot;,\n        &quot;UMAI 100&quot;,\n        &quot;UMA (ULTIMA)&quot;\n      ],\n      &quot;CSDtemplateName&quot;: &quot;ABC&quot;\n    },\n    {\n      &quot;motorSeries&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;\n      ],\n      &quot;CSDtemplateName&quot;: &quot;XYZ&quot;\n    }\n  ],\n  &quot;sourceData&quot;: {\n    &quot;series&quot;: &quot;UMT O (S)&quot;\n  },\n  &quot;filter&quot;: &quot;data[$.sourceData.series in (motorSeries)].CSDtemplateName&quot;\n}\n</code></pre>\n<p>JAVA Code to filter data</p>\n<pre><code>String json = &quot;{\\&quot;data\\&quot;:[{\\&quot;motorSeries\\&quot;:[\\&quot;UMTO(S)\\&quot;,\\&quot;LXPLUS(S)\\&quot;,\\&quot;XUMADX(S)\\&quot;,\\&quot;UMAI100\\&quot;,\\&quot;UMA(ULTIMA)\\&quot;],\\&quot;pumpModel\\&quot;:\\&quot;CORA-12C\\&quot;,\\&quot;CSDtemplateName\\&quot;:\\&quot;CSD_CORA-100_12C.dxf\\&quot;}],\\&quot;sourceData\\&quot;:{\\&quot;series\\&quot;:\\&quot;LXPLUS(S)\\&quot;,\\&quot;pumpModel\\&quot;:\\&quot;CORA-12C\\&quot;},\\&quot;filter\\&quot;:\\&quot;data[$.sourceData.series.in(motorSeries)].CSDtemplateName\\&quot;}&quot;;\nJosson josson = Josson.fromJsonString(json);\n\nSystem.out.println(josson.getNode(&quot;eval(filter)&quot;));\n</code></pre>\n<p>Output should be</p>\n<pre><code>&quot;ABC&quot;\n</code></pre>\n<p>But the code gives an error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.JsonNode.isEmpty()Z\n    at com.octomix.josson.FuncExecutor.applyWithArrayNode(FuncExecutor.java:216)\n    \n</code></pre>\n<p>what mistake I am making. Can somebody help me to solve the issue</p>\n<p>Regards,\nPranav</p>\n"},{"tags":["java","tcp","tcpclient","tcpserver"],"answers":[{"tags":[],"owner":{"account_id":27654777,"reputation":16,"user_id":21108914,"display_name":"KUNCODE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675085880,"creation_date":1675076432,"answer_id":75283468,"question_id":75283420,"body_markdown":"The issue is with this line in the client code:\r\n\r\n```\r\nif(&quot;ok&quot;.equals(len)){\r\n```\r\n\r\nThis should be checking `if (&quot;ok&quot;.equals(new String(bytes,0,len))`, since len is the length of the received bytes. Fixing this line should resolve the issue.","title":"cannot run simple tcp server/client connection on Mac?","body":"<p>The issue is with this line in the client code:</p>\n<pre><code>if(&quot;ok&quot;.equals(len)){\n</code></pre>\n<p>This should be checking <code>if (&quot;ok&quot;.equals(new String(bytes,0,len))</code>, since len is the length of the received bytes. Fixing this line should resolve the issue.</p>\n"}],"owner":{"account_id":22986933,"reputation":13,"user_id":17113008,"display_name":"dean7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75283468,"answer_count":1,"score":0,"last_activity_date":1675085880,"creation_date":1675076164,"question_id":75283420,"body_markdown":"I wrote a simple tcp server/client connection that client passes username and pwd to server to get verification. I set the ip address to 127.0.0.1 and port to 8080 on both server and client. The code works on a Windows machine but cannot finish the username and pwd verification on Mac. Here is the server.java code:\r\n\r\n```\r\npublic class TcpServer {\r\n    public static void main(String[] args) throws IOException {\r\n        ServerSocket serverSocket = new ServerSocket(8080);\r\n        System.out.println(&quot;starting the server...&quot;);\r\n        while(true){\r\n            Socket socket = serverSocket.accept();\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try{\r\n                        InputStream inputStream = socket.getInputStream();\r\n                        byte[] bytes = new byte[1024];\r\n                        int len=inputStream.read(bytes);\r\n                        String text= new String(bytes,0,len);\r\n                        String[] split = text.split(&quot;&amp;&quot;);\r\n                        String username = split[0].split(&quot;=&quot;)[1];\r\n                        String pwd = split[1].split(&quot;=&quot;)[1];\r\n                        OutputStream outputStream = socket.getOutputStream();\r\n                        if((&quot;mayikt&quot;).equals(username)&amp;&amp;&quot;123456&quot;.equals(pwd)){\r\n                            outputStream.write(&quot;ok&quot;.getBytes(StandardCharsets.UTF_8));\r\n                        }else{\r\n                            outputStream.write(&quot;failed&quot;.getBytes(StandardCharsets.UTF_8));\r\n                        }\r\n                        inputStream.close();\r\n                        socket.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand here is the client&#39;s code:\r\n\r\n```\r\npublic class TcpClient {\r\n    public static void main(String[] args) throws IOException {\r\n        while(true){\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter username: &quot;);\r\n            String username = scanner.nextLine();\r\n            System.out.println(&quot;Please enter password: &quot;);\r\n            String pwd = scanner.nextLine();\r\n            Socket socket = new Socket(&quot;127.0.0.1&quot;, 8080);\r\n            OutputStream outputStream = socket.getOutputStream();\r\n            String text =&quot;userName=&quot;+username+&quot;&amp;userPwd=&quot;+pwd;\r\n            outputStream.write(text.getBytes(StandardCharsets.UTF_8));\r\n            InputStream inputStream = socket.getInputStream();\r\n            byte[] bytes = new byte[1024];\r\n            int len = inputStream.read(bytes);\r\n            if(&quot;ok&quot;.equals(len)){\r\n                System.out.println(&quot;login successfully&quot;);\r\n            }else{\r\n                System.out.println(&quot;failed to login&quot;);\r\n            }\r\n            outputStream.close();\r\n            socket.close();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nthe client just kept getting failed to login message even though I put correct username and password as the inputs.","title":"cannot run simple tcp server/client connection on Mac?","body":"<p>I wrote a simple tcp server/client connection that client passes username and pwd to server to get verification. I set the ip address to 127.0.0.1 and port to 8080 on both server and client. The code works on a Windows machine but cannot finish the username and pwd verification on Mac. Here is the server.java code:</p>\n<pre><code>public class TcpServer {\n    public static void main(String[] args) throws IOException {\n        ServerSocket serverSocket = new ServerSocket(8080);\n        System.out.println(&quot;starting the server...&quot;);\n        while(true){\n            Socket socket = serverSocket.accept();\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try{\n                        InputStream inputStream = socket.getInputStream();\n                        byte[] bytes = new byte[1024];\n                        int len=inputStream.read(bytes);\n                        String text= new String(bytes,0,len);\n                        String[] split = text.split(&quot;&amp;&quot;);\n                        String username = split[0].split(&quot;=&quot;)[1];\n                        String pwd = split[1].split(&quot;=&quot;)[1];\n                        OutputStream outputStream = socket.getOutputStream();\n                        if((&quot;mayikt&quot;).equals(username)&amp;&amp;&quot;123456&quot;.equals(pwd)){\n                            outputStream.write(&quot;ok&quot;.getBytes(StandardCharsets.UTF_8));\n                        }else{\n                            outputStream.write(&quot;failed&quot;.getBytes(StandardCharsets.UTF_8));\n                        }\n                        inputStream.close();\n                        socket.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }).start();\n        }\n    }\n}\n</code></pre>\n<p>and here is the client's code:</p>\n<pre><code>public class TcpClient {\n    public static void main(String[] args) throws IOException {\n        while(true){\n            Scanner scanner = new Scanner(System.in);\n            System.out.println(&quot;Please enter username: &quot;);\n            String username = scanner.nextLine();\n            System.out.println(&quot;Please enter password: &quot;);\n            String pwd = scanner.nextLine();\n            Socket socket = new Socket(&quot;127.0.0.1&quot;, 8080);\n            OutputStream outputStream = socket.getOutputStream();\n            String text =&quot;userName=&quot;+username+&quot;&amp;userPwd=&quot;+pwd;\n            outputStream.write(text.getBytes(StandardCharsets.UTF_8));\n            InputStream inputStream = socket.getInputStream();\n            byte[] bytes = new byte[1024];\n            int len = inputStream.read(bytes);\n            if(&quot;ok&quot;.equals(len)){\n                System.out.println(&quot;login successfully&quot;);\n            }else{\n                System.out.println(&quot;failed to login&quot;);\n            }\n            outputStream.close();\n            socket.close();\n        }\n\n    }\n}\n</code></pre>\n<p>the client just kept getting failed to login message even though I put correct username and password as the inputs.</p>\n"},{"tags":["java","groovy","spring-data-mongodb","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":27612403,"reputation":1,"user_id":21075217,"display_name":"Serhii Mormul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675085022,"creation_date":1675085022,"answer_id":75285046,"question_id":75226735,"body_markdown":"Working further on the problem I accidentally found a solution.\r\n\r\nThere was Spring Boot Starter Spring Integration dependency. However, nothing really from Spring Integration was used in the service.\r\n\r\nThere was also `Jackson2JsonObjectMapper` bean defined which wasn&#39;t used anywhere as well. Likely it was a leftover from the early stages of the service. Here I should note that the data class in question was annotated by `@JsonDeserializer` with the specific deserializer class which worked correct.\r\n\r\nSo removing of the bean and the Spring Integration dependency resulted in resolving the issue.","title":"ConverterNotFoundException: No converter found capable of converting from type [org.bson.types.Binary] to type [java.util.UUID]","body":"<p>Working further on the problem I accidentally found a solution.</p>\n<p>There was Spring Boot Starter Spring Integration dependency. However, nothing really from Spring Integration was used in the service.</p>\n<p>There was also <code>Jackson2JsonObjectMapper</code> bean defined which wasn't used anywhere as well. Likely it was a leftover from the early stages of the service. Here I should note that the data class in question was annotated by <code>@JsonDeserializer</code> with the specific deserializer class which worked correct.</p>\n<p>So removing of the bean and the Spring Integration dependency resulted in resolving the issue.</p>\n"}],"owner":{"account_id":27612403,"reputation":1,"user_id":21075217,"display_name":"Serhii Mormul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675085022,"creation_date":1674590809,"question_id":75226735,"body_markdown":"I have a small standard Spring Boot microservice which is Spring Data REST for a single Mongo DB collection. The document contains the UUID field. The collection is a capped collection due to requirements.\r\n\r\nNow I can build and run the app locally on my machine, no problem with that. However, we run everything in Docker on production. The container with the service is built without any issues, but once it starts, there is the following error:\r\n\r\n```\r\n{&quot;timestamp&quot;:&quot;2023-01-13T15:10:01.592Z&quot;,&quot;message&quot;:&quot;Servlet.service()\r\n for servlet [dispatcherServlet] in context with path [] threw exception\r\n [Request processing failed; nested exception is\r\n org.springframework.core.convert.ConverterNotFoundException:\r\n No converter found capable of converting from type [org.bson.types.Binary]\r\n to type [java.util.UUID]] with root cause&quot;, \r\n &quot;component&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,\r\n &quot;level&quot;:&quot;ERROR&quot;,&quot;stack_trace&quot;:\r\n &quot;org.springframework.core.convert.ConverterNotFoundException:\r\n No converter found capable of converting from type [org.bson.types.Binary]\r\n to type [java.util.UUID]\r\nat org.springframework.core.convert.support.GenericConversionService\r\n           .handleConverterNotFound(GenericConversionService.java:322)\r\n...\r\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter\r\n           .doConvert(MappingMongoConverter.java:1826)\r\n...\r\nat org.springframework.data.mongodb.repository.support.SimpleMongoRepository\r\n           .findAll(SimpleMongoRepository.java:444)\r\n```\r\nI have several questions actually:\r\n1. Basically, how to handle it? Is it possible to handle using Spring configs?\r\n2. Why SimpleMongoRepository.findAll() is called during the application start?\r\n3. We have several applications with Mongo DB - they are good. What&#39;s wrong with Spring Data REST in this respect?\r\n4. Why is the build OK, but when the container starts it fails?\r\n\r\nCode samples are on Groovy just like the service (everything is public by default).\r\nThe repository is described as the following\r\n\r\n```\r\n@RepositoryRestResource( collectionResourceRel = &#39;events&#39;, path = &#39;events&#39; )\r\ninterface EventRepository extends MongoRepository&lt;EventMessage, String&gt; { }\r\n```\r\nThe collection configuration is the following\r\n\r\n```\r\nclass CustomApplicationRunner implements ApplicationRunner {\r\n\r\n    @Autowired\r\n    MongoTemplate mongoTemplate\r\n\r\n    @Autowired\r\n    ApplicationProperties configuration\r\n\r\n    @Override\r\n    void run(ApplicationArguments args) throws Exception {\r\n        mongoTemplate.writeResultChecking = WriteResultChecking.EXCEPTION\r\n        if ( !mongoTemplate.collectionExists( EventMessage ) ) {\r\n            mongoTemplate.createCollection(EventMessage, new CollectionOptions(\r\n                    configuration.mongoCollectionMaxSizeBytes,\r\n                    configuration.mongoCollectionMaxDocuments,\r\n                    configuration.mongoCappedCollection )\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nIn application.yml the mongo configs are (on the development side)\r\n\r\n```\r\nmongodb:\r\n      uri: mongodb://mongodb:27017/development\r\n      auto-index-creation: true\r\n      uuid-representation: STANDARD\r\n      authentication-database: admin\r\n```\r\nThe Spring Boot dependencies are\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-amqp&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-integration&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\n\r\nVersions: SpringBoot 2.7.7, Groovy 4.0.6\r\n\r\nNow I did a little research.\r\n\r\n[Here](https://jira.mongodb.org/browse/JAVA-2917) is the JIRA issue for Mongo DB driver to support to/from UUID conversion for both Binary and BsonBinary. However, only BsonBinary is updated, apparently it is not used.\r\n\r\n[Here](https://github.com/spring-projects/spring-data-mongodb/issues/4076) is Spring Data MongoDB issue for the same problem (or very close to mine). The author provided the solution, but I wonder if it is the only way. I&#39;d like to reach the author for more details, but they have been inactive since then.\r\n\r\nI can implement the solution from the above, but I&#39;d like to figure out what&#39;s exactly is going on.\r\nThank you all in advance!","title":"ConverterNotFoundException: No converter found capable of converting from type [org.bson.types.Binary] to type [java.util.UUID]","body":"<p>I have a small standard Spring Boot microservice which is Spring Data REST for a single Mongo DB collection. The document contains the UUID field. The collection is a capped collection due to requirements.</p>\n<p>Now I can build and run the app locally on my machine, no problem with that. However, we run everything in Docker on production. The container with the service is built without any issues, but once it starts, there is the following error:</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-01-13T15:10:01.592Z&quot;,&quot;message&quot;:&quot;Servlet.service()\n for servlet [dispatcherServlet] in context with path [] threw exception\n [Request processing failed; nested exception is\n org.springframework.core.convert.ConverterNotFoundException:\n No converter found capable of converting from type [org.bson.types.Binary]\n to type [java.util.UUID]] with root cause&quot;, \n &quot;component&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,\n &quot;level&quot;:&quot;ERROR&quot;,&quot;stack_trace&quot;:\n &quot;org.springframework.core.convert.ConverterNotFoundException:\n No converter found capable of converting from type [org.bson.types.Binary]\n to type [java.util.UUID]\nat org.springframework.core.convert.support.GenericConversionService\n           .handleConverterNotFound(GenericConversionService.java:322)\n...\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter\n           .doConvert(MappingMongoConverter.java:1826)\n...\nat org.springframework.data.mongodb.repository.support.SimpleMongoRepository\n           .findAll(SimpleMongoRepository.java:444)\n</code></pre>\n<p>I have several questions actually:</p>\n<ol>\n<li>Basically, how to handle it? Is it possible to handle using Spring configs?</li>\n<li>Why SimpleMongoRepository.findAll() is called during the application start?</li>\n<li>We have several applications with Mongo DB - they are good. What's wrong with Spring Data REST in this respect?</li>\n<li>Why is the build OK, but when the container starts it fails?</li>\n</ol>\n<p>Code samples are on Groovy just like the service (everything is public by default).\nThe repository is described as the following</p>\n<pre><code>@RepositoryRestResource( collectionResourceRel = 'events', path = 'events' )\ninterface EventRepository extends MongoRepository&lt;EventMessage, String&gt; { }\n</code></pre>\n<p>The collection configuration is the following</p>\n<pre><code>class CustomApplicationRunner implements ApplicationRunner {\n\n    @Autowired\n    MongoTemplate mongoTemplate\n\n    @Autowired\n    ApplicationProperties configuration\n\n    @Override\n    void run(ApplicationArguments args) throws Exception {\n        mongoTemplate.writeResultChecking = WriteResultChecking.EXCEPTION\n        if ( !mongoTemplate.collectionExists( EventMessage ) ) {\n            mongoTemplate.createCollection(EventMessage, new CollectionOptions(\n                    configuration.mongoCollectionMaxSizeBytes,\n                    configuration.mongoCollectionMaxDocuments,\n                    configuration.mongoCappedCollection )\n            )\n        }\n    }\n}\n\n</code></pre>\n<p>In application.yml the mongo configs are (on the development side)</p>\n<pre><code>mongodb:\n      uri: mongodb://mongodb:27017/development\n      auto-index-creation: true\n      uuid-representation: STANDARD\n      authentication-database: admin\n</code></pre>\n<p>The Spring Boot dependencies are</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-amqp'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-integration'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Versions: SpringBoot 2.7.7, Groovy 4.0.6</p>\n<p>Now I did a little research.</p>\n<p><a href=\"https://jira.mongodb.org/browse/JAVA-2917\" rel=\"nofollow noreferrer\">Here</a> is the JIRA issue for Mongo DB driver to support to/from UUID conversion for both Binary and BsonBinary. However, only BsonBinary is updated, apparently it is not used.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-mongodb/issues/4076\" rel=\"nofollow noreferrer\">Here</a> is Spring Data MongoDB issue for the same problem (or very close to mine). The author provided the solution, but I wonder if it is the only way. I'd like to reach the author for more details, but they have been inactive since then.</p>\n<p>I can implement the solution from the above, but I'd like to figure out what's exactly is going on.\nThank you all in advance!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8290243,"reputation":106,"user_id":6232150,"display_name":"J. Staerk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675084871,"creation_date":1675084871,"answer_id":75285016,"question_id":72187970,"body_markdown":"You can e.g. use Mustang&#39;s REST API, Mustang Server https://www.mustangproject.org/server/ to correct and export any input PDF file as PDF/A, which also includes files which are already PDF/A-1.\r\n\r\nkind regards\r\nJochen","title":"Mustang Library: Converting invalid PDFA3 to valid PDFA3 for building Factur-x","body":"<p>You can e.g. use Mustang's REST API, Mustang Server <a href=\"https://www.mustangproject.org/server/\" rel=\"nofollow noreferrer\">https://www.mustangproject.org/server/</a> to correct and export any input PDF file as PDF/A, which also includes files which are already PDF/A-1.</p>\n<p>kind regards\nJochen</p>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675084871,"creation_date":1652192032,"question_id":72187970,"body_markdown":"I&#39;m trying to create a facturX using Mustang Library in a webservice. This web service accept a xml string and a base64 PDF. \r\n\r\nMy issue is that i have no &quot;knowledge&quot; about PDF format that is sent to me. In my service layer class, I build my facturx using ZUGFeRDExporterFromA1. \r\n\r\n\r\n    @Override\r\n    public FacturxDto createFacturX(FacturxDto facturxDto) {\r\n        context.setContext(facturxDto);\r\n        if (facturxDto.getVersion() == null) {\r\n            facturxDto.setVersion(2);\r\n        }\r\n        if(facturxDto.getPdfDocument() == null) {\r\n            throw new AppServiceException(&quot;Pdf is required in the payload&quot;);\r\n        }\r\n        if(facturxDto.getXml() == null) {\r\n            throw new AppServiceException(&quot;Xml is required in the payload&quot;);\r\n        }\r\n        if ((facturxDto.getVersion() &lt; 1) || (facturxDto.getVersion() &gt; 2)) {\r\n            throw new AppServiceException(&quot;invalid version&quot;);\r\n        }\r\n        try {\r\n            Utils.facturxValidator(facturxDto);\r\n        } catch (SAXException | IOException e) {\r\n            throw new AppServiceException(e.getMessage());\r\n        }\r\n\r\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n        log.debug(&quot;Converting to PDF/A-3u&quot;);\r\n\r\n        PDFAConformanceLevel pdfaConformanceLevel = Utils.setPdfaConformanceLevel(facturxDto);\r\n        // System.out.println(Arrays.toString(facturxDto.getPdfDocument().getBytes(StandardCharsets.UTF_8)));\r\n        byte[] xmlData = facturxDto.getXml().getBytes(StandardCharsets.UTF_8);\r\n        byte[] pdfData = Base64.getDecoder().decode(facturxDto.getPdfDocument().getBytes(StandardCharsets.UTF_8));\r\n        try {\r\n            ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1()\r\n                    .setProducer(&quot;Mustang LIB&quot;)\r\n                    .setCreator(&quot;ME&quot;)\r\n                    .setProfile(facturxDto.getFxLevel())\r\n                    .setZUGFeRDVersion(facturxDto.getVersion())\r\n                    .setConformanceLevel(pdfaConformanceLevel)\r\n                    .ignorePDFAErrors()\r\n                    .load(pdfData);\r\n\r\n            ze.attachFile(&quot;factur-x.xml&quot;, xmlData, &quot;text/xml&quot;, &quot;Data&quot;);\r\n            \r\n            ze.setXML(xmlData);\r\n            log.debug(&quot;Attaching ZUGFeRD-Data&quot;);\r\n            ze.disableAutoClose(true);\r\n            ze.export(output);\r\n            byte[] bytes = output.toByteArray();\r\n            InputStream inputStream = new ByteArrayInputStream(bytes);\r\n\r\n            byte[] pdfBytes = IOUtils.toByteArray(inputStream);\r\n\r\n            String encoded = Base64.getEncoder().encodeToString(pdfBytes);\r\n            // persist data in db and generate id\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n            FacturxEntity facturxEntity = modelMapper.map(facturxDto, FacturxEntity.class);\r\n            facturxEntity.setStatus(RequestOperationStatus.SUCCESS.name());\r\n            facturxEntity.setCreatedAt(new Date());\r\n            facturxEntity.setFacturxId(Utils.generateId());\r\n\r\n            FacturxEntity storedFacturx = facturxRepository.save(facturxEntity);\r\n            FacturxDto returnValue = modelMapper.map(storedFacturx, FacturxDto.class);\r\n            returnValue.setPdfDocument(encoded);\r\n            return returnValue;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new AppServiceException(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n\r\nMy issue is here : \r\n\r\n    ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1()\r\n            .setProducer(&quot;Mustang LIB&quot;)\r\n            .setCreator(&quot;ME&quot;)\r\n            .setProfile(facturxDto.getFxLevel())\r\n            .setZUGFeRDVersion(facturxDto.getVersion())\r\n            .setConformanceLevel(pdfaConformanceLevel)\r\n            .ignorePDFAErrors()\r\n            .load(pdfData);\r\n\r\nIf i don&#39;t use ignorePDFAErrors() I do have an exception thrown. \r\nIf i use it, my pdf is not PDFA compliant. And it&#39;s an issue. \r\n\r\nIs there a way to convert on the fly an invalid PDFA to a valid one. Thanks","title":"Mustang Library: Converting invalid PDFA3 to valid PDFA3 for building Factur-x","body":"<p>I'm trying to create a facturX using Mustang Library in a webservice. This web service accept a xml string and a base64 PDF.</p>\n<p>My issue is that i have no &quot;knowledge&quot; about PDF format that is sent to me. In my service layer class, I build my facturx using ZUGFeRDExporterFromA1.</p>\n<pre><code>@Override\npublic FacturxDto createFacturX(FacturxDto facturxDto) {\n    context.setContext(facturxDto);\n    if (facturxDto.getVersion() == null) {\n        facturxDto.setVersion(2);\n    }\n    if(facturxDto.getPdfDocument() == null) {\n        throw new AppServiceException(&quot;Pdf is required in the payload&quot;);\n    }\n    if(facturxDto.getXml() == null) {\n        throw new AppServiceException(&quot;Xml is required in the payload&quot;);\n    }\n    if ((facturxDto.getVersion() &lt; 1) || (facturxDto.getVersion() &gt; 2)) {\n        throw new AppServiceException(&quot;invalid version&quot;);\n    }\n    try {\n        Utils.facturxValidator(facturxDto);\n    } catch (SAXException | IOException e) {\n        throw new AppServiceException(e.getMessage());\n    }\n\n    ByteArrayOutputStream output = new ByteArrayOutputStream();\n    log.debug(&quot;Converting to PDF/A-3u&quot;);\n\n    PDFAConformanceLevel pdfaConformanceLevel = Utils.setPdfaConformanceLevel(facturxDto);\n    // System.out.println(Arrays.toString(facturxDto.getPdfDocument().getBytes(StandardCharsets.UTF_8)));\n    byte[] xmlData = facturxDto.getXml().getBytes(StandardCharsets.UTF_8);\n    byte[] pdfData = Base64.getDecoder().decode(facturxDto.getPdfDocument().getBytes(StandardCharsets.UTF_8));\n    try {\n        ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1()\n                .setProducer(&quot;Mustang LIB&quot;)\n                .setCreator(&quot;ME&quot;)\n                .setProfile(facturxDto.getFxLevel())\n                .setZUGFeRDVersion(facturxDto.getVersion())\n                .setConformanceLevel(pdfaConformanceLevel)\n                .ignorePDFAErrors()\n                .load(pdfData);\n\n        ze.attachFile(&quot;factur-x.xml&quot;, xmlData, &quot;text/xml&quot;, &quot;Data&quot;);\n        \n        ze.setXML(xmlData);\n        log.debug(&quot;Attaching ZUGFeRD-Data&quot;);\n        ze.disableAutoClose(true);\n        ze.export(output);\n        byte[] bytes = output.toByteArray();\n        InputStream inputStream = new ByteArrayInputStream(bytes);\n\n        byte[] pdfBytes = IOUtils.toByteArray(inputStream);\n\n        String encoded = Base64.getEncoder().encodeToString(pdfBytes);\n        // persist data in db and generate id\n        ModelMapper modelMapper = new ModelMapper();\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n        FacturxEntity facturxEntity = modelMapper.map(facturxDto, FacturxEntity.class);\n        facturxEntity.setStatus(RequestOperationStatus.SUCCESS.name());\n        facturxEntity.setCreatedAt(new Date());\n        facturxEntity.setFacturxId(Utils.generateId());\n\n        FacturxEntity storedFacturx = facturxRepository.save(facturxEntity);\n        FacturxDto returnValue = modelMapper.map(storedFacturx, FacturxDto.class);\n        returnValue.setPdfDocument(encoded);\n        return returnValue;\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new AppServiceException(e.getMessage());\n    }\n}\n</code></pre>\n<p>My issue is here :</p>\n<pre><code>ZUGFeRDExporterFromA1 ze = new ZUGFeRDExporterFromA1()\n        .setProducer(&quot;Mustang LIB&quot;)\n        .setCreator(&quot;ME&quot;)\n        .setProfile(facturxDto.getFxLevel())\n        .setZUGFeRDVersion(facturxDto.getVersion())\n        .setConformanceLevel(pdfaConformanceLevel)\n        .ignorePDFAErrors()\n        .load(pdfData);\n</code></pre>\n<p>If i don't use ignorePDFAErrors() I do have an exception thrown.\nIf i use it, my pdf is not PDFA compliant. And it's an issue.</p>\n<p>Is there a way to convert on the fly an invalid PDFA to a valid one. Thanks</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675085183,"post_id":75285014,"comment_id":132846111,"body_markdown":"There is no guarantee on what the size of the List parameter is in the process method, and I would not base program logic on this. Instead, better to use the data held by the each chunk instead.","body":"There is no guarantee on what the size of the List parameter is in the process method, and I would not base program logic on this. Instead, better to use the data held by the each chunk instead."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1675085268,"post_id":75285014,"comment_id":132846142,"body_markdown":"I am afraid I cant follow your advice.","body":"I am afraid I cant follow your advice."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1675085318,"post_id":75285014,"comment_id":132846159,"body_markdown":"Try `chunks.get(chunks.size() - 1)` rather than just `chunks.size() - 1`","body":"Try <code>chunks.get(chunks.size() - 1)</code> rather than just <code>chunks.size() - 1</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1675085474,"post_id":75285014,"comment_id":132846207,"body_markdown":"I&#39;m concerned that you are not publishing `TickerStatistics`.  There are thread visibility issues with variables when switching threads, that&#39;s the point of calling `publish()` and not just using a field directly.  Is that class thread safe?","body":"I&#39;m concerned that you are not publishing <code>TickerStatistics</code>.  There are thread visibility issues with variables when switching threads, that&#39;s the point of calling <code>publish()</code> and not just using a field directly.  Is that class thread safe?"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1675086037,"post_id":75285014,"comment_id":132846427,"body_markdown":"I am not sure if its threadsafe to be honest. There are multiple Objects of the Class that is using a their own swing workers. The data isnt shared between classes.","body":"I am not sure if its threadsafe to be honest. There are multiple Objects of the Class that is using a their own swing workers. The data isnt shared between classes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675087497,"post_id":75285014,"comment_id":132846943,"body_markdown":"I have the impression that you are only reading properties of the `TickerStatistics` objects which wouldn’t be a problem. The real problem is the `candleData.put(…)` call which obviously is meant to *modify* a data structure (a `Map` perhaps). This will definitely require the map to be thread safe. The correct way would be to drop the counter and use something like `publish(Map.entry( ticker.getSymbol(), rc.getCandlestickBars(ticker.getSymbol(), interval)));` within `doInBackground()` and `process(List&lt;Map.Entry&lt;…,…&gt;&gt; chunks) { for(var e: chunks) candleData.put(e.getKey(), e.getValue()); }`","body":"I have the impression that you are only reading properties of the <code>TickerStatistics</code> objects which wouldn’t be a problem. The real problem is the <code>candleData.put(…)</code> call which obviously is meant to <i>modify</i> a data structure (a <code>Map</code> perhaps). This will definitely require the map to be thread safe. The correct way would be to drop the counter and use something like <code>publish(Map.entry( ticker.getSymbol(), rc.getCandlestickBars(ticker.getSymbol(), interval)));</code> within <code>doInBackground()</code> and <code>process(List&lt;Map.Entry&lt;…,…&gt;&gt; chunks) { for(var e: chunks) candleData.put(e.getKey(), e.getValue()); }</code>"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675084852,"creation_date":1675084852,"question_id":75285014,"body_markdown":"I am trying to get the hang of the SwingWorker class but I am getting an unexpected behaviour I can not solve.\r\n\r\nIn my background() method, I am publishing an increasing counter which should be logged as the progress into console.\r\n\r\nSomehow the chunks.getSize()-1 always print out 0 instead of the incremented counter variable I am providing using publish(counter). What am I doing wrong here?\r\n\r\n     SwingWorker sw = new SwingWorker&lt;Boolean, Integer&gt;() {\r\n\r\n            @Override\r\n            protected Boolean doInBackground() throws Exception {\r\n                int counter = 0;\r\n                for (TickerStatistics ticker : tickers) {\r\n                    candleData.put(ticker.getSymbol(), rc.getCandlestickBars(ticker.getSymbol(), interval));\r\n                    counter++;\r\n                    publish(counter);\r\n                }\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            protected void done() {\r\n                System.out.println(candleData);\r\n            }\r\n\r\n            @Override\r\n            protected void process(List&lt;Integer&gt; chunks) {\r\n                System.out.println(chunks.size() - 1 + &quot; / &quot; + tickers.size());\r\n            }\r\n        };\r\n","title":"Java SwingWorker process(chunks) always 0","body":"<p>I am trying to get the hang of the SwingWorker class but I am getting an unexpected behaviour I can not solve.</p>\n<p>In my background() method, I am publishing an increasing counter which should be logged as the progress into console.</p>\n<p>Somehow the chunks.getSize()-1 always print out 0 instead of the incremented counter variable I am providing using publish(counter). What am I doing wrong here?</p>\n<pre><code> SwingWorker sw = new SwingWorker&lt;Boolean, Integer&gt;() {\n\n        @Override\n        protected Boolean doInBackground() throws Exception {\n            int counter = 0;\n            for (TickerStatistics ticker : tickers) {\n                candleData.put(ticker.getSymbol(), rc.getCandlestickBars(ticker.getSymbol(), interval));\n                counter++;\n                publish(counter);\n            }\n            return true;\n        }\n\n        @Override\n        protected void done() {\n            System.out.println(candleData);\n        }\n\n        @Override\n        protected void process(List&lt;Integer&gt; chunks) {\n            System.out.println(chunks.size() - 1 + &quot; / &quot; + tickers.size());\n        }\n    };\n</code></pre>\n"}],"has_more":false,"quota_max":10000,"quota_remaining":9303,"page":689,"page_size":100}
