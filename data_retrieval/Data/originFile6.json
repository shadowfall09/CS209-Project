{"items":[{"tags":["java","mysql","sql"],"answers":[{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391404821,"creation_date":1391401052,"answer_id":21519575,"question_id":21519541,"body_markdown":"The way you are using is not the proper way of using PreparedStatement\r\n\r\nDo like this\r\n\r\n    String charitysql = &quot;SELECT wardName, charityRoomID FROM tbl_charityward,tbl_charityroom2 \r\n    WHERE tbl_charityward.charityWardID = ?&quot;;\r\n    pst = conn.prepareStatement(charitysql);\r\n    pst.setInt(1,tbl_charityroom2.charityWardID);\r\n    rs = pst.executeQuery();","title":"Select Query and will appear to comboBox in Netbeans &amp; mysql","body":"<p>The way you are using is not the proper way of using PreparedStatement</p>\n\n<p>Do like this</p>\n\n<pre><code>String charitysql = \"SELECT wardName, charityRoomID FROM tbl_charityward,tbl_charityroom2 \nWHERE tbl_charityward.charityWardID = ?\";\npst = conn.prepareStatement(charitysql);\npst.setInt(1,tbl_charityroom2.charityWardID);\nrs = pst.executeQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3430881,"reputation":20272,"user_id":2875348,"accept_rate":100,"display_name":"ravibagul91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391422177,"creation_date":1391401455,"answer_id":21519636,"question_id":21519541,"body_markdown":"As your basic requirement is to show data into two `ComboBoxes`, you can do it as:\r\n \r\nYou can use a `loadcombo()` to load your `cb_ward2` combobox with database values.\r\n\r\n\r\n    void loadcombo() {\r\n        try\r\n        {\r\n         Connection conn=null;\r\n\t PreparedStatement pst=null;\r\n\t ResultSet rs=null;\r\n\t// Your database connections \r\n    \r\n         String charitysql = &quot;SELECT wardName FROM tbl_charityward&quot;;\r\n         pst = conn.prepareStatement(charitysql);\r\n         rs = pst.executeQuery();\r\n        while(rs.next()){                            \r\n            cb_ward2.addItem(rs.getString(1));\r\n        }\r\n        con.close();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println(&quot;Error&quot;+e);\r\n        }    \r\n    }\r\n\r\nNow you can use `ActionListener` on `cb_ward2` as:\r\n\r\n    cb_ward2.addActionListener(new ActionListener(){\r\n            \r\n            \r\n        public void actionPerformed(ActionEvent ae){\r\n            try\r\n\t\t{\r\n\t\t\tConnection con=null;\r\n\t\t\tPreparedStatement pst=null,pst1=null;\r\n\t\t\tResultSet rs=null,rs1=null;\r\n        //your database connection\r\n                    Object name=cb_ward2.getSelectedItem();\r\n                    \tpst=con.preparedStatement(&quot;select charityWardID from tbl_charityward where wardName=?&quot;);\r\n\t                pst.setObject(1,name);\r\n                        rs= pst.executeQuery();\r\n\t\t\tif(rs.next())\r\n\t\t\t{\r\n                          pst1=con.preparedStatement(&quot;select charityRoomID from tbl_charityroom2 where charityWardID=?&quot;);\r\n                          pst1.setInt(1,rs.getInt(1));\r\n                          rs1=pst1.executeQuery();\r\n                          while(rs1.next()){\r\n                          cb_room2.addItem(rs1.getInt(1));\r\n                          }\r\n\t\t        }\r\n\t                con.close();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;GG&quot;+e);\r\n\t\t}\r\n\r\n        }\r\n\r\n            \r\n        });\r\n","title":"Select Query and will appear to comboBox in Netbeans &amp; mysql","body":"<p>As your basic requirement is to show data into two <code>ComboBoxes</code>, you can do it as:</p>\n\n<p>You can use a <code>loadcombo()</code> to load your <code>cb_ward2</code> combobox with database values.</p>\n\n<pre><code>void loadcombo() {\n    try\n    {\n     Connection conn=null;\n PreparedStatement pst=null;\n ResultSet rs=null;\n// Your database connections \n\n     String charitysql = \"SELECT wardName FROM tbl_charityward\";\n     pst = conn.prepareStatement(charitysql);\n     rs = pst.executeQuery();\n    while(rs.next()){                            \n        cb_ward2.addItem(rs.getString(1));\n    }\n    con.close();\n    }\n    catch(Exception e)\n    {\n        System.out.println(\"Error\"+e);\n    }    \n}\n</code></pre>\n\n<p>Now you can use <code>ActionListener</code> on <code>cb_ward2</code> as:</p>\n\n<pre><code>cb_ward2.addActionListener(new ActionListener(){\n\n\n    public void actionPerformed(ActionEvent ae){\n        try\n    {\n        Connection con=null;\n        PreparedStatement pst=null,pst1=null;\n        ResultSet rs=null,rs1=null;\n    //your database connection\n                Object name=cb_ward2.getSelectedItem();\n                    pst=con.preparedStatement(\"select charityWardID from tbl_charityward where wardName=?\");\n                pst.setObject(1,name);\n                    rs= pst.executeQuery();\n        if(rs.next())\n        {\n                      pst1=con.preparedStatement(\"select charityRoomID from tbl_charityroom2 where charityWardID=?\");\n                      pst1.setInt(1,rs.getInt(1));\n                      rs1=pst1.executeQuery();\n                      while(rs1.next()){\n                      cb_room2.addItem(rs1.getInt(1));\n                      }\n            }\n                con.close();\n    }\n    catch(Exception e)\n    {\n        System.out.println(\"GG\"+e);\n    }\n\n    }\n\n\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7941634,"reputation":57,"user_id":5995420,"accept_rate":100,"display_name":"Igzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519584660,"creation_date":1519584660,"answer_id":48977160,"question_id":21519541,"body_markdown":"try using an arrayList !! it will give you a push like effect\r\n\r\nsomething like this\r\n\r\n        ArrayList&lt;String&gt; categories = new ArrayList&lt;&gt;();\r\n        Connection conn = null;\r\n        Statement stmt = null;\r\n        ResultSet rs = null;\r\n        try {\r\n            System.out.println(&quot;\\ntrying connection&quot;);\r\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/products?user=root&amp;password=&quot;);\r\n            stmt = conn.createStatement();\r\n            rs = stmt.executeQuery(&quot;SELECT DISTINCT categorie FROM product&quot;);\r\n            while (rs.next()) {\r\n                categories.add(rs.getString(1));\r\n            }\r\n            for (String item : categories) {\r\n                ComboBoxCategorie.addItem(item);\r\n            }\r\n            \r\n        } catch (SQLException ex) {\r\n            System.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n            System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n            System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n        } finally {\r\n            if (stmt != null) {\r\n                try {\r\n                    stmt.close();\r\n                } catch (SQLException sqlEx) {\r\n                } // ignore\r\n                stmt = null;\r\n            }\r\n        }\r\n\r\nyou can ignore the catch and finally clause!! just close the stmt\r\n","title":"Select Query and will appear to comboBox in Netbeans &amp; mysql","body":"<p>try using an arrayList !! it will give you a push like effect</p>\n\n<p>something like this</p>\n\n<pre><code>    ArrayList&lt;String&gt; categories = new ArrayList&lt;&gt;();\n    Connection conn = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n    try {\n        System.out.println(\"\\ntrying connection\");\n        conn = DriverManager.getConnection(\"jdbc:mysql://localhost/products?user=root&amp;password=\");\n        stmt = conn.createStatement();\n        rs = stmt.executeQuery(\"SELECT DISTINCT categorie FROM product\");\n        while (rs.next()) {\n            categories.add(rs.getString(1));\n        }\n        for (String item : categories) {\n            ComboBoxCategorie.addItem(item);\n        }\n\n    } catch (SQLException ex) {\n        System.out.println(\"SQLException: \" + ex.getMessage());\n        System.out.println(\"SQLState: \" + ex.getSQLState());\n        System.out.println(\"VendorError: \" + ex.getErrorCode());\n    } finally {\n        if (stmt != null) {\n            try {\n                stmt.close();\n            } catch (SQLException sqlEx) {\n            } // ignore\n            stmt = null;\n        }\n    }\n</code></pre>\n\n<p>you can ignore the catch and finally clause!! just close the stmt</p>\n"}],"owner":{"account_id":2645230,"reputation":31,"user_id":2288080,"accept_rate":25,"display_name":"Rima Touya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12519,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1702044385,"creation_date":1391400787,"question_id":21519541,"body_markdown":"I got problem on this code: &lt;br/&gt;\r\n&lt;code&gt; String charitysql = &quot;SELECT wardName, charityRoomID FROM tbl_charityward,tbl_charityroom2 &lt;br/&gt;WHERE tbl_charityward.charityWardID = tbl_charityroom2.charityWardID&quot;;&lt;br/&gt;&lt;/code&gt;\r\n           \r\n     try { \r\n\r\n            pst = conn.prepareStatement(charitysql);\r\n            rs = pst.executeQuery();\r\n            \r\n                while (rs.next()) {\r\n                    String wardname = rs.getString(&quot;wardName&quot;);\r\n                    cb_ward2.addItem(wardname);\r\n                    String roomid = rs.getString(&quot;charityRoomID&quot;);\r\n                    cb_room2.addItem(roomid);                    \r\n                                     \r\n                }\r\n            \r\n            }\r\n            catch(Exception e) {\r\n                JOptionPane.showMessageDialog(null, e);\r\n            }\r\n\r\nthis is my tables structure:&lt;br/&gt;\r\n&lt;code&gt;tbl_charityward&lt;br&gt;\r\ncharityWardID int NOT NULL AUTO_INCREMENT,&lt;br&gt;\r\nwardName varchar(20),&lt;br&gt;\r\nstatus varchar(20),&lt;br&gt;\r\nPRIMARY KEY (charityWardID)&lt;/code&gt;\r\n\r\n&lt;code&gt;tbl_charityRoom2&lt;br&gt;\r\ncharityRoomID INT NOT NULL AUTO_INCREMENT,&lt;br&gt;\r\nstatus varchar(20), &lt;br&gt;\r\ncharityWardID int,&lt;br&gt;\r\nPRIMARY KEY (charityRoomID, charityWardID),&lt;br&gt;\r\nFOREIGN KEY (charityWardID) REFERENCES tbl_charityward (charityWardID)&lt;/code&gt;\r\n\r\nthis is my tables  with values:&lt;br/&gt;\r\n&lt;code&gt;tbl_charityward&lt;br&gt;\r\n+-------------+----------+--------+&lt;br&gt;\r\n|charityWardID| wardName | status |&lt;br&gt;\r\n+-------------+----------+--------+&lt;br&gt;\r\n|......1......| Surgical |..Open..|&lt;br&gt;\r\n|......2......| .Obygine |..Open..|&lt;br&gt;\r\n|......3......| Pediatric|..Open..|&lt;br&gt;\r\n+-------------+----------+--------+&lt;br&gt;\r\n\r\ntbl_charityroom2&lt;br&gt;\r\n+-------------+--------+-------------+&lt;br&gt;\r\n|charityRoomID| status |charityWardID|&lt;br&gt;\r\n+-------------+--------+-------------+&lt;br&gt;\r\n|......1......|..Open..|......1......|&lt;br&gt;\r\n|......2......|..Open..|......1......|&lt;br&gt;\r\n|......3......|..Open..|......2......|&lt;br&gt;\r\n+-------------+--------+-------------+&lt;br&gt;&lt;/code&gt;\r\n\r\nI have 2 comboBox:&lt;br&gt;\r\n&lt;code&gt;cb_ward2 = which contains wardName&lt;br&gt;&lt;/code&gt;\r\n&lt;code&gt;cb_room2 = which contains CharityRoomID&lt;/code&gt;\r\n\r\nIf I select a wardName from &lt;code&gt;cb_ward2&lt;/code&gt;, then the &lt;code&gt;cb_room2&lt;/code&gt; will show the corresponding charityRoomID.\r\n\r\nexample:&lt;br&gt;\r\nI select &lt;code&gt;Surgical&lt;/code&gt; and the &lt;code&gt;charityRoomID = 1, 2 &lt;/code&gt;will appear on &lt;code&gt;cb_room2&lt;/code&gt;,&lt;br&gt;\r\nand when i select &lt;code&gt;Obygine&lt;/code&gt;, the &lt;code&gt;charityRoomID = 3 &lt;/code&gt;will only appear on &lt;code&gt;cb_room2&lt;/code&gt;,&lt;br&gt;\r\nbut when i select &lt;code&gt;Pediatric&lt;/code&gt;, no &lt;code&gt;charityRoomID&lt;code&gt; will appear on &lt;code&gt;cb_room2&lt;/code&gt;\r\n\r\nI am using **Netbeans** and **MYSQL**\r\n\r\n\r\n----------\r\n\r\n**EDIT :**\r\n\r\n    import java.sql.*;&lt;br&gt;\r\n    import javax.swing.*;&lt;br&gt;\r\n    public class addBed extends javax.swing.JFrame {\r\n    \r\n        Connection conn = null;\r\n        ResultSet rs = null;\r\n        PreparedStatement pst = null;\r\n               \r\n        /**\r\n         * Creates new form addBed\r\n         */\r\n        public addBed() {\r\n            initComponents();\r\n        }\r\n    \r\n        void loadcombo() {\r\n            \r\n                \r\n                try {\r\n                  \r\n            \r\n                String charitysql = &quot;SELECT wardName, charityRoomID FROM tbl_charityward, tbl_charityroom2 WHERE tbl_charityward.charityWardID = ?&quot;;  \r\n                pst = conn.prepareStatement(charitysql);\r\n                pst.setInt(1,tbl_charityroom2.charityWardID);\r\n                rs = pst.executeQuery();\r\n                \r\n                    while (rs.next()) {\r\n                       \r\n                        cb_ward2.addItem(rs.getString(1));\r\n                       \r\n                        cb_room2.addItem(rs.getString(2));                    \r\n                                         \r\n                    }\r\n                \r\n                }\r\n                catch(Exception e) {\r\n                    JOptionPane.showMessageDialog(null, e);\r\n                }\r\n                \r\n       \r\n                        \r\n               \r\n        }\r\n        private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \r\n           conn = myconn.ConnectDb();\r\n           loadcombo();\r\n        }                                 \r\n    \r\n        private void btn_add2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    \r\n        }     ","title":"Select Query and will appear to comboBox in Netbeans &amp; mysql","body":"<p>I got problem on this code: <br/>\n<code> String charitysql = \"SELECT wardName, charityRoomID FROM tbl_charityward,tbl_charityroom2 <br/>WHERE tbl_charityward.charityWardID = tbl_charityroom2.charityWardID\";<br/></code></p>\n\n<pre><code> try { \n\n        pst = conn.prepareStatement(charitysql);\n        rs = pst.executeQuery();\n\n            while (rs.next()) {\n                String wardname = rs.getString(\"wardName\");\n                cb_ward2.addItem(wardname);\n                String roomid = rs.getString(\"charityRoomID\");\n                cb_room2.addItem(roomid);                    \n\n            }\n\n        }\n        catch(Exception e) {\n            JOptionPane.showMessageDialog(null, e);\n        }\n</code></pre>\n\n<p>this is my tables structure:<br/>\n<code>tbl_charityward<br>\ncharityWardID int NOT NULL AUTO_INCREMENT,<br>\nwardName varchar(20),<br>\nstatus varchar(20),<br>\nPRIMARY KEY (charityWardID)</code></p>\n\n<p><code>tbl_charityRoom2<br>\ncharityRoomID INT NOT NULL AUTO_INCREMENT,<br>\nstatus varchar(20), <br>\ncharityWardID int,<br>\nPRIMARY KEY (charityRoomID, charityWardID),<br>\nFOREIGN KEY (charityWardID) REFERENCES tbl_charityward (charityWardID)</code></p>\n\n<p>this is my tables  with values:<br/>\n<code>tbl_charityward<br>\n+-------------+----------+--------+<br>\n|charityWardID| wardName | status |<br>\n+-------------+----------+--------+<br>\n|......1......| Surgical |..Open..|<br>\n|......2......| .Obygine |..Open..|<br>\n|......3......| Pediatric|..Open..|<br>\n+-------------+----------+--------+<br></p>\n\n<p>tbl_charityroom2<br>\n+-------------+--------+-------------+<br>\n|charityRoomID| status |charityWardID|<br>\n+-------------+--------+-------------+<br>\n|......1......|..Open..|......1......|<br>\n|......2......|..Open..|......1......|<br>\n|......3......|..Open..|......2......|<br>\n+-------------+--------+-------------+<br></code></p>\n\n<p>I have 2 comboBox:<br>\n<code>cb_ward2 = which contains wardName<br></code>\n<code>cb_room2 = which contains CharityRoomID</code></p>\n\n<p>If I select a wardName from <code>cb_ward2</code>, then the <code>cb_room2</code> will show the corresponding charityRoomID.</p>\n\n<p>example:<br>\nI select <code>Surgical</code> and the <code>charityRoomID = 1, 2 </code>will appear on <code>cb_room2</code>,<br>\nand when i select <code>Obygine</code>, the <code>charityRoomID = 3 </code>will only appear on <code>cb_room2</code>,<br>\nbut when i select <code>Pediatric</code>, no <code>charityRoomID<code> will appear on cb_room2</code></p>\n\n<p>I am using <strong>Netbeans</strong> and <strong>MYSQL</strong></p>\n\n<hr>\n\n<p><strong>EDIT :</strong></p>\n\n<pre>import java.sql.*;&lt;br&gt;\nimport javax.swing.*;&lt;br&gt;\npublic class addBed extends javax.swing.JFrame {\n\n    Connection conn = null;\n    ResultSet rs = null;\n    PreparedStatement pst = null;\n\n    /**\n     * Creates new form addBed\n     */\n    public addBed() {\n        initComponents();\n    }\n\n    void loadcombo() {\n\n\n            try {\n\n\n            String charitysql = \"SELECT wardName, charityRoomID FROM tbl_charityward, tbl_charityroom2 WHERE tbl_charityward.charityWardID = ?\";  \n            pst = conn.prepareStatement(charitysql);\n            pst.setInt(1,tbl_charityroom2.charityWardID);\n            rs = pst.executeQuery();\n\n                while (rs.next()) {\n\n                    cb_ward2.addItem(rs.getString(1));\n\n                    cb_room2.addItem(rs.getString(2));                    \n\n                }\n\n            }\n            catch(Exception e) {\n                JOptionPane.showMessageDialog(null, e);\n            }\n\n\n\n\n    }\n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \n       conn = myconn.ConnectDb();\n       loadcombo();\n    }                                 \n\n    private void btn_add2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    }     \n</code></pre>\n"},{"tags":["java","3d","window","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":26788388,"reputation":1,"user_id":20638234,"display_name":"Ociz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702043429,"creation_date":1702043429,"answer_id":77627042,"question_id":77513619,"body_markdown":"If I understood the question correctly, creating a simple window looks like this..\r\n```java\r\n        glfwInit();\r\n        long glfwWindow = glfwCreateWindow(width, height, &quot;Window title&quot;, glfwGetPrimaryMonitor(), MemoryUtil.NULL);\r\n\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\r\n        glfwMakeContextCurrent(glfwWindow);\r\n\r\n        //vsync: 1 on / 0 off\r\n        glfwSwapInterval(1);\r\n        //display settings\r\n        glfwShowWindow(glfwWindow);\r\n        //connects library tools\r\n        GL.createCapabilities();\r\n\r\n        //camera\r\n        glMatrixMode(GL_PROJECTION);\r\n        glOrtho(0, width, 0, height, 1, -1);\r\n        glMatrixMode(GL_MODELVIEW);\r\n\r\n        glClearColor(206f / 255f, 246f / 255f, 1.0f, 1.0f);\r\n        while (!glfwWindowShouldClose(glfwWindow)) {\r\n            //all draw here\r\n\r\n            glfwSwapBuffers(glfwWindow);\r\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\r\n            glfwPollEvents();\r\n        }\r\n```","title":"Java (LWJGL) Window","body":"<p>If I understood the question correctly, creating a simple window looks like this..</p>\n<pre class=\"lang-java prettyprint-override\"><code>        glfwInit();\n        long glfwWindow = glfwCreateWindow(width, height, &quot;Window title&quot;, glfwGetPrimaryMonitor(), MemoryUtil.NULL);\n\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\n        glfwMakeContextCurrent(glfwWindow);\n\n        //vsync: 1 on / 0 off\n        glfwSwapInterval(1);\n        //display settings\n        glfwShowWindow(glfwWindow);\n        //connects library tools\n        GL.createCapabilities();\n\n        //camera\n        glMatrixMode(GL_PROJECTION);\n        glOrtho(0, width, 0, height, 1, -1);\n        glMatrixMode(GL_MODELVIEW);\n\n        glClearColor(206f / 255f, 246f / 255f, 1.0f, 1.0f);\n        while (!glfwWindowShouldClose(glfwWindow)) {\n            //all draw here\n\n            glfwSwapBuffers(glfwWindow);\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n            glfwPollEvents();\n        }\n</code></pre>\n"}],"owner":{"account_id":27145583,"reputation":1,"user_id":20685842,"display_name":"bullboi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702043429,"creation_date":1700456891,"question_id":77513619,"body_markdown":"I am currently trying to figure out make to make window for a java game (with lwjgl 3.3.3). Most of the tutorials I have come across are very outdated so some help (along with some slight explanations as I am newer to java) would be very appreciated.\r\n\r\nI have tried multiple tutorials but all of them are outdated so if you can help me or give a good tutorial I&#39;d appreciate it.","title":"Java (LWJGL) Window","body":"<p>I am currently trying to figure out make to make window for a java game (with lwjgl 3.3.3). Most of the tutorials I have come across are very outdated so some help (along with some slight explanations as I am newer to java) would be very appreciated.</p>\n<p>I have tried multiple tutorials but all of them are outdated so if you can help me or give a good tutorial I'd appreciate it.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-projections"],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702043195,"creation_date":1702043195,"question_id":77627013,"body_markdown":"Given a basic JPA entity:\r\n\r\n    @Entity\r\n    class Person {\r\n        String name;\r\n        Integer age;\r\n        //getters and setters\r\n    }\r\n\r\nI need to create a spring JPA DTO projection like the follwing:\r\n\r\n    class PersonProjection {\r\n        String name;\r\n        Integer age;\r\n        String projectionProperty;\r\n        //getters and setters\r\n    }\r\n\r\nThe `projectionProperty` is not something that could be handled via @Formula or standard jpa relationship, hence the use of a Projection.\r\n\r\nGiven that the projection has much in common with the entity, is it possible to use inheritance e.g.:\r\n\r\n    class PersonProjection extends Person {\r\n       String projectionProperty;\r\n       //getters and setters\r\n    }\r\n\r\nCurrently when trying to do this and calling the spring JPA repo method, I get an `org.hibernate.MappingException: Unknown entity: PersonProjection` exception. I assume because spring doesn&#39;t realize that I am attempting to use a projection and instead wants to retrieve an entity, due to @Entity being on the parent class.\r\n\r\nIs there a way I can indicate that although PersonProjection extends an entity, it is *not* an entity for the purposes of my specific repository method? Perhaps by excluding the subclass from JPA, or annotating the spring repo method?\r\n\r\nEdit: Using projection interfaces (as I understand them) isn&#39;t a complete solution for my use case because downstream code needs the results to be Person entity instances, so the query results would have to be re-mapped manually into PersonProjection instances -  which is what Im trying to avoid to begin with.","title":"Is it possible to create a spring JPA DTO projection from a sub class of a full JPA entity?","body":"<p>Given a basic JPA entity:</p>\n<pre><code>@Entity\nclass Person {\n    String name;\n    Integer age;\n    //getters and setters\n}\n</code></pre>\n<p>I need to create a spring JPA DTO projection like the follwing:</p>\n<pre><code>class PersonProjection {\n    String name;\n    Integer age;\n    String projectionProperty;\n    //getters and setters\n}\n</code></pre>\n<p>The <code>projectionProperty</code> is not something that could be handled via @Formula or standard jpa relationship, hence the use of a Projection.</p>\n<p>Given that the projection has much in common with the entity, is it possible to use inheritance e.g.:</p>\n<pre><code>class PersonProjection extends Person {\n   String projectionProperty;\n   //getters and setters\n}\n</code></pre>\n<p>Currently when trying to do this and calling the spring JPA repo method, I get an <code>org.hibernate.MappingException: Unknown entity: PersonProjection</code> exception. I assume because spring doesn't realize that I am attempting to use a projection and instead wants to retrieve an entity, due to @Entity being on the parent class.</p>\n<p>Is there a way I can indicate that although PersonProjection extends an entity, it is <em>not</em> an entity for the purposes of my specific repository method? Perhaps by excluding the subclass from JPA, or annotating the spring repo method?</p>\n<p>Edit: Using projection interfaces (as I understand them) isn't a complete solution for my use case because downstream code needs the results to be Person entity instances, so the query results would have to be re-mapped manually into PersonProjection instances -  which is what Im trying to avoid to begin with.</p>\n"},{"tags":["java","maven","maven-plugin","functional-testing"],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702043136,"creation_date":1702032012,"question_id":77625982,"body_markdown":"I have a Maven plugin with a configuration like this in its &quot;execution&quot; section:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;url&gt;http://localhost:8083&lt;/url&gt;\r\n    &lt;test&gt;\r\n        &lt;id&gt;aaa&lt;/id&gt;\r\n        &lt;description&gt;bbb&lt;/description&gt;\r\n    &lt;/test&gt;\r\n    &lt;clientConfiguration&gt;\r\n        &lt;maxAttempts&gt;2&lt;/maxAttempts&gt;\r\n    &lt;/clientConfiguration&gt;\r\n&lt;/configuration&gt;\r\n```\r\nAppropriate class for test:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Test {\r\n    public String id;\r\n    public String description;\r\n}\r\n```\r\nAnd how these properties are defined in the plugin mojo:\r\n```\r\n@Parameter(name = &quot;url&quot;, property = &quot;url&quot;)\r\npublic String url;\r\n@Parameter(name = &quot;test&quot;, property = &quot;test&quot;)\r\npublic Test test;\r\n```\r\nI need to test different behaviors for the plugin and try to use `org.apache.maven.shared.invoker` lib for this.\r\nMy test preparation will be like this:\r\n```\r\nInvocationRequest request = new DefaultInvocationRequest();\r\nrequest.setPomFile(new File(&quot;./../my-plugin/pom.xml&quot;));\r\n\r\nrequest.setGoals(Collections.singletonList(&quot;my-plugin:my-goal&quot;));\r\n\r\nrequest.getProperties().setProperty(&quot;url&quot;, &quot;https://localhost:1111&quot;);\r\nrequest.getProperties().setProperty(&quot;test.id&quot;, &quot;aaa&quot;);\r\nInvocationResult result = invoker.execute(request);\r\n//processing result...\r\n```\r\nAnd I stuck on such a simple thing as to pass the &quot;test&quot; object into this.\r\nSetting &quot;url&quot; works well in the code above. But I can&#39;t put the `test.id` anyway.\r\nI also tried options like these:\r\n```\r\nrequest.getProperties().setProperty(&quot;test&quot;, &quot;{\\&quot;id\\&quot;:\\&quot;aaa\\&quot;}&quot;);\r\nrequest.getProperties().setProperty(&quot;test&quot;, &quot;&lt;id&gt;aaa&lt;/id&gt;&quot;);\r\n```\r\nBut for all such tries, I got the same error:\r\n`[ERROR] Failed to execute goal my-plugin:0.1.4-SNAPSHOT:my-goal (default-cli) on project my-plugin: Unable to parse configuration of mojo my-plugin:0.1.4-SNAPSHOT:my-goal for parameter test: Cannot find default setter in class Test`\r\nIt doesn&#39;t depend on adding setters, JSON setters, public fields, etc., in the Test class.\r\n\r\nIs there any way to pass an object with data to the InvocationRequest? How is it possible?","title":"Setting config for Maven plugin while testing with org.apache.maven.shared.invoker.*","body":"<p>I have a Maven plugin with a configuration like this in its &quot;execution&quot; section:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;url&gt;http://localhost:8083&lt;/url&gt;\n    &lt;test&gt;\n        &lt;id&gt;aaa&lt;/id&gt;\n        &lt;description&gt;bbb&lt;/description&gt;\n    &lt;/test&gt;\n    &lt;clientConfiguration&gt;\n        &lt;maxAttempts&gt;2&lt;/maxAttempts&gt;\n    &lt;/clientConfiguration&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Appropriate class for test:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Test {\n    public String id;\n    public String description;\n}\n</code></pre>\n<p>And how these properties are defined in the plugin mojo:</p>\n<pre><code>@Parameter(name = &quot;url&quot;, property = &quot;url&quot;)\npublic String url;\n@Parameter(name = &quot;test&quot;, property = &quot;test&quot;)\npublic Test test;\n</code></pre>\n<p>I need to test different behaviors for the plugin and try to use <code>org.apache.maven.shared.invoker</code> lib for this.\nMy test preparation will be like this:</p>\n<pre><code>InvocationRequest request = new DefaultInvocationRequest();\nrequest.setPomFile(new File(&quot;./../my-plugin/pom.xml&quot;));\n\nrequest.setGoals(Collections.singletonList(&quot;my-plugin:my-goal&quot;));\n\nrequest.getProperties().setProperty(&quot;url&quot;, &quot;https://localhost:1111&quot;);\nrequest.getProperties().setProperty(&quot;test.id&quot;, &quot;aaa&quot;);\nInvocationResult result = invoker.execute(request);\n//processing result...\n</code></pre>\n<p>And I stuck on such a simple thing as to pass the &quot;test&quot; object into this.\nSetting &quot;url&quot; works well in the code above. But I can't put the <code>test.id</code> anyway.\nI also tried options like these:</p>\n<pre><code>request.getProperties().setProperty(&quot;test&quot;, &quot;{\\&quot;id\\&quot;:\\&quot;aaa\\&quot;}&quot;);\nrequest.getProperties().setProperty(&quot;test&quot;, &quot;&lt;id&gt;aaa&lt;/id&gt;&quot;);\n</code></pre>\n<p>But for all such tries, I got the same error:\n<code>[ERROR] Failed to execute goal my-plugin:0.1.4-SNAPSHOT:my-goal (default-cli) on project my-plugin: Unable to parse configuration of mojo my-plugin:0.1.4-SNAPSHOT:my-goal for parameter test: Cannot find default setter in class Test</code>\nIt doesn't depend on adding setters, JSON setters, public fields, etc., in the Test class.</p>\n<p>Is there any way to pass an object with data to the InvocationRequest? How is it possible?</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1702034670,"post_id":77625876,"comment_id":136851039,"body_markdown":"Write 2.2 as 2.2f, so it is a float. No casting needed.","body":"Write 2.2 as 2.2f, so it is a float. No casting needed."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702044382,"post_id":77625876,"comment_id":136852594,"body_markdown":"`2.2` is a `double` (not a `float`) and if one of the operands is `double`, the result will be `double` - explained in the Java Language Specification [5.6. Numeric Contexts](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.6). See also [3.10.2. Floating-Point Literals](https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.2).","body":"<code>2.2</code> is a <code>double</code> (not a <code>float</code>) and if one of the operands is <code>double</code>, the result will be <code>double</code> - explained in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.6\" rel=\"nofollow noreferrer\">5.6. Numeric Contexts</a>. See also <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.2\" rel=\"nofollow noreferrer\">3.10.2. Floating-Point Literals</a>."}],"answers":[{"tags":[],"owner":{"account_id":9265428,"reputation":24,"user_id":10551815,"display_name":"Loibologic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702031647,"creation_date":1702031647,"answer_id":77625953,"question_id":77625876,"body_markdown":"`Double` and `Float` are different data types, see e.g. https://stackoverflow.com/questions/787181/java-double-vs-float. The error message says that the division `pounds / 2.2` returns a `Double` value. This value has to be cast to `Float` explicitly, just like you did in your second code example.","title":"Cannot convert from double to float Error","body":"<p><code>Double</code> and <code>Float</code> are different data types, see e.g. <a href=\"https://stackoverflow.com/questions/787181/java-double-vs-float\">Java: double vs float</a>. The error message says that the division <code>pounds / 2.2</code> returns a <code>Double</code> value. This value has to be cast to <code>Float</code> explicitly, just like you did in your second code example.</p>\n"},{"tags":[],"owner":{"account_id":27983776,"reputation":51,"user_id":21371062,"display_name":"Riya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702038876,"creation_date":1702038876,"answer_id":77626571,"question_id":77625876,"body_markdown":"Double and Float are the datatypes in java, so to convert from one type to the other you have to cast it . \r\n   For example ,  `pounds/2.2` returns a double value ( one class ) say 20.0.\r\n   To convert it we have to cast into Float which is `20f`.","title":"Cannot convert from double to float Error","body":"<p>Double and Float are the datatypes in java, so to convert from one type to the other you have to cast it .\nFor example ,  <code>pounds/2.2</code> returns a double value ( one class ) say 20.0.\nTo convert it we have to cast into Float which is <code>20f</code>.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702043081,"creation_date":1702043081,"answer_id":77627002,"question_id":77625876,"body_markdown":"`float` is, at this point, best thought of as a historic abberation. Do not use them; there is no need. `double` is like float but more precise, and just as fast if not faster. Also, java is designed to prefer them, so simple constants such as `2.2` are actually considered a double. Hence, `aFloatValue / 2.2` is a float divided by a double, which java solves by first silently upgrading the float to a double, then doing double division. This produces a `double` value. Which you try to assign to a variable of type `float` which is risky (can remove detail - a so called &#39;narrowing conversion&#39;), which requires an explicit cast so you, the programmer, can tell the compiler: Yes. yes, I heard you, this is dangerous, I know what I&#39;m doing shut up and compile my code please.\r\n\r\nThe correct answer here is to get rid of all mention of the word `float` and use `double` everywhere. You lose nothing, and your code is simpler; no casts would be needed then.\r\n","title":"Cannot convert from double to float Error","body":"<p><code>float</code> is, at this point, best thought of as a historic abberation. Do not use them; there is no need. <code>double</code> is like float but more precise, and just as fast if not faster. Also, java is designed to prefer them, so simple constants such as <code>2.2</code> are actually considered a double. Hence, <code>aFloatValue / 2.2</code> is a float divided by a double, which java solves by first silently upgrading the float to a double, then doing double division. This produces a <code>double</code> value. Which you try to assign to a variable of type <code>float</code> which is risky (can remove detail - a so called 'narrowing conversion'), which requires an explicit cast so you, the programmer, can tell the compiler: Yes. yes, I heard you, this is dangerous, I know what I'm doing shut up and compile my code please.</p>\n<p>The correct answer here is to get rid of all mention of the word <code>float</code> and use <code>double</code> everywhere. You lose nothing, and your code is simpler; no casts would be needed then.</p>\n"}],"owner":{"account_id":29338503,"reputation":3,"user_id":23039293,"display_name":"Bernardo Costa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77627002,"answer_count":3,"score":0,"last_activity_date":1702043081,"creation_date":1702030885,"question_id":77625876,"body_markdown":"I&#39;m writing a simple program that converts pounds to kilos, but I&#39;m a bit confused\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FiveTenOne {\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\r\n\r\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\r\n\r\n        float pounds = keyboard.nextFloat();\r\n\r\n        float kilos = pounds / 2.2;\r\n\r\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\r\n\r\n        keyboard.close();\r\n    }\r\n}\r\n```\r\nThis is the code I wrote, all variables have been set to floats, yet it tells me that it cant convert from a double. at &quot;pounds / 2.2;&quot;\r\n\r\nHowever when I write it like the code below &quot;(float) (pounds / 2.2)&quot; then no error comes back\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FiveTenOne {\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\r\n\r\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\r\n\r\n        float pounds = keyboard.nextFloat();\r\n\r\n        float kilos = (float) (pounds / 2.2);\r\n\r\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\r\n\r\n        keyboard.close();\r\n    }\r\n}\r\n```\r\n\r\nCan someone explain to me why the first code doesn&#39;t take it as a float?\r\n\r\nor is it an IDE problem?\r\n\r\n\r\nI tried both ways and know that the second one works fine, but I want to understand why exactly the first one doesn&#39;t work","title":"Cannot convert from double to float Error","body":"<p>I'm writing a simple program that converts pounds to kilos, but I'm a bit confused</p>\n<pre><code>import java.util.Scanner;\n\npublic class FiveTenOne {\n    public static void main(String[] args)\n    {\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\n\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\n\n        float pounds = keyboard.nextFloat();\n\n        float kilos = pounds / 2.2;\n\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\n\n        keyboard.close();\n    }\n}\n</code></pre>\n<p>This is the code I wrote, all variables have been set to floats, yet it tells me that it cant convert from a double. at &quot;pounds / 2.2;&quot;</p>\n<p>However when I write it like the code below &quot;(float) (pounds / 2.2)&quot; then no error comes back</p>\n<pre><code>import java.util.Scanner;\n\npublic class FiveTenOne {\n    public static void main(String[] args)\n    {\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\n\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\n\n        float pounds = keyboard.nextFloat();\n\n        float kilos = (float) (pounds / 2.2);\n\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\n\n        keyboard.close();\n    }\n}\n</code></pre>\n<p>Can someone explain to me why the first code doesn't take it as a float?</p>\n<p>or is it an IDE problem?</p>\n<p>I tried both ways and know that the second one works fine, but I want to understand why exactly the first one doesn't work</p>\n"},{"tags":["java","regex","algorithm","dfa","nfa"],"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":2,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1701854947,"answer_count":0,"score":-1,"last_activity_date":1702042790,"creation_date":1701854425,"question_id":77611822,"body_markdown":"I have [this GitHub repository](https://github.com/coderodde/regex-toolkit). This is my implementation of the regex toolkit. As you know, a proper regex utility allows the dot operator `.` that matches any character. Adding the dot operator support to a NFA is rather simple. However, doing the same for DFAs seems hard. One problematic aspect is that it is possible for a DFA state to have a dot operator transition ***and*** transition(s) on actual characters. Depending on which I choose in the DFA matching operation, DFA may accept or reject.\r\n\r\nThe unit test method \r\n\r\n        NondeterministicFiniteAutomaton nfa = \r\n                NondeterministicFiniteAutomaton.compile(&quot;((01)|.)?&quot;);\r\n        \r\n        DeterministicFiniteAutomaton dfa =\r\n                nfa.convertToDetermenisticFiniteAutomaton();\r\n        \r\n        assertTrue(dfa.matches(&quot;01&quot;));\r\n\r\nThe above `assertTrue(dfa.matches(&quot;01&quot;))` fails; `nfa` passes the test successfully.\r\n\r\nAny advice how to handle the above described issue?","title":"DFA that can work with the period wildcard dot matching any character","body":"<p>I have <a href=\"https://github.com/coderodde/regex-toolkit\" rel=\"nofollow noreferrer\">this GitHub repository</a>. This is my implementation of the regex toolkit. As you know, a proper regex utility allows the dot operator <code>.</code> that matches any character. Adding the dot operator support to a NFA is rather simple. However, doing the same for DFAs seems hard. One problematic aspect is that it is possible for a DFA state to have a dot operator transition <em><strong>and</strong></em> transition(s) on actual characters. Depending on which I choose in the DFA matching operation, DFA may accept or reject.</p>\n<p>The unit test method</p>\n<pre><code>    NondeterministicFiniteAutomaton nfa = \n            NondeterministicFiniteAutomaton.compile(&quot;((01)|.)?&quot;);\n    \n    DeterministicFiniteAutomaton dfa =\n            nfa.convertToDetermenisticFiniteAutomaton();\n    \n    assertTrue(dfa.matches(&quot;01&quot;));\n</code></pre>\n<p>The above <code>assertTrue(dfa.matches(&quot;01&quot;))</code> fails; <code>nfa</code> passes the test successfully.</p>\n<p>Any advice how to handle the above described issue?</p>\n"},{"tags":["java","spring-boot","ssl","ssl-certificate"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1702062011,"post_id":77626892,"comment_id":136855489,"body_markdown":"HTTPS works by (1) doing the TLS handshake, which includes selecting and sending the certificate, to establish a private (encrypted) and authenticated channel, then (2) sending the HTTP request, including headers, over that channel. Note 1 occurs before 2 and 2 occurs after 1. No program, not springboot nor express nor python nor anything else, can possibly read any header in 2 before making the certificate choice in 1. If you get the clients to issue requests to different _server names_ and have different cert&amp;keys for those server names, that can work using SNI.","body":"HTTPS works by (1) doing the TLS handshake, which includes selecting and sending the certificate, to establish a private (encrypted) and authenticated channel, then (2) sending the HTTP request, including headers, over that channel. Note 1 occurs before 2 and 2 occurs after 1. No program, not springboot nor express nor python nor anything else, can possibly read any header in 2 before making the certificate choice in 1. If you get the clients to issue requests to different <i>server names</i> and have different cert&amp;keys for those server names, that can work using SNI."}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1702041975,"creation_date":1702041975,"question_id":77626892,"body_markdown":"In our Spring Boot based application we use multitenancy and configure per-tenant JWT validation with `HttpFilter` receiving Issuer URI and JWK set URI within request headers:\r\n```java\r\n@RequiredArgsConstructor\r\npublic class JwtPreAuthorizationConfigurer extends HttpFilter {\r\n    private final OAuth2ResourceServerProperties properties;\r\n\r\n    @Override\r\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws Exception {\r\n        tenantContext.setIssuerUri(request.getHeader(Headers.ISSUER_URI.getName()));\r\n        tenantContext.setJwkSetUri(request.getHeader(Headers.JWK_SET_URI.getName()));\r\n        super.doFilter(request, response, chain);\r\n    }\r\n}\r\n```\r\nNow we need to go further and be able to configure TLS per-tenant either. In other words at runtime we need to be able to decide which certificate we pick from certificate store and use:\r\n- if the request comes from client A we use certificate A\r\n- if the request comes from client B we use certificate B\r\n- etc.\r\n\r\nThis is the part of `application.yml` responsible for SSL configuration:\r\n```java\r\nserver:\r\n  ssl:\r\n    enabled: true\r\n    key-store: &quot;classpath:my-keystore.p12&quot;\r\n    key-store-password: p4ssw0rd\r\n    key-store-type: PKCS12\r\n```\r\nCan this be achieved with means of Spring Boot somehow? E.g. something like\r\n```java\r\npublic class TLSPerRequestConfigurer extends HttpFilter {\r\n\r\n    @Override\r\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws Exception {\r\n        var tenantName = request.getHeader(Headers.TENANT_NAME.getName()));\r\n        // use tenantName\r\n        super.doFilter(request, response, chain);\r\n    }\r\n}\r\n```\r\nP.S. The application is containerized with Kubernetes and deployed into AWS, so other possible non-Spring suggestions are welcome.","title":"Dynamically load TLS certificates per request in Spring Boot application","body":"<p>In our Spring Boot based application we use multitenancy and configure per-tenant JWT validation with <code>HttpFilter</code> receiving Issuer URI and JWK set URI within request headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class JwtPreAuthorizationConfigurer extends HttpFilter {\n    private final OAuth2ResourceServerProperties properties;\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws Exception {\n        tenantContext.setIssuerUri(request.getHeader(Headers.ISSUER_URI.getName()));\n        tenantContext.setJwkSetUri(request.getHeader(Headers.JWK_SET_URI.getName()));\n        super.doFilter(request, response, chain);\n    }\n}\n</code></pre>\n<p>Now we need to go further and be able to configure TLS per-tenant either. In other words at runtime we need to be able to decide which certificate we pick from certificate store and use:</p>\n<ul>\n<li>if the request comes from client A we use certificate A</li>\n<li>if the request comes from client B we use certificate B</li>\n<li>etc.</li>\n</ul>\n<p>This is the part of <code>application.yml</code> responsible for SSL configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>server:\n  ssl:\n    enabled: true\n    key-store: &quot;classpath:my-keystore.p12&quot;\n    key-store-password: p4ssw0rd\n    key-store-type: PKCS12\n</code></pre>\n<p>Can this be achieved with means of Spring Boot somehow? E.g. something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TLSPerRequestConfigurer extends HttpFilter {\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws Exception {\n        var tenantName = request.getHeader(Headers.TENANT_NAME.getName()));\n        // use tenantName\n        super.doFilter(request, response, chain);\n    }\n}\n</code></pre>\n<p>P.S. The application is containerized with Kubernetes and deployed into AWS, so other possible non-Spring suggestions are welcome.</p>\n"},{"tags":["java","spring","security"],"owner":{"account_id":19773138,"reputation":1,"user_id":14479724,"display_name":"Lidiia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702041603,"creation_date":1702041603,"question_id":77626842,"body_markdown":"I have a web service and I need to use a role based authorisation, I have 3 roles and all go them doesn&#39;t work here is a code of my security configuration `@Configuration\r\n@EnableWebSecurity\r\npublic class AuthConfig {\r\n\r\n    @Bean\r\n    public HandlerMappingIntrospector mvcHandlerMappingIntrospector() {\r\n        return new HandlerMappingIntrospector();\r\n    }\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return new CustomUserDetailsService();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.authorizeHttpRequests(\r\n                auth -&gt; auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/api/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/api/student/**&quot;).hasAnyAuthority(&quot;STUDENT&quot;,&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/api/teacher/**&quot;).hasAnyAuthority(&quot;TEACHER&quot;,&quot;ADMIN&quot;)\r\n                        .anyRequest().authenticated())\r\n                        .csrf(AbstractHttpConfigurer::disable)\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService());\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n    }\r\n}\r\n\r\nand here is an example of my student service\r\n\r\n\r\n@Service\r\npublic class StudentService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private AssessmentItemRepository assessmentItemRepository;\r\n\r\n\r\n    public List&lt;StudentGradeDTO&gt; getStudentGrades(Long studentId) {\r\n        User student = userRepository.findById(studentId).orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));\r\n        List&lt;Subject&gt; enrolledSubjects = student.getEnrolledSubjects();\r\n\r\n        List&lt;StudentGradeDTO&gt; studentGrades = new ArrayList&lt;&gt;();\r\n        for (Subject subject : enrolledSubjects) {\r\n            List&lt;AssessmentItem&gt; assessments = assessmentItemRepository.findBySubjectAndStudent(subject, student);\r\n            for (AssessmentItem assessment : assessments) {\r\n                StudentGradeDTO gradeDTO = new StudentGradeDTO();\r\n                gradeDTO.setSubjectName(subject.getName());\r\n                gradeDTO.setType(assessment.getType());\r\n                gradeDTO.setExaminerName(assessment.getExaminerName());\r\n                gradeDTO.setGrade(assessment.getGrade());\r\n                gradeDTO.setExamDate(assessment.getExamDate());\r\n\r\n                studentGrades.add(gradeDTO);\r\n            }\r\n        }\r\n\r\n        return studentGrades;\r\n    }\r\n\r\n\r\n\r\n\r\n    public List&lt;AssessmentItem&gt; getUpcomingExamsForStudent(Long studentId) {\r\n        User student = userRepository.findById(studentId)\r\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));\r\n\r\n        List&lt;AssessmentItem&gt; upcomingExams = new ArrayList&lt;&gt;();\r\n        LocalDateTime currentDateTime = LocalDateTime.now();\r\n\r\n        for (Subject subject : student.getEnrolledSubjects()) {\r\n            List&lt;AssessmentItem&gt; exams = assessmentItemRepository.findBySubjectAndTypeAndExamDateAfter(\r\n                    subject, &quot;Exam&quot;, currentDateTime);\r\n            upcomingExams.addAll(exams);\r\n        }\r\n\r\n        return upcomingExams;\r\n    }\r\n}\r\n\r\n\r\nstudent controller \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/student&quot;)\r\n    public class StudentController {\r\n        @Autowired\r\n        private StudentService studentService;\r\n    \r\n        @GetMapping(&quot;/grades/{studentId}&quot;)\r\n        public ResponseEntity&lt;List&lt;StudentGradeDTO&gt;&gt; getStudentGrades(@PathVariable Long studentId) {\r\n            List&lt;StudentGradeDTO&gt; studentGrades = studentService.getStudentGrades(studentId);\r\n            return ResponseEntity.ok(studentGrades);\r\n        }\r\n        @GetMapping(&quot;/upcoming-exams/{studentId}&quot;)\r\n        public ResponseEntity&lt;List&lt;AssessmentItem&gt;&gt; getUpcomingExams(@PathVariable Long studentId) {\r\n            List&lt;AssessmentItem&gt; upcomingExams = studentService.getUpcomingExamsForStudent(studentId);\r\n            return ResponseEntity.ok(upcomingExams);\r\n        }\r\n\r\nand when I send a request to get a marks for example, I put in header authorisation &quot;Bearer + token&quot;, but I get a 401 status and here s a debug from spring \r\n2023-12-08T15:17:49.468+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/student/grades/1\r\n2023-12-08T15:17:49.491+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-12-08T15:17:49.513+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/student/grades/1?continue to session\r\n2023-12-08T15:17:49.514+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n2023-12-08T15:17:49.514+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@78ae146f\r\n2023-12-08T15:17:49.516+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-12-08T15:17:49.520+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-12-08T15:17:49.523+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session\r\n2023-12-08T15:17:49.523+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n2023-12-08T15:17:49.523+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@78ae146f\r\n\r\nand I put role in jwt\r\n\r\n    @Component\r\n    public class JwtService {\r\n    \r\n        public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\r\n    \r\n        public void validateToken(final String token) {\r\n            parserBuilder().setSigningKey(getSignKey()).build().parseClaimsJws(token);\r\n        }\r\n    \r\n        public String generateToken(String email, UserRole role) {\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;role&quot;, role);\r\n            return createToken(claims, email);\r\n        }\r\n    \r\n        private String createToken(Map&lt;String, Object&gt; claims, String userName) {\r\n            return builder()\r\n                    .setClaims(claims)\r\n                    .setSubject(userName)\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 30))\r\n                    .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\r\n        }\r\n    \r\n        private Key getSignKey() {\r\n            byte[] keyBytes = Decoders.BASE64.decode(SECRET);\r\n            return Keys.hmacShaKeyFor(keyBytes);\r\n        }\r\n    \r\n    }\r\n\r\nso anyone knows what is the problem? with permitAll() everything of course is working, but I need to use the roles","title":"Spring security role based authorisation is not working","body":"<p>I have a web service and I need to use a role based authorisation, I have 3 roles and all go them doesn't work here is a code of my security configuration `@Configuration\n@EnableWebSecurity\npublic class AuthConfig {</p>\n<pre><code>@Bean\npublic HandlerMappingIntrospector mvcHandlerMappingIntrospector() {\n    return new HandlerMappingIntrospector();\n}\n@Bean\npublic RestTemplate restTemplate() {\n    return new RestTemplate();\n}\n\n@Bean\npublic UserDetailsService userDetailsService() {\n    return new CustomUserDetailsService();\n}\n\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http.authorizeHttpRequests(\n            auth -&gt; auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                    .requestMatchers(&quot;/api/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\n                    .requestMatchers(&quot;/api/student/**&quot;).hasAnyAuthority(&quot;STUDENT&quot;,&quot;ADMIN&quot;)\n                    .requestMatchers(&quot;/api/teacher/**&quot;).hasAnyAuthority(&quot;TEACHER&quot;,&quot;ADMIN&quot;)\n                    .anyRequest().authenticated())\n                    .csrf(AbstractHttpConfigurer::disable)\n            .httpBasic(withDefaults());\n    return http.build();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic AuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n    authenticationProvider.setUserDetailsService(userDetailsService());\n    authenticationProvider.setPasswordEncoder(passwordEncoder());\n    return authenticationProvider;\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n    return config.getAuthenticationManager();\n}\n</code></pre>\n<p>}</p>\n<p>and here is an example of my student service</p>\n<p>@Service\npublic class StudentService {</p>\n<pre><code>@Autowired\nprivate UserRepository userRepository;\n\n@Autowired\nprivate AssessmentItemRepository assessmentItemRepository;\n\n\npublic List&lt;StudentGradeDTO&gt; getStudentGrades(Long studentId) {\n    User student = userRepository.findById(studentId).orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));\n    List&lt;Subject&gt; enrolledSubjects = student.getEnrolledSubjects();\n\n    List&lt;StudentGradeDTO&gt; studentGrades = new ArrayList&lt;&gt;();\n    for (Subject subject : enrolledSubjects) {\n        List&lt;AssessmentItem&gt; assessments = assessmentItemRepository.findBySubjectAndStudent(subject, student);\n        for (AssessmentItem assessment : assessments) {\n            StudentGradeDTO gradeDTO = new StudentGradeDTO();\n            gradeDTO.setSubjectName(subject.getName());\n            gradeDTO.setType(assessment.getType());\n            gradeDTO.setExaminerName(assessment.getExaminerName());\n            gradeDTO.setGrade(assessment.getGrade());\n            gradeDTO.setExamDate(assessment.getExamDate());\n\n            studentGrades.add(gradeDTO);\n        }\n    }\n\n    return studentGrades;\n}\n\n\n\n\npublic List&lt;AssessmentItem&gt; getUpcomingExamsForStudent(Long studentId) {\n    User student = userRepository.findById(studentId)\n            .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));\n\n    List&lt;AssessmentItem&gt; upcomingExams = new ArrayList&lt;&gt;();\n    LocalDateTime currentDateTime = LocalDateTime.now();\n\n    for (Subject subject : student.getEnrolledSubjects()) {\n        List&lt;AssessmentItem&gt; exams = assessmentItemRepository.findBySubjectAndTypeAndExamDateAfter(\n                subject, &quot;Exam&quot;, currentDateTime);\n        upcomingExams.addAll(exams);\n    }\n\n    return upcomingExams;\n}\n</code></pre>\n<p>}</p>\n<p>student controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/student&quot;)\npublic class StudentController {\n    @Autowired\n    private StudentService studentService;\n\n    @GetMapping(&quot;/grades/{studentId}&quot;)\n    public ResponseEntity&lt;List&lt;StudentGradeDTO&gt;&gt; getStudentGrades(@PathVariable Long studentId) {\n        List&lt;StudentGradeDTO&gt; studentGrades = studentService.getStudentGrades(studentId);\n        return ResponseEntity.ok(studentGrades);\n    }\n    @GetMapping(&quot;/upcoming-exams/{studentId}&quot;)\n    public ResponseEntity&lt;List&lt;AssessmentItem&gt;&gt; getUpcomingExams(@PathVariable Long studentId) {\n        List&lt;AssessmentItem&gt; upcomingExams = studentService.getUpcomingExamsForStudent(studentId);\n        return ResponseEntity.ok(upcomingExams);\n    }\n</code></pre>\n<p>and when I send a request to get a marks for example, I put in header authorisation &quot;Bearer + token&quot;, but I get a 401 status and here s a debug from spring\n2023-12-08T15:17:49.468+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/student/grades/1\n2023-12-08T15:17:49.491+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-12-08T15:17:49.513+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/api/student/grades/1?continue to session\n2023-12-08T15:17:49.514+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n2023-12-08T15:17:49.514+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@78ae146f\n2023-12-08T15:17:49.516+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-12-08T15:17:49.520+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-12-08T15:17:49.523+02:00 DEBUG 39093 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session\n2023-12-08T15:17:49.523+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n2023-12-08T15:17:49.523+02:00 DEBUG 39093 --- [nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@78ae146f</p>\n<p>and I put role in jwt</p>\n<pre><code>@Component\npublic class JwtService {\n\n    public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\n\n    public void validateToken(final String token) {\n        parserBuilder().setSigningKey(getSignKey()).build().parseClaimsJws(token);\n    }\n\n    public String generateToken(String email, UserRole role) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;role&quot;, role);\n        return createToken(claims, email);\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String userName) {\n        return builder()\n                .setClaims(claims)\n                .setSubject(userName)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 30))\n                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\n    }\n\n    private Key getSignKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p>so anyone knows what is the problem? with permitAll() everything of course is working, but I need to use the roles</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701800976,"post_id":77608468,"comment_id":136819547,"body_markdown":"Why would you ever want to do such a thing?","body":"Why would you ever want to do such a thing?"},{"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"score":0,"creation_date":1701801110,"post_id":77608468,"comment_id":136819569,"body_markdown":"@DavidConrad I have soft verifications which I want to be automatically checked for failures when a test ends(I don&#39;t want to explicitly call `soft.assertAll()` at the end of each test). I don&#39;t see other option than to use listeners that run this check for soft failures after the test ends, and then set the test status accordingly.\nBut I am open for smarter suggestions :)","body":"@DavidConrad I have soft verifications which I want to be automatically checked for failures when a test ends(I don&#39;t want to explicitly call <code>soft.assertAll()</code> at the end of each test). I don&#39;t see other option than to use listeners that run this check for soft failures after the test ends, and then set the test status accordingly. But I am open for smarter suggestions :)"},{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1701853612,"post_id":77608468,"comment_id":136825280,"body_markdown":"`org.assertj.core.api.junit.jupiter.SoftAssertionsExtension` already does what you&#39;re trying to do.","body":"<code>org.assertj.core.api.junit.jupiter.SoftAssertionsExtension</code> already does what you&#39;re trying to do."},{"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"score":0,"creation_date":1701857098,"post_id":77608468,"comment_id":136825956,"body_markdown":"@SamBrannen not really, because you must call `assertAll()` explicitly at the end of the assertions :)","body":"@SamBrannen not really, because you must call <code>assertAll()</code> explicitly at the end of the assertions :)"},{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1701954965,"post_id":77608468,"comment_id":136840428,"body_markdown":"What are you talking about? Did you even look at `SoftAssertionsExtension`? As I said, it already does what you are trying to do. It invokes `assertAll()` for you. https://assertj.github.io/doc/#assertj-core-junit5-soft-assertions","body":"What are you talking about? Did you even look at <code>SoftAssertionsExtension</code>? As I said, it already does what you are trying to do. It invokes <code>assertAll()</code> for you. <a href=\"https://assertj.github.io/doc/#assertj-core-junit5-soft-assertions\" rel=\"nofollow noreferrer\">assertj.github.io/doc/#assertj-core-junit5-soft-assertions</a>"}],"answers":[{"tags":[],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701809305,"creation_date":1701801826,"answer_id":77608570,"question_id":77608468,"body_markdown":"You can use the TestWatcher interface from the `org.junit.jupiter:junit-jupiter-api&quot;`:\r\n\r\ndependency:\r\n\r\n`testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.9.3&quot;)`\r\n\r\nusing:\r\n\r\n```java\r\npublic class SomeTest implements TestWatcher, AfterAllCallback {\r\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\n - All methods of the interface are &quot;implemented&quot; by default, so you don&#39;t have to override all of them.\r\n - AfterAllCallback interface allow to you handle `afterAll()` method\r\n\r\nI don&#39;t know which target you try to achieve, but you able to change the status of the result in following way:\r\n\r\n```java\r\n@Override\r\npublic void testFailed(ExtensionContext context, Throwable cause) {\r\n    TestWatcher.super.testSuccessful(context);\r\n}\r\n```\r\n\r\nAlso you can implement `TestExecutionExceptionHandler` and handle `handleTestExecutionException`","title":"Can I change the status(passed, failed, skipped) of a test from any JUnit 5 listener?","body":"<p>You can use the TestWatcher interface from the <code>org.junit.jupiter:junit-jupiter-api&quot;</code>:</p>\n<p>dependency:</p>\n<p><code>testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.9.3&quot;)</code></p>\n<p>using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeTest implements TestWatcher, AfterAllCallback {\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\n        \n    }\n}\n</code></pre>\n<ul>\n<li>All methods of the interface are &quot;implemented&quot; by default, so you don't have to override all of them.</li>\n<li>AfterAllCallback interface allow to you handle <code>afterAll()</code> method</li>\n</ul>\n<p>I don't know which target you try to achieve, but you able to change the status of the result in following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void testFailed(ExtensionContext context, Throwable cause) {\n    TestWatcher.super.testSuccessful(context);\n}\n</code></pre>\n<p>Also you can implement <code>TestExecutionExceptionHandler</code> and handle <code>handleTestExecutionException</code></p>\n"},{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702040755,"creation_date":1701810565,"answer_id":77609247,"question_id":77608468,"body_markdown":"## EDIT\r\n\r\nI wasn&#39;t aware of this, but as pointed out by [Sam Brannen](https://stackoverflow.com/a/77620334/3429133), there&#39;s already a [`SoftAssertionsExtension`](https://assertj.github.io/doc/#assertj-core-junit5-soft-assertions) that comes with AssertJ.\r\n\r\n## ORIGINAL ANSWER\r\n\r\nFrom your [comment](https://stackoverflow.com/questions/77608468/can-i-change-the-statuspassed-failed-skipped-of-a-test-from-any-junit-5-list#comment136819569_77608468):\r\n\r\n&gt;I have soft verifications which I want to be automatically checked for failures when a test ends(I don&#39;t want to explicitly call `soft.assertAll()` at the end of each test). I don&#39;t see other option than to use listeners that run this check for soft failures after the test ends, and then set the test status accordingly. But I am open for smarter suggestions :)\r\n\r\nYou could write an [extension](https://junit.org/junit5/docs/current/user-guide/#extensions) that:\r\n\r\n1. Creates a new `SoftAssertions` instance before each test\r\n2. Provides the created `SoftAssertions` as a parameter\r\n3. Calls `assertAll()` after each test\r\n\r\nExtension:\r\n\r\n```java\r\npublic class SoftAssertionsExtension\r\n\t\textends TypeBasedParameterResolver&lt;SoftAssertions&gt;\r\n\t\timplements BeforeTestExecutionCallback, AfterTestExecutionCallback {\r\n\r\n\tprivate static final Namespace STORE_NAMESPACE = Namespace.create(SoftAssertionsExtension.class);\r\n\tprivate static final String STORE_KEY = SoftAssertions.class.getSimpleName();\r\n\r\n\t@Override\r\n\tpublic void beforeTestExecution(ExtensionContext context) {\r\n\t\tcontext.getStore(STORE_NAMESPACE).put(STORE_KEY, new SoftAssertions());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterTestExecution(ExtensionContext context) {\r\n\t\tcontext.getStore(STORE_NAMESPACE).get(STORE_KEY, SoftAssertions.class).assertAll();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SoftAssertions resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\r\n\t\t\tthrows ParameterResolutionException {\r\n\t\treturn extensionContext.getStore(STORE_NAMESPACE).get(STORE_KEY, SoftAssertions.class);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```java\r\n@ExtendWith(SoftAssertionsExtension.class)\r\nclass SoftAssertionsTest {\r\n\r\n\t@Test\r\n\tvoid passingTest(SoftAssertions softly) {\r\n\t\tsoftly.assertThat(true).isTrue();\r\n\t}\r\n\r\n\t@Test\r\n\tvoid failingTest(SoftAssertions softly) {\r\n\t\tsoftly.assertThat(true).isFalse();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe test status is automatically set by the extension / `assertAll()` method.","title":"Can I change the status(passed, failed, skipped) of a test from any JUnit 5 listener?","body":"<h2>EDIT</h2>\n<p>I wasn't aware of this, but as pointed out by <a href=\"https://stackoverflow.com/a/77620334/3429133\">Sam Brannen</a>, there's already a <a href=\"https://assertj.github.io/doc/#assertj-core-junit5-soft-assertions\" rel=\"nofollow noreferrer\"><code>SoftAssertionsExtension</code></a> that comes with AssertJ.</p>\n<h2>ORIGINAL ANSWER</h2>\n<p>From your <a href=\"https://stackoverflow.com/questions/77608468/can-i-change-the-statuspassed-failed-skipped-of-a-test-from-any-junit-5-list#comment136819569_77608468\">comment</a>:</p>\n<blockquote>\n<p>I have soft verifications which I want to be automatically checked for failures when a test ends(I don't want to explicitly call <code>soft.assertAll()</code> at the end of each test). I don't see other option than to use listeners that run this check for soft failures after the test ends, and then set the test status accordingly. But I am open for smarter suggestions :)</p>\n</blockquote>\n<p>You could write an <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"nofollow noreferrer\">extension</a> that:</p>\n<ol>\n<li>Creates a new <code>SoftAssertions</code> instance before each test</li>\n<li>Provides the created <code>SoftAssertions</code> as a parameter</li>\n<li>Calls <code>assertAll()</code> after each test</li>\n</ol>\n<p>Extension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SoftAssertionsExtension\n        extends TypeBasedParameterResolver&lt;SoftAssertions&gt;\n        implements BeforeTestExecutionCallback, AfterTestExecutionCallback {\n\n    private static final Namespace STORE_NAMESPACE = Namespace.create(SoftAssertionsExtension.class);\n    private static final String STORE_KEY = SoftAssertions.class.getSimpleName();\n\n    @Override\n    public void beforeTestExecution(ExtensionContext context) {\n        context.getStore(STORE_NAMESPACE).put(STORE_KEY, new SoftAssertions());\n    }\n\n    @Override\n    public void afterTestExecution(ExtensionContext context) {\n        context.getStore(STORE_NAMESPACE).get(STORE_KEY, SoftAssertions.class).assertAll();\n    }\n\n    @Override\n    public SoftAssertions resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\n            throws ParameterResolutionException {\n        return extensionContext.getStore(STORE_NAMESPACE).get(STORE_KEY, SoftAssertions.class);\n    }\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SoftAssertionsExtension.class)\nclass SoftAssertionsTest {\n\n    @Test\n    void passingTest(SoftAssertions softly) {\n        softly.assertThat(true).isTrue();\n    }\n\n    @Test\n    void failingTest(SoftAssertions softly) {\n        softly.assertThat(true).isFalse();\n    }\n\n}\n</code></pre>\n<p>The test status is automatically set by the extension / <code>assertAll()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701955114,"creation_date":1701955114,"answer_id":77620334,"question_id":77608468,"body_markdown":"The functionality you are seeking already exists and comes out of the box from AssertJ.\r\n\r\nFrom the official [AssertJ documentation][1]:\r\n\r\n&gt; `SoftAssertionsExtension` is a JUnit 5 extension that:\r\n&gt; \r\n&gt; - takes care of calling `assertAll()` at the end of each tests\r\n&gt; - supports initializing `SoftAssertionsProvider` field annotated with `@InjectSoftAssertions`\r\n&gt; - supports injecting a `SoftAssertionsProvider` parameter in each test methods\r\n\r\n\r\n  [1]: https://assertj.github.io/doc/#assertj-core-junit5-soft-assertions","title":"Can I change the status(passed, failed, skipped) of a test from any JUnit 5 listener?","body":"<p>The functionality you are seeking already exists and comes out of the box from AssertJ.</p>\n<p>From the official <a href=\"https://assertj.github.io/doc/#assertj-core-junit5-soft-assertions\" rel=\"nofollow noreferrer\">AssertJ documentation</a>:</p>\n<blockquote>\n<p><code>SoftAssertionsExtension</code> is a JUnit 5 extension that:</p>\n<ul>\n<li>takes care of calling <code>assertAll()</code> at the end of each tests</li>\n<li>supports initializing <code>SoftAssertionsProvider</code> field annotated with <code>@InjectSoftAssertions</code></li>\n<li>supports injecting a <code>SoftAssertionsProvider</code> parameter in each test methods</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":2724755,"reputation":1595,"user_id":2350150,"accept_rate":56,"display_name":"Georgi Georgiev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1702040755,"creation_date":1701800550,"question_id":77608468,"body_markdown":"In TestNG I can set the final status of the tests using `ITestListener`. \r\n\r\nExample:\r\n```\r\npublic class TestListener implements ITestListener {\r\n    \r\n    @Override\r\n    public void onTestSuccess(ITestResult result) {\r\n       result.setStatus(ITestResult.FAILURE);    \r\n    }\r\n\r\n}\r\n```\r\n\r\nIs this possible to be done in JUnit 5 and how?","title":"Can I change the status(passed, failed, skipped) of a test from any JUnit 5 listener?","body":"<p>In TestNG I can set the final status of the tests using <code>ITestListener</code>.</p>\n<p>Example:</p>\n<pre><code>public class TestListener implements ITestListener {\n    \n    @Override\n    public void onTestSuccess(ITestResult result) {\n       result.setStatus(ITestResult.FAILURE);    \n    }\n\n}\n</code></pre>\n<p>Is this possible to be done in JUnit 5 and how?</p>\n"},{"tags":["java","gradle","deprecated","nashorn"],"comments":[{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":1,"creation_date":1702043479,"post_id":77626759,"comment_id":136852397,"body_markdown":"I don&#39;t think the Nashorn usage is related to that deprecation message. The error already told you how to get the actual deprecation findings. Use `--warning-mode all` or a build `--scan`.","body":"I don&#39;t think the Nashorn usage is related to that deprecation message. The error already told you how to get the actual deprecation findings. Use <code>--warning-mode all</code> or a build <code>--scan</code>."},{"owner":{"account_id":27009367,"reputation":1,"user_id":20569283,"display_name":"Swiftness"},"score":0,"creation_date":1702052623,"post_id":77626759,"comment_id":136854139,"body_markdown":"You were right. After a long attempt, the flag &quot;--warning-mode all&quot; was successfully activated. It says &quot;The org.gradle.api.plugins.Convention type has been deprecated&quot;. I&#39;ll find out what&#39;s wrong with this. Thanks a lot.","body":"You were right. After a long attempt, the flag &quot;--warning-mode all&quot; was successfully activated. It says &quot;The org.gradle.api.plugins.Convention type has been deprecated&quot;. I&#39;ll find out what&#39;s wrong with this. Thanks a lot."},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1702057121,"post_id":77626759,"comment_id":136854850,"body_markdown":"With `--stacktrace` or in the build `--scan` it also tells you where exactly this is coming from in most cases.","body":"With <code>--stacktrace</code> or in the build <code>--scan</code> it also tells you where exactly this is coming from in most cases."}],"owner":{"account_id":27009367,"reputation":1,"user_id":20569283,"display_name":"Swiftness"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702040734,"creation_date":1702040734,"question_id":77626759,"body_markdown":"I used Nashorn API to use JavaScript code module with Java.\r\n\r\n```java\r\nScriptEngineManager scriptEngineManager = new ScriptEngineManager();\r\nScriptEngine scriptEngine = scriptEngineManager.getEngineByName(&quot;nashorn&quot;);\r\n```\r\n\r\nJust like this. But I got this error:\r\n\r\n```\r\nExecution failed for task &#39;:Main.main()&#39;.\r\n\r\n&gt; Process &#39;command &#39;/Users/user/Library/Java/JavaVirtualMachines/openjdk-19.0.1/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n&gt; Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n&gt; You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n&gt; For more on this, please refer to https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n&gt; BUILD FAILED in 269ms\r\n&gt; 2 actionable tasks: 1 executed, 1 up-to-date\r\n```\r\n\r\nI&#39;ve already searched about it, but no one said this error is related to Nashorn.\r\n\r\nI know that Nashorn is deprecated, so I&#39;m using OpenJDK&#39;s version. And I&#39;ve tried switching to rhino or graal.js but the result was same.\r\n\r\nIs there any way to use JavaScript with Gradle without deprecation warning?","title":"Using Nashorn API. Got &#39;Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0&#39;","body":"<p>I used Nashorn API to use JavaScript code module with Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScriptEngineManager scriptEngineManager = new ScriptEngineManager();\nScriptEngine scriptEngine = scriptEngineManager.getEngineByName(&quot;nashorn&quot;);\n</code></pre>\n<p>Just like this. But I got this error:</p>\n<pre><code>Execution failed for task ':Main.main()'.\n\n&gt; Process 'command '/Users/user/Library/Java/JavaVirtualMachines/openjdk-19.0.1/Contents/Home/bin/java'' finished with non-zero exit value 1\n\n* Try:\n\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n&gt; Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n&gt; You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n&gt; For more on this, please refer to https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n&gt; BUILD FAILED in 269ms\n&gt; 2 actionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n<p>I've already searched about it, but no one said this error is related to Nashorn.</p>\n<p>I know that Nashorn is deprecated, so I'm using OpenJDK's version. And I've tried switching to rhino or graal.js but the result was same.</p>\n<p>Is there any way to use JavaScript with Gradle without deprecation warning?</p>\n"},{"tags":["java","spring-boot","kubernetes","openshift","configmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702040902,"post_id":77626750,"comment_id":136851996,"body_markdown":"`mvn -s /home/goose/mvn-tmp-settings.xml` is what I use. That I alias to `mvnt`","body":"<code>mvn -s &#47;home&#47;goose&#47;mvn-tmp-settings.xml</code> is what I use. That I alias to <code>mvnt</code>"}],"owner":{"account_id":15161401,"reputation":11,"user_id":10940355,"display_name":"Marko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702040620,"creation_date":1702040620,"question_id":77626750,"body_markdown":"I&#39;m using openshift 4, and building image using base image ubi8/openjdk-8 image. \r\nI wan&#39;t to use my custom maven settings.xml file.\r\nI see that openshift uses file located here\r\n-s \r\n```\r\n/tmp/artifacts/configuration/settings.xml\r\n```\r\nSo how can I tell openshift to read my custom settings.xml file, and not that in configuration folder.\r\n\r\n\r\n\r\nThanks in advance\r\n\r\n\r\n \r\n\r\nI have tried to build configMap and put that custom setting.xml to it, apply that custom map to buildConfi [text](https://stackoverflow.com/questions/55691270/configure-settings-xml-for-openshift-3-10-s2i-maven-builds) but it doesn&#39;t work.\r\nMy configMap is :\r\n\r\n`kind: ConfigMap\r\napiVersion: v1\r\nmetadata:\r\n  name: settings-mvn2\r\n  namespace: int-dev\r\n  uid: 2d3b1aad-6d7a-4e69-9848-3c48470ec7b3\r\n  resourceVersion: &#39;1465541561&#39;\r\n  creationTimestamp: &#39;2023-12-08T09:16:34Z&#39;\r\n  managedFields:\r\n    - manager: kubectl-create\r\n      operation: Update\r\n      apiVersion: v1\r\n      time: &#39;2023-12-08T09:16:34Z&#39;\r\n      fieldsType: FieldsV1\r\n      fieldsV1:\r\n        &#39;f:data&#39;:\r\n          .: {}\r\n          &#39;f:settings.xml&#39;: {}\r\ndata:\r\n  settings.xml: &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\r\\n&lt;settings xmlns=\\&quot;http://maven.apache.org/SETTINGS/1.2.0\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;\\r\\n  xsi:schemaLocation=\\&quot;http://maven.apache.org/SETTINGS/1.2.0 http://maven.apache.org/xsd/settings-1.2.0.xsd\\&quot;&gt;\\r\\n     &lt;mirrors&gt;\\r\\n          &lt;mirror&gt;\\r\\n               &lt;id&gt;maven-default-http-blocker&lt;/id&gt;\\r\\n               &lt;mirrorOf&gt;dummy&lt;/mirrorOf&gt;\\r\\n               &lt;name&gt;Dummy mirror to override default blocking mirror that blocks http&lt;/name&gt;\\r\\n               &lt;url&gt;http://0.0.0.0/&lt;/url&gt;\\r\\n         &lt;/mirror&gt;\\r\\n    &lt;/mirrors&gt;\\r\\n&lt;/settings&gt;&quot;\r\n`","title":"custom maven settings.xml for openshift build","body":"<h2>I'm using openshift 4, and building image using base image ubi8/openjdk-8 image.\nI wan't to use my custom maven settings.xml file.\nI see that openshift uses file located here</h2>\n<pre><code>/tmp/artifacts/configuration/settings.xml\n</code></pre>\n<p>So how can I tell openshift to read my custom settings.xml file, and not that in configuration folder.</p>\n<p>Thanks in advance</p>\n<p>I have tried to build configMap and put that custom setting.xml to it, apply that custom map to buildConfi <a href=\"https://stackoverflow.com/questions/55691270/configure-settings-xml-for-openshift-3-10-s2i-maven-builds\">text</a> but it doesn't work.\nMy configMap is :</p>\n<p><code>kind: ConfigMap apiVersion: v1 metadata: name: settings-mvn2 namespace: int-dev uid: 2d3b1aad-6d7a-4e69-9848-3c48470ec7b3 resourceVersion: '1465541561' creationTimestamp: '2023-12-08T09:16:34Z' managedFields: - manager: kubectl-create operation: Update apiVersion: v1 time: '2023-12-08T09:16:34Z' fieldsType: FieldsV1 fieldsV1: 'f:data': .: {} 'f:settings.xml': {} data: settings.xml: &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\r\\n&lt;settings xmlns=\\&quot;http://maven.apache.org/SETTINGS/1.2.0\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;\\r\\n  xsi:schemaLocation=\\&quot;http://maven.apache.org/SETTINGS/1.2.0 http://maven.apache.org/xsd/settings-1.2.0.xsd\\&quot;&gt;\\r\\n     &lt;mirrors&gt;\\r\\n          &lt;mirror&gt;\\r\\n               &lt;id&gt;maven-default-http-blocker&lt;/id&gt;\\r\\n               &lt;mirrorOf&gt;dummy&lt;/mirrorOf&gt;\\r\\n               &lt;name&gt;Dummy mirror to override default blocking mirror that blocks http&lt;/name&gt;\\r\\n               &lt;url&gt;http://0.0.0.0/&lt;/url&gt;\\r\\n         &lt;/mirror&gt;\\r\\n    &lt;/mirrors&gt;\\r\\n&lt;/settings&gt;&quot; </code></p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702039980,"creation_date":1702039980,"answer_id":77626688,"question_id":77614896,"body_markdown":"According to [Documentation][1] `UnAuthenticatedServerOAuth2AuthorizedClientRepository` is deprecated/removed.\r\n\r\nYou have to use `AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager` instead.\r\n\r\nMore details you will get from documentation [AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/6.0.0-M1/api/org/springframework/security/oauth2/client/web/server/UnAuthenticatedServerOAuth2AuthorizedClientRepository.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/6.0.0-M1/api/org/springframework/security/oauth2/client/AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager.html","title":"Configuring the WebClient Spring boot 3 - spring security","body":"<p>According to <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.0-M1/api/org/springframework/security/oauth2/client/web/server/UnAuthenticatedServerOAuth2AuthorizedClientRepository.html\" rel=\"nofollow noreferrer\">Documentation</a> <code>UnAuthenticatedServerOAuth2AuthorizedClientRepository</code> is deprecated/removed.</p>\n<p>You have to use <code>AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager</code> instead.</p>\n<p>More details you will get from documentation <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.0-M1/api/org/springframework/security/oauth2/client/AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager.html\" rel=\"nofollow noreferrer\">AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager</a>.</p>\n"}],"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1702039980,"creation_date":1701881240,"question_id":77614896,"body_markdown":"I migrate my batch project in spring boot 2.7.X to spring boot 3.2.0 and i have a problem to migrate this part of my code :\r\n\r\n      @Bean\r\n      @SuppressWarnings(&quot;all&quot;)\r\n      public WebClient webClient(ReactiveClientRegistrationRepository client) {\r\n        var oauth =\r\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n                client, new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\r\n        oauth.setDefaultClientRegistrationId(&quot;myAuthProvider&quot;);\r\n        //...java code\r\n    }\r\n\r\nI have an error : \r\njava: cannot find symbol\r\n  symbol:   class UnAuthenticatedServerOAuth2AuthorizedClientRepository\r\n  location: package org.springframework.security.oauth2.client.web.server\r\n\r\nWhich java class i must use instead of UnAuthenticatedServerOAuth2AuthorizedClientRepository to make my code work\r\n\r\nCan you help me please","title":"Configuring the WebClient Spring boot 3 - spring security","body":"<p>I migrate my batch project in spring boot 2.7.X to spring boot 3.2.0 and i have a problem to migrate this part of my code :</p>\n<pre><code>  @Bean\n  @SuppressWarnings(&quot;all&quot;)\n  public WebClient webClient(ReactiveClientRegistrationRepository client) {\n    var oauth =\n        new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n            client, new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\n    oauth.setDefaultClientRegistrationId(&quot;myAuthProvider&quot;);\n    //...java code\n}\n</code></pre>\n<p>I have an error :\njava: cannot find symbol\nsymbol:   class UnAuthenticatedServerOAuth2AuthorizedClientRepository\nlocation: package org.springframework.security.oauth2.client.web.server</p>\n<p>Which java class i must use instead of UnAuthenticatedServerOAuth2AuthorizedClientRepository to make my code work</p>\n<p>Can you help me please</p>\n"},{"tags":["java","flutter","appium","appium-android","appium-flutter"],"owner":{"account_id":30097978,"reputation":1,"user_id":23065798,"display_name":"K A D P Sugandha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702039528,"creation_date":1702039528,"question_id":77626643,"body_markdown":"I am attempting to confirm the clickability and visibility of Flutter elements and retrieve certain attributes using the appium-flutter-driver. However, I am encountering an issue where it shows &#39;Method has not yet been implemented&#39; How can I resolve this?\r\n \r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/S7L1G.png)\r\n\r\n\r\n\r\n**Code**\r\n\r\n```\r\npackage org.example;\r\n\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.github.ashwith.flutter.FlutterFinder;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.net.URL;\r\nimport java.time.Duration;\r\n\r\npublic class FlutterDriverAutomation {\r\n\r\n    public static AndroidDriver driver;\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n\r\n        DesiredCapabilities caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n        caps.setCapability(&quot;platformVersion&quot;, &quot;10&quot;);\r\n        caps.setCapability(&quot;deviceName&quot;, &quot;Android SDK built for x86&quot;);\r\n        caps.setCapability(&quot;udid&quot;, &quot;emulator-5554&quot;);\r\n        caps.setCapability(&quot;appPackage&quot;, &quot;com.example.flutter_application&quot;);\r\n        caps.setCapability(&quot;appActivity&quot;, &quot;com.example.flutter_application.MainActivity&quot;);\r\n        caps.setCapability(&quot;automationName&quot;, &quot;Flutter&quot;);\r\n\r\n        driver = new AndroidDriver(\r\n                new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), caps\r\n        );\r\n\r\n        Thread.sleep(5000);\r\n\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(500));\r\n\r\n\r\n        FlutterFinder finder = new FlutterFinder(driver);\r\n        WebElement element = null;\r\n        WebElement element1 = null;\r\n\r\n        element = finder.byValueKey(&quot;name_input_field&quot;);\r\n        element.sendKeys(&quot;#####TESTING######&quot;);\r\n\r\n        Thread.sleep(5000);\r\n        System.out.println(&quot;-------------------------------------&quot;);\r\n        \r\n        System.out.println(&quot;Element is display status is : &quot; + element.isDisplayed());\r\n        System.out.println(&quot;Element is enabled status is : &quot; + element.isEnabled());\r\n        \r\n        System.out.println(element.getAttribute(&quot;text&quot;));\r\n        System.out.println(element.getAttribute(&quot;value&quot;));\r\n\r\n\r\n    }\r\n}\r\n```\r\n","title":"How can I confirm clickability, visibility, and retrieving attributes of Flutter elements using the appium-flutter-driver","body":"<p>I am attempting to confirm the clickability and visibility of Flutter elements and retrieve certain attributes using the appium-flutter-driver. However, I am encountering an issue where it shows 'Method has not yet been implemented' How can I resolve this?</p>\n<p><a href=\"https://i.stack.imgur.com/S7L1G.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>Code</strong></p>\n<pre><code>package org.example;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.github.ashwith.flutter.FlutterFinder;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.Test;\n\nimport java.net.URL;\nimport java.time.Duration;\n\npublic class FlutterDriverAutomation {\n\n    public static AndroidDriver driver;\n\n    @Test\n    public void test() throws Exception {\n\n        DesiredCapabilities caps = new DesiredCapabilities();\n        caps.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        caps.setCapability(&quot;platformVersion&quot;, &quot;10&quot;);\n        caps.setCapability(&quot;deviceName&quot;, &quot;Android SDK built for x86&quot;);\n        caps.setCapability(&quot;udid&quot;, &quot;emulator-5554&quot;);\n        caps.setCapability(&quot;appPackage&quot;, &quot;com.example.flutter_application&quot;);\n        caps.setCapability(&quot;appActivity&quot;, &quot;com.example.flutter_application.MainActivity&quot;);\n        caps.setCapability(&quot;automationName&quot;, &quot;Flutter&quot;);\n\n        driver = new AndroidDriver(\n                new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;), caps\n        );\n\n        Thread.sleep(5000);\n\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(500));\n\n\n        FlutterFinder finder = new FlutterFinder(driver);\n        WebElement element = null;\n        WebElement element1 = null;\n\n        element = finder.byValueKey(&quot;name_input_field&quot;);\n        element.sendKeys(&quot;#####TESTING######&quot;);\n\n        Thread.sleep(5000);\n        System.out.println(&quot;-------------------------------------&quot;);\n        \n        System.out.println(&quot;Element is display status is : &quot; + element.isDisplayed());\n        System.out.println(&quot;Element is enabled status is : &quot; + element.isEnabled());\n        \n        System.out.println(element.getAttribute(&quot;text&quot;));\n        System.out.println(element.getAttribute(&quot;value&quot;));\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1702038360,"post_id":77626497,"comment_id":136851635,"body_markdown":"Can&#39;t find the exact duplicate, but you can find an answer here - [Load resource from anywhere in classpath](https://stackoverflow.com/questions/3294196/load-resource-from-anywhere-in-classpath).","body":"Can&#39;t find the exact duplicate, but you can find an answer here - <a href=\"https://stackoverflow.com/questions/3294196/load-resource-from-anywhere-in-classpath\">Load resource from anywhere in classpath</a>."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1702042918,"post_id":77626497,"comment_id":136852308,"body_markdown":"Yup. `MyClass.class.getResource(&quot;/relative/path/to/file/here.txt&quot;)`. Yes, a relative path, yes, still starting with a slash. Relative _to the classpath root_ (if you want to go relative to the class file, also okay, then don&#39;t use the leading slash). Always use forward slashes even on windows. This will look even inside jars.","body":"Yup. <code>MyClass.class.getResource(&quot;&#47;relative&#47;path&#47;to&#47;file&#47;here.txt&quot;)</code>&zwnj;&#8203;. Yes, a relative path, yes, still starting with a slash. Relative <i>to the classpath root</i> (if you want to go relative to the class file, also okay, then don&#39;t use the leading slash). Always use forward slashes even on windows. This will look even inside jars."}],"owner":{"account_id":30097814,"reputation":1,"user_id":23065679,"display_name":"Diana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702038313,"answer_count":0,"score":-3,"last_activity_date":1702039356,"creation_date":1702038072,"question_id":77626497,"body_markdown":"How to write the path to a file without &quot;src&quot; and only with internal project directories?\r\n\r\nFor example, now I have this path:\r\n```\r\n\tpublic static final String SOURCE = &quot;e:\\\\Diana\\\\eclipse-workspace\\\\home-library\\\\src\\\\by\\\\training\\\\home_library\\\\resources\\\\ListOfBooks.txt&quot;;\r\n```\r\n","title":"The path to a file","body":"<p>How to write the path to a file without &quot;src&quot; and only with internal project directories?</p>\n<p>For example, now I have this path:</p>\n<pre><code>    public static final String SOURCE = &quot;e:\\\\Diana\\\\eclipse-workspace\\\\home-library\\\\src\\\\by\\\\training\\\\home_library\\\\resources\\\\ListOfBooks.txt&quot;;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"owner":{"account_id":30097965,"reputation":1,"user_id":23065786,"display_name":"kid melon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702039334,"creation_date":1702039334,"question_id":77626626,"body_markdown":"I have write a demo Idea Plugin, when i try to run this Plugin. \r\nThis &quot;Missing gradleIdentityPath on plugin-demo&quot; Error come out.\r\n\r\nMy idea version info is:\r\nIntelliJ IDEA 2023.1 (Ultimate Edition)\r\nBuild #IU-231.8109.175, built on March 28, 2023\r\n\r\nMy plugin project like this:\r\n[enter image description here](https://i.stack.imgur.com/4LyPm.png)\r\nbuild.gradle is:\r\n\r\n```\r\nplugins {\r\n  id(&quot;java&quot;)\r\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.13.3&quot;\r\n}\r\n\r\ngroup = &quot;cn.melonkid&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  maven { url &#39;https://maven.aliyun.com/repository/central/&#39;}\r\n  maven { url &#39;https://maven.aliyun.com/repository/public/&#39; }\r\n  maven { url &#39;https://maven.aliyun.com/repository/google/&#39; }\r\n  maven { url &#39;https://maven.aliyun.com/repository/jcenter/&#39;}\r\n  maven { url &#39;https://maven.aliyun.com/repository/gradle-plugin&#39;}\r\n  //    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.3&#39;\r\n  testRuntimeOnly    &#39;org.junit.jupiter:junit-jupiter-engine:5.9.3&#39;\r\n  testRuntimeOnly    &#39;org.junit.vintage:junit-vintage-engine:5.9.3&#39;\r\n  testImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.9.3&#39;\r\n}\r\n\r\nintellij {\r\n  version = &#39;2023.1&#39;\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n  options.encoding = &#39;UTF-8&#39;\r\n  options.compilerArgs += [&#39;-Xlint:unchecked&#39;, &#39;-Xlint:deprecation&#39;, &#39;-parameters&#39;]\r\n}\r\n\r\npatchPluginXml {\r\n  sinceBuild = &#39;231&#39;\r\n  untilBuild = &#39;232.*&#39;\r\n}\r\n```\r\n\r\n\r\n\r\nI have no idea to fix this now. ","title":"Missing gradleIdentityPath on Error when run Idea Plugin","body":"<p>I have write a demo Idea Plugin, when i try to run this Plugin.\nThis &quot;Missing gradleIdentityPath on plugin-demo&quot; Error come out.</p>\n<p>My idea version info is:\nIntelliJ IDEA 2023.1 (Ultimate Edition)\nBuild #IU-231.8109.175, built on March 28, 2023</p>\n<p>My plugin project like this:\n<a href=\"https://i.stack.imgur.com/4LyPm.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nbuild.gradle is:</p>\n<pre><code>plugins {\n  id(&quot;java&quot;)\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.13.3&quot;\n}\n\ngroup = &quot;cn.melonkid&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n  maven { url 'https://maven.aliyun.com/repository/central/'}\n  maven { url 'https://maven.aliyun.com/repository/public/' }\n  maven { url 'https://maven.aliyun.com/repository/google/' }\n  maven { url 'https://maven.aliyun.com/repository/jcenter/'}\n  maven { url 'https://maven.aliyun.com/repository/gradle-plugin'}\n  //    mavenCentral()\n}\n\ndependencies {\n  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.3'\n  testRuntimeOnly    'org.junit.jupiter:junit-jupiter-engine:5.9.3'\n  testRuntimeOnly    'org.junit.vintage:junit-vintage-engine:5.9.3'\n  testImplementation 'org.junit.jupiter:junit-jupiter-params:5.9.3'\n}\n\nintellij {\n  version = '2023.1'\n}\n\ntasks.withType(JavaCompile) {\n  options.encoding = 'UTF-8'\n  options.compilerArgs += ['-Xlint:unchecked', '-Xlint:deprecation', '-parameters']\n}\n\npatchPluginXml {\n  sinceBuild = '231'\n  untilBuild = '232.*'\n}\n</code></pre>\n<p>I have no idea to fix this now.</p>\n"},{"tags":["java","hibernate","postgresql","jpa","autocommit"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1278071347,"post_id":3164072,"comment_id":3255719,"body_markdown":"if you don&#39;t want to persist data why do you have `files` mapped? Shouldn&#39;t it be `@Transient`?","body":"if you don&#39;t want to persist data why do you have <code>files</code> mapped? Shouldn&#39;t it be <code>@Transient</code>?"},{"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"score":0,"creation_date":1278159678,"post_id":3164072,"comment_id":3263011,"body_markdown":"@matt b I want to persist the files but only in the save operation not in the read one. That was why I didn&#39;t understand that the read should be in a transaction.","body":"@matt b I want to persist the files but only in the save operation not in the read one. That was why I didn&#39;t understand that the read should be in a transaction."},{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":3,"creation_date":1508807339,"post_id":3164072,"comment_id":80748344,"body_markdown":"You don&#39;t just use @Transactional when you want to save objects. A transaction is generally required to access the database - whether reading or writing.","body":"You don&#39;t just use @Transactional when you want to save objects. A transaction is generally required to access the database - whether reading or writing."},{"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"score":0,"creation_date":1556015254,"post_id":3164072,"comment_id":98285603,"body_markdown":"After this exception, hibernate is unable to connect with databse throws: `Caused by: org.hibernate.HibernateException: Unable to access lob stream`, is there any database command or something to restore this database?","body":"After this exception, hibernate is unable to connect with databse throws: <code>Caused by: org.hibernate.HibernateException: Unable to access lob stream</code>, is there any database command or something to restore this database?"}],"answers":[{"tags":[],"owner":{"account_id":101001,"reputation":119768,"user_id":271959,"display_name":"Frank Heikens"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1474109704,"creation_date":1278061143,"answer_id":3164352,"question_id":3164072,"body_markdown":"A large object can be stored in several records, that&#39;s why you have to use a transaction. All records are correct or nothing at all.\r\n\r\nhttps://www.postgresql.org/docs/current/static/largeobjects.html","title":"Large Objects may not be used in auto-commit mode","body":"<p>A large object can be stored in several records, that's why you have to use a transaction. All records are correct or nothing at all.</p>\n\n<p><a href=\"https://www.postgresql.org/docs/current/static/largeobjects.html\" rel=\"noreferrer\">https://www.postgresql.org/docs/current/static/largeobjects.html</a></p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1278263159,"creation_date":1278263159,"answer_id":3175485,"question_id":3164072,"body_markdown":"Unless you need to store files large than 1GB I suggest you use bytea as the datatype instead of large object. \r\n\r\nbytea is basically what BLOB is in other databases (e.g. Oracle) and it&#39;s handling is a lot more compatible with JDBC. \r\n","title":"Large Objects may not be used in auto-commit mode","body":"<p>Unless you need to store files large than 1GB I suggest you use bytea as the datatype instead of large object. </p>\n\n<p>bytea is basically what BLOB is in other databases (e.g. Oracle) and it's handling is a lot more compatible with JDBC. </p>\n"},{"tags":[],"owner":{"account_id":1442344,"reputation":641,"user_id":1362074,"display_name":"bbviana"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372988218,"creation_date":1372988218,"answer_id":17479964,"question_id":3164072,"body_markdown":"If you can, create a intermediate Entity between MyClass and file property for instance.\r\nSomething like:\r\n\r\n    @Entity\r\n    @Table(name=&quot;myobjects&quot;)\r\n    public class MyClass {\r\n        @OneToOne(cascade = ALL, fetch = LAZY)\r\n        private File file;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;file&quot;)\r\n    public class File {\r\n         @Lob\r\n         byte[] file;\r\n    }\r\n\r\nYou can&#39;t use @Lob and fetch type Lazy. It doesnt work. You must have a a intermediate class.\r\n ","title":"Large Objects may not be used in auto-commit mode","body":"<p>If you can, create a intermediate Entity between MyClass and file property for instance.\nSomething like:</p>\n\n<pre><code>@Entity\n@Table(name=\"myobjects\")\npublic class MyClass {\n    @OneToOne(cascade = ALL, fetch = LAZY)\n    private File file;\n}\n\n@Entity\n@Table(name=\"file\")\npublic class File {\n     @Lob\n     byte[] file;\n}\n</code></pre>\n\n<p>You can't use @Lob and fetch type Lazy. It doesnt work. You must have a a intermediate class.</p>\n"},{"tags":[],"owner":{"account_id":5338263,"reputation":5345,"user_id":4256410,"accept_rate":71,"display_name":"Philip John"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1543412337,"creation_date":1543412337,"answer_id":53520767,"question_id":3164072,"body_markdown":"Instead of using `@Transactional`, all I did for this issue was to update this column in PostgreSQL DB from `oid` type to `bytea` type and added `@Type` for the `@Lob` field.\r\n\r\ni.e.\r\n\r\n    ALTER TABLE person DROP COLUMN image;\r\n    ALTER TABLE person ADD COLUMN image bytea;\r\n\r\nAnd changed\r\n\r\n    @Lob\r\n    private byte[] image;\r\n\r\nTo\r\n\r\n    @Lob\r\n    @Type(type = &quot;org.hibernate.type.ImageType&quot;)\r\n    private byte[] image;","title":"Large Objects may not be used in auto-commit mode","body":"<p>Instead of using <code>@Transactional</code>, all I did for this issue was to update this column in PostgreSQL DB from <code>oid</code> type to <code>bytea</code> type and added <code>@Type</code> for the <code>@Lob</code> field.</p>\n\n<p>i.e.</p>\n\n<pre><code>ALTER TABLE person DROP COLUMN image;\nALTER TABLE person ADD COLUMN image bytea;\n</code></pre>\n\n<p>And changed</p>\n\n<pre><code>@Lob\nprivate byte[] image;\n</code></pre>\n\n<p>To</p>\n\n<pre><code>@Lob\n@Type(type = \"org.hibernate.type.ImageType\")\nprivate byte[] image;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10376960,"reputation":124,"user_id":7652903,"display_name":"Stephan Berg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560507062,"creation_date":1560507062,"answer_id":56596007,"question_id":3164072,"body_markdown":"You should check if auto-commit is really set false with method [getAutoCommit()][1] on your Connection.\r\n\r\nIn my case\r\n\r\n    &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\r\n\r\ndid not work, because the type of my db connection required auto-commit to be true.\r\n\r\nIn my case the problem was in the JBoss Configuration. I was using an JTA-datasource and that caused the problem. With an XA-datasource it worked fine. See [this post][1] for more details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56595725/7652903","title":"Large Objects may not be used in auto-commit mode","body":"<p>You should check if auto-commit is really set false with method <a href=\"https://stackoverflow.com/a/56595725/7652903\">getAutoCommit()</a> on your Connection.</p>\n\n<p>In my case</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.autocommit\" value=\"false\" /&gt;\n</code></pre>\n\n<p>did not work, because the type of my db connection required auto-commit to be true.</p>\n\n<p>In my case the problem was in the JBoss Configuration. I was using an JTA-datasource and that caused the problem. With an XA-datasource it worked fine. See <a href=\"https://stackoverflow.com/a/56595725/7652903\">this post</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":14456773,"reputation":440,"user_id":10442757,"display_name":"Raj Shukla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597354450,"creation_date":1597354450,"answer_id":63403527,"question_id":3164072,"body_markdown":"Use `@Transactional` on your Repository Interface.\r\n\r\n","title":"Large Objects may not be used in auto-commit mode","body":"<p>Use <code>@Transactional</code> on your Repository Interface.</p>\n"},{"tags":[],"owner":{"account_id":307291,"reputation":1568,"user_id":618499,"display_name":"Iogui"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633490092,"creation_date":1633489748,"answer_id":69459382,"question_id":3164072,"body_markdown":"That&#39;s an old question but I will share what I&#39;ve found for those who get here by a google search as I did.\r\n\r\n[This comment](https://github.com/jhipster/generator-jhipster/issues/8146#issuecomment-415345568) in an issue in JHipster project has a better explanation of the problem and also describe more options to solve it.\r\n\r\n**I will sumarize it here:**\r\n\r\nSpring boot app, &quot;out of the box&quot;, uses HikariCP connection pool and with autocommit=true by default. As it seems, the PostgreSQL jdbc driver requires that the handling of anything that uses a Lob be done with autocommit=false or inside a proper transaction.\r\n\r\nThe solutions (and explanations) proposed by Julien Dubois in the link above are very reasonable:\r\n\r\n&gt; - Mark the repository @transactional : I don&#39;t like it very much, because that gives more work to the service layer (which has to join the transaction, etc). So there&#39;s a little performance hit, for nothing much.\r\n&gt;\r\n&gt; - Mark the REST endpoint with @transactional(readOnly=true) : I don&#39;t like having transactions in the view layer. There&#39;s one added benefit from the point above: you can mark your transaction as readonly, so you have a performance gain.\r\n&gt;\r\n&gt; - Configure the connection pool to have autocommit = false. In fact, I thought we were already doing that, as the (older) connections pools I used were doing this. But that&#39;s not the case with HikariCP!! \r\n\r\nThat said, in my opinion, to turn off the autocommit in the connection pool seems as the better approach. It is more secure, it allows for one to work with read operations without the cost of a transaction and it is a global solution.\r\n\r\nJust place this on the spring application.properties of your project:\r\n\r\n```properties\r\nspring.datasource.hikari.auto-commit=false\r\n```","title":"Large Objects may not be used in auto-commit mode","body":"<p>That's an old question but I will share what I've found for those who get here by a google search as I did.</p>\n<p><a href=\"https://github.com/jhipster/generator-jhipster/issues/8146#issuecomment-415345568\" rel=\"noreferrer\">This comment</a> in an issue in JHipster project has a better explanation of the problem and also describe more options to solve it.</p>\n<p><strong>I will sumarize it here:</strong></p>\n<p>Spring boot app, &quot;out of the box&quot;, uses HikariCP connection pool and with autocommit=true by default. As it seems, the PostgreSQL jdbc driver requires that the handling of anything that uses a Lob be done with autocommit=false or inside a proper transaction.</p>\n<p>The solutions (and explanations) proposed by Julien Dubois in the link above are very reasonable:</p>\n<blockquote>\n<ul>\n<li><p>Mark the repository @transactional : I don't like it very much, because that gives more work to the service layer (which has to join the transaction, etc). So there's a little performance hit, for nothing much.</p>\n</li>\n<li><p>Mark the REST endpoint with @transactional(readOnly=true) : I don't like having transactions in the view layer. There's one added benefit from the point above: you can mark your transaction as readonly, so you have a performance gain.</p>\n</li>\n<li><p>Configure the connection pool to have autocommit = false. In fact, I thought we were already doing that, as the (older) connections pools I used were doing this. But that's not the case with HikariCP!!</p>\n</li>\n</ul>\n</blockquote>\n<p>That said, in my opinion, to turn off the autocommit in the connection pool seems as the better approach. It is more secure, it allows for one to work with read operations without the cost of a transaction and it is a global solution.</p>\n<p>Just place this on the spring application.properties of your project:</p>\n<pre><code>spring.datasource.hikari.auto-commit=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635539376,"creation_date":1635539376,"answer_id":69774474,"question_id":3164072,"body_markdown":"You can try his :\r\n\r\n    @Column(name = &quot;LONG_TEXT&quot;, columnDefinition=&quot;TEXT&quot;)\r\n    private String longText;","title":"Large Objects may not be used in auto-commit mode","body":"<p>You can try his :</p>\n<pre><code>@Column(name = &quot;LONG_TEXT&quot;, columnDefinition=&quot;TEXT&quot;)\nprivate String longText;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15707669,"reputation":133,"user_id":11880241,"display_name":"Ashikur Rahman Rashid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667192663,"creation_date":1667192663,"answer_id":74258939,"question_id":3164072,"body_markdown":"I removed @Lob from entity and it&#39;s working. \r\n\r\n    //@Lob\r\n    private String description;","title":"Large Objects may not be used in auto-commit mode","body":"<p>I removed @Lob from entity and it's working.</p>\n<pre><code>//@Lob\nprivate String description;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9605548,"reputation":56,"user_id":7131705,"display_name":"Serhii D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676015016,"creation_date":1675638667,"answer_id":75356143,"question_id":3164072,"body_markdown":"The compiler does not understand &quot;**type**&quot; as a parameter\r\n\r\n    @Type(type = &quot;org.hibernate.type.ImageType&quot;)","title":"Large Objects may not be used in auto-commit mode","body":"<p>The compiler does not understand &quot;<strong>type</strong>&quot; as a parameter</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.ImageType&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20220242,"reputation":1,"user_id":14829948,"display_name":"Ian Feeney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702039106,"creation_date":1702039106,"answer_id":77626594,"question_id":3164072,"body_markdown":"   \r\n\r\nI&#39;m using postgres TEXT type, and `@Type(PostgreSQLCITextType.class)` on the entity field solved for me.\r\n\r\nEntity:\r\n\r\n```\r\n@Lob\r\n@Column(name = &quot;description&quot;, columnDefinition=&quot;TEXT&quot;,  nullable = true)\r\n@Type(PostgreSQLCITextType.class)\r\nprivate String description;\r\n```\r\n\r\n","title":"Large Objects may not be used in auto-commit mode","body":"<p>I'm using postgres TEXT type, and <code>@Type(PostgreSQLCITextType.class)</code> on the entity field solved for me.</p>\n<p>Entity:</p>\n<pre><code>@Lob\n@Column(name = &quot;description&quot;, columnDefinition=&quot;TEXT&quot;,  nullable = true)\n@Type(PostgreSQLCITextType.class)\nprivate String description;\n</code></pre>\n"}],"owner":{"account_id":90778,"reputation":19457,"user_id":249699,"accept_rate":88,"display_name":"Javi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59177,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":3164352,"answer_count":11,"score":48,"last_activity_date":1702039106,"creation_date":1278057548,"question_id":3164072,"body_markdown":"I have a Spring application which uses Hibernate on a PostgreSQL database. I&#39;m trying to store files in a table of the database. It seems it stores the row with the file (I just use persist method on EntityManager), but when the object is loaded from the database I get the following exception:\r\n\r\n    org.postgresql.util.PSQLException: Large Objects may not be used in auto-commit mode.\r\n\r\nTo load the data I&#39;m using a MultipartFile transient atribute and in its setter I&#39;m setting the information I want to persist (byte[], fileName, size).\r\nThe entity I&#39;m persisting looks like this one (I&#39;ve ommitted the rest of getters/setters):\r\n\r\n    @Entity\r\n    @Table(name=&quot;myobjects&quot;)\r\n    public class MyClass {\r\n\t\r\n    \t@Id\r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;sequence&quot;)\r\n        @SequenceGenerator(name=&quot;sequence&quot;, sequenceName=&quot;myobjects_pk_seq&quot;, allocationSize=1)\r\n    \t@Column(name=&quot;id&quot;)\r\n\t    private Integer id;\r\n\t\r\n    \t@Lob\r\n    \tprivate String description;\r\n\t\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \tprivate Date creationDate;\r\n\t\r\n    \t@Transient\r\n    \tprivate MultipartFile multipartFile;\r\n\t\r\n    \t@Lob\r\n    \t@Basic(fetch=FetchType.LAZY, optional=true)\r\n    \tbyte[] file;\r\n\t\r\n    \tString fileName;\r\n\t\r\n    \tString fileContentType;\r\n\r\n    \tInteger fileSize;\r\n \t\r\n    \tpublic void setMultipartFile(MultipartFile multipartFile) {\r\n\t     \tthis.multipartFile = multipartFile;\r\n\t    \ttry {\r\n\t    \t\tthis.file = this.multipartFile.getBytes();\r\n\t\t    \tthis.fileName = this.multipartFile.getOriginalFilename();\r\n\t\t    \tthis.fileContentType = this.multipartFile.getContentType();\r\n\t\t    \tthis.fileSize = ((Long) this.multipartFile.getSize()).intValue();\r\n\t    \t} catch (IOException e) {\r\n\t    \t\tlogger.error(e.getStackTrace());\r\n\t    \t}\r\n    \t}\r\n    }\r\n\r\nI can see that when it is persisted I  have the data in the row but when I call this method it fails:\r\n\r\n    public List&lt;MyClass&gt; findByDescription(String text) {\r\n\t\tQuery query = getEntityManager().createQuery(&quot;from MyClass WHERE UPPER(description) like :query ORDER BY creationDate DESC&quot;);\r\n\t\tquery.setParameter(&quot;query&quot;, &quot;%&quot; + text.toUpperCase() + &quot;%&quot;);\r\n\t\treturn query.getResultList();\r\n\t}\r\n\r\nThis method only fails when the result has objects with files. I&#39;ve tried to set in my persistence.xml\r\n\r\n\r\n    &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\r\n\r\nbut it doesn&#39;t solve the problem.\r\n\r\nIn general the application works well it only commit the data when the transaction is finished and it performs a rollback if something fails, so I don&#39;t understand why is this happening.\r\n\r\nAny idea?\r\n\r\nThanks.\r\n\r\n**UPDATE**\r\n\r\nLooking at the link given by Shekhar it is suggested to include the call in a transation, so I&#39;ve set the service call inside a transaction an it works (I&#39;ve added @Transactional annotation).\r\n\r\n    @Transactional\r\n\tpublic List&lt;myClass&gt; find(String text) {\r\n\t\treturn myClassDAO.findByDescription(text);\r\n\t}\r\n\r\nthe problem is that I don&#39;t want to persist any data so I don&#39;t understand why it should be include inside a transaction. Does it make any sense to make a commit when I&#39;ve only loaded some data form the database?\r\n\r\nThanks.\r\n\r\n","title":"Large Objects may not be used in auto-commit mode","body":"<p>I have a Spring application which uses Hibernate on a PostgreSQL database. I'm trying to store files in a table of the database. It seems it stores the row with the file (I just use persist method on EntityManager), but when the object is loaded from the database I get the following exception:</p>\n\n<pre><code>org.postgresql.util.PSQLException: Large Objects may not be used in auto-commit mode.\n</code></pre>\n\n<p>To load the data I'm using a MultipartFile transient atribute and in its setter I'm setting the information I want to persist (byte[], fileName, size).\nThe entity I'm persisting looks like this one (I've ommitted the rest of getters/setters):</p>\n\n<pre><code>@Entity\n@Table(name=\"myobjects\")\npublic class MyClass {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=\"sequence\")\n    @SequenceGenerator(name=\"sequence\", sequenceName=\"myobjects_pk_seq\", allocationSize=1)\n    @Column(name=\"id\")\n    private Integer id;\n\n    @Lob\n    private String description;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date creationDate;\n\n    @Transient\n    private MultipartFile multipartFile;\n\n    @Lob\n    @Basic(fetch=FetchType.LAZY, optional=true)\n    byte[] file;\n\n    String fileName;\n\n    String fileContentType;\n\n    Integer fileSize;\n\n    public void setMultipartFile(MultipartFile multipartFile) {\n        this.multipartFile = multipartFile;\n        try {\n            this.file = this.multipartFile.getBytes();\n            this.fileName = this.multipartFile.getOriginalFilename();\n            this.fileContentType = this.multipartFile.getContentType();\n            this.fileSize = ((Long) this.multipartFile.getSize()).intValue();\n        } catch (IOException e) {\n            logger.error(e.getStackTrace());\n        }\n    }\n}\n</code></pre>\n\n<p>I can see that when it is persisted I  have the data in the row but when I call this method it fails:</p>\n\n<pre><code>public List&lt;MyClass&gt; findByDescription(String text) {\n    Query query = getEntityManager().createQuery(\"from MyClass WHERE UPPER(description) like :query ORDER BY creationDate DESC\");\n    query.setParameter(\"query\", \"%\" + text.toUpperCase() + \"%\");\n    return query.getResultList();\n}\n</code></pre>\n\n<p>This method only fails when the result has objects with files. I've tried to set in my persistence.xml</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.autocommit\" value=\"false\" /&gt;\n</code></pre>\n\n<p>but it doesn't solve the problem.</p>\n\n<p>In general the application works well it only commit the data when the transaction is finished and it performs a rollback if something fails, so I don't understand why is this happening.</p>\n\n<p>Any idea?</p>\n\n<p>Thanks.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Looking at the link given by Shekhar it is suggested to include the call in a transation, so I've set the service call inside a transaction an it works (I've added @Transactional annotation).</p>\n\n<pre><code>@Transactional\npublic List&lt;myClass&gt; find(String text) {\n    return myClassDAO.findByDescription(text);\n}\n</code></pre>\n\n<p>the problem is that I don't want to persist any data so I don't understand why it should be include inside a transaction. Does it make any sense to make a commit when I've only loaded some data form the database?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","statistics","garbage-collection","heap-memory"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702038960,"post_id":77626398,"comment_id":136851709,"body_markdown":"I&#39;m not sure it is possible at all, but which GC algorithm are you using? How is it configured? Did you consider using a non GC language? Why you want to avoid GC? I suspect this is an XY Problem. You should probably ask about the original problem you are trying to resolve.","body":"I&#39;m not sure it is possible at all, but which GC algorithm are you using? How is it configured? Did you consider using a non GC language? Why you want to avoid GC? I suspect this is an XY Problem. You should probably ask about the original problem you are trying to resolve."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":2,"creation_date":1702039312,"post_id":77626398,"comment_id":136851763,"body_markdown":"This seems like an attempt to predict the future.","body":"This seems like an attempt to predict the future."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1702041366,"post_id":77626398,"comment_id":136852052,"body_markdown":"“avoiding any GC activity during a specific timeframe within the program&#39;s execution” would require a non-concurrent GC as otherwise the garbage collector may be already running at the start of the timeframe. Then, you would have to avoid *all* allocations within that timeframe as even the tiniest allocation may trigger a GC and, well, stop the operating system, to prevent all potential external triggers.","body":"“avoiding any GC activity during a specific timeframe within the program&#39;s execution” would require a non-concurrent GC as otherwise the garbage collector may be already running at the start of the timeframe. Then, you would have to avoid <i>all</i> allocations within that timeframe as even the tiniest allocation may trigger a GC and, well, stop the operating system, to prevent all potential external triggers."},{"owner":{"account_id":26122200,"reputation":1,"user_id":19814296,"display_name":"learnFromDaBest"},"score":0,"creation_date":1702041576,"post_id":77626398,"comment_id":136852093,"body_markdown":"I&#39;m afraid I won&#39;t be able to give more information about the project, but won&#39;t it suffice to have the system continually log the memory occupied by both the young and old generations, and then just check if with the new code, it trends towards occupying more memory in the heap? If there was any significant change, then it would be detectable using the logged stats? I might be totally wrong here though since I am still a beginner. Is there even a way to log memory occupied in old/young generations?","body":"I&#39;m afraid I won&#39;t be able to give more information about the project, but won&#39;t it suffice to have the system continually log the memory occupied by both the young and old generations, and then just check if with the new code, it trends towards occupying more memory in the heap? If there was any significant change, then it would be detectable using the logged stats? I might be totally wrong here though since I am still a beginner. Is there even a way to log memory occupied in old/young generations?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1702048286,"post_id":77626398,"comment_id":136853281,"body_markdown":"Java by design shields the programmer from memory management. You can hack your way to get the information you are asking, but still probably fail to achieve your objective. You should rethink the approach in terms of your objectives. Tell us why are you trying to avoid GC.","body":"Java by design shields the programmer from memory management. You can hack your way to get the information you are asking, but still probably fail to achieve your objective. You should rethink the approach in terms of your objectives. Tell us why are you trying to avoid GC."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1702052713,"post_id":77626398,"comment_id":136854150,"body_markdown":"By design, Java is not built to let you tinker with the memory management. If you have to, for whatever reason, Java is the wrong language. For some cases it might be sufficient to go with some kind of real time java https://www.rtsj.org/","body":"By design, Java is not built to let you tinker with the memory management. If you have to, for whatever reason, Java is the wrong language. For some cases it might be sufficient to go with some kind of real time java <a href=\"https://www.rtsj.org/\" rel=\"nofollow noreferrer\">rtsj.org</a>"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1702054476,"post_id":77626398,"comment_id":136854444,"body_markdown":"It seems you are assuming that a piece of code will always allocate the same amount of memory, so running it a single time and record the memory allocations will tell you something. That’s debunkable with trivial examples, how much memory will `new byte[someVariable]` allocate? And what about `for(int i = 0; i &lt; otherVariable; i++) list.add(new Object());`? (Even if you know `otherVariable`, you have to know the actual list type to predict what `add` may allocate internally (which may also depend on the initial capacity the list had before the code). And `HashMap.put` depends on the hashcode…","body":"It seems you are assuming that a piece of code will always allocate the same amount of memory, so running it a single time and record the memory allocations will tell you something. That’s debunkable with trivial examples, how much memory will <code>new byte[someVariable]</code> allocate? And what about <code>for(int i = 0; i &lt; otherVariable; i++) list.add(new Object());</code>? (Even if you know <code>otherVariable</code>, you have to know the actual list type to predict what <code>add</code> may allocate internally (which may also depend on the initial capacity the list had before the code). And <code>HashMap.put</code> depends on the hashcode…"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1702063932,"post_id":77626398,"comment_id":136855764,"body_markdown":"Why do you need this? Do you want to avoid GC pauses/latency in a specific timeframe? If so, you might be more successful by actually tuning/switching to a different GC (e.g. ZGC).","body":"Why do you need this? Do you want to avoid GC pauses/latency in a specific timeframe? If so, you might be more successful by actually tuning/switching to a different GC (e.g. ZGC)."}],"owner":{"account_id":26122200,"reputation":1,"user_id":19814296,"display_name":"learnFromDaBest"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702037925,"creation_date":1702036853,"question_id":77626398,"body_markdown":"I&#39;m currently implementing some revisions in my ongoing project and I&#39;m curious about their potential impact on garbage collection metrics. Specifically, I&#39;m interested in continuing a custom paradigm for the project, that is, avoiding any GC activity during a specific timeframe within the program&#39;s execution. To achieve this, I&#39;d like to gauge whether the new code modifications bring me closer to a potential garbage collection occurrence during a specific time period. Are there any helpful tools available for this purpose? Any suggestions on specific statistics I should be tracking or monitoring?\r\n\r\nIn my initial attempts to address this challenge, I implemented logging mechanisms to capture memory data in both the young and old generations after each garbage collection cycle. This approach proved relatively straightforward to implement in Java using the available methods. However, I have doubts regarding the adequacy of this approach since the process consistently avoids initiating garbage collection during the specific timeframe of interest. Consequently, the collected statistics reflect historical data from a period preceding the targeted timeframe and fail to provide any insights into the current proximity to a potential garbage collection event.","title":"How to tell how close we are to a GC for java processes?","body":"<p>I'm currently implementing some revisions in my ongoing project and I'm curious about their potential impact on garbage collection metrics. Specifically, I'm interested in continuing a custom paradigm for the project, that is, avoiding any GC activity during a specific timeframe within the program's execution. To achieve this, I'd like to gauge whether the new code modifications bring me closer to a potential garbage collection occurrence during a specific time period. Are there any helpful tools available for this purpose? Any suggestions on specific statistics I should be tracking or monitoring?</p>\n<p>In my initial attempts to address this challenge, I implemented logging mechanisms to capture memory data in both the young and old generations after each garbage collection cycle. This approach proved relatively straightforward to implement in Java using the available methods. However, I have doubts regarding the adequacy of this approach since the process consistently avoids initiating garbage collection during the specific timeframe of interest. Consequently, the collected statistics reflect historical data from a period preceding the targeted timeframe and fail to provide any insights into the current proximity to a potential garbage collection event.</p>\n"},{"tags":["java","floating-point","java-17","strictfp"],"comments":[{"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1689235156,"post_id":76674101,"comment_id":135185303,"body_markdown":"What are your examples?","body":"What are your examples?"},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1689264972,"post_id":76674101,"comment_id":135192397,"body_markdown":"+1, I appreciate that @DuncG, but will not be able to answer right away.  I&#39;ll need to dig some to find sub-calculations where differences are coming up in a complex application.  I&#39;d even need to bring in another team member because I only have access to intel at the moment.  We do see consistent differences in end results, though.","body":"+1, I appreciate that @DuncG, but will not be able to answer right away.  I&#39;ll need to dig some to find sub-calculations where differences are coming up in a complex application.  I&#39;d even need to bring in another team member because I only have access to intel at the moment.  We do see consistent differences in end results, though."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1689318221,"post_id":76674101,"comment_id":135199187,"body_markdown":"Being strict and using intrinsics (i.e. dedicated FPU instructions) is not a contradiction. It’s all about not using the old x87 FPU but SSE2 which has been introduced 2 decades ago. In case of `java.lang.Math` and the reference implementation, this is the case [since Java&#160;15](https://bugs.openjdk.org/browse/JDK-7175279). This applies to the HotSpot JVM and all implementations building on it or following suit. But as long as [the specification](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html) says that differences are allowed, you have to be prepared for them…","body":"Being strict and using intrinsics (i.e. dedicated FPU instructions) is not a contradiction. It’s all about not using the old x87 FPU but SSE2 which has been introduced 2 decades ago. In case of <code>java.lang.Math</code> and the reference implementation, this is the case <a href=\"https://bugs.openjdk.org/browse/JDK-7175279\" rel=\"nofollow noreferrer\">since Java 15</a>. This applies to the HotSpot JVM and all implementations building on it or following suit. But as long as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">the specification</a> says that differences are allowed, you have to be prepared for them…"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702037860,"creation_date":1702026914,"answer_id":77625516,"question_id":76674101,"body_markdown":"First of all, `strictfp` is not a flag, this is a Java keyword ensuring the same calculation results on every platform while doing operations over floating-point variables (`float` and `double`).\r\n\r\nAs of your question, there are two major PRs in OpenJDK involving the changes for JEP 306\r\n- [8244146: javac changes for JEP 306][1]\r\n- [8266530: HotSpot changes for JEP 306][2]\r\n\r\nIf you look into the first one, especially into [StrictMath][3] you&#39;ll see that it now delegates directly to `j.l.Math` and the comment about `strictfp` semantics is now removed (along with `strictfp` keyword in OpenJDK codebase).\r\nMoreover, starting from Java 17 `javac` issues an explicit warning for `strictfp` keyword (see `compiler.properties`:\r\n\r\n&gt; as of release 17, **all floating-point expressions are evaluated strictly** and `strictfp` is not required\r\n\r\nSo for the question\r\n&gt; Does this mean that java.lang.Math can be counted on to behave exactly the same as the analogous methods in StrictMath\r\n\r\nThe answer is &quot;yes&quot;, for some methods e.g. `Math.sinh(double)` delegate to `StrictMath.sinh(double)` (and later on to `FdLibm.Sinh.compute(dobule)`) and e.g. method `StrictMath.toRadians(double)` delegates to `Math.toRadians(double)`. Eventually for floating-point variables it does not matter whether you call a method of `Math` or `StrictMath`, the same code is executed under the hood.\r\n\r\nAs of this part of the same question:\r\n&gt; i.e., that java.lang.Math methods can no longer be replaced by the JVM with intrinsics as used to be allowed\r\n\r\nThe PRs does not impose any changes regarding intrinsics which are platform-specific and applied by JVM at runtime regardless of whether operation is strict or not. Moreover, as [@Holger][4] pointed out, there is no contradiction between strictness and intrinsics.\r\n\r\n&gt; Does it also mean that there should no longer be any differences in floating point math results among different architectures, no matter which library is used?\r\n\r\nThe answer is &quot;yes as of Java 17 or newer&quot;. Prior to it there could be difference in results, see https://stackoverflow.com/a/22335100/12473843. Before Java 17 if an operation over floating-point variable was not strict the standard assumed that\r\n&gt; a calculation might produce &quot;the correct answer&quot; in situations where exclusive use of the float value set or double value set might result in overflow or underflow.\r\nBut as soon as for now the semantics is always strict you get the same result on all platforms.\r\n\r\nSee also [8268224: Cleanup references to &quot;strictfp&quot; in core lib comments][5]\r\n\r\nP.S.\r\n&gt; we do see differences in today&#39;s code between Apple Silicon vs Intel\r\n\r\nI think it&#39;s quite natural for compiler to produce different code for different platforms, the question here is whether you see different results of computations on mentioned platforms.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/pull/3831\r\n  [2]: https://github.com/openjdk/jdk/pull/3891\r\n  [3]: https://github.com/openjdk/jdk/pull/3831/files#diff-a854e2217535f706e7a7cb2f4ecd3b52c4244d6ddac32ea67b40d65d9e2a0658L210-L231\r\n  [4]: https://stackoverflow.com/users/2711488/holger\r\n  [5]: https://github.com/openjdk/jdk/pull/4348","title":"Is there still a difference between Math and StrictMath after Java 17 and JEP 306?","body":"<p>First of all, <code>strictfp</code> is not a flag, this is a Java keyword ensuring the same calculation results on every platform while doing operations over floating-point variables (<code>float</code> and <code>double</code>).</p>\n<p>As of your question, there are two major PRs in OpenJDK involving the changes for JEP 306</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/pull/3831\" rel=\"nofollow noreferrer\">8244146: javac changes for JEP 306</a></li>\n<li><a href=\"https://github.com/openjdk/jdk/pull/3891\" rel=\"nofollow noreferrer\">8266530: HotSpot changes for JEP 306</a></li>\n</ul>\n<p>If you look into the first one, especially into <a href=\"https://github.com/openjdk/jdk/pull/3831/files#diff-a854e2217535f706e7a7cb2f4ecd3b52c4244d6ddac32ea67b40d65d9e2a0658L210-L231\" rel=\"nofollow noreferrer\">StrictMath</a> you'll see that it now delegates directly to <code>j.l.Math</code> and the comment about <code>strictfp</code> semantics is now removed (along with <code>strictfp</code> keyword in OpenJDK codebase).\nMoreover, starting from Java 17 <code>javac</code> issues an explicit warning for <code>strictfp</code> keyword (see <code>compiler.properties</code>:</p>\n<blockquote>\n<p>as of release 17, <strong>all floating-point expressions are evaluated strictly</strong> and <code>strictfp</code> is not required</p>\n</blockquote>\n<p>So for the question</p>\n<blockquote>\n<p>Does this mean that java.lang.Math can be counted on to behave exactly the same as the analogous methods in StrictMath</p>\n</blockquote>\n<p>The answer is &quot;yes&quot;, for some methods e.g. <code>Math.sinh(double)</code> delegate to <code>StrictMath.sinh(double)</code> (and later on to <code>FdLibm.Sinh.compute(dobule)</code>) and e.g. method <code>StrictMath.toRadians(double)</code> delegates to <code>Math.toRadians(double)</code>. Eventually for floating-point variables it does not matter whether you call a method of <code>Math</code> or <code>StrictMath</code>, the same code is executed under the hood.</p>\n<p>As of this part of the same question:</p>\n<blockquote>\n<p>i.e., that java.lang.Math methods can no longer be replaced by the JVM with intrinsics as used to be allowed</p>\n</blockquote>\n<p>The PRs does not impose any changes regarding intrinsics which are platform-specific and applied by JVM at runtime regardless of whether operation is strict or not. Moreover, as <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a> pointed out, there is no contradiction between strictness and intrinsics.</p>\n<blockquote>\n<p>Does it also mean that there should no longer be any differences in floating point math results among different architectures, no matter which library is used?</p>\n</blockquote>\n<p>The answer is &quot;yes as of Java 17 or newer&quot;. Prior to it there could be difference in results, see <a href=\"https://stackoverflow.com/a/22335100/12473843\">https://stackoverflow.com/a/22335100/12473843</a>. Before Java 17 if an operation over floating-point variable was not strict the standard assumed that</p>\n<blockquote>\n<p>a calculation might produce &quot;the correct answer&quot; in situations where exclusive use of the float value set or double value set might result in overflow or underflow.\nBut as soon as for now the semantics is always strict you get the same result on all platforms.</p>\n</blockquote>\n<p>See also <a href=\"https://github.com/openjdk/jdk/pull/4348\" rel=\"nofollow noreferrer\">8268224: Cleanup references to &quot;strictfp&quot; in core lib comments</a></p>\n<p>P.S.</p>\n<blockquote>\n<p>we do see differences in today's code between Apple Silicon vs Intel</p>\n</blockquote>\n<p>I think it's quite natural for compiler to produce different code for different platforms, the question here is whether you see different results of computations on mentioned platforms.</p>\n"}],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1702037860,"creation_date":1689192188,"question_id":76674101,"body_markdown":"[JEP 306][1], implemented in Java 17, provides always-strict floating point semantics, deprecating the `strictfp` flag.  Does this mean that `java.lang.Math` can be counted on to behave exactly the same as the analogous methods in `StrictMath` (i.e., that `java.lang.Math` methods can no longer be replaced by the JVM with intrinsics as used to be allowed)?  Does it also mean that there should no longer be any differences in floating point math results among different architectures, no matter which library is used?\r\n\r\nI&#39;m curious if I&#39;m misunderstanding the new Java 17 feature, since we do see differences in today&#39;s code between Apple Silicon vs Intel.\r\n\r\n  [1]: https://openjdk.org/jeps/306","title":"Is there still a difference between Math and StrictMath after Java 17 and JEP 306?","body":"<p><a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306</a>, implemented in Java 17, provides always-strict floating point semantics, deprecating the <code>strictfp</code> flag.  Does this mean that <code>java.lang.Math</code> can be counted on to behave exactly the same as the analogous methods in <code>StrictMath</code> (i.e., that <code>java.lang.Math</code> methods can no longer be replaced by the JVM with intrinsics as used to be allowed)?  Does it also mean that there should no longer be any differences in floating point math results among different architectures, no matter which library is used?</p>\n<p>I'm curious if I'm misunderstanding the new Java 17 feature, since we do see differences in today's code between Apple Silicon vs Intel.</p>\n"},{"tags":["java","unit-testing","testing","sleep"],"comments":[{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1260294930,"post_id":1868637,"comment_id":1765802,"body_markdown":"this could be viewed as a casestudy for unit testing with mocking","body":"this could be viewed as a casestudy for unit testing with mocking"},{"owner":{"account_id":8891,"reputation":3425,"user_id":16193,"accept_rate":88,"display_name":"Daniel Hiller"},"score":0,"creation_date":1260343998,"post_id":1868637,"comment_id":1770286,"body_markdown":"Do not use Thread.sleep(), use a wait() approach. Thread.sleep() uses CPU cycles, while wait() does not.","body":"Do not use Thread.sleep(), use a wait() approach. Thread.sleep() uses CPU cycles, while wait() does not."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260294576,"creation_date":1260294576,"answer_id":1868665,"question_id":1868637,"body_markdown":"Make the sleeping time configurable through a setter, and provide a default value. So in your unit tests, call the setter with a small argument (1 for example), and then execute the method that would call `Thread.sleep()`.\r\n\r\nAnother similar approach is to make if configurable via a boolean, so that `Thread.sleep()` isn&#39;t called at all if the `boolean` is set to `false`.","title":"Testing with Thread.sleep","body":"<p>Make the sleeping time configurable through a setter, and provide a default value. So in your unit tests, call the setter with a small argument (1 for example), and then execute the method that would call <code>Thread.sleep()</code>.</p>\n\n<p>Another similar approach is to make if configurable via a boolean, so that <code>Thread.sleep()</code> isn't called at all if the <code>boolean</code> is set to <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260294944,"creation_date":1260294577,"answer_id":1868666,"question_id":1868637,"body_markdown":"Create some retry delay type that represents the policy for retry delays. Invoke some method on the policy type for the delay. Mock it as you like. No conditional logic, or `true`/`false` flags. Just inject the type that you want.\r\n\r\nIn ConnectRetryPolicy.java\r\n\r\n    public interface ConnectRetryPolicy {\r\n        void doRetryDelay();\r\n    }\r\n\r\nIn SleepConnectRetryPolicy.java\r\n\r\n    public class final SleepConnectRetryPolicy implements ConnectRetryPolicy {\r\n        private final int delay;\r\n        public SleepConnectRetryPolicy(final int delay) {\r\n            this.delay = delay;\r\n        }\r\n    \r\n        @Override\r\n        public void doRetryDelay() {\r\n            try {\r\n                Thread.sleep(delay);\r\n            } catch (InterruptedException ie) {\r\n                log.error(&quot;connection delay sleep interrupted&quot;, ie);\r\n            }\r\n        }\r\n    }\r\n\r\nIn MockConnectRetryPolicy.java\r\n\r\n    public final class MockConnectRetryPolicy implements ConnectRetryPolicy {    \r\n        @Override\r\n        public void doRetryDelay() {\r\n            // no delay\r\n        }\r\n    }\r\n","title":"Testing with Thread.sleep","body":"<p>Create some retry delay type that represents the policy for retry delays. Invoke some method on the policy type for the delay. Mock it as you like. No conditional logic, or <code>true</code>/<code>false</code> flags. Just inject the type that you want.</p>\n\n<p>In ConnectRetryPolicy.java</p>\n\n<pre><code>public interface ConnectRetryPolicy {\n    void doRetryDelay();\n}\n</code></pre>\n\n<p>In SleepConnectRetryPolicy.java</p>\n\n<pre><code>public class final SleepConnectRetryPolicy implements ConnectRetryPolicy {\n    private final int delay;\n    public SleepConnectRetryPolicy(final int delay) {\n        this.delay = delay;\n    }\n\n    @Override\n    public void doRetryDelay() {\n        try {\n            Thread.sleep(delay);\n        } catch (InterruptedException ie) {\n            log.error(\"connection delay sleep interrupted\", ie);\n        }\n    }\n}\n</code></pre>\n\n<p>In MockConnectRetryPolicy.java</p>\n\n<pre><code>public final class MockConnectRetryPolicy implements ConnectRetryPolicy {    \n    @Override\n    public void doRetryDelay() {\n        // no delay\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1260294627,"creation_date":1260294627,"answer_id":1868671,"question_id":1868637,"body_markdown":"It is usually a good idea to delegate time-related functionality to a separate component. That include getting the current time, as well as delays like Thread.sleep(). This way it is easy to substitute this component with mock during testing, as well as switch to a different implementation.","title":"Testing with Thread.sleep","body":"<p>It is usually a good idea to delegate time-related functionality to a separate component. That include getting the current time, as well as delays like Thread.sleep(). This way it is easy to substitute this component with mock during testing, as well as switch to a different implementation.</p>\n"},{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345623594,"creation_date":1345623594,"answer_id":12069000,"question_id":1868637,"body_markdown":"Eugene is right, make your own component to wrap the system that is out of your control Just done this myself thought I&#39;d share, this is known as &#39;[SelfShunt][1]&#39; check this out:\r\n\r\n`Generator` is a class that when you call `getId()` it returns the current system time.\r\n\r\n    public class GeneratorTests implements SystemTime {\r\n    \r\n    \tprivate Generator cut;\r\n    \tprivate long currentSystemTime;\r\n    \r\n        @Before\r\n    \tpublic void setup(){\r\n    \t\tcut = Generator.getInstance(this);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testGetId_returnedUniqueId(){\r\n    \t\tcurrentSystemTime = 123;\r\n    \r\n    \t\tString id = cut.getId();\r\n    \r\n    \t\tassertTrue(id.equals(&quot;123&quot;));\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic long currentTimeMillis() {\r\n    \t\treturn currentSystemTime;\r\n    \t}\r\n    }\r\n\r\nWe make the test class &#39;SelfShunt&#39; and become the SystemTime component that way we have full control of what the time is.\r\n\r\n    public class BlundellSystemTime implements SystemTime {\r\n    \r\n    \t@Override\r\n    \tpublic long currentTimeMillis(){\r\n    \t\treturn System.currentTimeMillis();\r\n    \t}\r\n    }\r\n\r\nWe wrap the component that isn&#39;t under our control.\r\n\r\n    public interface SystemTime {\r\n    \r\n    \tlong currentTimeMillis();\r\n    \r\n    }\r\n\r\nThen make an interface so our test can &#39;SelfShunt&#39;\r\n\r\n  [1]: http://c2.com/cgi/wiki?SelfShuntPattern","title":"Testing with Thread.sleep","body":"<p>Eugene is right, make your own component to wrap the system that is out of your control Just done this myself thought I'd share, this is known as '<a href=\"http://c2.com/cgi/wiki?SelfShuntPattern\" rel=\"nofollow\">SelfShunt</a>' check this out:</p>\n\n<p><code>Generator</code> is a class that when you call <code>getId()</code> it returns the current system time.</p>\n\n<pre><code>public class GeneratorTests implements SystemTime {\n\n    private Generator cut;\n    private long currentSystemTime;\n\n    @Before\n    public void setup(){\n        cut = Generator.getInstance(this);\n    }\n\n    @Test\n    public void testGetId_returnedUniqueId(){\n        currentSystemTime = 123;\n\n        String id = cut.getId();\n\n        assertTrue(id.equals(\"123\"));\n    }\n\n    @Override\n    public long currentTimeMillis() {\n        return currentSystemTime;\n    }\n}\n</code></pre>\n\n<p>We make the test class 'SelfShunt' and become the SystemTime component that way we have full control of what the time is.</p>\n\n<pre><code>public class BlundellSystemTime implements SystemTime {\n\n    @Override\n    public long currentTimeMillis(){\n        return System.currentTimeMillis();\n    }\n}\n</code></pre>\n\n<p>We wrap the component that isn't under our control.</p>\n\n<pre><code>public interface SystemTime {\n\n    long currentTimeMillis();\n\n}\n</code></pre>\n\n<p>Then make an interface so our test can 'SelfShunt'</p>\n"},{"tags":[],"owner":{"account_id":1962407,"reputation":545,"user_id":1763562,"display_name":"Big Kahuna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366230654,"creation_date":1366230654,"answer_id":16069703,"question_id":1868637,"body_markdown":"I would argue why are you trying to test Thread.sleep. It seems to be me you&#39;re trying to test the behaviour as a consequence of some event. \r\n\r\ni.e. what happens if:\r\n\r\n- connection timeout\r\n- connection dropped\r\n\r\nIf you model code based on events then you can test what should happen should a particular event occurred rather than having to come up with a construct that masks the concurrent API calls. Else what are you really testing? Are you testing how your application reacts to different stimuli or simply testing the JVM is working correctly? \r\n\r\nI agree with the other readers that sometimes it&#39;s useful to put an abstraction around any code time or thread related i.e. Virtual clock http://c2.com/cgi/wiki?VirtualClock so you can mock out any timing/concurrent behaviour and concentrate on the behaviour of the unit itself.\r\n\r\nIt also sounds like you should adopt a state pattern so you object has specific behaviour depending on what state it&#39;s in. i.e AwaitingConnectionState, ConnectionDroppedState. Transition to different states would be via the different events i.e. timeout, dropped connection etc. Not sure if this overkill for your needs but it certainly removes a lot of conditional logic which can make the code more complicated and unclear.\r\n\r\nIf you approach this way, then you can still test behaviour at the unit level whilst still testing in situ with an integration test or acceptance test later. ","title":"Testing with Thread.sleep","body":"<p>I would argue why are you trying to test Thread.sleep. It seems to be me you're trying to test the behaviour as a consequence of some event. </p>\n\n<p>i.e. what happens if:</p>\n\n<ul>\n<li>connection timeout</li>\n<li>connection dropped</li>\n</ul>\n\n<p>If you model code based on events then you can test what should happen should a particular event occurred rather than having to come up with a construct that masks the concurrent API calls. Else what are you really testing? Are you testing how your application reacts to different stimuli or simply testing the JVM is working correctly? </p>\n\n<p>I agree with the other readers that sometimes it's useful to put an abstraction around any code time or thread related i.e. Virtual clock <a href=\"http://c2.com/cgi/wiki?VirtualClock\" rel=\"nofollow\">http://c2.com/cgi/wiki?VirtualClock</a> so you can mock out any timing/concurrent behaviour and concentrate on the behaviour of the unit itself.</p>\n\n<p>It also sounds like you should adopt a state pattern so you object has specific behaviour depending on what state it's in. i.e AwaitingConnectionState, ConnectionDroppedState. Transition to different states would be via the different events i.e. timeout, dropped connection etc. Not sure if this overkill for your needs but it certainly removes a lot of conditional logic which can make the code more complicated and unclear.</p>\n\n<p>If you approach this way, then you can still test behaviour at the unit level whilst still testing in situ with an integration test or acceptance test later. </p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395823728,"creation_date":1395823728,"answer_id":22655616,"question_id":1868637,"body_markdown":"I just faced a similar issue and I created a `Sleeper` interface to abstract this away:\r\n\r\n    public interface Sleeper\r\n    {\r\n        void sleep( long millis ) throws InterruptedException;\r\n    }\r\n\r\nThe default implementation uses `Thread.sleep()`:\r\n\r\n    public class ThreadSleeper implements Sleeper\r\n    {\r\n    \t@Override\r\n    \tpublic void sleep( long millis ) throws InterruptedException\r\n    \t{\r\n    \t\tThread.sleep( millis );\r\n    \t}\r\n    }\r\n\r\nIn my unit tests, I inject a `FixedDateTimeAdvanceSleeper`:\r\n\r\n    public class FixedDateTimeAdvanceSleeper implements Sleeper\r\n    {\r\n    \t@Override\r\n    \tpublic void sleep( long millis ) throws InterruptedException\r\n    \t{\r\n    \t\tDateTimeUtils.setCurrentMillisFixed( DateTime.now().getMillis() + millis );\r\n    \t}\r\n    }\r\n\r\nThis allows me to query the time in a unit test:\r\n\r\n    assertThat( new DateTime( DateTimeUtils.currentTimeMillis() ) ).isEqualTo( new DateTime( &quot;2014-03-27T00:00:30&quot; ) );\r\n\r\nNote that you need to fix the time first using `DateTimeUtils.setCurrentMillisFixed( new DateTime( &quot;2014-03-26T09:37:13&quot; ).getMillis() );` at the start of your test and restore the time again after the test using `DateTimeUtils.setCurrentMillisSystem();`","title":"Testing with Thread.sleep","body":"<p>I just faced a similar issue and I created a <code>Sleeper</code> interface to abstract this away:</p>\n\n<pre><code>public interface Sleeper\n{\n    void sleep( long millis ) throws InterruptedException;\n}\n</code></pre>\n\n<p>The default implementation uses <code>Thread.sleep()</code>:</p>\n\n<pre><code>public class ThreadSleeper implements Sleeper\n{\n    @Override\n    public void sleep( long millis ) throws InterruptedException\n    {\n        Thread.sleep( millis );\n    }\n}\n</code></pre>\n\n<p>In my unit tests, I inject a <code>FixedDateTimeAdvanceSleeper</code>:</p>\n\n<pre><code>public class FixedDateTimeAdvanceSleeper implements Sleeper\n{\n    @Override\n    public void sleep( long millis ) throws InterruptedException\n    {\n        DateTimeUtils.setCurrentMillisFixed( DateTime.now().getMillis() + millis );\n    }\n}\n</code></pre>\n\n<p>This allows me to query the time in a unit test:</p>\n\n<pre><code>assertThat( new DateTime( DateTimeUtils.currentTimeMillis() ) ).isEqualTo( new DateTime( \"2014-03-27T00:00:30\" ) );\n</code></pre>\n\n<p>Note that you need to fix the time first using <code>DateTimeUtils.setCurrentMillisFixed( new DateTime( \"2014-03-26T09:37:13\" ).getMillis() );</code> at the start of your test and restore the time again after the test using <code>DateTimeUtils.setCurrentMillisSystem();</code></p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702037796,"creation_date":1702037796,"answer_id":77626472,"question_id":1868637,"body_markdown":"For these kinds of cases, i implement a default interface that all sleepy classes implement:\r\n\r\n```java\r\npublic interface ISleep {\r\n\r\n    /**\r\n     * Causes the currently executing thread to sleep\r\n     * @param milliseconds the length of time to sleep in milliseconds\r\n     * @throws InterruptedException if any thread has interrupted the current thread\r\n     */\r\n    default void sleep(long milliseconds) throws InterruptedException {\r\n        Thread.sleep(milliseconds);\r\n    }\r\n}\r\n```\r\n\r\nThen use this method instead of `Thread.sleep()` to enable testing:\r\n\r\n```java\r\nclass MyClass implements ISleep {\r\n\r\n    void sleepyMethod() {\r\n        while(stuffNotFinished) {\r\n            doSomething();\r\n            sleep(1000);\r\n        }\r\n    }\r\n\r\n    public void doSomething() { /* ... */}\r\n\r\n}\r\n```\r\n\r\nNow, writing fast tests is easy as pie, as you can simply mock the call to sleep() to return immediately (example using Mockito):\r\n\r\n```\r\n@Test void sleepyMethod_callsDoSomething() {\r\n    var objectUnderTest = Mockito.spy(new MyClass());\r\n    Mockito.doNothing().when(objectUnderTest).sleep(anyLong());\r\n\r\n    objectUnderTest.sleepyMethod();\r\n\r\n    Mockito.verify(objectUnderTest).doSomething();\r\n}","title":"Testing with Thread.sleep","body":"<p>For these kinds of cases, i implement a default interface that all sleepy classes implement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ISleep {\n\n    /**\n     * Causes the currently executing thread to sleep\n     * @param milliseconds the length of time to sleep in milliseconds\n     * @throws InterruptedException if any thread has interrupted the current thread\n     */\n    default void sleep(long milliseconds) throws InterruptedException {\n        Thread.sleep(milliseconds);\n    }\n}\n</code></pre>\n<p>Then use this method instead of <code>Thread.sleep()</code> to enable testing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass implements ISleep {\n\n    void sleepyMethod() {\n        while(stuffNotFinished) {\n            doSomething();\n            sleep(1000);\n        }\n    }\n\n    public void doSomething() { /* ... */}\n\n}\n</code></pre>\n<p>Now, writing fast tests is easy as pie, as you can simply mock the call to sleep() to return immediately (example using Mockito):</p>\n<pre><code>@Test void sleepyMethod_callsDoSomething() {\n    var objectUnderTest = Mockito.spy(new MyClass());\n    Mockito.doNothing().when(objectUnderTest).sleep(anyLong());\n\n    objectUnderTest.sleepyMethod();\n\n    Mockito.verify(objectUnderTest).doSomething();\n}\n</code></pre>\n"}],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32529,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":1868671,"answer_count":7,"score":15,"last_activity_date":1702037796,"creation_date":1260294292,"question_id":1868637,"body_markdown":"What are the recommended approaches to using `Thread.sleep()` to speed up tests.\r\n\r\nI am testing a network library with a retry functionality when connections are dropped or timeout errors occur, etc.  The library however, uses a `Thread.sleep()` between the retries (so it won&#39;t connect thousands times while the server is restarting).  The call is slowing the unit tests significantly, and I wonder what the options are to override it.\r\n\r\nNote, I&#39;m open to actually changing the code, or using a mocking framework to mock Thread.sleep(), but would like to hear your opinions/recommendation first.","title":"Testing with Thread.sleep","body":"<p>What are the recommended approaches to using <code>Thread.sleep()</code> to speed up tests.</p>\n\n<p>I am testing a network library with a retry functionality when connections are dropped or timeout errors occur, etc.  The library however, uses a <code>Thread.sleep()</code> between the retries (so it won't connect thousands times while the server is restarting).  The call is slowing the unit tests significantly, and I wonder what the options are to override it.</p>\n\n<p>Note, I'm open to actually changing the code, or using a mocking framework to mock Thread.sleep(), but would like to hear your opinions/recommendation first.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1672226943,"post_id":74939220,"comment_id":132245588,"body_markdown":"maybe you can remove `oauth2ResourceServer()` that usage in `http.authorizeRequests()` and retry ?","body":"maybe you can remove <code>oauth2ResourceServer()</code> that usage in <code>http.authorizeRequests()</code> and retry ?"},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1672227322,"post_id":74939220,"comment_id":132245652,"body_markdown":"Don&#39;t I have to use  oauth2ResourceServer() for integration? It is stated in the document that I should use it this way.\nHow do I get Keycloak oauth2 integration if I remove &quot;oauth2ResourceServer()&quot;method? @muhammedozbilici","body":"Don&#39;t I have to use  oauth2ResourceServer() for integration? It is stated in the document that I should use it this way. How do I get Keycloak oauth2 integration if I remove &quot;oauth2ResourceServer()&quot;method? @muhammedozbilici"},{"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1679624134,"post_id":74939220,"comment_id":133758867,"body_markdown":"you need to decide if your app is primarly an OAuth2 client or an OAuth2 resource server: is it serving templates (with Tymeleaf, JSF or alike) or a REST API? I suggest you read this [OAuth2 essentials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#1-oauth2-essentials) I wrote as introduction to my tutorials.","body":"you need to decide if your app is primarly an OAuth2 client or an OAuth2 resource server: is it serving templates (with Tymeleaf, JSF or alike) or a REST API? I suggest you read this <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#1-oauth2-essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> I wrote as introduction to my tutorials."}],"answers":[{"tags":[],"owner":{"account_id":1828999,"reputation":679,"user_id":1660977,"accept_rate":92,"display_name":"Marco Klein"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679613219,"creation_date":1679613219,"answer_id":75828742,"question_id":74939220,"body_markdown":"Maybe, you are missing the oauth2-resource-server dependency in your `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThat actually appends the required `DefaultBearerTokenResolver` Bean automatically and should work out of the box.","title":"ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.BearerTokenResolver","body":"<p>Maybe, you are missing the oauth2-resource-server dependency in your <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n  &lt;version&gt;6.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That actually appends the required <code>DefaultBearerTokenResolver</code> Bean automatically and should work out of the box.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1702037779,"creation_date":1679626428,"answer_id":75829647,"question_id":74939220,"body_markdown":"First, you should decide if your app is primarily an OAuth2 client with login or an OAuth2 resource server. Here you are mixing client with login (registration with `authorization_code` flow) and resource server configuration in the same security filter chain. This is something you should not be doing. Security mechanisms are too different:\r\n- `oauth2Login` (`authorization_code` flow) relies on sessions, requires CSRF protection and you usually expect `302 redirect to login` to unauthorized requests\r\n- `oauth2ResourceServer` relies on access tokens, can be stateless, without CSRF protection and should respond with `401 unauthorized`\r\n\r\n## `oauth2resourceServer` (REST API)\r\n[Complete tutorial][2]. \r\n\r\nResource servers don&#39;t care about login nor OAuth2 flows which are client concerns. It only cares if a request is authorized (has a valid access token), if this token should be introspected or decoded, and if it should grant access to the requested resources based on the token claims.\r\n\r\nUse Postman or any OAuth2 client which can authorize its requests and send any type of request (not just GET, but also POST, PUT and DELETE) to try your running API.\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n```java\r\n@SpringBootApplication\r\npublic class ResourceServerMinimalApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ResourceServerMinimalApplication.class, args);\r\n\t}\r\n\r\n\t@Order(Ordered.HIGHEST_PRECEDENCE)\r\n\t@Bean\r\n\tSecurityFilterChain resourceServerSecurityFilterChain(\r\n\t\t\tHttpSecurity http,\r\n\t\t\t@Value(&quot;${resource-server.cors.allowed-origins:}#{T(java.util.Collections).emptyList()}&quot;) List&lt;String&gt; allowedOrigins)\r\n\t\t\tthrows Exception {\r\n\t\thttp.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n\t\thttp.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\t\thttp.csrf(csrf -&gt; csrf.disable());\r\n\t\thttp.exceptionHandling(handeling -&gt; handeling.authenticationEntryPoint((request, response, authException) -&gt; {\r\n\t\t\tresponse.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\r\n\t\t\tresponse.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n\t\t}));\r\n\t\thttp.authorizeHttpRequests().anyRequest().authenticated();\r\n\t\thttp.cors(cors -&gt; {\r\n\t\t\tif (allowedOrigins.isEmpty()) {\r\n\t\t\t\tcors.disable();\r\n\t\t\t} else {\r\n\t\t\t\tcors.configurationSource(corsConfig(allowedOrigins));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\tCorsConfigurationSource corsConfig(List&lt;String&gt; allowedOrigins) {\r\n\t\tfinal var source = new UrlBasedCorsConfigurationSource();\r\n\r\n\t\tfinal var configuration = new CorsConfiguration();\r\n\t\tconfiguration.setAllowedOrigins(allowedOrigins);\r\n\t\tconfiguration.setAllowedMethods(List.of(&quot;*&quot;));\r\n\t\tconfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n\t\tconfiguration.setExposedHeaders(List.of(&quot;*&quot;));\r\n\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t\treturn source;\r\n\t}\r\n\r\n\t@RestController\r\n\t@RequestMapping(&quot;/api/v1&quot;)\r\n\tpublic static class GreetingController {\r\n\t\t@GetMapping(&quot;/greet&quot;)\r\n\t\tpublic ResponseEntity&lt;GreetingDto&gt; getGreeting(Authentication auth) {\r\n\t\t\treturn ResponseEntity.ok(new GreetingDto(&quot;Hello %s!&quot;.formatted(auth.getName())));\r\n\t\t}\r\n\r\n\t\tstatic record GreetingDto(String message) {\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://keycloak-url/realms/realm-id\r\n\r\nresource-server:\r\n  cors:\r\n    allowed-origins:\r\n    - http://localhost:4200\r\n```\r\n\r\n## `oauth2Login` \r\nClient using authorization_code flow (gateway configured with `TokenRelay` filter or app with server-side rendered templates like Thymeleaf)\r\n[Complete tutorial][3]. \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n```java\r\n@SpringBootApplication\r\npublic class ClientMinimalApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ClientMinimalApplication.class, args);\r\n\t}\r\n\r\n\t@Order(Ordered.HIGHEST_PRECEDENCE + 1)\r\n\t@Bean\r\n\tSecurityFilterChain clientSecurityFilterChain(HttpSecurity http, ClientRegistrationRepository clientRegistrationRepository) throws Exception {\r\n\t\thttp.oauth2Login();\r\n\t\tfinal var logoutSuccessHandler = new OidcClientInitiatedLogoutSuccessHandler(clientRegistrationRepository);\r\n\t\tlogoutSuccessHandler.setPostLogoutRedirectUri(&quot;{baseUrl}&quot;);\r\n\t\thttp.logout(logout -&gt; logout.logoutSuccessHandler(logoutSuccessHandler));\r\n\t\thttp.cors().disable();\r\n\t\t// sessions are required (enabled by default)\r\n\t\t// CSRF protection is required (enabled by default) because security is based on sessions\r\n\t\thttp.authorizeHttpRequests().requestMatchers(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll() // this is required for unauthenticated users to login\r\n\t\t\t\t.anyRequest().authenticated();\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Controller\r\n\t@RequestMapping\r\n\tpublic static class UiController {\r\n\t\t@GetMapping(&quot;/&quot;)\r\n\t\tpublic RedirectView getIndex() throws URISyntaxException {\r\n\t\t\treturn new RedirectView(&quot;/ui/greet&quot;);\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/ui/greet&quot;)\r\n\t\tpublic String getGreeting(Authentication auth, Model model) throws URISyntaxException {\r\n\t\t\tmodel.addAttribute(&quot;message&quot;, &quot;Hello %s!&quot;.formatted(auth.getName()));\r\n\t\t\treturn &quot;greet&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          keycloak-realm-id:\r\n            issuer-uri: http://keycloak-url/realms/realm-id\r\n        registration:\r\n          keycloak-confidential-user:\r\n            authorization-grant-type: authorization_code\r\n            client-name: a local Keycloak instance\r\n            client-id: client-ui\r\n            client-secret: ${keycloak-secret}\r\n            provider: keycloak-realm-id\r\n            scope: openid,profile,email,offline_access\r\n```\r\n`/src/main/resources/templates/greet.html`:\r\n```html\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;title&gt;Greetings!&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;h1 th:utext=&quot;${message}&quot;&gt;..!..&lt;/h1&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\n## Combining `oauth2Login` and `oauth2ResourceServer`\r\n**If your app exposes both a REST API to be consumed by an OAuth2 client and some other resources to be queried by a browser (without the help of an OAuth2 client lib for a framework like Angular, React or Vue), and only in that case**, define the two different filter chains above and add a `securityMatcher` to the first in order to limit it to the routes it should secure.\r\n\r\nIn the samples provided above, the security filter-chain with the lowest order is the resource server one. Adding something like `http.securityMatcher(&quot;/api/**&quot;);` would do the trick: all other routes will be secured with the client filter-chain which is tried after and will intercept all requests that were not already intercepted by the resource server filter chain.\r\n\r\n[Complete tutorial][4]. \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-client\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_ui","title":"ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.BearerTokenResolver","body":"<p>First, you should decide if your app is primarily an OAuth2 client with login or an OAuth2 resource server. Here you are mixing client with login (registration with <code>authorization_code</code> flow) and resource server configuration in the same security filter chain. This is something you should not be doing. Security mechanisms are too different:</p>\n<ul>\n<li><code>oauth2Login</code> (<code>authorization_code</code> flow) relies on sessions, requires CSRF protection and you usually expect <code>302 redirect to login</code> to unauthorized requests</li>\n<li><code>oauth2ResourceServer</code> relies on access tokens, can be stateless, without CSRF protection and should respond with <code>401 unauthorized</code></li>\n</ul>\n<h2><code>oauth2resourceServer</code> (REST API)</h2>\n<p><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">Complete tutorial</a>.</p>\n<p>Resource servers don't care about login nor OAuth2 flows which are client concerns. It only cares if a request is authorized (has a valid access token), if this token should be introspected or decoded, and if it should grant access to the requested resources based on the token claims.</p>\n<p>Use Postman or any OAuth2 client which can authorize its requests and send any type of request (not just GET, but also POST, PUT and DELETE) to try your running API.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ResourceServerMinimalApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ResourceServerMinimalApplication.class, args);\n    }\n\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    @Bean\n    SecurityFilterChain resourceServerSecurityFilterChain(\n            HttpSecurity http,\n            @Value(&quot;${resource-server.cors.allowed-origins:}#{T(java.util.Collections).emptyList()}&quot;) List&lt;String&gt; allowedOrigins)\n            throws Exception {\n        http.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n        http.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        http.csrf(csrf -&gt; csrf.disable());\n        http.exceptionHandling(handeling -&gt; handeling.authenticationEntryPoint((request, response, authException) -&gt; {\n            response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\n            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n        }));\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        http.cors(cors -&gt; {\n            if (allowedOrigins.isEmpty()) {\n                cors.disable();\n            } else {\n                cors.configurationSource(corsConfig(allowedOrigins));\n            }\n        });\n        return http.build();\n    }\n\n    CorsConfigurationSource corsConfig(List&lt;String&gt; allowedOrigins) {\n        final var source = new UrlBasedCorsConfigurationSource();\n\n        final var configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(allowedOrigins);\n        configuration.setAllowedMethods(List.of(&quot;*&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n        configuration.setExposedHeaders(List.of(&quot;*&quot;));\n\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @RestController\n    @RequestMapping(&quot;/api/v1&quot;)\n    public static class GreetingController {\n        @GetMapping(&quot;/greet&quot;)\n        public ResponseEntity&lt;GreetingDto&gt; getGreeting(Authentication auth) {\n            return ResponseEntity.ok(new GreetingDto(&quot;Hello %s!&quot;.formatted(auth.getName())));\n        }\n\n        static record GreetingDto(String message) {\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://keycloak-url/realms/realm-id\n\nresource-server:\n  cors:\n    allowed-origins:\n    - http://localhost:4200\n</code></pre>\n<h2><code>oauth2Login</code></h2>\n<p>Client using authorization_code flow (gateway configured with <code>TokenRelay</code> filter or app with server-side rendered templates like Thymeleaf)\n<a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-client\" rel=\"nofollow noreferrer\">Complete tutorial</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ClientMinimalApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ClientMinimalApplication.class, args);\n    }\n\n    @Order(Ordered.HIGHEST_PRECEDENCE + 1)\n    @Bean\n    SecurityFilterChain clientSecurityFilterChain(HttpSecurity http, ClientRegistrationRepository clientRegistrationRepository) throws Exception {\n        http.oauth2Login();\n        final var logoutSuccessHandler = new OidcClientInitiatedLogoutSuccessHandler(clientRegistrationRepository);\n        logoutSuccessHandler.setPostLogoutRedirectUri(&quot;{baseUrl}&quot;);\n        http.logout(logout -&gt; logout.logoutSuccessHandler(logoutSuccessHandler));\n        http.cors().disable();\n        // sessions are required (enabled by default)\n        // CSRF protection is required (enabled by default) because security is based on sessions\n        http.authorizeHttpRequests().requestMatchers(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll() // this is required for unauthenticated users to login\n                .anyRequest().authenticated();\n        return http.build();\n    }\n\n    @Controller\n    @RequestMapping\n    public static class UiController {\n        @GetMapping(&quot;/&quot;)\n        public RedirectView getIndex() throws URISyntaxException {\n            return new RedirectView(&quot;/ui/greet&quot;);\n        }\n\n        @GetMapping(&quot;/ui/greet&quot;)\n        public String getGreeting(Authentication auth, Model model) throws URISyntaxException {\n            model.addAttribute(&quot;message&quot;, &quot;Hello %s!&quot;.formatted(auth.getName()));\n            return &quot;greet&quot;;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          keycloak-realm-id:\n            issuer-uri: http://keycloak-url/realms/realm-id\n        registration:\n          keycloak-confidential-user:\n            authorization-grant-type: authorization_code\n            client-name: a local Keycloak instance\n            client-id: client-ui\n            client-secret: ${keycloak-secret}\n            provider: keycloak-realm-id\n            scope: openid,profile,email,offline_access\n</code></pre>\n<p><code>/src/main/resources/templates/greet.html</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Greetings!&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h1 th:utext=&quot;${message}&quot;&gt;..!..&lt;/h1&gt;\n&lt;/body&gt;\n</code></pre>\n<h2>Combining <code>oauth2Login</code> and <code>oauth2ResourceServer</code></h2>\n<p><strong>If your app exposes both a REST API to be consumed by an OAuth2 client and some other resources to be queried by a browser (without the help of an OAuth2 client lib for a framework like Angular, React or Vue), and only in that case</strong>, define the two different filter chains above and add a <code>securityMatcher</code> to the first in order to limit it to the routes it should secure.</p>\n<p>In the samples provided above, the security filter-chain with the lowest order is the resource server one. Adding something like <code>http.securityMatcher(&quot;/api/**&quot;);</code> would do the trick: all other routes will be secured with the client filter-chain which is tried after and will intercept all requests that were not already intercepted by the resource server filter chain.</p>\n<p><a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_ui\" rel=\"nofollow noreferrer\">Complete tutorial</a>.</p>\n"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1702037779,"creation_date":1672224125,"question_id":74939220,"body_markdown":"I am getting related error during validation using Spring Security oauth2 vs Keycloak.\r\nI don&#39;t think it&#39;s missing from my dependencies.\r\n\r\n**Error**\r\n\r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/framework/security/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.23.jar:5.3.23]\r\n        \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\r\n        \tat \r\n        Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.BearerTokenResolver\r\n        \tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n\r\n\r\n**My Security class**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/login/**&quot;).hasRole(&quot;role-name&quot;).anyRequest().authenticated().and().oauth2ResourceServer().jwt();\r\n    \t\treturn http.build();\r\n    \t}\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\n**application.yml**\r\n  \r\n\r\n    security:\r\n        oauth2:\r\n          resource-server:\r\n            jwt:\r\n              issuer-uri: http://keycloak-url/realms/realm-id\r\n              jwk-set-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/certs\r\n          client:\r\n            registration:\r\n              client-ui:\r\n                provider: keycloak\r\n                client-id: client-ui\r\n                client-secret: abcdefgh\r\n                authorization-grant-type: authorization_code\r\n                scope: openid\r\n            provider:\r\n              client-ui:\r\n                authorization-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/auth\r\n                token-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/token\r\n                user-info-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/userinfo\r\n                jwk-set-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/certs\r\n                user-name-attribute: preferred_username\r\n\r\nI tried to make many edits but I couldn&#39;t find the problem. How can i solve it.","title":"ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.BearerTokenResolver","body":"<p>I am getting related error during validation using Spring Security oauth2 vs Keycloak.\nI don't think it's missing from my dependencies.</p>\n<p><strong>Error</strong></p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/framework/security/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.23.jar:5.3.23]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar:5.3.23]\n        at \n    Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.BearerTokenResolver\n        at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n</code></pre>\n<p><strong>My Security class</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(&quot;/login/**&quot;).hasRole(&quot;role-name&quot;).anyRequest().authenticated().and().oauth2ResourceServer().jwt();\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>security:\n    oauth2:\n      resource-server:\n        jwt:\n          issuer-uri: http://keycloak-url/realms/realm-id\n          jwk-set-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/certs\n      client:\n        registration:\n          client-ui:\n            provider: keycloak\n            client-id: client-ui\n            client-secret: abcdefgh\n            authorization-grant-type: authorization_code\n            scope: openid\n        provider:\n          client-ui:\n            authorization-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/auth\n            token-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/token\n            user-info-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/userinfo\n            jwk-set-uri: http://keycloak-url/realms/realm-id/protocol/openid-connect/certs\n            user-name-attribute: preferred_username\n</code></pre>\n<p>I tried to make many edits but I couldn't find the problem. How can i solve it.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":3154289,"reputation":812,"user_id":2667005,"accept_rate":78,"display_name":"Soosh"},"score":0,"creation_date":1392217248,"post_id":21731343,"comment_id":32864558,"body_markdown":"what is your database? can you execute the query directly?","body":"what is your database? can you execute the query directly?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392217465,"post_id":21731343,"comment_id":32864729,"body_markdown":"Did you check in the database whether the column actually allows `NULL`? Also, please check whether the field in entity is annotated with `@Column(nullable=true)`?","body":"Did you check in the database whether the column actually allows <code>NULL</code>? Also, please check whether the field in entity is annotated with <code>@Column(nullable=true)</code>?"},{"owner":{"account_id":2583329,"reputation":1846,"user_id":2239537,"accept_rate":100,"display_name":"Alex Kartishev"},"score":1,"creation_date":1392217468,"post_id":21731343,"comment_id":32864731,"body_markdown":"**PostgreSQL 9.2.** Yes, I can do it in such a way directly: `insert into table_name (value_one, value_two, value_three) values (&#39;test&#39;, &#39;test&#39;, NULL);`","body":"<b>PostgreSQL 9.2.</b> Yes, I can do it in such a way directly: <code>insert into table_name (value_one, value_two, value_three) values (&#39;test&#39;, &#39;test&#39;, NULL);</code>"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392217790,"post_id":21731343,"comment_id":32864989,"body_markdown":"Also, can you try it with `setTimestamp()` instead of `setParameter()`?","body":"Also, can you try it with <code>setTimestamp()</code> instead of <code>setParameter()</code>?"},{"owner":{"account_id":2583329,"reputation":1846,"user_id":2239537,"accept_rate":100,"display_name":"Alex Kartishev"},"score":0,"creation_date":1392218067,"post_id":21731343,"comment_id":32865196,"body_markdown":"Unfortunately, `javax.persistence.Query` doesn&#39;t have such a method. May be it is possible to cast it to `org.hibernate.Query`, that has such a method?","body":"Unfortunately, <code>javax.persistence.Query</code> doesn&#39;t have such a method. May be it is possible to cast it to <code>org.hibernate.Query</code>, that has such a method?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392218363,"post_id":21731343,"comment_id":32865422,"body_markdown":"@AlexKartishev How have you done the mapping from `Date` to postgresql `Timestamp` .","body":"@AlexKartishev How have you done the mapping from <code>Date</code> to postgresql <code>Timestamp</code> ."},{"owner":{"account_id":2583329,"reputation":1846,"user_id":2239537,"accept_rate":100,"display_name":"Alex Kartishev"},"score":0,"creation_date":1392218726,"post_id":21731343,"comment_id":32865683,"body_markdown":"No mapping. `value3` is `java.util.Date` object and if it is not null it is persisted without any problems by JPA provider (Hibernate). No additional mapping required here, as it is native SQL query.","body":"No mapping. <code>value3</code> is <code>java.util.Date</code> object and if it is not null it is persisted without any problems by JPA provider (Hibernate). No additional mapping required here, as it is native SQL query."}],"answers":[{"tags":[],"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1405403762,"creation_date":1405403762,"answer_id":24750785,"question_id":21731343,"body_markdown":"You are using postgresql (already the stack is telling that), and likely Hibernate, and almost certainly hitting this problem: https://stackoverflow.com/questions/8211195/postgresql-jdbc-null-string-taken-as-a-bytea\r\n\r\nI used this particular solution:\r\nhttps://stackoverflow.com/a/23501509/516188\r\n\r\nSo that means escaping to the Hibernate API so you can give the type of the expression.\r\n\r\nIn my case it was a nullable Short so I used:\r\n\r\n`.setParameter(&quot;short&quot;, shortValue, ShortType.INSTANCE);`\r\n\r\nshortValue being of type `Short`.","title":"JPA Native Query set null parameter","body":"<p>You are using postgresql (already the stack is telling that), and likely Hibernate, and almost certainly hitting this problem: <a href=\"https://stackoverflow.com/questions/8211195/postgresql-jdbc-null-string-taken-as-a-bytea\">PostgreSQL JDBC Null String taken as a bytea</a></p>\n\n<p>I used this particular solution:\n<a href=\"https://stackoverflow.com/a/23501509/516188\">https://stackoverflow.com/a/23501509/516188</a></p>\n\n<p>So that means escaping to the Hibernate API so you can give the type of the expression.</p>\n\n<p>In my case it was a nullable Short so I used:</p>\n\n<p><code>.setParameter(\"short\", shortValue, ShortType.INSTANCE);</code></p>\n\n<p>shortValue being of type <code>Short</code>.</p>\n"},{"tags":[],"owner":{"account_id":5046651,"reputation":303,"user_id":4052424,"accept_rate":75,"display_name":"Matteo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464687053,"creation_date":1464636652,"answer_id":37532536,"question_id":21731343,"body_markdown":"if you are not using Hibernate, but you are using EclipseLink you can use the query Hint:\r\nhttps://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints\r\n\r\nExample\r\nquery:\r\n\r\n    String insert = &quot;INSERT INTO mytable VALUES ( ?, ?, ?, ?)&quot;;\r\n\r\n    em = getEntityManager();\r\n    em.getTransaction().begin();\r\n    Query u = em.createNativeQuery(insert);\r\n    u.setHint(QueryHints.BIND_PARAMETERS, HintValues.FALSE);//&lt;--the hint\r\n    u.setParameter(1, &quot;value1&quot;);\r\n    u.setParameter(2, &quot;value2&quot;);\r\n    u.setParameter(4, &quot;value4&quot;);//just skipped the null element\r\n    u.executeUpdate();\r\n    em.getTransaction().commit();\r\n\r\nand the result will be an insertion: \r\n\r\n    mytable\r\n    column1    column2    column3   column4\r\n    value1     value2               value4\r\n\r\nof course if &quot;column3&quot; is nullable in the db...\r\n\r\nI don&#39;t know if works also with Hibernate, but it could. I used PostgreSQL for my test.","title":"JPA Native Query set null parameter","body":"<p>if you are not using Hibernate, but you are using EclipseLink you can use the query Hint:\n<a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints\" rel=\"noreferrer\">https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints</a></p>\n\n<p>Example\nquery:</p>\n\n<pre><code>String insert = \"INSERT INTO mytable VALUES ( ?, ?, ?, ?)\";\n\nem = getEntityManager();\nem.getTransaction().begin();\nQuery u = em.createNativeQuery(insert);\nu.setHint(QueryHints.BIND_PARAMETERS, HintValues.FALSE);//&lt;--the hint\nu.setParameter(1, \"value1\");\nu.setParameter(2, \"value2\");\nu.setParameter(4, \"value4\");//just skipped the null element\nu.executeUpdate();\nem.getTransaction().commit();\n</code></pre>\n\n<p>and the result will be an insertion: </p>\n\n<pre><code>mytable\ncolumn1    column2    column3   column4\nvalue1     value2               value4\n</code></pre>\n\n<p>of course if \"column3\" is nullable in the db...</p>\n\n<p>I don't know if works also with Hibernate, but it could. I used PostgreSQL for my test.</p>\n"},{"tags":[],"owner":{"account_id":15189328,"reputation":181,"user_id":10960375,"display_name":"J. Doe"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1548321868,"creation_date":1548320451,"answer_id":54342772,"question_id":21731343,"body_markdown":"I have faced the same issue when use `EntityManager.createNamedQuery`(guess the same issue with createNativeQuery).\r\n\r\nIn case you are going to pass `nullable` parameter to Query then use TypedParameterValue which allows to pass the type.\r\n\r\nFor instance:\r\n\r\n    setParameter(&quot;paramName&quot;, new TypedParameterValue(StandardBasicTypes.LONG, paramValue));\r\n\r\n \r\nHere you explicitly set the type of passed value and when you pass null value as processor know the exact type.","title":"JPA Native Query set null parameter","body":"<p>I have faced the same issue when use <code>EntityManager.createNamedQuery</code>(guess the same issue with createNativeQuery).</p>\n\n<p>In case you are going to pass <code>nullable</code> parameter to Query then use TypedParameterValue which allows to pass the type.</p>\n\n<p>For instance:</p>\n\n<pre><code>setParameter(\"paramName\", new TypedParameterValue(StandardBasicTypes.LONG, paramValue));\n</code></pre>\n\n<p>Here you explicitly set the type of passed value and when you pass null value as processor know the exact type.</p>\n"},{"tags":[],"owner":{"account_id":15246832,"reputation":21,"user_id":11001483,"display_name":"Luigi Masiero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549033287,"creation_date":1549031365,"answer_id":54481524,"question_id":21731343,"body_markdown":"In my case, using Oracle 12 and jboss 7.3, I solved using an empty String as param value. I don&#39;t understand why, but it works. This is my code:\r\n\r\n    String sql = &quot;insert into customer (id,name,age) values (?1,?2,?3);\r\n    em = getEntityManager();\r\n    Query query = em.createNativeQuery(sql);\r\n    query.setParameter(1, getId());\r\n    query.setParameter(2, getName());\r\n    if (getAge() != null) {//getAge() return BigDecimal and map a NUMBER column type\r\n        query.setParameter(3, getAge());\r\n    } else {\r\n       query.setParameter(3, &quot;&quot;);\r\n    }","title":"JPA Native Query set null parameter","body":"<p>In my case, using Oracle 12 and jboss 7.3, I solved using an empty String as param value. I don't understand why, but it works. This is my code:</p>\n\n<pre><code>String sql = \"insert into customer (id,name,age) values (?1,?2,?3);\nem = getEntityManager();\nQuery query = em.createNativeQuery(sql);\nquery.setParameter(1, getId());\nquery.setParameter(2, getName());\nif (getAge() != null) {//getAge() return BigDecimal and map a NUMBER column type\n    query.setParameter(3, getAge());\n} else {\n   query.setParameter(3, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18034747,"reputation":21,"user_id":13108438,"display_name":"kgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702037724,"creation_date":1702032733,"answer_id":77626045,"question_id":21731343,"body_markdown":"I had similar issue with Double nullable parameter when using javax.persistence.Query native query against Postgresql \r\n\r\nThe simplest solution I found:\r\n\r\n    Query q = em.createNativeQuery(&quot;insert into table_name (value_one, value_two, value_three) values (?,?,? ::decimal)&quot;);\r\n    q.setParameter(1, value1);\r\n    q.setParameter(2, value2);\r\n    q.setParameter(3, value3);\r\n    q.executeUpdate();\r\n\r\nNote the type casting inside *insert* statement.\r\n\r\nAlternative option:\r\n\r\n    Query q = em.createNativeQuery(&quot;insert into table_name (value_one, value_two, value_three) values (?,?,cast(cast(? as text) as decimal))&quot;);\r\n    q.setParameter(1, value1);\r\n    q.setParameter(2, value2);\r\n    q.setParameter(3, value3);\r\n    q.executeUpdate();\r\nSee: https://stackoverflow.com/a/62321877/13108438","title":"JPA Native Query set null parameter","body":"<p>I had similar issue with Double nullable parameter when using javax.persistence.Query native query against Postgresql</p>\n<p>The simplest solution I found:</p>\n<pre><code>Query q = em.createNativeQuery(&quot;insert into table_name (value_one, value_two, value_three) values (?,?,? ::decimal)&quot;);\nq.setParameter(1, value1);\nq.setParameter(2, value2);\nq.setParameter(3, value3);\nq.executeUpdate();\n</code></pre>\n<p>Note the type casting inside <em>insert</em> statement.</p>\n<p>Alternative option:</p>\n<pre><code>Query q = em.createNativeQuery(&quot;insert into table_name (value_one, value_two, value_three) values (?,?,cast(cast(? as text) as decimal))&quot;);\nq.setParameter(1, value1);\nq.setParameter(2, value2);\nq.setParameter(3, value3);\nq.executeUpdate();\n</code></pre>\n<p>See: <a href=\"https://stackoverflow.com/a/62321877/13108438\">https://stackoverflow.com/a/62321877/13108438</a></p>\n"}],"owner":{"account_id":2583329,"reputation":1846,"user_id":2239537,"accept_rate":100,"display_name":"Alex Kartishev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34890,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":24750785,"answer_count":5,"score":19,"last_activity_date":1702037724,"creation_date":1392216870,"question_id":21731343,"body_markdown":"Here is my code part:\r\n\r\n    Query q = em.createNativeQuery(&quot;insert into table_name (value_one, value_two, value_three) values (?,?,?)&quot;);\r\n    q.setParameter(1, value1);\r\n    q.setParameter(2, value2);\r\n    q.setParameter(3, value3);\r\n    q.executeUpdate();\r\n\r\n\r\n\r\n`value3` sometimes can be null (Date class object). And if it is null the following exception is thrown:\r\n\r\n\r\n\r\n      Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;value_three&quot; is of type timestamp without time zone but expression is of type bytea\r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 88\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2102)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1835)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:500)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:388)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:334)\r\n    \tat org.hibernate.engine.query.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:189)\r\n    \t... 11 more\r\n\r\nHow is it possible to get this code working and to persist null value into database?","title":"JPA Native Query set null parameter","body":"<p>Here is my code part:</p>\n\n<pre><code>Query q = em.createNativeQuery(\"insert into table_name (value_one, value_two, value_three) values (?,?,?)\");\nq.setParameter(1, value1);\nq.setParameter(2, value2);\nq.setParameter(3, value3);\nq.executeUpdate();\n</code></pre>\n\n<p><code>value3</code> sometimes can be null (Date class object). And if it is null the following exception is thrown:</p>\n\n<pre><code>  Caused by: org.postgresql.util.PSQLException: ERROR: column \"value_three\" is of type timestamp without time zone but expression is of type bytea\n  Hint: You will need to rewrite or cast the expression.\n  Position: 88\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2102)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1835)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:500)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:388)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:334)\n    at org.hibernate.engine.query.NativeSQLQueryPlan.performExecuteUpdate(NativeSQLQueryPlan.java:189)\n    ... 11 more\n</code></pre>\n\n<p>How is it possible to get this code working and to persist null value into database?</p>\n"},{"tags":["java","spring"],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702037387,"creation_date":1702037387,"question_id":77626444,"body_markdown":"While a user share a story, i need to find how many different people seen this story. What can i use data structure algorithm.? \r\n\r\nMy tech stack\r\n- Mobile: React Native\r\n- Back end: Spring Boot 3.2.0 , java 21 , GraalVM","title":"How Instagram Story Seen Count works.?","body":"<p>While a user share a story, i need to find how many different people seen this story. What can i use data structure algorithm.?</p>\n<p>My tech stack</p>\n<ul>\n<li>Mobile: React Native</li>\n<li>Back end: Spring Boot 3.2.0 , java 21 , GraalVM</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-cloud-gateway"],"comments":[{"owner":{"account_id":19674751,"reputation":146,"user_id":14403197,"display_name":"David Ngumbu"},"score":0,"creation_date":1701962595,"post_id":77613583,"comment_id":136841954,"body_markdown":"I have updated my answer, if you still encounter some problems feel free to send the error logs for debugging.","body":"I have updated my answer, if you still encounter some problems feel free to send the error logs for debugging."},{"owner":{"account_id":19674751,"reputation":146,"user_id":14403197,"display_name":"David Ngumbu"},"score":0,"creation_date":1702044199,"post_id":77613583,"comment_id":136852552,"body_markdown":"Can you please show all your project files and updated files. eg where you added your server.port property, updated yaml file and class files","body":"Can you please show all your project files and updated files. eg where you added your server.port property, updated yaml file and class files"}],"answers":[{"tags":[],"owner":{"account_id":19674751,"reputation":146,"user_id":14403197,"display_name":"David Ngumbu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701962754,"creation_date":1701877804,"answer_id":77614527,"question_id":77613583,"body_markdown":"Yes, Spring cloud gateway MVC is an alternative of Spring cloud gateway Reactive. They are both quite similar, the difference between them comes from the methods and classes they use - for example Spring cloud gateway Reactive uses the reactive approach thus classes such as `Mono`, `Flux`, `ServerWebExchange`, `GatewayFilterFactory` and `RouteLocator` to name a few while Spring cloud gateway MVC uses classes such as `RouterFunction` to define routes, equivalent to `RouteLocator`.\r\n\r\nThe following is an example of defining a route predicate and filter using both spring cloud gateway MVC and Reactive. The example below implements a route which will only accept request after a certain time has passed and later on modify the request by adding a request header `X-Trace-Token`:\r\n\r\n**EXAMPLE USING SPRING CLOUD GATEWAY REACTIVE**\r\n\r\n    @Bean\r\n    public RouteLocator routeConfig(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n            .route(p -&gt; p.path(&quot;/accounts&quot;).and().after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)))\r\n            .filters(f -&gt; f.addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;)\r\n            .uri(&quot;http://example.com&quot;))\r\n            .build();\r\n    }\r\n\r\n`**SAME EXAMPLE USING SPRING CLOUD GATEWAY MVC**\r\n\r\n    @Bean\r\n    public RouterFunction&lt;ServerResponse&gt; routeConfig() {\r\n        return route(&quot;route_id&quot;)\r\n            .route(after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)), GET(&quot;/accounts&quot;), http(&quot;http://example.com&quot;))\r\n            .after(addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;))\r\n            .build();\r\n    }\r\n\r\nThe full documentation for spring cloud gateway MVC and Reactive can be found in the link you described above.\r\n\r\n**EDIT**\r\n\r\nThe gateway routes configuration defined should work fine. Some possible fixes are:\r\n\r\n `1`. Define the gateway server port in your yaml config eg.\r\n\r\n    server:\r\n     port: 9000\r\n\r\n\r\nthen make the request to the service on port 8081 using the gateway server port for example:\r\n\r\n`http://localhost:9000/api/some_path` \r\n\r\nwill be redirected to the service on port 8081.\r\n\r\n`2`. To define the gateway routes use `spring.cloud.gateway.mvc.routes` instead because you are using spring cloud gateway mvc.\r\n\r\n`3`. The error might be caused by the security policies you defined in your spring security configuration hence preventing the gateway server from redirecting to the service, if possible try testing the gateway routes while you have disable the spring security policies to identify if this is the problem.\r\n ","title":"Spring Cloud Gateway Server MVC- Can we use spring mvc with spring cloud gateway","body":"<p>Yes, Spring cloud gateway MVC is an alternative of Spring cloud gateway Reactive. They are both quite similar, the difference between them comes from the methods and classes they use - for example Spring cloud gateway Reactive uses the reactive approach thus classes such as <code>Mono</code>, <code>Flux</code>, <code>ServerWebExchange</code>, <code>GatewayFilterFactory</code> and <code>RouteLocator</code> to name a few while Spring cloud gateway MVC uses classes such as <code>RouterFunction</code> to define routes, equivalent to <code>RouteLocator</code>.</p>\n<p>The following is an example of defining a route predicate and filter using both spring cloud gateway MVC and Reactive. The example below implements a route which will only accept request after a certain time has passed and later on modify the request by adding a request header <code>X-Trace-Token</code>:</p>\n<p><strong>EXAMPLE USING SPRING CLOUD GATEWAY REACTIVE</strong></p>\n<pre><code>@Bean\npublic RouteLocator routeConfig(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(p -&gt; p.path(&quot;/accounts&quot;).and().after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)))\n        .filters(f -&gt; f.addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;)\n        .uri(&quot;http://example.com&quot;))\n        .build();\n}\n</code></pre>\n<p>`<strong>SAME EXAMPLE USING SPRING CLOUD GATEWAY MVC</strong></p>\n<pre><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; routeConfig() {\n    return route(&quot;route_id&quot;)\n        .route(after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)), GET(&quot;/accounts&quot;), http(&quot;http://example.com&quot;))\n        .after(addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;))\n        .build();\n}\n</code></pre>\n<p>The full documentation for spring cloud gateway MVC and Reactive can be found in the link you described above.</p>\n<p><strong>EDIT</strong></p>\n<p>The gateway routes configuration defined should work fine. Some possible fixes are:</p>\n<p><code>1</code>. Define the gateway server port in your yaml config eg.</p>\n<pre><code>server:\n port: 9000\n</code></pre>\n<p>then make the request to the service on port 8081 using the gateway server port for example:</p>\n<p><code>http://localhost:9000/api/some_path</code></p>\n<p>will be redirected to the service on port 8081.</p>\n<p><code>2</code>. To define the gateway routes use <code>spring.cloud.gateway.mvc.routes</code> instead because you are using spring cloud gateway mvc.</p>\n<p><code>3</code>. The error might be caused by the security policies you defined in your spring security configuration hence preventing the gateway server from redirecting to the service, if possible try testing the gateway routes while you have disable the spring security policies to identify if this is the problem.</p>\n"}],"owner":{"account_id":4927745,"reputation":1339,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702037059,"creation_date":1701870290,"question_id":77613583,"body_markdown":"what is the purpose of Spring Cloud Gateway Server MVC.\r\nCan it be use on the place of spring cloud gateway reactive.\r\nIf yes,Can someone provide me better example.\r\nhere is document I am refering to\r\n\r\nhttps://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html\r\n\r\nI am trying to make it work but not understand what is the issue.\r\nhere is my configuration.\r\n\r\n\r\n\r\n\r\n        import static org.springframework.security.config.Customizer.withDefaults;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig  {\r\n    \r\n    \t  @Bean\r\n    \t   public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\t http.authorizeHttpRequests(exchanges-&gt;exchanges.requestMatchers(&quot;/oauth/**&quot;,&quot;/login/**&quot;).permitAll())\r\n    \t\t .authorizeHttpRequests(https-&gt;https.anyRequest().authenticated())\r\n    \t\t .oauth2Login(withDefaults());\r\n    \t       return http.build();\r\n    \t   }\r\n    \r\n       \r\n    \r\n    }\r\n\r\n&gt; here is my yml file\r\n\r\n    spring:\r\n     cloud:\r\n        gateway:\r\n          mvc:\r\n           routes:\r\n           - id: service1\r\n             uri: http://localhost:8081/\r\n             predicates:\r\n             - Path=/api/**\r\n     security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n              azure:\r\n                client-id: dummy737373737373\r\n                client-secret: dummypassword737373737373\r\n                authorization-grant-type: authorization_code\r\n                redirect-uri: &#39;{baseUrl}/login/oauth2/code/{registrationId}&#39;\r\n                scope: User.Read\r\n            provider:\r\n              azure:\r\n                authorization-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/authorize\r\n                token-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/token\r\n                user-info-uri: https://graph.microsoft.com/oidc/userinfo\r\n                jwk-set-uri: https://login.microsoftonline.com/dummypasswordtenantid/discovery/v2.0/keys\r\n                user-name-attribute: name\r\n\r\n\r\n\r\nserver:\r\n port: 9000\r\n\r\n\r\n&gt; here is my pom\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;swiss&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;manoj-gateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;manoj-gateway&lt;/name&gt;\r\n    \t&lt;description&gt;manoj-gateway&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gateway-server-mvc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    \t\t&lt;!--\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-gateway-mvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway-mvc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gateway-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    --&gt;\r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-loadbalancer --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n&gt; I have one more spring boot service running on 8081.\r\n&gt; I need to redirect it to that service but It is not working.\r\n&gt; Can someone explain me what need to be change.\r\n&gt; thanks for the help\r\n&gt; I have made a change as suggested but I am getting following error and also removed spring security just to check of route is working properly.\r\n\r\n    java.lang.AbstractMethodError: Receiver class org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange$$Lambda$906/0x000000080060f988 does not define or inherit an implementation of the resolved method &#39;abstract java.lang.Object exchange(org.springframework.http.HttpRequest, org.springframework.web.client.RestClient$RequestHeadersSpec$ConvertibleClientHttpResponse)&#39; of interface org.springframework.web.client.RestClient$RequestHeadersSpec$ExchangeFunction.\r\n    \tat org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:456) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:429) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange.exchange(RestClientProxyExchange.java:40) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.handler.ProxyExchangeHandlerFunction.handle(ProxyExchangeHandlerFunction.java:106) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.handler.HandlerFunctions$LookupProxyExchangeHandlerFunction.handle(HandlerFunctions.java:94) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.config.GatewayMvcPropertiesBeanDefinitionRegistrar.lambda$getRouterFunction$3(GatewayMvcPropertiesBeanDefinitionRegistrar.java:172) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$apply$2(HandlerFilterFunction.java:70) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:107) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.cloud.gateway.server.mvc.filter.WeightCalculatorFilter.doFilter(WeightCalculatorFilter.java:229) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.cloud.gateway.server.mvc.filter.FormFilter.doFilter(FormFilter.java:97) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]","title":"Spring Cloud Gateway Server MVC- Can we use spring mvc with spring cloud gateway","body":"<p>what is the purpose of Spring Cloud Gateway Server MVC.\nCan it be use on the place of spring cloud gateway reactive.\nIf yes,Can someone provide me better example.\nhere is document I am refering to</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html</a></p>\n<p>I am trying to make it work but not understand what is the issue.\nhere is my configuration.</p>\n<pre><code>    import static org.springframework.security.config.Customizer.withDefaults;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig  {\n\n      @Bean\n       public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n         http.authorizeHttpRequests(exchanges-&gt;exchanges.requestMatchers(&quot;/oauth/**&quot;,&quot;/login/**&quot;).permitAll())\n         .authorizeHttpRequests(https-&gt;https.anyRequest().authenticated())\n         .oauth2Login(withDefaults());\n           return http.build();\n       }\n\n   \n\n}\n</code></pre>\n<blockquote>\n<p>here is my yml file</p>\n</blockquote>\n<pre><code>spring:\n cloud:\n    gateway:\n      mvc:\n       routes:\n       - id: service1\n         uri: http://localhost:8081/\n         predicates:\n         - Path=/api/**\n security:\n    oauth2:\n      client:\n        registration:\n          azure:\n            client-id: dummy737373737373\n            client-secret: dummypassword737373737373\n            authorization-grant-type: authorization_code\n            redirect-uri: '{baseUrl}/login/oauth2/code/{registrationId}'\n            scope: User.Read\n        provider:\n          azure:\n            authorization-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/authorize\n            token-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/token\n            user-info-uri: https://graph.microsoft.com/oidc/userinfo\n            jwk-set-uri: https://login.microsoftonline.com/dummypasswordtenantid/discovery/v2.0/keys\n            user-name-attribute: name\n</code></pre>\n<p>server:\nport: 9000</p>\n<blockquote>\n<p>here is my pom</p>\n</blockquote>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;swiss&lt;/groupId&gt;\n    &lt;artifactId&gt;manoj-gateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;manoj-gateway&lt;/name&gt;\n    &lt;description&gt;manoj-gateway&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gateway-server-mvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-gateway-mvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway-mvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gateway-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n--&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-loadbalancer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<blockquote>\n<p>I have one more spring boot service running on 8081.\nI need to redirect it to that service but It is not working.\nCan someone explain me what need to be change.\nthanks for the help\nI have made a change as suggested but I am getting following error and also removed spring security just to check of route is working properly.</p>\n</blockquote>\n<pre><code>java.lang.AbstractMethodError: Receiver class org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange$$Lambda$906/0x000000080060f988 does not define or inherit an implementation of the resolved method 'abstract java.lang.Object exchange(org.springframework.http.HttpRequest, org.springframework.web.client.RestClient$RequestHeadersSpec$ConvertibleClientHttpResponse)' of interface org.springframework.web.client.RestClient$RequestHeadersSpec$ExchangeFunction.\n    at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:456) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:429) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange.exchange(RestClientProxyExchange.java:40) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.cloud.gateway.server.mvc.handler.ProxyExchangeHandlerFunction.handle(ProxyExchangeHandlerFunction.java:106) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.cloud.gateway.server.mvc.handler.HandlerFunctions$LookupProxyExchangeHandlerFunction.handle(HandlerFunctions.java:94) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.cloud.gateway.server.mvc.config.GatewayMvcPropertiesBeanDefinitionRegistrar.lambda$getRouterFunction$3(GatewayMvcPropertiesBeanDefinitionRegistrar.java:172) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$apply$2(HandlerFilterFunction.java:70) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:107) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.cloud.gateway.server.mvc.filter.WeightCalculatorFilter.doFilter(WeightCalculatorFilter.java:229) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.cloud.gateway.server.mvc.filter.FormFilter.doFilter(FormFilter.java:97) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","docker-compose","content-management-system"],"owner":{"account_id":1281510,"reputation":39,"user_id":1235522,"display_name":"java noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702037049,"creation_date":1702035271,"question_id":77626271,"body_markdown":"Hi I have just started working on bright spot cms I tried running the training app by running the docker compose file present in the project \r\n\r\n[https://github.com/perfectsense/training/blob/develop/docker-compose.yml](https://stackoverflow.com)\r\nThe project starts :\r\n\r\n    &gt; `$ docker-compose up -d  #  create the Brightspot Docker container\r\n    &gt; Container training-develop-greenmail-1  Running Container\r\n    &gt; training-develop-tomcat-1  Running Container training-develop-apache-1\r\n    &gt; Running Container training-develop-mysql-1  Starting Container\r\n    &gt; training-develop-solr-1  Starting Container training-develop-solr-1 \r\n    &gt; Started Container training-develop-mysql-1  Started `\r\n\r\nafter that as mentioned in the read.me file \r\nI tried accessing localhost/cms\r\n\r\nI keep getting error [![enter image description here](https://i.stack.imgur.com/KiA7t.png)](https://i.stack.imgur.com/KiA7t.png)\r\n\r\nI tried accessing the tomcat logs \r\nusing the command : I tried accessing the tomcat logs \r\nusing the command : docker-compose logs -f  # tail the log\r\n\r\nI keep getting error message :\r\n\r\n`training-develop-apache-1     | 172.25.0.1 &quot;-&quot; &quot;-&quot; - [08/Dec/2023:06:21:25 -0500] &quot;GET /cms HTTP/1.1&quot; 404 3813 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot; 682 localhost\r\ntraining-develop-apache-1     | 172.25.0.1 &quot;-&quot; &quot;-&quot; - [08/Dec/2023:06:21:31 -0500] &quot;GET /_rtc HTTP/1.1&quot; 404 2334 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot; 682 localhost\r\n\r\n\r\n\r\ni was expecting the screen to show me landing page of CMS instead I keep getting 404 error page","title":"Bright Spot Training App Landing page giving 404 error","body":"<p>Hi I have just started working on bright spot cms I tried running the training app by running the docker compose file present in the project</p>\n<p><a href=\"https://stackoverflow.com\">https://github.com/perfectsense/training/blob/develop/docker-compose.yml</a>\nThe project starts :</p>\n<pre><code>&gt; `$ docker-compose up -d  #  create the Brightspot Docker container\n&gt; Container training-develop-greenmail-1  Running Container\n&gt; training-develop-tomcat-1  Running Container training-develop-apache-1\n&gt; Running Container training-develop-mysql-1  Starting Container\n&gt; training-develop-solr-1  Starting Container training-develop-solr-1 \n&gt; Started Container training-develop-mysql-1  Started `\n</code></pre>\n<p>after that as mentioned in the read.me file\nI tried accessing localhost/cms</p>\n<p>I keep getting error <a href=\"https://i.stack.imgur.com/KiA7t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KiA7t.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried accessing the tomcat logs\nusing the command : I tried accessing the tomcat logs\nusing the command : docker-compose logs -f  # tail the log</p>\n<p>I keep getting error message :</p>\n<p>`training-develop-apache-1     | 172.25.0.1 &quot;-&quot; &quot;-&quot; - [08/Dec/2023:06:21:25 -0500] &quot;GET /cms HTTP/1.1&quot; 404 3813 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot; 682 localhost\ntraining-develop-apache-1     | 172.25.0.1 &quot;-&quot; &quot;-&quot; - [08/Dec/2023:06:21:31 -0500] &quot;GET /_rtc HTTP/1.1&quot; 404 2334 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot; 682 localhost</p>\n<p>i was expecting the screen to show me landing page of CMS instead I keep getting 404 error page</p>\n"},{"tags":["java","swing","netbeans","jscrollpane"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1702035965,"post_id":77626294,"comment_id":136851266,"body_markdown":"The container that holds the `JScrollPane`. Set its layout manager to null. Then also add the Button to that container. Now you have to catch the container&#39;s resize() events, and reacting to that, you give the button and the JScrollPane their position and size. Alternative: You could probably go with adding components to the glass pane, but I personally have never tried that, so I cannot say. If the Button is hidden behind the pane, set the ZOrder","body":"The container that holds the <code>JScrollPane</code>. Set its layout manager to null. Then also add the Button to that container. Now you have to catch the container&#39;s resize() events, and reacting to that, you give the button and the JScrollPane their position and size. Alternative: You could probably go with adding components to the glass pane, but I personally have never tried that, so I cannot say. If the Button is hidden behind the pane, set the ZOrder"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1702036725,"post_id":77626294,"comment_id":136851383,"body_markdown":"No, never use a null layout. Please read MadProgrammer&#39;s answer to the duplicate question for better advice.","body":"No, never use a null layout. Please read MadProgrammer&#39;s answer to the duplicate question for better advice."}],"owner":{"account_id":30097277,"reputation":1,"user_id":23065243,"display_name":"Tejas Pidugu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702035903,"answer_count":0,"score":-1,"last_activity_date":1702036900,"creation_date":1702035584,"question_id":77626294,"body_markdown":"I&#39;m still pretty new to coding and I don&#39;t know if this is a stupid question. \r\nI&#39;m using NetBeans and have a jscrollpane with a jpanel inside it that uses miglayout. The whole panel gets populated with a bunch of buttons of different sizes. \r\n\r\nI want to have a button in the corner that stays there and is overlayed over the jscrollpane even as I scroll through it.\r\n\r\n[Something like this, where the button is overlayed on top](https://i.stack.imgur.com/aJTjC.jpg)\r\n\r\n\r\nI&#39;ve tried to look it up but i haven&#39;t really found any simple definitive answer.\r\n\r\nP.S. Let me know if I didn&#39;t follow question standards or something.\r\nThanks","title":"How to overlay a button on a jscrollpane?","body":"<p>I'm still pretty new to coding and I don't know if this is a stupid question.\nI'm using NetBeans and have a jscrollpane with a jpanel inside it that uses miglayout. The whole panel gets populated with a bunch of buttons of different sizes.</p>\n<p>I want to have a button in the corner that stays there and is overlayed over the jscrollpane even as I scroll through it.</p>\n<p><a href=\"https://i.stack.imgur.com/aJTjC.jpg\" rel=\"nofollow noreferrer\">Something like this, where the button is overlayed on top</a></p>\n<p>I've tried to look it up but i haven't really found any simple definitive answer.</p>\n<p>P.S. Let me know if I didn't follow question standards or something.\nThanks</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":3830298,"reputation":1803,"user_id":3176004,"accept_rate":18,"display_name":"virendrao"},"score":1,"creation_date":1424779839,"post_id":28695437,"comment_id":45681447,"body_markdown":"why you want to do that first of all?","body":"why you want to do that first of all?"},{"owner":{"account_id":1114067,"reputation":196771,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1424780125,"post_id":28695437,"comment_id":45681621,"body_markdown":"You&#39;ll hardly find a better approach, if you really want to test this particular requirement. Possibly you may let the timeout be configurable and use the minimum time for testing.","body":"You&#39;ll hardly find a better approach, if you really want to test this particular requirement. Possibly you may let the timeout be configurable and use the minimum time for testing."},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1424780216,"post_id":28695437,"comment_id":45681671,"body_markdown":"As is hinted above, one question is why does your other object behave like that? But putting that aside, this approach seems fine, although it&#39;s quite coarsely grained; 1000ms is significantly longer than 500ms,","body":"As is hinted above, one question is why does your other object behave like that? But putting that aside, this approach seems fine, although it&#39;s quite coarsely grained; 1000ms is significantly longer than 500ms,"},{"owner":{"account_id":5838834,"reputation":79,"user_id":4601076,"display_name":"Piero Nadello"},"score":1,"creation_date":1459934886,"post_id":28695437,"comment_id":60506812,"body_markdown":"What if I remove the implicit dependency with the system clock and replace with a &quot;stub-able&quot; clock and elapse the time instantly?","body":"What if I remove the implicit dependency with the system clock and replace with a &quot;stub-able&quot; clock and elapse the time instantly?"}],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424780241,"creation_date":1424780241,"answer_id":28695601,"question_id":28695437,"body_markdown":"Regardless of what is the point of it and that you are asking for trouble .... \r\n\r\nWhat if you decide that timeout needs to occure after 60minutes, will you wait for your test one hour? \r\nThe timeout should be parameter of your MyObject so you can set it to some small value for testing (or even 0 to force alwyas a timeout when testing).\r\n\r\nSecondly, if you want to really have testable time-related functions, the time and timeout should be handled separately from your main logic (MyObject class). You could for example have Timekeeper class with mehtod canCallMethod() which is invoked by your MyObject class (and it is set upon its construction). In that way in your test, you initlize your MyObject class with your own Timekeeper implementation that returns true or false and verify that your MyObject class behaves as expected. \r\nMyObject can have default constructor that always uses the &#39;real&#39; timekeep so external world is not force to deal with Timekeeper internals.","title":"Thread.sleep in JUnit test case","body":"<p>Regardless of what is the point of it and that you are asking for trouble .... </p>\n\n<p>What if you decide that timeout needs to occure after 60minutes, will you wait for your test one hour? \nThe timeout should be parameter of your MyObject so you can set it to some small value for testing (or even 0 to force alwyas a timeout when testing).</p>\n\n<p>Secondly, if you want to really have testable time-related functions, the time and timeout should be handled separately from your main logic (MyObject class). You could for example have Timekeeper class with mehtod canCallMethod() which is invoked by your MyObject class (and it is set upon its construction). In that way in your test, you initlize your MyObject class with your own Timekeeper implementation that returns true or false and verify that your MyObject class behaves as expected. \nMyObject can have default constructor that always uses the 'real' timekeep so external world is not force to deal with Timekeeper internals.</p>\n"},{"tags":[],"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1702036843,"creation_date":1424780994,"answer_id":28695843,"question_id":28695437,"body_markdown":"There are two problems with using (real) time in test cases:\r\n\r\n1. It is never really deterministic. Especially when you are looking for high precision, testcases will succeed 95% of the time. But sometimes they fail, these are the hardest types of  failure to debug. Note that when using `Thread.sleep()` with in a multithreaded test case this is even more difficult.\r\n2. Test cases with sleeps take long to run, after a while this will make running your full testset cumbersome.\r\n\r\nIf you must, your way is acceptable. But there are other options:\r\n\r\nDon&#39;t use a real clock. Instead use a fake (mocked/stubbed) clock that you can control from your testcase:\r\n\r\n    @Test(expected = IllegalStateException.class)\r\n    public void testCallAfterTimeout() {\r\n        MyObject o= new MyObject();\r\n        // Example function that you could make\r\n        advanceClock(1000, TimeUnit.MILLISECONDS)\r\n        o.call();\r\n    }\r\n\r\nIn your object you have to inject a clock. `MyObject` could look like this:\r\n\r\n    class MyObject\r\n    {\r\n        \r\n         public MyObject()\r\n         {\r\n               this(new Clock());\r\n         }\r\n\r\n         // Protected so only the test case can access it\r\n         protected MyObject(Clock clock)\r\n         {\r\n               // Save clock as local variable, store creation time etc.\r\n         }\r\n    } \r\n\r\nIn Java 8 a mechanism for this is provided, see for instance [`LocalDate.now()`][1]. But you can also implement your own quite easily. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\r\n","title":"Thread.sleep in JUnit test case","body":"<p>There are two problems with using (real) time in test cases:</p>\n<ol>\n<li>It is never really deterministic. Especially when you are looking for high precision, testcases will succeed 95% of the time. But sometimes they fail, these are the hardest types of  failure to debug. Note that when using <code>Thread.sleep()</code> with in a multithreaded test case this is even more difficult.</li>\n<li>Test cases with sleeps take long to run, after a while this will make running your full testset cumbersome.</li>\n</ol>\n<p>If you must, your way is acceptable. But there are other options:</p>\n<p>Don't use a real clock. Instead use a fake (mocked/stubbed) clock that you can control from your testcase:</p>\n<pre><code>@Test(expected = IllegalStateException.class)\npublic void testCallAfterTimeout() {\n    MyObject o= new MyObject();\n    // Example function that you could make\n    advanceClock(1000, TimeUnit.MILLISECONDS)\n    o.call();\n}\n</code></pre>\n<p>In your object you have to inject a clock. <code>MyObject</code> could look like this:</p>\n<pre><code>class MyObject\n{\n    \n     public MyObject()\n     {\n           this(new Clock());\n     }\n\n     // Protected so only the test case can access it\n     protected MyObject(Clock clock)\n     {\n           // Save clock as local variable, store creation time etc.\n     }\n} \n</code></pre>\n<p>In Java 8 a mechanism for this is provided, see for instance <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\" rel=\"nofollow noreferrer\"><code>LocalDate.now()</code></a>. But you can also implement your own quite easily.</p>\n"}],"owner":{"account_id":5838834,"reputation":79,"user_id":4601076,"display_name":"Piero Nadello"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13814,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":28695843,"answer_count":2,"score":7,"last_activity_date":1702036843,"creation_date":1424779743,"question_id":28695437,"body_markdown":"I&#39;m writing a test case to test an object behaviour.\r\n\r\nWhen the object is instantiated it must allow the call of a method let say call() only if it has been called within 500 ms, otherwise it must throw an exception.\r\n\r\nI designed the Junit test case like this:\r\n\r\n\r\n    @Test(expected = IllegalStateException.class)\r\n\tpublic void testCallAfterTimeout() {\r\n        MyObject o= new MyObject();\r\n        //To ensure the timeout is occurred\r\n        Thread.sleep(1000);\r\n        o.call();\r\n\t}\r\n\r\nDo you think is a good practice or I should follow another approach?\r\n\r\nMany thanks\r\n\r\n","title":"Thread.sleep in JUnit test case","body":"<p>I'm writing a test case to test an object behaviour.</p>\n\n<p>When the object is instantiated it must allow the call of a method let say call() only if it has been called within 500 ms, otherwise it must throw an exception.</p>\n\n<p>I designed the Junit test case like this:</p>\n\n<pre><code>@Test(expected = IllegalStateException.class)\npublic void testCallAfterTimeout() {\n    MyObject o= new MyObject();\n    //To ensure the timeout is occurred\n    Thread.sleep(1000);\n    o.call();\n}\n</code></pre>\n\n<p>Do you think is a good practice or I should follow another approach?</p>\n\n<p>Many thanks</p>\n"},{"tags":["java","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1636056820,"creation_date":1407335579,"answer_id":25163132,"question_id":25163131,"body_markdown":"There is a Won&#39;t Fix bug in OpenJDK for this: https://bugs.openjdk.java.net/browse/JDK-7016595\r\n\r\nHowever, with Apache Http-Components Client 4.2+ this is possible. It has a custom networking implementation, thus using all standard HTTP methods like PATCH is possible. It even has a HttpPatch class supporting the patch method.\r\n\r\n    CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    HttpPatch httpPatch = new HttpPatch(new URI(&quot;http://example.com&quot;));\r\n    CloseableHttpResponse response = httpClient.execute(httpPatch);\r\n\r\nMaven Coordinates:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2+&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>There is a Won't Fix bug in OpenJDK for this: <a href=\"https://bugs.openjdk.java.net/browse/JDK-7016595\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-7016595</a></p>\n<p>However, with Apache Http-Components Client 4.2+ this is possible. It has a custom networking implementation, thus using all standard HTTP methods like PATCH is possible. It even has a HttpPatch class supporting the patch method.</p>\n<pre><code>CloseableHttpClient httpClient = HttpClients.createDefault();\nHttpPatch httpPatch = new HttpPatch(new URI(&quot;http://example.com&quot;));\nCloseableHttpResponse response = httpClient.execute(httpPatch);\n</code></pre>\n<p>Maven Coordinates:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.2+&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468774,"reputation":1900,"user_id":874953,"accept_rate":83,"display_name":"sagar"},"down_vote_count":17,"up_vote_count":78,"is_accepted":true,"score":61,"last_activity_date":1449961118,"creation_date":1441891499,"answer_id":32503192,"question_id":25163131,"body_markdown":"Yes there is workaround for this. Use \r\n\r\n&gt; X-HTTP-Method-Override\r\n\r\n. This header can be used in a POST request to “fake” other HTTP methods. Simply set the value of the X-HTTP-Method-Override header to the HTTP method you would like to actually perform.\r\nSo use following code.\r\n\r\n    conn.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n    conn.setRequestMethod(&quot;POST&quot;);\r\n","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>Yes there is workaround for this. Use </p>\n\n<blockquote>\n  <p>X-HTTP-Method-Override</p>\n</blockquote>\n\n<p>. This header can be used in a POST request to “fake” other HTTP methods. Simply set the value of the X-HTTP-Method-Override header to the HTTP method you would like to actually perform.\nSo use following code.</p>\n\n<pre><code>conn.setRequestProperty(\"X-HTTP-Method-Override\", \"PATCH\");\nconn.setRequestMethod(\"POST\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1428736,"reputation":847,"user_id":1351639,"accept_rate":67,"display_name":"moralejaSinCuentoNiProverbio"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1702036080,"creation_date":1453762264,"answer_id":35003988,"question_id":25163131,"body_markdown":"I had the same exception and wrote sockets solution (in Groovy) but I translate in the answer form to Java for you:\r\n\r\n    String doInvalidHttpMethod(String method, String resource) {\r\n        Socket s = new Socket(InetAddress.getByName(&quot;google.com&quot;), 80);\r\n        PrintWriter pw = new PrintWriter(s.getOutputStream());\r\n        pw.println(method +&quot; &quot;+resource+&quot; HTTP/1.1&quot;);\r\n        pw.println(&quot;User-Agent: my own&quot;);\r\n        pw.println(&quot;Host: google.com:80&quot;);\r\n        pw.println(&quot;Content-Type: */*&quot;);\r\n        pw.println(&quot;Accept: */*&quot;);\r\n        pw.println(&quot;&quot;);\r\n        pw.flush();\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n        String t = null;\r\n        String response = &quot;&quot;; \r\n        while((t = br.readLine()) != null) {\r\n            response += t;\r\n        }\r\n        br.close();\r\n        return response;\r\n    }\r\n\r\nI think it works in Java. You have to change the server and port number remember change the Host header too and maybe you have to catch some exception.\r\n","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>I had the same exception and wrote sockets solution (in Groovy) but I translate in the answer form to Java for you:</p>\n<pre><code>String doInvalidHttpMethod(String method, String resource) {\n    Socket s = new Socket(InetAddress.getByName(&quot;google.com&quot;), 80);\n    PrintWriter pw = new PrintWriter(s.getOutputStream());\n    pw.println(method +&quot; &quot;+resource+&quot; HTTP/1.1&quot;);\n    pw.println(&quot;User-Agent: my own&quot;);\n    pw.println(&quot;Host: google.com:80&quot;);\n    pw.println(&quot;Content-Type: */*&quot;);\n    pw.println(&quot;Accept: */*&quot;);\n    pw.println(&quot;&quot;);\n    pw.flush();\n    BufferedReader br = new BufferedReader(new InputStreamReader(s.getInputStream()));\n    String t = null;\n    String response = &quot;&quot;; \n    while((t = br.readLine()) != null) {\n        response += t;\n    }\n    br.close();\n    return response;\n}\n</code></pre>\n<p>I think it works in Java. You have to change the server and port number remember change the Host header too and maybe you have to catch some exception.</p>\n"},{"tags":[],"owner":{"account_id":9236768,"reputation":11,"user_id":6861146,"display_name":"dreamtangerine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683630460,"creation_date":1474499171,"answer_id":39627823,"question_id":25163131,"body_markdown":"Another dirty hack solution is reflection:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private void setVerb(HttpURLConnection cn, String verb) throws IOException {\r\n\r\n      switch (verb) {\r\n        case &quot;GET&quot;:\r\n        case &quot;POST&quot;:\r\n        case &quot;HEAD&quot;:\r\n        case &quot;OPTIONS&quot;:\r\n        case &quot;PUT&quot;:\r\n        case &quot;DELETE&quot;:\r\n        case &quot;TRACE&quot;:\r\n          cn.setRequestMethod(verb);\r\n          break;\r\n        default:\r\n          // set a dummy POST verb\r\n          cn.setRequestMethod(&quot;POST&quot;);\r\n          try {\r\n            // Change protected field called &quot;method&quot; of public class HttpURLConnection\r\n            setProtectedFieldValue(HttpURLConnection.class, &quot;method&quot;, cn, verb);\r\n          } catch (Exception ex) {\r\n            throw new IOException(ex);\r\n          }\r\n          break;\r\n      }\r\n    }\r\n\r\n    public static &lt;T&gt; void setProtectedFieldValue(Class&lt;T&gt; clazz, String fieldName, T object, Object newValue) throws Exception {\r\n        Field field = clazz.getDeclaredField(fieldName);\r\n\r\n        field.setAccessible(true);\r\n        field.set(object, newValue);\r\n     }\r\n","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>Another dirty hack solution is reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setVerb(HttpURLConnection cn, String verb) throws IOException {\n\n  switch (verb) {\n    case &quot;GET&quot;:\n    case &quot;POST&quot;:\n    case &quot;HEAD&quot;:\n    case &quot;OPTIONS&quot;:\n    case &quot;PUT&quot;:\n    case &quot;DELETE&quot;:\n    case &quot;TRACE&quot;:\n      cn.setRequestMethod(verb);\n      break;\n    default:\n      // set a dummy POST verb\n      cn.setRequestMethod(&quot;POST&quot;);\n      try {\n        // Change protected field called &quot;method&quot; of public class HttpURLConnection\n        setProtectedFieldValue(HttpURLConnection.class, &quot;method&quot;, cn, verb);\n      } catch (Exception ex) {\n        throw new IOException(ex);\n      }\n      break;\n  }\n}\n\npublic static &lt;T&gt; void setProtectedFieldValue(Class&lt;T&gt; clazz, String fieldName, T object, Object newValue) throws Exception {\n    Field field = clazz.getDeclaredField(fieldName);\n\n    field.setAccessible(true);\n    field.set(object, newValue);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1520068,"reputation":5090,"user_id":1419975,"accept_rate":90,"display_name":"Daniel L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474566072,"creation_date":1474566072,"answer_id":39645540,"question_id":25163131,"body_markdown":"You can find a detailed solution that can work even if you don&#39;t have direct access to the `HttpUrlConnection` (like when working with Jersey Client here: https://stackoverflow.com/questions/22355235/patch-request-using-jersey-client/39641592#39641592","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>You can find a detailed solution that can work even if you don't have direct access to the <code>HttpUrlConnection</code> (like when working with Jersey Client here: <a href=\"https://stackoverflow.com/questions/22355235/patch-request-using-jersey-client/39641592#39641592\">PATCH request using Jersey Client</a></p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1479203213,"creation_date":1479203213,"answer_id":40606633,"question_id":25163131,"body_markdown":"Reflection as described in this post and a [related post](https://stackoverflow.com/questions/22355235) does not work if you are using a `HttpsURLConnection` on Oracle&#39;s JRE, because`sun.net.www.protocol.https.HttpsURLConnectionImpl` is using the `method` field from the `java.net.HttpURLConnection` of its `DelegateHttpsURLConnection`!\r\n\r\nSo a complete **working** solution is:\r\n\r\n    private void setRequestMethod(final HttpURLConnection c, final String value) {\r\n        try {\r\n            final Object target;\r\n            if (c instanceof HttpsURLConnectionImpl) {\r\n                final Field delegate = HttpsURLConnectionImpl.class.getDeclaredField(&quot;delegate&quot;);\r\n                delegate.setAccessible(true);\r\n                target = delegate.get(c);\r\n            } else {\r\n                target = c;\r\n            }\r\n            final Field f = HttpURLConnection.class.getDeclaredField(&quot;method&quot;);\r\n            f.setAccessible(true);\r\n            f.set(target, value);\r\n        } catch (IllegalAccessException | NoSuchFieldException ex) {\r\n            throw new AssertionError(ex);\r\n        }\r\n    }","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>Reflection as described in this post and a <a href=\"https://stackoverflow.com/questions/22355235\">related post</a> does not work if you are using a <code>HttpsURLConnection</code> on Oracle's JRE, because<code>sun.net.www.protocol.https.HttpsURLConnectionImpl</code> is using the <code>method</code> field from the <code>java.net.HttpURLConnection</code> of its <code>DelegateHttpsURLConnection</code>!</p>\n\n<p>So a complete <strong>working</strong> solution is:</p>\n\n<pre><code>private void setRequestMethod(final HttpURLConnection c, final String value) {\n    try {\n        final Object target;\n        if (c instanceof HttpsURLConnectionImpl) {\n            final Field delegate = HttpsURLConnectionImpl.class.getDeclaredField(\"delegate\");\n            delegate.setAccessible(true);\n            target = delegate.get(c);\n        } else {\n            target = c;\n        }\n        final Field f = HttpURLConnection.class.getDeclaredField(\"method\");\n        f.setAccessible(true);\n        f.set(target, value);\n    } catch (IllegalAccessException | NoSuchFieldException ex) {\n        throw new AssertionError(ex);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2409074,"reputation":7421,"user_id":2104665,"accept_rate":92,"display_name":"Peppe L-G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480601161,"creation_date":1480601161,"answer_id":40912691,"question_id":25163131,"body_markdown":"If your server is using ASP.NET Core, you can simply add the following code to specify the HTTP method using the header `X-HTTP-Method-Override`, as described in the [accepted answer](https://stackoverflow.com/a/32503192/2104665). \r\n\r\n\tapp.Use((context, next) =&gt; {\r\n\t\tvar headers = context.Request.Headers[&quot;X-HTTP-Method-Override&quot;];\r\n\t\tif(headers.Count == 1) {\r\n\t\t\tcontext.Request.Method = headers.First();\r\n\t\t}\r\n\t\treturn next();\r\n\t});\r\n\r\nSimply add this code in `Startup.Configure` before your call to `app.UseMvc()`.","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>If your server is using ASP.NET Core, you can simply add the following code to specify the HTTP method using the header <code>X-HTTP-Method-Override</code>, as described in the <a href=\"https://stackoverflow.com/a/32503192/2104665\">accepted answer</a>. </p>\n\n<pre><code>app.Use((context, next) =&gt; {\n    var headers = context.Request.Headers[\"X-HTTP-Method-Override\"];\n    if(headers.Count == 1) {\n        context.Request.Method = headers.First();\n    }\n    return next();\n});\n</code></pre>\n\n<p>Simply add this code in <code>Startup.Configure</code> before your call to <code>app.UseMvc()</code>.</p>\n"},{"tags":[],"owner":{"account_id":9626699,"reputation":627,"user_id":7146091,"display_name":"Duan Bressan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1489103550,"creation_date":1489103550,"answer_id":42707723,"question_id":25163131,"body_markdown":"Using the answer:\r\n\r\n&gt; https://stackoverflow.com/questions/25163131/httpurlconnection-invalid-http-method-patch/32503192#32503192\r\n\r\nI&#39;m created a sample request and work like a charm:\r\n\r\n    public void request(String requestURL, String authorization, JsonObject json) {\r\n\r\n        try {\r\n\r\n            URL url = new URL(requestURL);\r\n            httpConn = (HttpURLConnection) url.openConnection();\r\n            httpConn.setRequestMethod(&quot;POST&quot;);\r\n            httpConn.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n            httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            httpConn.setRequestProperty(&quot;Authorization&quot;, authorization);\r\n            httpConn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n\r\n            DataOutputStream wr = new DataOutputStream(httpConn.getOutputStream());\r\n            wr.writeBytes(json.toString());\r\n            wr.flush();\r\n            wr.close();\r\n\r\n            httpConn.connect();\r\n\r\n            String response = finish();\r\n\r\n            if (response != null &amp;&amp; !response.equals(&quot;&quot;)) {\r\n                created = true;\r\n            }\r\n        } \r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public String finish() throws IOException {\r\n\r\n        String response = &quot;&quot;;\r\n\r\n        int status = httpConn.getResponseCode();\r\n        if (status == HttpURLConnection.HTTP_OK || status == HttpURLConnection.HTTP_CREATED) {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n                    httpConn.getInputStream()));\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                response += line;\r\n            }\r\n            reader.close();\r\n            httpConn.disconnect();\r\n        } else {\r\n            throw new IOException(&quot;Server returned non-OK status: &quot; + status);\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\nI hope it help you.","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>Using the answer:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/25163131/httpurlconnection-invalid-http-method-patch/32503192#32503192\">HttpURLConnection Invalid HTTP method: PATCH</a></p>\n</blockquote>\n\n<p>I'm created a sample request and work like a charm:</p>\n\n<pre><code>public void request(String requestURL, String authorization, JsonObject json) {\n\n    try {\n\n        URL url = new URL(requestURL);\n        httpConn = (HttpURLConnection) url.openConnection();\n        httpConn.setRequestMethod(\"POST\");\n        httpConn.setRequestProperty(\"X-HTTP-Method-Override\", \"PATCH\");\n        httpConn.setRequestProperty(\"Content-Type\", \"application/json\");\n        httpConn.setRequestProperty(\"Authorization\", authorization);\n        httpConn.setRequestProperty(\"charset\", \"utf-8\");\n\n        DataOutputStream wr = new DataOutputStream(httpConn.getOutputStream());\n        wr.writeBytes(json.toString());\n        wr.flush();\n        wr.close();\n\n        httpConn.connect();\n\n        String response = finish();\n\n        if (response != null &amp;&amp; !response.equals(\"\")) {\n            created = true;\n        }\n    } \n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic String finish() throws IOException {\n\n    String response = \"\";\n\n    int status = httpConn.getResponseCode();\n    if (status == HttpURLConnection.HTTP_OK || status == HttpURLConnection.HTTP_CREATED) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                httpConn.getInputStream()));\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            response += line;\n        }\n        reader.close();\n        httpConn.disconnect();\n    } else {\n        throw new IOException(\"Server returned non-OK status: \" + status);\n    }\n\n    return response;\n}\n</code></pre>\n\n<p>I hope it help you.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495096720,"creation_date":1494959528,"answer_id":44009076,"question_id":25163131,"body_markdown":"In emulator of API 16 I received an exception: `java.net.ProtocolException: Unknown method &#39;PATCH&#39;; must be one of [OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE]`.\r\n\r\nWhile an accepted answer works, I want to add one detail. In new APIs `PATCH` works well, so in conjunction with https://github.com/OneDrive/onedrive-sdk-android/issues/16 you should write:\r\n\r\n\tif (method.equals(&quot;PATCH&quot;) &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.KITKAT) {\r\n\t\thttpConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n\t\thttpConnection.setRequestMethod(&quot;POST&quot;);\r\n\t} else {\r\n\t\thttpConnection.setRequestMethod(method);\r\n    }\r\n\r\nI changed `JELLY_BEAN_MR2` to `KITKAT` after testing in API 16, 19, 21.","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>In emulator of API 16 I received an exception: <code>java.net.ProtocolException: Unknown method 'PATCH'; must be one of [OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE]</code>.</p>\n\n<p>While an accepted answer works, I want to add one detail. In new APIs <code>PATCH</code> works well, so in conjunction with <a href=\"https://github.com/OneDrive/onedrive-sdk-android/issues/16\" rel=\"nofollow noreferrer\">https://github.com/OneDrive/onedrive-sdk-android/issues/16</a> you should write:</p>\n\n<pre><code>if (method.equals(\"PATCH\") &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.KITKAT) {\n    httpConnection.setRequestProperty(\"X-HTTP-Method-Override\", \"PATCH\");\n    httpConnection.setRequestMethod(\"POST\");\n} else {\n    httpConnection.setRequestMethod(method);\n}\n</code></pre>\n\n<p>I changed <code>JELLY_BEAN_MR2</code> to <code>KITKAT</code> after testing in API 16, 19, 21.</p>\n"},{"tags":[],"owner":{"account_id":21865,"reputation":13914,"user_id":53481,"accept_rate":82,"display_name":"okutane"},"down_vote_count":3,"up_vote_count":73,"is_accepted":false,"score":70,"last_activity_date":1567674019,"creation_date":1505915317,"answer_id":46323891,"question_id":25163131,"body_markdown":"There are a lot of good answers, so here is mine (not work in jdk12):\r\n\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Set;\r\n    \r\n    public class SupportPatch {\r\n        public static void main(String... args) throws IOException {\r\n            allowMethods(&quot;PATCH&quot;);\r\n    \r\n            HttpURLConnection conn = (HttpURLConnection) new URL(&quot;http://example.com&quot;).openConnection();\r\n            conn.setRequestMethod(&quot;PATCH&quot;);\r\n        }\r\n    \r\n        private static void allowMethods(String... methods) {\r\n            try {\r\n                Field methodsField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\r\n    \r\n                Field modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n                modifiersField.setAccessible(true);\r\n                modifiersField.setInt(methodsField, methodsField.getModifiers() &amp; ~Modifier.FINAL);\r\n    \r\n                methodsField.setAccessible(true);\r\n    \r\n                String[] oldMethods = (String[]) methodsField.get(null);\r\n                Set&lt;String&gt; methodsSet = new LinkedHashSet&lt;&gt;(Arrays.asList(oldMethods));\r\n                methodsSet.addAll(Arrays.asList(methods));\r\n                String[] newMethods = methodsSet.toArray(new String[0]);\r\n    \r\n                methodsField.set(null/*static field*/, newMethods);\r\n            } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nIt also uses reflection, but instead of hacking into every connection object we&#39;re hacking HttpURLConnection#methods static field which is used in the checks internally.","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>There are a lot of good answers, so here is mine (not work in jdk12):</p>\n\n<pre><code>import java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.LinkedHashSet;\nimport java.util.Set;\n\npublic class SupportPatch {\n    public static void main(String... args) throws IOException {\n        allowMethods(\"PATCH\");\n\n        HttpURLConnection conn = (HttpURLConnection) new URL(\"http://example.com\").openConnection();\n        conn.setRequestMethod(\"PATCH\");\n    }\n\n    private static void allowMethods(String... methods) {\n        try {\n            Field methodsField = HttpURLConnection.class.getDeclaredField(\"methods\");\n\n            Field modifiersField = Field.class.getDeclaredField(\"modifiers\");\n            modifiersField.setAccessible(true);\n            modifiersField.setInt(methodsField, methodsField.getModifiers() &amp; ~Modifier.FINAL);\n\n            methodsField.setAccessible(true);\n\n            String[] oldMethods = (String[]) methodsField.get(null);\n            Set&lt;String&gt; methodsSet = new LinkedHashSet&lt;&gt;(Arrays.asList(oldMethods));\n            methodsSet.addAll(Arrays.asList(methods));\n            String[] newMethods = methodsSet.toArray(new String[0]);\n\n            methodsField.set(null/*static field*/, newMethods);\n        } catch (NoSuchFieldException | IllegalAccessException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>It also uses reflection, but instead of hacking into every connection object we're hacking HttpURLConnection#methods static field which is used in the checks internally.</p>\n"},{"tags":[],"owner":{"account_id":1661844,"reputation":952,"user_id":1529983,"accept_rate":61,"display_name":"hirosht"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1508840280,"creation_date":1508840280,"answer_id":46907921,"question_id":25163131,"body_markdown":"*If the project is on Spring/Gradle*; the following solution will workout. \r\n\r\nFor the build.gradle, add the following dependency;\r\n \r\n    compile(&#39;org.apache.httpcomponents:httpclient:4.5.2&#39;)\r\n\r\nAnd define the following bean in your @SpringBootApplication class inside the \r\ncom.company.project;\r\n\r\n     @Bean\r\n\t public RestTemplate restTemplate() {\r\n\t  HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n\t  requestFactory.setReadTimeout(600000);\r\n\t  requestFactory.setConnectTimeout(600000);\r\n\t  return new RestTemplate(requestFactory);\r\n\t }\r\n\r\nThis solutions worked for me.\r\n\r\n","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p><em>If the project is on Spring/Gradle</em>; the following solution will workout. </p>\n\n<p>For the build.gradle, add the following dependency;</p>\n\n<pre><code>compile('org.apache.httpcomponents:httpclient:4.5.2')\n</code></pre>\n\n<p>And define the following bean in your @SpringBootApplication class inside the \ncom.company.project;</p>\n\n<pre><code> @Bean\n public RestTemplate restTemplate() {\n  HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n  requestFactory.setReadTimeout(600000);\n  requestFactory.setConnectTimeout(600000);\n  return new RestTemplate(requestFactory);\n }\n</code></pre>\n\n<p>This solutions worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523785598,"creation_date":1523785598,"answer_id":49840561,"question_id":25163131,"body_markdown":"I got mine with Jersey client.\r\nThe workaround was:\r\n\r\n    Client client = ClientBuilder.newClient();\r\n    client.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND, true);","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>I got mine with Jersey client.\nThe workaround was:</p>\n\n<pre><code>Client client = ClientBuilder.newClient();\nclient.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523957032,"creation_date":1523957032,"answer_id":49874386,"question_id":25163131,"body_markdown":"We have faced the same problem with slightly different behavior. We were using apache cxf library for making the rest calls.\r\nFor us, PATCH was working fine till we were talking to our fake services which were working over http.\r\nThe moment we integrated with actual systems (which were over https)  we started facing the same issue with following stack trace.\r\n\r\n    java.net.ProtocolException: Invalid HTTP method: PATCH\tat java.net.HttpURLConnection.setRequestMethod(HttpURLConnection.java:428) ~[na:1.7.0_51]\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestMethod(HttpsURLConnectionImpl.java:374) ~[na:1.7.0_51]\tat org.apache.cxf.transport.http.URLConnectionHTTPConduit.setupConnection(URLConnectionHTTPConduit.java:149) ~[cxf-rt-transports-http-3.1.14.jar:3.1.14]\r\n\r\nIssue was happening in this line of code\r\n\r\n    connection.setRequestMethod(httpRequestMethod); in URLConnectionHTTPConduit class of cxf library\r\n\r\nNow the real reason for the failure is that\r\n\r\n    java.net.HttpURLConnection contains a methods variable which looks like below\r\n    /* valid HTTP methods */\r\n        private static final String[] methods = {\r\n            &quot;GET&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;TRACE&quot;\r\n        };\r\nAnd we can see that there is no PATCH method defined hence the error made sense.\r\nWe tried lots of different thing and looked over stack overflow. The only reasonable answer was to use reflection to modify the methods variable to inject another value &quot;PATCH&quot;. But somehow we were not convinced to use that as the solution was kind of hack and is too much work and might have impact as we had common library to make all connection and performing these REST calls.\r\n\r\nBut then we realized that cxf library itself is handling the exception and there is code written in the catch block to add the missing method using reflection.\r\n\r\n    try {\r\n            connection.setRequestMethod(httpRequestMethod);\r\n        } catch (java.net.ProtocolException ex) {\r\n            Object o = message.getContextualProperty(HTTPURL_CONNECTION_METHOD_REFLECTION);\r\n            boolean b = DEFAULT_USE_REFLECTION;\r\n            if (o != null) {\r\n                b = MessageUtils.isTrue(o);\r\n            }\r\n            if (b) {\r\n                try {\r\n                    java.lang.reflect.Field f = ReflectionUtil.getDeclaredField(HttpURLConnection.class, &quot;method&quot;);\r\n                    if (connection instanceof HttpsURLConnection) {\r\n                        try {\r\n                            java.lang.reflect.Field f2 = ReflectionUtil.getDeclaredField(connection.getClass(),\r\n                                                                                         &quot;delegate&quot;);\r\n                            Object c = ReflectionUtil.setAccessible(f2).get(connection);\r\n                            if (c instanceof HttpURLConnection) {\r\n                                ReflectionUtil.setAccessible(f).set(c, httpRequestMethod);\r\n                            }\r\n\r\n                            f2 = ReflectionUtil.getDeclaredField(c.getClass(), &quot;httpsURLConnection&quot;);\r\n                            HttpsURLConnection c2 = (HttpsURLConnection)ReflectionUtil.setAccessible(f2)\r\n                                    .get(c);\r\n\r\n                            ReflectionUtil.setAccessible(f).set(c2, httpRequestMethod);\r\n                        } catch (Throwable t) {\r\n                            //ignore\r\n                            logStackTrace(t);\r\n                        }\r\n                    }\r\n                    ReflectionUtil.setAccessible(f).set(connection, httpRequestMethod);\r\n                    message.put(HTTPURL_CONNECTION_METHOD_REFLECTION, true);\r\n                } catch (Throwable t) {\r\n                    logStackTrace(t);\r\n                    throw ex;\r\n                }\r\n            }\r\n\r\nNow this gave us some hopes, so we spent some time in reading the code and found that if we provide a property for URLConnectionHTTPConduit.HTTPURL_CONNECTION_METHOD_REFLECTION then we can make cxf to execute the exception handler and our work is done as by default the variable will be assigned to false due to below code\r\n\r\n    DEFAULT_USE_REFLECTION = \r\n            Boolean.valueOf(SystemPropertyAction.getProperty(HTTPURL_CONNECTION_METHOD_REFLECTION, &quot;false&quot;));\r\n\r\nSo here is what we had to do to make this work\r\n\r\n    WebClient.getConfig(client).getRequestContext().put(&quot;use.httpurlconnection.method.reflection&quot;, true);\r\n\r\nor \r\n\r\n    WebClient.getConfig(client).getRequestContext().put(HTTPURL_CONNECTION_METHOD_REFLECTION, true);\r\n\r\nWhere WebClient is from cxf library itself.\r\n\r\nHope this answer helps some one.\r\n\r\n","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>We have faced the same problem with slightly different behavior. We were using apache cxf library for making the rest calls.\nFor us, PATCH was working fine till we were talking to our fake services which were working over http.\nThe moment we integrated with actual systems (which were over https)  we started facing the same issue with following stack trace.</p>\n\n<pre><code>java.net.ProtocolException: Invalid HTTP method: PATCH  at java.net.HttpURLConnection.setRequestMethod(HttpURLConnection.java:428) ~[na:1.7.0_51]   at sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestMethod(HttpsURLConnectionImpl.java:374) ~[na:1.7.0_51]   at org.apache.cxf.transport.http.URLConnectionHTTPConduit.setupConnection(URLConnectionHTTPConduit.java:149) ~[cxf-rt-transports-http-3.1.14.jar:3.1.14]\n</code></pre>\n\n<p>Issue was happening in this line of code</p>\n\n<pre><code>connection.setRequestMethod(httpRequestMethod); in URLConnectionHTTPConduit class of cxf library\n</code></pre>\n\n<p>Now the real reason for the failure is that</p>\n\n<pre><code>java.net.HttpURLConnection contains a methods variable which looks like below\n/* valid HTTP methods */\n    private static final String[] methods = {\n        \"GET\", \"POST\", \"HEAD\", \"OPTIONS\", \"PUT\", \"DELETE\", \"TRACE\"\n    };\n</code></pre>\n\n<p>And we can see that there is no PATCH method defined hence the error made sense.\nWe tried lots of different thing and looked over stack overflow. The only reasonable answer was to use reflection to modify the methods variable to inject another value \"PATCH\". But somehow we were not convinced to use that as the solution was kind of hack and is too much work and might have impact as we had common library to make all connection and performing these REST calls.</p>\n\n<p>But then we realized that cxf library itself is handling the exception and there is code written in the catch block to add the missing method using reflection.</p>\n\n<pre><code>try {\n        connection.setRequestMethod(httpRequestMethod);\n    } catch (java.net.ProtocolException ex) {\n        Object o = message.getContextualProperty(HTTPURL_CONNECTION_METHOD_REFLECTION);\n        boolean b = DEFAULT_USE_REFLECTION;\n        if (o != null) {\n            b = MessageUtils.isTrue(o);\n        }\n        if (b) {\n            try {\n                java.lang.reflect.Field f = ReflectionUtil.getDeclaredField(HttpURLConnection.class, \"method\");\n                if (connection instanceof HttpsURLConnection) {\n                    try {\n                        java.lang.reflect.Field f2 = ReflectionUtil.getDeclaredField(connection.getClass(),\n                                                                                     \"delegate\");\n                        Object c = ReflectionUtil.setAccessible(f2).get(connection);\n                        if (c instanceof HttpURLConnection) {\n                            ReflectionUtil.setAccessible(f).set(c, httpRequestMethod);\n                        }\n\n                        f2 = ReflectionUtil.getDeclaredField(c.getClass(), \"httpsURLConnection\");\n                        HttpsURLConnection c2 = (HttpsURLConnection)ReflectionUtil.setAccessible(f2)\n                                .get(c);\n\n                        ReflectionUtil.setAccessible(f).set(c2, httpRequestMethod);\n                    } catch (Throwable t) {\n                        //ignore\n                        logStackTrace(t);\n                    }\n                }\n                ReflectionUtil.setAccessible(f).set(connection, httpRequestMethod);\n                message.put(HTTPURL_CONNECTION_METHOD_REFLECTION, true);\n            } catch (Throwable t) {\n                logStackTrace(t);\n                throw ex;\n            }\n        }\n</code></pre>\n\n<p>Now this gave us some hopes, so we spent some time in reading the code and found that if we provide a property for URLConnectionHTTPConduit.HTTPURL_CONNECTION_METHOD_REFLECTION then we can make cxf to execute the exception handler and our work is done as by default the variable will be assigned to false due to below code</p>\n\n<pre><code>DEFAULT_USE_REFLECTION = \n        Boolean.valueOf(SystemPropertyAction.getProperty(HTTPURL_CONNECTION_METHOD_REFLECTION, \"false\"));\n</code></pre>\n\n<p>So here is what we had to do to make this work</p>\n\n<pre><code>WebClient.getConfig(client).getRequestContext().put(\"use.httpurlconnection.method.reflection\", true);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>WebClient.getConfig(client).getRequestContext().put(HTTPURL_CONNECTION_METHOD_REFLECTION, true);\n</code></pre>\n\n<p>Where WebClient is from cxf library itself.</p>\n\n<p>Hope this answer helps some one.</p>\n"},{"tags":[],"owner":{"account_id":8116610,"reputation":1,"user_id":6114912,"display_name":"perumal ks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702035992,"creation_date":1557569153,"answer_id":56089237,"question_id":25163131,"body_markdown":"```java\r\nCloseableHttpClient http = HttpClientBuilder.create().build();\r\nHttpPatch updateRequest = new HttpPatch(&quot;URL&quot;);\r\nupdateRequest.setEntity(new StringEntity(&quot;inputjsonString&quot;, ContentType.APPLICATION_JSON));\r\nupdateRequest.setHeader(&quot;Bearer&quot;, &quot;auth&quot;);\r\nHttpResponse response = http.execute(updateRequest);\r\nJSONObject result = new JSONObject(IOUtils.toString(response.getEntity().getContent()));**\r\n```\r\n\r\n\r\nmaven plugin\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;version&gt;4.3.4&lt;/version&gt;\r\n    &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\t\r\n&lt;/dependency&gt;\r\n```\r\n\r\nuse this really it would helps you","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient http = HttpClientBuilder.create().build();\nHttpPatch updateRequest = new HttpPatch(&quot;URL&quot;);\nupdateRequest.setEntity(new StringEntity(&quot;inputjsonString&quot;, ContentType.APPLICATION_JSON));\nupdateRequest.setHeader(&quot;Bearer&quot;, &quot;auth&quot;);\nHttpResponse response = http.execute(updateRequest);\nJSONObject result = new JSONObject(IOUtils.toString(response.getEntity().getContent()));**\n</code></pre>\n<p>maven plugin</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.3.4&lt;/version&gt;\n    &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;   \n&lt;/dependency&gt;\n</code></pre>\n<p>use this really it would helps you</p>\n"},{"tags":[],"owner":{"account_id":12804041,"reputation":361,"user_id":9264400,"display_name":"Johnu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568394418,"creation_date":1568394418,"answer_id":57927736,"question_id":25163131,"body_markdown":"For anyone using Spring restTemplate looking for a detailed answer.\r\n\r\nYou will face the problem if you are using SimpleClientHttpRequestFactory as your restTemplate&#39;s ClientHttpRequestFactory.\r\n\r\nFrom java.net.HttpURLConnection:\r\n\r\n    /* valid HTTP methods */\r\n    private static final String[] methods = {\r\n        &quot;GET&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;TRACE&quot;\r\n    };\r\n\r\nAs PATCH is not a supported operation, this line of code from the same class will execute:\r\n\r\n    throw new ProtocolException(&quot;Invalid HTTP method: &quot; + method);\r\n\r\nI ended up using the same as what @hirosht suggested in his [answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46907921/9264400","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>For anyone using Spring restTemplate looking for a detailed answer.</p>\n\n<p>You will face the problem if you are using SimpleClientHttpRequestFactory as your restTemplate's ClientHttpRequestFactory.</p>\n\n<p>From java.net.HttpURLConnection:</p>\n\n<pre><code>/* valid HTTP methods */\nprivate static final String[] methods = {\n    \"GET\", \"POST\", \"HEAD\", \"OPTIONS\", \"PUT\", \"DELETE\", \"TRACE\"\n};\n</code></pre>\n\n<p>As PATCH is not a supported operation, this line of code from the same class will execute:</p>\n\n<pre><code>throw new ProtocolException(\"Invalid HTTP method: \" + method);\n</code></pre>\n\n<p>I ended up using the same as what @hirosht suggested in his <a href=\"https://stackoverflow.com/a/46907921/9264400\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1600957553,"creation_date":1600957553,"answer_id":64048579,"question_id":25163131,"body_markdown":"In java 11+ you can use the HttpRequest class to do what you want:\r\n\r\n``` Java\r\nimport java.net.http.HttpRequest;\r\n\r\nHttpRequest request = HttpRequest.newBuilder()\r\n               .uri(URI.create(uri))\r\n               .method(&quot;PATCH&quot;, HttpRequest.BodyPublishers.ofString(message))\r\n               .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\r\n               .build();\r\n```","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>In java 11+ you can use the HttpRequest class to do what you want:</p>\n<pre><code>import java.net.http.HttpRequest;\n\nHttpRequest request = HttpRequest.newBuilder()\n               .uri(URI.create(uri))\n               .method(&quot;PATCH&quot;, HttpRequest.BodyPublishers.ofString(message))\n               .header(&quot;Content-Type&quot;, &quot;text/xml&quot;)\n               .build();\n</code></pre>\n"}],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135084,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":32503192,"answer_count":16,"score":114,"last_activity_date":1702036080,"creation_date":1407335579,"question_id":25163131,"body_markdown":"When I try to use a non-standard HTTP Method like PATCH with URLConnection:\r\n\r\n        HttpURLConnection conn = (HttpURLConnection) new URL(&quot;http://example.com&quot;).openConnection();\r\n        conn.setRequestMethod(&quot;PATCH&quot;);\r\n\r\nI get an exception:\r\n\r\n    java.net.ProtocolException: Invalid HTTP method: PATCH\r\n\tat java.net.HttpURLConnection.setRequestMethod(HttpURLConnection.java:440)\r\n\r\nUsing a higher level API like Jersey generates the same error. Is there a workaround to issue a PATCH HTTP request?","title":"HttpURLConnection Invalid HTTP method: PATCH","body":"<p>When I try to use a non-standard HTTP Method like PATCH with URLConnection:</p>\n\n<pre><code>    HttpURLConnection conn = (HttpURLConnection) new URL(\"http://example.com\").openConnection();\n    conn.setRequestMethod(\"PATCH\");\n</code></pre>\n\n<p>I get an exception:</p>\n\n<pre><code>java.net.ProtocolException: Invalid HTTP method: PATCH\nat java.net.HttpURLConnection.setRequestMethod(HttpURLConnection.java:440)\n</code></pre>\n\n<p>Using a higher level API like Jersey generates the same error. Is there a workaround to issue a PATCH HTTP request?</p>\n"},{"tags":["java","reactjs","spring","filter","cors"],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702035858,"creation_date":1702035858,"answer_id":77626314,"question_id":77622329,"body_markdown":"Fixed by adding this cors filter setting\r\n\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.headers().cacheControl();\r\n            http.csrf().disable(); // Disable CSRF\r\n            http.cors();\r\n        }\r\n    }","title":"React client headers are missing in the server spring boot - while they do arrive with postman","body":"<p>Fixed by adding this cors filter setting</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.headers().cacheControl();\n        http.csrf().disable(); // Disable CSRF\n        http.cors();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702035858,"creation_date":1701973642,"question_id":77622329,"body_markdown":"I have a React client app which is making Http Get to the server\r\n\r\n      export const restApiGet = async (apiPath: string) =&gt; {\r\n        const headers  = {\r\n          &#39;token&#39;: &#39;aaaa&#39;,\r\n          &#39;postman-token&#39;: &#39;bbbb&#39;,\r\n        };\r\n        return Axios.get(`${apiUrl}${apiPath}`, {\r\n          withCredentials: true, // Include cookies in the request\r\n          headers: headers\r\n        }\r\n        );\r\n      };\r\n\r\nthe request arrive to the server which is spring boot java\r\n\r\nbut in My server I have a filter, I need to read the token header\r\n\r\n\r\n    @Component\r\n    @WebFilter\r\n    public class UserIdFilter implements Filter {\r\n    \r\n        //TODO add filter for all response if object has userId column it must match the userId of the token\r\n        private final AbstractCacheService abstractCacheService;\r\n    \r\n        public UserIdFilter(AbstractCacheService abstractCacheService) {\r\n            this.abstractCacheService = abstractCacheService;\r\n        }\r\n        \r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n           \r\n    }\r\n\r\nBut in the server when I try to get the header its null\r\n\r\nIf i look on the request on  Chrome - i convert the header\r\nfrom token - to Token.\r\nbut also reading Token from headers dont bring any results\r\n\r\nIf i copy the Chrome request to postman the header arrive to postman \r\n\r\ni have set on etc host - windows - 127.0.0.1 to localhost \r\nand I call to localhost as well.\r\n\r\nHow can I help the server to see the token ? it feels the problem is on react\r\nsince with postman all is working\r\nI tried also to play with cros filter setting- to allow, but still same issue\r\n\r\n\r\n\r\n    @Configuration\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOriginPatterns(&quot;*&quot;) // Allow requests from any origin\r\n                .allowedMethods(&quot;*&quot;) // Allow all HTTP methods (GET, POST, PUT, DELETE, etc.)\r\n                .allowedHeaders(&quot;*&quot;) // Allow all headers\r\n                .exposedHeaders(&quot;*&quot;) // Expose all headers\r\n                .allowCredentials(true);//.allowedOriginPatterns(&quot;*&quot;); // Allow credentials (e.g., cookies)\r\n\r\n    }\r\n\r\n","title":"React client headers are missing in the server spring boot - while they do arrive with postman","body":"<p>I have a React client app which is making Http Get to the server</p>\n<pre><code>  export const restApiGet = async (apiPath: string) =&gt; {\n    const headers  = {\n      'token': 'aaaa',\n      'postman-token': 'bbbb',\n    };\n    return Axios.get(`${apiUrl}${apiPath}`, {\n      withCredentials: true, // Include cookies in the request\n      headers: headers\n    }\n    );\n  };\n</code></pre>\n<p>the request arrive to the server which is spring boot java</p>\n<p>but in My server I have a filter, I need to read the token header</p>\n<pre><code>@Component\n@WebFilter\npublic class UserIdFilter implements Filter {\n\n    //TODO add filter for all response if object has userId column it must match the userId of the token\n    private final AbstractCacheService abstractCacheService;\n\n    public UserIdFilter(AbstractCacheService abstractCacheService) {\n        this.abstractCacheService = abstractCacheService;\n    }\n    \n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n       \n}\n</code></pre>\n<p>But in the server when I try to get the header its null</p>\n<p>If i look on the request on  Chrome - i convert the header\nfrom token - to Token.\nbut also reading Token from headers dont bring any results</p>\n<p>If i copy the Chrome request to postman the header arrive to postman</p>\n<p>i have set on etc host - windows - 127.0.0.1 to localhost\nand I call to localhost as well.</p>\n<p>How can I help the server to see the token ? it feels the problem is on react\nsince with postman all is working\nI tried also to play with cros filter setting- to allow, but still same issue</p>\n<pre><code>@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n            .allowedOriginPatterns(&quot;*&quot;) // Allow requests from any origin\n            .allowedMethods(&quot;*&quot;) // Allow all HTTP methods (GET, POST, PUT, DELETE, etc.)\n            .allowedHeaders(&quot;*&quot;) // Allow all headers\n            .exposedHeaders(&quot;*&quot;) // Expose all headers\n            .allowCredentials(true);//.allowedOriginPatterns(&quot;*&quot;); // Allow credentials (e.g., cookies)\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610653541,"creation_date":1610653541,"answer_id":65725919,"question_id":65720131,"body_markdown":"AFAICS, the issue comes from the fact that `exception.getMessage()` is null.\r\n\r\nThe message you pass to `buildConstraintViolationWithTemplate` shouldn&#39;t be null.\r\n\r\nThat being said, we probably need to handle this more gracefully (or at least throw a proper error message). I created https://hibernate.atlassian.net/browse/HV-1825 for that.","title":"An exception occurred during message interpolation Spring Validation","body":"<p>AFAICS, the issue comes from the fact that <code>exception.getMessage()</code> is null.</p>\n<p>The message you pass to <code>buildConstraintViolationWithTemplate</code> shouldn't be null.</p>\n<p>That being said, we probably need to handle this more gracefully (or at least throw a proper error message). I created <a href=\"https://hibernate.atlassian.net/browse/HV-1825\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HV-1825</a> for that.</p>\n"},{"tags":[],"owner":{"account_id":30097594,"reputation":1,"user_id":23065503,"display_name":"Chirra Yeshwanth Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702035480,"creation_date":1702035480,"answer_id":77626288,"question_id":65720131,"body_markdown":"similar error came for me aswell, for the below code\r\n\r\n    for (String user : users) {\r\n      if (bouncedOrComplaintsList.contains(user)) {\r\n        // some code\r\n      }\r\n    }\r\n\r\nIn my case users in above code is null, make sure it is not null\r\n","title":"An exception occurred during message interpolation Spring Validation","body":"<p>similar error came for me aswell, for the below code</p>\n<pre><code>for (String user : users) {\n  if (bouncedOrComplaintsList.contains(user)) {\n    // some code\n  }\n}\n</code></pre>\n<p>In my case users in above code is null, make sure it is not null</p>\n"}],"owner":{"account_id":20364415,"reputation":323,"user_id":14938103,"display_name":"Dogukan Evcil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2089,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65725919,"answer_count":2,"score":1,"last_activity_date":1702035480,"creation_date":1610631778,"question_id":65720131,"body_markdown":"I have a method to validate some data in my controller. In that method I validate the incoming data with two different validators. Each validators make some process with the submitted data and if there is a runtime exception they return false. \r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/inputs&quot;)\r\npublic class InputValidationController{\r\n\r\n    private final SpringValidatorAdapter adapter;\r\n\r\n    @Inject\r\n    public InputValidationController(Validator validator) {\r\n        this.adapter = new SpringValidatorAdapter(validator);\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/validate&quot;, method = RequestMethod.POST)\r\n    @PreAuthorize(&quot;hasAuthorizedIp()&quot;)\r\n    public void validate(@RequestBody Input input) {\r\n        Set&lt;ConstraintViolation&lt;Input &gt;&gt; violations = adapter.validate(input, Default.class);\r\n        if (violations.isEmpty()) {\r\n            adapter.validate(input, ValidationGroupExtended.class);\r\n        }\r\n        if (!violations.isEmpty()) {\r\n            throw new ConstraintViolationException(violations);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nI am testing the second validator which is inside the if statement. I changed the data to have some null values that will cause an null pointer exception.\r\n\r\n```\r\npublic class InputValidator implements ConstraintValidator&lt;ValidInput, Input&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(Input value, ConstraintValidatorContext context) {\r\n\r\n        try {\r\n\r\n            ... Some logic\r\n            return true;\r\n\r\n        }catch (Throwable exception) {\r\n            context.disableDefaultConstraintViolation();\r\n            context.buildConstraintViolationWithTemplate(exception.getMessage()).addConstraintViolation();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public @interface ValidationGroupExtended {\r\n    }\r\n}\r\n```\r\nThis returns false as expected but after that during the message interpolation, I got another null pointer at this location \r\n\r\n```\r\npackage org.hibernate.validator.internal.engine;\r\n\r\n...\r\n\r\n\tprivate String interpolate(String messageTemplate,\r\n\t\t\tObject validatedValue,\r\n\t\t\tConstraintDescriptor&lt;?&gt; descriptor,\r\n\t\t\tMap&lt;String, Object&gt; messageParameters,\r\n\t\t\tMap&lt;String, Object&gt; expressionVariables) {\r\n\t\tMessageInterpolatorContext context = new MessageInterpolatorContext(\r\n\t\t\t\tdescriptor,\r\n\t\t\t\tvalidatedValue,\r\n\t\t\t\tgetRootBeanClass(),\r\n\t\t\t\tmessageParameters,\r\n\t\t\t\texpressionVariables\r\n\t\t);\r\n\r\n\t\ttry {\r\n\t\t\treturn validatorScopedContext.getMessageInterpolator().interpolate(\r\n\t\t\t\t\tmessageTemplate,\r\n\t\t\t\t\tcontext\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch (ValidationException ve) {\r\n\t\t\tthrow ve;\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tthrow LOG.getExceptionOccurredDuringMessageInterpolationException( e );\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd get this response afterwards \r\n\r\n  \r\n\r\n&gt;  &quot;HV000149: An exception occurred during message interpolation&quot;,\r\n\r\n\r\nI couldn&#39;t figure out what causes this issue, what am I missing or doing wrong? \r\n\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolateMessage(AbstractMessageInterpolator.java:256) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolate(AbstractMessageInterpolator.java:232) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator.interpolate(LocaleContextMessageInterpolator.java:51) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.hibernate.validator.internal.engine.ValidationContext.interpolate(ValidationContext.java:465) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidationContext.createConstraintViolation(ValidationContext.java:319) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidationContext.lambda$createConstraintViolations$0(ValidationContext.java:276) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_271]\r\n\tat java.util.Collections$2.tryAdvance(Collections.java:4719) ~[na:1.8.0_271]\r\n\tat java.util.Collections$2.forEachRemaining(Collections.java:4727) ~[na:1.8.0_271]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_271]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_271]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[na:1.8.0_271]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_271]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[na:1.8.0_271]\r\n\tat org.hibernate.validator.internal.engine.ValidationContext.createConstraintViolations(ValidationContext.java:277) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:182) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:68) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:73) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:127) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:120) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:552) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:534) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForNonDefaultGroup(ValidatorImpl.java:526) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:444) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:397) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:173) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\r\n\tat org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:358) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:358) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat com.company.company.api.controllers.InputValidationController.validate(InputValidationController.java:35) ~[classes/:na]\r\n\tat com.company.company.api.controllers.InputValidationController$$FastClassBySpringCGLIB$$64bbfbae.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat com.company.company.api.controllers.InputValidationController$$EnhancerBySpringCGLIB$$326105f6.validate(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_271]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_271]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_271]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_271]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat com.company.commons.security.util.CredentialsExpiredAuthorizationFilter.doFilterInternal(CredentialsExpiredAuthorizationFilter.java:53) ~[commons-security-2.6.0-SNAPSHOT.jar:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat com.company.commons.security.util.ClientAuthenticationFilter.doFilterInternal(ClientAuthenticationFilter.java:97) ~[commons-security-2.6.0-SNAPSHOT.jar:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:171) ~[spring-session-1.3.5.RELEASE.jar:na]\r\n\tat org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80) ~[spring-session-1.3.5.RELEASE.jar:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_271]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_271]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_271]\r\n\r\n\r\n\r\n```","title":"An exception occurred during message interpolation Spring Validation","body":"<p>I have a method to validate some data in my controller. In that method I validate the incoming data with two different validators. Each validators make some process with the submitted data and if there is a runtime exception they return false.</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/inputs&quot;)\npublic class InputValidationController{\n\n    private final SpringValidatorAdapter adapter;\n\n    @Inject\n    public InputValidationController(Validator validator) {\n        this.adapter = new SpringValidatorAdapter(validator);\n    }\n\n    @RequestMapping(value = &quot;/validate&quot;, method = RequestMethod.POST)\n    @PreAuthorize(&quot;hasAuthorizedIp()&quot;)\n    public void validate(@RequestBody Input input) {\n        Set&lt;ConstraintViolation&lt;Input &gt;&gt; violations = adapter.validate(input, Default.class);\n        if (violations.isEmpty()) {\n            adapter.validate(input, ValidationGroupExtended.class);\n        }\n        if (!violations.isEmpty()) {\n            throw new ConstraintViolationException(violations);\n        }\n    }\n\n}\n\n</code></pre>\n<p>I am testing the second validator which is inside the if statement. I changed the data to have some null values that will cause an null pointer exception.</p>\n<pre><code>public class InputValidator implements ConstraintValidator&lt;ValidInput, Input&gt; {\n\n    @Override\n    public boolean isValid(Input value, ConstraintValidatorContext context) {\n\n        try {\n\n            ... Some logic\n            return true;\n\n        }catch (Throwable exception) {\n            context.disableDefaultConstraintViolation();\n            context.buildConstraintViolationWithTemplate(exception.getMessage()).addConstraintViolation();\n            return false;\n        }\n    }\n\n    public @interface ValidationGroupExtended {\n    }\n}\n</code></pre>\n<p>This returns false as expected but after that during the message interpolation, I got another null pointer at this location</p>\n<pre><code>package org.hibernate.validator.internal.engine;\n\n...\n\n    private String interpolate(String messageTemplate,\n            Object validatedValue,\n            ConstraintDescriptor&lt;?&gt; descriptor,\n            Map&lt;String, Object&gt; messageParameters,\n            Map&lt;String, Object&gt; expressionVariables) {\n        MessageInterpolatorContext context = new MessageInterpolatorContext(\n                descriptor,\n                validatedValue,\n                getRootBeanClass(),\n                messageParameters,\n                expressionVariables\n        );\n\n        try {\n            return validatorScopedContext.getMessageInterpolator().interpolate(\n                    messageTemplate,\n                    context\n            );\n        }\n        catch (ValidationException ve) {\n            throw ve;\n        }\n        catch (Exception e) {\n            throw LOG.getExceptionOccurredDuringMessageInterpolationException( e );\n        }\n    }\n</code></pre>\n<p>And get this response afterwards</p>\n<blockquote>\n<p>&quot;HV000149: An exception occurred during message interpolation&quot;,</p>\n</blockquote>\n<p>I couldn't figure out what causes this issue, what am I missing or doing wrong?</p>\n<pre><code>java.lang.NullPointerException: null\n    at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolateMessage(AbstractMessageInterpolator.java:256) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolate(AbstractMessageInterpolator.java:232) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator.interpolate(LocaleContextMessageInterpolator.java:51) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.hibernate.validator.internal.engine.ValidationContext.interpolate(ValidationContext.java:465) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidationContext.createConstraintViolation(ValidationContext.java:319) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidationContext.lambda$createConstraintViolations$0(ValidationContext.java:276) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_271]\n    at java.util.Collections$2.tryAdvance(Collections.java:4719) ~[na:1.8.0_271]\n    at java.util.Collections$2.forEachRemaining(Collections.java:4727) ~[na:1.8.0_271]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_271]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_271]\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[na:1.8.0_271]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_271]\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[na:1.8.0_271]\n    at org.hibernate.validator.internal.engine.ValidationContext.createConstraintViolations(ValidationContext.java:277) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:182) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:68) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:73) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:127) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:120) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:552) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:534) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForNonDefaultGroup(ValidatorImpl.java:526) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:444) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:397) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:173) ~[hibernate-validator-6.0.17.Final.jar:6.0.17.Final]\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:358) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:358) ~[spring-context-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at com.company.company.api.controllers.InputValidationController.validate(InputValidationController.java:35) ~[classes/:na]\n    at com.company.company.api.controllers.InputValidationController$$FastClassBySpringCGLIB$$64bbfbae.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69) ~[spring-security-core-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at com.company.company.api.controllers.InputValidationController$$EnhancerBySpringCGLIB$$326105f6.validate(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_271]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_271]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_271]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_271]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at com.company.commons.security.util.CredentialsExpiredAuthorizationFilter.doFilterInternal(CredentialsExpiredAuthorizationFilter.java:53) ~[commons-security-2.6.0-SNAPSHOT.jar:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at com.company.commons.security.util.ClientAuthenticationFilter.doFilterInternal(ClientAuthenticationFilter.java:97) ~[commons-security-2.6.0-SNAPSHOT.jar:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:171) ~[spring-session-1.3.5.RELEASE.jar:na]\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80) ~[spring-session-1.3.5.RELEASE.jar:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_271]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_271]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar:9.0.27]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_271]\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":26506001,"reputation":2564,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1702039687,"post_id":77626286,"comment_id":136851826,"body_markdown":"You have add websocket handler on path `/path/wsAddress` but you trying to connect with path `/application/wsAddress`. Either change in client or change the handler to match both.","body":"You have add websocket handler on path <code>&#47;path&#47;wsAddress</code> but you trying to connect with path <code>&#47;application&#47;wsAddress</code>. Either change in client or change the handler to match both."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1702046694,"post_id":77626286,"comment_id":136852986,"body_markdown":"Sprint Boot 3.X requires JDK 17+ (spring-boot-starter-websocket) I don&#39;t understand how that setup works... ancient version of maven plugins...","body":"Sprint Boot 3.X requires JDK 17+ (spring-boot-starter-websocket) I don&#39;t understand how that setup works... ancient version of maven plugins..."}],"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702035395,"creation_date":1702035395,"question_id":77626286,"body_markdown":"I am writing a Spring Boot application. It is supposed to be a simple websocket application. Its purpose is getting a string from client and send it to back. I am getting &quot;WebSocket connection to &#39;ws://localhost:8080/application/wsAddress&#39; failed: &quot; error at the client side. Here is the pom file: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t\r\n    \t&lt;groupId&gt;com.application&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;application&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;application Maven Webapp&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20140107&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;application&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI created a custom handler, Sample WebSocketConfigurer java file to handle the message. Its content is below:\r\n\r\n    package application.websocketisleyici;\r\n    \r\n    import org.json.JSONObject;\r\n    import org.springframework.web.socket.TextMessage;\r\n    import org.springframework.web.socket.WebSocketSession;\r\n    import org.springframework.web.socket.handler.TextWebSocketHandler;\r\n    \r\n    public class SampleTextWebSocketHandler extends TextWebSocketHandler {\r\n    \t\r\n    \t@Override\r\n    \tprotected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {\r\n    \t\r\n    \t\tString payload = message.getPayload();\r\n    \t\tJSONObject jsonObject = new JSONObject(payload);\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;From Myserver-&quot;).append(&quot;Your Message:&quot;).append(jsonObject.get(&quot;clientMessage&quot;));\r\n    \t\tsession.sendMessage(new TextMessage(builder.toString()));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere is the content of the configurer. It configures SampleTextWebSocketHandler within the Spring application:  \r\n\r\n    package application.duzenleyici;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.socket.WebSocketHandler;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\r\n    import org.springframework.web.socket.config.annotation.WebSocketConfigurer;\r\n    import org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\r\n    \r\n    import application.websocketisleyici.SampleTextWebSocketHandler;\r\n    \r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class SampleEhoWebSocketConfigurer {\r\n    \t\r\n    \t@Bean\r\n    \tWebSocketConfigurer webSocketConfigurer(final WebSocketHandler webSocketHandler) {\r\n    \t\t\r\n    \t\treturn new WebSocketConfigurer() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n    \t\t\t\tregistry.addHandler(new SampleTextWebSocketHandler(), &quot;/path/wsAddress&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tWebSocketHandler createSampleTextWebSocketHandler() {\r\n    \t\treturn new SampleTextWebSocketHandler();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere is the content of the starter java class. It initiates the Spring application: \r\n\r\n    package application.duzenleyici;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class EchoWebSocketBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EchoWebSocketBootApplication.class, args);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere is the jsp file. It runs smoothly on initialization: \r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;h2&gt;Hello World!&lt;/h2&gt;\r\n    \t&lt;div&gt;\r\n    \t\t&lt;label&gt;Type your message and click to send: &lt;/label&gt; &lt;br&gt;\r\n    \t\t&lt;textarea name=&quot;textArea1&quot;  id=&quot;idTextArea1&quot; cols=&quot;40&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;\r\n    \t\t&lt;br&gt;\r\n    \t\t&lt;br&gt;\r\n    \t&lt;/div&gt;\r\n    \t\r\n    \t&lt;div id=&quot;resultDiv&quot;&gt;\r\n    \t \r\n    \t&lt;/div&gt;\r\n    \t\r\n    \t&lt;button type=&quot;button&quot; onclick=&quot;onClickButton()&quot;&gt;Send&lt;/button&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t\r\n    \tfunction onClickButton() {\r\n    \t\r\n    \t\tdocument.getElementById(&quot;resultDiv&quot;).innerHTML = &quot;operating&quot;;\r\n    \t\topenWebSocket();\r\n    \t\tsendMyClientMessage();\r\n    \t\r\n    \t}\r\n    \r\n    \tfunction openWebSocket() {\r\n    \r\n    \t\t//this is the point that I am getting the error: \r\n    \t\tws = new WebSocket(&quot;ws://localhost:8080/application/wsAddress&quot;);\r\n    \t\t\r\n    \t\tws.onmessage = function(event) {\r\n    \t\t\trenderServerReturnedData(event.data);\r\n    \t\t};\r\n    \t\tws.onerror = function(event) {\r\n    \t\t\t$(&#39;#resultDiv&#39;).html(event);\r\n    \t\t};\r\n    \r\n    \t}\r\n    \r\n    \tfunction sendMyClientMessage() {\r\n    \t\t\r\n    \t\tvar myText = document.getElementById(&quot;idTextArea1&quot;).innerHTML;\r\n    \t\tlet randomnumber = Math.random();\r\n    \t\t\r\n    \t\tvar message = JSON.stringify({\r\n    \t\t\t&#39;clientName&#39; : &#39;Client-\t&#39; + randomnumber,\r\n    \t\t\t&#39;clientMessage&#39; : myText\r\n    \t\t});\r\n    \t\t\r\n    \t\tws.onopen = () =&gt; ws.send(message);\r\n    \t\t\r\n    \t\t//ws.send(message);\r\n    \t\tdocument.getElementById(&#39;idTextArea1&#39;).value = &#39;&#39;;\r\n    \t}\r\n    &lt;/script&gt;\r\n\r\nTried Solution Candidates\r\n\r\n1- I tried this line, and it failed: ws = new WebSocket(&quot;ws://127.0.0.1:8080/application/wsAddress&quot;);\r\n\r\n2- I tried this line, and it failed: ws = new WebSocket(&quot;ws://mp ip adress:8080/application/wsAddress&quot;);\r\n\r\n3- I tried this line, and it failed: ws = new WebSocket(&quot;wss://localhost:8080/application/wsAddress&quot;);\r\n\r\n\r\nThanks in advance","title":"WebSocket Connection to &#39;path&#39; failed Error","body":"<p>I am writing a Spring Boot application. It is supposed to be a simple websocket application. Its purpose is getting a string from client and send it to back. I am getting &quot;WebSocket connection to 'ws://localhost:8080/application/wsAddress' failed: &quot; error at the client side. Here is the pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n    &lt;groupId&gt;com.application&lt;/groupId&gt;\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;application Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;6.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20140107&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;application&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                \n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I created a custom handler, Sample WebSocketConfigurer java file to handle the message. Its content is below:</p>\n<pre><code>package application.websocketisleyici;\n\nimport org.json.JSONObject;\nimport org.springframework.web.socket.TextMessage;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\n\npublic class SampleTextWebSocketHandler extends TextWebSocketHandler {\n    \n    @Override\n    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {\n    \n        String payload = message.getPayload();\n        JSONObject jsonObject = new JSONObject(payload);\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;From Myserver-&quot;).append(&quot;Your Message:&quot;).append(jsonObject.get(&quot;clientMessage&quot;));\n        session.sendMessage(new TextMessage(builder.toString()));\n        \n    }\n    \n}\n</code></pre>\n<p>Here is the content of the configurer. It configures SampleTextWebSocketHandler within the Spring application:</p>\n<pre><code>package application.duzenleyici;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.socket.WebSocketHandler;\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\nimport org.springframework.web.socket.config.annotation.WebSocketConfigurer;\nimport org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\n\nimport application.websocketisleyici.SampleTextWebSocketHandler;\n\n@Configuration\n@EnableWebSocket\npublic class SampleEhoWebSocketConfigurer {\n    \n    @Bean\n    WebSocketConfigurer webSocketConfigurer(final WebSocketHandler webSocketHandler) {\n        \n        return new WebSocketConfigurer() {\n            @Override\n            public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n                registry.addHandler(new SampleTextWebSocketHandler(), &quot;/path/wsAddress&quot;);\n            }\n        };\n        \n    }\n\n    @Bean\n    WebSocketHandler createSampleTextWebSocketHandler() {\n        return new SampleTextWebSocketHandler();\n    }\n    \n}\n</code></pre>\n<p>Here is the content of the starter java class. It initiates the Spring application:</p>\n<pre><code>package application.duzenleyici;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class EchoWebSocketBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EchoWebSocketBootApplication.class, args);\n    }\n    \n}\n</code></pre>\n<p>Here is the jsp file. It runs smoothly on initialization:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;Hello World!&lt;/h2&gt;\n    &lt;div&gt;\n        &lt;label&gt;Type your message and click to send: &lt;/label&gt; &lt;br&gt;\n        &lt;textarea name=&quot;textArea1&quot;  id=&quot;idTextArea1&quot; cols=&quot;40&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    \n    &lt;div id=&quot;resultDiv&quot;&gt;\n     \n    &lt;/div&gt;\n    \n    &lt;button type=&quot;button&quot; onclick=&quot;onClickButton()&quot;&gt;Send&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n    \n    function onClickButton() {\n    \n        document.getElementById(&quot;resultDiv&quot;).innerHTML = &quot;operating&quot;;\n        openWebSocket();\n        sendMyClientMessage();\n    \n    }\n\n    function openWebSocket() {\n\n        //this is the point that I am getting the error: \n        ws = new WebSocket(&quot;ws://localhost:8080/application/wsAddress&quot;);\n        \n        ws.onmessage = function(event) {\n            renderServerReturnedData(event.data);\n        };\n        ws.onerror = function(event) {\n            $('#resultDiv').html(event);\n        };\n\n    }\n\n    function sendMyClientMessage() {\n        \n        var myText = document.getElementById(&quot;idTextArea1&quot;).innerHTML;\n        let randomnumber = Math.random();\n        \n        var message = JSON.stringify({\n            'clientName' : 'Client- ' + randomnumber,\n            'clientMessage' : myText\n        });\n        \n        ws.onopen = () =&gt; ws.send(message);\n        \n        //ws.send(message);\n        document.getElementById('idTextArea1').value = '';\n    }\n&lt;/script&gt;\n</code></pre>\n<p>Tried Solution Candidates</p>\n<p>1- I tried this line, and it failed: ws = new WebSocket(&quot;ws://127.0.0.1:8080/application/wsAddress&quot;);</p>\n<p>2- I tried this line, and it failed: ws = new WebSocket(&quot;ws://mp ip adress:8080/application/wsAddress&quot;);</p>\n<p>3- I tried this line, and it failed: ws = new WebSocket(&quot;wss://localhost:8080/application/wsAddress&quot;);</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","swing","user-interface","maze","custom-painting"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1702023698,"post_id":77625178,"comment_id":136849309,"body_markdown":"It looks like you don&#39;t understand swing painting/drawing. You&#39;re calling generateMaze in your paintComponent. Don&#39;t do that. In removeWall you&#39;re calling &quot;SwingUtilites.invokeLater&quot; and attempting to use the graphics obect passed in for paintComponent. That is fundamentally broken. **Do not change anything in your paintComponent, just paint.**","body":"It looks like you don&#39;t understand swing painting/drawing. You&#39;re calling generateMaze in your paintComponent. Don&#39;t do that. In removeWall you&#39;re calling &quot;SwingUtilites.invokeLater&quot; and attempting to use the graphics obect passed in for paintComponent. That is fundamentally broken. <b>Do not change anything in your paintComponent, just paint.</b>"},{"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"score":0,"creation_date":1702025620,"post_id":77625178,"comment_id":136849592,"body_markdown":"Thanks for the reply. How am I gonna reuse the graphics object? I want to draw from generateMaze method, right?","body":"Thanks for the reply. How am I gonna reuse the graphics object? I want to draw from generateMaze method, right?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1702026384,"post_id":77625178,"comment_id":136849708,"body_markdown":"Do not reuse a graphics object. The idea in paintComponent is to just draw the component. If you want to build and modify an image, then use a `BufferedImage`. You can call `getGraphics` then modify the image with that graphics. Then you don&#39;t even need a paintComponent, just use a JLable with an ImageIcon.","body":"Do not reuse a graphics object. The idea in paintComponent is to just draw the component. If you want to build and modify an image, then use a <code>BufferedImage</code>. You can call <code>getGraphics</code> then modify the image with that graphics. Then you don&#39;t even need a paintComponent, just use a JLable with an ImageIcon."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1702027473,"post_id":77625178,"comment_id":136849859,"body_markdown":"`setDoubleBuffered(true);` is pointless, `JPanel` is already double buffered, you should also be calling `super.paintComponent` first before doing any custom painting","body":"<code>setDoubleBuffered(true);</code> is pointless, <code>JPanel</code> is already double buffered, you should also be calling <code>super.paintComponent</code> first before doing any custom painting"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1702027610,"post_id":77625178,"comment_id":136849883,"body_markdown":"*&quot; How am I gonna reuse the graphics object? I want to draw from generateMaze method, right?&quot;* - Painting can occur for any number of reasons, most of which you don&#39;t control.  This also means that you perform you paint pass as quick as possible.  Instead of trying to generate the maze each time the paint method is called, generate on the class creation and cache the data, use this to render the maze, or as matt has suggested, render it to a `BufferedImage`, but you might have issues if you want it to resize dynamically","body":"<i>&quot; How am I gonna reuse the graphics object? I want to draw from generateMaze method, right?&quot;</i> - Painting can occur for any number of reasons, most of which you don&#39;t control.  This also means that you perform you paint pass as quick as possible.  Instead of trying to generate the maze each time the paint method is called, generate on the class creation and cache the data, use this to render the maze, or as matt has suggested, render it to a <code>BufferedImage</code>, but you might have issues if you want it to resize dynamically"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702034112,"creation_date":1702033611,"answer_id":77626123,"question_id":77625178,"body_markdown":"# Introduction\r\n\r\nI redid your drawing code and came up with the following GUI.  This is your maze grid with no walls removed.\r\n\r\n[![Starting GUI][1]][1]\r\n\r\nIf you expand the GUI by clicking the box in the upper right, the grid resizes.  It&#39;s hard to see because Stack Overflow scales the image.\r\n\r\n[![Expanded GUI][2]][2]\r\n\r\n# Explanation\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][3] (MVC) pattern.  This pattern allows me to separate my concerns and focus on one small part of the Java application at a time.\r\n\r\nA Swing model is made up of one or more plain Java getter/setter classes.\r\n\r\nA Swing view is made up of one `JFrame` and as many `JPanels` or `JDialogs` as you need.\r\n\r\nEach Action or Listener is a Swing controller.  There&#39;s usually not one controller to &quot;rule them all&quot;.\r\n\r\n## Model\r\n\r\nI rewrote your Cell class.  You don&#39;t need the coordinate because the cell position in the grid provides the coordinate.  The coordinate is the x, y position of the cell in the grid, starting with 0,0 and going up to 39,39.\r\n\r\n\tpublic class Cell {\r\n\t\t\r\n\t\tprivate boolean north, south, east, west;\r\n\t\t\r\n\t\tpublic Cell() {\r\n\t\t\tthis.north = true;\r\n\t\t\tthis.south = true;\r\n\t\t\tthis.east = true;\r\n\t\t\tthis.west = true;\r\n\t\t}\r\n\r\n\t\tpublic boolean isNorth() {\r\n\t\t\treturn north;\r\n\t\t}\r\n\r\n\t\tpublic void setNorth(boolean north) {\r\n\t\t\tthis.north = north;\r\n\t\t}\r\n\r\n\t\tpublic boolean isSouth() {\r\n\t\t\treturn south;\r\n\t\t}\r\n\r\n\t\tpublic void setSouth(boolean south) {\r\n\t\t\tthis.south = south;\r\n\t\t}\r\n\r\n\t\tpublic boolean isEast() {\r\n\t\t\treturn east;\r\n\t\t}\r\n\r\n\t\tpublic void setEast(boolean east) {\r\n\t\t\tthis.east = east;\r\n\t\t}\r\n\r\n\t\tpublic boolean isWest() {\r\n\t\t\treturn west;\r\n\t\t}\r\n\r\n\t\tpublic void setWest(boolean west) {\r\n\t\t\tthis.west = west;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nYour code to create the maze will remove the walls of a cell by setting the appropriate `boolean` to `false`;  The Swing view code will paint the status of the grid.  Period.  Nothing else.\r\n\r\nHere&#39;s the `PerfectMazeModel` class.\r\n\r\n\tpublic class PerfectMazeModel {\r\n\t\t\r\n\t\tpublic final Cell[][] grid;\r\n\t\t\r\n\t\tpublic PerfectMazeModel() {\r\n\t\t\tthis.grid = new Cell[40][40];\r\n\t\t\tfor (int y = 0; y &lt; grid.length; y++) {\r\n\t\t\t\tfor (int x = 0; x &lt; grid[y].length; x++) {\r\n\t\t\t\t\tgrid[y][x] = new Cell();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic Cell[][] getGrid() {\r\n\t\t\treturn grid;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nHere we create the grid.  You don&#39;t have to make the grid square.\r\n\r\n## View\r\n\r\nI use a `JFrame` and create a drawing `JPanel`.  The drawing code is a bit complicated. \r\n\r\n\tpublic class DrawingPanel extends JPanel {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t\tprivate final PerfectMazeModel model;\r\n\t\t\r\n\t\tpublic DrawingPanel(PerfectMazeModel model) {\r\n\t\t\tthis.model = model;\r\n\t\t\tthis.setPreferredSize(new Dimension(800, 800));\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\t\r\n\t\t\tCell[][] grid = model.getGrid();\r\n\t\t\tint margin = 20;\r\n\t\t\tint width = this.getWidth() - 2 * margin;\r\n\t\t\tint height = this.getHeight() - 2 * margin;\r\n\t\t\tint cellWidth = width / grid[0].length;\r\n\t\t\tint cellHeight = height / grid.length;\r\n\t\t\tint cellDimension = Math.min(cellWidth, cellHeight);\r\n\t\t\t\r\n\t\t\tint dx = margin;\r\n\t\t\tint dy = margin;\r\n\t\t\tfor (int y = 0; y &lt; grid.length; y++) {\r\n\t\t\t\tfor (int x = 0; x &lt; grid[y].length; x++) {\r\n\t\t\t\t\tCell cell = grid[y][x];\r\n\t\t\t\t\tif (cell.isNorth()) {\r\n\t\t\t\t\t\tg.drawLine(dx, dy, dx + cellDimension, dy);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (cell.isWest()) {\r\n\t\t\t\t\t\tg.drawLine(dx, dy, dx, dy + cellDimension);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (cell.isSouth()) {\r\n\t\t\t\t\t\tint cx = dx + cellDimension;\r\n\t\t\t\t\t\tint cy = dy + cellDimension;\r\n\t\t\t\t\t\tg.drawLine(dx, cy, cx, cy);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (cell.isEast()) {\r\n\t\t\t\t\t\tint cx = dx + cellDimension;\r\n\t\t\t\t\t\tint cy = dy + cellDimension;\r\n\t\t\t\t\t\tg.drawLine(cx, dy, cx, cy);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdx += cellDimension;\r\n\t\t\t\t}\r\n\t\t\t\tdx = margin;\r\n\t\t\t\tdy += cellDimension;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nWe get the cell dimension based on the current width and height of the drawing `JPanel`.\r\n\r\nx and y are the logical coordinates of the grid cell.  dx and dy are the upper left corner of the grid cell.  cx and cy are the upper right and lower left points of the grid cell.  We draw the line based on the boolean flag.\r\n\r\nThe cell/grid model isn&#39;t perfect because the east line of one cell is the same line as the west line of the adjacent cell.  The same holds true for the north and south lines of a cell.\r\n\r\n## Controller\r\n\r\nSince I&#39;m just showing the model and drawing code, there are no controllers.  I&#39;ve left the addition of the code to remove lines for you.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class PerfectMaze implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new PerfectMaze());\r\n    \t}\r\n    \t\r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \t\r\n    \tprivate final PerfectMazeModel model;\r\n    \t\r\n    \tpublic PerfectMaze() {\r\n    \t\tthis.model = new PerfectMazeModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Perfect Maze&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void drawingPanelRepaint() {\r\n    \t\tthis.drawingPanel.repaint();\r\n    \t}\r\n    \t\r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t\tprivate final PerfectMazeModel model;\r\n    \t\t\r\n    \t\tpublic DrawingPanel(PerfectMazeModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.setPreferredSize(new Dimension(800, 800));\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tCell[][] grid = model.getGrid();\r\n    \t\t\tint margin = 20;\r\n    \t\t\tint width = this.getWidth() - 2 * margin;\r\n    \t\t\tint height = this.getHeight() - 2 * margin;\r\n    \t\t\tint cellWidth = width / grid[0].length;\r\n    \t\t\tint cellHeight = height / grid.length;\r\n    \t\t\tint cellDimension = Math.min(cellWidth, cellHeight);\r\n    \t\t\t\r\n    \t\t\tint dx = margin;\r\n    \t\t\tint dy = margin;\r\n    \t\t\tfor (int y = 0; y &lt; grid.length; y++) {\r\n    \t\t\t\tfor (int x = 0; x &lt; grid[y].length; x++) {\r\n    \t\t\t\t\tCell cell = grid[y][x];\r\n    \t\t\t\t\tif (cell.isNorth()) {\r\n    \t\t\t\t\t\tg.drawLine(dx, dy, dx + cellDimension, dy);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (cell.isWest()) {\r\n    \t\t\t\t\t\tg.drawLine(dx, dy, dx, dy + cellDimension);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (cell.isSouth()) {\r\n    \t\t\t\t\t\tint cx = dx + cellDimension;\r\n    \t\t\t\t\t\tint cy = dy + cellDimension;\r\n    \t\t\t\t\t\tg.drawLine(dx, cy, cx, cy);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (cell.isEast()) {\r\n    \t\t\t\t\t\tint cx = dx + cellDimension;\r\n    \t\t\t\t\t\tint cy = dy + cellDimension;\r\n    \t\t\t\t\t\tg.drawLine(cx, dy, cx, cy);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tdx += cellDimension;\r\n    \t\t\t\t}\r\n    \t\t\t\tdx = margin;\r\n    \t\t\t\tdy += cellDimension;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic class PerfectMazeModel {\r\n    \t\t\r\n    \t\tpublic final Cell[][] grid;\r\n    \t\t\r\n    \t\tpublic PerfectMazeModel() {\r\n    \t\t\tthis.grid = new Cell[40][40];\r\n    \t\t\tfor (int y = 0; y &lt; grid.length; y++) {\r\n    \t\t\t\tfor (int x = 0; x &lt; grid[y].length; x++) {\r\n    \t\t\t\t\tgrid[y][x] = new Cell();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic Cell[][] getGrid() {\r\n    \t\t\treturn grid;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class Cell {\r\n    \t\t\r\n    \t\tprivate boolean north, south, east, west;\r\n    \t\t\r\n    \t\tpublic Cell() {\r\n    \t\t\tthis.north = true;\r\n    \t\t\tthis.south = true;\r\n    \t\t\tthis.east = true;\r\n    \t\t\tthis.west = true;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isNorth() {\r\n    \t\t\treturn north;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setNorth(boolean north) {\r\n    \t\t\tthis.north = north;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isSouth() {\r\n    \t\t\treturn south;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setSouth(boolean south) {\r\n    \t\t\tthis.south = south;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isEast() {\r\n    \t\t\treturn east;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setEast(boolean east) {\r\n    \t\t\tthis.east = east;\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean isWest() {\r\n    \t\t\treturn west;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setWest(boolean west) {\r\n    \t\t\tthis.west = west;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XT4d9.png\r\n  [2]: https://i.stack.imgur.com/FiQfr.png\r\n  [3]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n","title":"Swing - UI changes are not affected","body":"<h1>Introduction</h1>\n<p>I redid your drawing code and came up with the following GUI.  This is your maze grid with no walls removed.</p>\n<p><a href=\"https://i.stack.imgur.com/XT4d9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XT4d9.png\" alt=\"Starting GUI\" /></a></p>\n<p>If you expand the GUI by clicking the box in the upper right, the grid resizes.  It's hard to see because Stack Overflow scales the image.</p>\n<p><a href=\"https://i.stack.imgur.com/FiQfr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FiQfr.png\" alt=\"Expanded GUI\" /></a></p>\n<h1>Explanation</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern.  This pattern allows me to separate my concerns and focus on one small part of the Java application at a time.</p>\n<p>A Swing model is made up of one or more plain Java getter/setter classes.</p>\n<p>A Swing view is made up of one <code>JFrame</code> and as many <code>JPanels</code> or <code>JDialogs</code> as you need.</p>\n<p>Each Action or Listener is a Swing controller.  There's usually not one controller to &quot;rule them all&quot;.</p>\n<h2>Model</h2>\n<p>I rewrote your Cell class.  You don't need the coordinate because the cell position in the grid provides the coordinate.  The coordinate is the x, y position of the cell in the grid, starting with 0,0 and going up to 39,39.</p>\n<pre><code>public class Cell {\n    \n    private boolean north, south, east, west;\n    \n    public Cell() {\n        this.north = true;\n        this.south = true;\n        this.east = true;\n        this.west = true;\n    }\n\n    public boolean isNorth() {\n        return north;\n    }\n\n    public void setNorth(boolean north) {\n        this.north = north;\n    }\n\n    public boolean isSouth() {\n        return south;\n    }\n\n    public void setSouth(boolean south) {\n        this.south = south;\n    }\n\n    public boolean isEast() {\n        return east;\n    }\n\n    public void setEast(boolean east) {\n        this.east = east;\n    }\n\n    public boolean isWest() {\n        return west;\n    }\n\n    public void setWest(boolean west) {\n        this.west = west;\n    }\n    \n}\n</code></pre>\n<p>Your code to create the maze will remove the walls of a cell by setting the appropriate <code>boolean</code> to <code>false</code>;  The Swing view code will paint the status of the grid.  Period.  Nothing else.</p>\n<p>Here's the <code>PerfectMazeModel</code> class.</p>\n<pre><code>public class PerfectMazeModel {\n    \n    public final Cell[][] grid;\n    \n    public PerfectMazeModel() {\n        this.grid = new Cell[40][40];\n        for (int y = 0; y &lt; grid.length; y++) {\n            for (int x = 0; x &lt; grid[y].length; x++) {\n                grid[y][x] = new Cell();\n            }\n        }\n    }\n\n    public Cell[][] getGrid() {\n        return grid;\n    }\n    \n}\n</code></pre>\n<p>Here we create the grid.  You don't have to make the grid square.</p>\n<h2>View</h2>\n<p>I use a <code>JFrame</code> and create a drawing <code>JPanel</code>.  The drawing code is a bit complicated.</p>\n<pre><code>public class DrawingPanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    \n    private final PerfectMazeModel model;\n    \n    public DrawingPanel(PerfectMazeModel model) {\n        this.model = model;\n        this.setPreferredSize(new Dimension(800, 800));\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        Cell[][] grid = model.getGrid();\n        int margin = 20;\n        int width = this.getWidth() - 2 * margin;\n        int height = this.getHeight() - 2 * margin;\n        int cellWidth = width / grid[0].length;\n        int cellHeight = height / grid.length;\n        int cellDimension = Math.min(cellWidth, cellHeight);\n        \n        int dx = margin;\n        int dy = margin;\n        for (int y = 0; y &lt; grid.length; y++) {\n            for (int x = 0; x &lt; grid[y].length; x++) {\n                Cell cell = grid[y][x];\n                if (cell.isNorth()) {\n                    g.drawLine(dx, dy, dx + cellDimension, dy);\n                }\n                if (cell.isWest()) {\n                    g.drawLine(dx, dy, dx, dy + cellDimension);\n                }\n                if (cell.isSouth()) {\n                    int cx = dx + cellDimension;\n                    int cy = dy + cellDimension;\n                    g.drawLine(dx, cy, cx, cy);\n                }\n                if (cell.isEast()) {\n                    int cx = dx + cellDimension;\n                    int cy = dy + cellDimension;\n                    g.drawLine(cx, dy, cx, cy);\n                }\n                dx += cellDimension;\n            }\n            dx = margin;\n            dy += cellDimension;\n        }\n    }\n}\n</code></pre>\n<p>We get the cell dimension based on the current width and height of the drawing <code>JPanel</code>.</p>\n<p>x and y are the logical coordinates of the grid cell.  dx and dy are the upper left corner of the grid cell.  cx and cy are the upper right and lower left points of the grid cell.  We draw the line based on the boolean flag.</p>\n<p>The cell/grid model isn't perfect because the east line of one cell is the same line as the west line of the adjacent cell.  The same holds true for the north and south lines of a cell.</p>\n<h2>Controller</h2>\n<p>Since I'm just showing the model and drawing code, there are no controllers.  I've left the addition of the code to remove lines for you.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class PerfectMaze implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new PerfectMaze());\n    }\n    \n    private final DrawingPanel drawingPanel;\n    \n    private final PerfectMazeModel model;\n    \n    public PerfectMaze() {\n        this.model = new PerfectMazeModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Perfect Maze&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    public void drawingPanelRepaint() {\n        this.drawingPanel.repaint();\n    }\n    \n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n        \n        private final PerfectMazeModel model;\n        \n        public DrawingPanel(PerfectMazeModel model) {\n            this.model = model;\n            this.setPreferredSize(new Dimension(800, 800));\n        }\n        \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            Cell[][] grid = model.getGrid();\n            int margin = 20;\n            int width = this.getWidth() - 2 * margin;\n            int height = this.getHeight() - 2 * margin;\n            int cellWidth = width / grid[0].length;\n            int cellHeight = height / grid.length;\n            int cellDimension = Math.min(cellWidth, cellHeight);\n            \n            int dx = margin;\n            int dy = margin;\n            for (int y = 0; y &lt; grid.length; y++) {\n                for (int x = 0; x &lt; grid[y].length; x++) {\n                    Cell cell = grid[y][x];\n                    if (cell.isNorth()) {\n                        g.drawLine(dx, dy, dx + cellDimension, dy);\n                    }\n                    if (cell.isWest()) {\n                        g.drawLine(dx, dy, dx, dy + cellDimension);\n                    }\n                    if (cell.isSouth()) {\n                        int cx = dx + cellDimension;\n                        int cy = dy + cellDimension;\n                        g.drawLine(dx, cy, cx, cy);\n                    }\n                    if (cell.isEast()) {\n                        int cx = dx + cellDimension;\n                        int cy = dy + cellDimension;\n                        g.drawLine(cx, dy, cx, cy);\n                    }\n                    dx += cellDimension;\n                }\n                dx = margin;\n                dy += cellDimension;\n            }\n        }\n    }\n    \n    public class PerfectMazeModel {\n        \n        public final Cell[][] grid;\n        \n        public PerfectMazeModel() {\n            this.grid = new Cell[40][40];\n            for (int y = 0; y &lt; grid.length; y++) {\n                for (int x = 0; x &lt; grid[y].length; x++) {\n                    grid[y][x] = new Cell();\n                }\n            }\n        }\n\n        public Cell[][] getGrid() {\n            return grid;\n        }\n        \n    }\n    \n    public class Cell {\n        \n        private boolean north, south, east, west;\n        \n        public Cell() {\n            this.north = true;\n            this.south = true;\n            this.east = true;\n            this.west = true;\n        }\n\n        public boolean isNorth() {\n            return north;\n        }\n\n        public void setNorth(boolean north) {\n            this.north = north;\n        }\n\n        public boolean isSouth() {\n            return south;\n        }\n\n        public void setSouth(boolean south) {\n            this.south = south;\n        }\n\n        public boolean isEast() {\n            return east;\n        }\n\n        public void setEast(boolean east) {\n            this.east = east;\n        }\n\n        public boolean isWest() {\n            return west;\n        }\n\n        public void setWest(boolean west) {\n            this.west = west;\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29925220,"reputation":23,"user_id":22956899,"display_name":"Giorgi Chapidze"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77626123,"answer_count":1,"score":0,"last_activity_date":1702034112,"creation_date":1702023036,"question_id":77625178,"body_markdown":"I&#39;m sketching the grid on the user interface using the width and height that I specified when I created the GridPanel, accordingly. For representational purposes, I am laying the grid starting at 30, 30, and ending at x - 60, y - 60. Depending on the grid dimensions, dynamic shrink and grow are implemented using scaleX and scaleY.\r\n\r\nThe image below displays the internals of the cell object.\r\n\r\n[Cell object](https://i.stack.imgur.com/NVWeB.jpg)\r\n\r\nGenerateMaze is a recursive backtracking algorithm used to generate perfect mazes. (Surely not complete, but I still should be able to see the result.)\r\n\r\n\r\n```\r\npublic class GridPanel extends JPanel {\r\n    private class Cell {\r\n        private int y, x;\r\n        private int[] south;\r\n        private int[] north;\r\n        private int[] west;\r\n        private int[] east;\r\n\r\n        private Cell(int y, int x) {\r\n            this.y = y;\r\n            this.x = x;\r\n\r\n            this.south = new int[4];\r\n            this.north = new int[4];\r\n            this.west = new int[4];\r\n            this.east = new int[4];\r\n        }\r\n    }\r\n\r\n    private int w, h;\r\n    private final int scaleX, scaleY;\r\n    private final int Vx, Vy;\r\n    private final Cell[][] grid;\r\n    private boolean[][] discovered;\r\n\r\n    public GridPanel(int w, int h) {\r\n        setLayout(new GridLayout(1, 1));\r\n\r\n        this.w = w;\r\n        this.h = h;\r\n\r\n        scaleX = (int) (w / Math.sqrt(w));\r\n        scaleY = (int) (h / Math.sqrt(h));\r\n\r\n        Vx = w / scaleX;\r\n        Vy = w / scaleY;\r\n\r\n        discovered = new boolean[Vy][Vx];\r\n\r\n        grid = new Cell[Vy][Vx];\r\n        init(grid);\r\n    }\r\n\r\n    private void init(Cell[][] grid) {\r\n        for (int j = 0; j &lt; grid.length; j++) {\r\n            for (int i = 0; i &lt; grid[0].length; i++) {\r\n                grid[j][i] = new Cell(j, i);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        setDoubleBuffered(true);\r\n        g.setColor(Color.CYAN);\r\n\r\n        for (int y = 30, j = 0; y &lt; h - 60; y += scaleY, j++) {\r\n            for (int x = 30, i = 0; x &lt; w - 60; x += scaleX, i++) {\r\n                Cell cell = grid[j][i];\r\n\r\n                cell.east = new int[]{x, y, x, y + scaleY};\r\n                cell.west = new int[]{x + scaleX, y, x + scaleX, y + scaleY};\r\n                cell.north = new int[]{x, y, x + scaleX, y};\r\n                cell.south = new int[]{x, y + scaleY, x + scaleX, y + scaleY};\r\n\r\n                g.drawLine(cell.east[0], cell.east[1], cell.east[2], cell.east[3]);\r\n                g.drawLine(cell.west[0], cell.west[1], cell.west[2], cell.west[3]);\r\n                g.drawLine(cell.south[0], cell.south[1], cell.south[2], cell.south[3]);\r\n                g.drawLine(cell.north[0], cell.north[1], cell.north[2], cell.north[3]);\r\n            }\r\n        }\r\n\r\n        generateMaze(g, 0, 0);\r\n    }\r\n\r\n    private void generateMaze(Graphics g, int y, int x) {\r\n        discovered[y][x] = true;\r\n\r\n        while (true) {\r\n            Cell current = grid[y][x];\r\n\r\n            if (validUp(y) &amp;&amp; !discovered[y - 1][x]) {\r\n                removeWall(g, current.north);\r\n                generateMaze(g, y - 1, x);\r\n            }\r\n            if (validDown(y) &amp;&amp; !discovered[y + 1][x]) {\r\n                removeWall(g, current.south);\r\n                generateMaze(g, y + 1, x);\r\n            }\r\n            if (validRight(x) &amp;&amp; !discovered[y][x + 1]) {\r\n                removeWall(g, current.east);\r\n                generateMaze(g, y, x + 1);\r\n            }\r\n            if (validLeft(x) &amp;&amp; !discovered[y][x - 1]) {\r\n                removeWall(g, current.west);\r\n                generateMaze(g, y, x - 1);\r\n            }\r\n\r\n            // All neighbors have been visited, break the loop\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n    private boolean validLeft(int x) {\r\n        if (x - 1 &lt; 0) return false;\r\n        return true;\r\n    }\r\n\r\n    private boolean validRight(int x) {\r\n        if (x + 1 &lt; grid[0].length) return true;\r\n        return false;\r\n    }\r\n\r\n    private void removeWall(Graphics g, int[] coordinate) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            g.setColor(Color.BLACK);\r\n            g.drawLine(coordinate[0], coordinate[1], coordinate[2], coordinate[3]);\r\n        });\r\n    }\r\n\r\n    private boolean validDown(int y) {\r\n        if (y + 1 &lt; grid.length) return true;\r\n        return false;\r\n    }\r\n\r\n    private boolean validUp(int y) {\r\n        if (y - 1 &lt; 0) return false;\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\n&#176; Application Frame:\r\n\r\n\r\n```\r\npublic class Maze extends JFrame {\r\n    private int w, h;\r\n\r\n    public Maze(int w, int h) throws HeadlessException {\r\n        super(&quot;Perfect Maze&quot;);\r\n        setResizable(false);\r\n        setBackground(Color.BLACK);\r\n\r\n        this.w = w;\r\n        this.h = h;\r\n\r\n        add(new GridPanel(w, h));\r\n\r\n        setSize(w, h);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n&#176; Runner:\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            new Maze(800, 800);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nGiven that the user interface appears and the application closes successfully, I believe the removeWall function is the cause of the issue.\r\n\r\nIt did not work when I attempted to add method: repaint() at the end of the method.","title":"Swing - UI changes are not affected","body":"<p>I'm sketching the grid on the user interface using the width and height that I specified when I created the GridPanel, accordingly. For representational purposes, I am laying the grid starting at 30, 30, and ending at x - 60, y - 60. Depending on the grid dimensions, dynamic shrink and grow are implemented using scaleX and scaleY.</p>\n<p>The image below displays the internals of the cell object.</p>\n<p><a href=\"https://i.stack.imgur.com/NVWeB.jpg\" rel=\"nofollow noreferrer\">Cell object</a></p>\n<p>GenerateMaze is a recursive backtracking algorithm used to generate perfect mazes. (Surely not complete, but I still should be able to see the result.)</p>\n<pre><code>public class GridPanel extends JPanel {\n    private class Cell {\n        private int y, x;\n        private int[] south;\n        private int[] north;\n        private int[] west;\n        private int[] east;\n\n        private Cell(int y, int x) {\n            this.y = y;\n            this.x = x;\n\n            this.south = new int[4];\n            this.north = new int[4];\n            this.west = new int[4];\n            this.east = new int[4];\n        }\n    }\n\n    private int w, h;\n    private final int scaleX, scaleY;\n    private final int Vx, Vy;\n    private final Cell[][] grid;\n    private boolean[][] discovered;\n\n    public GridPanel(int w, int h) {\n        setLayout(new GridLayout(1, 1));\n\n        this.w = w;\n        this.h = h;\n\n        scaleX = (int) (w / Math.sqrt(w));\n        scaleY = (int) (h / Math.sqrt(h));\n\n        Vx = w / scaleX;\n        Vy = w / scaleY;\n\n        discovered = new boolean[Vy][Vx];\n\n        grid = new Cell[Vy][Vx];\n        init(grid);\n    }\n\n    private void init(Cell[][] grid) {\n        for (int j = 0; j &lt; grid.length; j++) {\n            for (int i = 0; i &lt; grid[0].length; i++) {\n                grid[j][i] = new Cell(j, i);\n            }\n        }\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        setDoubleBuffered(true);\n        g.setColor(Color.CYAN);\n\n        for (int y = 30, j = 0; y &lt; h - 60; y += scaleY, j++) {\n            for (int x = 30, i = 0; x &lt; w - 60; x += scaleX, i++) {\n                Cell cell = grid[j][i];\n\n                cell.east = new int[]{x, y, x, y + scaleY};\n                cell.west = new int[]{x + scaleX, y, x + scaleX, y + scaleY};\n                cell.north = new int[]{x, y, x + scaleX, y};\n                cell.south = new int[]{x, y + scaleY, x + scaleX, y + scaleY};\n\n                g.drawLine(cell.east[0], cell.east[1], cell.east[2], cell.east[3]);\n                g.drawLine(cell.west[0], cell.west[1], cell.west[2], cell.west[3]);\n                g.drawLine(cell.south[0], cell.south[1], cell.south[2], cell.south[3]);\n                g.drawLine(cell.north[0], cell.north[1], cell.north[2], cell.north[3]);\n            }\n        }\n\n        generateMaze(g, 0, 0);\n    }\n\n    private void generateMaze(Graphics g, int y, int x) {\n        discovered[y][x] = true;\n\n        while (true) {\n            Cell current = grid[y][x];\n\n            if (validUp(y) &amp;&amp; !discovered[y - 1][x]) {\n                removeWall(g, current.north);\n                generateMaze(g, y - 1, x);\n            }\n            if (validDown(y) &amp;&amp; !discovered[y + 1][x]) {\n                removeWall(g, current.south);\n                generateMaze(g, y + 1, x);\n            }\n            if (validRight(x) &amp;&amp; !discovered[y][x + 1]) {\n                removeWall(g, current.east);\n                generateMaze(g, y, x + 1);\n            }\n            if (validLeft(x) &amp;&amp; !discovered[y][x - 1]) {\n                removeWall(g, current.west);\n                generateMaze(g, y, x - 1);\n            }\n\n            // All neighbors have been visited, break the loop\n            break;\n        }\n    }\n\n\n    private boolean validLeft(int x) {\n        if (x - 1 &lt; 0) return false;\n        return true;\n    }\n\n    private boolean validRight(int x) {\n        if (x + 1 &lt; grid[0].length) return true;\n        return false;\n    }\n\n    private void removeWall(Graphics g, int[] coordinate) {\n        SwingUtilities.invokeLater(() -&gt; {\n            g.setColor(Color.BLACK);\n            g.drawLine(coordinate[0], coordinate[1], coordinate[2], coordinate[3]);\n        });\n    }\n\n    private boolean validDown(int y) {\n        if (y + 1 &lt; grid.length) return true;\n        return false;\n    }\n\n    private boolean validUp(int y) {\n        if (y - 1 &lt; 0) return false;\n        return true;\n    }\n}\n</code></pre>\n<p>° Application Frame:</p>\n<pre><code>public class Maze extends JFrame {\n    private int w, h;\n\n    public Maze(int w, int h) throws HeadlessException {\n        super(&quot;Perfect Maze&quot;);\n        setResizable(false);\n        setBackground(Color.BLACK);\n\n        this.w = w;\n        this.h = h;\n\n        add(new GridPanel(w, h));\n\n        setSize(w, h);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n}\n</code></pre>\n<p>° Runner:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new Maze(800, 800);\n        });\n    }\n}\n</code></pre>\n<p>Given that the user interface appears and the application closes successfully, I believe the removeWall function is the cause of the issue.</p>\n<p>It did not work when I attempted to add method: repaint() at the end of the method.</p>\n"},{"tags":["java","android","react-native","telephonymanager"],"answers":[{"tags":[],"owner":{"account_id":27824349,"reputation":1,"user_id":21244057,"display_name":"Usama Ahmad Baig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702033694,"creation_date":1701960511,"answer_id":77620957,"question_id":76837328,"body_markdown":"Try to add `putExtra()`\r\n\r\n    callIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    callIntent.putExtra(&quot;com.android.phone.extra.slot&quot;, simSlotIndex);  \r\n    callIntent.putExtra(&quot;simSlot&quot;, simSlotIndex);\r\n\r\n\r\n","title":"Call using sim index in android, API level 31, android 12","body":"<p>Try to add <code>putExtra()</code></p>\n<pre><code>callIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncallIntent.putExtra(&quot;com.android.phone.extra.slot&quot;, simSlotIndex);  \ncallIntent.putExtra(&quot;simSlot&quot;, simSlotIndex);\n</code></pre>\n"}],"owner":{"account_id":19687671,"reputation":203,"user_id":14413302,"display_name":"Nabeel Sajid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702033694,"creation_date":1691163014,"question_id":76837328,"body_markdown":"I have a scenerio where I want to call someone without human interation,\r\nI am sending phone number and sim slot index using socket, if default sim is not selected android shows me sim selector popup, but if default sim is selected it will call through sim default sim.\r\n\r\nBut I want to call throug any sim index.\r\n\r\nSame approach is working for sms, but not for phone calls\r\n\r\nHere is my code.\r\n\r\n@ReactMethod\r\n    public void makeCallWithSim(int simSlotIndex, String phoneNumber, Callback callback) {\r\n        Context context = getReactApplicationContext();\r\n        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n        if (telephonyManager == null) {\r\n            // TelephonyManager is not available, handle error\r\n            if (callback != null) {\r\n                callback.invoke(&quot;TelephonyManager is not available.&quot;);\r\n            }\r\n            return;\r\n        }\r\n\r\n        SubscriptionManager subscriptionManager = (SubscriptionManager) context.getSystemService(Context.TELEPHONY_SUBSCRIPTION_SERVICE);\r\n        if (subscriptionManager == null) {\r\n            // SubscriptionManager is not available, handle error\r\n            if (callback != null) {\r\n                callback.invoke(&quot;SubscriptionManager is not available.&quot;);\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Get the active subscriptions\r\n        List&lt;SubscriptionInfo&gt; activeSubscriptions = subscriptionManager.getActiveSubscriptionInfoList();\r\n        if (activeSubscriptions == null || activeSubscriptions.isEmpty()) {\r\n            // No active subscriptions found, handle error\r\n            if (callback != null) {\r\n                callback.invoke(&quot;No active subscriptions found.&quot;);\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Check if the device supports multiple SIM cards\r\n        if (activeSubscriptions.size() &lt; 2) {\r\n            // Device does not support multiple SIM cards\r\n            // Use the default SIM card for the call\r\n            Log.d(&quot;Info&quot;, &quot;In IF&quot;);\r\n            Uri uri = Uri.parse(&quot;tel:&quot; + phoneNumber);\r\n            Intent callIntent = new Intent(Intent.ACTION_CALL, uri);\r\n            callIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\n            if (callIntent.resolveActivity(context.getPackageManager()) != null) {\r\n                context.startActivity(callIntent);\r\n                if (callback != null) {\r\n                    callback.invoke(); // Call initiated successfully\r\n                }\r\n            } else {\r\n                if (callback != null) {\r\n                    callback.invoke(&quot;Error: No activity found to handle the call intent.&quot;);\r\n                }\r\n            }\r\n        } else {\r\n            Log.d(&quot;Info&quot;, &quot;In ELSE&quot;);\r\n            // Get the subscription ID for the given SIM slot\r\n            // SubscriptionInfo subscriptionInfo = activeSubscriptions.get(simSlotIndex);\r\n            SubscriptionInfo subscriptionInfo = subscriptionManager.getActiveSubscriptionInfoForSimSlotIndex(simSlotIndex);\r\n            int subscriptionId = subscriptionInfo.getSubscriptionId();\r\n\r\n            // Set the SIM subscription ID for the call\r\n            telephonyManager = telephonyManager.createForSubscriptionId(subscriptionId);\r\n\r\n            // Make the call using the specified SIM\r\n            Uri uri = Uri.parse(&quot;tel:&quot; + phoneNumber);\r\n            Intent callIntent = new Intent(Intent.ACTION_CALL, uri);\r\n            callIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\n            if (callIntent.resolveActivity(context.getPackageManager()) != null) {\r\n                context.startActivity(callIntent);\r\n                if (callback != null) {\r\n                    callback.invoke(); // Call initiated successfully\r\n                }\r\n            } else {\r\n                if (callback != null) {\r\n                    callback.invoke(&quot;Error: No activity found to handle the call intent.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Call using sim index in android, API level 31, android 12","body":"<p>I have a scenerio where I want to call someone without human interation,\nI am sending phone number and sim slot index using socket, if default sim is not selected android shows me sim selector popup, but if default sim is selected it will call through sim default sim.</p>\n<p>But I want to call throug any sim index.</p>\n<p>Same approach is working for sms, but not for phone calls</p>\n<p>Here is my code.</p>\n<p>@ReactMethod\npublic void makeCallWithSim(int simSlotIndex, String phoneNumber, Callback callback) {\nContext context = getReactApplicationContext();\nTelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\nif (telephonyManager == null) {\n// TelephonyManager is not available, handle error\nif (callback != null) {\ncallback.invoke(&quot;TelephonyManager is not available.&quot;);\n}\nreturn;\n}</p>\n<pre><code>    SubscriptionManager subscriptionManager = (SubscriptionManager) context.getSystemService(Context.TELEPHONY_SUBSCRIPTION_SERVICE);\n    if (subscriptionManager == null) {\n        // SubscriptionManager is not available, handle error\n        if (callback != null) {\n            callback.invoke(&quot;SubscriptionManager is not available.&quot;);\n        }\n        return;\n    }\n\n    // Get the active subscriptions\n    List&lt;SubscriptionInfo&gt; activeSubscriptions = subscriptionManager.getActiveSubscriptionInfoList();\n    if (activeSubscriptions == null || activeSubscriptions.isEmpty()) {\n        // No active subscriptions found, handle error\n        if (callback != null) {\n            callback.invoke(&quot;No active subscriptions found.&quot;);\n        }\n        return;\n    }\n\n    // Check if the device supports multiple SIM cards\n    if (activeSubscriptions.size() &lt; 2) {\n        // Device does not support multiple SIM cards\n        // Use the default SIM card for the call\n        Log.d(&quot;Info&quot;, &quot;In IF&quot;);\n        Uri uri = Uri.parse(&quot;tel:&quot; + phoneNumber);\n        Intent callIntent = new Intent(Intent.ACTION_CALL, uri);\n        callIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n        if (callIntent.resolveActivity(context.getPackageManager()) != null) {\n            context.startActivity(callIntent);\n            if (callback != null) {\n                callback.invoke(); // Call initiated successfully\n            }\n        } else {\n            if (callback != null) {\n                callback.invoke(&quot;Error: No activity found to handle the call intent.&quot;);\n            }\n        }\n    } else {\n        Log.d(&quot;Info&quot;, &quot;In ELSE&quot;);\n        // Get the subscription ID for the given SIM slot\n        // SubscriptionInfo subscriptionInfo = activeSubscriptions.get(simSlotIndex);\n        SubscriptionInfo subscriptionInfo = subscriptionManager.getActiveSubscriptionInfoForSimSlotIndex(simSlotIndex);\n        int subscriptionId = subscriptionInfo.getSubscriptionId();\n\n        // Set the SIM subscription ID for the call\n        telephonyManager = telephonyManager.createForSubscriptionId(subscriptionId);\n\n        // Make the call using the specified SIM\n        Uri uri = Uri.parse(&quot;tel:&quot; + phoneNumber);\n        Intent callIntent = new Intent(Intent.ACTION_CALL, uri);\n        callIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n        if (callIntent.resolveActivity(context.getPackageManager()) != null) {\n            context.startActivity(callIntent);\n            if (callback != null) {\n                callback.invoke(); // Call initiated successfully\n            }\n        } else {\n            if (callback != null) {\n                callback.invoke(&quot;Error: No activity found to handle the call intent.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jparepository"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702032288,"creation_date":1702030948,"answer_id":77625885,"question_id":77625807,"body_markdown":"I don&#39;t think this is possible. As a workaround you can use a [Projection][1] containing only the id.\r\n```\r\npublic interface EducationIdProjection {\r\n\r\n  Long getId();\r\n}\r\n```\r\nThe repository method:\r\n```\r\nList&lt;EducationIdProjection&gt; findByUserId(Long userId);\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html","title":"How do I fetch list of long ids using JpaRepository?","body":"<p>I don't think this is possible. As a workaround you can use a <a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\" rel=\"nofollow noreferrer\">Projection</a> containing only the id.</p>\n<pre><code>public interface EducationIdProjection {\n\n  Long getId();\n}\n</code></pre>\n<p>The repository method:</p>\n<pre><code>List&lt;EducationIdProjection&gt; findByUserId(Long userId);\n</code></pre>\n"}],"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702033461,"creation_date":1702030161,"question_id":77625807,"body_markdown":"I want to fetch List of ids instead of List&lt;Education&gt;. How should I define it using JpaRepository syntax? The same code, but I want something like `List&lt;Long&gt; ids...`.\r\n\r\nIs there a way to do it using JpaRepository **without** using `@Query`?\r\n```\r\nList&lt;Education&gt; findByUserId(Long userId);\r\n```","title":"How do I fetch list of long ids using JpaRepository?","body":"<p>I want to fetch List of ids instead of List. How should I define it using JpaRepository syntax? The same code, but I want something like <code>List&lt;Long&gt; ids...</code>.</p>\n<p>Is there a way to do it using JpaRepository <strong>without</strong> using <code>@Query</code>?</p>\n<pre><code>List&lt;Education&gt; findByUserId(Long userId);\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":0,"creation_date":1478431878,"post_id":39976835,"comment_id":68143275,"body_markdown":"I&#39;ve got a pretty similar exception using Spring 4.3 with embedded Tomcat and Hibernate Validator 5.3","body":"I&#39;ve got a pretty similar exception using Spring 4.3 with embedded Tomcat and Hibernate Validator 5.3"},{"owner":{"display_name":"user8399477"},"score":0,"creation_date":1511883438,"post_id":39976835,"comment_id":82027469,"body_markdown":"Was a solution ever found to this problem?","body":"Was a solution ever found to this problem?"}],"answers":[{"tags":[],"owner":{"account_id":8743780,"reputation":966,"user_id":6540008,"accept_rate":43,"display_name":"Ali Akbarpour"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1481808715,"creation_date":1481808715,"answer_id":41165432,"question_id":39976835,"body_markdown":"remove this\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand try with\r\n\r\n    &lt;dependency&gt;\r\n              &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n              &lt;artifactId&gt;el-impl&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found","body":"<p>remove this</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and try with</p>\n\n<pre><code>&lt;dependency&gt;\n          &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n          &lt;artifactId&gt;el-impl&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8224420,"reputation":665,"user_id":6187135,"display_name":"peikuo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636709174,"creation_date":1492508601,"answer_id":43468731,"question_id":39976835,"body_markdown":"remove  \r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nFor this jar have `javax.el.ExpressionFactory`\r\n\r\nand `tomcat8-el-api.jar` have the same one.\r\n\r\nThis will cause conflict","title":"javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found","body":"<p>remove</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.el&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For this jar have <code>javax.el.ExpressionFactory</code></p>\n<p>and <code>tomcat8-el-api.jar</code> have the same one.</p>\n<p>This will cause conflict</p>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548150405,"creation_date":1548150405,"answer_id":54305385,"question_id":39976835,"body_markdown":"Same problem I had one legacy installation on Tomcat7+JDK1.8 box where a new webapp was deployed. It was meant to be run on Tomcat9+JDK10 but this box was an exception.\r\n\r\n    java.lang.NoClassDefFoundError: javax/el/ELManager\r\n    org.apache.jasper.JasperException: javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\r\n\r\nI could not update T7+JDK1.8 so instead made this brute-force change.\r\n\r\n     rename: tomcat/lib/el-api.jar to el-api.jar_original2.x\r\n     add: tomcat/lib/el-api.jar  version 3.x\r\n     add: tomcat/lib/el-impl-2.2.1-b05.jar   version 2.2.x\r\n\r\nhttps://mvnrepository.com/artifact/javax.el/javax.el-api/3.0.1-b06&lt;br/&gt;\r\nhttps://mvnrepository.com/artifact/org.glassfish.web/el-impl/2.2.1-b05\r\n","title":"javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found","body":"<p>Same problem I had one legacy installation on Tomcat7+JDK1.8 box where a new webapp was deployed. It was meant to be run on Tomcat9+JDK10 but this box was an exception.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: javax/el/ELManager\norg.apache.jasper.JasperException: javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\n</code></pre>\n\n<p>I could not update T7+JDK1.8 so instead made this brute-force change.</p>\n\n<pre><code> rename: tomcat/lib/el-api.jar to el-api.jar_original2.x\n add: tomcat/lib/el-api.jar  version 3.x\n add: tomcat/lib/el-impl-2.2.1-b05.jar   version 2.2.x\n</code></pre>\n\n<p><a href=\"https://mvnrepository.com/artifact/javax.el/javax.el-api/3.0.1-b06\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.el/javax.el-api/3.0.1-b06</a><br/>\n<a href=\"https://mvnrepository.com/artifact/org.glassfish.web/el-impl/2.2.1-b05\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.glassfish.web/el-impl/2.2.1-b05</a></p>\n"},{"tags":[],"owner":{"account_id":5987348,"reputation":4295,"user_id":4704510,"display_name":"UsamaAmjad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550541705,"creation_date":1550540039,"answer_id":54757657,"question_id":39976835,"body_markdown":"I tried all the already answered solutions but none of them work for me on `Spring Boot 2.1.3` **embedded** `tomcat`. Below dependencies worked for me\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found","body":"<p>I tried all the already answered solutions but none of them work for me on <code>Spring Boot 2.1.3</code> <strong>embedded</strong> <code>tomcat</code>. Below dependencies worked for me</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702032990,"creation_date":1702032990,"answer_id":77626071,"question_id":39976835,"body_markdown":"For Spring Boot 2.6.15 embedded tomcat worked tomcat-embed-jasper provided dependency.\r\n\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found","body":"<p>For Spring Boot 2.6.15 embedded tomcat worked tomcat-embed-jasper provided dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1463176,"reputation":4443,"user_id":1376885,"accept_rate":34,"display_name":"Viktor M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29460,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1702032990,"creation_date":1476187474,"question_id":39976835,"body_markdown":"Despite a lot of problem solutions I have stuck on the problem with `ELException`:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tilesConfigurer&#39; defined in ServletContext resource [/WEB-INF/tiles-context.xml]: Invocation of init method failed; nested exception is javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactorygetObject(AbstractBeanFactory.java:304)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:703)\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n            at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n            at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4853)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n            at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:940)\r\n            at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1816)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\r\n            at javax.el.FactoryFinder.newInstance(FactoryFinder.java:101)\r\n            at javax.el.FactoryFinder.find(FactoryFinder.java:197)\r\n            at javax.el.ExpressionFactory.newInstance(ExpressionFactory.java:197)\r\n            at javax.el.ExpressionFactory.newInstance(ExpressionFactory.java:168)\r\n            at org.apache.jasper.runtime.JspApplicationContextImpl.&lt;init&gt;(JspApplicationContextImpl.java:46)\r\n            at org.apache.jasper.runtime.JspApplicationContextImpl.getInstance(JspApplicationContextImpl.java:76)\r\n            at org.apache.jasper.runtime.JspFactoryImpl.getJspApplicationContext(JspFactoryImpl.java:217)\r\n            at org.springframework.web.servlet.view.tiles3.TilesConfigurer$TilesElActivator.createEvaluator(TilesConfigurer.java:407)\r\n            at org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createAttributeEvaluatorFactory(TilesConfigurer.java:374)\r\n            at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:88)\r\n            at org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createContainer(TilesConfigurer.java:296)\r\n            at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:114)\r\n            at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:64)\r\n            at org.springframework.web.servlet.view.tiles3.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:270)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n            ... 25 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl\r\n            at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1333)\r\n            at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1167)\r\n            at javax.el.FactoryFinder.newInstance(FactoryFinder.java:87)\r\n            ... 40 more\r\n\r\nI&#39;m sure that it isn&#39;t due to any user impact in web application code since another server with the same application is running well and both app&#39;s code is identical. Both servers` environments looks identical as well.\r\n\r\nI&#39;m using `Apache Tomcat/8.0.37` and `oracle-java8-jdk-amd64`.\r\n\r\nBelow is the list of `WEB-INF\\lib` used libraries:\r\n\r\n    activation-1.1.jar               hibernate-c3p0-4.2.7.Final.jar                  lucene-analyzers-3.6.2.jar        slf4j-simple-1.7.7.jar                    tiles-autotag-core-runtime-1.1.0.jar\r\n    amqp-client-3.3.4.jar            hibernate-commons-annotations-4.0.2.Final.jar   lucene-core-3.6.2.jar             snakeyaml-1.11.jar                        tiles-compat-3.0.3.jar\r\n    antlr-2.7.7.jar                  hibernate-core-4.2.7.Final.jar                  lucene-facet-3.6.2.jar            solr-analysis-extras-3.6.2.jar            tiles-core-3.0.3.jar\r\n    aopalliance-1.0.jar              hibernate-entitymanager-4.2.7.Final.jar         lucene-grouping-3.6.2.jar         solr-core-3.6.2.jar                       tiles-el-3.0.3.jar\r\n    asm-4.2.jar                      hibernate-jpa-2.0-api-1.0.1.Final.jar           lucene-highlighter-3.6.2.jar      solr-solrj-3.6.2.jar                      tiles-extras-3.0.3.jar\r\n    avro-1.7.5.jar                   hibernate-search-4.4.0.Final.jar                lucene-kuromoji-3.6.2.jar         spring-amqp-1.3.5.RELEASE.jar             tiles-freemarker-3.0.3.jar\r\n    c3p0-0.9.1.1.jar                 hibernate-search-analyzers-4.4.0.Final.jar      lucene-memory-3.6.2.jar           spring-aop-4.0.3.RELEASE.jar              tiles-jsp-3.0.3.jar\r\n    c3p0-0.9.2.1.jar                 hibernate-search-engine-4.4.0.Final.jar         lucene-misc-3.6.2.jar             spring-beans-4.0.3.RELEASE.jar            tiles-mvel-3.0.3.jar\r\n    cas-client-core-3.1.12.jar       hibernate-search-orm-4.4.0.Final.jar            lucene-phonetic-3.6.2.jar         spring-context-4.0.3.RELEASE.jar          tiles-ognl-3.0.3.jar\r\n    cassandra-driver-core-2.1.2.jar  hibernate-validator-5.1.0.Final.jar             lucene-smartcn-3.6.2.jar          spring-context-support-4.0.3.RELEASE.jar  tiles-request-api-1.0.3.jar\r\n    cassandra-driver-dse-2.1.2.jar   httpclient-4.3.3.jar                            lucene-spatial-3.6.2.jar          spring-core-4.0.3.RELEASE.jar             tiles-request-freemarker-1.0.3.jar\r\n    cglib-3.1.jar                    httpcore-4.3.2.jar                              lucene-spellchecker-3.6.2.jar     spring-cql-1.1.0.RELEASE.jar              tiles-request-jsp-1.0.3.jar\r\n    classmate-1.0.0.jar              jackson-core-asl-1.9.2.jar                      lucene-stempel-3.6.2.jar          spring-data-cassandra-1.1.0.RELEASE.jar   tiles-request-mustache-1.0.3.jar\r\n    commons-beanutils-1.9.2.jar      jackson-mapper-asl-1.9.12.jar                   lz4-1.2.0.jar                     spring-data-commons-1.9.0.RELEASE.jar     tiles-request-servlet-1.0.3.jar\r\n    commons-codec-1.6.jar            javaee-api-7.0.jar                              mail-1.4.7.jar                    spring-expression-4.0.3.RELEASE.jar       tiles-request-servlet-wildcard-1.0.3.jar\r\n    commons-collections-3.2.1.jar    javassist-3.18.1-GA.jar                         mchange-commons-java-0.2.3.4.jar  spring-jdbc-4.0.3.RELEASE.jar             tiles-request-velocity-1.0.3.jar\r\n    commons-compress-1.4.1.jar       javassist-3.7.ga.jar                            metrics-core-3.0.2.jar            spring-jms-4.0.3.RELEASE.jar              tiles-servlet-3.0.3.jar\r\n    commons-dbcp-1.4.jar             javax.mail-1.5.0.jar                            mvel2-2.0.11.jar                  spring-orm-4.0.3.RELEASE.jar              tiles-template-3.0.3.jar\r\n    commons-digester-2.0.jar         jawr-3.3.3.jar                                  netty-3.9.0.Final.jar             spring-rabbit-1.3.5.RELEASE.jar           tiles-velocity-3.0.3.jar\r\n    commons-io-2.4.jar               jboss-logging-3.1.3.GA.jar                      ognl-2.7.3.jar                    spring-retry-1.1.0.RELEASE.jar            validation-api-1.1.0.Final.jar\r\n    commons-lang-2.6.jar             jboss-transaction-api_1.1_spec-1.0.1.Final.jar  oro-2.0.8.jar                     spring-security-cas-3.1.4.RELEASE.jar     velocity-1.6.2.jar\r\n    commons-lang3-3.3.2.jar          jcl-over-slf4j-1.7.12.jar                       paranamer-2.3.jar                 spring-security-config-3.1.4.RELEASE.jar  velocity-tools-2.0.jar\r\n    commons-logging-1.1.3.jar        jna-4.0.0.jar                                   poi-3.10-FINAL.jar                spring-security-core-3.1.4.RELEASE.jar    waffle-jna-1.7.jar\r\n    commons-pool-1.5.4.jar           jna-platform-4.1.0.jar                          poi-ooxml-3.10-FINAL.jar          spring-security-web-3.1.4.RELEASE.jar     \r\n    compiler-0.8.4.jar               jstl-1.2.jar                                    poi-ooxml-schemas-3.10-FINAL.jar  spring-tx-4.0.3.RELEASE.jar               xmlbeans-2.3.0.jar\r\n    dom4j-1.6.1.jar                  liquibase-core-3.1.1.jar                        postgresql-9.4-1200-jdbc41.jar    spring-web-4.0.3.RELEASE.jar\r\n    ehcache-2.8.3.jar                log4j-over-slf4j-1.7.7.jar                      quartz-2.2.1.jar                  spring-webmvc-4.0.3.RELEASE.jar\r\n    freemarker-2.3.20.jar            logback-classic-1.1.3.jar                          stax-api-1.0.1.jar\r\n    guava-16.0.jar                   logback-core-1.1.3.jar                          slf4j-api-1.7.5.jar               tiles-api-3.0.3.jar\r\n\r\n\r\nBelow is the list of `/usr/share/java` libraries which are used by Tomcat8:\r\n\r\n    commons-dbcp-1.4.jar    jsp-api-2.3.jar                     tomcat8-catalina.jar                     tomcat8-i18n-fr-8.0.37.jar    tomcat8-jni.jar                 tomcat8-util-scan-8.0.37.jar\r\n    commons-dbcp.jar        libintl.jar                         tomcat8-catalina-storeconfig-8.0.37.jar  tomcat8-i18n-fr.jar           tomcat8-jsp-api-8.0.37.jar      tomcat8-util-scan.jar\r\n    commons-pool-1.6.jar    tomcat8-annotations-api-8.0.37.jar  tomcat8-catalina-storeconfig.jar         tomcat8-i18n-ja-8.0.37.jar    tomcat8-jsp-api.jar             tomcat8-websocket-8.0.37.jar\r\n    commons-pool.jar        tomcat8-annotations-api.jar         tomcat8-coyote-8.0.37.jar                tomcat8-i18n-ja.jar           tomcat8-juli-8.0.37.jar         tomcat8-websocket-api-8.0.37.jar\r\n    ecj.jar                 tomcat8-api-8.0.37.jar              tomcat8-coyote.jar                       tomcat8-jasper-8.0.37.jar     tomcat8-juli.jar                tomcat8-websocket-api.jar\r\n    eclipse-ecj-3.11.0.jar  tomcat8-api.jar                     tomcat8-dbcp-8.0.37.jar                  tomcat8-jasper-el-8.0.37.jar  tomcat8-servlet-api-8.0.37.jar  tomcat8-websocket.jar\r\n    eclipse-ecj.jar         tomcat8-catalina-8.0.37.jar         tomcat8-dbcp.jar                         tomcat8-jasper-el.jar         tomcat8-servlet-api.jar\r\n    el-api-3.0.jar          tomcat8-catalina-ant-8.0.37.jar     tomcat8-el-api-8.0.37.jar                tomcat8-jasper.jar            tomcat8-tribes-8.0.37.jar\r\n    el-impl-2.2.jar         tomcat8-catalina-ant.jar            tomcat8-el-api.jar                       tomcat8-jdbc-8.0.37.jar       tomcat8-tribes.jar\r\n    java_defaults.mk        tomcat8-catalina-ha-8.0.37.jar      tomcat8-i18n-es-8.0.37.jar               tomcat8-jdbc.jar              tomcat8-util-8.0.37.jar\r\n    javaee-api-7.0.jar      tomcat8-catalina-ha.jar             tomcat8-i18n-es.jar                      tomcat8-jni-8.0.37.jar        tomcat8-util.jar\r\n\r\n\r\nI`ve add el-api, el-impl and jsp-api to /usr/share/java due to errors that these libraries couldn&#39;t be found in /usr/share/java.\r\n\r\nPOM:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.company.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;prerequisites&gt;\r\n    \t\t&lt;maven&gt;3.0.0&lt;/maven&gt;\r\n    \t&lt;/prerequisites&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;springframework.version&gt;4.0.3.RELEASE&lt;/springframework.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.5&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.7.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.7.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.jawr&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jawr&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.cassandraunit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cassandra-unit-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cassandra&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cassandra-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.4-1200-jdbc41&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;${project.basedir}/documentation/package/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;testResources&gt;\r\n    \t\t\t&lt;testResource&gt;\r\n    \t\t\t\t&lt;directory&gt;${project.basedir}/src/main/webapp/WEB-INF&lt;/directory&gt;\r\n    \t\t\t&lt;/testResource&gt;\r\n    \t\t\t&lt;testResource&gt;\r\n    \t\t\t\t&lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/testResource&gt;\r\n    \t\t\t&lt;testResource&gt;\r\n    \t\t\t\t&lt;directory&gt;${project.basedir}/documentation/conf&lt;/directory&gt;\r\n    \t\t\t&lt;/testResource&gt;\r\n    \t\t&lt;/testResources&gt;\r\n    \t\t&lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\r\n    \t\t&lt;testSourceDirectory&gt;${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prod-resources&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;overwrite&gt;true&lt;/overwrite&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;**/*.jks&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;exclude&gt;**/*.xlsx&lt;/exclude&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;documentation/package/resources&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t\t&lt;filters&gt;\r\n    \t\t\t\t\t\t\t\t&lt;filter&gt;${project.basedir}/src/main/resources/application.properties&lt;/filter&gt;\r\n    \t\t\t\t\t\t\t&lt;/filters&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Duser.timezone=UTC -Duser.language=en -Duser.region=US&lt;/argLine&gt;\r\n    \t\t\t\t\t&lt;threadCount&gt;1&lt;/threadCount&gt;\r\n    \t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/*Tests.java&lt;/include&gt;\r\n    \t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;**/*IntegrationalTests.java&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;user.timezone&gt;Etc/UTC&lt;/user.timezone&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t\t&lt;!-- &lt;forkCount&gt;3&lt;/forkCount&gt; &lt;reuseForks&gt;true&lt;/reuseForks&gt; --&gt;\r\n    \r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;webResources&gt;\r\n    \t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t&lt;directory&gt;src/main/jsp&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t&lt;targetPath&gt;WEB-INF/jsp&lt;/targetPath&gt;\r\n    \t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t&lt;directory&gt;src/main/tags&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t&lt;targetPath&gt;WEB-INF/tags&lt;/targetPath&gt;\r\n    \t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t&lt;/webResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;5.0.3&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;formats&gt;\r\n    \t\t\t\t\t\t&lt;format&gt;html&lt;/format&gt;\r\n    \t\t\t\t\t\t&lt;format&gt;xml&lt;/format&gt;\r\n    \t\t\t\t\t&lt;/formats&gt;\r\n    \t\t\t\t\t&lt;check/&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;reporting&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;formats&gt;\r\n    \t\t\t\t\t\t&lt;format&gt;html&lt;/format&gt;\r\n    \t\t\t\t\t\t&lt;format&gt;xml&lt;/format&gt;\r\n    \t\t\t\t\t&lt;/formats&gt;\r\n    \t\t\t\t\t&lt;check/&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/reporting&gt;\r\n    &lt;/project&gt;\r\n\r\nHowever, I still have problem with finding `com.sun.el.ExpressionFactoryImpl`","title":"javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found","body":"<p>Despite a lot of problem solutions I have stuck on the problem with <code>ELException</code>:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tilesConfigurer' defined in ServletContext resource [/WEB-INF/tiles-context.xml]: Invocation of init method failed; nested exception is javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n        at org.springframework.beans.factory.support.AbstractBeanFactorygetObject(AbstractBeanFactory.java:304)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:703)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4853)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:940)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1816)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.el.ELException: Provider com.sun.el.ExpressionFactoryImpl not found\n        at javax.el.FactoryFinder.newInstance(FactoryFinder.java:101)\n        at javax.el.FactoryFinder.find(FactoryFinder.java:197)\n        at javax.el.ExpressionFactory.newInstance(ExpressionFactory.java:197)\n        at javax.el.ExpressionFactory.newInstance(ExpressionFactory.java:168)\n        at org.apache.jasper.runtime.JspApplicationContextImpl.&lt;init&gt;(JspApplicationContextImpl.java:46)\n        at org.apache.jasper.runtime.JspApplicationContextImpl.getInstance(JspApplicationContextImpl.java:76)\n        at org.apache.jasper.runtime.JspFactoryImpl.getJspApplicationContext(JspFactoryImpl.java:217)\n        at org.springframework.web.servlet.view.tiles3.TilesConfigurer$TilesElActivator.createEvaluator(TilesConfigurer.java:407)\n        at org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createAttributeEvaluatorFactory(TilesConfigurer.java:374)\n        at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:88)\n        at org.springframework.web.servlet.view.tiles3.TilesConfigurer$SpringTilesContainerFactory.createContainer(TilesConfigurer.java:296)\n        at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:114)\n        at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:64)\n        at org.springframework.web.servlet.view.tiles3.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:270)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n        ... 25 more\nCaused by: java.lang.ClassNotFoundException: com.sun.el.ExpressionFactoryImpl\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1333)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1167)\n        at javax.el.FactoryFinder.newInstance(FactoryFinder.java:87)\n        ... 40 more\n</code></pre>\n\n<p>I'm sure that it isn't due to any user impact in web application code since another server with the same application is running well and both app's code is identical. Both servers` environments looks identical as well.</p>\n\n<p>I'm using <code>Apache Tomcat/8.0.37</code> and <code>oracle-java8-jdk-amd64</code>.</p>\n\n<p>Below is the list of <code>WEB-INF\\lib</code> used libraries:</p>\n\n<pre><code>activation-1.1.jar               hibernate-c3p0-4.2.7.Final.jar                  lucene-analyzers-3.6.2.jar        slf4j-simple-1.7.7.jar                    tiles-autotag-core-runtime-1.1.0.jar\namqp-client-3.3.4.jar            hibernate-commons-annotations-4.0.2.Final.jar   lucene-core-3.6.2.jar             snakeyaml-1.11.jar                        tiles-compat-3.0.3.jar\nantlr-2.7.7.jar                  hibernate-core-4.2.7.Final.jar                  lucene-facet-3.6.2.jar            solr-analysis-extras-3.6.2.jar            tiles-core-3.0.3.jar\naopalliance-1.0.jar              hibernate-entitymanager-4.2.7.Final.jar         lucene-grouping-3.6.2.jar         solr-core-3.6.2.jar                       tiles-el-3.0.3.jar\nasm-4.2.jar                      hibernate-jpa-2.0-api-1.0.1.Final.jar           lucene-highlighter-3.6.2.jar      solr-solrj-3.6.2.jar                      tiles-extras-3.0.3.jar\navro-1.7.5.jar                   hibernate-search-4.4.0.Final.jar                lucene-kuromoji-3.6.2.jar         spring-amqp-1.3.5.RELEASE.jar             tiles-freemarker-3.0.3.jar\nc3p0-0.9.1.1.jar                 hibernate-search-analyzers-4.4.0.Final.jar      lucene-memory-3.6.2.jar           spring-aop-4.0.3.RELEASE.jar              tiles-jsp-3.0.3.jar\nc3p0-0.9.2.1.jar                 hibernate-search-engine-4.4.0.Final.jar         lucene-misc-3.6.2.jar             spring-beans-4.0.3.RELEASE.jar            tiles-mvel-3.0.3.jar\ncas-client-core-3.1.12.jar       hibernate-search-orm-4.4.0.Final.jar            lucene-phonetic-3.6.2.jar         spring-context-4.0.3.RELEASE.jar          tiles-ognl-3.0.3.jar\ncassandra-driver-core-2.1.2.jar  hibernate-validator-5.1.0.Final.jar             lucene-smartcn-3.6.2.jar          spring-context-support-4.0.3.RELEASE.jar  tiles-request-api-1.0.3.jar\ncassandra-driver-dse-2.1.2.jar   httpclient-4.3.3.jar                            lucene-spatial-3.6.2.jar          spring-core-4.0.3.RELEASE.jar             tiles-request-freemarker-1.0.3.jar\ncglib-3.1.jar                    httpcore-4.3.2.jar                              lucene-spellchecker-3.6.2.jar     spring-cql-1.1.0.RELEASE.jar              tiles-request-jsp-1.0.3.jar\nclassmate-1.0.0.jar              jackson-core-asl-1.9.2.jar                      lucene-stempel-3.6.2.jar          spring-data-cassandra-1.1.0.RELEASE.jar   tiles-request-mustache-1.0.3.jar\ncommons-beanutils-1.9.2.jar      jackson-mapper-asl-1.9.12.jar                   lz4-1.2.0.jar                     spring-data-commons-1.9.0.RELEASE.jar     tiles-request-servlet-1.0.3.jar\ncommons-codec-1.6.jar            javaee-api-7.0.jar                              mail-1.4.7.jar                    spring-expression-4.0.3.RELEASE.jar       tiles-request-servlet-wildcard-1.0.3.jar\ncommons-collections-3.2.1.jar    javassist-3.18.1-GA.jar                         mchange-commons-java-0.2.3.4.jar  spring-jdbc-4.0.3.RELEASE.jar             tiles-request-velocity-1.0.3.jar\ncommons-compress-1.4.1.jar       javassist-3.7.ga.jar                            metrics-core-3.0.2.jar            spring-jms-4.0.3.RELEASE.jar              tiles-servlet-3.0.3.jar\ncommons-dbcp-1.4.jar             javax.mail-1.5.0.jar                            mvel2-2.0.11.jar                  spring-orm-4.0.3.RELEASE.jar              tiles-template-3.0.3.jar\ncommons-digester-2.0.jar         jawr-3.3.3.jar                                  netty-3.9.0.Final.jar             spring-rabbit-1.3.5.RELEASE.jar           tiles-velocity-3.0.3.jar\ncommons-io-2.4.jar               jboss-logging-3.1.3.GA.jar                      ognl-2.7.3.jar                    spring-retry-1.1.0.RELEASE.jar            validation-api-1.1.0.Final.jar\ncommons-lang-2.6.jar             jboss-transaction-api_1.1_spec-1.0.1.Final.jar  oro-2.0.8.jar                     spring-security-cas-3.1.4.RELEASE.jar     velocity-1.6.2.jar\ncommons-lang3-3.3.2.jar          jcl-over-slf4j-1.7.12.jar                       paranamer-2.3.jar                 spring-security-config-3.1.4.RELEASE.jar  velocity-tools-2.0.jar\ncommons-logging-1.1.3.jar        jna-4.0.0.jar                                   poi-3.10-FINAL.jar                spring-security-core-3.1.4.RELEASE.jar    waffle-jna-1.7.jar\ncommons-pool-1.5.4.jar           jna-platform-4.1.0.jar                          poi-ooxml-3.10-FINAL.jar          spring-security-web-3.1.4.RELEASE.jar     \ncompiler-0.8.4.jar               jstl-1.2.jar                                    poi-ooxml-schemas-3.10-FINAL.jar  spring-tx-4.0.3.RELEASE.jar               xmlbeans-2.3.0.jar\ndom4j-1.6.1.jar                  liquibase-core-3.1.1.jar                        postgresql-9.4-1200-jdbc41.jar    spring-web-4.0.3.RELEASE.jar\nehcache-2.8.3.jar                log4j-over-slf4j-1.7.7.jar                      quartz-2.2.1.jar                  spring-webmvc-4.0.3.RELEASE.jar\nfreemarker-2.3.20.jar            logback-classic-1.1.3.jar                          stax-api-1.0.1.jar\nguava-16.0.jar                   logback-core-1.1.3.jar                          slf4j-api-1.7.5.jar               tiles-api-3.0.3.jar\n</code></pre>\n\n<p>Below is the list of <code>/usr/share/java</code> libraries which are used by Tomcat8:</p>\n\n<pre><code>commons-dbcp-1.4.jar    jsp-api-2.3.jar                     tomcat8-catalina.jar                     tomcat8-i18n-fr-8.0.37.jar    tomcat8-jni.jar                 tomcat8-util-scan-8.0.37.jar\ncommons-dbcp.jar        libintl.jar                         tomcat8-catalina-storeconfig-8.0.37.jar  tomcat8-i18n-fr.jar           tomcat8-jsp-api-8.0.37.jar      tomcat8-util-scan.jar\ncommons-pool-1.6.jar    tomcat8-annotations-api-8.0.37.jar  tomcat8-catalina-storeconfig.jar         tomcat8-i18n-ja-8.0.37.jar    tomcat8-jsp-api.jar             tomcat8-websocket-8.0.37.jar\ncommons-pool.jar        tomcat8-annotations-api.jar         tomcat8-coyote-8.0.37.jar                tomcat8-i18n-ja.jar           tomcat8-juli-8.0.37.jar         tomcat8-websocket-api-8.0.37.jar\necj.jar                 tomcat8-api-8.0.37.jar              tomcat8-coyote.jar                       tomcat8-jasper-8.0.37.jar     tomcat8-juli.jar                tomcat8-websocket-api.jar\neclipse-ecj-3.11.0.jar  tomcat8-api.jar                     tomcat8-dbcp-8.0.37.jar                  tomcat8-jasper-el-8.0.37.jar  tomcat8-servlet-api-8.0.37.jar  tomcat8-websocket.jar\neclipse-ecj.jar         tomcat8-catalina-8.0.37.jar         tomcat8-dbcp.jar                         tomcat8-jasper-el.jar         tomcat8-servlet-api.jar\nel-api-3.0.jar          tomcat8-catalina-ant-8.0.37.jar     tomcat8-el-api-8.0.37.jar                tomcat8-jasper.jar            tomcat8-tribes-8.0.37.jar\nel-impl-2.2.jar         tomcat8-catalina-ant.jar            tomcat8-el-api.jar                       tomcat8-jdbc-8.0.37.jar       tomcat8-tribes.jar\njava_defaults.mk        tomcat8-catalina-ha-8.0.37.jar      tomcat8-i18n-es-8.0.37.jar               tomcat8-jdbc.jar              tomcat8-util-8.0.37.jar\njavaee-api-7.0.jar      tomcat8-catalina-ha.jar             tomcat8-i18n-es.jar                      tomcat8-jni-8.0.37.jar        tomcat8-util.jar\n</code></pre>\n\n<p>I`ve add el-api, el-impl and jsp-api to /usr/share/java due to errors that these libraries couldn't be found in /usr/share/java.</p>\n\n<p>POM:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.company.test&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.0.0&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;springframework.version&gt;4.0.3.RELEASE&lt;/springframework.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.2.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.2.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.jawr&lt;/groupId&gt;\n            &lt;artifactId&gt;jawr&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-cas&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.10-FINAL&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.0.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.10-FINAL&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.cassandraunit&lt;/groupId&gt;\n            &lt;artifactId&gt;cassandra-unit-spring&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cassandra&lt;/groupId&gt;\n            &lt;artifactId&gt;cassandra-all&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;9.4-1200-jdbc41&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/documentation/package/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;${project.basedir}/src/main/webapp/WEB-INF&lt;/directory&gt;\n            &lt;/testResource&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;${project.basedir}/documentation/conf&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prod-resources&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\n                            &lt;overwrite&gt;true&lt;/overwrite&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;**/*.jks&lt;/exclude&gt;\n                                        &lt;exclude&gt;**/*.xlsx&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;documentation/package/resources&lt;/directory&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;${project.basedir}/src/main/resources/application.properties&lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Duser.timezone=UTC -Duser.language=en -Duser.region=US&lt;/argLine&gt;\n                    &lt;threadCount&gt;1&lt;/threadCount&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Tests.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*IntegrationalTests.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;user.timezone&gt;Etc/UTC&lt;/user.timezone&gt;\n                    &lt;/systemPropertyVariables&gt;\n                    &lt;!-- &lt;forkCount&gt;3&lt;/forkCount&gt; &lt;reuseForks&gt;true&lt;/reuseForks&gt; --&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;src/main/jsp&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF/jsp&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;src/main/tags&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF/tags&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                        &lt;version&gt;5.0.3&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;format&gt;html&lt;/format&gt;\n                        &lt;format&gt;xml&lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;check/&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;version&gt;1.7.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n                &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;format&gt;html&lt;/format&gt;\n                        &lt;format&gt;xml&lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;check/&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>However, I still have problem with finding <code>com.sun.el.ExpressionFactoryImpl</code></p>\n"},{"tags":["java","spring-boot","docker","docker-image","rancher-desktop"],"comments":[{"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"score":1,"creation_date":1653928377,"post_id":72437422,"comment_id":127965835,"body_markdown":"Are you sure you the file `target/springboot-example.jar` exists?\nIt might have a different name, depending on how have configured the jar name generation E.g if you have the version built into the name before the `.jar`, you can use a wildcard: `ADD target/springboot-example*.jar springboot-example.jar`","body":"Are you sure you the file <code>target&#47;springboot-example.jar</code> exists? It might have a different name, depending on how have configured the jar name generation E.g if you have the version built into the name before the <code>.jar</code>, you can use a wildcard: <code>ADD target&#47;springboot-example*.jar springboot-example.jar</code>"},{"owner":{"account_id":13037809,"reputation":1278,"user_id":9422114,"accept_rate":75,"display_name":"Jacobo"},"score":0,"creation_date":1653965501,"post_id":72437422,"comment_id":127973050,"body_markdown":"Have you tried to specify a WORKDIR?","body":"Have you tried to specify a WORKDIR?"}],"answers":[{"tags":[],"owner":{"account_id":16920875,"reputation":375,"user_id":12237733,"display_name":"Farhan Yudhi Fatah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656581216,"creation_date":1656581216,"answer_id":72813381,"question_id":72437422,"body_markdown":"In my case, the target file isn&#39;t match with pom.xml file.\r\n\r\nYour target `springboot-example` is the (`&lt;artifactId&gt;`+`&lt;version&gt;`**.jar**) in pom.xml. I think `springboot-example` you declared in the dockerfile is doesn&#39;t match with **artifactId** and **version** tag in the pom.xml file. Just make sure your project with follow this step:\r\n\r\n## Step-1 ##\r\ngo to the pom.xml file and make sure your `&lt;grupId&gt;` and `&lt;artifactId&gt;` its same with your Dockerfile target\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GeRY.png\r\n\r\n## Step-2 ##\r\n\r\nSetting the Dockerfile, for my project it will be like this:\r\n\r\n    FROM openjdk:17\r\n    ADD target/intermnc-0.0.1.jar intermnc-0.0.1.jar\r\n    EXPOSE 8081\r\n    ENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar intermnc-0.0.1.jar&quot;]\r\n\r\nIts SOLVED in my case, good luck dude!","title":"ADD failed: file not found in build context or excluded by .dockerignore:","body":"<p>In my case, the target file isn't match with pom.xml file.</p>\n<p>Your target <code>springboot-example</code> is the (<code>&lt;artifactId&gt;</code>+<code>&lt;version&gt;</code><strong>.jar</strong>) in pom.xml. I think <code>springboot-example</code> you declared in the dockerfile is doesn't match with <strong>artifactId</strong> and <strong>version</strong> tag in the pom.xml file. Just make sure your project with follow this step:</p>\n<h2>Step-1</h2>\n<p>go to the pom.xml file and make sure your <code>&lt;grupId&gt;</code> and <code>&lt;artifactId&gt;</code> its same with your Dockerfile target\n<a href=\"https://i.stack.imgur.com/9GeRY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GeRY.png\" alt=\"enter image description here\" /></a></p>\n<h2>Step-2</h2>\n<p>Setting the Dockerfile, for my project it will be like this:</p>\n<pre><code>FROM openjdk:17\nADD target/intermnc-0.0.1.jar intermnc-0.0.1.jar\nEXPOSE 8081\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar intermnc-0.0.1.jar&quot;]\n</code></pre>\n<p>Its SOLVED in my case, good luck dude!</p>\n"},{"tags":[],"owner":{"account_id":7654053,"reputation":21,"user_id":5801655,"display_name":"user5801655"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702032900,"creation_date":1702032900,"answer_id":77626065,"question_id":72437422,"body_markdown":"I solved the problem by specifying relative path instead of absolute path.\r\n\r\nMy DockerFile and all other files were at &quot;/root/files&quot; directory and I was inside &quot;/root/files&quot; directory.\r\n\r\nEarlier I had below statement in Dockerfile, \r\n\r\n    ADD --chown=abcuser:abc /root/files/patches.bom /opt/sbj/patches/patches.bom\r\n\r\nwhich I changed to,\r\n\r\n    ADD --chown=abcuser:abc ./patches.bom /opt/sbj/patches/patches.bom\r\n\r\nThis worked. \r\n\r\n\r\n","title":"ADD failed: file not found in build context or excluded by .dockerignore:","body":"<p>I solved the problem by specifying relative path instead of absolute path.</p>\n<p>My DockerFile and all other files were at &quot;/root/files&quot; directory and I was inside &quot;/root/files&quot; directory.</p>\n<p>Earlier I had below statement in Dockerfile,</p>\n<pre><code>ADD --chown=abcuser:abc /root/files/patches.bom /opt/sbj/patches/patches.bom\n</code></pre>\n<p>which I changed to,</p>\n<pre><code>ADD --chown=abcuser:abc ./patches.bom /opt/sbj/patches/patches.bom\n</code></pre>\n<p>This worked.</p>\n"}],"owner":{"account_id":21840692,"reputation":21,"user_id":16134247,"display_name":"Kuldeep Shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1702032900,"creation_date":1653928108,"question_id":72437422,"body_markdown":"This is my Dockerfile:\r\n\r\n```\r\nFROM openjdk:8\r\nEXPOSE 8080\r\nADD target/springboot-example.jar springboot-example.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/springboot-example.jar&quot;]\r\n```\r\n\r\nWhile running `docker build`, I see this error:\r\n\r\n&gt; Step 3/4 : ADD target/springboot-example.jar springboot-example.jar   \r\n&gt; ADD failed: file not found in build context or excluded by .dockerignore: stat target/springboot-example.jar: file does not exist\r\n","title":"ADD failed: file not found in build context or excluded by .dockerignore:","body":"<p>This is my Dockerfile:</p>\n<pre><code>FROM openjdk:8\nEXPOSE 8080\nADD target/springboot-example.jar springboot-example.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/springboot-example.jar&quot;]\n</code></pre>\n<p>While running <code>docker build</code>, I see this error:</p>\n<blockquote>\n<p>Step 3/4 : ADD target/springboot-example.jar springboot-example.jar<br />\nADD failed: file not found in build context or excluded by .dockerignore: stat target/springboot-example.jar: file does not exist</p>\n</blockquote>\n"},{"tags":["java","spring-boot","hibernate","transactions","crud"],"owner":{"account_id":20017731,"reputation":7,"user_id":14673336,"display_name":"Ilya Slezkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702046632,"answer_count":0,"score":-2,"last_activity_date":1702032880,"creation_date":1702032880,"question_id":77626062,"body_markdown":"There is a project based on Java, Spring boot, JPA, Hibernate technologies.\r\n\r\nIn our project, it is customary that when creating a new entity -&gt; we return the “id” of the created entity. When updating and deleting entity, we return “true”  if successful completion of the operation.\r\n\r\nAfter performing an operation to save or update an entity, the frontend requests updated data for the same entity by &quot;id&quot; to obtain the current and fresh data.\r\n\r\nAll logic for updating and creating an entity is located in the service.\r\n\r\nOne developer, when implementing a new functionality, decided to return the DTO with an updated entity, and because of this, we started a dispute. He wrote the code so that in the update method, after the line “Repository.save(entity)”, the next line creates and maps an entity in the DTO, which will go to the frontend as a result.\r\nSample code below\r\n\r\n```\r\n    @Transactional\r\n    public GenreDto update(Dto dto) {        \r\n        var entity = findById(dto.getId());\r\n\r\n        // some logic\r\n        //...\r\n\r\n        entity = genreRepository.save(entity);\r\n        val updatedEntityDto = genreMapper.toDto(entity);\r\n        return updatedEntityDto;\r\n    }\r\n```\r\n\r\nI really don&#39;t like this approach. Because he formed the DTO before the transaction was closed, I know that we will receive the real and most valid data only after the transaction is closed, there can be many options when, after closing the transaction, various data will not be saved in the database, or will be saved differently.\r\nFor example, if in entity we put on the “name” field: “@Column(name = “name”, insertable = false, updatable = false)”, then we will not see any errors, and when the transaction is closed, the “name” field simply does not will change, but in his DTO he returned what he wanted to see, and not the real data.\r\nSo I say you have 2 options:\r\n1) simply return an id when creating and a boolean when updating, let the frontend or other service pull up the real data.\r\n2) if you are returning the DTO, then save it in one transaction, and create the DTO in another, after saving.\r\n\r\nI would like to hear the opinion of experts, which of us is right? Help me resolve the dispute and prove that I am right in this matter or maybe it’s just my mental hang-ups?)","title":"How to correctly (legally) return the DTO after updating an existing entity in Java?","body":"<p>There is a project based on Java, Spring boot, JPA, Hibernate technologies.</p>\n<p>In our project, it is customary that when creating a new entity -&gt; we return the “id” of the created entity. When updating and deleting entity, we return “true”  if successful completion of the operation.</p>\n<p>After performing an operation to save or update an entity, the frontend requests updated data for the same entity by &quot;id&quot; to obtain the current and fresh data.</p>\n<p>All logic for updating and creating an entity is located in the service.</p>\n<p>One developer, when implementing a new functionality, decided to return the DTO with an updated entity, and because of this, we started a dispute. He wrote the code so that in the update method, after the line “Repository.save(entity)”, the next line creates and maps an entity in the DTO, which will go to the frontend as a result.\nSample code below</p>\n<pre><code>    @Transactional\n    public GenreDto update(Dto dto) {        \n        var entity = findById(dto.getId());\n\n        // some logic\n        //...\n\n        entity = genreRepository.save(entity);\n        val updatedEntityDto = genreMapper.toDto(entity);\n        return updatedEntityDto;\n    }\n</code></pre>\n<p>I really don't like this approach. Because he formed the DTO before the transaction was closed, I know that we will receive the real and most valid data only after the transaction is closed, there can be many options when, after closing the transaction, various data will not be saved in the database, or will be saved differently.\nFor example, if in entity we put on the “name” field: “@Column(name = “name”, insertable = false, updatable = false)”, then we will not see any errors, and when the transaction is closed, the “name” field simply does not will change, but in his DTO he returned what he wanted to see, and not the real data.\nSo I say you have 2 options:</p>\n<ol>\n<li>simply return an id when creating and a boolean when updating, let the frontend or other service pull up the real data.</li>\n<li>if you are returning the DTO, then save it in one transaction, and create the DTO in another, after saving.</li>\n</ol>\n<p>I would like to hear the opinion of experts, which of us is right? Help me resolve the dispute and prove that I am right in this matter or maybe it’s just my mental hang-ups?)</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1849824,"reputation":2350,"user_id":1676587,"display_name":"Phat H. VU"},"score":2,"creation_date":1484212487,"post_id":41608705,"comment_id":70419873,"body_markdown":"Try to remove annotation `@Repository` from `ARepositoryCustom`","body":"Try to remove annotation <code>@Repository</code> from <code>ARepositoryCustom</code>"},{"owner":{"account_id":1334811,"reputation":653,"user_id":1277815,"accept_rate":76,"display_name":"Aeteros"},"score":0,"creation_date":1484212837,"post_id":41608705,"comment_id":70420077,"body_markdown":"There is no need to mark `ARepositoryCustom` as `@Repository` because you want to provide it&#39;s implementation instead of generating it with Spring Data","body":"There is no need to mark <code>ARepositoryCustom</code> as <code>@Repository</code> because you want to provide it&#39;s implementation instead of generating it with Spring Data"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1484216954,"post_id":41608705,"comment_id":70422860,"body_markdown":"You have an interface `ARepository` that extends `ARepositoryCustom` next in the implementation you use the interface `ARepository`. I doubt SPring Data Jpa will be able to figure things out. Also imho that method belongs in your service and not in your repository.","body":"You have an interface <code>ARepository</code> that extends <code>ARepositoryCustom</code> next in the implementation you use the interface <code>ARepository</code>. I doubt SPring Data Jpa will be able to figure things out. Also imho that method belongs in your service and not in your repository."}],"answers":[{"tags":[],"owner":{"account_id":1849824,"reputation":2350,"user_id":1676587,"display_name":"Phat H. VU"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484214683,"creation_date":1484214683,"answer_id":41609902,"question_id":41608705,"body_markdown":"I&#39;ve tested your source code, and found something tricky.\r\n\r\nFirst, with your source code, I got the following error:\r\n\r\n    There is a circular dependency between 1 beans in the application context:\r\n\t- ARepositoryImpl (field private test.ARepository test.ARepositoryImpl.aRepository)\r\n\t- aRepositoryImpl\r\n\r\nThen, I guess Spring &#39;confused&#39; between `ARepository` (JPA repository) and `ARepositoryImpl` (Custom repository). \r\nSo, I would suggest you **rename** `ARepository` to something else, such as `BRepository`. It worked if I renamed the class name.\r\n\r\nAccording to offcial documentation of Spring Data (https://docs.spring.io/spring-data/jpa/docs/current/reference/html/) : \r\n&gt; These classes need to follow the naming convention of appending the namespace element’s attribute repository-impl-postfix to the found repository interface name. **This postfix defaults to Impl**","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>I've tested your source code, and found something tricky.</p>\n\n<p>First, with your source code, I got the following error:</p>\n\n<pre><code>There is a circular dependency between 1 beans in the application context:\n- ARepositoryImpl (field private test.ARepository test.ARepositoryImpl.aRepository)\n- aRepositoryImpl\n</code></pre>\n\n<p>Then, I guess Spring 'confused' between <code>ARepository</code> (JPA repository) and <code>ARepositoryImpl</code> (Custom repository). \nSo, I would suggest you <strong>rename</strong> <code>ARepository</code> to something else, such as <code>BRepository</code>. It worked if I renamed the class name.</p>\n\n<p>According to offcial documentation of Spring Data (<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/</a>) : </p>\n\n<blockquote>\n  <p>These classes need to follow the naming convention of appending the namespace element’s attribute repository-impl-postfix to the found repository interface name. <strong>This postfix defaults to Impl</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2091438,"reputation":546,"user_id":1861186,"display_name":"Andrei Pietrusel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1484227196,"creation_date":1484227196,"answer_id":41614287,"question_id":41608705,"body_markdown":"There&#39;s a simple fix for your original problem:\r\nJust remove @Repository from ARepositoryCustom and from ARepositoryImpl.\r\nKeep all the naming and interface/class hierarchies. They are all OK.","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>There's a simple fix for your original problem:\nJust remove @Repository from ARepositoryCustom and from ARepositoryImpl.\nKeep all the naming and interface/class hierarchies. They are all OK.</p>\n"},{"tags":[],"owner":{"account_id":15216309,"reputation":575,"user_id":10979593,"display_name":"Padi kodwo Amu"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1702032342,"creation_date":1598619514,"answer_id":63634268,"question_id":41608705,"body_markdown":" Use `@Lazy`\r\n\r\nA simple way to break the cycle is by asking Spring to initialize one of the beans lazily. That is: instead of fully initializing the bean, it will create a proxy to inject it into the other bean. The injected bean will only be fully created when it’s first needed.\r\n\r\nNB:\r\nCyclic dependency Errors usually mean you have to take another look at your Architecture. Lazy loading will fix it but your code might be substandard. \r\n\r\n    @Service\r\n    public class AServiceImpl implements AService {\r\n        private final ARepository aRepository;\r\n        public AServiceImpl(@Lazy ARepository aRepository) {\r\n            super();\r\n            this.aRepository = aRepository;\r\n        }\r\n        ...\r\n    }\r\n\r\nsource: https://www.baeldung.com/circular-dependencies-in-spring","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>Use <code>@Lazy</code></p>\n<p>A simple way to break the cycle is by asking Spring to initialize one of the beans lazily. That is: instead of fully initializing the bean, it will create a proxy to inject it into the other bean. The injected bean will only be fully created when it’s first needed.</p>\n<p>NB:\nCyclic dependency Errors usually mean you have to take another look at your Architecture. Lazy loading will fix it but your code might be substandard.</p>\n<pre><code>@Service\npublic class AServiceImpl implements AService {\n    private final ARepository aRepository;\n    public AServiceImpl(@Lazy ARepository aRepository) {\n        super();\n        this.aRepository = aRepository;\n    }\n    ...\n}\n</code></pre>\n<p>source: <a href=\"https://www.baeldung.com/circular-dependencies-in-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/circular-dependencies-in-spring</a></p>\n"},{"tags":[],"owner":{"account_id":8628024,"reputation":141,"user_id":6460610,"display_name":"Ravi Pandey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1640282259,"creation_date":1640282259,"answer_id":70465797,"question_id":41608705,"body_markdown":"Use @Lazy annotation it will be resolved \r\n\r\n    @Component\r\n    public class Bean1 {\r\n        @Lazy\r\n        @Autowired\r\n        private Bean2 bean2;\r\n    }","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>Use @Lazy annotation it will be resolved</p>\n<pre><code>@Component\npublic class Bean1 {\n    @Lazy\n    @Autowired\n    private Bean2 bean2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25736174,"reputation":41,"user_id":19490879,"display_name":"Luc Tandoum"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1657270084,"creation_date":1657069385,"answer_id":72876945,"question_id":41608705,"body_markdown":"add this in your **pom.xml** file. It works for me\r\n\r\n    spring.main.allow-circular-references:true","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>add this in your <strong>pom.xml</strong> file. It works for me</p>\n<pre><code>spring.main.allow-circular-references:true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14156320,"reputation":111,"user_id":10226930,"display_name":"Jiao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668020830,"creation_date":1668020830,"answer_id":74380149,"question_id":41608705,"body_markdown":"In my case:\r\nI added \r\n```\r\nspring:\r\n   main:\r\n    allow-circular-references: true\r\n```\r\nin the application.yml\r\n\r\nOr you can add\r\n\r\n```\r\nspring.main.allow-circular-references=true\r\n```\r\nin the application.properties\r\n\r\nBoth application.yml and application.properties files in the below directory:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DM1FV.png","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>In my case:\nI added</p>\n<pre><code>spring:\n   main:\n    allow-circular-references: true\n</code></pre>\n<p>in the application.yml</p>\n<p>Or you can add</p>\n<pre><code>spring.main.allow-circular-references=true\n</code></pre>\n<p>in the application.properties</p>\n<p>Both application.yml and application.properties files in the below directory:\n<a href=\"https://i.stack.imgur.com/DM1FV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DM1FV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27790213,"reputation":1,"user_id":21216798,"display_name":"Haider Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676466452,"creation_date":1676466452,"answer_id":75460254,"question_id":41608705,"body_markdown":"import org.springframework.context.annotation.Lazy;\r\n\r\nAdd **@Lazy** on one dependency injection to make it lazy load. ","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>import org.springframework.context.annotation.Lazy;</p>\n<p>Add <strong>@Lazy</strong> on one dependency injection to make it lazy load.</p>\n"}],"owner":{"account_id":10018062,"reputation":443,"user_id":7408643,"display_name":"Laurent Maillet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121463,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":41614287,"answer_count":7,"score":37,"last_activity_date":1702032342,"creation_date":1484211098,"question_id":41608705,"body_markdown":"I&#39;m working on a Spring Boot v1.4.2.RELEASE application with JPA.\r\n\r\nI defined repository interfaces and implementations\r\n\r\n**ARepository**\r\n\r\n    @Repository\r\n    public interface ARepository extends CrudRepository&lt;A, String&gt;, ARepositoryCustom, JpaSpecificationExecutor&lt;A&gt; {\r\n    }\r\n\r\n**ARepositoryCustom** \r\n\r\n    @Repository\r\n    public interface ARepositoryCustom {\r\n      \tPage&lt;A&gt; findA(findAForm form, Pageable pageable);\r\n    }\r\n\r\n**ARepositoryImpl**\r\n\r\n    @Repository\r\n    public class ARepositoryImpl implements ARepositoryCustom {\r\n      \t@Autowired\r\n       \tprivate ARepository aRepository;\r\n        @Override\r\n       \tpublic Page&lt;A&gt; findA(findAForm form, Pageable pageable) {\r\n       \t\treturn aRepository.findAll(\r\n      \t\t        where(ASpecs.codeLike(form.getCode()))\r\n       \t\t\t\t.and(ASpecs.labelLike(form.getLabel()))\r\n       \t\t\t\t.and(ASpecs.isActive()),\r\n       \t\t\t\tpageable);\r\n       \t}\r\n    }\r\n\r\nAnd a service\r\n**AServiceImpl**\r\n\r\n    @Service\r\n    public class AServiceImpl implements AService {\r\n    \tprivate ARepository aRepository;\r\n        public AServiceImpl(ARepository aRepository) {\r\n            super();\r\n            this.aRepository = aRepository;\r\n        }\r\n        ...\r\n    }\r\n\r\nMy application won&#39;t start with the message :\r\n&lt;pre&gt;\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n|  aRepositoryImpl\r\n└─────┘\r\n&lt;/pre&gt;\r\n\r\nI followed all steps discribed in http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour\r\n\r\nPlease help !\r\n\r\nLaurent","title":"The dependencies of some of the beans in the application context form a cycle","body":"<p>I'm working on a Spring Boot v1.4.2.RELEASE application with JPA.</p>\n\n<p>I defined repository interfaces and implementations</p>\n\n<p><strong>ARepository</strong></p>\n\n<pre><code>@Repository\npublic interface ARepository extends CrudRepository&lt;A, String&gt;, ARepositoryCustom, JpaSpecificationExecutor&lt;A&gt; {\n}\n</code></pre>\n\n<p><strong>ARepositoryCustom</strong> </p>\n\n<pre><code>@Repository\npublic interface ARepositoryCustom {\n    Page&lt;A&gt; findA(findAForm form, Pageable pageable);\n}\n</code></pre>\n\n<p><strong>ARepositoryImpl</strong></p>\n\n<pre><code>@Repository\npublic class ARepositoryImpl implements ARepositoryCustom {\n    @Autowired\n    private ARepository aRepository;\n    @Override\n    public Page&lt;A&gt; findA(findAForm form, Pageable pageable) {\n        return aRepository.findAll(\n                where(ASpecs.codeLike(form.getCode()))\n                .and(ASpecs.labelLike(form.getLabel()))\n                .and(ASpecs.isActive()),\n                pageable);\n    }\n}\n</code></pre>\n\n<p>And a service\n<strong>AServiceImpl</strong></p>\n\n<pre><code>@Service\npublic class AServiceImpl implements AService {\n    private ARepository aRepository;\n    public AServiceImpl(ARepository aRepository) {\n        super();\n        this.aRepository = aRepository;\n    }\n    ...\n}\n</code></pre>\n\n<p>My application won't start with the message :</p>\n\n<pre>\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n|  aRepositoryImpl\n└─────┘\n</pre>\n\n<p>I followed all steps discribed in <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour</a></p>\n\n<p>Please help !</p>\n\n<p>Laurent</p>\n"},{"tags":["java","java-web-start","javassist"],"owner":{"account_id":3871435,"reputation":119,"user_id":3206615,"display_name":"user3206615"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702032112,"creation_date":1702032112,"question_id":77625992,"body_markdown":"Hello when I have signed javassist jar and try to create proxy for class from java base package (for example: java.util.Set) I have got this exception \r\n\r\n```\r\nCaused by: java.lang.SecurityException: class &quot;javassist.util.proxy.java_util_Set_$$_jvst923_26&quot;&#39;s signer information does not match signer information of other classes in the same package at \r\njava.lang.ClassLoader.checkCerts(Unknown Source) at \r\njava.lang.ClassLoader.preDefineClass(Unknown Source) at \r\njava.lang.ClassLoader.defineClass(Unknown Source) at \r\njava.lang.invoke.MethodHandle.invokeWithArguments(Unknown Source) at javassist.util.proxy.DefineClassHelper$Java7.defineClass(DefineClassHelper.java:177) at javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:260) at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:154) at \r\njavassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:608) at \r\njavassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:592) at \r\njavassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:528) at \r\njavassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:449) \r\n```\r\n\r\n**Javassist create proxy in package javassist.util.proxy when i have signed classes and during proxy creation take ProtectionDomain from unsigned java.util.Set class.** \r\n\r\nI create proxy like this:\r\n\r\n```\r\nproxyFactory = new javassist.util.proxy.ProxyFactory()\r\nproxyFactory.setInterfaces((Class[])[java.util.Set.class ] )\r\nproxyClazz = proxyFactory.createClass()\r\n```\r\n\r\nThis problem occures after javassist change package for javabase class proxy from &quot;org.javassist.tmp.&quot; to &quot;javassist.util.proxy.&quot;\r\n\r\nCan anybody help please?","title":"SecurityException for proxy from java base packages with signed javassist jar","body":"<p>Hello when I have signed javassist jar and try to create proxy for class from java base package (for example: java.util.Set) I have got this exception</p>\n<pre><code>Caused by: java.lang.SecurityException: class &quot;javassist.util.proxy.java_util_Set_$$_jvst923_26&quot;'s signer information does not match signer information of other classes in the same package at \njava.lang.ClassLoader.checkCerts(Unknown Source) at \njava.lang.ClassLoader.preDefineClass(Unknown Source) at \njava.lang.ClassLoader.defineClass(Unknown Source) at \njava.lang.invoke.MethodHandle.invokeWithArguments(Unknown Source) at javassist.util.proxy.DefineClassHelper$Java7.defineClass(DefineClassHelper.java:177) at javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:260) at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:154) at \njavassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:608) at \njavassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:592) at \njavassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:528) at \njavassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:449) \n</code></pre>\n<p><strong>Javassist create proxy in package javassist.util.proxy when i have signed classes and during proxy creation take ProtectionDomain from unsigned java.util.Set class.</strong></p>\n<p>I create proxy like this:</p>\n<pre><code>proxyFactory = new javassist.util.proxy.ProxyFactory()\nproxyFactory.setInterfaces((Class[])[java.util.Set.class ] )\nproxyClazz = proxyFactory.createClass()\n</code></pre>\n<p>This problem occures after javassist change package for javabase class proxy from &quot;org.javassist.tmp.&quot; to &quot;javassist.util.proxy.&quot;</p>\n<p>Can anybody help please?</p>\n"},{"tags":["java","refactoring","lint","sonarlint"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1702033256,"post_id":77625981,"comment_id":136850841,"body_markdown":"If you post the code as well formatted text, post the actual sonar error and optionally the sonar hint for compatible code, people *may* be able to answer.","body":"If you post the code as well formatted text, post the actual sonar error and optionally the sonar hint for compatible code, people <i>may</i> be able to answer."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1702035323,"post_id":77625981,"comment_id":136851150,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":23987397,"reputation":7,"user_id":17974031,"display_name":"MohanaSundaram J"},"score":0,"creation_date":1702037520,"post_id":77625981,"comment_id":136851498,"body_markdown":"@Chaosfire Sure , Thanks for feedbacks. I will change this now","body":"@Chaosfire Sure , Thanks for feedbacks. I will change this now"}],"owner":{"account_id":23987397,"reputation":7,"user_id":17974031,"display_name":"MohanaSundaram J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1702037414,"answer_count":0,"score":-4,"last_activity_date":1702032007,"creation_date":1702032007,"question_id":77625981,"body_markdown":"I&#39;m Not sure how to refactor this, But Sonar lint showing warning for this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oy6MK.png\r\n\r\n  [2]: https://i.stack.imgur.com/gbPs7.png\r\n\r\n  [3]: https://i.stack.imgur.com/1TgE5.png","title":"Sonar Lint Refactoring","body":"<p>I'm Not sure how to refactor this, But Sonar lint showing warning for this.</p>\n<p><a href=\"https://i.stack.imgur.com/oy6MK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oy6MK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gbPs7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbPs7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1TgE5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TgE5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","kubernetes","ssl"],"owner":{"account_id":10214218,"reputation":93,"user_id":7540411,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702031172,"creation_date":1702031172,"question_id":77625908,"body_markdown":"I&#39;m trying to deploy two applications to kubernetes. A java spring api-gateway and a backend api.I have an ingress configured to reach the api-gateway. \r\nThe api-gateway can read the services in my namespace so it can find the backend api.\r\nIt&#39;s working fine but the problems occurs when trying to activate ssl on both spring applications. \r\n\r\nThe api-gateway is ssl enabled, the ingress got an annotation for ssl backend and that works fine. \r\n\r\nBut the api-gateway doesn&#39;t contact the service with https it uses http so the backend is not reachable. \r\n\r\nI can reach the backend service from within the cluster or with another ingress configured for it but I can&#39;t reach it through the api-gateway because it tries only http.\r\n\r\nI tried to find configuration for ssl backend in spring api gateway configurations with no \r\nresults. \r\n\r\nIt is possible to tell kubernetes a service (not ingress) is https?\r\nOr to tell the api-gateway to only use https to reach the backend?\r\n\r\n\r\n\r\n\r\n  ","title":"Spring api gateway kubernetes with ssl backends","body":"<p>I'm trying to deploy two applications to kubernetes. A java spring api-gateway and a backend api.I have an ingress configured to reach the api-gateway.\nThe api-gateway can read the services in my namespace so it can find the backend api.\nIt's working fine but the problems occurs when trying to activate ssl on both spring applications.</p>\n<p>The api-gateway is ssl enabled, the ingress got an annotation for ssl backend and that works fine.</p>\n<p>But the api-gateway doesn't contact the service with https it uses http so the backend is not reachable.</p>\n<p>I can reach the backend service from within the cluster or with another ingress configured for it but I can't reach it through the api-gateway because it tries only http.</p>\n<p>I tried to find configuration for ssl backend in spring api gateway configurations with no\nresults.</p>\n<p>It is possible to tell kubernetes a service (not ingress) is https?\nOr to tell the api-gateway to only use https to reach the backend?</p>\n"},{"tags":["java","ssl","openssl","certificate"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1381412933,"post_id":19297446,"comment_id":28576620,"body_markdown":"by &quot;exact same information&quot;, do you mean a java app should actually execute the same command in shell and display the output?","body":"by &quot;exact same information&quot;, do you mean a java app should actually execute the same command in shell and display the output?"},{"owner":{"account_id":1875471,"reputation":71,"user_id":1696777,"display_name":"Kamal Kishore"},"score":0,"creation_date":1381941507,"post_id":19297446,"comment_id":28770001,"body_markdown":"No. Not to run the Unix command from java. But, to get the certificates in same encoding as the Unix command.","body":"No. Not to run the Unix command from java. But, to get the certificates in same encoding as the Unix command."}],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1381426406,"creation_date":1381426089,"answer_id":19302353,"question_id":19297446,"body_markdown":"This can be done using the following steps:\r\n\r\n* Initialise an `SSLContext` using a `TrustManager` that trusts anything (this use-case is one of the very few reasons to use such a trust manager). This is only if you suspect the remote cert won&#39;t be trusted.\r\n* Get an `SSLSocketFactory` from it.\r\n* Create an `SSLSocket` from this factory, using the host name you want to connect to. If you use the host name (and not an `InetAddress`), this will enable SNI on Java 7, so that would be the equivalent of using `-servername` as an additional option to your `openssl` command.\r\n* Start the handshake (e.g. with `startHandhsake()`)\r\n* Get the `SSLSession` from this `SSLSocket`.\r\n* For each `Certificate` in `getPeerCertificates()`:\r\n  * Get its encoded value (as `byte[]`) using `getEncoded()`\r\n  * Convert it into PEM, either:\r\n     * Use BouncyCastle&#39;s `PEMWriter`.\r\n     * Use a Base 64 encoder (e.g. Apache Commons), add the BEGIN/END delimiters and split the string with a new line every 64 characters.","title":"Extract Server Certificates","body":"<p>This can be done using the following steps:</p>\n\n<ul>\n<li>Initialise an <code>SSLContext</code> using a <code>TrustManager</code> that trusts anything (this use-case is one of the very few reasons to use such a trust manager). This is only if you suspect the remote cert won't be trusted.</li>\n<li>Get an <code>SSLSocketFactory</code> from it.</li>\n<li>Create an <code>SSLSocket</code> from this factory, using the host name you want to connect to. If you use the host name (and not an <code>InetAddress</code>), this will enable SNI on Java 7, so that would be the equivalent of using <code>-servername</code> as an additional option to your <code>openssl</code> command.</li>\n<li>Start the handshake (e.g. with <code>startHandhsake()</code>)</li>\n<li>Get the <code>SSLSession</code> from this <code>SSLSocket</code>.</li>\n<li>For each <code>Certificate</code> in <code>getPeerCertificates()</code>:\n<ul>\n<li>Get its encoded value (as <code>byte[]</code>) using <code>getEncoded()</code></li>\n<li>Convert it into PEM, either:\n<ul>\n<li>Use BouncyCastle's <code>PEMWriter</code>.</li>\n<li>Use a Base 64 encoder (e.g. Apache Commons), add the BEGIN/END delimiters and split the string with a new line every 64 characters.</li>\n</ul></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702030800,"creation_date":1625609082,"answer_id":68277826,"question_id":19297446,"body_markdown":"I had the same challenge in the past and made this option available within my library which you can see here: [GitHub - SSLKickstart - Kickstart][1] I thought it might be helpful for other developers to share it here.\r\n\r\n**Usage**\r\n```\r\nList&lt;X509Certificate&gt; certificates = CertificateUtils.getCertificatesFromExternalSource(&quot;https://stackoverflow.com/&quot;);\r\n           \r\n// or get the server certificates as pem format\r\nList&lt;String&gt; certificatesAsPem = CertificateUtils.getCertificatesFromExternalSourceAsPem(&quot;https://stackoverflow.com/&quot;);\r\n```\r\n\r\n**Install library with maven**\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;8.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"Extract Server Certificates","body":"<p>I had the same challenge in the past and made this option available within my library which you can see here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLKickstart - Kickstart</a> I thought it might be helpful for other developers to share it here.</p>\n<p><strong>Usage</strong></p>\n<pre><code>List&lt;X509Certificate&gt; certificates = CertificateUtils.getCertificatesFromExternalSource(&quot;https://stackoverflow.com/&quot;);\n           \n// or get the server certificates as pem format\nList&lt;String&gt; certificatesAsPem = CertificateUtils.getCertificatesFromExternalSourceAsPem(&quot;https://stackoverflow.com/&quot;);\n</code></pre>\n<p><strong>Install library with maven</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;8.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1875471,"reputation":71,"user_id":1696777,"display_name":"Kamal Kishore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2582,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1702030800,"creation_date":1381412521,"question_id":19297446,"body_markdown":"I want help in getting the apt piece of code to get server certificates - valid and invalid , signed by CA and self signed. Any links and references will be highly appreciated.\r\n\r\nI have a UNIX command which gives me what i want but I want the same output using Java. The command in UNIX is like this -\r\n\r\n    echo -n | openssl s_client -connect www.gmail.com:443 -showcerts | \\\r\n      sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; /tmp/$SERVERNAME.cert\r\n\r\nThis returns the (don&#39;t know the encryption) chain of certificates on gmail. I want my program to give the exact same information. Print the whole chain of certificates.\r\n","title":"Extract Server Certificates","body":"<p>I want help in getting the apt piece of code to get server certificates - valid and invalid , signed by CA and self signed. Any links and references will be highly appreciated.</p>\n<p>I have a UNIX command which gives me what i want but I want the same output using Java. The command in UNIX is like this -</p>\n<pre><code>echo -n | openssl s_client -connect www.gmail.com:443 -showcerts | \\\n  sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; /tmp/$SERVERNAME.cert\n</code></pre>\n<p>This returns the (don't know the encryption) chain of certificates on gmail. I want my program to give the exact same information. Print the whole chain of certificates.</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1700811014,"post_id":77541350,"comment_id":136701087,"body_markdown":"Python isn&#39;t in your path.  Either add python to the PATH, or use the full path to the python binary.","body":"Python isn&#39;t in your path.  Either add python to the PATH, or use the full path to the python binary."},{"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"score":0,"creation_date":1700813992,"post_id":77541350,"comment_id":136701560,"body_markdown":"Is there a way to fully package the python content including python interpreter / runtime ? Like a self contained jar analogy ?","body":"Is there a way to fully package the python content including python interpreter / runtime ? Like a self contained jar analogy ?"},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1700814173,"post_id":77541350,"comment_id":136701582,"body_markdown":"That&#39;s way beyond my knowledge, sorry.","body":"That&#39;s way beyond my knowledge, sorry."}],"answers":[{"tags":[],"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702030692,"creation_date":1702030692,"answer_id":77625863,"question_id":77541350,"body_markdown":"Using pyinstaller it seems possible to package the whole dependencies and related data files in an executable file. And then it seems that from java we can invoke this exe just like running an exe from command line. It will have to be packaged by inside the installer ...","title":"Calling Python(Code, executable or some other form) from Java","body":"<p>Using pyinstaller it seems possible to package the whole dependencies and related data files in an executable file. And then it seems that from java we can invoke this exe just like running an exe from command line. It will have to be packaged by inside the installer ...</p>\n"}],"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702030692,"creation_date":1700810725,"question_id":77541350,"body_markdown":"**TLDR;**\r\n\r\nI have a java desktop application that runs on Mac, Linux &amp; Windows and I have a python library. I am trying to call the python package&#39;s function from Java. As long as python can be packaged in the installer of my application and will work on the user&#39;s machines without additional setups.\r\n\r\n**Details:**\r\n\r\nI have a java maven project. I have seen it to work on windows. I have seen java call the python and return the response.\r\n```\r\n    &lt;properties &gt;\r\n        &lt;project.build.sourceLevel&gt;21&lt;/project.build.sourceLevel&gt;\r\n        &lt;project.build.targetLevel&gt;21&lt;/project.build.targetLevel&gt;\r\n\r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.python&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jython-slim&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3b1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n**Java**\r\n\r\n```\r\n    @Test\r\n    public void getWhispered() throws Exception {\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;python&quot;, resolvePythonScriptPath(&quot;foo5/main.py&quot;), &quot;stringdata&quot;);\r\n        processBuilder.redirectErrorStream(true);\r\n\r\n        Process process = processBuilder.start();\r\n        List&lt;String&gt; results = readProcessOutput(process.getInputStream());\r\n\r\n        assertThat(&quot;Results should not be empty&quot;, results, is(not(empty())));\r\n        assertThat(&quot;Results should contain output of script&quot;, results, \r\n hasItem(containsString(&quot;Argument List&quot;))); // Please excuse in accuracy ... I am adapting a bit.\r\n\r\n        int exitCode = process.waitFor();\r\n        assertEquals(&quot;No errors should be detected&quot;, 0, exitCode);\r\n    }\r\n\r\n    private List&lt;String&gt; readProcessOutput(InputStream inputStream) throws IOException {\r\n        try (BufferedReader output = new BufferedReader(new InputStreamReader(inputStream))) {\r\n            return output.lines()\r\n                .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n    private String resolvePythonScriptPath(String filename) {\r\n        File file = new File(&quot;src/test/resources/&quot; + filename);\r\n        return file.getAbsolutePath();\r\n    }\r\n```\r\n\r\n\r\n**main.py**\r\n```\r\nimport sys\r\n\r\nprint (&#39;Number of arguments:&#39;, len(sys.argv), &#39;arguments.&#39;)\r\nprint (&#39;Argument List:&#39;, str(sys.argv))\r\n```\r\n\r\n\r\nBut now I see the error ... `java.io.IOException: Cannot run program &quot;python&quot;: CreateProcess error=2, The system cannot find the file specified` \r\n\r\nI ran both times (when I see it to work. And now when I do not see it working) without python instllation. I uninstalled all python and ran it... I saw it working. But now I do not see it working. \r\n\r\nI suspect that I did not restart the windows hence may be there was a cached form of python available somewhere ... \r\n\r\n**Quesiton:**\r\n\r\nIn this invocation is Java calling actual PythonRun time available on the command line in the host machine or is Java&#39;s jar providing the interpreter its self ?\r\n\r\nAnd if someone can help me call a python in a way that I can call some python executable/code/package and get the result ... without installing additional things and needing to set up additional things on user&#39;s machines.\r\n\r\nThank you","title":"Calling Python(Code, executable or some other form) from Java","body":"<p><strong>TLDR;</strong></p>\n<p>I have a java desktop application that runs on Mac, Linux &amp; Windows and I have a python library. I am trying to call the python package's function from Java. As long as python can be packaged in the installer of my application and will work on the user's machines without additional setups.</p>\n<p><strong>Details:</strong></p>\n<p>I have a java maven project. I have seen it to work on windows. I have seen java call the python and return the response.</p>\n<pre><code>    &lt;properties &gt;\n        &lt;project.build.sourceLevel&gt;21&lt;/project.build.sourceLevel&gt;\n        &lt;project.build.targetLevel&gt;21&lt;/project.build.targetLevel&gt;\n\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.python&lt;/groupId&gt;\n            &lt;artifactId&gt;jython-slim&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3b1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>    @Test\n    public void getWhispered() throws Exception {\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;python&quot;, resolvePythonScriptPath(&quot;foo5/main.py&quot;), &quot;stringdata&quot;);\n        processBuilder.redirectErrorStream(true);\n\n        Process process = processBuilder.start();\n        List&lt;String&gt; results = readProcessOutput(process.getInputStream());\n\n        assertThat(&quot;Results should not be empty&quot;, results, is(not(empty())));\n        assertThat(&quot;Results should contain output of script&quot;, results, \n hasItem(containsString(&quot;Argument List&quot;))); // Please excuse in accuracy ... I am adapting a bit.\n\n        int exitCode = process.waitFor();\n        assertEquals(&quot;No errors should be detected&quot;, 0, exitCode);\n    }\n\n    private List&lt;String&gt; readProcessOutput(InputStream inputStream) throws IOException {\n        try (BufferedReader output = new BufferedReader(new InputStreamReader(inputStream))) {\n            return output.lines()\n                .collect(Collectors.toList());\n        }\n    }\n\n    private String resolvePythonScriptPath(String filename) {\n        File file = new File(&quot;src/test/resources/&quot; + filename);\n        return file.getAbsolutePath();\n    }\n</code></pre>\n<p><strong>main.py</strong></p>\n<pre><code>import sys\n\nprint ('Number of arguments:', len(sys.argv), 'arguments.')\nprint ('Argument List:', str(sys.argv))\n</code></pre>\n<p>But now I see the error ... <code>java.io.IOException: Cannot run program &quot;python&quot;: CreateProcess error=2, The system cannot find the file specified</code></p>\n<p>I ran both times (when I see it to work. And now when I do not see it working) without python instllation. I uninstalled all python and ran it... I saw it working. But now I do not see it working.</p>\n<p>I suspect that I did not restart the windows hence may be there was a cached form of python available somewhere ...</p>\n<p><strong>Quesiton:</strong></p>\n<p>In this invocation is Java calling actual PythonRun time available on the command line in the host machine or is Java's jar providing the interpreter its self ?</p>\n<p>And if someone can help me call a python in a way that I can call some python executable/code/package and get the result ... without installing additional things and needing to set up additional things on user's machines.</p>\n<p>Thank you</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":264220,"reputation":665,"user_id":550324,"accept_rate":75,"display_name":"Chao Sun"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1378259841,"creation_date":1378259841,"answer_id":18604279,"question_id":18604217,"body_markdown":"In menu bar, you can select &quot;Window&quot; -&gt; &quot;Show View&quot;, and then select &quot;Project Explorer&quot; (or other components you want to open).","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>In menu bar, you can select \"Window\" -> \"Show View\", and then select \"Project Explorer\" (or other components you want to open).</p>\n"},{"tags":[],"owner":{"account_id":1533500,"reputation":36,"user_id":1430106,"display_name":"kks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378259846,"creation_date":1378259846,"answer_id":18604280,"question_id":18604217,"body_markdown":"are you referring to the package explorer view?\r\n\r\nWindow -&gt; show view -&gt; package explorer","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>are you referring to the package explorer view?</p>\n\n<p>Window -> show view -> package explorer</p>\n"},{"tags":[],"owner":{"account_id":1563209,"reputation":2352,"user_id":1452591,"accept_rate":100,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1378259888,"creation_date":1378259888,"answer_id":18604285,"question_id":18604217,"body_markdown":"Try going  Window &gt; Reset Perspective to go to the default view which should contain the project explorer","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>Try going  Window > Reset Perspective to go to the default view which should contain the project explorer</p>\n"},{"tags":[],"owner":{"account_id":1311237,"reputation":706,"user_id":1259201,"accept_rate":77,"display_name":"user1259201"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378259907,"creation_date":1378259907,"answer_id":18604287,"question_id":18604217,"body_markdown":"If you&#39;re missing the Package Explorer, just go to &quot;Window&quot; -&gt; &quot;Show View&quot; and click &quot;Package Explorer&quot;","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>If you're missing the Package Explorer, just go to \"Window\" -> \"Show View\" and click \"Package Explorer\"</p>\n"},{"tags":[],"owner":{"account_id":942396,"reputation":6049,"user_id":970247,"accept_rate":40,"display_name":"Laurent Jalbert Simard"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1378259988,"creation_date":1378259988,"answer_id":18604296,"question_id":18604217,"body_markdown":"Do you mean the package explorer ? You can toggle it here ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ywv5r.jpg","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>Do you mean the package explorer ? You can toggle it here <img src=\"https://i.stack.imgur.com/ywv5r.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6727007,"reputation":21,"user_id":5184617,"display_name":"Swojit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534277516,"creation_date":1459273007,"answer_id":36291272,"question_id":18604217,"body_markdown":"You might be in the Debug option. Click on Java instead. It is on the top right. If you reset Perspective, it won&#39;t show you the Navigator.","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>You might be in the Debug option. Click on Java instead. It is on the top right. If you reset Perspective, it won't show you the Navigator.</p>\n"},{"tags":[],"owner":{"account_id":11779701,"reputation":11,"user_id":8619799,"display_name":"ROHIT KANDIMALLA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547493375,"creation_date":1547493375,"answer_id":54187781,"question_id":18604217,"body_markdown":"It is known as Navigator, You can find it in Window -&gt; Show View -&gt;  Navigator.","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>It is known as Navigator, You can find it in Window -> Show View ->  Navigator.</p>\n"},{"tags":[],"owner":{"account_id":16359626,"reputation":2492,"user_id":13329963,"display_name":"Prateek Gupta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634190244,"creation_date":1634190244,"answer_id":69565622,"question_id":18604217,"body_markdown":"I guess the **bar on the left** which OP is searching for is **Package Explorer**.\r\n\r\nAnd it can be found at \r\n\r\n`Windows` &gt; `Show View` &gt; `Package Explorer`\r\n\r\nRefer the image below.\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cqr7Z.jpg","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>I guess the <strong>bar on the left</strong> which OP is searching for is <strong>Package Explorer</strong>.</p>\n<p>And it can be found at</p>\n<p><code>Windows</code> &gt; <code>Show View</code> &gt; <code>Package Explorer</code></p>\n<p>Refer the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/cqr7Z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cqr7Z.jpg\" alt=\"\" /></a></p>\n"},{"tags":[],"owner":{"account_id":30097060,"reputation":1,"user_id":23065074,"display_name":"GerwazyMucha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702030661,"creation_date":1702030661,"answer_id":77625858,"question_id":18604217,"body_markdown":"If this happened in STM32 IDE (based on eclipse) I use:Window-&gt;Perspective-&gt;Reset Perspective  [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Srwb.png","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>If this happened in STM32 IDE (based on eclipse) I use:Window-&gt;Perspective-&gt;Reset Perspective  <a href=\"https://i.stack.imgur.com/7Srwb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":2939748,"reputation":5309,"user_id":2517915,"accept_rate":64,"display_name":"vdogsandman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82077,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":9,"score":8,"last_activity_date":1702030661,"creation_date":1378259373,"question_id":18604217,"body_markdown":"I&#39;m trying to use Eclipse for my Computer Science class, except the bar on the left is missing. Does anyone know the fix? \r\n\r\n","title":"Eclipse IDE Sidebar (navigation) missing","body":"<p>I'm trying to use Eclipse for my Computer Science class, except the bar on the left is missing. Does anyone know the fix? </p>\n"},{"tags":["java","spring-boot","logging","commons"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301696,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1689858566,"creation_date":1689793348,"answer_id":76724491,"question_id":76706612,"body_markdown":"As illustrated in, for instance, [`camunda/zeebe` PR13300](https://github.com/camunda/zeebe/pull/13300):\r\n\r\n&gt; Spring displays a prominent warning when using different versions of `commons-logging`. They use their own variant, `spring-jcl`, and importing `commons-logging` conflicts with this.\r\n\r\nSo I would first try and exclude `commons-logging` from the project dependencies. This will force your application to use the logging system provided by Spring Boot Starter. \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;!-- other dependencies --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- other dependencies --&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nYou might need to add similar exclusions to other dependencies if they also pull in commons-logging:\r\n\r\n``` bash\r\nmvn dependency:tree | grep commons-logging\r\n# or\r\nmvn dependency:tree | findstr commons-logging\r\n```\r\n\r\nFrom your maven tree:\r\n\r\n``` xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.9&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Standard Commons Logging discovery in action with spring-jcl","body":"<p>As illustrated in, for instance, <a href=\"https://github.com/camunda/zeebe/pull/13300\" rel=\"noreferrer\"><code>camunda/zeebe</code> PR13300</a>:</p>\n<blockquote>\n<p>Spring displays a prominent warning when using different versions of <code>commons-logging</code>. They use their own variant, <code>spring-jcl</code>, and importing <code>commons-logging</code> conflicts with this.</p>\n</blockquote>\n<p>So I would first try and exclude <code>commons-logging</code> from the project dependencies. This will force your application to use the logging system provided by Spring Boot Starter.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;!-- other dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- other dependencies --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>You might need to add similar exclusions to other dependencies if they also pull in commons-logging:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:tree | grep commons-logging\n# or\nmvn dependency:tree | findstr commons-logging\n</code></pre>\n<p>From your maven tree:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.9&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689915368,"creation_date":1689915368,"answer_id":76735213,"question_id":76706612,"body_markdown":"can you please try the below exclusion for maven you have in dependency tree.\r\n\r\n```\r\n&lt;project&gt;\r\n    &lt;!-- ... other project configurations ... --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Add your other dependencies here --&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- Add other build plugins here --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Use maven-dependency-plugin to exclude commons-logging --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;exclude-commons-logging&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;purge-local-repository&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.2&lt;/version&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;*&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"Standard Commons Logging discovery in action with spring-jcl","body":"<p>can you please try the below exclusion for maven you have in dependency tree.</p>\n<pre><code>&lt;project&gt;\n    &lt;!-- ... other project configurations ... --&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Add your other dependencies here --&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Add other build plugins here --&gt;\n            &lt;plugin&gt;\n                &lt;!-- Use maven-dependency-plugin to exclude commons-logging --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;exclude-commons-logging&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;purge-local-repository&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                            &lt;version&gt;1.2&lt;/version&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1522872,"reputation":6419,"user_id":1422070,"accept_rate":71,"display_name":"edwardmp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701302491,"creation_date":1701302491,"answer_id":77575153,"question_id":76706612,"body_markdown":"I was too lazy to exclude this dependency manually one by one, so this is how I fixed this using Gradle in a more efficient way. Just put below in your Gradle config to exclude this transitive dependency (so that only `spring-jcl` is used at runtime).\r\n\r\nFor `build.gradle.kts`:\r\n```kotlin\r\nconfigurations {\r\n    runtimeOnly {\r\n        exclude(group = &quot;commons-logging&quot;, module = &quot;commons-logging&quot;)\r\n    }\r\n}\r\n```\r\n\r\nOr, if you use `build.gradle` / groovy syntax:\r\n```groovy\r\nconfigurations {\r\n    runtime {\r\n        exclude(group = &quot;org.slf4j&quot;, module = &quot;slf4j-log4j12&quot;)\r\n    }\r\n}\r\n```","title":"Standard Commons Logging discovery in action with spring-jcl","body":"<p>I was too lazy to exclude this dependency manually one by one, so this is how I fixed this using Gradle in a more efficient way. Just put below in your Gradle config to exclude this transitive dependency (so that only <code>spring-jcl</code> is used at runtime).</p>\n<p>For <code>build.gradle.kts</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations {\n    runtimeOnly {\n        exclude(group = &quot;commons-logging&quot;, module = &quot;commons-logging&quot;)\n    }\n}\n</code></pre>\n<p>Or, if you use <code>build.gradle</code> / groovy syntax:</p>\n<pre><code>configurations {\n    runtime {\n        exclude(group = &quot;org.slf4j&quot;, module = &quot;slf4j-log4j12&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702030653,"creation_date":1701773326,"answer_id":77605594,"question_id":76706612,"body_markdown":"In your case `unirest-java` has a transitive dependency on `org.apache.httpcomponents`, which further has a transitive dependency on `commons-logging`. Spring JCL probably scans the classpath, finds `commons-logging` and that&#39;s why it warns you about potential conflicts with Spring Boot&#39;s pre-configured loggers.\r\n\r\nYou can list all the dependencies and transitive dependencies in your Maven project by running `mvn dependency:tree`. For Gradle projects you can run `gradle dependencies`.\r\n\r\nTo exclude `commons-logging` in a Maven project, add this to your `pom.xml` configuration file:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.9&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nIf you&#39;re using Gradle, add this to your `build.gradle` file:\r\n```\r\nimplementation(&#39;com.mashape.unirest:unirest-java:1.4.9&#39;) {\r\n\t\texclude group: &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\n\t}\r\n```\r\n\r\nYou may also exclude dependencies globally from your project:\r\n```\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n\tall {\r\n\t\texclude group: &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\n\t}\r\n}\r\n```","title":"Standard Commons Logging discovery in action with spring-jcl","body":"<p>In your case <code>unirest-java</code> has a transitive dependency on <code>org.apache.httpcomponents</code>, which further has a transitive dependency on <code>commons-logging</code>. Spring JCL probably scans the classpath, finds <code>commons-logging</code> and that's why it warns you about potential conflicts with Spring Boot's pre-configured loggers.</p>\n<p>You can list all the dependencies and transitive dependencies in your Maven project by running <code>mvn dependency:tree</code>. For Gradle projects you can run <code>gradle dependencies</code>.</p>\n<p>To exclude <code>commons-logging</code> in a Maven project, add this to your <code>pom.xml</code> configuration file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.9&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>If you're using Gradle, add this to your <code>build.gradle</code> file:</p>\n<pre><code>implementation('com.mashape.unirest:unirest-java:1.4.9') {\n        exclude group: 'commons-logging', module: 'commons-logging'\n    }\n</code></pre>\n<p>You may also exclude dependencies globally from your project:</p>\n<pre><code>configurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    all {\n        exclude group: 'commons-logging', module: 'commons-logging'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17614,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":76724491,"answer_count":4,"score":13,"last_activity_date":1702030653,"creation_date":1689612941,"question_id":76706612,"body_markdown":"I have a springBoot all with these dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.28&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.mashape.unirest/unirest-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nbut I have this message on the console:\r\n\r\n    Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n\r\n\r\nHere the mvn dependency:tree :\r\n\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ----------------&lt; com.planets:com.planets &gt;-----------------\r\n    [INFO] Building planets 0.0.1-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- dependency:3.5.0:tree (default-cli) @ com.planets ---\r\n    [INFO] com.planets:com.planets:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.1:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.1:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.1:compile\r\n    [INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.10:compile\r\n    [INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.2.5.Final:compile\r\n    [INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n    [INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.1.Final:compile\r\n    [INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n    [INFO] |  |  +- io.smallrye:jandex:jar:3.0.5:runtime\r\n    [INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.5:runtime\r\n    [INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\r\n    [INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\r\n    [INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\r\n    [INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\r\n    [INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\r\n    [INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\r\n    [INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.1:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.1:compile\r\n    [INFO] |  |  +- org.springframework:spring-orm:jar:6.0.10:compile\r\n    [INFO] |  |  +- org.springframework:spring-context:jar:6.0.10:compile\r\n    [INFO] |  |  +- org.springframework:spring-tx:jar:6.0.10:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:6.0.10:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:6.0.10:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-security:jar:3.1.1:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.1:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.1:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.1:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.1:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.8:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.8:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.7:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework:spring-aop:jar:6.0.10:compile\r\n    [INFO] |  +- org.springframework.security:spring-security-config:jar:6.1.1:compile\r\n    [INFO] |  \\- org.springframework.security:spring-security-web:jar:6.1.1:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:6.0.10:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.1:compile\r\n    [INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.10:compile\r\n    [INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n    [INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.1:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.1:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.1:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.10:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.10:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:6.0.10:compile\r\n    [INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.1:compile\r\n    [INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.1:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.10:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.2:compile\r\n    [INFO] +- org.projectlombok:lombok:jar:1.18.28:provided\r\n    [INFO] +- com.mashape.unirest:unirest-java:jar:1.4.9:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.2:compile\r\n    [INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n    [INFO] |  |  +- commons-logging:commons-logging:jar:1.2:compile\r\n    [INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.5:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.16:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.5.2:compile\r\n    [INFO] |  \\- org.json:json:jar:20160212:compile\r\n    [INFO] +- com.itextpdf:itextpdf:jar:5.5.13.3:compile\r\n    [INFO] +- com.mysql:mysql-connector-j:jar:8.0.33:runtime\r\n    [INFO] +- io.jsonwebtoken:jjwt-api:jar:0.11.5:compile\r\n    [INFO] +- io.jsonwebtoken:jjwt-impl:jar:0.11.5:runtime\r\n    [INFO] +- io.jsonwebtoken:jjwt-jackson:jar:0.11.5:runtime\r\n    [INFO] |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.15.2:compile\r\n    [INFO] |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.1:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.1:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.1:test\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:runtime\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:runtime\r\n    [INFO] |  +- net.minidev:json-smart:jar:2.4.11:test\r\n    [INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.11:test\r\n    [INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:test\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:5.3.1:test\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:test\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.10:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.10:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.10:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n    [INFO] \\- org.springframework.security:spring-security-test:jar:6.1.1:test\r\n    [INFO]    \\- org.springframework.security:spring-security-core:jar:6.1.1:compile\r\n    [INFO]       \\- org.springframework.security:spring-security-crypto:jar:6.1.1:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n\r\n","title":"Standard Commons Logging discovery in action with spring-jcl","body":"<p>I have a springBoot all with these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.mashape.unirest/unirest-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n            &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n            &lt;version&gt;1.4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>but I have this message on the console:</p>\n<pre><code>Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n</code></pre>\n<p>Here the mvn dependency:tree :</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------&lt; com.planets:com.planets &gt;-----------------\n[INFO] Building planets 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- dependency:3.5.0:tree (default-cli) @ com.planets ---\n[INFO] com.planets:com.planets:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.1:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.1:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.10:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.2.5.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.1.Final:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n[INFO] |  |  +- io.smallrye:jandex:jar:3.0.5:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.5:runtime\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.10:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.10:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.10:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.10:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.10:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-security:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.1:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.8:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.8:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.7:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.10:compile\n[INFO] |  +- org.springframework.security:spring-security-config:jar:6.1.1:compile\n[INFO] |  \\- org.springframework.security:spring-security-web:jar:6.1.1:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.10:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.1:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.10:compile\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.1:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.10:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.10:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.10:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.1:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.1:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.10:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.2:compile\n[INFO] +- org.projectlombok:lombok:jar:1.18.28:provided\n[INFO] +- com.mashape.unirest:unirest-java:jar:1.4.9:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.2:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] |  |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.5:compile\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore-nio:jar:4.4.16:compile\n[INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.5.2:compile\n[INFO] |  \\- org.json:json:jar:20160212:compile\n[INFO] +- com.itextpdf:itextpdf:jar:5.5.13.3:compile\n[INFO] +- com.mysql:mysql-connector-j:jar:8.0.33:runtime\n[INFO] +- io.jsonwebtoken:jjwt-api:jar:0.11.5:compile\n[INFO] +- io.jsonwebtoken:jjwt-impl:jar:0.11.5:runtime\n[INFO] +- io.jsonwebtoken:jjwt-jackson:jar:0.11.5:runtime\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.15.2:compile\n[INFO] |     \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.1:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.1:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.1:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:runtime\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:runtime\n[INFO] |  +- net.minidev:json-smart:jar:2.4.11:test\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.11:test\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:test\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\n[INFO] |  +- org.mockito:mockito-core:jar:5.3.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-core:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.10:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.10:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] \\- org.springframework.security:spring-security-test:jar:6.1.1:test\n[INFO]    \\- org.springframework.security:spring-security-core:jar:6.1.1:compile\n[INFO]       \\- org.springframework.security:spring-security-crypto:jar:6.1.1:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n</code></pre>\n"},{"tags":["java","spring","jpa","querydsl"],"owner":{"account_id":9255022,"reputation":218,"user_id":6875873,"display_name":"Alex K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702030279,"creation_date":1702029474,"question_id":77625755,"body_markdown":"I have the entity `Transaction` which has a number of privately owned `TransactionLeg`s. I run a query which returns a list of legs (not transactions) and than I want to get the parent . In some cases this fails as explained below. Any ideas what I am doing wrong?\r\n\r\n    @Entity\r\n    public final class Transaction extends DomainObjectImpl {\r\n    \r\n    ..\r\n    \t@OneToMany(mappedBy = &quot;transaction&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    \t@OrderColumn(name = &quot;INDEX&quot;)\r\n    \t@PrivateOwned\r\n    \tprivate List&lt;TransactionLeg&gt; legs; \r\n    ..\r\n\r\nTo debug the issue I have created this special loading method: (Once I understand the issue, I want to get rid of this off course)\r\n\r\n```\r\npublic Transaction getTransactionForLeg(TransactionLeg transactionLeg) {\r\n\tTransaction transaction = transactionLeg.getTransaction();\r\n\tif (transaction == null) {\r\n\t\tif (transactionLeg.getUuid() == null) {\r\n\t\t\t// artifical transactionLeg\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\ttransaction = getTransactionForLegUuid(transactionLeg.getUuid());\r\n\t\tif (transaction == null) {\r\n\t\t\tthrow new RuntimeException(&quot;Transaction could not be loaded for leg with uuid=&quot; + transactionLeg.getUuid());\r\n\t\t}\r\n\t}\r\n\tif (transaction.getLegs().size() == 0) {\r\n\t\tSystem.out.println(&quot;Transaction has no legs &quot; + transaction.getUuid());\r\n\t\ttransaction = getTransactionForLegUuid(transactionLeg.getUuid());\r\n\t}\r\n\tif (transaction.getLegs().size() == 0) {\r\n\t\tSystem.out.println(&quot;Transaction still has no legs after reload &quot; + transaction.getUuid());\r\n\t\tentityManager.getEntityManagerFactory().getCache().evict(Transaction.class, transaction);\r\n\t\ttransaction = getTransactionForLegUuid(transactionLeg.getUuid());\r\n\t}\r\n\tif (transaction.getLegs().size() == 0) {\r\n\t\tSystem.out.println(&quot;Transaction still has no legs after evict &quot; + transaction.getUuid());\r\n\t\tfor (TransactionLeg leg : transaction.getLegs()) {\r\n\t\t\tSystem.out.println(&quot;leg: &quot; + leg.toString());\r\n\t\t}\r\n\t}\r\n\tif (transaction.getLegs().size() == 0) {\r\n\t\tSystem.out.println(&quot;Transaction still has no legs after looping &quot; + transaction.getUuid());\r\n\t}\r\n\treturn transaction;\r\n}\r\n\r\n\tpublic Transaction getTransactionForLegUuid(String transactionLegUuid) {\r\n\t\tBooleanExpression expr = QTransaction.transaction.legs.any().uuid.eq(transactionLegUuid);\r\n\t\treturn transactionRepository.findOne(expr);\r\n\t}\r\n```\r\n\r\nUsually the first `Transaction transaction = transactionLeg.getTransaction();` just works. Rarely, I don&#39;t have exact numbers yet, but one out of thoushands it fails with below debug log. Basicially the link between the enities appears to be broken.\r\n\r\n```\r\n    [2023-12-07 23:05:11] [info] Transaction has no legs 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\r\n    [2023-12-07 23:05:11] [info] Transaction still has no legs after reload 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\r\n    [2023-12-07 23:05:11] [info] Transaction still has no legs after evict 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\r\n    [2023-12-07 23:05:11] [info] Transaction still has no legs after looping 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\r\n```\r\n","title":"Loading parent from child in @OneToMany relation","body":"<p>I have the entity <code>Transaction</code> which has a number of privately owned <code>TransactionLeg</code>s. I run a query which returns a list of legs (not transactions) and than I want to get the parent . In some cases this fails as explained below. Any ideas what I am doing wrong?</p>\n<pre><code>@Entity\npublic final class Transaction extends DomainObjectImpl {\n\n..\n    @OneToMany(mappedBy = &quot;transaction&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @OrderColumn(name = &quot;INDEX&quot;)\n    @PrivateOwned\n    private List&lt;TransactionLeg&gt; legs; \n..\n</code></pre>\n<p>To debug the issue I have created this special loading method: (Once I understand the issue, I want to get rid of this off course)</p>\n<pre><code>public Transaction getTransactionForLeg(TransactionLeg transactionLeg) {\n    Transaction transaction = transactionLeg.getTransaction();\n    if (transaction == null) {\n        if (transactionLeg.getUuid() == null) {\n            // artifical transactionLeg\n            return null;\n        }\n        transaction = getTransactionForLegUuid(transactionLeg.getUuid());\n        if (transaction == null) {\n            throw new RuntimeException(&quot;Transaction could not be loaded for leg with uuid=&quot; + transactionLeg.getUuid());\n        }\n    }\n    if (transaction.getLegs().size() == 0) {\n        System.out.println(&quot;Transaction has no legs &quot; + transaction.getUuid());\n        transaction = getTransactionForLegUuid(transactionLeg.getUuid());\n    }\n    if (transaction.getLegs().size() == 0) {\n        System.out.println(&quot;Transaction still has no legs after reload &quot; + transaction.getUuid());\n        entityManager.getEntityManagerFactory().getCache().evict(Transaction.class, transaction);\n        transaction = getTransactionForLegUuid(transactionLeg.getUuid());\n    }\n    if (transaction.getLegs().size() == 0) {\n        System.out.println(&quot;Transaction still has no legs after evict &quot; + transaction.getUuid());\n        for (TransactionLeg leg : transaction.getLegs()) {\n            System.out.println(&quot;leg: &quot; + leg.toString());\n        }\n    }\n    if (transaction.getLegs().size() == 0) {\n        System.out.println(&quot;Transaction still has no legs after looping &quot; + transaction.getUuid());\n    }\n    return transaction;\n}\n\n    public Transaction getTransactionForLegUuid(String transactionLegUuid) {\n        BooleanExpression expr = QTransaction.transaction.legs.any().uuid.eq(transactionLegUuid);\n        return transactionRepository.findOne(expr);\n    }\n</code></pre>\n<p>Usually the first <code>Transaction transaction = transactionLeg.getTransaction();</code> just works. Rarely, I don't have exact numbers yet, but one out of thoushands it fails with below debug log. Basicially the link between the enities appears to be broken.</p>\n<pre><code>    [2023-12-07 23:05:11] [info] Transaction has no legs 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\n    [2023-12-07 23:05:11] [info] Transaction still has no legs after reload 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\n    [2023-12-07 23:05:11] [info] Transaction still has no legs after evict 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\n    [2023-12-07 23:05:11] [info] Transaction still has no legs after looping 744e7cbb-9cff-4961-bd76-fc2d74c85b0c\n</code></pre>\n"},{"tags":["java","jvm"],"answers":[{"tags":[],"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702030185,"creation_date":1702030185,"answer_id":77625808,"question_id":77625610,"body_markdown":"I think that in Kubernetes when you allocate memory for a container, the JVM heap size is usually set as a portion of the allocated memory. The `-Xms` and `-Xmx` parameters in Java control the initial and maximum heap sizes, respectively.\r\n\r\nHere&#39;s a breakdown of these parameters and how they relate to Kubernetes memory allocation:\r\n\r\n    -Xms (Initial Heap Size):\r\n\r\nThis parameter sets the initial size of the heap when the JVM starts.\r\nIt is the amount of memory that the JVM initially requests from the operating system for the heap.\r\nIn a Kubernetes environment, this can be set based on your application&#39;s expected minimum memory requirements.\r\nFor example, you might set `-Xms512m` to specify an initial heap size of 512 megabytes.\r\n\r\n    -Xmx (Maximum Heap Size):\r\n\r\nThis parameter sets the maximum size that the heap can grow to.\r\nThe JVM will not use more memory than specified by this parameter for the heap.\r\nIn Kubernetes, you might set this based on the allocated memory for your container.\r\nFor example, if your container is allocated 10Gi of memory, you might set -`Xmx8g` to leave some memory for non-heap usage and avoid excessive swapping.\r\n\r\nIt&#39;s important to note that the JVM doesn&#39;t dynamically increase the heap size beyond what is specified by the `-Xmx` parameter. If your application needs more heap space than allocated, it might encounter out-of-memory errors. Therefore, it&#39;s essential to monitor your application&#39;s memory usage and adjust the container memory allocation and JVM heap size accordingly.\r\n\r\nIn summary, set the `-Xms` and `-Xmx` parameters based on your application&#39;s memory requirements and the allocated memory for the container in Kubernetes. Regularly monitor and adjust these settings as needed based on the actual memory usage patterns of your application.","title":"JVM and heap size in a pod on kubernetes","body":"<p>I think that in Kubernetes when you allocate memory for a container, the JVM heap size is usually set as a portion of the allocated memory. The <code>-Xms</code> and <code>-Xmx</code> parameters in Java control the initial and maximum heap sizes, respectively.</p>\n<p>Here's a breakdown of these parameters and how they relate to Kubernetes memory allocation:</p>\n<pre><code>-Xms (Initial Heap Size):\n</code></pre>\n<p>This parameter sets the initial size of the heap when the JVM starts.\nIt is the amount of memory that the JVM initially requests from the operating system for the heap.\nIn a Kubernetes environment, this can be set based on your application's expected minimum memory requirements.\nFor example, you might set <code>-Xms512m</code> to specify an initial heap size of 512 megabytes.</p>\n<pre><code>-Xmx (Maximum Heap Size):\n</code></pre>\n<p>This parameter sets the maximum size that the heap can grow to.\nThe JVM will not use more memory than specified by this parameter for the heap.\nIn Kubernetes, you might set this based on the allocated memory for your container.\nFor example, if your container is allocated 10Gi of memory, you might set -<code>Xmx8g</code> to leave some memory for non-heap usage and avoid excessive swapping.</p>\n<p>It's important to note that the JVM doesn't dynamically increase the heap size beyond what is specified by the <code>-Xmx</code> parameter. If your application needs more heap space than allocated, it might encounter out-of-memory errors. Therefore, it's essential to monitor your application's memory usage and adjust the container memory allocation and JVM heap size accordingly.</p>\n<p>In summary, set the <code>-Xms</code> and <code>-Xmx</code> parameters based on your application's memory requirements and the allocated memory for the container in Kubernetes. Regularly monitor and adjust these settings as needed based on the actual memory usage patterns of your application.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77625808,"answer_count":1,"score":0,"last_activity_date":1702030185,"creation_date":1702027894,"question_id":77625610,"body_markdown":"I have a container that has been allocated 10Gi of memory in kubernetes. Its running a spring boot java 17 application - all default parameters.\r\n\r\nMy understanding is that a certain portion of the requested memory for the container is given to the jvm heap. What i wanted to know is this fixed, does it increase if it needs more. And how much does it allocate?\r\n\r\ni know i can set the following:\r\n\r\n    VM parameters -Xms and -Xmx","title":"JVM and heap size in a pod on kubernetes","body":"<p>I have a container that has been allocated 10Gi of memory in kubernetes. Its running a spring boot java 17 application - all default parameters.</p>\n<p>My understanding is that a certain portion of the requested memory for the container is given to the jvm heap. What i wanted to know is this fixed, does it increase if it needs more. And how much does it allocate?</p>\n<p>i know i can set the following:</p>\n<pre><code>VM parameters -Xms and -Xmx\n</code></pre>\n"},{"tags":["java","yield","yield-return"],"comments":[{"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":7,"creation_date":1262191447,"post_id":1980953,"comment_id":1896673,"body_markdown":"I know, I know. But I think knowing more languages is more power. Furthermore, the backend development (which I&#39;m doing) in the company I work for right now is being done in Java, so I can&#39;t really choose the language :(","body":"I know, I know. But I think knowing more languages is more power. Furthermore, the backend development (which I&#39;m doing) in the company I work for right now is being done in Java, so I can&#39;t really choose the language :("}],"answers":[{"tags":[],"owner":{"account_id":87565,"reputation":26371,"user_id":242762,"accept_rate":87,"display_name":"Oak"},"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1371624458,"creation_date":1371553159,"answer_id":17167174,"question_id":1980953,"body_markdown":"The two options I know of is [Aviad Ben Dov&#39;s infomancers-collections library from 2007](https://code.google.com/p/infomancers-collections/) and [Jim Blackler&#39;s YieldAdapter library from 2008](http://svn.jimblackler.net/jimblackler/trunk/IdeaProjects/YieldAdapter/) (which is also mentioned in the other answer).\r\n\r\nBoth will allow you to write code with `yield return`-like construct in Java, so both will satisfy your request. The notable differences between the two are:\r\n\r\n### Mechanics\r\n\r\n Aviad&#39;s library is using bytecode manipulation while Jim&#39;s uses multithreading. Depending on your needs, each may have its own advantages and disadvantages. It&#39;s likely Aviad&#39;s solution is faster, while Jim&#39;s is more portable (for example, I don&#39;t think Aviad&#39;s library will work on Android).\r\n\r\n### Interface\r\n\r\nAviad&#39;s library has a cleaner interface - here&#39;s an example:\r\n\r\n    Iterable&lt;Integer&gt; it = new Yielder&lt;Integer&gt;() {\r\n        @Override protected void yieldNextCore() {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                yieldReturn(i);\r\n                if (i == 5) yieldBreak();\r\n            }\r\n        }\r\n    };\r\n\r\n\r\nWhile Jim&#39;s is way more complicated, requiring you to `adept` a generic `Collector` which has a `collect(ResultHandler)` method... ugh. However, you could use something like [this wrapper around Jim&#39;s code by Zoom Information](https://github.com/domlachowicz/java-generators) which greatly simplifies that:\r\n\r\n    Iterable&lt;Integer&gt; it = new Generator&lt;Integer&gt;() {\r\n        @Override protected void run() {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                yield(i);\r\n                if (i == 5) return;\r\n            }\r\n        }\r\n    };\r\n\r\n### License\r\n\r\nAviad&#39;s solution is BSD.\r\n\r\nJim&#39;s solution is public domain, and so is its wrapper mentioned above.","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>The two options I know of is <a href=\"https://code.google.com/p/infomancers-collections/\" rel=\"noreferrer\">Aviad Ben Dov's infomancers-collections library from 2007</a> and <a href=\"http://svn.jimblackler.net/jimblackler/trunk/IdeaProjects/YieldAdapter/\" rel=\"noreferrer\">Jim Blackler's YieldAdapter library from 2008</a> (which is also mentioned in the other answer).</p>\n\n<p>Both will allow you to write code with <code>yield return</code>-like construct in Java, so both will satisfy your request. The notable differences between the two are:</p>\n\n<h3>Mechanics</h3>\n\n<p>Aviad's library is using bytecode manipulation while Jim's uses multithreading. Depending on your needs, each may have its own advantages and disadvantages. It's likely Aviad's solution is faster, while Jim's is more portable (for example, I don't think Aviad's library will work on Android).</p>\n\n<h3>Interface</h3>\n\n<p>Aviad's library has a cleaner interface - here's an example:</p>\n\n<pre><code>Iterable&lt;Integer&gt; it = new Yielder&lt;Integer&gt;() {\n    @Override protected void yieldNextCore() {\n        for (int i = 0; i &lt; 10; i++) {\n            yieldReturn(i);\n            if (i == 5) yieldBreak();\n        }\n    }\n};\n</code></pre>\n\n<p>While Jim's is way more complicated, requiring you to <code>adept</code> a generic <code>Collector</code> which has a <code>collect(ResultHandler)</code> method... ugh. However, you could use something like <a href=\"https://github.com/domlachowicz/java-generators\" rel=\"noreferrer\">this wrapper around Jim's code by Zoom Information</a> which greatly simplifies that:</p>\n\n<pre><code>Iterable&lt;Integer&gt; it = new Generator&lt;Integer&gt;() {\n    @Override protected void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            yield(i);\n            if (i == 5) return;\n        }\n    }\n};\n</code></pre>\n\n<h3>License</h3>\n\n<p>Aviad's solution is BSD.</p>\n\n<p>Jim's solution is public domain, and so is its wrapper mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394526784,"creation_date":1394526784,"answer_id":22320228,"question_id":1980953,"body_markdown":"I know it&#39;s a very old question here, and there are two ways described above:\r\n\r\n* bytecode manipulation that&#39;s not that easy while porting;\r\n* thread-based `yield` that obviously has resource costs.\r\n\r\nHowever, there is another, the third and probably the most natural, way of implementing the `yield` generator in Java that is the closest implementation to what C# 2.0+ compilers do for `yield return/break` generation: [lombok-pg](https://github.com/peichhorn/lombok-pg/wiki/Yield). It&#39;s fully based on a state machine, and requires tight cooperation with `javac` to manipulate the source code AST. Unfortunately, the lombok-pg support seems to be discontinued (no repository activity for more than a year or two), and the original [Project Lombok](http://projectlombok.org/features/index.html) unfortunately lacks the `yield` feature (it has better IDE like Eclipse, IntelliJ IDEA support, though).","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>I know it's a very old question here, and there are two ways described above:</p>\n\n<ul>\n<li>bytecode manipulation that's not that easy while porting;</li>\n<li>thread-based <code>yield</code> that obviously has resource costs.</li>\n</ul>\n\n<p>However, there is another, the third and probably the most natural, way of implementing the <code>yield</code> generator in Java that is the closest implementation to what C# 2.0+ compilers do for <code>yield return/break</code> generation: <a href=\"https://github.com/peichhorn/lombok-pg/wiki/Yield\" rel=\"nofollow\">lombok-pg</a>. It's fully based on a state machine, and requires tight cooperation with <code>javac</code> to manipulate the source code AST. Unfortunately, the lombok-pg support seems to be discontinued (no repository activity for more than a year or two), and the original <a href=\"http://projectlombok.org/features/index.html\" rel=\"nofollow\">Project Lombok</a> unfortunately lacks the <code>yield</code> feature (it has better IDE like Eclipse, IntelliJ IDEA support, though).</p>\n"},{"tags":[],"owner":{"account_id":1257919,"reputation":426,"user_id":1216979,"display_name":"benjiweber"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1426967273,"creation_date":1426967273,"answer_id":29187272,"question_id":1980953,"body_markdown":"Both of these approaches can be made a bit cleaner now Java has Lambdas. You can do something like \r\n\r\n    public Yielderable&lt;Integer&gt; oneToFive() {\r\n        return yield -&gt; {\r\n            for (int i = 1; i &lt; 10; i++) {\r\n                if (i == 6) yield.breaking();\r\n                yield.returning(i);\r\n            }\r\n        };\r\n    }\r\n\r\n[I explained a bit more here.][1]\r\n\r\n\r\n  [1]: http://benjiweber.co.uk/blog/2015/03/21/yield-return-in-java/","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>Both of these approaches can be made a bit cleaner now Java has Lambdas. You can do something like </p>\n\n<pre><code>public Yielderable&lt;Integer&gt; oneToFive() {\n    return yield -&gt; {\n        for (int i = 1; i &lt; 10; i++) {\n            if (i == 6) yield.breaking();\n            yield.returning(i);\n        }\n    };\n}\n</code></pre>\n\n<p><a href=\"http://benjiweber.co.uk/blog/2015/03/21/yield-return-in-java/\">I explained a bit more here.</a></p>\n"},{"tags":[],"owner":{"account_id":8703448,"reputation":97,"user_id":6512432,"display_name":"Andrey Lavrukhin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490820309,"creation_date":1490820309,"answer_id":43103816,"question_id":1980953,"body_markdown":"**Stream.iterate(seed, seedOperator).limit(n).foreach(action)** is not the same as yield operator, but it may be usefull to write your own generators this way:\r\n\r\n    import java.util.stream.Stream;\r\n    public class Test01 {\r\n        private static void myFoo(int someVar){\r\n            //do some work\r\n            System.out.println(someVar);\r\n        }\r\n        private static void myFoo2(){\r\n            //do some work\r\n            System.out.println(&quot;some work&quot;);\r\n        }\r\n        public static void main(String[] args) {\r\n            Stream.iterate(1, x -&gt; x + 1).limit(15).forEach(Test01::myFoo);     //var1\r\n            Stream.iterate(1, x -&gt; x + 1).limit(10).forEach(item -&gt; myFoo2());  //var2\r\n        }\r\n    }","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p><strong>Stream.iterate(seed, seedOperator).limit(n).foreach(action)</strong> is not the same as yield operator, but it may be usefull to write your own generators this way:</p>\n\n<pre><code>import java.util.stream.Stream;\npublic class Test01 {\n    private static void myFoo(int someVar){\n        //do some work\n        System.out.println(someVar);\n    }\n    private static void myFoo2(){\n        //do some work\n        System.out.println(\"some work\");\n    }\n    public static void main(String[] args) {\n        Stream.iterate(1, x -&gt; x + 1).limit(15).forEach(Test01::myFoo);     //var1\n        Stream.iterate(1, x -&gt; x + 1).limit(10).forEach(item -&gt; myFoo2());  //var2\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8584038,"reputation":592,"user_id":6430800,"display_name":"Győri S&#225;ndor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554660515,"creation_date":1554660515,"answer_id":55562150,"question_id":1980953,"body_markdown":"I&#39;d also suggest if you&#39;re already using [RXJava](https://github.com/ReactiveX/RxJava) in your project to use an Observable as a &quot;yielder&quot;. It can be used in a similar fashion if you make your own Observable.\r\n\r\n```java\r\npublic class Example extends Observable&lt;String&gt; {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Example().blockingSubscribe(System.out::println); // &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;\r\n\t}\r\n    \r\n\t@Override\r\n\tprotected void subscribeActual(Observer&lt;? super String&gt; observer) {\r\n\t\tobserver.onNext(&quot;a&quot;); // yield\r\n\t\tobserver.onNext(&quot;b&quot;); // yield\r\n\t\tobserver.onNext(&quot;c&quot;); // yield\r\n\t\tobserver.onNext(&quot;d&quot;); // yield\r\n\t\tobserver.onComplete(); // finish\r\n\t}\r\n}\r\n```\r\n\r\nObservables can be transformed into iterators so you can even use them in more traditional for loops. Also RXJava gives you really powerful tools, but if you only need something simple then maybe this would be an overkill.","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>I'd also suggest if you're already using <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RXJava</a> in your project to use an Observable as a \"yielder\". It can be used in a similar fashion if you make your own Observable.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Example extends Observable&lt;String&gt; {\n\n    public static void main(String[] args) {\n        new Example().blockingSubscribe(System.out::println); // \"a\", \"b\", \"c\", \"d\"\n    }\n\n    @Override\n    protected void subscribeActual(Observer&lt;? super String&gt; observer) {\n        observer.onNext(\"a\"); // yield\n        observer.onNext(\"b\"); // yield\n        observer.onNext(\"c\"); // yield\n        observer.onNext(\"d\"); // yield\n        observer.onComplete(); // finish\n    }\n}\n</code></pre>\n\n<p>Observables can be transformed into iterators so you can even use them in more traditional for loops. Also RXJava gives you really powerful tools, but if you only need something simple then maybe this would be an overkill.</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576542561,"creation_date":1572258872,"answer_id":58589360,"question_id":1980953,"body_markdown":"I just published another (MIT-licensed) solution [here][1], which launches the producer in a separate thread, and sets up a bounded queue between the producer and the consumer, allowing for buffering, flow control, and parallel pipelining between producer and consumer (so that the consumer can be working on consuming the previous item while the producer is working on producing the next item).\r\n\r\nYou can use this anonymous inner class form:\r\n\r\n    Iterable&lt;T&gt; iterable = new Producer&lt;T&gt;(queueSize) {\r\n        @Override\r\n        public void producer() {\r\n            produce(someT);\r\n        }\r\n    };\r\n\r\nfor example:\r\n\r\n    for (Integer item : new Producer&lt;Integer&gt;(/* queueSize = */ 5) {\r\n        @Override\r\n        public void producer() {\r\n            for (int i = 0; i &lt; 20; i++) {\r\n                System.out.println(&quot;Producing &quot; + i);\r\n                produce(i);\r\n            }\r\n            System.out.println(&quot;Producer exiting&quot;);\r\n        }\r\n    }) {\r\n        System.out.println(&quot;  Consuming &quot; + item);\r\n        Thread.sleep(200);\r\n    }\r\n\r\nOr you can use lambda notation to cut down on boilerplate:\r\n\r\n    for (Integer item : new Producer&lt;Integer&gt;(/* queueSize = */ 5, producer -&gt; {\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            System.out.println(&quot;Producing &quot; + i);\r\n            producer.produce(i);\r\n        }\r\n        System.out.println(&quot;Producer exiting&quot;);\r\n    })) {\r\n        System.out.println(&quot;  Consuming &quot; + item);\r\n        Thread.sleep(200);\r\n    }\r\n\r\n  [1]: https://github.com/lukehutch/Producer\r\n\r\n","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>I just published another (MIT-licensed) solution <a href=\"https://github.com/lukehutch/Producer\" rel=\"nofollow noreferrer\">here</a>, which launches the producer in a separate thread, and sets up a bounded queue between the producer and the consumer, allowing for buffering, flow control, and parallel pipelining between producer and consumer (so that the consumer can be working on consuming the previous item while the producer is working on producing the next item).</p>\n\n<p>You can use this anonymous inner class form:</p>\n\n<pre><code>Iterable&lt;T&gt; iterable = new Producer&lt;T&gt;(queueSize) {\n    @Override\n    public void producer() {\n        produce(someT);\n    }\n};\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>for (Integer item : new Producer&lt;Integer&gt;(/* queueSize = */ 5) {\n    @Override\n    public void producer() {\n        for (int i = 0; i &lt; 20; i++) {\n            System.out.println(\"Producing \" + i);\n            produce(i);\n        }\n        System.out.println(\"Producer exiting\");\n    }\n}) {\n    System.out.println(\"  Consuming \" + item);\n    Thread.sleep(200);\n}\n</code></pre>\n\n<p>Or you can use lambda notation to cut down on boilerplate:</p>\n\n<pre><code>for (Integer item : new Producer&lt;Integer&gt;(/* queueSize = */ 5, producer -&gt; {\n    for (int i = 0; i &lt; 20; i++) {\n        System.out.println(\"Producing \" + i);\n        producer.produce(i);\n    }\n    System.out.println(\"Producer exiting\");\n})) {\n    System.out.println(\"  Consuming \" + item);\n    Thread.sleep(200);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2247912,"reputation":3396,"user_id":1980863,"accept_rate":50,"display_name":"RandomB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654624174,"creation_date":1654624174,"answer_id":72535565,"question_id":1980953,"body_markdown":"```java\r\n// Java code for Stream.generate()\r\n// to generate an infinite sequential\r\n// unordered stream\r\nimport java.util.*;\r\nimport java.util.stream.Stream;\r\n  \r\nclass GFG {\r\n      \r\n    // Driver code\r\n    public static void main(String[] args) {\r\n      \r\n    // using Stream.generate() method \r\n    // to generate 5 random Integer values\r\n    Stream.generate(new Random()::nextInt)\r\n      .limit(5).forEach(System.out::println); \r\n    }\r\n}\r\n```\r\n\r\n[From here][1].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/stream-generate-method-java/","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<pre class=\"lang-java prettyprint-override\"><code>// Java code for Stream.generate()\n// to generate an infinite sequential\n// unordered stream\nimport java.util.*;\nimport java.util.stream.Stream;\n  \nclass GFG {\n      \n    // Driver code\n    public static void main(String[] args) {\n      \n    // using Stream.generate() method \n    // to generate 5 random Integer values\n    Stream.generate(new Random()::nextInt)\n      .limit(5).forEach(System.out::println); \n    }\n}\n</code></pre>\n<p><a href=\"https://www.geeksforgeeks.org/stream-generate-method-java/\" rel=\"nofollow noreferrer\">From here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6788741,"reputation":24,"user_id":5226546,"display_name":"wolray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670996742,"creation_date":1670996742,"answer_id":74794053,"question_id":1980953,"body_markdown":"I wrote a new [library](https://github.com/wolray/seq-java) that has implemented generator for Java. It&#39;s simple, thread-free and fast.\r\n\r\nHere is an example of generating endless fibonacci numbers:\r\n```lang-java\r\npublic static Seq&lt;Integer&gt; fibonacci() {\r\n    return c -&gt; {\r\n        int a = 1;\r\n        int b = 1;\r\n        c.accept(a);\r\n        c.accept(b);\r\n        while (true) {\r\n            c.accept(b = a + (a = b));\r\n        }\r\n    };\r\n}\r\n```\r\nThe `Seq` interface is just like Java `Stream` and Kotlin `Sequence`, but faster than all of them. \r\n\r\nHere, let&#39;s print the first 7 elements of the fibonacci series\r\n```lang-java\r\nSeq&lt;Integer&gt; fib = fibonacci();\r\nfib.take(7).printAll(&quot;,&quot;); // =&gt; 1,1,2,3,5,8,13\r\n```\r\nFor the original problem, yielding all nodes of a tree? One line is enough.\r\n```lang-java\r\nSeq&lt;Node&gt; seq = Seq.ofTree(root, n -&gt; Seq.of(n.left, n.right));\r\n```","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>I wrote a new <a href=\"https://github.com/wolray/seq-java\" rel=\"nofollow noreferrer\">library</a> that has implemented generator for Java. It's simple, thread-free and fast.</p>\n<p>Here is an example of generating endless fibonacci numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Seq&lt;Integer&gt; fibonacci() {\n    return c -&gt; {\n        int a = 1;\n        int b = 1;\n        c.accept(a);\n        c.accept(b);\n        while (true) {\n            c.accept(b = a + (a = b));\n        }\n    };\n}\n</code></pre>\n<p>The <code>Seq</code> interface is just like Java <code>Stream</code> and Kotlin <code>Sequence</code>, but faster than all of them.</p>\n<p>Here, let's print the first 7 elements of the fibonacci series</p>\n<pre class=\"lang-java prettyprint-override\"><code>Seq&lt;Integer&gt; fib = fibonacci();\nfib.take(7).printAll(&quot;,&quot;); // =&gt; 1,1,2,3,5,8,13\n</code></pre>\n<p>For the original problem, yielding all nodes of a tree? One line is enough.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Seq&lt;Node&gt; seq = Seq.ofTree(root, n -&gt; Seq.of(n.left, n.right));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12953157,"reputation":13,"user_id":10540808,"display_name":"Yechoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678723199,"creation_date":1678723199,"answer_id":75724215,"question_id":1980953,"body_markdown":"Yes, you can have yield return like syntax in Java!\r\n\r\nIn java, to gain syntax like:\r\n\r\n    Yielder(list).forEach(x-&gt;doSomething(x))\r\n\r\nOne creates a class like this:\r\n\r\n```\r\npublic class Yielder {\r\n    public List&lt;String&gt; l;\r\n    \r\n    public Yielder(List&lt;String&gt; l){\r\n       this.l=l;\r\n    }\r\n\r\n    public void forEach(Consumer&lt;String&gt; f){\r\n        for(String s : l){\r\n            f.accept(s);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere f.accept() fulfills the role of yield return.","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>Yes, you can have yield return like syntax in Java!</p>\n<p>In java, to gain syntax like:</p>\n<pre><code>Yielder(list).forEach(x-&gt;doSomething(x))\n</code></pre>\n<p>One creates a class like this:</p>\n<pre><code>public class Yielder {\n    public List&lt;String&gt; l;\n    \n    public Yielder(List&lt;String&gt; l){\n       this.l=l;\n    }\n\n    public void forEach(Consumer&lt;String&gt; f){\n        for(String s : l){\n            f.accept(s);\n        }\n    }\n}\n</code></pre>\n<p>Where f.accept() fulfills the role of yield return.</p>\n"},{"tags":[],"owner":{"account_id":1088735,"reputation":4326,"user_id":1083855,"accept_rate":69,"display_name":"tigrou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702030065,"creation_date":1702030065,"answer_id":77625800,"question_id":1980953,"body_markdown":"C# code :\r\n\r\n    public IEnumerable&lt;int&gt; Foo()\r\n    {\r\n         for (int i = 0; i &lt; 5; i++)\r\n         { \r\n              yield return i;\r\n         }\r\n    }\r\n\r\n\r\nWould be the equivalent in Java (no need of third party library but requires support for lambdas):\r\n\r\n    public static Iterable&lt;Integer&gt; foo() {\r\n\t\treturn () -&gt; new Iterator&lt;&gt;() {\r\n\t\t    Integer counter = 0;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean hasNext() {\r\n\t\t\t\treturn counter &lt; 5;\r\n\t\t\t}\r\n\t\t    \r\n\t\t\t@Override\r\n\t\t\tpublic Integer next() {\r\n\t\t\t\treturn counter++;\r\n\t\t\t}\r\n\t\t};\r\n\t}","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>C# code :</p>\n<pre><code>public IEnumerable&lt;int&gt; Foo()\n{\n     for (int i = 0; i &lt; 5; i++)\n     { \n          yield return i;\n     }\n}\n</code></pre>\n<p>Would be the equivalent in Java (no need of third party library but requires support for lambdas):</p>\n<pre><code>public static Iterable&lt;Integer&gt; foo() {\n    return () -&gt; new Iterator&lt;&gt;() {\n        Integer counter = 0;\n\n        @Override\n        public boolean hasNext() {\n            return counter &lt; 5;\n        }\n        \n        @Override\n        public Integer next() {\n            return counter++;\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40232,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":17167174,"answer_count":10,"score":116,"last_activity_date":1702030065,"creation_date":1262189315,"question_id":1980953,"body_markdown":"I know there is no direct equivalent in Java itself, but perhaps a third party?\r\n\r\nIt is really convenient. Currently I&#39;d like to implement an iterator that yields all nodes in a tree, which is about five lines of code with yield.","title":"Is there a Java equivalent to C#&#39;s &#39;yield&#39; keyword?","body":"<p>I know there is no direct equivalent in Java itself, but perhaps a third party?</p>\n\n<p>It is really convenient. Currently I'd like to implement an iterator that yields all nodes in a tree, which is about five lines of code with yield.</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"score":3,"creation_date":1321960212,"post_id":8225777,"comment_id":10115223,"body_markdown":"Are you using Eclipse?  If so, &#39;Multiple Markers ...&#39; is Eclipse&#39;s way of telling you that there are multiple errors on that line.  Try refreshing the project folder and doing a build - it could just be Eclipse being special.","body":"Are you using Eclipse?  If so, &#39;Multiple Markers ...&#39; is Eclipse&#39;s way of telling you that there are multiple errors on that line.  Try refreshing the project folder and doing a build - it could just be Eclipse being special."},{"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"score":0,"creation_date":1321961115,"post_id":8225777,"comment_id":10115455,"body_markdown":"@mcfinnigan, yes I&#39;m using Eclipse. I selected the project and then refreshed it but the error is the same... I would like to build it as you say but I can&#39;t find that action and I&#39;m not sure if that would solve my problem because till now I didn&#39;t see anythink related to building the Stockwatcher app...","body":"@mcfinnigan, yes I&#39;m using Eclipse. I selected the project and then refreshed it but the error is the same... I would like to build it as you say but I can&#39;t find that action and I&#39;m not sure if that would solve my problem because till now I didn&#39;t see anythink related to building the Stockwatcher app..."},{"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"score":0,"creation_date":1321961462,"post_id":8225777,"comment_id":10115541,"body_markdown":"@mcfinnigan, well I found the build option, but it&#39;s not active even when I select the project from the explorer. &quot;Build automatically&quot; is activated.","body":"@mcfinnigan, well I found the build option, but it&#39;s not active even when I select the project from the explorer. &quot;Build automatically&quot; is activated."},{"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"score":0,"creation_date":1321961505,"post_id":8225777,"comment_id":10115549,"body_markdown":"^B is usually the Eclipse build command - otherwise, select Project / Clean after making sure Project / Build Automatically is checked.  Also, open Window / Show View / Problems and you should get a list of current compilation errors in your workspace.","body":"^B is usually the Eclipse build command - otherwise, select Project / Clean after making sure Project / Build Automatically is checked.  Also, open Window / Show View / Problems and you should get a list of current compilation errors in your workspace."},{"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"score":0,"creation_date":1321961786,"post_id":8225777,"comment_id":10115631,"body_markdown":"@mcfinnigan, I don&#39;t see anything at my Problems window. The errors for me are showed at Show view / Development mode.","body":"@mcfinnigan, I don&#39;t see anything at my Problems window. The errors for me are showed at Show view / Development mode."},{"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"score":0,"creation_date":1321962136,"post_id":8225777,"comment_id":10115743,"body_markdown":"Can you obtain a list of the errors in any way?","body":"Can you obtain a list of the errors in any way?"},{"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"score":0,"creation_date":1321962441,"post_id":8225777,"comment_id":10115831,"body_markdown":"@mcfinnigan, I&#39;ve pasted them in my question.","body":"@mcfinnigan, I&#39;ve pasted them in my question."},{"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"score":0,"creation_date":1321962655,"post_id":8225777,"comment_id":10115901,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/5231/discussion-between-tirengarfio-and-mcfinnigan)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/5231/discussion-between-tirengarfio-and-mcfinnigan\">continue this discussion in chat</a>"},{"owner":{"display_name":"user743489"},"score":0,"creation_date":1339710025,"post_id":8225777,"comment_id":14441699,"body_markdown":"Try to delete the folder that GWT creates after compilation in war directory, then redeploy.","body":"Try to delete the folder that GWT creates after compilation in war directory, then redeploy."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425771908,"post_id":8225777,"comment_id":46100101,"body_markdown":"This is not the s&#39;tack of errors&#39;. This is a listing of what happened at runtime when you *ran* it. We are looking for compilation errors here.","body":"This is not the s&#39;tack of errors&#39;. This is a listing of what happened at runtime when you <i>ran</i> it. We are looking for compilation errors here."}],"answers":[{"tags":[],"owner":{"account_id":1966171,"reputation":5909,"user_id":1766382,"accept_rate":67,"display_name":"Daniel Langdon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361233074,"creation_date":1361231589,"answer_id":14947480,"question_id":8225777,"body_markdown":"Your list of error does not communicate much. It just says &quot;(Suspended (breakpoint at line 67 in StockWatcher))&quot; which is you manually stopping the process. Let if fail and paste that.\r\n\r\nIn any case, I see no issues in the specific line. One thing that can mess up the compiler is an extra `(` or `{`, else, try cleaning the project, erasing the GWT-generated code and rebuilding.","title":"&quot;Multiple markers at this line&quot;","body":"<p>Your list of error does not communicate much. It just says \"(Suspended (breakpoint at line 67 in StockWatcher))\" which is you manually stopping the process. Let if fail and paste that.</p>\n\n<p>In any case, I see no issues in the specific line. One thing that can mess up the compiler is an extra <code>(</code> or <code>{</code>, else, try cleaning the project, erasing the GWT-generated code and rebuilding.</p>\n"},{"tags":[],"owner":{"account_id":6604267,"reputation":11,"user_id":5101513,"display_name":"Dhavamani Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437138066,"creation_date":1437138066,"answer_id":31476462,"question_id":8225777,"body_markdown":"Multiple markers is nothing but if there is more than one wrong with the line what you have been coded&quot;.\r\n\r\nThe main problem is that you are trying to insert more than one statements are directly into a class, constructor, method etc...,","title":"&quot;Multiple markers at this line&quot;","body":"<p>Multiple markers is nothing but if there is more than one wrong with the line what you have been coded\".</p>\n\n<p>The main problem is that you are trying to insert more than one statements are directly into a class, constructor, method etc...,</p>\n"}],"owner":{"account_id":90426,"reputation":31165,"user_id":248959,"accept_rate":61,"display_name":"tirenweb"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30546,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1702029690,"creation_date":1321960036,"question_id":8225777,"body_markdown":"I&#39;m following the [Stockwatcher][1] tutorial.\r\n\r\nWhen I try to run it I&#39;m getting this error?: &quot;Multiple markers at this line&quot; (I have added a comment in that line below).\r\n\r\n\r\n    package com.google.gwt.sample.stockwatcher.client;\r\n    \r\n    import com.google.gwt.core.client.EntryPoint;\r\n    import com.google.gwt.event.dom.client.ClickEvent;\r\n    import com.google.gwt.event.dom.client.ClickHandler;\r\n    import com.google.gwt.event.dom.client.KeyCodes;\r\n    import com.google.gwt.event.dom.client.KeyPressEvent;\r\n    import com.google.gwt.event.dom.client.KeyPressHandler;\r\n    import com.google.gwt.i18n.client.NumberFormat;\r\n    import com.google.gwt.user.client.ui.Label;\r\n    import com.google.gwt.user.client.ui.Button;\r\n    import com.google.gwt.user.client.ui.FlexTable;\r\n    import com.google.gwt.user.client.ui.HorizontalPanel;\r\n    import com.google.gwt.user.client.ui.TextBox;\r\n    import com.google.gwt.user.client.ui.VerticalPanel;\r\n    import com.google.gwt.user.client.ui.RootPanel;\r\n    import com.google.gwt.user.client.Random;\r\n    import com.google.gwt.user.client.Timer;\r\n    import com.google.gwt.user.client.Window;\r\n    import java.util.ArrayList;\r\n    \r\n    public class StockWatcher implements EntryPoint {\r\n    \r\n      private static final int REFRESH_INTERVAL = 5000;\r\n      private VerticalPanel mainPanel = new VerticalPanel();\r\n      private FlexTable stocksFlexTable = new FlexTable();\r\n      private HorizontalPanel addPanel = new HorizontalPanel();\r\n      private TextBox newSymbolTextBox = new TextBox();\r\n      private Button addStockButton = new Button(&quot;Add&quot;);\r\n      private Label lastUpdatedLabel = new Label();\r\n      private ArrayList&lt;String&gt; stocks = new ArrayList&lt;String&gt;();\r\n    \r\n      /**\r\n       * Entry point method.\r\n       */\r\n      public void onModuleLoad() {\r\n    \t  \r\n        // Create table for stock data.\r\n        stocksFlexTable.setText(0, 0, &quot;Symbol&quot;);\r\n        stocksFlexTable.setText(0, 1, &quot;Price&quot;);\r\n        stocksFlexTable.setText(0, 2, &quot;Change&quot;);\r\n        stocksFlexTable.setText(0, 3, &quot;Remove&quot;);  \r\n    \t  \r\n        // Assemble Add Stock panel.\r\n        addPanel.add(newSymbolTextBox);\r\n        addPanel.add(addStockButton);\r\n    \r\n        // Assemble Main panel.\r\n        mainPanel.add(stocksFlexTable);\r\n        mainPanel.add(addPanel);\r\n        mainPanel.add(lastUpdatedLabel);\r\n        \r\n        // Associate the Main panel with the HTML host page.\r\n        RootPanel.get(&quot;stockList&quot;).add(mainPanel);    \r\n        \r\n        // Move cursor focus to the input box.\r\n        newSymbolTextBox.setFocus(true);\r\n    \r\n        // Setup timer to refresh list automatically.\r\n        Timer refreshTimer = new Timer() {\r\n          @Override\r\n          public void run() {\r\n            refreshWatchList();\r\n          }\r\n    \r\n        };\r\n        refreshTimer.scheduleRepeating(REFRESH_INTERVAL); //THIS IS THE LINE OF THE \r\n        \r\n        // Listen for mouse events on the Add button.\r\n        addStockButton.addClickHandler(new ClickHandler() {\r\n          public void onClick(ClickEvent event) {\r\n            addStock();\r\n          }\r\n        });\r\n        \r\n        // Listen for keyboard events in the input box.\r\n        newSymbolTextBox.addKeyPressHandler(new KeyPressHandler() {\r\n          public void onKeyPress(KeyPressEvent event) {\r\n        \t  System.out.println(&quot;foo=&quot; + KeyCodes.KEY_ENTER);\r\n        \t  System.out.println(&quot;bar=&quot; + (int)event.getCharCode());\r\n            if (event.getCharCode() == KeyCodes.KEY_ENTER) {\r\n              \r\n    \r\n              addStock();\r\n            }\r\n          }\r\n        });\r\n        \r\n      }\r\n      \r\n      /**\r\n       * Add stock to FlexTable. Executed when the user clicks the addStockButton or\r\n       * presses enter in the newSymbolTextBox.\r\n       */\r\n      private void addStock() {\r\n        final String symbol = newSymbolTextBox.getText().toUpperCase().trim();\r\n        newSymbolTextBox.setFocus(true);\r\n    \r\n        // Stock code must be between 1 and 10 chars that are numbers, letters, or dots.\r\n        if (!symbol.matches(&quot;^[0-9A-Z\\\\.]{1,10}$&quot;)) {\r\n          Window.alert(&quot;&#39;&quot; + symbol + &quot;&#39; is not a valid symbol.&quot;);\r\n          newSymbolTextBox.selectAll();\r\n          return;\r\n        }\r\n    \r\n        newSymbolTextBox.setText(&quot;&quot;);\r\n        \r\n        // Don&#39;t add the stock if it&#39;s already in the table.\r\n        if (stocks.contains(symbol))\r\n          return;\r\n    \r\n        // Add the stock to the table.\r\n        int row = stocksFlexTable.getRowCount();\r\n        stocks.add(symbol);\r\n        stocksFlexTable.setText(row, 0, symbol);\r\n    \r\n        // Add a button to remove this stock from the table.\r\n        Button removeStockButton = new Button(&quot;x&quot;);\r\n        removeStockButton.addClickHandler(new ClickHandler() {\r\n          public void onClick(ClickEvent event) {\r\n            int removedIndex = stocks.indexOf(symbol);\r\n            stocks.remove(removedIndex);        stocksFlexTable.removeRow(removedIndex + 1);\r\n          }\r\n        });\r\n        stocksFlexTable.setWidget(row, 3, removeStockButton);\r\n    \r\n        // Get the stock price.\r\n        refreshWatchList();\r\n    \r\n      }\r\n    \r\n      private void refreshWatchList() {\r\n        final double MAX_PRICE = 100.0; // $100.00\r\n        final double MAX_PRICE_CHANGE = 0.02; // +/- 2%\r\n    \r\n        StockPrice[] prices = new StockPrice[stocks.size()];\r\n        for (int i = 0; i &lt; stocks.size(); i++) {\r\n          double price = Random.nextDouble() * MAX_PRICE;\r\n          double change = price * MAX_PRICE_CHANGE\r\n              * (Random.nextDouble() * 2.0 - 1.0);\r\n    \r\n          prices[i] = new StockPrice(stocks.get(i), price, change);\r\n        }\r\n    \r\n        updateTable(prices);\r\n    \t\r\n      }\r\n      \r\n      /**\r\n       * Update the Price and Change fields all the rows in the stock table.\r\n       *\r\n       * @param prices Stock data for all rows.\r\n       */\r\n      private void updateTable(StockPrice[] prices) {\r\n        for (int i = 0; i &lt; prices.length; i++) {\r\n            updateTable(prices[i]);\r\n          }\r\n      }\r\n      \r\n      /**\r\n       * Update a single row in the stock table.\r\n       *\r\n       * @param price Stock data for a single row.\r\n       */\r\n      private void updateTable(StockPrice price) {\r\n        // Make sure the stock is still in the stock table.\r\n        if (!stocks.contains(price.getSymbol())) {\r\n          return;\r\n        }\r\n    \r\n        int row = stocks.indexOf(price.getSymbol()) + 1;\r\n    \r\n        // Format the data in the Price and Change fields.\r\n        String priceText = NumberFormat.getFormat(&quot;#,##0.00&quot;).format(\r\n            price.getPrice());\r\n        NumberFormat changeFormat = NumberFormat.getFormat(&quot;+#,##0.00;-#,##0.00&quot;);\r\n        String changeText = changeFormat.format(price.getChange());\r\n        String changePercentText = changeFormat.format(price.getChangePercent());\r\n    \r\n        // Populate the Price and Change fields with new data.\r\n        stocksFlexTable.setText(row, 1, priceText);\r\n        stocksFlexTable.setText(row, 2, changeText + &quot; (&quot; + changePercentText\r\n            + &quot;%)&quot;);\r\n      }\r\n    \r\n    }\r\n\r\nThis is the stack of errors:\r\n\r\n    StockWatcher [Web Application]\t\r\n    \tcom.google.gwt.dev.DevMode at localhost:56938\t\r\n    \t\tThread [main] (Running)\t\r\n    \t\tThread [Thread-1] (Running)\t\r\n    \t\tDaemon Thread [Thread-2] (Running)\t\r\n    \t\tDaemon Thread [UnitWriteThread] (Running)\t\r\n    \t\tDaemon Thread [Timer-0] (Running)\t\r\n    \t\tDaemon Thread [Code server listener] (Running)\t\r\n    \t\tDaemon Thread [com.google.gwt.thirdparty.guava.common.base.internal.Finalizer] (Running)\t\r\n    \t\tThread [2048426764@qtp-774727454-1 - Acceptor0 SelectChannelConnector@0.0.0.0:8888] (Running)\t\r\n    \t\tThread [2108438076@qtp-774727454-0] (Running)\t\r\n    \t\tDaemon Thread [Timer-1] (Running)\t\r\n    \t\tDaemon Thread [Code server for stockwatcher from Mozilla/5.0 (X11; Linux x86_64; rv:7.0.1) Gecko/20100101 Firefox/7.0.1 on http://127.0.0.1:8888/StockWatcher.html?gwt.codesvr=127.0.0.1:9997 @ 1hS?FL4(4E4&quot;&#39;T^J] (Suspended (breakpoint at line 67 in StockWatcher))\t\r\n    \t\t\tStockWatcher.onModuleLoad() line: 67\t\r\n    \t\t\tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n    \t\t\tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 57\t\r\n    \t\t\tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43\t\r\n    \t\t\tMethod.invoke(Object, Object...) line: 601\t\r\n    \t\t\tModuleSpaceOOPHM(ModuleSpace).onLoad(TreeLogger) line: 396\t\r\n    \t\t\tOophmSessionHandler.loadModule(BrowserChannelServer, String, String, String, String, String, byte[]) line: 200\t\r\n    \t\t\tBrowserChannelServer.processConnection() line: 525\t\r\n    \t\t\tBrowserChannelServer.run() line: 363\t\r\n    \t\t\tThread.run() line: 722\t\r\n    \t/usr/lib/jdk1.7.0_01/bin/java (Nov 22, 2011 12:45:50 PM)\t\r\n\r\n  [1]: http://code.google.com/webtoolkit/doc/latest/tutorial/create.html\r\n\r\nJavi","title":"&quot;Multiple markers at this line&quot;","body":"<p>I'm following the <a href=\"http://code.google.com/webtoolkit/doc/latest/tutorial/create.html\" rel=\"nofollow\">Stockwatcher</a> tutorial.</p>\n\n<p>When I try to run it I'm getting this error?: \"Multiple markers at this line\" (I have added a comment in that line below).</p>\n\n<pre><code>package com.google.gwt.sample.stockwatcher.client;\n\nimport com.google.gwt.core.client.EntryPoint;\nimport com.google.gwt.event.dom.client.ClickEvent;\nimport com.google.gwt.event.dom.client.ClickHandler;\nimport com.google.gwt.event.dom.client.KeyCodes;\nimport com.google.gwt.event.dom.client.KeyPressEvent;\nimport com.google.gwt.event.dom.client.KeyPressHandler;\nimport com.google.gwt.i18n.client.NumberFormat;\nimport com.google.gwt.user.client.ui.Label;\nimport com.google.gwt.user.client.ui.Button;\nimport com.google.gwt.user.client.ui.FlexTable;\nimport com.google.gwt.user.client.ui.HorizontalPanel;\nimport com.google.gwt.user.client.ui.TextBox;\nimport com.google.gwt.user.client.ui.VerticalPanel;\nimport com.google.gwt.user.client.ui.RootPanel;\nimport com.google.gwt.user.client.Random;\nimport com.google.gwt.user.client.Timer;\nimport com.google.gwt.user.client.Window;\nimport java.util.ArrayList;\n\npublic class StockWatcher implements EntryPoint {\n\n  private static final int REFRESH_INTERVAL = 5000;\n  private VerticalPanel mainPanel = new VerticalPanel();\n  private FlexTable stocksFlexTable = new FlexTable();\n  private HorizontalPanel addPanel = new HorizontalPanel();\n  private TextBox newSymbolTextBox = new TextBox();\n  private Button addStockButton = new Button(\"Add\");\n  private Label lastUpdatedLabel = new Label();\n  private ArrayList&lt;String&gt; stocks = new ArrayList&lt;String&gt;();\n\n  /**\n   * Entry point method.\n   */\n  public void onModuleLoad() {\n\n    // Create table for stock data.\n    stocksFlexTable.setText(0, 0, \"Symbol\");\n    stocksFlexTable.setText(0, 1, \"Price\");\n    stocksFlexTable.setText(0, 2, \"Change\");\n    stocksFlexTable.setText(0, 3, \"Remove\");  \n\n    // Assemble Add Stock panel.\n    addPanel.add(newSymbolTextBox);\n    addPanel.add(addStockButton);\n\n    // Assemble Main panel.\n    mainPanel.add(stocksFlexTable);\n    mainPanel.add(addPanel);\n    mainPanel.add(lastUpdatedLabel);\n\n    // Associate the Main panel with the HTML host page.\n    RootPanel.get(\"stockList\").add(mainPanel);    \n\n    // Move cursor focus to the input box.\n    newSymbolTextBox.setFocus(true);\n\n    // Setup timer to refresh list automatically.\n    Timer refreshTimer = new Timer() {\n      @Override\n      public void run() {\n        refreshWatchList();\n      }\n\n    };\n    refreshTimer.scheduleRepeating(REFRESH_INTERVAL); //THIS IS THE LINE OF THE \n\n    // Listen for mouse events on the Add button.\n    addStockButton.addClickHandler(new ClickHandler() {\n      public void onClick(ClickEvent event) {\n        addStock();\n      }\n    });\n\n    // Listen for keyboard events in the input box.\n    newSymbolTextBox.addKeyPressHandler(new KeyPressHandler() {\n      public void onKeyPress(KeyPressEvent event) {\n          System.out.println(\"foo=\" + KeyCodes.KEY_ENTER);\n          System.out.println(\"bar=\" + (int)event.getCharCode());\n        if (event.getCharCode() == KeyCodes.KEY_ENTER) {\n\n\n          addStock();\n        }\n      }\n    });\n\n  }\n\n  /**\n   * Add stock to FlexTable. Executed when the user clicks the addStockButton or\n   * presses enter in the newSymbolTextBox.\n   */\n  private void addStock() {\n    final String symbol = newSymbolTextBox.getText().toUpperCase().trim();\n    newSymbolTextBox.setFocus(true);\n\n    // Stock code must be between 1 and 10 chars that are numbers, letters, or dots.\n    if (!symbol.matches(\"^[0-9A-Z\\\\.]{1,10}$\")) {\n      Window.alert(\"'\" + symbol + \"' is not a valid symbol.\");\n      newSymbolTextBox.selectAll();\n      return;\n    }\n\n    newSymbolTextBox.setText(\"\");\n\n    // Don't add the stock if it's already in the table.\n    if (stocks.contains(symbol))\n      return;\n\n    // Add the stock to the table.\n    int row = stocksFlexTable.getRowCount();\n    stocks.add(symbol);\n    stocksFlexTable.setText(row, 0, symbol);\n\n    // Add a button to remove this stock from the table.\n    Button removeStockButton = new Button(\"x\");\n    removeStockButton.addClickHandler(new ClickHandler() {\n      public void onClick(ClickEvent event) {\n        int removedIndex = stocks.indexOf(symbol);\n        stocks.remove(removedIndex);        stocksFlexTable.removeRow(removedIndex + 1);\n      }\n    });\n    stocksFlexTable.setWidget(row, 3, removeStockButton);\n\n    // Get the stock price.\n    refreshWatchList();\n\n  }\n\n  private void refreshWatchList() {\n    final double MAX_PRICE = 100.0; // $100.00\n    final double MAX_PRICE_CHANGE = 0.02; // +/- 2%\n\n    StockPrice[] prices = new StockPrice[stocks.size()];\n    for (int i = 0; i &lt; stocks.size(); i++) {\n      double price = Random.nextDouble() * MAX_PRICE;\n      double change = price * MAX_PRICE_CHANGE\n          * (Random.nextDouble() * 2.0 - 1.0);\n\n      prices[i] = new StockPrice(stocks.get(i), price, change);\n    }\n\n    updateTable(prices);\n\n  }\n\n  /**\n   * Update the Price and Change fields all the rows in the stock table.\n   *\n   * @param prices Stock data for all rows.\n   */\n  private void updateTable(StockPrice[] prices) {\n    for (int i = 0; i &lt; prices.length; i++) {\n        updateTable(prices[i]);\n      }\n  }\n\n  /**\n   * Update a single row in the stock table.\n   *\n   * @param price Stock data for a single row.\n   */\n  private void updateTable(StockPrice price) {\n    // Make sure the stock is still in the stock table.\n    if (!stocks.contains(price.getSymbol())) {\n      return;\n    }\n\n    int row = stocks.indexOf(price.getSymbol()) + 1;\n\n    // Format the data in the Price and Change fields.\n    String priceText = NumberFormat.getFormat(\"#,##0.00\").format(\n        price.getPrice());\n    NumberFormat changeFormat = NumberFormat.getFormat(\"+#,##0.00;-#,##0.00\");\n    String changeText = changeFormat.format(price.getChange());\n    String changePercentText = changeFormat.format(price.getChangePercent());\n\n    // Populate the Price and Change fields with new data.\n    stocksFlexTable.setText(row, 1, priceText);\n    stocksFlexTable.setText(row, 2, changeText + \" (\" + changePercentText\n        + \"%)\");\n  }\n\n}\n</code></pre>\n\n<p>This is the stack of errors:</p>\n\n<pre><code>StockWatcher [Web Application]  \n    com.google.gwt.dev.DevMode at localhost:56938   \n        Thread [main] (Running) \n        Thread [Thread-1] (Running) \n        Daemon Thread [Thread-2] (Running)  \n        Daemon Thread [UnitWriteThread] (Running)   \n        Daemon Thread [Timer-0] (Running)   \n        Daemon Thread [Code server listener] (Running)  \n        Daemon Thread [com.google.gwt.thirdparty.guava.common.base.internal.Finalizer] (Running)    \n        Thread [2048426764@qtp-774727454-1 - Acceptor0 SelectChannelConnector@0.0.0.0:8888] (Running)   \n        Thread [2108438076@qtp-774727454-0] (Running)   \n        Daemon Thread [Timer-1] (Running)   \n        Daemon Thread [Code server for stockwatcher from Mozilla/5.0 (X11; Linux x86_64; rv:7.0.1) Gecko/20100101 Firefox/7.0.1 on http://127.0.0.1:8888/StockWatcher.html?gwt.codesvr=127.0.0.1:9997 @ 1hS?FL4(4E4\"'T^J] (Suspended (breakpoint at line 67 in StockWatcher))   \n            StockWatcher.onModuleLoad() line: 67    \n            NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \n            NativeMethodAccessorImpl.invoke(Object, Object[]) line: 57  \n            DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 43  \n            Method.invoke(Object, Object...) line: 601  \n            ModuleSpaceOOPHM(ModuleSpace).onLoad(TreeLogger) line: 396  \n            OophmSessionHandler.loadModule(BrowserChannelServer, String, String, String, String, String, byte[]) line: 200  \n            BrowserChannelServer.processConnection() line: 525  \n            BrowserChannelServer.run() line: 363    \n            Thread.run() line: 722  \n    /usr/lib/jdk1.7.0_01/bin/java (Nov 22, 2011 12:45:50 PM)    \n</code></pre>\n\n<p>Javi</p>\n"},{"tags":["java","geonames"],"comments":[{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1555872816,"post_id":55785707,"comment_id":98242118,"body_markdown":"“I don&#39;t know how to write the code for it.”, meaning you don’t know java or you don’t know the API? The API looks well documented to me. Anyway you need to be more specific about your issue or this question will probably be closed","body":"“I don&#39;t know how to write the code for it.”, meaning you don’t know java or you don’t know the API? The API looks well documented to me. Anyway you need to be more specific about your issue or this question will probably be closed"},{"owner":{"account_id":10937560,"reputation":105,"user_id":8038685,"display_name":"Shajedul Islam"},"score":0,"creation_date":1555873188,"post_id":55785707,"comment_id":98242211,"body_markdown":"Sorry if it was not clear. I have updated my question. Please check it !","body":"Sorry if it was not clear. I have updated my question. Please check it !"}],"answers":[{"tags":[],"owner":{"account_id":25884744,"reputation":1,"user_id":19678901,"display_name":"Timur Davydov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702029474,"creation_date":1702029474,"answer_id":77625756,"question_id":55785707,"body_markdown":"You need uri like this \\\r\n`http://api.geonames.org/search?name_startsWith=Berlin&amp;featureClass=P&amp;type=json&amp;username=shajedulislam&amp;maxRows=100&amp;lang=EN&amp;continentCode=EU` \\\r\nThere&#39;re we have `featureClass=P` and `continentCode=EU`. \r\nWith that query params we will find cities which name starts with Berlin in Europe continent. \\\r\nHere is [documentation](https://www.geonames.org/export/geonames-search.html)","title":"Get countries under a continent using geonames API","body":"<p>You need uri like this <br />\n<code>http://api.geonames.org/search?name_startsWith=Berlin&amp;featureClass=P&amp;type=json&amp;username=shajedulislam&amp;maxRows=100&amp;lang=EN&amp;continentCode=EU</code> <br />\nThere're we have <code>featureClass=P</code> and <code>continentCode=EU</code>.\nWith that query params we will find cities which name starts with Berlin in Europe continent. <br />\nHere is <a href=\"https://www.geonames.org/export/geonames-search.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"owner":{"account_id":10937560,"reputation":105,"user_id":8038685,"display_name":"Shajedul Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702029474,"creation_date":1555872470,"question_id":55785707,"body_markdown":"I am new in Geonames API. I need to write java code using Geonames API to print countries under a continent.\r\n\r\nExample:\r\n\r\nEurope is a continent and Italy is one of the countries under this continent. So I want to print all the countries under Europe continent.\r\n\r\nI am able to get all continent names as You can see my code here. Now I want to get all countries for one of the continents. I just dont know what should be in the toponymSearchCriteria or how can i find it !\r\n\r\nCode:\r\n\r\n    package geonames;\r\n    \r\n    import org.geonames.Toponym;\r\n    import org.geonames.ToponymSearchCriteria;\r\n    import org.geonames.ToponymSearchResult;\r\n    import org.geonames.WebService;\r\n    \r\n    public class app {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tWebService.setGeoNamesServer(&quot;api.geonames.org&quot;);\r\n    \t\tWebService.setUserName(&quot;shajedulislam&quot;);\r\n    \t\tToponymSearchCriteria searchCriteria = new ToponymSearchCriteria();\r\n    \t\tsearchCriteria.setFeatureCode(&quot;CONT&quot;);\r\n    \t\tToponymSearchResult searchResult = WebService.search(searchCriteria);\r\n    \t\tfor (Toponym toponym : searchResult.getToponyms()) {\r\n    \t\t\tSystem.out.println(toponym.getName());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    Africa\r\n    Asia\r\n    Europe\r\n    North America\r\n    South America\r\n    Oceania\r\n    Antarctica","title":"Get countries under a continent using geonames API","body":"<p>I am new in Geonames API. I need to write java code using Geonames API to print countries under a continent.</p>\n\n<p>Example:</p>\n\n<p>Europe is a continent and Italy is one of the countries under this continent. So I want to print all the countries under Europe continent.</p>\n\n<p>I am able to get all continent names as You can see my code here. Now I want to get all countries for one of the continents. I just dont know what should be in the toponymSearchCriteria or how can i find it !</p>\n\n<p>Code:</p>\n\n<pre><code>package geonames;\n\nimport org.geonames.Toponym;\nimport org.geonames.ToponymSearchCriteria;\nimport org.geonames.ToponymSearchResult;\nimport org.geonames.WebService;\n\npublic class app {\n\n    public static void main(String[] args) throws Exception {\n        WebService.setGeoNamesServer(\"api.geonames.org\");\n        WebService.setUserName(\"shajedulislam\");\n        ToponymSearchCriteria searchCriteria = new ToponymSearchCriteria();\n        searchCriteria.setFeatureCode(\"CONT\");\n        ToponymSearchResult searchResult = WebService.search(searchCriteria);\n        for (Toponym toponym : searchResult.getToponyms()) {\n            System.out.println(toponym.getName());\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Africa\nAsia\nEurope\nNorth America\nSouth America\nOceania\nAntarctica\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29362726,"reputation":26,"user_id":22497133,"display_name":"VishV_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702029293,"creation_date":1702028953,"answer_id":77625716,"question_id":77575874,"body_markdown":"For cast images, you only need to change your local server URL after the URL PORT.\r\n\r\nhttp://192.168.X.X:8060/input/15985?u=http%3A%2F%2F192.168.1.31%3A8000%2F**change_this_segment**&amp;t=p&amp;tr=crossfade&amp;h=%28null%29\r\n\r\nDon&#39;t use same url every time while cast the image, so change my mentioned position with image path which will make URL unique.","title":"Cast Image using Input command for ROKU","body":"<p>For cast images, you only need to change your local server URL after the URL PORT.</p>\n<p><a href=\"http://192.168.X.X:8060/input/15985?u=http%3A%2F%2F192.168.1.31%3A8000%2F**change_this_segment**&amp;t=p&amp;tr=crossfade&amp;h=%28null%29\" rel=\"nofollow noreferrer\">http://192.168.X.X:8060/input/15985?u=http%3A%2F%2F192.168.1.31%3A8000%2F**change_this_segment**&amp;t=p&amp;tr=crossfade&amp;h=%28null%29</a></p>\n<p>Don't use same url every time while cast the image, so change my mentioned position with image path which will make URL unique.</p>\n"}],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702029293,"creation_date":1701318106,"question_id":77575874,"body_markdown":"into below command what to replace for cast new image ? also need to know which code segment should be constant. please help \r\n\r\nhttp://192.168.X.X:8060/input/15985?u=http%3A%2F%2F192.168.1.31%3A8000%2Fstorage%2Femulated%2F0%2FPictures%2FMusicPlayer%2FAlbum_1697522130300.png&amp;t=p&amp;tr=crossfade&amp;h=%28null%29","title":"Cast Image using Input command for ROKU","body":"<p>into below command what to replace for cast new image ? also need to know which code segment should be constant. please help</p>\n<p><a href=\"http://192.168.X.X:8060/input/15985?u=http%3A%2F%2F192.168.1.31%3A8000%2Fstorage%2Femulated%2F0%2FPictures%2FMusicPlayer%2FAlbum_1697522130300.png&amp;t=p&amp;tr=crossfade&amp;h=%28null%29\" rel=\"nofollow noreferrer\">http://192.168.X.X:8060/input/15985?u=http%3A%2F%2F192.168.1.31%3A8000%2Fstorage%2Femulated%2F0%2FPictures%2FMusicPlayer%2FAlbum_1697522130300.png&amp;t=p&amp;tr=crossfade&amp;h=%28null%29</a></p>\n"},{"tags":["java","unit-testing","intellij-idea","junit"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412336611,"post_id":26177689,"comment_id":41044286,"body_markdown":"Is it the same tests that are started each time? No problems with synchronization / threads / dependency injection?","body":"Is it the same tests that are started each time? No problems with synchronization / threads / dependency injection?"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412336662,"post_id":26177689,"comment_id":41044306,"body_markdown":"None of the sort - each test is completely separate and the tests do not share anything at all.","body":"None of the sort - each test is completely separate and the tests do not share anything at all."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412336694,"post_id":26177689,"comment_id":41044322,"body_markdown":"Ok. same ones not starting each time, or does it vary?","body":"Ok. same ones not starting each time, or does it vary?"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":1,"creation_date":1412336826,"post_id":26177689,"comment_id":41044381,"body_markdown":"The problem seems to be a 10 minute limit somewhere. As I stated in the post, I can get them *all* to run eventually as long as I constantly hit &quot;rerun failed tests&quot; every time it happens. And they always run in the same order.","body":"The problem seems to be a 10 minute limit somewhere. As I stated in the post, I can get them <i>all</i> to run eventually as long as I constantly hit &quot;rerun failed tests&quot; every time it happens. And they always run in the same order."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412337007,"post_id":26177689,"comment_id":41044477,"body_markdown":"@vikingsteve: it will vary on how long the previous tests take.","body":"@vikingsteve: it will vary on how long the previous tests take."}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1412337567,"creation_date":1412337567,"answer_id":26178545,"question_id":26177689,"body_markdown":"There is a timeout option for the `@Test` annotation - have you tried increasing that?\r\n\r\nAnd there is also a `@Rule` and `Timeout` option.\r\n\r\nInfo [about Timeout for Tests][1] - I hope it is relevant?\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Timeout-for-tests","title":"IntelliJ: Tests not started","body":"<p>There is a timeout option for the <code>@Test</code> annotation - have you tried increasing that?</p>\n\n<p>And there is also a <code>@Rule</code> and <code>Timeout</code> option.</p>\n\n<p>Info <a href=\"https://github.com/junit-team/junit/wiki/Timeout-for-tests\" rel=\"nofollow\">about Timeout for Tests</a> - I hope it is relevant?</p>\n"},{"tags":[],"owner":{"account_id":7179246,"reputation":1369,"user_id":5483900,"display_name":"ankursingh1000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614413817,"creation_date":1614413817,"answer_id":66396864,"question_id":26177689,"body_markdown":"I faced the same problem.\r\nSolved by adding test platform in build.gradle.\r\n\r\n    test {\r\n    useJUnitPlatform()\r\n    }\r\n\r\nRestart intelij by removing all modules and adding them again.","title":"IntelliJ: Tests not started","body":"<p>I faced the same problem.\nSolved by adding test platform in build.gradle.</p>\n<pre><code>test {\nuseJUnitPlatform()\n}\n</code></pre>\n<p>Restart intelij by removing all modules and adding them again.</p>\n"},{"tags":[],"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625188904,"creation_date":1625188904,"answer_id":68218565,"question_id":26177689,"body_markdown":"In my case, I resolved this issue by fixing some dependencies issue.\r\n\r\nIn my root pom.xml, I added this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand in my module, I added this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand removed the old one:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"IntelliJ: Tests not started","body":"<p>In my case, I resolved this issue by fixing some dependencies issue.</p>\n<p>In my root pom.xml, I added this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;version&gt;5.1.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and in my module, I added this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and removed the old one:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n  &lt;version&gt;RELEASE&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25663384,"reputation":61,"user_id":19428828,"display_name":"harnoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663050079,"creation_date":1662572174,"answer_id":73639593,"question_id":26177689,"body_markdown":"In my case it was due to a silly mistake, I did not add a static keyword on the method annotated with `@BeforeAll`. ","title":"IntelliJ: Tests not started","body":"<p>In my case it was due to a silly mistake, I did not add a static keyword on the method annotated with <code>@BeforeAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":30096891,"reputation":1,"user_id":23064932,"display_name":"Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702029252,"creation_date":1702029252,"answer_id":77625737,"question_id":26177689,"body_markdown":"In my case I fix this problem just changing\r\nwebdrivermanager version 5.4.0 that it is\r\n\r\n `&lt;dependency&gt;\r\n&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n   &lt;version&gt;5.4.0&lt;/version&gt;\r\n &lt;/dependency&gt;`\r\n","title":"IntelliJ: Tests not started","body":"<p>In my case I fix this problem just changing\nwebdrivermanager version 5.4.0 that it is</p>\n<p><code>&lt;dependency&gt; &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt; &lt;version&gt;5.4.0&lt;/version&gt; &lt;/dependency&gt;</code></p>\n"}],"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14012,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26178545,"answer_count":5,"score":7,"last_activity_date":1702029252,"creation_date":1412333676,"question_id":26177689,"body_markdown":"I&#39;m running a lot of JUnit tests in parallel, and I frequently get results along the lines of\r\n&quot;N tests passed, M tests failed, P tests not started&quot; (in contrast to [this question][1], where no tests start at all).\r\n\r\nWhat can cause this? I tried the &quot;invalidate cache&quot; option, however, this does not appear to solve anything. I should mention that tests take a while longer to run than the average JUnit tests (they can take up to 90 seconds to run), could this have anything to do with it? Right now I simply press &quot;rerun failed tests&quot; until I have forced IntelliJ do run all of them, which is rather cumbersome. I&#39;m not sending anything weird to System.out either, and as I&#39;ve stated I do get them to run eventually.\r\n\r\n**It runs tests for about ten minutes, and then no further tests are started. Is there a timeout of some kind somewhere that I can&#39;t find?**\r\n\r\nSometimes this appears in the console after this happens:\r\n\r\n    Process finished with exit code 255\r\n\r\nVersion details:\r\n\r\n- IntelliJ version 13.1.4\r\n- JUnit 4.10\r\n\r\n  [1]: https://stackoverflow.com/questions/11166283/intellij-failed-to-start-0-passed-1-not-started\r\n","title":"IntelliJ: Tests not started","body":"<p>I'm running a lot of JUnit tests in parallel, and I frequently get results along the lines of\n\"N tests passed, M tests failed, P tests not started\" (in contrast to <a href=\"https://stackoverflow.com/questions/11166283/intellij-failed-to-start-0-passed-1-not-started\">this question</a>, where no tests start at all).</p>\n\n<p>What can cause this? I tried the \"invalidate cache\" option, however, this does not appear to solve anything. I should mention that tests take a while longer to run than the average JUnit tests (they can take up to 90 seconds to run), could this have anything to do with it? Right now I simply press \"rerun failed tests\" until I have forced IntelliJ do run all of them, which is rather cumbersome. I'm not sending anything weird to System.out either, and as I've stated I do get them to run eventually.</p>\n\n<p><strong>It runs tests for about ten minutes, and then no further tests are started. Is there a timeout of some kind somewhere that I can't find?</strong></p>\n\n<p>Sometimes this appears in the console after this happens:</p>\n\n<pre><code>Process finished with exit code 255\n</code></pre>\n\n<p>Version details:</p>\n\n<ul>\n<li>IntelliJ version 13.1.4</li>\n<li>JUnit 4.10</li>\n</ul>\n"},{"tags":["java","eclipse","tomcat","eclipse-wtp"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1244135875,"post_id":951890,"comment_id":760080,"body_markdown":"I&#39;ve never had luck using the embedded Tomcat, it always has had weird issues for me. So much easier to just run a Tomcat instance externally","body":"I&#39;ve never had luck using the embedded Tomcat, it always has had weird issues for me. So much easier to just run a Tomcat instance externally"}],"answers":[{"tags":[],"owner":{"account_id":30469,"reputation":4891,"user_id":83119,"accept_rate":82,"display_name":"Peter D"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1244136877,"creation_date":1244136877,"answer_id":952003,"question_id":951890,"body_markdown":"I figured it out. When you first create a new server in the Servers view by right clicking in it and selecting New &gt; Server. Eclipse WTP takes your **existing** server.xml file from the tomcat installation and creates the new server.xml file for your project using the original as a template.\r\n\r\nIf you modify the original server.xml with the configuration you need BEFORE creating a new server in eclipse you will retain those settings.\r\n\r\nIt&#39;s too bad eclipse doesn&#39;t allow adding these types of configurations after the fact.","title":"Eclipse WTP: How do I enable SSL on Tomcat?","body":"<p>I figured it out. When you first create a new server in the Servers view by right clicking in it and selecting New > Server. Eclipse WTP takes your <strong>existing</strong> server.xml file from the tomcat installation and creates the new server.xml file for your project using the original as a template.</p>\n\n<p>If you modify the original server.xml with the configuration you need BEFORE creating a new server in eclipse you will retain those settings.</p>\n\n<p>It's too bad eclipse doesn't allow adding these types of configurations after the fact.</p>\n"},{"tags":[],"owner":{"account_id":58517,"reputation":6414,"user_id":175156,"accept_rate":78,"display_name":"yincrash"},"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1330790196,"creation_date":1264018096,"answer_id":2104551,"question_id":951890,"body_markdown":"If you&#39;ve already created the server, you can edit the server.xml template it copies. If you use the project explorer, It is under Other Projects-&gt;Servers-&gt;_Tomcat Server Name_-&gt;server.xml","title":"Eclipse WTP: How do I enable SSL on Tomcat?","body":"<p>If you've already created the server, you can edit the server.xml template it copies. If you use the project explorer, It is under Other Projects->Servers-><em>Tomcat Server Name</em>->server.xml</p>\n"},{"tags":[],"owner":{"account_id":1020094,"reputation":321,"user_id":1030691,"display_name":"Nikhil R"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1473776341,"creation_date":1320460031,"answer_id":8017758,"question_id":951890,"body_markdown":"Here is how you get it to work:  \r\nCreate the keystore:   \r\n\r\n    keytool -genkey -alias tomcat -keypass mypassword -keystore keystore.jks -storepass mypassword -keyalg RSA -validity 360 -keysize 2048\r\n\r\n(Follow through the prompts and fill in the information)  \r\nIt should then save a keystore.key file to your home directory.  \r\nTo get it to work in eclipse :   \r\n\r\n    &lt;Connector port=&quot;8443&quot; SSLEnabled=&quot;true&quot;\r\n            maxThreads=&quot;150&quot; minSpareThreads=&quot;25&quot; maxSpareThreads=&quot;75&quot;\r\n            enableLookups=&quot;true&quot; disableUploadTimeout=&quot;true&quot;\r\n            acceptCount=&quot;100&quot; debug=&quot;0&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n            clientAuth=&quot;false&quot; sslProtocol=&quot;TLSv1&quot;\r\n            keystoreFile=&quot;/home/myUsername/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/keystore.key&quot;\r\n            keystorePass=&quot;mypassword&quot; /&gt;\r\n\r\nThe above path for keystoreFile is something you absolutely need to get right for this to work.\r\nWhen eclipse uses a workspace metadata location to run tomcat, it copies over some files into a path that looks like the above. \r\nOn OS X this would be:\r\n\r\n    /Users/&lt;username&gt;/Documents/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/keystore.key\r\n\r\nHope that helps.\r\n\r\nFor More Reference : [SSL/TLS Configuration HOW-TO in Apache Tomcat 7][1]\r\n \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html","title":"Eclipse WTP: How do I enable SSL on Tomcat?","body":"<p>Here is how you get it to work:<br>\nCreate the keystore:   </p>\n\n<pre><code>keytool -genkey -alias tomcat -keypass mypassword -keystore keystore.jks -storepass mypassword -keyalg RSA -validity 360 -keysize 2048\n</code></pre>\n\n<p>(Follow through the prompts and fill in the information)<br>\nIt should then save a keystore.key file to your home directory.<br>\nTo get it to work in eclipse :   </p>\n\n<pre><code>&lt;Connector port=\"8443\" SSLEnabled=\"true\"\n        maxThreads=\"150\" minSpareThreads=\"25\" maxSpareThreads=\"75\"\n        enableLookups=\"true\" disableUploadTimeout=\"true\"\n        acceptCount=\"100\" debug=\"0\" scheme=\"https\" secure=\"true\"\n        clientAuth=\"false\" sslProtocol=\"TLSv1\"\n        keystoreFile=\"/home/myUsername/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/keystore.key\"\n        keystorePass=\"mypassword\" /&gt;\n</code></pre>\n\n<p>The above path for keystoreFile is something you absolutely need to get right for this to work.\nWhen eclipse uses a workspace metadata location to run tomcat, it copies over some files into a path that looks like the above. \nOn OS X this would be:</p>\n\n<pre><code>/Users/&lt;username&gt;/Documents/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/conf/keystore.key\n</code></pre>\n\n<p>Hope that helps.</p>\n\n<p>For More Reference : <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html\" rel=\"noreferrer\">SSL/TLS Configuration HOW-TO in Apache Tomcat 7</a></p>\n"},{"tags":[],"owner":{"account_id":8843217,"reputation":11,"user_id":6604986,"display_name":"kjdubya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468866661,"creation_date":1468866661,"answer_id":38443698,"question_id":951890,"body_markdown":"Provided you have the certificate(s) and keystore as mentioned earlier in this post, I found the following solution to configuring Eclipse to be able to communicate with SSL-enabled servers. When using the Tomcat configuration tool, you must add entries to the &quot;Java&quot; tab, &quot;Java Options&quot; text box, as follows:\r\n\r\n    -Dbusinessobjects.orb.oci.protocol=ssl\r\n    -Dcertdir=c:\\ssl\r\n    -DtrustedCert=c:\\ssl\\cacert.der\r\n    -DsslCert=c:\\ssl\\servercert.der\r\n    -DsslKey=c:\\ssl\\server.key\r\n    -Dpassphrase=c:\\ssl\\passphrase.txt\r\n\r\nSimilarly in Eclipse, right click on the server name in the Project Explorer window, click Profile As | Profile Configurations | Arguments, and append the same options listed above to the &quot;VM Arguments:&quot; text box. That should allow you to run and debug programs againse SSL-enabled servers.\r\n\r\n[Eclipse &quot;VM Arguments:&quot; text box][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TOE1X.png","title":"Eclipse WTP: How do I enable SSL on Tomcat?","body":"<p>Provided you have the certificate(s) and keystore as mentioned earlier in this post, I found the following solution to configuring Eclipse to be able to communicate with SSL-enabled servers. When using the Tomcat configuration tool, you must add entries to the \"Java\" tab, \"Java Options\" text box, as follows:</p>\n\n<pre><code>-Dbusinessobjects.orb.oci.protocol=ssl\n-Dcertdir=c:\\ssl\n-DtrustedCert=c:\\ssl\\cacert.der\n-DsslCert=c:\\ssl\\servercert.der\n-DsslKey=c:\\ssl\\server.key\n-Dpassphrase=c:\\ssl\\passphrase.txt\n</code></pre>\n\n<p>Similarly in Eclipse, right click on the server name in the Project Explorer window, click Profile As | Profile Configurations | Arguments, and append the same options listed above to the \"VM Arguments:\" text box. That should allow you to run and debug programs againse SSL-enabled servers.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TOE1X.png\" rel=\"nofollow\">Eclipse \"VM Arguments:\" text box</a></p>\n"},{"tags":[],"owner":{"account_id":3401875,"reputation":1,"user_id":2853848,"display_name":"user2853848"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702029009,"creation_date":1701849203,"answer_id":77611356,"question_id":951890,"body_markdown":"simply execute below command on cmd and replace cacerts file in jre/lib/scurity folder.its work for me\r\n\r\n```\r\nkeytool.exe -importcert -file folderName/certificateName.crt -keystore cacerts.jks -alias &quot;abc&quot;\r\n```","title":"Eclipse WTP: How do I enable SSL on Tomcat?","body":"<p>simply execute below command on cmd and replace cacerts file in jre/lib/scurity folder.its work for me</p>\n<pre><code>keytool.exe -importcert -file folderName/certificateName.crt -keystore cacerts.jks -alias &quot;abc&quot;\n</code></pre>\n"}],"owner":{"account_id":30469,"reputation":4891,"user_id":83119,"accept_rate":82,"display_name":"Peter D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52716,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2104551,"answer_count":5,"score":46,"last_activity_date":1702029009,"creation_date":1244135574,"question_id":951890,"body_markdown":"Eclipse WTP creates its own server.xml file which it places in some folder which configures the tomcat instance you are running for your web project. If you double click on the server in the servers list you get a nice screen which makes it simple to configure some aspects of the server.xml file.\r\n\r\nHow do I configure a new connection to allow SSL connections on port 8443. Everytime I edit the server.xml file manually, eclipse overwrites my changes with the settings it has stored in the server properties page of the configuration and it seems there is no way to add a new connector from the interface that eclipse provides.\r\n\r\nIs this possible? Here is the connector I want to add:\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\r\n        maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n        keystoreFile=&quot;D:\\apache-tomcat-6.0.18\\keystore\\key.ssl&quot; keystorePass=&quot;pass&quot;\r\n        clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;","title":"Eclipse WTP: How do I enable SSL on Tomcat?","body":"<p>Eclipse WTP creates its own server.xml file which it places in some folder which configures the tomcat instance you are running for your web project. If you double click on the server in the servers list you get a nice screen which makes it simple to configure some aspects of the server.xml file.</p>\n\n<p>How do I configure a new connection to allow SSL connections on port 8443. Everytime I edit the server.xml file manually, eclipse overwrites my changes with the settings it has stored in the server properties page of the configuration and it seems there is no way to add a new connector from the interface that eclipse provides.</p>\n\n<p>Is this possible? Here is the connector I want to add:</p>\n\n<pre><code>&lt;Connector port=\"8443\" protocol=\"HTTP/1.1\" SSLEnabled=\"true\"\n    maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n    keystoreFile=\"D:\\apache-tomcat-6.0.18\\keystore\\key.ssl\" keystorePass=\"pass\"\n    clientAuth=\"false\" sslProtocol=\"TLS\" /&gt;\n</code></pre>\n"},{"tags":["java","instanceof"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1377954331,"post_id":18548436,"comment_id":27284384,"body_markdown":"Change `Integer var = 10;` to `Object var = 10;`. The compiler is telling you that `var` can **never** be `instanceof Character` if you declare it an `Integer`.","body":"Change <code>Integer var = 10;</code> to <code>Object var = 10;</code>. The compiler is telling you that <code>var</code> can <b>never</b> be <code>instanceof Character</code> if you declare it an <code>Integer</code>."},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1377955157,"post_id":18548436,"comment_id":27284590,"body_markdown":"I suppose if you want something similar to an `instanceof` check but instead of throwing an error it will return `false`, you could try `Character.class.isInstance(var)` which will return false in this case.","body":"I suppose if you want something similar to an <code>instanceof</code> check but instead of throwing an error it will return <code>false</code>, you could try <code>Character.class.isInstance(var)</code> which will return false in this case."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1377955390,"post_id":18548436,"comment_id":27284642,"body_markdown":"@JoshM see my comment on the [other answer](http://stackoverflow.com/a/18548547/2071828). The JLS specifies that an error is thrown for a good reason. If you just had to _write_ that `var` is an `Integer` why on earth would you then want to check that it isn&#39;t? Unless you have an exceptionally short memory...","body":"@JoshM see my comment on the <a href=\"http://stackoverflow.com/a/18548547/2071828\">other answer</a>. The JLS specifies that an error is thrown for a good reason. If you just had to <i>write</i> that <code>var</code> is an <code>Integer</code> why on earth would you then want to check that it isn&#39;t? Unless you have an exceptionally short memory..."},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1377955528,"post_id":18548436,"comment_id":27284684,"body_markdown":"@BoristheSpider True, I don&#39;t think he is concerned with how straightforward his example is (you could obviously see that `var` is an `Integer` so the `instanceof` check is obviously pointless) but I think he just wants to generally know the reasoning behind it.","body":"@BoristheSpider True, I don&#39;t think he is concerned with how straightforward his example is (you could obviously see that <code>var</code> is an <code>Integer</code> so the <code>instanceof</code> check is obviously pointless) but I think he just wants to generally know the reasoning behind it."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1377954282,"creation_date":1377954282,"answer_id":18548474,"question_id":18548436,"body_markdown":"It&#39;s a compilation error in accordance with [JLS &#167;15.20.2][1]:\r\n\r\n&gt;**If a cast of the *RelationalExpression* to the *ReferenceType* would be rejected as a compile-time error, then the `instanceof` relational expression likewise produces a compile-time error. In such a situation, the result of the `instanceof` expression could never be true.**\r\n\r\n*RelationalExpression* is the first operand of `instanceof` and *ReferenceType* is the second.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.20.2","title":"instanceof in Java - why doesn&#39;t it compile when comparing incompatible types?","body":"<p>It's a compilation error in accordance with <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.20.2\">JLS §15.20.2</a>:</p>\n\n<blockquote>\n  <p><strong>If a cast of the <em>RelationalExpression</em> to the <em>ReferenceType</em> would be rejected as a compile-time error, then the <code>instanceof</code> relational expression likewise produces a compile-time error. In such a situation, the result of the <code>instanceof</code> expression could never be true.</strong></p>\n</blockquote>\n\n<p><em>RelationalExpression</em> is the first operand of <code>instanceof</code> and <em>ReferenceType</em> is the second.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1702028044,"creation_date":1377954728,"answer_id":18548547,"question_id":18548436,"body_markdown":"In addition to the arshajii&#39;s answer, if you want to avoid compile-time error and want run-time true/false result for checking whether var is instance of Character, then use code like this:\r\n\r\n    if(var.getClass().isAssignableFrom(Character.class))\r\n    \tSystem.out.println(&quot;var is a Character&quot;);\r\n    else\r\n    \tSystem.out.println(&quot;var is NOT a Character&quot;);\r\n\r\nAs you would expect it will print:\r\n\r\n&gt; var is not a Character","title":"instanceof in Java - why doesn&#39;t it compile when comparing incompatible types?","body":"<p>In addition to the arshajii's answer, if you want to avoid compile-time error and want run-time true/false result for checking whether var is instance of Character, then use code like this:</p>\n<pre><code>if(var.getClass().isAssignableFrom(Character.class))\n    System.out.println(&quot;var is a Character&quot;);\nelse\n    System.out.println(&quot;var is NOT a Character&quot;);\n</code></pre>\n<p>As you would expect it will print:</p>\n<blockquote>\n<p>var is not a Character</p>\n</blockquote>\n"}],"owner":{"account_id":2982648,"reputation":3211,"user_id":2532299,"accept_rate":73,"display_name":"Varun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3453,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"accepted_answer_id":18548474,"answer_count":2,"score":24,"last_activity_date":1702028613,"creation_date":1377954078,"question_id":18548436,"body_markdown":"    class A {\r\n    \r\n        public static void main(String...args) {\r\n            Integer var = 10; \r\n    \r\n            if(var instanceof Character)  // Line1\r\n                System.out.println(&quot;var is a Character&quot;);\r\n        }\r\n    }\r\n\r\nI know *Line 1* will not compile because the compiler has found that `var` is not a `Character`.\r\n\r\nWhat I fail to understand is why the compiler throws an error instead of returning `false` or `true`.\r\n\r\nIf the compiler returns `false` or `true` (i.e treating the `instanceof` operation like a regular if-based validation), then it be much more useful.. would it not?\r\n\r\nOr am I missing something obvious?","title":"instanceof in Java - why doesn&#39;t it compile when comparing incompatible types?","body":"<pre><code>class A {\n\n    public static void main(String...args) {\n        Integer var = 10; \n\n        if(var instanceof Character)  // Line1\n            System.out.println(\"var is a Character\");\n    }\n}\n</code></pre>\n\n<p>I know <em>Line 1</em> will not compile because the compiler has found that <code>var</code> is not a <code>Character</code>.</p>\n\n<p>What I fail to understand is why the compiler throws an error instead of returning <code>false</code> or <code>true</code>.</p>\n\n<p>If the compiler returns <code>false</code> or <code>true</code> (i.e treating the <code>instanceof</code> operation like a regular if-based validation), then it be much more useful.. would it not?</p>\n\n<p>Or am I missing something obvious?</p>\n"},{"tags":["java","ssl","sslsocketfactory"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701948881,"creation_date":1701948881,"answer_id":77619674,"question_id":77619310,"body_markdown":"An easy way would be to import the trusted CAs public certificate in a Java keystore (you manipulate them with `keytool`, a CLI tool that&#39;s delivered with Java).\r\n\r\nIf you use the file _cacerts_ from a subfolder of your `JAVA_HOME`, it will be recognized by your JVM automatically.\r\n\r\nYou find documentation about `keytool` in the [tool docs][1] of JDK (linked it for Java 21, but version is probably not that relevant). Also a better description of the exact location of the _cacerts_ file, it&#39;s default password etc. are documented there.\r\n\r\nIn this way you don&#39;t have to mess around with `KeyStore`, `TrustManager`, etc., just create the `SSLSocket` with a default `SSLSocketFactory` and you&#39;re good.\r\n\r\n\r\n\r\n[1]:https://docs.oracle.com/en/java/javase/21/docs/specs/man/keytool.html","title":"Creating SSL socket using imported certificate without private key","body":"<p>An easy way would be to import the trusted CAs public certificate in a Java keystore (you manipulate them with <code>keytool</code>, a CLI tool that's delivered with Java).</p>\n<p>If you use the file <em>cacerts</em> from a subfolder of your <code>JAVA_HOME</code>, it will be recognized by your JVM automatically.</p>\n<p>You find documentation about <code>keytool</code> in the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/keytool.html\" rel=\"nofollow noreferrer\">tool docs</a> of JDK (linked it for Java 21, but version is probably not that relevant). Also a better description of the exact location of the <em>cacerts</em> file, it's default password etc. are documented there.</p>\n<p>In this way you don't have to mess around with <code>KeyStore</code>, <code>TrustManager</code>, etc., just create the <code>SSLSocket</code> with a default <code>SSLSocketFactory</code> and you're good.</p>\n"},{"tags":[],"owner":{"account_id":13524429,"reputation":11,"user_id":9756642,"display_name":"bhashinee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702028502,"creation_date":1702024938,"answer_id":77625340,"question_id":77619310,"body_markdown":"If you want to specifically use Java SSLContext, you can use a custom TrustManager that directly trusts the specified certificate.\r\n\r\n    public static TrustManager[] getTrustManagers(String certificateFilePath) throws Exception {\r\n        // Load the certificate\r\n        CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        TrustManager[] trustManagers;\r\n        \r\n        try (InputStream certificateInputStream = new FileInputStream(certificateFilePath)) {\r\n            X509Certificate certificate = (X509Certificate) certificateFactory.generateCertificate(certificateInputStream);\r\n\r\n            // Create a TrustManager that trusts only the specified certificate\r\n            trustManagers = new TrustManager[]{\r\n                    new X509TrustManager() {\r\n                        @Override\r\n                        public void checkClientTrusted(X509Certificate[] chain, String authType) {\r\n                            // Allow any client certificates\r\n                        }\r\n\r\n                        @Override\r\n                        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n                            // Check if the server certificate matches the specified certificate\r\n                            if (!chain[0].equals(certificate)) {\r\n                                throw new CertificateException(&quot;Server certificate not trusted&quot;);\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public X509Certificate[] getAcceptedIssuers() {\r\n                            return new X509Certificate[0];\r\n                        }\r\n                    }\r\n            };\r\n            return trustManagers;\r\n        }\r\n    }\r\n\r\nThen use the created TrustManager to create the SSLContext,\r\n\r\n            String certificateFilePath = &quot;path/to/your/certificate.crt&quot;;\r\n            TrustManager[] trustManagers = getTrustManagers(certificateFilePath);\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustManagers, null);\r\n","title":"Creating SSL socket using imported certificate without private key","body":"<p>If you want to specifically use Java SSLContext, you can use a custom TrustManager that directly trusts the specified certificate.</p>\n<pre><code>public static TrustManager[] getTrustManagers(String certificateFilePath) throws Exception {\n    // Load the certificate\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    TrustManager[] trustManagers;\n    \n    try (InputStream certificateInputStream = new FileInputStream(certificateFilePath)) {\n        X509Certificate certificate = (X509Certificate) certificateFactory.generateCertificate(certificateInputStream);\n\n        // Create a TrustManager that trusts only the specified certificate\n        trustManagers = new TrustManager[]{\n                new X509TrustManager() {\n                    @Override\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) {\n                        // Allow any client certificates\n                    }\n\n                    @Override\n                    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n                        // Check if the server certificate matches the specified certificate\n                        if (!chain[0].equals(certificate)) {\n                            throw new CertificateException(&quot;Server certificate not trusted&quot;);\n                        }\n                    }\n\n                    @Override\n                    public X509Certificate[] getAcceptedIssuers() {\n                        return new X509Certificate[0];\n                    }\n                }\n        };\n        return trustManagers;\n    }\n}\n</code></pre>\n<p>Then use the created TrustManager to create the SSLContext,</p>\n<pre><code>        String certificateFilePath = &quot;path/to/your/certificate.crt&quot;;\n        TrustManager[] trustManagers = getTrustManagers(certificateFilePath);\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagers, null);\n</code></pre>\n"}],"owner":{"account_id":23131763,"reputation":3,"user_id":23058232,"display_name":"jacobG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77619674,"answer_count":2,"score":0,"last_activity_date":1702028502,"creation_date":1701945253,"question_id":77619310,"body_markdown":"Im very new to SSL and to be frank i&#39;ve found implementation to be pretty confusing so sorry if my question seems clueless or off base. \r\n\r\nSo i have a SSL socket server using a self signed certificate in the form of a p12 file. I want to have a client socket be able to connect to this server WITHOUT having access to the private key. I do however want the client to be able to verify that the server is not an imposter and does have the private key. \r\n\r\nmy problem is that i cannot seem to create a SSLContext and thus a SSLSocketFactory using anything other than a p12 file. Ideally i would create my SSLSocketFactory using the certificate root file.\r\n\r\nheres the way i have my client setup:\r\n\r\n\r\n```\r\npublic class SSLClient {\r\n    \r\n    private static final String TLS_VERSION = &quot;TLSv1.2&quot;;\r\n\r\n    public static void run(int serverPort, String certName, char[] certPass) throws Exception {\r\n\r\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        InputStream certInputStream = TLSClient.class.getResourceAsStream(&quot;/&quot; + certName);\r\n        trustStore.load(certInputStream, certPass);\r\n        certInputStream.close();\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(trustStore);\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        InputStream keyStoreInputStream = TLSClient.class.getResourceAsStream(&quot;/&quot; + certName);\r\n        keyStore.load(keyStoreInputStream, certPass);\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, certPass);\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), SecureRandom.getInstanceStrong());\r\n\r\n        SocketFactory factory = sslContext.getSocketFactory();\r\n\r\n        try (Socket connection = factory.createSocket(&quot;localhost&quot;, serverPort)) {\r\n            ((SSLSocket) connection).setEnabledProtocols(new String[] {TLS_VERSION});\r\n            SSLParameters sslParams = new SSLParameters();\r\n            sslParams.setEndpointIdentificationAlgorithm(&quot;HTTPS&quot;);\r\n            ((SSLSocket) connection).setSSLParameters(sslParams);\r\n\r\n\r\n            BufferedReader input = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            System.out.println(input.readLine());\r\n            new PrintWriter(connection.getOutputStream(),true).println(&quot;client reply&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIve tried using the root certificate (.crt) and a PEM file but both of them give me an input stream error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: toDerInputStream rejects tag type 45\r\n\tat java.base/sun.security.util.DerValue.toDerInputStream(DerValue.java:1155)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2013)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1473)\r\n\tat TLSClient.run(TLSClient.java:16)\r\n\tat Main.main(Main.java:12)\r\n\r\n```\r\n\r\n**My current approach/solution to this**: i created an &quot;empty&quot; p12 file for the client using the servers root certificate. This appears to be working as intended... is there a problem doing it this way? \r\n\r\nmade using: \r\n\r\nopenssl pkcs12 -export -in myCert.crt -out myCertPks.p12 -name alias","title":"Creating SSL socket using imported certificate without private key","body":"<p>Im very new to SSL and to be frank i've found implementation to be pretty confusing so sorry if my question seems clueless or off base.</p>\n<p>So i have a SSL socket server using a self signed certificate in the form of a p12 file. I want to have a client socket be able to connect to this server WITHOUT having access to the private key. I do however want the client to be able to verify that the server is not an imposter and does have the private key.</p>\n<p>my problem is that i cannot seem to create a SSLContext and thus a SSLSocketFactory using anything other than a p12 file. Ideally i would create my SSLSocketFactory using the certificate root file.</p>\n<p>heres the way i have my client setup:</p>\n<pre><code>public class SSLClient {\n    \n    private static final String TLS_VERSION = &quot;TLSv1.2&quot;;\n\n    public static void run(int serverPort, String certName, char[] certPass) throws Exception {\n\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream certInputStream = TLSClient.class.getResourceAsStream(&quot;/&quot; + certName);\n        trustStore.load(certInputStream, certPass);\n        certInputStream.close();\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        InputStream keyStoreInputStream = TLSClient.class.getResourceAsStream(&quot;/&quot; + certName);\n        keyStore.load(keyStoreInputStream, certPass);\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        keyManagerFactory.init(keyStore, certPass);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), SecureRandom.getInstanceStrong());\n\n        SocketFactory factory = sslContext.getSocketFactory();\n\n        try (Socket connection = factory.createSocket(&quot;localhost&quot;, serverPort)) {\n            ((SSLSocket) connection).setEnabledProtocols(new String[] {TLS_VERSION});\n            SSLParameters sslParams = new SSLParameters();\n            sslParams.setEndpointIdentificationAlgorithm(&quot;HTTPS&quot;);\n            ((SSLSocket) connection).setSSLParameters(sslParams);\n\n\n            BufferedReader input = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            System.out.println(input.readLine());\n            new PrintWriter(connection.getOutputStream(),true).println(&quot;client reply&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Ive tried using the root certificate (.crt) and a PEM file but both of them give me an input stream error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: toDerInputStream rejects tag type 45\n    at java.base/sun.security.util.DerValue.toDerInputStream(DerValue.java:1155)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2013)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1473)\n    at TLSClient.run(TLSClient.java:16)\n    at Main.main(Main.java:12)\n\n</code></pre>\n<p><strong>My current approach/solution to this</strong>: i created an &quot;empty&quot; p12 file for the client using the servers root certificate. This appears to be working as intended... is there a problem doing it this way?</p>\n<p>made using:</p>\n<p>openssl pkcs12 -export -in myCert.crt -out myCertPks.p12 -name alias</p>\n"},{"tags":["java","inheritance","compiler-errors","extends","instanceof"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":3,"creation_date":1702027213,"post_id":77625529,"comment_id":136849826,"body_markdown":"`childObj` can _never_ be an `OtherClass`, completely independent hierarchies.","body":"<code>childObj</code> can <i>never</i> be an <code>OtherClass</code>, completely independent hierarchies."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1702027392,"post_id":77625529,"comment_id":136849848,"body_markdown":"So, what is its usage if it will always give true? When will it give false? I think I am misusing it.","body":"So, what is its usage if it will always give true? When will it give false? I think I am misusing it."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1702027694,"post_id":77625529,"comment_id":136849896,"body_markdown":"@OsamaEl-Ghonimy `ChildClass c = null; System.out.println(c instanceof ChildClass);` will print false.","body":"@OsamaEl-Ghonimy <code>ChildClass c = null; System.out.println(c instanceof ChildClass);</code> will print false."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1702027739,"post_id":77625529,"comment_id":136849904,"body_markdown":"@OsamaEl-Ghonimy also `System.out.println(childObj instanceof List);` will compile but print `false`.","body":"@OsamaEl-Ghonimy also <code>System.out.println(childObj instanceof List);</code> will compile but print <code>false</code>."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1702027784,"post_id":77625529,"comment_id":136849914,"body_markdown":"The compiler will reject it if it **knows** the check will always return `false`.","body":"The compiler will reject it if it <b>knows</b> the check will always return <code>false</code>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1702027836,"post_id":77625529,"comment_id":136849921,"body_markdown":"@OsamaEl-Ghonimy The type is known, `ChildClass` can *never* be `OtherClass`. But consider the case when the variable `childObj` is `Object`.","body":"@OsamaEl-Ghonimy The type is known, <code>ChildClass</code> can <i>never</i> be <code>OtherClass</code>. But consider the case when the variable <code>childObj</code> is <code>Object</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702036657,"post_id":77625529,"comment_id":136851375,"body_markdown":"not allowed by Java Language Specification [15.20.2. The instanceof Operator](https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.20.2): &quot;**The RelationalExpression must be checked cast compatible with the ReferenceType (&#167;5.5), or a compile-time error occurs.**&quot; (original empahsis) || If you really must test it, you can do `(Object)childObj instanceof OtherClass`","body":"not allowed by Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">15.20.2. The instanceof Operator</a>: &quot;<b>The RelationalExpression must be checked cast compatible with the ReferenceType (&#167;5.5), or a compile-time error occurs.</b>&quot; (original empahsis) || If you really must test it, you can do <code>(Object)childObj instanceof OtherClass</code>"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1702027851,"creation_date":1702027699,"answer_id":77625586,"question_id":77625529,"body_markdown":"The compiler knows at compile time that `childObj instanceof OtherClass` will never be true so the compiler fails fast and rejects the code.\r\n\r\nYou could declare `childObj` as `Object` instead and it should compile.\r\n\r\nFor example:\r\n\r\n```java\r\nObject childObj = new ChildClass();\r\nSystem.out.println(childObj instanceof OtherClass);\r\n```","title":"instanceof cannot be used with any class?","body":"<p>The compiler knows at compile time that <code>childObj instanceof OtherClass</code> will never be true so the compiler fails fast and rejects the code.</p>\n<p>You could declare <code>childObj</code> as <code>Object</code> instead and it should compile.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object childObj = new ChildClass();\nSystem.out.println(childObj instanceof OtherClass);\n</code></pre>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702027807,"answer_count":1,"score":-1,"last_activity_date":1702028001,"creation_date":1702027045,"question_id":77625529,"body_markdown":"I am trying ```instanceof``` in Java. I declared three classes where one extends another as follows:\r\n\r\n    class ParentClass {\r\n        // Class members\r\n    }\r\n    class ChildClass extends ParentClass{\r\n        // Class members\r\n    }\r\n    class OtherClass {\r\n        // Class members\r\n    }\r\n\r\n```instanceof``` works fine if it will give true as in the first three usages below. However, it gives _&quot;Incompatible conditional operand types error&quot;_ when used with a class that will give false in the last statement:\r\n\r\n    public class JavaTest{\r\n        public static void main(String[] args) {\r\n            ChildClass childObj = new ChildClass();\r\n            System.out.println(childObj instanceof ChildClass);\r\n            System.out.println(childObj instanceof ParentClass);\r\n            System.out.println(childObj instanceof Object);\r\n            System.out.println(childObj instanceof OtherClass);\r\n        }\r\n    }\r\n\r\nWhat is the reason for that?\r\n\r\n","title":"instanceof cannot be used with any class?","body":"<p>I am trying <code>instanceof</code> in Java. I declared three classes where one extends another as follows:</p>\n<pre><code>class ParentClass {\n    // Class members\n}\nclass ChildClass extends ParentClass{\n    // Class members\n}\nclass OtherClass {\n    // Class members\n}\n</code></pre>\n<p><code>instanceof</code> works fine if it will give true as in the first three usages below. However, it gives <em>&quot;Incompatible conditional operand types error&quot;</em> when used with a class that will give false in the last statement:</p>\n<pre><code>public class JavaTest{\n    public static void main(String[] args) {\n        ChildClass childObj = new ChildClass();\n        System.out.println(childObj instanceof ChildClass);\n        System.out.println(childObj instanceof ParentClass);\n        System.out.println(childObj instanceof Object);\n        System.out.println(childObj instanceof OtherClass);\n    }\n}\n</code></pre>\n<p>What is the reason for that?</p>\n"},{"tags":["java","inheritance","instanceof"],"comments":[{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1292517419,"post_id":4460355,"comment_id":4876994,"body_markdown":"It sounds like you&#39;re previous experience might be with languages which were mostly loosely typed and mostly interpreted (ex: most BASICs) as opposed to strongly typed and compiled. With a language that is mostly interpreted, almost all type-like validation occurs at run-time. However, with compiled languages, the compiler is able to do quite a bit of &quot;type and execution flow analysis&quot;. As a result, if it finds pathways that can never be executed, it can remove the code in that pathway (i.e. dead code removal). And it generates an error if it finds an operation that cannot ever succeed.","body":"It sounds like you&#39;re previous experience might be with languages which were mostly loosely typed and mostly interpreted (ex: most BASICs) as opposed to strongly typed and compiled. With a language that is mostly interpreted, almost all type-like validation occurs at run-time. However, with compiled languages, the compiler is able to do quite a bit of &quot;type and execution flow analysis&quot;. As a result, if it finds pathways that can never be executed, it can remove the code in that pathway (i.e. dead code removal). And it generates an error if it finds an operation that cannot ever succeed."}],"answers":[{"tags":[],"owner":{"account_id":253533,"reputation":8307,"user_id":532314,"display_name":"Spiny Norman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1292499603,"creation_date":1292499603,"answer_id":4460377,"question_id":4460355,"body_markdown":"I&#39;d say, because you know at compile-time that it will never be true. Therefore, it&#39;s safe to assume this is not what the programmer meant :)\r\n\r\nHowever, there probably is a more java-technical explanation.","title":"Why does `instanceof` error rather than return `false` when used for 2 incompatible classes?","body":"<p>I'd say, because you know at compile-time that it will never be true. Therefore, it's safe to assume this is not what the programmer meant :)</p>\n\n<p>However, there probably is a more java-technical explanation.</p>\n"},{"tags":[],"owner":{"account_id":190941,"reputation":166,"user_id":431184,"display_name":"pmariano"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292499617,"creation_date":1292499617,"answer_id":4460378,"question_id":4460355,"body_markdown":"Because the compiler knows that is impossible to an Element be a Point, so you get an compilation error. \r\n\r\n","title":"Why does `instanceof` error rather than return `false` when used for 2 incompatible classes?","body":"<p>Because the compiler knows that is impossible to an Element be a Point, so you get an compilation error. </p>\n"},{"tags":[],"owner":{"display_name":"user467871"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292499665,"creation_date":1292499665,"answer_id":4460387,"question_id":4460355,"body_markdown":"Because of the inheritance tree. if A inherited from B then you can write A instance of B \r\n\r\n    Integer i = 3;\r\n      \r\n    System.out.println(i instanceof String); // compile time error\r\n  \r\n    System.out.println(i instanceof Number); // true\r\n \r\n    System.out.println(i instanceof Object); // true","title":"Why does `instanceof` error rather than return `false` when used for 2 incompatible classes?","body":"<p>Because of the inheritance tree. if A inherited from B then you can write A instance of B </p>\n\n<pre><code>Integer i = 3;\n\nSystem.out.println(i instanceof String); // compile time error\n\nSystem.out.println(i instanceof Number); // true\n\nSystem.out.println(i instanceof Object); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1468233935,"creation_date":1292499753,"answer_id":4460397,"question_id":4460355,"body_markdown":"`   instanceof   ` check is a runtime check. The compiler is able to discover that this condition is incorrect at compile time (much earlier), so it tells you that it is wrong. Always remember, that failing fast is a good practice, it will save you a lot of time and nerves.","title":"Why does `instanceof` error rather than return `false` when used for 2 incompatible classes?","body":"<p><code>instanceof</code> check is a runtime check. The compiler is able to discover that this condition is incorrect at compile time (much earlier), so it tells you that it is wrong. Always remember, that failing fast is a good practice, it will save you a lot of time and nerves.</p>\n"}],"owner":{"account_id":34786,"reputation":13222,"user_id":98361,"accept_rate":93,"display_name":"JDelage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3854,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1702028357,"accepted_answer_id":4460397,"answer_count":4,"score":10,"last_activity_date":1702027916,"creation_date":1292499448,"question_id":4460355,"body_markdown":"I&#39;m reading this:  \r\nhttp://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.20.2\r\n\r\nThey say:  \r\n&gt; Consider the example program:\r\n&gt; \r\n&gt;     class Point { int x, y; }\r\n&gt;     class Element { int atomicNumber; }\r\n&gt;     class Test {\r\n&gt;             public static void main(String[] args) {\r\n&gt;                     Point p = new Point();\r\n&gt;                     Element e = new Element();\r\n&gt;                     if (e instanceof Point) {       // compile-time error\r\n&gt;                             System.out.println(&quot;I get your point!&quot;);\r\n&gt;                             p = (Point)e;           // compile-time error\r\n&gt;                     }\r\n&gt;             }\r\n&gt;     }\r\n&gt; \r\n&gt; The `instanceof` expression is incorrect because no instance of `Element` or any of its possible subclasses (none are shown here) could possibly be an instance of any subclass of `Point`.\r\n\r\nWhy does this result in an error, rather than simply in `instanceof` returning false?\r\n","title":"Why does `instanceof` error rather than return `false` when used for 2 incompatible classes?","body":"<p>I'm reading this:<br />\n<a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.20.2\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.20.2</a></p>\n<p>They say:</p>\n<blockquote>\n<p>Consider the example program:</p>\n<pre><code>class Point { int x, y; }\nclass Element { int atomicNumber; }\nclass Test {\n        public static void main(String[] args) {\n                Point p = new Point();\n                Element e = new Element();\n                if (e instanceof Point) {       // compile-time error\n                        System.out.println(&quot;I get your point!&quot;);\n                        p = (Point)e;           // compile-time error\n                }\n        }\n}\n</code></pre>\n<p>The <code>instanceof</code> expression is incorrect because no instance of <code>Element</code> or any of its possible subclasses (none are shown here) could possibly be an instance of any subclass of <code>Point</code>.</p>\n</blockquote>\n<p>Why does this result in an error, rather than simply in <code>instanceof</code> returning false?</p>\n"},{"tags":["java","android","json","fragment"],"comments":[{"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"score":0,"creation_date":1701751293,"post_id":77603781,"comment_id":136811488,"body_markdown":"Can you tell me what the &quot;get.php&quot; file contains? Can you share the file contents as well?","body":"Can you tell me what the &quot;get.php&quot; file contains? Can you share the file contents as well?"},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701753926,"post_id":77603781,"comment_id":136811729,"body_markdown":"GEt php contains the json at the top of the post:  [{&quot;id&quot;:&quot;1&quot;,&quot;longitude&quot;:&quot;-82.831853&quot;,&quot;lattitude&quot;:&quot;39.918837&quot;}]","body":"GEt php contains the json at the top of the post:  [{&quot;id&quot;:&quot;1&quot;,&quot;longitude&quot;:&quot;-82.831853&quot;,&quot;lattitude&quot;:&quot;39.918837&quot;}&zwnj;&#8203;]"},{"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"score":0,"creation_date":1701754665,"post_id":77603781,"comment_id":136811799,"body_markdown":"@ShawnMulligan Can you edit question to show us how fragments are being called on navigation button click, I think the issue could be due to fragment lifecycle. Also, you can verify if any other function gets called or not along with getJson() when switching between nav buttons.","body":"@ShawnMulligan Can you edit question to show us how fragments are being called on navigation button click, I think the issue could be due to fragment lifecycle. Also, you can verify if any other function gets called or not along with getJson() when switching between nav buttons."},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701756336,"post_id":77603781,"comment_id":136811947,"body_markdown":"Main Activity is posted with how I call and switch to different fragments.","body":"Main Activity is posted with how I call and switch to different fragments."},{"owner":{"account_id":6023206,"reputation":7992,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1701764055,"post_id":77603781,"comment_id":136812886,"body_markdown":"your `makeCall` has a number in that you&#39;ve now posted here, i hope this doesn&#39;t matter. even if you edit it out, people will still be able to find it, so perhaps consider removing your post if that could be an issue and make another one","body":"your <code>makeCall</code> has a number in that you&#39;ve now posted here, i hope this doesn&#39;t matter. even if you edit it out, people will still be able to find it, so perhaps consider removing your post if that could be an issue and make another one"},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701771402,"post_id":77603781,"comment_id":136814127,"body_markdown":"@a_local_nobody Yeah that is our business number.  If someone calls it, they will be greeted with Thank You for Calling Bowzers Hot Dog Stand how can I help you.  Thanks for the heads up.","body":"@a_local_nobody Yeah that is our business number.  If someone calls it, they will be greeted with Thank You for Calling Bowzers Hot Dog Stand how can I help you.  Thanks for the heads up."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701771590,"post_id":77603781,"comment_id":136814167,"body_markdown":"`I created a global variable called mySB to set it to the value of the json string.` Ok. But you are doing that in the while loop for every line read. You should do that once AFTER the while loop. And even that is not ok as you should do it in onPostExecute(). `mySb=s;`.","body":"<code>I created a global variable called mySB to set it to the value of the json string.</code> Ok. But you are doing that in the while loop for every line read. You should do that once AFTER the while loop. And even that is not ok as you should do it in onPostExecute(). <code>mySb=s;</code>."},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701786645,"post_id":77603781,"comment_id":136816811,"body_markdown":"@blackapps yeah I took notice of that, that mySB needs to be outside of the loop, but in my case it doesn&#39;t really matter whether it is in or out because I am only ever going to have 1 row of data.  I did change it in my code but like I said when the fragment loads the first time the data is there, but it is null when you try to load the fragment again, unless you close the app and reopen it.","body":"@blackapps yeah I took notice of that, that mySB needs to be outside of the loop, but in my case it doesn&#39;t really matter whether it is in or out because I am only ever going to have 1 row of data.  I did change it in my code but like I said when the fragment loads the first time the data is there, but it is null when you try to load the fragment again, unless you close the app and reopen it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701792957,"post_id":77603781,"comment_id":136818093,"body_markdown":"Use only onPostExecute() then you know when the data is there. Start your fragment in onPostExecute() too.","body":"Use only onPostExecute() then you know when the data is there. Start your fragment in onPostExecute() too."},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701793906,"post_id":77603781,"comment_id":136818289,"body_markdown":"@blackapps so move this line getJSON(&quot;get.php&quot;); into onPostExecute??","body":"@blackapps so move this line getJSON(&quot;get.php&quot;); into onPostExecute??"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701794315,"post_id":77603781,"comment_id":136818371,"body_markdown":"That is nonsense.","body":"That is nonsense."},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701794591,"post_id":77603781,"comment_id":136818420,"body_markdown":"@blackapps Okay so I am not quite understanding where or how I am suppose to use onPostEcecute.  All I am trying to do is something that should really be simple.  Click on Nav button, open fragment, get json, store 2 pieces of data into strings and continue on with my code.  Right now it only works when you load the app, when you go back or reclick the nav button the data is null.  This is the only thing I am trying to get accomplished.","body":"@blackapps Okay so I am not quite understanding where or how I am suppose to use onPostEcecute.  All I am trying to do is something that should really be simple.  Click on Nav button, open fragment, get json, store 2 pieces of data into strings and continue on with my code.  Right now it only works when you load the app, when you go back or reclick the nav button the data is null.  This is the only thing I am trying to get accomplished."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701794809,"post_id":77603781,"comment_id":136818469,"body_markdown":"You can only handle the data when it has arrived. The data is available in onPostExecute(). So handle the data there. Only when you are ready handling the data in onPostExecute you could make a backup of s in a global variable.","body":"You can only handle the data when it has arrived. The data is available in onPostExecute(). So handle the data there. Only when you are ready handling the data in onPostExecute you could make a backup of s in a global variable."},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701795163,"post_id":77603781,"comment_id":136818540,"body_markdown":"@blackapps I am still not quite getting it.  I don&#39;t get the data until after the view is created.  Can you post a sample or a modification of my code?  I guess the reason why it doesn&#39;t make sense is that it gets the data on first run.","body":"@blackapps I am still not quite getting it.  I don&#39;t get the data until after the view is created.  Can you post a sample or a modification of my code?  I guess the reason why it doesn&#39;t make sense is that it gets the data on first run."},{"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"score":0,"creation_date":1701927589,"post_id":77603781,"comment_id":136836227,"body_markdown":"@ShawnMulligan Check the app flow inside Asynctask when moving to and from another fragment. Print the required value returned from doInBackground() in onPostExecute() method. I have tried it and its working.I have added a code snippet, do check it out","body":"@ShawnMulligan Check the app flow inside Asynctask when moving to and from another fragment. Print the required value returned from doInBackground() in onPostExecute() method. I have tried it and its working.I have added a code snippet, do check it out"},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1701988720,"post_id":77603781,"comment_id":136846136,"body_markdown":"@AashisShrestha So I have done some testing.  And I found the real issue but do not know why.  When the fragment loads the first time:  Textview is populated correctly and my toast inside of OnMapReady has the right data.  When you switch fragments and come back to it, the textview is still correct (and I have changed data in database to see if it updates and it does) how ever the issue is in onMapReady the values are empty.  So I commented everything out of onMapReady and used  Toast.makeText(this.mactivity,textviewlocation.getText().toString(), Toast.LENGTH_SHORT).show(); and empty on reload","body":"@AashisShrestha So I have done some testing.  And I found the real issue but do not know why.  When the fragment loads the first time:  Textview is populated correctly and my toast inside of OnMapReady has the right data.  When you switch fragments and come back to it, the textview is still correct (and I have changed data in database to see if it updates and it does) how ever the issue is in onMapReady the values are empty.  So I commented everything out of onMapReady and used  Toast.makeText(this.mactivity,textviewlocation.getText().toS&zwnj;&#8203;tring(), Toast.LENGTH_SHORT).show(); and empty on reload"},{"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"score":0,"creation_date":1702027746,"post_id":77603781,"comment_id":136849907,"body_markdown":"@AashisShrestha I have updated my code and also the question with what I have tried and the results and what the issue currently is.  If you can take a look at it I would be very greatful to you.","body":"@AashisShrestha I have updated my code and also the question with what I have tried and the results and what the issue currently is.  If you can take a look at it I would be very greatful to you."}],"answers":[{"tags":[],"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701927974,"creation_date":1701927974,"answer_id":77617893,"question_id":77603781,"body_markdown":"This is a sample code from one of the fragment that loads on BottomNavigationItem click. Switching between those fragments also preserves the value. Considering this fragment to be equivalent of the TruckFragment,modify your TruckFragment code like below to get the result from async task.\r\n\r\n    TextView textView;\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        textView =view.findViewById(R.id.tvValue);\r\n        getJson();\r\n    }\r\n\r\n    private void getJson() {\r\n        class GetJSON extends AsyncTask&lt;Void, Void, String&gt; {\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n            }\r\n\r\n            protected void onPostExecute(String s) {\r\n                super.onPostExecute(s);\r\n                mySB=s;\r\n                textView.setText(mySB);\r\n\r\n            }\r\n\r\n            protected String doInBackground(Void... Voids) {\r\n                try {\r\n                    URL url = new URL(&quot;https://jsonplaceholder.typicode.com/todos/1&quot;);\r\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                    String json;\r\n                    while ((json = bufferedReader.readLine()) != null) {\r\n                        sb.append((json + &quot;\\n&quot;));\r\n                        mySB = String.valueOf(sb);\r\n                    }\r\n                    return sb.toString().trim();\r\n                } catch (Exception e) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n\r\n        GetJSON getJSON = new GetJSON();\r\n        getJSON.execute();\r\n    }","title":"Load JSON from php into strings in a fragment?","body":"<p>This is a sample code from one of the fragment that loads on BottomNavigationItem click. Switching between those fragments also preserves the value. Considering this fragment to be equivalent of the TruckFragment,modify your TruckFragment code like below to get the result from async task.</p>\n<pre><code>TextView textView;\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    textView =view.findViewById(R.id.tvValue);\n    getJson();\n}\n\nprivate void getJson() {\n    class GetJSON extends AsyncTask&lt;Void, Void, String&gt; {\n        protected void onPreExecute() {\n            super.onPreExecute();\n        }\n\n        protected void onPostExecute(String s) {\n            super.onPostExecute(s);\n            mySB=s;\n            textView.setText(mySB);\n\n        }\n\n        protected String doInBackground(Void... Voids) {\n            try {\n                URL url = new URL(&quot;https://jsonplaceholder.typicode.com/todos/1&quot;);\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                StringBuilder sb = new StringBuilder();\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n                String json;\n                while ((json = bufferedReader.readLine()) != null) {\n                    sb.append((json + &quot;\\n&quot;));\n                    mySB = String.valueOf(sb);\n                }\n                return sb.toString().trim();\n            } catch (Exception e) {\n                return null;\n            }\n        }\n    }\n\n    GetJSON getJSON = new GetJSON();\n    getJSON.execute();\n}\n</code></pre>\n"}],"owner":{"account_id":14902622,"reputation":103,"user_id":10761008,"display_name":"Shawn Mulligan"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702027454,"creation_date":1701749801,"question_id":77603781,"body_markdown":"**Object:**  Get 1 set of Longitude and Lattitude coordinates from url JSON results.  Load maps and add a marker and camera zoom to those coordinates.\r\n\r\n**Problem:**  Everything works, only on 1st load of the app and the fragment that has the map in it.  When you click on a different nav button and then click on the button to go back to the fragment with the map on it, or if you click on the nav button for the map fragment and then click on it again, the map will only load with values directly in the OnMapReady.  You then have to close out the app and reopen it in order for that fragment to load correctly.\r\n\r\nWe have in the fragment the following:\r\nTextview and the Map.\r\n\r\nWe have commented out everything in the OnMapReady to ensure that we are getting the right data.\r\n\r\n**Steps we have taken to verify data:**\r\n1.  Open App\r\n2.  Clicked on Nav button to open fragment with map.\r\n3.  Looked at textview to make sure it pulled the right data from url.\r\n4.  Opened up phpmyadmin, changed data.\r\n5.  Clicked on button to load different fragment.\r\n6.  Clicked on button to load fragment with map on it.\r\n**Results:  Textview is populated with correct data.**\r\n\r\nNext test was to see if the maps will load and if we are getting data to the markers.\r\n\r\nWe added all map info back to the OnMapReady.  We temporarily used hard coded longitude and lattitude for the marker and camera zoom.  We then added a toast to display textview.gettext.tostring().\r\n**RESULTS:  1st run or load data is there and correct.  Each load after that it is null / empty displaying an empty toast message.**\r\n\r\nBelow is the code that we use to call the fragment with the map on it in MainActivity:\r\n\r\n    getSupportFragmentManager()\r\n               .beginTransaction()\r\n               .setCustomAnimations(R.anim.bottom_nav_enter, R.anim.bottom_nav_exit)\r\n               .add(R.id.container, frg)\r\n               //.replace(R.id.container, frg)\r\n               //.attach(frg)\r\n               .commitNow();\r\n\r\nI have tried detach / attach / remove / add / replace and does not make a difference.\r\n\r\nBelow is the full code for my fragment that has the map on it.\r\n\r\n    package com.app.restaurant.bowzers.fragments;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.app.restaurant.bowzers.GetJSON;\r\n    import com.app.restaurant.bowzers.R;\r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.MapView;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.model.CameraPosition;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class TruckFragment extends Fragment implements OnMapReadyCallback {\r\n    \r\n    \r\n        Activity mactivity;\r\n        public static TextView textviewlocation;\r\n        GoogleMap mGoogleMap;\r\n    String strlong, strlat;\r\n        String longitudestring;\r\n        String lattitudestring, mySB;\r\n        MapView mMapView;\r\n        View mView;\r\n        double locationlong, locationlat;\r\n        public TruckFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            mactivity = getActivity();\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            mView = inflater.inflate(R.layout.fragment_truck, container, false);\r\n            if(this.getArguments()!=null) {\r\n                Log.d(&quot;hey&quot;, &quot;hey&quot;);\r\n            String[] longlat =textviewlocation.getText().toString().split(&quot;,&quot;);\r\n            locationlong =  Double.parseDouble(longlat [0]);\r\n                locationlat =  Double.parseDouble(longlat [1]);\r\n    \r\n    \r\n            }\r\n            return mView;\r\n        }\r\n        TextView textView;\r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            textviewlocation = view.findViewById(R.id.textviewlocation);\r\n            getJSON(&quot;https://bowzershotdogstand.com/app/get_location.php&quot;);\r\n    \r\n    //        String[] longlat =textviewlocation.getText().toString().split(&quot;,&quot;);\r\n    //        locationlong =  Double.parseDouble(longlat [0]);\r\n    //        locationlat =  Double.parseDouble(longlat [1]);\r\n    \r\n    \r\n    \r\n    \r\n            mMapView = mView.findViewById(R.id.truckmap);\r\n            if (mMapView != null) {\r\n                mMapView.onCreate(null);\r\n                mMapView.onResume();\r\n                mMapView.getMapAsync(this);\r\n            }\r\n        }\r\n        private void getJSON(final String urlWebService) {\r\n            class GetJSON extends AsyncTask&lt;Void, Void, String&gt; {\r\n                protected void onPreExecute() {\r\n                    super.onPreExecute();\r\n                }\r\n    \r\n                protected void onPostExecute(String s) {\r\n                    super.onPostExecute(s);\r\n                    mySB = s;\r\n                    textviewlocation.setText(mySB);\r\n    \r\n                }\r\n    \r\n                protected String doInBackground(Void... Voids) {\r\n                    try {\r\n                        URL url = new URL(urlWebService);\r\n                        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                        StringBuilder sb = new StringBuilder();\r\n                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                        String json;\r\n                        while ((json = bufferedReader.readLine()) != null) {\r\n                            sb.append((json + &quot;\\n&quot;));\r\n    \r\n                        }\r\n                        mySB = String.valueOf(sb);\r\n    \r\n                        JSONArray JA = new JSONArray(mySB);\r\n                        for(int i =0 ;i &lt;JA.length(); i++){\r\n                            JSONObject JO = (JSONObject) JA.get(i);\r\n                            switch (JO.getString(&quot;id&quot;)){\r\n                                case &quot;1&quot;:\r\n                                    strlong = JO.getString(&quot;longitude&quot;);\r\n                                    strlat = JO.getString(&quot;lattitude&quot;);\r\n                                    break;\r\n                            }\r\n                        }\r\n    \r\n                        //return sb.toString().trim();\r\n                        return strlong + &quot;,&quot; + strlat;\r\n                    } catch (Exception e) {\r\n                        return null;\r\n                    }\r\n                }\r\n            }\r\n            GetJSON getJSON = new GetJSON();\r\n            getJSON.execute();\r\n        }\r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n    \r\n    \r\n            LatLng bowzers = new LatLng(locationlat, locationlong);\r\n    \r\n            Toast.makeText(getContext(),textviewlocation.getText().toString(), Toast.LENGTH_SHORT).show();\r\n    \r\n            mGoogleMap = googleMap;\r\n            googleMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n    \r\n            googleMap.addMarker(new MarkerOptions().position(new LatLng(39.918837, -82.831853)).title(&quot;Bowzers&quot;).snippet(&quot;Where Our Dogs Are NOT JUST A DOG&quot;));\r\n    //        googleMap.addMarker(new MarkerOptions().position(new LatLng(locationlat, locationlong)).title(&quot;Bowzers&quot;).snippet(&quot;Where Our Dogs Are NOT JUST A DOG&quot;));\r\n              //googleMap.addMarker(new MarkerOptions().position(bowzers).title(&quot;Marker&quot;));\r\n    //        googleMap.addMarker(new MarkerOptions().position(new LatLng(0, 0)).title(&quot;Bowzers&quot;).snippet(&quot;Where Our Dogs Are NOT JUST A DOG&quot;));\r\n            CameraPosition Bowzers = CameraPosition.builder().target(new LatLng(39.918837, -82.831853)).zoom(16).bearing(0).tilt(45).build();\r\n          //  CameraPosition Bowzers = CameraPosition.builder().target(new LatLng(locationlat, locationlong)).zoom(16).bearing(0).tilt(45).build();\r\n            googleMap.moveCamera(CameraUpdateFactory.newCameraPosition(Bowzers));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            getFragmentManager().beginTransaction().detach(this).attach(this).commit();\r\n            Log.i(&quot;IsRefresh&quot;, &quot;Yes&quot;);\r\n            }\r\n        }\r\n\r\nAs you can see I even tried doing detach, attach in the onResume as well and it does not make a difference.  detach / attach in the way I went about it should of refreshed the whole fragment I thought.  However it does not refresh it.\r\n\r\nWhat am I doing wrong, or what am I missing that when the fragment resumes that it does not refresh as if it were the first time loading and OnMapReady being able to access the data from the textview after the first load of the fragment.  \r\n\r\nI double check logcat and it does get to OnResume and it does log it to let me know.\r\n\r\nSo why does OnMapready not seeing or able to access global variables or the data in the textview after the first load?\r\n\r\nI can not figure it out for the life of me, I am ready to pull my hair out trying to get it to work properly on every load not just the first one.","title":"Load JSON from php into strings in a fragment?","body":"<p><strong>Object:</strong>  Get 1 set of Longitude and Lattitude coordinates from url JSON results.  Load maps and add a marker and camera zoom to those coordinates.</p>\n<p><strong>Problem:</strong>  Everything works, only on 1st load of the app and the fragment that has the map in it.  When you click on a different nav button and then click on the button to go back to the fragment with the map on it, or if you click on the nav button for the map fragment and then click on it again, the map will only load with values directly in the OnMapReady.  You then have to close out the app and reopen it in order for that fragment to load correctly.</p>\n<p>We have in the fragment the following:\nTextview and the Map.</p>\n<p>We have commented out everything in the OnMapReady to ensure that we are getting the right data.</p>\n<p><strong>Steps we have taken to verify data:</strong></p>\n<ol>\n<li>Open App</li>\n<li>Clicked on Nav button to open fragment with map.</li>\n<li>Looked at textview to make sure it pulled the right data from url.</li>\n<li>Opened up phpmyadmin, changed data.</li>\n<li>Clicked on button to load different fragment.</li>\n<li>Clicked on button to load fragment with map on it.\n<strong>Results:  Textview is populated with correct data.</strong></li>\n</ol>\n<p>Next test was to see if the maps will load and if we are getting data to the markers.</p>\n<p>We added all map info back to the OnMapReady.  We temporarily used hard coded longitude and lattitude for the marker and camera zoom.  We then added a toast to display textview.gettext.tostring().\n<strong>RESULTS:  1st run or load data is there and correct.  Each load after that it is null / empty displaying an empty toast message.</strong></p>\n<p>Below is the code that we use to call the fragment with the map on it in MainActivity:</p>\n<pre><code>getSupportFragmentManager()\n           .beginTransaction()\n           .setCustomAnimations(R.anim.bottom_nav_enter, R.anim.bottom_nav_exit)\n           .add(R.id.container, frg)\n           //.replace(R.id.container, frg)\n           //.attach(frg)\n           .commitNow();\n</code></pre>\n<p>I have tried detach / attach / remove / add / replace and does not make a difference.</p>\n<p>Below is the full code for my fragment that has the map on it.</p>\n<pre><code>package com.app.restaurant.bowzers.fragments;\n\n\n\n\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.app.restaurant.bowzers.GetJSON;\nimport com.app.restaurant.bowzers.R;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.MapView;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.model.CameraPosition;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class TruckFragment extends Fragment implements OnMapReadyCallback {\n\n\n    Activity mactivity;\n    public static TextView textviewlocation;\n    GoogleMap mGoogleMap;\nString strlong, strlat;\n    String longitudestring;\n    String lattitudestring, mySB;\n    MapView mMapView;\n    View mView;\n    double locationlong, locationlat;\n    public TruckFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        mactivity = getActivity();\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n\n\n\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        mView = inflater.inflate(R.layout.fragment_truck, container, false);\n        if(this.getArguments()!=null) {\n            Log.d(&quot;hey&quot;, &quot;hey&quot;);\n        String[] longlat =textviewlocation.getText().toString().split(&quot;,&quot;);\n        locationlong =  Double.parseDouble(longlat [0]);\n            locationlat =  Double.parseDouble(longlat [1]);\n\n\n        }\n        return mView;\n    }\n    TextView textView;\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        textviewlocation = view.findViewById(R.id.textviewlocation);\n        getJSON(&quot;https://bowzershotdogstand.com/app/get_location.php&quot;);\n\n//        String[] longlat =textviewlocation.getText().toString().split(&quot;,&quot;);\n//        locationlong =  Double.parseDouble(longlat [0]);\n//        locationlat =  Double.parseDouble(longlat [1]);\n\n\n\n\n        mMapView = mView.findViewById(R.id.truckmap);\n        if (mMapView != null) {\n            mMapView.onCreate(null);\n            mMapView.onResume();\n            mMapView.getMapAsync(this);\n        }\n    }\n    private void getJSON(final String urlWebService) {\n        class GetJSON extends AsyncTask&lt;Void, Void, String&gt; {\n            protected void onPreExecute() {\n                super.onPreExecute();\n            }\n\n            protected void onPostExecute(String s) {\n                super.onPostExecute(s);\n                mySB = s;\n                textviewlocation.setText(mySB);\n\n            }\n\n            protected String doInBackground(Void... Voids) {\n                try {\n                    URL url = new URL(urlWebService);\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                    StringBuilder sb = new StringBuilder();\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n                    String json;\n                    while ((json = bufferedReader.readLine()) != null) {\n                        sb.append((json + &quot;\\n&quot;));\n\n                    }\n                    mySB = String.valueOf(sb);\n\n                    JSONArray JA = new JSONArray(mySB);\n                    for(int i =0 ;i &lt;JA.length(); i++){\n                        JSONObject JO = (JSONObject) JA.get(i);\n                        switch (JO.getString(&quot;id&quot;)){\n                            case &quot;1&quot;:\n                                strlong = JO.getString(&quot;longitude&quot;);\n                                strlat = JO.getString(&quot;lattitude&quot;);\n                                break;\n                        }\n                    }\n\n                    //return sb.toString().trim();\n                    return strlong + &quot;,&quot; + strlat;\n                } catch (Exception e) {\n                    return null;\n                }\n            }\n        }\n        GetJSON getJSON = new GetJSON();\n        getJSON.execute();\n    }\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n\n\n        LatLng bowzers = new LatLng(locationlat, locationlong);\n\n        Toast.makeText(getContext(),textviewlocation.getText().toString(), Toast.LENGTH_SHORT).show();\n\n        mGoogleMap = googleMap;\n        googleMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n\n        googleMap.addMarker(new MarkerOptions().position(new LatLng(39.918837, -82.831853)).title(&quot;Bowzers&quot;).snippet(&quot;Where Our Dogs Are NOT JUST A DOG&quot;));\n//        googleMap.addMarker(new MarkerOptions().position(new LatLng(locationlat, locationlong)).title(&quot;Bowzers&quot;).snippet(&quot;Where Our Dogs Are NOT JUST A DOG&quot;));\n          //googleMap.addMarker(new MarkerOptions().position(bowzers).title(&quot;Marker&quot;));\n//        googleMap.addMarker(new MarkerOptions().position(new LatLng(0, 0)).title(&quot;Bowzers&quot;).snippet(&quot;Where Our Dogs Are NOT JUST A DOG&quot;));\n        CameraPosition Bowzers = CameraPosition.builder().target(new LatLng(39.918837, -82.831853)).zoom(16).bearing(0).tilt(45).build();\n      //  CameraPosition Bowzers = CameraPosition.builder().target(new LatLng(locationlat, locationlong)).zoom(16).bearing(0).tilt(45).build();\n        googleMap.moveCamera(CameraUpdateFactory.newCameraPosition(Bowzers));\n\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        getFragmentManager().beginTransaction().detach(this).attach(this).commit();\n        Log.i(&quot;IsRefresh&quot;, &quot;Yes&quot;);\n        }\n    }\n</code></pre>\n<p>As you can see I even tried doing detach, attach in the onResume as well and it does not make a difference.  detach / attach in the way I went about it should of refreshed the whole fragment I thought.  However it does not refresh it.</p>\n<p>What am I doing wrong, or what am I missing that when the fragment resumes that it does not refresh as if it were the first time loading and OnMapReady being able to access the data from the textview after the first load of the fragment.</p>\n<p>I double check logcat and it does get to OnResume and it does log it to let me know.</p>\n<p>So why does OnMapready not seeing or able to access global variables or the data in the textview after the first load?</p>\n<p>I can not figure it out for the life of me, I am ready to pull my hair out trying to get it to work properly on every load not just the first one.</p>\n"},{"tags":["java","spring-boot","multithreading","rest"],"answers":[{"tags":[],"owner":{"account_id":30096502,"reputation":11,"user_id":23064610,"display_name":"future-fullstack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702026804,"creation_date":1702026804,"answer_id":77625501,"question_id":77625381,"body_markdown":"I think in most situations, you don&#39;t need to use a thread to query databases in most web applications like use send a request and he wait for the response. because the request should be response in a short time. if the time consuming is to long, that is a design problem or performance problem, and we need to optimize the databases. \r\n\r\nIf you always use a new thread to query data from database, that means every request the server will use double thread, that is a waste for the whole server.\r\n\r\nhope to help you ","title":"Is it always necessary to query a database via thread","body":"<p>I think in most situations, you don't need to use a thread to query databases in most web applications like use send a request and he wait for the response. because the request should be response in a short time. if the time consuming is to long, that is a design problem or performance problem, and we need to optimize the databases.</p>\n<p>If you always use a new thread to query data from database, that means every request the server will use double thread, that is a waste for the whole server.</p>\n<p>hope to help you</p>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702027391,"answer_count":1,"score":-3,"last_activity_date":1702026804,"creation_date":1702025425,"question_id":77625381,"body_markdown":"Is it always necessary to query a database via thread in a normal rest api build using java/kotlin and spring boot.\r\nEg :-\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n    @Autowired\r\n    private MyRepository myRepository;\r\n\r\n    @Async\r\n    public CompletableFuture&lt;MyEntity&gt; findEntityByIdAsync(Long id) {\r\n        return CompletableFuture.completedFuture(myRepository.findById(id).orElse(null));\r\n    }\r\n}\r\n```\r\n\r\nor is it ok to simply query without using threads explicitly :- \r\n\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n    @Autowired\r\n    private MyRepository myRepository;\r\n\r\n    \r\n    public MyEntity findEntityByIdAsync(Long id) {\r\n        return myRepository.findById(id);\r\n    }\r\n}\r\n```","title":"Is it always necessary to query a database via thread","body":"<p>Is it always necessary to query a database via thread in a normal rest api build using java/kotlin and spring boot.\nEg :-</p>\n<pre><code>@Service\npublic class MyService {\n\n    @Autowired\n    private MyRepository myRepository;\n\n    @Async\n    public CompletableFuture&lt;MyEntity&gt; findEntityByIdAsync(Long id) {\n        return CompletableFuture.completedFuture(myRepository.findById(id).orElse(null));\n    }\n}\n</code></pre>\n<p>or is it ok to simply query without using threads explicitly :-</p>\n<pre><code>@Service\npublic class MyService {\n\n    @Autowired\n    private MyRepository myRepository;\n\n    \n    public MyEntity findEntityByIdAsync(Long id) {\n        return myRepository.findById(id);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","ide"],"comments":[{"owner":{"account_id":1306358,"reputation":42117,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":1,"creation_date":1701706254,"post_id":77600318,"comment_id":136806010,"body_markdown":"Please do not encourage &quot;AI&quot; spammers by upvoting or accepting their answers.","body":"Please do not encourage &quot;AI&quot; spammers by upvoting or accepting their answers."},{"owner":{"account_id":1306358,"reputation":42117,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":1,"creation_date":1701706392,"post_id":77600318,"comment_id":136806044,"body_markdown":"Also I suspect the answer to your question is &quot;structured search.&quot; It doesn&#39;t make a lot of sense to me so I can&#39;t directly answer your question, but the few times I&#39;ve had to do similar searches that&#39;s been the recommended answer.","body":"Also I suspect the answer to your question is &quot;structured search.&quot; It doesn&#39;t make a lot of sense to me so I can&#39;t directly answer your question, but the few times I&#39;ve had to do similar searches that&#39;s been the recommended answer."},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1701706828,"post_id":77600318,"comment_id":136806144,"body_markdown":"@miken32 I felt conflicted accepting it. It did answer my question perfectly and the gpt-ish wordy essay-style did not distract from the good part, so either the genAI-user got lucky or double-checked and verified the AI-answer. That&#39;s why I asked him to shorten it. I am very much against AI-answers because they are almost always horrible, but I would be happy with the answer if the date on it was 2019, so is it really spam?","body":"@miken32 I felt conflicted accepting it. It did answer my question perfectly and the gpt-ish wordy essay-style did not distract from the good part, so either the genAI-user got lucky or double-checked and verified the AI-answer. That&#39;s why I asked him to shorten it. I am very much against AI-answers because they are almost always horrible, but I would be happy with the answer if the date on it was 2019, so is it really spam?"},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1701706888,"post_id":77600318,"comment_id":136806158,"body_markdown":"@miken32 Thank you for recommending Structured Search to me, that does seem worth checking out for advanced searches but my use-case is perfectly covered by what intellij offers out-of-the-box","body":"@miken32 Thank you for recommending Structured Search to me, that does seem worth checking out for advanced searches but my use-case is perfectly covered by what intellij offers out-of-the-box"}],"answers":[{"tags":[],"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702026622,"creation_date":1701761924,"answer_id":77604522,"question_id":77600318,"body_markdown":"&quot;Find Usages&quot; solves the problem. Activate with `Alt`+`F7` (Windows) or `Alt`+`Shift`+`F7` (Gnome) or `⌥Opt`+`F7` (Mac) or through the right-click-context-menu to find usages of the class under the cursor. The usages will be grouped, and one of those groups is &quot;Field declaration&quot;.\r\n\r\n\r\nMore info: https://www.jetbrains.com/help/idea/find-highlight-usages.html\r\n\r\n\r\n","title":"How to find all places where a class is used in a field definition in intellij?","body":"<p>&quot;Find Usages&quot; solves the problem. Activate with <code>Alt</code>+<code>F7</code> (Windows) or <code>Alt</code>+<code>Shift</code>+<code>F7</code> (Gnome) or <code>⌥Opt</code>+<code>F7</code> (Mac) or through the right-click-context-menu to find usages of the class under the cursor. The usages will be grouped, and one of those groups is &quot;Field declaration&quot;.</p>\n<p>More info: <a href=\"https://www.jetbrains.com/help/idea/find-highlight-usages.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/find-highlight-usages.html</a></p>\n"}],"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77604522,"answer_count":1,"score":0,"last_activity_date":1702026622,"creation_date":1701701017,"question_id":77600318,"body_markdown":"Given a class definition, I can easily find all places where it is used in several ways, in a long list with some filtering options.\r\n\r\n\r\nBut what I want is to find fields of the type I am interested in, that is, **I want look at a class definition and answer the question &quot;Which classes have a field of this type?&quot;**\r\n\r\nI am using Intellij IDEA 2023.2.5 with Java17, but I would appreciate answers even if they use different tools or work in different languages.\r\nA perfect answer would also find fields of a supertype of the class I am looking for but the simple answer of finding fields of the exact type is good enough.","title":"How to find all places where a class is used in a field definition in intellij?","body":"<p>Given a class definition, I can easily find all places where it is used in several ways, in a long list with some filtering options.</p>\n<p>But what I want is to find fields of the type I am interested in, that is, <strong>I want look at a class definition and answer the question &quot;Which classes have a field of this type?&quot;</strong></p>\n<p>I am using Intellij IDEA 2023.2.5 with Java17, but I would appreciate answers even if they use different tools or work in different languages.\nA perfect answer would also find fields of a supertype of the class I am looking for but the simple answer of finding fields of the exact type is good enough.</p>\n"},{"tags":["java","button","applet","call"],"comments":[{"owner":{"account_id":13678,"reputation":7144,"user_id":27615,"display_name":"razlebe"},"score":2,"creation_date":1255987037,"post_id":1591186,"comment_id":1454641,"body_markdown":"I&#39;d suggest that you need to post some code to avoid an inevitable downvoting into oblivion...","body":"I&#39;d suggest that you need to post some code to avoid an inevitable downvoting into oblivion..."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":1,"creation_date":1255987056,"post_id":1591186,"comment_id":1454643,"body_markdown":"Can you show what you have done and what unwanted behavior is? And I don&#39;t understand. You have two applets on a page and you want one applet to do an action on the other applet?","body":"Can you show what you have done and what unwanted behavior is? And I don&#39;t understand. You have two applets on a page and you want one applet to do an action on the other applet?"},{"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"score":0,"creation_date":1255987407,"post_id":1591186,"comment_id":1454675,"body_markdown":"Actually i need to enter some details in first applet. with a button click i want to get another applet where i need to add some other information.","body":"Actually i need to enter some details in first applet. with a button click i want to get another applet where i need to add some other information."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1255989239,"post_id":1591186,"comment_id":1454841,"body_markdown":"You said: *I m trying to call another applet button click of other Applet.* I wonder, is it working?","body":"You said: <i>I m trying to call another applet button click of other Applet.</i> I wonder, is it working?"},{"owner":{"account_id":54775,"reputation":2116,"user_id":163961,"display_name":"Nettogrof"},"score":0,"creation_date":1255989308,"post_id":1591186,"comment_id":1454846,"body_markdown":"It&#39;s nice that you try that,  come back when you&#39;ll have a question and/or some code","body":"It&#39;s nice that you try that,  come back when you&#39;ll have a question and/or some code"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1255989468,"post_id":1591186,"comment_id":1454856,"body_markdown":"I&#39;m adding your comment *Actually need to enter etc etc* into the question it self. I&#39;m not correcting the grammar though","body":"I&#39;m adding your comment <i>Actually need to enter etc etc</i> into the question it self. I&#39;m not correcting the grammar though"},{"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"score":0,"creation_date":1255990384,"post_id":1591186,"comment_id":1454919,"body_markdown":"ya presently i am getting an error message &quot;illegal escape character&quot; for line 57 (the line in which order has been instantiated)","body":"ya presently i am getting an error message &quot;illegal escape character&quot; for line 57 (the line in which order has been instantiated)"},{"owner":{"account_id":13678,"reputation":7144,"user_id":27615,"display_name":"razlebe"},"score":0,"creation_date":1255990449,"post_id":1591186,"comment_id":1454925,"body_markdown":"I&#39;m going to remove my downvote now, as you&#39;ve posted some code.","body":"I&#39;m going to remove my downvote now, as you&#39;ve posted some code."},{"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"score":0,"creation_date":1255990792,"post_id":1591186,"comment_id":1454944,"body_markdown":"can anyone get the error in this code??\nor suggest some other syntax for the same purpose..","body":"can anyone get the error in this code?? or suggest some other syntax for the same purpose.."},{"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"score":0,"creation_date":1256025772,"post_id":1591186,"comment_id":1456937,"body_markdown":"can somebody suggest another method for calling an applet as the above one is not working.","body":"can somebody suggest another method for calling an applet as the above one is not working."}],"answers":[{"tags":[],"owner":{"account_id":51377,"reputation":6464,"user_id":153503,"display_name":"leonm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1255987010,"creation_date":1255987010,"answer_id":1591199,"question_id":1591186,"body_markdown":"Try http://www.wutka.com/hackingjava/ch10.htm or simply Google for [inter applet communication][1]\r\n\r\n\r\n  [1]: http://www.google.com.au/search?q=inter+applet+communication&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=com.ubuntu:en-US:official&amp;client=firefox-a","title":"call another applet in an applet","body":"<p>Try <a href=\"http://www.wutka.com/hackingjava/ch10.htm\" rel=\"nofollow noreferrer\">http://www.wutka.com/hackingjava/ch10.htm</a> or simply Google for <a href=\"http://www.google.com.au/search?q=inter+applet+communication&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=com.ubuntu:en-US:official&amp;client=firefox-a\" rel=\"nofollow noreferrer\">inter applet communication</a></p>\n"},{"tags":[],"owner":{"account_id":13678,"reputation":7144,"user_id":27615,"display_name":"razlebe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255997121,"creation_date":1255991964,"answer_id":1591534,"question_id":1591186,"body_markdown":"If you&#39;re still seeing an &quot;Illegal Escape Character&quot; error on line 57, it&#39;s down to the string literal you&#39;re passing when instantiating `order`:\r\n\r\n    order =new URL(&quot;C:\\Documents and Settings\\Administrator\\Desktop\\try\\add.html&quot;);   \r\n\r\nThe Java [Escape Character][1] is the backslash (`\\`). Therefore, every time you use a back slash, the compiler thinks you&#39;re trying to escape the character that follows it. For example, in the string \r\n\r\n    C:\\Documents\r\n\r\n...the compiler is treating `\\D` as a single escaped character rather than as two characters. The compiler error you&#39;re seeing is telling you that it doesn&#39;t recognise some of the escaped characters (`\\D`, `\\A`, `\\t`) in that string. \r\n\r\nThe solution is to escape the escape character, e.g. prefix each backslash with a blackslash:\r\n\r\n    order =new URL(&quot;C:\\\\Documents and Settings\\\\Administrator\\Desktop\\\\try\\\\add.html&quot;); \r\n\r\nThis tells the compiler to treat the backslashes as backslashes, rather than as escape characters. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Escape_character","title":"call another applet in an applet","body":"<p>If you're still seeing an \"Illegal Escape Character\" error on line 57, it's down to the string literal you're passing when instantiating <code>order</code>:</p>\n\n<pre><code>order =new URL(\"C:\\Documents and Settings\\Administrator\\Desktop\\try\\add.html\");   \n</code></pre>\n\n<p>The Java <a href=\"http://en.wikipedia.org/wiki/Escape_character\" rel=\"nofollow noreferrer\">Escape Character</a> is the backslash (<code>\\</code>). Therefore, every time you use a back slash, the compiler thinks you're trying to escape the character that follows it. For example, in the string </p>\n\n<pre><code>C:\\Documents\n</code></pre>\n\n<p>...the compiler is treating <code>\\D</code> as a single escaped character rather than as two characters. The compiler error you're seeing is telling you that it doesn't recognise some of the escaped characters (<code>\\D</code>, <code>\\A</code>, <code>\\t</code>) in that string. </p>\n\n<p>The solution is to escape the escape character, e.g. prefix each backslash with a blackslash:</p>\n\n<pre><code>order =new URL(\"C:\\\\Documents and Settings\\\\Administrator\\Desktop\\\\try\\\\add.html\"); \n</code></pre>\n\n<p>This tells the compiler to treat the backslashes as backslashes, rather than as escape characters. </p>\n"}],"owner":{"account_id":53844,"reputation":975,"user_id":161004,"accept_rate":40,"display_name":"user161004"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9964,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1702026370,"creation_date":1255986784,"question_id":1591186,"body_markdown":"I want to call (just display another applet)one applet from another applet\r\n. I just placed a button on my first applet and on its actionperformed method\r\nused the getcontextapplet() method. But second applet was not displayed.\r\n\r\nHow can I display a second applet on any reaction of first...\r\n\r\nThe code:\r\n\r\n\r\n    import java.io.*;\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.sql.*;\r\n    import javax.swing.*;\r\n    public class home extends Applet implements ActionListener\r\n    {\r\n    \tContainer c1;\r\n    \tLabel l1,l2,l3,l4;\r\n    \tTextField t1;\r\n    \tButton b1,b2;\r\n    \tImageIcon icon;\r\n    \tPanel p1;\r\n    \tURL order;\r\n    \t\r\n    \tpublic void init()\r\n    \t{\r\n    \t\t// Tell the applet not to use a layout manager. \r\n            setLayout(null); \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tl1=new Label(&quot;MINDSOFT CONSULTANTS&quot;);\r\n    \t\tFont fg=new Font(&quot;Times new roman&quot;,Font.BOLD,50);\r\n    \t\tadd(l1);\r\n    \t\tl1.setFont(fg);\r\n    \t\tl1.setBounds(20,20,800,70);\r\n    \t\t\r\n    \t\tl2=new Label(&quot;Strength of 5000 employees&quot;);\r\n    \t\tfg=new Font(&quot;Times new roman&quot;,Font.BOLD,25);\r\n    \t\tl2.setFont(fg);\r\n    \t\tl2.setBounds(180,120,500,30);\r\n    \t\tadd(l2);\r\n    \t\t\r\n    \t\tl3=new Label(&quot;Specialised in IT and computing services&quot;);\r\n    \t\tl3.setFont(fg);\r\n    \t\tl3.setBounds(90,180,500,30);\r\n    \t\tadd(l3);\r\n    \t\t\r\n    \t\tl4=new Label(&quot;A total of 10 different departments&quot;);\r\n    \t\tl4.setFont(fg);\r\n    \t\tl4.setBounds(140,240,500,30);\r\n    \t\tadd(l4);\r\n    \t\t\r\n    \t\tb1=new Button(&quot;VIEW DETAIL&quot;);\r\n    \t\tb1.setBounds(150,320,150,40);\r\n    \t\tadd(b1);\r\n    \t\tb1.addActionListener(this);\r\n    \t\t\r\n    \t\tb2=new Button(&quot;ADD DETAIL&quot;);\r\n    \t\tb2.setBounds(450,320,150,40);\r\n    \t\tadd(b2);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\torder =new URL(&quot;C:\\Documents and Settings\\Administrator\\Desktop\\try\\add.html&quot;);   \r\n    \t\t}\r\n    \t\tcatch(MalformedURLException e){\r\n    \t\tSystem.out.println(&quot;HH&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\t\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void actionPerformed(ActionEvent e)\r\n    \t{\r\n    \t\t\r\n    \t\tif(e.getSource()==b1)\r\n    \t\t{\r\n    \t\tgetAppletContext().showDocument(order);\r\n    \t\tSystem.out.println(&quot;HI&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\t\r\n\r\n","title":"call another applet in an applet","body":"<p>I want to call (just display another applet)one applet from another applet\n. I just placed a button on my first applet and on its actionperformed method\nused the getcontextapplet() method. But second applet was not displayed.</p>\n\n<p>How can I display a second applet on any reaction of first...</p>\n\n<p>The code:</p>\n\n<pre><code>import java.io.*;\nimport java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\nimport javax.swing.*;\npublic class home extends Applet implements ActionListener\n{\n    Container c1;\n    Label l1,l2,l3,l4;\n    TextField t1;\n    Button b1,b2;\n    ImageIcon icon;\n    Panel p1;\n    URL order;\n\n    public void init()\n    {\n        // Tell the applet not to use a layout manager. \n        setLayout(null); \n\n\n\n        l1=new Label(\"MINDSOFT CONSULTANTS\");\n        Font fg=new Font(\"Times new roman\",Font.BOLD,50);\n        add(l1);\n        l1.setFont(fg);\n        l1.setBounds(20,20,800,70);\n\n        l2=new Label(\"Strength of 5000 employees\");\n        fg=new Font(\"Times new roman\",Font.BOLD,25);\n        l2.setFont(fg);\n        l2.setBounds(180,120,500,30);\n        add(l2);\n\n        l3=new Label(\"Specialised in IT and computing services\");\n        l3.setFont(fg);\n        l3.setBounds(90,180,500,30);\n        add(l3);\n\n        l4=new Label(\"A total of 10 different departments\");\n        l4.setFont(fg);\n        l4.setBounds(140,240,500,30);\n        add(l4);\n\n        b1=new Button(\"VIEW DETAIL\");\n        b1.setBounds(150,320,150,40);\n        add(b1);\n        b1.addActionListener(this);\n\n        b2=new Button(\"ADD DETAIL\");\n        b2.setBounds(450,320,150,40);\n        add(b2);\n\n        try\n        {\n        order =new URL(\"C:\\Documents and Settings\\Administrator\\Desktop\\try\\add.html\");   \n        }\n        catch(MalformedURLException e){\n        System.out.println(\"HH\");\n        }\n\n\n    }\n\n    public void actionPerformed(ActionEvent e)\n    {\n\n        if(e.getSource()==b1)\n        {\n        getAppletContext().showDocument(order);\n        System.out.println(\"HI\");\n        }\n\n    }\n}   \n</code></pre>\n"},{"tags":["javascript","java","camunda","formsflow.ai","formsflow"],"owner":{"account_id":30094334,"reputation":1,"user_id":23062973,"display_name":"Amalina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702026136,"creation_date":1702026136,"question_id":77625444,"body_markdown":"I have a question, I&#39;m currently using the latest versions of formsflow.ai open sources.\r\nI intend to use the formsflow in my company for online form submissions.\r\n\r\nI had tried to set up a workflow process that allowed to send an email notification to users after they submitted the form. But there are some errors triggered at the &#39;Task update application status&#39; and the &#39;End event&#39;, so during testing submission, the submission form was failed. The image attached shows the error in the workflow.\r\n\r\nIs there anything that needs to be done at this part? Please help me to find a solution for this issue. Has anyone experienced this issue before or can help me how to setup the workflow process to enable the email notification to be sent to the user?\r\n\r\nI had tried to set up a workflow process that allowed to send an email notification to users after they submitted the form. But there are some errors triggered at the &#39;Task update application status&#39; and the &#39;End event&#39;, so during testing submission, the submission form was failed. The image attached shows the error in the workflow.\r\n\r\nIs there anything that needs to be done at this part? Please help me to find a solution for this issue. Has anyone experienced this issue before or can help me how to setup the workflow process to enable the email notification to be sent to the user?","title":"Workflows process of sending an email show an error at the the &#39;Task update application status&#39; and the &#39;End event&#39;","body":"<p>I have a question, I'm currently using the latest versions of formsflow.ai open sources.\nI intend to use the formsflow in my company for online form submissions.</p>\n<p>I had tried to set up a workflow process that allowed to send an email notification to users after they submitted the form. But there are some errors triggered at the 'Task update application status' and the 'End event', so during testing submission, the submission form was failed. The image attached shows the error in the workflow.</p>\n<p>Is there anything that needs to be done at this part? Please help me to find a solution for this issue. Has anyone experienced this issue before or can help me how to setup the workflow process to enable the email notification to be sent to the user?</p>\n<p>I had tried to set up a workflow process that allowed to send an email notification to users after they submitted the form. But there are some errors triggered at the 'Task update application status' and the 'End event', so during testing submission, the submission form was failed. The image attached shows the error in the workflow.</p>\n<p>Is there anything that needs to be done at this part? Please help me to find a solution for this issue. Has anyone experienced this issue before or can help me how to setup the workflow process to enable the email notification to be sent to the user?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1702027923,"post_id":77625443,"comment_id":136849933,"body_markdown":"I suppose you have failing tests...","body":"I suppose you have failing tests..."}],"owner":{"account_id":30096484,"reputation":1,"user_id":23064594,"display_name":"zzindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702026130,"creation_date":1702026130,"question_id":77625443,"body_markdown":" Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n\r\nI was trying to run a maven project in eclipse ide, i did maven clean then maven install and this error came. BUILD failure","title":"Getting this error while runing mvn install","body":"<p>Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?</p>\n<p>I was trying to run a maven project in eclipse ide, i did maven clean then maven install and this error came. BUILD failure</p>\n"},{"tags":["java","collections","hashset","linkedhashset"],"comments":[{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1506895760,"post_id":46517359,"comment_id":79988840,"body_markdown":"h1.iterator().next()","body":"h1.iterator().next()"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506895761,"creation_date":1506895761,"answer_id":46517372,"question_id":46517359,"body_markdown":"A safe approach would be to stream it and use `findFirst()`:\r\n\r\n    Object first = h1.stream().findFirst().orElse(null);","title":"How to fetch the first element in a collection in java","body":"<p>A safe approach would be to stream it and use <code>findFirst()</code>:</p>\n\n<pre><code>Object first = h1.stream().findFirst().orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207087,"reputation":680,"user_id":1176462,"display_name":"IllegalArgumentException"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1506896829,"creation_date":1506896829,"answer_id":46517486,"question_id":46517359,"body_markdown":"    Iterator iterator = h1.iterator();\r\n    if (iterator.hasNext()) {\r\n        String firstElement = iterator.next();\r\n    }","title":"How to fetch the first element in a collection in java","body":"<pre><code>Iterator iterator = h1.iterator();\nif (iterator.hasNext()) {\n    String firstElement = iterator.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8688409,"reputation":21,"user_id":6502031,"display_name":"nguyenhoavuong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702025356,"creation_date":1702025356,"answer_id":77625380,"question_id":46517359,"body_markdown":"This may be the simplest way to get first element in a java collection:\r\n\r\n    first = collection.iterator().next();","title":"How to fetch the first element in a collection in java","body":"<p>This may be the simplest way to get first element in a java collection:</p>\n<pre><code>first = collection.iterator().next();\n</code></pre>\n"}],"owner":{"account_id":11896380,"reputation":155,"user_id":8705658,"display_name":"Anish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2141,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":46517486,"answer_count":3,"score":-2,"last_activity_date":1702025356,"creation_date":1506895648,"question_id":46517359,"body_markdown":"My question is, How to fetch the first element in a collection in java\r\n\r\nExample :\r\n \r\n\r\n    LinkedHashSet h1 = new LinkedHashSet();   \r\n    h1.add(&quot;Ani&quot;,&quot;Broadway NY&quot;,10001);\r\n\r\nAnd I want to fetch &quot;Ani&quot;   only\r\n\r\nHow can I do this?","title":"How to fetch the first element in a collection in java","body":"<p>My question is, How to fetch the first element in a collection in java</p>\n\n<p>Example :</p>\n\n<pre><code>LinkedHashSet h1 = new LinkedHashSet();   \nh1.add(\"Ani\",\"Broadway NY\",10001);\n</code></pre>\n\n<p>And I want to fetch \"Ani\"   only</p>\n\n<p>How can I do this?</p>\n"},{"tags":["java","android","module","android-gradle-plugin","android-buildconfig"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1465232868,"post_id":37634623,"comment_id":62804604,"body_markdown":"To be clear, are you trying to access BuildConfig values in java library code while running inside an Android app?  Do you ever use intend to use this library code outside an Android app?","body":"To be clear, are you trying to access BuildConfig values in java library code while running inside an Android app?  Do you ever use intend to use this library code outside an Android app?"},{"owner":{"account_id":5812732,"reputation":12331,"user_id":4583267,"accept_rate":80,"display_name":"Thomas Vos"},"score":0,"creation_date":1515192019,"post_id":37634623,"comment_id":83221339,"body_markdown":"Hello Antonio, did you find a solution?","body":"Hello Antonio, did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":5954185,"reputation":1697,"user_id":4681367,"accept_rate":100,"display_name":"Lionel Briand"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1465076803,"creation_date":1465072569,"answer_id":37634768,"question_id":37634623,"body_markdown":"If by Java library you mean Android module then : \r\n\r\nSet buildTypes variables inside the `build.gradle` file into library module like app module.\r\n\r\nGet it by using the correct BuildConfig Class.\r\n\r\n - `my.package.app.BuildConfig.APP_VARIABLE`\r\n - `my.package.library.BuildConfig.LIBRARY_VARIABLE`\r\n\r\n\r\n----------\r\nIn other way, maybe you can take a look to gradle task and System Environment this answer can help you https://stackoverflow.com/a/25714617/4681367\r\n\r\nThere is no other way to get build configuration outside an Android module.\r\n\r\nJust set/add an environment variable based on your android BuildConfig variables.","title":"What is the equivalent of Android&#39;s BuildConfig in a Java library module?","body":"<p>If by Java library you mean Android module then : </p>\n\n<p>Set buildTypes variables inside the <code>build.gradle</code> file into library module like app module.</p>\n\n<p>Get it by using the correct BuildConfig Class.</p>\n\n<ul>\n<li><code>my.package.app.BuildConfig.APP_VARIABLE</code></li>\n<li><code>my.package.library.BuildConfig.LIBRARY_VARIABLE</code></li>\n</ul>\n\n<hr>\n\n<p>In other way, maybe you can take a look to gradle task and System Environment this answer can help you <a href=\"https://stackoverflow.com/a/25714617/4681367\">https://stackoverflow.com/a/25714617/4681367</a></p>\n\n<p>There is no other way to get build configuration outside an Android module.</p>\n\n<p>Just set/add an environment variable based on your android BuildConfig variables.</p>\n"},{"tags":[],"owner":{"account_id":1511215,"reputation":537,"user_id":1413296,"display_name":"Vojtěch S&#225;zel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516367997,"creation_date":1516367997,"answer_id":48342070,"question_id":37634623,"body_markdown":"I think that you are looking for this Gradle plugin. It brings BuildConfig to pure Java module.\r\n\r\nhttps://github.com/mfuerstenau/gradle-buildconfig-plugin","title":"What is the equivalent of Android&#39;s BuildConfig in a Java library module?","body":"<p>I think that you are looking for this Gradle plugin. It brings BuildConfig to pure Java module.</p>\n\n<p><a href=\"https://github.com/mfuerstenau/gradle-buildconfig-plugin\" rel=\"noreferrer\">https://github.com/mfuerstenau/gradle-buildconfig-plugin</a></p>\n"},{"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656426979,"creation_date":1656426979,"answer_id":72788453,"question_id":37634623,"body_markdown":"If you search &quot;BuildConfig&quot; in [plugins.gradle.org][1], you will find a number of Gradle plugins which offer this functionality.\r\n\r\nThe one I used in the past is [de.fuerstenau.buildconfig][2]. However, it hasn&#39;t been updated for a while (the last release was in February 2017) and it doesn&#39;t work so great with Gradle 7+ (see [this issue][3]) so I&#39;ve recently migrated over to using [com.github.gmazzo.buildconfig][4].\r\n\r\n\r\n  [1]: https://plugins.gradle.org/\r\n  [2]: https://plugins.gradle.org/plugin/de.fuerstenau.buildconfig\r\n  [3]: https://github.com/mfuerstenau/gradle-buildconfig-plugin/issues/30\r\n  [4]: https://plugins.gradle.org/plugin/com.github.gmazzo.buildconfig","title":"What is the equivalent of Android&#39;s BuildConfig in a Java library module?","body":"<p>If you search &quot;BuildConfig&quot; in <a href=\"https://plugins.gradle.org/\" rel=\"nofollow noreferrer\">plugins.gradle.org</a>, you will find a number of Gradle plugins which offer this functionality.</p>\n<p>The one I used in the past is <a href=\"https://plugins.gradle.org/plugin/de.fuerstenau.buildconfig\" rel=\"nofollow noreferrer\">de.fuerstenau.buildconfig</a>. However, it hasn't been updated for a while (the last release was in February 2017) and it doesn't work so great with Gradle 7+ (see <a href=\"https://github.com/mfuerstenau/gradle-buildconfig-plugin/issues/30\" rel=\"nofollow noreferrer\">this issue</a>) so I've recently migrated over to using <a href=\"https://plugins.gradle.org/plugin/com.github.gmazzo.buildconfig\" rel=\"nofollow noreferrer\">com.github.gmazzo.buildconfig</a>.</p>\n"}],"owner":{"account_id":2724475,"reputation":11463,"user_id":2349947,"accept_rate":88,"display_name":"Antonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6801,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1702025182,"creation_date":1465071480,"question_id":37634623,"body_markdown":"I am using Android Studio and I have the following modules in my project:\r\n\r\n - Android application named &quot;app&quot;\r\n - Java library named &quot;communication&quot;\r\n\r\nIn my &quot;app&quot; module&#39;s `build.gradle` file, I can declare variables for the `BuildConfig.java` file, as follows:\r\n\r\n```\r\nbuildTypes {\r\n    release {\r\n        ...\r\n        buildConfigField &quot;String&quot;, &quot;SERVER_URL&quot;, &#39;&quot;my_url&quot;&#39;\r\n    }\r\n    debug {\r\n        buildConfigField &quot;String&quot;, &quot;SERVER_URL&quot;, &#39;&quot;my_url&quot;&#39;\r\n    }\r\n}\r\n```\r\n\r\nI can then access these variables using `BuildConfig.SERVER_URL`.\r\n\r\nHow do I achieve this in my &quot;communication&quot; module&#39;s `build.gradle` file?","title":"What is the equivalent of Android&#39;s BuildConfig in a Java library module?","body":"<p>I am using Android Studio and I have the following modules in my project:</p>\n<ul>\n<li>Android application named &quot;app&quot;</li>\n<li>Java library named &quot;communication&quot;</li>\n</ul>\n<p>In my &quot;app&quot; module's <code>build.gradle</code> file, I can declare variables for the <code>BuildConfig.java</code> file, as follows:</p>\n<pre><code>buildTypes {\n    release {\n        ...\n        buildConfigField &quot;String&quot;, &quot;SERVER_URL&quot;, '&quot;my_url&quot;'\n    }\n    debug {\n        buildConfigField &quot;String&quot;, &quot;SERVER_URL&quot;, '&quot;my_url&quot;'\n    }\n}\n</code></pre>\n<p>I can then access these variables using <code>BuildConfig.SERVER_URL</code>.</p>\n<p>How do I achieve this in my &quot;communication&quot; module's <code>build.gradle</code> file?</p>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":17073117,"reputation":11,"user_id":12353342,"display_name":"Johann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702024974,"creation_date":1702024974,"answer_id":77625344,"question_id":77594501,"body_markdown":"Maybe the following way can solve this problem.\r\n* Open the Eclipse preferences window (Window &gt; Preferences),Go to XML(Wild Web Developer).\r\n* check the &quot;Download external resources like referenced DTD,XSD&quot;, then Apply.","title":"Downloading external sources is disabled on Eclipse IDE","body":"<p>Maybe the following way can solve this problem.</p>\n<ul>\n<li>Open the Eclipse preferences window (Window &gt; Preferences),Go to XML(Wild Web Developer).</li>\n<li>check the &quot;Download external resources like referenced DTD,XSD&quot;, then Apply.</li>\n</ul>\n"}],"owner":{"account_id":30054882,"reputation":1,"user_id":23032489,"display_name":"Aditya Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702024974,"creation_date":1701610271,"question_id":77594501,"body_markdown":"I’m currently facing an issue with my Eclipse IDE where downloading external sources is disabled on my config.xml file(It is a Maven project) after restarting/reopening the IDE. Here are the solutions I’ve tried so far:\r\n\r\n - Navigated to Window -&gt; Preferences -&gt; Maven and checked ‘Download\r\n   Artifact Sources’ and ‘Download Artifact JavaDoc’.\r\n - Performed XML validation.\r\n - Updated the Maven Project.\r\n - Cleared the cache and cleaned the project.\r\n\r\nDespite these attempts, the issue persists. I would greatly appreciate it if anyone could suggest any other solutions or point out if I’m doing something wrong. Thank you in advance for your help!\r\n\r\nDespite these attempts, the issue persists. I would greatly appreciate it if anyone could suggest any other solutions or point out if I’m doing something wrong. Thank you in advance for your help!","title":"Downloading external sources is disabled on Eclipse IDE","body":"<p>I’m currently facing an issue with my Eclipse IDE where downloading external sources is disabled on my config.xml file(It is a Maven project) after restarting/reopening the IDE. Here are the solutions I’ve tried so far:</p>\n<ul>\n<li>Navigated to Window -&gt; Preferences -&gt; Maven and checked ‘Download\nArtifact Sources’ and ‘Download Artifact JavaDoc’.</li>\n<li>Performed XML validation.</li>\n<li>Updated the Maven Project.</li>\n<li>Cleared the cache and cleaned the project.</li>\n</ul>\n<p>Despite these attempts, the issue persists. I would greatly appreciate it if anyone could suggest any other solutions or point out if I’m doing something wrong. Thank you in advance for your help!</p>\n<p>Despite these attempts, the issue persists. I would greatly appreciate it if anyone could suggest any other solutions or point out if I’m doing something wrong. Thank you in advance for your help!</p>\n"},{"tags":["java","docker","kubernetes","dapr"],"answers":[{"tags":[],"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667902615,"creation_date":1667902615,"answer_id":74359059,"question_id":74358712,"body_markdown":"Finally!!! found the solution here : ([JVM crash with grpc-java 1.42.x and alpine docker image][1])  \r\n\r\nThe solution is to add below two lines on Dockerfile after which jvm stopped throwing fatal error.\r\n\r\n    RUN apk add gcompat\r\n    ENV LD_PRELOAD=/lib/libgcompat.so.0\r\n\r\n\r\nProbable cause explained here:  [https://github.com/grpc/grpc-java/issues/8751#issuecomment-995222358][2]\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java/issues/8751\r\n  [2]: https://github.com/grpc/grpc-java/issues/8751#issuecomment-995222358","title":"DaprClientBuilder throws fatal error on SpringBoot app running on Kubernetes","body":"<p>Finally!!! found the solution here : (<a href=\"https://github.com/grpc/grpc-java/issues/8751\" rel=\"nofollow noreferrer\">JVM crash with grpc-java 1.42.x and alpine docker image</a>)</p>\n<p>The solution is to add below two lines on Dockerfile after which jvm stopped throwing fatal error.</p>\n<pre><code>RUN apk add gcompat\nENV LD_PRELOAD=/lib/libgcompat.so.0\n</code></pre>\n<p>Probable cause explained here:  <a href=\"https://github.com/grpc/grpc-java/issues/8751#issuecomment-995222358\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/issues/8751#issuecomment-995222358</a></p>\n"},{"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702024713,"creation_date":1702024713,"answer_id":77625324,"question_id":74358712,"body_markdown":"You may also consider to use other flavor for the base docker image like debian or ubuntu. It worked.\r\n\r\nhttps://stackoverflow.com/questions/65627336/java-sigsegv-error-when-running-from-docker/65790564#65790564","title":"DaprClientBuilder throws fatal error on SpringBoot app running on Kubernetes","body":"<p>You may also consider to use other flavor for the base docker image like debian or ubuntu. It worked.</p>\n<p><a href=\"https://stackoverflow.com/questions/65627336/java-sigsegv-error-when-running-from-docker/65790564#65790564\">Java SIGSEGV error when running from docker</a></p>\n"}],"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74359059,"answer_count":2,"score":0,"last_activity_date":1702024713,"creation_date":1667901155,"question_id":74358712,"body_markdown":"I have two SpringBoot applications as part of Docker image running on Kubernetes (microk8s). I am trying to make an application invoke a HTTP service on a second application via DaprClient. The application deployment looks good, Dapr dashboard show healthy and shows two registered applications. When I finally invoke the service on first application internally it is supposed to invoke the second application via DaprClient but it fails during &quot;DaprClient daprClient = (new DaprClientBuilder()).build();&quot;  line. Been stuck at this problem for a while now and I do not know what else to try. I have cross verified the ports but the error is well before calling the client.invoke. Much appreciated if any can point me in the right direction. \r\n\r\nBelow are the deployment.yaml of the first application1(orderservice):\r\n\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: ordersystem\r\n      labels:\r\n        app: ordersystem\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: ordersystem\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: ordersystem\r\n          annotations:\r\n            dapr.io/enabled: &quot;true&quot;\r\n            dapr.io/app-id: &quot;ordersystem&quot;\r\n            dapr.io/app-port: &quot;8082&quot;\r\n        spec:\r\n          containers:\r\n          - name: ordersystem\r\n            image: localhost:5000/ordersystem:latest\r\n            ports:\r\n            - containerPort: 8082\r\n\r\n\r\n\r\n\r\nBelow is the java snippet which is being attempted and the error is after the message &quot;&quot;About to initialize daprClient&quot; and before &quot;Dapr client init worked,&quot;  so it must be during init. \r\n\r\n    @Override\r\n    \tpublic List&lt;OrderJoinDTO&gt; findAllOrdersDetails() {\r\n    \t\t\r\n    \t\tList&lt;OrderJoinDTO&gt; orderDTO = (List&lt;OrderJoinDTO&gt;) ordersRepo.findAllOrdersDetails();\r\n    \t\t\r\n    \t\tfor(OrderJoinDTO order: orderDTO) {\r\n    \t\t\tSystem.out.println(&quot;Fething productInfo from DAPR app products for orderId: &quot;+order.getOrderId()+&quot; with productId: &quot;+order.getProductsId());\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;About to initialize daprClient,  please wait&quot;);\r\n    \t\t\t\tDaprClient daprClient = (new DaprClientBuilder()).build();\r\n    \t\t\t\t// invoke a &#39;GET&#39; method (HTTP) skipping serialization: \\say with a Mono&lt;byte[]&gt; return type\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Dapr client init worked, proceeding to invoking&quot;);\r\n    \t\t\t\tProducts response = daprClient.invokeMethod(&quot;products&quot;, &quot;findByProductsId/&quot;+order.getProductsId(), null, HttpExtension.GET, Products.class).block();\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Retrived from DAPR: &quot;+response.toString());\r\n    \t\t\t\torder.setPname(response.getPname());\r\n    \t\t\t\torder.setDescription(response.getDescription());\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t return orderDTO;\r\n    \t}\r\n\r\nAnd the error I see on the kubernetes console. \r\n\r\n\r\n    2022-11-08 09:46:33.619  INFO 1 --- [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n    Hibernate: select orders0_.orderId as col_0_0_, users1_.userName as col_1_0_, users1_.address as col_2_0_, users1_.email as col_3_0_, userpaymen2_.paymentType as col_4_0_, orders_pro3_.productsId as col_5_0_ from Orders orders0_ cross join Users users1_ cross join UserPayments userpaymen2_ cross join Orders_Products_MAP orders_pro3_ where orders0_.userId=users1_.userId and orders0_.paymentId=userpaymen2_.paymentId and orders0_.orderId=orders_pro3_.orderId\r\n    Fething productInfo from DAPR app products for orderId: 1 with productId: 1\r\n    About to initialize daprClient,  please wait\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x0000000000003efe, pid=1, tid=0x00007f0eb58cbb10\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (8.0_212-b04) (build 1.8.0_212-b04)\r\n    # Java VM: OpenJDK 64-Bit Server VM (25.212-b04 mixed mode linux-amd64 compressed oops)\r\n    # Derivative: IcedTea 3.12.0\r\n    # Distribution: Custom build (Sat May  4 17:33:35 UTC 2019)\r\n    # Problematic frame:\r\n    # C  0x0000000000003efe\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # //hs_err_pid1.log\r\n    #\r\n    # If you would like to submit a bug report, please include\r\n    # instructions on how to reproduce the bug and visit:\r\n    #   https://icedtea.classpath.org/bugzilla\r\n    #\r\n\r\n","title":"DaprClientBuilder throws fatal error on SpringBoot app running on Kubernetes","body":"<p>I have two SpringBoot applications as part of Docker image running on Kubernetes (microk8s). I am trying to make an application invoke a HTTP service on a second application via DaprClient. The application deployment looks good, Dapr dashboard show healthy and shows two registered applications. When I finally invoke the service on first application internally it is supposed to invoke the second application via DaprClient but it fails during &quot;DaprClient daprClient = (new DaprClientBuilder()).build();&quot;  line. Been stuck at this problem for a while now and I do not know what else to try. I have cross verified the ports but the error is well before calling the client.invoke. Much appreciated if any can point me in the right direction.</p>\n<p>Below are the deployment.yaml of the first application1(orderservice):</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: ordersystem\n  labels:\n    app: ordersystem\nspec:\n  selector:\n    matchLabels:\n      app: ordersystem\n  template:\n    metadata:\n      labels:\n        app: ordersystem\n      annotations:\n        dapr.io/enabled: &quot;true&quot;\n        dapr.io/app-id: &quot;ordersystem&quot;\n        dapr.io/app-port: &quot;8082&quot;\n    spec:\n      containers:\n      - name: ordersystem\n        image: localhost:5000/ordersystem:latest\n        ports:\n        - containerPort: 8082\n</code></pre>\n<p>Below is the java snippet which is being attempted and the error is after the message &quot;&quot;About to initialize daprClient&quot; and before &quot;Dapr client init worked,&quot;  so it must be during init.</p>\n<pre><code>@Override\n    public List&lt;OrderJoinDTO&gt; findAllOrdersDetails() {\n        \n        List&lt;OrderJoinDTO&gt; orderDTO = (List&lt;OrderJoinDTO&gt;) ordersRepo.findAllOrdersDetails();\n        \n        for(OrderJoinDTO order: orderDTO) {\n            System.out.println(&quot;Fething productInfo from DAPR app products for orderId: &quot;+order.getOrderId()+&quot; with productId: &quot;+order.getProductsId());\n            \n            try {\n                System.out.println(&quot;About to initialize daprClient,  please wait&quot;);\n                DaprClient daprClient = (new DaprClientBuilder()).build();\n                // invoke a 'GET' method (HTTP) skipping serialization: \\say with a Mono&lt;byte[]&gt; return type\n                \n                System.out.println(&quot;Dapr client init worked, proceeding to invoking&quot;);\n                Products response = daprClient.invokeMethod(&quot;products&quot;, &quot;findByProductsId/&quot;+order.getProductsId(), null, HttpExtension.GET, Products.class).block();\n                \n                System.out.println(&quot;Retrived from DAPR: &quot;+response.toString());\n                order.setPname(response.getPname());\n                order.setDescription(response.getDescription());\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        \n         return orderDTO;\n    }\n</code></pre>\n<p>And the error I see on the kubernetes console.</p>\n<pre><code>2022-11-08 09:46:33.619  INFO 1 --- [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\nHibernate: select orders0_.orderId as col_0_0_, users1_.userName as col_1_0_, users1_.address as col_2_0_, users1_.email as col_3_0_, userpaymen2_.paymentType as col_4_0_, orders_pro3_.productsId as col_5_0_ from Orders orders0_ cross join Users users1_ cross join UserPayments userpaymen2_ cross join Orders_Products_MAP orders_pro3_ where orders0_.userId=users1_.userId and orders0_.paymentId=userpaymen2_.paymentId and orders0_.orderId=orders_pro3_.orderId\nFething productInfo from DAPR app products for orderId: 1 with productId: 1\nAbout to initialize daprClient,  please wait\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000000003efe, pid=1, tid=0x00007f0eb58cbb10\n#\n# JRE version: OpenJDK Runtime Environment (8.0_212-b04) (build 1.8.0_212-b04)\n# Java VM: OpenJDK 64-Bit Server VM (25.212-b04 mixed mode linux-amd64 compressed oops)\n# Derivative: IcedTea 3.12.0\n# Distribution: Custom build (Sat May  4 17:33:35 UTC 2019)\n# Problematic frame:\n# C  0x0000000000003efe\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# //hs_err_pid1.log\n#\n# If you would like to submit a bug report, please include\n# instructions on how to reproduce the bug and visit:\n#   https://icedtea.classpath.org/bugzilla\n#\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1702024301,"post_id":77625129,"comment_id":136849406,"body_markdown":"Always include a mention and a tag for your choice of Java GUI framework: Swing, JavaFX, SWT, Vaadin, etc.","body":"Always include a mention and a tag for your choice of Java GUI framework: Swing, JavaFX, SWT, Vaadin, etc."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1702027739,"post_id":77625129,"comment_id":136849903,"body_markdown":"I would change `b.setIcon(defaultIcon);` to something `b.setText(&quot;test&quot;);` - I suspect the images aren&#39;t loading","body":"I would change <code>b.setIcon(defaultIcon);</code> to something <code>b.setText(&quot;test&quot;);</code> - I suspect the images aren&#39;t loading"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702034937,"post_id":77625129,"comment_id":136851088,"body_markdown":"*pieceImage_b[0] = new ImageIcon(new ImageIcon(&quot;./img/king_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));* Don&#39;t do it like that - it won&#39;t package properly. Better to load your files/images as resources:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\n[Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"<i>pieceImage_b[0] = new ImageIcon(new ImageIcon(&quot;./img/king_b.png&quot;).getImage().getScaledInstance(6&zwnj;&#8203;4, 64, java.awt.Image.SCALE_SMOOTH));</i> Don&#39;t do it like that - it won&#39;t package properly. Better to load your files/images as resources: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a> <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">Eclipse</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702035424,"post_id":77625129,"comment_id":136851174,"body_markdown":"To avoid ambiguity, I meant it won&#39;t distribute properly in a jar. That `ImageIcon` ctor is working on *files*, not resources. It should be the latter","body":"To avoid ambiguity, I meant it won&#39;t distribute properly in a jar. That <code>ImageIcon</code> ctor is working on <i>files</i>, not resources. It should be the latter"}],"owner":{"account_id":28286190,"reputation":3,"user_id":21627105,"display_name":"Chanyoung Woo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702024693,"creation_date":1702022530,"question_id":77625129,"body_markdown":"Currently I am working on a java project whereas I implement chess game rules to an existing skeleton code which provides me the chess game board and the main function. As you can see in my following code, there are two sections of it. One which is already implemented and should not be modified and another section where I should implement two functions. `actionPerformed` is a callback function that occurs when coordinates (x, y) are clicked. `onInitiateBoard` is a callback function that occurs after the Reset button is clicked. My problem here is that when I run the code literally no pieces on the chess board appears. I am a beginner in java and I am stuck with this problem for a while. Also there should be no problem importing the .img files because I saved them in the right filepath which is in the same level as the src file where my java class is. Thanks for everyone in advance and I would appreciate if someone gives me some advices how to approach such problems if I get them next time.\r\n\r\nEdit: The GUI I am using is swing.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.*;\r\nimport javax.swing.border.*;\r\n//======================================================Don&#39;t modify below===============================================================//\r\nenum PieceType {king, queen, bishop, knight, rook, pawn, none}\r\nenum PlayerColor {black, white, none}\r\n\r\npublic class ChessBoard {\r\n    private final JPanel gui = new JPanel(new BorderLayout(3, 3));\r\n    private JPanel chessBoard;\r\n    private JButton[][] chessBoardSquares = new JButton[8][8];\r\n    private Piece[][] chessBoardStatus = new Piece[8][8];\r\n    private ImageIcon[] pieceImage_b = new ImageIcon[7];\r\n    private ImageIcon[] pieceImage_w = new ImageIcon[7];\r\n    private JLabel message = new JLabel(&quot;Enter Reset to Start&quot;);\r\n\r\n    ChessBoard(){\r\n        initPieceImages();\r\n        initBoardStatus();\r\n        initializeGui();\r\n        initiateBoard();\r\n    }\r\n\r\n    public final void initBoardStatus(){\r\n        for(int i=0;i&lt;8;i++){\r\n            for(int j=0;j&lt;8;j++) chessBoardStatus[j][i] = new Piece();\r\n        }\r\n    }\r\n\r\n    public final void initPieceImages(){\r\n        pieceImage_b[0] = new ImageIcon(new ImageIcon(&quot;./img/king_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_b[1] = new ImageIcon(new ImageIcon(&quot;./img/queen_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_b[2] = new ImageIcon(new ImageIcon(&quot;./img/bishop_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_b[3] = new ImageIcon(new ImageIcon(&quot;./img/knight_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_b[4] = new ImageIcon(new ImageIcon(&quot;./img/rook_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_b[5] = new ImageIcon(new ImageIcon(&quot;./img/pawn_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_b[6] = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\r\n\r\n        pieceImage_w[0] = new ImageIcon(new ImageIcon(&quot;./img/king_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_w[1] = new ImageIcon(new ImageIcon(&quot;./img/queen_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_w[2] = new ImageIcon(new ImageIcon(&quot;./img/bishop_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_w[3] = new ImageIcon(new ImageIcon(&quot;./img/knight_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_w[4] = new ImageIcon(new ImageIcon(&quot;./img/rook_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_w[5] = new ImageIcon(new ImageIcon(&quot;./img/pawn_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\r\n        pieceImage_w[6] = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\r\n    }\r\n\r\n    public ImageIcon getImageIcon(Piece piece){\r\n        if(piece.color.equals(PlayerColor.black)){\r\n            if(piece.type.equals(PieceType.king)) return pieceImage_b[0];\r\n            else if(piece.type.equals(PieceType.queen)) return pieceImage_b[1];\r\n            else if(piece.type.equals(PieceType.bishop)) return pieceImage_b[2];\r\n            else if(piece.type.equals(PieceType.knight)) return pieceImage_b[3];\r\n            else if(piece.type.equals(PieceType.rook)) return pieceImage_b[4];\r\n            else if(piece.type.equals(PieceType.pawn)) return pieceImage_b[5];\r\n            else return pieceImage_b[6];\r\n        }\r\n        else if(piece.color.equals(PlayerColor.white)){\r\n            if(piece.type.equals(PieceType.king)) return pieceImage_w[0];\r\n            else if(piece.type.equals(PieceType.queen)) return pieceImage_w[1];\r\n            else if(piece.type.equals(PieceType.bishop)) return pieceImage_w[2];\r\n            else if(piece.type.equals(PieceType.knight)) return pieceImage_w[3];\r\n            else if(piece.type.equals(PieceType.rook)) return pieceImage_w[4];\r\n            else if(piece.type.equals(PieceType.pawn)) return pieceImage_w[5];\r\n            else return pieceImage_w[6];\r\n        }\r\n        else return pieceImage_w[6];\r\n    }\r\n\r\n    public final void initializeGui(){\r\n        gui.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n        JToolBar tools = new JToolBar();\r\n        tools.setFloatable(false);\r\n        gui.add(tools, BorderLayout.PAGE_START);\r\n        JButton startButton = new JButton(&quot;Reset&quot;);\r\n        startButton.addActionListener(new ActionListener(){\r\n            public void actionPerformed(ActionEvent e){\r\n                initiateBoard();\r\n            }\r\n        });\r\n\r\n        tools.add(startButton);\r\n        tools.addSeparator();\r\n        tools.add(message);\r\n\r\n        chessBoard = new JPanel(new GridLayout(0, 8));\r\n        chessBoard.setBorder(new LineBorder(Color.BLACK));\r\n        gui.add(chessBoard);\r\n        ImageIcon defaultIcon = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\r\n        Insets buttonMargin = new Insets(0,0,0,0);\r\n        for(int i=0; i&lt;chessBoardSquares.length; i++) {\r\n            for (int j = 0; j &lt; chessBoardSquares[i].length; j++) {\r\n                JButton b = new JButton();\r\n                b.addActionListener(new ButtonListener(i, j));\r\n                b.setMargin(buttonMargin);\r\n                b.setIcon(defaultIcon);\r\n                if((j % 2 == 1 &amp;&amp; i % 2 == 1)|| (j % 2 == 0 &amp;&amp; i % 2 == 0)) b.setBackground(Color.WHITE);\r\n                else b.setBackground(Color.gray);\r\n                b.setOpaque(true);\r\n                b.setBorderPainted(false);\r\n                chessBoardSquares[j][i] = b;\r\n            }\r\n        }\r\n\r\n        for (int i=0; i &lt; 8; i++) {\r\n            for (int j=0; j &lt; 8; j++) chessBoard.add(chessBoardSquares[j][i]);\r\n\r\n        }\r\n    }\r\n\r\n    public final JComponent getGui() {\r\n        return gui;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Runnable r = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                ChessBoard cb = new ChessBoard();\r\n                JFrame f = new JFrame(&quot;Chess&quot;);\r\n                f.add(cb.getGui());\r\n                f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                f.setLocationByPlatform(true);\r\n                f.setResizable(false);\r\n                f.pack();\r\n                f.setMinimumSize(f.getSize());\r\n                f.setVisible(true);\r\n            }\r\n        };\r\n        SwingUtilities.invokeLater(r);\r\n    }\r\n```\r\n\r\nThese are the functions I can use:\r\n\r\n  \r\n\r\n```\r\n    class Piece{\r\n        PlayerColor color;\r\n        PieceType type;\r\n\r\n        Piece(){\r\n            color = PlayerColor.none;\r\n            type = PieceType.none;\r\n        }\r\n        Piece(PlayerColor color, PieceType type){\r\n            this.color = color;\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n    //Sets the icon on the chess board and updates the board status\r\n    public void setIcon(int x, int y, Piece piece){\r\n        chessBoardSquares[y][x].setIcon(getImageIcon(piece));\r\n        chessBoardStatus[y][x] = piece;\r\n    }\r\n    \r\n    //Gets the piece at a specific position on the chess board\r\n    public Piece getIcon(int x, int y){\r\n        return chessBoardStatus[y][x];\r\n    }\r\n\r\n    //Marks a position on the chess board with a pink color\r\n    public void markPosition(int x, int y){\r\n        chessBoardSquares[y][x].setBackground(Color.pink);\r\n    }\r\n\r\n    //Unmarks a position on the chess board, reverting it to its original color\r\n    public void unmarkPosition(int x, int y){\r\n        if((y % 2 == 1 &amp;&amp; x % 2 == 1)|| (y % 2 == 0 &amp;&amp; x % 2 == 0)) chessBoardSquares[y][x].setBackground(Color.WHITE);\r\n        else chessBoardSquares[y][x].setBackground(Color.gray);\r\n    }\r\n\r\n    //Updates the status label with a given message\r\n    public void setStatus(String inpt){\r\n        message.setText(inpt);\r\n    }\r\n\r\n    //Initiates the chess board with the initial piece setup\r\n    public void initiateBoard(){\r\n        for(int i=0;i&lt;8;i++){\r\n            for(int j=0;j&lt;8;j++) setIcon(i, j, new Piece());\r\n        }\r\n        setIcon(0, 0, new Piece(PlayerColor.black, PieceType.rook));\r\n        setIcon(0, 1, new Piece(PlayerColor.black, PieceType.knight));\r\n        setIcon(0, 2, new Piece(PlayerColor.black, PieceType.bishop));\r\n        setIcon(0, 3, new Piece(PlayerColor.black, PieceType.queen));\r\n        setIcon(0, 4, new Piece(PlayerColor.black, PieceType.king));\r\n        setIcon(0, 5, new Piece(PlayerColor.black, PieceType.bishop));\r\n        setIcon(0, 6, new Piece(PlayerColor.black, PieceType.knight));\r\n        setIcon(0, 7, new Piece(PlayerColor.black, PieceType.rook));\r\n        for(int i=0;i&lt;8;i++){\r\n            setIcon(1, i, new Piece(PlayerColor.black, PieceType.pawn));\r\n            setIcon(6, i, new Piece(PlayerColor.white, PieceType.pawn));\r\n        }\r\n        setIcon(7, 0, new Piece(PlayerColor.white, PieceType.rook));\r\n        setIcon(7, 1, new Piece(PlayerColor.white, PieceType.knight));\r\n        setIcon(7, 2, new Piece(PlayerColor.white, PieceType.bishop));\r\n        setIcon(7, 3, new Piece(PlayerColor.white, PieceType.queen));\r\n        setIcon(7, 4, new Piece(PlayerColor.white, PieceType.king));\r\n        setIcon(7, 5, new Piece(PlayerColor.white, PieceType.bishop));\r\n        setIcon(7, 6, new Piece(PlayerColor.white, PieceType.knight));\r\n        setIcon(7, 7, new Piece(PlayerColor.white, PieceType.rook));\r\n        for(int i=0;i&lt;8;i++){\r\n            for(int j=0;j&lt;8;j++) unmarkPosition(i, j);\r\n        }\r\n        onInitiateBoard();\r\n    }\r\n```\r\n\r\n\r\nAnd here is the only section I should modify:\r\n\r\n\r\n\r\n    \r\n```\r\n    enum MagicType {MARK, CHECK, CHECKMATE};\r\n    private int selX, selY;\r\n    private boolean check, checkmate, end;\r\n    private int amountOfMoves = 0;\r\n\r\n    class ButtonListener implements ActionListener{\r\n        int x;\r\n        int y;\r\n        ButtonListener(int x, int y){\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        \r\n        //call when action is preformed\r\n        public void actionPerformed(ActionEvent e) {\t// Only modify here\r\n            // (x, y) is where the click event occured\r\n            \r\n            if(!end) {\r\n                if(isSelected()) {\r\n                    if(isValidMove(selX, selY, x, y)) {\r\n                        movePiece(selX, selY, x, y);\r\n\r\n                        check = isCheck();\r\n\r\n                        if(check == true) {\r\n                            checkmate = isCheckmate();\r\n                        }\r\n\r\n                        updateBoardUI();\r\n                        clearSelection();\r\n                    } else {\r\n                        setStatus(&quot;Invalid Move!&quot;);\r\n                    }\r\n                } else {\r\n                    setStatus(&quot;Game Over!&quot;);\r\n                }\r\n\r\n            } else {\r\n                setStatus(&quot;Game Over!&quot;);\r\n            }\r\n            \r\n        }\r\n\r\n        //is some piece selected on the board?\r\n        private boolean isSelected() {\r\n            return getIcon(selX,selY).color != PlayerColor.none; \r\n        }\r\n\r\n        //calculates if the move is valid or not\r\n        private boolean isValidMove(int startX, int startY, int endX, int endY) {\r\n            Piece piece = getIcon(startX, startY);\r\n            Piece targetPiece = getIcon(endX, endY);\r\n\r\n            if(!isValidBoardPosition(endX, endY)) {\r\n                setStatus(&quot;Invalid Board position!&quot;);\r\n                return false;\r\n            } else if(targetPiece.color == piece.color) {\r\n                setStatus(&quot;You cannot attack your own pieces!&quot;);\r\n                return false;\r\n            }\r\n\r\n            switch(piece.type) {\r\n                case king:\r\n                    return isValidKingMove(startX, startY, endX, endY);\r\n                case queen:\r\n                    return isValidQueenMove(startX, startY, endX, endY);\r\n                case bishop:\r\n                    return isValidBishopMove(startX, startY, endX, endY);\r\n                case knight:\r\n                    return isValidKnightMove(startX, startY, endX, endY);\r\n                case rook:\r\n                    return isValidRookMove(startX, startY, endX, endY);\r\n                case pawn:\r\n                    return isValidPawnMove(startX, startY, endX, endY);\r\n                default:\r\n                    return false;\r\n            }\r\n        }\r\n       \r\n        //moves selected piece to the give position\r\n        private void movePiece(int startX, int startY, int endX, int endY) {\r\n            Piece piece = getIcon(startX, startY);\r\n\r\n            setIcon(endX, endY, piece);\r\n            setIcon(startX, startY, new Piece());\r\n\r\n            amountOfMoves++; \r\n        }\r\n\r\n        // //checks if the clicked position is selectable\r\n        // private boolean isSelectable(int x, int y) {\r\n        //     Piece piece = getIcon(x, y);\r\n        //     return piece.color == getCurrentPlayerColor() &amp;&amp; piece.color != PlayerColor.none;\r\n        // }\r\n\r\n        //which color has its turn?\r\n        private PlayerColor getCurrentPlayerColor() {\r\n            if(amountOfMoves % 2 == 0 || amountOfMoves == 0) {\r\n                return PlayerColor.black;\r\n            } else {\r\n                return PlayerColor.white;\r\n            }\r\n        }\r\n\r\n        //checks if there is a check\r\n        private boolean isCheck() {\r\n            int kingX = -1, kingY = -1;\r\n\r\n            //get position of the king of current player \r\n            for (int i = 0; i &lt; 8; i++) {\r\n                for (int j = 0; j &lt; 8; j++) {\r\n                    if (getIcon(i, j).type == PieceType.king &amp;&amp; getIcon(i, j).color == getCurrentPlayerColor()) {\r\n                        kingX = i;\r\n                        kingY = j;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            //check if any of the opponents piece can attack the king \r\n            for (int i = 0; i &lt; 8; i++) {\r\n                for (int j = 0; j &lt; 8; j++) {\r\n                    Piece opponentPiece = getIcon(i, j);\r\n                    if (opponentPiece.color != getCurrentPlayerColor()) {\r\n                        if (isValidMove(i, j, kingX, kingY)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        //checks if there is a checkmate \r\n        private boolean isCheckmate() {\r\n            int kingX = -1, kingY = -1;\r\n            \r\n            //get position of the king of current player\r\n            for (int i = 0; i &lt; 8; i++) {\r\n                for (int j = 0; j &lt; 8; j++) {\r\n                    if (getIcon(i, j).type == PieceType.king &amp;&amp; getIcon(i, j).color == getCurrentPlayerColor()) {\r\n                        kingX = i;\r\n                        kingY = j;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            //\r\n            for (int i = kingX - 1; i &lt;= kingX + 1; i++) {\r\n                for (int j = kingY - 1; j &lt;= kingY + 1; j++) {\r\n                    if (isValidMove(kingX, kingY, i, j) &amp;&amp; !isCheck()) {\r\n                        return false; // The king can escape check\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        //clears marked pieces\r\n        private void clearSelection() {\r\n            unmarkPosition(selX, selY);\r\n            selX = -1;\r\n            selY = -1;\r\n        }\r\n\r\n        //checks if the marked position is a valid Board position \r\n        private boolean isValidBoardPosition(int positionX, int positionY) {\r\n            if(positionX &lt; 0 || positionX &gt; 7 || positionY &lt; 0 || positionY &gt; 7) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        //help function to determine if it is a valid Kind move\r\n        private boolean isValidKingMove(int startX, int startY, int endX, int endY) {\r\n            int diffX = Math.abs(endX - startX);\r\n            int diffY = Math.abs(endY - startY);\r\n\r\n            return (diffX &lt;= 1 &amp;&amp; diffY &lt;= 1);\r\n        }\r\n\r\n        //help function to determine if it is a valid Queen move\r\n        private boolean isValidQueenMove(int startX, int startY, int endX, int endY) {\r\n            return isValidRookMove(startX, startY, endX, endY) || isValidBishopMove(startX, startY, endX, endY);\r\n        }\r\n\r\n        //help function to determine if it is a valid Bishop move\r\n        private boolean isValidBishopMove(int startX, int startY, int endX, int endY) {\r\n            int diffX = Math.abs(endX - startX);\r\n            int diffY = Math.abs(endY - startY);\r\n            return (diffX == diffY);\r\n        }   \r\n\r\n        //help function to determine if it is a valid Knight move\r\n        private boolean isValidKnightMove(int startX, int startY, int endX, int endY) {\r\n            int diffX = Math.abs(endX - startX);\r\n            int diffY = Math.abs(endY - startY);\r\n\r\n            return ((diffX == 2 &amp;&amp; diffY == 1) || (diffX == 1 &amp;&amp; diffY == 2));\r\n        }\r\n\r\n        //help function to determine if it is a valid Rook move\r\n        private boolean isValidRookMove(int startX, int startY, int endX, int endY) {\r\n            return (startX == endX) || (startY == endY);\r\n        }   \r\n\r\n        //help function to determine if it is a valid Pawn move\r\n        private boolean isValidPawnMove(int startX, int startY, int endX, int endY) {\r\n            Piece pawn = getIcon(startX, startY);\r\n            int direction = (pawn.color == PlayerColor.white) ? -1 : 1;\r\n            int diffX = Math.abs(endX - startX);\r\n            int diffY = endY - startY;\r\n\r\n            //normal move\r\n            if (diffX == 0 &amp;&amp; diffY == direction &amp;&amp; getIcon(endX, endY).color == PlayerColor.none) {\r\n            return true;\r\n            }\r\n\r\n            //first move\r\n            if (diffX == 0 &amp;&amp; diffY == 2 * direction &amp;&amp; startY == (pawn.color == PlayerColor.white ? 1 : 6)\r\n                &amp;&amp; getIcon(endX, endY - direction).color == PlayerColor.none\r\n                &amp;&amp; getIcon(endX, endY).color == PlayerColor.none) {\r\n                \r\n                    return true;\r\n            }\r\n\r\n            //capture diagonally\r\n            if (diffX == 1 &amp;&amp; diffY == direction &amp;&amp; getIcon(endX, endY).color != PlayerColor.none) {\r\n                return true;\r\n            }\r\n    \r\n            //ToDo: pawn promotion??\r\n\r\n            return false;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    void onInitiateBoard(){\r\n        // Clear any previous selections\r\n        //clearSelection();\r\n\r\n        // Set up the initial chess board configuration\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                setIcon(i, j, new Piece());\r\n            }\r\n        }\r\n\r\n        // Set up the black pieces\r\n        setIcon(0, 0, new Piece(PlayerColor.black, PieceType.rook));\r\n        setIcon(0, 1, new Piece(PlayerColor.black, PieceType.knight));\r\n        setIcon(0, 2, new Piece(PlayerColor.black, PieceType.bishop));\r\n        setIcon(0, 3, new Piece(PlayerColor.black, PieceType.queen));\r\n        setIcon(0, 4, new Piece(PlayerColor.black, PieceType.king));\r\n        setIcon(0, 5, new Piece(PlayerColor.black, PieceType.bishop));\r\n        setIcon(0, 6, new Piece(PlayerColor.black, PieceType.knight));\r\n        setIcon(0, 7, new Piece(PlayerColor.black, PieceType.rook));\r\n    \r\n        for (int i = 0; i &lt; 8; i++) {\r\n            setIcon(1, i, new Piece(PlayerColor.black, PieceType.pawn));\r\n            setIcon(6, i, new Piece(PlayerColor.white, PieceType.pawn));\r\n        }\r\n\r\n        // Set up the white pieces\r\n        setIcon(7, 0, new Piece(PlayerColor.white, PieceType.rook));\r\n        setIcon(7, 1, new Piece(PlayerColor.white, PieceType.knight));\r\n        setIcon(7, 2, new Piece(PlayerColor.white, PieceType.bishop));\r\n        setIcon(7, 3, new Piece(PlayerColor.white, PieceType.queen));\r\n        setIcon(7, 4, new Piece(PlayerColor.white, PieceType.king));\r\n        setIcon(7, 5, new Piece(PlayerColor.white, PieceType.bishop));\r\n        setIcon(7, 6, new Piece(PlayerColor.white, PieceType.knight));\r\n        setIcon(7, 7, new Piece(PlayerColor.white, PieceType.rook));\r\n\r\n        // Unmark all positions on the board\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            for (int j = 0; j &lt; 8; j++) {\r\n                unmarkPosition(i, j);\r\n            }\r\n        }\r\n\r\n        // Additional setup if needed\r\n\r\n        // Update the UI\r\n        updateBoardUI();\r\n        \r\n        // Set the initial message\r\n        setStatus(&quot;Board reset. Start a new game!&quot;);\r\n\r\n    }\r\n//pieces on the board updated\r\nprivate void updateBoardUI() {\r\n    // Iterate through all board positions\r\n    for (int i = 0; i &lt; 8; i++) {\r\n        for (int j = 0; j &lt; 8; j++) {\r\n            // Get the piece at the current position\r\n            Piece piece = getIcon(j, i);\r\n\r\n            // Debug print\r\n            System.out.println(&quot;Piece at (&quot; + j + &quot;, &quot; + i + &quot;): &quot; + piece.color + &quot; &quot; + piece.type);\r\n\r\n            // Update the button icon with the corresponding piece image\r\n            chessBoardSquares[i][j].setIcon(getImageIcon(piece));\r\n\r\n            // Update the background color based on the piece color\r\n            if ((j % 2 == 1 &amp;&amp; i % 2 == 1) || (j % 2 == 0 &amp;&amp; i % 2 == 0)) {\r\n                chessBoardSquares[i][j].setBackground(Color.WHITE);\r\n            } else {\r\n                chessBoardSquares[i][j].setBackground(Color.gray);\r\n            }\r\n        }\r\n    }\r\n}\r\n}\r\n```\r\n","title":"Pieces on Chess Game GUI are not visible, in Java Swing","body":"<p>Currently I am working on a java project whereas I implement chess game rules to an existing skeleton code which provides me the chess game board and the main function. As you can see in my following code, there are two sections of it. One which is already implemented and should not be modified and another section where I should implement two functions. <code>actionPerformed</code> is a callback function that occurs when coordinates (x, y) are clicked. <code>onInitiateBoard</code> is a callback function that occurs after the Reset button is clicked. My problem here is that when I run the code literally no pieces on the chess board appears. I am a beginner in java and I am stuck with this problem for a while. Also there should be no problem importing the .img files because I saved them in the right filepath which is in the same level as the src file where my java class is. Thanks for everyone in advance and I would appreciate if someone gives me some advices how to approach such problems if I get them next time.</p>\n<p>Edit: The GUI I am using is swing.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport javax.swing.*;\nimport javax.swing.border.*;\n//======================================================Don't modify below===============================================================//\nenum PieceType {king, queen, bishop, knight, rook, pawn, none}\nenum PlayerColor {black, white, none}\n\npublic class ChessBoard {\n    private final JPanel gui = new JPanel(new BorderLayout(3, 3));\n    private JPanel chessBoard;\n    private JButton[][] chessBoardSquares = new JButton[8][8];\n    private Piece[][] chessBoardStatus = new Piece[8][8];\n    private ImageIcon[] pieceImage_b = new ImageIcon[7];\n    private ImageIcon[] pieceImage_w = new ImageIcon[7];\n    private JLabel message = new JLabel(&quot;Enter Reset to Start&quot;);\n\n    ChessBoard(){\n        initPieceImages();\n        initBoardStatus();\n        initializeGui();\n        initiateBoard();\n    }\n\n    public final void initBoardStatus(){\n        for(int i=0;i&lt;8;i++){\n            for(int j=0;j&lt;8;j++) chessBoardStatus[j][i] = new Piece();\n        }\n    }\n\n    public final void initPieceImages(){\n        pieceImage_b[0] = new ImageIcon(new ImageIcon(&quot;./img/king_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_b[1] = new ImageIcon(new ImageIcon(&quot;./img/queen_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_b[2] = new ImageIcon(new ImageIcon(&quot;./img/bishop_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_b[3] = new ImageIcon(new ImageIcon(&quot;./img/knight_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_b[4] = new ImageIcon(new ImageIcon(&quot;./img/rook_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_b[5] = new ImageIcon(new ImageIcon(&quot;./img/pawn_b.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_b[6] = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\n\n        pieceImage_w[0] = new ImageIcon(new ImageIcon(&quot;./img/king_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_w[1] = new ImageIcon(new ImageIcon(&quot;./img/queen_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_w[2] = new ImageIcon(new ImageIcon(&quot;./img/bishop_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_w[3] = new ImageIcon(new ImageIcon(&quot;./img/knight_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_w[4] = new ImageIcon(new ImageIcon(&quot;./img/rook_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_w[5] = new ImageIcon(new ImageIcon(&quot;./img/pawn_w.png&quot;).getImage().getScaledInstance(64, 64, java.awt.Image.SCALE_SMOOTH));\n        pieceImage_w[6] = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\n    }\n\n    public ImageIcon getImageIcon(Piece piece){\n        if(piece.color.equals(PlayerColor.black)){\n            if(piece.type.equals(PieceType.king)) return pieceImage_b[0];\n            else if(piece.type.equals(PieceType.queen)) return pieceImage_b[1];\n            else if(piece.type.equals(PieceType.bishop)) return pieceImage_b[2];\n            else if(piece.type.equals(PieceType.knight)) return pieceImage_b[3];\n            else if(piece.type.equals(PieceType.rook)) return pieceImage_b[4];\n            else if(piece.type.equals(PieceType.pawn)) return pieceImage_b[5];\n            else return pieceImage_b[6];\n        }\n        else if(piece.color.equals(PlayerColor.white)){\n            if(piece.type.equals(PieceType.king)) return pieceImage_w[0];\n            else if(piece.type.equals(PieceType.queen)) return pieceImage_w[1];\n            else if(piece.type.equals(PieceType.bishop)) return pieceImage_w[2];\n            else if(piece.type.equals(PieceType.knight)) return pieceImage_w[3];\n            else if(piece.type.equals(PieceType.rook)) return pieceImage_w[4];\n            else if(piece.type.equals(PieceType.pawn)) return pieceImage_w[5];\n            else return pieceImage_w[6];\n        }\n        else return pieceImage_w[6];\n    }\n\n    public final void initializeGui(){\n        gui.setBorder(new EmptyBorder(5, 5, 5, 5));\n        JToolBar tools = new JToolBar();\n        tools.setFloatable(false);\n        gui.add(tools, BorderLayout.PAGE_START);\n        JButton startButton = new JButton(&quot;Reset&quot;);\n        startButton.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent e){\n                initiateBoard();\n            }\n        });\n\n        tools.add(startButton);\n        tools.addSeparator();\n        tools.add(message);\n\n        chessBoard = new JPanel(new GridLayout(0, 8));\n        chessBoard.setBorder(new LineBorder(Color.BLACK));\n        gui.add(chessBoard);\n        ImageIcon defaultIcon = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\n        Insets buttonMargin = new Insets(0,0,0,0);\n        for(int i=0; i&lt;chessBoardSquares.length; i++) {\n            for (int j = 0; j &lt; chessBoardSquares[i].length; j++) {\n                JButton b = new JButton();\n                b.addActionListener(new ButtonListener(i, j));\n                b.setMargin(buttonMargin);\n                b.setIcon(defaultIcon);\n                if((j % 2 == 1 &amp;&amp; i % 2 == 1)|| (j % 2 == 0 &amp;&amp; i % 2 == 0)) b.setBackground(Color.WHITE);\n                else b.setBackground(Color.gray);\n                b.setOpaque(true);\n                b.setBorderPainted(false);\n                chessBoardSquares[j][i] = b;\n            }\n        }\n\n        for (int i=0; i &lt; 8; i++) {\n            for (int j=0; j &lt; 8; j++) chessBoard.add(chessBoardSquares[j][i]);\n\n        }\n    }\n\n    public final JComponent getGui() {\n        return gui;\n    }\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n            @Override\n            public void run() {\n                ChessBoard cb = new ChessBoard();\n                JFrame f = new JFrame(&quot;Chess&quot;);\n                f.add(cb.getGui());\n                f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                f.setLocationByPlatform(true);\n                f.setResizable(false);\n                f.pack();\n                f.setMinimumSize(f.getSize());\n                f.setVisible(true);\n            }\n        };\n        SwingUtilities.invokeLater(r);\n    }\n</code></pre>\n<p>These are the functions I can use:</p>\n<pre><code>    class Piece{\n        PlayerColor color;\n        PieceType type;\n\n        Piece(){\n            color = PlayerColor.none;\n            type = PieceType.none;\n        }\n        Piece(PlayerColor color, PieceType type){\n            this.color = color;\n            this.type = type;\n        }\n    }\n\n    //Sets the icon on the chess board and updates the board status\n    public void setIcon(int x, int y, Piece piece){\n        chessBoardSquares[y][x].setIcon(getImageIcon(piece));\n        chessBoardStatus[y][x] = piece;\n    }\n    \n    //Gets the piece at a specific position on the chess board\n    public Piece getIcon(int x, int y){\n        return chessBoardStatus[y][x];\n    }\n\n    //Marks a position on the chess board with a pink color\n    public void markPosition(int x, int y){\n        chessBoardSquares[y][x].setBackground(Color.pink);\n    }\n\n    //Unmarks a position on the chess board, reverting it to its original color\n    public void unmarkPosition(int x, int y){\n        if((y % 2 == 1 &amp;&amp; x % 2 == 1)|| (y % 2 == 0 &amp;&amp; x % 2 == 0)) chessBoardSquares[y][x].setBackground(Color.WHITE);\n        else chessBoardSquares[y][x].setBackground(Color.gray);\n    }\n\n    //Updates the status label with a given message\n    public void setStatus(String inpt){\n        message.setText(inpt);\n    }\n\n    //Initiates the chess board with the initial piece setup\n    public void initiateBoard(){\n        for(int i=0;i&lt;8;i++){\n            for(int j=0;j&lt;8;j++) setIcon(i, j, new Piece());\n        }\n        setIcon(0, 0, new Piece(PlayerColor.black, PieceType.rook));\n        setIcon(0, 1, new Piece(PlayerColor.black, PieceType.knight));\n        setIcon(0, 2, new Piece(PlayerColor.black, PieceType.bishop));\n        setIcon(0, 3, new Piece(PlayerColor.black, PieceType.queen));\n        setIcon(0, 4, new Piece(PlayerColor.black, PieceType.king));\n        setIcon(0, 5, new Piece(PlayerColor.black, PieceType.bishop));\n        setIcon(0, 6, new Piece(PlayerColor.black, PieceType.knight));\n        setIcon(0, 7, new Piece(PlayerColor.black, PieceType.rook));\n        for(int i=0;i&lt;8;i++){\n            setIcon(1, i, new Piece(PlayerColor.black, PieceType.pawn));\n            setIcon(6, i, new Piece(PlayerColor.white, PieceType.pawn));\n        }\n        setIcon(7, 0, new Piece(PlayerColor.white, PieceType.rook));\n        setIcon(7, 1, new Piece(PlayerColor.white, PieceType.knight));\n        setIcon(7, 2, new Piece(PlayerColor.white, PieceType.bishop));\n        setIcon(7, 3, new Piece(PlayerColor.white, PieceType.queen));\n        setIcon(7, 4, new Piece(PlayerColor.white, PieceType.king));\n        setIcon(7, 5, new Piece(PlayerColor.white, PieceType.bishop));\n        setIcon(7, 6, new Piece(PlayerColor.white, PieceType.knight));\n        setIcon(7, 7, new Piece(PlayerColor.white, PieceType.rook));\n        for(int i=0;i&lt;8;i++){\n            for(int j=0;j&lt;8;j++) unmarkPosition(i, j);\n        }\n        onInitiateBoard();\n    }\n</code></pre>\n<p>And here is the only section I should modify:</p>\n<pre><code>    enum MagicType {MARK, CHECK, CHECKMATE};\n    private int selX, selY;\n    private boolean check, checkmate, end;\n    private int amountOfMoves = 0;\n\n    class ButtonListener implements ActionListener{\n        int x;\n        int y;\n        ButtonListener(int x, int y){\n            this.x = x;\n            this.y = y;\n        }\n        \n        //call when action is preformed\n        public void actionPerformed(ActionEvent e) {    // Only modify here\n            // (x, y) is where the click event occured\n            \n            if(!end) {\n                if(isSelected()) {\n                    if(isValidMove(selX, selY, x, y)) {\n                        movePiece(selX, selY, x, y);\n\n                        check = isCheck();\n\n                        if(check == true) {\n                            checkmate = isCheckmate();\n                        }\n\n                        updateBoardUI();\n                        clearSelection();\n                    } else {\n                        setStatus(&quot;Invalid Move!&quot;);\n                    }\n                } else {\n                    setStatus(&quot;Game Over!&quot;);\n                }\n\n            } else {\n                setStatus(&quot;Game Over!&quot;);\n            }\n            \n        }\n\n        //is some piece selected on the board?\n        private boolean isSelected() {\n            return getIcon(selX,selY).color != PlayerColor.none; \n        }\n\n        //calculates if the move is valid or not\n        private boolean isValidMove(int startX, int startY, int endX, int endY) {\n            Piece piece = getIcon(startX, startY);\n            Piece targetPiece = getIcon(endX, endY);\n\n            if(!isValidBoardPosition(endX, endY)) {\n                setStatus(&quot;Invalid Board position!&quot;);\n                return false;\n            } else if(targetPiece.color == piece.color) {\n                setStatus(&quot;You cannot attack your own pieces!&quot;);\n                return false;\n            }\n\n            switch(piece.type) {\n                case king:\n                    return isValidKingMove(startX, startY, endX, endY);\n                case queen:\n                    return isValidQueenMove(startX, startY, endX, endY);\n                case bishop:\n                    return isValidBishopMove(startX, startY, endX, endY);\n                case knight:\n                    return isValidKnightMove(startX, startY, endX, endY);\n                case rook:\n                    return isValidRookMove(startX, startY, endX, endY);\n                case pawn:\n                    return isValidPawnMove(startX, startY, endX, endY);\n                default:\n                    return false;\n            }\n        }\n       \n        //moves selected piece to the give position\n        private void movePiece(int startX, int startY, int endX, int endY) {\n            Piece piece = getIcon(startX, startY);\n\n            setIcon(endX, endY, piece);\n            setIcon(startX, startY, new Piece());\n\n            amountOfMoves++; \n        }\n\n        // //checks if the clicked position is selectable\n        // private boolean isSelectable(int x, int y) {\n        //     Piece piece = getIcon(x, y);\n        //     return piece.color == getCurrentPlayerColor() &amp;&amp; piece.color != PlayerColor.none;\n        // }\n\n        //which color has its turn?\n        private PlayerColor getCurrentPlayerColor() {\n            if(amountOfMoves % 2 == 0 || amountOfMoves == 0) {\n                return PlayerColor.black;\n            } else {\n                return PlayerColor.white;\n            }\n        }\n\n        //checks if there is a check\n        private boolean isCheck() {\n            int kingX = -1, kingY = -1;\n\n            //get position of the king of current player \n            for (int i = 0; i &lt; 8; i++) {\n                for (int j = 0; j &lt; 8; j++) {\n                    if (getIcon(i, j).type == PieceType.king &amp;&amp; getIcon(i, j).color == getCurrentPlayerColor()) {\n                        kingX = i;\n                        kingY = j;\n                        break;\n                    }\n                }\n            }\n            \n            //check if any of the opponents piece can attack the king \n            for (int i = 0; i &lt; 8; i++) {\n                for (int j = 0; j &lt; 8; j++) {\n                    Piece opponentPiece = getIcon(i, j);\n                    if (opponentPiece.color != getCurrentPlayerColor()) {\n                        if (isValidMove(i, j, kingX, kingY)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n\n            return false;\n        }\n\n        //checks if there is a checkmate \n        private boolean isCheckmate() {\n            int kingX = -1, kingY = -1;\n            \n            //get position of the king of current player\n            for (int i = 0; i &lt; 8; i++) {\n                for (int j = 0; j &lt; 8; j++) {\n                    if (getIcon(i, j).type == PieceType.king &amp;&amp; getIcon(i, j).color == getCurrentPlayerColor()) {\n                        kingX = i;\n                        kingY = j;\n                        break;\n                    }\n                }\n            }\n\n            //\n            for (int i = kingX - 1; i &lt;= kingX + 1; i++) {\n                for (int j = kingY - 1; j &lt;= kingY + 1; j++) {\n                    if (isValidMove(kingX, kingY, i, j) &amp;&amp; !isCheck()) {\n                        return false; // The king can escape check\n                    }\n                }\n            }\n\n            return true;\n        }\n\n        //clears marked pieces\n        private void clearSelection() {\n            unmarkPosition(selX, selY);\n            selX = -1;\n            selY = -1;\n        }\n\n        //checks if the marked position is a valid Board position \n        private boolean isValidBoardPosition(int positionX, int positionY) {\n            if(positionX &lt; 0 || positionX &gt; 7 || positionY &lt; 0 || positionY &gt; 7) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n\n        //help function to determine if it is a valid Kind move\n        private boolean isValidKingMove(int startX, int startY, int endX, int endY) {\n            int diffX = Math.abs(endX - startX);\n            int diffY = Math.abs(endY - startY);\n\n            return (diffX &lt;= 1 &amp;&amp; diffY &lt;= 1);\n        }\n\n        //help function to determine if it is a valid Queen move\n        private boolean isValidQueenMove(int startX, int startY, int endX, int endY) {\n            return isValidRookMove(startX, startY, endX, endY) || isValidBishopMove(startX, startY, endX, endY);\n        }\n\n        //help function to determine if it is a valid Bishop move\n        private boolean isValidBishopMove(int startX, int startY, int endX, int endY) {\n            int diffX = Math.abs(endX - startX);\n            int diffY = Math.abs(endY - startY);\n            return (diffX == diffY);\n        }   \n\n        //help function to determine if it is a valid Knight move\n        private boolean isValidKnightMove(int startX, int startY, int endX, int endY) {\n            int diffX = Math.abs(endX - startX);\n            int diffY = Math.abs(endY - startY);\n\n            return ((diffX == 2 &amp;&amp; diffY == 1) || (diffX == 1 &amp;&amp; diffY == 2));\n        }\n\n        //help function to determine if it is a valid Rook move\n        private boolean isValidRookMove(int startX, int startY, int endX, int endY) {\n            return (startX == endX) || (startY == endY);\n        }   \n\n        //help function to determine if it is a valid Pawn move\n        private boolean isValidPawnMove(int startX, int startY, int endX, int endY) {\n            Piece pawn = getIcon(startX, startY);\n            int direction = (pawn.color == PlayerColor.white) ? -1 : 1;\n            int diffX = Math.abs(endX - startX);\n            int diffY = endY - startY;\n\n            //normal move\n            if (diffX == 0 &amp;&amp; diffY == direction &amp;&amp; getIcon(endX, endY).color == PlayerColor.none) {\n            return true;\n            }\n\n            //first move\n            if (diffX == 0 &amp;&amp; diffY == 2 * direction &amp;&amp; startY == (pawn.color == PlayerColor.white ? 1 : 6)\n                &amp;&amp; getIcon(endX, endY - direction).color == PlayerColor.none\n                &amp;&amp; getIcon(endX, endY).color == PlayerColor.none) {\n                \n                    return true;\n            }\n\n            //capture diagonally\n            if (diffX == 1 &amp;&amp; diffY == direction &amp;&amp; getIcon(endX, endY).color != PlayerColor.none) {\n                return true;\n            }\n    \n            //ToDo: pawn promotion??\n\n            return false;\n        }\n\n\n    }\n\n    void onInitiateBoard(){\n        // Clear any previous selections\n        //clearSelection();\n\n        // Set up the initial chess board configuration\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                setIcon(i, j, new Piece());\n            }\n        }\n\n        // Set up the black pieces\n        setIcon(0, 0, new Piece(PlayerColor.black, PieceType.rook));\n        setIcon(0, 1, new Piece(PlayerColor.black, PieceType.knight));\n        setIcon(0, 2, new Piece(PlayerColor.black, PieceType.bishop));\n        setIcon(0, 3, new Piece(PlayerColor.black, PieceType.queen));\n        setIcon(0, 4, new Piece(PlayerColor.black, PieceType.king));\n        setIcon(0, 5, new Piece(PlayerColor.black, PieceType.bishop));\n        setIcon(0, 6, new Piece(PlayerColor.black, PieceType.knight));\n        setIcon(0, 7, new Piece(PlayerColor.black, PieceType.rook));\n    \n        for (int i = 0; i &lt; 8; i++) {\n            setIcon(1, i, new Piece(PlayerColor.black, PieceType.pawn));\n            setIcon(6, i, new Piece(PlayerColor.white, PieceType.pawn));\n        }\n\n        // Set up the white pieces\n        setIcon(7, 0, new Piece(PlayerColor.white, PieceType.rook));\n        setIcon(7, 1, new Piece(PlayerColor.white, PieceType.knight));\n        setIcon(7, 2, new Piece(PlayerColor.white, PieceType.bishop));\n        setIcon(7, 3, new Piece(PlayerColor.white, PieceType.queen));\n        setIcon(7, 4, new Piece(PlayerColor.white, PieceType.king));\n        setIcon(7, 5, new Piece(PlayerColor.white, PieceType.bishop));\n        setIcon(7, 6, new Piece(PlayerColor.white, PieceType.knight));\n        setIcon(7, 7, new Piece(PlayerColor.white, PieceType.rook));\n\n        // Unmark all positions on the board\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                unmarkPosition(i, j);\n            }\n        }\n\n        // Additional setup if needed\n\n        // Update the UI\n        updateBoardUI();\n        \n        // Set the initial message\n        setStatus(&quot;Board reset. Start a new game!&quot;);\n\n    }\n//pieces on the board updated\nprivate void updateBoardUI() {\n    // Iterate through all board positions\n    for (int i = 0; i &lt; 8; i++) {\n        for (int j = 0; j &lt; 8; j++) {\n            // Get the piece at the current position\n            Piece piece = getIcon(j, i);\n\n            // Debug print\n            System.out.println(&quot;Piece at (&quot; + j + &quot;, &quot; + i + &quot;): &quot; + piece.color + &quot; &quot; + piece.type);\n\n            // Update the button icon with the corresponding piece image\n            chessBoardSquares[i][j].setIcon(getImageIcon(piece));\n\n            // Update the background color based on the piece color\n            if ((j % 2 == 1 &amp;&amp; i % 2 == 1) || (j % 2 == 0 &amp;&amp; i % 2 == 0)) {\n                chessBoardSquares[i][j].setBackground(Color.WHITE);\n            } else {\n                chessBoardSquares[i][j].setBackground(Color.gray);\n            }\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1702022946,"post_id":77625143,"comment_id":136849195,"body_markdown":"With the `break;` statement, you only exit the *current* control statement, here: the inner loop. If you also wanted to exit the outer loop from within the inner loop, you&#39;d have to write `outerLoopTag: while (play ==true)` and inside the inner loop instead of `break;` put a `break outerLoopTag;`. OR, you could simply set `play=false;` before you do a `break;`, that would fix the problem too.","body":"With the <code>break;</code> statement, you only exit the <i>current</i> control statement, here: the inner loop. If you also wanted to exit the outer loop from within the inner loop, you&#39;d have to write <code>outerLoopTag: while (play ==true)</code> and inside the inner loop instead of <code>break;</code> put a <code>break outerLoopTag;</code>. OR, you could simply set <code>play=false;</code> before you do a <code>break;</code>, that would fix the problem too."},{"owner":{"account_id":19080042,"reputation":77,"user_id":13932449,"display_name":"chagatai"},"score":0,"creation_date":1702023726,"post_id":77625143,"comment_id":136849315,"body_markdown":"You don&#39;t need 2 nested loops. You can simply remove the do-while loop, and check if user&#39;s guess is greater or less than the random char inside of the while loop. Also end the while loop when the user makes a correct guess by simply setting `play` to `false`.","body":"You don&#39;t need 2 nested loops. You can simply remove the do-while loop, and check if user&#39;s guess is greater or less than the random char inside of the while loop. Also end the while loop when the user makes a correct guess by simply setting <code>play</code> to <code>false</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1702037095,"post_id":77625143,"comment_id":136851439,"body_markdown":"almost same as your previous [question](https://stackoverflow.com/q/77625051/85421) - apparently you ignored my comment(s) :-/","body":"almost same as your previous <a href=\"https://stackoverflow.com/q/77625051/85421\">question</a> - apparently you ignored my comment(s) :-/"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1702044462,"post_id":77625143,"comment_id":136852608,"body_markdown":"Please don&#39;t spam questions. Try to do your homework by yourself instead of going straight to SO every time you encounter the next problem.","body":"Please don&#39;t spam questions. Try to do your homework by yourself instead of going straight to SO every time you encounter the next problem."}],"answers":[{"tags":[],"owner":{"account_id":4046065,"reputation":305,"user_id":3327270,"accept_rate":75,"display_name":"Gandora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702023238,"creation_date":1702023238,"answer_id":77625198,"question_id":77625143,"body_markdown":"\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        Scanner scan = new Scanner (System.in);\r\n        Random rnd = new Random();\r\n    \r\n        boolean play = true;\r\n        int correctGue = 0;\r\n    \r\n        char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));\r\n        while (play ==true)\r\n        {\r\n            System.out.println(randChar);\r\n            System.out.println(&quot;I generated a random letter. Enter your     guess:&quot;);\r\n            char guess = scan.next().charAt(0);\r\n            do\r\n            {\r\n                if((int)guess &lt; (int)randChar)\r\n                {\r\n                    System.out.println(&quot;The letter is later in the alphabet&quot;);  \r\n                    break;\r\n                }\r\n                else if((int)guess &gt; (int)randChar)\r\n                {\r\n                    System.out.println(&quot;The letter is earlier in the alphabet&quot;);\r\n                    break;\r\n                } \r\n                else {\r\n                     // You need to stop the outer loop, too.\r\n                     play = false;\r\n                     break; // the break is technically not necessary because if you&#39;re here then the guess == randChar\r\n                }            \r\n            } while (guess != randChar);\r\n        } \r\n    }\r\n\r\nI think you simply forgot to make sure that you also exit the `while(play == true)` loop.","title":"&quot;Do while&quot; loop condition JAVA","body":"<pre><code>public static void main(String[] args) {\n\n    Scanner scan = new Scanner (System.in);\n    Random rnd = new Random();\n\n    boolean play = true;\n    int correctGue = 0;\n\n    char randChar = (char) ('a' + rnd.nextInt(26));\n    while (play ==true)\n    {\n        System.out.println(randChar);\n        System.out.println(&quot;I generated a random letter. Enter your     guess:&quot;);\n        char guess = scan.next().charAt(0);\n        do\n        {\n            if((int)guess &lt; (int)randChar)\n            {\n                System.out.println(&quot;The letter is later in the alphabet&quot;);  \n                break;\n            }\n            else if((int)guess &gt; (int)randChar)\n            {\n                System.out.println(&quot;The letter is earlier in the alphabet&quot;);\n                break;\n            } \n            else {\n                 // You need to stop the outer loop, too.\n                 play = false;\n                 break; // the break is technically not necessary because if you're here then the guess == randChar\n            }            \n        } while (guess != randChar);\n    } \n}\n</code></pre>\n<p>I think you simply forgot to make sure that you also exit the <code>while(play == true)</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702024387,"creation_date":1702024387,"answer_id":77625291,"question_id":77625143,"body_markdown":"I fixed the code in the way I assume you wanted it to work. In there I show how you can exit outer loop from inside inner loops (mine is tagged `outerLoopTag:` in this case).\r\n\r\nI also cleaned the code a bit to prevent crashing on invalid/empty data, and use a try-resource-catch on the `Scanner` to properly and easily clean that up too.\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class GuessRandomNumber {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal Random rnd = new Random();\r\n    \t\ttry (final Scanner scan = new Scanner(System.in);) {\r\n    \t\t\touterLoopTag: while (true) {\r\n    \r\n    \t\t\t\tfinal char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tSystem.out.println(randChar);\r\n    \t\t\t\t\tSystem.out.print(&quot;I generated a random letter. Enter your guess (enter . to exit): &quot;);\r\n    \t\t\t\t\tfinal String line = scan.next();\r\n    \t\t\t\t\tif (line == null || line.trim().length() &lt; 1) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Invalid input, please retry!&quot;);\r\n    \t\t\t\t\t\tcontinue; // repeat inner loop\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tSystem.out.println(&quot;You entered &#39;&quot; + line + &quot;&#39;&quot;);\r\n    \r\n    \t\t\t\t\tfinal char guess = line.charAt(0);\r\n    \t\t\t\t\tif (guess == &#39;.&#39;) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Game aborted, you entered &#39;.&#39;&quot;);\r\n    \t\t\t\t\t\tbreak outerLoopTag;\r\n    \r\n    \t\t\t\t\t} else if (guess == randChar) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;You guessed the corret letter: &quot; + guess + &quot; and &quot; + randChar);\r\n    \t\t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\t\t} else if (guess &lt; randChar) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;The letter is later in the alphabet&quot;);\r\n    \t\t\t\t\t\tcontinue;\r\n    \r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;The letter is earlier in the alphabet&quot;);\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"&quot;Do while&quot; loop condition JAVA","body":"<p>I fixed the code in the way I assume you wanted it to work. In there I show how you can exit outer loop from inside inner loops (mine is tagged <code>outerLoopTag:</code> in this case).</p>\n<p>I also cleaned the code a bit to prevent crashing on invalid/empty data, and use a try-resource-catch on the <code>Scanner</code> to properly and easily clean that up too.</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class GuessRandomNumber {\n\n    public static void main(final String[] args) {\n        final Random rnd = new Random();\n        try (final Scanner scan = new Scanner(System.in);) {\n            outerLoopTag: while (true) {\n\n                final char randChar = (char) ('a' + rnd.nextInt(26));\n                while (true) {\n                    System.out.println(randChar);\n                    System.out.print(&quot;I generated a random letter. Enter your guess (enter . to exit): &quot;);\n                    final String line = scan.next();\n                    if (line == null || line.trim().length() &lt; 1) {\n                        System.out.println(&quot;Invalid input, please retry!&quot;);\n                        continue; // repeat inner loop\n                    }\n\n                    System.out.println(&quot;You entered '&quot; + line + &quot;'&quot;);\n\n                    final char guess = line.charAt(0);\n                    if (guess == '.') {\n                        System.out.println(&quot;Game aborted, you entered '.'&quot;);\n                        break outerLoopTag;\n\n                    } else if (guess == randChar) {\n                        System.out.println(&quot;You guessed the corret letter: &quot; + guess + &quot; and &quot; + randChar);\n                        break;\n\n                    } else if (guess &lt; randChar) {\n                        System.out.println(&quot;The letter is later in the alphabet&quot;);\n                        continue;\n\n                    } else {\n                        System.out.println(&quot;The letter is earlier in the alphabet&quot;);\n                        continue;\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19945034,"reputation":15,"user_id":14615914,"display_name":"creativethoughts"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1702151790,"accepted_answer_id":77625291,"answer_count":2,"score":-4,"last_activity_date":1702024387,"creation_date":1702022697,"question_id":77625143,"body_markdown":"    public static void main(String[] args) {\r\n        \r\n        Scanner scan = new Scanner (System.in);\r\n        Random rnd = new Random();\r\n        \r\n        boolean play = true;\r\n        int correctGue = 0;\r\n        \r\n        char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));\r\n        while (play ==true)\r\n        {\r\n            System.out.println(randChar);\r\n            System.out.println(&quot;I generated a random letter. Enter your guess:&quot;);\r\n            char guess = scan.next().charAt(0);\r\n            do\r\n            {\r\n                if((int)guess &lt; (int)randChar)\r\n                    {\r\n                        System.out.println(&quot;The letter is later in the alphabet&quot;);  \r\n                        break;\r\n                    }\r\n                else if((int)guess &gt; (int)randChar)\r\n                    {\r\n                        System.out.println(&quot;The letter is earlier in the alphabet&quot;);\r\n                        break;\r\n                    }\r\n                    \r\n            }while (guess != randChar);\r\n        }\r\n            \r\n        \r\n        \r\n    }\r\n\r\nThe problem im facing is the loops keeps on going when the user guesses the correct letter generated in `char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));`, despite having the condition for loop to keep going as long as he/she get it incorrect `while (guess != randChar);` I would appreciate any help!","title":"&quot;Do while&quot; loop condition JAVA","body":"<pre><code>public static void main(String[] args) {\n    \n    Scanner scan = new Scanner (System.in);\n    Random rnd = new Random();\n    \n    boolean play = true;\n    int correctGue = 0;\n    \n    char randChar = (char) ('a' + rnd.nextInt(26));\n    while (play ==true)\n    {\n        System.out.println(randChar);\n        System.out.println(&quot;I generated a random letter. Enter your guess:&quot;);\n        char guess = scan.next().charAt(0);\n        do\n        {\n            if((int)guess &lt; (int)randChar)\n                {\n                    System.out.println(&quot;The letter is later in the alphabet&quot;);  \n                    break;\n                }\n            else if((int)guess &gt; (int)randChar)\n                {\n                    System.out.println(&quot;The letter is earlier in the alphabet&quot;);\n                    break;\n                }\n                \n        }while (guess != randChar);\n    }\n        \n    \n    \n}\n</code></pre>\n<p>The problem im facing is the loops keeps on going when the user guesses the correct letter generated in <code>char randChar = (char) ('a' + rnd.nextInt(26));</code>, despite having the condition for loop to keep going as long as he/she get it incorrect <code>while (guess != randChar);</code> I would appreciate any help!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":33874,"reputation":1543,"user_id":95186,"accept_rate":83,"display_name":"Eric Rosenberg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1321714293,"creation_date":1321714293,"answer_id":8194801,"question_id":8194676,"body_markdown":"A java.util.Date doesn&#39;t have a format. The format only comes into play when you parse a String as a Date or format a Date for display. Internally the date is just a long.\r\n\r\nTo format an instance of a Date object as a String you can use the SimpleDateFormat class in java.text\r\n\r\n    formatter = new SimpleDateFormatter(&quot;dd.mm.yyyy&quot;);\r\n    String formattedDate = formatter.format(new Date());","title":"Java Date localization","body":"<p>A java.util.Date doesn't have a format. The format only comes into play when you parse a String as a Date or format a Date for display. Internally the date is just a long.</p>\n\n<p>To format an instance of a Date object as a String you can use the SimpleDateFormat class in java.text</p>\n\n<pre><code>formatter = new SimpleDateFormatter(\"dd.mm.yyyy\");\nString formattedDate = formatter.format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951663,"reputation":12014,"user_id":977676,"display_name":"COD3BOY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321717434,"creation_date":1321714542,"answer_id":8194820,"question_id":8194676,"body_markdown":"[SimpleDateFormat][1]  is a concrete class for formatting and parsing dates in a locale-sensitive manner.\r\n\r\n\r\n\r\nSomething like this would serve your case,\r\n\r\n    Date today;\r\n    String output;\r\n    SimpleDateFormat formatter;\r\n    \r\n    formatter = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n    today = new Date();\r\n    output = formatter.format(today);\r\n    System.out.println(output);\r\n\r\nSee this for more help : [Customizing Formats][2]\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html\r\n","title":"Java Date localization","body":"<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>  is a concrete class for formatting and parsing dates in a locale-sensitive manner.</p>\n\n<p>Something like this would serve your case,</p>\n\n<pre><code>Date today;\nString output;\nSimpleDateFormat formatter;\n\nformatter = new SimpleDateFormat(\"dd.MM.yyyy\");\ntoday = new Date();\noutput = formatter.format(today);\nSystem.out.println(output);\n</code></pre>\n\n<p>See this for more help : <a href=\"http://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html\" rel=\"nofollow\">Customizing Formats</a></p>\n"},{"tags":[],"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321717879,"creation_date":1321717879,"answer_id":8195168,"question_id":8194676,"body_markdown":"As mentioned by [Eric][1], `java.util.Date` does not have a format. If your Web Service returning a Date as a Date object, then the WS client should convert it to its desired format. In your case it is `dd.mm.yyyy`. Simple and best utility is `SimpleDateFormat` that formats a `Date` to the desired pattern and returns a `String`. You can&#39;t deny a String here because you need a formatted date object.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/95186/eric-rosenberg","title":"Java Date localization","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/users/95186/eric-rosenberg\">Eric</a>, <code>java.util.Date</code> does not have a format. If your Web Service returning a Date as a Date object, then the WS client should convert it to its desired format. In your case it is <code>dd.mm.yyyy</code>. Simple and best utility is <code>SimpleDateFormat</code> that formats a <code>Date</code> to the desired pattern and returns a <code>String</code>. You can't deny a String here because you need a formatted date object.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702024195,"creation_date":1702024195,"answer_id":77625276,"question_id":8194676,"body_markdown":"The modern solution uses *java.time*. \r\n\r\n## Avoid legacy date-time classes\r\n\r\nYou are using terribly flawed classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. You will find *java.time* built into Java 8+. \r\n\r\n## `LocalDate`\r\n\r\nTo represent a date-only value, without a time-of-day, and without a time zone or offset, use the `java.time.LocalDate` class.\r\n\r\n    LocalDate ld = LocalDate.of( 2024 , Month.JANUARY , 23 ) ;\r\n\r\n&gt; the German format\r\n\r\nTo generate text in a localized format, use `DateTimeFormatter.ofLocalized…`. Specify a `Locale` to determine the localization rules to be using in translation and cultural norms.\r\n\r\n    Locale locale = Locale.GERMANY ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( FormatStyle.SHORT ).withLocale( locale ) ;\r\n    String output = ld.format( f ) ;\r\n\r\nIf that localization is not to you taste, define a custom formatting pattern with `DateTimeFormatter.ofPattern`. \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd.MM.uuuu&quot; ) ;\r\n\r\n&gt; need to send to a Webservice a Date(), but it can be only on this format.\r\n\r\nThe ideal solution would be to educate the developers of that Web service about using only standard [ISO 8601][1] formats for exchanging date-time values rather than localized formats. \r\n\r\nIn the meantime, use `DateTimeFormatter.ofLocalizedDate` or `DateTimeFormatter.ofPattern` as discussed above.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"Java Date localization","body":"<p>The modern solution uses <em>java.time</em>.</p>\n<h2>Avoid legacy date-time classes</h2>\n<p>You are using terribly flawed classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. You will find <em>java.time</em> built into Java 8+.</p>\n<h2><code>LocalDate</code></h2>\n<p>To represent a date-only value, without a time-of-day, and without a time zone or offset, use the <code>java.time.LocalDate</code> class.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2024 , Month.JANUARY , 23 ) ;\n</code></pre>\n<blockquote>\n<p>the German format</p>\n</blockquote>\n<p>To generate text in a localized format, use <code>DateTimeFormatter.ofLocalized…</code>. Specify a <code>Locale</code> to determine the localization rules to be using in translation and cultural norms.</p>\n<pre><code>Locale locale = Locale.GERMANY ;\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( FormatStyle.SHORT ).withLocale( locale ) ;\nString output = ld.format( f ) ;\n</code></pre>\n<p>If that localization is not to you taste, define a custom formatting pattern with <code>DateTimeFormatter.ofPattern</code>.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd.MM.uuuu&quot; ) ;\n</code></pre>\n<blockquote>\n<p>need to send to a Webservice a Date(), but it can be only on this format.</p>\n</blockquote>\n<p>The ideal solution would be to educate the developers of that Web service about using only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for exchanging date-time values rather than localized formats.</p>\n<p>In the meantime, use <code>DateTimeFormatter.ofLocalizedDate</code> or <code>DateTimeFormatter.ofPattern</code> as discussed above.</p>\n"}],"owner":{"account_id":1051566,"reputation":25,"user_id":1055375,"display_name":"tas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8194801,"answer_count":4,"score":1,"last_activity_date":1702024195,"creation_date":1321713002,"question_id":8194676,"body_markdown":"How can I set the localization so that java.util.Date have the German format? ( ie: dd.mm.yyyy ) . I need to send to a Webservice a Date(), but it can be only on this format. Not as String but as a Date Object.\r\n\r\nThank you","title":"Java Date localization","body":"<p>How can I set the localization so that java.util.Date have the German format? ( ie: dd.mm.yyyy ) . I need to send to a Webservice a Date(), but it can be only on this format. Not as String but as a Date Object.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot-starter","mybatis-plus"],"answers":[{"tags":[],"owner":{"account_id":21704500,"reputation":75,"user_id":16017180,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701708323,"creation_date":1701708323,"answer_id":77601154,"question_id":77590308,"body_markdown":"Maybe you should try to use the mybatis starter dependency instead:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"error when springboot3 combines with mybatis-plus 3.5 and JDK 17","body":"<p>Maybe you should try to use the mybatis starter dependency instead:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21425782,"reputation":11,"user_id":15783125,"display_name":"Kazune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702023913,"creation_date":1702023913,"answer_id":77625250,"question_id":77590308,"body_markdown":"I suffered the same problem after upgrading to spring boot 3.2.\r\nUpgrade dependencies to the latest version will do.\r\n\r\n```xml\r\n    &lt;properties&gt;\r\n        &lt;org.mybatis.version&gt;3.5.14&lt;/org.mybatis.version&gt;\r\n        &lt;org.mybatis.starter.version&gt;3.0.3&lt;/org.mybatis.starter.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mybatis.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mybatis.starter.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"error when springboot3 combines with mybatis-plus 3.5 and JDK 17","body":"<p>I suffered the same problem after upgrading to spring boot 3.2.\nUpgrade dependencies to the latest version will do.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;org.mybatis.version&gt;3.5.14&lt;/org.mybatis.version&gt;\n        &lt;org.mybatis.starter.version&gt;3.0.3&lt;/org.mybatis.starter.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n            &lt;version&gt;${org.mybatis.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${org.mybatis.starter.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":30047278,"reputation":9,"user_id":23026612,"display_name":"mmmyyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1702121968,"answer_count":2,"score":-1,"last_activity_date":1702023913,"creation_date":1701519569,"question_id":77590308,"body_markdown":"java.lang.IllegalArgumentException: Invalid value type for attribute &#39;factoryBeanObjectType&#39;: java.lang.String\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getTypeForFactoryBeanFromAttributes(FactoryBeanRegistrySupport.java:86) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:838) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:620) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:573) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:138) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:775) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597) ~[spring-context-6.1.1.jar:6.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\r\n\tat com.web_chat_back.WebChatBackApplication.main(WebChatBackApplication.java:13) ~[classes/:na]\r\n\r\n\r\nin my pom.xml:\r\n    springboot 3.2.0\r\n    mybatis-plus 3.5.3.2\r\n    jdk 17\r\n    mysql\r\n    jdbc\r\nIn addition,I added annotations &quot;@Mapper&quot; in xxMaperr and added annotations&quot;@MapperScan(&quot;com.web_chat_back&quot;)&quot;\r\n","title":"error when springboot3 combines with mybatis-plus 3.5 and JDK 17","body":"<p>java.lang.IllegalArgumentException: Invalid value type for attribute 'factoryBeanObjectType': java.lang.String\nat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getTypeForFactoryBeanFromAttributes(FactoryBeanRegistrySupport.java:86) ~[spring-beans-6.1.1.jar:6.1.1]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:838) ~[spring-beans-6.1.1.jar:6.1.1]\nat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:620) ~[spring-beans-6.1.1.jar:6.1.1]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:573) ~[spring-beans-6.1.1.jar:6.1.1]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.1.1.jar:6.1.1]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:138) ~[spring-context-6.1.1.jar:6.1.1]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:775) ~[spring-context-6.1.1.jar:6.1.1]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597) ~[spring-context-6.1.1.jar:6.1.1]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\nat com.web_chat_back.WebChatBackApplication.main(WebChatBackApplication.java:13) ~[classes/:na]</p>\n<p>in my pom.xml:\nspringboot 3.2.0\nmybatis-plus 3.5.3.2\njdk 17\nmysql\njdbc\nIn addition,I added annotations &quot;@Mapper&quot; in xxMaperr and added annotations&quot;@MapperScan(&quot;com.web_chat_back&quot;)&quot;</p>\n"},{"tags":["java","eclipse","log4j"],"comments":[{"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"score":7,"creation_date":1348237131,"post_id":12532339,"comment_id":16873219,"body_markdown":"That seems to be a runtime warning. Are you sure you see this when you compile?","body":"That seems to be a runtime warning. Are you sure you see this when you compile?"},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1348237234,"post_id":12532339,"comment_id":16873267,"body_markdown":"Did you try visiting the URL in the last line of the warnings?","body":"Did you try visiting the URL in the last line of the warnings?"},{"owner":{"account_id":251993,"reputation":11324,"user_id":1248720,"accept_rate":89,"display_name":"maximus"},"score":5,"creation_date":1348238002,"post_id":12532339,"comment_id":16873627,"body_markdown":"yes!!! but it doesn`t say much... I found out that I need a property file to configure my appender!","body":"yes!!! but it doesn`t say much... I found out that I need a property file to configure my appender!"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1348238503,"post_id":12532339,"comment_id":16873874,"body_markdown":"Manually edit configuration files to add the appender. Make  sure you have the right &amp; valid configuration document.","body":"Manually edit configuration files to add the appender. Make  sure you have the right &amp; valid configuration document."},{"owner":{"account_id":6230972,"reputation":1361,"user_id":4847772,"accept_rate":67,"display_name":"PJTraill"},"score":0,"creation_date":1466011428,"post_id":12532339,"comment_id":63144599,"body_markdown":"See also the question [log4j:WARN No appenders could be found for logger in web.xml](http://stackoverflow.com/questions/1266139/log4jwarn-no-appenders-could-be-found-for-logger-in-web-xml)","body":"See also the question <a href=\"http://stackoverflow.com/questions/1266139/log4jwarn-no-appenders-could-be-found-for-logger-in-web-xml\">log4j:WARN No appenders could be found for logger in web.xml</a>"}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348237308,"creation_date":1348237308,"answer_id":12532419,"question_id":12532339,"body_markdown":"You use the `Logger` in your code to log a message. The `Appender` is a Object appended to a `Logger` to write the message to a specific target. There are `FileAppender` to write to text-files or the `ConsoleAppender` to write to the Console. You need to show your code of the Logger and Appender setup for more help.\r\n\r\nplease read the [tutorial][1] for a better understanding of the interaction of Logger and Appender.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/manual.html","title":"No appenders could be found for logger(log4j)?","body":"<p>You use the <code>Logger</code> in your code to log a message. The <code>Appender</code> is a Object appended to a <code>Logger</code> to write the message to a specific target. There are <code>FileAppender</code> to write to text-files or the <code>ConsoleAppender</code> to write to the Console. You need to show your code of the Logger and Appender setup for more help.</p>\n\n<p>please read the <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">tutorial</a> for a better understanding of the interaction of Logger and Appender.</p>\n"},{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":2,"up_vote_count":573,"is_accepted":true,"score":571,"last_activity_date":1425918864,"creation_date":1348237396,"answer_id":12532442,"question_id":12532339,"body_markdown":"This [Short introduction to log4j](http://logging.apache.org/log4j/1.2/manual.html) guide is a little bit old but still valid.\r\n\r\nThat guide will give you some information about how to use loggers and appenders.\r\n\r\n----------\r\n\r\nJust to get you going you have two simple approaches you can take.\r\n\r\nFirst one is to just add this line to your main method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    BasicConfigurator.configure();\r\n\r\nSecond approach is to add this standard `log4j.properties` (taken from the above mentioned guide) file to your classpath:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    # Set root logger level to DEBUG and its only appender to A1.\r\n    log4j.rootLogger=DEBUG, A1\r\n\r\n    # A1 is set to be a ConsoleAppender.\r\n    log4j.appender.A1=org.apache.log4j.ConsoleAppender\r\n\r\n    # A1 uses PatternLayout.\r\n    log4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>This <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">Short introduction to log4j</a> guide is a little bit old but still valid.</p>\n\n<p>That guide will give you some information about how to use loggers and appenders.</p>\n\n<hr>\n\n<p>Just to get you going you have two simple approaches you can take.</p>\n\n<p>First one is to just add this line to your main method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BasicConfigurator.configure();\n</code></pre>\n\n<p>Second approach is to add this standard <code>log4j.properties</code> (taken from the above mentioned guide) file to your classpath:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># Set root logger level to DEBUG and its only appender to A1.\nlog4j.rootLogger=DEBUG, A1\n\n# A1 is set to be a ConsoleAppender.\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\n\n# A1 uses PatternLayout.\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2966095,"reputation":251,"user_id":2519217,"display_name":"a3po2.0"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1380026372,"creation_date":1380026372,"answer_id":18981872,"question_id":12532339,"body_markdown":"I get the same error. Here the problem which leads to this error message:\r\n\r\nI create some objects which use the Logger before I configure the log4j:\r\n\r\n    Logger.getLogger(Lang.class.getName()).debug(&quot;Loading language: &quot; + filename);\r\n\r\nSolution: \r\nConfigure the log4j at the beginning in the main method:\r\n\r\n    PropertyConfigurator.configure(xmlLog4JConfigFile); \r\n    // or BasicConfigurator.configure(); if you dont have a config file\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>I get the same error. Here the problem which leads to this error message:</p>\n\n<p>I create some objects which use the Logger before I configure the log4j:</p>\n\n<pre><code>Logger.getLogger(Lang.class.getName()).debug(\"Loading language: \" + filename);\n</code></pre>\n\n<p>Solution: \nConfigure the log4j at the beginning in the main method:</p>\n\n<pre><code>PropertyConfigurator.configure(xmlLog4JConfigFile); \n// or BasicConfigurator.configure(); if you dont have a config file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3043841,"reputation":4318,"user_id":2598115,"accept_rate":74,"display_name":"JDJ"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1470295738,"creation_date":1391327562,"answer_id":21508296,"question_id":12532339,"body_markdown":"It looks like you need to add the location of your `log4j.properties` file to the Classpath in Eclipse.\r\n\r\nMake sure your project is open in Eclipse, then click on the &quot;Run&quot; menu at the top of Eclipse and click on the following:\r\n\r\n1. Run\r\n2. Run Configurations\r\n3. Classpath (tab)\r\n4. User Entries\r\n5. Advanced (button on the right)\r\n6. Add Folders\r\n7. then navigate to the folder that contains your log4j.properties file\r\n7. Apply\r\n8. Run\r\n\r\nThe error message should no longer appear.","title":"No appenders could be found for logger(log4j)?","body":"<p>It looks like you need to add the location of your <code>log4j.properties</code> file to the Classpath in Eclipse.</p>\n\n<p>Make sure your project is open in Eclipse, then click on the \"Run\" menu at the top of Eclipse and click on the following:</p>\n\n<ol>\n<li>Run</li>\n<li>Run Configurations</li>\n<li>Classpath (tab)</li>\n<li>User Entries</li>\n<li>Advanced (button on the right)</li>\n<li>Add Folders</li>\n<li>then navigate to the folder that contains your log4j.properties file</li>\n<li>Apply</li>\n<li>Run</li>\n</ol>\n\n<p>The error message should no longer appear.</p>\n"},{"tags":[],"owner":{"account_id":2764937,"reputation":1232,"user_id":2380901,"display_name":"lancerex"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1398154428,"creation_date":1398154428,"answer_id":23214068,"question_id":12532339,"body_markdown":"Quick solution:\r\n\r\n1. add code to **main function**:\r\n\r\n        String log4jConfPath = &quot;/path/to/log4j.properties&quot;;\r\n        PropertyConfigurator.configure(log4jConfPath);\r\n\r\n2. create a file named log4j.properties at **/path/to**\r\n\r\n        log4j.rootLogger=INFO, stdout\r\n        log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n        log4j.appender.stdout.Target=System.out\r\n        log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n        log4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>Quick solution:</p>\n\n<ol>\n<li><p>add code to <strong>main function</strong>:</p>\n\n<pre><code>String log4jConfPath = \"/path/to/log4j.properties\";\nPropertyConfigurator.configure(log4jConfPath);\n</code></pre></li>\n<li><p>create a file named log4j.properties at <strong>/path/to</strong></p>\n\n<pre><code>log4j.rootLogger=INFO, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1945521,"reputation":63,"user_id":1750771,"display_name":"jmort"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406184922,"creation_date":1406184554,"answer_id":24926853,"question_id":12532339,"body_markdown":"I ran into this issue when trying to build an executable jar with maven in intellij 12. It turned out that because the  java manifest file didn&#39;t include a class path the log4j properties file couldn&#39;t be found at the root level (where the jar file was executed from.) \r\n\r\nFYI I was getting the logger like this:\r\n\r\n    Logger log = LogManager.getLogger(MyClassIWantedToLogFrom.class);\r\n\r\nAnd I was able to get it to work with a pom file that included this:\r\n\r\n             &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2-beta-5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt; \r\n                            &lt;mainClass&gt;com.mycompany.mainPackage.mainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Class-Path&gt;.&lt;/Class-Path&gt; &lt;!-- need to add current directory to classpath properties files can be found --&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>I ran into this issue when trying to build an executable jar with maven in intellij 12. It turned out that because the  java manifest file didn't include a class path the log4j properties file couldn't be found at the root level (where the jar file was executed from.) </p>\n\n<p>FYI I was getting the logger like this:</p>\n\n<pre><code>Logger log = LogManager.getLogger(MyClassIWantedToLogFrom.class);\n</code></pre>\n\n<p>And I was able to get it to work with a pom file that included this:</p>\n\n<pre><code>         &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2-beta-5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt; \n                        &lt;mainClass&gt;com.mycompany.mainPackage.mainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Class-Path&gt;.&lt;/Class-Path&gt; &lt;!-- need to add current directory to classpath properties files can be found --&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5493166,"reputation":109,"user_id":4365236,"display_name":"AkashK"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1419258673,"creation_date":1419256054,"answer_id":27603966,"question_id":12532339,"body_markdown":"As explained earlier there are 2 approaches \r\n\r\nFirst one is to just add this line to your main method:\r\n\r\n    BasicConfigurator.configure();\r\n\r\nSecond approach is to add this standard **log4j.properties** file to your classpath:\r\n\r\nWhile taking second approach you need to make sure you initialize the file properly,\r\nEg.\r\n\r\n    Properties props = new Properties();\r\n    props.load(new FileInputStream(&quot;log4j property file path&quot;));\r\n    props.setProperty(&quot;log4j.appender.File.File&quot;, &quot;Folder where you want to store log files/&quot; + &quot;File Name&quot;);\r\n\r\nMake sure you create required folder to store log files.\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>As explained earlier there are 2 approaches </p>\n\n<p>First one is to just add this line to your main method:</p>\n\n<pre><code>BasicConfigurator.configure();\n</code></pre>\n\n<p>Second approach is to add this standard <strong>log4j.properties</strong> file to your classpath:</p>\n\n<p>While taking second approach you need to make sure you initialize the file properly,\nEg.</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(new FileInputStream(\"log4j property file path\"));\nprops.setProperty(\"log4j.appender.File.File\", \"Folder where you want to store log files/\" + \"File Name\");\n</code></pre>\n\n<p>Make sure you create required folder to store log files.</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1472179482,"creation_date":1428351603,"answer_id":29479001,"question_id":12532339,"body_markdown":"This is just a warning.\r\n\r\n### Fixing\r\n\r\nThis occurs when the default configuration files `log4j.properties` and `log4j.xml` can not be found and the application performs no explicit configuration.\r\n\r\nTo fix that, simply create/copy `log4j.properties` or `log4j.xml` into your a location on the *classpath* (usually the same as the jar files).\r\n\r\nOptionally set java option: `-Dlog4j.configuration=file:///path/to/log4j.properties`.\r\n\r\n&gt; `log4j` uses `Thread.getContextClassLoader().getResource()` to locate the default configuration files and does not directly check the file system. Knowing the appropriate location to place `log4j.properties` or `log4j.xml` requires understanding the search strategy of the class loader in use. `log4j` does not provide a default configuration since output to the console or to the file system may be prohibited in some environments.\r\n\r\n### Debugging\r\n\r\nFor debugging, you may try to use `-Dlog4j.debug=true` parameter.\r\n\r\n### Configuration of `log4j.properties`\r\n\r\nSample configuration of `log4j.properties`:\r\n\r\n    # Set root logger level to DEBUG and its only appender to A1.\r\n    log4j.rootLogger=DEBUG, A1\r\n    \r\n    # A1 is set to be a ConsoleAppender.\r\n    log4j.appender.A1=org.apache.log4j.ConsoleAppender\r\n    \r\n    # A1 uses PatternLayout.\r\n    log4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\r\n\r\n    # Print only messages of level WARN or above in the package com.foo.\r\n    log4j.logger.com.foo=WARN\r\n\r\nHere is another configuration file that uses multiple appenders:\r\n\r\n    log4j.rootLogger=debug, stdout, R\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    \r\n    # Pattern to output the caller&#39;s file name and line number.\r\n    log4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\r\n    \r\n    log4j.appender.R=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.R.File=example.log\r\n    \r\n    log4j.appender.R.MaxFileSize=100KB\r\n    # Keep one backup file\r\n    log4j.appender.R.MaxBackupIndex=1\r\n    \r\n    log4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\r\n\r\n### Apache Solr\r\n\r\nIf using *Solr*, copy `&lt;solr&gt;/example/resources/log4j.properties` into a location on the *classpath*.\r\n\r\nSample configuration of `log4j.properties` from Solr goes like:\r\n\r\n    #  Logging level\r\n    solr.log=logs/\r\n    log4j.rootLogger=INFO, file, CONSOLE\r\n    \r\n    log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\r\n    \r\n    log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.CONSOLE.layout.ConversionPattern=%-4r [%t] %-5p %c %x \\u2013 %m%n\r\n    \r\n    #- size rotation with log cleanup.\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.MaxFileSize=4MB\r\n    log4j.appender.file.MaxBackupIndex=9\r\n    \r\n    #- File to log to and log format\r\n    log4j.appender.file.File=${solr.log}/solr.log\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%-5p - %d{yyyy-MM-dd HH:mm:ss.SSS}; %C; %m\\n\r\n    \r\n    log4j.logger.org.apache.zookeeper=WARN\r\n    log4j.logger.org.apache.hadoop=WARN\r\n    \r\n    # set to INFO to enable infostream log messages\r\n    log4j.logger.org.apache.solr.update.LoggingInfoStream=OFF\r\n\r\n----------\r\n\r\n\r\nSee also:\r\n\r\n - [Short introduction to log4j: Default Initialization Procedure][1]\r\n - [Why can&#39;t log4j find my properties in a J2EE or WAR application?][2]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/manual.html#defaultInit\r\n  [2]: http://logging.apache.org/log4j/1.2/faq.html#a3.5","title":"No appenders could be found for logger(log4j)?","body":"<p>This is just a warning.</p>\n\n<h3>Fixing</h3>\n\n<p>This occurs when the default configuration files <code>log4j.properties</code> and <code>log4j.xml</code> can not be found and the application performs no explicit configuration.</p>\n\n<p>To fix that, simply create/copy <code>log4j.properties</code> or <code>log4j.xml</code> into your a location on the <em>classpath</em> (usually the same as the jar files).</p>\n\n<p>Optionally set java option: <code>-Dlog4j.configuration=file:///path/to/log4j.properties</code>.</p>\n\n<blockquote>\n  <p><code>log4j</code> uses <code>Thread.getContextClassLoader().getResource()</code> to locate the default configuration files and does not directly check the file system. Knowing the appropriate location to place <code>log4j.properties</code> or <code>log4j.xml</code> requires understanding the search strategy of the class loader in use. <code>log4j</code> does not provide a default configuration since output to the console or to the file system may be prohibited in some environments.</p>\n</blockquote>\n\n<h3>Debugging</h3>\n\n<p>For debugging, you may try to use <code>-Dlog4j.debug=true</code> parameter.</p>\n\n<h3>Configuration of <code>log4j.properties</code></h3>\n\n<p>Sample configuration of <code>log4j.properties</code>:</p>\n\n<pre><code># Set root logger level to DEBUG and its only appender to A1.\nlog4j.rootLogger=DEBUG, A1\n\n# A1 is set to be a ConsoleAppender.\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\n\n# A1 uses PatternLayout.\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n\n# Print only messages of level WARN or above in the package com.foo.\nlog4j.logger.com.foo=WARN\n</code></pre>\n\n<p>Here is another configuration file that uses multiple appenders:</p>\n\n<pre><code>log4j.rootLogger=debug, stdout, R\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n\n# Pattern to output the caller's file name and line number.\nlog4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\n\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=example.log\n\nlog4j.appender.R.MaxFileSize=100KB\n# Keep one backup file\nlog4j.appender.R.MaxBackupIndex=1\n\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\n</code></pre>\n\n<h3>Apache Solr</h3>\n\n<p>If using <em>Solr</em>, copy <code>&lt;solr&gt;/example/resources/log4j.properties</code> into a location on the <em>classpath</em>.</p>\n\n<p>Sample configuration of <code>log4j.properties</code> from Solr goes like:</p>\n\n<pre><code>#  Logging level\nsolr.log=logs/\nlog4j.rootLogger=INFO, file, CONSOLE\n\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\n\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern=%-4r [%t] %-5p %c %x \\u2013 %m%n\n\n#- size rotation with log cleanup.\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.MaxFileSize=4MB\nlog4j.appender.file.MaxBackupIndex=9\n\n#- File to log to and log format\nlog4j.appender.file.File=${solr.log}/solr.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%-5p - %d{yyyy-MM-dd HH:mm:ss.SSS}; %C; %m\\n\n\nlog4j.logger.org.apache.zookeeper=WARN\nlog4j.logger.org.apache.hadoop=WARN\n\n# set to INFO to enable infostream log messages\nlog4j.logger.org.apache.solr.update.LoggingInfoStream=OFF\n</code></pre>\n\n<hr>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://logging.apache.org/log4j/1.2/manual.html#defaultInit\" rel=\"noreferrer\">Short introduction to log4j: Default Initialization Procedure</a></li>\n<li><a href=\"http://logging.apache.org/log4j/1.2/faq.html#a3.5\" rel=\"noreferrer\">Why can't log4j find my properties in a J2EE or WAR application?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7615720,"reputation":341,"user_id":5775214,"display_name":"Varaj Vignesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452539930,"creation_date":1452539035,"answer_id":34729094,"question_id":12532339,"body_markdown":"Make sure your project is open in Eclipse, then click on the &quot;Run&quot; menu at the top of Eclipse and click on the following:\r\n\r\n1. Run\r\n\r\n2. Run Configurations\r\n\r\n3. Classpath (tab)\r\n\r\n4. User Entries\r\n\r\n5. add jar on the right \r\n\r\n6. add log4j jar file\r\n\r\n7. Apply\r\n\r\n8. Run\r\n\r\nThe error message should no longer appear.","title":"No appenders could be found for logger(log4j)?","body":"<p>Make sure your project is open in Eclipse, then click on the \"Run\" menu at the top of Eclipse and click on the following:</p>\n\n<ol>\n<li><p>Run</p></li>\n<li><p>Run Configurations</p></li>\n<li><p>Classpath (tab)</p></li>\n<li><p>User Entries</p></li>\n<li><p>add jar on the right </p></li>\n<li><p>add log4j jar file</p></li>\n<li><p>Apply</p></li>\n<li><p>Run</p></li>\n</ol>\n\n<p>The error message should no longer appear.</p>\n"},{"tags":[],"owner":{"account_id":2582365,"reputation":2719,"user_id":2238745,"display_name":"Jin Thakur"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1609035549,"creation_date":1461854194,"answer_id":36917868,"question_id":12532339,"body_markdown":"I think you should understand where the log4j jar file or the Java code looks for the log4j configuration files.\r\n\r\n`src/main/resources/log4j.properties` is Eclipse path.\r\nPlace them in a proper location so that you don&#39;t have to hard code the absolute path  in code.\r\n\r\nRead my article and sample solution for that \r\nhttps://askyourquestions.info/how-to-see-where-the-log-is-logger-in-slf4j/\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>I think you should understand where the log4j jar file or the Java code looks for the log4j configuration files.</p>\n<p><code>src/main/resources/log4j.properties</code> is Eclipse path.\nPlace them in a proper location so that you don't have to hard code the absolute path  in code.</p>\n<p>Read my article and sample solution for that\n<a href=\"https://askyourquestions.info/how-to-see-where-the-log-is-logger-in-slf4j/\" rel=\"nofollow noreferrer\">https://askyourquestions.info/how-to-see-where-the-log-is-logger-in-slf4j/</a></p>\n"},{"tags":[],"owner":{"account_id":3427590,"reputation":163,"user_id":2872950,"accept_rate":40,"display_name":"Anuj Pandey"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1469012013,"creation_date":1469012013,"answer_id":38479267,"question_id":12532339,"body_markdown":"In java eclipse copy your conf_ref to conf folder.","title":"No appenders could be found for logger(log4j)?","body":"<p>In java eclipse copy your conf_ref to conf folder.</p>\n"},{"tags":[],"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470132159,"creation_date":1470130442,"answer_id":38716769,"question_id":12532339,"body_markdown":"The reason can be lack of the word `static` in some:\r\n\r\n    final static Logger logging = Logger.getLogger(ProcessorTest.class);\r\n\r\nIf I make logger the instance field, I am getting exactly this very warning: \r\n\r\n    No appenders could be found for logger (org.apache.kafka.producer.Sender)\r\n\r\nWhat is worse, the warning points not to `ProcessorTest`, where the mistake lives, but to an absolutely different class (Sender) as a source of problems. *That* class has correct set logger and need not any changes! We could look for the problem for ages!","title":"No appenders could be found for logger(log4j)?","body":"<p>The reason can be lack of the word <code>static</code> in some:</p>\n\n<pre><code>final static Logger logging = Logger.getLogger(ProcessorTest.class);\n</code></pre>\n\n<p>If I make logger the instance field, I am getting exactly this very warning: </p>\n\n<pre><code>No appenders could be found for logger (org.apache.kafka.producer.Sender)\n</code></pre>\n\n<p>What is worse, the warning points not to <code>ProcessorTest</code>, where the mistake lives, but to an absolutely different class (Sender) as a source of problems. <em>That</em> class has correct set logger and need not any changes! We could look for the problem for ages!</p>\n"},{"tags":[],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1539944190,"creation_date":1470708813,"answer_id":38841004,"question_id":12532339,"body_markdown":"Most of the answers here suggested that `log4j.properties` file be placed in the right location(for maven project, it should be located in `src/main/resources`)\r\n\r\nBut for me, the problem is that my `log4j.properties` is not correctly configured. Here&#39;s a sample that works for me, you can try it out first.\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=INFO, stdout\r\n    \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n","title":"No appenders could be found for logger(log4j)?","body":"<p>Most of the answers here suggested that <code>log4j.properties</code> file be placed in the right location(for maven project, it should be located in <code>src/main/resources</code>)</p>\n\n<p>But for me, the problem is that my <code>log4j.properties</code> is not correctly configured. Here's a sample that works for me, you can try it out first.</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, stdout\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471369074,"creation_date":1471369074,"answer_id":38981183,"question_id":12532339,"body_markdown":"My Eclipse installation could not find `log4j.properties` when running *JUnit* tests from Eclipse, even though the file was located at `src/test/resources`.\r\n\r\nThe reason was that Eclipse (or the *m2e* connector) did not copy content from `src/test/resources` to the expected output folder `target/test-classes` - the root cause was that in the project&#39;s properties under *Java Build Path* -&gt; *Source* tab -&gt; *Source folders on build path* -&gt; *src/test/resources*, somehow there was an `Excluded: **` entry. I removed that *excluded* entry.\r\n\r\nAlternatively, I could have manually copied `src/test/resources/log4j.properties` to `target/test-classes/log4j.properties`.\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>My Eclipse installation could not find <code>log4j.properties</code> when running <em>JUnit</em> tests from Eclipse, even though the file was located at <code>src/test/resources</code>.</p>\n\n<p>The reason was that Eclipse (or the <em>m2e</em> connector) did not copy content from <code>src/test/resources</code> to the expected output folder <code>target/test-classes</code> - the root cause was that in the project's properties under <em>Java Build Path</em> -> <em>Source</em> tab -> <em>Source folders on build path</em> -> <em>src/test/resources</em>, somehow there was an <code>Excluded: **</code> entry. I removed that <em>excluded</em> entry.</p>\n\n<p>Alternatively, I could have manually copied <code>src/test/resources/log4j.properties</code> to <code>target/test-classes/log4j.properties</code>.</p>\n"},{"tags":[],"owner":{"account_id":6863705,"reputation":1063,"user_id":5276885,"display_name":"John Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472646661,"creation_date":1472646661,"answer_id":39249741,"question_id":12532339,"body_markdown":"I faced the same problem when I use log4j2. My problem is caused by using wrong dependent library:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nInstead, I should use:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn my case, I have a log4j2.xml defined in my &quot;resources&quot; directory, and specified to use it by:\r\n\r\n    System.setProperty(&quot;log4j.configurationFile&quot;, &quot;log4j2.xml&quot;);","title":"No appenders could be found for logger(log4j)?","body":"<p>I faced the same problem when I use log4j2. My problem is caused by using wrong dependent library:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Instead, I should use:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>In my case, I have a log4j2.xml defined in my \"resources\" directory, and specified to use it by:</p>\n\n<pre><code>System.setProperty(\"log4j.configurationFile\", \"log4j2.xml\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9623807,"reputation":79,"user_id":7144074,"display_name":"belvey"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1478830316,"creation_date":1478829039,"answer_id":40539976,"question_id":12532339,"body_markdown":"Make sure the properties file has properly set.\r\nAnd again, it seems like that the compiler cannot find the properties file, you can set as follow at the pom  (only when you use maven project).\r\n\r\n    &lt;build&gt;\r\n           &lt;sourceDirectory&gt; src/main/java&lt;/sourceDirectory&gt;\r\n           &lt;testSourceDirectory&gt; src/test/java&lt;/testSourceDirectory&gt;\r\n            &lt;resources&gt;\r\n                 &lt;resource&gt;\r\n                      &lt;directory&gt;resources&lt;/directory&gt;\r\n                 &lt;/resource&gt;\r\n            &lt;/resources&gt;           \r\n    &lt;/build &gt;","title":"No appenders could be found for logger(log4j)?","body":"<p>Make sure the properties file has properly set.\nAnd again, it seems like that the compiler cannot find the properties file, you can set as follow at the pom  (only when you use maven project).</p>\n\n<pre><code>&lt;build&gt;\n       &lt;sourceDirectory&gt; src/main/java&lt;/sourceDirectory&gt;\n       &lt;testSourceDirectory&gt; src/test/java&lt;/testSourceDirectory&gt;\n        &lt;resources&gt;\n             &lt;resource&gt;\n                  &lt;directory&gt;resources&lt;/directory&gt;\n             &lt;/resource&gt;\n        &lt;/resources&gt;           \n&lt;/build &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4148878,"reputation":471,"user_id":3401889,"display_name":"Antonio Martin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478862307,"creation_date":1478862307,"answer_id":40546641,"question_id":12532339,"body_markdown":"In my case, the error was the flag &quot;**additivity**&quot;. If it&#39;s &quot;false&quot; for you root project package, then the child packages will not have an appender and you will see the &quot;**appender not found**&quot; error. ","title":"No appenders could be found for logger(log4j)?","body":"<p>In my case, the error was the flag \"<strong>additivity</strong>\". If it's \"false\" for you root project package, then the child packages will not have an appender and you will see the \"<strong>appender not found</strong>\" error. </p>\n"},{"tags":[],"owner":{"account_id":6019023,"reputation":1685,"user_id":4726822,"accept_rate":83,"display_name":"ekjcfn3902039"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489598230,"creation_date":1489598230,"answer_id":42816531,"question_id":12532339,"body_markdown":"Another reason this may happen (in RCP4) is that you are using multiple logging frameworks in your target file.  As an example, this will occur if you use a combination of slf4j, log4j and ch.qos.logback.slf4j in your target files content tab.","title":"No appenders could be found for logger(log4j)?","body":"<p>Another reason this may happen (in RCP4) is that you are using multiple logging frameworks in your target file.  As an example, this will occur if you use a combination of slf4j, log4j and ch.qos.logback.slf4j in your target files content tab.</p>\n"},{"tags":[],"owner":{"account_id":9815261,"reputation":568,"user_id":7271964,"display_name":"fty4"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521811270,"creation_date":1495448634,"answer_id":44110492,"question_id":12532339,"body_markdown":"Add the following as the first code:\r\n\r\n    Properties prop = new Properties();\r\n\tprop.setProperty(&quot;log4j.rootLogger&quot;, &quot;WARN&quot;);\r\n\tPropertyConfigurator.configure(prop);\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>Add the following as the first code:</p>\n\n<pre><code>Properties prop = new Properties();\nprop.setProperty(\"log4j.rootLogger\", \"WARN\");\nPropertyConfigurator.configure(prop);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7256091,"reputation":51,"user_id":5534685,"display_name":"Brian Schalme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502362988,"creation_date":1502362988,"answer_id":45611933,"question_id":12532339,"body_markdown":"If `log4j.properties` is indeed on the classpath, you are using Spring Boot to make a WAR file for deployment to an app server, you are omitting a `web.xml` file in favour of Spring Boot&#39;s autoconfigure, and you are not getting any log messages whatsoever, you need to explicitly configure Log4j. Assuming you are using Log4j 1.2.x:\r\n\r\n    public class AppConfig extends SpringBootServletInitializer {\r\n \r\n        public static void main( String[] args ) {\r\n            // Launch the application\r\n            ConfigurableApplicationContext context = SpringApplication.run( AppConfig.class, args );\r\n        }\r\n \r\n        @Override\r\n        protected SpringApplicationBuilder configure( SpringApplicationBuilder application ) {\r\n            InputStream log4j = this.getClass().getClassLoader().getResourceAsStream(&quot;log4j.properties&quot;);\r\n            PropertyConfigurator.configure(log4j);\r\n            return application;\r\n        }\r\n \r\n    // Other beans as required...\r\n    }","title":"No appenders could be found for logger(log4j)?","body":"<p>If <code>log4j.properties</code> is indeed on the classpath, you are using Spring Boot to make a WAR file for deployment to an app server, you are omitting a <code>web.xml</code> file in favour of Spring Boot's autoconfigure, and you are not getting any log messages whatsoever, you need to explicitly configure Log4j. Assuming you are using Log4j 1.2.x:</p>\n\n<pre><code>public class AppConfig extends SpringBootServletInitializer {\n\n    public static void main( String[] args ) {\n        // Launch the application\n        ConfigurableApplicationContext context = SpringApplication.run( AppConfig.class, args );\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure( SpringApplicationBuilder application ) {\n        InputStream log4j = this.getClass().getClassLoader().getResourceAsStream(\"log4j.properties\");\n        PropertyConfigurator.configure(log4j);\n        return application;\n    }\n\n// Other beans as required...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12910879,"reputation":21,"user_id":9336614,"display_name":"NightWind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525362190,"creation_date":1525362190,"answer_id":50159051,"question_id":12532339,"body_markdown":"Maybe add the relevent project contains log4j in java build path, I add mahout_h2o into it when I met this problem in  a mahout project using eclipse, it works!","title":"No appenders could be found for logger(log4j)?","body":"<p>Maybe add the relevent project contains log4j in java build path, I add mahout_h2o into it when I met this problem in  a mahout project using eclipse, it works!</p>\n"},{"tags":[],"owner":{"account_id":7990256,"reputation":49,"user_id":6028318,"display_name":"yasin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525640061,"creation_date":1525441909,"answer_id":50176571,"question_id":12532339,"body_markdown":"if you work together with a lot of projects you may face a style problem. \r\n\r\n*you have to have one lof4j.properties file and this file is included log properties of other project. \r\n\r\n*Beside you can try to put log4j properties files into src path when the project is worked Linux OS, libs of other project and log4.properties files can be under one folder into a location on the classpath.\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>if you work together with a lot of projects you may face a style problem. </p>\n\n<p>*you have to have one lof4j.properties file and this file is included log properties of other project. </p>\n\n<p>*Beside you can try to put log4j properties files into src path when the project is worked Linux OS, libs of other project and log4.properties files can be under one folder into a location on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":13663584,"reputation":1,"user_id":9858001,"display_name":"himansug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528459380,"creation_date":1528459154,"answer_id":50760186,"question_id":12532339,"body_markdown":"First import:\r\n\r\n     import org.apache.log4j.PropertyConfigurator;\r\n    \r\nThen add below code to main method:\r\n    \r\n   \r\n\r\n    String log4jConfPath =&quot;path to/log4j.properties&quot;;\r\n    PropertyConfigurator.configure(log4jConfPath);\r\n    \r\nCreate a file at **path to**  and add the below code to that file.\r\n    \r\n    \r\n    log4j.rootLogger=INFO, stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n","title":"No appenders could be found for logger(log4j)?","body":"<p>First import:</p>\n\n<pre><code> import org.apache.log4j.PropertyConfigurator;\n</code></pre>\n\n<p>Then add below code to main method:</p>\n\n<pre><code>String log4jConfPath =\"path to/log4j.properties\";\nPropertyConfigurator.configure(log4jConfPath);\n</code></pre>\n\n<p>Create a file at <strong>path to</strong>  and add the below code to that file.</p>\n\n<pre><code>log4j.rootLogger=INFO, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4192958,"reputation":353,"user_id":3435123,"accept_rate":67,"display_name":"ihossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537302946,"creation_date":1537302946,"answer_id":52394248,"question_id":12532339,"body_markdown":"The solution on this site worked for me https://crunchify.com/java-how-to-configure-log4j-logger-property-correctly/. I now see no warnings at all from log4j\r\n\r\nI put this in a log4j.properties file that I put in src/main/resources\r\n\r\n    # This sets the global logging level and specifies the appenders\r\n    log4j.rootLogger=INFO, theConsoleAppender\r\n \r\n    # settings for the console appender\r\n    log4j.appender.theConsoleAppender=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.theConsoleAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.theConsoleAppender.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>The solution on this site worked for me <a href=\"https://crunchify.com/java-how-to-configure-log4j-logger-property-correctly/\" rel=\"nofollow noreferrer\">https://crunchify.com/java-how-to-configure-log4j-logger-property-correctly/</a>. I now see no warnings at all from log4j</p>\n\n<p>I put this in a log4j.properties file that I put in src/main/resources</p>\n\n<pre><code># This sets the global logging level and specifies the appenders\nlog4j.rootLogger=INFO, theConsoleAppender\n\n# settings for the console appender\nlog4j.appender.theConsoleAppender=org.apache.log4j.ConsoleAppender\nlog4j.appender.theConsoleAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.theConsoleAppender.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915477,"reputation":3493,"user_id":948359,"accept_rate":0,"display_name":"schlebe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539940833,"creation_date":1539940833,"answer_id":52889442,"question_id":12532339,"body_markdown":"Log4J display this warning message when Log4j Java code is searching to create a first log line in your program.\r\n\r\nAt this moment, Log4j make 2 things\r\n\r\n 1. it search to find `log4j.properties` file\r\n 2. it search to instantiate the appender define in `log4j.properties`\r\n\r\nIf `log4J` doesn&#39;t find `log4j.properties` file or if appender declared in `log4j.rootlogger` are not defined elsewhere in `log4j.properties` file the warning message is displayed.\r\n\r\nCAUTION: the content of Properties file must be correct.\r\n\r\nThe following content is NOT correct\r\n\r\n    log4j.rootLogger=file\r\n    \r\n    log4j.appender.FILE=org.apache.log4j.FileAppender\r\n    log4j.appender.FILE.File=c:/Trace/MsgStackLogging.log\r\n    log4j.appender.FILE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.FILE.layout.ConversionPattern=%m%n\r\n    log4j.appender.FILE.ImmediateFlush=true\r\n    log4j.appender.FILE.Threshold=debug\r\n    log4j.appender.FILE.Append=false\r\n\r\nbecause `file` appender is declared in LOWER-CASE in `log4j.rootlogger` statement and defined in log4j.appender statement using UPPER-CASE !\r\n\r\nA correct file would be\r\n\r\n    log4j.rootLogger=FILE\r\n    \r\n    log4j.appender.FILE=org.apache.log4j.FileAppender\r\n    log4j.appender.FILE.File=c:/Trace/MsgStackLogging.log\r\n    log4j.appender.FILE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.FILE.layout.ConversionPattern=%m%n\r\n    log4j.appender.FILE.ImmediateFlush=true\r\n    log4j.appender.FILE.Threshold=debug\r\n    log4j.appender.FILE.Append=false\r\n\r\nIf MAVEN is used, you must put log4j.properties files in `src/main/resources` AND start a MAVEN build.\r\n\r\nLog4j.properties file is then copied in `target/classes` folder.\r\n\r\nLog4J use the `log4j.properties` file that it found in `target/classes` !\r\n\r\n\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>Log4J display this warning message when Log4j Java code is searching to create a first log line in your program.</p>\n\n<p>At this moment, Log4j make 2 things</p>\n\n<ol>\n<li>it search to find <code>log4j.properties</code> file</li>\n<li>it search to instantiate the appender define in <code>log4j.properties</code></li>\n</ol>\n\n<p>If <code>log4J</code> doesn't find <code>log4j.properties</code> file or if appender declared in <code>log4j.rootlogger</code> are not defined elsewhere in <code>log4j.properties</code> file the warning message is displayed.</p>\n\n<p>CAUTION: the content of Properties file must be correct.</p>\n\n<p>The following content is NOT correct</p>\n\n<pre><code>log4j.rootLogger=file\n\nlog4j.appender.FILE=org.apache.log4j.FileAppender\nlog4j.appender.FILE.File=c:/Trace/MsgStackLogging.log\nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.FILE.layout.ConversionPattern=%m%n\nlog4j.appender.FILE.ImmediateFlush=true\nlog4j.appender.FILE.Threshold=debug\nlog4j.appender.FILE.Append=false\n</code></pre>\n\n<p>because <code>file</code> appender is declared in LOWER-CASE in <code>log4j.rootlogger</code> statement and defined in log4j.appender statement using UPPER-CASE !</p>\n\n<p>A correct file would be</p>\n\n<pre><code>log4j.rootLogger=FILE\n\nlog4j.appender.FILE=org.apache.log4j.FileAppender\nlog4j.appender.FILE.File=c:/Trace/MsgStackLogging.log\nlog4j.appender.FILE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.FILE.layout.ConversionPattern=%m%n\nlog4j.appender.FILE.ImmediateFlush=true\nlog4j.appender.FILE.Threshold=debug\nlog4j.appender.FILE.Append=false\n</code></pre>\n\n<p>If MAVEN is used, you must put log4j.properties files in <code>src/main/resources</code> AND start a MAVEN build.</p>\n\n<p>Log4j.properties file is then copied in <code>target/classes</code> folder.</p>\n\n<p>Log4J use the <code>log4j.properties</code> file that it found in <code>target/classes</code> !</p>\n"},{"tags":[],"owner":{"account_id":11898682,"reputation":1451,"user_id":8733066,"display_name":"bb1950328"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1542968133,"creation_date":1542968133,"answer_id":53444716,"question_id":12532339,"body_markdown":"I had this problem too.\r\nI just forgot to mark the resources directory in IntelliJ IDEA\r\n\r\n 1. Rightclick on your directory\r\n 2. Mark directory as\r\n 3. Resources root","title":"No appenders could be found for logger(log4j)?","body":"<p>I had this problem too.\nI just forgot to mark the resources directory in IntelliJ IDEA</p>\n\n<ol>\n<li>Rightclick on your directory</li>\n<li>Mark directory as</li>\n<li>Resources root</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16083247,"reputation":91,"user_id":11608633,"display_name":"Yamuna Erraguntla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1562238360,"creation_date":1562238360,"answer_id":56886618,"question_id":12532339,"body_markdown":"I faced the same issue when I tried to run the JUnit test class.\r\n\r\n The issue is resolved after I manually added the log4j.properties file in the src/test/resources folder.\r\n \r\n Adding the below code to the log4j.properties file solved the issue:\r\n\r\n```\r\n# Root logger option\r\nlog4j.rootLogger=INFO, file, stdout\r\n\r\n# Direct log messages to a log file\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=C:\\\\logging.log\r\nlog4j.appender.file.MaxFileSize=10MB\r\nlog4j.appender.file.MaxBackupIndex=10\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n \r\n# Direct log messages to stdout\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n```","title":"No appenders could be found for logger(log4j)?","body":"<p>I faced the same issue when I tried to run the JUnit test class.</p>\n\n<p>The issue is resolved after I manually added the log4j.properties file in the src/test/resources folder.</p>\n\n<p>Adding the below code to the log4j.properties file solved the issue:</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, file, stdout\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=C:\\\\logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4130267,"reputation":763,"user_id":3388381,"accept_rate":100,"display_name":"ph0enix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572860262,"creation_date":1572860262,"answer_id":58690608,"question_id":12532339,"body_markdown":"If you are using Eclipse and this problem appeared out of nowhere after everything worked fine beforehand, try going to `Project - Clean - Clean`. ","title":"No appenders could be found for logger(log4j)?","body":"<p>If you are using Eclipse and this problem appeared out of nowhere after everything worked fine beforehand, try going to <code>Project - Clean - Clean</code>. </p>\n"},{"tags":[],"owner":{"account_id":11307943,"reputation":527,"user_id":8291902,"display_name":"nosequeweaponer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1582320923,"creation_date":1582320923,"answer_id":60346507,"question_id":12532339,"body_markdown":"First of all: Create a log4j.properties file\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=INFO, stdout\r\n    \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nPlace it in src/main/resources/\r\n\r\nAfter that, use this 2 dependencies:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nIt is necessary to add this final dependency to POM file:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"No appenders could be found for logger(log4j)?","body":"<p>First of all: Create a log4j.properties file</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, stdout\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n\n<p>Place it in src/main/resources/</p>\n\n<p>After that, use this 2 dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>It is necessary to add this final dependency to POM file:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.1.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":560113,"reputation":116,"user_id":9383214,"display_name":"Farlon Souto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584525138,"creation_date":1584460807,"answer_id":60725966,"question_id":12532339,"body_markdown":"Consider the log4j JVM argument **Dlog4j.configuration**\r\n\r\n**In general:** \r\n\r\nAdd the JVM argument that points out the log4j config file.\r\nThe syntax is just like follows:\r\n\r\n    java [ options ] -jar file.jar [ arguments ]\r\n\r\nA sample of a real command line is just like the following:\r\n\r\n    java -Dlog4j.configuration=conf/log4j.xml -jar myJarFile.jar myArg1 myArg2\r\n\r\n**For IntelliJ IDE users:**\r\n\r\n    1.Run/Debug Configurations\r\n    2.Edit configurations...\r\n    3.VM options\r\n    4.Enter the same value also starting with &quot;-D&quot;\r\n\r\n\r\n**Tips:** \r\n\r\n1.Eclipse IDE users will find an equivalent approach\r\n\r\n2.For the run/debug configuration editor, it&#39;s very likely that, at the beginning of the times, your particular executable file is not there. Depending on the size of the project you&#39;re currently working on, it can be unpleasant to navigate directories to find it. It&#39;s less of a hassle if you just *run/execute the file (click play) once before proceeding to run/debug config* no matter what the execution result is.\r\n\r\n3.Pay attention to your working directory, relative paths, and classpath.\r\n\r\n","title":"No appenders could be found for logger(log4j)?","body":"<p>Consider the log4j JVM argument <strong>Dlog4j.configuration</strong></p>\n\n<p><strong>In general:</strong> </p>\n\n<p>Add the JVM argument that points out the log4j config file.\nThe syntax is just like follows:</p>\n\n<pre><code>java [ options ] -jar file.jar [ arguments ]\n</code></pre>\n\n<p>A sample of a real command line is just like the following:</p>\n\n<pre><code>java -Dlog4j.configuration=conf/log4j.xml -jar myJarFile.jar myArg1 myArg2\n</code></pre>\n\n<p><strong>For IntelliJ IDE users:</strong></p>\n\n<pre><code>1.Run/Debug Configurations\n2.Edit configurations...\n3.VM options\n4.Enter the same value also starting with \"-D\"\n</code></pre>\n\n<p><strong>Tips:</strong> </p>\n\n<p>1.Eclipse IDE users will find an equivalent approach</p>\n\n<p>2.For the run/debug configuration editor, it's very likely that, at the beginning of the times, your particular executable file is not there. Depending on the size of the project you're currently working on, it can be unpleasant to navigate directories to find it. It's less of a hassle if you just <em>run/execute the file (click play) once before proceeding to run/debug config</em> no matter what the execution result is.</p>\n\n<p>3.Pay attention to your working directory, relative paths, and classpath.</p>\n"},{"tags":[],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702023845,"creation_date":1592376775,"answer_id":62423055,"question_id":12532339,"body_markdown":"For me, the reason was apparently different, and the error message misleading.\r\n\r\nWith just this in my build.gradle, it would complain that slf4j was missing at the beginning of the log, but still log things, albeit in a poor format:\r\n\r\n```\r\n    compile &#39;log4j:log4j:1.2.17&#39;\r\n```\r\n\r\nAdding that dependency would cause the discussed &quot;no appenders could be found&quot; error message for me, even though I had defined them in `src/main/java/log4j.properties`:\r\n\r\n```\r\n    compile &#39;log4j:log4j:1.2.17&#39;\r\n    compile &#39;org.slf4j:slf4j-log4j12:1.7.25&#39;\r\n```\r\n\r\nFinally, adding the following dependency (which I only guessed at by copycatting it from another project) resolved the issue:\r\n\r\n```\r\n    compile &#39;log4j:log4j:1.2.17&#39;\r\n    compile &#39;org.slf4j:slf4j-log4j12:1.7.25&#39;\r\n    compile &#39;commons-logging:commons-logging:1.2&#39;\r\n```\r\n\r\nI don&#39;t know why, but with this it works.","title":"No appenders could be found for logger(log4j)?","body":"<p>For me, the reason was apparently different, and the error message misleading.</p>\n<p>With just this in my build.gradle, it would complain that slf4j was missing at the beginning of the log, but still log things, albeit in a poor format:</p>\n<pre><code>    compile 'log4j:log4j:1.2.17'\n</code></pre>\n<p>Adding that dependency would cause the discussed &quot;no appenders could be found&quot; error message for me, even though I had defined them in <code>src/main/java/log4j.properties</code>:</p>\n<pre><code>    compile 'log4j:log4j:1.2.17'\n    compile 'org.slf4j:slf4j-log4j12:1.7.25'\n</code></pre>\n<p>Finally, adding the following dependency (which I only guessed at by copycatting it from another project) resolved the issue:</p>\n<pre><code>    compile 'log4j:log4j:1.2.17'\n    compile 'org.slf4j:slf4j-log4j12:1.7.25'\n    compile 'commons-logging:commons-logging:1.2'\n</code></pre>\n<p>I don't know why, but with this it works.</p>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631132411,"creation_date":1631132411,"answer_id":69109216,"question_id":12532339,"body_markdown":"I was getting this error message in IntelliJ when trying to run unit tests. I had both Eclipse and IntelliJ open at the same time, which may have caused this problem. After I closed both IDE&#39;s and ran a maven command line build the error went away.","title":"No appenders could be found for logger(log4j)?","body":"<p>I was getting this error message in IntelliJ when trying to run unit tests. I had both Eclipse and IntelliJ open at the same time, which may have caused this problem. After I closed both IDE's and ran a maven command line build the error went away.</p>\n"}],"owner":{"account_id":251993,"reputation":11324,"user_id":1248720,"accept_rate":89,"display_name":"maximus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937110,"favorite_count":0,"down_vote_count":0,"up_vote_count":475,"accepted_answer_id":12532442,"answer_count":32,"score":475,"last_activity_date":1702023845,"creation_date":1348237041,"question_id":12532339,"body_markdown":"I have put log4j to my buildpath, but I get the following message when I run my application:\r\n\r\n    log4j:WARN No appenders could be found for logger (dao.hsqlmanager).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nWhat do these warnings mean?  Whats the appender here?","title":"No appenders could be found for logger(log4j)?","body":"<p>I have put log4j to my buildpath, but I get the following message when I run my application:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (dao.hsqlmanager).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n\n<p>What do these warnings mean?  Whats the appender here?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"score":3,"creation_date":1387805107,"post_id":20744474,"comment_id":31084050,"body_markdown":"use java.util.Date instead of java.sql.Date.","body":"use java.util.Date instead of java.sql.Date."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1549181349,"post_id":20744474,"comment_id":95806427,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1387805319,"creation_date":1387805048,"answer_id":20744505,"question_id":20744474,"body_markdown":"You are using the wrong `Date` class.\r\n\r\nHave a look at your imports. Don&#39;t use `java.sql.Date` use `java.util.Date` instead.","title":"Date constructor java","body":"<p>You are using the wrong <code>Date</code> class.</p>\n\n<p>Have a look at your imports. Don't use <code>java.sql.Date</code> use <code>java.util.Date</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387805071,"creation_date":1387805071,"answer_id":20744515,"question_id":20744474,"body_markdown":"You are importing `java.sql.Date` use `java.util.Date`","title":"Date constructor java","body":"<p>You are importing <code>java.sql.Date</code> use <code>java.util.Date</code></p>\n"},{"tags":[],"owner":{"account_id":164909,"reputation":14734,"user_id":387981,"accept_rate":88,"display_name":"Matteo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1387805440,"creation_date":1387805081,"answer_id":20744520,"question_id":20744474,"body_markdown":"The examples you found are for [`java.util.Date`][1] while you are using [`java.sql.Date`][2]\r\n\r\n * `java.sql.Date`\r\n\r\n  has two constructors\r\n   * `Date(long date)`: Constructs a Date object using the given milliseconds time value.\r\n   * `Date(int year, int month, int day)`: which is deprecated\r\n\r\n  and no default `Date()` constructor.\r\n\r\n * `java.util.Date`\r\n\r\n  among others has a default constructor without arguments\r\n\r\n   * `Date()`: Allocates a Date object and initializes it so that it represents the time at which it was allocated, measured to the nearest millisecond.\r\n\r\nWhen importing classes, Eclipse will help you fining possible candidates but always check if the first suggestion is really what you want.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/Date.html\r\n ","title":"Date constructor java","body":"<p>The examples you found are for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> while you are using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Date.html\" rel=\"noreferrer\"><code>java.sql.Date</code></a></p>\n\n<ul>\n<li><p><code>java.sql.Date</code></p>\n\n<p>has two constructors</p>\n\n<ul>\n<li><code>Date(long date)</code>: Constructs a Date object using the given milliseconds time value.</li>\n<li><code>Date(int year, int month, int day)</code>: which is deprecated</li>\n</ul>\n\n<p>and no default <code>Date()</code> constructor.</p></li>\n<li><p><code>java.util.Date</code></p>\n\n<p>among others has a default constructor without arguments</p>\n\n<ul>\n<li><code>Date()</code>: Allocates a Date object and initializes it so that it represents the time at which it was allocated, measured to the nearest millisecond.</li>\n</ul></li>\n</ul>\n\n<p>When importing classes, Eclipse will help you fining possible candidates but always check if the first suggestion is really what you want.</p>\n"},{"tags":[],"owner":{"account_id":1260595,"reputation":7659,"user_id":1218985,"display_name":"1218985"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387805157,"creation_date":1387805157,"answer_id":20744538,"question_id":20744474,"body_markdown":"You have imported wrong class. It is `java.util.Date` and not `java.sql.Date`","title":"Date constructor java","body":"<p>You have imported wrong class. It is <code>java.util.Date</code> and not <code>java.sql.Date</code></p>\n"},{"tags":[],"owner":{"account_id":2408538,"reputation":383,"user_id":2104293,"accept_rate":25,"display_name":"Serdar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387805367,"creation_date":1387805367,"answer_id":20744596,"question_id":20744474,"body_markdown":"You can also use use java.util.Calendar as follows:\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    java.util.Date date = c.getTime();","title":"Date constructor java","body":"<p>You can also use use java.util.Calendar as follows:</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\njava.util.Date date = c.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702023652,"creation_date":1387849692,"answer_id":20753770,"question_id":20744474,"body_markdown":"# tl;dr\r\n\r\nGet today’s date:\r\n\r\n    LocalDate.now()\r\n\r\nGenerate text representing today’s date, in your desired format:\r\n\r\n    LocalDate\r\n    .now()\r\n    .format(\r\n        DateTimeFormatter.ofPattern( &quot;d/M/uuuu&quot; ) \r\n    )\r\n\r\n&gt;23/1/2019\r\n\r\n\r\n# Details\r\n\r\nThe [answer by Matteo][1] is correct. You are abusing the java.sql.Date class by treating it as java.util.Date.\r\n\r\nBut the answers suggesting using java.util.Calendar questions are misguided. Both java.util.Date &amp; Calendar are notoriously bad classes, with poor design and implementation. They are outmoded by the modern *java.time* JSR 310 classes.\r\n\r\nAlso, when working with date-time you should always think about time zone. Otherwise you&#39;ll be getting default time zone with possibly varying behavior at runtime.\r\n\r\n*java.time*\r\n--\r\n\r\n    ZonedDateTime zonedDateTime = ZonedDateTime.now( ZoneId.of( &quot;America/Montreal&quot; ) );\r\n\r\nIf you want a date-only value, without a time-of-day and without a time zone, use `LocalDate`.\r\n\r\n## `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without [time zone](https://en.wikipedia.org/wiki/Time_zone) or [offset-from-UTC](https://en.wikipedia.org/wiki/UTC_offset).\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nIf no time zone is specified, the JVM implicitly applies its current default time zone. That default may [change at any moment](https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html#getDefault()) during runtime(!), so your results may vary. Better to specify your desired/expected time zone explicitly as an argument.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `Continent/Region`, such as `America/Montreal`, `Africa/Casablanca`, or `Pacific/Auckland`. Never use the 2-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nIf you want to use the JVM’s current default time zone, ask for it and pass as an argument. If omitted, the code becomes ambiguous to read in that we do not know for certain if you intended to use the default or if you, like so many programmers, were unaware of the issue.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Get JVM’s current default time zone.\r\n\r\n\r\nOr specify a date. You may set the month by a number, with sane numbering 1-12 for January-December. \r\n\r\n    LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\r\n\r\nOr, better, use the [`Month`](https://docs.oracle.com/javase/10/docs/api/java/time/Month.html) enum objects pre-defined, one for each month of the year. Tip: Use these `Month` objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide [type-safety](https://en.wikipedia.org/wiki/Type_safety). Ditto for [`Year`](https://docs.oracle.com/javase/8/docs/api/java/time/Year.html) &amp; [`YearMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html).\r\n\r\n    LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20744520/642706","title":"Date constructor java","body":"<h1>tl;dr</h1>\n<p>Get today’s date:</p>\n<pre><code>LocalDate.now()\n</code></pre>\n<p>Generate text representing today’s date, in your desired format:</p>\n<pre><code>LocalDate\n.now()\n.format(\n    DateTimeFormatter.ofPattern( &quot;d/M/uuuu&quot; ) \n)\n</code></pre>\n<blockquote>\n<p>23/1/2019</p>\n</blockquote>\n<h1>Details</h1>\n<p>The <a href=\"https://stackoverflow.com/a/20744520/642706\">answer by Matteo</a> is correct. You are abusing the java.sql.Date class by treating it as java.util.Date.</p>\n<p>But the answers suggesting using java.util.Calendar questions are misguided. Both java.util.Date &amp; Calendar are notoriously bad classes, with poor design and implementation. They are outmoded by the modern <em>java.time</em> JSR 310 classes.</p>\n<p>Also, when working with date-time you should always think about time zone. Otherwise you'll be getting default time zone with possibly varying behavior at runtime.</p>\n<h2><em>java.time</em></h2>\n<pre><code>ZonedDateTime zonedDateTime = ZonedDateTime.now( ZoneId.of( &quot;America/Montreal&quot; ) );\n</code></pre>\n<p>If you want a date-only value, without a time-of-day and without a time zone, use <code>LocalDate</code>.</p>\n<h2><code>LocalDate</code></h2>\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a> or <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a>.</p>\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"nofollow noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\">Montréal Québec</a>.</p>\n<p>If no time zone is specified, the JVM implicitly applies its current default time zone. That default may <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/TimeZone.html#getDefault()\" rel=\"nofollow noreferrer\">change at any moment</a> during runtime(!), so your results may vary. Better to specify your desired/expected time zone explicitly as an argument.</p>\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>Continent/Region</code>, such as <code>America/Montreal</code>, <code>Africa/Casablanca</code>, or <code>Pacific/Auckland</code>. Never use the 2-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;  \nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>If you want to use the JVM’s current default time zone, ask for it and pass as an argument. If omitted, the code becomes ambiguous to read in that we do not know for certain if you intended to use the default or if you, like so many programmers, were unaware of the issue.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Get JVM’s current default time zone.\n</code></pre>\n<p>Or specify a date. You may set the month by a number, with sane numbering 1-12 for January-December.</p>\n<pre><code>LocalDate ld = LocalDate.of( 1986 , 2 , 23 ) ;  // Years use sane direct numbering (1986 means year 1986). Months use sane numbering, 1-12 for January-December.\n</code></pre>\n<p>Or, better, use the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum objects pre-defined, one for each month of the year. Tip: Use these <code>Month</code> objects throughout your codebase rather than a mere integer number to make your code more self-documenting, ensure valid values, and provide <a href=\"https://en.wikipedia.org/wiki/Type_safety\" rel=\"nofollow noreferrer\">type-safety</a>. Ditto for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> &amp; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>.</p>\n<pre><code>LocalDate ld = LocalDate.of( 1986 , Month.FEBRUARY , 23 ) ;\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":2095022,"reputation":1443,"user_id":1864003,"accept_rate":87,"display_name":"JmRag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39845,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":20744520,"answer_count":6,"score":7,"last_activity_date":1702023652,"creation_date":1387804939,"question_id":20744474,"body_markdown":"Hello I am trying to get the current date at java at a Class I created but everything fails. I&#39;ve seen in many sites \r\n e.g. [http://www.mkyong.com/java/java-date-and-calendar-examples/][1]\r\n  [1]: http://www.mkyong.com/java/java-date-and-calendar-examples/\r\nthat the date constructor has no arguments \r\n e.g. `Date date = new Date();`\r\n\r\nNow in my project I try to use it like this and I get the error \r\n\r\n&gt; that The constructor Date() is undefined\r\n\r\nHow is this possible? I give you the full code so far \r\n\r\n    import java.sql.Date;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    \r\n    public class Utility {\r\n    \t\r\n    \r\n    \t\tString title;\r\n    \t\tint ID;\r\n    \t\tDate date;\r\n    \t\t\r\n    \t\tUtility(String t,int ID){\r\n    \t\t\tthis.ID=ID+1;\r\n    \t\t\ttitle=t;\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/M/yyyy&quot;);\r\n    \t\t\tDate a=new Date();// I get the error here\r\n    \t\t\tString date = sdf.format(a);\r\n    \t\t\tSystem.out.print(date);\r\n    \t\t\t\r\n    \t\t\r\n    \t\t}\r\n    }\r\n\r\nI work at Eclipse IDE. Can you help me?\r\n\r\n\r\n\r\n\r\n \r\n","title":"Date constructor java","body":"<p>Hello I am trying to get the current date at java at a Class I created but everything fails. I've seen in many sites \n e.g. <a href=\"http://www.mkyong.com/java/java-date-and-calendar-examples/\" rel=\"nofollow\">http://www.mkyong.com/java/java-date-and-calendar-examples/</a>\nthat the date constructor has no arguments \n e.g. <code>Date date = new Date();</code></p>\n\n<p>Now in my project I try to use it like this and I get the error </p>\n\n<blockquote>\n  <p>that The constructor Date() is undefined</p>\n</blockquote>\n\n<p>How is this possible? I give you the full code so far </p>\n\n<pre><code>import java.sql.Date;\nimport java.text.SimpleDateFormat;\n\n\npublic class Utility {\n\n\n        String title;\n        int ID;\n        Date date;\n\n        Utility(String t,int ID){\n            this.ID=ID+1;\n            title=t;\n            SimpleDateFormat sdf = new SimpleDateFormat(\"dd/M/yyyy\");\n            Date a=new Date();// I get the error here\n            String date = sdf.format(a);\n            System.out.print(date);\n\n\n        }\n}\n</code></pre>\n\n<p>I work at Eclipse IDE. Can you help me?</p>\n"},{"tags":["java","spring","jpa","join","spring-data"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1701317818,"post_id":77575698,"comment_id":136761684,"body_markdown":"What do you mean by “Java Specification”?","body":"What do you mean by “Java Specification”?"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1701319679,"post_id":77575698,"comment_id":136761838,"body_markdown":"@BasilBourque this is what I am trying `org.springframework.data.jpa.domain.Specification;`","body":"@BasilBourque this is what I am trying <code>org.springframework.data.jpa.domain.Specification;</code>"},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":1,"creation_date":1701777453,"post_id":77575698,"comment_id":136815012,"body_markdown":"@David may you add also your entities classes?","body":"@David may you add also your entities classes?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1701782620,"post_id":77575698,"comment_id":136815942,"body_markdown":"Question is not clear. Please edit question by fixing your query API to add more details.","body":"Question is not clear. Please edit question by fixing your query API to add more details."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":1,"creation_date":1701840871,"post_id":77575698,"comment_id":136823773,"body_markdown":"@AnishB. I have asked a detailed question here https://stackoverflow.com/questions/77597342/how-to-handle-null-value-in-one-to-many-relation-by-using-criteria-builder","body":"@AnishB. I have asked a detailed question here <a href=\"https://stackoverflow.com/questions/77597342/how-to-handle-null-value-in-one-to-many-relation-by-using-criteria-builder\" title=\"how to handle null value in one to many relation by using criteria builder\">stackoverflow.com/questions/77597342/&hellip;</a>"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1701845656,"post_id":77575698,"comment_id":136824184,"body_markdown":"Are you using spring boot or vanilla spring ?","body":"Are you using spring boot or vanilla spring ?"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":1,"creation_date":1701849838,"post_id":77575698,"comment_id":136824737,"body_markdown":"I am using Spring boot @AnishB.","body":"I am using Spring boot @AnishB."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1701849892,"post_id":77575698,"comment_id":136824745,"body_markdown":"@AngeloImmediata I ahve asked detailed question here https://stackoverflow.com/questions/77597342/how-to-handle-null-value-in-one-to-many-relation-by-using-criteria-builder","body":"@AngeloImmediata I ahve asked detailed question here <a href=\"https://stackoverflow.com/questions/77597342/how-to-handle-null-value-in-one-to-many-relation-by-using-criteria-builder\" title=\"how to handle null value in one to many relation by using criteria builder\">stackoverflow.com/questions/77597342/&hellip;</a>"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1702021408,"post_id":77575698,"comment_id":136848975,"body_markdown":"I do not understanding exactly what you want to achieve. Could you please provide some example result informations? An SQL equivalent would be nice too.","body":"I do not understanding exactly what you want to achieve. Could you please provide some example result informations? An SQL equivalent would be nice too."}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702023366,"creation_date":1702023366,"answer_id":77625205,"question_id":77575698,"body_markdown":"You can achieve conditional join by using `criteriaBuilder.selectCase()` here is an example how you can modify your code -\r\n\r\n    @Override\r\n    protected Expression&lt;String&gt; getPath(SearchCriteria criteria, Root&lt;Student&gt; root, CriteriaBuilder criteriaBuilder) {\r\n        if (criteria.getKey().equals(&quot;lastRollResult&quot;)) {\r\n            Path&lt;Object&gt; lastRollResultPath = root.get(&quot;lastRollResult&quot;);\r\n    \r\n            Expression&lt;String&gt; successExpression = criteriaBuilder.selectCase()\r\n                    .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.SUCCESS), root.join(&quot;lastRollResult&quot;, JoinType.INNER).get(&quot;result&quot;))\r\n                    .otherwise((Expression&lt;String&gt;) root.get(&quot;lastRollId&quot;));\r\n    \r\n            Expression&lt;String&gt; failureExpression = criteriaBuilder.selectCase()\r\n                    .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.FAILURE), root.join(&quot;lastRollResult&quot;, JoinType.INNER).get(&quot;result&quot;))\r\n                    .otherwise((Expression&lt;String&gt;) root.get(&quot;lastRollId&quot;));\r\n    \r\n            return criteriaBuilder.selectCase()\r\n                    .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.SUCCESS), successExpression)\r\n                    .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.FAILURE), failureExpression)\r\n                    .otherwise((Expression&lt;String&gt;) root.get(&quot;lastRollId&quot;));\r\n        }\r\n    \r\n        return root.get(criteria.getKey());\r\n    }\r\n\r\nIn this example I&#39;ve used `criteriaBuilder.selectCase()` which creates a conditional expression based on `lastRollResult`. If it&#39;s success it joins the `lastRollResult` table and get the `result` column otherwise it returns the `lastRollResult` from the `Student` table.\r\n\r\n**Make sure to do code adjustment based on your need it&#39;s just an example.**","title":"How to join two results with Spring Data Specification","body":"<p>You can achieve conditional join by using <code>criteriaBuilder.selectCase()</code> here is an example how you can modify your code -</p>\n<pre><code>@Override\nprotected Expression&lt;String&gt; getPath(SearchCriteria criteria, Root&lt;Student&gt; root, CriteriaBuilder criteriaBuilder) {\n    if (criteria.getKey().equals(&quot;lastRollResult&quot;)) {\n        Path&lt;Object&gt; lastRollResultPath = root.get(&quot;lastRollResult&quot;);\n\n        Expression&lt;String&gt; successExpression = criteriaBuilder.selectCase()\n                .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.SUCCESS), root.join(&quot;lastRollResult&quot;, JoinType.INNER).get(&quot;result&quot;))\n                .otherwise((Expression&lt;String&gt;) root.get(&quot;lastRollId&quot;));\n\n        Expression&lt;String&gt; failureExpression = criteriaBuilder.selectCase()\n                .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.FAILURE), root.join(&quot;lastRollResult&quot;, JoinType.INNER).get(&quot;result&quot;))\n                .otherwise((Expression&lt;String&gt;) root.get(&quot;lastRollId&quot;));\n\n        return criteriaBuilder.selectCase()\n                .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.SUCCESS), successExpression)\n                .when(criteriaBuilder.equal(lastRollResultPath, EnumResult.FAILURE), failureExpression)\n                .otherwise((Expression&lt;String&gt;) root.get(&quot;lastRollId&quot;));\n    }\n\n    return root.get(criteria.getKey());\n}\n</code></pre>\n<p>In this example I've used <code>criteriaBuilder.selectCase()</code> which creates a conditional expression based on <code>lastRollResult</code>. If it's success it joins the <code>lastRollResult</code> table and get the <code>result</code> column otherwise it returns the <code>lastRollResult</code> from the <code>Student</code> table.</p>\n<p><strong>Make sure to do code adjustment based on your need it's just an example.</strong></p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702023366,"creation_date":1701314741,"question_id":77575698,"body_markdown":"How to join two results in while using Criteriabuilder \r\n\r\nI am using CriteriaBuilder where I am using two table Student and StudentResult.\r\n\r\nWhen I am querying my API\r\n\r\nhttp://localhost:8080/student?query=grade:5,lastRollResult%40SUCCESS%23FAILURE\r\n\r\nIn this case I am able to get the data from `Join results = root.join(&quot;lastRollResult&quot;, JoinType.INNER);` This is fetching from StudentResult Table. \r\n\r\nSimilarly when I am passing the null value as lastRollResult I am getting data from `return root.get(&quot;lastRunId&quot;);` This is fetching from Student Table as there is no result in that so result column is null. \r\n\r\nMy question is how to join these two result when I am passing any of the enum like success or failure with null. \r\n\r\n\r\n    @Override\r\n    protected Expression&lt;String&gt; getPath(SearchCriteria criteria, Root&lt;Student&gt; root) {\r\n      if (criteria.getKey().equals(&quot;lastRollResult&quot;))  { // codition check null. avoid join. \r\n        if (!&quot;null&quot;.equals(criteria.getValue())) {\r\n          Join results = root.join(&quot;lastRollResult&quot;, JoinType.INNER);\r\n          return results.get(&quot;result&quot;);\r\n        } else {\r\n          return root.get(&quot;lastRollId&quot;);\r\n        }\r\n    }\r\n      return root.get(criteria.getKey());\r\n    }\r\n\r\n\r\n\r\nThis is my class definition :\r\n\r\n`public abstract class BaseSpecification&lt;M&gt; implements Specification&lt;M&gt; ` ","title":"How to join two results with Spring Data Specification","body":"<p>How to join two results in while using Criteriabuilder</p>\n<p>I am using CriteriaBuilder where I am using two table Student and StudentResult.</p>\n<p>When I am querying my API</p>\n<p>http://localhost:8080/student?query=grade:5,lastRollResult%40SUCCESS%23FAILURE</p>\n<p>In this case I am able to get the data from <code>Join results = root.join(&quot;lastRollResult&quot;, JoinType.INNER);</code> This is fetching from StudentResult Table.</p>\n<p>Similarly when I am passing the null value as lastRollResult I am getting data from <code>return root.get(&quot;lastRunId&quot;);</code> This is fetching from Student Table as there is no result in that so result column is null.</p>\n<p>My question is how to join these two result when I am passing any of the enum like success or failure with null.</p>\n<pre><code>@Override\nprotected Expression&lt;String&gt; getPath(SearchCriteria criteria, Root&lt;Student&gt; root) {\n  if (criteria.getKey().equals(&quot;lastRollResult&quot;))  { // codition check null. avoid join. \n    if (!&quot;null&quot;.equals(criteria.getValue())) {\n      Join results = root.join(&quot;lastRollResult&quot;, JoinType.INNER);\n      return results.get(&quot;result&quot;);\n    } else {\n      return root.get(&quot;lastRollId&quot;);\n    }\n}\n  return root.get(criteria.getKey());\n}\n</code></pre>\n<p>This is my class definition :</p>\n<p><code>public abstract class BaseSpecification&lt;M&gt; implements Specification&lt;M&gt; </code></p>\n"},{"tags":["java","ssl","keystore","authentication"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1362438630,"post_id":15201251,"comment_id":21441490,"body_markdown":"What&#39;s the &#39;bar&#39; entry for? Why do you have two client certificates?","body":"What&#39;s the &#39;bar&#39; entry for? Why do you have two client certificates?"},{"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"score":0,"creation_date":1362470107,"post_id":15201251,"comment_id":21450434,"body_markdown":"@EJP : The client program is a testing program. Several key-entries are needed for testing different kind of use cases.","body":"@EJP : The client program is a testing program. Several key-entries are needed for testing different kind of use cases."}],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1362403527,"creation_date":1362403527,"answer_id":15202608,"question_id":15201251,"body_markdown":"The default `KeyManager` will send the first certificate it finds that matches the conditions requested by the server, that is, it will send the first one it find for which it can build a certification chain up one of the CA names sent by the server during the request.\r\n\r\nIf you always want a specific alias to be chosen, you&#39;ll need to implement your own [`X509KeyManager`](http://docs.oracle.com/javase/7/docs/api/javax/net/ssl/X509KeyManager.html), possibly wrapping the default manager. Something along these lines should work (not tested this actual code, there may be a few typos):\r\n\r\n    KeyStore keystore = ... // create and load your keystore.\r\n\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n    kmf.init(keystore, password.toCharArray());\r\n\r\n    final X509KeyManager origKm = (X509KeyManager)kmf.getKeyManagers()[0];\r\n\r\n    X509KeyManager km = new X509KeyManager() {\r\n        public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\r\n            return &quot;foo&quot;;\r\n        }\r\n\r\n        public X509Certificate[] getCertificateChain(String alias) {\r\n            return origKm.getCertificateChain(alias);\r\n        }\r\n\r\n        // Delegate the rest of the methods from origKm too...\r\n    }\r\n\r\n\r\nThen use it for your `SSLContext`:\r\n\r\n    SSLContext sslContext = sslContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(new KeyManager[] { km }, null, null);\r\n    SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();","title":"How I can tell alias of the wanted key-entry to SSLSocket before connecting?","body":"<p>The default <code>KeyManager</code> will send the first certificate it finds that matches the conditions requested by the server, that is, it will send the first one it find for which it can build a certification chain up one of the CA names sent by the server during the request.</p>\n\n<p>If you always want a specific alias to be chosen, you'll need to implement your own <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/net/ssl/X509KeyManager.html\" rel=\"noreferrer\"><code>X509KeyManager</code></a>, possibly wrapping the default manager. Something along these lines should work (not tested this actual code, there may be a few typos):</p>\n\n<pre><code>KeyStore keystore = ... // create and load your keystore.\n\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\nkmf.init(keystore, password.toCharArray());\n\nfinal X509KeyManager origKm = (X509KeyManager)kmf.getKeyManagers()[0];\n\nX509KeyManager km = new X509KeyManager() {\n    public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\n        return \"foo\";\n    }\n\n    public X509Certificate[] getCertificateChain(String alias) {\n        return origKm.getCertificateChain(alias);\n    }\n\n    // Delegate the rest of the methods from origKm too...\n}\n</code></pre>\n\n<p>Then use it for your <code>SSLContext</code>:</p>\n\n<pre><code>SSLContext sslContext = sslContext.getInstance(\"TLS\");\nsslContext.init(new KeyManager[] { km }, null, null);\nSSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n</code></pre>\n"}],"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12146,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":15202608,"answer_count":1,"score":22,"last_activity_date":1702023089,"creation_date":1362398944,"question_id":15201251,"body_markdown":"I have two certificate/key pairs in a Java keystore. Aliases of those key-entries are &quot;foo&quot; and &quot;bar&quot;.\r\n\r\nMy TLS client (Java program) uses the keystore. TLS client authentication is done during connection opening. \r\nThe client program should use &quot;foo&quot; key-entry when TLS server request certificate from the client.\r\nNow the client send wrong certificate (&quot;bar&quot;) to the server during connection handshake.\r\n\r\nHow I can tell alias of the wanted key-entry to `SSLSocket` before connecting?\r\n\r\nCurrently the code is following:\r\n\r\n    final SSLSocket ss = (SSLSocket)SSLSocketFactory.getDefault().createSocket(); \r\n    ss.setEnabledProtocols( new String[] {&quot;TLSv1&quot;});\r\n    ss.connect( targetAddress ); \r\n\r\n\t  \r\n    \t        \t\r\n","title":"How I can tell alias of the wanted key-entry to SSLSocket before connecting?","body":"<p>I have two certificate/key pairs in a Java keystore. Aliases of those key-entries are &quot;foo&quot; and &quot;bar&quot;.</p>\n<p>My TLS client (Java program) uses the keystore. TLS client authentication is done during connection opening.\nThe client program should use &quot;foo&quot; key-entry when TLS server request certificate from the client.\nNow the client send wrong certificate (&quot;bar&quot;) to the server during connection handshake.</p>\n<p>How I can tell alias of the wanted key-entry to <code>SSLSocket</code> before connecting?</p>\n<p>Currently the code is following:</p>\n<pre><code>final SSLSocket ss = (SSLSocket)SSLSocketFactory.getDefault().createSocket(); \nss.setEnabledProtocols( new String[] {&quot;TLSv1&quot;});\nss.connect( targetAddress ); \n\n  \n                \n</code></pre>\n"},{"tags":["java","scala","maven","visual-studio-code"],"owner":{"account_id":10947913,"reputation":31,"user_id":8045288,"display_name":"Adrian Corey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702023019,"creation_date":1702023019,"question_id":77625175,"body_markdown":"Inside pom.xml configuration file for maven I notice when a add those tags (testSourceDirectory and sourceDirectory) under the build tag they cause an issue with not being able to import java from the same project into scala files. When I remove them the scalatest-maven-plugin will throw a ClassNotFoundException if I add a single class using the jUnitClasses tag for the scalatest-maven-plugin configuration but it fixes the java import into scala file issue.  \r\n\r\nThis is driving me nuts because I don&#39;t want to wait for every single test class to run if I&#39;m just trying to work on one new class.  I have searched everywhere and had no luck with anything. And no, trying to run a single test class via the mvn command line does not work either. Is there any work around for this so I can test single scala tests and be able to import java files from the same project?\r\n\r\nSample tags I had to remove to get java importing into scala and the ones commented out I tried as a fix:\r\n\r\n    &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;&lt;testSourceDirectory&gt;src/test/scala&lt;/testSourceDirectory&gt;\r\n    &lt;!-- &lt;sourceDirectory&gt;src/main/scala, src/main/java&lt;/sourceDirectory&gt;&lt;testSourceDirectory&gt;src/test/scala, src/test/java&lt;/testSourceDirectory&gt; --&gt;\r\n    &lt;/build&gt;\r\n\r\nThe way I would run a single test before using scala:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;!-- Comma separated list of JUnit test class names to execute --&gt;\r\n\t\t\t\t&lt;jUnitClasses&gt;org.myorg.s3.TestS3Handler&lt;/jUnitClasses&gt;\r\n\r\nThe stupid error I get now when I run &quot;mvn test&quot;:\r\n\r\n    [INFO] --- scalatest-maven-plugin:2.0.0:test (test) @ s3-geoserver ---\r\n    *** RUN ABORTED ***\r\n      java.lang.ClassNotFoundException: org.myorg.s3.TestS3Handler\r\n      at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n      at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:594)\r\n      at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\r\n      at java.base/java.lang.Class.forName0(Native Method)\r\n      at java.base/java.lang.Class.forName(Class.java:398)\r\n      at org.scalatest.junit.JUnitWrapperSuite.&lt;init&gt;(JUnitWrapperSuite.scala:53)\r\n      at org.scalatest.tools.Runner$.$anonfun$doRunRunRunDaDoRunRun$9(Runner.scala:1242)\r\n      at scala.collection.immutable.List.map(List.scala:293)\r\n      at org.scalatest.tools.Runner$.doRunRunRunDaDoRunRun(Runner.scala:1241)\r\n      at org.scalatest.tools.Runner$.$anonfun$runOptionallyWithPassFailReporter$24(Runner.scala:1031)\r\n\r\nPlease someone help me before I end myself.  God I hate maven so much, I have been working with it for years and it still sucks the life out of me with how the configuration system is set up.","title":"How to run a single scala test class without using testSourceDirectory and sourceDirectory maven pom tags (adding them disallows java imports)","body":"<p>Inside pom.xml configuration file for maven I notice when a add those tags (testSourceDirectory and sourceDirectory) under the build tag they cause an issue with not being able to import java from the same project into scala files. When I remove them the scalatest-maven-plugin will throw a ClassNotFoundException if I add a single class using the jUnitClasses tag for the scalatest-maven-plugin configuration but it fixes the java import into scala file issue.</p>\n<p>This is driving me nuts because I don't want to wait for every single test class to run if I'm just trying to work on one new class.  I have searched everywhere and had no luck with anything. And no, trying to run a single test class via the mvn command line does not work either. Is there any work around for this so I can test single scala tests and be able to import java files from the same project?</p>\n<p>Sample tags I had to remove to get java importing into scala and the ones commented out I tried as a fix:</p>\n<pre><code>&lt;build&gt;\n&lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;&lt;testSourceDirectory&gt;src/test/scala&lt;/testSourceDirectory&gt;\n&lt;!-- &lt;sourceDirectory&gt;src/main/scala, src/main/java&lt;/sourceDirectory&gt;&lt;testSourceDirectory&gt;src/test/scala, src/test/java&lt;/testSourceDirectory&gt; --&gt;\n&lt;/build&gt;\n</code></pre>\n<p>The way I would run a single test before using scala:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n        &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;!-- Comma separated list of JUnit test class names to execute --&gt;\n            &lt;jUnitClasses&gt;org.myorg.s3.TestS3Handler&lt;/jUnitClasses&gt;\n</code></pre>\n<p>The stupid error I get now when I run &quot;mvn test&quot;:</p>\n<pre><code>[INFO] --- scalatest-maven-plugin:2.0.0:test (test) @ s3-geoserver ---\n*** RUN ABORTED ***\n  java.lang.ClassNotFoundException: org.myorg.s3.TestS3Handler\n  at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:594)\n  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\n  at java.base/java.lang.Class.forName0(Native Method)\n  at java.base/java.lang.Class.forName(Class.java:398)\n  at org.scalatest.junit.JUnitWrapperSuite.&lt;init&gt;(JUnitWrapperSuite.scala:53)\n  at org.scalatest.tools.Runner$.$anonfun$doRunRunRunDaDoRunRun$9(Runner.scala:1242)\n  at scala.collection.immutable.List.map(List.scala:293)\n  at org.scalatest.tools.Runner$.doRunRunRunDaDoRunRun(Runner.scala:1241)\n  at org.scalatest.tools.Runner$.$anonfun$runOptionallyWithPassFailReporter$24(Runner.scala:1031)\n</code></pre>\n<p>Please someone help me before I end myself.  God I hate maven so much, I have been working with it for years and it still sucks the life out of me with how the configuration system is set up.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","memory-mapped-files"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1701695503,"post_id":77596946,"comment_id":136803766,"body_markdown":"Does this happen when running on a different EC2 instance? (ie, it could be a memory problem on your particiular instance -- in my understanding, SIGBUS is a hardware failure).","body":"Does this happen when running on a different EC2 instance? (ie, it could be a memory problem on your particiular instance -- in my understanding, SIGBUS is a hardware failure)."}],"answers":[{"tags":[],"owner":{"account_id":9525268,"reputation":21,"user_id":7078650,"display_name":"Mukulit Bhati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702022893,"creation_date":1702022893,"answer_id":77625158,"question_id":77596946,"body_markdown":"The SIGBUS (Bus Error) you&#39;re encountering often indicates memory-related issues, particularly with memory alignment. In the given log, it seems to be happening in the Copy::fill_to_memory_atomic function, and the problematic frame is in Unsafe.setMemory0. This suggests that there might be an issue with the memory mapping or alignment.\r\n\r\nTry to experiment with different JVM options. For example, you might try using the -XX:MaxDirectMemorySize option to limit the amount of direct buffer memory and check the ulimit settings on your EC2 instance also review how you are specifying the memory map size.\r\n\r\nIf the issue persists, consider reaching out to AWS support for assistance. They might be able to provide insights specific to your AWS environment.","title":"AWS EC2 java program memorry map issue","body":"<p>The SIGBUS (Bus Error) you're encountering often indicates memory-related issues, particularly with memory alignment. In the given log, it seems to be happening in the Copy::fill_to_memory_atomic function, and the problematic frame is in Unsafe.setMemory0. This suggests that there might be an issue with the memory mapping or alignment.</p>\n<p>Try to experiment with different JVM options. For example, you might try using the -XX:MaxDirectMemorySize option to limit the amount of direct buffer memory and check the ulimit settings on your EC2 instance also review how you are specifying the memory map size.</p>\n<p>If the issue persists, consider reaching out to AWS support for assistance. They might be able to provide insights specific to your AWS environment.</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702022893,"creation_date":1701657329,"question_id":77596946,"body_markdown":"I have a java program where a file around 800MB is memory mapped via `java.io.RandomAccessFile`. I&#39;m hosting it in an EC2 `m5.8xlarge` (32 CPUs, 128GB RAM) instance with JVM OPTS set to `-Xms64g -Xmx64g`. While starting the service, I met error:\r\n```\r\n [thread 3606 also had an error]\r\n #\r\n # A fatal error has been detected by the Java Runtime Environment:\r\n #\r\n #  SIGBUS (0x7) at pc=0x00007f214f3c5e73, pid=3556, tid=3637\r\n #\r\n # JRE version: OpenJDK Runtime Environment Temurin-17.0.6+10 (17.0.6+10) (build 17.0.6+10)\r\n # Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.6+10 (17.0.6+10, mixed mode, sharing, tiered, compressed class ptrs, z gc, linux-amd64)\r\n # Problematic frame:\r\n # V  [libjvm.so+0x602e73]  Copy::fill_to_memory_atomic(void*, unsigned long, unsigned char)+0x103\r\n #\r\n # No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n #\r\n # An error report file with more information is saved as:\r\n # /home/user/builds/current/hs_err_pid3556.log\r\n #\r\n # If you would like to submit a bug report, please visit:\r\n #   https://github.com/adoptium/adoptium-support/issues\r\n #\r\n /home/user/builds/current/start.sh: line 78:  3556 Aborted                 java ${JVM_OPTS} -cp &#39;lib/*&#39; ${LAUNCH_CLASS} $@\r\n```\r\nAnd the `hs_err_pid3556.log` mentioned above gives me below, where `sun.misc.Unsafe.setMemory` went wrong when setting the block of memories to 0s:\r\n```\r\nCurrent thread (0x00007fcaf0274fd0):  JavaThread &quot;ForkJoinPool-1-worker-7&quot; daemon [_thread_in_vm, id=3199, stack(0x00007fcb15fda000,0x00007fcb160db000)]\r\nStack: [0x00007fcb15fda000,0x00007fcb160db000],  sp=0x00007fcb160d8ce8,  free space=1019k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nV  [libjvm.so+0x602e73]  Copy::fill_to_memory_atomic(void*, unsigned long, unsigned char)+0x103\r\nj  jdk.internal.misc.Unsafe.setMemory0(Ljava/lang/Object;JJB)V+0 java.base@17.0.6\r\nj  jdk.internal.misc.Unsafe.setMemory(Ljava/lang/Object;JJB)V+25 java.base@17.0.6\r\nj  jdk.internal.misc.Unsafe.setMemory(JJB)V+6 java.base@17.0.6\r\nj  sun.misc.Unsafe.setMemory(JJB)V+7 jdk.unsupported@17.0.6\r\nj  example.com.buffer.MemoryMappedBuffer.set(JJB)V+58\r\nj  example.com.buffer.Buffer.zeroed()Lexample/com/buffer/Buffer;+9\r\nj  example.com.collections.BufferSupplierMapped.supplyBuffers(JJ)Lorg/apache/commons/lang3/tuple/Pair;+37\r\nj  example.com.collections.ConcurrentOffheapLongObjMap$MapImpl.&lt;init&gt;(Ljava/lang/String;Lexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;JJF)V+65\r\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;F)V+64\r\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;)V+11\r\nj  example.com.collections.OffheapMapUtil.readToMapped(Ljava/lang/String;Lexample/com/collections/OffheapValueSerDe;Ljava/lang/String;Ljava/lang/String;)Lexample/com/collections/ConcurrentOffheapLongObjMap;+99\r\nj  example.com.index.job.WritableSiteIndex.lambda$snapshotLoad$21(Lorg/apache/commons/lang3/mutable/MutableObject;Lexample/com/model/Site;Ljava/lang/String;Ljava/lang/String;)V+20\r\nj  example.com.index.job.WritableSiteIndex$$Lambda$362+0x0000000801044f58.run()V+16\r\nj  example.com.thread.AsyncTaskList.lambda$add$0(Ljava/lang/String;Lexample/com/function/ThrowingRunnable;)Ljava/lang/Void;+19\r\nj  example.com.thread.AsyncTaskList$$Lambda$223+0x0000000800e31428.call()Ljava/lang/Object;+8\r\nj  example.com.thread.AsyncTaskList.lambda$execute$1(Ljava/util/concurrent/Callable;)Ljava/lang/Boolean;+1\r\nj  example.com.thread.AsyncTaskList$$Lambda$230+0x0000000800e30400.get()Ljava/lang/Object;+4\r\nj  example.com.thread.WorkerService$$Lambda$231+0x0000000800e38000.call()Ljava/lang/Object;+4\r\nj  java.util.concurrent.ForkJoinTask$AdaptedCallable.exec()Z+5 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinTask.doExec()I+10 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Ljava/util/concurrent/ForkJoinTask;Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+13 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinPool.scan(Ljava/util/concurrent/ForkJoinPool$WorkQueue;II)I+193 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinPool.runWorker(Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+53 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinWorkerThread.run()V+31 java.base@17.0.6\r\nv  ~StubRoutines::call_stub\r\nV  [libjvm.so+0x822715]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, JavaThread*)+0x315\r\nV  [libjvm.so+0x823f0b]  JavaCalls::call_virtual(JavaValue*, Handle, Klass*, Symbol*, Symbol*, JavaThread*)+0x1cb\r\nV  [libjvm.so+0x8eda53]  thread_entry(JavaThread*, JavaThread*)+0xa3\r\nV  [libjvm.so+0xe5e974]  JavaThread::thread_main_inner()+0x184\r\nV  [libjvm.so+0xe62020]  Thread::call_run()+0xc0\r\nV  [libjvm.so+0xc187e1]  thread_native_entry(Thread*)+0xe1\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  jdk.internal.misc.Unsafe.setMemory0(Ljava/lang/Object;JJB)V+0 java.base@17.0.6\r\nj  jdk.internal.misc.Unsafe.setMemory(Ljava/lang/Object;JJB)V+25 java.base@17.0.6\r\nj  jdk.internal.misc.Unsafe.setMemory(JJB)V+6 java.base@17.0.6\r\nj  sun.misc.Unsafe.setMemory(JJB)V+7 jdk.unsupported@17.0.6\r\nj  example.com.buffer.MemoryMappedBuffer.set(JJB)V+58\r\nj  example.com.buffer.Buffer.zeroed()Lexample/com/buffer/Buffer;+9\r\nj  example.com.collections.BufferSupplierMapped.supplyBuffers(JJ)Lorg/apache/commons/lang3/tuple/Pair;+37\r\nj  example.com.collections.ConcurrentOffheapLongObjMap$MapImpl.&lt;init&gt;(Ljava/lang/String;Lexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;JJF)V+65\r\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;F)V+64\r\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;)V+11\r\nj  example.com.collections.OffheapMapUtil.readToMapped(Ljava/lang/String;Lexample/com/collections/OffheapValueSerDe;Ljava/lang/String;Ljava/lang/String;)Lexample/com/collections/ConcurrentOffheapLongObjMap;+99\r\nj  example.com.index.job.WritableSiteIndex.lambda$snapshotLoad$21(Lorg/apache/commons/lang3/mutable/MutableObject;Lexample/com/model/Site;Ljava/lang/String;Ljava/lang/String;)V+20\r\nj  example.com.index.job.WritableSiteIndex$$Lambda$362+0x0000000801044f58.run()V+16\r\nj  example.com.thread.AsyncTaskList.lambda$add$0(Ljava/lang/String;Lexample/com/function/ThrowingRunnable;)Ljava/lang/Void;+19\r\nj  example.com.thread.AsyncTaskList$$Lambda$223+0x0000000800e31428.call()Ljava/lang/Object;+8\r\nj  example.com.thread.AsyncTaskList.lambda$execute$1(Ljava/util/concurrent/Callable;)Ljava/lang/Boolean;+1\r\nj  example.com.thread.AsyncTaskList$$Lambda$230+0x0000000800e30400.get()Ljava/lang/Object;+4\r\nj  example.com.thread.WorkerService$$Lambda$231+0x0000000800e38000.call()Ljava/lang/Object;+4\r\nj  java.util.concurrent.ForkJoinTask$AdaptedCallable.exec()Z+5 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinTask.doExec()I+10 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Ljava/util/concurrent/ForkJoinTask;Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+13 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinPool.scan(Ljava/util/concurrent/ForkJoinPool$WorkQueue;II)I+193 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinPool.runWorker(Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+53 java.base@17.0.6\r\nj  java.util.concurrent.ForkJoinWorkerThread.run()V+31 java.base@17.0.6\r\nv  ~StubRoutines::call_stub\r\nsiginfo: si_signo: 7 (SIGBUS), si_code: 2 (BUS_ADRERR), si_addr: 0x00007fc979848000\r\n```\r\nWhat&#39;s interesting is that there&#39;s no problem running the same program mem-mapping the same file in my laptop (Ubuntu with 64g ram). That that AWS has no problem loading a very similar but smaller (560MB vs 800MB) file. So I&#39;m pretty sure the Java program is working as expected, and so is the integrity of the file to be mapped.","title":"AWS EC2 java program memorry map issue","body":"<p>I have a java program where a file around 800MB is memory mapped via <code>java.io.RandomAccessFile</code>. I'm hosting it in an EC2 <code>m5.8xlarge</code> (32 CPUs, 128GB RAM) instance with JVM OPTS set to <code>-Xms64g -Xmx64g</code>. While starting the service, I met error:</p>\n<pre><code> [thread 3606 also had an error]\n #\n # A fatal error has been detected by the Java Runtime Environment:\n #\n #  SIGBUS (0x7) at pc=0x00007f214f3c5e73, pid=3556, tid=3637\n #\n # JRE version: OpenJDK Runtime Environment Temurin-17.0.6+10 (17.0.6+10) (build 17.0.6+10)\n # Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.6+10 (17.0.6+10, mixed mode, sharing, tiered, compressed class ptrs, z gc, linux-amd64)\n # Problematic frame:\n # V  [libjvm.so+0x602e73]  Copy::fill_to_memory_atomic(void*, unsigned long, unsigned char)+0x103\n #\n # No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n #\n # An error report file with more information is saved as:\n # /home/user/builds/current/hs_err_pid3556.log\n #\n # If you would like to submit a bug report, please visit:\n #   https://github.com/adoptium/adoptium-support/issues\n #\n /home/user/builds/current/start.sh: line 78:  3556 Aborted                 java ${JVM_OPTS} -cp 'lib/*' ${LAUNCH_CLASS} $@\n</code></pre>\n<p>And the <code>hs_err_pid3556.log</code> mentioned above gives me below, where <code>sun.misc.Unsafe.setMemory</code> went wrong when setting the block of memories to 0s:</p>\n<pre><code>Current thread (0x00007fcaf0274fd0):  JavaThread &quot;ForkJoinPool-1-worker-7&quot; daemon [_thread_in_vm, id=3199, stack(0x00007fcb15fda000,0x00007fcb160db000)]\nStack: [0x00007fcb15fda000,0x00007fcb160db000],  sp=0x00007fcb160d8ce8,  free space=1019k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.so+0x602e73]  Copy::fill_to_memory_atomic(void*, unsigned long, unsigned char)+0x103\nj  jdk.internal.misc.Unsafe.setMemory0(Ljava/lang/Object;JJB)V+0 java.base@17.0.6\nj  jdk.internal.misc.Unsafe.setMemory(Ljava/lang/Object;JJB)V+25 java.base@17.0.6\nj  jdk.internal.misc.Unsafe.setMemory(JJB)V+6 java.base@17.0.6\nj  sun.misc.Unsafe.setMemory(JJB)V+7 jdk.unsupported@17.0.6\nj  example.com.buffer.MemoryMappedBuffer.set(JJB)V+58\nj  example.com.buffer.Buffer.zeroed()Lexample/com/buffer/Buffer;+9\nj  example.com.collections.BufferSupplierMapped.supplyBuffers(JJ)Lorg/apache/commons/lang3/tuple/Pair;+37\nj  example.com.collections.ConcurrentOffheapLongObjMap$MapImpl.&lt;init&gt;(Ljava/lang/String;Lexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;JJF)V+65\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;F)V+64\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;)V+11\nj  example.com.collections.OffheapMapUtil.readToMapped(Ljava/lang/String;Lexample/com/collections/OffheapValueSerDe;Ljava/lang/String;Ljava/lang/String;)Lexample/com/collections/ConcurrentOffheapLongObjMap;+99\nj  example.com.index.job.WritableSiteIndex.lambda$snapshotLoad$21(Lorg/apache/commons/lang3/mutable/MutableObject;Lexample/com/model/Site;Ljava/lang/String;Ljava/lang/String;)V+20\nj  example.com.index.job.WritableSiteIndex$$Lambda$362+0x0000000801044f58.run()V+16\nj  example.com.thread.AsyncTaskList.lambda$add$0(Ljava/lang/String;Lexample/com/function/ThrowingRunnable;)Ljava/lang/Void;+19\nj  example.com.thread.AsyncTaskList$$Lambda$223+0x0000000800e31428.call()Ljava/lang/Object;+8\nj  example.com.thread.AsyncTaskList.lambda$execute$1(Ljava/util/concurrent/Callable;)Ljava/lang/Boolean;+1\nj  example.com.thread.AsyncTaskList$$Lambda$230+0x0000000800e30400.get()Ljava/lang/Object;+4\nj  example.com.thread.WorkerService$$Lambda$231+0x0000000800e38000.call()Ljava/lang/Object;+4\nj  java.util.concurrent.ForkJoinTask$AdaptedCallable.exec()Z+5 java.base@17.0.6\nj  java.util.concurrent.ForkJoinTask.doExec()I+10 java.base@17.0.6\nj  java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Ljava/util/concurrent/ForkJoinTask;Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+13 java.base@17.0.6\nj  java.util.concurrent.ForkJoinPool.scan(Ljava/util/concurrent/ForkJoinPool$WorkQueue;II)I+193 java.base@17.0.6\nj  java.util.concurrent.ForkJoinPool.runWorker(Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+53 java.base@17.0.6\nj  java.util.concurrent.ForkJoinWorkerThread.run()V+31 java.base@17.0.6\nv  ~StubRoutines::call_stub\nV  [libjvm.so+0x822715]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, JavaThread*)+0x315\nV  [libjvm.so+0x823f0b]  JavaCalls::call_virtual(JavaValue*, Handle, Klass*, Symbol*, Symbol*, JavaThread*)+0x1cb\nV  [libjvm.so+0x8eda53]  thread_entry(JavaThread*, JavaThread*)+0xa3\nV  [libjvm.so+0xe5e974]  JavaThread::thread_main_inner()+0x184\nV  [libjvm.so+0xe62020]  Thread::call_run()+0xc0\nV  [libjvm.so+0xc187e1]  thread_native_entry(Thread*)+0xe1\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  jdk.internal.misc.Unsafe.setMemory0(Ljava/lang/Object;JJB)V+0 java.base@17.0.6\nj  jdk.internal.misc.Unsafe.setMemory(Ljava/lang/Object;JJB)V+25 java.base@17.0.6\nj  jdk.internal.misc.Unsafe.setMemory(JJB)V+6 java.base@17.0.6\nj  sun.misc.Unsafe.setMemory(JJB)V+7 jdk.unsupported@17.0.6\nj  example.com.buffer.MemoryMappedBuffer.set(JJB)V+58\nj  example.com.buffer.Buffer.zeroed()Lexample/com/buffer/Buffer;+9\nj  example.com.collections.BufferSupplierMapped.supplyBuffers(JJ)Lorg/apache/commons/lang3/tuple/Pair;+37\nj  example.com.collections.ConcurrentOffheapLongObjMap$MapImpl.&lt;init&gt;(Ljava/lang/String;Lexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;JJF)V+65\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;F)V+64\nj  example.com.collections.ConcurrentOffheapLongObjMap.&lt;init&gt;(Ljava/lang/String;JJLexample/com/collections/OffheapMapBufferSupplier;Lexample/com/collections/OffheapValueSerDe;)V+11\nj  example.com.collections.OffheapMapUtil.readToMapped(Ljava/lang/String;Lexample/com/collections/OffheapValueSerDe;Ljava/lang/String;Ljava/lang/String;)Lexample/com/collections/ConcurrentOffheapLongObjMap;+99\nj  example.com.index.job.WritableSiteIndex.lambda$snapshotLoad$21(Lorg/apache/commons/lang3/mutable/MutableObject;Lexample/com/model/Site;Ljava/lang/String;Ljava/lang/String;)V+20\nj  example.com.index.job.WritableSiteIndex$$Lambda$362+0x0000000801044f58.run()V+16\nj  example.com.thread.AsyncTaskList.lambda$add$0(Ljava/lang/String;Lexample/com/function/ThrowingRunnable;)Ljava/lang/Void;+19\nj  example.com.thread.AsyncTaskList$$Lambda$223+0x0000000800e31428.call()Ljava/lang/Object;+8\nj  example.com.thread.AsyncTaskList.lambda$execute$1(Ljava/util/concurrent/Callable;)Ljava/lang/Boolean;+1\nj  example.com.thread.AsyncTaskList$$Lambda$230+0x0000000800e30400.get()Ljava/lang/Object;+4\nj  example.com.thread.WorkerService$$Lambda$231+0x0000000800e38000.call()Ljava/lang/Object;+4\nj  java.util.concurrent.ForkJoinTask$AdaptedCallable.exec()Z+5 java.base@17.0.6\nj  java.util.concurrent.ForkJoinTask.doExec()I+10 java.base@17.0.6\nj  java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Ljava/util/concurrent/ForkJoinTask;Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+13 java.base@17.0.6\nj  java.util.concurrent.ForkJoinPool.scan(Ljava/util/concurrent/ForkJoinPool$WorkQueue;II)I+193 java.base@17.0.6\nj  java.util.concurrent.ForkJoinPool.runWorker(Ljava/util/concurrent/ForkJoinPool$WorkQueue;)V+53 java.base@17.0.6\nj  java.util.concurrent.ForkJoinWorkerThread.run()V+31 java.base@17.0.6\nv  ~StubRoutines::call_stub\nsiginfo: si_signo: 7 (SIGBUS), si_code: 2 (BUS_ADRERR), si_addr: 0x00007fc979848000\n</code></pre>\n<p>What's interesting is that there's no problem running the same program mem-mapping the same file in my laptop (Ubuntu with 64g ram). That that AWS has no problem loading a very similar but smaller (560MB vs 800MB) file. So I'm pretty sure the Java program is working as expected, and so is the integrity of the file to be mapped.</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702022520,"creation_date":1702022520,"answer_id":77625127,"question_id":77624576,"body_markdown":"*I tried the below Authorization code to get the access token from Azure Active Directory in Java.*\r\n\r\n**Code :**\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.URLEncoder;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class AuthorizationCodeFlow {\r\n\r\n    public static void main(String[] args) {\r\n        String authUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/authorize&quot;;\r\n        String clientId = &quot;&lt;client_ID&gt;&quot;;\r\n\r\n        String redirectUri = &quot;http://localhost:8080&quot;;\r\n        String scope = clientId + &quot;/.default&quot;;\r\n        String authCode = obtainAuthorizationCode(authUrl, clientId, redirectUri, scope);\r\n        System.out.println(&quot;Authorization Code: &quot; + authCode);\r\n\r\n        String tokenUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/token&quot;;\r\n        String clientSecret = &quot;&lt;client_secret&gt;&quot;;\r\n        String accessToken = exchangeAuthCodeForAccessToken(tokenUrl, clientId, clientSecret, redirectUri, authCode);\r\n        System.out.println(&quot;Access Token: &quot; + accessToken);\r\n    }\r\n\r\n    private static String obtainAuthorizationCode(String authUrl, String clientId, String redirectUri, String scope) {\r\n        String authorizationUrl = authUrl + &quot;?client_id=&quot; + clientId +\r\n                &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(redirectUri, StandardCharsets.UTF_8) +\r\n                &quot;&amp;response_type=code&quot; +\r\n                &quot;&amp;scope=&quot; + URLEncoder.encode(scope, StandardCharsets.UTF_8);\r\n\r\n        System.out.println(&quot;Authorization URL: &quot; + authorizationUrl);\r\n        System.out.print(&quot;Enter the Authorization Code: &quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        return scanner.nextLine();\r\n    }\r\n\r\n    private static String exchangeAuthCodeForAccessToken(String tokenUrl, String clientId, String clientSecret, String redirectUri, String authCode) {\r\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n        parameters.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\r\n        parameters.put(&quot;client_id&quot;, clientId);\r\n        parameters.put(&quot;client_secret&quot;, clientSecret);\r\n        parameters.put(&quot;code&quot;, authCode);\r\n        parameters.put(&quot;redirect_uri&quot;, redirectUri);\r\n        \r\n        String form = parameters.keySet().stream()\r\n                .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(tokenUrl))\r\n                .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .POST(HttpRequest.BodyPublishers.ofString(form))\r\n                .build();\r\n\r\n        try {\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n            return response.body();\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have added the below URL in the app **Redirect Web URI**  and selected the **access token** as below,\r\n\r\n&gt; http://localhost:8080\r\n\r\n![enter image description here](https://i.imgur.com/VjBphqC.png)\r\n![enter image description here](https://i.imgur.com/KtOcG3W.png)\r\n\r\n**Output :**\r\n\r\nIt ran successfully. I copied the **Authorization URL** from the output as below,\r\n\r\n![enter image description here](https://i.imgur.com/jtMCSjN.png)\r\n\r\n*And pasted the Authorization URL in the browser for Login with my Azure account as below,*\r\n\r\n![enter image description here](https://i.imgur.com/tJyEU5u.png)\r\n\r\nI got the **Authorization Code** as below,\r\n\r\n![enter image description here](https://i.imgur.com/jjoknEd.png)\r\n![enter image description here](https://i.imgur.com/U3UqNBb.png)\r\n\r\n*I entered the Authorization Code in the output terminal as below,*\r\n\r\n![enter image description here](https://i.imgur.com/Im5S8tr.png)\r\n\r\n***I got the access token from the Azure Active Directory as below.***\r\n\r\n![enter image description here](https://i.imgur.com/8bKzP08.png)","title":"Core Java implementation for authorization code flow using Azure AD","body":"<p><em>I tried the below Authorization code to get the access token from Azure Active Directory in Java.</em></p>\n<p><strong>Code :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.URLEncoder;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\n\npublic class AuthorizationCodeFlow {\n\n    public static void main(String[] args) {\n        String authUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/authorize&quot;;\n        String clientId = &quot;&lt;client_ID&gt;&quot;;\n\n        String redirectUri = &quot;http://localhost:8080&quot;;\n        String scope = clientId + &quot;/.default&quot;;\n        String authCode = obtainAuthorizationCode(authUrl, clientId, redirectUri, scope);\n        System.out.println(&quot;Authorization Code: &quot; + authCode);\n\n        String tokenUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/token&quot;;\n        String clientSecret = &quot;&lt;client_secret&gt;&quot;;\n        String accessToken = exchangeAuthCodeForAccessToken(tokenUrl, clientId, clientSecret, redirectUri, authCode);\n        System.out.println(&quot;Access Token: &quot; + accessToken);\n    }\n\n    private static String obtainAuthorizationCode(String authUrl, String clientId, String redirectUri, String scope) {\n        String authorizationUrl = authUrl + &quot;?client_id=&quot; + clientId +\n                &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(redirectUri, StandardCharsets.UTF_8) +\n                &quot;&amp;response_type=code&quot; +\n                &quot;&amp;scope=&quot; + URLEncoder.encode(scope, StandardCharsets.UTF_8);\n\n        System.out.println(&quot;Authorization URL: &quot; + authorizationUrl);\n        System.out.print(&quot;Enter the Authorization Code: &quot;);\n        Scanner scanner = new Scanner(System.in);\n        return scanner.nextLine();\n    }\n\n    private static String exchangeAuthCodeForAccessToken(String tokenUrl, String clientId, String clientSecret, String redirectUri, String authCode) {\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        parameters.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\n        parameters.put(&quot;client_id&quot;, clientId);\n        parameters.put(&quot;client_secret&quot;, clientSecret);\n        parameters.put(&quot;code&quot;, authCode);\n        parameters.put(&quot;redirect_uri&quot;, redirectUri);\n        \n        String form = parameters.keySet().stream()\n                .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n                .collect(Collectors.joining(&quot;&amp;&quot;));\n\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(tokenUrl))\n                .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(form))\n                .build();\n\n        try {\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n            return response.body();\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>I have added the below URL in the app <strong>Redirect Web URI</strong>  and selected the <strong>access token</strong> as below,</p>\n<blockquote>\n<p>http://localhost:8080</p>\n</blockquote>\n<p><img src=\"https://i.imgur.com/VjBphqC.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/KtOcG3W.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output :</strong></p>\n<p>It ran successfully. I copied the <strong>Authorization URL</strong> from the output as below,</p>\n<p><img src=\"https://i.imgur.com/jtMCSjN.png\" alt=\"enter image description here\" /></p>\n<p><em>And pasted the Authorization URL in the browser for Login with my Azure account as below,</em></p>\n<p><img src=\"https://i.imgur.com/tJyEU5u.png\" alt=\"enter image description here\" /></p>\n<p>I got the <strong>Authorization Code</strong> as below,</p>\n<p><img src=\"https://i.imgur.com/jjoknEd.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/U3UqNBb.png\" alt=\"enter image description here\" /></p>\n<p><em>I entered the Authorization Code in the output terminal as below,</em></p>\n<p><img src=\"https://i.imgur.com/Im5S8tr.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>I got the access token from the Azure Active Directory as below.</strong></em></p>\n<p><img src=\"https://i.imgur.com/8bKzP08.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702022520,"creation_date":1702014564,"question_id":77624576,"body_markdown":"\r\n**Client credential grant type:**\r\n\r\n    String url = https://login.microsoftonline.com/{tenantID}//oauth/v2.0/token; \r\n    Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n    parameters.put(&quot;client_id&quot;, &quot;CLIENT_ID&quot;);\r\n    parameters.put(&quot;client_secret&quot;,&quot;CLIENT_SECRET&quot;);\r\n    parameters.put(&quot;scope&quot;, CLIENT_ID/.default);\r\n\r\n     String form = parameters.keySet().stream()\r\n            .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n            .collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\r\n            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).POST(BodyPublishers.ofString(form))\r\n            .build();\r\n    HttpResponse&lt;?&gt; response = null;\r\n    try {\r\n        response = client.send(request, BodyHandlers.ofString());\r\n    } catch (IOException | InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nResponse will have access token. \r\n\r\n**Authorization Code grant type**\r\n\r\nWithout any browser interaction, would like to pass credential from the code to get access token.\r\n\r\nAs I understand first we need to make GET call to get access code then POST call to get access token.\r\n\r\n    Auth URL = https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize\r\n    Access Token URL=https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token\r\n    Client ID={ClientID} Client Secret={Client_Secret}\r\n    Scope={ClientID}/.default\r\n    Grant Type= Authorization code\r\n    Callback URL : http//redirectURL\r\n\r\nHaving above details able to test token generation with POSTMAN.\r\n\r\nI would like to know how to achieve same using java code without using the spring boot.\r\n\r\nIs it possible to achieve get access token without browser.\r\n","title":"Core Java implementation for authorization code flow using Azure AD","body":"<p><strong>Client credential grant type:</strong></p>\n<pre><code>String url = https://login.microsoftonline.com/{tenantID}//oauth/v2.0/token; \nMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\nparameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\nparameters.put(&quot;client_id&quot;, &quot;CLIENT_ID&quot;);\nparameters.put(&quot;client_secret&quot;,&quot;CLIENT_SECRET&quot;);\nparameters.put(&quot;scope&quot;, CLIENT_ID/.default);\n\n String form = parameters.keySet().stream()\n        .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n        .collect(Collectors.joining(&quot;&amp;&quot;));\n\nHttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\n        .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).POST(BodyPublishers.ofString(form))\n        .build();\nHttpResponse&lt;?&gt; response = null;\ntry {\n    response = client.send(request, BodyHandlers.ofString());\n} catch (IOException | InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>Response will have access token.</p>\n<p><strong>Authorization Code grant type</strong></p>\n<p>Without any browser interaction, would like to pass credential from the code to get access token.</p>\n<p>As I understand first we need to make GET call to get access code then POST call to get access token.</p>\n<pre><code>Auth URL = https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize\nAccess Token URL=https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token\nClient ID={ClientID} Client Secret={Client_Secret}\nScope={ClientID}/.default\nGrant Type= Authorization code\nCallback URL : http//redirectURL\n</code></pre>\n<p>Having above details able to test token generation with POSTMAN.</p>\n<p>I would like to know how to achieve same using java code without using the spring boot.</p>\n<p>Is it possible to achieve get access token without browser.</p>\n"},{"tags":["java","hibernate","jpa","micronaut"],"owner":{"account_id":10279159,"reputation":3,"user_id":10292137,"display_name":"Dibyansh Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702022156,"creation_date":1702022156,"question_id":77625099,"body_markdown":"I have the entity defined as below\r\n\r\n    @Slf4j\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;BOL_ACTOR&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Introspected\r\n    @Embeddable\r\n    public class BolActor implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;BOL_ID&quot;)\r\n    private String billOfLading;\r\n\r\n    @Id\r\n    @Column(name=&quot;ACTOR_ID&quot;)\r\n    private String inbondActor;\r\n    }\r\n\r\n\r\nWhenever i&#39;m trying to fetch the entity by any id.. using the repository \r\ni&#39;m getting the following exception \r\n\r\n    io.micronaut.core.beans.exceptions.IntrospectionException: No bean introspection available for type [class java.lang.String]. Ensure the class is annotated with io.micronaut.core.annotation.Introspected\r\n\r\n\r\n","title":"No bean introspection available for type [class java.lang.String]","body":"<p>I have the entity defined as below</p>\n<pre><code>@Slf4j\n@Data\n@Entity\n@Table(name = &quot;BOL_ACTOR&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Introspected\n@Embeddable\npublic class BolActor implements Serializable {\n\n@Id\n@Column(name = &quot;BOL_ID&quot;)\nprivate String billOfLading;\n\n@Id\n@Column(name=&quot;ACTOR_ID&quot;)\nprivate String inbondActor;\n}\n</code></pre>\n<p>Whenever i'm trying to fetch the entity by any id.. using the repository\ni'm getting the following exception</p>\n<pre><code>io.micronaut.core.beans.exceptions.IntrospectionException: No bean introspection available for type [class java.lang.String]. Ensure the class is annotated with io.micronaut.core.annotation.Introspected\n</code></pre>\n"},{"tags":["java","class","object","compiler-errors"],"comments":[{"owner":{"account_id":6392236,"reputation":645,"user_id":4957929,"display_name":"Pronoy999"},"score":0,"creation_date":1702014871,"post_id":77624580,"comment_id":136848287,"body_markdown":"Can you please upload the directory structure? Maybe, the package is wrong.","body":"Can you please upload the directory structure? Maybe, the package is wrong."},{"owner":{"account_id":30095183,"reputation":13,"user_id":23063604,"display_name":"Matheus Marmett"},"score":0,"creation_date":1702015545,"post_id":77624580,"comment_id":136848337,"body_markdown":"Sure, I uploaded it to Google Drive:\n\nhttps://drive.google.com/file/d/1WpLFqgJscASWGwduq_NHHkfvJb9HtkQq/view?usp=sharing","body":"Sure, I uploaded it to Google Drive:  <a href=\"https://drive.google.com/file/d/1WpLFqgJscASWGwduq_NHHkfvJb9HtkQq/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1WpLFqgJscASWGwduq_NHHkfvJb9HtkQq/&hellip;</a>"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1702016099,"post_id":77624580,"comment_id":136848382,"body_markdown":"Hello and welcome! I put your Google Drive image in your post, it&#39;s easier. See that your IDE complains against your package. What does it say?","body":"Hello and welcome! I put your Google Drive image in your post, it&#39;s easier. See that your IDE complains against your package. What does it say?"},{"owner":{"account_id":463036,"reputation":5197,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":1,"creation_date":1702017099,"post_id":77624580,"comment_id":136848483,"body_markdown":"You capitalised the file extensions. Try .java instead of .Java","body":"You capitalised the file extensions. Try .java instead of .Java"},{"owner":{"account_id":30095183,"reputation":13,"user_id":23063604,"display_name":"Matheus Marmett"},"score":0,"creation_date":1702017128,"post_id":77624580,"comment_id":136848489,"body_markdown":"Thanks! I still don&#39;t know how to add images here, haha. The IDE feedback doesn&#39;t say anything specific about the packages, just that it can&#39;t find the classes. I&#39;ll upload a few more screenshots (now in a folder):\n\nhttps://drive.google.com/drive/folders/1Yy3la9ZJwZOE3uIqJFPVT5WKpl3pgul_?usp=sharing","body":"Thanks! I still don&#39;t know how to add images here, haha. The IDE feedback doesn&#39;t say anything specific about the packages, just that it can&#39;t find the classes. I&#39;ll upload a few more screenshots (now in a folder):  <a href=\"https://drive.google.com/drive/folders/1Yy3la9ZJwZOE3uIqJFPVT5WKpl3pgul_?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"account_id":30095183,"reputation":13,"user_id":23063604,"display_name":"Matheus Marmett"},"score":0,"creation_date":1702018141,"post_id":77624580,"comment_id":136848578,"body_markdown":"Yeahh, it was the uppercase &quot;J&quot; in the file extension. I made the change, and it worked now! Thank you so much, guys! :)","body":"Yeahh, it was the uppercase &quot;J&quot; in the file extension. I made the change, and it worked now! Thank you so much, guys! :)"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702020732,"post_id":77624580,"comment_id":136848888,"body_markdown":"You didn&#39;t have any trouble &#39;instantiating objects&#39;. You didn&#39;t get that far. You had *compilation errors*. Accuracy please. Always best to cite the actual error message, not what you think it means, or what you were trying to do when you got it.","body":"You didn&#39;t have any trouble &#39;instantiating objects&#39;. You didn&#39;t get that far. You had <i>compilation errors</i>. Accuracy please. Always best to cite the actual error message, not what you think it means, or what you were trying to do when you got it."}],"answers":[{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702022124,"creation_date":1702022124,"answer_id":77625092,"question_id":77624580,"body_markdown":"From the screenshot you&#39;ve provided it appears that the file names have a `.Java` extension instead of `.java`, hence are not properly recognised as Java source files. Renaming the files with lowercase extensions should do the trick.\r\n\r\nAs a sidenote, Java is quite strict regarding naming conventions, e.g. your filename has to match the name of the public class in it, and the directory structure has to match the package name. [see docs for more details][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html","title":"I can&#39;t compile my classes in Java: xxx cannot be resolved to a type,","body":"<p>From the screenshot you've provided it appears that the file names have a <code>.Java</code> extension instead of <code>.java</code>, hence are not properly recognised as Java source files. Renaming the files with lowercase extensions should do the trick.</p>\n<p>As a sidenote, Java is quite strict regarding naming conventions, e.g. your filename has to match the name of the public class in it, and the directory structure has to match the package name. <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html\" rel=\"nofollow noreferrer\">see docs for more details</a></p>\n"}],"owner":{"account_id":30095183,"reputation":13,"user_id":23063604,"display_name":"Matheus Marmett"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":14572,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77625092,"answer_count":1,"score":0,"last_activity_date":1702022124,"creation_date":1702014620,"question_id":77624580,"body_markdown":"I&#39;m developing a simple board game in Java, but I&#39;m having some difficulties when trying to instantiate the classes I implemented (Carta, Jogador, and Tabuleiro). When attempting to compile and execute the program, it seems to be unable to find the classes, and I&#39;m getting errors like &quot;Tabuleiro cannot be resolved to a type,&quot; for example (the same with Jogador and Carta).\r\n\r\nTabuleiro Class:\r\n\r\nClass Tabuleiro:\r\n```\r\npackage main;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Tabuleiro {\r\n    public List&lt;List&lt;Carta&gt;&gt; lines;\r\n\r\n    public Tabuleiro() {\r\n        this.lines = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            lines.add(new ArrayList&lt;&gt;());\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\nMain:\r\n\r\n```\r\npackage main;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Board creation\r\n        Tabuleiro tabuleiro = new Tabuleiro();\r\n\r\n\r\n```\r\n\r\nI&#39;m trying to instantiate the classes this way (the example is only for Tabuleiro), but I&#39;m getting the mentioned error for all classes, which are all in the same directory (src/main).\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NJuoi.png","title":"I can&#39;t compile my classes in Java: xxx cannot be resolved to a type,","body":"<p>I'm developing a simple board game in Java, but I'm having some difficulties when trying to instantiate the classes I implemented (Carta, Jogador, and Tabuleiro). When attempting to compile and execute the program, it seems to be unable to find the classes, and I'm getting errors like &quot;Tabuleiro cannot be resolved to a type,&quot; for example (the same with Jogador and Carta).</p>\n<p>Tabuleiro Class:</p>\n<p>Class Tabuleiro:</p>\n<pre><code>package main;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Tabuleiro {\n    public List&lt;List&lt;Carta&gt;&gt; lines;\n\n    public Tabuleiro() {\n        this.lines = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 5; i++) {\n            lines.add(new ArrayList&lt;&gt;());\n        }\n    }\n}\n\n\n</code></pre>\n<p>Main:</p>\n<pre><code>package main;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // Board creation\n        Tabuleiro tabuleiro = new Tabuleiro();\n\n\n</code></pre>\n<p>I'm trying to instantiate the classes this way (the example is only for Tabuleiro), but I'm getting the mentioned error for all classes, which are all in the same directory (src/main).</p>\n<p><a href=\"https://i.stack.imgur.com/NJuoi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NJuoi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":4166869,"reputation":1208,"user_id":3488735,"accept_rate":82,"display_name":"Gewure"},"score":1,"creation_date":1538266511,"post_id":52573539,"comment_id":92083330,"body_markdown":"in the doc it says **STATELESS\nSpring Security will never create an HttpSession and it will never use it to obtain the SecurityContext** , which i suppose is overridden by the order of your lambdas. Don&#39;t ask me for the working order, though :/","body":"in the doc it says <b>STATELESS Spring Security will never create an HttpSession and it will never use it to obtain the SecurityContext</b> , which i suppose is overridden by the order of your lambdas. Don&#39;t ask me for the working order, though :/"},{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":1,"creation_date":1538266789,"post_id":52573539,"comment_id":92083363,"body_markdown":"@Gewure Thanks a lot, I&#39;ll try to play around a bit. Maybe that helps!","body":"@Gewure Thanks a lot, I&#39;ll try to play around a bit. Maybe that helps!"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1538319061,"post_id":52573539,"comment_id":92093025,"body_markdown":"You using JSPs perhaps? They _love_ creating sessions.","body":"You using JSPs perhaps? They <i>love</i> creating sessions."},{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1538424085,"post_id":52573539,"comment_id":92130805,"body_markdown":"@BoristheSpider Not using JSPs, but good point!","body":"@BoristheSpider Not using JSPs, but good point!"},{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1538424155,"post_id":52573539,"comment_id":92130834,"body_markdown":"@Gewure Reordering did not help, but thanks for you effort!","body":"@Gewure Reordering did not help, but thanks for you effort!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1538473407,"post_id":52573539,"comment_id":92145745,"body_markdown":"The session will always be injected (and created if one doesn&#39;t exists) if you request that, that has nothing to do with setting Spring Security to stateless. That is only a setting for Spring Security NOT the remainder of your application. If you are using JSP you will get a session always and depending on your controllers that also might create a session.","body":"The session will always be injected (and created if one doesn&#39;t exists) if you request that, that has nothing to do with setting Spring Security to stateless. That is only a setting for Spring Security NOT the remainder of your application. If you are using JSP you will get a session always and depending on your controllers that also might create a session."},{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1538475989,"post_id":52573539,"comment_id":92146950,"body_markdown":"@M.Deinum Is there a possibility to disable that globally or shouldnt i bother with this and just ignore that?","body":"@M.Deinum Is there a possibility to disable that globally or shouldnt i bother with this and just ignore that?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1538476107,"post_id":52573539,"comment_id":92147026,"body_markdown":"The only way would be to hack into your servlet container and prevent it there, but why bother... Currently you are doing it yrouself (I suspect) or another filter in your change. You can change your post method to use the `HttpServeltRequest` and use `getSession(false)` to prevent session instantiation. When defining it as an argument it will automatically create one.","body":"The only way would be to hack into your servlet container and prevent it there, but why bother... Currently you are doing it yrouself (I suspect) or another filter in your change. You can change your post method to use the <code>HttpServeltRequest</code> and use <code>getSession(false)</code> to prevent session instantiation. When defining it as an argument it will automatically create one."},{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1538506119,"post_id":52573539,"comment_id":92163476,"body_markdown":"@M.Deinum I wondered whether it was good or bad to have the session id included in the response body, since I don&#39;t need it.","body":"@M.Deinum I wondered whether it was good or bad to have the session id included in the response body, since I don&#39;t need it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1538551020,"post_id":52573539,"comment_id":92176973,"body_markdown":"Well apparently you do need it else a session wouldn&#39;t be created.","body":"Well apparently you do need it else a session wouldn&#39;t be created."},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1695178267,"post_id":52573539,"comment_id":135988013,"body_markdown":"I have the same issue with the difference that a) we do need a session, so don&#39;t mind it. b) but its coming up in the URL and we don&#39;t know how. We have enalbled spring.server to track by cookie and yet it shows up","body":"I have the same issue with the difference that a) we do need a session, so don&#39;t mind it. b) but its coming up in the URL and we don&#39;t know how. We have enalbled spring.server to track by cookie and yet it shows up"}],"answers":[{"tags":[],"owner":{"display_name":"user10367961"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1538317545,"creation_date":1538317545,"answer_id":52578778,"question_id":52573539,"body_markdown":"Your current configuration (`sessionCreationPolicy(SessionCreationPolicy.STATELESS)`) ensures that Spring-Security (**and only Spring-Security**)\r\n\r\n - won&#39;t create the session \r\n - won&#39;t rely on the session for providing authentication details (for example, providing the `Principal`).\r\n\r\nAny other component of your application (for example, if you would use Spring-Session) **is still free to create the session**.","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>Your current configuration (<code>sessionCreationPolicy(SessionCreationPolicy.STATELESS)</code>) ensures that Spring-Security (<strong>and only Spring-Security</strong>)</p>\n\n<ul>\n<li>won't create the session </li>\n<li>won't rely on the session for providing authentication details (for example, providing the <code>Principal</code>).</li>\n</ul>\n\n<p>Any other component of your application (for example, if you would use Spring-Session) <strong>is still free to create the session</strong>.</p>\n"},{"tags":[],"owner":{"account_id":57042,"reputation":2317,"user_id":170881,"accept_rate":89,"display_name":"nils petersohn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562323955,"creation_date":1562323955,"answer_id":56901648,"question_id":52573539,"body_markdown":"Try to set the session to none in the application.yml:\r\n\r\n    spring.session.store-type=none\r\n\r\nas mentioned in the docs: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-session.html\r\n","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>Try to set the session to none in the application.yml:</p>\n\n<pre><code>spring.session.store-type=none\n</code></pre>\n\n<p>as mentioned in the docs: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-session.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-session.html</a></p>\n"},{"tags":[],"owner":{"account_id":8609684,"reputation":996,"user_id":6448518,"display_name":"rougou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618887577,"creation_date":1618887577,"answer_id":67171862,"question_id":52573539,"body_markdown":"Even with SessionCreationPolicy.STATELESS, a session can still be created outside the scope of spring security. For example, when you call request.getSession() or request.getSession(true), or if you access a session scoped bean (internally spring will call request.getSession(true)).\r\n\r\nIf you add the following to your application.properties, a stacktrace will be output every time a session is created, which may help you find out what is going on.\r\n\r\n    logging.level.org.springframework.session.web.http.SessionRepositoryFilter.SESSION_LOGGER=DEBUG","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>Even with SessionCreationPolicy.STATELESS, a session can still be created outside the scope of spring security. For example, when you call request.getSession() or request.getSession(true), or if you access a session scoped bean (internally spring will call request.getSession(true)).</p>\n<p>If you add the following to your application.properties, a stacktrace will be output every time a session is created, which may help you find out what is going on.</p>\n<pre><code>logging.level.org.springframework.session.web.http.SessionRepositoryFilter.SESSION_LOGGER=DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1654952,"reputation":871,"user_id":4254191,"display_name":"Javanator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643909665,"creation_date":1643909665,"answer_id":70975762,"question_id":52573539,"body_markdown":"Credit to [nils petersohn][1]:\r\n\r\n    sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER)\r\n\r\nSolved this for me in Firefox at least. spring.session.store-type=none in the application.properties did not have any effect.\r\n\r\n  [1]: https://stackoverflow.com/users/170881/nils-petersohn","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>Credit to <a href=\"https://stackoverflow.com/users/170881/nils-petersohn\">nils petersohn</a>:</p>\n<pre><code>sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER)\n</code></pre>\n<p>Solved this for me in Firefox at least. spring.session.store-type=none in the application.properties did not have any effect.</p>\n"},{"tags":[],"owner":{"account_id":16506505,"reputation":11,"user_id":11926413,"display_name":"RonyV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660042890,"creation_date":1660042890,"answer_id":73290725,"question_id":52573539,"body_markdown":"I had the same problem. I discovered that the HttpSession injection creates a session if there isn&#39;t already one. So you&#39;ll have to get the session yourself and be sure to use the false parameter in the getSession() method.\r\nSo try this :\r\n\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void create() {\r\n            ServletRequestAttributes attr = (ServletRequestAttributes) RequestContextHolder.currentRequestAttributes();\r\n            HttpSession session = attr.getRequest().getSession(false); // do not create one\r\n            if (session == null) {\r\n                LOGGER.warn(&quot;Session is null.&quot;);\r\n            } else {\r\n                LOGGER.warn(&quot;Session id = {}&quot;, session.getId());\r\n            }\r\n    }\r\n\r\n","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>I had the same problem. I discovered that the HttpSession injection creates a session if there isn't already one. So you'll have to get the session yourself and be sure to use the false parameter in the getSession() method.\nSo try this :</p>\n<pre><code>@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic void create() {\n        ServletRequestAttributes attr = (ServletRequestAttributes) RequestContextHolder.currentRequestAttributes();\n        HttpSession session = attr.getRequest().getSession(false); // do not create one\n        if (session == null) {\n            LOGGER.warn(&quot;Session is null.&quot;);\n        } else {\n            LOGGER.warn(&quot;Session id = {}&quot;, session.getId());\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702022103,"creation_date":1702022103,"answer_id":77625090,"question_id":52573539,"body_markdown":"we were using this and it was not working. Apparently it is sensitive to the case and it began to work when used COOKIE instead of cookie\r\n\r\n    server:\r\n        servlet:\r\n          session:\r\n            tracking-modes: &#39;COOKIE&#39;\r\n            timeout: 30m","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>we were using this and it was not working. Apparently it is sensitive to the case and it began to work when used COOKIE instead of cookie</p>\n<pre><code>server:\n    servlet:\n      session:\n        tracking-modes: 'COOKIE'\n        timeout: 30m\n</code></pre>\n"}],"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12949,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":6,"score":22,"last_activity_date":1702022103,"creation_date":1538266092,"question_id":52573539,"body_markdown":"I am using a working JWT authentication of my web application with the following configuration:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n          .csrf().disable()\r\n          .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n          .and()\r\n          .exceptionHandling()\r\n          .authenticationEntryPoint(\r\n              (req, rsp, e) -&gt; p.sendError(HttpServletResponse.SC_UNAUTHORIZED))\r\n          .and()\r\n          .addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager(),\r\n              jwtConfig))\r\n          .addFilterAfter(new JwtTokenAuthenticationFilter(jwtConfig),\r\n              UsernamePasswordAuthenticationFilter.class)\r\n          .authorizeRequests()\r\n          .antMatchers(HttpMethod.POST, jwtConfig.getUri()).permitAll()\r\n          .anyRequest().authenticated();\r\n    }\r\n\r\nAs of `SessionCreationPolicy.STATELESS` i am expecting that Spring will not create a session itself. However, if i access any other resource than `/login`, i still see the following entry in the response header:\r\n\r\n    set-cookie: JSESSIONID=...; Path=/; HttpOnly\r\n\r\nCan someone explain where this is coming from (maybe not from Spring) and if it does still come from Spring what needs to be changed?\r\n\r\n**Edit:**\r\n\r\nTesting in my controller, the session is still injected as indicated by the above token being present. I still have no clue where this is coming from.\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void create(HttpSession session) {\r\n        if (session != null) {\r\n            System.out.println(&quot;Session is existing&quot;); // executes\r\n        }\r\n    }","title":"Spring adds a JSESSIONID despite stateless session management","body":"<p>I am using a working JWT authentication of my web application with the following configuration:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n      .csrf().disable()\n      .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n      .and()\n      .exceptionHandling()\n      .authenticationEntryPoint(\n          (req, rsp, e) -&gt; p.sendError(HttpServletResponse.SC_UNAUTHORIZED))\n      .and()\n      .addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager(),\n          jwtConfig))\n      .addFilterAfter(new JwtTokenAuthenticationFilter(jwtConfig),\n          UsernamePasswordAuthenticationFilter.class)\n      .authorizeRequests()\n      .antMatchers(HttpMethod.POST, jwtConfig.getUri()).permitAll()\n      .anyRequest().authenticated();\n}\n</code></pre>\n\n<p>As of <code>SessionCreationPolicy.STATELESS</code> i am expecting that Spring will not create a session itself. However, if i access any other resource than <code>/login</code>, i still see the following entry in the response header:</p>\n\n<pre><code>set-cookie: JSESSIONID=...; Path=/; HttpOnly\n</code></pre>\n\n<p>Can someone explain where this is coming from (maybe not from Spring) and if it does still come from Spring what needs to be changed?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Testing in my controller, the session is still injected as indicated by the above token being present. I still have no clue where this is coming from.</p>\n\n<pre><code>@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic void create(HttpSession session) {\n    if (session != null) {\n        System.out.println(\"Session is existing\"); // executes\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":124832,"reputation":21488,"user_id":320180,"accept_rate":80,"display_name":"ndeverge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329313368,"creation_date":1329312338,"answer_id":9294251,"question_id":9294187,"body_markdown":"Your `myCalculatedProperty` must be contained within one of your properties file (which are injected by the Spring `propertyPlaceholderConfigurer`).\r\n\r\nEDIT : simply use the setter, something like this\r\n\r\n    public static void main(final String[] args) {\r\n        String myCalculatedProperty = magicFunction();         \r\n        AbstractApplicationContext appContext =\r\n              new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n    \r\n        Process p = appContext.getBean(Process.class);\r\n        p.setMyCalculatedProperty(myCalculatedProperty);\r\n        p.start();\r\n    }","title":"How to add Properties to an Application Context","body":"<p>Your <code>myCalculatedProperty</code> must be contained within one of your properties file (which are injected by the Spring <code>propertyPlaceholderConfigurer</code>).</p>\n\n<p>EDIT : simply use the setter, something like this</p>\n\n<pre><code>public static void main(final String[] args) {\n    String myCalculatedProperty = magicFunction();         \n    AbstractApplicationContext appContext =\n          new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\n    Process p = appContext.getBean(Process.class);\n    p.setMyCalculatedProperty(myCalculatedProperty);\n    p.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1329314108,"creation_date":1329312877,"answer_id":9294389,"question_id":9294187,"body_markdown":"In Spring 3.1 you can implement your own `PropertySource`, see: [Spring 3.1 M1: Unified Property Management](http://blog.springsource.org/2011/02/15/spring-3-1-m1-unified-property-management/).\r\n\r\nFirst, create your own `PropertySource` implementation:\r\n\r\n    private static class CustomPropertySource extends PropertySource&lt;String&gt; {\r\n\r\n        public CustomPropertySource() {super(&quot;custom&quot;);}\r\n\r\n        @Override\r\n        public String getProperty(String name) {\r\n            if (name.equals(&quot;myCalculatedProperty&quot;)) {\r\n                return magicFunction();  //you might cache it at will\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nNow add this `PropertySource` before refreshing the application context:\r\n\r\n    AbstractApplicationContext appContext =\r\n        new ClassPathXmlApplicationContext(\r\n            new String[] {&quot;applicationContext.xml&quot;}, false\r\n        );\r\n    appContext.getEnvironment().getPropertySources().addLast(\r\n       new CustomPropertySource()\r\n    );\r\n    appContext.refresh();\r\n\r\nFrom now on you can reference your new property in Spring:\r\n\r\n    &lt;context:property-placeholder/&gt;\r\n\r\n    &lt;bean class=&quot;com.example.Process&quot;&gt;\r\n        &lt;constructor-arg value=&quot;${myCalculatedProperty}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nAlso works with annotations (remember to add `&lt;context:annotation-config/&gt;`):\r\n\r\n    @Value(&quot;${myCalculatedProperty}&quot;)\r\n    private String magic;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        System.out.println(&quot;Magic: &quot; + magic);\r\n    }\r\n","title":"How to add Properties to an Application Context","body":"<p>In Spring 3.1 you can implement your own <code>PropertySource</code>, see: <a href=\"http://blog.springsource.org/2011/02/15/spring-3-1-m1-unified-property-management/\" rel=\"noreferrer\">Spring 3.1 M1: Unified Property Management</a>.</p>\n\n<p>First, create your own <code>PropertySource</code> implementation:</p>\n\n<pre><code>private static class CustomPropertySource extends PropertySource&lt;String&gt; {\n\n    public CustomPropertySource() {super(\"custom\");}\n\n    @Override\n    public String getProperty(String name) {\n        if (name.equals(\"myCalculatedProperty\")) {\n            return magicFunction();  //you might cache it at will\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>Now add this <code>PropertySource</code> before refreshing the application context:</p>\n\n<pre><code>AbstractApplicationContext appContext =\n    new ClassPathXmlApplicationContext(\n        new String[] {\"applicationContext.xml\"}, false\n    );\nappContext.getEnvironment().getPropertySources().addLast(\n   new CustomPropertySource()\n);\nappContext.refresh();\n</code></pre>\n\n<p>From now on you can reference your new property in Spring:</p>\n\n<pre><code>&lt;context:property-placeholder/&gt;\n\n&lt;bean class=\"com.example.Process\"&gt;\n    &lt;constructor-arg value=\"${myCalculatedProperty}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Also works with annotations (remember to add <code>&lt;context:annotation-config/&gt;</code>):</p>\n\n<pre><code>@Value(\"${myCalculatedProperty}\")\nprivate String magic;\n\n@PostConstruct\npublic void init() {\n    System.out.println(\"Magic: \" + magic);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162900,"reputation":2068,"user_id":384673,"accept_rate":64,"display_name":"Yazan Jaber"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1329313142,"creation_date":1329313142,"answer_id":9294455,"question_id":9294187,"body_markdown":"You can add the calculated value to the system properties:\r\n\r\n    System.setProperty(&quot;placeHolderName&quot;, myCalculatedProperty);","title":"How to add Properties to an Application Context","body":"<p>You can add the calculated value to the system properties:</p>\n\n<pre><code>System.setProperty(\"placeHolderName\", myCalculatedProperty);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371225,"reputation":6711,"user_id":719633,"accept_rate":83,"display_name":"Roadrunner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1702021671,"creation_date":1329313762,"answer_id":9294609,"question_id":9294187,"body_markdown":"If you are controlling the creation of `ApplicationContext` as in your example, you can always add a `BeanRegistryPostProcessor` to add a second `PropertyPlaceholderConfigurer` into the context. It should have `ignoreUnresolvablePlaceholders=&quot;true&quot;` and `order=&quot;1&quot;` and resolve only the custom calculated properties using the `Properties` object. All other properties should be resolved by the `PropertyPlaceholderConfigurer` from the XML that should have `order=&quot;2&quot;`.","title":"How to add Properties to an Application Context","body":"<p>If you are controlling the creation of <code>ApplicationContext</code> as in your example, you can always add a <code>BeanRegistryPostProcessor</code> to add a second <code>PropertyPlaceholderConfigurer</code> into the context. It should have <code>ignoreUnresolvablePlaceholders=&quot;true&quot;</code> and <code>order=&quot;1&quot;</code> and resolve only the custom calculated properties using the <code>Properties</code> object. All other properties should be resolved by the <code>PropertyPlaceholderConfigurer</code> from the XML that should have <code>order=&quot;2&quot;</code>.</p>\n"}],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53380,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":9294389,"answer_count":4,"score":20,"last_activity_date":1702021671,"creation_date":1329312024,"question_id":9294187,"body_markdown":"I have a Standalone Application, this application calculates a value (Property) and then starts a Spring Context.\r\nMy question is how can I add that calculated property to the spring context, so that I can use it like properties loaded from a property file (`@Value(&quot;${myCalculatedProperty}&quot;)`)?\r\n\r\nTo illustrate it a bit\r\n\r\n    public static void main(final String[] args) {\r\n        String myCalculatedProperty = magicFunction();         \r\n        AbstractApplicationContext appContext =\r\n              new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n        //How to add myCalculatedProperty to appContext (before starting the context)\r\n\r\n        appContext.getBean(Process.class).start();\r\n    }\r\n\r\nApplicationContext.xml:\r\n\r\n    &lt;bean id=&quot;propertyPlaceholderConfigurer&quot;\r\n\t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;locations&quot; value=&quot;classpath:*.properties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.example.app&quot;/&gt;\r\n\r\nIt is a Spring 3.0 Application.","title":"How to add Properties to an Application Context","body":"<p>I have a Standalone Application, this application calculates a value (Property) and then starts a Spring Context.\nMy question is how can I add that calculated property to the spring context, so that I can use it like properties loaded from a property file (<code>@Value(\"${myCalculatedProperty}\")</code>)?</p>\n\n<p>To illustrate it a bit</p>\n\n<pre><code>public static void main(final String[] args) {\n    String myCalculatedProperty = magicFunction();         \n    AbstractApplicationContext appContext =\n          new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n    //How to add myCalculatedProperty to appContext (before starting the context)\n\n    appContext.getBean(Process.class).start();\n}\n</code></pre>\n\n<p>ApplicationContext.xml:</p>\n\n<pre><code>&lt;bean id=\"propertyPlaceholderConfigurer\"\n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"locations\" value=\"classpath:*.properties\" /&gt;\n&lt;/bean&gt;\n\n&lt;context:component-scan base-package=\"com.example.app\"/&gt;\n</code></pre>\n\n<p>It is a Spring 3.0 Application.</p>\n"},{"tags":["java","spring-boot","websocket","stomp"],"owner":{"account_id":14659007,"reputation":121,"user_id":10586805,"display_name":"Akshay Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702021623,"creation_date":1702021623,"question_id":77625059,"body_markdown":"I&#39;m very new to implementing websocket in application, trying to implement simple application in which unauthenticated users can just type in a group name and send message to group.\r\n\r\n\r\nConfig \r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSockConfig implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/ws-reg&quot;).withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n            config.enableSimpleBroker(&quot;/all&quot;,&quot;/personal&quot;);\r\n        }\r\n    }\r\n\r\n\r\nController\r\n\r\n\r\n    @Controller\r\n    public class HomeController {\r\n    \r\n        @Autowired\r\n        private SimpMessagingTemplate simpMessagingTemplate;\r\n    \r\n        private final Map&lt;String, List&lt;String&gt;&gt; groupSessions = new HashMap&lt;&gt;();\r\n    \r\n        @MessageMapping(&quot;/group/{groupName}/join&quot;)\r\n        public void joinGroup(@DestinationVariable String groupName, SimpMessageHeaderAccessor headerAccessor) {\r\n            groupSessions.computeIfAbsent(groupName, k -&gt; new ArrayList&lt;&gt;()).add(headerAccessor.getSessionId());\r\n    \r\n        }\r\n    \r\n        @MessageMapping(&quot;/group/{groupName}/send&quot;)\r\n        public void sendToGroup(@DestinationVariable String groupName, Message&lt;String&gt; message) throws IOException {\r\n            for ( String  session : groupSessions.get(groupName)){\r\n                //Just adding all these 3 methods calls i have tried, None worked\r\n               //On debugging this method is being invoked and session variable is not null\r\n                simpMessagingTemplate.convertAndSendToUser(session,&quot;/personal&quot;,message);\r\n                simpMessagingTemplate.send(&quot;/personal&quot;,message);\r\n                simpMessagingTemplate.send(message);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nJavaScript in HTML\r\n\r\n    &lt;script&gt;\r\n            const socket = new SockJS(&#39;http://localhost:8080/ws-reg&#39;);\r\n    \r\n            const stompClient = Stomp.over(socket);\r\n    \r\n            function joinGroup() {\r\n                const groupName = document.getElementById(&#39;groupInput&#39;).value;\r\n    \r\n                stompClient.connect({}, function(frame) {\r\n                    setConnected(true);\r\n                    console.log(&#39;Connected: &#39; + frame);\r\n                    stompClient.subscribe(&#39;/personal&#39;, function(greeting){\r\n                        console.log(JSON.parse(greeting.body));\r\n                    });\r\n                });\r\n    \r\n                stompClient.send(`/app/group/${groupName}/join`, {}, JSON.stringify({}));\r\n            }\r\n    \r\n            function sendMessage() {\r\n                const groupName = document.getElementById(&#39;groupInput&#39;).value;\r\n                const messageContent = document.getElementById(&#39;messageInput&#39;).value;\r\n                stompClient.send(`/app/group/${groupName}/send`, {}, JSON.stringify({ content: messageContent }));\r\n            }\r\n     &lt;/script&gt;\r\n\r\nFE view\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IgwNO.png\r\n\r\n\r\nMy expectation :\r\n\r\nuser one : type in &#39;group1&#39; and joins\r\n\r\nuser two : type in &#39;group1&#39; and joins\r\n\r\nuser three: type &#39;group2&#39; and joins\r\n\r\nWhen user one sends a message it should pass to websocket for user one and and two only.\r\n\r\nWhile debugging there is no logs of new message or any events in websockets of any users\r\n\r\n","title":"Java STOMP message not received","body":"<p>I'm very new to implementing websocket in application, trying to implement simple application in which unauthenticated users can just type in a group name and send message to group.</p>\n<p>Config</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSockConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws-reg&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        config.enableSimpleBroker(&quot;/all&quot;,&quot;/personal&quot;);\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\npublic class HomeController {\n\n    @Autowired\n    private SimpMessagingTemplate simpMessagingTemplate;\n\n    private final Map&lt;String, List&lt;String&gt;&gt; groupSessions = new HashMap&lt;&gt;();\n\n    @MessageMapping(&quot;/group/{groupName}/join&quot;)\n    public void joinGroup(@DestinationVariable String groupName, SimpMessageHeaderAccessor headerAccessor) {\n        groupSessions.computeIfAbsent(groupName, k -&gt; new ArrayList&lt;&gt;()).add(headerAccessor.getSessionId());\n\n    }\n\n    @MessageMapping(&quot;/group/{groupName}/send&quot;)\n    public void sendToGroup(@DestinationVariable String groupName, Message&lt;String&gt; message) throws IOException {\n        for ( String  session : groupSessions.get(groupName)){\n            //Just adding all these 3 methods calls i have tried, None worked\n           //On debugging this method is being invoked and session variable is not null\n            simpMessagingTemplate.convertAndSendToUser(session,&quot;/personal&quot;,message);\n            simpMessagingTemplate.send(&quot;/personal&quot;,message);\n            simpMessagingTemplate.send(message);\n        }\n    }\n\n}\n</code></pre>\n<p>JavaScript in HTML</p>\n<pre><code>&lt;script&gt;\n        const socket = new SockJS('http://localhost:8080/ws-reg');\n\n        const stompClient = Stomp.over(socket);\n\n        function joinGroup() {\n            const groupName = document.getElementById('groupInput').value;\n\n            stompClient.connect({}, function(frame) {\n                setConnected(true);\n                console.log('Connected: ' + frame);\n                stompClient.subscribe('/personal', function(greeting){\n                    console.log(JSON.parse(greeting.body));\n                });\n            });\n\n            stompClient.send(`/app/group/${groupName}/join`, {}, JSON.stringify({}));\n        }\n\n        function sendMessage() {\n            const groupName = document.getElementById('groupInput').value;\n            const messageContent = document.getElementById('messageInput').value;\n            stompClient.send(`/app/group/${groupName}/send`, {}, JSON.stringify({ content: messageContent }));\n        }\n &lt;/script&gt;\n</code></pre>\n<p>FE view\n<a href=\"https://i.stack.imgur.com/IgwNO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IgwNO.png\" alt=\"enter image description here\" /></a></p>\n<p>My expectation :</p>\n<p>user one : type in 'group1' and joins</p>\n<p>user two : type in 'group1' and joins</p>\n<p>user three: type 'group2' and joins</p>\n<p>When user one sends a message it should pass to websocket for user one and and two only.</p>\n<p>While debugging there is no logs of new message or any events in websockets of any users</p>\n"},{"tags":["java","object","serialization"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1436850379,"post_id":2836646,"comment_id":50771376,"body_markdown":"Why as `byte[]`? Why not just write it directly to the socket with `ObjectOutputStream`, and read it with `ObjectInputStream`?","body":"Why as <code>byte[]</code>? Why not just write it directly to the socket with <code>ObjectOutputStream</code>, and read it with <code>ObjectInputStream</code>?"},{"owner":{"account_id":4369724,"reputation":1687,"user_id":3564455,"display_name":"the hand of NOD"},"score":0,"creation_date":1564137962,"post_id":2836646,"comment_id":100941147,"body_markdown":"use apache camel","body":"use apache camel"},{"owner":{"account_id":5749872,"reputation":1997,"user_id":4539906,"display_name":"Asad Shakeel"},"score":7,"creation_date":1568275128,"post_id":2836646,"comment_id":102224674,"body_markdown":"`new ObjectMapper().writeValueAsBytes(JAVA_OBJECT_HERE)`","body":"<code>new ObjectMapper().writeValueAsBytes(JAVA_OBJECT_HERE)</code>"}],"answers":[{"tags":[],"owner":{"account_id":37019,"reputation":51344,"user_id":105744,"accept_rate":92,"display_name":"Taylor Leese"},"down_vote_count":7,"up_vote_count":462,"is_accepted":true,"score":455,"last_activity_date":1577849334,"creation_date":1273862003,"answer_id":2836659,"question_id":2836646,"body_markdown":"Prepare the byte array to send:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    ObjectOutputStream out = null;\r\n    try {\r\n      out = new ObjectOutputStream(bos);   \r\n      out.writeObject(yourObject);\r\n      out.flush();\r\n      byte[] yourBytes = bos.toByteArray();\r\n      ...\r\n    } finally {\r\n      try {\r\n        bos.close();\r\n      } catch (IOException ex) {\r\n        // ignore close exception\r\n      }\r\n    }\r\n\r\n\r\nCreate an object from a byte array:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(yourBytes);\r\n    ObjectInput in = null;\r\n    try {\r\n      in = new ObjectInputStream(bis);\r\n      Object o = in.readObject(); \r\n      ...\r\n    } finally {\r\n      try {\r\n        if (in != null) {\r\n          in.close();\r\n        }\r\n      } catch (IOException ex) {\r\n        // ignore close exception\r\n      }\r\n    }\r\n","title":"Java Serializable Object to Byte Array","body":"<p>Prepare the byte array to send:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\nObjectOutputStream out = null;\ntry {\n  out = new ObjectOutputStream(bos);   \n  out.writeObject(yourObject);\n  out.flush();\n  byte[] yourBytes = bos.toByteArray();\n  ...\n} finally {\n  try {\n    bos.close();\n  } catch (IOException ex) {\n    // ignore close exception\n  }\n}\n</code></pre>\n\n<p>Create an object from a byte array:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayInputStream bis = new ByteArrayInputStream(yourBytes);\nObjectInput in = null;\ntry {\n  in = new ObjectInputStream(bis);\n  Object o = in.readObject(); \n  ...\n} finally {\n  try {\n    if (in != null) {\n      in.close();\n    }\n  } catch (IOException ex) {\n    // ignore close exception\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396154,"reputation":6023,"user_id":759544,"display_name":"uris"},"down_vote_count":2,"up_vote_count":345,"is_accepted":false,"score":343,"last_activity_date":1510237370,"creation_date":1351765034,"answer_id":13174951,"question_id":2836646,"body_markdown":"The best way to do it is to use `SerializationUtils` from Apache [Commons Lang](https://commons.apache.org/proper/commons-lang/).\r\n\r\nTo serialize:\r\n\r\n    byte[] data = SerializationUtils.serialize(yourObject);\r\n\r\nTo deserialize:\t\t\r\n\r\n    YourObject yourObject = SerializationUtils.deserialize(data)\r\n\r\n---\r\n\r\nAs mentioned, this requires Commons Lang library. It can be imported using Gradle:\r\n\r\n    compile &#39;org.apache.commons:commons-lang3:3.5&#39;\r\n\r\nMaven:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Jar file](http://central.maven.org/maven2/org/apache/commons/commons-lang3/3.5/commons-lang3-3.5.jar)\r\n\r\nAnd more ways mentioned [here](http://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.5)\r\n\r\nAlternatively, the whole collection can be imported. Refer [this link](http://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1)","title":"Java Serializable Object to Byte Array","body":"<p>The best way to do it is to use <code>SerializationUtils</code> from Apache <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Commons Lang</a>.</p>\n\n<p>To serialize:</p>\n\n<pre><code>byte[] data = SerializationUtils.serialize(yourObject);\n</code></pre>\n\n<p>To deserialize:     </p>\n\n<pre><code>YourObject yourObject = SerializationUtils.deserialize(data)\n</code></pre>\n\n<hr>\n\n<p>As mentioned, this requires Commons Lang library. It can be imported using Gradle:</p>\n\n<pre><code>compile 'org.apache.commons:commons-lang3:3.5'\n</code></pre>\n\n<p>Maven:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"http://central.maven.org/maven2/org/apache/commons/commons-lang3/3.5/commons-lang3-3.5.jar\" rel=\"noreferrer\">Jar file</a></p>\n\n<p>And more ways mentioned <a href=\"http://mvnrepository.com/artifact/org.apache.commons/commons-lang3/3.5\" rel=\"noreferrer\">here</a></p>\n\n<p>Alternatively, the whole collection can be imported. Refer <a href=\"http://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.1\" rel=\"noreferrer\">this link</a></p>\n"},{"tags":[],"owner":{"account_id":543138,"reputation":5117,"user_id":912190,"display_name":"V&#237;ctor Romero"},"down_vote_count":0,"up_vote_count":103,"is_accepted":false,"score":103,"last_activity_date":1610057137,"creation_date":1434917232,"answer_id":30968827,"question_id":2836646,"body_markdown":"If you use Java &gt;= 7, you could improve the accepted solution using [try with resources][1]:\r\n\r\n    private byte[] convertToBytes(Object object) throws IOException {\r\n        try (ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n             ObjectOutputStream out = new ObjectOutputStream(bos)) {\r\n            out.writeObject(object);\r\n            return bos.toByteArray();\r\n        } \r\n    }\r\n\r\nAnd the other way around:\r\n\r\n    private Object convertFromBytes(byte[] bytes) throws IOException, ClassNotFoundException {\r\n        try (ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\r\n             ObjectInputStream in = new ObjectInputStream(bis)) {\r\n            return in.readObject();\r\n        } \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Java Serializable Object to Byte Array","body":"<p>If you use Java &gt;= 7, you could improve the accepted solution using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try with resources</a>:</p>\n<pre><code>private byte[] convertToBytes(Object object) throws IOException {\n    try (ByteArrayOutputStream bos = new ByteArrayOutputStream();\n         ObjectOutputStream out = new ObjectOutputStream(bos)) {\n        out.writeObject(object);\n        return bos.toByteArray();\n    } \n}\n</code></pre>\n<p>And the other way around:</p>\n<pre><code>private Object convertFromBytes(byte[] bytes) throws IOException, ClassNotFoundException {\n    try (ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\n         ObjectInputStream in = new ObjectInputStream(bis)) {\n        return in.readObject();\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879127,"reputation":4305,"user_id":4629101,"accept_rate":83,"display_name":"Pankaj Lilan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1492837273,"creation_date":1492837273,"answer_id":43555431,"question_id":2836646,"body_markdown":"Can be done by **[SerializationUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SerializationUtils.html)**, by serialize &amp; deserialize method by ApacheUtils to convert object to byte[] and vice-versa , as stated in @uris answer.\r\n\r\nTo convert an object to byte[] by serializing:\r\n\r\n    byte[] data = SerializationUtils.serialize(object);\r\n\r\nTo convert byte[] to object by deserializing::\r\n\r\n    Object object = (Object) SerializationUtils.deserialize(byte[] data)\r\n\r\n\r\nClick on the link to [Download org-apache-commons-lang.jar](http://www.java2s.com/Code/JarDownload/org-apache/org-apache-commons-lang.jar.zip)\r\n\r\nIntegrate .jar file by clicking: \r\n\r\n**FileName** -&gt; **Open Medule Settings** -&gt; **Select your module** -&gt; **Dependencies** -&gt; **Add Jar file** and you are done.\r\n\r\n**Hope this helps**.","title":"Java Serializable Object to Byte Array","body":"<p>Can be done by <strong><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SerializationUtils.html\" rel=\"noreferrer\">SerializationUtils</a></strong>, by serialize &amp; deserialize method by ApacheUtils to convert object to byte[] and vice-versa , as stated in @uris answer.</p>\n\n<p>To convert an object to byte[] by serializing:</p>\n\n<pre><code>byte[] data = SerializationUtils.serialize(object);\n</code></pre>\n\n<p>To convert byte[] to object by deserializing::</p>\n\n<pre><code>Object object = (Object) SerializationUtils.deserialize(byte[] data)\n</code></pre>\n\n<p>Click on the link to <a href=\"http://www.java2s.com/Code/JarDownload/org-apache/org-apache-commons-lang.jar.zip\" rel=\"noreferrer\">Download org-apache-commons-lang.jar</a></p>\n\n<p>Integrate .jar file by clicking: </p>\n\n<p><strong>FileName</strong> -> <strong>Open Medule Settings</strong> -> <strong>Select your module</strong> -> <strong>Dependencies</strong> -> <strong>Add Jar file</strong> and you are done.</p>\n\n<p><strong>Hope this helps</strong>.</p>\n"},{"tags":[],"owner":{"account_id":4738443,"reputation":61,"user_id":3832083,"display_name":"gzg_55"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526368647,"creation_date":1526367968,"answer_id":50344173,"question_id":2836646,"body_markdown":"I also recommend to use SerializationUtils tool. I want to make a ajust on a wrong  comment by  @Abilash. The `SerializationUtils.serialize()` method is *not* restricted to 1024 bytes, contrary to another answer here.  \r\n\r\n    public static byte[] serialize(Object object) {\r\n\t\tif (object == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream(1024);\r\n\t\ttry {\r\n\t\t\tObjectOutputStream oos = new ObjectOutputStream(baos);\r\n\t\t\toos.writeObject(object);\r\n\t\t\toos.flush();\r\n\t\t}\r\n\t\tcatch (IOException ex) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Failed to serialize object of type: &quot; + object.getClass(), ex);\r\n\t\t}\r\n\t\treturn baos.toByteArray();\r\n\t}\r\n\r\nAt first sight， you may think that `new ByteArrayOutputStream(1024)` will only allow a fixed size. But if you take a close look at the `ByteArrayOutputStream`, you will figure out the the stream will grow if necessary:\r\n\r\n&gt; This class implements an output stream in which the data is\r\n&gt; written into a byte array. The buffer automatically grows as data\r\n&gt; is written to it.\r\n&gt; The data can be retrieved using `toByteArray()` and\r\n&gt; `toString()`.\r\n\r\n  [1]: https://i.stack.imgur.com/XhR6F.png","title":"Java Serializable Object to Byte Array","body":"<p>I also recommend to use SerializationUtils tool. I want to make a ajust on a wrong  comment by  @Abilash. The <code>SerializationUtils.serialize()</code> method is <em>not</em> restricted to 1024 bytes, contrary to another answer here.  </p>\n\n<pre><code>public static byte[] serialize(Object object) {\n    if (object == null) {\n        return null;\n    }\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(1024);\n    try {\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        oos.writeObject(object);\n        oos.flush();\n    }\n    catch (IOException ex) {\n        throw new IllegalArgumentException(\"Failed to serialize object of type: \" + object.getClass(), ex);\n    }\n    return baos.toByteArray();\n}\n</code></pre>\n\n<p>At first sight， you may think that <code>new ByteArrayOutputStream(1024)</code> will only allow a fixed size. But if you take a close look at the <code>ByteArrayOutputStream</code>, you will figure out the the stream will grow if necessary:</p>\n\n<blockquote>\n  <p>This class implements an output stream in which the data is\n  written into a byte array. The buffer automatically grows as data\n  is written to it.\n  The data can be retrieved using <code>toByteArray()</code> and\n  <code>toString()</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526368806,"creation_date":1526368806,"answer_id":50344444,"question_id":2836646,"body_markdown":"&gt; I would like to transmit it as byte[] over sockets to another machine \r\n\r\n    // When you connect\r\n    ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n    // When you want to send it\r\n    oos.writeObject(appMessage);\r\n\r\n&gt; where it is rebuilt from the bytes received.\r\n\r\n    // When you connect\r\n    ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n    // When you want to receive it\r\n    AppMessage appMessage = (AppMessage)ois.readObject();","title":"Java Serializable Object to Byte Array","body":"<blockquote>\n  <p>I would like to transmit it as byte[] over sockets to another machine </p>\n</blockquote>\n\n<pre><code>// When you connect\nObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n// When you want to send it\noos.writeObject(appMessage);\n</code></pre>\n\n<blockquote>\n  <p>where it is rebuilt from the bytes received.</p>\n</blockquote>\n\n<pre><code>// When you connect\nObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n// When you want to receive it\nAppMessage appMessage = (AppMessage)ois.readObject();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551473296,"creation_date":1551473296,"answer_id":54952086,"question_id":2836646,"body_markdown":"code example with java 8+:\r\n\r\n    public class Person implements Serializable {\r\n\r\n    private String lastName;\r\n    private String firstName;\r\n\r\n    public Person() {\r\n    }\r\n\r\n    public Person(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;firstName: &quot; + firstName + &quot;, lastName: &quot; + lastName;\r\n    }\r\n    }\r\n\r\n\r\n    public interface PersonMarshaller {\r\n    default Person fromStream(InputStream inputStream) {\r\n        try (ObjectInputStream objectInputStream = new ObjectInputStream(inputStream)) {\r\n            Person person= (Person) objectInputStream.readObject();\r\n            return person;\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            System.err.println(e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\n    default OutputStream toStream(Person person) {\r\n        try (OutputStream outputStream = new ByteArrayOutputStream()) {\r\n            ObjectOutput objectOutput = new ObjectOutputStream(outputStream);\r\n            objectOutput.writeObject(person);\r\n            objectOutput.flush();\r\n            return outputStream;\r\n        } catch (IOException e) {\r\n            System.err.println(e.getMessage());\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    }","title":"Java Serializable Object to Byte Array","body":"<p>code example with java 8+:</p>\n\n<pre><code>public class Person implements Serializable {\n\nprivate String lastName;\nprivate String firstName;\n\npublic Person() {\n}\n\npublic Person(String firstName, String lastName) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\n@Override\npublic String toString() {\n    return \"firstName: \" + firstName + \", lastName: \" + lastName;\n}\n}\n\n\npublic interface PersonMarshaller {\ndefault Person fromStream(InputStream inputStream) {\n    try (ObjectInputStream objectInputStream = new ObjectInputStream(inputStream)) {\n        Person person= (Person) objectInputStream.readObject();\n        return person;\n    } catch (IOException | ClassNotFoundException e) {\n        System.err.println(e.getMessage());\n        return null;\n    }\n}\n\ndefault OutputStream toStream(Person person) {\n    try (OutputStream outputStream = new ByteArrayOutputStream()) {\n        ObjectOutput objectOutput = new ObjectOutputStream(outputStream);\n        objectOutput.writeObject(person);\n        objectOutput.flush();\n        return outputStream;\n    } catch (IOException e) {\n        System.err.println(e.getMessage());\n        return null;\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5749872,"reputation":1997,"user_id":4539906,"display_name":"Asad Shakeel"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1568275576,"creation_date":1568275576,"answer_id":57902340,"question_id":2836646,"body_markdown":"Another interesting method is from `com.fasterxml.jackson.databind.ObjectMapper`\r\n\r\n`byte[] data = new ObjectMapper().writeValueAsBytes(JAVA_OBJECT_HERE)`\r\n\r\nMaven Dependency\r\n\r\n```\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Java Serializable Object to Byte Array","body":"<p>Another interesting method is from <code>com.fasterxml.jackson.databind.ObjectMapper</code></p>\n\n<p><code>byte[] data = new ObjectMapper().writeValueAsBytes(JAVA_OBJECT_HERE)</code></p>\n\n<p>Maven Dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6886654,"reputation":2078,"user_id":5291494,"display_name":"xxg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569843707,"creation_date":1569843707,"answer_id":58167215,"question_id":2836646,"body_markdown":"Spring Framework `org.springframework.util.SerializationUtils`\r\n\r\n    byte[] data = SerializationUtils.serialize(obj);","title":"Java Serializable Object to Byte Array","body":"<p>Spring Framework <code>org.springframework.util.SerializationUtils</code></p>\n\n<pre><code>byte[] data = SerializationUtils.serialize(obj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12184,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1579508523,"creation_date":1579508523,"answer_id":59819306,"question_id":2836646,"body_markdown":"If you are using spring, there&#39;s a util class available in spring-core. You can simply do\r\n\r\n    import org.springframework.util.SerializationUtils;\r\n    \r\n    byte[] bytes = SerializationUtils.serialize(anyObject);\r\n    Object object = SerializationUtils.deserialize(bytes);","title":"Java Serializable Object to Byte Array","body":"<p>If you are using spring, there's a util class available in spring-core. You can simply do</p>\n\n<pre><code>import org.springframework.util.SerializationUtils;\n\nbyte[] bytes = SerializationUtils.serialize(anyObject);\nObject object = SerializationUtils.deserialize(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588650638,"creation_date":1588650638,"answer_id":61605459,"question_id":2836646,"body_markdown":"In case you want a nice no dependencies copy-paste solution. Grab the code below.\r\n\r\n\r\n# Example\r\n\r\n    MyObject myObject = ...\r\n    \r\n    byte[] bytes = SerializeUtils.serialize(myObject);\r\n    myObject = SerializeUtils.deserialize(bytes);\r\n\r\n# Source\r\n\r\n    import java.io.*;\r\n    \r\n    public class SerializeUtils {\r\n    \r\n        public static byte[] serialize(Serializable value) throws IOException {\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \r\n            try(ObjectOutputStream outputStream = new ObjectOutputStream(out)) {\r\n                outputStream.writeObject(value);\r\n            }\r\n    \r\n            return out.toByteArray();\r\n        }\r\n    \r\n        public static &lt;T extends Serializable&gt; T deserialize(byte[] data) throws IOException, ClassNotFoundException {\r\n            try(ByteArrayInputStream bis = new ByteArrayInputStream(data)) {\r\n                //noinspection unchecked\r\n                return (T) new ObjectInputStream(bis).readObject();\r\n            }\r\n        }\r\n    }","title":"Java Serializable Object to Byte Array","body":"<p>In case you want a nice no dependencies copy-paste solution. Grab the code below.</p>\n\n<h1>Example</h1>\n\n<pre><code>MyObject myObject = ...\n\nbyte[] bytes = SerializeUtils.serialize(myObject);\nmyObject = SerializeUtils.deserialize(bytes);\n</code></pre>\n\n<h1>Source</h1>\n\n<pre><code>import java.io.*;\n\npublic class SerializeUtils {\n\n    public static byte[] serialize(Serializable value) throws IOException {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        try(ObjectOutputStream outputStream = new ObjectOutputStream(out)) {\n            outputStream.writeObject(value);\n        }\n\n        return out.toByteArray();\n    }\n\n    public static &lt;T extends Serializable&gt; T deserialize(byte[] data) throws IOException, ClassNotFoundException {\n        try(ByteArrayInputStream bis = new ByteArrayInputStream(data)) {\n            //noinspection unchecked\n            return (T) new ObjectInputStream(bis).readObject();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591056320,"creation_date":1591056320,"answer_id":62142807,"question_id":2836646,"body_markdown":"This is just an optimized code form of the accepted answer in case anyone wants to use this in production :\r\n\r\n    \tpublic static void byteArrayOps() throws IOException, ClassNotFoundException{\r\n\t\t\r\n\t\tString str=&quot;123&quot;;\r\n\t\t byte[] yourBytes = null;\r\n\t\t\r\n\t\t// Convert to byte[]\r\n\t\t\r\n\t\ttry(ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\t\t\tObjectOutputStream out =  new ObjectOutputStream(bos);) {\r\n\t\t  \r\n\t\t\t\r\n\t\t  out.writeObject(str);\r\n\t\t  out.flush();\r\n\t\t  yourBytes = bos.toByteArray();\r\n\t\t  \r\n\t\t} finally {\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// convert back to Object\r\n\t\t\r\n\t\ttry(ByteArrayInputStream bis = new ByteArrayInputStream(yourBytes);\r\n\t\t\t\tObjectInput in = new ObjectInputStream(bis);) {\r\n\r\n\t\t  Object o = in.readObject(); \r\n\t\t  \r\n\t\t} finally {\r\n\t\t  \r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}","title":"Java Serializable Object to Byte Array","body":"<p>This is just an optimized code form of the accepted answer in case anyone wants to use this in production :</p>\n\n<pre><code>    public static void byteArrayOps() throws IOException, ClassNotFoundException{\n\n    String str=\"123\";\n     byte[] yourBytes = null;\n\n    // Convert to byte[]\n\n    try(ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            ObjectOutputStream out =  new ObjectOutputStream(bos);) {\n\n\n      out.writeObject(str);\n      out.flush();\n      yourBytes = bos.toByteArray();\n\n    } finally {\n\n    }\n\n    // convert back to Object\n\n    try(ByteArrayInputStream bis = new ByteArrayInputStream(yourBytes);\n            ObjectInput in = new ObjectInputStream(bis);) {\n\n      Object o = in.readObject(); \n\n    } finally {\n\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18580192,"reputation":21,"user_id":13539927,"display_name":"Sajjad Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702021546,"creation_date":1702021546,"answer_id":77625049,"question_id":2836646,"body_markdown":"make sure to implements Serializable or exception will be your destiny\r\n\r\n    \r\n    public class Dto implements Serializable {\r\n\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private Integer myNumber;\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Integer getMyNumber() {\r\n        return myNumber;\r\n    }\r\n\r\n    public void setMyNumber(Integer myNumber) {\r\n        this.myNumber = myNumber;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Dto{&quot; +\r\n                &quot;firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, myNumber=&quot; + myNumber +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Dto dto=new Dto();\r\n        dto.setFirstName(&quot;Sajjad&quot;);\r\n        dto.setLastName(&quot;ahmed&quot;);\r\n        dto.setMyNumber(0305);\r\n\r\n\r\n        byte[] serializedDto = serializeObject(dto);\r\n\r\n\r\n        System.out.println(&quot;Serialized Dto=== &quot; + new String(serializedDto));\r\n\r\n\r\n        Dto deserializedDto = deserializeObject(serializedDto);\r\n\r\n\r\n        System.out.println(&quot;Deserialized Dto===&quot; + deserializedDto);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    private static byte[] serializeObject(Dto dto) {\r\n        try {\r\n            ByteArrayOutputStream byteOutputStream = new ByteArrayOutputStream();\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(byteOutputStream);\r\n\r\n\r\n            objectOutputStream.writeObject(dto);\r\n\r\n\r\n            objectOutputStream.close();\r\n            byteOutputStream.close();\r\n\r\n\r\n            return byteOutputStream.toByteArray();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }}\r\n        private static Dto deserializeObject(byte[] byteArray) {\r\n            try {\r\n\r\n                ByteArrayInputStream byteInputStream = new ByteArrayInputStream(byteArray);\r\n                ObjectInputStream objectInputStream = new ObjectInputStream(byteInputStream);\r\n\r\n\r\n                Dto deserializedObject = (Dto) objectInputStream.readObject();\r\n\r\n\r\n                objectInputStream.close();\r\n                byteInputStream.close();\r\n\r\n                return deserializedObject;\r\n\r\n            } catch (IOException | ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n}\r\n\r\n\r\n","title":"Java Serializable Object to Byte Array","body":"<p>make sure to implements Serializable or exception will be your destiny</p>\n<pre><code>public class Dto implements Serializable {\n\n\nprivate String firstName;\nprivate String lastName;\nprivate Integer myNumber;\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic Integer getMyNumber() {\n    return myNumber;\n}\n\npublic void setMyNumber(Integer myNumber) {\n    this.myNumber = myNumber;\n}\n\n@Override\npublic String toString() {\n    return &quot;Dto{&quot; +\n            &quot;firstName='&quot; + firstName + '\\'' +\n            &quot;, lastName='&quot; + lastName + '\\'' +\n            &quot;, myNumber=&quot; + myNumber +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Dto dto=new Dto();\n    dto.setFirstName(&quot;Sajjad&quot;);\n    dto.setLastName(&quot;ahmed&quot;);\n    dto.setMyNumber(0305);\n\n\n    byte[] serializedDto = serializeObject(dto);\n\n\n    System.out.println(&quot;Serialized Dto=== &quot; + new String(serializedDto));\n\n\n    Dto deserializedDto = deserializeObject(serializedDto);\n\n\n    System.out.println(&quot;Deserialized Dto===&quot; + deserializedDto);\n\n\n\n\n}\n\n\n\nprivate static byte[] serializeObject(Dto dto) {\n    try {\n        ByteArrayOutputStream byteOutputStream = new ByteArrayOutputStream();\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(byteOutputStream);\n\n\n        objectOutputStream.writeObject(dto);\n\n\n        objectOutputStream.close();\n        byteOutputStream.close();\n\n\n        return byteOutputStream.toByteArray();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }}\n    private static Dto deserializeObject(byte[] byteArray) {\n        try {\n\n            ByteArrayInputStream byteInputStream = new ByteArrayInputStream(byteArray);\n            ObjectInputStream objectInputStream = new ObjectInputStream(byteInputStream);\n\n\n            Dto deserializedObject = (Dto) objectInputStream.readObject();\n\n\n            objectInputStream.close();\n            byteInputStream.close();\n\n            return deserializedObject;\n\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":127226,"reputation":8262,"user_id":324249,"accept_rate":96,"display_name":"iTEgg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485697,"favorite_count":0,"down_vote_count":1,"up_vote_count":332,"accepted_answer_id":2836659,"answer_count":13,"score":331,"last_activity_date":1702021546,"creation_date":1273861880,"question_id":2836646,"body_markdown":"Let&#39;s say I have a serializable class `AppMessage`.\r\n\r\nI would like to transmit it as `byte[]` over sockets to another machine where it is rebuilt from the bytes received.\r\n\r\nHow could I achieve this?","title":"Java Serializable Object to Byte Array","body":"<p>Let's say I have a serializable class <code>AppMessage</code>.</p>\n\n<p>I would like to transmit it as <code>byte[]</code> over sockets to another machine where it is rebuilt from the bytes received.</p>\n\n<p>How could I achieve this?</p>\n"},{"tags":["java","hibernate","spring-boot","spring-data-jpa","postgis"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1559728694,"post_id":56458044,"comment_id":99508230,"body_markdown":"You need an additional dependency for the `PostgisDialect` if you haven&#39;t added that to your pom or build file it will not resolve to a class.","body":"You need an additional dependency for the <code>PostgisDialect</code> if you haven&#39;t added that to your pom or build file it will not resolve to a class."},{"owner":{"account_id":4119966,"reputation":584,"user_id":3380611,"accept_rate":100,"display_name":"Mox"},"score":1,"creation_date":1559729703,"post_id":56458044,"comment_id":99508689,"body_markdown":"Doh! Post it as an answer, for posterity sake in case junior devs are googling this later on as well :P","body":"Doh! Post it as an answer, for posterity sake in case junior devs are googling this later on as well :P"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1559729914,"creation_date":1559729914,"answer_id":56458575,"question_id":56458044,"body_markdown":"When using the [`PostgisDialect`][2]  you will need the [`hibernate-spatial`][1] project on your classpath as a dependency. \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAdding something like the above to your list of dependencies should include the proper classes. \r\n\r\n[1]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial\r\n[2]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial-configuration-dialect","title":"Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]","body":"<p>When using the <a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial-configuration-dialect\" rel=\"noreferrer\"><code>PostgisDialect</code></a>  you will need the <a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#spatial\" rel=\"noreferrer\"><code>hibernate-spatial</code></a> project on your classpath as a dependency. </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Adding something like the above to your list of dependencies should include the proper classes. </p>\n"},{"tags":[],"owner":{"account_id":26045064,"reputation":29,"user_id":19749200,"display_name":"Rajat Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1672656214,"creation_date":1672652863,"answer_id":74980905,"question_id":56458044,"body_markdown":"Change dialect to\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect","title":"Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]","body":"<p>Change dialect to</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13954095,"reputation":164,"user_id":10076956,"display_name":"Van Teo Le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681018004,"creation_date":1681018004,"answer_id":75968923,"question_id":56458044,"body_markdown":"Late to the party, but here is my 2 cent:\r\n\r\nThe org.hibernate.spatial.dialect.postgis.PostgisDialect is already deprecated in later version of hibernate, so you may want to switch to something else, like PostgisPG92Dialect,...","title":"Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]","body":"<p>Late to the party, but here is my 2 cent:</p>\n<p>The org.hibernate.spatial.dialect.postgis.PostgisDialect is already deprecated in later version of hibernate, so you may want to switch to something else, like PostgisPG92Dialect,...</p>\n"},{"tags":[],"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700816423,"creation_date":1700816423,"answer_id":77541875,"question_id":56458044,"body_markdown":"Using Spring Boot 3 and Hibernate 6 (with spatial installed as well), I actually didn&#39;t need to explicitly specify that I was using Postgis. It&#39;s included automatically in \r\n```\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```\r\nif you have `hibernate-spatial` as a dependency.","title":"Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]","body":"<p>Using Spring Boot 3 and Hibernate 6 (with spatial installed as well), I actually didn't need to explicitly specify that I was using Postgis. It's included automatically in</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>if you have <code>hibernate-spatial</code> as a dependency.</p>\n"},{"tags":[],"owner":{"account_id":21253482,"reputation":1,"user_id":15635400,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702020574,"creation_date":1702019977,"answer_id":77624934,"question_id":56458044,"body_markdown":"The solution that worked for me is: &lt;br/&gt; \r\n1) Add the following starter dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis has `hibernate-core` in it. &lt;br/&gt;\r\n\r\n2) Then add the spatial dependency. Caution! Exactly without version:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd that&#39;s it! This approach doesn&#39;t require explicit definition of hibernate dialect and at the same fixes the `Invalid endian flag value encountered` error.\r\n","title":"Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]","body":"<p>The solution that worked for me is: <br/></p>\n<ol>\n<li>Add the following starter dependency:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This has <code>hibernate-core</code> in it. <br/></p>\n<ol start=\"2\">\n<li>Then add the spatial dependency. Caution! Exactly without version:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And that's it! This approach doesn't require explicit definition of hibernate dialect and at the same fixes the <code>Invalid endian flag value encountered</code> error.</p>\n"}],"owner":{"account_id":4119966,"reputation":584,"user_id":3380611,"accept_rate":100,"display_name":"Mox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6108,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56458575,"answer_count":5,"score":5,"last_activity_date":1702020574,"creation_date":1559727943,"question_id":56458044,"body_markdown":"    spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.postgis.PostgisDialect\r\n\r\nI have a Spring Boot v1.5 application with Hibernate 5 running a Postgis database. However, I&#39;m having issues with spatial queries, with the exception being `Invalid endian flag value encountered.`. Searching that exception yields me solutions of adding the appropirate SQL Dialect to the properties file. Doing that, as above, yield me the error from the title.\r\n\r\nRunning the queries directly in `psql` makes them work, so it&#39;s not an issue in my Postgis DB itself.\r\n\r\nThe theme of these questions is always a misspelling, but I can&#39;t find what it would be here.","title":"Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]","body":"<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.spatial.dialect.postgis.PostgisDialect\n</code></pre>\n\n<p>I have a Spring Boot v1.5 application with Hibernate 5 running a Postgis database. However, I'm having issues with spatial queries, with the exception being <code>Invalid endian flag value encountered.</code>. Searching that exception yields me solutions of adding the appropirate SQL Dialect to the properties file. Doing that, as above, yield me the error from the title.</p>\n\n<p>Running the queries directly in <code>psql</code> makes them work, so it's not an issue in my Postgis DB itself.</p>\n\n<p>The theme of these questions is always a misspelling, but I can't find what it would be here.</p>\n"},{"tags":["java","swing","intellij-idea"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701981642,"post_id":77622942,"comment_id":136845165,"body_markdown":"Read the error message a little more closely.","body":"Read the error message a little more closely."},{"owner":{"account_id":29952122,"reputation":1,"user_id":22953927,"display_name":"GROMATOU Grognatou"},"score":0,"creation_date":1701981839,"post_id":77622942,"comment_id":136845195,"body_markdown":"the contentpan file is empty https://cdn.discordapp.com/attachments/1020383400688885852/1182422191330054204/image.png","body":"the contentpan file is empty <a href=\"https://cdn.discordapp.com/attachments/1020383400688885852/1182422191330054204/image.png\" rel=\"nofollow noreferrer\">cdn.discordapp.com/attachments/1020383400688885852/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702007851,"post_id":77622942,"comment_id":136847749,"body_markdown":"Don&#39;t use images for textual information in Stackoverflow.","body":"Don&#39;t use images for textual information in Stackoverflow."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1702025482,"post_id":77622942,"comment_id":136849562,"body_markdown":"Did you check what your various plugins do? https://github.com/CadixDev/licenser tells you that `checkLicenseMain` checks whether all classes in the main source set have a license header. The contentPane.java source file doesn&#39;t have such a header, so it reports it as license violation. Just renaming that class doesn&#39;t magically add a license header, so the task will still complain. The solution: add the license header - either manually or using the `updateLicenseMain` gradle task. Or: remove that plugin.","body":"Did you check what your various plugins do? <a href=\"https://github.com/CadixDev/licenser\" rel=\"nofollow noreferrer\">github.com/CadixDev/licenser</a> tells you that <code>checkLicenseMain</code> checks whether all classes in the main source set have a license header. The contentPane.java source file doesn&#39;t have such a header, so it reports it as license violation. Just renaming that class doesn&#39;t magically add a license header, so the task will still complain. The solution: add the license header - either manually or using the <code>updateLicenseMain</code> gradle task. Or: remove that plugin."}],"owner":{"account_id":29952122,"reputation":1,"user_id":22953927,"display_name":"GROMATOU Grognatou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702015404,"answer_count":0,"score":-2,"last_activity_date":1702020500,"creation_date":1701981435,"question_id":77622942,"body_markdown":"https://github.com/Uranium-Developement/uranium-installer\r\n[Screenshot of the error](https://i.stack.imgur.com/ajR34.png)\r\nwhen i make a gui with the intellij swing generator https://www.jetbrains.com/help/idea/gui-designer-basics.html it tell me i&#39;m violating a licence. But i does not use a under licence software. How to solve that ?\r\ni&#39;m using java 17 zulu archive \r\n\r\n\r\nI&#39;ve try to remake the contentPane with an other name, delete some plugins but it doesn&#39;t work.\r\nhere is the contentPane content :\r\n```java\r\npackage net.fabricmc.installer;\r\n\r\npublic class contentPane {\r\n}\r\n```\r\nhere is the error log :\r\n```java\r\n&gt; Task :checkLicenseMain FAILED\r\n\r\nExecution failed for task &#39;:checkLicenseMain&#39;.\r\n&gt; License violations were found: src\\main\\java\\net\\fabricmc\\installer\\contentPane.java\r\n\r\n```\r\nhere is my build.gradle file :\r\n```java\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;maven-publish&#39;\r\n\tid &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\r\n\tid &quot;org.cadixdev.licenser&quot; version &quot;0.6.1&quot;\r\n\tid &quot;de.undercouch.download&quot; version &quot;4.1.2&quot;\r\n\tid &quot;me.modmuss50.remotesign&quot; version &quot;0.1.0&quot;\r\n}\r\n\r\nsourceCompatibility = 1.8\r\nversion = &#39;0.11.2&#39;\r\narchivesBaseName = &quot;fabric-installer&quot;\r\n\r\ndef ENV = System.getenv()\r\nversion = version + (ENV.GITHUB_ACTIONS ? &quot;&quot; : &quot;+local&quot;)\r\n\r\nrepositories {\r\n\tmaven {\r\n\t\tname = &#39;Fabric&#39;\r\n\t\turl = &#39;https://maven.fabricmc.net/&#39;\r\n\t}\r\n    mavenCentral()\r\n}\r\n\r\ndef nativeLibVersion = &quot;0.1.3&quot;\r\ndef nativeLibDistributions = [\r\n\t\t&quot;windows-ARM64&quot;, &quot;windows-Win32&quot;, &quot;windows-x64&quot;, &quot;macos-x86_64_arm64&quot;\r\n]\r\n\r\ndependencies {\r\n\timplementation (&#39;org.sharegov:mjson:1.4.1&#39;) {\r\n\t\ttransitive false\r\n\t}\r\n\tnativeLibDistributions.each {\r\n\t\timplementation &quot;net.fabricmc.fabric-installer-native-lib:${it}:${nativeLibVersion}&quot;\r\n\t}\r\n\r\n\ttestImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n\tit.options.encoding = &quot;UTF-8&quot;\r\n\r\n\tif (JavaVersion.current().isJava9Compatible()) {\r\n\t\tit.options.release = 8\r\n\t}\r\n}\r\n\r\n\r\n\r\nshadowJar {\r\n\tmanifest {\r\n\t\tattributes &#39;Implementation-Title&#39;: &#39;FabricInstaller&#39;,\r\n\t\t\t\t&#39;Implementation-Version&#39;: project.version,\r\n\t\t\t\t&#39;Main-Class&#39;: &#39;net.fabricmc.installer.Main&#39;\r\n\t}\r\n\r\n\tminimize()\r\n\tarchiveClassifier.set(null)\r\n\texclude(&#39;icon.ico&#39;)\r\n}\r\n\r\ntask serverJar(type: com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar) {\r\n\tmanifest {\r\n\t\tattributes &#39;Implementation-Title&#39;: &#39;FabricInstaller&#39;,\r\n\t\t\t\t&#39;Implementation-Version&#39;: project.version,\r\n\t\t\t\t&#39;Main-Class&#39;: &#39;net.fabricmc.installer.ServerLauncher&#39;\r\n\t}\r\n\r\n\tminimize()\r\n\texclude(&#39;icon.ico&#39;)\r\n\texclude(&#39;*.png&#39;)\r\n\texclude(&#39;natives/*&#39;)\r\n\r\n\tarchiveClassifier = &quot;server&quot;\r\n\tfrom sourceSets.main.output\r\n\tconfigurations = [project.configurations.compileClasspath]\r\n}\r\nassemble.dependsOn serverJar\r\n\r\ndef bootstrapVersion = &quot;0.3.2&quot;\r\ndef bootstrapArch = &quot;i686&quot;\r\n\r\ntask downloadBootstrap(type: Download) {\r\n\tsrc &quot;https://maven.fabricmc.net/net/fabricmc/fabric-installer-native-bootstrap/windows-${bootstrapArch}/${bootstrapVersion}/windows-${bootstrapArch}-${bootstrapVersion}.exe&quot;\r\n\tdest project.buildDir\r\n}\r\n\r\ntask nativeExe(dependsOn: [shadowJar, downloadBootstrap], type: FileOutput) {\r\n\toutput = file(&quot;${projectDir}/build/libs/${archivesBaseName}-${project.version}.exe&quot;)\r\n\toutputs.upToDateWhen { false }\r\n\r\n\tdoFirst {\r\n\t\toutput.delete()\r\n\t}\r\n\r\n\tdoLast {\r\n\t\toutput.createNewFile()\r\n\t\toutput.setBytes downloadBootstrap.outputFiles.first().readBytes()\r\n\r\n\t\tif (ENV.SIGNING_SERVER) {\r\n\t\t\toutput.append signShadowJar.archiveFile.get().getAsFile().readBytes()\r\n\t\t} else {\r\n\t\t\toutput.append shadowJar.archiveFile.get().getAsFile().readBytes()\r\n\t\t}\r\n\t}\r\n}\r\nbuild.dependsOn nativeExe\r\n\r\njar {\r\n\tenabled = false\r\n}\r\n\r\nif (ENV.SIGNING_SERVER) {\r\n\tremoteSign {\r\n\t\trequestUrl ENV.SIGNING_SERVER\r\n\t\tpgpAuthKey ENV.SIGNING_PGP_KEY\r\n\t\tjarAuthKey ENV.SIGNING_JAR_KEY\r\n\r\n\t\tsign (shadowJar)\r\n\r\n\t\tafterEvaluate {\r\n\t\t\tsign publishing.publications.maven\r\n\t\t}\r\n\t}\r\n\r\n\tnativeExe.dependsOn signShadowJar\r\n}\r\n\r\nlicense {\r\n\theader rootProject.file(&quot;HEADER&quot;)\r\n\tinclude &quot;**/*.java&quot;\r\n}\r\n\r\npublishing {\r\n\tpublications {\r\n\t\tmaven(MavenPublication) {\r\n\t\t\tgroupId project.group\r\n\t\t\tartifactId project.archivesBaseName\r\n\t\t\tversion project.version\r\n\r\n\t\t\tif (ENV.SIGNING_SERVER) {\r\n\t\t\t\tartifact (signShadowJar) {\r\n\t\t\t\t\tclassifier null\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tartifact (shadowJar) {\r\n\t\t\t\t\tclassifier null\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tartifact nativeExe.output\r\n\r\n\t\t\t// No point in signing as it is designed to get modified\r\n\t\t\tartifact (serverJar) {\r\n\t\t\t\tclassifier &quot;server&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trepositories {\r\n\t\tmaven {\r\n\t\t\tif (ENV.MAVEN_URL) {\r\n\t\t\t\turl ENV.MAVEN_URL\r\n\t\t\t\tcredentials {\r\n\t\t\t\t\tusername ENV.MAVEN_USERNAME\r\n\t\t\t\t\tpassword ENV.MAVEN_PASSWORD\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// A task to ensure that the version being released has not already been released.\r\ntask checkVersion {\r\n\tdoFirst {\r\n\t\tdef xml = new URL(&quot;https://maven.fabricmc.net/net/fabricmc/fabric-installer/maven-metadata.xml&quot;).text\r\n\t\tdef metadata = new XmlSlurper().parseText(xml)\r\n\t\tdef versions = metadata.versioning.versions.version*.text();\r\n\t\tif (versions.contains(version)) {\r\n\t\t\tthrow new RuntimeException(&quot;${version} has already been released!&quot;)\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublish.mustRunAfter checkVersion\r\n\r\nclass FileOutput extends DefaultTask {\r\n\t@OutputFile\r\n\tFile output\r\n}\r\n```","title":"why is gradle telling me &quot;License violations were found: src\\main\\java\\net\\fabricmc\\installer\\contentPane.java&quot; but i&#39;m not using a licenced thing","body":"<p><a href=\"https://github.com/Uranium-Developement/uranium-installer\" rel=\"nofollow noreferrer\">https://github.com/Uranium-Developement/uranium-installer</a>\n<a href=\"https://i.stack.imgur.com/ajR34.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a>\nwhen i make a gui with the intellij swing generator <a href=\"https://www.jetbrains.com/help/idea/gui-designer-basics.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/gui-designer-basics.html</a> it tell me i'm violating a licence. But i does not use a under licence software. How to solve that ?\ni'm using java 17 zulu archive</p>\n<p>I've try to remake the contentPane with an other name, delete some plugins but it doesn't work.\nhere is the contentPane content :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.fabricmc.installer;\n\npublic class contentPane {\n}\n</code></pre>\n<p>here is the error log :</p>\n<pre class=\"lang-java prettyprint-override\"><code>&gt; Task :checkLicenseMain FAILED\n\nExecution failed for task ':checkLicenseMain'.\n&gt; License violations were found: src\\main\\java\\net\\fabricmc\\installer\\contentPane.java\n\n</code></pre>\n<p>here is my build.gradle file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n    id 'java'\n    id 'maven-publish'\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\n    id &quot;org.cadixdev.licenser&quot; version &quot;0.6.1&quot;\n    id &quot;de.undercouch.download&quot; version &quot;4.1.2&quot;\n    id &quot;me.modmuss50.remotesign&quot; version &quot;0.1.0&quot;\n}\n\nsourceCompatibility = 1.8\nversion = '0.11.2'\narchivesBaseName = &quot;fabric-installer&quot;\n\ndef ENV = System.getenv()\nversion = version + (ENV.GITHUB_ACTIONS ? &quot;&quot; : &quot;+local&quot;)\n\nrepositories {\n    maven {\n        name = 'Fabric'\n        url = 'https://maven.fabricmc.net/'\n    }\n    mavenCentral()\n}\n\ndef nativeLibVersion = &quot;0.1.3&quot;\ndef nativeLibDistributions = [\n        &quot;windows-ARM64&quot;, &quot;windows-Win32&quot;, &quot;windows-x64&quot;, &quot;macos-x86_64_arm64&quot;\n]\n\ndependencies {\n    implementation ('org.sharegov:mjson:1.4.1') {\n        transitive false\n    }\n    nativeLibDistributions.each {\n        implementation &quot;net.fabricmc.fabric-installer-native-lib:${it}:${nativeLibVersion}&quot;\n    }\n\n    testImplementation 'junit:junit:4.13.2'\n}\n\ntasks.withType(JavaCompile).configureEach {\n    it.options.encoding = &quot;UTF-8&quot;\n\n    if (JavaVersion.current().isJava9Compatible()) {\n        it.options.release = 8\n    }\n}\n\n\n\nshadowJar {\n    manifest {\n        attributes 'Implementation-Title': 'FabricInstaller',\n                'Implementation-Version': project.version,\n                'Main-Class': 'net.fabricmc.installer.Main'\n    }\n\n    minimize()\n    archiveClassifier.set(null)\n    exclude('icon.ico')\n}\n\ntask serverJar(type: com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar) {\n    manifest {\n        attributes 'Implementation-Title': 'FabricInstaller',\n                'Implementation-Version': project.version,\n                'Main-Class': 'net.fabricmc.installer.ServerLauncher'\n    }\n\n    minimize()\n    exclude('icon.ico')\n    exclude('*.png')\n    exclude('natives/*')\n\n    archiveClassifier = &quot;server&quot;\n    from sourceSets.main.output\n    configurations = [project.configurations.compileClasspath]\n}\nassemble.dependsOn serverJar\n\ndef bootstrapVersion = &quot;0.3.2&quot;\ndef bootstrapArch = &quot;i686&quot;\n\ntask downloadBootstrap(type: Download) {\n    src &quot;https://maven.fabricmc.net/net/fabricmc/fabric-installer-native-bootstrap/windows-${bootstrapArch}/${bootstrapVersion}/windows-${bootstrapArch}-${bootstrapVersion}.exe&quot;\n    dest project.buildDir\n}\n\ntask nativeExe(dependsOn: [shadowJar, downloadBootstrap], type: FileOutput) {\n    output = file(&quot;${projectDir}/build/libs/${archivesBaseName}-${project.version}.exe&quot;)\n    outputs.upToDateWhen { false }\n\n    doFirst {\n        output.delete()\n    }\n\n    doLast {\n        output.createNewFile()\n        output.setBytes downloadBootstrap.outputFiles.first().readBytes()\n\n        if (ENV.SIGNING_SERVER) {\n            output.append signShadowJar.archiveFile.get().getAsFile().readBytes()\n        } else {\n            output.append shadowJar.archiveFile.get().getAsFile().readBytes()\n        }\n    }\n}\nbuild.dependsOn nativeExe\n\njar {\n    enabled = false\n}\n\nif (ENV.SIGNING_SERVER) {\n    remoteSign {\n        requestUrl ENV.SIGNING_SERVER\n        pgpAuthKey ENV.SIGNING_PGP_KEY\n        jarAuthKey ENV.SIGNING_JAR_KEY\n\n        sign (shadowJar)\n\n        afterEvaluate {\n            sign publishing.publications.maven\n        }\n    }\n\n    nativeExe.dependsOn signShadowJar\n}\n\nlicense {\n    header rootProject.file(&quot;HEADER&quot;)\n    include &quot;**/*.java&quot;\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            groupId project.group\n            artifactId project.archivesBaseName\n            version project.version\n\n            if (ENV.SIGNING_SERVER) {\n                artifact (signShadowJar) {\n                    classifier null\n                }\n            } else {\n                artifact (shadowJar) {\n                    classifier null\n                }\n            }\n\n            artifact nativeExe.output\n\n            // No point in signing as it is designed to get modified\n            artifact (serverJar) {\n                classifier &quot;server&quot;\n            }\n        }\n    }\n    repositories {\n        maven {\n            if (ENV.MAVEN_URL) {\n                url ENV.MAVEN_URL\n                credentials {\n                    username ENV.MAVEN_USERNAME\n                    password ENV.MAVEN_PASSWORD\n                }\n            }\n        }\n    }\n}\n\n// A task to ensure that the version being released has not already been released.\ntask checkVersion {\n    doFirst {\n        def xml = new URL(&quot;https://maven.fabricmc.net/net/fabricmc/fabric-installer/maven-metadata.xml&quot;).text\n        def metadata = new XmlSlurper().parseText(xml)\n        def versions = metadata.versioning.versions.version*.text();\n        if (versions.contains(version)) {\n            throw new RuntimeException(&quot;${version} has already been released!&quot;)\n        }\n    }\n}\n\npublish.mustRunAfter checkVersion\n\nclass FileOutput extends DefaultTask {\n    @OutputFile\n    File output\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","internationalization","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702020256,"creation_date":1702020256,"answer_id":77624948,"question_id":77624343,"body_markdown":"It seems like that you excepted to load valid message dynamiclly .\r\n\r\nyou can add static constants which would define in  a  common constants class.\r\n\r\nthe code snippet is like following \r\n### step1. creat constants class\r\n```java\r\n\r\npublic class ValidationMessages {\r\n    public static final String LAST_NAME_REQUIRED = &quot;user.lastname_required&quot;;\r\n\r\n}\r\n\r\n// In your POJO\r\n@NotEmpty(message = &quot;{&quot; + ValidationMessages.LAST_NAME_REQUIRED + &quot;}&quot;)\r\nprivate String lastName;\r\n```\r\n\r\n\r\n### step 2. load message from application \r\nyou can use @Value annotation on setmethod that inject value into a static field \r\n\r\n```java\r\n@Component\r\npublic class ValidationMessages {\r\n    public static String LAST_NAME_REQUIRED = &quot;user.lastname_required&quot;;\r\n\r\n\r\n//  the message which behind &#39;:&#39; is  indicate default for the injection\r\n    @Value(&quot;${user.lastname_required:last_name is required}&quot;)\r\n    public void setLastname (String message) {\r\n        LAST_NAME_REQUIRED = message;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\none more word ,\r\nDefine message in  spring ```application.properties``` ,bind the validation message lifecycle scope with spring application that i think it is not the best practise in product environment.  when ever you would like to change the  message ,  if there is no hot refresh spring config in no shutdown model ,  it should refresh config  via  restart application , if it is  frequently modified , it means that you would restart app in every modification.\r\n\r\nThe  validation message  should be  a constants , not load from anywhere dynamiclly\r\n","title":"Spring Boot Validation Message resolve during compile","body":"<p>It seems like that you excepted to load valid message dynamiclly .</p>\n<p>you can add static constants which would define in  a  common constants class.</p>\n<p>the code snippet is like following</p>\n<h3>step1. creat constants class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ValidationMessages {\n    public static final String LAST_NAME_REQUIRED = &quot;user.lastname_required&quot;;\n\n}\n\n// In your POJO\n@NotEmpty(message = &quot;{&quot; + ValidationMessages.LAST_NAME_REQUIRED + &quot;}&quot;)\nprivate String lastName;\n</code></pre>\n<h3>step 2. load message from application</h3>\n<p>you can use @Value annotation on setmethod that inject value into a static field</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ValidationMessages {\n    public static String LAST_NAME_REQUIRED = &quot;user.lastname_required&quot;;\n\n\n//  the message which behind ':' is  indicate default for the injection\n    @Value(&quot;${user.lastname_required:last_name is required}&quot;)\n    public void setLastname (String message) {\n        LAST_NAME_REQUIRED = message;\n    }\n\n}\n</code></pre>\n<p>one more word ,\nDefine message in  spring <code>application.properties</code> ,bind the validation message lifecycle scope with spring application that i think it is not the best practise in product environment.  when ever you would like to change the  message ,  if there is no hot refresh spring config in no shutdown model ,  it should refresh config  via  restart application , if it is  frequently modified , it means that you would restart app in every modification.</p>\n<p>The  validation message  should be  a constants , not load from anywhere dynamiclly</p>\n"}],"owner":{"account_id":4914341,"reputation":1169,"user_id":3961428,"accept_rate":43,"display_name":"iqueqiorio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702020256,"creation_date":1702009594,"question_id":77624343,"body_markdown":"I have set up Spring Boot Validation Message for i18n with the various annotations and beans necessary and have it all working for example \r\n\r\n`SomePOJO`\r\n\r\n    @NotEmpty(message = &quot;{user.lastname_required}&quot;)\r\n    private String lastName;\r\n\r\n`messages.properties`\r\n\r\n    user.lastname_required=Please provide your last name\r\n\r\nMy issues is if I have a typo in the properties file or the POJO or just miss adding an message, this will only be discovered at runtime when the error is thrown.\r\n\r\nHas anyone come up with a solution for how to discover this during compilation?","title":"Spring Boot Validation Message resolve during compile","body":"<p>I have set up Spring Boot Validation Message for i18n with the various annotations and beans necessary and have it all working for example</p>\n<p><code>SomePOJO</code></p>\n<pre><code>@NotEmpty(message = &quot;{user.lastname_required}&quot;)\nprivate String lastName;\n</code></pre>\n<p><code>messages.properties</code></p>\n<pre><code>user.lastname_required=Please provide your last name\n</code></pre>\n<p>My issues is if I have a typo in the properties file or the POJO or just miss adding an message, this will only be discovered at runtime when the error is thrown.</p>\n<p>Has anyone come up with a solution for how to discover this during compilation?</p>\n"},{"tags":["java","android","android-toolbar"],"comments":[{"owner":{"account_id":1017551,"reputation":1293,"user_id":1028772,"accept_rate":33,"display_name":"Tuan Chau"},"score":1,"creation_date":1621298227,"post_id":67576253,"comment_id":119447884,"body_markdown":"It&#39;s `android:layout_centerHorizontal=&quot;true&quot;` instead of center in parent if you want. However, this is not a supposed way to do for constructing a tool with left middle right buttons. All you need is just to create a layout whose the 3 buttons.","body":"It&#39;s <code>android:layout_centerHorizontal=&quot;true&quot;</code> instead of center in parent if you want. However, this is not a supposed way to do for constructing a tool with left middle right buttons. All you need is just to create a layout whose the 3 buttons."},{"owner":{"account_id":19839090,"reputation":632,"user_id":14551576,"display_name":"pilotman"},"score":0,"creation_date":1621361620,"post_id":67576253,"comment_id":119471686,"body_markdown":"Thats worked great thanks. Also by its own layout you mean a new layout file and then just include inthe activity main correct? \nAlso I still hae the white space on top. Wondering if you can advise on removing that?","body":"Thats worked great thanks. Also by its own layout you mean a new layout file and then just include inthe activity main correct?  Also I still hae the white space on top. Wondering if you can advise on removing that?"}],"answers":[{"tags":[],"owner":{"account_id":12918196,"reputation":108,"user_id":9341643,"display_name":"visconttig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621295037,"creation_date":1621295037,"answer_id":67578238,"question_id":67576253,"body_markdown":"I don&#39;t know if what you are trying to do is a good idea.\r\nFrom a design perspective, you have only a limited space in the toolbar and you should position there only the most relevant actions to the context, all the other actions are going to be hiden in the classic &quot;three dots&quot; menu. \r\n\r\nYou can check what I mean here https://developer.android.com/training/appbar/actions\r\nhttps://material.io/components/app-bars-top#anatomy\r\n\r\n\r\nEven thouth, to achieve what you are trying to do, I&#39;ll do it using Constraint Layout instead of Relative Layout, makes your life easier and is up to date ;)  https://developer.android.com/training/constraint-layout","title":"How to center button in toolbar Android","body":"<p>I don't know if what you are trying to do is a good idea.\nFrom a design perspective, you have only a limited space in the toolbar and you should position there only the most relevant actions to the context, all the other actions are going to be hiden in the classic &quot;three dots&quot; menu.</p>\n<p>You can check what I mean here <a href=\"https://developer.android.com/training/appbar/actions\" rel=\"nofollow noreferrer\">https://developer.android.com/training/appbar/actions</a>\n<a href=\"https://material.io/components/app-bars-top#anatomy\" rel=\"nofollow noreferrer\">https://material.io/components/app-bars-top#anatomy</a></p>\n<p>Even thouth, to achieve what you are trying to do, I'll do it using Constraint Layout instead of Relative Layout, makes your life easier and is up to date ;)  <a href=\"https://developer.android.com/training/constraint-layout\" rel=\"nofollow noreferrer\">https://developer.android.com/training/constraint-layout</a></p>\n"},{"tags":[],"owner":{"account_id":13178955,"reputation":71,"user_id":9519005,"display_name":"Induwara Rajapaksha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702020037,"creation_date":1621314914,"answer_id":67580321,"question_id":67576253,"body_markdown":"First, create `title_menu.xml` Layout. Then make sure `android:layout_height=&quot;wrap_content&quot;` and  `android:gravity=&quot;center&quot;`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:text=&quot;Button&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nSecond, add the following code on the `onCreate` method in your Activity.\r\n\r\n    getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\r\n    getSupportActionBar().setCustomView(R.layout.title_menu);","title":"How to center button in toolbar Android","body":"<p>First, create <code>title_menu.xml</code> Layout. Then make sure <code>android:layout_height=&quot;wrap_content&quot;</code> and  <code>android:gravity=&quot;center&quot;</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;Button&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Second, add the following code on the <code>onCreate</code> method in your Activity.</p>\n<pre><code>getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\ngetSupportActionBar().setCustomView(R.layout.title_menu);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2009930,"reputation":705,"user_id":1798649,"display_name":"Faisal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621319825,"creation_date":1621319825,"answer_id":67581108,"question_id":67576253,"body_markdown":"I have fixed issue with all of your layouts.\r\n\r\n 1. for your activity_main.xml copy and paste below layout.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:id=&quot;@+id/drawer_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            tools:openDrawer=&quot;start&quot;&gt;\r\n        \r\n        \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n        \r\n        \r\n                &lt;include\r\n                    android:id=&quot;@+id/app_bar_main&quot;\r\n                    layout=&quot;@layout/app_bar_main&quot; /&gt;\r\n        \r\n        \r\n            &lt;/RelativeLayout&gt;\r\n        \r\n        \r\n            &lt;com.google.android.material.navigation.NavigationView\r\n                android:id=&quot;@+id/nav_view&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                android:background=&quot;#141619&quot;\r\n                android:fitsSystemWindows=&quot;true&quot;\r\n                app:itemIconTint=&quot;#141619&quot;\r\n                app:itemTextColor=&quot;#FFFFFF&quot;&gt;\r\n        \r\n            &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n        &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n 2. change you  app_bar_main to following \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.appcompat.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;#282941&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:paddingEnd=&quot;16dp&quot;&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/menu_button&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:text=&quot;Menu&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/add_new_button&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;\r\n                    android:text=&quot;Add New&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/home_button&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentRight=&quot;true&quot;\r\n                    android:text=&quot;Home&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\r\nThat&#39;s it, you don&#39;t have to create any other layout. Now wherever you want to have this toolbar you can include your app_bar_main.xml in the layout and you will get the toolbar. Then in your activity if you want to access toolbar and button inside toolbar, do like this:\r\n\r\n    Toolbar toolbar = findViewById(R.id.account_toolbar);\r\n    setSupportActionBar(toolbar);\r\n    Button btnEdit = toolbar.findViewById(R.id.menu_button);\r\n\r\nlet me know if you have any questions. I&#39;ll try to help you out.\r\n    \r\n\r\n ","title":"How to center button in toolbar Android","body":"<p>I have fixed issue with all of your layouts.</p>\n<ol>\n<li><p>for your activity_main.xml copy and paste below layout.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n        &lt;include\n            android:id=&quot;@+id/app_bar_main&quot;\n            layout=&quot;@layout/app_bar_main&quot; /&gt;\n\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;#141619&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:itemIconTint=&quot;#141619&quot;\n        app:itemTextColor=&quot;#FFFFFF&quot;&gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n</li>\n<li><p>change you  app_bar_main to following</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.appcompat.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:background=&quot;#282941&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:focusableInTouchMode=&quot;true&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center_vertical&quot;\n        android:paddingEnd=&quot;16dp&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/menu_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentLeft=&quot;true&quot;\n            android:text=&quot;Menu&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/add_new_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:text=&quot;Add New&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/home_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentRight=&quot;true&quot;\n            android:text=&quot;Home&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n</code></pre>\n</li>\n</ol>\n<p>That's it, you don't have to create any other layout. Now wherever you want to have this toolbar you can include your app_bar_main.xml in the layout and you will get the toolbar. Then in your activity if you want to access toolbar and button inside toolbar, do like this:</p>\n<pre><code>Toolbar toolbar = findViewById(R.id.account_toolbar);\nsetSupportActionBar(toolbar);\nButton btnEdit = toolbar.findViewById(R.id.menu_button);\n</code></pre>\n<p>let me know if you have any questions. I'll try to help you out.</p>\n"}],"owner":{"account_id":19839090,"reputation":632,"user_id":14551576,"display_name":"pilotman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":67581108,"answer_count":3,"score":1,"last_activity_date":1702020037,"creation_date":1621281251,"question_id":67576253,"body_markdown":"I am new to android app development. I am trying to create a toolbar that has 3 buttons on it, left middle and center. My left are right buttons are positioned correctly but my middle button displays in the middle of the page instead of middle of the tool bar. Wondering if anyone can help with this. Thanks\r\n\r\nAlso wondering if anyone can help with the white space above the tool bar\r\n\r\nactivity_main:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        &gt;\r\n\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/app_bar_main&quot;\r\n        layout=&quot;@layout/app_bar_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n        &lt;include\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            layout=&quot;@layout/toolbarlayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/menu_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:text=&quot;Menu&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/add_new_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:text=&quot;Add New&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/home_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:text=&quot;Home&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:background=&quot;#141619&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:itemIconTint=&quot;#141619&quot;\r\n        app:itemTextColor=&quot;#FFFFFF&quot;\r\n        app:menu=&quot;@menu/activity_main_drawer&quot; &gt;\r\n\r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n```\r\napp_bar_main:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/Theme.MPL.AppBarOverlay&quot;&gt;\r\n        \r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\ntoolbarlayout:\r\n\r\n```\r\n&lt;androidx.appcompat.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/toolbar&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n    android:background=&quot;#141619&quot;\r\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n    app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n\r\n    /&gt;\r\n```\r\n\r\n[![Where I want the button][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hWC4s.png","title":"How to center button in toolbar Android","body":"<p>I am new to android app development. I am trying to create a toolbar that has 3 buttons on it, left middle and center. My left are right buttons are positioned correctly but my middle button displays in the middle of the page instead of middle of the tool bar. Wondering if anyone can help with this. Thanks</p>\n<p>Also wondering if anyone can help with the white space above the tool bar</p>\n<p>activity_main:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;bottom&quot;\n        &gt;\n\n\n    &lt;include\n        android:id=&quot;@+id/app_bar_main&quot;\n        layout=&quot;@layout/app_bar_main&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n        &lt;include\n            android:id=&quot;@+id/toolbar&quot;\n            layout=&quot;@layout/toolbarlayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/menu_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentLeft=&quot;true&quot;\n            android:text=&quot;Menu&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/add_new_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:text=&quot;Add New&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/home_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentRight=&quot;true&quot;\n            android:text=&quot;Home&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;#141619&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:itemIconTint=&quot;#141619&quot;\n        app:itemTextColor=&quot;#FFFFFF&quot;\n        app:menu=&quot;@menu/activity_main_drawer&quot; &gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n</code></pre>\n<p>app_bar_main:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/Theme.MPL.AppBarOverlay&quot;&gt;\n        \n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>toolbarlayout:</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:background=&quot;#141619&quot;\n    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n    app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n\n    /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hWC4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hWC4s.png\" alt=\"Where I want the button\" /></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9525268,"reputation":21,"user_id":7078650,"display_name":"Mukulit Bhati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702020014,"creation_date":1702020014,"answer_id":77624940,"question_id":77624775,"body_markdown":"MapStruct doesn&#39;t directly support mapping elements of an array by their index in the way you&#39;re attempting to do it. Instead, you can create a custom method in your mapper interface to manually perform this mapping.\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n        MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\r\n    \r\n        @Mapping(target = &quot;person&quot;, source = &quot;people&quot;)\r\n        Destination mapToDestination(Source source);\r\n    \r\n        default Person mapPersonFromArray(Person[] people) {\r\n            return (people != null &amp;&amp; people.length &gt; 0) ? people[0] : null;\r\n        }\r\n    }\r\n\r\nIn this example:\r\n\r\n@Mapping(target = &quot;person&quot;, source = &quot;people&quot;): This tells MapStruct to use the mapPersonFromArray method to map the people field to the person field.\r\n\r\ndefault Person mapPersonFromArray(Person[] people): This is a custom method that manually performs the mapping. It checks if the array is not null and has at least one element, and if so, it returns the first element; otherwise, it returns null.\r\n\r\nRemember to adjust the Person class and the mapper interface according to your actual classes and requirements.\r\n\r\nThis way, MapStruct will use the custom method to map the first element of the people array to the person field in the Destination class.\r\n\r\n","title":"Mapping array of object first element to another object using mapstructs","body":"<p>MapStruct doesn't directly support mapping elements of an array by their index in the way you're attempting to do it. Instead, you can create a custom method in your mapper interface to manually perform this mapping.</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n    MyMapper INSTANCE = Mappers.getMapper(MyMapper.class);\n\n    @Mapping(target = &quot;person&quot;, source = &quot;people&quot;)\n    Destination mapToDestination(Source source);\n\n    default Person mapPersonFromArray(Person[] people) {\n        return (people != null &amp;&amp; people.length &gt; 0) ? people[0] : null;\n    }\n}\n</code></pre>\n<p>In this example:</p>\n<p>@Mapping(target = &quot;person&quot;, source = &quot;people&quot;): This tells MapStruct to use the mapPersonFromArray method to map the people field to the person field.</p>\n<p>default Person mapPersonFromArray(Person[] people): This is a custom method that manually performs the mapping. It checks if the array is not null and has at least one element, and if so, it returns the first element; otherwise, it returns null.</p>\n<p>Remember to adjust the Person class and the mapper interface according to your actual classes and requirements.</p>\n<p>This way, MapStruct will use the custom method to map the first element of the people array to the person field in the Destination class.</p>\n"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702020014,"creation_date":1702017829,"question_id":77624775,"body_markdown":"How to map an array of objects, specifically the first element (array[0]), from one class to another using MapStruct.  Currently getting error like “people[0] not in the property of source did you mean people”. \r\n\r\n\r\n    ` public class Source {\r\n       private Person[] people;\r\n\r\n       // Getter and Setter\r\n        }\r\n\r\n//     Destination class\r\n       public class Destination {\r\n       private Person person;\r\n\r\n       // Getter and Setter\r\n      }\r\n\r\n// Person class (assuming it&#39;s a separate class)\r\n     public class Person {\r\n       private String name;\r\n\r\n    // Getter and Setter\r\n     }\r\n\r\n// Mapper interface\r\n    @Mapper\r\n    public interface MyMapper {\r\n    MyMapper INSTANCE =       Mappers.getMapper(MyMapper.class);\r\n\r\n    @Mapping(source = &quot;people[0]&quot;, target = &quot;person&quot;)\r\n    Destination mapToDestination(Source source);`\r\n}\r\n","title":"Mapping array of object first element to another object using mapstructs","body":"<p>How to map an array of objects, specifically the first element (array[0]), from one class to another using MapStruct.  Currently getting error like “people[0] not in the property of source did you mean people”.</p>\n<pre><code>` public class Source {\n   private Person[] people;\n\n   // Getter and Setter\n    }\n</code></pre>\n<p>//     Destination class\npublic class Destination {\nprivate Person person;</p>\n<pre><code>   // Getter and Setter\n  }\n</code></pre>\n<p>// Person class (assuming it's a separate class)\npublic class Person {\nprivate String name;</p>\n<pre><code>// Getter and Setter\n }\n</code></pre>\n<p>// Mapper interface\n@Mapper\npublic interface MyMapper {\nMyMapper INSTANCE =       Mappers.getMapper(MyMapper.class);</p>\n<pre><code>@Mapping(source = &quot;people[0]&quot;, target = &quot;person&quot;)\nDestination mapToDestination(Source source);`\n</code></pre>\n<p>}</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1701950942,"post_id":77619837,"comment_id":136839701,"body_markdown":"You forgot to ask a question :)","body":"You forgot to ask a question :)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701952937,"post_id":77619837,"comment_id":136840057,"body_markdown":"What version of Hibernate are you using?","body":"What version of Hibernate are you using?"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1701980913,"post_id":77619837,"comment_id":136845059,"body_markdown":"The version of Java you are using is not compatible with the version of Hibernate you are using.","body":"The version of Java you are using is not compatible with the version of Hibernate you are using."},{"owner":{"account_id":30089240,"reputation":1,"user_id":23059025,"display_name":"Ritesh Bhoyar"},"score":0,"creation_date":1702019520,"post_id":77619837,"comment_id":136848729,"body_markdown":"version of hibernet is 5.4.2","body":"version of hibernet is 5.4.2"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702019869,"post_id":77619837,"comment_id":136848777,"body_markdown":"As far as I can tell, that version is end-of-life. The latest version, as of this comment, is 6.4.0. See https://hibernate.org/orm/releases/","body":"As far as I can tell, that version is end-of-life. The latest version, as of this comment, is 6.4.0. See <a href=\"https://hibernate.org/orm/releases/\" rel=\"nofollow noreferrer\">hibernate.org/orm/releases</a>"},{"owner":{"account_id":30089240,"reputation":1,"user_id":23059025,"display_name":"Ritesh Bhoyar"},"score":0,"creation_date":1702020294,"post_id":77619837,"comment_id":136848837,"body_markdown":"how to add this version in hibernate.cfg.xml","body":"how to add this version in hibernate.cfg.xml"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1702052490,"post_id":77619837,"comment_id":136854125,"body_markdown":"You don&#39;t. You change the version wherever your dependencies are declared (e.g., in the POM file if using Maven, in the build file if using Gradle, etc.). If Hibernate is being pulled in by a framework, such as Spring, then you may be better off upgrading the framework instead.","body":"You don&#39;t. You change the version wherever your dependencies are declared (e.g., in the POM file if using Maven, in the build file if using Gradle, etc.). If Hibernate is being pulled in by a framework, such as Spring, then you may be better off upgrading the framework instead."},{"owner":{"account_id":30089240,"reputation":1,"user_id":23059025,"display_name":"Ritesh Bhoyar"},"score":0,"creation_date":1702121171,"post_id":77619837,"comment_id":136859972,"body_markdown":"I have change my jar file.","body":"I have change my jar file."}],"owner":{"account_id":30089240,"reputation":1,"user_id":23059025,"display_name":"Ritesh Bhoyar"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"closed_date":1701951165,"answer_count":0,"score":-8,"last_activity_date":1702019697,"creation_date":1701950666,"question_id":77619837,"body_markdown":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6b57696f in hibernate\r\n","title":"Java.lang.reflect.InaccessibleObjectException in Hibernate","body":"<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6b57696f in hibernate</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"display_name":"user626607"},"score":2,"creation_date":1362343883,"post_id":15190699,"comment_id":21402678,"body_markdown":"include the stacktrace please?","body":"include the stacktrace please?"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1362343937,"post_id":15190699,"comment_id":21402693,"body_markdown":"Indeed - just because the stack trace (and full message) doesn&#39;t seem useful to you doesn&#39;t mean it&#39;s *actually* not useful.","body":"Indeed - just because the stack trace (and full message) doesn&#39;t seem useful to you doesn&#39;t mean it&#39;s <i>actually</i> not useful."},{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":4,"creation_date":1362344366,"post_id":15190699,"comment_id":21402821,"body_markdown":"You&#39;re missing some jar from your classpath. Check this out: [resource](http://java.dzone.com/articles/whats-junit-and-hamcrest)","body":"You&#39;re missing some jar from your classpath. Check this out: <a href=\"http://java.dzone.com/articles/whats-junit-and-hamcrest\" rel=\"nofollow noreferrer\">resource</a>"}],"answers":[{"tags":[],"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1362347859,"creation_date":1362347859,"answer_id":15191381,"question_id":15190699,"body_markdown":"You&#39;ve probably got one of two problems:\r\n\r\n1) You&#39;re using JUnit 4.11, which doesn&#39;t include hamcrest. Add the hamcrest 1.3 library to your classpath.\r\n\r\n2) You&#39;ve got hamcrest 1.3 on your classpath, but you&#39;ve got another version of either junit or hamcrest on your classpath.\r\n\r\nFor background, junit pre 4.11 included a cut down version of hamcrest 1.1. 4.11 removed these classes.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>You've probably got one of two problems:</p>\n\n<p>1) You're using JUnit 4.11, which doesn't include hamcrest. Add the hamcrest 1.3 library to your classpath.</p>\n\n<p>2) You've got hamcrest 1.3 on your classpath, but you've got another version of either junit or hamcrest on your classpath.</p>\n\n<p>For background, junit pre 4.11 included a cut down version of hamcrest 1.1. 4.11 removed these classes.</p>\n"},{"tags":[],"owner":{"account_id":4875255,"reputation":211,"user_id":3930580,"display_name":"Henrik Schulze"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1407778412,"creation_date":1407778412,"answer_id":25249115,"question_id":15190699,"body_markdown":"Just try &quot;Project &gt; Clean...&quot; - seems to be THE solution to many problems in Eclipse!","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>Just try \"Project > Clean...\" - seems to be THE solution to many problems in Eclipse!</p>\n"},{"tags":[],"owner":{"account_id":433291,"reputation":2123,"user_id":3051783,"display_name":"pablo.vix"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415052133,"creation_date":1415052133,"answer_id":26724059,"question_id":15190699,"body_markdown":"I&#39;ve experimented the exact same error. My problem was that the SetUp method I had created was declared as static. \r\n\r\nIf using eclipse, one could get a good description by clicking above the error and then checking the Failure trace window, just below... That&#39;s how I found the real problem!","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I've experimented the exact same error. My problem was that the SetUp method I had created was declared as static. </p>\n\n<p>If using eclipse, one could get a good description by clicking above the error and then checking the Failure trace window, just below... That's how I found the real problem!</p>\n"},{"tags":[],"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1415076205,"creation_date":1415076205,"answer_id":26727902,"question_id":15190699,"body_markdown":"For me it was a missing `static` keyword in one of the JUnit annotated methods, e.g.:\r\n\r\n    @AfterClass\r\n    public static void cleanUp() {\r\n        // ...\r\n    }\r\n","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>For me it was a missing <code>static</code> keyword in one of the JUnit annotated methods, e.g.:</p>\n\n<pre><code>@AfterClass\npublic static void cleanUp() {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404804,"reputation":1016,"user_id":773334,"accept_rate":100,"display_name":"JACH"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1424278986,"creation_date":1424278986,"answer_id":28589416,"question_id":15190699,"body_markdown":"For me it was a silly mistake. I inadvertently set the test as **private** instead of **public**:\r\n\r\n    @Test\r\n    private void thisTestWasCausingProblems() {\r\n    ...\r\n    }\r\n\r\n\r\nit should have been\r\n\r\n    @Test\r\n    public void thisTestIsOK() {\r\n    ...\r\n    }","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>For me it was a silly mistake. I inadvertently set the test as <strong>private</strong> instead of <strong>public</strong>:</p>\n\n<pre><code>@Test\nprivate void thisTestWasCausingProblems() {\n...\n}\n</code></pre>\n\n<p>it should have been</p>\n\n<pre><code>@Test\npublic void thisTestIsOK() {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5555148,"reputation":386,"user_id":4406806,"display_name":"Tony Puthenveettil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430162751,"creation_date":1430162751,"answer_id":29904279,"question_id":15190699,"body_markdown":"I had the same issue... I was using maven building tool with JUnit dependency scope as &#39;test&#39; and my @Test method was in main module.\r\n\r\nTo resolve, I&#39;ve:\r\n1. Commented the scope tag of JUnit dependency in the pom.xml\r\n2. Rebuilt the package\r\n3. Made sure the Test class has only one constructor\r\n\r\nThe issue can be two-folded:\r\n1. The JUnit dependency is limited to test scope and the @Test method is in main scope\r\n2. The test class has more than one constructor","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I had the same issue... I was using maven building tool with JUnit dependency scope as 'test' and my @Test method was in main module.</p>\n\n<p>To resolve, I've:\n1. Commented the scope tag of JUnit dependency in the pom.xml\n2. Rebuilt the package\n3. Made sure the Test class has only one constructor</p>\n\n<p>The issue can be two-folded:\n1. The JUnit dependency is limited to test scope and the @Test method is in main scope\n2. The test class has more than one constructor</p>\n"},{"tags":[],"owner":{"account_id":262548,"reputation":1429,"user_id":547491,"accept_rate":60,"display_name":"Karthik Murugan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438929934,"creation_date":1438929934,"answer_id":31871293,"question_id":15190699,"body_markdown":"For me, it was due to the &quot;return type&quot; of the test method. It should be &quot;void&quot;","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>For me, it was due to the \"return type\" of the test method. It should be \"void\"</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439695445,"creation_date":1439695445,"answer_id":32031507,"question_id":15190699,"body_markdown":"For me it was something to do with commons-logging. Since I was using\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n\r\nThis resolved my issue\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>For me it was something to do with commons-logging. Since I was using</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n</code></pre>\n\n<p>This resolved my issue</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1361142,"reputation":5304,"user_id":1298499,"accept_rate":43,"display_name":"KostasA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442564915,"creation_date":1442564915,"answer_id":32647338,"question_id":15190699,"body_markdown":"I had the same problem, the solution for me is the following.\r\n\r\nI had only install the junit.jar file from the web, but this library related with the hacrest-core.jar\r\nWhen I downloaded the hacrest-core.jar file and added it in my project everything works fine.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I had the same problem, the solution for me is the following.</p>\n\n<p>I had only install the junit.jar file from the web, but this library related with the hacrest-core.jar\nWhen I downloaded the hacrest-core.jar file and added it in my project everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":6299396,"reputation":41,"user_id":4894479,"display_name":"yogendra"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1443439093,"creation_date":1443436319,"answer_id":32820874,"question_id":15190699,"body_markdown":"I had the same problem: Once it was excel path issue and other time it was missing `@Test` annotation.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I had the same problem: Once it was excel path issue and other time it was missing <code>@Test</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":7868108,"reputation":1,"user_id":5946325,"display_name":"PaN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455804981,"creation_date":1455804981,"answer_id":35483863,"question_id":15190699,"body_markdown":"For me the solution was one of the methods had to be void, I had it as Boolean.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>For me the solution was one of the methods had to be void, I had it as Boolean.</p>\n"},{"tags":[],"owner":{"account_id":6363543,"reputation":11,"user_id":4938253,"display_name":"JuanJoRoman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458964040,"creation_date":1458962786,"answer_id":36231282,"question_id":15190699,"body_markdown":"I just had the same problem and the same message. I was able to get it fixed by importing to the Java Building Path the `hamcrest-all-1.3.jar` archive. I&#39;m using a JUnit 4.12 version.\r\n\r\n","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I just had the same problem and the same message. I was able to get it fixed by importing to the Java Building Path the <code>hamcrest-all-1.3.jar</code> archive. I'm using a JUnit 4.12 version.</p>\n"},{"tags":[],"owner":{"account_id":336782,"reputation":3772,"user_id":664642,"accept_rate":96,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1462999070,"creation_date":1462999070,"answer_id":37172820,"question_id":15190699,"body_markdown":"I received this error when the class was annotated with @Ignore and I tried to run a specific test via right clicking on it.  Removing the @Ignore fixed the problem.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I received this error when the class was annotated with @Ignore and I tried to run a specific test via right clicking on it.  Removing the @Ignore fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":8862263,"reputation":23,"user_id":6618231,"display_name":"unrein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469544776,"creation_date":1469518788,"answer_id":38583793,"question_id":15190699,"body_markdown":"My problem was that my parent class had no `@Test` methodes. I used there only some utilities. When I declared it `abstract` it works. ","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>My problem was that my parent class had no <code>@Test</code> methodes. I used there only some utilities. When I declared it <code>abstract</code> it works. </p>\n"},{"tags":[],"owner":{"account_id":392219,"reputation":1197,"user_id":753352,"accept_rate":40,"display_name":"jeffery.yuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474073918,"creation_date":1474073918,"answer_id":39541895,"question_id":15190699,"body_markdown":"Junit 4.11 doesn&#39;t work with Spring Test framework.\r\nAlso this link [InitializationError When Use Spring + Junit][1] explains how to debug junit initalizationError in eclipse.\r\n\r\n  [1]: http://lifelongprogrammer.blogspot.com/2016/09/initializationerror-when-use-spring.html","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>Junit 4.11 doesn't work with Spring Test framework.\nAlso this link <a href=\"http://lifelongprogrammer.blogspot.com/2016/09/initializationerror-when-use-spring.html\" rel=\"nofollow\">InitializationError When Use Spring + Junit</a> explains how to debug junit initalizationError in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":222102,"reputation":908,"user_id":480478,"accept_rate":33,"display_name":"Aykut Kllic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477481243,"creation_date":1476882049,"answer_id":40132141,"question_id":15190699,"body_markdown":"If you&#39;re using the xtend language (or some other JVM lang with type inference) and haven&#39;t explicitly defined the return type then it may be set to a non-void type because of the last expression, which will make JUnit fail.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>If you're using the xtend language (or some other JVM lang with type inference) and haven't explicitly defined the return type then it may be set to a non-void type because of the last expression, which will make JUnit fail.</p>\n"},{"tags":[],"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480003852,"creation_date":1480003852,"answer_id":40790827,"question_id":15190699,"body_markdown":"This problem also occurs if you have a private Rule in you class:\r\n\r\n    @Rule\r\n    private TemporaryFolder folderRule;\r\n\r\nMake it public.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>This problem also occurs if you have a private Rule in you class:</p>\n\n<pre><code>@Rule\nprivate TemporaryFolder folderRule;\n</code></pre>\n\n<p>Make it public.</p>\n"},{"tags":[],"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484826817,"creation_date":1484826817,"answer_id":41741148,"question_id":15190699,"body_markdown":"I got another failure trace, but for future visitors using their favorite search engine:\r\n\r\nFor me the problem was that eclipse somehow decided to execute only a single method in my test class (I couldn&#39;t figure out why, though).\r\nEspecially if you did not change anything in your setup, check your run configuration.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I got another failure trace, but for future visitors using their favorite search engine:</p>\n\n<p>For me the problem was that eclipse somehow decided to execute only a single method in my test class (I couldn't figure out why, though).\nEspecially if you did not change anything in your setup, check your run configuration.</p>\n"},{"tags":[],"owner":{"account_id":253765,"reputation":1097,"user_id":929209,"accept_rate":75,"display_name":"Dawid D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505212608,"creation_date":1505211387,"answer_id":46173804,"question_id":15190699,"body_markdown":"In my case I have changed project name in pom.xml so the new target directory was generated and junit was searching classes in old directory. You need to change directory for JUnit also in Eclipse \r\n\r\n`Properties -&gt; Java Build Path -&gt; Source (Default output folder)`\r\n\r\nAnd also check because some of source folders listed in the same window may have former directory name. You need to change them too.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>In my case I have changed project name in pom.xml so the new target directory was generated and junit was searching classes in old directory. You need to change directory for JUnit also in Eclipse </p>\n\n<p><code>Properties -&gt; Java Build Path -&gt; Source (Default output folder)</code></p>\n\n<p>And also check because some of source folders listed in the same window may have former directory name. You need to change them too.</p>\n"},{"tags":[],"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512646625,"creation_date":1512646625,"answer_id":47694244,"question_id":15190699,"body_markdown":"Also make sure you have all `@Before`-, `@After`- and whatever-JUnit-annotated methods declared as `public`. I had mine declared as `private` which caused the issue.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>Also make sure you have all <code>@Before</code>-, <code>@After</code>- and whatever-JUnit-annotated methods declared as <code>public</code>. I had mine declared as <code>private</code> which caused the issue.</p>\n"},{"tags":[],"owner":{"account_id":1668809,"reputation":5077,"user_id":1535679,"accept_rate":100,"display_name":"Stanley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514948077,"creation_date":1514948077,"answer_id":48070558,"question_id":15190699,"body_markdown":"For me, I mistakenly added a parameter to the test method which caused initialization error.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>For me, I mistakenly added a parameter to the test method which caused initialization error.</p>\n"},{"tags":[],"owner":{"account_id":3553228,"reputation":315,"user_id":3000788,"accept_rate":83,"display_name":"user55926"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516086611,"creation_date":1516086611,"answer_id":48275742,"question_id":15190699,"body_markdown":"My mistake was that I missed out @Test annotation on the test method.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>My mistake was that I missed out @Test annotation on the test method.</p>\n"},{"tags":[],"owner":{"account_id":4347614,"reputation":61,"user_id":3549139,"display_name":"i2B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551116151,"creation_date":1551116151,"answer_id":54871734,"question_id":15190699,"body_markdown":"I had naively added junit-4.12.jar from poi.apache.org to my Build Path in Eclipse. I deleted it (Project, Properties, Java Build Path, Libraries, junit-4.12.jar, Remove) then in my test class allowed Eclipse to &quot;Fix Project Setup&quot; after pressing Ctrl-1. No more problems! :-)","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I had naively added junit-4.12.jar from poi.apache.org to my Build Path in Eclipse. I deleted it (Project, Properties, Java Build Path, Libraries, junit-4.12.jar, Remove) then in my test class allowed Eclipse to \"Fix Project Setup\" after pressing Ctrl-1. No more problems! :-)</p>\n"},{"tags":[],"owner":{"account_id":5893188,"reputation":145,"user_id":4639115,"display_name":"sgf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562272540,"creation_date":1562272540,"answer_id":56893983,"question_id":15190699,"body_markdown":"In my case, I had the following import in my test case:\r\n\r\n `import org.junit.jupiter.api.Test;`\r\n\r\nThe correct import is:\r\n\r\n `import org.junit.Test;`\r\n\r\nDon&#39;t just import any old Test type from junit, make sure you pick the correct one.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>In my case, I had the following import in my test case:</p>\n\n<p><code>import org.junit.jupiter.api.Test;</code></p>\n\n<p>The correct import is:</p>\n\n<p><code>import org.junit.Test;</code></p>\n\n<p>Don't just import any old Test type from junit, make sure you pick the correct one.</p>\n"},{"tags":[],"owner":{"account_id":2819789,"reputation":455,"user_id":2423793,"accept_rate":40,"display_name":"Divas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567305364,"creation_date":1567305364,"answer_id":57742836,"question_id":15190699,"body_markdown":"Just if this helps, I was using Junit5 but the @RunWith(SpringRunner.class) was pointing towards import org.springframework.test.context.junit4.SpringRunner, which was messing around with things and hence was giving the initialization error.\r\nI fixed this and it worked.","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>Just if this helps, I was using Junit5 but the @RunWith(SpringRunner.class) was pointing towards import org.springframework.test.context.junit4.SpringRunner, which was messing around with things and hence was giving the initialization error.\nI fixed this and it worked.</p>\n"},{"tags":[],"owner":{"account_id":6234233,"reputation":119,"user_id":4850014,"display_name":"samson ojo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611752102,"creation_date":1611752102,"answer_id":65919609,"question_id":15190699,"body_markdown":"In my case, it was because I was not pointing to the correct package where I kept my feature (cucumber) file(s). This was a case of ***wrong path specification***. See code snippet below:\r\n\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import io.cucumber.junit.CucumberOptions;\r\n    import io.cucumber.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\t\r\n    \tfeatures = &quot;src/test/features&quot;,\r\n    \tglue = &quot;stepDefinitions&quot;\r\n    \t\t\r\n    \t\t)\r\n\r\nBelow is the screenshot of the JUnit error: [![Junit Runner Error][1]][1]\r\n-------------------------------------------------------\r\n\r\n\r\n\r\nBelow is the Stack Trace in the console:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe final solution was I had to change the path to the correct package where my feature files were kept. \r\n\r\nSee the corrected code snippet below:\r\n-------------------------------------\r\n\r\n    package cucumberOptions;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    \r\n    import io.cucumber.junit.CucumberOptions;\r\n    import io.cucumber.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\t\r\n    \tfeatures = &quot;src/test/java/features&quot;,\r\n    \tglue = &quot;stepDefinitions&quot;\r\n    \t\t\r\n    \t\t)\r\n    \r\n    public class TestRunner {\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/UjAHE.png\r\n  [2]: https://i.stack.imgur.com/fAE56.png\r\n","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>In my case, it was because I was not pointing to the correct package where I kept my feature (cucumber) file(s). This was a case of <em><strong>wrong path specification</strong></em>. See code snippet below:</p>\n<pre><code>import org.junit.runner.RunWith;\n\nimport io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        \n    features = &quot;src/test/features&quot;,\n    glue = &quot;stepDefinitions&quot;\n        \n        )\n</code></pre>\n<h2>Below is the screenshot of the JUnit error: <a href=\"https://i.stack.imgur.com/UjAHE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UjAHE.png\" alt=\"Junit Runner Error\" /></a></h2>\n<p>Below is the Stack Trace in the console:</p>\n<p><a href=\"https://i.stack.imgur.com/fAE56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fAE56.png\" alt=\"enter image description here\" /></a></p>\n<p>The final solution was I had to change the path to the correct package where my feature files were kept.</p>\n<h2>See the corrected code snippet below:</h2>\n<pre><code>package cucumberOptions;\n\nimport org.junit.runner.RunWith;\n\nimport io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        \n    features = &quot;src/test/java/features&quot;,\n    glue = &quot;stepDefinitions&quot;\n        \n        )\n\npublic class TestRunner {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6839869,"reputation":51,"user_id":5260631,"display_name":"Yash Kanani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664311225,"creation_date":1664311225,"answer_id":73873601,"question_id":15190699,"body_markdown":"In my case, I haven&#39;t added the hamcrest-2.2 (formerly hamcrest-library-2.2) jar in my buildpath.\r\n[![enter image description here][1]][1]\r\n\r\nMake sure to include all dependency (and their dependency jars) jars with JUnit 4.13.2 to run your tests:\r\n- junit-4.13.2\r\n- hamcrest-core-2.2\r\n- hamcrest-2.2 (earlier hamcrest-library-2.2)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CpDOe.png","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>In my case, I haven't added the hamcrest-2.2 (formerly hamcrest-library-2.2) jar in my buildpath.\n<a href=\"https://i.stack.imgur.com/CpDOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CpDOe.png\" alt=\"enter image description here\" /></a></p>\n<p>Make sure to include all dependency (and their dependency jars) jars with JUnit 4.13.2 to run your tests:</p>\n<ul>\n<li>junit-4.13.2</li>\n<li>hamcrest-core-2.2</li>\n<li>hamcrest-2.2 (earlier hamcrest-library-2.2)</li>\n</ul>\n"}],"owner":{"account_id":2370627,"reputation":1033,"user_id":2075332,"accept_rate":83,"display_name":"lixonn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174544,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":15191381,"answer_count":27,"score":60,"last_activity_date":1702019490,"creation_date":1362343805,"question_id":15190699,"body_markdown":"I know this question is pretty general but I haven&#39;t found any hints on why this error may show up. What are possible causes of seeing *initalizationError* in Eclipse window? I get no useful information just a long and useless failure trace (not included here). \r\n\r\n\r\nI am using JUnit 4.11\r\n\r\nI have written the following code - just to see if it works:\r\n\r\n    package test;\r\n\r\n    import static org.junit.Assert.*;\r\n\r\n    import org.junit.AfterClass;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n\r\n    public class SimpleTest {\r\n\r\n\t@BeforeClass\r\n\tpublic static void setUpBeforeClass() throws Exception {\r\n\t}\r\n\r\n\t@AfterClass\r\n\tpublic static void tearDownAfterClass() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tassertEquals(15, 15);\r\n\t}\r\n\r\n    }\r\n\r\n**Edit:** Sorry In Eclipse window it&#39;s called actually a &quot;Failure trace&quot;:\r\n\r\n    java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing \tat\r\n    java.lang.ClassLoader.defineClass1(Native Method) \tat\r\n    java.lang.ClassLoader.defineClass(Unknown Source) \tat\r\n    java.security.SecureClassLoader.defineClass(Unknown Source) \tat\r\n    java.net.URLClassLoader.defineClass(Unknown Source) \tat\r\n    java.net.URLClassLoader.access$100(Unknown Source) \tat\r\n    java.net.URLClassLoader$1.run(Unknown Source) \tat\r\n    java.net.URLClassLoader$1.run(Unknown Source) \tat\r\n    java.security.AccessController.doPrivileged(Native Method) \tat\r\n    java.net.URLClassLoader.findClass(Unknown Source) \tat\r\n    java.lang.ClassLoader.loadClass(Unknown Source) \tat\r\n    sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) \tat\r\n    java.lang.ClassLoader.loadClass(Unknown Source) \tat\r\n    org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\r\n    \tat\r\n    org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat \r\n    org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    \tat\r\n    org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat\r\n    org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:26)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat\r\n    org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: java.lang.ClassNotFoundException:\r\n    org.hamcrest.SelfDescribing \tat java.net.URLClassLoader$1.run(Unknown\r\n    Source) \tat java.net.URLClassLoader$1.run(Unknown Source) \tat\r\n    java.security.AccessController.doPrivileged(Native Method) \tat\r\n    java.net.URLClassLoader.findClass(Unknown Source) \tat\r\n    java.lang.ClassLoader.loadClass(Unknown Source) \tat\r\n    sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) \tat\r\n    java.lang.ClassLoader.loadClass(Unknown Source) \t... 25 more","title":"Eclipse JUnit - possible causes of seeing &quot;initializationError&quot; in Eclipse window","body":"<p>I know this question is pretty general but I haven't found any hints on why this error may show up. What are possible causes of seeing <em>initalizationError</em> in Eclipse window? I get no useful information just a long and useless failure trace (not included here). </p>\n\n<p>I am using JUnit 4.11</p>\n\n<p>I have written the following code - just to see if it works:</p>\n\n<pre><code>package test;\n\nimport static org.junit.Assert.*;\n\nimport org.junit.AfterClass;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\npublic class SimpleTest {\n\n@BeforeClass\npublic static void setUpBeforeClass() throws Exception {\n}\n\n@AfterClass\npublic static void tearDownAfterClass() throws Exception {\n}\n\n@Test\npublic void test() {\n    assertEquals(15, 15);\n}\n\n}\n</code></pre>\n\n<p><strong>Edit:</strong> Sorry In Eclipse window it's called actually a \"Failure trace\":</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing     at\njava.lang.ClassLoader.defineClass1(Native Method)   at\njava.lang.ClassLoader.defineClass(Unknown Source)   at\njava.security.SecureClassLoader.defineClass(Unknown Source)     at\njava.net.URLClassLoader.defineClass(Unknown Source)     at\njava.net.URLClassLoader.access$100(Unknown Source)  at\njava.net.URLClassLoader$1.run(Unknown Source)   at\njava.net.URLClassLoader$1.run(Unknown Source)   at\njava.security.AccessController.doPrivileged(Native Method)  at\njava.net.URLClassLoader.findClass(Unknown Source)   at\njava.lang.ClassLoader.loadClass(Unknown Source)     at\nsun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)  at\njava.lang.ClassLoader.loadClass(Unknown Source)     at\norg.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\n    at\norg.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at \norg.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at\norg.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at\norg.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:26)\n    at\norg.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:33)\n    at\norg.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\n    at\norg.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:48)\n    at\norg.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:38)\n    at\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\n    at\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.ClassNotFoundException:\norg.hamcrest.SelfDescribing     at java.net.URLClassLoader$1.run(Unknown\nSource)     at java.net.URLClassLoader$1.run(Unknown Source)    at\njava.security.AccessController.doPrivileged(Native Method)  at\njava.net.URLClassLoader.findClass(Unknown Source)   at\njava.lang.ClassLoader.loadClass(Unknown Source)     at\nsun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)  at\njava.lang.ClassLoader.loadClass(Unknown Source)     ... 25 more\n</code></pre>\n"},{"tags":["java","regex","url"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":4,"creation_date":1701961440,"post_id":77621050,"comment_id":136841725,"body_markdown":"does it have to use regex or we could leverage [URL class](https://docs.oracle.com/javase/8/docs/api/java/net/URL.html)?","body":"does it have to use regex or we could leverage <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">URL class</a>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1701961567,"post_id":77621050,"comment_id":136841751,"body_markdown":"You&#39;ll find it a lot easier to simply try to connect to it than validate it lexically","body":"You&#39;ll find it a lot easier to simply try to connect to it than validate it lexically"},{"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701961705,"post_id":77621050,"comment_id":136841778,"body_markdown":"A `URL` will validate `http://bla` but won&#39;t accept `0.1.1.9:1234`","body":"A <code>URL</code> will validate <code>http:&#47;&#47;bla</code> but won&#39;t accept <code>0.1.1.9:1234</code>"},{"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701961818,"post_id":77621050,"comment_id":136841801,"body_markdown":"@BagusTesa I want to check the URL without having to establish an internet connection. It doesn&#39;t have to be perfect and I don&#39;t need checks for wrong things like IPs &gt; 255. I&#39;ll try to connect to the actual URL later (have to do a lot of other stuff first) but I don&#39;t want to let the user get that far in the first place if they enter something that&#39;s completely wrong syntax-wise (like &quot;10.9&quot; or &quot;http://bla&quot;), so I can minimize the amount of timeouts.","body":"@BagusTesa I want to check the URL without having to establish an internet connection. It doesn&#39;t have to be perfect and I don&#39;t need checks for wrong things like IPs &gt; 255. I&#39;ll try to connect to the actual URL later (have to do a lot of other stuff first) but I don&#39;t want to let the user get that far in the first place if they enter something that&#39;s completely wrong syntax-wise (like &quot;10.9&quot; or &quot;<a href=\"http://bla&quot;\" rel=\"nofollow noreferrer\">bla&quot;</a>), so I can minimize the amount of timeouts."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701962015,"post_id":77621050,"comment_id":136841835,"body_markdown":"You probably don&#39;t need to worry about timeouts. Set the timeout to a value the user won&#39;t notice","body":"You probably don&#39;t need to worry about timeouts. Set the timeout to a value the user won&#39;t notice"},{"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":1,"creation_date":1701962073,"post_id":77621050,"comment_id":136841847,"body_markdown":"@anubhava A while ago (Java 7 or Java 8) I tested both `URL` and `URI` but the former always asked for a prefix (so e.g. &quot;stackoverflow.com&quot; wouldn&#39;t work) and URI was fine with even &quot;---&quot;. No idea if that&#39;s still the same.","body":"@anubhava A while ago (Java 7 or Java 8) I tested both <code>URL</code> and <code>URI</code> but the former always asked for a prefix (so e.g. &quot;stackoverflow.com&quot; wouldn&#39;t work) and URI was fine with even &quot;---&quot;. No idea if that&#39;s still the same."},{"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701962269,"post_id":77621050,"comment_id":136841885,"body_markdown":"yes it is same behavior","body":"yes it is same behavior"},{"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701962276,"post_id":77621050,"comment_id":136841887,"body_markdown":"@g00se The server my app&#39;s going to connect to and use later can be slow sometimes, so I have to give it enough time to actually respond. The timeout&#39;s currently set to 10s and I&#39;d rather not have the user wait 10s every time if I can do a regex check instead that&#39;s a lot quicker.","body":"@g00se The server my app&#39;s going to connect to and use later can be slow sometimes, so I have to give it enough time to actually respond. The timeout&#39;s currently set to 10s and I&#39;d rather not have the user wait 10s every time if I can do a regex check instead that&#39;s a lot quicker."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1701963353,"post_id":77621050,"comment_id":136842110,"body_markdown":"@Neph does [this](https://regex101.com/r/aRi65l/1) works for you? tbh, validating URLs and covers every single url conceivable is an [act of madness](https://xkcd.com/1726/). some argue `http://bla` is a valid url - try adding `bla` on your `hosts` list and point it to local server, the (c)TLD is totally optional.","body":"@Neph does <a href=\"https://regex101.com/r/aRi65l/1\" rel=\"nofollow noreferrer\">this</a> works for you? tbh, validating URLs and covers every single url conceivable is an <a href=\"https://xkcd.com/1726/\" rel=\"nofollow noreferrer\">act of madness</a>. some argue <code>http:&#47;&#47;bla</code> is a valid url - try adding <code>bla</code> on your <code>hosts</code> list and point it to local server, the (c)TLD is totally optional."},{"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701963651,"post_id":77621050,"comment_id":136842171,"body_markdown":"@BagusTesa Interesting. That won&#39;t be necessary in my case, neither will e.g. &quot;localhost:1234&quot;. I&#39;m aware you can&#39;t cover every basis with regex, that&#39;s why I&#39;m only testing it with the very basics that I know are going to come up at one point. Thanks, testing it now.","body":"@BagusTesa Interesting. That won&#39;t be necessary in my case, neither will e.g. &quot;localhost:1234&quot;. I&#39;m aware you can&#39;t cover every basis with regex, that&#39;s why I&#39;m only testing it with the very basics that I know are going to come up at one point. Thanks, testing it now."},{"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701963682,"post_id":77621050,"comment_id":136842177,"body_markdown":"`http://amazon.co.uk/?name=value` should also be valid?","body":"<code>http:&#47;&#47;amazon.co.uk&#47;?name=value</code> should also be valid?"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701963850,"post_id":77621050,"comment_id":136842217,"body_markdown":"while at it `http://amazon.co.uk/some-path?name=value`, and a wholeset of url (and) escaped entities..","body":"while at it <code>http:&#47;&#47;amazon.co.uk&#47;some-path?name=value</code>, and a wholeset of url (and) escaped entities.."},{"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701964121,"post_id":77621050,"comment_id":136842273,"body_markdown":"@anubhava Ahm, tbh, I don&#39;t care. For now there aren&#39;t going to be any &quot;?&quot; or &quot;=&quot; in the URL the user has to enter.","body":"@anubhava Ahm, tbh, I don&#39;t care. For now there aren&#39;t going to be any &quot;?&quot; or &quot;=&quot; in the URL the user has to enter."},{"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701964456,"post_id":77621050,"comment_id":136842351,"body_markdown":"[Check if this regex](https://regex101.com/r/DGFT26/1) works for you","body":"<a href=\"https://regex101.com/r/DGFT26/1\" rel=\"nofollow noreferrer\">Check if this regex</a> works for you"},{"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1701964539,"post_id":77621050,"comment_id":136842366,"body_markdown":"@BagusTesa Just finished testing it and it&#39;s perfect, it even works with e.g. &quot;http://10.1.1.9:1234/bla/cats/more/alsodogs/&quot;. Thanks! Edit: Going to test your update on Monday.","body":"@BagusTesa Just finished testing it and it&#39;s perfect, it even works with e.g. &quot;<a href=\"http://10.1.1.9:1234/bla/cats/more/alsodogs/\" rel=\"nofollow noreferrer\">10.1.1.9:1234/bla/cats/more/alsodogs</a>&quot;. Thanks! Edit: Going to test your update on Monday."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701964540,"post_id":77621050,"comment_id":136842367,"body_markdown":"@Neph [updated](https://regex101.com/r/aRi65l/4), now it verifies that no ip address looking like `300.300.300.300`, still stupidly allows `299` though. it also validates querystring somewhat. i&#39;ll be cursed for making this.","body":"@Neph <a href=\"https://regex101.com/r/aRi65l/4\" rel=\"nofollow noreferrer\">updated</a>, now it verifies that no ip address looking like <code>300.300.300.300</code>, still stupidly allows <code>299</code> though. it also validates querystring somewhat. i&#39;ll be cursed for making this."},{"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1701965128,"post_id":77621050,"comment_id":136842483,"body_markdown":"No rush, whenever you do also look for regex efficiency i.e. # of steps taken.","body":"No rush, whenever you do also look for regex efficiency i.e. # of steps taken."}],"answers":[{"tags":[],"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701965672,"creation_date":1701964931,"answer_id":77621447,"question_id":77621050,"body_markdown":"I don&#39;t want to lose this regex in case I need it in the future so I will put it here.\r\n\r\nThe regex below separated into schema, subdomain(s), domain, (c)TLD, separate handling for IPv4 Address*, URL paths, query string, and finally anchor.\r\n\r\n    ^(((ht|f)tps?)://)?(((\\w+\\-*\\w+\\.)*(\\w+\\-*\\w+)(\\.[\\w]{2,})+)|(((1|2){0,1}[0-9]{1,2}\\.){3}(1|2){0,1}[0-9]{1,2}))(:[0-9]{2,5})?(/(#/)?[\\w0-9+\\/\\-]*(\\?([\\w0-9 ]+=([\\w0-9]|%[0-7][0-9a-f])+&amp;?)*)?(#[\\w0-9]*)?)*$\r\n\r\nIt will see the following as valid URL:\r\n\r\n    stackoverflow.com\r\n    http://stackoverflow.com\r\n    http://stack-overflow.com\r\n    http://test-1.stack-overflow.com/salsa1/#11223a\r\n    http://salsa.com/#/about-us\r\n    http://test.com/#/about--cats\r\n    http://amazon.co.uk\r\n    https://www.amazon.co.uk\r\n    ftp://10.1.1.9\r\n    10.1.1.9:1234/bla/bla/bla\r\n    255.1.1.9/bla/bla/bla\r\n    http://10.1.1.9:1234/bla/bla\r\n    http://amazon.co.uk/?name=value\r\n    http://amazon.co.uk/test?name=value&amp;sasa=1\r\n    http://amazon10.com\r\n\r\nThere might be many things it does not cover, but perhaps someone else can write better regex.\r\n\r\n\\* The IP Address still allows 299, but it disallow 300 and above.\r\n\r\nFiddle: https://regex101.com/r/aRi65l/4","title":"Check URL/IP with port with regex","body":"<p>I don't want to lose this regex in case I need it in the future so I will put it here.</p>\n<p>The regex below separated into schema, subdomain(s), domain, (c)TLD, separate handling for IPv4 Address*, URL paths, query string, and finally anchor.</p>\n<pre><code>^(((ht|f)tps?)://)?(((\\w+\\-*\\w+\\.)*(\\w+\\-*\\w+)(\\.[\\w]{2,})+)|(((1|2){0,1}[0-9]{1,2}\\.){3}(1|2){0,1}[0-9]{1,2}))(:[0-9]{2,5})?(/(#/)?[\\w0-9+\\/\\-]*(\\?([\\w0-9 ]+=([\\w0-9]|%[0-7][0-9a-f])+&amp;?)*)?(#[\\w0-9]*)?)*$\n</code></pre>\n<p>It will see the following as valid URL:</p>\n<pre><code>stackoverflow.com\nhttp://stackoverflow.com\nhttp://stack-overflow.com\nhttp://test-1.stack-overflow.com/salsa1/#11223a\nhttp://salsa.com/#/about-us\nhttp://test.com/#/about--cats\nhttp://amazon.co.uk\nhttps://www.amazon.co.uk\nftp://10.1.1.9\n10.1.1.9:1234/bla/bla/bla\n255.1.1.9/bla/bla/bla\nhttp://10.1.1.9:1234/bla/bla\nhttp://amazon.co.uk/?name=value\nhttp://amazon.co.uk/test?name=value&amp;sasa=1\nhttp://amazon10.com\n</code></pre>\n<p>There might be many things it does not cover, but perhaps someone else can write better regex.</p>\n<p>* The IP Address still allows 299, but it disallow 300 and above.</p>\n<p>Fiddle: <a href=\"https://regex101.com/r/aRi65l/4\" rel=\"nofollow noreferrer\">https://regex101.com/r/aRi65l/4</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701966512,"creation_date":1701966512,"answer_id":77621613,"question_id":77621050,"body_markdown":"For reference, here is the relevant _[ABNF](https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form)_ from, _[RFC 1738 &amp;ndash; Uniform Resource Locators (URL)](https://datatracker.ietf.org/doc/html/rfc1738)_.\r\n\r\n```none\r\ngenericurl     = scheme &quot;:&quot; schemepart\r\nscheme         = 1*[ lowalpha | digit | &quot;+&quot; | &quot;-&quot; | &quot;.&quot; ]\r\nschemepart     = *xchar | ip-schemepart\r\nip-schemepart  = &quot;//&quot; login [ &quot;/&quot; urlpath ]\r\nlogin          = [ user [ &quot;:&quot; password ] &quot;@&quot; ] hostport\r\nuser           = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\r\npassword       = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\r\nhostport       = host [ &quot;:&quot; port ]\r\nhost           = hostname | hostnumber\r\nhostname       = *[ domainlabel &quot;.&quot; ] toplabel\r\nhostnumber     = digits &quot;.&quot; digits &quot;.&quot; digits &quot;.&quot; digits\r\ndomainlabel    = alphadigit | alphadigit *[ alphadigit | &quot;-&quot; ] \r\ntoplabel       = alpha | alpha *[ alphadigit | &quot;-&quot; ] alphadigit\r\nport           = digits\r\nurlpath        = *xchar    ; depends on protocol see section 3.1\r\nuchar          = unreserved | escape\r\nxchar          = unreserved | reserved | escape\r\nunreserved     = alpha | digit | safe | extra\r\nsafe           = &quot;$&quot; | &quot;-&quot; | &quot;_&quot; | &quot;.&quot; | &quot;+&quot;\r\nextra          = &quot;!&quot; | &quot;*&quot; | &quot;&#39;&quot; | &quot;(&quot; | &quot;)&quot; | &quot;,&quot;\r\nreserved       = &quot;;&quot; | &quot;/&quot; | &quot;?&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot;\r\nescape         = &quot;%&quot; hex hex\r\n","title":"Check URL/IP with port with regex","body":"<p>For reference, here is the relevant <em><a href=\"https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">ABNF</a></em> from, <em><a href=\"https://datatracker.ietf.org/doc/html/rfc1738\" rel=\"nofollow noreferrer\">RFC 1738 – Uniform Resource Locators (URL)</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>genericurl     = scheme &quot;:&quot; schemepart\nscheme         = 1*[ lowalpha | digit | &quot;+&quot; | &quot;-&quot; | &quot;.&quot; ]\nschemepart     = *xchar | ip-schemepart\nip-schemepart  = &quot;//&quot; login [ &quot;/&quot; urlpath ]\nlogin          = [ user [ &quot;:&quot; password ] &quot;@&quot; ] hostport\nuser           = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\npassword       = *[ uchar | &quot;;&quot; | &quot;?&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\nhostport       = host [ &quot;:&quot; port ]\nhost           = hostname | hostnumber\nhostname       = *[ domainlabel &quot;.&quot; ] toplabel\nhostnumber     = digits &quot;.&quot; digits &quot;.&quot; digits &quot;.&quot; digits\ndomainlabel    = alphadigit | alphadigit *[ alphadigit | &quot;-&quot; ] \ntoplabel       = alpha | alpha *[ alphadigit | &quot;-&quot; ] alphadigit\nport           = digits\nurlpath        = *xchar    ; depends on protocol see section 3.1\nuchar          = unreserved | escape\nxchar          = unreserved | reserved | escape\nunreserved     = alpha | digit | safe | extra\nsafe           = &quot;$&quot; | &quot;-&quot; | &quot;_&quot; | &quot;.&quot; | &quot;+&quot;\nextra          = &quot;!&quot; | &quot;*&quot; | &quot;'&quot; | &quot;(&quot; | &quot;)&quot; | &quot;,&quot;\nreserved       = &quot;;&quot; | &quot;/&quot; | &quot;?&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot;\nescape         = &quot;%&quot; hex hex\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26848336,"reputation":1,"user_id":20433730,"display_name":"17Hieng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702019293,"creation_date":1702018925,"answer_id":77624865,"question_id":77621050,"body_markdown":"**This maybe the most complete regex for checking whether an URL valid**\r\n\r\n    ^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-])?((&amp;)([\\w]+)(=[\\w\\.~%-])?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$\r\n\r\n**1st part: Scheme**\r\n\r\n&gt; - http ://\r\n&gt; - https://\r\n&gt; -  ftp ://\r\n&gt; -  ftps://\r\n\r\n    ((ht|f)(tp)(s)?(:\\/\\/))?\r\n\r\n**2nd part: domain or IPv4 address**\r\n\r\n&gt; - 192.168.0.1\r\n&gt; - stackoverflow.com\r\n\r\n    (([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))\r\n\r\n**3rd part: port**\r\n\r\n&gt; - :65535\r\n&gt; - :1\r\n\r\n    (:\\d{1,5})?\r\n\r\n**4th part: path**\r\n\r\n&gt; - /edu/\r\n&gt; - /about\r\n&gt; - /acc/user/management\r\n\r\n    ((\\/)([\\w\\.~%-]+))*(\\/)?\r\n\r\n**5th part: query**\r\n&gt; - ?query=a&amp;b=c\r\n\r\n    ((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?\r\n\r\n**6th part: Fragments**\r\n\r\n&gt; - #about\r\n&gt; - #line=10,20\r\n&gt; - #row=5-7\r\n&gt; - #row=5-*\r\n&gt; - #cell=4,1-6,2\r\n&gt; - #t=40,80&amp;xywh=160,120,320,240\r\n&gt; - #:~:text=prefix-,textStart,textEnd,-suffix\r\n\r\n    ^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$","title":"Check URL/IP with port with regex","body":"<p><strong>This maybe the most complete regex for checking whether an URL valid</strong></p>\n<pre><code>^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-])?((&amp;)([\\w]+)(=[\\w\\.~%-])?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$\n</code></pre>\n<p><strong>1st part: Scheme</strong></p>\n<blockquote>\n<ul>\n<li>http ://</li>\n<li>https://</li>\n<li>ftp ://</li>\n<li>ftps://</li>\n</ul>\n</blockquote>\n<pre><code>((ht|f)(tp)(s)?(:\\/\\/))?\n</code></pre>\n<p><strong>2nd part: domain or IPv4 address</strong></p>\n<blockquote>\n<ul>\n<li>192.168.0.1</li>\n<li>stackoverflow.com</li>\n</ul>\n</blockquote>\n<pre><code>(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))\n</code></pre>\n<p><strong>3rd part: port</strong></p>\n<blockquote>\n<ul>\n<li>:65535</li>\n<li>:1</li>\n</ul>\n</blockquote>\n<pre><code>(:\\d{1,5})?\n</code></pre>\n<p><strong>4th part: path</strong></p>\n<blockquote>\n<ul>\n<li>/edu/</li>\n<li>/about</li>\n<li>/acc/user/management</li>\n</ul>\n</blockquote>\n<pre><code>((\\/)([\\w\\.~%-]+))*(\\/)?\n</code></pre>\n<p><strong>5th part: query</strong></p>\n<blockquote>\n<ul>\n<li>?query=a&amp;b=c</li>\n</ul>\n</blockquote>\n<pre><code>((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?\n</code></pre>\n<p><strong>6th part: Fragments</strong></p>\n<blockquote>\n<ul>\n<li>#about</li>\n<li>#line=10,20</li>\n<li>#row=5-7</li>\n<li>#row=5-*</li>\n<li>#cell=4,1-6,2</li>\n<li>#t=40,80&amp;xywh=160,120,320,240</li>\n<li>#:~:text=prefix-,textStart,textEnd,-suffix</li>\n</ul>\n</blockquote>\n<pre><code>^(((ht|f)(tp)(s)?(:\\/\\/))?(([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))(:\\d{1,5})?((\\/)([\\w\\.~%-]+))*(\\/)?((\\?)(([\\w]+)(=[\\w\\.~%-]+)?((&amp;)([\\w]+)(=[\\w\\.~%-]+)?)*)?)?((#)((([\\w]+(=[\\w\\,\\*\\.~%-]+)?)(&amp;[\\w]+(=[\\w\\,\\*\\.~%-]+)?)*)|(:~:text=([\\w\\.~%-]+\\,)?([\\w\\.~%-]+)(\\,[\\w\\.~%-]+){0,2}))?)?)$\n</code></pre>\n"}],"owner":{"account_id":2294271,"reputation":1861,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1702019293,"creation_date":1701961320,"question_id":77621050,"body_markdown":"My Java 11/Android app has to check if the URL/IP the user entered could theoretically be valid (using `myURL.trim().matches(regex)`).\r\n\r\nWhat should be valid (including variations):\r\n\r\n - stackoverflow.com\r\n - http://stackoverflow.com\r\n - http://amazon.co.uk\r\n - https://www.amazon.co.uk\r\n - ftp://10.1.1.9\r\n - 10.1.1.9:1234\r\n - http://10.1.1.9:1234/bla\r\n\r\nWhat shouldn&#39;t be valid:\r\n\r\n - http://bla\r\n - bla\r\n - &quot;---&quot; (without the &quot;&quot;, had to add them because of formatting)\r\n - 10.9\r\n - 10.1.1.\r\n - 10.1..1.9\r\n\r\nI don&#39;t care if the user enters e.g. &quot;999.999.999.999&quot;, I only want to know if the syntax is theoretically correct, which it would be in this case.\r\n\r\nSo far I&#39;ve been using this regex:\r\n\r\n    String regex1 = &quot;((http|https|ftp)://)?((\\\\w)*|([0-9]*)|([-|_])*)+([\\\\.|/]((\\\\w)*|([0-9]*)|([-|_])*))+&quot;;\r\n\r\n... but now I want to check for the port too and ^ doesn&#39;t support that. This other version supports ports:\r\n\r\n    String regex2 = &quot;((http|https|ftp)://)?(([^/:.[:space:]]+(.[^/:.[:space:]]+)*)|([0-9](.[0-9]{3})))(:[0-9]+)?((/[^?#[:space:]]+)([^#[:space:]]+)?(#.+)?)?&quot;;\r\n\r\n... but it returns `true` for strings like &quot;http://bla&quot; or &quot;---&quot;.\r\n\r\nI also tested [this version][1] by Microsoft:\r\n\r\n    String regex3 = &quot;^(ht|f)tp(s?)\\\\:\\\\/\\\\/[0-9a-zA-Z]([-.\\\\w]*[0-9a-zA-Z])*(:(0-9)*)*(\\\\/?)([a-zA-Z0-9\\\\-\\\\.\\\\?\\\\,\\\\&#39;\\\\/\\\\\\\\\\\\+&amp;amp;%\\\\$#_]*)?$&quot;;\r\n\r\n... but it doesn&#39;t work for some of the above examples (&quot;http://bla&quot; and &quot;http://10.1.1.9:1234/bla&quot; are valid, &quot;10.1.1.9&quot; and &quot;stackoverflow.com&quot; aren&#39;t) and I&#39;m not sure how to get [this][2] long PHP version to work with java, as it complains about the &quot;#&quot; and &quot;)&quot;.\r\n\r\nI&#39;m aware there&#39;s already a lot of regex code for validating URLs floating around on stackoverflow and I already tested a bunch of other versions from the [mega-thread][3] (and other questions) but the ones that I could get Android Studio to accept didn&#39;t work and my regex &quot;knowledge&quot; isn&#39;t even remotely big enough to modify someone else&#39;s code, let alone write my own.\r\n\r\nHow do I accomplish this?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/previous-versions/msp-n-p/ff650303(v=pandp.10)?redirectedfrom=MSDN\r\n  [2]: https://stackoverflow.com/a/2015516/2016165\r\n  [3]: https://stackoverflow.com/q/161738/2016165","title":"Check URL/IP with port with regex","body":"<p>My Java 11/Android app has to check if the URL/IP the user entered could theoretically be valid (using <code>myURL.trim().matches(regex)</code>).</p>\n<p>What should be valid (including variations):</p>\n<ul>\n<li>stackoverflow.com</li>\n<li><a href=\"http://stackoverflow.com\">http://stackoverflow.com</a></li>\n<li><a href=\"http://amazon.co.uk\" rel=\"nofollow noreferrer\">http://amazon.co.uk</a></li>\n<li><a href=\"https://www.amazon.co.uk\" rel=\"nofollow noreferrer\">https://www.amazon.co.uk</a></li>\n<li><a href=\"ftp://10.1.1.9\" rel=\"nofollow noreferrer\">ftp://10.1.1.9</a></li>\n<li>10.1.1.9:1234</li>\n<li><a href=\"http://10.1.1.9:1234/bla\" rel=\"nofollow noreferrer\">http://10.1.1.9:1234/bla</a></li>\n</ul>\n<p>What shouldn't be valid:</p>\n<ul>\n<li>http://bla</li>\n<li>bla</li>\n<li>&quot;---&quot; (without the &quot;&quot;, had to add them because of formatting)</li>\n<li>10.9</li>\n<li>10.1.1.</li>\n<li>10.1..1.9</li>\n</ul>\n<p>I don't care if the user enters e.g. &quot;999.999.999.999&quot;, I only want to know if the syntax is theoretically correct, which it would be in this case.</p>\n<p>So far I've been using this regex:</p>\n<pre><code>String regex1 = &quot;((http|https|ftp)://)?((\\\\w)*|([0-9]*)|([-|_])*)+([\\\\.|/]((\\\\w)*|([0-9]*)|([-|_])*))+&quot;;\n</code></pre>\n<p>... but now I want to check for the port too and ^ doesn't support that. This other version supports ports:</p>\n<pre><code>String regex2 = &quot;((http|https|ftp)://)?(([^/:.[:space:]]+(.[^/:.[:space:]]+)*)|([0-9](.[0-9]{3})))(:[0-9]+)?((/[^?#[:space:]]+)([^#[:space:]]+)?(#.+)?)?&quot;;\n</code></pre>\n<p>... but it returns <code>true</code> for strings like &quot;http://bla&quot; or &quot;---&quot;.</p>\n<p>I also tested <a href=\"https://learn.microsoft.com/en-us/previous-versions/msp-n-p/ff650303(v=pandp.10)?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">this version</a> by Microsoft:</p>\n<pre><code>String regex3 = &quot;^(ht|f)tp(s?)\\\\:\\\\/\\\\/[0-9a-zA-Z]([-.\\\\w]*[0-9a-zA-Z])*(:(0-9)*)*(\\\\/?)([a-zA-Z0-9\\\\-\\\\.\\\\?\\\\,\\\\'\\\\/\\\\\\\\\\\\+&amp;amp;%\\\\$#_]*)?$&quot;;\n</code></pre>\n<p>... but it doesn't work for some of the above examples (&quot;http://bla&quot; and &quot;http://10.1.1.9:1234/bla&quot; are valid, &quot;10.1.1.9&quot; and &quot;stackoverflow.com&quot; aren't) and I'm not sure how to get <a href=\"https://stackoverflow.com/a/2015516/2016165\">this</a> long PHP version to work with java, as it complains about the &quot;#&quot; and &quot;)&quot;.</p>\n<p>I'm aware there's already a lot of regex code for validating URLs floating around on stackoverflow and I already tested a bunch of other versions from the <a href=\"https://stackoverflow.com/q/161738/2016165\">mega-thread</a> (and other questions) but the ones that I could get Android Studio to accept didn't work and my regex &quot;knowledge&quot; isn't even remotely big enough to modify someone else's code, let alone write my own.</p>\n<p>How do I accomplish this?</p>\n"},{"tags":["java","android","eclipse","wifi"],"comments":[{"owner":{"account_id":1927754,"reputation":5883,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"score":1,"creation_date":1399522421,"post_id":23420894,"comment_id":36100441,"body_markdown":"I think you could get a list of remembered networks with http://developer.android.com/reference/android/net/wifi/WifiManager.html#getConfiguredNetworks()","body":"I think you could get a list of remembered networks with <a href=\"http://developer.android.com/reference/android/net/wifi/WifiManager.html#getConfiguredNetworks()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/net/wifi/&hellip;</a>"},{"owner":{"account_id":2787106,"reputation":1046,"user_id":2398196,"accept_rate":100,"display_name":"The Dude"},"score":0,"creation_date":1399573733,"post_id":23420894,"comment_id":36131950,"body_markdown":"@MariusŽilėnas That looks like what I need. If you make it answer I will accept it as correct.","body":"@MariusŽilėnas That looks like what I need. If you make it answer I will accept it as correct."}],"answers":[{"tags":[],"owner":{"account_id":1927754,"reputation":5883,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1526420297,"creation_date":1399608310,"answer_id":23556405,"question_id":23420894,"body_markdown":"There is a way to get a list of remembered networks with WifiManager.[getConfiguredNetworks()](http://developer.android.com/reference/android/net/wifi/WifiManager.html#getConfiguredNetworks())","title":"Android get saved network SSID","body":"<p>There is a way to get a list of remembered networks with WifiManager.<a href=\"http://developer.android.com/reference/android/net/wifi/WifiManager.html#getConfiguredNetworks()\" rel=\"nofollow noreferrer\">getConfiguredNetworks()</a></p>\n"},{"tags":[],"owner":{"account_id":23767947,"reputation":1,"user_id":17782456,"display_name":"Avinash Chovatiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702018991,"creation_date":1702018976,"answer_id":77624870,"question_id":23420894,"body_markdown":"If your device is rooted then you get the details from XML file in your root folder.\r\n\r\nPath --&gt;```/data/misc/apexdata/com.android.wifi/WifiConfigStore.xml```","title":"Android get saved network SSID","body":"<p>If your device is rooted then you get the details from XML file in your root folder.</p>\n<p>Path --&gt;<code>/data/misc/apexdata/com.android.wifi/WifiConfigStore.xml</code></p>\n"}],"owner":{"account_id":2787106,"reputation":1046,"user_id":2398196,"accept_rate":100,"display_name":"The Dude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23556405,"answer_count":2,"score":1,"last_activity_date":1702018991,"creation_date":1399005858,"question_id":23420894,"body_markdown":"I am trying to find a way by which I can get a list of the remembered networks&#39; `SSID` on an Android device. \r\n\r\nI have seen a few threads asking similar questions. However, the few questions that I have found are trying to get the known network passwords not the `SSIDS`, and the answer for the passwords is that \r\n\r\n**1)** you can&#39;t get them without root and \r\n\r\n**2)** they are stored in different locations depending on the device. \r\n\r\nIs there any method that will allow me to do this? ","title":"Android get saved network SSID","body":"<p>I am trying to find a way by which I can get a list of the remembered networks' <code>SSID</code> on an Android device. </p>\n\n<p>I have seen a few threads asking similar questions. However, the few questions that I have found are trying to get the known network passwords not the <code>SSIDS</code>, and the answer for the passwords is that </p>\n\n<p><strong>1)</strong> you can't get them without root and </p>\n\n<p><strong>2)</strong> they are stored in different locations depending on the device. </p>\n\n<p>Is there any method that will allow me to do this? </p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701862213,"post_id":77612588,"comment_id":136826858,"body_markdown":"The path that you pass to method `getResource` is relative to the root folder of all your compiled Java classes.  From the image that you posted, I&#39;m guessing it&#39;s the `classes` folder. In any case, refer to: [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other)","body":"The path that you pass to method <code>getResource</code> is relative to the root folder of all your compiled Java classes.  From the image that you posted, I&#39;m guessing it&#39;s the <code>classes</code> folder. In any case, refer to: <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701864048,"post_id":77612588,"comment_id":136827188,"body_markdown":"According to your project structure as shown in that screenshot, using `&quot;/MainMenu.fxml&quot;` should be correct. I recommend consulting the Q&amp;A linked in Abra&#39;s comment and trying some of the debugging techniques described there. For instance, make sure your resources are being copied to the `target` directory (typically some subdirectory therein). And make sure you&#39;re executing your project correctly (as you&#39;re using Maven, you should use Maven to execute the project).","body":"According to your project structure as shown in that screenshot, using <code>&quot;&#47;MainMenu.fxml&quot;</code> should be correct. I recommend consulting the Q&amp;A linked in Abra&#39;s comment and trying some of the debugging techniques described there. For instance, make sure your resources are being copied to the <code>target</code> directory (typically some subdirectory therein). And make sure you&#39;re executing your project correctly (as you&#39;re using Maven, you should use Maven to execute the project)."},{"owner":{"account_id":30079867,"reputation":1,"user_id":23051751,"display_name":"samosusa"},"score":0,"creation_date":1701864164,"post_id":77612588,"comment_id":136827212,"body_markdown":"Tried it without the /,still didnt work","body":"Tried it without the /,still didnt work"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701864518,"post_id":77612588,"comment_id":136827271,"body_markdown":"@samosusa try to put your .fxml in the same folder as a package of the main class. (/resources/the-same-package)","body":"@samosusa try to put your .fxml in the same folder as a package of the main class. (/resources/the-same-package)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701864788,"post_id":77612588,"comment_id":136827331,"body_markdown":"@samosusa How are you _running_ the project?","body":"@samosusa How are you <i>running</i> the project?"},{"owner":{"account_id":30079867,"reputation":1,"user_id":23051751,"display_name":"samosusa"},"score":0,"creation_date":1701866297,"post_id":77612588,"comment_id":136827618,"body_markdown":"Im always running it through viewhandler and I tried to put it into the java folder,I also have fxml files in the target and its still not working,this is the error when I tried to put it into the java main folder:Error occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: C:\\Users\\samko\\Documents\\GitHub\\SEP1_ProjectManagementSystem\\target\\classes\nCaused by: java.lang.module.InvalidModuleDescriptorException: ViewHandler.class found in top-level directory (unnamed package not allowed in module)","body":"Im always running it through viewhandler and I tried to put it into the java folder,I also have fxml files in the target and its still not working,this is the error when I tried to put it into the java main folder:Error occurred during initialization of boot layer java.lang.module.FindException: Error reading module: C:\\Users\\samko\\Documents\\GitHub\\SEP1_ProjectManagementSystem&zwnj;&#8203;\\target\\classes Caused by: java.lang.module.InvalidModuleDescriptorException: ViewHandler.class found in top-level directory (unnamed package not allowed in module)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701866504,"post_id":77612588,"comment_id":136827661,"body_markdown":"@samosusa Try applying the [javafx-maven-plugin](https://github.com/openjfx/javafx-maven-plugin) (see [Getting Started with JavaFX](https://openjfx.io/openjfx-docs/) for more information) and then executing the `javafx:run` goal to see if it works.","body":"@samosusa Try applying the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">javafx-maven-plugin</a> (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> for more information) and then executing the <code>javafx:run</code> goal to see if it works."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701866546,"post_id":77612588,"comment_id":136827670,"body_markdown":"@samosusa did you try to put MainMenu.fxml to the `/resources/view/MainMenu.fxml` ?","body":"@samosusa did you try to put MainMenu.fxml to the <code>&#47;resources&#47;view&#47;MainMenu.fxml</code> ?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1701868441,"post_id":77612588,"comment_id":136828009,"body_markdown":"@ValentynHruzytskyi The other library you refer to appears to be referring to file paths, not resources. This makes it completely irrelevant to this issue. Please refrain from posting misinformation on this site.","body":"@ValentynHruzytskyi The other library you refer to appears to be referring to file paths, not resources. This makes it completely irrelevant to this issue. Please refrain from posting misinformation on this site."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701868528,"post_id":77612588,"comment_id":136828021,"body_markdown":"Read through https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other, particularly the &quot;Troubleshooting&quot; section. Post the structure of the build folder as well as the source folder in your question: in particular, are the resources getting deployed to the expected package?","body":"Read through <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a>, particularly the &quot;Troubleshooting&quot; section. Post the structure of the build folder as well as the source folder in your question: in particular, are the resources getting deployed to the expected package?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701868565,"post_id":77612588,"comment_id":136828030,"body_markdown":"https://edencoding.com/where-to-put-resource-files-in-javafx/ may also provide useful information.","body":"<a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">edencoding.com/where-to-put-resource-files-in-javafx</a> may also provide useful information."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701890765,"post_id":77612588,"comment_id":136832239,"body_markdown":"@ValentynHruzytskyi I do not have moderator access. Your comments drew attention because they were clearly and verifiably incorrect. Do not post false information here.","body":"@ValentynHruzytskyi I do not have moderator access. Your comments drew attention because they were clearly and verifiably incorrect. Do not post false information here."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1702019205,"post_id":77612588,"comment_id":136848692,"body_markdown":"Please take a look at my updated answer.","body":"Please take a look at my updated answer."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702018903,"creation_date":1701869891,"answer_id":77613530,"question_id":77612588,"body_markdown":"**Something about paths:**\r\n\r\n1. There are absolute paths and relative paths. \r\n\r\n2. All paths starting with a &quot;/&quot; are absolute, All other paths are relative.\r\n\r\n3. The root of an absolute path points to `src/main/java` and/or `src/main/resources` directory.\r\n\r\n4. The root of a relative path points to the directory of the file it is defined/created in. \r\nIf you define/create a relative path called `hello.fxml` in `src/main/java/com/views/World.java`, the path will point to `src/main/java/com/views/hello.fxml`. \r\n\r\n5. Note that classpath and filesystem paths can be relative or absolute.\r\n\r\n6. It is recommended to use absolute paths.\r\n\r\n**Solution:**\r\n\r\n1. Put your FXML files into `src/main/resources/views`.\r\n\r\n2. Put your controllers into `src/main/java/views`.\r\n\r\nThis approach solves all problems. The controllers and the fxml files have the same package path locations and they are placed correctly in your code.\r\n\r\n**Why the SceneBuilder does not show the controller in its UI:**\r\n\r\nI think this might be a bug in SceneBuilder, I know this issue since years. It does only recognize Controllers in the same package path location as the controller, but it works of you &quot;hard code&quot; the full qualified class name of the controller into the fxml file. The above solution should work nad should display everything correctly in the SceneBuilder.\r\n\r\n**Example projects:**\r\n\r\nYou might want to take a look at this projects I set up and see how it is done!\r\n\r\nhttps://github.com/davidweber411/javafx-JavaFxAppMavenNonModular\r\n\r\nhttps://github.com/davidweber411/javafx-JavaFxAppGradleNonModular","title":"Im trying to load fxml files from package folder in IntelliJ,but still does not work","body":"<p><strong>Something about paths:</strong></p>\n<ol>\n<li><p>There are absolute paths and relative paths.</p>\n</li>\n<li><p>All paths starting with a &quot;/&quot; are absolute, All other paths are relative.</p>\n</li>\n<li><p>The root of an absolute path points to <code>src/main/java</code> and/or <code>src/main/resources</code> directory.</p>\n</li>\n<li><p>The root of a relative path points to the directory of the file it is defined/created in.\nIf you define/create a relative path called <code>hello.fxml</code> in <code>src/main/java/com/views/World.java</code>, the path will point to <code>src/main/java/com/views/hello.fxml</code>.</p>\n</li>\n<li><p>Note that classpath and filesystem paths can be relative or absolute.</p>\n</li>\n<li><p>It is recommended to use absolute paths.</p>\n</li>\n</ol>\n<p><strong>Solution:</strong></p>\n<ol>\n<li><p>Put your FXML files into <code>src/main/resources/views</code>.</p>\n</li>\n<li><p>Put your controllers into <code>src/main/java/views</code>.</p>\n</li>\n</ol>\n<p>This approach solves all problems. The controllers and the fxml files have the same package path locations and they are placed correctly in your code.</p>\n<p><strong>Why the SceneBuilder does not show the controller in its UI:</strong></p>\n<p>I think this might be a bug in SceneBuilder, I know this issue since years. It does only recognize Controllers in the same package path location as the controller, but it works of you &quot;hard code&quot; the full qualified class name of the controller into the fxml file. The above solution should work nad should display everything correctly in the SceneBuilder.</p>\n<p><strong>Example projects:</strong></p>\n<p>You might want to take a look at this projects I set up and see how it is done!</p>\n<p><a href=\"https://github.com/davidweber411/javafx-JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/javafx-JavaFxAppMavenNonModular</a></p>\n<p><a href=\"https://github.com/davidweber411/javafx-JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/javafx-JavaFxAppGradleNonModular</a></p>\n"}],"owner":{"account_id":30079867,"reputation":1,"user_id":23051751,"display_name":"samosusa"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702018903,"creation_date":1701861183,"question_id":77612588,"body_markdown":"I have package folder for fxml files and view folder for java files.When I put files into the resource folder I can open them but then I cant link them with mine Controller through scenebuilder,but on the other way when I have it in the same folder as java files called view,It wont start,but allows me to link Controller through scenebuilder.\r\n\r\nThis is the code:\r\n//Main called ViewHandler\r\n\r\n```\r\npackage view;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ViewHandler extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        try\r\n        {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/MainMenu.fxml&quot;));\r\n            FXMLLoader fxmlLoader = new FXMLLoader(ViewHandler.class.getResource(&quot;MainMenu.fxml&quot;));\r\n\r\n            Scene scene = new Scene(root, Color.BLACK);\r\n\r\n            //getting the logo in the left upper corner\r\n            Image icon = new Image(&quot;logo.png&quot;);//logo has to be in module resources\r\n            stage.getIcons().add(icon);\r\n\r\n            //setting the title of the page/ parameters of the window\r\n            stage.setTitle(&quot;Main Menu&quot;);\r\n            //stage.setFullScreen(true);\r\n\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n//Controller\r\n\r\n```\r\npackage view;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloController {\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n    private Button cancelButton;\r\n    private AnchorPane scenePane;\r\n    public void switchToMainMenu(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/MainMenu.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToSelectProjectType(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/SelectProjectType.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToEditCommercial(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditCommercial1.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToEditIndustrial(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditIndustrial1.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToEditResidential(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditResidential1.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToEditRoadConstruction(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditroadConstruction1.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToViewEdit(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/ViewEdit.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToCreateCommercial(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/createCommercial.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToCreateIndustrial(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/CreateIndustrial.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToCreateResidential(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/CreateResidential.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void switchToCreateRoadConstruction(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/CreateRoadConstruction.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public void logout(ActionEvent event)\r\n    {\r\n        stage = (Stage) scenePane.getScene().getWindow();\r\n        stage.close();\r\n    }\r\n}\r\n```\r\n[Error with location of my files](https://i.stack.imgur.com/lKLq3.png)\r\n","title":"Im trying to load fxml files from package folder in IntelliJ,but still does not work","body":"<p>I have package folder for fxml files and view folder for java files.When I put files into the resource folder I can open them but then I cant link them with mine Controller through scenebuilder,but on the other way when I have it in the same folder as java files called view,It wont start,but allows me to link Controller through scenebuilder.</p>\n<p>This is the code:\n//Main called ViewHandler</p>\n<pre><code>package view;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Group;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class ViewHandler extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        try\n        {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/MainMenu.fxml&quot;));\n            FXMLLoader fxmlLoader = new FXMLLoader(ViewHandler.class.getResource(&quot;MainMenu.fxml&quot;));\n\n            Scene scene = new Scene(root, Color.BLACK);\n\n            //getting the logo in the left upper corner\n            Image icon = new Image(&quot;logo.png&quot;);//logo has to be in module resources\n            stage.getIcons().add(icon);\n\n            //setting the title of the page/ parameters of the window\n            stage.setTitle(&quot;Main Menu&quot;);\n            //stage.setFullScreen(true);\n\n            stage.setScene(scene);\n            stage.show();\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>//Controller</p>\n<pre><code>package view;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloController {\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n    private Button cancelButton;\n    private AnchorPane scenePane;\n    public void switchToMainMenu(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/MainMenu.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToSelectProjectType(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/SelectProjectType.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToEditCommercial(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditCommercial1.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToEditIndustrial(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditIndustrial1.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToEditResidential(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditResidential1.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToEditRoadConstruction(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/EditroadConstruction1.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToViewEdit(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/ViewEdit.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToCreateCommercial(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/createCommercial.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToCreateIndustrial(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/CreateIndustrial.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToCreateResidential(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/CreateResidential.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void switchToCreateRoadConstruction(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/CreateRoadConstruction.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public void logout(ActionEvent event)\n    {\n        stage = (Stage) scenePane.getScene().getWindow();\n        stage.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lKLq3.png\" rel=\"nofollow noreferrer\">Error with location of my files</a></p>\n"},{"tags":["java","spring-boot","gradle","multi-module","spring-boot-3"],"owner":{"account_id":15213800,"reputation":45,"user_id":10977701,"display_name":"NoobOfJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702018802,"creation_date":1702017836,"question_id":77624777,"body_markdown":"I&#39;m setting up a multi-module, but I have a build error, so I&#39;m asking you a question.\r\n\r\nLet me explain the type of module I intend to use.\r\n\r\norury : root project  \r\norury-core : common module  \r\norury-api : client module  \r\norury-admin : Administrator module  \r\norury-batch : spring-batch module  \r\n\r\nFirst, you set the settings.gradle file as follows.\r\n\r\n    rootProject.name = &#39;orury&#39;\r\n    include &#39;orury-core&#39;\r\n    include &#39;orury-api&#39;\r\n    include &#39;orury-admin&#39;\r\n    include &#39;orury-batch&#39;\r\n\r\nNext, each build.gradle file.\r\n\r\nbuild.gradle(orury)\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.1.6&#39;\r\n        id &#39;org.asciidoctor.jvm.convert&#39; version &#39;3.3.2&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n    }\r\n    \r\n    allprojects {\r\n        group = &#39;org.fastcampus&#39;\r\n        version = &#39;0.0.1-SNAPSHOT&#39;\r\n        sourceCompatibility = &#39;17&#39;\r\n    \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        bootJar {\r\n            enabled = false\r\n        }\r\n    \r\n        jar {\r\n            enabled = true\r\n        }\r\n    \r\n        test {\r\n            useJUnitPlatform()\r\n        }\r\n    }\r\n    \r\n    subprojects {// 각 모듈에 적용할 공통 설정\r\n    \r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;org.asciidoctor.jvm.convert&#39;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n        dependencies {\r\n            compileOnly &#39;org.projectlombok:lombok&#39;\r\n            annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n            annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n            testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n            testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n            runtimeOnly &#39;com.h2database:h2&#39;\r\n            runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n        }\r\n    \r\n    }\r\n\r\nbuild.gradle(orury-core)\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    }\r\n\r\nbuild.gradle(orury-api)  \r\n\r\n    dependencies {\r\n        implementation project(&#39;:orury-core&#39;)\r\n    }\r\n\r\n\r\nbuild.gradle(orury-admin)  \r\n\r\n    dependencies {\r\n        implementation project(&#39;:orury-core&#39;)\r\n        implementation project(&#39;:orury-api&#39;)\r\n    }\r\n\r\n\r\nbuild.gradle(orury-batch) \r\n\r\n    dependencies {\r\n        implementation project(&#39;:orury-core&#39;)\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-batch&#39;\r\n    }\r\n\r\n However, when you proceed with the build, the following error occurs.\r\n\r\n    A problem occurred evaluating root project &#39;orury-core&#39;.\r\n    &gt; Could not find method implementation() for arguments [org.springframework.boot:spring-boot-starter] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\nSo I&#39;ve done the following way.  \r\n\r\nbuild.gradle(orury)\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.1.6&#39;\r\n        id &#39;org.asciidoctor.jvm.convert&#39; version &#39;3.3.2&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n    }\r\n    \r\n    allprojects {\r\n        group = &#39;org.fastcampus&#39;\r\n        version = &#39;0.0.1-SNAPSHOT&#39;\r\n        sourceCompatibility = &#39;17&#39;\r\n    \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        bootJar {\r\n            enabled = false\r\n        }\r\n    \r\n        jar {\r\n            enabled = true\r\n        }\r\n    \r\n        test {\r\n            useJUnitPlatform()\r\n        }\r\n    }\r\n    \r\n    subprojects {// 각 모듈에 적용할 공통 설정\r\n    \r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;org.asciidoctor.jvm.convert&#39;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n        dependencies {\r\n            compileOnly &#39;org.projectlombok:lombok&#39;\r\n            annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n            annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n            testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n            testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n            runtimeOnly &#39;com.h2database:h2&#39;\r\n            runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    project(&#39;:orury-core&#39;){\r\n        dependencies {\r\n            implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n            implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n            implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n            implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n            implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n            developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n            testImplementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n        }\r\n    }\r\n    \r\n    project(&#39;:orury-api&#39;){\r\n        dependencies {\r\n            implementation project(&#39;:orury-core&#39;)\r\n        }\r\n    }\r\n    \r\n    project(&#39;:orury-admin&#39;){\r\n        dependencies {\r\n            implementation project(&#39;:orury-core&#39;)\r\n            implementation project(&#39;:orury-api&#39;)\r\n        }\r\n    }\r\n    \r\n    project(&#39;:orury-batch&#39;){\r\n        dependencies {\r\n            implementation project(&#39;:orury-core&#39;)\r\n            implementation &#39;org.springframework.boot:spring-boot-starter-batch&#39;\r\n        }\r\n    }\r\n\r\n\r\nThis way, the build doesn&#39;t get an error. However, the application of orury-api, `OruryApiApplication` doesn&#39;t recognize @SpringbootApplication.  \r\n\r\nI think the setting method in springboot 3.x has changed. Please help me.\r\n\r\ntech stack:\r\nJDK 17, Springboot 3.x, Gradle 8.5","title":"If I set it in the build.gradle file of the submodule in Springboot 3.x, does it not recognize it?","body":"<p>I'm setting up a multi-module, but I have a build error, so I'm asking you a question.</p>\n<p>Let me explain the type of module I intend to use.</p>\n<p>orury : root project<br />\norury-core : common module<br />\norury-api : client module<br />\norury-admin : Administrator module<br />\norury-batch : spring-batch module</p>\n<p>First, you set the settings.gradle file as follows.</p>\n<pre><code>rootProject.name = 'orury'\ninclude 'orury-core'\ninclude 'orury-api'\ninclude 'orury-admin'\ninclude 'orury-batch'\n</code></pre>\n<p>Next, each build.gradle file.</p>\n<p>build.gradle(orury)</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.6'\n    id 'org.asciidoctor.jvm.convert' version '3.3.2'\n    id 'io.spring.dependency-management' version '1.1.4'\n}\n\nallprojects {\n    group = 'org.fastcampus'\n    version = '0.0.1-SNAPSHOT'\n    sourceCompatibility = '17'\n\n    repositories {\n        mavenCentral()\n    }\n\n    bootJar {\n        enabled = false\n    }\n\n    jar {\n        enabled = true\n    }\n\n    test {\n        useJUnitPlatform()\n    }\n}\n\nsubprojects {// 각 모듈에 적용할 공통 설정\n\n    apply plugin: 'java'\n    apply plugin: 'org.asciidoctor.jvm.convert'\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'io.spring.dependency-management'\n\n    dependencies {\n        compileOnly 'org.projectlombok:lombok'\n        annotationProcessor 'org.projectlombok:lombok'\n        annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n        testImplementation 'org.springframework.boot:spring-boot-starter-test'\n        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n        runtimeOnly 'com.h2database:h2'\n        runtimeOnly 'com.mysql:mysql-connector-j'\n    }\n\n}\n</code></pre>\n<p>build.gradle(orury-core)</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n}\n</code></pre>\n<p>build.gradle(orury-api)</p>\n<pre><code>dependencies {\n    implementation project(':orury-core')\n}\n</code></pre>\n<p>build.gradle(orury-admin)</p>\n<pre><code>dependencies {\n    implementation project(':orury-core')\n    implementation project(':orury-api')\n}\n</code></pre>\n<p>build.gradle(orury-batch)</p>\n<pre><code>dependencies {\n    implementation project(':orury-core')\n    implementation 'org.springframework.boot:spring-boot-starter-batch'\n}\n</code></pre>\n<p>However, when you proceed with the build, the following error occurs.</p>\n<pre><code>A problem occurred evaluating root project 'orury-core'.\n&gt; Could not find method implementation() for arguments [org.springframework.boot:spring-boot-starter] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n<p>So I've done the following way.</p>\n<p>build.gradle(orury)\nplugins {\nid 'java'\nid 'org.springframework.boot' version '3.1.6'\nid 'org.asciidoctor.jvm.convert' version '3.3.2'\nid 'io.spring.dependency-management' version '1.1.4'\n}</p>\n<pre><code>allprojects {\n    group = 'org.fastcampus'\n    version = '0.0.1-SNAPSHOT'\n    sourceCompatibility = '17'\n\n    repositories {\n        mavenCentral()\n    }\n\n    bootJar {\n        enabled = false\n    }\n\n    jar {\n        enabled = true\n    }\n\n    test {\n        useJUnitPlatform()\n    }\n}\n\nsubprojects {// 각 모듈에 적용할 공통 설정\n\n    apply plugin: 'java'\n    apply plugin: 'org.asciidoctor.jvm.convert'\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'io.spring.dependency-management'\n\n    dependencies {\n        compileOnly 'org.projectlombok:lombok'\n        annotationProcessor 'org.projectlombok:lombok'\n        annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n        testImplementation 'org.springframework.boot:spring-boot-starter-test'\n        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n        runtimeOnly 'com.h2database:h2'\n        runtimeOnly 'com.mysql:mysql-connector-j'\n    }\n\n}\n\n\nproject(':orury-core'){\n    dependencies {\n        implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n        implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n        implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n        implementation 'org.springframework.boot:spring-boot-starter-validation'\n        implementation 'org.springframework.boot:spring-boot-starter-web'\n        developmentOnly 'org.springframework.boot:spring-boot-devtools'\n        testImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc'\n    }\n}\n\nproject(':orury-api'){\n    dependencies {\n        implementation project(':orury-core')\n    }\n}\n\nproject(':orury-admin'){\n    dependencies {\n        implementation project(':orury-core')\n        implementation project(':orury-api')\n    }\n}\n\nproject(':orury-batch'){\n    dependencies {\n        implementation project(':orury-core')\n        implementation 'org.springframework.boot:spring-boot-starter-batch'\n    }\n}\n</code></pre>\n<p>This way, the build doesn't get an error. However, the application of orury-api, <code>OruryApiApplication</code> doesn't recognize @SpringbootApplication.</p>\n<p>I think the setting method in springboot 3.x has changed. Please help me.</p>\n<p>tech stack:\nJDK 17, Springboot 3.x, Gradle 8.5</p>\n"},{"tags":["java","spring"],"owner":{"account_id":21238440,"reputation":7,"user_id":15622306,"display_name":"Intekhab Alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702018708,"creation_date":1702018248,"question_id":77624812,"body_markdown":"I want request body&#39;s pojo class in handleMethodArgumentNotValid() at GlobalExceptionHandler class\r\n\r\nmy controller is\r\n\r\n```java\r\n@RestController\r\npublic class MainController {\r\n\r\n    @RequestMapping(value = &quot;/createUser&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponsePacket createUser(HttpServletRequest request, @Valid @RequestBody RequestPacket requestPacket) {\r\n        ResponsePacket resp = new ResponsePacket();\r\n        return resp;\r\n    }\r\n}\r\n```\r\n\r\nMy request packet pojo class is\r\n\r\n```java\r\npublic class RequestPacket {\r\n\r\n    @NotNull(message = &quot;userId is mandatory&quot;)\r\n    private String userId;\r\n\r\n    @NotNull(message = &quot;userName is mandatory&quot;)\r\n    @Pattern(regexp = &quot;^[a-zA-Z0-9 ]*&quot;, message = &quot;userName should not contain special characters&quot;)\r\n    private String userName;\r\n\r\n    @NotNull(message = &quot;address is mandatory&quot;)\r\n    private String address;\r\n    \r\n    \r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setgetUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName.trim();\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n}\r\n```\r\n\r\n\r\nmy GlobalExceptionHandler class is\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    // error handle for @Valid\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n            HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n        body.put(&quot;status&quot;, &quot;failure&quot;);\r\n        body.put(&quot;userId&quot;, &quot;&quot;); // here i want the same userId which i got in my request packet\r\n        List&lt;String&gt; errorDetails = ex.getBindingResult().getFieldErrors().stream()\r\n                .map(x -&gt; x.getDefaultMessage()).collect(Collectors.toList()); //Get all errors\r\n        body.put(&quot;errorList&quot;, errorDetails);\r\n        return new ResponseEntity&lt;&gt;(body, headers, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want the same userId which i got in my request packet in my handleMethodArgumentNotValid method. Because I have to pass the same userId in response entity \r\n\r\n","title":"Java Spring | get Pojo class content in handleMethodArgumentNotValid method","body":"<p>I want request body's pojo class in handleMethodArgumentNotValid() at GlobalExceptionHandler class</p>\n<p>my controller is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class MainController {\n\n    @RequestMapping(value = &quot;/createUser&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponsePacket createUser(HttpServletRequest request, @Valid @RequestBody RequestPacket requestPacket) {\n        ResponsePacket resp = new ResponsePacket();\n        return resp;\n    }\n}\n</code></pre>\n<p>My request packet pojo class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RequestPacket {\n\n    @NotNull(message = &quot;userId is mandatory&quot;)\n    private String userId;\n\n    @NotNull(message = &quot;userName is mandatory&quot;)\n    @Pattern(regexp = &quot;^[a-zA-Z0-9 ]*&quot;, message = &quot;userName should not contain special characters&quot;)\n    private String userName;\n\n    @NotNull(message = &quot;address is mandatory&quot;)\n    private String address;\n    \n    \n    public String getUserId() {\n        return userId;\n    }\n\n    public void setgetUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName.trim();\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n}\n</code></pre>\n<p>my GlobalExceptionHandler class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    // error handle for @Valid\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n            HttpHeaders headers, HttpStatus status, WebRequest request) {\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n        body.put(&quot;status&quot;, &quot;failure&quot;);\n        body.put(&quot;userId&quot;, &quot;&quot;); // here i want the same userId which i got in my request packet\n        List&lt;String&gt; errorDetails = ex.getBindingResult().getFieldErrors().stream()\n                .map(x -&gt; x.getDefaultMessage()).collect(Collectors.toList()); //Get all errors\n        body.put(&quot;errorList&quot;, errorDetails);\n        return new ResponseEntity&lt;&gt;(body, headers, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I want the same userId which i got in my request packet in my handleMethodArgumentNotValid method. Because I have to pass the same userId in response entity</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","repository"],"owner":{"account_id":25953659,"reputation":1,"user_id":19671309,"display_name":"Mostafa M. Galal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702018413,"creation_date":1702009251,"question_id":77624326,"body_markdown":"I have MedicalNote referencing both Doctor and Patient ids and have a date attribute all of these constitute the primary key for MedicalNote. MedicalNote and both Doctor and Patient have one to many bidirectional relation. I want to make sure if this the right way to implement this in Hibernate.\r\n\r\nMedicalNote\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.sql.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;MedicalNote&quot;)\r\n@IdClass(MedicalNoteId.class)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MedicalNote {\r\n    @Column(name = &quot;Diagnosis&quot;)\r\n    private String diagnosis;\r\n\r\n    @Column(name = &quot;Investigations&quot;)\r\n    private String investigations;\r\n\r\n    @Column(name = &quot;Prescription&quot;)\r\n    private String prescription;\r\n\r\n    @Id\r\n    @Column(name = &quot;Date&quot;)\r\n    private Date date;\r\n\r\n    @Id\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    @JoinColumn(name = &quot;PatientId&quot;)\r\n    private Patient patient;\r\n\r\n    @Id\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    @JoinColumn(name = &quot;DoctorId&quot;)\r\n    private Doctor doctor;\r\n}\r\n```\r\n\r\nMedicalNoteId\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport lombok.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.sql.Date;\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MedicalNoteId implements Serializable {\r\n    private Patient patient;\r\n    private Doctor doctor;\r\n    private Date date;\r\n}\r\n```\r\n\r\nDoctor\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport org.hibernate.Hibernate;\r\nimport org.hibernate.proxy.HibernateProxy;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;Doctor&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Doctor {\r\n    @Id\r\n    @Column(name = &quot;UserId&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;Title&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private DoctorTitle title;\r\n\r\n    @Column(name = &quot;Specialty&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private DoctorSpecialty specialty;\r\n\r\n    @MapsId\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;UserId&quot;)\r\n    private SystemUser systemUser;\r\n\r\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @ToString.Exclude\r\n    private List&lt;MedicalNote&gt; medicalNotes;\r\n\r\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @ToString.Exclude\r\n    private List&lt;TimeSlot&gt; timeSlots;\r\n\r\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH})\r\n    @JoinTable(\r\n            name = &quot;WorksFor&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;DoctorId&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;ClinicId&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    private List&lt;Clinic&gt; clinics;\r\n\r\n    public void addMedicalNote (MedicalNote medicalNote) {\r\n        if (medicalNotes == null) {\r\n            medicalNotes = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        medicalNotes.add(medicalNote);\r\n        medicalNote.setDoctor(this);\r\n    }\r\n\r\n    void deleteMedicalNote (MedicalNote medicalNote) {\r\n        if (medicalNotes != null) {\r\n            medicalNotes.remove(medicalNote);\r\n            medicalNote.setDoctor(null);\r\n        }\r\n    }\r\n\r\n    public void addTimeSlot (TimeSlot timeSlot) {\r\n        if (timeSlots == null) {\r\n            timeSlots = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        timeSlots.add(timeSlot);\r\n        timeSlot.setDoctor(this);\r\n    }\r\n\r\n    void deleteTimeSlot (TimeSlot timeSlot) {\r\n        if (timeSlots != null) {\r\n            timeSlots.remove(timeSlot);\r\n            timeSlot.setDoctor(null);\r\n        }\r\n    }\r\n\r\n    public void addClinic (Clinic clinic) {\r\n        if (clinics == null) {\r\n            clinics = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        clinics.add(clinic);\r\n        clinic.getDoctors().add(this);\r\n    }\r\n\r\n    void deleteClinic (Clinic clinic) {\r\n        if (clinics != null) {\r\n            clinics.remove(clinic);\r\n            clinic.getDoctors().remove(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPatient\r\n```\r\npackage com.example.doctorkom.Entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport org.hibernate.Hibernate;\r\nimport org.hibernate.proxy.HibernateProxy;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;Patient&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Patient {\r\n    @Id\r\n    @Column(name = &quot;UserId&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;Occupation&quot;)\r\n    private String occupation;\r\n\r\n    @Column(name = &quot;MaritalStatus&quot;)\r\n    private String maritalStatus;\r\n\r\n    @Column(name = &quot;Insurance&quot;)\r\n    private String insurance;\r\n\r\n    @MapsId\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;UserId&quot;)\r\n    private SystemUser systemUser;\r\n\r\n    @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.ALL)\r\n    @ToString.Exclude\r\n    private List&lt;MedicalNote&gt; medicalNotes;\r\n\r\n    public void addMedicalNote (MedicalNote medicalNote) {\r\n        if (medicalNotes == null) {\r\n            medicalNotes = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        medicalNotes.add(medicalNote);\r\n        medicalNote.setPatient(this);\r\n    }\r\n}\r\n```\r\n\r\nThis way makes some trouble when testing with H2 like this one\r\n```\r\n@Test\r\n    void whenDeleteByDoctorId_thenDeleteMedicalNote() {\r\n        // Given\r\n        Account patientAccount = Account.builder().\r\n                email(&quot;johnsmith123@lol.com&quot;).\r\n                username(&quot;JohnSmith1&quot;).\r\n                password(&quot;JohnyJohny123&quot;).\r\n                role(Role.PATIENT).\r\n                build();\r\n\r\n        SystemUser patientSystemUser = SystemUser.builder().\r\n                firstName(&quot;John&quot;).\r\n                lastName(&quot;Smith&quot;).\r\n                birthdate(Date.valueOf(&quot;1985-11-14&quot;)).\r\n                gender(Gender.MALE).\r\n                address(&quot;221B Baker Street&quot;).\r\n                mobilePhone(&quot;(555) 555-5555&quot;).\r\n                landlinePhone(&quot;(555) 123-4567&quot;).\r\n                account(patientAccount).\r\n                build();\r\n\r\n        Patient patient = Patient.builder().\r\n                occupation(&quot;Engineer&quot;).\r\n                maritalStatus(&quot;Single&quot;).\r\n                insurance(&quot;BOBA&quot;).\r\n                systemUser(patientSystemUser).\r\n                build();\r\n\r\n        patientRepository.save(patient);\r\n\r\n        Account doctorAccount = Account.builder().\r\n                email(&quot;drsmith@hospital.com&quot;).\r\n                username(&quot;DrSmith1&quot;).\r\n                password(&quot;Medical123&quot;).\r\n                role(Role.DOCTOR).\r\n                build();\r\n\r\n        SystemUser doctorSystemUser = SystemUser.builder().\r\n                firstName(&quot;Smith&quot;).\r\n                lastName(&quot;Health&quot;).\r\n                birthdate(Date.valueOf(&quot;1976-10-30&quot;)).\r\n                gender(Gender.MALE).\r\n                address(&quot;123 Main Street&quot;).\r\n                mobilePhone(&quot;(666) 666-6666&quot;).\r\n                landlinePhone(&quot;(555) 765-4321&quot;).\r\n                account(doctorAccount).\r\n                build();\r\n\r\n        Doctor doctor = Doctor.builder().\r\n                title(DoctorTitle.PROFESSOR).\r\n                specialty(DoctorSpecialty.ONCOLOGIST).\r\n                systemUser(doctorSystemUser).\r\n                build();\r\n\r\n        doctorRepository.save(doctor);\r\n\r\n        MedicalNote medicalNote = MedicalNote.builder().\r\n                date(Date.valueOf(&quot;2023-04-01&quot;)).\r\n                patient(patient).\r\n                doctor(doctor).\r\n                build();\r\n\r\n        medicalNoteRepository.save(medicalNote);\r\n\r\n        patient.addMedicalNote(medicalNote);\r\n        doctor.addMedicalNote(medicalNote);\r\n\r\n        patientRepository.save(patient);\r\n        doctorRepository.save(doctor);\r\n\r\n        // When\r\n        medicalNoteRepository.deleteByDoctorId(doctor.getId());\r\n\r\n        // Then\r\n        assertTrue(medicalNoteRepository.findByDoctorId(doctor.getId()).isEmpty());\r\n    }\r\n```\r\n\r\nerror\r\n```\r\nHibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\r\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\r\nHibernate: insert into Patient (Insurance,MaritalStatus,Occupation,UserId) values (?,?,?,?)\r\nHibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\r\nHibernate: select m1_0.Date,m1_0.DoctorId,d1_0.UserId,d1_0.Specialty,s1_0.AccountId,a1_0.Id,a1_0.Email,a1_0.Enabled,a1_0.Password,a1_0.Role,a1_0.Username,s1_0.Address,s1_0.Birthdate,s1_0.FirstName,s1_0.Gender,s1_0.LandlinePhone,s1_0.LastName,s1_0.MobilePhone,d1_0.Title,c1_0.DoctorId,c1_1.ClinicId,c1_1.Address,a2_0.AccountId,a3_0.Id,a3_0.Email,a3_0.Enabled,a3_0.Password,a3_0.Role,a3_0.Username,c1_1.Email,c1_1.LandlinePhone,c1_1.MobilePhone,c1_1.Name,m1_0.PatientId,p1_0.UserId,p1_0.Insurance,p1_0.MaritalStatus,p1_0.Occupation,s2_0.AccountId,a4_0.Id,a4_0.Email,a4_0.Enabled,a4_0.Password,a4_0.Role,a4_0.Username,s2_0.Address,s2_0.Birthdate,s2_0.FirstName,s2_0.Gender,s2_0.LandlinePhone,s2_0.LastName,s2_0.MobilePhone,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 join Doctor d1_0 on d1_0.UserId=m1_0.DoctorId left join SystemUser s1_0 on s1_0.AccountId=d1_0.UserId left join Account a1_0 on a1_0.Id=s1_0.AccountId left join (WorksFor c1_0 join Clinic c1_1 on c1_1.ClinicId=c1_0.ClinicId) on d1_0.UserId=c1_0.DoctorId left join ClinicAdmin a2_0 on a2_0.AccountId=c1_1.ClinicId left join Account a3_0 on a3_0.Id=a2_0.AccountId join Patient p1_0 on p1_0.UserId=m1_0.PatientId left join SystemUser s2_0 on s2_0.AccountId=p1_0.UserId left join Account a4_0 on a4_0.Id=s2_0.AccountId where (m1_0.Date,m1_0.DoctorId,m1_0.PatientId) in ((?,?,?))\r\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\r\nHibernate: insert into Doctor (Specialty,Title,UserId) values (?,?,?)\r\nHibernate: insert into MedicalNote (Diagnosis,Investigations,Prescription,Date,DoctorId,PatientId) values (?,?,?,?,?,?)\r\nHibernate: select m1_0.Date,m1_0.DoctorId,m1_0.PatientId,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 where m1_0.DoctorId=?\r\nHibernate: select m1_0.Date,m1_0.DoctorId,m1_0.PatientId,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 where m1_0.DoctorId=?\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :true\r\nActual   :false\r\n```","title":"Composite primary key and foreign key at same time in JPA Hibernate","body":"<p>I have MedicalNote referencing both Doctor and Patient ids and have a date attribute all of these constitute the primary key for MedicalNote. MedicalNote and both Doctor and Patient have one to many bidirectional relation. I want to make sure if this the right way to implement this in Hibernate.</p>\n<p>MedicalNote</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\nimport java.sql.Date;\n\n@Entity\n@Table(name = &quot;MedicalNote&quot;)\n@IdClass(MedicalNoteId.class)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MedicalNote {\n    @Column(name = &quot;Diagnosis&quot;)\n    private String diagnosis;\n\n    @Column(name = &quot;Investigations&quot;)\n    private String investigations;\n\n    @Column(name = &quot;Prescription&quot;)\n    private String prescription;\n\n    @Id\n    @Column(name = &quot;Date&quot;)\n    private Date date;\n\n    @Id\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    @JoinColumn(name = &quot;PatientId&quot;)\n    private Patient patient;\n\n    @Id\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    @JoinColumn(name = &quot;DoctorId&quot;)\n    private Doctor doctor;\n}\n</code></pre>\n<p>MedicalNoteId</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport lombok.*;\n\nimport java.io.Serializable;\nimport java.sql.Date;\n\n@Getter\n@Setter\n@ToString\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MedicalNoteId implements Serializable {\n    private Patient patient;\n    private Doctor doctor;\n    private Date date;\n}\n</code></pre>\n<p>Doctor</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport org.hibernate.Hibernate;\nimport org.hibernate.proxy.HibernateProxy;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;Doctor&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Doctor {\n    @Id\n    @Column(name = &quot;UserId&quot;)\n    private Integer id;\n\n    @Column(name = &quot;Title&quot;)\n    @Enumerated(EnumType.STRING)\n    private DoctorTitle title;\n\n    @Column(name = &quot;Specialty&quot;)\n    @Enumerated(EnumType.STRING)\n    private DoctorSpecialty specialty;\n\n    @MapsId\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;UserId&quot;)\n    private SystemUser systemUser;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @ToString.Exclude\n    private List&lt;MedicalNote&gt; medicalNotes;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @ToString.Exclude\n    private List&lt;TimeSlot&gt; timeSlots;\n\n    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.DETACH, CascadeType.REFRESH})\n    @JoinTable(\n            name = &quot;WorksFor&quot;,\n            joinColumns = @JoinColumn(name = &quot;DoctorId&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;ClinicId&quot;)\n    )\n    @ToString.Exclude\n    private List&lt;Clinic&gt; clinics;\n\n    public void addMedicalNote (MedicalNote medicalNote) {\n        if (medicalNotes == null) {\n            medicalNotes = new ArrayList&lt;&gt;();\n        }\n\n        medicalNotes.add(medicalNote);\n        medicalNote.setDoctor(this);\n    }\n\n    void deleteMedicalNote (MedicalNote medicalNote) {\n        if (medicalNotes != null) {\n            medicalNotes.remove(medicalNote);\n            medicalNote.setDoctor(null);\n        }\n    }\n\n    public void addTimeSlot (TimeSlot timeSlot) {\n        if (timeSlots == null) {\n            timeSlots = new ArrayList&lt;&gt;();\n        }\n\n        timeSlots.add(timeSlot);\n        timeSlot.setDoctor(this);\n    }\n\n    void deleteTimeSlot (TimeSlot timeSlot) {\n        if (timeSlots != null) {\n            timeSlots.remove(timeSlot);\n            timeSlot.setDoctor(null);\n        }\n    }\n\n    public void addClinic (Clinic clinic) {\n        if (clinics == null) {\n            clinics = new ArrayList&lt;&gt;();\n        }\n\n        clinics.add(clinic);\n        clinic.getDoctors().add(this);\n    }\n\n    void deleteClinic (Clinic clinic) {\n        if (clinics != null) {\n            clinics.remove(clinic);\n            clinic.getDoctors().remove(this);\n        }\n    }\n}\n</code></pre>\n<p>Patient</p>\n<pre><code>package com.example.doctorkom.Entities;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport org.hibernate.Hibernate;\nimport org.hibernate.proxy.HibernateProxy;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;Patient&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Patient {\n    @Id\n    @Column(name = &quot;UserId&quot;)\n    private Integer id;\n\n    @Column(name = &quot;Occupation&quot;)\n    private String occupation;\n\n    @Column(name = &quot;MaritalStatus&quot;)\n    private String maritalStatus;\n\n    @Column(name = &quot;Insurance&quot;)\n    private String insurance;\n\n    @MapsId\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;UserId&quot;)\n    private SystemUser systemUser;\n\n    @OneToMany(mappedBy = &quot;patient&quot;, cascade = CascadeType.ALL)\n    @ToString.Exclude\n    private List&lt;MedicalNote&gt; medicalNotes;\n\n    public void addMedicalNote (MedicalNote medicalNote) {\n        if (medicalNotes == null) {\n            medicalNotes = new ArrayList&lt;&gt;();\n        }\n\n        medicalNotes.add(medicalNote);\n        medicalNote.setPatient(this);\n    }\n}\n</code></pre>\n<p>This way makes some trouble when testing with H2 like this one</p>\n<pre><code>@Test\n    void whenDeleteByDoctorId_thenDeleteMedicalNote() {\n        // Given\n        Account patientAccount = Account.builder().\n                email(&quot;johnsmith123@lol.com&quot;).\n                username(&quot;JohnSmith1&quot;).\n                password(&quot;JohnyJohny123&quot;).\n                role(Role.PATIENT).\n                build();\n\n        SystemUser patientSystemUser = SystemUser.builder().\n                firstName(&quot;John&quot;).\n                lastName(&quot;Smith&quot;).\n                birthdate(Date.valueOf(&quot;1985-11-14&quot;)).\n                gender(Gender.MALE).\n                address(&quot;221B Baker Street&quot;).\n                mobilePhone(&quot;(555) 555-5555&quot;).\n                landlinePhone(&quot;(555) 123-4567&quot;).\n                account(patientAccount).\n                build();\n\n        Patient patient = Patient.builder().\n                occupation(&quot;Engineer&quot;).\n                maritalStatus(&quot;Single&quot;).\n                insurance(&quot;BOBA&quot;).\n                systemUser(patientSystemUser).\n                build();\n\n        patientRepository.save(patient);\n\n        Account doctorAccount = Account.builder().\n                email(&quot;drsmith@hospital.com&quot;).\n                username(&quot;DrSmith1&quot;).\n                password(&quot;Medical123&quot;).\n                role(Role.DOCTOR).\n                build();\n\n        SystemUser doctorSystemUser = SystemUser.builder().\n                firstName(&quot;Smith&quot;).\n                lastName(&quot;Health&quot;).\n                birthdate(Date.valueOf(&quot;1976-10-30&quot;)).\n                gender(Gender.MALE).\n                address(&quot;123 Main Street&quot;).\n                mobilePhone(&quot;(666) 666-6666&quot;).\n                landlinePhone(&quot;(555) 765-4321&quot;).\n                account(doctorAccount).\n                build();\n\n        Doctor doctor = Doctor.builder().\n                title(DoctorTitle.PROFESSOR).\n                specialty(DoctorSpecialty.ONCOLOGIST).\n                systemUser(doctorSystemUser).\n                build();\n\n        doctorRepository.save(doctor);\n\n        MedicalNote medicalNote = MedicalNote.builder().\n                date(Date.valueOf(&quot;2023-04-01&quot;)).\n                patient(patient).\n                doctor(doctor).\n                build();\n\n        medicalNoteRepository.save(medicalNote);\n\n        patient.addMedicalNote(medicalNote);\n        doctor.addMedicalNote(medicalNote);\n\n        patientRepository.save(patient);\n        doctorRepository.save(doctor);\n\n        // When\n        medicalNoteRepository.deleteByDoctorId(doctor.getId());\n\n        // Then\n        assertTrue(medicalNoteRepository.findByDoctorId(doctor.getId()).isEmpty());\n    }\n</code></pre>\n<p>error</p>\n<pre><code>Hibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\nHibernate: insert into Patient (Insurance,MaritalStatus,Occupation,UserId) values (?,?,?,?)\nHibernate: insert into Account (Email,Enabled,Password,Role,Username,Id) values (?,?,?,?,?,default)\nHibernate: select m1_0.Date,m1_0.DoctorId,d1_0.UserId,d1_0.Specialty,s1_0.AccountId,a1_0.Id,a1_0.Email,a1_0.Enabled,a1_0.Password,a1_0.Role,a1_0.Username,s1_0.Address,s1_0.Birthdate,s1_0.FirstName,s1_0.Gender,s1_0.LandlinePhone,s1_0.LastName,s1_0.MobilePhone,d1_0.Title,c1_0.DoctorId,c1_1.ClinicId,c1_1.Address,a2_0.AccountId,a3_0.Id,a3_0.Email,a3_0.Enabled,a3_0.Password,a3_0.Role,a3_0.Username,c1_1.Email,c1_1.LandlinePhone,c1_1.MobilePhone,c1_1.Name,m1_0.PatientId,p1_0.UserId,p1_0.Insurance,p1_0.MaritalStatus,p1_0.Occupation,s2_0.AccountId,a4_0.Id,a4_0.Email,a4_0.Enabled,a4_0.Password,a4_0.Role,a4_0.Username,s2_0.Address,s2_0.Birthdate,s2_0.FirstName,s2_0.Gender,s2_0.LandlinePhone,s2_0.LastName,s2_0.MobilePhone,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 join Doctor d1_0 on d1_0.UserId=m1_0.DoctorId left join SystemUser s1_0 on s1_0.AccountId=d1_0.UserId left join Account a1_0 on a1_0.Id=s1_0.AccountId left join (WorksFor c1_0 join Clinic c1_1 on c1_1.ClinicId=c1_0.ClinicId) on d1_0.UserId=c1_0.DoctorId left join ClinicAdmin a2_0 on a2_0.AccountId=c1_1.ClinicId left join Account a3_0 on a3_0.Id=a2_0.AccountId join Patient p1_0 on p1_0.UserId=m1_0.PatientId left join SystemUser s2_0 on s2_0.AccountId=p1_0.UserId left join Account a4_0 on a4_0.Id=s2_0.AccountId where (m1_0.Date,m1_0.DoctorId,m1_0.PatientId) in ((?,?,?))\nHibernate: insert into SystemUser (Address,Birthdate,FirstName,Gender,LandlinePhone,LastName,MobilePhone,AccountId) values (?,?,?,?,?,?,?,?)\nHibernate: insert into Doctor (Specialty,Title,UserId) values (?,?,?)\nHibernate: insert into MedicalNote (Diagnosis,Investigations,Prescription,Date,DoctorId,PatientId) values (?,?,?,?,?,?)\nHibernate: select m1_0.Date,m1_0.DoctorId,m1_0.PatientId,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 where m1_0.DoctorId=?\nHibernate: select m1_0.Date,m1_0.DoctorId,m1_0.PatientId,m1_0.Diagnosis,m1_0.Investigations,m1_0.Prescription from MedicalNote m1_0 where m1_0.DoctorId=?\n\norg.opentest4j.AssertionFailedError: \nExpected :true\nActual   :false\n</code></pre>\n"},{"tags":["java","java-time","java.util.date","java.util.calendar","java.time.instant"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1702016990,"post_id":77624711,"comment_id":136848471,"body_markdown":"with 365 days in a year, there isnt really 49 weeks in a year?","body":"with 365 days in a year, there isnt really 49 weeks in a year?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1702017246,"post_id":77624711,"comment_id":136848501,"body_markdown":"Can you be more clear on what you are trying to do?","body":"Can you be more clear on what you are trying to do?"},{"owner":{"account_id":30095476,"reputation":3,"user_id":23063836,"display_name":"Rab Zhu"},"score":0,"creation_date":1702017498,"post_id":77624711,"comment_id":136848522,"body_markdown":"Yes, the point is that Monday of Week 49 should be 2023-12-04, not 2023-11-27 @experimentunit1998X","body":"Yes, the point is that Monday of Week 49 should be 2023-12-04, not 2023-11-27 @experimentunit1998X"},{"owner":{"account_id":30095476,"reputation":3,"user_id":23063836,"display_name":"Rab Zhu"},"score":0,"creation_date":1702017686,"post_id":77624711,"comment_id":136848539,"body_markdown":"You can try what is the return date of this code\n```java\nLocalDate.of(2023,1,1).with(WeekFields.of(Locale.ENGLISH).weekOfWeekBasedYear(), 1).with(DayOfWeek.MONDAY)\n```\nIt should return 2023-01-02, not 2022-12-26\n@experimentunit1998X","body":"You can try what is the return date of this code <code>java LocalDate.of(2023,1,1).with(WeekFields.of(Locale.ENGLISH).we&zwnj;&#8203;ekOfWeekBasedYear(), 1).with(DayOfWeek.MONDAY) </code> It should return 2023-01-02, not 2022-12-26 @experimentunit1998X"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1702017970,"post_id":77624711,"comment_id":136848565,"body_markdown":"`LocalDate.ofYearDay(2023, 1).plusWeeks(49).with(TemporalAdjusters.previous(DayOfWeek.MONDAY))` == `2023-12-14` (in `yyyy-MM-dd` format)","body":"<code>LocalDate.ofYearDay(2023, 1).plusWeeks(49).with(TemporalAdjusters.previous(DayOfWeek.M&zwnj;&#8203;ONDAY))</code> == <code>2023-12-14</code> (in <code>yyyy-MM-dd</code> format)"},{"owner":{"account_id":30095476,"reputation":3,"user_id":23063836,"display_name":"Rab Zhu"},"score":0,"creation_date":1702021302,"post_id":77624711,"comment_id":136848965,"body_markdown":"That&#39;s the answer I was looking for. Thank you. I may have been confused about the solution.","body":"That&#39;s the answer I was looking for. Thank you. I may have been confused about the solution."},{"owner":{"account_id":30095476,"reputation":3,"user_id":23063836,"display_name":"Rab Zhu"},"score":0,"creation_date":1702021491,"post_id":77624711,"comment_id":136848989,"body_markdown":"I think that&#39;s right, too\n```java\nLocalDate.of(2023, 1, 1).plusWeeks(49).with(DayOfWeek.MONDAY)\n```\nDo not use TemporalAdjuster.previous methods.\n@MadProgrammer","body":"I think that&#39;s right, too <code>java LocalDate.of(2023, 1, 1).plusWeeks(49).with(DayOfWeek.MONDAY) </code> Do not use TemporalAdjuster.previous methods. @MadProgrammer"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702037910,"post_id":77624711,"comment_id":136851562,"body_markdown":"be aware that week numbering depends on **location** (not [only] on language) - using `Locale.ENGLISH` is a bit strange here... different result expected when using `Locale.UK`","body":"be aware that week numbering depends on <b>location</b> (not [only] on language) - using <code>Locale.ENGLISH</code> is a bit strange here... different result expected when using <code>Locale.UK</code>"}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702018355,"creation_date":1702017927,"answer_id":77624784,"question_id":77624711,"body_markdown":"As per the documentation of weekOfWeekBasedYear:\r\n\r\n&gt; Week one(1) is the week starting on the getFirstDayOfWeek() where\r\n&gt; there are at least getMinimalDaysInFirstWeek() days in the year. If\r\n&gt; the first week starts after the start of the year then the period\r\n&gt; before is in the last week of the previous year. For example: - if the\r\n&gt; 1st day of the year is a Monday, week one starts on the 1st - if the\r\n&gt; 2nd day of the year is a Monday, week one starts on the 2nd and the\r\n&gt; 1st is in the last week of the previous year\r\n\r\nIf you put the year as LocalDate.of(2023,1,1) it counts it as the last week of last year since the first day of this year is a sunday (not monday)","title":"Enter the year and the number of weeks, return the corresponding Monday start time,","body":"<p>As per the documentation of weekOfWeekBasedYear:</p>\n<blockquote>\n<p>Week one(1) is the week starting on the getFirstDayOfWeek() where\nthere are at least getMinimalDaysInFirstWeek() days in the year. If\nthe first week starts after the start of the year then the period\nbefore is in the last week of the previous year. For example: - if the\n1st day of the year is a Monday, week one starts on the 1st - if the\n2nd day of the year is a Monday, week one starts on the 2nd and the\n1st is in the last week of the previous year</p>\n</blockquote>\n<p>If you put the year as LocalDate.of(2023,1,1) it counts it as the last week of last year since the first day of this year is a sunday (not monday)</p>\n"}],"owner":{"account_id":30095476,"reputation":3,"user_id":23063836,"display_name":"Rab Zhu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77624784,"answer_count":1,"score":-2,"last_activity_date":1702018355,"creation_date":1702016840,"question_id":77624711,"body_markdown":"The code looks like this:\r\n\r\n```java\r\nLocalDate.of(year,1,1).with(WeekFields.of(Locale.ENGLISH).weekOfWeekBasedYear(),weekNumber).with(DayOfWeek.MONDAY)\r\n```\r\n\r\nBut when I count 49 weeks for this year, which is 2023, time always returns to 2023-11-27, and I actually think it should return 2023-12-04.\r\n\r\nI was very confused and therefore I did a lot of tests\r\n\r\nFinally, I let the program output the first week of the year, \r\n\r\n\r\nWhen I use LocalDate.of(2023, 1, 1), the output is 2022-12-26\r\nBut When I use LocalDate.of(2023, 1, 2), the output is 2023-12-04\r\n\r\nI began to understand the design. For this reason, I had to use java.util.Calendar for this function\r\n\r\nMy question is is there a better way to solve this problem?","title":"Enter the year and the number of weeks, return the corresponding Monday start time,","body":"<p>The code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate.of(year,1,1).with(WeekFields.of(Locale.ENGLISH).weekOfWeekBasedYear(),weekNumber).with(DayOfWeek.MONDAY)\n</code></pre>\n<p>But when I count 49 weeks for this year, which is 2023, time always returns to 2023-11-27, and I actually think it should return 2023-12-04.</p>\n<p>I was very confused and therefore I did a lot of tests</p>\n<p>Finally, I let the program output the first week of the year,</p>\n<p>When I use LocalDate.of(2023, 1, 1), the output is 2022-12-26\nBut When I use LocalDate.of(2023, 1, 2), the output is 2023-12-04</p>\n<p>I began to understand the design. For this reason, I had to use java.util.Calendar for this function</p>\n<p>My question is is there a better way to solve this problem?</p>\n"},{"tags":["java","google-cloud-platform","google-app-engine","google-cloud-sql","mysql-connector"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1702021928,"post_id":77624769,"comment_id":136849037,"body_markdown":"The reason is the your app does not find the &quot;com.mysql.jdbc.GoogleDriver&quot; dependency. Please check if your dependencies do inherit this dependency.","body":"The reason is the your app does not find the &quot;com.mysql.jdbc.GoogleDriver&quot; dependency. Please check if your dependencies do inherit this dependency."},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1702033051,"post_id":77624769,"comment_id":136850810,"body_markdown":"Migrating from Java8 to Java 11+ requires configuring additional yaml files depending on the features your application is using. I would like to point out the [documentation](https://cloud.google.com/appengine/migration-center/standard/migrate-to-second-gen/java-differences#understanding_your_migration_options) that goes into detail about migrating from Java8 to Java11+. It would also require the installation of the App Engine API JAR as per [this](https://cloud.google.com/appengine/docs/standard/java-gen2/services/access#installing).","body":"Migrating from Java8 to Java 11+ requires configuring additional yaml files depending on the features your application is using. I would like to point out the <a href=\"https://cloud.google.com/appengine/migration-center/standard/migrate-to-second-gen/java-differences#understanding_your_migration_options\" rel=\"nofollow noreferrer\">documentation</a> that goes into detail about migrating from Java8 to Java11+. It would also require the installation of the App Engine API JAR as per <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/services/access#installing\" rel=\"nofollow noreferrer\">this</a>."}],"owner":{"account_id":13724825,"reputation":41,"user_id":9903878,"display_name":"Vijay Chaudhari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702017738,"creation_date":1702017738,"question_id":77624769,"body_markdown":"We have just migrated to java 11 from java 8 for our appengine application. While deploying the application to appengine we are getting the following exception.\r\n\r\n```\r\nInitial SessionFactory creation failed.Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\norg.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:178)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:709)\r\n\tat com.codpayment.util.HibernateUtil.intiateWmsSessionFactory(HibernateUtil.java:138)\r\n\tat com.codpayment.util.HibernateUtil.initSessionFactory(HibernateUtil.java:44)\r\n\tat com.codpayment.servletlistener.HibernateContextListener.contextInitialized(HibernateContextListener.java:12)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1073)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:572)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:1002)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:765)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n\tat com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n\tat com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat com.google.apphosting.runtime.jetty9.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:206)\r\n\tat com.google.apphosting.runtime.jetty9.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:124)\r\n\tat com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\r\n\tat com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227)\r\n\tat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.mysql.jdbc.GoogleDriver]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:133)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.loadDriverIfPossible(DriverManagerConnectionProviderImpl.java:149)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator(DriverManagerConnectionProviderImpl.java:105)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:89)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\t... 37 more\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : com.mysql.jdbc.GoogleDriver\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130)\r\n```\r\n\r\nMysql driver and hibernate versions are as follows.\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n```\r\n\r\nI also have added the `&lt;use-google-connector-j&gt;true&lt;/use-google-connector-j&gt;` in the appengine-web.xml file.\r\n\r\nWith this config everything was working fine on java 8.\r\n\r\nCan anyone help me in this?\r\n\r\nI&#39;m expecting someone to help me in this.","title":"Unable to load class [com.mysql.jdbc.GoogleDriver]","body":"<p>We have just migrated to java 11 from java 8 for our appengine application. While deploying the application to appengine we are getting the following exception.</p>\n<pre><code>Initial SessionFactory creation failed.Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\norg.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:178)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:709)\n    at com.codpayment.util.HibernateUtil.intiateWmsSessionFactory(HibernateUtil.java:138)\n    at com.codpayment.util.HibernateUtil.initSessionFactory(HibernateUtil.java:44)\n    at com.codpayment.servletlistener.HibernateContextListener.contextInitialized(HibernateContextListener.java:12)\n    at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1073)\n    at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:572)\n    at org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:1002)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:765)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:206)\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:124)\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262)\n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227)\n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.mysql.jdbc.GoogleDriver]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:133)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.loadDriverIfPossible(DriverManagerConnectionProviderImpl.java:149)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator(DriverManagerConnectionProviderImpl.java:105)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:89)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 37 more\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : com.mysql.jdbc.GoogleDriver\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130)\n</code></pre>\n<p>Mysql driver and hibernate versions are as follows.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.0.Final&lt;/version&gt;\n        &lt;/dependency&gt; \n</code></pre>\n<p>I also have added the <code>&lt;use-google-connector-j&gt;true&lt;/use-google-connector-j&gt;</code> in the appengine-web.xml file.</p>\n<p>With this config everything was working fine on java 8.</p>\n<p>Can anyone help me in this?</p>\n<p>I'm expecting someone to help me in this.</p>\n"},{"tags":["java","spring","jpa","java-8","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5180779,"reputation":581,"user_id":4146565,"display_name":"Vitor Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550587025,"creation_date":1550587025,"answer_id":54768728,"question_id":54768276,"body_markdown":"You cannot map MonetaryAmount directly.\r\n\r\nYou can try mapping it to BigDecimal, then in your code perform a conversion, or you can try implementing a Hibernate custom type (try searching for `@Type`, or using JPA conversion (if JPA is 2.1 or above). This [answer][1] has some nice links on the subject.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24194996/4146565","title":"How to properly map MonetaryAmount using Hibernate?","body":"<p>You cannot map MonetaryAmount directly.</p>\n\n<p>You can try mapping it to BigDecimal, then in your code perform a conversion, or you can try implementing a Hibernate custom type (try searching for <code>@Type</code>, or using JPA conversion (if JPA is 2.1 or above). This <a href=\"https://stackoverflow.com/a/24194996/4146565\">answer</a> has some nice links on the subject.</p>\n"},{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1550642564,"creation_date":1550642564,"answer_id":54779779,"question_id":54768276,"body_markdown":"You can use jpa&#39;2 `@Convert` annotation:\r\n\r\n    @Convert(converter = MonetaryAmountConverter.class)\r\n    private MonetaryAmount monetaryAmount;\r\n\r\nAnd then implement it like this:\r\n\r\n    @Converter\r\n    public class MonetaryAmountConverter implements AttributeConverter&lt;MonetaryAmount, BigDecimal&gt; {\r\n    \r\n        @Override\r\n        public BigDecimal convertToDatabaseColumn(MonetaryAmount attribute) {...}\r\n    \r\n        @Override\r\n        public MonetaryAmount convertToEntityAttribute(BigDecimal dbData) {...}\r\n    }","title":"How to properly map MonetaryAmount using Hibernate?","body":"<p>You can use jpa'2 <code>@Convert</code> annotation:</p>\n\n<pre><code>@Convert(converter = MonetaryAmountConverter.class)\nprivate MonetaryAmount monetaryAmount;\n</code></pre>\n\n<p>And then implement it like this:</p>\n\n<pre><code>@Converter\npublic class MonetaryAmountConverter implements AttributeConverter&lt;MonetaryAmount, BigDecimal&gt; {\n\n    @Override\n    public BigDecimal convertToDatabaseColumn(MonetaryAmount attribute) {...}\n\n    @Override\n    public MonetaryAmount convertToEntityAttribute(BigDecimal dbData) {...}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3044540,"reputation":877,"user_id":2580580,"accept_rate":67,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702017246,"creation_date":1702017246,"answer_id":77624745,"question_id":54768276,"body_markdown":"If you need to store the currency as well, then you should use Vlad Mihalceas https://github.com/vladmihalcea/hypersistence-utils:\r\n\r\n    @CompositeType(MonetaryAmountType.class)\r\n    private MonetaryAmount amount;\r\n\r\nthe database should hold both an amount and a currency:\r\n\r\n    &lt;column name=&quot;amount&quot; type=&quot;decimal(19,4)&quot;/&gt;\r\n    &lt;column name=&quot;currency&quot; type=&quot;char(3)&quot;/&gt;\r\n\r\nIf you need different names (e.g. when you have several amounts in your table), then go for @AttributeOverride:\r\n\r\n    @AttributeOverride(name = &quot;amount&quot;, column = @Column(name = &quot;amount_in_question&quot;))\r\n    @AttributeOverride(name = &quot;currency&quot;, column = @Column(name = &quot;amount_in_question_currency&quot;))\r\n    @CompositeType(MonetaryAmountType.class)\r\n    private MonetaryAmount amountInQuestion;","title":"How to properly map MonetaryAmount using Hibernate?","body":"<p>If you need to store the currency as well, then you should use Vlad Mihalceas <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils</a>:</p>\n<pre><code>@CompositeType(MonetaryAmountType.class)\nprivate MonetaryAmount amount;\n</code></pre>\n<p>the database should hold both an amount and a currency:</p>\n<pre><code>&lt;column name=&quot;amount&quot; type=&quot;decimal(19,4)&quot;/&gt;\n&lt;column name=&quot;currency&quot; type=&quot;char(3)&quot;/&gt;\n</code></pre>\n<p>If you need different names (e.g. when you have several amounts in your table), then go for @AttributeOverride:</p>\n<pre><code>@AttributeOverride(name = &quot;amount&quot;, column = @Column(name = &quot;amount_in_question&quot;))\n@AttributeOverride(name = &quot;currency&quot;, column = @Column(name = &quot;amount_in_question_currency&quot;))\n@CompositeType(MonetaryAmountType.class)\nprivate MonetaryAmount amountInQuestion;\n</code></pre>\n"}],"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1934,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54779779,"answer_count":3,"score":3,"last_activity_date":1702017246,"creation_date":1550585564,"question_id":54768276,"body_markdown":"When I am trying to map my custom Expenditure object to relational model in MySQL, I got error:\r\n```\r\nInitial SessionFactory creation failed.org.hibernate.MappingException: Could not determine type for: javax.money.MonetaryAmount, at table: Expenditure, for columns: [org.hibernate.mapping.Column(monetaryAmount)]\r\n```\r\nMy Expenditure class:\r\n```\r\n@Entity\r\npublic class Expenditure implements Comparable&lt;Expenditure&gt; {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id;\r\n\r\n\tprivate String description;\r\n\r\n\tprivate MonetaryAmount monetaryAmount;\r\n\r\n\tprivate LocalDate date;\r\n\r\n\tprivate ExpenditureType type;\r\n\r\n\t@OneToOne\r\n\tprivate User client;\r\n...\r\n}\r\n```\r\nHow can I perform mapping in this scenario?\r\n\r\n","title":"How to properly map MonetaryAmount using Hibernate?","body":"<p>When I am trying to map my custom Expenditure object to relational model in MySQL, I got error:</p>\n\n<pre><code>Initial SessionFactory creation failed.org.hibernate.MappingException: Could not determine type for: javax.money.MonetaryAmount, at table: Expenditure, for columns: [org.hibernate.mapping.Column(monetaryAmount)]\n</code></pre>\n\n<p>My Expenditure class:</p>\n\n<pre><code>@Entity\npublic class Expenditure implements Comparable&lt;Expenditure&gt; {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String description;\n\n    private MonetaryAmount monetaryAmount;\n\n    private LocalDate date;\n\n    private ExpenditureType type;\n\n    @OneToOne\n    private User client;\n...\n}\n</code></pre>\n\n<p>How can I perform mapping in this scenario?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1693231034,"post_id":76993442,"comment_id":135729210,"body_markdown":"Deprecation generally does not mean that the method stops working, just that you switch to their replacement (generally documented in the javadoc), because they might be removed in the future.","body":"Deprecation generally does not mean that the method stops working, just that you switch to their replacement (generally documented in the javadoc), because they might be removed in the future."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693231470,"creation_date":1693231470,"answer_id":76993526,"question_id":76993442,"body_markdown":"The implementation of `filterChain` will have next one body, but for more details and more information why so. you must have a look to [Migration Guide][1] it is about **Configuration** steps also about overall changes you can find out here [Servlet Migration][2]\r\n \r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.requiresChannel(c -&gt; c.requestMatchers(&quot;/actuator/**&quot;).requiresInsecure());\r\n        http.authorizeHttpRequests(request -&gt; {\r\n                  request.requestMatchers(\r\n                  &quot;/api/v*/registration/**&quot;,\r\n                  &quot;/register*&quot;,\r\n                  &quot;/login&quot;,\r\n                  &quot;/actuator/**&quot;).permitAll();\r\n                  request.anyRequest().authenticated();\r\n            });\r\n        http.formLogin(fL -&gt; fL.loginPage(&quot;/login&quot;)\r\n                .usernameParameter(&quot;email&quot;).permitAll()\r\n                .defaultSuccessUrl(&quot;/&quot;, true)\r\n                .failureUrl(&quot;/login-error&quot;));\r\n        http.logout(logOut -&gt; logOut.logoutUrl(&quot;/logout&quot;)\r\n                .clearAuthentication(true)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                .logoutSuccessUrl(&quot;/login&quot;))\r\n    \r\n        return http.build();\r\n      }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\r\n  [2]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/index.html","title":"Deprecated .csrf() and .requiresChannel() methods after Spring Boot v3 migration","body":"<p>The implementation of <code>filterChain</code> will have next one body, but for more details and more information why so. you must have a look to <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Migration Guide</a> it is about <strong>Configuration</strong> steps also about overall changes you can find out here <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/index.html\" rel=\"nofollow noreferrer\">Servlet Migration</a></p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable);\n    http.requiresChannel(c -&gt; c.requestMatchers(&quot;/actuator/**&quot;).requiresInsecure());\n    http.authorizeHttpRequests(request -&gt; {\n              request.requestMatchers(\n              &quot;/api/v*/registration/**&quot;,\n              &quot;/register*&quot;,\n              &quot;/login&quot;,\n              &quot;/actuator/**&quot;).permitAll();\n              request.anyRequest().authenticated();\n        });\n    http.formLogin(fL -&gt; fL.loginPage(&quot;/login&quot;)\n            .usernameParameter(&quot;email&quot;).permitAll()\n            .defaultSuccessUrl(&quot;/&quot;, true)\n            .failureUrl(&quot;/login-error&quot;));\n    http.logout(logOut -&gt; logOut.logoutUrl(&quot;/logout&quot;)\n            .clearAuthentication(true)\n            .invalidateHttpSession(true)\n            .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n            .logoutSuccessUrl(&quot;/login&quot;))\n\n    return http.build();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693231565,"creation_date":1693231565,"answer_id":76993534,"question_id":76993442,"body_markdown":"The `HttpSecurity` methods have been changed to take Customizers which can be implemented as lambdas. I had to deal with this with `csrf()` and the equivalent code is:\r\n\r\n    .csrf(csrf -&gt; csrf.disable())\r\n\r\nI have not had to do it with `requiresChannel()` but I believe the equivalent code would be:\r\n\r\n    .requiresChannel(req -&gt; req.requestMatchers(&quot;/actuator/**&quot;).requiresInsecure())\r\n\r\nYou will need to make similar changes to the other calls on `http`.","title":"Deprecated .csrf() and .requiresChannel() methods after Spring Boot v3 migration","body":"<p>The <code>HttpSecurity</code> methods have been changed to take Customizers which can be implemented as lambdas. I had to deal with this with <code>csrf()</code> and the equivalent code is:</p>\n<pre><code>.csrf(csrf -&gt; csrf.disable())\n</code></pre>\n<p>I have not had to do it with <code>requiresChannel()</code> but I believe the equivalent code would be:</p>\n<pre><code>.requiresChannel(req -&gt; req.requestMatchers(&quot;/actuator/**&quot;).requiresInsecure())\n</code></pre>\n<p>You will need to make similar changes to the other calls on <code>http</code>.</p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693231732,"creation_date":1693231732,"answer_id":76993563,"question_id":76993442,"body_markdown":"For `.csrf()` you can use:\r\n```java\r\n.csrf((csrf) -&gt; csrf.disable());\r\n```\r\n\r\n[Documentation Here][1]\r\n\r\nAnd for `requiresChannel()` you can use:\r\n```java\r\n.requiresChannel(req -&gt; req.requestMatchers(&quot;/actuator/**&quot;).requiresInsecure())\r\n```\r\n\r\n[Documentation Here][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#csrf()\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#requiresChannel()","title":"Deprecated .csrf() and .requiresChannel() methods after Spring Boot v3 migration","body":"<p>For <code>.csrf()</code> you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.csrf((csrf) -&gt; csrf.disable());\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#csrf()\" rel=\"nofollow noreferrer\">Documentation Here</a></p>\n<p>And for <code>requiresChannel()</code> you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.requiresChannel(req -&gt; req.requestMatchers(&quot;/actuator/**&quot;).requiresInsecure())\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#requiresChannel()\" rel=\"nofollow noreferrer\">Documentation Here</a></p>\n"},{"tags":[],"owner":{"account_id":30078283,"reputation":1,"user_id":23050520,"display_name":"Allen Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702017005,"creation_date":1701846315,"answer_id":77611125,"question_id":76993442,"body_markdown":"For `.csrf()` you also can use this method call:\r\n\r\n       http.csrf(ServerHttpSecurity.CsrfSpec::disable);","title":"Deprecated .csrf() and .requiresChannel() methods after Spring Boot v3 migration","body":"<p>For <code>.csrf()</code> you also can use this method call:</p>\n<pre><code>   http.csrf(ServerHttpSecurity.CsrfSpec::disable);\n</code></pre>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76993526,"answer_count":4,"score":2,"last_activity_date":1702017005,"creation_date":1693230837,"question_id":76993442,"body_markdown":"I tried to migrate an older project to the newest version of Spring Boot a.k.a 3.1.2, as we speak. However, the .csrf() and .requiresChannel() methods of the below piece of code no longer work because of deprecations.\r\n\r\nI can&#39;t find the methods that have replaced them. Can you help?\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    public ApplicationSecurityConfig(\r\n            ApplicationUserService applicationUserService,\r\n            BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n        this.applicationUserService = applicationUserService;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    }\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/actuator/**&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(\r\n                            &quot;/api/v*/registration/**&quot;,\r\n                            &quot;/register*&quot;,\r\n                            &quot;/login&quot;,\r\n                            &quot;/actuator/**&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                    .failureUrl(&quot;/login-error&quot;)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```","title":"Deprecated .csrf() and .requiresChannel() methods after Spring Boot v3 migration","body":"<p>I tried to migrate an older project to the newest version of Spring Boot a.k.a 3.1.2, as we speak. However, the .csrf() and .requiresChannel() methods of the below piece of code no longer work because of deprecations.</p>\n<p>I can't find the methods that have replaced them. Can you help?</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public ApplicationSecurityConfig(\n            ApplicationUserService applicationUserService,\n            BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.applicationUserService = applicationUserService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/actuator/**&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(\n                            &quot;/api/v*/registration/**&quot;,\n                            &quot;/register*&quot;,\n                            &quot;/login&quot;,\n                            &quot;/actuator/**&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                    .failureUrl(&quot;/login-error&quot;)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9853,"page":6,"page_size":100}
