{"items":[{"tags":["java","spring","spring-boot","unit-testing","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678957830,"post_id":75753990,"comment_id":133634525,"body_markdown":"There are coverage tools which you can run with your unit tests/CI and will tell you when newly added code is not 100% covered by your tests.","body":"There are coverage tools which you can run with your unit tests/CI and will tell you when newly added code is not 100% covered by your tests."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678958500,"post_id":75753990,"comment_id":133634707,"body_markdown":"But here you are testing whether your container has instantiated all the components you expect, which is not going to be verified by unit tests. I&#39;d suggest that you should add a functional test which relies on that component existing to pass.","body":"But here you are testing whether your container has instantiated all the components you expect, which is not going to be verified by unit tests. I&#39;d suggest that you should add a functional test which relies on that component existing to pass."},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1678967445,"post_id":75753990,"comment_id":133637352,"body_markdown":"You could write test using `archunit` or smt similar enforcing that classes implementing interface have `@Component` annotation","body":"You could write test using <code>archunit</code> or smt similar enforcing that classes implementing interface have <code>@Component</code> annotation"}],"owner":{"account_id":7318231,"reputation":127,"user_id":5575051,"display_name":"Makruzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957506,"creation_date":1678957506,"question_id":75753990,"body_markdown":"I have a question related to testing of dependency injection in a spring boot application.\r\nI have an interface like\r\n\r\n```\r\nInterface I {void doSomething()}\r\n@Component\r\nclass I1 {void someSomething(){//som impl}}\r\n@Component\r\nclass I2 {void someSomething(){//som impl}}\r\n@Component\r\nclass I2 {void someSomething(){//som impl}}\r\n\r\n@Service\r\nclass SomeService {\r\n@Autowired\r\nprivate List&lt;I&gt; rules;\r\n\r\nvoid someMethod() {\r\nrules.forEach(//do something);\r\n  }\r\n}\r\n\r\n```\r\nI want to write a Unit test for service class and want to see what all implementations of `Interface I` that have run. Is there a way of knowing this ? The reason is once a developer forgot to annotate an implementation of `Interface I` as a spring component and the implementation never ran as it was not injected. So can we verify this somehow in tests that what all implementations have run. How can we write such test?","title":"How to test all implementations of an interface have executed?","body":"<p>I have a question related to testing of dependency injection in a spring boot application.\nI have an interface like</p>\n<pre><code>Interface I {void doSomething()}\n@Component\nclass I1 {void someSomething(){//som impl}}\n@Component\nclass I2 {void someSomething(){//som impl}}\n@Component\nclass I2 {void someSomething(){//som impl}}\n\n@Service\nclass SomeService {\n@Autowired\nprivate List&lt;I&gt; rules;\n\nvoid someMethod() {\nrules.forEach(//do something);\n  }\n}\n\n</code></pre>\n<p>I want to write a Unit test for service class and want to see what all implementations of <code>Interface I</code> that have run. Is there a way of knowing this ? The reason is once a developer forgot to annotate an implementation of <code>Interface I</code> as a spring component and the implementation never ran as it was not injected. So can we verify this somehow in tests that what all implementations have run. How can we write such test?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1548656088,"post_id":54396403,"comment_id":95603880,"body_markdown":"Can you share the (simplified) `pom.xml` of module `D`? does it depend on module `C`?","body":"Can you share the (simplified) <code>pom.xml</code> of module <code>D</code>? does it depend on module <code>C</code>?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1548656110,"post_id":54396403,"comment_id":95603887,"body_markdown":"Seems `C` depends on `D`. But you&#39;re building `C` before `D`. You should probably change this order.","body":"Seems <code>C</code> depends on <code>D</code>. But you&#39;re building <code>C</code> before <code>D</code>. You should probably change this order."},{"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"score":0,"creation_date":1548657039,"post_id":54396403,"comment_id":95604176,"body_markdown":"@Mureinik the pom.xml for module D contains dependencies from the sibling modules which are in module B, nothing from module C. I tried changing the build order of A and B in the parent pom.xml and the compilation error is still present.","body":"@Mureinik the pom.xml for module D contains dependencies from the sibling modules which are in module B, nothing from module C. I tried changing the build order of A and B in the parent pom.xml and the compilation error is still present."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1548701624,"post_id":54396403,"comment_id":95627759,"body_markdown":"Never rely on build order. Define an explicit dependency as Mureinik already showed.","body":"Never rely on build order. Define an explicit dependency as Mureinik already showed."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548657245,"creation_date":1548657245,"answer_id":54396638,"question_id":54396403,"body_markdown":"Don&#39;t rely on the build order. If a class in module `D` needs to use a class from module `C`, you should explicitly depend on it:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xyz&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A.C&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    ","title":"Maven compilation error when importing from a nested sibling module","body":"<p>Don't rely on the build order. If a class in module <code>D</code> needs to use a class from module <code>C</code>, you should explicitly depend on it:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.xyz&lt;/groupId&gt;\n        &lt;artifactId&gt;A.C&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678957472,"creation_date":1548655871,"question_id":54396403,"body_markdown":"I am working with a multi-module Maven project and trying to import a dependent class from a module nested in one child of a parent\r\nto a module nested in its sibling. Here is a simplified hierarchy of the project:\r\n\r\n    pom.xml (parent)\r\n     |--A\r\n        |--pom.xml\r\n        |--C\r\n           |--pom.xml\r\n           |--src\r\n     |--B\r\n        |--pom.xml\r\n        |--D\r\n           |--pom.xml\r\n           |--src\r\n\r\nHere&#39;s a class within the C module:\r\n\r\n**Dummy.java**\r\n\r\n    package com.xyz.A.C;\r\n\r\n    import com.xyz.B.D.DummyDependency;\r\n\r\n    public class Dummy {\r\n       public static int callDependency(int num) {\r\n           return dummyDependency.absoluteVal(num);\r\n       }\r\n    }\r\n\r\nHere&#39;s a class within the D module:\r\n\r\n**DummyDependency.java**\r\n\r\n    package com.xyz.B.D;\r\n\r\n    public class DummyDependency {\r\n        /**\r\n         * Return the absolute value of a number.\r\n         * @param num an integer\r\n         */\r\n         public static int absoluteVal(int num) {\r\n             if (num &gt; 0) {\r\n                return num;\r\n             } else {\r\n                return -num;\r\n             }\r\n         }\r\n     }\r\n\r\nWhen I run `mvn clean install` I get a compilation error that resembles the following:[![enter image description here][1]][1]\r\n\r\nHow do I get access to the module nested in the sibling of the child module without the compilation error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1W1HK.gif","title":"Maven compilation error when importing from a nested sibling module","body":"<p>I am working with a multi-module Maven project and trying to import a dependent class from a module nested in one child of a parent\nto a module nested in its sibling. Here is a simplified hierarchy of the project:</p>\n<pre><code>pom.xml (parent)\n |--A\n    |--pom.xml\n    |--C\n       |--pom.xml\n       |--src\n |--B\n    |--pom.xml\n    |--D\n       |--pom.xml\n       |--src\n</code></pre>\n<p>Here's a class within the C module:</p>\n<p><strong>Dummy.java</strong></p>\n<pre><code>package com.xyz.A.C;\n\nimport com.xyz.B.D.DummyDependency;\n\npublic class Dummy {\n   public static int callDependency(int num) {\n       return dummyDependency.absoluteVal(num);\n   }\n}\n</code></pre>\n<p>Here's a class within the D module:</p>\n<p><strong>DummyDependency.java</strong></p>\n<pre><code>package com.xyz.B.D;\n\npublic class DummyDependency {\n    /**\n     * Return the absolute value of a number.\n     * @param num an integer\n     */\n     public static int absoluteVal(int num) {\n         if (num &gt; 0) {\n            return num;\n         } else {\n            return -num;\n         }\n     }\n }\n</code></pre>\n<p>When I run <code>mvn clean install</code> I get a compilation error that resembles the following:<a href=\"https://i.stack.imgur.com/1W1HK.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1W1HK.gif\" alt=\"enter image description here\" /></a></p>\n<p>How do I get access to the module nested in the sibling of the child module without the compilation error?</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1678956938,"post_id":75753722,"comment_id":133634279,"body_markdown":"You can use `any()` for one argument and other matchers (such as [`eq`](https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T))) for the other arguments.","body":"You can use <code>any()</code> for one argument and other matchers (such as <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T)\" rel=\"nofollow noreferrer\"><code>eq</code></a>) for the other arguments."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678957413,"creation_date":1678956975,"answer_id":75753891,"question_id":75753722,"body_markdown":"You can use any method from `ArgumentMatchers`:\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.ArgumentMatchers;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\nimport java.util.Date;\r\n\r\nimport static org.mockito.Mockito.verify;\r\n\r\nclass A {\r\n    private final B b;\r\n\r\n    A(B b) {\r\n        this.b = b;\r\n    }\r\n\r\n    void aMethod(int x) {\r\n        b.bMethod(x, new Date());\r\n    }\r\n}\r\n\r\nclass B {\r\n    void bMethod(int x, Date d) {}\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyTest {\r\n    @InjectMocks\r\n    private A a;\r\n    @Mock\r\n    private B b;\r\n\r\n    @Test\r\n    public void aTest() {\r\n        a.aMethod(5);\r\n        verify(b).bMethod(ArgumentMatchers.eq(5), ArgumentMatchers.any(Date.class));\r\n    }\r\n}\r\n```\r\n\r\nAs an aside: Have a class which calls `new Date()` in the midst of other code is a smell. How will you test date dependant code with a range of dates?\r\n\r\nYou should create a simple `DateProvider`, which you can mock, i.e.:\r\n```\r\n@Component // assuming Spring DI\r\nclass DateProvider {\r\n    Date getDate() {\r\n        return new Date();\r\n    }\r\n}\r\n```\r\nYour tests mock this class and return whatever date you like.","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>You can use any method from <code>ArgumentMatchers</code>:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentMatchers;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Date;\n\nimport static org.mockito.Mockito.verify;\n\nclass A {\n    private final B b;\n\n    A(B b) {\n        this.b = b;\n    }\n\n    void aMethod(int x) {\n        b.bMethod(x, new Date());\n    }\n}\n\nclass B {\n    void bMethod(int x, Date d) {}\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class MyTest {\n    @InjectMocks\n    private A a;\n    @Mock\n    private B b;\n\n    @Test\n    public void aTest() {\n        a.aMethod(5);\n        verify(b).bMethod(ArgumentMatchers.eq(5), ArgumentMatchers.any(Date.class));\n    }\n}\n</code></pre>\n<p>As an aside: Have a class which calls <code>new Date()</code> in the midst of other code is a smell. How will you test date dependant code with a range of dates?</p>\n<p>You should create a simple <code>DateProvider</code>, which you can mock, i.e.:</p>\n<pre><code>@Component // assuming Spring DI\nclass DateProvider {\n    Date getDate() {\n        return new Date();\n    }\n}\n</code></pre>\n<p>Your tests mock this class and return whatever date you like.</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678957026,"creation_date":1678957026,"answer_id":75753903,"question_id":75753722,"body_markdown":"You can use `any()` for one argument and other matchers (such as [`eq`](https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T))) for the other arguments.\r\n\r\n    verify(updateLockedAccountStatusMock, times(1)).update(eq(1), eq(3), eq(true), any());","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>You can use <code>any()</code> for one argument and other matchers (such as <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentMatchers.html#eq(T)\" rel=\"nofollow noreferrer\"><code>eq</code></a>) for the other arguments.</p>\n<pre><code>verify(updateLockedAccountStatusMock, times(1)).update(eq(1), eq(3), eq(true), any());\n</code></pre>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753903,"answer_count":2,"score":0,"last_activity_date":1678957413,"creation_date":1678955777,"question_id":75753722,"body_markdown":"I&#39;m calling a method on a mock in a service I am testing. \r\n\r\nThe mock is a class for updating database data, I want to verify that the update method is called.  \r\nThe code looks like this:   \r\n\r\n    verify(updateLockedAccountStatusMock, times(1)).update(1, 3, true, new Date());\r\n\r\nI know this can&#39;t work, since the `Date` object that is passed into the mock in the class under test is generated in the class just before the method is called. I also know that I can&#39;t call `any()` here unless I call `any()` for every parameter. I&#39;d rather not do that as the same method is called elsewhere in the code.   \r\nIs there a way to handle cases like this? Or is it simply a matter of passing in `any()` for every parameter and verifying the amount of times it&#39;s called?    \r\nIn particular I want to see that the third parameter `true` is correct, but the date is the only one I don&#39;t really care about at the moment.","title":"How to verify a method called when one of the method parameters are generated in the object under test in mockito?","body":"<p>I'm calling a method on a mock in a service I am testing.</p>\n<p>The mock is a class for updating database data, I want to verify that the update method is called.<br />\nThe code looks like this:</p>\n<pre><code>verify(updateLockedAccountStatusMock, times(1)).update(1, 3, true, new Date());\n</code></pre>\n<p>I know this can't work, since the <code>Date</code> object that is passed into the mock in the class under test is generated in the class just before the method is called. I also know that I can't call <code>any()</code> here unless I call <code>any()</code> for every parameter. I'd rather not do that as the same method is called elsewhere in the code.<br />\nIs there a way to handle cases like this? Or is it simply a matter of passing in <code>any()</code> for every parameter and verifying the amount of times it's called?<br />\nIn particular I want to see that the third parameter <code>true</code> is correct, but the date is the only one I don't really care about at the moment.</p>\n"},{"tags":["java","unit-testing","junit","tdd"],"comments":[{"owner":{"account_id":26938,"reputation":4932,"user_id":70551,"accept_rate":68,"display_name":"Surya"},"score":321,"creation_date":1283201036,"post_id":34571,"comment_id":3783996,"body_markdown":"Best way to test a private method is not testing it directly","body":"Best way to test a private method is not testing it directly"},{"owner":{"account_id":101026,"reputation":39048,"user_id":271999,"accept_rate":92,"display_name":"Mouna Cheikhna"},"score":30,"creation_date":1286962441,"post_id":34571,"comment_id":20651624,"body_markdown":"Check the article *[Testing Private Methods with JUnit and SuiteRunner](http://www.artima.com/suiterunner/privateP.html)*.","body":"Check the article <i><a href=\"http://www.artima.com/suiterunner/privateP.html\" rel=\"nofollow noreferrer\">Testing Private Methods with JUnit and SuiteRunner</a></i>."},{"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"score":2,"creation_date":1632599953,"post_id":34571,"comment_id":122538366,"body_markdown":"why should test a private function ? It will automatically be tested anyway (and must be tested) when you test the feature/method which is using it the private function.","body":"why should test a private function ? It will automatically be tested anyway (and must be tested) when you test the feature/method which is using it the private function."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":7,"creation_date":1634676218,"post_id":34571,"comment_id":123088496,"body_markdown":"I&#39;ve rolled this question back to its original state, prior to generifying the question. In its current state, the answers are highly Java-oriented, and the question was largely focused on the &quot;how&quot;, meaning that the later versions erasing Java and generalizing for other languages, and at the end flipping the focus to C++ invalidates far too many of the answers. A generalized form asking &quot;how to&quot; in any arbitrary language and framework would also be considered far too broad, meaning the last few edits pushed this question towards being closed rather than being constructive.","body":"I&#39;ve rolled this question back to its original state, prior to generifying the question. In its current state, the answers are highly Java-oriented, and the question was largely focused on the &quot;how&quot;, meaning that the later versions erasing Java and generalizing for other languages, and at the end flipping the focus to C++ invalidates far too many of the answers. A generalized form asking &quot;how to&quot; in any arbitrary language and framework would also be considered far too broad, meaning the last few edits pushed this question towards being closed rather than being constructive."},{"owner":{"account_id":1533561,"reputation":20255,"user_id":1430156,"accept_rate":72,"display_name":"O. R. Mapper"},"score":6,"creation_date":1656584753,"post_id":34571,"comment_id":128611210,"body_markdown":"@AkashVerma: For the same reason you want to do unit tests instead of just a system test?","body":"@AkashVerma: For the same reason you want to do unit tests instead of just a system test?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1656642557,"post_id":34571,"comment_id":128627971,"body_markdown":"See also: https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods. The underlying philosophical question is language-agnostic.","body":"See also: <a href=\"https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods\" title=\"how do you unit test private methods\">stackoverflow.com/questions/250692/&hellip;</a>. The underlying philosophical question is language-agnostic."},{"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"score":0,"creation_date":1660411340,"post_id":34571,"comment_id":129529141,"body_markdown":"See: https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_34571/so_34571.e\nand\nhttps://github.com/ljr1981/stack_overflow_answers/blob/main/testing/so_34571/so_34571_test_set.e","body":"See: <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/src/so_34571/so_34571.e\" rel=\"nofollow noreferrer\">github.com/ljr1981/stack_overflow_answers/blob/main/src/&hellip;</a> and <a href=\"https://github.com/ljr1981/stack_overflow_answers/blob/main/testing/so_34571/so_34571_test_set.e\" rel=\"nofollow noreferrer\">github.com/ljr1981/stack_overflow_answers/blob/main/testing/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1104998,"reputation":872,"user_id":1096587,"display_name":"Liberty Lover"},"score":0,"creation_date":1660411488,"post_id":34571,"comment_id":129529177,"body_markdown":"In the previous comment, I show you how easy this is in Eiffel. In this case, I have created a class called SO_34571 with a method feature called `my_private_method&#39;. Notice that the &quot;feature&quot; group keyword is followed by a {TEST_SET_BRIDGE}. This means that any class that inherits from TEST_SET_BRIDGE (including descendants) has permission to access any feature of the feature-group. Clean. Simple. Elegant. Scalable. Controllable. Nice!","body":"In the previous comment, I show you how easy this is in Eiffel. In this case, I have created a class called SO_34571 with a method feature called `my_private_method&#39;. Notice that the &quot;feature&quot; group keyword is followed by a {TEST_SET_BRIDGE}. This means that any class that inherits from TEST_SET_BRIDGE (including descendants) has permission to access any feature of the feature-group. Clean. Simple. Elegant. Scalable. Controllable. Nice!"}],"answers":[{"tags":[],"owner":{"account_id":2050,"reputation":7521,"user_id":2822,"accept_rate":95,"display_name":"Sir Rippov the Maple"},"down_vote_count":133,"up_vote_count":957,"is_accepted":false,"score":824,"last_activity_date":1220026459,"creation_date":1220026459,"answer_id":34586,"question_id":34571,"body_markdown":"The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:\r\n\r\n 1. The private method is dead code\r\n 2. There is a design smell near the class that you are testing\r\n 3. The method that you are trying to test should not be private","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The best way to test a private method is via another public method. If this cannot be done, then one of the following conditions is true:</p>\n\n<ol>\n<li>The private method is dead code</li>\n<li>There is a design smell near the class that you are testing</li>\n<li>The method that you are trying to test should not be private</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2383,"reputation":6541,"user_id":3305,"accept_rate":41,"display_name":"John Channing"},"down_vote_count":11,"up_vote_count":166,"is_accepted":false,"score":155,"last_activity_date":1356774740,"creation_date":1220026494,"answer_id":34590,"question_id":34571,"body_markdown":"Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Generally a unit test is intended to exercise the public interface of a class or unit. Therefore, private methods are implementation detail that you would not expect to test explicitly.</p>\n"},{"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"down_vote_count":3,"up_vote_count":71,"is_accepted":false,"score":68,"last_activity_date":1220026530,"creation_date":1220026530,"answer_id":34594,"question_id":34571,"body_markdown":"The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The private methods are called by a public method, so the inputs to your public methods should also test private methods that are called by those public methods. When a public method fails, then that could be a failure in the private method.</p>\n"},{"tags":[],"owner":{"account_id":1960,"reputation":7135,"user_id":2697,"accept_rate":76,"display_name":"Iker Jimenez"},"down_vote_count":4,"up_vote_count":246,"is_accepted":false,"score":242,"last_activity_date":1619298292,"creation_date":1220026580,"answer_id":34598,"question_id":34571,"body_markdown":"From this article: [Testing Private Methods with JUnit and SuiteRunner][1] (Bill Venners), you basically have 4 options:\r\n\r\n&gt; 1. Don&#39;t test private methods.\r\n&gt; 1. Give the methods package access.\r\n&gt; 1. Use a nested test class.\r\n&gt; 1. Use reflection. \r\n\r\n  [1]: http://www.artima.com/suiterunner/private.html","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>From this article: <a href=\"http://www.artima.com/suiterunner/private.html\" rel=\"noreferrer\">Testing Private Methods with JUnit and SuiteRunner</a> (Bill Venners), you basically have 4 options:</p>\n<blockquote>\n<ol>\n<li>Don't test private methods.</li>\n<li>Give the methods package access.</li>\n<li>Use a nested test class.</li>\n<li>Use reflection.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1448,"reputation":29774,"user_id":1931,"accept_rate":57,"display_name":"bmurphy1976"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1220027025,"creation_date":1220027025,"answer_id":34630,"question_id":34571,"body_markdown":"I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  ","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I tend not to test private methods.  There lies madness.  Personally, I believe you should only test your publicly exposed interfaces (and that includes protected and internal methods).  </p>\n"},{"tags":[],"owner":{"account_id":1518,"reputation":52575,"user_id":2030,"accept_rate":91,"display_name":"Josh Brown"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513254400,"creation_date":1220027403,"answer_id":34644,"question_id":34571,"body_markdown":"For Java I&#39;d use [reflection][1], since I don&#39;t like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.\r\n\r\n&gt; you can&#39;t use reflection to get private methods from outside the owner class, the private modifier affects reflection also\r\n\r\nThis is not true. You most certainly can, as mentioned in [Cem Catikkas&#39;s answer][2].\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/index.html\r\n  [2]: https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>For Java I'd use <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">reflection</a>, since I don't like the idea of changing the access to a package on the declared method just for the sake of testing. However, I usually just test the public methods which should also ensure the private methods are working correctly.</p>\n\n<blockquote>\n  <p>you can't use reflection to get private methods from outside the owner class, the private modifier affects reflection also</p>\n</blockquote>\n\n<p>This is not true. You most certainly can, as mentioned in <a href=\"https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\">Cem Catikkas's answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"down_vote_count":48,"up_vote_count":1888,"is_accepted":true,"score":1840,"last_activity_date":1650737112,"creation_date":1220027711,"answer_id":34658,"question_id":34571,"body_markdown":"If you have somewhat of a legacy **Java** application, and you&#39;re not allowed to change the visibility of your methods, the best way to test private methods is to use [reflection][1]. \r\n\r\nInternally we&#39;re using helpers to get/set `private` and `private static` variables as well as invoke `private` and `private static` methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course, you can&#39;t change `private static final` variables through reflection.\r\n\r\n    Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, argObjects);\r\n\r\nAnd for fields:\r\n\r\n    Field field = TargetClass.getDeclaredField(fieldName);\r\n    field.setAccessible(true);\r\n    field.set(object, value);\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; **Notes:**  \r\n&gt; 1. `TargetClass.getDeclaredMethod(methodName, argClasses)` lets you look into `private` methods. The same thing applies for\r\n&gt; `getDeclaredField`.  \r\n&gt; 2. The `setAccessible(true)` is required to play around with privates.\r\n\r\n \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you have somewhat of a legacy <strong>Java</strong> application, and you're not allowed to change the visibility of your methods, the best way to test private methods is to use <a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a>.</p>\n<p>Internally we're using helpers to get/set <code>private</code> and <code>private static</code> variables as well as invoke <code>private</code> and <code>private static</code> methods. The following patterns will let you do pretty much anything related to the private methods and fields. Of course, you can't change <code>private static final</code> variables through reflection.</p>\n<pre><code>Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, argObjects);\n</code></pre>\n<p>And for fields:</p>\n<pre><code>Field field = TargetClass.getDeclaredField(fieldName);\nfield.setAccessible(true);\nfield.set(object, value);\n</code></pre>\n<hr />\n<blockquote>\n<p><strong>Notes:</strong></p>\n<ol>\n<li><code>TargetClass.getDeclaredMethod(methodName, argClasses)</code> lets you look into <code>private</code> methods. The same thing applies for\n<code>getDeclaredField</code>.</li>\n<li>The <code>setAccessible(true)</code> is required to play around with privates.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1513254152,"creation_date":1220302727,"answer_id":38425,"question_id":34571,"body_markdown":"Having tried Cem Catikkas&#39; [solution using reflection][1] for Java, I&#39;d have to say his was a more elegant solution than I have described here. However, if you&#39;re looking for an alternative to using reflection, and have access to the source you&#39;re testing, this will still be an option.\r\n\r\nThere is possible merit in testing private methods of a class, particularly with [test-driven development][2], where you would like to design small tests before you write any code.\r\n\r\nCreating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.\r\n\r\nAdvantages:\r\n\r\n  - Can test to a finer granularity\r\n\r\nDisadvantages:\r\n\r\n  - Test code must reside in the same\r\n    file as source code, which can be\r\n    more difficult to maintain\r\n  - Similarly with .class output files, they must remain within the same package as declared in source code\r\n\r\nHowever, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.\r\n\r\nHere is a convoluted example of how this would work:\r\n\r\n    // Import statements and package declarations\r\n\r\n    public class ClassToTest\r\n    {\r\n        private int decrement(int toDecrement) {\r\n            toDecrement--;\r\n            return toDecrement;\r\n        }\r\n\r\n        // Constructor and the rest of the class\r\n\r\n        public static class StaticInnerTest extends TestCase\r\n        {\r\n            public StaticInnerTest(){\r\n                super();\r\n            }\r\n\r\n            public void testDecrement(){\r\n                int number = 10;\r\n                ClassToTest toTest= new ClassToTest();\r\n                int decremented = toTest.decrement(number);\r\n                assertEquals(9, decremented);\r\n            }\r\n\r\n            public static void main(String[] args) {\r\n                junit.textui.TestRunner.run(StaticInnerTest.class);\r\n            }\r\n        }\r\n    }\r\n\r\nThe inner class would be compiled to `ClassToTest$StaticInnerTest`.\r\n\r\nSee also: *[Java Tip 106: Static inner classes for fun and profit][3]*\r\n\r\n  [1]: https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\r\n  [2]: http://en.wikipedia.org/wiki/Test-driven_development\r\n  [3]: http://www.javaworld.com/javaworld/javatips/jw-javatip106.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Having tried Cem Catikkas' <a href=\"https://stackoverflow.com/questions/34571/whats-the-best-way-of-unit-testing-private-methods#34658\">solution using reflection</a> for Java, I'd have to say his was a more elegant solution than I have described here. However, if you're looking for an alternative to using reflection, and have access to the source you're testing, this will still be an option.</p>\n\n<p>There is possible merit in testing private methods of a class, particularly with <a href=\"http://en.wikipedia.org/wiki/Test-driven_development\" rel=\"noreferrer\">test-driven development</a>, where you would like to design small tests before you write any code.</p>\n\n<p>Creating a test with access to private members and methods can test areas of code which are difficult to target specifically with access only to public methods. If a public method has several steps involved, it can consist of several private methods, which can then be tested individually.</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Can test to a finer granularity</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Test code must reside in the same\nfile as source code, which can be\nmore difficult to maintain</li>\n<li>Similarly with .class output files, they must remain within the same package as declared in source code</li>\n</ul>\n\n<p>However, if continuous testing requires this method, it may be a signal that the private methods should be extracted, which could be tested in the traditional, public way.</p>\n\n<p>Here is a convoluted example of how this would work:</p>\n\n<pre><code>// Import statements and package declarations\n\npublic class ClassToTest\n{\n    private int decrement(int toDecrement) {\n        toDecrement--;\n        return toDecrement;\n    }\n\n    // Constructor and the rest of the class\n\n    public static class StaticInnerTest extends TestCase\n    {\n        public StaticInnerTest(){\n            super();\n        }\n\n        public void testDecrement(){\n            int number = 10;\n            ClassToTest toTest= new ClassToTest();\n            int decremented = toTest.decrement(number);\n            assertEquals(9, decremented);\n        }\n\n        public static void main(String[] args) {\n            junit.textui.TestRunner.run(StaticInnerTest.class);\n        }\n    }\n}\n</code></pre>\n\n<p>The inner class would be compiled to <code>ClassToTest$StaticInnerTest</code>.</p>\n\n<p>See also: <em><a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip106.html\" rel=\"noreferrer\">Java Tip 106: Static inner classes for fun and profit</a></em></p>\n"},{"tags":[],"owner":{"account_id":3325,"reputation":54551,"user_id":4794,"accept_rate":94,"display_name":"Don Kirkby"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1484334508,"creation_date":1220632785,"answer_id":46255,"question_id":34571,"body_markdown":"If you&#39;re trying to test existing code that you&#39;re reluctant or unable to change, reflection is a good choice.\r\n\r\nIf the class&#39;s design is still flexible, and you&#39;ve got a complicated private method that you&#39;d like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn&#39;t have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.\r\n\r\nIf you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you're trying to test existing code that you're reluctant or unable to change, reflection is a good choice.</p>\n\n<p>If the class's design is still flexible, and you've got a complicated private method that you'd like to test separately, I suggest you pull it out into a separate class and test that class separately. This doesn't have to change the public interface of the original class; it can internally create an instance of the helper class and call the helper method.</p>\n\n<p>If you want to test difficult error conditions coming from the helper method, you can go a step further. Extract an interface from the helper class, add a public getter and setter to the original class to inject the helper class (used through its interface), and then inject a mock version of the helper class into the original class to test how the original class responds to exceptions from the helper. This approach is also helpful if you want to test the original class without also testing the helper class.</p>\n"},{"tags":[],"owner":{"account_id":3643,"reputation":4356,"user_id":5266,"display_name":"Will Sargent"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1513254213,"creation_date":1220932256,"answer_id":51192,"question_id":34571,"body_markdown":"If you want to test private methods of a legacy application where you can&#39;t change the code, one option for Java is [jMockit][1], which will allow you to create mocks to an object even when they&#39;re private to the class.\r\n\r\n  [1]: http://code.google.com/p/jmockit/","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you want to test private methods of a legacy application where you can't change the code, one option for Java is <a href=\"http://code.google.com/p/jmockit/\" rel=\"noreferrer\">jMockit</a>, which will allow you to create mocks to an object even when they're private to the class.</p>\n"},{"tags":[],"owner":{"account_id":3669,"reputation":45485,"user_id":5314,"accept_rate":36,"display_name":"Jay Bazuzi"},"down_vote_count":15,"up_vote_count":403,"is_accepted":false,"score":388,"last_activity_date":1463650739,"creation_date":1220971385,"answer_id":52054,"question_id":34571,"body_markdown":"When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  \r\n\r\nMy usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  \r\n\r\nThe new class exposes these methods as &#39;public&#39;, so they&#39;re accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).\r\n\r\nNote that I&#39;m not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  ","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>When I have private methods in a class that are sufficiently complicated that I feel the need to test the private methods directly, that is a code smell: my class is too complicated.  </p>\n\n<p>My usual approach to addressing such issues is to tease out a new class that contains the interesting bits.  Often, this method and the fields it interacts with, and maybe another method or two can be extracted in to a new class.  </p>\n\n<p>The new class exposes these methods as 'public', so they're accessible for unit testing.  The new and old classes are now both simpler than the original class, which is great for me (I need to keep things simple, or I get lost!).</p>\n\n<p>Note that I'm not suggesting that people create classes without using their brain! The point here is to use the forces of unit testing to help you find good new classes.  </p>\n"},{"tags":[],"owner":{"account_id":123,"reputation":3336,"user_id":151,"accept_rate":92,"display_name":"Darren Greaves"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1669385286,"creation_date":1221032922,"answer_id":53571,"question_id":34571,"body_markdown":"As many above have suggested, a good way is to test them via your public interfaces.\r\n\r\nIf you do this, it&#39;s a good idea to use a [code coverage][1] tool (like [EMMA][2]) to see if your private methods are in fact being executed from your tests.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_coverage\r\n  [2]: https://en.wikipedia.org/wiki/Java_code_coverage_tools#EMMA\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>As many above have suggested, a good way is to test them via your public interfaces.</p>\n<p>If you do this, it's a good idea to use a <a href=\"https://en.wikipedia.org/wiki/Code_coverage\" rel=\"nofollow noreferrer\">code coverage</a> tool (like <a href=\"https://en.wikipedia.org/wiki/Java_code_coverage_tools#EMMA\" rel=\"nofollow noreferrer\">EMMA</a>) to see if your private methods are in fact being executed from your tests.</p>\n"},{"tags":[],"owner":{"account_id":3668,"reputation":796,"user_id":5313,"display_name":"Joe"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1513254267,"creation_date":1221171628,"answer_id":57795,"question_id":34571,"body_markdown":"If you&#39;re using JUnit, have a look at [junit-addons][1]. It has the ability to ignore the Java security model and access private methods and attributes.\r\n\r\n  [1]: http://junit-addons.sourceforge.net/\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you're using JUnit, have a look at <a href=\"http://junit-addons.sourceforge.net/\" rel=\"noreferrer\">junit-addons</a>. It has the ability to ignore the Java security model and access private methods and attributes.</p>\n"},{"tags":[],"owner":{"account_id":8016,"reputation":3464,"user_id":14153,"display_name":"Aaron"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1669385405,"creation_date":1221730190,"answer_id":91206,"question_id":34571,"body_markdown":"First, I&#39;ll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It&#39;s unit testing, not &#39;line-of-code&#39; testing. Don&#39;t sweat the small stuff.\r\n\r\nIf they are that big, big enough that these private members are each a &#39;unit&#39; large in complexity&amp;mdash;consider refactoring such private members out of this class.\r\n\r\nIf refactoring is inappropriate or infeasible, can you use the [strategy pattern][1] to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Strategy_pattern\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>First, I'll throw this question out: Why do your private members need isolated testing? Are they that complex, providing such complicated behaviors as to require testing apart from the public surface? It's unit testing, not 'line-of-code' testing. Don't sweat the small stuff.</p>\n<p>If they are that big, big enough that these private members are each a 'unit' large in complexity—consider refactoring such private members out of this class.</p>\n<p>If refactoring is inappropriate or infeasible, can you use the <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">strategy pattern</a> to replace access to these private member functions / member classes when under unit test? Under unit test, the strategy would provide added validation, but in release builds it would be simple passthrough.</p>\n"},{"tags":[],"owner":{"account_id":10360,"reputation":5738,"user_id":19520,"display_name":"ema"},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1356775363,"creation_date":1223621042,"answer_id":190338,"question_id":34571,"body_markdown":"Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).\r\n\r\nSo don&#39;t test private methods.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Testing private methods breaks the encapsulation of your class because every time you change the internal implementation you break client code (in this case, the tests).</p>\n\n<p>So don't test private methods.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1669385451,"creation_date":1234637583,"answer_id":549551,"question_id":34571,"body_markdown":"As others have said... don&#39;t test private methods directly. Here are a few thoughts:\r\n\r\n1. Keep all methods small and focused (easy to test, easy to find what is wrong)\r\n2. Use code coverage tools. I like [Cobertura][1] (oh happy day, it looks like a new version is out!)\r\n\r\nRun the code coverage on the unit tests. If you see that methods are not fully tested add to the tests to get the coverage up. Aim for 100% code coverage, but realize that you probably won&#39;t get it.\r\n\r\n  [1]: http://cobertura.sourceforge.net/index.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>As others have said... don't test private methods directly. Here are a few thoughts:</p>\n<ol>\n<li>Keep all methods small and focused (easy to test, easy to find what is wrong)</li>\n<li>Use code coverage tools. I like <a href=\"http://cobertura.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">Cobertura</a> (oh happy day, it looks like a new version is out!)</li>\n</ol>\n<p>Run the code coverage on the unit tests. If you see that methods are not fully tested add to the tests to get the coverage up. Aim for 100% code coverage, but realize that you probably won't get it.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513254471,"creation_date":1234637685,"answer_id":549558,"question_id":34571,"body_markdown":"You can turn off Java access restrictions for reflection so that private means nothing.\r\n\r\nThe `setAccessible(true)` call does that.\r\n\r\nThe only restriction is that a ClassLoader may disallow you from doing that.\r\n\r\nSee *[Subverting Java Access Protection for Unit Testing][1]* (Ross Burton) for a way to do this in Java.\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can turn off Java access restrictions for reflection so that private means nothing.</p>\n\n<p>The <code>setAccessible(true)</code> call does that.</p>\n\n<p>The only restriction is that a ClassLoader may disallow you from doing that.</p>\n\n<p>See <em><a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">Subverting Java Access Protection for Unit Testing</a></em> (Ross Burton) for a way to do this in Java.</p>\n"},{"tags":[],"owner":{"account_id":14453,"reputation":5523,"user_id":29746,"display_name":"Thomas Hansen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669385511,"creation_date":1234638661,"answer_id":549592,"question_id":34571,"body_markdown":"In C# you could have used `System.Reflection`, though in Java I don&#39;t know. If you &quot;feel you need to unit test private methods&quot;, my guess is that there is something else which is wrong...\r\n\r\nI would seriously consider looking at my architecture again with fresh eyes...\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In C# you could have used <code>System.Reflection</code>, though in Java I don't know. If you &quot;feel you need to unit test private methods&quot;, my guess is that there is something else which is wrong...</p>\n<p>I would seriously consider looking at my architecture again with fresh eyes...</p>\n"},{"tags":[],"owner":{"account_id":43401,"reputation":579,"user_id":126875,"display_name":"Diego Amicabile"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356775553,"creation_date":1245851383,"answer_id":1038507,"question_id":34571,"body_markdown":"What if your test classes are in the same package as the class that should be tested?\r\n\r\nBut in a different directory of course, `src` &amp; `classes` for your source code, `test/src` and `test/classes` for your test classes. And let `classes` and `test/classes` be in your classpath.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>What if your test classes are in the same package as the class that should be tested?</p>\n\n<p>But in a different directory of course, <code>src</code> &amp; <code>classes</code> for your source code, <code>test/src</code> and <code>test/classes</code> for your test classes. And let <code>classes</code> and <code>test/classes</code> be in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"down_vote_count":3,"up_vote_count":342,"is_accepted":false,"score":339,"last_activity_date":1669385641,"creation_date":1245924072,"answer_id":1043013,"question_id":34571,"body_markdown":"I have used [reflection][1] to do this for Java in the past, and in my opinion it was a big mistake.\r\n\r\nStrictly speaking, you should *not* be writing unit tests that directly test private methods. What you *should* be testing is the public contract that the class has with other objects; you should never directly test an object&#39;s internals. If another developer wants to make a small internal change to the class, which doesn&#39;t affect the classes public contract, he/she then has to modify your reflection based test to ensure that it works. If you do this repeatedly throughout a project, unit tests then stop being a useful measurement of code health, and start to become a hindrance to development, and an annoyance to the development team.\r\n\r\nWhat I recommend doing instead is using a code coverage tool, such as [Cobertura][2], to ensure that the unit tests you write provide decent coverage of the code in private methods. That way, you indirectly test what the private methods are doing, and maintain a higher level of agility.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\r\n  [2]: https://en.wikipedia.org/wiki/Java_code_coverage_tools#Cobertura\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I have used <a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_programming%29\" rel=\"noreferrer\">reflection</a> to do this for Java in the past, and in my opinion it was a big mistake.</p>\n<p>Strictly speaking, you should <em>not</em> be writing unit tests that directly test private methods. What you <em>should</em> be testing is the public contract that the class has with other objects; you should never directly test an object's internals. If another developer wants to make a small internal change to the class, which doesn't affect the classes public contract, he/she then has to modify your reflection based test to ensure that it works. If you do this repeatedly throughout a project, unit tests then stop being a useful measurement of code health, and start to become a hindrance to development, and an annoyance to the development team.</p>\n<p>What I recommend doing instead is using a code coverage tool, such as <a href=\"https://en.wikipedia.org/wiki/Java_code_coverage_tools#Cobertura\" rel=\"noreferrer\">Cobertura</a>, to ensure that the unit tests you write provide decent coverage of the code in private methods. That way, you indirectly test what the private methods are doing, and maintain a higher level of agility.</p>\n"},{"tags":[],"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1669385775,"creation_date":1278310213,"answer_id":3177465,"question_id":34571,"body_markdown":"Just two examples of where I would want to test a private method:\r\n\r\n 1. **Decryption routines** - I would not\r\n    want to make them visible to anyone to see just for\r\n    the sake of testing, else anyone can\r\n    use them to decrypt. But they are\r\n    intrinsic to the code, complicated,\r\n    and need to always work (the obvious exception is reflection which can be used to view even private methods in most cases, when `SecurityManager` is not configured to prevent this).\r\n\r\n 2. **Creating an SDK** for community\r\n    consumption. Here public takes on a\r\n    wholly different meaning, since this\r\n    is code that the whole world may see\r\n    (not just internal to my application). I put\r\n    code into private methods if I don&#39;t\r\n    want the SDK users to see it - I\r\n    don&#39;t see this as code smell, merely\r\n    as how SDK programming works. But of\r\n    course I still need to test my\r\n    private methods, and they are where\r\n    the functionality of my SDK actually\r\n    lives.\r\n\r\nI understand the idea of only testing the &quot;contract&quot;. But I don&#39;t see one can advocate actually not testing code&amp;mdash;your mileage may vary.\r\n\r\nSo my trade-off involves complicating the JUnit tests with reflection, rather than compromising my security and SDK.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Just two examples of where I would want to test a private method:</p>\n<ol>\n<li><p><strong>Decryption routines</strong> - I would not\nwant to make them visible to anyone to see just for\nthe sake of testing, else anyone can\nuse them to decrypt. But they are\nintrinsic to the code, complicated,\nand need to always work (the obvious exception is reflection which can be used to view even private methods in most cases, when <code>SecurityManager</code> is not configured to prevent this).</p>\n</li>\n<li><p><strong>Creating an SDK</strong> for community\nconsumption. Here public takes on a\nwholly different meaning, since this\nis code that the whole world may see\n(not just internal to my application). I put\ncode into private methods if I don't\nwant the SDK users to see it - I\ndon't see this as code smell, merely\nas how SDK programming works. But of\ncourse I still need to test my\nprivate methods, and they are where\nthe functionality of my SDK actually\nlives.</p>\n</li>\n</ol>\n<p>I understand the idea of only testing the &quot;contract&quot;. But I don't see one can advocate actually not testing code—your mileage may vary.</p>\n<p>So my trade-off involves complicating the JUnit tests with reflection, rather than compromising my security and SDK.</p>\n"},{"tags":[],"owner":{"account_id":156595,"reputation":261,"user_id":373975,"display_name":"phareim"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1669385819,"creation_date":1294828041,"answer_id":4667692,"question_id":34571,"body_markdown":"To test legacy code with large and quirky classes, it is often very helpful to be able to test the one private (or public) method I&#39;m writing _right now_.\r\n\r\nI use the **junitx.util.PrivateAccessor**-package for Java. It has lots of helpful one-liners for accessing private methods and private fields.\r\n\r\n    import junitx.util.PrivateAccessor;\r\n\r\n    PrivateAccessor.setField(myObjectReference, &quot;myCrucialButHardToReachPrivateField&quot;, myNewValue);\r\n    PrivateAccessor.invoke(myObjectReference, &quot;privateMethodName&quot;, java.lang.Class[] parameterTypes, java.lang.Object[] args);\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>To test legacy code with large and quirky classes, it is often very helpful to be able to test the one private (or public) method I'm writing <em>right now</em>.</p>\n<p>I use the <strong>junitx.util.PrivateAccessor</strong>-package for Java. It has lots of helpful one-liners for accessing private methods and private fields.</p>\n<pre><code>import junitx.util.PrivateAccessor;\n\nPrivateAccessor.setField(myObjectReference, &quot;myCrucialButHardToReachPrivateField&quot;, myNewValue);\nPrivateAccessor.invoke(myObjectReference, &quot;privateMethodName&quot;, java.lang.Class[] parameterTypes, java.lang.Object[] args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1669385868,"creation_date":1298403671,"answer_id":5083041,"question_id":34571,"body_markdown":"The answer from [JUnit.org FAQ page][1]:\r\n\r\n&gt; But if you must...\r\n&gt; \r\n&gt; If you are using JDK 1.3 or higher, you can use reflection to subvert\r\n&gt; the access control mechanism with the aid of the [PrivilegedAccessor][2].\r\n&gt; For details on how to use it, read [this article][3].\r\n&gt; \r\n&gt; If you are using JDK 1.6 or higher and you annotate your tests with\r\n&gt; @Test, you can use [Dp4j][4] to inject reflection in your test methods. For\r\n&gt; details on how to use it, see [this test script][5].\r\n\r\nP.S. I&#39;m the main contributor to [Dp4j][4]. Ask [me][6] if you need help. :)\r\n\r\n  [1]: http://junit.org/faq.html#atests_11\r\n  [2]: http://sourceforge.net/projects/privaccessor/\r\n  [3]: http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\r\n  [4]: http://dp4j.com\r\n  [5]: http://dp4j.com/testscript\r\n  [6]: https://stackoverflow.com/users/300248\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The answer from <a href=\"http://junit.org/faq.html#atests_11\" rel=\"nofollow noreferrer\">JUnit.org FAQ page</a>:</p>\n<blockquote>\n<p>But if you must...</p>\n<p>If you are using JDK 1.3 or higher, you can use reflection to subvert\nthe access control mechanism with the aid of the <a href=\"http://sourceforge.net/projects/privaccessor/\" rel=\"nofollow noreferrer\">PrivilegedAccessor</a>.\nFor details on how to use it, read <a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>If you are using JDK 1.6 or higher and you annotate your tests with\n@Test, you can use <a href=\"http://dp4j.com\" rel=\"nofollow noreferrer\">Dp4j</a> to inject reflection in your test methods. For\ndetails on how to use it, see <a href=\"http://dp4j.com/testscript\" rel=\"nofollow noreferrer\">this test script</a>.</p>\n</blockquote>\n<p>P.S. I'm the main contributor to <a href=\"http://dp4j.com\" rel=\"nofollow noreferrer\">Dp4j</a>. Ask <a href=\"https://stackoverflow.com/users/300248\">me</a> if you need help. :)</p>\n"},{"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304002907,"creation_date":1304002907,"answer_id":5820700,"question_id":34571,"body_markdown":"I only test the public interface, but I have been known to make specific private methods protected so I can either mock them out entirely, or add in additional steps specific for unit testing purposes. A general case is to hook in flags I can set from the unit test to make certain methods intentionally cause an exception to be able to test fault paths; the exception triggering code is only in the test path in an overridden implementation of the protected method.\r\n\r\nI minimize the need for this though and I always document the precise reasons to avoid confusion.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I only test the public interface, but I have been known to make specific private methods protected so I can either mock them out entirely, or add in additional steps specific for unit testing purposes. A general case is to hook in flags I can set from the unit test to make certain methods intentionally cause an exception to be able to test fault paths; the exception triggering code is only in the test path in an overridden implementation of the protected method.</p>\n\n<p>I minimize the need for this though and I always document the precise reasons to avoid confusion.</p>\n"},{"tags":[],"owner":{"account_id":913595,"reputation":5828,"user_id":946904,"accept_rate":69,"display_name":"marc wellman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669385945,"creation_date":1321374156,"answer_id":8139572,"question_id":34571,"body_markdown":"I am not sure whether this is a good technique, but I developed the following pattern to unit test private methods:\r\n\r\nI don&#39;t modify the visibility of the method that I want to test and add an additional method. Instead I am adding an additional public method for every private method I want to test. I call this additional method `Test-Port` and denote them with the prefix `t_`. This `Test-Port` method then simply accesses the according private method.\r\n\r\nAdditionally, I add a Boolean flag to the `Test-Port` method to decide whether I grant access to the private method through the `Test-Port` method from outside. This flag is then set globally in a static class where I place e.g. other global settings for the application. So I can switch the access to the private methods on and off in one place, e.g., in the corresponding unit test.\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I am not sure whether this is a good technique, but I developed the following pattern to unit test private methods:</p>\n<p>I don't modify the visibility of the method that I want to test and add an additional method. Instead I am adding an additional public method for every private method I want to test. I call this additional method <code>Test-Port</code> and denote them with the prefix <code>t_</code>. This <code>Test-Port</code> method then simply accesses the according private method.</p>\n<p>Additionally, I add a Boolean flag to the <code>Test-Port</code> method to decide whether I grant access to the private method through the <code>Test-Port</code> method from outside. This flag is then set globally in a static class where I place e.g. other global settings for the application. So I can switch the access to the private methods on and off in one place, e.g., in the corresponding unit test.</p>\n"},{"tags":[],"owner":{"account_id":37694,"reputation":88,"user_id":107852,"display_name":"sagehen03"},"down_vote_count":8,"up_vote_count":8,"is_accepted":false,"score":0,"last_activity_date":1325535174,"creation_date":1325535174,"answer_id":8704898,"question_id":34571,"body_markdown":"Groovy has a [bug/feature][1], through which you can invoke private methods as if they were public.  So if you&#39;re able to use Groovy in your project, it&#39;s an option you can use in lieu of reflection.  Check out [this page][2] for an example.\r\n\r\n  [1]: http://jira.codehaus.org/browse/GROOVY-1875\r\n  [2]: http://marciogarcia.com/?p=80","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Groovy has a <a href=\"http://jira.codehaus.org/browse/GROOVY-1875\" rel=\"nofollow\">bug/feature</a>, through which you can invoke private methods as if they were public.  So if you're able to use Groovy in your project, it's an option you can use in lieu of reflection.  Check out <a href=\"http://marciogarcia.com/?p=80\" rel=\"nofollow\">this page</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":183629,"reputation":141,"user_id":419109,"display_name":"Steven Bluen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669386117,"creation_date":1362355663,"answer_id":15192546,"question_id":34571,"body_markdown":"[JML][1] has a *spec_public* comment annotation syntax that allows you to specify a method as public during tests:\r\n\r\n    private /*@ spec_public @*/ int methodName(){\r\n    ...\r\n    }\r\n\r\nThis syntax is discussed at *[2.4 Privacy Modifiers and Visibility][2]*. There also exists a program that translates JML specifications into JUnit tests. I&#39;m not sure how well that works or what its capabilities are, but it doesn&#39;t appear to be necessary since JML is a viable testing framework on its own.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Modeling_Language\r\n  [2]: http://www.eecs.ucf.edu/~leavens/JML/jmlrefman/jmlrefman_2.html#SEC12\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Java_Modeling_Language\" rel=\"nofollow noreferrer\">JML</a> has a <em>spec_public</em> comment annotation syntax that allows you to specify a method as public during tests:</p>\n<pre><code>private /*@ spec_public @*/ int methodName(){\n...\n}\n</code></pre>\n<p>This syntax is discussed at <em><a href=\"http://www.eecs.ucf.edu/%7Eleavens/JML/jmlrefman/jmlrefman_2.html#SEC12\" rel=\"nofollow noreferrer\">2.4 Privacy Modifiers and Visibility</a></em>. There also exists a program that translates JML specifications into JUnit tests. I'm not sure how well that works or what its capabilities are, but it doesn't appear to be necessary since JML is a viable testing framework on its own.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1669386176,"creation_date":1379449430,"answer_id":18859235,"question_id":34571,"body_markdown":"Today, I pushed a Java library to help testing private methods and fields. It has been designed with Android in mind, but it can really be used for any Java project.\r\n\r\nIf you got some code with private methods or fields or constructors, you can use [**BoundBox**][1]. It does exactly what you are looking for.\r\nHere below is an example of a test that accesses two private fields of an Android activity to test it:\r\n\r\n    @UiThreadTest\r\n    public void testCompute() {\r\n\r\n        // Given\r\n        boundBoxOfMainActivity = new BoundBoxOfMainActivity(getActivity());\r\n\r\n        // When\r\n        boundBoxOfMainActivity.boundBox_getButtonMain().performClick();\r\n\r\n        // Then\r\n        assertEquals(&quot;42&quot;, boundBoxOfMainActivity.boundBox_getTextViewMain().getText());\r\n    }\r\n\r\n**BoundBox** makes it easy to test private/protected fields, methods and constructors. You can even access stuff that is hidden by inheritance. Indeed, BoundBox breaks encapsulation. It will give you access to all that through reflection, ***but*** everything is checked at compile time.\r\n\r\nIt is ideal for testing some legacy code. Use it carefully. ;)\r\n\r\n  [1]: https://github.com/stephanenicolas/boundbox\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Today, I pushed a Java library to help testing private methods and fields. It has been designed with Android in mind, but it can really be used for any Java project.</p>\n<p>If you got some code with private methods or fields or constructors, you can use <a href=\"https://github.com/stephanenicolas/boundbox\" rel=\"nofollow noreferrer\"><strong>BoundBox</strong></a>. It does exactly what you are looking for.\nHere below is an example of a test that accesses two private fields of an Android activity to test it:</p>\n<pre><code>@UiThreadTest\npublic void testCompute() {\n\n    // Given\n    boundBoxOfMainActivity = new BoundBoxOfMainActivity(getActivity());\n\n    // When\n    boundBoxOfMainActivity.boundBox_getButtonMain().performClick();\n\n    // Then\n    assertEquals(&quot;42&quot;, boundBoxOfMainActivity.boundBox_getTextViewMain().getText());\n}\n</code></pre>\n<p><strong>BoundBox</strong> makes it easy to test private/protected fields, methods and constructors. You can even access stuff that is hidden by inheritance. Indeed, BoundBox breaks encapsulation. It will give you access to all that through reflection, <em><strong>but</strong></em> everything is checked at compile time.</p>\n<p>It is ideal for testing some legacy code. Use it carefully. ;)</p>\n"},{"tags":[],"owner":{"account_id":120486,"reputation":248,"user_id":312957,"display_name":"Antony Booth"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1484335993,"creation_date":1386018773,"answer_id":20337937,"question_id":34571,"body_markdown":"Private methods are consumed by public ones. Otherwise, they&#39;re dead code. That&#39;s why you test the public method, asserting the expected results of the public method and thereby, the private methods it consumes.\r\n\r\nTesting private methods should be tested by debugging before running your unit tests on public methods.\r\n\r\nThey may also be debugged using test-driven development, debugging your unit tests until all your assertions are met.\r\n\r\nI personally believe it is better to create classes using TDD; creating the public method stubs, then generating unit tests with **all** the assertions defined in advance, so the expected outcome of the method is determined before you code it. This way, you don&#39;t go down the wrong path of making the unit test assertions fit the results. Your class is then robust and meets requirements when all your unit tests pass.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Private methods are consumed by public ones. Otherwise, they're dead code. That's why you test the public method, asserting the expected results of the public method and thereby, the private methods it consumes.</p>\n\n<p>Testing private methods should be tested by debugging before running your unit tests on public methods.</p>\n\n<p>They may also be debugged using test-driven development, debugging your unit tests until all your assertions are met.</p>\n\n<p>I personally believe it is better to create classes using TDD; creating the public method stubs, then generating unit tests with <strong>all</strong> the assertions defined in advance, so the expected outcome of the method is determined before you code it. This way, you don't go down the wrong path of making the unit test assertions fit the results. Your class is then robust and meets requirements when all your unit tests pass.</p>\n"},{"tags":[],"owner":{"account_id":1996484,"reputation":591,"user_id":1789360,"accept_rate":79,"display_name":"Yuli Reiri"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1484336028,"creation_date":1389169359,"answer_id":20990300,"question_id":34571,"body_markdown":"Here is my generic function to test private fields:\r\n\r\n    protected &lt;F&gt; F getPrivateField(String fieldName, Object obj)\r\n        throws NoSuchFieldException, IllegalAccessException {\r\n        Field field =\r\n            obj.getClass().getDeclaredField(fieldName);\r\n\r\n        field.setAccessible(true);\r\n        return (F)field.get(obj);\r\n    }\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Here is my generic function to test private fields:</p>\n\n<pre><code>protected &lt;F&gt; F getPrivateField(String fieldName, Object obj)\n    throws NoSuchFieldException, IllegalAccessException {\n    Field field =\n        obj.getClass().getDeclaredField(fieldName);\n\n    field.setAccessible(true);\n    return (F)field.get(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2754907,"reputation":1362,"user_id":2373304,"accept_rate":67,"display_name":"loknath"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1484337235,"creation_date":1399098798,"answer_id":23441118,"question_id":34571,"body_markdown":"A private method is only to be accessed within the same class. So there is no way to test a “private” method of a target class from any test class. A way out is that you can perform unit testing manually or can change your method from “private” to “protected”.\r\n\r\nAnd then a protected method can only be accessed within the same package where the class is defined. So, testing a protected method of a target class means we need to define your test class in the same package as the target class.\r\n\r\nIf all the above does not suits your requirement, use [**the  reflection way**][1] to access the private method.  \r\n\r\n  [1]: https://stackoverflow.com/questions/11483647/how-to-access-private-methods-and-private-data-members-via-reflection\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>A private method is only to be accessed within the same class. So there is no way to test a “private” method of a target class from any test class. A way out is that you can perform unit testing manually or can change your method from “private” to “protected”.</p>\n\n<p>And then a protected method can only be accessed within the same package where the class is defined. So, testing a protected method of a target class means we need to define your test class in the same package as the target class.</p>\n\n<p>If all the above does not suits your requirement, use <a href=\"https://stackoverflow.com/questions/11483647/how-to-access-private-methods-and-private-data-members-via-reflection\"><strong>the  reflection way</strong></a> to access the private method.  </p>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1415662560,"creation_date":1415662560,"answer_id":26855013,"question_id":34571,"body_markdown":"If using Spring, [ReflectionTestUtils](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html) provides some handy tools that help out here with minimal effort. For example, to set up a mock on a private member without being forced to add an undesirable public setter:\r\n\r\n    ReflectionTestUtils.setField(theClass, &quot;theUnsettableField&quot;, theMockObject);","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If using Spring, <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"noreferrer\">ReflectionTestUtils</a> provides some handy tools that help out here with minimal effort. For example, to set up a mock on a private member without being forced to add an undesirable public setter:</p>\n\n<pre><code>ReflectionTestUtils.setField(theClass, \"theUnsettableField\", theMockObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1484337395,"creation_date":1430978564,"answer_id":30093076,"question_id":34571,"body_markdown":"I recently had this problem and wrote a little tool, called [Picklock][1], that avoids the problems of explicitly using the Java reflection API, two examples:\r\n\r\n**Calling methods, e.g. `private void method(String s)` - by Java reflection**\r\n\r\n    Method method = targetClass.getDeclaredMethod(&quot;method&quot;, String.class);\r\n    method.setAccessible(true);\r\n    return method.invoke(targetObject, &quot;mystring&quot;);\r\n\r\n**Calling methods, e.g. `private void method(String s)` - by Picklock**\r\n\r\n    interface Accessible {\r\n      void method(String s);\r\n    }\r\n\r\n    ...\r\n    Accessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\r\n    a.method(&quot;mystring&quot;);\r\n\r\n**Setting fields, e.g. `private BigInteger amount;` - by Java reflection**\r\n\r\n    Field field = targetClass.getDeclaredField(&quot;amount&quot;);\r\n    field.setAccessible(true);\r\n    field.set(object, BigInteger.valueOf(42));\r\n\r\n**Setting fields, e.g. `private BigInteger amount;` - by Picklock**\r\n\r\n    interface Accessible {\r\n      void setAmount(BigInteger amount);\r\n    }\r\n\r\n    ...\r\n    Accessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\r\n    a.setAmount(BigInteger.valueOf(42));\r\n\r\n  [1]: https://github.com/almondtools/picklock\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I recently had this problem and wrote a little tool, called <a href=\"https://github.com/almondtools/picklock\" rel=\"noreferrer\">Picklock</a>, that avoids the problems of explicitly using the Java reflection API, two examples:</p>\n\n<p><strong>Calling methods, e.g. <code>private void method(String s)</code> - by Java reflection</strong></p>\n\n<pre><code>Method method = targetClass.getDeclaredMethod(\"method\", String.class);\nmethod.setAccessible(true);\nreturn method.invoke(targetObject, \"mystring\");\n</code></pre>\n\n<p><strong>Calling methods, e.g. <code>private void method(String s)</code> - by Picklock</strong></p>\n\n<pre><code>interface Accessible {\n  void method(String s);\n}\n\n...\nAccessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\na.method(\"mystring\");\n</code></pre>\n\n<p><strong>Setting fields, e.g. <code>private BigInteger amount;</code> - by Java reflection</strong></p>\n\n<pre><code>Field field = targetClass.getDeclaredField(\"amount\");\nfield.setAccessible(true);\nfield.set(object, BigInteger.valueOf(42));\n</code></pre>\n\n<p><strong>Setting fields, e.g. <code>private BigInteger amount;</code> - by Picklock</strong></p>\n\n<pre><code>interface Accessible {\n  void setAmount(BigInteger amount);\n}\n\n...\nAccessible a = ObjectAccess.unlock(targetObject).features(Accessible.class);\na.setAmount(BigInteger.valueOf(42));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986201,"reputation":2750,"user_id":1781357,"accept_rate":45,"display_name":"Mikhail"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1484337432,"creation_date":1435132868,"answer_id":31020978,"question_id":34571,"body_markdown":"In the [Spring Framework][1] you can test private methods using this method:\r\n\r\n    ReflectionTestUtils.invokeMethod()\r\n\r\nFor example:\r\n\r\n    ReflectionTestUtils.invokeMethod(TestClazz, &quot;createTest&quot;, &quot;input data&quot;);\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In the <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"noreferrer\">Spring Framework</a> you can test private methods using this method:</p>\n\n<pre><code>ReflectionTestUtils.invokeMethod()\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>ReflectionTestUtils.invokeMethod(TestClazz, \"createTest\", \"input data\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1484337537,"creation_date":1458489183,"answer_id":36115967,"question_id":34571,"body_markdown":"Another approach I have used is to change a private method to package private or protected then complement it with the **@VisibleForTesting** annotation of the Google Guava library.\r\n\r\nThis will tell anybody using this method to take caution and not access it directly even in a package. Also a test class need not be in same package **physically**, but in the same package under the **test** folder.\r\n\r\nFor example, if a method to be tested is in `src/main/java/mypackage/MyClass.java` then your test call should be placed in `src/test/java/mypackage/MyClassTest.java`. That way, you got access to the test method in your test class.\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Another approach I have used is to change a private method to package private or protected then complement it with the <strong>@VisibleForTesting</strong> annotation of the Google Guava library.</p>\n\n<p>This will tell anybody using this method to take caution and not access it directly even in a package. Also a test class need not be in same package <strong>physically</strong>, but in the same package under the <strong>test</strong> folder.</p>\n\n<p>For example, if a method to be tested is in <code>src/main/java/mypackage/MyClass.java</code> then your test call should be placed in <code>src/test/java/mypackage/MyClassTest.java</code>. That way, you got access to the test method in your test class.</p>\n"},{"tags":[],"owner":{"account_id":2705291,"reputation":931,"user_id":2335016,"accept_rate":40,"display_name":"Olcay Tarazan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1484337582,"creation_date":1464868321,"answer_id":37591098,"question_id":34571,"body_markdown":"Please see below for an example;\r\n\r\nThe following import statement should be added:\r\n\r\n    import org.powermock.reflect.Whitebox;\r\n\r\nNow you can directly pass the object which has the private method, method name to be called, and additional parameters as below.\r\n\r\n    Whitebox.invokeMethod(obj, &quot;privateMethod&quot;, &quot;param1&quot;);\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Please see below for an example;</p>\n\n<p>The following import statement should be added:</p>\n\n<pre><code>import org.powermock.reflect.Whitebox;\n</code></pre>\n\n<p>Now you can directly pass the object which has the private method, method name to be called, and additional parameters as below.</p>\n\n<pre><code>Whitebox.invokeMethod(obj, \"privateMethod\", \"param1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669386415,"creation_date":1464968869,"answer_id":37618628,"question_id":34571,"body_markdown":"A quick addition to [Cem Catikka&#39;s answer][1], when using ExpectedException:\r\n\r\nKeep in mind that your expected exception will be wrapped in an InvocationTargetException, so in order to get to your exception you will have to throw the cause of the InvocationTargetException you received. Something like (testing private method validateRequest() on BizService):\r\n\r\n    @Rule\r\n    public ExpectedException thrown = ExpectedException.none();\r\n\r\n    @Autowired(required = true)\r\n    private BizService svc;\r\n\r\n\r\n    @Test\r\n    public void testValidateRequest() throws Exception {\r\n\r\n        thrown.expect(BizException.class);\r\n        thrown.expectMessage(expectMessage);\r\n\r\n        BizRequest request = /* Mock it, read from source - file, etc. */;\r\n        validateRequest(request);\r\n    }\r\n\r\n    private void validateRequest(BizRequest request) throws Exception {\r\n        Method method = svc.getClass().getDeclaredMethod(&quot;validateRequest&quot;, BizRequest.class);\r\n        method.setAccessible(true);\r\n        try {\r\n            method.invoke(svc, request);\r\n        }\r\n        catch (InvocationTargetException e) {\r\n            throw ((BizException)e.getCause());\r\n        }\r\n     }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes#34658","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>A quick addition to <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes#34658\">Cem Catikka's answer</a>, when using ExpectedException:</p>\n<p>Keep in mind that your expected exception will be wrapped in an InvocationTargetException, so in order to get to your exception you will have to throw the cause of the InvocationTargetException you received. Something like (testing private method validateRequest() on BizService):</p>\n<pre><code>@Rule\npublic ExpectedException thrown = ExpectedException.none();\n\n@Autowired(required = true)\nprivate BizService svc;\n\n\n@Test\npublic void testValidateRequest() throws Exception {\n\n    thrown.expect(BizException.class);\n    thrown.expectMessage(expectMessage);\n\n    BizRequest request = /* Mock it, read from source - file, etc. */;\n    validateRequest(request);\n}\n\nprivate void validateRequest(BizRequest request) throws Exception {\n    Method method = svc.getClass().getDeclaredMethod(&quot;validateRequest&quot;, BizRequest.class);\n    method.setAccessible(true);\n    try {\n        method.invoke(svc, request);\n    }\n    catch (InvocationTargetException e) {\n        throw ((BizException)e.getCause());\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1669386564,"creation_date":1472505059,"answer_id":39215279,"question_id":34571,"body_markdown":"I would suggest you refactoring your code a little bit. When you have to start thinking about using reflection or other kind of stuff, for just testing your code, something is going wrong with your code.\r\n\r\nYou mentioned different types of problems. Let&#39;s start with private fields. In case of private fields I would have added a new constructor and injected fields into that. Instead of this:\r\n\r\n    public class ClassToTest {\r\n\r\n        private final String first = &quot;first&quot;;\r\n        private final List&lt;String&gt; second = new ArrayList&lt;&gt;();\r\n        ...\r\n    }\r\n\r\nI&#39;d have used this:\r\n\r\n    public class ClassToTest {\r\n\r\n        private final String first;\r\n        private final List&lt;String&gt; second;\r\n\r\n        public ClassToTest() {\r\n            this(&quot;first&quot;, new ArrayList&lt;&gt;());\r\n        }\r\n\r\n        public ClassToTest(final String first, final List&lt;String&gt; second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n        ...\r\n    }\r\n\r\nThis won&#39;t be a problem even with some legacy code. Old code will be using an empty constructor, and if you ask me, refactored code will look cleaner, and you&#39;ll be able to inject necessary values in test without reflection.\r\n\r\nNow about private methods. In my personal experience when you have to stub a private method for testing, then that method has nothing to do in that class. A common pattern, in that case, would be to *wrap* it within an interface, like `Callable` and then you pass in that interface also in the constructor (with that multiple constructor trick):\r\n\r\n    public ClassToTest() {\r\n        this(...);\r\n    }\r\n\r\n    public ClassToTest(final Callable&lt;T&gt; privateMethodLogic) {\r\n        this.privateMethodLogic = privateMethodLogic;\r\n    }\r\n\r\nMostly all that I wrote looks like it&#39;s a [dependency injection][1] pattern. In my personal experience it&#39;s really useful while testing, and I think that this kind of code is cleaner and will be easier to maintain. I&#39;d say the same about nested classes. If a nested class contains heavy logic it would be better if you&#39;d moved it as a package private class and have injected it into a class needing it.\r\n\r\nThere are also several other design patterns which I have used while refactoring and maintaining legacy code, but it all depends on cases of your code to test. Using reflection mostly is not a problem, but when you have an enterprise application which is heavily tested and tests are run before every deployment everything gets really slow (it&#39;s just annoying and I don&#39;t like that kind of stuff).\r\n\r\nThere is also setter injection, but I wouldn&#39;t recommended using it. I&#39;d better stick with a constructor and initialize everything when it&#39;s really necessary, leaving the possibility for injecting necessary dependencies.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I would suggest you refactoring your code a little bit. When you have to start thinking about using reflection or other kind of stuff, for just testing your code, something is going wrong with your code.</p>\n<p>You mentioned different types of problems. Let's start with private fields. In case of private fields I would have added a new constructor and injected fields into that. Instead of this:</p>\n<pre><code>public class ClassToTest {\n\n    private final String first = &quot;first&quot;;\n    private final List&lt;String&gt; second = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n<p>I'd have used this:</p>\n<pre><code>public class ClassToTest {\n\n    private final String first;\n    private final List&lt;String&gt; second;\n\n    public ClassToTest() {\n        this(&quot;first&quot;, new ArrayList&lt;&gt;());\n    }\n\n    public ClassToTest(final String first, final List&lt;String&gt; second) {\n        this.first = first;\n        this.second = second;\n    }\n    ...\n}\n</code></pre>\n<p>This won't be a problem even with some legacy code. Old code will be using an empty constructor, and if you ask me, refactored code will look cleaner, and you'll be able to inject necessary values in test without reflection.</p>\n<p>Now about private methods. In my personal experience when you have to stub a private method for testing, then that method has nothing to do in that class. A common pattern, in that case, would be to <em>wrap</em> it within an interface, like <code>Callable</code> and then you pass in that interface also in the constructor (with that multiple constructor trick):</p>\n<pre><code>public ClassToTest() {\n    this(...);\n}\n\npublic ClassToTest(final Callable&lt;T&gt; privateMethodLogic) {\n    this.privateMethodLogic = privateMethodLogic;\n}\n</code></pre>\n<p>Mostly all that I wrote looks like it's a <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a> pattern. In my personal experience it's really useful while testing, and I think that this kind of code is cleaner and will be easier to maintain. I'd say the same about nested classes. If a nested class contains heavy logic it would be better if you'd moved it as a package private class and have injected it into a class needing it.</p>\n<p>There are also several other design patterns which I have used while refactoring and maintaining legacy code, but it all depends on cases of your code to test. Using reflection mostly is not a problem, but when you have an enterprise application which is heavily tested and tests are run before every deployment everything gets really slow (it's just annoying and I don't like that kind of stuff).</p>\n<p>There is also setter injection, but I wouldn't recommended using it. I'd better stick with a constructor and initialize everything when it's really necessary, leaving the possibility for injecting necessary dependencies.</p>\n"},{"tags":[],"owner":{"account_id":10300420,"reputation":300,"user_id":7599315,"accept_rate":62,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669386714,"creation_date":1504892218,"answer_id":46121866,"question_id":34571,"body_markdown":"You can use [PowerMockito][1] to set return values for private fields and private methods that are called/used in the private method you want to test:\r\n\r\nFor example, setting a return value for a private method:\r\n\r\n    MyClient classUnderTest = PowerMockito.spy(new MyClient());\r\n\r\n    // Set the expected return value\r\n    PowerMockito.doReturn(20).when(classUnderTest, &quot;myPrivateMethod&quot;, anyString(), anyInt());\r\n    // This is very important. Otherwise, it will not work\r\n    classUnderTest.myPrivateMethod();\r\n\r\n    // Setting the private field value as someValue:\r\n    Whitebox.setInternalState(classUnderTest, &quot;privateField&quot;, someValue);\r\n\r\nThen finally you can validate your private method under test is returning the correct value based on set values above by:\r\n\r\n    String msg = Whitebox.invokeMethod(obj, &quot;privateMethodToBeTested&quot;, &quot;param1&quot;);\r\n    Assert.assertEquals(privateMsg, msg);\r\n\r\nOr\r\n\r\nIf the classUnderTest private method does not return a value, but it sets another private field then you can get that private field value to see if it was set correctly:\r\n\r\n    // To get the value of a private field\r\n    MyClass obj = Whitebox.getInternalState(classUnderTest, &quot;foo&quot;);\r\n    assertThat(obj, is(notNull(MyClass.class))); // Or test value\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mockito\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can use <a href=\"https://en.wikipedia.org/wiki/Mockito\" rel=\"nofollow noreferrer\">PowerMockito</a> to set return values for private fields and private methods that are called/used in the private method you want to test:</p>\n<p>For example, setting a return value for a private method:</p>\n<pre><code>MyClient classUnderTest = PowerMockito.spy(new MyClient());\n\n// Set the expected return value\nPowerMockito.doReturn(20).when(classUnderTest, &quot;myPrivateMethod&quot;, anyString(), anyInt());\n// This is very important. Otherwise, it will not work\nclassUnderTest.myPrivateMethod();\n\n// Setting the private field value as someValue:\nWhitebox.setInternalState(classUnderTest, &quot;privateField&quot;, someValue);\n</code></pre>\n<p>Then finally you can validate your private method under test is returning the correct value based on set values above by:</p>\n<pre><code>String msg = Whitebox.invokeMethod(obj, &quot;privateMethodToBeTested&quot;, &quot;param1&quot;);\nAssert.assertEquals(privateMsg, msg);\n</code></pre>\n<p>Or</p>\n<p>If the classUnderTest private method does not return a value, but it sets another private field then you can get that private field value to see if it was set correctly:</p>\n<pre><code>// To get the value of a private field\nMyClass obj = Whitebox.getInternalState(classUnderTest, &quot;foo&quot;);\nassertThat(obj, is(notNull(MyClass.class))); // Or test value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6209421,"reputation":174,"user_id":4836141,"display_name":"Miladinho"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1669387428,"creation_date":1509303695,"answer_id":47004093,"question_id":34571,"body_markdown":"If you are worried by not testing private methods as many of the posts suggest, consider that a **code coverage** tool will determine exactly how much of your code is tested and where it leaks, so it is quantifiably acceptable to do this.\r\n\r\nAnswers that direct the author of the question towards a &#39;workaround&#39; are doing a massive disservice to the community. Testing is a major part of all engineering disciplines. You would not want to buy a car that is not properly tested, and tested in a meaningful way, so why would anyone want to buy or use software that is tested poorly? The reason people do this anyway is probably because the effects of badly tested software are felt way after the fact, and we don&#39;t usually associate them with bodily harm.\r\n\r\nThis is a very dangerous perception which will be difficult to change, but it is our responsibility to deliver safe products regardless of what even management is bullying us to do. Think [the Equifax hack][1]... \r\n\r\nWe must strive to build an environment that encourages good software engineering practices. This does not mean ostracizing the weak/lazy among us who do not take their craft seriously, but rather, to create a status quo of accountability and self reflection that would encourage everyone to pursue growth, both mentally and skillfully. \r\n\r\nI am still learning, and may have wrong perceptions/opinions myself, but I do firmly believe that we need to hold ourselves accountable to good practices and shun irresponsible hacks or workarounds to problems.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/2017_Equifax_data_breach#Data_breach\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you are worried by not testing private methods as many of the posts suggest, consider that a <strong>code coverage</strong> tool will determine exactly how much of your code is tested and where it leaks, so it is quantifiably acceptable to do this.</p>\n<p>Answers that direct the author of the question towards a 'workaround' are doing a massive disservice to the community. Testing is a major part of all engineering disciplines. You would not want to buy a car that is not properly tested, and tested in a meaningful way, so why would anyone want to buy or use software that is tested poorly? The reason people do this anyway is probably because the effects of badly tested software are felt way after the fact, and we don't usually associate them with bodily harm.</p>\n<p>This is a very dangerous perception which will be difficult to change, but it is our responsibility to deliver safe products regardless of what even management is bullying us to do. Think <a href=\"https://en.wikipedia.org/wiki/2017_Equifax_data_breach#Data_breach\" rel=\"nofollow noreferrer\">the Equifax hack</a>...</p>\n<p>We must strive to build an environment that encourages good software engineering practices. This does not mean ostracizing the weak/lazy among us who do not take their craft seriously, but rather, to create a status quo of accountability and self reflection that would encourage everyone to pursue growth, both mentally and skillfully.</p>\n<p>I am still learning, and may have wrong perceptions/opinions myself, but I do firmly believe that we need to hold ourselves accountable to good practices and shun irresponsible hacks or workarounds to problems.</p>\n"},{"tags":[],"owner":{"account_id":1687550,"reputation":3781,"user_id":1550509,"accept_rate":44,"display_name":"Android is everything for me"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669388091,"creation_date":1511436840,"answer_id":47454552,"question_id":34571,"body_markdown":"The best and proper legal way to test a Java private method from a test framework is the **@VisibleForTesting** annotation over the method, so the same method will be visible for the test framework like a public method.\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The best and proper legal way to test a Java private method from a test framework is the <strong>@VisibleForTesting</strong> annotation over the method, so the same method will be visible for the test framework like a public method.</p>\n"},{"tags":[],"owner":{"account_id":1142219,"reputation":868,"user_id":1125774,"display_name":"mohammad madani"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1669388138,"creation_date":1515571007,"answer_id":48182688,"question_id":34571,"body_markdown":"In [C++][1]: before including the class header that has a private function that you want to test.\r\n\r\nUse this code:\r\n\r\n```lang-cpp\r\n#define private public\r\n#define protected public\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C%2B%2B\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a>: before including the class header that has a private function that you want to test.</p>\n<p>Use this code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#define private public\n#define protected public\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1669388181,"creation_date":1516824508,"answer_id":48430793,"question_id":34571,"body_markdown":"[PowerMockito][1] is made for this.\r\n\r\nUse a [Maven][2] dependency:\r\n\r\n```lang-xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThen you can do\r\n\r\n    import org.powermock.reflect.Whitebox;\r\n    ...\r\n    MyClass sut = new MyClass();\r\n    SomeType rval = Whitebox.invokeMethod(sut, &quot;myPrivateMethod&quot;, params, moreParams);\r\n\r\n  [1]: https://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-wok/184109#184109\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><a href=\"https://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-wok/184109#184109\">PowerMockito</a> is made for this.</p>\n<p>Use a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then you can do</p>\n<pre><code>import org.powermock.reflect.Whitebox;\n...\nMyClass sut = new MyClass();\nSomeType rval = Whitebox.invokeMethod(sut, &quot;myPrivateMethod&quot;, params, moreParams);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11399392,"reputation":179,"user_id":8356771,"accept_rate":75,"display_name":"HilaB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668791949,"creation_date":1530184772,"answer_id":51081607,"question_id":34571,"body_markdown":"My team and I are using Typemock, which has an API that allows you to [fake non-public methods][1].\r\n\r\nRecently they added the ability to [fake non-visible types][2] and to use [xUnit][3].\r\n\r\n  [1]: https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Fcontrollingnonpublicmethods.htm\r\n  [2]: https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Ffakingnonpublicobjects.htm\r\n  [3]: https://en.wikipedia.org/wiki/XUnit\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>My team and I are using Typemock, which has an API that allows you to <a href=\"https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Fcontrollingnonpublicmethods.htm\" rel=\"nofollow noreferrer\">fake non-public methods</a>.</p>\n<p>Recently they added the ability to <a href=\"https://www.typemock.com/docs/?book=Isolator&amp;page=Documentation%2FHtmlDocs%2Ffakingnonpublicobjects.htm\" rel=\"nofollow noreferrer\">fake non-visible types</a> and to use <a href=\"https://en.wikipedia.org/wiki/XUnit\" rel=\"nofollow noreferrer\">xUnit</a>.</p>\n"},{"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669388375,"creation_date":1537609671,"answer_id":52455476,"question_id":34571,"body_markdown":"If you have a case where you really need to test a private method/class etc.. directly, you can use reflection as already mentioned in other answers. However if it comes to that, instead of dealing directly with reflection I&#39;d rather use utility classes provided by your framework. For instance, for Java we have:\r\n\r\n - [ReflectionUtils][1] in [Spring Framework][2]\r\n\r\n - [ReflectionUtils][3] in [JUnit][4]\r\n\r\nAs per how to use them, you can find plenty of articles online. Here one that I particularly liked:\r\n\r\n - [Java Code Examples for org.springframework.util.ReflectionUtils][5]\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\r\n  [2]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [3]: https://junit.org/junit5/docs/5.0.3/api/org/junit/platform/commons/util/ReflectionUtils.html\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.util.ReflectionUtils\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you have a case where you really need to test a private method/class etc.. directly, you can use reflection as already mentioned in other answers. However if it comes to that, instead of dealing directly with reflection I'd rather use utility classes provided by your framework. For instance, for Java we have:</p>\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> in <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring Framework</a></p>\n</li>\n<li><p><a href=\"https://junit.org/junit5/docs/5.0.3/api/org/junit/platform/commons/util/ReflectionUtils.html\" rel=\"nofollow noreferrer\">ReflectionUtils</a> in <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">JUnit</a></p>\n</li>\n</ul>\n<p>As per how to use them, you can find plenty of articles online. Here one that I particularly liked:</p>\n<ul>\n<li><a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.util.ReflectionUtils\" rel=\"nofollow noreferrer\">Java Code Examples for org.springframework.util.ReflectionUtils</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10344385,"reputation":1140,"user_id":7629797,"display_name":"Louis Saglio"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1544730020,"creation_date":1544730020,"answer_id":53768967,"question_id":34571,"body_markdown":"You can create a special public method to proxy the private method to test.\r\nThe @TestOnly annotation is out of the box available when using IntelliJ.\r\nThe downside is is that if somebody want to to use the private method in a public context, he can do it. But he will be warned by the annotation and the method name. On IntelliJ a warning will appear when doing it.\r\n\r\n    import org.jetbrains.annotations.TestOnly\r\n\r\n    class MyClass {\r\n    \r\n        private void aPrivateMethod() {}\r\n\r\n        @TestOnly\r\n        public void aPrivateMethodForTest() {\r\n            aPrivateMethod()\r\n        }\r\n    }","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>You can create a special public method to proxy the private method to test.\nThe @TestOnly annotation is out of the box available when using IntelliJ.\nThe downside is is that if somebody want to to use the private method in a public context, he can do it. But he will be warned by the annotation and the method name. On IntelliJ a warning will appear when doing it.</p>\n\n<pre><code>import org.jetbrains.annotations.TestOnly\n\nclass MyClass {\n\n    private void aPrivateMethod() {}\n\n    @TestOnly\n    public void aPrivateMethodForTest() {\n        aPrivateMethod()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5412696,"reputation":2669,"user_id":4308897,"display_name":"Ercan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670463759,"creation_date":1554798212,"answer_id":55588184,"question_id":34571,"body_markdown":"There is another approach to test your private methods.\r\n\r\nIf you &quot;enable assertion&quot; in run configurations then you can unit test your method inside the method itself. For example;\r\n\r\n    assert (&quot;Ercan&quot;.equals(person1.name));\r\n    assert (Person.count == 2);","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>There is another approach to test your private methods.</p>\n<p>If you &quot;enable assertion&quot; in run configurations then you can unit test your method inside the method itself. For example;</p>\n<pre><code>assert (&quot;Ercan&quot;.equals(person1.name));\nassert (Person.count == 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670464487,"creation_date":1557671253,"answer_id":56100192,"question_id":34571,"body_markdown":"`PowerMock.Whitebox` is the best option I have seen, but when I read its source code, it reads private fields with reflection, so I think I have my answer:\r\n\r\n - test private internal states (fields) with [PowerMock][1], or just reflection without the overhead of introducing another independency\r\n\r\n - for private methods: actually, the upvote for this question itself, and the huge number of comments and answers, shows that it is a very concurrent and controversial topic **where no definite answer could be given to suit every circumstance**. I understand that only the contract should be tested, but we also have coverage to consider. Actually, **I doubt that only testing contracts will 100% make a class immune to errors**. Private methods are those who process data in the class where it is defined and thus does not interest other classes, so we cannot simply expose to make it testable. I will **try not to test them**, but when you have to, **just go for it and forget all the answers here**. You know better your situation and restrictions than any other one on the Internet. When you have control over your code, use that. With consideration, but without overthinking.\r\n\r\n---\r\n\r\nAfter some time, when I reconsider it, I still believe this is true, but I saw better approaches.\r\n\r\nFirst of all, `Powermock.Whitebox` is still usable.\r\n\r\nAnd, Mockito `Whitebox` has been hidden after v2 (the latest version I can find with `Whitebox` is `testImplementation &#39;org.mockito:mockito-core:1.10.19&#39;`) and it has always been part of `org.mockito.internal` package, which is prone of breaking changes in the future (see [this post](https://stackoverflow.com/questions/40280918/what-do-i-use-instead-of-whitebox-in-mockito-2-2-to-set-fields)). So now I tend not to use it.\r\n\r\nIn [Gradle][2]/[Maven][3] projects, if you define private methods or fields, there aren&#39;t any other ways than reflection to get access to them, so the first part stays true. But, if you change the visibility to &quot;package private&quot;, **the tests following the same structure in `test` package will have access to them.** That is also another important reason why we are encouraged to create the same hierarchy in `main` and `test` package. So, when you have control over production code as well as tests, delete that `private` access modifier may be the best option for you because relatively it does not cause huge impact. And, that makes testing as well as **private method spying** possible.\r\n\r\n```java\r\n@Autowired\r\nprivate SomeService service; // With a package private method &quot;doSomething()&quot;\r\n\r\n@Test\r\nvoid shouldReturnTrueDoSomething() {\r\n    assertThat(doSomething(input), is(true)); // Package private method testing\r\n}\r\n\r\n@Test\r\nvoid shouldReturnTrueWhenServiceThrowsException() {\r\n    SomeService spy = Mockito.spy(service); // Spying real object\r\n    doThrow(new AppException()).when(spy).doSomething(input); // Spy package private method\r\n    ...\r\n\r\n}\r\n```\r\n\r\nWhen it comes to internal fields, in [Spring][4] you have `ReflectionUtils.setField()`.\r\n\r\nAt last, sometimes we can bypass the problem itself: if there is a coverage requirement to meet, maybe you can move these private methods into an inner static class and ignore this class in Jacoco. I just found some way to ignore the inner class in Jacoco Gradle tasks. [Another question][5].\r\n\r\n  [1]: https://de.wikipedia.org/wiki/PowerMock\r\n  [2]: https://en.wikipedia.org/wiki/Gradle\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [4]: https://en.wikipedia.org/wiki/Spring_Framework\r\n  [5]: https://stackoverflow.com/questions/58604955/how-to-ignore-inner-static-classes-in-jacoco-when-using-gradle\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p><code>PowerMock.Whitebox</code> is the best option I have seen, but when I read its source code, it reads private fields with reflection, so I think I have my answer:</p>\n<ul>\n<li><p>test private internal states (fields) with <a href=\"https://de.wikipedia.org/wiki/PowerMock\" rel=\"nofollow noreferrer\">PowerMock</a>, or just reflection without the overhead of introducing another independency</p>\n</li>\n<li><p>for private methods: actually, the upvote for this question itself, and the huge number of comments and answers, shows that it is a very concurrent and controversial topic <strong>where no definite answer could be given to suit every circumstance</strong>. I understand that only the contract should be tested, but we also have coverage to consider. Actually, <strong>I doubt that only testing contracts will 100% make a class immune to errors</strong>. Private methods are those who process data in the class where it is defined and thus does not interest other classes, so we cannot simply expose to make it testable. I will <strong>try not to test them</strong>, but when you have to, <strong>just go for it and forget all the answers here</strong>. You know better your situation and restrictions than any other one on the Internet. When you have control over your code, use that. With consideration, but without overthinking.</p>\n</li>\n</ul>\n<hr />\n<p>After some time, when I reconsider it, I still believe this is true, but I saw better approaches.</p>\n<p>First of all, <code>Powermock.Whitebox</code> is still usable.</p>\n<p>And, Mockito <code>Whitebox</code> has been hidden after v2 (the latest version I can find with <code>Whitebox</code> is <code>testImplementation 'org.mockito:mockito-core:1.10.19'</code>) and it has always been part of <code>org.mockito.internal</code> package, which is prone of breaking changes in the future (see <a href=\"https://stackoverflow.com/questions/40280918/what-do-i-use-instead-of-whitebox-in-mockito-2-2-to-set-fields\">this post</a>). So now I tend not to use it.</p>\n<p>In <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>/<a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> projects, if you define private methods or fields, there aren't any other ways than reflection to get access to them, so the first part stays true. But, if you change the visibility to &quot;package private&quot;, <strong>the tests following the same structure in <code>test</code> package will have access to them.</strong> That is also another important reason why we are encouraged to create the same hierarchy in <code>main</code> and <code>test</code> package. So, when you have control over production code as well as tests, delete that <code>private</code> access modifier may be the best option for you because relatively it does not cause huge impact. And, that makes testing as well as <strong>private method spying</strong> possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate SomeService service; // With a package private method &quot;doSomething()&quot;\n\n@Test\nvoid shouldReturnTrueDoSomething() {\n    assertThat(doSomething(input), is(true)); // Package private method testing\n}\n\n@Test\nvoid shouldReturnTrueWhenServiceThrowsException() {\n    SomeService spy = Mockito.spy(service); // Spying real object\n    doThrow(new AppException()).when(spy).doSomething(input); // Spy package private method\n    ...\n\n}\n</code></pre>\n<p>When it comes to internal fields, in <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a> you have <code>ReflectionUtils.setField()</code>.</p>\n<p>At last, sometimes we can bypass the problem itself: if there is a coverage requirement to meet, maybe you can move these private methods into an inner static class and ignore this class in Jacoco. I just found some way to ignore the inner class in Jacoco Gradle tasks. <a href=\"https://stackoverflow.com/questions/58604955/how-to-ignore-inner-static-classes-in-jacoco-when-using-gradle\">Another question</a>.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670464852,"creation_date":1562946652,"answer_id":57010282,"question_id":34571,"body_markdown":"Android has the [`@VisibleForTesting`][1] annotation from `android.support.annotation` package.\r\n\r\n&gt; The `@VisibleForTesting` annotation indicates that an annotated method is more visible than normally necessary to make the method testable. This annotation has an optional `otherwise` argument that lets you designate what the visibility of the method should have been if not for the need to make it visible for testing. Lint uses the `otherwise` argument to enforce the intended visibility.\r\n\r\nIn practice, it means that you should make a method open for testing and the `@VisibleForTesting` annotation will show a warning.\r\n\r\nFor example\r\n\r\n    package com.mypackage;\r\n\r\n    public class ClassA {\r\n\r\n        @VisibleForTesting(otherwise = VisibleForTesting.PRIVATE)\r\n        static void myMethod() {\r\n\r\n        }\r\n    }\r\n\r\nAnd when you call ClassA.myMethod() within the same package(com.mypackage) you will see the warning.\r\n\r\n[![Enter image description here][2]][2]\r\n\r\n  [1]: https://developer.android.com/studio/write/annotations.html#visible\r\n  [2]: https://i.stack.imgur.com/25FX3.png\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Android has the <a href=\"https://developer.android.com/studio/write/annotations.html#visible\" rel=\"nofollow noreferrer\"><code>@VisibleForTesting</code></a> annotation from <code>android.support.annotation</code> package.</p>\n<blockquote>\n<p>The <code>@VisibleForTesting</code> annotation indicates that an annotated method is more visible than normally necessary to make the method testable. This annotation has an optional <code>otherwise</code> argument that lets you designate what the visibility of the method should have been if not for the need to make it visible for testing. Lint uses the <code>otherwise</code> argument to enforce the intended visibility.</p>\n</blockquote>\n<p>In practice, it means that you should make a method open for testing and the <code>@VisibleForTesting</code> annotation will show a warning.</p>\n<p>For example</p>\n<pre><code>package com.mypackage;\n\npublic class ClassA {\n\n    @VisibleForTesting(otherwise = VisibleForTesting.PRIVATE)\n    static void myMethod() {\n\n    }\n}\n</code></pre>\n<p>And when you call ClassA.myMethod() within the same package(com.mypackage) you will see the warning.</p>\n<p><a href=\"https://i.stack.imgur.com/25FX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25FX3.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3483592,"reputation":4765,"user_id":2915032,"accept_rate":100,"display_name":"avtomaton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565894467,"creation_date":1565893963,"answer_id":57514468,"question_id":34571,"body_markdown":"For C++ (since C++11) adding the test class as a friend works perfectly and does not break production encapsulation.\r\n\r\nLet&#39;s suppose that we have some class `Foo` with some private functions which really require testing, and some class `FooTest` that should have access to Foo&#39;s private members. Then we should write the following:\r\n\r\n```\r\n// prod.h: some production code header\r\n\r\n// forward declaration is enough\r\n// we should not include testing headers into production code\r\nclass FooTest;\r\n\r\nclass Foo\r\n{\r\n  // that does not affect Foo&#39;s functionality\r\n  // but now we have access to Foo&#39;s members from FooTest\r\n  friend FooTest;\r\npublic:\r\n  Foo();\r\nprivate:\r\n  bool veryComplicatedPrivateFuncThatReallyRequiresTesting();\r\n}\r\n```\r\n\r\n```\r\n// test.cpp: some test\r\n#include &lt;prod.h&gt;\r\n\r\nclass FooTest\r\n{\r\npublic:\r\n  void complicatedFisture() {\r\n    Foo foo;\r\n    ASSERT_TRUE(foo.veryComplicatedPrivateFuncThatReallyRequiresTesting());\r\n  }\r\n}\r\n\r\nint main(int /*argc*/, char* argv[])\r\n{\r\n  FooTest test;\r\n  test.complicatedFixture();  // and it really works!\r\n}\r\n```","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>For C++ (since C++11) adding the test class as a friend works perfectly and does not break production encapsulation.</p>\n\n<p>Let's suppose that we have some class <code>Foo</code> with some private functions which really require testing, and some class <code>FooTest</code> that should have access to Foo's private members. Then we should write the following:</p>\n\n<pre><code>// prod.h: some production code header\n\n// forward declaration is enough\n// we should not include testing headers into production code\nclass FooTest;\n\nclass Foo\n{\n  // that does not affect Foo's functionality\n  // but now we have access to Foo's members from FooTest\n  friend FooTest;\npublic:\n  Foo();\nprivate:\n  bool veryComplicatedPrivateFuncThatReallyRequiresTesting();\n}\n</code></pre>\n\n<pre><code>// test.cpp: some test\n#include &lt;prod.h&gt;\n\nclass FooTest\n{\npublic:\n  void complicatedFisture() {\n    Foo foo;\n    ASSERT_TRUE(foo.veryComplicatedPrivateFuncThatReallyRequiresTesting());\n  }\n}\n\nint main(int /*argc*/, char* argv[])\n{\n  FooTest test;\n  test.complicatedFixture();  // and it really works!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571406813,"creation_date":1571406813,"answer_id":58452308,"question_id":34571,"body_markdown":"The following **Reflection TestUtil** could be ***used generically*** to test the ***private methods for their atomicity***.\r\n\r\n\r\n\r\n\r\n    import com.google.common.base.Preconditions;\r\n    \r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    /**\r\n     * &lt;p&gt;\r\n     * Invoker\r\n     * &lt;/p&gt;\r\n     *\r\n     * @author\r\n     * @created Oct-10-2019\r\n     */\r\n    public class Invoker {\r\n        private Object target;\r\n        private String methodName;\r\n        private Object[] arguments;\r\n    \r\n        public &lt;T&gt; T invoke() {\r\n            try {\r\n                Preconditions.checkNotNull(target, &quot;Target cannot be empty&quot;);\r\n                Preconditions.checkNotNull(methodName, &quot;MethodName cannot be empty&quot;);\r\n                if (null == arguments) {\r\n                    return ReflectionTestUtils.invokeMethod(target, methodName);\r\n                } else {\r\n                    return ReflectionTestUtils.invokeMethod(target, methodName, arguments);\r\n                }\r\n            } catch (Exception e) {\r\n               throw e;\r\n            }\r\n        }\r\n    \r\n        public Invoker withTarget(Object target) {\r\n            this.target = target;\r\n            return this;\r\n        }\r\n    \r\n        public Invoker withMethod(String methodName) {\r\n            this.methodName = methodName;\r\n            return this;\r\n        }\r\n    \r\n        public Invoker withArguments(Object... args) {\r\n            this.arguments = args;\r\n            return this;\r\n        }\r\n    \r\n    }\r\n    \r\n    Object privateMethodResponse = new Invoker()\r\n      .withTarget(targetObject)\r\n      .withMethod(PRIVATE_METHOD_NAME_TO_INVOKE)\r\n      .withArguments(arg1, arg2, arg3)\r\n      .invoke();\r\n    Assert.assertNotNutll(privateMethodResponse)\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>The following <strong>Reflection TestUtil</strong> could be <strong><em>used generically</em></strong> to test the <strong><em>private methods for their atomicity</em></strong>.</p>\n\n<pre><code>import com.google.common.base.Preconditions;\n\nimport org.springframework.test.util.ReflectionTestUtils;\n\n/**\n * &lt;p&gt;\n * Invoker\n * &lt;/p&gt;\n *\n * @author\n * @created Oct-10-2019\n */\npublic class Invoker {\n    private Object target;\n    private String methodName;\n    private Object[] arguments;\n\n    public &lt;T&gt; T invoke() {\n        try {\n            Preconditions.checkNotNull(target, \"Target cannot be empty\");\n            Preconditions.checkNotNull(methodName, \"MethodName cannot be empty\");\n            if (null == arguments) {\n                return ReflectionTestUtils.invokeMethod(target, methodName);\n            } else {\n                return ReflectionTestUtils.invokeMethod(target, methodName, arguments);\n            }\n        } catch (Exception e) {\n           throw e;\n        }\n    }\n\n    public Invoker withTarget(Object target) {\n        this.target = target;\n        return this;\n    }\n\n    public Invoker withMethod(String methodName) {\n        this.methodName = methodName;\n        return this;\n    }\n\n    public Invoker withArguments(Object... args) {\n        this.arguments = args;\n        return this;\n    }\n\n}\n\nObject privateMethodResponse = new Invoker()\n  .withTarget(targetObject)\n  .withMethod(PRIVATE_METHOD_NAME_TO_INVOKE)\n  .withArguments(arg1, arg2, arg3)\n  .invoke();\nAssert.assertNotNutll(privateMethodResponse)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281059,"reputation":57,"user_id":4458900,"display_name":"backcoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668790967,"creation_date":1579141772,"answer_id":59762243,"question_id":34571,"body_markdown":"If you are only using [Mockito][1]:\r\n\r\nYou can consider the private method as a part of public method being tested. You can make sure you cover all the cases in private method when testing public method.\r\n\r\nSuppose you are a Mockito-only user (you are not allowed or don&#39;t want to use [PowerMock][2] or reflection or any such tools) and you don’t want to change the existing code or libraries being tested, this might be the best way.\r\n\r\nThe only thing you need to handle if you choose this way is the variables (user-defined objects) declared locally within private methods.  If the private method depends on locally declared variable objects and their methods, make sure you declare those user-defined objects globally as private object instead of locally declared objects. You can instantiate these objects locally.\r\n\r\nThis allows you to [mock][3] these objects and inject them back to testing object. You can also mock (using when/then) their methods.\r\n\r\nThis will allow you test private method without errors when testing the public method.\r\n\r\nAdvantages\r\n\r\n1. Code coverage\r\n2. Able to test the complete private method.\r\n\r\nDisadvantages\r\n\r\n1. Scope of the object&amp;mdash;if you don&#39;t want the object to be exposed to other methods within same class, this might not be your way.\r\n2. You might end up testing the private method multiple times when invoked at different public methods and/or in the same method multiple times.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mockito\r\n  [2]: https://de.wikipedia.org/wiki/PowerMock\r\n  [3]: https://en.wikipedia.org/wiki/Mock_object\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>If you are only using <a href=\"https://en.wikipedia.org/wiki/Mockito\" rel=\"nofollow noreferrer\">Mockito</a>:</p>\n<p>You can consider the private method as a part of public method being tested. You can make sure you cover all the cases in private method when testing public method.</p>\n<p>Suppose you are a Mockito-only user (you are not allowed or don't want to use <a href=\"https://de.wikipedia.org/wiki/PowerMock\" rel=\"nofollow noreferrer\">PowerMock</a> or reflection or any such tools) and you don’t want to change the existing code or libraries being tested, this might be the best way.</p>\n<p>The only thing you need to handle if you choose this way is the variables (user-defined objects) declared locally within private methods.  If the private method depends on locally declared variable objects and their methods, make sure you declare those user-defined objects globally as private object instead of locally declared objects. You can instantiate these objects locally.</p>\n<p>This allows you to <a href=\"https://en.wikipedia.org/wiki/Mock_object\" rel=\"nofollow noreferrer\">mock</a> these objects and inject them back to testing object. You can also mock (using when/then) their methods.</p>\n<p>This will allow you test private method without errors when testing the public method.</p>\n<p>Advantages</p>\n<ol>\n<li>Code coverage</li>\n<li>Able to test the complete private method.</li>\n</ol>\n<p>Disadvantages</p>\n<ol>\n<li>Scope of the object—if you don't want the object to be exposed to other methods within same class, this might not be your way.</li>\n<li>You might end up testing the private method multiple times when invoked at different public methods and/or in the same method multiple times.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670463881,"creation_date":1584121344,"answer_id":60675043,"question_id":34571,"body_markdown":"Use this utility class if you are on [Spring][1]:\r\n\r\n    ReflectionTestUtils.invokeMethod(new ClassName(), &quot;privateMethodName&quot;);\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Use this utility class if you are on <a href=\"https://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring</a>:</p>\n<pre><code>ReflectionTestUtils.invokeMethod(new ClassName(), &quot;privateMethodName&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9827336,"reputation":725,"user_id":7280140,"accept_rate":56,"display_name":"Ahmed Hussein"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1593413584,"creation_date":1593413584,"answer_id":62632701,"question_id":34571,"body_markdown":"In your class:\r\n\r\n    namespace my_namespace {\r\n        #ifdef UNIT_TEST\r\n            class test_class;\r\n        #endif\r\n\r\n        class my_class {\r\n            public:\r\n                #ifdef UNIT_TEST\r\n                    friend class test_class;\r\n                #endif\r\n            private:\r\n                void fun() { cout &lt;&lt; &quot;I am private&quot; &lt;&lt; endl; }\r\n        }\r\n    }\r\n\r\nIn your unit test class:\r\n\r\n    #ifndef UNIT_TEST\r\n        #define UNIT_TEST\r\n    #endif\r\n\r\n    #include &quot;my_class.h&quot;\r\n \r\n    class my_namespace::test_class {\r\n        public:\r\n            void fun() { my_obj.fun(); }\r\n        private:\r\n            my_class my_obj;\r\n    }\r\n\r\n    void my_unit_test() {\r\n        test_class test_obj;\r\n        test_obj.fun(); // here you accessed the private function ;)\r\n    }\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>In your class:</p>\n<pre><code>namespace my_namespace {\n    #ifdef UNIT_TEST\n        class test_class;\n    #endif\n\n    class my_class {\n        public:\n            #ifdef UNIT_TEST\n                friend class test_class;\n            #endif\n        private:\n            void fun() { cout &lt;&lt; &quot;I am private&quot; &lt;&lt; endl; }\n    }\n}\n</code></pre>\n<p>In your unit test class:</p>\n<pre><code>#ifndef UNIT_TEST\n    #define UNIT_TEST\n#endif\n\n#include &quot;my_class.h&quot;\n\nclass my_namespace::test_class {\n    public:\n        void fun() { my_obj.fun(); }\n    private:\n        my_class my_obj;\n}\n\nvoid my_unit_test() {\n    test_class test_obj;\n    test_obj.fun(); // here you accessed the private function ;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668999884,"creation_date":1595576782,"answer_id":63069114,"question_id":34571,"body_markdown":"Here is my [Lombok][1] sample:\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\r\n        Student student = new Student();\r\n\r\n        Field privateFieldName = Student.class.getDeclaredField(&quot;name&quot;);\r\n        privateFieldName.setAccessible(true);\r\n        privateFieldName.set(student, &quot;Naruto&quot;);\r\n\r\n        Field privateFieldAge = Student.class.getDeclaredField(&quot;age&quot;);\r\n        privateFieldAge.setAccessible(true);\r\n        privateFieldAge.set(student, &quot;28&quot;);\r\n\r\n        System.out.println(student.toString());\r\n\r\n        Method privateMethodGetInfo = Student.class.getDeclaredMethod(&quot;getInfo&quot;, String.class, String.class);\r\n        privateMethodGetInfo.setAccessible(true);\r\n        System.out.println(privateMethodGetInfo.invoke(student, &quot;Sasuke&quot;, &quot;29&quot;));\r\n    }\r\n\r\n\r\n    @Setter\r\n    @Getter\r\n    @ToString\r\n    class Student {\r\n        private String name;\r\n        private String age;\r\n        \r\n        private String getInfo(String name, String age) {\r\n            return name + &quot;-&quot; + age;\r\n        }\r\n    }\r\n\r\n  [1]: https://projectlombok.org/features/\r\n\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Here is my <a href=\"https://projectlombok.org/features/\" rel=\"nofollow noreferrer\">Lombok</a> sample:</p>\n<pre><code>public static void main(String[] args) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\n    Student student = new Student();\n\n    Field privateFieldName = Student.class.getDeclaredField(&quot;name&quot;);\n    privateFieldName.setAccessible(true);\n    privateFieldName.set(student, &quot;Naruto&quot;);\n\n    Field privateFieldAge = Student.class.getDeclaredField(&quot;age&quot;);\n    privateFieldAge.setAccessible(true);\n    privateFieldAge.set(student, &quot;28&quot;);\n\n    System.out.println(student.toString());\n\n    Method privateMethodGetInfo = Student.class.getDeclaredMethod(&quot;getInfo&quot;, String.class, String.class);\n    privateMethodGetInfo.setAccessible(true);\n    System.out.println(privateMethodGetInfo.invoke(student, &quot;Sasuke&quot;, &quot;29&quot;));\n}\n\n\n@Setter\n@Getter\n@ToString\nclass Student {\n    private String name;\n    private String age;\n    \n    private String getInfo(String name, String age) {\n        return name + &quot;-&quot; + age;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17380199,"reputation":21,"user_id":12592592,"display_name":"Rinke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670463955,"creation_date":1618262353,"answer_id":67065816,"question_id":34571,"body_markdown":"I think most answers are too crude. It depends on your code if you should test private methods or not.\r\n\r\nI used private method testing in the past, and I did this by reflection. It works for me. I realize the problems with it, but for me it was the best solution.\r\n\r\nI have a heavy application that simulates human behaviour in a population of over a million persons. Every person is represented by an object. The main purpose of the application is to follow how something (disease, information, ideas) spreads through the population.\r\n\r\nFor this I have methods that pass on the disease or information from one object to another. There is absolutely no reason to make these methods public, for the end user is not interested in one pass from person to person. The end user is only interested in the grand picture of how it spreads through the population. So those methods are private.\r\n\r\nBut I want to know for sure if the single act of passing one bit of information from one person to another is doing what it should. Testing it via public user interfaces is also not possible, because it&#39;s just not public, and I think it&#39;s awkward to make it public just for the purpose of testing. The end output of the application is defined by hundreds of millions of such single steps being performed all the time. I cannot test the end output either, because that has complicated stochastability involved, which makes it too unpredictable to test.\r\n\r\nSo the way for me to test the application is by testing a single step of passing information from one person to another person. These are all private methods. And so I use reflection to test that.\r\n\r\nI&#39;m telling this story to show that it&#39;s not that plain black and white story. It depends on your application what is best. Under some circumstances, testing private methods via reflection might be your best option.\r\n\r\nIf some people here know better solutions in my use case, I&#39;d happily stand corrected of course....\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I think most answers are too crude. It depends on your code if you should test private methods or not.</p>\n<p>I used private method testing in the past, and I did this by reflection. It works for me. I realize the problems with it, but for me it was the best solution.</p>\n<p>I have a heavy application that simulates human behaviour in a population of over a million persons. Every person is represented by an object. The main purpose of the application is to follow how something (disease, information, ideas) spreads through the population.</p>\n<p>For this I have methods that pass on the disease or information from one object to another. There is absolutely no reason to make these methods public, for the end user is not interested in one pass from person to person. The end user is only interested in the grand picture of how it spreads through the population. So those methods are private.</p>\n<p>But I want to know for sure if the single act of passing one bit of information from one person to another is doing what it should. Testing it via public user interfaces is also not possible, because it's just not public, and I think it's awkward to make it public just for the purpose of testing. The end output of the application is defined by hundreds of millions of such single steps being performed all the time. I cannot test the end output either, because that has complicated stochastability involved, which makes it too unpredictable to test.</p>\n<p>So the way for me to test the application is by testing a single step of passing information from one person to another person. These are all private methods. And so I use reflection to test that.</p>\n<p>I'm telling this story to show that it's not that plain black and white story. It depends on your application what is best. Under some circumstances, testing private methods via reflection might be your best option.</p>\n<p>If some people here know better solutions in my use case, I'd happily stand corrected of course....</p>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saša"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1668790025,"creation_date":1618563971,"answer_id":67122309,"question_id":34571,"body_markdown":"I want to share a rule I have about testing which particularly is related to this topic:\r\n\r\n&gt; I think that you should never adapt production code in order to\r\n&gt; indulge easer writing of tests.\r\n\r\n*There are a few suggestions in other posts saying you should adapt the original class in order to test a private method - please red this warning first.*\r\n\r\nIf we change the accessibility of a method/field to package private or protected, just in order to have it accessible to tests, then we defeat the purpose of existence of private access directive.\r\n\r\nWhy should we have private fields/methods/classes at all when we want to have [test-driven development][1]? Should we declare everything as package private, or even public then, so we can test without any effort?&amp;mdash;I don&#39;t think so.\r\n\r\nFrom another point of view: *Tests should not burden performance and execution of the production application.*\r\n\r\nIf we change production code just for the sake of easier testing, that may burden performance and the execution of the application in some way.\r\n\r\nIf someone starts to change private access to package private, then a developer may eventually come up to other &quot;ingenious ideas&quot; about adding even more code to the original class. This would make additional noise to readability and can burden the performance of the application.\r\n\r\nWith changing of a private access to some less restrictive, we are opening the possibility to a developer for misusing the new situation in the future development of the application. Instead of enforcing him/her to develop in the proper way, we are tempting him/her with new possibilities and giving him ability to make wrong choices in the future.\r\n\r\nOf course there might be a few exceptions to this rule, but with clear understanding, what is the rule and what is the exception? We need to be absolutely sure we know why that kind of exception is introduced.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test-driven_development\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I want to share a rule I have about testing which particularly is related to this topic:</p>\n<blockquote>\n<p>I think that you should never adapt production code in order to\nindulge easer writing of tests.</p>\n</blockquote>\n<p><em>There are a few suggestions in other posts saying you should adapt the original class in order to test a private method - please red this warning first.</em></p>\n<p>If we change the accessibility of a method/field to package private or protected, just in order to have it accessible to tests, then we defeat the purpose of existence of private access directive.</p>\n<p>Why should we have private fields/methods/classes at all when we want to have <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">test-driven development</a>? Should we declare everything as package private, or even public then, so we can test without any effort?—I don't think so.</p>\n<p>From another point of view: <em>Tests should not burden performance and execution of the production application.</em></p>\n<p>If we change production code just for the sake of easier testing, that may burden performance and the execution of the application in some way.</p>\n<p>If someone starts to change private access to package private, then a developer may eventually come up to other &quot;ingenious ideas&quot; about adding even more code to the original class. This would make additional noise to readability and can burden the performance of the application.</p>\n<p>With changing of a private access to some less restrictive, we are opening the possibility to a developer for misusing the new situation in the future development of the application. Instead of enforcing him/her to develop in the proper way, we are tempting him/her with new possibilities and giving him ability to make wrong choices in the future.</p>\n<p>Of course there might be a few exceptions to this rule, but with clear understanding, what is the rule and what is the exception? We need to be absolutely sure we know why that kind of exception is introduced.</p>\n"},{"tags":[],"owner":{"account_id":3455213,"reputation":473,"user_id":2893873,"accept_rate":50,"display_name":"d3rbastl3r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668789778,"creation_date":1643707352,"answer_id":70938111,"question_id":34571,"body_markdown":"I feel exactly the same ... change the access modifier for a method just to be able to run a test looks for me as a bad idea. Also in our company we had a lot of discussions about it and in my opinion, really nice way to test a private method is to using Java reflection or another framework which making the method testable. I did so multiple times for complex private methods and this helped me to keep the test small, readable and maintainable.\r\n\r\nAfter I have read all the answers here, I just disagree with persons who say &quot;if you need to test a private method, then there is a code smell&quot; or even &quot;don&#180;t test private methods&quot; ... so I have a little example for you:\r\n\r\nImagine I have a class with one public method and a couple of private methods:\r\n\r\n    public class ConwaysGameOfLife {\r\n\r\n        private boolean[][] generationData = new boolean[128][128];\r\n\r\n        /**\r\n         * Compute the next generation and return the new state\r\n         * Also saving the new state in generationData\r\n         */\r\n        public boolean[][] computeNextGeneration() {\r\n            boolean[][] tempData = new boolean[128][128];\r\n\r\n            for (int yPos=0; yPos&lt;=generationData.length; yPos++) {\r\n                for (int xPos=0; xPos&lt;=generationData[yPos].length; xPos++) {\r\n                    int neighbors = countNeighbors(yPos, xPos);\r\n                    tempData[yPos][xPos] = determineCellState(neighbors, yPos, xPos);\r\n                }\r\n            }\r\n\r\n            generationData = tempData;\r\n            return generationData;\r\n        }\r\n\r\n        /**\r\n         * Counting the neighbors for a cell on given position considering all the edge cases\r\n         *\r\n         * @return the amount of found neighbors for a cell\r\n         */\r\n        private int countNeighbors(int yPos, int xPos) {}\r\n\r\n        /**\r\n         * Determine the cell state depending on the amount of neighbors of a cell and on a current state of the cell\r\n         *\r\n         * @return the new cell state\r\n         */\r\n        private boolean determineCellState(int neighborsAmount, int yPos, int xPos) {}\r\n    }\r\n\r\nSo at least for the method &quot;countNeighbors&quot; I need to test eight edge cases and also some general cases (cells directly in the corners, cells directly on the edges of the matrix and cells somewhere in the middle). So if I am only trying to cover all the cases through the &quot;computeNextGeneration&quot; method and after refactoring, some tests are red, it is probably time consuming to identify the place where the bug is.\r\n\r\nIf I am testing &quot;determineCellState&quot; and &quot;countNeighbors&quot; separately and after refactoring and optimization, tests of &quot;computeNextGeneration&quot; and &quot;determineCellState&quot; are red, I am pretty sure that the error will be in the &quot;determineCellState&quot; method.\r\n\r\nAlso, if you write unit tests for those methods from the beginning, this tests will help you to develop the methods / the algorithms without a need to considering and wrapping other method calls and cases inside the public method. You can just write fast small tests covering your cases in the method ... for example if the test with the name &quot;countNeighbors_should_return_right_amount_of_neighbors_for_the_right_top_corner_cell()&quot; fails, then it is pretty clear where to look for the bug.\r\n\r\n\r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>I feel exactly the same ... change the access modifier for a method just to be able to run a test looks for me as a bad idea. Also in our company we had a lot of discussions about it and in my opinion, really nice way to test a private method is to using Java reflection or another framework which making the method testable. I did so multiple times for complex private methods and this helped me to keep the test small, readable and maintainable.</p>\n<p>After I have read all the answers here, I just disagree with persons who say &quot;if you need to test a private method, then there is a code smell&quot; or even &quot;don´t test private methods&quot; ... so I have a little example for you:</p>\n<p>Imagine I have a class with one public method and a couple of private methods:</p>\n<pre><code>public class ConwaysGameOfLife {\n\n    private boolean[][] generationData = new boolean[128][128];\n\n    /**\n     * Compute the next generation and return the new state\n     * Also saving the new state in generationData\n     */\n    public boolean[][] computeNextGeneration() {\n        boolean[][] tempData = new boolean[128][128];\n\n        for (int yPos=0; yPos&lt;=generationData.length; yPos++) {\n            for (int xPos=0; xPos&lt;=generationData[yPos].length; xPos++) {\n                int neighbors = countNeighbors(yPos, xPos);\n                tempData[yPos][xPos] = determineCellState(neighbors, yPos, xPos);\n            }\n        }\n\n        generationData = tempData;\n        return generationData;\n    }\n\n    /**\n     * Counting the neighbors for a cell on given position considering all the edge cases\n     *\n     * @return the amount of found neighbors for a cell\n     */\n    private int countNeighbors(int yPos, int xPos) {}\n\n    /**\n     * Determine the cell state depending on the amount of neighbors of a cell and on a current state of the cell\n     *\n     * @return the new cell state\n     */\n    private boolean determineCellState(int neighborsAmount, int yPos, int xPos) {}\n}\n</code></pre>\n<p>So at least for the method &quot;countNeighbors&quot; I need to test eight edge cases and also some general cases (cells directly in the corners, cells directly on the edges of the matrix and cells somewhere in the middle). So if I am only trying to cover all the cases through the &quot;computeNextGeneration&quot; method and after refactoring, some tests are red, it is probably time consuming to identify the place where the bug is.</p>\n<p>If I am testing &quot;determineCellState&quot; and &quot;countNeighbors&quot; separately and after refactoring and optimization, tests of &quot;computeNextGeneration&quot; and &quot;determineCellState&quot; are red, I am pretty sure that the error will be in the &quot;determineCellState&quot; method.</p>\n<p>Also, if you write unit tests for those methods from the beginning, this tests will help you to develop the methods / the algorithms without a need to considering and wrapping other method calls and cases inside the public method. You can just write fast small tests covering your cases in the method ... for example if the test with the name &quot;countNeighbors_should_return_right_amount_of_neighbors_for_the_right_top_corner_cell()&quot; fails, then it is pretty clear where to look for the bug.</p>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678957086,"creation_date":1678957086,"answer_id":75753914,"question_id":34571,"body_markdown":"Define implementation class where the reason of public methods to be public is that they implement the clearly defined functionality, rather than if they are accessed from the outside of the class or not. If the functionality you want to test conveniently fits into a single method, make it into public function.\r\n\r\nIf you write the algorithm for exactly sum, there is nothing great in design the has a private sum() method returning sum minus one, to accomodate &quot;one off&quot; somewhere else. \r\n\r\nThe &quot;production&quot; class may have third party classes that require license dongle, call network services, produce non deterministic output, use specific hardware and the like. It may be totally no way how this could be unit tested.","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>Define implementation class where the reason of public methods to be public is that they implement the clearly defined functionality, rather than if they are accessed from the outside of the class or not. If the functionality you want to test conveniently fits into a single method, make it into public function.</p>\n<p>If you write the algorithm for exactly sum, there is nothing great in design the has a private sum() method returning sum minus one, to accomodate &quot;one off&quot; somewhere else.</p>\n<p>The &quot;production&quot; class may have third party classes that require license dongle, call network services, produce non deterministic output, use specific hardware and the like. It may be totally no way how this could be unit tested.</p>\n"}],"owner":{"account_id":2244,"reputation":12044,"user_id":3098,"accept_rate":78,"display_name":"MattGrommes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236087,"favorite_count":0,"down_vote_count":7,"up_vote_count":3214,"accepted_answer_id":34658,"answer_count":59,"score":3207,"last_activity_date":1678957086,"creation_date":1220026269,"question_id":34571,"body_markdown":"How do I use JUnit to test a class that has internal private methods, fields or nested classes?\r\n\r\nIt seems bad to change the access modifier for a method just to be able to run a test. \r\n","title":"How do I test a class that has private methods, fields or inner classes?","body":"<p>How do I use JUnit to test a class that has internal private methods, fields or nested classes?</p>\n<p>It seems bad to change the access modifier for a method just to be able to run a test.</p>\n"},{"tags":["java","android-arrayadapter"],"owner":{"account_id":26268245,"reputation":1,"user_id":19938488,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957013,"creation_date":1678957013,"question_id":75753901,"body_markdown":"I have the following Code: It gets items from my API and saves every item into an Array.\r\nThe Array is given to an ArrayAdapter which shows every item in a ListView.\r\n\r\nMy Problem is that the ListView wont show the Items ArrayList.\r\n\r\n\r\n\r\nI already checked the response of the API and the Arraylist Items, both have the expected things.\r\n\r\nIf I delete `items.clear();` in getUser() the ListView will show the Arraylist\r\n\r\n\r\n\r\n\r\nThis is my Code:\r\n\r\n\r\n```\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class AddUserToListActivity extends AppCompatActivity {\r\n\r\n    LinearLayout goToMyLists, goToHomepage, goToMyAccount;\r\n    SharedpreferencesManager sharedpreferencesManager;\r\n    ImageView navbarImageView;\r\n    ImageManager imageManager;\r\n    EditText inputText;\r\n    ArrayList&lt;ListItemAddUser&gt; items;\r\n    ListView listView;\r\n    AddUserToListAdapter adapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_user_to_list);\r\n\r\n        goToHomepage = findViewById(R.id.addUserToList_navigation_goToHomepage);\r\n        goToMyLists = findViewById(R.id.addUserToList_navigation_goToMyList);\r\n        goToMyAccount = findViewById(R.id.addUserToList_navigation_goToMyProfile);\r\n        navbarImageView = findViewById(R.id.addUserToList_navbar_ProfilImageView);\r\n        inputText = findViewById(R.id.addUserLists_inputText);\r\n        listView = findViewById(R.id.addUserToList_listView);\r\n        sharedpreferencesManager = new SharedpreferencesManager(this);\r\n        imageManager = new ImageManager(this, navbarImageView);\r\n        imageManager.refreshImageViewFromSharedPreferences();\r\n        imageManager.refreshImage();\r\n        items = new ArrayList&lt;&gt;();\r\n        createAdapter();\r\n\r\n        //Navigation zur Homepage\r\n        goToHomepage.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, HomepageActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        goToMyLists.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, MyListsActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        goToMyAccount.setOnClickListener(view -&gt; {\r\n            startActivity(new Intent(this, AccountActivity.class));\r\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n            finish();\r\n        });\r\n\r\n        inputText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                String searchText = charSequence.toString().trim();\r\n                if (!searchText.isEmpty()) {\r\n                    getUser(searchText);\r\n                } else {\r\n                    items.clear();\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void getUser(String inputText) {\r\n        items.clear();\r\n        String url = &quot;http://bfi.bbs-me.org:2536/api/searchUsers.php&quot;;\r\n        final String[] jsonStatus = new String[1];\r\n        final String[] jsonMessage = new String[1];\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        JSONObject jsonObject;\r\n                        try {\r\n                            jsonObject = new JSONObject(response);\r\n                        } catch (JSONException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        try {\r\n                            if (jsonObject.has(&quot;status&quot;)) {\r\n                                jsonStatus[0] = jsonObject.getString(&quot;status&quot;);\r\n                            }\r\n\r\n\r\n                        } catch (JSONException e) {\r\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Failed to parse server response!&quot;, Toast.LENGTH_SHORT);\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                        if (jsonObject.has(&quot;status&quot;)) {\r\n                            if (jsonStatus[0].equals(&quot;200&quot;)) {\r\n                                //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                                try {\r\n\r\n                                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\r\n                                    int length = jsonArray.length();\r\n\r\n                                    for (int i = 0; i &lt; length; i++) {\r\n                                        JSONObject listObject = jsonArray.getJSONObject(i);\r\n                                        String user_id = listObject.getString(&quot;user_id&quot;);\r\n                                        String username = listObject.getString(&quot;username&quot;);\r\n                                        String image = listObject.getString(&quot;image&quot;);\r\n                                        items.add(new ListItemAddUser(user_id, username, image));\r\n                                    }\r\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\nArray: &quot; + items);\r\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                                } catch (JSONException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Fehler aufgetreten&quot;, Toast.LENGTH_SHORT);\r\n                            //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonMessage[0] + &quot;\\n\\n\\n\\n\\n\\n&quot;);\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        ToastManager.showToast(AddUserToListActivity.this, &quot;Verbindung zwischen Api und App unterbrochen (getUserLists)!&quot;, Toast.LENGTH_LONG);\r\n                    }\r\n                }) {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;user_id&quot;, sharedpreferencesManager.getId());\r\n                params.put(&quot;search&quot;, inputText);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        // F&#252;gen Sie die Volley-Abfrage zur Warteschlange hinzu\r\n        MySingleton.getInstance(AddUserToListActivity.this).addToRequestQueue(stringRequest);\r\n    }\r\n\r\n\r\n    public void createAdapter() {\r\n        // Create the adapter\r\n        adapter = new AddUserToListAdapter(this, items);\r\n        listView.setAdapter(adapter);\r\n    }\r\n\r\n    public void onBackPressed() {\r\n        startActivity(new Intent(this, MyListsActivity.class));\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n        finish();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.util.List;\r\n\r\npublic class AddUserToListAdapter extends ArrayAdapter&lt;ListItemAddUser&gt; {\r\n\r\n    Context context;\r\n\r\n\r\n    public AddUserToListAdapter(@NonNull Context context, List&lt;ListItemAddUser&gt; items) {\r\n        super(context, 0, items);\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        // Inflate the view if it doesn&#39;t exist\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.template_add_user_to_list, parent, false);\r\n        }\r\n\r\n        ImageView imageView;\r\n        Button button;\r\n        TextView textView;\r\n\r\n        // Get the item at the current position\r\n        ListItemAddUser item = getItem(position);\r\n\r\n\r\n        // Set the text of the TextView in the view\r\n\r\n        imageView = convertView.findViewById(R.id.add_user_to_list_image);\r\n        button = convertView.findViewById(R.id.add_user_to_list_button);\r\n        textView = convertView.findViewById(R.id.add_user_to_list_username);\r\n\r\n        textView.setText(item.getUsername());\r\n\r\n\r\n        return convertView;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npublic class ListItemAddUser {\r\n\r\n    private String user_id, username, image;\r\n\r\n    public ListItemAddUser(String user_id, String username, String image) {\r\n        this.user_id = user_id;\r\n        this.username = username;\r\n        this.image = image;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getUser_id() {\r\n        return user_id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n}\r\n```\r\n","title":"Why is my ListView in android Studio empty when my Array adapter should have the items of the Array","body":"<p>I have the following Code: It gets items from my API and saves every item into an Array.\nThe Array is given to an ArrayAdapter which shows every item in a ListView.</p>\n<p>My Problem is that the ListView wont show the Items ArrayList.</p>\n<p>I already checked the response of the API and the Arraylist Items, both have the expected things.</p>\n<p>If I delete <code>items.clear();</code> in getUser() the ListView will show the Arraylist</p>\n<p>This is my Code:</p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class AddUserToListActivity extends AppCompatActivity {\n\n    LinearLayout goToMyLists, goToHomepage, goToMyAccount;\n    SharedpreferencesManager sharedpreferencesManager;\n    ImageView navbarImageView;\n    ImageManager imageManager;\n    EditText inputText;\n    ArrayList&lt;ListItemAddUser&gt; items;\n    ListView listView;\n    AddUserToListAdapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_user_to_list);\n\n        goToHomepage = findViewById(R.id.addUserToList_navigation_goToHomepage);\n        goToMyLists = findViewById(R.id.addUserToList_navigation_goToMyList);\n        goToMyAccount = findViewById(R.id.addUserToList_navigation_goToMyProfile);\n        navbarImageView = findViewById(R.id.addUserToList_navbar_ProfilImageView);\n        inputText = findViewById(R.id.addUserLists_inputText);\n        listView = findViewById(R.id.addUserToList_listView);\n        sharedpreferencesManager = new SharedpreferencesManager(this);\n        imageManager = new ImageManager(this, navbarImageView);\n        imageManager.refreshImageViewFromSharedPreferences();\n        imageManager.refreshImage();\n        items = new ArrayList&lt;&gt;();\n        createAdapter();\n\n        //Navigation zur Homepage\n        goToHomepage.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, HomepageActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        goToMyLists.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, MyListsActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        goToMyAccount.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, AccountActivity.class));\n            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n            finish();\n        });\n\n        inputText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                String searchText = charSequence.toString().trim();\n                if (!searchText.isEmpty()) {\n                    getUser(searchText);\n                } else {\n                    items.clear();\n                }\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n            }\n        });\n    }\n\n\n    public void getUser(String inputText) {\n        items.clear();\n        String url = &quot;http://bfi.bbs-me.org:2536/api/searchUsers.php&quot;;\n        final String[] jsonStatus = new String[1];\n        final String[] jsonMessage = new String[1];\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        JSONObject jsonObject;\n                        try {\n                            jsonObject = new JSONObject(response);\n                        } catch (JSONException e) {\n                            throw new RuntimeException(e);\n                        }\n                        try {\n                            if (jsonObject.has(&quot;status&quot;)) {\n                                jsonStatus[0] = jsonObject.getString(&quot;status&quot;);\n                            }\n\n\n                        } catch (JSONException e) {\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Failed to parse server response!&quot;, Toast.LENGTH_SHORT);\n                            e.printStackTrace();\n                        }\n\n                        if (jsonObject.has(&quot;status&quot;)) {\n                            if (jsonStatus[0].equals(&quot;200&quot;)) {\n                                //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                                try {\n\n                                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\n                                    int length = jsonArray.length();\n\n                                    for (int i = 0; i &lt; length; i++) {\n                                        JSONObject listObject = jsonArray.getJSONObject(i);\n                                        String user_id = listObject.getString(&quot;user_id&quot;);\n                                        String username = listObject.getString(&quot;username&quot;);\n                                        String image = listObject.getString(&quot;image&quot;);\n                                        items.add(new ListItemAddUser(user_id, username, image));\n                                    }\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\nArray: &quot; + items);\n                                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonObject + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                                } catch (JSONException e) {\n                                    throw new RuntimeException(e);\n                                }\n                            }\n                        } else {\n                            ToastManager.showToast(AddUserToListActivity.this, &quot;Fehler aufgetreten&quot;, Toast.LENGTH_SHORT);\n                            //System.out.println(&quot;\\n\\n\\n\\n\\n\\n&quot; + jsonMessage[0] + &quot;\\n\\n\\n\\n\\n\\n&quot;);\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        ToastManager.showToast(AddUserToListActivity.this, &quot;Verbindung zwischen Api und App unterbrochen (getUserLists)!&quot;, Toast.LENGTH_LONG);\n                    }\n                }) {\n            @Override\n            protected Map&lt;String, String&gt; getParams() {\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;user_id&quot;, sharedpreferencesManager.getId());\n                params.put(&quot;search&quot;, inputText);\n                return params;\n            }\n        };\n\n        // Fügen Sie die Volley-Abfrage zur Warteschlange hinzu\n        MySingleton.getInstance(AddUserToListActivity.this).addToRequestQueue(stringRequest);\n    }\n\n\n    public void createAdapter() {\n        // Create the adapter\n        adapter = new AddUserToListAdapter(this, items);\n        listView.setAdapter(adapter);\n    }\n\n    public void onBackPressed() {\n        startActivity(new Intent(this, MyListsActivity.class));\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n        finish();\n    }\n}\n\n</code></pre>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\n\nimport java.util.List;\n\npublic class AddUserToListAdapter extends ArrayAdapter&lt;ListItemAddUser&gt; {\n\n    Context context;\n\n\n    public AddUserToListAdapter(@NonNull Context context, List&lt;ListItemAddUser&gt; items) {\n        super(context, 0, items);\n        this.context = context;\n    }\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        // Inflate the view if it doesn't exist\n        if (convertView == null) {\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.template_add_user_to_list, parent, false);\n        }\n\n        ImageView imageView;\n        Button button;\n        TextView textView;\n\n        // Get the item at the current position\n        ListItemAddUser item = getItem(position);\n\n\n        // Set the text of the TextView in the view\n\n        imageView = convertView.findViewById(R.id.add_user_to_list_image);\n        button = convertView.findViewById(R.id.add_user_to_list_button);\n        textView = convertView.findViewById(R.id.add_user_to_list_username);\n\n        textView.setText(item.getUsername());\n\n\n        return convertView;\n    }\n\n\n}\n</code></pre>\n<pre><code>public class ListItemAddUser {\n\n    private String user_id, username, image;\n\n    public ListItemAddUser(String user_id, String username, String image) {\n        this.user_id = user_id;\n        this.username = username;\n        this.image = image;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getUser_id() {\n        return user_id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","scroll","listener"],"owner":{"account_id":16262731,"reputation":1207,"user_id":11743643,"display_name":"Yuval.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678957002,"creation_date":1678957002,"question_id":75753900,"body_markdown":"I&#39;m trying to create an app which tracks the user&#39;s activity on other apps, mainly scrolling.\r\nI&#39;ve tried searching for ways to detect scrolling on another app, but couldn&#39;t find anything, my best idea currently is to draw my app over the other apps (which I know is possible) and then somehow forwarding scroll events from it to the background app, although that &quot;forwarding&quot; does not seem to be possible.\r\n\r\nDoes anyone have a solution for this?","title":"Detecting scroll evevnts on other apps in Java (Android)","body":"<p>I'm trying to create an app which tracks the user's activity on other apps, mainly scrolling.\nI've tried searching for ways to detect scrolling on another app, but couldn't find anything, my best idea currently is to draw my app over the other apps (which I know is possible) and then somehow forwarding scroll events from it to the background app, although that &quot;forwarding&quot; does not seem to be possible.</p>\n<p>Does anyone have a solution for this?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","cucumber","ui-automation"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1678957686,"post_id":75753807,"comment_id":133634482,"body_markdown":"You can&#39;t really install just the one plug-in. pde.ui is part of the plug-in development environment, the whole feature would need to be installed. In any case, But Neon is now 21 release old, how about installing a suitiable Eclipse 2023-03 from https://www.eclipse.org/downloads/packages/","body":"You can&#39;t really install just the one plug-in. pde.ui is part of the plug-in development environment, the whole feature would need to be installed. In any case, But Neon is now 21 release old, how about installing a suitiable Eclipse 2023-03 from <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1678976506,"post_id":75753807,"comment_id":133640272,"body_markdown":"The 2023-03 Eclipse IDE for Eclipse Committers would contain that feature.","body":"The 2023-03 Eclipse IDE for Eclipse Committers would contain that feature."},{"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"score":0,"creation_date":1678980984,"post_id":75753807,"comment_id":133641816,"body_markdown":"Yes, upgrading the eclipse version worked. Thank you so much @greg-449 for the insight!! Thank you @nitind!!","body":"Yes, upgrading the eclipse version worked. Thank you so much @greg-449 for the insight!! Thank you @nitind!!"}],"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678956328,"creation_date":1678956328,"question_id":75753807,"body_markdown":"I am trying to install the Cucumber Eclipse plugin in my VDI (Virtual Desktop Infrastructure) which has no internet connection. However, I am getting an error message saying &quot;requires &#39;bundle.org.eclipse.pde.ui 3.5.0, but it could not be found&quot; when I try to install the plugin. My Eclipse version is Neon.3 Release (4.6.3).\r\n\r\nI have tried installing the plugin through the &quot;Install New Software&quot; option in Eclipse and by manually downloading the plugin and trying to install it using the &quot;Install&quot; option in Eclipse. I have also checked that the &quot;Contact all update sites during install to find required software&quot; option is unchecked.\r\n\r\nI have searched for solutions online, but most of them suggest installing the missing bundle through the Eclipse update site. However, as I am working on a VDI with no internet connection, this solution is not feasible for me.\r\n\r\nCan anyone suggest a solution for installing the Cucumber Eclipse plugin in my VDI without an internet connection and resolving the error message?","title":"Unable to install Cucumber Eclipse plugin inside VDI with no internet connection, getting error &quot;requires &#39;bundle.org.eclipse.pde.ui 3.5.0","body":"<p>I am trying to install the Cucumber Eclipse plugin in my VDI (Virtual Desktop Infrastructure) which has no internet connection. However, I am getting an error message saying &quot;requires 'bundle.org.eclipse.pde.ui 3.5.0, but it could not be found&quot; when I try to install the plugin. My Eclipse version is Neon.3 Release (4.6.3).</p>\n<p>I have tried installing the plugin through the &quot;Install New Software&quot; option in Eclipse and by manually downloading the plugin and trying to install it using the &quot;Install&quot; option in Eclipse. I have also checked that the &quot;Contact all update sites during install to find required software&quot; option is unchecked.</p>\n<p>I have searched for solutions online, but most of them suggest installing the missing bundle through the Eclipse update site. However, as I am working on a VDI with no internet connection, this solution is not feasible for me.</p>\n<p>Can anyone suggest a solution for installing the Cucumber Eclipse plugin in my VDI without an internet connection and resolving the error message?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678961823,"post_id":75752840,"comment_id":133635676,"body_markdown":"Your code with consumer.seekToBeginning looks good. Why exactly it didn&#39;t work? Please add log output of the consumer with and without this line consumer.seekToBeginning(consumer.assignment()); Just to be sure - the line is after consumer.subscribe, right?","body":"Your code with consumer.seekToBeginning looks good. Why exactly it didn&#39;t work? Please add log output of the consumer with and without this line consumer.seekToBeginning(consumer.assignment()); Just to be sure - the line is after consumer.subscribe, right?"},{"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"score":0,"creation_date":1679027155,"post_id":75752840,"comment_id":133650810,"body_markdown":"@Mar-Z .. I&#39;m not getting logs its only consuming earliest messages","body":"@Mar-Z .. I&#39;m not getting logs its only consuming earliest messages"}],"answers":[{"tags":[],"owner":{"account_id":10182846,"reputation":1,"user_id":7518962,"display_name":"dongjb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678950059,"creation_date":1678950059,"answer_id":75752990,"question_id":75752840,"body_markdown":"    private void adjustOffset(KafkaConsumer&lt;byte[], byte[]&gt; consumer) {\r\n        Set&lt;TopicPartition&gt; assignments = consumer.assignment();\r\n        switch (ConfAttr.KAFKA_OFFSET_ADJUST_TYPE) {\r\n            case &quot;0&quot;:\r\n                break;\r\n            case &quot;1&quot;:\r\n                assignments.forEach(topicPartition -&gt;\r\n                        consumer.seekToBeginning(\r\n                                Arrays.asList(topicPartition)));\r\n                break;\r\n            case &quot;2&quot;:\r\n                assignments.forEach(topicPartition -&gt;\r\n                        consumer.seek(\r\n                                topicPartition,\r\n                                Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE)));\r\n                break;\r\n            case &quot;3&quot;:\r\n                Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\r\n                for (TopicPartition topicPartition : assignments) {\r\n                    query.put(\r\n                            topicPartition,\r\n                            Instant.now().minus(Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE), MINUTES).toEpochMilli());\r\n                }\r\n\r\n                Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = consumer.offsetsForTimes(query);\r\n\r\n                result.entrySet()\r\n                        .stream()\r\n                        .forEach(entry -&gt;\r\n                                consumer.seek(\r\n                                        entry.getKey(),\r\n                                        Optional.ofNullable(entry.getValue())\r\n                                                .map(OffsetAndTimestamp::offset)\r\n                                                .orElse(new Long(0))));\r\n\r\n        }\r\n        adjustOffsetFlag = false;\r\n    }","title":"Which Java configuration property helps me to display all the records in a topic from the beginning ( offset 0)","body":"<pre><code>private void adjustOffset(KafkaConsumer&lt;byte[], byte[]&gt; consumer) {\n    Set&lt;TopicPartition&gt; assignments = consumer.assignment();\n    switch (ConfAttr.KAFKA_OFFSET_ADJUST_TYPE) {\n        case &quot;0&quot;:\n            break;\n        case &quot;1&quot;:\n            assignments.forEach(topicPartition -&gt;\n                    consumer.seekToBeginning(\n                            Arrays.asList(topicPartition)));\n            break;\n        case &quot;2&quot;:\n            assignments.forEach(topicPartition -&gt;\n                    consumer.seek(\n                            topicPartition,\n                            Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE)));\n            break;\n        case &quot;3&quot;:\n            Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\n            for (TopicPartition topicPartition : assignments) {\n                query.put(\n                        topicPartition,\n                        Instant.now().minus(Integer.parseInt(ConfAttr.KAFKA_OFFSET_ADJUST_VALUE), MINUTES).toEpochMilli());\n            }\n\n            Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = consumer.offsetsForTimes(query);\n\n            result.entrySet()\n                    .stream()\n                    .forEach(entry -&gt;\n                            consumer.seek(\n                                    entry.getKey(),\n                                    Optional.ofNullable(entry.getValue())\n                                            .map(OffsetAndTimestamp::offset)\n                                            .orElse(new Long(0))));\n\n    }\n    adjustOffsetFlag = false;\n}\n</code></pre>\n"}],"owner":{"account_id":19286557,"reputation":1,"user_id":14097402,"display_name":"Gireesh d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678956022,"creation_date":1678948809,"question_id":75752840,"body_markdown":"```java\r\nprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\r\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;&quot;);\r\n\r\n// earliest --&gt; for consuming from nth offset where (n-1)th offset record is the last record consumer consumed before shitting down\r\n\r\n// latest --&gt; for consuming the records that are generated after consumer has started to consume\r\n```\r\n\r\nIs there is any way that sets the offset to 0 and start consuming from the beginning?\r\n\r\nIf you want to check my code here are my gist links:\r\n\r\n- [MyKafkaProducer.java](https://gist.github.com/immrdg/71160d3346b3b436cc1bf5eb6e90546b)\r\n\r\n- [MyKafkaConsumer.java](https://gist.github.com/immrdg/5d8eb8a879a2f2230c6edfa2e863e63b)\r\n\r\n\r\nI tried placing these lines before while loop, but it didn&#39;t work.\r\n\r\n```java\r\nconsumer.poll(Duration.ZERO); \r\nconsumer.seekToBeginning(consumer.assignment());\r\n```\r\n\r\nI just want to make a code that does this task\r\n\r\n```bash\r\nbin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic myjson --from-beginning\r\n```\r\nLet me know in the comment section if you don&#39;t get my question.\r\n\r\n","title":"Which Java configuration property helps me to display all the records in a topic from the beginning ( offset 0)","body":"<pre class=\"lang-java prettyprint-override\"><code>props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\nprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;mygroup&quot;);\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\nprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;&quot;);\n\n// earliest --&gt; for consuming from nth offset where (n-1)th offset record is the last record consumer consumed before shitting down\n\n// latest --&gt; for consuming the records that are generated after consumer has started to consume\n</code></pre>\n<p>Is there is any way that sets the offset to 0 and start consuming from the beginning?</p>\n<p>If you want to check my code here are my gist links:</p>\n<ul>\n<li><p><a href=\"https://gist.github.com/immrdg/71160d3346b3b436cc1bf5eb6e90546b\" rel=\"nofollow noreferrer\">MyKafkaProducer.java</a></p>\n</li>\n<li><p><a href=\"https://gist.github.com/immrdg/5d8eb8a879a2f2230c6edfa2e863e63b\" rel=\"nofollow noreferrer\">MyKafkaConsumer.java</a></p>\n</li>\n</ul>\n<p>I tried placing these lines before while loop, but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>consumer.poll(Duration.ZERO); \nconsumer.seekToBeginning(consumer.assignment());\n</code></pre>\n<p>I just want to make a code that does this task</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic myjson --from-beginning\n</code></pre>\n<p>Let me know in the comment section if you don't get my question.</p>\n"},{"tags":["java","kerberos","jsch","jaas","gssapi"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":1,"creation_date":1678955778,"post_id":75752169,"comment_id":133633984,"body_markdown":"Waffle and MIT Kerberos does not make sense. Waffle uses SSPI.","body":"Waffle and MIT Kerberos does not make sense. Waffle uses SSPI."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679376470,"post_id":75752169,"comment_id":133706280,"body_markdown":"Yes. That&#39;s why I am using JAAS with KeyTab to create Kerberos ticket &amp; authenticate the user. It successfully creates the TGT &amp; Kerberos Service Ticket. But I am unware of setting the custom created GSSCredential &amp; GSSContext to JSch configuration. Using Jsch 0.1.55. \n\nJSch does exactly what I am doing with JAAS, it creates GSSCredential &amp; GSSContext. But it uses the last authenticated users TGT for the current users. So authentication getting failed. \n\nIt would be great, if you provide some pointers or suggestions.","body":"Yes. That&#39;s why I am using JAAS with KeyTab to create Kerberos ticket &amp; authenticate the user. It successfully creates the TGT &amp; Kerberos Service Ticket. But I am unware of setting the custom created GSSCredential &amp; GSSContext to JSch configuration. Using Jsch 0.1.55.   JSch does exactly what I am doing with JAAS, it creates GSSCredential &amp; GSSContext. But it uses the last authenticated users TGT for the current users. So authentication getting failed.   It would be great, if you provide some pointers or suggestions."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1679385738,"post_id":75752169,"comment_id":133707735,"body_markdown":"You need the `Subject#doAs()` method with the `LoginContext`.","body":"You need the <code>Subject#doAs()</code> method with the <code>LoginContext</code>."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679751564,"post_id":75752169,"comment_id":133778815,"body_markdown":"I am not certain of the usage of Subject#doAs() in this context. Nonetheless, I have managed to create GSSCredentials and GSSContext using JAAS. However, I am uncertain of how to make JSch utilize these credentials and context. Internally, JSch performs authentication using Keytab and creates new GSSCredentials and GSSContext, causing failure. Although this works for the first user, the second user utilizes the first user&#39;s TGT, resulting in JSch authentication failure. Despite clearing GSSCredentials, GSSContext, JSch Session, and channel, JSch still employs the previous user&#39;s TGT.","body":"I am not certain of the usage of Subject#doAs() in this context. Nonetheless, I have managed to create GSSCredentials and GSSContext using JAAS. However, I am uncertain of how to make JSch utilize these credentials and context. Internally, JSch performs authentication using Keytab and creates new GSSCredentials and GSSContext, causing failure. Although this works for the first user, the second user utilizes the first user&#39;s TGT, resulting in JSch authentication failure. Despite clearing GSSCredentials, GSSContext, JSch Session, and channel, JSch still employs the previous user&#39;s TGT."}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678955620,"creation_date":1678940724,"question_id":75752169,"body_markdown":"I am using a Java Spring Boot application with Waffle SSO library waffle-spring-security4 2.0.0 and have installed and configured MIT Kerberos. The ticket cache is working fine, and running &quot;kinit&quot; creates Kerberos tickets in the ticket cache (C:\\Users\\XYZ\\krb5cc_XYZ). I have verified this by running &quot;klist&quot;.\r\n\r\nI have implemented JAAS Keytab authentication, which generates the GSSCredential and GSSContext. However, I am unsure about how to extract the Kerberos KT ticket from JAAS or Waffle SSO and authenticate JSch using the extracted ticket.\r\n\r\nThe following code generates a Kerberos service ticket and successfully authenticates JSch, enabling me to run a command on the remote machine. However, when I run the code for another user, the previous user&#39;s TGT is being used. I have disposed of the GSSCredential and GSSContext, but it does not solve the issue.\r\n\r\nJSch itself performs all the GSS Authentication and creates the GSSCredential and GSSContext, but I don&#39;t have the control to modify the internal behavior and configuration. Therefore, I am performing JAAS authentication and creating GSSCredential and GSSContext.\r\n\r\nWhat suggestions do you have for what I am missing?\r\n\r\n```java\r\npublic static ArrayList&lt;String&gt; simpleKerberos(String command)\r\n\t\t\tthrows LoginException, GSSException, JSchException, IOException, PrivilegedActionException {\r\n\tSunJaasKerberosClient client = new SunJaasKerberosClient();\r\n\tclient.setDebug(true); // enable debug logs\r\n\tArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n\r\n\tSecurityContext sec = SecurityContextHolder.getContext();\r\n\tAuthentication authentication = sec.getAuthentication();\r\n\tWindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\r\n\tString userNtId = principal.getName();\r\n\tString[] userInfo = userNtId.split(&quot;\\\\\\\\&quot;);\r\n\tString username = userInfo[1].toLowerCase() + &quot;@&quot; + userInfo[0] + &quot;.DOMAIN.COM&quot;;\r\n\tString userId = userInfo[1];\r\n\tString keyTabFilePath = &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;;\r\n\r\n\tString ticketCache = &quot;FILE:C:\\\\Users\\\\&quot; + userId + &quot;\\\\krb5cc_&quot; + userId + &quot;&quot;;\r\n\r\n\tString loginContextName = &quot;Krb5Login&quot;;\r\n\r\n\tSystem.setProperty(&quot;java.security.krb5.conf&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\krb5.ini&quot;);\r\n\tSystem.setProperty(&quot;java.security.auth.login.config&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\jaas.config&quot;);\r\n\t//System.setProperty(&quot;sun.security.jgss.native&quot;, &quot;true&quot;);\r\n\tSystem.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\r\n\tSystem.setProperty(&quot;sun.security.krb5.debug&quot;, &quot;true&quot;);\r\n\tSystem.setProperty(&quot;java.security.debug&quot;, &quot;gssloginconfig,configfile,configparser,logincontext&quot;);\r\n\tSystem.setProperty(&quot;KRB5CCNAME&quot;, ticketCache);\r\n\tSystem.setProperty(&quot;javax.security.auth.kerberos.ticket.cache&quot;, &quot;FILE:&quot; + ticketCache);\r\n\tSystem.setProperty(&quot;KRB5_KTNAME&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;);\r\n\tSystem.setProperty(&quot;user.home&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;&quot;);\r\n\tSystem.setProperty(&quot;user.name&quot;, userId);\r\n\tSystem.setProperty(&quot;principal&quot;, username);\r\n\r\n\tString host = &quot;REMOTE.MACHINE.FQDN.COM&quot;;\r\n\tString realm = &quot;SUBDOMAIN.DOMAIN.COM&quot;;\r\n\r\n\tConfiguration loginConfig = new Configuration() {\r\n\t\t@Override\r\n\t\tpublic AppConfigurationEntry[] getAppConfigurationEntry(String name) {\r\n\t\t\tif (name.equals(loginContextName)) {\r\n\t\t\t\tMap&lt;String, Object&gt; options = new HashMap&lt;&gt;();\r\n\t\t\t\toptions.put(&quot;useKeyTab&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;useTicketCache&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;debug&quot;, &quot;true&quot;);\r\n\t\t\t\toptions.put(&quot;principal&quot;, username);\r\n\t\t\t\toptions.put(&quot;ticketCache&quot;, ticketCache);\r\n\r\n\t\t\t\t// Create a Subject that represents the current user&#39;s security context\r\n\t\t\t\tSubject subject = new Subject();\r\n\t\t\t\tPrincipal principal = new KerberosPrincipal(username);\r\n\t\t\t\tsubject.getPrincipals().add(principal);\r\n\r\n\t\t\t\toptions.put(&quot;javax.security.auth.subject&quot;, subject);\r\n\t\t\t\t// options.put(&quot;runAs&quot;, &quot;authenticated&quot;);\r\n\t\t\t\t// options.put(&quot;doNotPrompt&quot;, &quot;true&quot;);\r\n\r\n\t\t\t\treturn new AppConfigurationEntry[] {\r\n\t\t\t\t\t\tnew AppConfigurationEntry(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;,\r\n\t\t\t\t\t\t\t\tAppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options) };\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tLoginContext loginContext = new LoginContext(loginContextName, null,\r\n\t\t\tnew KerberosKeytabCallbackHandler(username, keyTabFilePath), loginConfig);\r\n\tloginContext.login();\r\n\r\n\tGSSManager gssManager = GSSManager.getInstance();\r\n\tGSSName clientName = gssManager.createName(username, GSSName.NT_USER_NAME);\r\n\r\n\tGSSCredential credential = null;\r\n\tSubject subject = null;\r\n\ttry {\r\n\r\n\t\tsubject = loginContext.getSubject();\r\n\t\tcredential = Subject.doAs(subject, (PrivilegedExceptionAction&lt;GSSCredential&gt;) () -&gt; {\r\n\t\t\treturn gssManager.createCredential(clientName, GSSCredential.DEFAULT_LIFETIME,\r\n\t\t\t\t\tnew Oid(&quot;1.2.840.113554.1.2.2&quot;), GSSCredential.ACCEPT_ONLY); ---Not sure, If I should&#39;ve used INITIATE_ONLY\r\n\t\t});\r\n\r\n\t} catch (PrivilegedActionException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n\tSet&lt;GSSCredential&gt; gssCredentials = subject.getPrivateCredentials(GSSCredential.class);\r\n\tgssCredentials.add(credential);\r\n\r\n\tif (credential == null) {\r\n\t\tthrow new RuntimeException(&quot;Could not obtain Kerberos credentials for &quot; + username);\r\n\t}\r\n\r\n\tGSSContext gssContext = gssManager.createContext(clientName, new Oid(&quot;1.2.840.113554.1.2.2&quot;), credential,\r\n\t\t\tGSSContext.DEFAULT_LIFETIME);\r\n\t\r\n\tgssContext.requestCredDeleg(true);\r\n\tgssContext.requestMutualAuth(true);\r\n\tgssContext.requestConf(true);\r\n\tgssContext.requestInteg(true);\r\n\tgssContext.requestReplayDet(true);\r\n\tgssContext.requestSequenceDet(true);\r\n\tgssContext.requestAnonymity(false);\r\n\tgssContext.requestLifetime(GSSContext.DEFAULT_LIFETIME);\r\n\tgssContext.setChannelBinding(null);\r\n\r\n\tJSch jsch = new JSch();\r\n\tJSch.setConfig(&quot;PreferredAuthentications&quot;, &quot;gssapi-with-mic&quot;);\r\n\tSession session = jsch.getSession(username, host, 22);\r\n\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\tUserInfo user = new KerberosUserInfo(credential, gssContext);\r\n\tsession.setUserInfo(user);\r\n\tsession.setConfig(&quot;userauth.gssapi-with-mic&quot;, &quot;com.jcraft.jsch.UserAuthGSSAPIWithMIC&quot;);\r\n\tsession.connect();\r\n\tChannel channel = session.openChannel(&quot;exec&quot;);\r\n\t((ChannelExec) channel).setCommand(command);\r\n\r\n\tchannel.setInputStream(null);\r\n\t((ChannelExec) channel).setErrStream(System.err);\r\n\r\n\tInputStream in = channel.getInputStream();\r\n\tchannel.connect();\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\tString line = null;\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t\tresults.add(line);\r\n\t}\r\n\tjsch.removeAllIdentity();\r\n\tchannel.disconnect();\r\n\tsession.disconnect();\r\n\tloginContext.logout();\r\n\tloginConfig.refresh();\r\n\tgssContext.dispose();\r\n\tcredential.dispose();\r\n\r\n\treturn results;\r\n}\r\n```\r\n\r\n**Kerberos UserInfo**\r\n\r\n```java\r\nclass KerberosUserInfo implements UserInfo {\r\n\r\n\tprivate GSSCredential credential;\r\n\tprivate GSSContext context;\r\n\t\r\n\tpublic KerberosUserInfo(GSSCredential credential) {\r\n\t\tthis.credential = credential;\r\n\t}\r\n\r\n\tpublic KerberosUserInfo(GSSCredential credential, GSSContext context) {\r\n\t\tthis.credential = credential;\r\n\t\tthis.context = context;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getPassphrase() {\r\n\t\treturn null;\r\n\t}\r\n\t @Override\r\n\tpublic String getPassword() {\r\n\t\treturn null;\r\n\t}\r\n\t @Override\r\n\tpublic boolean promptPassphrase(String message) {\r\n\t\treturn false;\r\n\t}\r\n\t @Override\r\n\tpublic boolean promptPassword(String message) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean promptYesNo(String message) {\r\n\t\treturn true;\r\n\t}\r\n\t @Override\r\n\tpublic void showMessage(String message) {\r\n\t\tSystem.out.println(message);\r\n\t}\r\n\r\n\t/*\r\n\t * public GSSCredential getGSSCredential() { return credential; }\r\n\t */\r\n\tpublic GSSCredential getGSSCredential() {\r\n\t\treturn credential;\r\n\t}\r\n\r\n\tpublic GSSContext getGSSContext() {\r\n\t\treturn context;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**KerberosKeytabCallbackHandler**\r\n\r\n```\r\npublic class KerberosKeytabCallbackHandler implements CallbackHandler {\r\n\r\n\tprivate final String principal;\r\n\tprivate final String keytab;\r\n\r\n\tpublic KerberosKeytabCallbackHandler(String principal, String keytab) {\r\n\t\tthis.principal = Objects.requireNonNull(principal);\r\n\t\tthis.keytab = Objects.requireNonNull(keytab);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n\t\tfor (Callback callback : callbacks) {\r\n\t\t\tif (callback instanceof NameCallback) {\r\n\t\t\t\t((NameCallback) callback).setName(principal);\r\n\t\t\t} else if (callback instanceof PasswordCallback) {\r\n\t\t\t\t((PasswordCallback) callback).setPassword(keytab.toCharArray());\r\n\t\t\t} else {\r\n\t\t\t\tthrow new UnsupportedCallbackException(callback);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"How to run an SSH command on a remote machine using JSCH via GSSAPI/Kerberos in a Java web app with Waffle SSO auth/JAAS?","body":"<p>I am using a Java Spring Boot application with Waffle SSO library waffle-spring-security4 2.0.0 and have installed and configured MIT Kerberos. The ticket cache is working fine, and running &quot;kinit&quot; creates Kerberos tickets in the ticket cache (C:\\Users\\XYZ\\krb5cc_XYZ). I have verified this by running &quot;klist&quot;.</p>\n<p>I have implemented JAAS Keytab authentication, which generates the GSSCredential and GSSContext. However, I am unsure about how to extract the Kerberos KT ticket from JAAS or Waffle SSO and authenticate JSch using the extracted ticket.</p>\n<p>The following code generates a Kerberos service ticket and successfully authenticates JSch, enabling me to run a command on the remote machine. However, when I run the code for another user, the previous user's TGT is being used. I have disposed of the GSSCredential and GSSContext, but it does not solve the issue.</p>\n<p>JSch itself performs all the GSS Authentication and creates the GSSCredential and GSSContext, but I don't have the control to modify the internal behavior and configuration. Therefore, I am performing JAAS authentication and creating GSSCredential and GSSContext.</p>\n<p>What suggestions do you have for what I am missing?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; simpleKerberos(String command)\n            throws LoginException, GSSException, JSchException, IOException, PrivilegedActionException {\n    SunJaasKerberosClient client = new SunJaasKerberosClient();\n    client.setDebug(true); // enable debug logs\n    ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n\n    SecurityContext sec = SecurityContextHolder.getContext();\n    Authentication authentication = sec.getAuthentication();\n    WindowsPrincipal principal = (WindowsPrincipal) authentication.getPrincipal();\n    String userNtId = principal.getName();\n    String[] userInfo = userNtId.split(&quot;\\\\\\\\&quot;);\n    String username = userInfo[1].toLowerCase() + &quot;@&quot; + userInfo[0] + &quot;.DOMAIN.COM&quot;;\n    String userId = userInfo[1];\n    String keyTabFilePath = &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;;\n\n    String ticketCache = &quot;FILE:C:\\\\Users\\\\&quot; + userId + &quot;\\\\krb5cc_&quot; + userId + &quot;&quot;;\n\n    String loginContextName = &quot;Krb5Login&quot;;\n\n    System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\krb5.ini&quot;);\n    System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;C:\\\\ProgramData\\\\MIT\\\\Kerberos5\\\\jaas.config&quot;);\n    //System.setProperty(&quot;sun.security.jgss.native&quot;, &quot;true&quot;);\n    System.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\n    System.setProperty(&quot;sun.security.krb5.debug&quot;, &quot;true&quot;);\n    System.setProperty(&quot;java.security.debug&quot;, &quot;gssloginconfig,configfile,configparser,logincontext&quot;);\n    System.setProperty(&quot;KRB5CCNAME&quot;, ticketCache);\n    System.setProperty(&quot;javax.security.auth.kerberos.ticket.cache&quot;, &quot;FILE:&quot; + ticketCache);\n    System.setProperty(&quot;KRB5_KTNAME&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;\\\\&quot; + userId + &quot;.keytab&quot;);\n    System.setProperty(&quot;user.home&quot;, &quot;C:\\\\Users\\\\&quot; + userId + &quot;&quot;);\n    System.setProperty(&quot;user.name&quot;, userId);\n    System.setProperty(&quot;principal&quot;, username);\n\n    String host = &quot;REMOTE.MACHINE.FQDN.COM&quot;;\n    String realm = &quot;SUBDOMAIN.DOMAIN.COM&quot;;\n\n    Configuration loginConfig = new Configuration() {\n        @Override\n        public AppConfigurationEntry[] getAppConfigurationEntry(String name) {\n            if (name.equals(loginContextName)) {\n                Map&lt;String, Object&gt; options = new HashMap&lt;&gt;();\n                options.put(&quot;useKeyTab&quot;, &quot;true&quot;);\n                options.put(&quot;useTicketCache&quot;, &quot;true&quot;);\n                options.put(&quot;debug&quot;, &quot;true&quot;);\n                options.put(&quot;principal&quot;, username);\n                options.put(&quot;ticketCache&quot;, ticketCache);\n\n                // Create a Subject that represents the current user's security context\n                Subject subject = new Subject();\n                Principal principal = new KerberosPrincipal(username);\n                subject.getPrincipals().add(principal);\n\n                options.put(&quot;javax.security.auth.subject&quot;, subject);\n                // options.put(&quot;runAs&quot;, &quot;authenticated&quot;);\n                // options.put(&quot;doNotPrompt&quot;, &quot;true&quot;);\n\n                return new AppConfigurationEntry[] {\n                        new AppConfigurationEntry(&quot;com.sun.security.auth.module.Krb5LoginModule&quot;,\n                                AppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options) };\n            }\n            return null;\n        }\n    };\n\n    LoginContext loginContext = new LoginContext(loginContextName, null,\n            new KerberosKeytabCallbackHandler(username, keyTabFilePath), loginConfig);\n    loginContext.login();\n\n    GSSManager gssManager = GSSManager.getInstance();\n    GSSName clientName = gssManager.createName(username, GSSName.NT_USER_NAME);\n\n    GSSCredential credential = null;\n    Subject subject = null;\n    try {\n\n        subject = loginContext.getSubject();\n        credential = Subject.doAs(subject, (PrivilegedExceptionAction&lt;GSSCredential&gt;) () -&gt; {\n            return gssManager.createCredential(clientName, GSSCredential.DEFAULT_LIFETIME,\n                    new Oid(&quot;1.2.840.113554.1.2.2&quot;), GSSCredential.ACCEPT_ONLY); ---Not sure, If I should've used INITIATE_ONLY\n        });\n\n    } catch (PrivilegedActionException e) {\n        e.printStackTrace();\n    }\n    \n    Set&lt;GSSCredential&gt; gssCredentials = subject.getPrivateCredentials(GSSCredential.class);\n    gssCredentials.add(credential);\n\n    if (credential == null) {\n        throw new RuntimeException(&quot;Could not obtain Kerberos credentials for &quot; + username);\n    }\n\n    GSSContext gssContext = gssManager.createContext(clientName, new Oid(&quot;1.2.840.113554.1.2.2&quot;), credential,\n            GSSContext.DEFAULT_LIFETIME);\n    \n    gssContext.requestCredDeleg(true);\n    gssContext.requestMutualAuth(true);\n    gssContext.requestConf(true);\n    gssContext.requestInteg(true);\n    gssContext.requestReplayDet(true);\n    gssContext.requestSequenceDet(true);\n    gssContext.requestAnonymity(false);\n    gssContext.requestLifetime(GSSContext.DEFAULT_LIFETIME);\n    gssContext.setChannelBinding(null);\n\n    JSch jsch = new JSch();\n    JSch.setConfig(&quot;PreferredAuthentications&quot;, &quot;gssapi-with-mic&quot;);\n    Session session = jsch.getSession(username, host, 22);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    UserInfo user = new KerberosUserInfo(credential, gssContext);\n    session.setUserInfo(user);\n    session.setConfig(&quot;userauth.gssapi-with-mic&quot;, &quot;com.jcraft.jsch.UserAuthGSSAPIWithMIC&quot;);\n    session.connect();\n    Channel channel = session.openChannel(&quot;exec&quot;);\n    ((ChannelExec) channel).setCommand(command);\n\n    channel.setInputStream(null);\n    ((ChannelExec) channel).setErrStream(System.err);\n\n    InputStream in = channel.getInputStream();\n    channel.connect();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n        results.add(line);\n    }\n    jsch.removeAllIdentity();\n    channel.disconnect();\n    session.disconnect();\n    loginContext.logout();\n    loginConfig.refresh();\n    gssContext.dispose();\n    credential.dispose();\n\n    return results;\n}\n</code></pre>\n<p><strong>Kerberos UserInfo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class KerberosUserInfo implements UserInfo {\n\n    private GSSCredential credential;\n    private GSSContext context;\n    \n    public KerberosUserInfo(GSSCredential credential) {\n        this.credential = credential;\n    }\n\n    public KerberosUserInfo(GSSCredential credential, GSSContext context) {\n        this.credential = credential;\n        this.context = context;\n    }\n    \n    @Override\n    public String getPassphrase() {\n        return null;\n    }\n     @Override\n    public String getPassword() {\n        return null;\n    }\n     @Override\n    public boolean promptPassphrase(String message) {\n        return false;\n    }\n     @Override\n    public boolean promptPassword(String message) {\n        return false;\n    }\n\n    public boolean promptYesNo(String message) {\n        return true;\n    }\n     @Override\n    public void showMessage(String message) {\n        System.out.println(message);\n    }\n\n    /*\n     * public GSSCredential getGSSCredential() { return credential; }\n     */\n    public GSSCredential getGSSCredential() {\n        return credential;\n    }\n\n    public GSSContext getGSSContext() {\n        return context;\n    }\n\n}\n</code></pre>\n<p><strong>KerberosKeytabCallbackHandler</strong></p>\n<pre><code>public class KerberosKeytabCallbackHandler implements CallbackHandler {\n\n    private final String principal;\n    private final String keytab;\n\n    public KerberosKeytabCallbackHandler(String principal, String keytab) {\n        this.principal = Objects.requireNonNull(principal);\n        this.keytab = Objects.requireNonNull(keytab);\n    }\n\n    @Override\n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n        for (Callback callback : callbacks) {\n            if (callback instanceof NameCallback) {\n                ((NameCallback) callback).setName(principal);\n            } else if (callback instanceof PasswordCallback) {\n                ((PasswordCallback) callback).setPassword(keytab.toCharArray());\n            } else {\n                throw new UnsupportedCallbackException(callback);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1678966988,"post_id":75753692,"comment_id":133637236,"body_markdown":"Side-note: Your UUID components should most likely be `fixed64`. A variable-length-encoded (uint64) int has a small perf overhead and is usually only suitable for small-ish values. For big values that would normally san 4 bytes anyway, it will also be bigger and likely occupy 5 bytes. A fixed64 simply writes the inderlying `long`.","body":"Side-note: Your UUID components should most likely be <code>fixed64</code>. A variable-length-encoded (uint64) int has a small perf overhead and is usually only suitable for small-ish values. For big values that would normally san 4 bytes anyway, it will also be bigger and likely occupy 5 bytes. A fixed64 simply writes the inderlying <code>long</code>."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1678973138,"post_id":75753692,"comment_id":133639148,"body_markdown":"FYI I looked for a way to add (Jackson) annotations to the generated code so that you could encode the values using Jackson, but apparently out of the box this is not possible: https://github.com/protocolbuffers/protobuf/issues/4635. But of course you could use a Jackson Mixin: https://stackoverflow.com/questions/59157263/how-to-map-json-to-proto-using-jackson-mixin, and specifically write a de/serializer for your UUID type while _maybe_ not having to write Jackson code for every type...? Not sure, have fun!","body":"FYI I looked for a way to add (Jackson) annotations to the generated code so that you could encode the values using Jackson, but apparently out of the box this is not possible: <a href=\"https://github.com/protocolbuffers/protobuf/issues/4635\" rel=\"nofollow noreferrer\">github.com/protocolbuffers/protobuf/issues/4635</a>. But of course you could use a Jackson Mixin: <a href=\"https://stackoverflow.com/questions/59157263/how-to-map-json-to-proto-using-jackson-mixin\" title=\"how to map json to proto using jackson mixin\">stackoverflow.com/questions/59157263/&hellip;</a>, and specifically write a de/serializer for your UUID type while <i>maybe</i> not having to write Jackson code for every type...? Not sure, have fun!"}],"owner":{"account_id":2362473,"reputation":595,"user_id":2068867,"accept_rate":75,"display_name":"Mavo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678955521,"creation_date":1678955521,"question_id":75753692,"body_markdown":"I have a protobuffer UUID message represented by two ints\r\n\r\n``` \r\nmessage ApiUUID {\r\n  uint64 most = 1;\r\n  uint64 least = 2;\r\n}\r\n```\r\n\r\nwhich is then used in all other messages\r\n\r\n```\r\nmessage Data {\r\n  ApiUUID id = 1;\r\n  string name = 2;\r\n  ..\r\n}\r\n```\r\n\r\nThis works fine when serializing to binary files, its much smaller and faster to read then the variant where UUID is a string.\r\n\r\nBut when I try to convert it to json using the built in \r\n\r\n```\r\nJsonFormat.Printer printer = JsonFormat.printer().omittingInsignificantWhitespace();\r\n        String json = printer.print(planningData);\r\n```\r\n\r\nthe ID is printed like\r\n\r\n```\r\n{&quot;id&quot;:{&quot;most&quot;:&quot;8024373369477287721&quot;,&quot;least&quot;:&quot;13459779257196482731&quot;}\r\n```\r\n\r\nIs there an option to transform the ApiUUID to JSON as a UUID string, rather then an object? So convert the most + least into UUID and print it as string.\r\n\r\nUsing Java.\r\n","title":"How to customize Protobuf message json transformation","body":"<p>I have a protobuffer UUID message represented by two ints</p>\n<pre><code>message ApiUUID {\n  uint64 most = 1;\n  uint64 least = 2;\n}\n</code></pre>\n<p>which is then used in all other messages</p>\n<pre><code>message Data {\n  ApiUUID id = 1;\n  string name = 2;\n  ..\n}\n</code></pre>\n<p>This works fine when serializing to binary files, its much smaller and faster to read then the variant where UUID is a string.</p>\n<p>But when I try to convert it to json using the built in</p>\n<pre><code>JsonFormat.Printer printer = JsonFormat.printer().omittingInsignificantWhitespace();\n        String json = printer.print(planningData);\n</code></pre>\n<p>the ID is printed like</p>\n<pre><code>{&quot;id&quot;:{&quot;most&quot;:&quot;8024373369477287721&quot;,&quot;least&quot;:&quot;13459779257196482731&quot;}\n</code></pre>\n<p>Is there an option to transform the ApiUUID to JSON as a UUID string, rather then an object? So convert the most + least into UUID and print it as string.</p>\n<p>Using Java.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678942593,"post_id":75752175,"comment_id":133631687,"body_markdown":"I don&#39;t think there&#39;s any reason for the `Object &amp;` part.","body":"I don&#39;t think there&#39;s any reason for the <code>Object &amp;</code> part."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678947721,"post_id":75752175,"comment_id":133632309,"body_markdown":"In this context `super` and `extends` are opposites. `T extends Object` means that `T` is a *subtype*  of `Object` (or is `Object`). `? super T` means that `?` is a *supertype* of `T` or (typically) is `T`. Or put the other way around `T` is a subtype of `?`. If you had `Comparable&lt;? extends T&gt;` you had not guaranteed that every `T` can be compared to every other `T`, which you need for the method to do its work.","body":"In this context <code>super</code> and <code>extends</code> are opposites. <code>T extends Object</code> means that <code>T</code> is a <i>subtype</i>  of <code>Object</code> (or is <code>Object</code>). <code>? super T</code> means that <code>?</code> is a <i>supertype</i> of <code>T</code> or (typically) is <code>T</code>. Or put the other way around <code>T</code> is a subtype of <code>?</code>. If you had <code>Comparable&lt;? extends T&gt;</code> you had not guaranteed that every <code>T</code> can be compared to every other <code>T</code>, which you need for the method to do its work."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678948834,"creation_date":1678943150,"answer_id":75752347,"question_id":75752175,"body_markdown":"You can certainly write the method signature as\r\n```\r\npublic static &lt;T extends Comparable&lt;T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end)\r\n```\r\nAnd that works perfectly well with most types.\r\n\r\nBut it is more strict than we need.\r\n\r\nConsider:\r\n```\r\nclass Aa implements Comparable&lt;Aa&gt; {\r\n    @Override\r\n    public int compareTo(Aa o) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nclass Bb extends Aa {}\r\n```\r\nEvery instance of `Bb` knows how to compare itself with another instance of `Bb` (because a `Bb` IS-A `Aa`), but it does *not* `extend Comparable&lt;Bb&gt;`.\r\n\r\nAll we need is that we can compare two instances of the type, which is satisfied by checking that it or one of its parent classes implements `Comparable`.\r\n\r\n`T extends Comparable&lt;? super T&gt;` requires that `T` implements `Comparable&lt;X&gt;` (either directly or via a superclass) where `X` is a superclass of `T`.\r\n\r\nIn our example above `class Aa implements Comparable&lt;Object&gt;` would also be fine.\r\n\r\nUsing `T extends Comparable&lt;?&gt;` doesn&#39;t work, because when we call `compareTo` all we know is that `T` can be compared to some unknown class, we don&#39;t know that it can be compared to `T`.","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>You can certainly write the method signature as</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end)\n</code></pre>\n<p>And that works perfectly well with most types.</p>\n<p>But it is more strict than we need.</p>\n<p>Consider:</p>\n<pre><code>class Aa implements Comparable&lt;Aa&gt; {\n    @Override\n    public int compareTo(Aa o) {\n        return 0;\n    }\n}\n\nclass Bb extends Aa {}\n</code></pre>\n<p>Every instance of <code>Bb</code> knows how to compare itself with another instance of <code>Bb</code> (because a <code>Bb</code> IS-A <code>Aa</code>), but it does <em>not</em> <code>extend Comparable&lt;Bb&gt;</code>.</p>\n<p>All we need is that we can compare two instances of the type, which is satisfied by checking that it or one of its parent classes implements <code>Comparable</code>.</p>\n<p><code>T extends Comparable&lt;? super T&gt;</code> requires that <code>T</code> implements <code>Comparable&lt;X&gt;</code> (either directly or via a superclass) where <code>X</code> is a superclass of <code>T</code>.</p>\n<p>In our example above <code>class Aa implements Comparable&lt;Object&gt;</code> would also be fine.</p>\n<p>Using <code>T extends Comparable&lt;?&gt;</code> doesn't work, because when we call <code>compareTo</code> all we know is that <code>T</code> can be compared to some unknown class, we don't know that it can be compared to <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678955422,"creation_date":1678955422,"answer_id":75753678,"question_id":75752175,"body_markdown":"The simple answer is the following two things：\r\n\r\nIn `List&lt;? extends T&gt; list` any element is `T` or a subclass of `T`, `&lt;T extends Comparable&lt;? super T&gt;&gt;` ensure that any elements in the List implement the same parent type compar interface(If use `&lt;T extends Comparable&lt;? extends T&gt;&gt;`, there is no guarantee of this, imagine if T is Number, then `&lt;T extends Number&gt;` could be `Float`, `List&lt;? extends T&gt;` mayber `Integer`, `Float` and `Integer` have no inheritance relationship and cannot be compared directly)\r\n\r\n`T extends Object`, Let me tell you a scene, you need to write like this, About 10 years ago, we would compile the web packaged into a war package. If there were 100 files in it, we might only modify one of the files. At this time, we would decompress the war package and compile the modified class to get it \r\nThe class file is copied separately to tomcat in the production environment.\r\n\r\nIf this is the code before modification:\r\n\r\n    public static &lt;T&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nDue to generic erasure, after compilation, it will become like this (note that it is only schematic, because it is bytecode after compilation, you can understand it as this):\r\n\r\n    public static int method(Object obj) {\r\n        //...\r\n    }\r\n\r\nTherefore, to call this method, the referenced method signature is `int method(Object)`\r\n\r\nIf you modify this method, make it bound by the interface, like this:\r\n\r\n    public static &lt;T extends CharSequence&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nAt this time, after compilation, the method signature will become `int method(CharSequence)`\r\n\r\nIf you directly move the compiled class of this class to tomcat, then the location where it is called will report an error.\r\n\r\nThe solution is to use `&lt;T extends Object &amp; CharSequence&gt;`:\r\n\r\n    public static &lt;T extends Object &amp; CharSequence&gt; int method(T obj) {\r\n        //...\r\n    }\r\n\r\nWhen the generic type is erased, the type before the first &amp; symbol will be retained, at this time, his method signature is still `int method(Object)`","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>The simple answer is the following two things：</p>\n<p>In <code>List&lt;? extends T&gt; list</code> any element is <code>T</code> or a subclass of <code>T</code>, <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code> ensure that any elements in the List implement the same parent type compar interface(If use <code>&lt;T extends Comparable&lt;? extends T&gt;&gt;</code>, there is no guarantee of this, imagine if T is Number, then <code>&lt;T extends Number&gt;</code> could be <code>Float</code>, <code>List&lt;? extends T&gt;</code> mayber <code>Integer</code>, <code>Float</code> and <code>Integer</code> have no inheritance relationship and cannot be compared directly)</p>\n<p><code>T extends Object</code>, Let me tell you a scene, you need to write like this, About 10 years ago, we would compile the web packaged into a war package. If there were 100 files in it, we might only modify one of the files. At this time, we would decompress the war package and compile the modified class to get it\nThe class file is copied separately to tomcat in the production environment.</p>\n<p>If this is the code before modification:</p>\n<pre><code>public static &lt;T&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>Due to generic erasure, after compilation, it will become like this (note that it is only schematic, because it is bytecode after compilation, you can understand it as this):</p>\n<pre><code>public static int method(Object obj) {\n    //...\n}\n</code></pre>\n<p>Therefore, to call this method, the referenced method signature is <code>int method(Object)</code></p>\n<p>If you modify this method, make it bound by the interface, like this:</p>\n<pre><code>public static &lt;T extends CharSequence&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>At this time, after compilation, the method signature will become <code>int method(CharSequence)</code></p>\n<p>If you directly move the compiled class of this class to tomcat, then the location where it is called will report an error.</p>\n<p>The solution is to use <code>&lt;T extends Object &amp; CharSequence&gt;</code>:</p>\n<pre><code>public static &lt;T extends Object &amp; CharSequence&gt; int method(T obj) {\n    //...\n}\n</code></pre>\n<p>When the generic type is erased, the type before the first &amp; symbol will be retained, at this time, his method signature is still <code>int method(Object)</code></p>\n"}],"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678955422,"creation_date":1678940780,"question_id":75752175,"body_markdown":"My question is in the following code, why `Comparable&lt;? super T&gt;` instead of `Comparable&lt;? extends T&gt;` or `Comparable&lt;T&gt;`?\r\n\r\nThe comparable can compare `T`&#39;s ancestors but in the list we only have `T`&#39;s subtypes?\r\n\r\nAlso, why `T extends Object`, isn&#39;t this by default? \r\n\r\n\r\nWrite a generic method to find the maximal element in the range [begin, end) of a list.\r\n\r\nAnswer:\r\n\r\n```java\r\npublic static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end) {\r\n\r\n    T maxElem = list.get(begin);\r\n\r\n    for (++begin; begin &lt; end; ++begin)\r\n        if (maxElem.compareTo(list.get(begin)) &lt; 0)\r\n            maxElem = list.get(begin);\r\n    return maxElem;\r\n}\r\n```\r\n\r\nthis is from the six edition of the Java tutorial: a short course on the basics by ray gallardo et al.","title":"why super, not extends here? from the java tutorial: a short course on the basics by ray gallardo et al","body":"<p>My question is in the following code, why <code>Comparable&lt;? super T&gt;</code> instead of <code>Comparable&lt;? extends T&gt;</code> or <code>Comparable&lt;T&gt;</code>?</p>\n<p>The comparable can compare <code>T</code>'s ancestors but in the list we only have <code>T</code>'s subtypes?</p>\n<p>Also, why <code>T extends Object</code>, isn't this by default?</p>\n<p>Write a generic method to find the maximal element in the range [begin, end) of a list.</p>\n<p>Answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(List&lt;? extends T&gt; list, int begin, int end) {\n\n    T maxElem = list.get(begin);\n\n    for (++begin; begin &lt; end; ++begin)\n        if (maxElem.compareTo(list.get(begin)) &lt; 0)\n            maxElem = list.get(begin);\n    return maxElem;\n}\n</code></pre>\n<p>this is from the six edition of the Java tutorial: a short course on the basics by ray gallardo et al.</p>\n"},{"tags":["java","android","flutter","nfc","rfid"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1678959265,"post_id":75753516,"comment_id":133634909,"body_markdown":"Does this answer your question? [Use Phone NFC Chip to emulate Mifare card](https://stackoverflow.com/questions/70187048/use-phone-nfc-chip-to-emulate-mifare-card)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70187048/use-phone-nfc-chip-to-emulate-mifare-card\">Use Phone NFC Chip to emulate Mifare card</a>"},{"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"score":0,"creation_date":1678961007,"post_id":75753516,"comment_id":133635430,"body_markdown":"Actualy the reader can read my phone when NFC is enable I got 01020304 and some id. but I dont know how to send diffrent data or id.\n\nthe phone which I use for test is LG V20","body":"Actualy the reader can read my phone when NFC is enable I got 01020304 and some id. but I dont know how to send diffrent data or id.  the phone which I use for test is LG V20"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1678967870,"post_id":75753516,"comment_id":133637479,"body_markdown":"Kindly note that Stackoverflow is not a free code writing service. The question &quot;how to read from and write to a Mifare classic card&quot; is not so unusual here on SO to find a lot of places to start with.","body":"Kindly note that Stackoverflow is not a free code writing service. The question &quot;how to read from and write to a Mifare classic card&quot; is not so unusual here on SO to find a lot of places to start with."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":1,"creation_date":1678972791,"post_id":75753516,"comment_id":133639032,"body_markdown":"@Enes Reading the NfcA UID that is randomly generated by the phone is common to many different tag technologies, the phone can emulate a Type 4 Tag with an HCE service but other then the very low level UID that is totally different to how a Mifare Classic behaves.","body":"@Enes Reading the NfcA UID that is randomly generated by the phone is common to many different tag technologies, the phone can emulate a Type 4 Tag with an HCE service but other then the very low level UID that is totally different to how a Mifare Classic behaves."},{"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"score":0,"creation_date":1678973222,"post_id":75753516,"comment_id":133639182,"body_markdown":"@MichaelFehr I don&#39;t need from you any free code I just need information who experience NFC&amp;RFID cominication.","body":"@MichaelFehr I don&#39;t need from you any free code I just need information who experience NFC&amp;RFID cominication."}],"owner":{"account_id":10560695,"reputation":99,"user_id":7780558,"display_name":"Enes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678955295,"creation_date":1678954217,"question_id":75753516,"body_markdown":"**my RFID reader Info:**\r\n\r\n**Protocol**        : ISO1443A\r\n\r\n**Frequency**       : 13,56MHz\r\n\r\n**Voltage**         : 7-12V ile 3,3-5V\r\n\r\n**Flow**            : 60-100mA\r\n\r\n**Supported Cards** : S50, S70, Ultralight, Desfire, Mifare, Mifare Plus, Mifare Pro\r\n\r\n\r\n**Working card Info:**\r\n\r\n**Tag Type**: ISO 14443-3A\r\n\r\nNXP- Mifare Classic 1k\r\n\r\n**Technologies avaliable**: NfcA, MifareClassic, Ndef\r\n\r\n\r\n**Question** is this: It is possiable to Emulate this card with NFC mobile devices on RFID reader ?\r\n\r\nNot: When I Tap My phone on RFID reader the reader is show 01020304 value on screen its reading actualy but how can send diffrend data like cardID.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uan9Y.jpg","title":"Emulate NXP - Mifare Classic 1k","body":"<p><strong>my RFID reader Info:</strong></p>\n<p><strong>Protocol</strong>        : ISO1443A</p>\n<p><strong>Frequency</strong>       : 13,56MHz</p>\n<p><strong>Voltage</strong>         : 7-12V ile 3,3-5V</p>\n<p><strong>Flow</strong>            : 60-100mA</p>\n<p><strong>Supported Cards</strong> : S50, S70, Ultralight, Desfire, Mifare, Mifare Plus, Mifare Pro</p>\n<p><strong>Working card Info:</strong></p>\n<p><strong>Tag Type</strong>: ISO 14443-3A</p>\n<p>NXP- Mifare Classic 1k</p>\n<p><strong>Technologies avaliable</strong>: NfcA, MifareClassic, Ndef</p>\n<p><strong>Question</strong> is this: It is possiable to Emulate this card with NFC mobile devices on RFID reader ?</p>\n<p>Not: When I Tap My phone on RFID reader the reader is show 01020304 value on screen its reading actualy but how can send diffrend data like cardID.</p>\n<p><a href=\"https://i.stack.imgur.com/uan9Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uan9Y.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","erp","ofbiz"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1678896760,"post_id":75746972,"comment_id":133623115,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nAbsolutely no reason not to copy-paste from Powershell. Also: *but I still get an error.* How did you imagine it would help to *not* post that error too?","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Absolutely no reason not to copy-paste from Powershell. Also: <i>but I still get an error.</i> How did you imagine it would help to <i>not</i> post that error too?"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678907080,"post_id":75746972,"comment_id":133626012,"body_markdown":"What&#39;s the gradle version found in `gradle/wrapper/gradle-wrapper.properties`?\nAlso, is there a `gradlew` and `gradlew.bat` file in the root directory of your project?","body":"What&#39;s the gradle version found in <code>gradle&#47;wrapper&#47;gradle-wrapper.properties</code>? Also, is there a <code>gradlew</code> and <code>gradlew.bat</code> file in the root directory of your project?"},{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1678908043,"post_id":75746972,"comment_id":133626275,"body_markdown":"please try `./gradlew cleanAll loadAll`  instead of `gradlew cleanAll loadAll`, this will get rid of the error `The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program`","body":"please try <code>.&#47;gradlew cleanAll loadAll</code>  instead of <code>gradlew cleanAll loadAll</code>, this will get rid of the error <code>The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program</code>"}],"owner":{"account_id":28024631,"reputation":1,"user_id":21404867,"display_name":"Như Hương Nguyễn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678955242,"creation_date":1678894862,"question_id":75746972,"body_markdown":"I have a subject at school where I have to install the Apache Ofbiz ERP software. I have downloaded Ofbiz version 18.12.06 and Java 8. Then I followed the instructions in the &#39;README&#39; file. But when I run the command `gradlew cleanAll loadAll`, I get an error message \r\n```\r\ngradlew : The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the \r\nspelling of the name, or if a path was included, verify that the path is correct and try again.\r\nAt line:1 char:1\r\n+ gradlew cleanAll loadAll\r\n+ ~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (gradlew:String) [], CommandNotFoundException\r\n    + FullyQualifiedErrorId : CommandNotFoundException\r\n ```\r\nThen I installed Gradle-4.9 and ran the &#39;gradle cleanAll loadAll&#39; command, but I still get an error.\r\n```\r\ngradle : \r\nAt line:1 char:1\r\n+ gradle cleanAll loadAll\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\r\n    + FullyQualifiedErrorId : NativeCommandError\r\n \r\nFAILURE: Build failed with an exception.\r\n* Where:\r\nBuild file &#39;C:\\Users\\HP\\Downloads\\apache-ofbiz-18.12.06\\apache-ofbiz-18.12.06\\build.gradle&#39; line: 60\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;ofbiz&#39;.\r\n&gt; Could not find method java() for arguments [build_4rt6fvg59269rv3cik9godb792$_run_closure1@f6900a] on root project &#39;ofbiz&#39;.\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n``` \r\nI really hope to receive help from everyone.\r\n\r\nI then tried installing different versions of Gradle, but the issue persists. I also tried installing Ant-Apache as instructed in some online resources, but it didn&#39;t solve the problem.","title":"Error: gradlew: The term &#39;gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program.(Apache ofbiz)","body":"<p>I have a subject at school where I have to install the Apache Ofbiz ERP software. I have downloaded Ofbiz version 18.12.06 and Java 8. Then I followed the instructions in the 'README' file. But when I run the command <code>gradlew cleanAll loadAll</code>, I get an error message</p>\n<pre><code>gradlew : The term 'gradlew' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the \nspelling of the name, or if a path was included, verify that the path is correct and try again.\nAt line:1 char:1\n+ gradlew cleanAll loadAll\n+ ~~~~~~~\n    + CategoryInfo          : ObjectNotFound: (gradlew:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\n</code></pre>\n<p>Then I installed Gradle-4.9 and ran the 'gradle cleanAll loadAll' command, but I still get an error.</p>\n<pre><code>gradle : \nAt line:1 char:1\n+ gradle cleanAll loadAll\n+ ~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\n    + FullyQualifiedErrorId : NativeCommandError\n \nFAILURE: Build failed with an exception.\n* Where:\nBuild file 'C:\\Users\\HP\\Downloads\\apache-ofbiz-18.12.06\\apache-ofbiz-18.12.06\\build.gradle' line: 60\n* What went wrong:\nA problem occurred evaluating root project 'ofbiz'.\n&gt; Could not find method java() for arguments [build_4rt6fvg59269rv3cik9godb792$_run_closure1@f6900a] on root project 'ofbiz'.\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n<p>I really hope to receive help from everyone.</p>\n<p>I then tried installing different versions of Gradle, but the issue persists. I also tried installing Ant-Apache as instructed in some online resources, but it didn't solve the problem.</p>\n"},{"tags":["java","bigdecimal","floating-point-precision"],"comments":[{"owner":{"display_name":"user684934"},"score":0,"creation_date":1330436396,"post_id":9482889,"comment_id":12001983,"body_markdown":"Have you tried giving the constructor a MathContext?","body":"Have you tried giving the constructor a MathContext?"},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":1,"creation_date":1362505209,"post_id":9482889,"comment_id":21471382,"body_markdown":"If I see correctly you are talking about decimal places, not floating point precision. At least the accepted answer will result in 12 decimal places, not 12 digits of precision.","body":"If I see correctly you are talking about decimal places, not floating point precision. At least the accepted answer will result in 12 decimal places, not 12 digits of precision."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1330436443,"creation_date":1330436443,"answer_id":9482963,"question_id":9482889,"body_markdown":"You can use [setScale()][1] e.g.\r\n\r\n    double d = ...\r\n    BigDecimal db = new BigDecimal(d).setScale(12, BigDecimal.ROUND_HALF_UP);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale%28int,%20int%29","title":"Set specific precision of a BigDecimal","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale%28int,%20int%29\">setScale()</a> e.g.</p>\n\n<pre><code>double d = ...\nBigDecimal db = new BigDecimal(d).setScale(12, BigDecimal.ROUND_HALF_UP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38239,"reputation":31889,"user_id":109618,"accept_rate":84,"display_name":"David J."},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1386181788,"creation_date":1386121388,"answer_id":20365270,"question_id":9482889,"body_markdown":"The title of the question asks about precision. [BigDecimal] distinguishes between scale and precision. Scale is the number of decimal places. You can think of precision as the number of [significant figures](https://en.wikipedia.org/wiki/Significant_figures), also known as significant digits.\r\n\r\nSome examples in Clojure.\r\n\r\n&lt;!-- language-all: clojure --&gt;\r\n\r\n    (.scale     0.00123M) ; 5\r\n    (.precision 0.00123M) ; 3\r\n\r\n(In Clojure, The `M` designates a BigDecimal literal. You can translate the Clojure to Java if you like, but I find it to be more compact than Java!)\r\n\r\nYou can easily increase the scale:\r\n\r\n    (.setScale 0.00123M 7) ; 0.0012300M\r\n\r\nBut you can&#39;t *decrease* the scale in the exact same way:\r\n\r\n    (.setScale 0.00123M 3) ; ArithmeticException Rounding necessary\r\n\r\nYou&#39;ll need to pass a rounding mode too:\r\n\r\n    (.setScale 0.00123M 3 BigDecimal/ROUND_HALF_EVEN) ;\r\n    ; Note: BigDecimal would prefer that you use the MathContext rounding\r\n    ; constants, but I don&#39;t have them at my fingertips right now.\r\n\r\nSo, it is easy to change the scale. But what about precision? This is not as easy as you might hope!\r\n\r\nIt is easy to *decrease* the precision:\r\n\r\n    (.round 3.14159M (java.math.MathContext. 3)) ; 3.14M\r\n\r\nBut it is not obvious how to *increase* the precision:\r\n\r\n    (.round 3.14159M (java.math.MathContext. 7)) ; 3.14159M (unexpected)\r\n\r\nFor the skeptical, this is *not* just a matter of trailing zeros not being displayed:\r\n\r\n    (.precision (.round 3.14159M (java.math.MathContext. 7))) ; 6 \r\n    ; (same as above, still unexpected)\r\n\r\nFWIW, Clojure is careful with trailing zeros and *will* show them:\r\n\r\n    4.0000M ; 4.0000M\r\n    (.precision 4.0000M) ; 5\r\n\r\nBack on track... You can try using a [BigDecimal] constructor, but it does not set the precision any higher than the number of digits you specify:\r\n\r\n    (BigDecimal. &quot;3&quot; (java.math.MathContext. 5)) ; 3M\r\n    (BigDecimal. &quot;3.1&quot; (java.math.MathContext. 5)) ; 3.1M\r\n\r\nSo, there is no quick way to change the precision. I&#39;ve spent time fighting this while writing up this question and with a project I&#39;m working on. I consider this, at best, A CRAZYTOWN API, and at worst a bug. People. Seriously?\r\n\r\nSo, best I can tell, if you want to change precision, you&#39;ll need to do these steps:\r\n\r\n1. Lookup the current precision.\r\n2. Lookup the current scale.\r\n5. Calculate the scale change.\r\n6. Set the new scale\r\n\r\nThese steps, as Clojure code:\r\n\r\n    (def x 0.000691M) ; the input number\r\n    (def p&#39; 1) ; desired precision\r\n    (def s&#39; (+ (.scale x) p&#39; (- (.precision x)))) ; desired new scale\r\n    (.setScale x s&#39; BigDecimal/ROUND_HALF_EVEN)\r\n    ; 0.0007M\r\n\r\nI know, this is a lot of steps just to change the precision!\r\n\r\nWhy doesn&#39;t BigDecimal already provide this? Did I overlook something?\r\n\r\n[BigDecimal]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n[MathContext]: http://docs.oracle.com/javase/7/docs/api/java/math/MathContext.html","title":"Set specific precision of a BigDecimal","body":"<p>The title of the question asks about precision. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> distinguishes between scale and precision. Scale is the number of decimal places. You can think of precision as the number of <a href=\"https://en.wikipedia.org/wiki/Significant_figures\" rel=\"noreferrer\">significant figures</a>, also known as significant digits.</p>\n\n<p>Some examples in Clojure.</p>\n\n\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.scale     0.00123M) ; 5\n(.precision 0.00123M) ; 3\n</code></pre>\n\n<p>(In Clojure, The <code>M</code> designates a BigDecimal literal. You can translate the Clojure to Java if you like, but I find it to be more compact than Java!)</p>\n\n<p>You can easily increase the scale:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 7) ; 0.0012300M\n</code></pre>\n\n<p>But you can't <em>decrease</em> the scale in the exact same way:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 3) ; ArithmeticException Rounding necessary\n</code></pre>\n\n<p>You'll need to pass a rounding mode too:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.setScale 0.00123M 3 BigDecimal/ROUND_HALF_EVEN) ;\n; Note: BigDecimal would prefer that you use the MathContext rounding\n; constants, but I don't have them at my fingertips right now.\n</code></pre>\n\n<p>So, it is easy to change the scale. But what about precision? This is not as easy as you might hope!</p>\n\n<p>It is easy to <em>decrease</em> the precision:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.round 3.14159M (java.math.MathContext. 3)) ; 3.14M\n</code></pre>\n\n<p>But it is not obvious how to <em>increase</em> the precision:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.round 3.14159M (java.math.MathContext. 7)) ; 3.14159M (unexpected)\n</code></pre>\n\n<p>For the skeptical, this is <em>not</em> just a matter of trailing zeros not being displayed:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(.precision (.round 3.14159M (java.math.MathContext. 7))) ; 6 \n; (same as above, still unexpected)\n</code></pre>\n\n<p>FWIW, Clojure is careful with trailing zeros and <em>will</em> show them:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>4.0000M ; 4.0000M\n(.precision 4.0000M) ; 5\n</code></pre>\n\n<p>Back on track... You can try using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> constructor, but it does not set the precision any higher than the number of digits you specify:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(BigDecimal. \"3\" (java.math.MathContext. 5)) ; 3M\n(BigDecimal. \"3.1\" (java.math.MathContext. 5)) ; 3.1M\n</code></pre>\n\n<p>So, there is no quick way to change the precision. I've spent time fighting this while writing up this question and with a project I'm working on. I consider this, at best, A CRAZYTOWN API, and at worst a bug. People. Seriously?</p>\n\n<p>So, best I can tell, if you want to change precision, you'll need to do these steps:</p>\n\n<ol>\n<li>Lookup the current precision.</li>\n<li>Lookup the current scale.</li>\n<li>Calculate the scale change.</li>\n<li>Set the new scale</li>\n</ol>\n\n<p>These steps, as Clojure code:</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(def x 0.000691M) ; the input number\n(def p' 1) ; desired precision\n(def s' (+ (.scale x) p' (- (.precision x)))) ; desired new scale\n(.setScale x s' BigDecimal/ROUND_HALF_EVEN)\n; 0.0007M\n</code></pre>\n\n<p>I know, this is a lot of steps just to change the precision!</p>\n\n<p>Why doesn't BigDecimal already provide this? Did I overlook something?</p>\n"},{"tags":[],"owner":{"account_id":3245577,"reputation":74,"user_id":2737267,"display_name":"E Hashmi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523660480,"creation_date":1390479602,"answer_id":21307990,"question_id":9482889,"body_markdown":"     BigDecimal decPrec = (BigDecimal)yo.get(&quot;Avg&quot;);\r\n     decPrec = decPrec.setScale(5, RoundingMode.CEILING);\r\n     String value= String.valueOf(decPrec);\r\n\r\nThis way you can set specific precision of a `BigDecimal`.\r\n\r\nThe value of decPrec was `1.5726903423607562595809913132345426`\r\nwhich is rounded off to `1.57267`.\r\n\r\n","title":"Set specific precision of a BigDecimal","body":"<pre><code> BigDecimal decPrec = (BigDecimal)yo.get(\"Avg\");\n decPrec = decPrec.setScale(5, RoundingMode.CEILING);\n String value= String.valueOf(decPrec);\n</code></pre>\n\n<p>This way you can set specific precision of a <code>BigDecimal</code>.</p>\n\n<p>The value of decPrec was <code>1.5726903423607562595809913132345426</code>\nwhich is rounded off to <code>1.57267</code>.</p>\n"},{"tags":[],"owner":{"account_id":8590107,"reputation":61,"user_id":6434959,"display_name":"Hakan Anlamaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468238544,"creation_date":1468238544,"answer_id":38306448,"question_id":9482889,"body_markdown":"Try this code ...\r\n\r\n  \r\n\r\n        Integer perc = 5;\r\n        BigDecimal spread = BigDecimal.ZERO; \r\n        BigDecimal perc = spread.setScale(perc,BigDecimal.ROUND_HALF_UP);\r\n        System.out.println(perc);\r\n\r\nResult: 0.00000\r\n\r\n","title":"Set specific precision of a BigDecimal","body":"<p>Try this code ...</p>\n\n<pre><code>    Integer perc = 5;\n    BigDecimal spread = BigDecimal.ZERO; \n    BigDecimal perc = spread.setScale(perc,BigDecimal.ROUND_HALF_UP);\n    System.out.println(perc);\n</code></pre>\n\n<p>Result: 0.00000</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663657111,"creation_date":1663657111,"answer_id":73782704,"question_id":9482889,"body_markdown":"A BigDecimal&#39;s scale and precision are mutually-exclusive concepts. Quoting https://stackoverflow.com/a/35435775/14731:\r\n\r\n&gt; **Precision**: Total number of significant digits\r\n&gt;\r\n&gt; **Scale**: Number of digits to the right of the decimal point\r\n\r\nTo change a BigDecimal&#39;s precision, use `BigDecimal.round(new MathContext(precision, roundingMode))`.\r\n\r\nTo change a BigDecimal&#39;s scale, use `BigDecimal.setScale(scale, roundingMode)`.","title":"Set specific precision of a BigDecimal","body":"<p>A BigDecimal's scale and precision are mutually-exclusive concepts. Quoting <a href=\"https://stackoverflow.com/a/35435775/14731\">https://stackoverflow.com/a/35435775/14731</a>:</p>\n<blockquote>\n<p><strong>Precision</strong>: Total number of significant digits</p>\n<p><strong>Scale</strong>: Number of digits to the right of the decimal point</p>\n</blockquote>\n<p>To change a BigDecimal's precision, use <code>BigDecimal.round(new MathContext(precision, roundingMode))</code>.</p>\n<p>To change a BigDecimal's scale, use <code>BigDecimal.setScale(scale, roundingMode)</code>.</p>\n"},{"tags":[],"owner":{"account_id":10974567,"reputation":101,"user_id":8063630,"display_name":"Prashant_Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678954768,"creation_date":1678954768,"answer_id":75753577,"question_id":9482889,"body_markdown":"Precision and scale are two very important terms when dealing with BigDecimals, to set them individually or setting both you can try:\r\n\r\n    1. Precision\r\n    \r\n        BigDecimal.ZERO.round(new MathContext(30, RoundingMode.FLOOR)); or \r\n    \r\n        BigDecimal.valueOf(5878).round(new MathContext(10, RoundingMode.FLOOR));\r\n    \r\n    2. Scale\r\n    \r\n        BigDecimal.valueOf(5878).setScale(7, RoundingMode.CEILING);\r\n    \r\n    3. Both precision and scale\r\n    \r\n        BigDecimal.ONE.round(new MathContext(30, RoundingMode.FLOOR)).setScale(7, RoundingMode.FLOOR);\r\n\r\n&gt; For example: Input: 321231.324 Precision: 9 Scale: 3","title":"Set specific precision of a BigDecimal","body":"<p>Precision and scale are two very important terms when dealing with BigDecimals, to set them individually or setting both you can try:</p>\n<pre><code>1. Precision\n\n    BigDecimal.ZERO.round(new MathContext(30, RoundingMode.FLOOR)); or \n\n    BigDecimal.valueOf(5878).round(new MathContext(10, RoundingMode.FLOOR));\n\n2. Scale\n\n    BigDecimal.valueOf(5878).setScale(7, RoundingMode.CEILING);\n\n3. Both precision and scale\n\n    BigDecimal.ONE.round(new MathContext(30, RoundingMode.FLOOR)).setScale(7, RoundingMode.FLOOR);\n</code></pre>\n<blockquote>\n<p>For example: Input: 321231.324 Precision: 9 Scale: 3</p>\n</blockquote>\n"}],"owner":{"account_id":447229,"reputation":2157,"user_id":840736,"accept_rate":66,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133783,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":20365270,"answer_count":6,"score":59,"last_activity_date":1678954768,"creation_date":1330436158,"question_id":9482889,"body_markdown":"I have an [XSD] that requires me to use a BigDecimal for a lat/lon.  I currently have the lat/lon as doubles, and convert them to BigDecimal, but I am only required to use about 12 places of precision.  I have not been able to figure out how to set that.  Can anyone help me with this?\r\n\r\n[XSD]: https://en.wikipedia.org/wiki/XSD","title":"Set specific precision of a BigDecimal","body":"<p>I have an <a href=\"https://en.wikipedia.org/wiki/XSD\">XSD</a> that requires me to use a BigDecimal for a lat/lon.  I currently have the lat/lon as doubles, and convert them to BigDecimal, but I am only required to use about 12 places of precision.  I have not been able to figure out how to set that.  Can anyone help me with this?</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678932828,"post_id":75751602,"comment_id":133630557,"body_markdown":"i think i had a similar error before. inside some of the dependencies, they import other libraries that could conflict with each other. So you should ccheck each dependency and exclude the conflicting dependencies which in this case are Logback or slf4j","body":"i think i had a similar error before. inside some of the dependencies, they import other libraries that could conflict with each other. So you should ccheck each dependency and exclude the conflicting dependencies which in this case are Logback or slf4j"},{"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"score":0,"creation_date":1678933543,"post_id":75751602,"comment_id":133630635,"body_markdown":"Thanks @experimentunit1998X but i did  review the dependency tree and i noticed the spring boot starter web had those dependencies and i excluded them yet it didnt work","body":"Thanks @experimentunit1998X but i did  review the dependency tree and i noticed the spring boot starter web had those dependencies and i excluded them yet it didnt work"},{"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"score":0,"creation_date":1678933876,"post_id":75751602,"comment_id":133630685,"body_markdown":"No, i excluded and recompiled. i have also updated my question with a section of dependency tree","body":"No, i excluded and recompiled. i have also updated my question with a section of dependency tree"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678954762,"creation_date":1678954762,"answer_id":75753575,"question_id":75751602,"body_markdown":"You&#39;ve got SLF4J 1.7 on the classpath and Spring Boot 3.0 requires SLF4J 2.0. I think the cause is your parent pom where the import of Boot&#39;s dependency management is incorrect. You&#39;re importing `spring-boot`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt should be `spring-boot-dependencies`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n    &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```","title":"LoggerFactory is not a Logback LoggerContext - SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>You've got SLF4J 1.7 on the classpath and Spring Boot 3.0 requires SLF4J 2.0. I think the cause is your parent pom where the import of Boot's dependency management is incorrect. You're importing <code>spring-boot</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It should be <code>spring-boot-dependencies</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1252818,"reputation":85,"user_id":1212880,"accept_rate":22,"display_name":"Joseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2893,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75753575,"answer_count":1,"score":2,"last_activity_date":1678954762,"creation_date":1678932635,"question_id":75751602,"body_markdown":"I created a sample modular basic microservices (customer, fraud)using spring boot 3.0.4 with IntelliJ just to test auto service discovery pattern.  All was ok until I added a 3rd microservice: eureka server with the spring cloud dependencies (version 2022.0.1). \r\n\r\nWhen I tried to run the application, I got the following error:\r\n\r\n        SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.helpers.NOPLoggerFactory loaded from file:/Users/apple/.m2/repository/org/slf4j/slf4j-api/1.7.33/slf4j-api-1.7.33.jar). If you are using WebLogic you will need to add &#39;org.slf4j&#39; to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.helpers.NOPLoggerFactory\r\n    \tat org.springframework.util.Assert.instanceCheckFailed(Assert.java:713)\r\n    \tat org.springframework.util.Assert.isInstanceOf(Assert.java:632)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:382)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:123)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:54)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:54)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n    \tat com.techronym.eurekaserver.EurekaServerApplication.main(EurekaServerApplication.java:11)\r\n    \r\n    Process finished with exit code 1\r\n\r\nHere&#39;s my parent pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;customer&lt;/module&gt;\r\n          &lt;module&gt;fraud&lt;/module&gt;\r\n          &lt;module&gt;eureka-server&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;name&gt;demo-app&lt;/name&gt;\r\n      &lt;url&gt;https://www.techronym.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.boot.maven.plugin&gt;3.0.4&lt;/spring.boot.maven.plugin&gt;\r\n        &lt;spring.boot.dependencies.version&gt;3.0.4&lt;/spring.boot.dependencies.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n    \r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (maybe moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${spring.boot.maven.plugin}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nEureka Server pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nEureka App:\r\n\r\n    package com.techronym.eurekaserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n    \r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaServerApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(EurekaServerApplication.class, args);\r\n        }\r\n    }\r\n\r\nDependency tree\r\n\r\n    com.techronym.app:demo-app:pom:1.0-SNAPSHOT\r\n    +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\r\n     +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n    |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n     |  |  |  \\- org.springframework:spring-context:jar:6.0.6:compile\r\n    |  |  |     +- org.springframework:spring-aop:jar:6.0.6:compile\r\n    [INFO] |  |  |     +- org.springframework:spring-beans:jar:6.0.6:compile\r\n    [INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.6:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n    [INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n    [INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\r\n    [INFO] \r\n    [INFO] ---------------------&lt; com.techronym.app:customer &gt;---------------------\r\n    \r\n    [INFO] Building eureka-server 1.0-SNAPSHOT                                [4/4]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ eureka-server ---\r\n    [INFO] com.techronym.app:eureka-server:jar:1.0-SNAPSHOT\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-server:jar:4.0.0:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.1:compile\r\n    [INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.1:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-server:jar:4.0.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-web:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\r\n    [INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\r\n    [INFO] |  |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\r\n    [INFO] |  |  |  +- org.springframework:spring-web:jar:6.0.2:compile\r\n    [INFO] |  |  |  |  \\- org.springframework:spring-beans:jar:6.0.2:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-webmvc:jar:6.0.2:compile\r\n    [INFO] |  |  |     +- org.springframework:spring-aop:jar:6.0.2:compile\r\n    [INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.2:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.0:compile\r\n    [INFO] |  |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- io.micrometer:micrometer-observation:jar:1.10.2:compile\r\n    [INFO] |  |  |  |  \\- io.micrometer:micrometer-commons:jar:1.10.2:compile\r\n    [INFO] |  |  |  \\- io.micrometer:micrometer-core:jar:1.10.2:compile\r\n    [INFO] |  |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n    [INFO] |  |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-freemarker:jar:3.0.0:compile\r\n    [INFO] |  |  |  +- org.freemarker:freemarker:jar:2.3.31:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context-support:jar:6.0.2:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:4.0.0:compile\r\n    [INFO] |  |  |  +- com.netflix.eureka:eureka-client:jar:2.0.0:compile\r\n    [INFO] |  |  |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\r\n    [INFO] |  |  |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\r\n    [INFO] |  |  |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\r\n    [INFO] |  |  |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\r\n    [INFO] |  |  |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\r\n    [INFO] |  |  |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\r\n    [INFO] |  |  |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\r\n    [INFO] |  |  |  |  |  |  \\- com.google.code.gson:gson:jar:2.1:runtime\r\n    [INFO] |  |  |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\r\n    [INFO] |  |  |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.19:compile\r\n    [INFO] |  |  |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\r\n    [INFO] |  |  |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n    [INFO] |  |  |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\r\n    [INFO] |  |  |  |  |  \\- com.google.guava:guava:jar:19.0:compile\r\n    [INFO] |  |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\r\n    [INFO] |  |  |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\r\n    [INFO] |  |  |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\r\n    [INFO] |  |  |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] |  |  |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\r\n    [INFO] |  |  |  \\- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  |  |     \\- commons-codec:commons-codec:jar:1.15:compile\r\n    [INFO] |  |  +- com.netflix.eureka:eureka-client-jersey3:jar:2.0.0:compile\r\n    [INFO] |  |  |  \\- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.0.5:compile\r\n    [INFO] |  |  +- com.netflix.eureka:eureka-core-jersey3:jar:2.0.0:compile\r\n    [INFO] |  |  |  \\- com.netflix.eureka:eureka-core:jar:2.0.0:compile\r\n    [INFO] |  |  |     \\- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\r\n    [INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.0:compile\r\n    [INFO] |  |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\r\n    [INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.0:compile\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\r\n    [INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\r\n    [INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\r\n    [INFO] |  |  |  \\- org.javassist:javassist:jar:3.28.0-GA:compile\r\n    [INFO] |  |  +- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\r\n    [INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context:jar:5.2.4.RELEASE:compile\r\n    [INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\r\n    [INFO] |  |     +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\r\n    [INFO] |  |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n    [INFO] |  |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:4.0.1:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-loadbalancer:jar:4.0.1:compile\r\n    [INFO] |  |  |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\r\n    [INFO] |  |  |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n    [INFO] |  |  |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\r\n    [INFO] |  |  \\- com.stoyanr:evictor:jar:1.0.0:compile\r\n    [INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:compile\r\n    [INFO] |     \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:compile\r\n    [INFO] |        +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\r\n    [INFO] |        +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\r\n    [INFO] |        \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n    [INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\r\n    [INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n    [INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\r\n\r\nPlease what am I doing wrong?\r\n","title":"LoggerFactory is not a Logback LoggerContext - SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>I created a sample modular basic microservices (customer, fraud)using spring boot 3.0.4 with IntelliJ just to test auto service discovery pattern.  All was ok until I added a 3rd microservice: eureka server with the spring cloud dependencies (version 2022.0.1).</p>\n<p>When I tried to run the application, I got the following error:</p>\n<pre><code>    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.helpers.NOPLoggerFactory loaded from file:/Users/apple/.m2/repository/org/slf4j/slf4j-api/1.7.33/slf4j-api-1.7.33.jar). If you are using WebLogic you will need to add 'org.slf4j' to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.helpers.NOPLoggerFactory\n    at org.springframework.util.Assert.instanceCheckFailed(Assert.java:713)\n    at org.springframework.util.Assert.isInstanceOf(Assert.java:632)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:382)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:123)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:54)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:54)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at com.techronym.eurekaserver.EurekaServerApplication.main(EurekaServerApplication.java:11)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here's my parent pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\n  &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;customer&lt;/module&gt;\n      &lt;module&gt;fraud&lt;/module&gt;\n      &lt;module&gt;eureka-server&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;name&gt;demo-app&lt;/name&gt;\n  &lt;url&gt;https://www.techronym.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;spring.boot.maven.plugin&gt;3.0.4&lt;/spring.boot.maven.plugin&gt;\n    &lt;spring.boot.dependencies.version&gt;3.0.4&lt;/spring.boot.dependencies.version&gt;\n    &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (maybe moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${spring.boot.maven.plugin}&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Eureka Server pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo-app&lt;/artifactId&gt;\n        &lt;groupId&gt;com.techronym.app&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;eureka-server&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Eureka App:</p>\n<pre><code>package com.techronym.eurekaserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServerApplication.class, args);\n    }\n}\n</code></pre>\n<p>Dependency tree</p>\n<pre><code>com.techronym.app:demo-app:pom:1.0-SNAPSHOT\n+- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\n +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n|  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n |  |  |  \\- org.springframework:spring-context:jar:6.0.6:compile\n|  |  |     +- org.springframework:spring-aop:jar:6.0.6:compile\n[INFO] |  |  |     +- org.springframework:spring-beans:jar:6.0.6:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.6:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\n[INFO] \n[INFO] ---------------------&lt; com.techronym.app:customer &gt;---------------------\n\n[INFO] Building eureka-server 1.0-SNAPSHOT                                [4/4]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ eureka-server ---\n[INFO] com.techronym.app:eureka-server:jar:1.0-SNAPSHOT\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-server:jar:4.0.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.1:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.1:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-server:jar:4.0.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-web:jar:3.0.0:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.0:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\n[INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\n[INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\n[INFO] |  |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\n[INFO] |  |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\n[INFO] |  |  |  +- org.springframework:spring-web:jar:6.0.2:compile\n[INFO] |  |  |  |  \\- org.springframework:spring-beans:jar:6.0.2:compile\n[INFO] |  |  |  \\- org.springframework:spring-webmvc:jar:6.0.2:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:6.0.2:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:6.0.2:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.0:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.0:compile\n[INFO] |  |  |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.0:compile\n[INFO] |  |  |  +- io.micrometer:micrometer-observation:jar:1.10.2:compile\n[INFO] |  |  |  |  \\- io.micrometer:micrometer-commons:jar:1.10.2:compile\n[INFO] |  |  |  \\- io.micrometer:micrometer-core:jar:1.10.2:compile\n[INFO] |  |  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |  |  |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-freemarker:jar:3.0.0:compile\n[INFO] |  |  |  +- org.freemarker:freemarker:jar:2.3.31:compile\n[INFO] |  |  |  \\- org.springframework:spring-context-support:jar:6.0.2:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:4.0.0:compile\n[INFO] |  |  |  +- com.netflix.eureka:eureka-client:jar:2.0.0:compile\n[INFO] |  |  |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\n[INFO] |  |  |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\n[INFO] |  |  |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\n[INFO] |  |  |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\n[INFO] |  |  |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\n[INFO] |  |  |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\n[INFO] |  |  |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\n[INFO] |  |  |  |  |  |  \\- com.google.code.gson:gson:jar:2.1:runtime\n[INFO] |  |  |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\n[INFO] |  |  |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.19:compile\n[INFO] |  |  |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\n[INFO] |  |  |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |  |  |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\n[INFO] |  |  |  |  |  \\- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.3:compile\n[INFO] |  |  |  |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.6:compile\n[INFO] |  |  |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  |  |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |  |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\n[INFO] |  |  |  \\- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  |  |     +- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  |  |     \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  |  +- com.netflix.eureka:eureka-client-jersey3:jar:2.0.0:compile\n[INFO] |  |  |  \\- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.0.5:compile\n[INFO] |  |  +- com.netflix.eureka:eureka-core-jersey3:jar:2.0.0:compile\n[INFO] |  |  |  \\- com.netflix.eureka:eureka-core:jar:2.0.0:compile\n[INFO] |  |  |     \\- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile\n[INFO] |  |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\n[INFO] |  |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.0:compile\n[INFO] |  |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.0:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\n[INFO] |  |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.28.0-GA:compile\n[INFO] |  |  +- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:5.2.4.RELEASE:compile\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\n[INFO] |  |     +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\n[INFO] |  |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:4.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-loadbalancer:jar:4.0.1:compile\n[INFO] |  |  |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\n[INFO] |  |  |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  |  |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\n[INFO] |  |  \\- com.stoyanr:evictor:jar:1.0.0:compile\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:compile\n[INFO] |     \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:compile\n[INFO] |        +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\n[INFO] |        +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\n[INFO] |        \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.33:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:compile\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.12.10:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.16:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.6:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] \\- org.projectlombok:lombok:jar:1.18.24:compile\n</code></pre>\n<p>Please what am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","prometheus","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":3639349,"reputation":350,"user_id":3033916,"display_name":"raph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954529,"creation_date":1678898985,"answer_id":75747759,"question_id":70870382,"body_markdown":"If you borrow from [this solution][1] about adding custom tags to existing prometheus actuator metrics and parse the request (I&#39;m using a jackson object mapper) for the property you&#39;re interested in, it should do the trick. Would look something like the following: \r\n\r\n```\r\n@Bean\r\npublic WebMvcTagsContributor webMvcTagsContributor() {\r\n\r\n    return new WebMvcTagsContributor() {\r\n        @Override\r\n        public Iterable&lt;Tag&gt; getTags(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Object handler,\r\n            Throwable exception\r\n        ) {\r\n\r\n            // parse the request body to get the property we&#39;re interested in later\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            ThingToMapFromRequestBody bodyAsObject = null;\r\n            try {\r\n                bodyAsObject = mapper.readValue(request.getReader().lines().collect(Collectors.joining()),\r\n                    ThingToMapFromRequestBody.class\r\n                );\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            // add the property we&#39;re interested in to our metrics\r\n            return Tag.of(&quot;challenge&quot;, bodyAsObject != null ? bodyAsObject.type() : &quot;&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\r\n\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\n// making use of a record rather than class, introduced in Java 14\r\nrecord ThingToMapFromRequestBody(String type, String method) { }\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/64913252/3033916","title":"Add custom labels to http_server_requests_seconds_bucket metric in Spring boot","body":"<p>If you borrow from <a href=\"https://stackoverflow.com/a/64913252/3033916\">this solution</a> about adding custom tags to existing prometheus actuator metrics and parse the request (I'm using a jackson object mapper) for the property you're interested in, it should do the trick. Would look something like the following:</p>\n<pre><code>@Bean\npublic WebMvcTagsContributor webMvcTagsContributor() {\n\n    return new WebMvcTagsContributor() {\n        @Override\n        public Iterable&lt;Tag&gt; getTags(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Object handler,\n            Throwable exception\n        ) {\n\n            // parse the request body to get the property we're interested in later\n            ObjectMapper mapper = new ObjectMapper();\n            ThingToMapFromRequestBody bodyAsObject = null;\n            try {\n                bodyAsObject = mapper.readValue(request.getReader().lines().collect(Collectors.joining()),\n                    ThingToMapFromRequestBody.class\n                );\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            // add the property we're interested in to our metrics\n            return Tag.of(&quot;challenge&quot;, bodyAsObject != null ? bodyAsObject.type() : &quot;&quot;);\n        }\n\n        @Override\n        public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\n\n            return null;\n        }\n    };\n}\n\n// making use of a record rather than class, introduced in Java 14\nrecord ThingToMapFromRequestBody(String type, String method) { }\n</code></pre>\n"}],"owner":{"account_id":24064473,"reputation":61,"user_id":18041255,"display_name":"JustAnotherDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678954529,"creation_date":1643232011,"question_id":70870382,"body_markdown":"I&#39;m currently working on a Spring boot (Spring webflux) project where we have exposed metrics of our application on **/actuator/prometheus** endpoint. We have added spring boot actuator dependency which by default gave us the **http_server_requests_seconds_bucket** metric. By default it has **{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}** labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,\r\n\r\n    {\r\n     &quot;type&quot; : &quot;basic&quot;,\r\n     &quot;method&quot; : &quot;someMethod&quot;\r\n    }\r\n\r\nI want to add a label within that metric as, `http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/pos/authenticate&quot;,le=&quot;0.268435456&quot;,     challenge=&quot;basic&quot;}` which is based on the request payload &quot;type&quot; parameter. Can someone please help with this\r\n\r\n**Note:** We only allow limited number of values for &quot;type&quot;\r\n","title":"Add custom labels to http_server_requests_seconds_bucket metric in Spring boot","body":"<p>I'm currently working on a Spring boot (Spring webflux) project where we have exposed metrics of our application on <strong>/actuator/prometheus</strong> endpoint. We have added spring boot actuator dependency which by default gave us the <strong>http_server_requests_seconds_bucket</strong> metric. By default it has <strong>{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}</strong> labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,</p>\n<pre><code>{\n &quot;type&quot; : &quot;basic&quot;,\n &quot;method&quot; : &quot;someMethod&quot;\n}\n</code></pre>\n<p>I want to add a label within that metric as, <code>http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/pos/authenticate&quot;,le=&quot;0.268435456&quot;,     challenge=&quot;basic&quot;}</code> which is based on the request payload &quot;type&quot; parameter. Can someone please help with this</p>\n<p><strong>Note:</strong> We only allow limited number of values for &quot;type&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4101523,"reputation":1355,"user_id":3366932,"accept_rate":57,"display_name":"Araymer"},"score":5,"creation_date":1478919326,"post_id":40559107,"comment_id":68355666,"body_markdown":"Put a breakpoint in and run it in debug and step through your code and see where it&#39;s breaking.","body":"Put a breakpoint in and run it in debug and step through your code and see where it&#39;s breaking."},{"owner":{"account_id":5060613,"reputation":74056,"user_id":4062354,"accept_rate":100,"display_name":"MikeCAT"},"score":2,"creation_date":1478919380,"post_id":40559107,"comment_id":68355679,"body_markdown":"You are not getting output even after you input 4 lines for the arguments of the constructor of `Flight`, right?","body":"You are not getting output even after you input 4 lines for the arguments of the constructor of <code>Flight</code>, right?"},{"owner":{"account_id":4986235,"reputation":1822,"user_id":4009768,"display_name":"d.j.brown"},"score":4,"creation_date":1478919424,"post_id":40559107,"comment_id":68355686,"body_markdown":"Nothing will display until you enter some text since you request input on the standard input using Scanner when constructing Flight.","body":"Nothing will display until you enter some text since you request input on the standard input using Scanner when constructing Flight."},{"owner":{"account_id":9346866,"reputation":1,"user_id":7087153,"display_name":"user7087153"},"score":0,"creation_date":1478919642,"post_id":40559107,"comment_id":68355720,"body_markdown":"Oops..my eyes completely missed that...thanks everyone","body":"Oops..my eyes completely missed that...thanks everyone"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1478923126,"post_id":40559107,"comment_id":68356263,"body_markdown":"@user7087153 that&#39;s what a debugger should have been able to tell you in seconds.","body":"@user7087153 that&#39;s what a debugger should have been able to tell you in seconds."}],"answers":[{"tags":[],"owner":{"account_id":6719971,"reputation":215,"user_id":5180377,"display_name":"فربد ضروري"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569322045,"creation_date":1479815671,"answer_id":40741176,"question_id":40559107,"body_markdown":"its not showing anything because it is waiting for you to enter characters you want in the Flight class constructor.\r\n&lt;br&gt;As you can see here \r\n\r\n    Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\r\n\r\nexecution stops at the `input.nextLine()` parts till you enter something and hit enter    \r\n\r\nP.S : its better to place some `System.out.println(&quot;enter the value&quot;)` kind of statement before the input parts to show the user what to do.funny doing this will prevent you from making this mistake you made","title":"My java code has no errors but why won&#39;t it run?","body":"<p>its not showing anything because it is waiting for you to enter characters you want in the Flight class constructor.\n<br>As you can see here </p>\n\n<pre><code>Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\n</code></pre>\n\n<p>execution stops at the <code>input.nextLine()</code> parts till you enter something and hit enter    </p>\n\n<p>P.S : its better to place some <code>System.out.println(\"enter the value\")</code> kind of statement before the input parts to show the user what to do.funny doing this will prevent you from making this mistake you made</p>\n"},{"tags":[],"owner":{"account_id":27995368,"reputation":1,"user_id":21380746,"display_name":"kaush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678954292,"creation_date":1678581999,"answer_id":75710455,"question_id":40559107,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main (String [] args) {\r\n            Scanner input = new Scanner (System.in);\r\n    \r\n            System.out.println(&quot;Creating first flight&quot;);\r\n            System.out.println(&quot;What is the name of the flight?&quot;);\r\n            String flightName = input.nextLine();\r\n            System.out.println(&quot;What is the destination of the flight?&quot;);\r\n            String destination = input.nextLine();\r\n            System.out.println(&quot;What is the departure time of the flight?&quot;);\r\n            String departureTime = input.nextLine();\r\n            System.out.println(&quot;What is the departure gate of the flight?&quot;);\r\n            String departureGate = input.nextLine();\r\n            \r\n            Flight flight = new Flight (flightName, destination, departureTime, departureGate, 0);\r\n    \r\n            boolean done = false;\r\n            while (!done) {\r\n                System.out.println(&quot;Now what would you like to do?&quot;);\r\n                System.out.print(&quot;1. Print out a flight&#39;s info&quot;);\r\n                System.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\r\n                System.out.print(&quot;3. Change the departure time of a flight.&quot;);\r\n                System.out.print(&quot;4. Change the departure gate of a flight.&quot;);\r\n                System.out.print(&quot;5. Exit&quot;);\r\n                int choice = input.nextInt();\r\n    \r\n                switch (choice) {\r\n    \r\n                case 1: \r\n                    System.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\r\n                    int selection = input.nextInt();\r\n                    if (selection == 1 || selection == 2) {\r\n                        flight.printFlight();\r\n                    } else{\r\n                        System.out.println(&quot;Invalid Option&quot;);\r\n                    } break;\r\n    \r\n                case 2: \r\n                    System.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\r\n                    break;\r\n    \r\n                case 3: \r\n                    System.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\r\n                    int selection2 = input.nextInt();\r\n                    if (selection2 == 1 || selection2 == 2){\r\n                        System.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\r\n                        String new\r\n\r\n","title":"My java code has no errors but why won&#39;t it run?","body":"<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n    public static void main (String [] args) {\n        Scanner input = new Scanner (System.in);\n\n        System.out.println(&quot;Creating first flight&quot;);\n        System.out.println(&quot;What is the name of the flight?&quot;);\n        String flightName = input.nextLine();\n        System.out.println(&quot;What is the destination of the flight?&quot;);\n        String destination = input.nextLine();\n        System.out.println(&quot;What is the departure time of the flight?&quot;);\n        String departureTime = input.nextLine();\n        System.out.println(&quot;What is the departure gate of the flight?&quot;);\n        String departureGate = input.nextLine();\n        \n        Flight flight = new Flight (flightName, destination, departureTime, departureGate, 0);\n\n        boolean done = false;\n        while (!done) {\n            System.out.println(&quot;Now what would you like to do?&quot;);\n            System.out.print(&quot;1. Print out a flight's info&quot;);\n            System.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\n            System.out.print(&quot;3. Change the departure time of a flight.&quot;);\n            System.out.print(&quot;4. Change the departure gate of a flight.&quot;);\n            System.out.print(&quot;5. Exit&quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n\n            case 1: \n                System.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\n                int selection = input.nextInt();\n                if (selection == 1 || selection == 2) {\n                    flight.printFlight();\n                } else{\n                    System.out.println(&quot;Invalid Option&quot;);\n                } break;\n\n            case 2: \n                System.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\n                break;\n\n            case 3: \n                System.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\n                int selection2 = input.nextInt();\n                if (selection2 == 1 || selection2 == 2){\n                    System.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\n                    String new\n</code></pre>\n"}],"owner":{"account_id":9346866,"reputation":1,"user_id":7087153,"display_name":"user7087153"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1318,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"answer_count":2,"score":-8,"last_activity_date":1678954292,"creation_date":1478919240,"question_id":40559107,"body_markdown":"For some reason when I run my code on eclipse there is nothing showing on the screen like it should. I&#39;m not sure what it is. I can type input into the console but that is about it. Nothing else happens. Can anyone tell me what it could be? Thanks. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main (String [] args) {\r\n\t\tScanner input = new Scanner (System.in);\r\n\t\t\r\n\t\tFlight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Creating first flight&quot;);\r\n\t\tSystem.out.println(&quot;What is the name of the flight?&quot;);\r\n\t\t\tString flightName = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the destination of the flight?&quot;);\r\n\t\t\tString destination = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the departure time of the flight?&quot;);\r\n\t\t\tString departureTime = input.nextLine();\r\n\t\tSystem.out.println(&quot;What is the departure gate of the flight?&quot;);\r\n\t\t\tString departureGate = input.nextLine();\r\n\t\t\r\n\t\tboolean done = false;\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(&quot;Now what would you like to do?&quot;);\r\n\t\t\tSystem.out.print(&quot;1. Print out a flight&#39;s info&quot;);\r\n\t\t\tSystem.out.print(&quot;2. Print out the number of flights through the static variable.&quot;);\r\n\t\t\tSystem.out.print(&quot;3. Change the departure time of a flight.&quot;);\r\n\t\t\tSystem.out.print(&quot;4. Change the departure gate of a flight.&quot;);\r\n\t\t\tSystem.out.print(&quot;5. Exit&quot;);\r\n\t\t\tint choice = input.nextInt();\r\n\t\r\n\t\t\tswitch (choice) {\r\n\t\t\t\r\n\t\t\tcase 1: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to print the info of (1 or 2)?&quot;);\r\n\t\t\t\t\tint selection = 0;\r\n\t\t\t\t\tselection = input.nextInt();\r\n\t\t\t\tif (selection == 1 || selection == 2) {\r\n\t\t\t\t\tFlight.printFlight();\r\n\t\t\t\t} else{\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\t\r\n\t\t\tcase 2: \r\n\t\t\t\tSystem.out.println(&quot;This is the number of flights&quot; + Flight.getNumFlights());\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 3: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to change the departure time of (1 or 2)?&quot;);\r\n\t\t\t\t\tint selection2 = 0;\r\n\t\t\t\t\tselection2 = input.nextInt();\r\n\t\t\t\tif (selection2 == 1 || selection2 == 2){\r\n\t\t\t\t\tSystem.out.println(&quot;What is the new departure time for flight &quot; + (Flight.getNumFlights()-1));\r\n\t\t\t\t\t\tString newDeptTime = input.nextLine();\r\n\t\t\t\t\t\tFlight.changeDeptTime(newDeptTime);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\r\n\t\t\tcase 4: \r\n\t\t\t\tSystem.out.println(&quot;Which flight would you like to change the departure gate of?&quot;);\r\n\t\t\t\t\tint selection3 = input.nextInt();\r\n\t\t\t\tif (selection3 == 1 || selection3 == 2){\r\n\t\t\t\t\tSystem.out.println(&quot;What is the new departure gate for flight &quot; + Flight.getNumFlights());\r\n\t\t\t\t\t\tString newDeptGate = input.nextLine();\r\n\t\t\t\t\t\tFlight.changeDeptGate(newDeptGate);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid option&quot;);\r\n\t\t\t\t} break;\r\n\t\t\t\r\n\t\t\tcase 5: \r\n\t\t\t\tdone = true;\r\n\t\t\t\tbreak; \r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Invalid option&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}\t\r\n\t\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n\r\n\t\r\n\r\n","title":"My java code has no errors but why won&#39;t it run?","body":"<p>For some reason when I run my code on eclipse there is nothing showing on the screen like it should. I'm not sure what it is. I can type input into the console but that is about it. Nothing else happens. Can anyone tell me what it could be? Thanks. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n\npublic static void main (String [] args) {\n    Scanner input = new Scanner (System.in);\n\n    Flight flight = new Flight (input.nextLine(), input.nextLine(), input.nextLine(), input.nextLine(), 0);\n\n    System.out.println(\"Creating first flight\");\n    System.out.println(\"What is the name of the flight?\");\n        String flightName = input.nextLine();\n    System.out.println(\"What is the destination of the flight?\");\n        String destination = input.nextLine();\n    System.out.println(\"What is the departure time of the flight?\");\n        String departureTime = input.nextLine();\n    System.out.println(\"What is the departure gate of the flight?\");\n        String departureGate = input.nextLine();\n\n    boolean done = false;\n    while (!done) {\n        System.out.println(\"Now what would you like to do?\");\n        System.out.print(\"1. Print out a flight's info\");\n        System.out.print(\"2. Print out the number of flights through the static variable.\");\n        System.out.print(\"3. Change the departure time of a flight.\");\n        System.out.print(\"4. Change the departure gate of a flight.\");\n        System.out.print(\"5. Exit\");\n        int choice = input.nextInt();\n\n        switch (choice) {\n\n        case 1: \n            System.out.println(\"Which flight would you like to print the info of (1 or 2)?\");\n                int selection = 0;\n                selection = input.nextInt();\n            if (selection == 1 || selection == 2) {\n                Flight.printFlight();\n            } else{\n                System.out.println(\"Invalid Option\");\n            } break;\n\n        case 2: \n            System.out.println(\"This is the number of flights\" + Flight.getNumFlights());\n            break;\n\n        case 3: \n            System.out.println(\"Which flight would you like to change the departure time of (1 or 2)?\");\n                int selection2 = 0;\n                selection2 = input.nextInt();\n            if (selection2 == 1 || selection2 == 2){\n                System.out.println(\"What is the new departure time for flight \" + (Flight.getNumFlights()-1));\n                    String newDeptTime = input.nextLine();\n                    Flight.changeDeptTime(newDeptTime);\n            } else{\n                System.out.println(\"Invalid Option\");\n            } break;\n\n        case 4: \n            System.out.println(\"Which flight would you like to change the departure gate of?\");\n                int selection3 = input.nextInt();\n            if (selection3 == 1 || selection3 == 2){\n                System.out.println(\"What is the new departure gate for flight \" + Flight.getNumFlights());\n                    String newDeptGate = input.nextLine();\n                    Flight.changeDeptGate(newDeptGate);\n            } else {\n                System.out.println(\"Invalid option\");\n            } break;\n\n        case 5: \n            done = true;\n            break; \n        default:\n            System.out.println(\"Invalid option\");\n            break;\n\n        }\n\n    }   \n\n}\n\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","keylistener"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678953306,"post_id":75753385,"comment_id":133633361,"body_markdown":"can you provide a minimal example that reproduces the issue?","body":"can you provide a minimal example that reproduces the issue?"},{"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"score":0,"creation_date":1678953470,"post_id":75753385,"comment_id":133633398,"body_markdown":"yes, You can create an object in the main class and run the code I showed you right away and No additional code is required.","body":"yes, You can create an object in the main class and run the code I showed you right away and No additional code is required."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678953991,"post_id":75753385,"comment_id":133633536,"body_markdown":"your code works just fine. Your problem is not that the Listener doesn&#39;t work, it&#39;s that you added that KeyListener to the Frame. Since your textfield covers the entire frame, it&#39;s not possible for your frame itself to be selected. Add your KeyListener to your textField instead of to your Frame. Since you want the Listener to be triggered on an update of the field, that&#39;s what you should &#39;ve done either way.","body":"your code works just fine. Your problem is not that the Listener doesn&#39;t work, it&#39;s that you added that KeyListener to the Frame. Since your textfield covers the entire frame, it&#39;s not possible for your frame itself to be selected. Add your KeyListener to your textField instead of to your Frame. Since you want the Listener to be triggered on an update of the field, that&#39;s what you should &#39;ve done either way."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678962214,"post_id":75753385,"comment_id":133635797,"body_markdown":"I&#39;m not sure what is you&#39;re trying to achieve, but generally speaking, a `KeyListener` on a text component is a bad idea.  Maybe something like [this](https://stackoverflow.com/questions/12760311/performing-a-certain-task-after-pressing-ctrl-alt-backspace/12763850#12763850) would work better","body":"I&#39;m not sure what is you&#39;re trying to achieve, but generally speaking, a <code>KeyListener</code> on a text component is a bad idea.  Maybe something like <a href=\"https://stackoverflow.com/questions/12760311/performing-a-certain-task-after-pressing-ctrl-alt-backspace/12763850#12763850\">this</a> would work better"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678963646,"post_id":75753385,"comment_id":133636290,"body_markdown":"[Key capture example](https://stackoverflow.com/questions/46985936/using-keybinding-and-action-map-in-java-for-shortcut-keys-for-buttons/46986203#46986203)","body":"<a href=\"https://stackoverflow.com/questions/46985936/using-keybinding-and-action-map-in-java-for-shortcut-keys-for-buttons/46986203#46986203\">Key capture example</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965070,"post_id":75753385,"comment_id":133636718,"body_markdown":"_want to receive only the shortcuts_ which short-custs?","body":"<i>want to receive only the shortcuts</i> which short-custs?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678965426,"post_id":75753385,"comment_id":133636818,"body_markdown":"as-is, it either describes a typo-like error (adding the listener to the wrong component) or a keylistener is the wrong approach.","body":"as-is, it either describes a typo-like error (adding the listener to the wrong component) or a keylistener is the wrong approach."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678965509,"post_id":75753385,"comment_id":133636830,"body_markdown":"Just so we&#39;re a little clear - there are a number of possible ways to for monitor keyboard input, some are better then others, but without more clarity , it&#39;s impossible to to provide you with a decent amount of direction","body":"Just so we&#39;re a little clear - there are a number of possible ways to for monitor keyboard input, some are better then others, but without more clarity , it&#39;s impossible to to provide you with a decent amount of direction"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1678954121,"creation_date":1678954121,"answer_id":75753505,"question_id":75753385,"body_markdown":"In order for your Listener to be applicable to your textField, you need to change this:\r\n\r\n    addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n            });\r\n\r\ninto this:\r\n\r\n    textField.addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n            });\r\n\r\nAt current, your Listener is attached to your Frame, which is completely covered by the textField.","title":"KeyListener not responding after value modification in JTextField","body":"<p>In order for your Listener to be applicable to your textField, you need to change this:</p>\n<pre><code>addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n</code></pre>\n<p>into this:</p>\n<pre><code>textField.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n</code></pre>\n<p>At current, your Listener is attached to your Frame, which is completely covered by the textField.</p>\n"}],"owner":{"account_id":25998407,"reputation":13,"user_id":19709339,"display_name":"noen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75753505,"answer_count":1,"score":-1,"last_activity_date":1678954121,"creation_date":1678953129,"question_id":75753385,"body_markdown":"I&#39;m writing a program in java that opens a window and detects keystrokes.\r\n\r\nHowever, there is one fatal problem. if i modify the value in TextField, KeyListener will not work again. Here is the code that summarizes the problem situation I ran into:\r\n\r\n```java\r\n    \r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class Main extends JFrame {\r\n    private Main(){\r\n\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setSize(500,500);\r\n        setPreferredSize(new Dimension(500,500));\r\n\r\n        JPanel textFieldPanel = new JPanel();\r\n        textFieldPanel.setFocusable(true);\r\n        textFieldPanel.setLayout(new BorderLayout());\r\n        JTextField textField = new JTextField();\r\n        textField.setFocusable(true);\r\n        addKeyListener(new KeyAdapter() {\r\n            @Override\r\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n        });\r\n        textFieldPanel.add(textField);\r\n        add(textFieldPanel);\r\n\r\n        pack();\r\n    }\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n}\r\n```\r\n\r\nI want to make it get a KeyListener even while entering a value, And also want to know why the listener is disabled.\r\n\r\nI&#39;ve disabled the fields via the disable and re-enable method, but the KeyListener still doesn&#39;t work.\r\n```java\r\n        textField.addActionListener(e -&gt; {\r\n            textField.setEnabled(false);\r\n            textField.setEnabled(true);\r\n        });\r\n```\r\n\r\nHow can I make it want to receive only the shortcuts, without the help of any external classes?\r\nSince I added it directly to the JFrame, it doesn&#39;t seem to be a focusing issue.","title":"KeyListener not responding after value modification in JTextField","body":"<p>I'm writing a program in java that opens a window and detects keystrokes.</p>\n<p>However, there is one fatal problem. if i modify the value in TextField, KeyListener will not work again. Here is the code that summarizes the problem situation I ran into:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\npublic class Main extends JFrame {\n    private Main(){\n\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setVisible(true);\n        setSize(500,500);\n        setPreferredSize(new Dimension(500,500));\n\n        JPanel textFieldPanel = new JPanel();\n        textFieldPanel.setFocusable(true);\n        textFieldPanel.setLayout(new BorderLayout());\n        JTextField textField = new JTextField();\n        textField.setFocusable(true);\n        addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) { //it is not responding after value modification in JTextField...\n                System.out.println(&quot;test&quot;);\n            }\n        });\n        textFieldPanel.add(textField);\n        add(textFieldPanel);\n\n        pack();\n    }\n    public static void main(String[] args) {\n        new Main();\n    }\n}\n</code></pre>\n<p>I want to make it get a KeyListener even while entering a value, And also want to know why the listener is disabled.</p>\n<p>I've disabled the fields via the disable and re-enable method, but the KeyListener still doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        textField.addActionListener(e -&gt; {\n            textField.setEnabled(false);\n            textField.setEnabled(true);\n        });\n</code></pre>\n<p>How can I make it want to receive only the shortcuts, without the help of any external classes?\nSince I added it directly to the JFrame, it doesn't seem to be a focusing issue.</p>\n"},{"tags":["java","singly-linked-list"],"comments":[{"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"score":0,"creation_date":1368621217,"post_id":16565045,"comment_id":23799832,"body_markdown":"Your `print()` method is misleading - given the current implementation, it should be called `getValue()`","body":"Your <code>print()</code> method is misleading - given the current implementation, it should be called <code>getValue()</code>"}],"answers":[{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621266,"creation_date":1368621266,"answer_id":16565134,"question_id":16565045,"body_markdown":"Consider creating a `printall`\r\n\r\n    public void printAll(){\r\n        System.out.println(item);\r\n        if (next != null){\r\n            next.printAll();\r\n        }\r\n    }","title":"printing nodes from a singly-linked list","body":"<p>Consider creating a <code>printall</code></p>\n\n<pre><code>public void printAll(){\n    System.out.println(item);\n    if (next != null){\n        next.printAll();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2018711,"reputation":6103,"user_id":1805388,"accept_rate":80,"display_name":"ValarDohaeris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678953911,"creation_date":1368621283,"answer_id":16565141,"question_id":16565045,"body_markdown":"    public String toString() {\r\n        String result = item + &quot; &quot;;\r\n        if (next != null) {\r\n            result += next.toString();\r\n        }\r\n        return result;\r\n    }\r\n\r\nAnd then you can simply do\r\n\r\n    System.out.println(list.toString());\r\n\r\n(I renamed your function from `print` to `toString` to give a more accurate description of what it does)","title":"printing nodes from a singly-linked list","body":"<pre><code>public String toString() {\n    String result = item + &quot; &quot;;\n    if (next != null) {\n        result += next.toString();\n    }\n    return result;\n}\n</code></pre>\n<p>And then you can simply do</p>\n<pre><code>System.out.println(list.toString());\n</code></pre>\n<p>(I renamed your function from <code>print</code> to <code>toString</code> to give a more accurate description of what it does)</p>\n"},{"tags":[],"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368621724,"creation_date":1368621404,"answer_id":16565176,"question_id":16565045,"body_markdown":"Your current implementation doesn&#39;t print anything: it simply returns item.\r\nMore appropriate implementation would look like:\r\n\r\n    public void print() {\r\n        System.out.println(item); \r\n    }\r\n\r\nYou can then use recursion to print all items:\r\n   \r\n    public void printAll() {\r\n        print();\r\n        if (next != null) {\r\n            System.out.println(&quot;; &quot;);\r\n            next.printAll(); \r\n        }\r\n    }\r\n   \r\n\r\n    \r\n","title":"printing nodes from a singly-linked list","body":"<p>Your current implementation doesn't print anything: it simply returns item.\nMore appropriate implementation would look like:</p>\n\n<pre><code>public void print() {\n    System.out.println(item); \n}\n</code></pre>\n\n<p>You can then use recursion to print all items:</p>\n\n<pre><code>public void printAll() {\n    print();\n    if (next != null) {\n        System.out.println(\"; \");\n        next.printAll(); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2636659,"reputation":531,"user_id":2281124,"accept_rate":50,"display_name":"goodies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621413,"creation_date":1368621413,"answer_id":16565181,"question_id":16565045,"body_markdown":"Your `print()` function is returning only a single item that&#39;s why it is printing only 21.\r\n\r\nCall recursively to print all the values until `next != NULL`","title":"printing nodes from a singly-linked list","body":"<p>Your <code>print()</code> function is returning only a single item that's why it is printing only 21.</p>\n\n<p>Call recursively to print all the values until <code>next != NULL</code></p>\n"},{"tags":[],"owner":{"account_id":2768189,"reputation":450,"user_id":2383376,"display_name":"jayrobin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621567,"creation_date":1368621567,"answer_id":16565222,"question_id":16565045,"body_markdown":"Calling `list.print()` will only ever return the value of the head (21) - you are never making any reference or call to the next node: `next`.\r\n\r\nPersonally, I would remove the print() method and instead override toString():\r\n\r\n    @override\r\n    public String toString(){\r\n        return item + &quot;\\n&quot; + next;\r\n    }\r\n\r\nI guess you probably don&#39;t want the null tail printed, so this is probably nicer:\r\n\r\n    @override\r\n    public String toString(){\r\n        if(next) {\r\n            return item + &quot;\\n&quot; + next;\r\n        } else {\r\n            return item + &quot;\\n&quot;;\r\n        }\r\n    }\r\n\r\nThen in, main:\r\n\r\n    public static void main(String[] args) {            \r\n        ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\r\n        System.out.println(list);\r\n    }\r\n\r\n","title":"printing nodes from a singly-linked list","body":"<p>Calling <code>list.print()</code> will only ever return the value of the head (21) - you are never making any reference or call to the next node: <code>next</code>.</p>\n\n<p>Personally, I would remove the print() method and instead override toString():</p>\n\n<pre><code>@override\npublic String toString(){\n    return item + \"\\n\" + next;\n}\n</code></pre>\n\n<p>I guess you probably don't want the null tail printed, so this is probably nicer:</p>\n\n<pre><code>@override\npublic String toString(){\n    if(next) {\n        return item + \"\\n\" + next;\n    } else {\n        return item + \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Then in, main:</p>\n\n<pre><code>public static void main(String[] args) {            \n    ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\n    System.out.println(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436678,"reputation":5234,"user_id":823991,"accept_rate":83,"display_name":"John Snow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368621858,"creation_date":1368621858,"answer_id":16565334,"question_id":16565045,"body_markdown":"You can use a foreach loop:\r\n\r\n    List&lt;ListNode&gt; theList = new LinkedList&lt;ListNode&gt;();\r\n    //add stuff to the list\r\n    for(ListNode n:theList)\r\n       System.out.println(n.print();\r\n\r\nTHis will iterate over the list and return the next object, on this object we call the `print()` method","title":"printing nodes from a singly-linked list","body":"<p>You can use a foreach loop:</p>\n\n<pre><code>List&lt;ListNode&gt; theList = new LinkedList&lt;ListNode&gt;();\n//add stuff to the list\nfor(ListNode n:theList)\n   System.out.println(n.print();\n</code></pre>\n\n<p>THis will iterate over the list and return the next object, on this object we call the <code>print()</code> method</p>\n"},{"tags":[],"owner":{"account_id":8652630,"reputation":81,"user_id":6477792,"display_name":"Pasindu Jayasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665296162,"creation_date":1665250746,"answer_id":73999204,"question_id":16565045,"body_markdown":"Convert list into an array `var arr = list.toArray();` after that print the array ` System.out.println(Arrays.toString(arr));`\r\n\r\n    public int[] toArray(){\r\n        int [] arry = new int[size];\r\n        var current = first;\r\n        var index = 0;\r\n    \r\n            while (current!=null){\r\n                arry[index++] = current.value;\r\n                current = current.next;\r\n            }\r\n            return arry;\r\n        }\r\n","title":"printing nodes from a singly-linked list","body":"<p>Convert list into an array <code>var arr = list.toArray();</code> after that print the array <code> System.out.println(Arrays.toString(arr));</code></p>\n<pre><code>public int[] toArray(){\n    int [] arry = new int[size];\n    var current = first;\n    var index = 0;\n\n        while (current!=null){\n            arry[index++] = current.value;\n            current = current.next;\n        }\n        return arry;\n    }\n</code></pre>\n"}],"owner":{"account_id":2694370,"reputation":145,"user_id":2326847,"display_name":"user2326847"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16565141,"answer_count":7,"score":1,"last_activity_date":1678953911,"creation_date":1368621019,"question_id":16565045,"body_markdown":"I made a node class which is a linked list class. Is there any way I can print out elements in this list ? I made my `print()` method but it only returns the first element which is 21. How do I iterate through that list ?  \r\n\r\n    public class ListNode {\r\n\t\tprivate int item;\r\n\t\tprivate ListNode next;\r\n\t\t\r\n\t\tpublic ListNode(int item, ListNode next){\r\n\t\t\tthis.item = item;\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\t\t\r\n\t\tpublic ListNode(int item){\r\n\t\t\tthis(item, null);\r\n\t\t}\r\n\t\t\r\n\t\tpublic int print(){\r\n\t\t\treturn item;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\t\t\t\r\n\t\t\tListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\r\n\t\t\tSystem.out.println(list.print());\r\n\t\t}\r\n}","title":"printing nodes from a singly-linked list","body":"<p>I made a node class which is a linked list class. Is there any way I can print out elements in this list ? I made my <code>print()</code> method but it only returns the first element which is 21. How do I iterate through that list ?  </p>\n\n<pre><code>public class ListNode {\n    private int item;\n    private ListNode next;\n\n    public ListNode(int item, ListNode next){\n        this.item = item;\n        this.next = next;\n    }\n\n    public ListNode(int item){\n        this(item, null);\n    }\n\n    public int print(){\n        return item;\n    }\n\n    public static void main(String[] args) {            \n        ListNode list = new ListNode(21, new ListNode(5, new ListNode(19, null)));\n        System.out.println(list.print());\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","kotlin","text-to-speech"],"owner":{"account_id":16447516,"reputation":135,"user_id":11881850,"display_name":"kpwn Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953740,"creation_date":1678953740,"question_id":75753453,"body_markdown":"I have following code to play a text as audio:\r\n\r\n    abstract class EmployeeNoteToTTS(private val employeeName: String, activity: AppCompatActivity, private val text: String){\r\n    \r\n        private var tts: TextToSpeech? = null\r\n        private val audioFile = File(&quot;${activity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)}/employeeTtsNotes/$employeeName&quot;)\r\n    \r\n        abstract fun onConvertDone(audioFile: File)\r\n        abstract fun onConvertFail(utteranceId: String)\r\n    \r\n    \r\n        init {\r\n            audioFile.mkdirs()\r\n    \r\n            tts = TextToSpeech(activity.applicationContext)\r\n            { status -&gt; if (status == TextToSpeech.SUCCESS) {\r\n                tts?.language = Locale.US\r\n                } else {\r\n                    throw Exception(&quot;TTS init fail&quot;)\r\n                }\r\n            }\r\n            tts?.setOnUtteranceProgressListener(object : UtteranceProgressListener() {\r\n    \r\n                override fun onDone(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert done&quot;)\r\n                    onConvertDone(audioFile)\r\n                }\r\n    \r\n                override fun onError(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert fail&quot;)\r\n                    onConvertFail(utteranceId.toString())\r\n                }\r\n    \r\n                override fun onStart(utteranceId: String?) {\r\n                    Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert start&quot;)\r\n                }\r\n            })\r\n    \r\n        }\r\n    \r\n       fun convert() {\r\n           if (audioFile.parent != null){\r\n               tts?.speak(text,TextToSpeech.QUEUE_FLUSH,null,&quot;&quot;)\r\n               val outputFile = File(audioFile.parent!! + &quot;/$employeeName/&quot; + &quot;TTS_${System.currentTimeMillis()}.mp3&quot;)\r\n               outputFile.createNewFile()\r\n               tts?.synthesizeToFile(text, null, outputFile,&quot;0&quot;)\r\n           }\r\n       }\r\n    \r\n    }\r\n\r\nHowever i am not able to save the file as .mp3 and the text is not played either. Theres also no exception thrown and none of the **UtteranceProgressListener** callbacks are called","title":"Android TextToSpeech does not save Audio and play song","body":"<p>I have following code to play a text as audio:</p>\n<pre><code>abstract class EmployeeNoteToTTS(private val employeeName: String, activity: AppCompatActivity, private val text: String){\n\n    private var tts: TextToSpeech? = null\n    private val audioFile = File(&quot;${activity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)}/employeeTtsNotes/$employeeName&quot;)\n\n    abstract fun onConvertDone(audioFile: File)\n    abstract fun onConvertFail(utteranceId: String)\n\n\n    init {\n        audioFile.mkdirs()\n\n        tts = TextToSpeech(activity.applicationContext)\n        { status -&gt; if (status == TextToSpeech.SUCCESS) {\n            tts?.language = Locale.US\n            } else {\n                throw Exception(&quot;TTS init fail&quot;)\n            }\n        }\n        tts?.setOnUtteranceProgressListener(object : UtteranceProgressListener() {\n\n            override fun onDone(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert done&quot;)\n                onConvertDone(audioFile)\n            }\n\n            override fun onError(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert fail&quot;)\n                onConvertFail(utteranceId.toString())\n            }\n\n            override fun onStart(utteranceId: String?) {\n                Log.e(&quot;utteranceprogresslistener&quot;,&quot;convert start&quot;)\n            }\n        })\n\n    }\n\n   fun convert() {\n       if (audioFile.parent != null){\n           tts?.speak(text,TextToSpeech.QUEUE_FLUSH,null,&quot;&quot;)\n           val outputFile = File(audioFile.parent!! + &quot;/$employeeName/&quot; + &quot;TTS_${System.currentTimeMillis()}.mp3&quot;)\n           outputFile.createNewFile()\n           tts?.synthesizeToFile(text, null, outputFile,&quot;0&quot;)\n       }\n   }\n\n}\n</code></pre>\n<p>However i am not able to save the file as .mp3 and the text is not played either. Theres also no exception thrown and none of the <strong>UtteranceProgressListener</strong> callbacks are called</p>\n"},{"tags":["java","working-set","project-explorer","eclipse-2019-06"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564383075,"creation_date":1564383075,"answer_id":57248491,"question_id":57247502,"body_markdown":"These working sets are contributed by the Maven support plug-ins (org.eclipse.m2e.xxx). \r\n\r\nThere does not seem to be anyway to disable them other than uninstalling the Maven support.","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>These working sets are contributed by the Maven support plug-ins (org.eclipse.m2e.xxx). </p>\n\n<p>There does not seem to be anyway to disable them other than uninstalling the Maven support.</p>\n"},{"tags":[],"owner":{"account_id":3106923,"reputation":727,"user_id":4055135,"display_name":"Kelly Bang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582743720,"creation_date":1582742991,"answer_id":60420609,"question_id":57247502,"body_markdown":"The location where Eclipse saves working sets is `workspace/.metadata/.plugins/org.eclipse.ui.workbench/workingsets.xml`. If you&#39;re on Windows try setting this to readonly, hopefully this works.\r\n\r\nWhen you remove Java Main|Test Sources from Eclipse, it removes the corresponding lines there. However, when you restart Eclipse it generates those lines again.\r\n\r\nI&#39;m on Linux, I thought setting the file owner to root:root with -rw-rw-r-- permissions would have been enough. On start up it throws an error, but quickly corrects itself, deletes the folder and reconstructs the settings from the files it was able to read. Setting the folder to root:root as well means you can read the error that is thrown (Cannot save) but it still creates the workspaces, just can&#39;t save them for you...","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>The location where Eclipse saves working sets is <code>workspace/.metadata/.plugins/org.eclipse.ui.workbench/workingsets.xml</code>. If you're on Windows try setting this to readonly, hopefully this works.</p>\n\n<p>When you remove Java Main|Test Sources from Eclipse, it removes the corresponding lines there. However, when you restart Eclipse it generates those lines again.</p>\n\n<p>I'm on Linux, I thought setting the file owner to root:root with -rw-rw-r-- permissions would have been enough. On start up it throws an error, but quickly corrects itself, deletes the folder and reconstructs the settings from the files it was able to read. Setting the folder to root:root as well means you can read the error that is thrown (Cannot save) but it still creates the workspaces, just can't save them for you...</p>\n"},{"tags":[],"owner":{"account_id":11741990,"reputation":21,"user_id":8594012,"display_name":"Alex1988"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678953731,"creation_date":1678912858,"answer_id":75749872,"question_id":57247502,"body_markdown":"This worked for me, to solve the problem of the appearance of the directories &quot;**Java Main Sources**&quot; and &quot;**Java Test Sources**&quot; you have to go to the **Package Explorer** and click on the white triangle at the top,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nfrom here select **Select Working Set...** ,\r\n\r\n[![enter image description here][3]][3]\r\n\r\na window will open where it will be possible to remove by clicking on Remove after having selected the working sets or directories named &quot;**Java Main Sources**&quot;\r\n\r\n[![enter image description here][4]][4]\r\n\r\n and &quot;**Java Test Sources**&quot;.\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI hope this was helpful, simple and effective.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XnEnA.png\r\n  [2]: https://i.stack.imgur.com/igvqS.png\r\n  [3]: https://i.stack.imgur.com/7vGIg.png\r\n  [4]: https://i.stack.imgur.com/13lwT.png\r\n  [5]: https://i.stack.imgur.com/Kb0qf.png","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>This worked for me, to solve the problem of the appearance of the directories &quot;<strong>Java Main Sources</strong>&quot; and &quot;<strong>Java Test Sources</strong>&quot; you have to go to the <strong>Package Explorer</strong> and click on the white triangle at the top,</p>\n<p><a href=\"https://i.stack.imgur.com/XnEnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XnEnA.png\" alt=\"enter image description here\" /></a></p>\n<p>from here select <strong>Select Working Set...</strong> ,</p>\n<p><a href=\"https://i.stack.imgur.com/7vGIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7vGIg.png\" alt=\"enter image description here\" /></a></p>\n<p>a window will open where it will be possible to remove by clicking on Remove after having selected the working sets or directories named &quot;<strong>Java Main Sources</strong>&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/13lwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/13lwT.png\" alt=\"enter image description here\" /></a></p>\n<p>and &quot;<strong>Java Test Sources</strong>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/Kb0qf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kb0qf.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope this was helpful, simple and effective.</p>\n"}],"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1678953731,"creation_date":1564376965,"question_id":57247502,"body_markdown":"I&#39;m trying to remove the working sets &quot;Java Main Sources&quot; and &quot;Java Test Sources&quot; from the working sets of the Project Explorer.  \r\n\r\nI can delete them from the Select Working Set dialogue window, but, they return when Eclipse is restarted. Is there a way to remove them permanently?\r\n\r\nAfter restarting eclipse, I would expect those working sets to not be present.","title":"Is there a way to remove/hide/disable &quot;Java [Main|Test] Sources&quot; Working Sets from the Project Explorer panel in Eclipse 2019-06","body":"<p>I'm trying to remove the working sets \"Java Main Sources\" and \"Java Test Sources\" from the working sets of the Project Explorer.  </p>\n\n<p>I can delete them from the Select Working Set dialogue window, but, they return when Eclipse is restarted. Is there a way to remove them permanently?</p>\n\n<p>After restarting eclipse, I would expect those working sets to not be present.</p>\n"},{"tags":["java","google-play"],"owner":{"account_id":28021456,"reputation":1,"user_id":21402194,"display_name":"q5a6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953457,"creation_date":1678953457,"question_id":75753420,"body_markdown":"my app update rejected by google play because of Request Install Packages Permission but my app is an app that allow user to install downloaded APK Files on User device so i can&#39;t remove this permission.\r\n\r\nGoogle play responded with this email :\r\n\r\n\r\n\r\n    We found that your app is not compliant with how REQUEST_INSTALL_PACKAGES permission is allowed to be used. Specifically, the use of the permission is not directly related to the core purpose of the app.\r\n\r\n    Issue details\r\n\r\n    We found an issue in the following area(s):\r\n\r\n    APK 15\r\n\r\n    Additionally, follow these steps to bring your app into compliance:\r\n\r\n    Please remove the use of REQUEST_INSTALL_PACKAGES permission from all version codes within the submission. This includes both production and testing tracks.\r\n\r\n\r\nhow i can fix this ?\r\n\r\ni have explained to google that the permission is required but they responded with the email below","title":"Request Install Packages Permission App update rejected","body":"<p>my app update rejected by google play because of Request Install Packages Permission but my app is an app that allow user to install downloaded APK Files on User device so i can't remove this permission.</p>\n<p>Google play responded with this email :</p>\n<pre><code>We found that your app is not compliant with how REQUEST_INSTALL_PACKAGES permission is allowed to be used. Specifically, the use of the permission is not directly related to the core purpose of the app.\n\nIssue details\n\nWe found an issue in the following area(s):\n\nAPK 15\n\nAdditionally, follow these steps to bring your app into compliance:\n\nPlease remove the use of REQUEST_INSTALL_PACKAGES permission from all version codes within the submission. This includes both production and testing tracks.\n</code></pre>\n<p>how i can fix this ?</p>\n<p>i have explained to google that the permission is required but they responded with the email below</p>\n"},{"tags":["java","unit-testing","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1678954517,"post_id":75753415,"comment_id":133633648,"body_markdown":"https://quarkus.io/guides/getting-started-testing.\nFollow the guide, you are missing some important point about testing Quarkus applications","body":"<a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">quarkus.io/guides/getting-started-testing</a>. Follow the guide, you are missing some important point about testing Quarkus applications"}],"owner":{"account_id":28030346,"reputation":1,"user_id":21409637,"display_name":"batnyam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678953415,"creation_date":1678953415,"question_id":75753415,"body_markdown":"I do need a unit test of my app so that&#39;s my unit test class\r\n\r\n```\r\npublic class UnitTestActivator {\r\n\r\n    @Mock\r\n    ActivatorFacade activatorFacade;\r\n\r\n    @InjectMocks\r\n    ActivatorService activatorService;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testInsertActivator() {\r\n        String request = &quot;test request&quot;;\r\n        String globalId = &quot;test global id&quot;;\r\n\r\n        ActivatorEntity activatorEntity = new ActivatorEntity();\r\n        activatorEntity.setBody(request);\r\n        activatorEntity.setGlobalId(globalId);\r\n\r\n        activatorService.insertActivator(request, globalId);\r\n        Mockito.verify(activatorFacade).create(activatorEntity);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand that&#39;s the ActivatorFacade class @Mock on unit test\r\n\r\n```\r\n@ApplicationScoped\r\npublic class ActivatorFacade extends AbstractFacade&lt;ActivatorEntity&gt; {\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n    @Override\r\n    protected EntityManager getEntityManager() {\r\n        return em;\r\n    }\r\n\r\n    public ActivatorFacade() {\r\n        super(ActivatorEntity.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand that&#39;s ActivatorService class @InjectMocks on unit test\r\n\r\n```\r\n@ApplicationScoped\r\npublic class ActivatorService {\r\n\r\n    @Inject\r\n    ActivatorFacade activatorFacade;\r\n\r\n    @Transactional\r\n    public void insertActivator(String request, String globalId) {\r\n        ActivatorEntity activatorEntity = new ActivatorEntity();\r\n        activatorEntity.setBody(request);\r\n        activatorEntity.setGlobalId(globalId);\r\n        activatorFacade.create(activatorEntity);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nthen running test occured this error\r\n\r\n```\r\n2023-03-16 15:50:26,237 ERROR [io.qua.test] (Test runner thread) Test UnitTestActivator#testInsertActivator() failed \r\n: java.lang.NullPointerException: Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null at activator.unit.UnitTestActivator.testInsertActivator(UnitTestActivator.java:45)\r\n\r\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Summary: &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\nactivator.unit.UnitTestActivator#testInsertActivator(UnitTestActivator.java:45) UnitTestActivator#testInsertActivator() Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null\r\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1 TEST FAILED &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n```\r\n\r\nhow to solve this error\r\n\r\nhow to fully inject or construct ActivatorService","title":"Can&#39;t inject service class in unit test of Quarkus app","body":"<p>I do need a unit test of my app so that's my unit test class</p>\n<pre><code>public class UnitTestActivator {\n\n    @Mock\n    ActivatorFacade activatorFacade;\n\n    @InjectMocks\n    ActivatorService activatorService;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testInsertActivator() {\n        String request = &quot;test request&quot;;\n        String globalId = &quot;test global id&quot;;\n\n        ActivatorEntity activatorEntity = new ActivatorEntity();\n        activatorEntity.setBody(request);\n        activatorEntity.setGlobalId(globalId);\n\n        activatorService.insertActivator(request, globalId);\n        Mockito.verify(activatorFacade).create(activatorEntity);\n    }\n\n}\n</code></pre>\n<p>and that's the ActivatorFacade class @Mock on unit test</p>\n<pre><code>@ApplicationScoped\npublic class ActivatorFacade extends AbstractFacade&lt;ActivatorEntity&gt; {\n\n    @Inject\n    EntityManager em;\n\n    @Override\n    protected EntityManager getEntityManager() {\n        return em;\n    }\n\n    public ActivatorFacade() {\n        super(ActivatorEntity.class);\n    }\n\n}\n</code></pre>\n<p>and that's ActivatorService class @InjectMocks on unit test</p>\n<pre><code>@ApplicationScoped\npublic class ActivatorService {\n\n    @Inject\n    ActivatorFacade activatorFacade;\n\n    @Transactional\n    public void insertActivator(String request, String globalId) {\n        ActivatorEntity activatorEntity = new ActivatorEntity();\n        activatorEntity.setBody(request);\n        activatorEntity.setGlobalId(globalId);\n        activatorFacade.create(activatorEntity);\n    }\n    \n}\n</code></pre>\n<p>then running test occured this error</p>\n<pre><code>2023-03-16 15:50:26,237 ERROR [io.qua.test] (Test runner thread) Test UnitTestActivator#testInsertActivator() failed \n: java.lang.NullPointerException: Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null at activator.unit.UnitTestActivator.testInsertActivator(UnitTestActivator.java:45)\n\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Summary: &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\nactivator.unit.UnitTestActivator#testInsertActivator(UnitTestActivator.java:45) UnitTestActivator#testInsertActivator() Cannot invoke &quot;activator.service.ActivatorService.insertActivator(String, String)&quot; because &quot;this.activatorService&quot; is null\n2023-03-16 15:50:26,238 ERROR [io.qua.test] (Test runner thread) &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1 TEST FAILED &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>how to solve this error</p>\n<p>how to fully inject or construct ActivatorService</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678952363,"post_id":75752942,"comment_id":133633154,"body_markdown":"Is it a `dependencies` section immediately in the `project` root, or in a `dependencyManagement` section?","body":"Is it a <code>dependencies</code> section immediately in the <code>project</code> root, or in a <code>dependencyManagement</code> section?"},{"owner":{"account_id":1857895,"reputation":613,"user_id":1683098,"accept_rate":100,"display_name":"柯鴻儀"},"score":0,"creation_date":1678952821,"post_id":75752942,"comment_id":133633259,"body_markdown":"it&#39;s dependencies in a dependencies tag pair in a dependencyManagement tag pair.","body":"it&#39;s dependencies in a dependencies tag pair in a dependencyManagement tag pair."}],"answers":[{"tags":[],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678951309,"creation_date":1678951309,"answer_id":75753143,"question_id":75752942,"body_markdown":"If I understood things correctly, then I think the previous developer was aggregating common dependencies to be shared among the two projects. This would make it so they both used the same dependencies.","title":"In maven, what&#39;s the purpose of put dependency in the aggregation pom.xml if it&#39;s not a parent pom?","body":"<p>If I understood things correctly, then I think the previous developer was aggregating common dependencies to be shared among the two projects. This would make it so they both used the same dependencies.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678953062,"creation_date":1678953062,"answer_id":75753375,"question_id":75752942,"body_markdown":"A `dependencyManagement` section declares the versions of dependencies, so sub-modules can use those dependencies without explicitly declaring their versions. That is, the sub-modules will have to declare the dependency they need, but they can leave out the `version`-tag. \r\n\r\nThis is especially useful in projects that have a lot of sub-modules with common dependencies: you only have to declare the versions in one place, which makes it easier to manage versions, and avoids having diverging dependency versions. It can also be used to manage (override) versions of the dependencies of dependencies.\r\n\r\nIf the root is not the parent of the sub-module, I don&#39;t think this works (I think that is an odd design though), but I think it should be possible to import the root as a BOM in the case. That is, in the sub-module, you&#39;d add:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;your-group-id&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ROOT-artifact-id&lt;/artifactId&gt;\r\n            &lt;version&gt;your-version&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```","title":"In maven, what&#39;s the purpose of put dependency in the aggregation pom.xml if it&#39;s not a parent pom?","body":"<p>A <code>dependencyManagement</code> section declares the versions of dependencies, so sub-modules can use those dependencies without explicitly declaring their versions. That is, the sub-modules will have to declare the dependency they need, but they can leave out the <code>version</code>-tag.</p>\n<p>This is especially useful in projects that have a lot of sub-modules with common dependencies: you only have to declare the versions in one place, which makes it easier to manage versions, and avoids having diverging dependency versions. It can also be used to manage (override) versions of the dependencies of dependencies.</p>\n<p>If the root is not the parent of the sub-module, I don't think this works (I think that is an odd design though), but I think it should be possible to import the root as a BOM in the case. That is, in the sub-module, you'd add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;your-group-id&lt;/groupId&gt;\n            &lt;artifactId&gt;ROOT-artifact-id&lt;/artifactId&gt;\n            &lt;version&gt;your-version&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":1857895,"reputation":613,"user_id":1683098,"accept_rate":100,"display_name":"柯鴻儀"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75753375,"answer_count":2,"score":0,"last_activity_date":1678953062,"creation_date":1678949647,"question_id":75752942,"body_markdown":"I have a maven project which has a structure below:   \r\n\r\nROOT(aggregation pom.xml) \r\n - A ( sub module of ROOT ) \r\n - B ( sub module of ROOT)  \r\n\r\nROOT is NOT the parent project of A and B.   \r\n\r\nand I saw that there is some dependency libs in ROOT, is that necessary?  \r\nwhat&#39;s the purpose of declare dependency in aggregation pom if it&#39;s not any submodule&#39;s parent module?  \r\n\r\nI suspect that this is a wrong way to declare dependency in maven by previous project developer. \r\n\r\n\r\n","title":"In maven, what&#39;s the purpose of put dependency in the aggregation pom.xml if it&#39;s not a parent pom?","body":"<p>I have a maven project which has a structure below:</p>\n<p>ROOT(aggregation pom.xml)</p>\n<ul>\n<li>A ( sub module of ROOT )</li>\n<li>B ( sub module of ROOT)</li>\n</ul>\n<p>ROOT is NOT the parent project of A and B.</p>\n<p>and I saw that there is some dependency libs in ROOT, is that necessary?<br />\nwhat's the purpose of declare dependency in aggregation pom if it's not any submodule's parent module?</p>\n<p>I suspect that this is a wrong way to declare dependency in maven by previous project developer.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1587612,"reputation":5538,"user_id":1471604,"accept_rate":98,"display_name":"Peter Smith"},"score":1,"creation_date":1431253465,"post_id":30150251,"comment_id":48408041,"body_markdown":"Can you please give more detail at to what your problem is.","body":"Can you please give more detail at to what your problem is."},{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431253563,"post_id":30150251,"comment_id":48408072,"body_markdown":"I want the output to be like this: \nEnter the elements of the array – 23      98      45      101      6\nAll the prime numbers in the array are – 23      101","body":"I want the output to be like this:  Enter the elements of the array – 23      98      45      101      6 All the prime numbers in the array are – 23      101"},{"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"score":0,"creation_date":1431253662,"post_id":30150251,"comment_id":48408103,"body_markdown":"But it&#39;s giving me the 0 1 2 3 as output.","body":"But it&#39;s giving me the 0 1 2 3 as output."},{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":0,"creation_date":1431257012,"post_id":30150251,"comment_id":48408998,"body_markdown":"Please [edit] your question and add this information there instead of in comments.","body":"Please <a href=\"https://stackoverflow.com/posts/30150251/edit\">edit</a> your question and add this information there instead of in comments."},{"owner":{"account_id":3533533,"reputation":1319,"user_id":2952405,"accept_rate":100,"display_name":"David Chelliah"},"score":0,"creation_date":1465086029,"post_id":30150251,"comment_id":62754283,"body_markdown":"Just an improvement to already suggested answers : For testing if a number(n) is prime, you can check if that number is divisible by any number between 2 to SquareRoot(n). No need to test it with all numbers less than n. A sample implementation that utilizes that factor. http://davidsekar.com/algorithms/sieve-of-eratosthenes-prime","body":"Just an improvement to already suggested answers : For testing if a number(n) is prime, you can check if that number is divisible by any number between 2 to SquareRoot(n). No need to test it with all numbers less than n. A sample implementation that utilizes that factor. <a href=\"http://davidsekar.com/algorithms/sieve-of-eratosthenes-prime\" rel=\"nofollow noreferrer\">davidsekar.com/algorithms/sieve-of-eratosthenes-prime</a>"}],"answers":[{"tags":[],"owner":{"account_id":1587612,"reputation":5538,"user_id":1471604,"accept_rate":98,"display_name":"Peter Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431287047,"creation_date":1431254249,"answer_id":30150386,"question_id":30150251,"body_markdown":"You are checking the loop counters, not the values in the array. Try something like\r\n\r\n    for (int j=2; j&lt;array[i]; j++){\r\n        if(array[I]%j==0){\r\n                isPrime = false;\r\n                break;\r\n            }\r\n\r\nI haven&#39;t tested this.\r\n\r\n**UPDATE**\r\n\r\nTo print out the results either print each on as it is found, or, copy the prime numbers into an output array and then print that when you have finished the checks. The details will depend on the language you are using.\r\n\r\nPlease note, you are not using a very efficient detection algorithm; Google for a better one.\r\n\r\n","title":"find all prime numbers from array","body":"<p>You are checking the loop counters, not the values in the array. Try something like</p>\n\n<pre><code>for (int j=2; j&lt;array[i]; j++){\n    if(array[I]%j==0){\n            isPrime = false;\n            break;\n        }\n</code></pre>\n\n<p>I haven't tested this.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>To print out the results either print each on as it is found, or, copy the prime numbers into an output array and then print that when you have finished the checks. The details will depend on the language you are using.</p>\n\n<p>Please note, you are not using a very efficient detection algorithm; Google for a better one.</p>\n"},{"tags":[],"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483309397,"creation_date":1431257412,"answer_id":30150850,"question_id":30150251,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tint[] array = new int[5];\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot;Enter the elements of the array: &quot;);\r\n    \t\tfor (int i = 0; i &lt; 5; i++) {\r\n    \t\t\tarray[i] = in.nextInt();\r\n    \t\t}\r\n    \t\t// loop through the numbers one by one\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tboolean isPrime = true;\r\n    \t\t\tif (array[i] == 1)\r\n    \t\t\t\tisPrime = false;\r\n    \t\t\telse {\r\n    \t\t\t\t// check to see if the numbers are prime\r\n    \t\t\t\tfor (int j = 2; j &lt;= array[i] / 2; j++) {\r\n    \t\t\t\t\tif (array[i] % j == 0) {\r\n    \t\t\t\t\t\tisPrime = false;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t// print the number\r\n    \t\t\tif (isPrime)\r\n    \t\t\t\tSystem.out.println(array[i] + &quot; is a prime number in the array &quot;);\r\n    \t\t}\r\n    \t}","title":"find all prime numbers from array","body":"<pre><code>public static void main(String[] args) {\n        int[] array = new int[5];\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(\"Enter the elements of the array: \");\n        for (int i = 0; i &lt; 5; i++) {\n            array[i] = in.nextInt();\n        }\n        // loop through the numbers one by one\n        for (int i = 0; i &lt; array.length; i++) {\n            boolean isPrime = true;\n            if (array[i] == 1)\n                isPrime = false;\n            else {\n                // check to see if the numbers are prime\n                for (int j = 2; j &lt;= array[i] / 2; j++) {\n                    if (array[i] % j == 0) {\n                        isPrime = false;\n                        break;\n                    }\n                }\n            }\n            // print the number\n            if (isPrime)\n                System.out.println(array[i] + \" is a prime number in the array \");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5273270,"reputation":345,"user_id":4210911,"display_name":"TomerM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431257869,"creation_date":1431257869,"answer_id":30150923,"question_id":30150251,"body_markdown":"You can check all integer numbers until root of the required number \n\n \n### Pseudo code:\n\n        \n     for(i=2; i&lt;sqrt(number);i++){\n      if(number/i===0){\n        //not prime number\n      }\n    }\n\n","title":"find all prime numbers from array","body":"<p>You can check all integer numbers until root of the required number</p>\n<h3>Pseudo code:</h3>\n<pre><code> for(i=2; i&lt;sqrt(number);i++){\n  if(number/i===0){\n    //not prime number\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10964426,"reputation":1,"user_id":8056610,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498845735,"creation_date":1498845735,"answer_id":44852478,"question_id":30150251,"body_markdown":"Here is more efficient code finding prime number. We only need to check the odd number up to the square root of N, assume the number is greater than 2. \r\n\r\n    boolean isPrime(int n) {\r\n    \t    //check if n is a multiple of 2\r\n    \t    if (n%2==0) return false;\r\n    \t    //if not, then just check the odds\r\n    \t    for(int i=3;i*i&lt;=n;i+=2) {\r\n    \t        if(n%i==0)\r\n    \t            return false;\r\n    \t    }\r\n    \t    return true;\r\n    \t}","title":"find all prime numbers from array","body":"<p>Here is more efficient code finding prime number. We only need to check the odd number up to the square root of N, assume the number is greater than 2. </p>\n\n<pre><code>boolean isPrime(int n) {\n        //check if n is a multiple of 2\n        if (n%2==0) return false;\n        //if not, then just check the odds\n        for(int i=3;i*i&lt;=n;i+=2) {\n            if(n%i==0)\n                return false;\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846020,"reputation":41,"user_id":9995161,"display_name":"Sasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530805302,"creation_date":1530805302,"answer_id":51195344,"question_id":30150251,"body_markdown":"This is the simplest form of finding the prime numbers from  the given array. We can also use scanner by assigning n instead of an array to check whether if it is a prime or non prime from the given input(commented in program).Hope this helps you..!!\r\n\t\r\n\tpublic static void main(String[] arg) {\r\n\t\tint a[]= {1,2,3,4,5,6,7,8,9,10}; //int n=0 or n=values\t     \r\n\t\tint num =0;\r\n\t    String  primeNumbers = &quot;&quot;;\r\n\t    for (int i = 0; i &lt;= a.length; i++)  /*change a.length to n*/\t   \r\n\t      { \t\t \t\t  \r\n\t         int counter=0; \t\t  \r\n\t         for(num =i; num&gt;=1; num--)\r\n\t         {\r\n\t\t    if(i%num==0)\r\n\t\t    {\r\n\t\t\tcounter = counter + 1;\r\n\t\t    }\r\n\t\t }\r\n\t\t if (counter ==2)\r\n\t\t {\r\n\t\t    //Appended the Prime number to the String\r\n\t\t    primeNumbers = primeNumbers + i + &quot; &quot;;\r\n\t\t }\t\r\n\t      }\t\r\n\t      System.out.println(&quot;Prime numbers from given array :&quot;);\r\n\t      System.out.println(primeNumbers);\r\n\t   }\r\n\t}","title":"find all prime numbers from array","body":"<p>This is the simplest form of finding the prime numbers from  the given array. We can also use scanner by assigning n instead of an array to check whether if it is a prime or non prime from the given input(commented in program).Hope this helps you..!!</p>\n\n<pre><code>public static void main(String[] arg) {\n    int a[]= {1,2,3,4,5,6,7,8,9,10}; //int n=0 or n=values       \n    int num =0;\n    String  primeNumbers = \"\";\n    for (int i = 0; i &lt;= a.length; i++)  /*change a.length to n*/      \n      {                   \n         int counter=0;           \n         for(num =i; num&gt;=1; num--)\n         {\n        if(i%num==0)\n        {\n        counter = counter + 1;\n        }\n     }\n     if (counter ==2)\n     {\n        //Appended the Prime number to the String\n        primeNumbers = primeNumbers + i + \" \";\n     }  \n      } \n      System.out.println(\"Prime numbers from given array :\");\n      System.out.println(primeNumbers);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3318440,"reputation":129,"user_id":2790170,"accept_rate":22,"display_name":"Nitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611900133,"creation_date":1611900133,"answer_id":65949532,"question_id":30150251,"body_markdown":"Since you have asked for 5 number explicitly, the code has hardcoded for 5 numbers \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PracticeTest {\r\n    \r\n      public static void main(String args[]) {\r\n        int arr[] = new int[5];\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter 5 numbers&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          arr[i] = sc.nextInt();\r\n        }\r\n        checkPrimeNumbers(arr);\r\n      }\r\n    \r\n      public static void checkPrimeNumbers(int arr[]) {\r\n        loop1:\r\n        for (int j = 0; j &lt; arr.length; j++) {\r\n          loop2:\r\n          for (int i = 2; i &lt; arr[j]; i++) {\r\n            if (arr[j] % i == 0) {\r\n              continue loop1;\r\n            }\r\n          }\r\n          System.out.print(arr[j] + &quot; &quot;);\r\n        }\r\n      }\r\n    }","title":"find all prime numbers from array","body":"<p>Since you have asked for 5 number explicitly, the code has hardcoded for 5 numbers</p>\n<pre><code>import java.util.Scanner;\n\npublic class PracticeTest {\n\n  public static void main(String args[]) {\n    int arr[] = new int[5];\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter 5 numbers&quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      arr[i] = sc.nextInt();\n    }\n    checkPrimeNumbers(arr);\n  }\n\n  public static void checkPrimeNumbers(int arr[]) {\n    loop1:\n    for (int j = 0; j &lt; arr.length; j++) {\n      loop2:\n      for (int i = 2; i &lt; arr[j]; i++) {\n        if (arr[j] % i == 0) {\n          continue loop1;\n        }\n      }\n      System.out.print(arr[j] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21482491,"reputation":11,"user_id":15829639,"display_name":"Ahmed Talha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625112560,"creation_date":1625112560,"answer_id":68204173,"question_id":30150251,"body_markdown":"Find all prime numbers from the array.\r\n\r\n             package com.myfirstproject;\r\n\r\n    public class array_Uni_work {\r\n    public static void main(String[] args) {\r\n        int[] array = {6,48,47,7 , 98,51,87,99,2,0,1,191,157};\r\n\r\n        // loop through the numbers one by one\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            boolean isPrime = true;\r\n            if (array[i] == 1)\r\n                isPrime = false;\r\n            else {\r\n                // check to see if the numbers are prime\r\n                for (int j = 2; j &lt;= array[i] / 2; j++) {\r\n                    if (array[i] % j == 0) {\r\n                        isPrime = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // print the number\r\n            if (isPrime){\r\n                if (array[i] == 0){}\r\n                else {\r\n                    System.out.print(array[i] + &quot; , &quot;);\r\n                }\r\n        }}\r\n        System.out.println(&quot; Are the prime number in the array &quot;);\r\n    }\r\n}","title":"find all prime numbers from array","body":"<p>Find all prime numbers from the array.</p>\n<pre><code>         package com.myfirstproject;\n\npublic class array_Uni_work {\npublic static void main(String[] args) {\n    int[] array = {6,48,47,7 , 98,51,87,99,2,0,1,191,157};\n\n    // loop through the numbers one by one\n    for (int i = 0; i &lt; array.length; i++) {\n        boolean isPrime = true;\n        if (array[i] == 1)\n            isPrime = false;\n        else {\n            // check to see if the numbers are prime\n            for (int j = 2; j &lt;= array[i] / 2; j++) {\n                if (array[i] % j == 0) {\n                    isPrime = false;\n                    break;\n                }\n            }\n        }\n        // print the number\n        if (isPrime){\n            if (array[i] == 0){}\n            else {\n                System.out.print(array[i] + &quot; , &quot;);\n            }\n    }}\n    System.out.println(&quot; Are the prime number in the array &quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":24139502,"reputation":1,"user_id":18105891,"display_name":"Dot-Coin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643867411,"creation_date":1643861454,"answer_id":70965827,"question_id":30150251,"body_markdown":"This is the simplest way to accept &#39;n&#39; integers and display the prime and non prime numbers present in that array. Without using functions \r\n\r\n        \r\n    import java.util.Scanner;\r\n    // Author Dot-Coin\r\n    public class The_Prime {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter the size of the array&quot;);\r\n    \t\tint size=sc.nextInt();\r\n    \t\tint Primer[]=new int [size];\r\n    \t\tint Non_Primer[]=new int [size];\r\n    \t\tint Numbers[]=new int [size];\r\n    \t\tint counter=0;int j=0,k=0,m=0,n=0;\r\n    \t\tSystem.out.println(&quot;Enter the numbers &quot;);\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t\tNumbers[i]=sc.nextInt();\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t{\r\n    \t\t\tif(Numbers[i]==1||Numbers[i]==0)\r\n    \t\t\t{\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\tfor(n=1;n&lt;=Numbers[i];n++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\tif(Numbers[i]%n==0)\r\n    \t\t\t\t\t\tcounter++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\tif(counter&gt;2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tNon_Primer[k]=Numbers[i];k++;counter=0;continue;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(counter==2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tPrimer[m]=Numbers[i];m++;counter=0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t System.out.println(&quot;The prime numbers are&quot;);\r\n    \t\t for(k=0;k&lt;Primer.length;k++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(Primer[k]==0)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\tj++;continue;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\tSystem.out.println(Primer[k]);\r\n    \t\t\t\t}\r\n    \t\t\tif(j==Primer.length)\r\n    \t\t\t\tSystem.out.println(&quot;Null&quot;);j=0;\r\n    \t\t\tSystem.out.println(&quot;The Non prime numbers are &quot;);\r\n    \t\tfor( k=0;k&lt;Non_Primer.length;k++)\r\n    \t\t{\r\n    \t\t\tif(Non_Primer[k]==0)\r\n    \t\t\t\t{\r\n    \t\t\t\tj++;continue;\r\n    \t\t\t\t}\r\n    \t\t\tSystem.out.println(Non_Primer[k]);\r\n    \t\t}\r\n    \t\tif(j==Non_Primer.length)\r\n    \t\t\tSystem.out.println(&quot;Null&quot;);\r\n    \t}}\r\n\r\n","title":"find all prime numbers from array","body":"<p>This is the simplest way to accept 'n' integers and display the prime and non prime numbers present in that array. Without using functions</p>\n<pre><code>import java.util.Scanner;\n// Author Dot-Coin\npublic class The_Prime {\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter the size of the array&quot;);\n        int size=sc.nextInt();\n        int Primer[]=new int [size];\n        int Non_Primer[]=new int [size];\n        int Numbers[]=new int [size];\n        int counter=0;int j=0,k=0,m=0,n=0;\n        System.out.println(&quot;Enter the numbers &quot;);\n        for(int i=0;i&lt;size;i++)\n            Numbers[i]=sc.nextInt();\n        for(int i=0;i&lt;size;i++)\n        {\n            if(Numbers[i]==1||Numbers[i]==0)\n            {\n                continue;\n            }\n            \n                for(n=1;n&lt;=Numbers[i];n++)\n                    {\n                    if(Numbers[i]%n==0)\n                        counter++;\n                    }\n                if(counter&gt;2)\n                {\n                    Non_Primer[k]=Numbers[i];k++;counter=0;continue;\n                }\n                if(counter==2)\n                {\n                    Primer[m]=Numbers[i];m++;counter=0;\n                }\n            }\n         System.out.println(&quot;The prime numbers are&quot;);\n         for(k=0;k&lt;Primer.length;k++)\n                {\n                    if(Primer[k]==0)\n                        {\n                        j++;continue;\n                        }\n                    else\n                    System.out.println(Primer[k]);\n                }\n            if(j==Primer.length)\n                System.out.println(&quot;Null&quot;);j=0;\n            System.out.println(&quot;The Non prime numbers are &quot;);\n        for( k=0;k&lt;Non_Primer.length;k++)\n        {\n            if(Non_Primer[k]==0)\n                {\n                j++;continue;\n                }\n            System.out.println(Non_Primer[k]);\n        }\n        if(j==Non_Primer.length)\n            System.out.println(&quot;Null&quot;);\n    }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27989620,"reputation":1,"user_id":21375758,"display_name":"Shahrukh Umar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678952838,"creation_date":1678528540,"answer_id":75704097,"question_id":30150251,"body_markdown":"// Program to find prime number from given array\r\n\r\n    public class PrimeNumber {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            int[] no = {6, 29, 28, 33, 11, 100, 101, 43, 89};\r\n            // int temp = 0;\r\n            \r\n            for (int i = 0; i &lt; no.length; i++){\r\n                int temp = 0;\r\n                // System.out.println(no[i]);\r\n                for (int j = 2; j &lt;= no[i] - 1; j++){\r\n                    if (no[i] % j == 0){\r\n                        temp = temp + 1;\r\n                    }\r\n                }\r\n                if (temp == 0){\r\n                    System.out.println( no[i]+&quot; Prime number&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(no[i]+&quot; Not Prime Number&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"find all prime numbers from array","body":"<p>// Program to find prime number from given array</p>\n<pre><code>public class PrimeNumber {\n\n    public static void main(String[] args) throws Exception {\n        int[] no = {6, 29, 28, 33, 11, 100, 101, 43, 89};\n        // int temp = 0;\n        \n        for (int i = 0; i &lt; no.length; i++){\n            int temp = 0;\n            // System.out.println(no[i]);\n            for (int j = 2; j &lt;= no[i] - 1; j++){\n                if (no[i] % j == 0){\n                    temp = temp + 1;\n                }\n            }\n            if (temp == 0){\n                System.out.println( no[i]+&quot; Prime number&quot;);\n            }\n            else{\n                System.out.println(no[i]+&quot; Not Prime Number&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6277055,"reputation":9,"user_id":4879433,"display_name":"Programmer19"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82181,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":30150386,"answer_count":9,"score":-1,"last_activity_date":1678952838,"creation_date":1431253367,"question_id":30150251,"body_markdown":"I want to create a program that will ask the user to input 5 integers using array and determine all the prime numbers entered. But I have difficulty with it. What seems to be the problem? I use JCreator for this.\r\n\r\n    import java.util.Scanner;\r\n    public class PrimeNumbers{\r\n\tpublic static void main (String[] args){\r\n\t\tint[] array = new int [5];\r\n\t\tScanner in = new Scanner (System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the elements of the array: &quot;);\r\n\t\tfor(int i=0; i&lt;5; i++)\r\n\t\t{\r\n\t\t\tarray[i] = in.nextInt();\r\n\t\t}\r\n  \t\t//loop through the numbers one by one\r\n  \t\tfor(int i=0; i&lt;array.length; i++){\r\n  \t\t\tboolean isPrime = true;\r\n  \t\t\t\r\n  \t\t\t//check to see if the numbers are prime\r\n  \t\t\tfor (int j=2; j&lt;array[i]; j++){\r\n  \t\t\t\t\r\n  \t\t\t\tif(array[i]%j==0){\r\n  \t\t\t\t\tisPrime = false;\r\n  \t\t\t\t\tbreak;\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t\t//print the number\r\n  \t\t\tif(isPrime)\r\n\r\n  \t\t\t\tSystem.out.println(array[i] + &quot; are the prime numbers in the array &quot;);\r\n  \t\t}\r\n\t}\r\n    }","title":"find all prime numbers from array","body":"<p>I want to create a program that will ask the user to input 5 integers using array and determine all the prime numbers entered. But I have difficulty with it. What seems to be the problem? I use JCreator for this.</p>\n<pre><code>import java.util.Scanner;\npublic class PrimeNumbers{\npublic static void main (String[] args){\n    int[] array = new int [5];\n    Scanner in = new Scanner (System.in);\n    \n    System.out.println(&quot;Enter the elements of the array: &quot;);\n    for(int i=0; i&lt;5; i++)\n    {\n        array[i] = in.nextInt();\n    }\n    //loop through the numbers one by one\n    for(int i=0; i&lt;array.length; i++){\n        boolean isPrime = true;\n        \n        //check to see if the numbers are prime\n        for (int j=2; j&lt;array[i]; j++){\n            \n            if(array[i]%j==0){\n                isPrime = false;\n                break;\n            }\n        }\n        //print the number\n        if(isPrime)\n\n            System.out.println(array[i] + &quot; are the prime numbers in the array &quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","http"],"comments":[{"owner":{"account_id":1991372,"reputation":758,"user_id":1785313,"accept_rate":14,"display_name":"Daniel Bogdan"},"score":0,"creation_date":1393968303,"post_id":22173517,"comment_id":33671779,"body_markdown":"Anyone ? there must be an easy way...","body":"Anyone ? there must be an easy way..."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1407251546,"post_id":22173517,"comment_id":39136773,"body_markdown":"what are you trying to achieve ? accessing the headers for each request can be easily done as pointed out by @Rhand, but it seems there is more to this?","body":"what are you trying to achieve ? accessing the headers for each request can be easily done as pointed out by @Rhand, but it seems there is more to this?"}],"answers":[{"tags":[],"owner":{"account_id":999472,"reputation":899,"user_id":1014666,"display_name":"Rhand"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1407251015,"creation_date":1407251015,"answer_id":25142146,"question_id":22173517,"body_markdown":"This is something you can easily do yourself:\r\n\r\n\tprivate static void logConnection(HttpURLConnection httpConnection) throws IOException {\r\n\t\tint status = httpConnection.getResponseCode();\r\n\t\tLog.d(&quot;logConnection&quot;, &quot;status: &quot; + status);\r\n\t\tfor (Map.Entry&lt;String, List&lt;String&gt;&gt; header : httpConnection.getHeaderFields().entrySet()) {\r\n\t\t\tLog.d(&quot;logConnection&quot;, header.getKey() + &quot;=&quot; + header.getValue());\r\n\t\t}\r\n\t}","title":"HttpURLConnection wire logging in Android","body":"<p>This is something you can easily do yourself:</p>\n\n<pre><code>private static void logConnection(HttpURLConnection httpConnection) throws IOException {\n    int status = httpConnection.getResponseCode();\n    Log.d(\"logConnection\", \"status: \" + status);\n    for (Map.Entry&lt;String, List&lt;String&gt;&gt; header : httpConnection.getHeaderFields().entrySet()) {\n        Log.d(\"logConnection\", header.getKey() + \"=\" + header.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316431,"reputation":3528,"user_id":2033394,"display_name":"Alex Radzishevsky"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1484407382,"creation_date":1484407382,"answer_id":41651586,"question_id":22173517,"body_markdown":"I am not sure it is possible with standard HttpURLConnection on Android. Therefore it is easy to achieve using OkHttp library:\r\n\r\n    HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n    loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);\r\n    \r\n    OkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\r\n    httpClientBuilder.addInterceptor(loggingInterceptor);\r\n    \r\n    OkHttpClient client = httpClientBuilder.build();\r\n    Request.Builder requestBuilder = new Request.Builder();\r\n    requestBuilder.url(&quot;http://android.com&quot;);\r\n\r\n    client.newCall(requestBuilder.build()).execute();\r\n","title":"HttpURLConnection wire logging in Android","body":"<p>I am not sure it is possible with standard HttpURLConnection on Android. Therefore it is easy to achieve using OkHttp library:</p>\n\n<pre><code>HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\nloggingInterceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS);\n\nOkHttpClient.Builder httpClientBuilder = new OkHttpClient.Builder();\nhttpClientBuilder.addInterceptor(loggingInterceptor);\n\nOkHttpClient client = httpClientBuilder.build();\nRequest.Builder requestBuilder = new Request.Builder();\nrequestBuilder.url(\"http://android.com\");\n\nclient.newCall(requestBuilder.build()).execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16399254,"reputation":59,"user_id":11845778,"display_name":"OldMember"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627424644,"creation_date":1627424644,"answer_id":68552385,"question_id":22173517,"body_markdown":"Perhaps this link would help: https://stackoverflow.com/a/37525989/11845778\r\nThough, you would still need to do the logcat part. This just gets the response as JSON.","title":"HttpURLConnection wire logging in Android","body":"<p>Perhaps this link would help: <a href=\"https://stackoverflow.com/a/37525989/11845778\">https://stackoverflow.com/a/37525989/11845778</a>\nThough, you would still need to do the logcat part. This just gets the response as JSON.</p>\n"}],"owner":{"account_id":1991372,"reputation":758,"user_id":1785313,"accept_rate":14,"display_name":"Daniel Bogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3412,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"answer_count":3,"score":20,"last_activity_date":1678952759,"creation_date":1393940356,"question_id":22173517,"body_markdown":"I&#39;m trying to get all the headers for request/response in my logcat. Seems there is no easy way with `HttpURLConnection` as it is with `org.apache.http`.\r\n\r\nAccording to [this blog][1] you can do:\r\n\r\n    sun.net.www.protocol.http.HttpURLConnection.level = ALL\r\n\r\nSeems this was removed from Android implementation for `HttpURLConnection`.\r\nIs there any easy way to sniff requests/responses on logcat?\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-debug-HttpURLConnection-problem.html","title":"HttpURLConnection wire logging in Android","body":"<p>I'm trying to get all the headers for request/response in my logcat. Seems there is no easy way with <code>HttpURLConnection</code> as it is with <code>org.apache.http</code>.</p>\n<p>According to <a href=\"http://www.rgagnon.com/javadetails/java-debug-HttpURLConnection-problem.html\" rel=\"nofollow noreferrer\">this blog</a> you can do:</p>\n<pre><code>sun.net.www.protocol.http.HttpURLConnection.level = ALL\n</code></pre>\n<p>Seems this was removed from Android implementation for <code>HttpURLConnection</code>.\nIs there any easy way to sniff requests/responses on logcat?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678451956,"post_id":75696243,"comment_id":133539690,"body_markdown":"A spin in a debugger should tell you.  Sent a breakpoint in the repository and see why your Mongo query is wrong.  None of the code you posted matters.  It&#39;s the repository that you need to look at.","body":"A spin in a debugger should tell you.  Sent a breakpoint in the repository and see why your Mongo query is wrong.  None of the code you posted matters.  It&#39;s the repository that you need to look at."}],"answers":[{"tags":[],"owner":{"account_id":25120998,"reputation":1,"user_id":18969342,"display_name":"masomebody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678951614,"creation_date":1678455031,"answer_id":75696753,"question_id":75696243,"body_markdown":"I droped the whole db and created a new one. I named everything &quot;movies&quot; from the db name to the collection name, the @Document(collection = &quot;movies&quot;) also.\r\nThis fixed the issue, I dont know how or why but for someone being stuck on the same problem, try this.","title":"Java Spring boot returns an empty array on a get method from MongoDB","body":"<p>I droped the whole db and created a new one. I named everything &quot;movies&quot; from the db name to the collection name, the @Document(collection = &quot;movies&quot;) also.\nThis fixed the issue, I dont know how or why but for someone being stuck on the same problem, try this.</p>\n"}],"owner":{"account_id":25120998,"reputation":1,"user_id":18969342,"display_name":"masomebody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75696753,"answer_count":1,"score":-1,"last_activity_date":1678951614,"creation_date":1678451833,"question_id":75696243,"body_markdown":"My mongodb got files in it but everytime i use findAll() method from a rest controller, i get back an empty array \\[ \\]\r\n\r\ni am new with mongodb and this is something i have never faced before. I used Mongo atlas to create the db and used Mongo Compas to connect to the db.\r\n\r\nHelp?\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;movies&quot;)\r\n\r\npublic class Movie {\r\n\r\n    @Id\r\n    private ObjectId id;\r\n    private String imdbId;\r\n    private String title;\r\n    private String releaseDate;\r\n    private String trailerLink;\r\n    private String poster;\r\n    private List&lt;String&gt; backdrops;\r\n    private List&lt;String&gt; genres;\r\n}\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/movies&quot;)\r\npublic class MovieController {\r\n\r\n    private final MovieService movieService;\r\n\r\n    public MovieController(MovieService movieService) {\r\n        this.movieService = movieService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\r\n        return new ResponseEntity&lt;&gt;(movieService.findAllMovies(), HttpStatus.OK);\r\n    }\r\n}\r\n\r\n@Repository\r\npublic interface MovieRepository extends MongoRepository&lt;Movie, ObjectId&gt; {\r\n}\r\n\r\npublic interface MovieService {\r\n    List&lt;Movie&gt; findAllMovies();\r\n}\r\n\r\n@Service\r\npublic class MovieServiceImpl implements MovieService {\r\n\r\n\r\n    private final MovieRepository repository;\r\n\r\n    public MovieServiceImpl(MovieRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    public List&lt;Movie&gt; findAllMovies() {\r\n        return repository.findAll();\r\n    }\r\n}\r\n\r\nThe application.properties \r\n\r\nspring.data.mongodb.database=MoviesAPI\r\nspring.data.mongodb.uri=mongodb+srv://user:password@cluster0.isclngu.mongodb.net\r\nserver.port=9090\r\n```\r\n\r\nI tried all i know of. Cant fix it by myself, i need help","title":"Java Spring boot returns an empty array on a get method from MongoDB","body":"<p>My mongodb got files in it but everytime i use findAll() method from a rest controller, i get back an empty array [ ]</p>\n<p>i am new with mongodb and this is something i have never faced before. I used Mongo atlas to create the db and used Mongo Compas to connect to the db.</p>\n<p>Help?</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;movies&quot;)\n\npublic class Movie {\n\n    @Id\n    private ObjectId id;\n    private String imdbId;\n    private String title;\n    private String releaseDate;\n    private String trailerLink;\n    private String poster;\n    private List&lt;String&gt; backdrops;\n    private List&lt;String&gt; genres;\n}\n\n\n@RestController\n@RequestMapping(&quot;/api/movies&quot;)\npublic class MovieController {\n\n    private final MovieService movieService;\n\n    public MovieController(MovieService movieService) {\n        this.movieService = movieService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getAllMovies(){\n        return new ResponseEntity&lt;&gt;(movieService.findAllMovies(), HttpStatus.OK);\n    }\n}\n\n@Repository\npublic interface MovieRepository extends MongoRepository&lt;Movie, ObjectId&gt; {\n}\n\npublic interface MovieService {\n    List&lt;Movie&gt; findAllMovies();\n}\n\n@Service\npublic class MovieServiceImpl implements MovieService {\n\n\n    private final MovieRepository repository;\n\n    public MovieServiceImpl(MovieRepository repository) {\n        this.repository = repository;\n    }\n\n    public List&lt;Movie&gt; findAllMovies() {\n        return repository.findAll();\n    }\n}\n\nThe application.properties \n\nspring.data.mongodb.database=MoviesAPI\nspring.data.mongodb.uri=mongodb+srv://user:password@cluster0.isclngu.mongodb.net\nserver.port=9090\n</code></pre>\n<p>I tried all i know of. Cant fix it by myself, i need help</p>\n"},{"tags":["java","spring","spring-boot","executable-jar"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678875487,"post_id":75742742,"comment_id":133616469,"body_markdown":"You are generating a war not a jar file. Please add your pom.xml.","body":"You are generating a war not a jar file. Please add your pom.xml."},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1678876969,"post_id":75742742,"comment_id":133616858,"body_markdown":"Sorry! it is typo error. It is jar file I have to generate.","body":"Sorry! it is typo error. It is jar file I have to generate."},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1678877806,"post_id":75742742,"comment_id":133617088,"body_markdown":"Add pom.xml and corrected the description . Please check","body":"Add pom.xml and corrected the description . Please check"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678951546,"post_id":75742742,"comment_id":133632978,"body_markdown":"THere isn&#39;t anything obivously wrong (at least it looks like that). One thing is why the compiler plugin, instead of using the one from the parent (do you need the exclude?). One thing, dependency-wise, is that you should use `spring-boot-starter-validation` instead of `validation-api` as a dependency. One thing is that you obfuscated the dependencies and indicates that there are actual dependencies.","body":"THere isn&#39;t anything obivously wrong (at least it looks like that). One thing is why the compiler plugin, instead of using the one from the parent (do you need the exclude?). One thing, dependency-wise, is that you should use <code>spring-boot-starter-validation</code> instead of <code>validation-api</code> as a dependency. One thing is that you obfuscated the dependencies and indicates that there are actual dependencies."},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1679039224,"post_id":75742742,"comment_id":133652618,"body_markdown":"Thank you for the reply.It is generating the Jar file but not in the structure as I mentioned above.","body":"Thank you for the reply.It is generating the Jar file but not in the structure as I mentioned above."}],"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678951415,"creation_date":1678872349,"question_id":75742742,"body_markdown":"How we can generate executable jar for SpringBoot application in below structure\r\n\r\n    example.jar\r\n     |\r\n     +-META-INF\r\n     |  +-maven\r\n     |  +-MANIFEST.MF\r\n     +-org\r\n     |  +-springframework\r\n     |     +-boot\r\n     |        +-loader\r\n     |           +-&lt;spring boot loader classes&gt;\r\n     +-BOOT-INF\r\n        +-classes\r\n        |  +-com\r\n        |     +-mycompany\r\n        |        +-project\r\n        |           +-YourClasses.class\r\n        +-lib\r\n        |  +-dependency1.jar\r\n        |  +-dependency2.jar\r\n\r\nPom.xml\r\n------------------------\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath /&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;commons-lang3.version&gt;3.9&lt;/commons-lang3.version&gt;\r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                        &lt;output&gt;${basedir}&lt;/output&gt;\r\n                        &lt;withXml&gt;false&lt;/withXml&gt;\r\n                        &lt;configOptions&gt;\r\n                            &lt;library&gt;spring-mvc&lt;/library&gt;\r\n                            &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;generateModelsTests&gt;false&lt;/generateModelsTests&gt;\r\n                            &lt;generateModelsDocumentation&gt;false&lt;/generateModelsDocumentation&gt;\r\n                            &lt;java8&gt;true&lt;/java8&gt;\r\n                            &lt;serializableModel&gt;false&lt;/serializableModel&gt;\r\n                            &lt;async&gt;false&lt;/async&gt;\r\n                            &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\r\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                            &lt;useOptional&gt;true&lt;/useOptional&gt;\r\n                            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n                        &lt;/configOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;org/**/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${dockerfile-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;push&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\r\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;name&gt;${docker.image.prefix}/${project.artifactId}&lt;/name&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;        \r\n        \r\n&lt;/project&gt;\r\n```\r\nAbove is the `pom.xml` of my application which is configured to generate the jar file. \r\nCurrently, when I do mvn clean package the jar is getting generated but not the executable one.\r\n\r\nExpectation:\r\nDependencies should be placed in a nested BOOT-INF/lib directory.\r\n\r\n","title":"How to generate executable jar for SpringBoot application with Spring Boot Loader","body":"<p>How we can generate executable jar for SpringBoot application in below structure</p>\n<pre><code>example.jar\n |\n +-META-INF\n |  +-maven\n |  +-MANIFEST.MF\n +-org\n |  +-springframework\n |     +-boot\n |        +-loader\n |           +-&lt;spring boot loader classes&gt;\n +-BOOT-INF\n    +-classes\n    |  +-com\n    |     +-mycompany\n    |        +-project\n    |           +-YourClasses.class\n    +-lib\n    |  +-dependency1.jar\n    |  +-dependency2.jar\n</code></pre>\n<h2>Pom.xml</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;commons-lang3.version&gt;3.9&lt;/commons-lang3.version&gt;\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.3.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;output&gt;${basedir}&lt;/output&gt;\n                        &lt;withXml&gt;false&lt;/withXml&gt;\n                        &lt;configOptions&gt;\n                            &lt;library&gt;spring-mvc&lt;/library&gt;\n                            &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateModelsTests&gt;false&lt;/generateModelsTests&gt;\n                            &lt;generateModelsDocumentation&gt;false&lt;/generateModelsDocumentation&gt;\n                            &lt;java8&gt;true&lt;/java8&gt;\n                            &lt;serializableModel&gt;false&lt;/serializableModel&gt;\n                            &lt;async&gt;false&lt;/async&gt;\n                            &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                            &lt;useOptional&gt;true&lt;/useOptional&gt;\n                            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;org/**/*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${dockerfile-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;push&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\n                    &lt;buildArgs&gt;\n                        &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;name&gt;${docker.image.prefix}/${project.artifactId}&lt;/name&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;        \n        \n&lt;/project&gt;\n</code></pre>\n<p>Above is the <code>pom.xml</code> of my application which is configured to generate the jar file.\nCurrently, when I do mvn clean package the jar is getting generated but not the executable one.</p>\n<p>Expectation:\nDependencies should be placed in a nested BOOT-INF/lib directory.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":22516638,"reputation":1,"user_id":16710771,"display_name":"Jackson Gross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629433015,"creation_date":1629433015,"answer_id":68856929,"question_id":68733452,"body_markdown":"I ran into the same issue but on MacOS with Elasticsearch installed via homebrew. I needed to modify the `jvm.options` and `jvm.options.default` files in `/usr/local/etc/elasticsearch/` to comment out the following lines:\r\n\r\n**jvm.options**\r\n```\r\n## GC configuration\r\n# -XX:+UseConcMarkSweepGC\r\n# -XX:CMSInitiatingOccupancyFraction=75\r\n# -XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\n\r\n**jvm.options.default**\r\n```\r\n## GC configuration\r\n# 8-13:-XX:+UseConcMarkSweepGC\r\n# 8-13:-XX:CMSInitiatingOccupancyFraction=75\r\n# 8-13:-XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\n\r\nThen stopping elasticsearch (if previously running) with \r\n```\r\nbrew services stop elasticsearch-full\r\n```\r\n\r\nthen restarting it again with\r\n```\r\nbrew services start elasticsearch-full\r\n```","title":"Elasticsearch Windows UseConcMarkSweepGC error","body":"<p>I ran into the same issue but on MacOS with Elasticsearch installed via homebrew. I needed to modify the <code>jvm.options</code> and <code>jvm.options.default</code> files in <code>/usr/local/etc/elasticsearch/</code> to comment out the following lines:</p>\n<p><strong>jvm.options</strong></p>\n<pre><code>## GC configuration\n# -XX:+UseConcMarkSweepGC\n# -XX:CMSInitiatingOccupancyFraction=75\n# -XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p><strong>jvm.options.default</strong></p>\n<pre><code>## GC configuration\n# 8-13:-XX:+UseConcMarkSweepGC\n# 8-13:-XX:CMSInitiatingOccupancyFraction=75\n# 8-13:-XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p>Then stopping elasticsearch (if previously running) with</p>\n<pre><code>brew services stop elasticsearch-full\n</code></pre>\n<p>then restarting it again with</p>\n<pre><code>brew services start elasticsearch-full\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162442,"reputation":1,"user_id":6813338,"display_name":"satish sukka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678951336,"creation_date":1678950523,"answer_id":75753053,"question_id":68733452,"body_markdown":"Thanks for the previous answer.\r\nIt worked for me by doing below steps:\r\n\r\n    Step1: Go to elasticsearch-6.5.1\\elasticsearch-6.5.1\\config\r\n    Step2: Open jvm.options file\r\n    Step3: Search for GC configuration\r\n    Step4: Comment below lines with #\r\n    #-XX:+UseConcMarkSweepGC\r\n    #-XX:CMSInitiatingOccupancyFraction=75\r\n    #-XX:+UseCMSInitiatingOccupancyOnly\r\n    Step5: Run elasticSearch with command: elasticsearch.bat","title":"Elasticsearch Windows UseConcMarkSweepGC error","body":"<p>Thanks for the previous answer.\nIt worked for me by doing below steps:</p>\n<pre><code>Step1: Go to elasticsearch-6.5.1\\elasticsearch-6.5.1\\config\nStep2: Open jvm.options file\nStep3: Search for GC configuration\nStep4: Comment below lines with #\n#-XX:+UseConcMarkSweepGC\n#-XX:CMSInitiatingOccupancyFraction=75\n#-XX:+UseCMSInitiatingOccupancyOnly\nStep5: Run elasticSearch with command: elasticsearch.bat\n</code></pre>\n"}],"owner":{"account_id":2878984,"reputation":107,"user_id":2470281,"display_name":"user2470281"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678951336,"creation_date":1628629442,"question_id":68733452,"body_markdown":"I just downloaded the latest ElasticSearch 7.14.0 zip for Windows. I also downloaded the latest Logstash and Kibana. They sit on a Windows Server 2016 hosted server.\r\n\r\nI installed the latest Java for Windows (Version 8 Update 301) from:\r\n\r\nhttps://www.java.com/en/download/\r\n\r\nOn running elasticsearch.bat, I get the following error:\r\n\r\n    Unrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\n\r\nI&#39;ve Googled endlessly and all of the sparse forum answers are in alien technical language. I&#39;ve tried commenting out the following lines in the config/jvm.options file and I still get the error.\r\n\r\n    # 8-13:-XX:+UseConcMarkSweepGC\r\n    # 8-13:-XX:CMSInitiatingOccupancyFraction=75\r\n    # 8-13:-XX:+UseCMSInitiatingOccupancyOnly\r\n\r\n\r\nIs there a plain English answer to how I fix this? I know nothing about Java, and am just trying to learn ElasticSearch for a small project.","title":"Elasticsearch Windows UseConcMarkSweepGC error","body":"<p>I just downloaded the latest ElasticSearch 7.14.0 zip for Windows. I also downloaded the latest Logstash and Kibana. They sit on a Windows Server 2016 hosted server.</p>\n<p>I installed the latest Java for Windows (Version 8 Update 301) from:</p>\n<p><a href=\"https://www.java.com/en/download/\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/</a></p>\n<p>On running elasticsearch.bat, I get the following error:</p>\n<pre><code>Unrecognized VM option 'UseConcMarkSweepGC'\n</code></pre>\n<p>I've Googled endlessly and all of the sparse forum answers are in alien technical language. I've tried commenting out the following lines in the config/jvm.options file and I still get the error.</p>\n<pre><code># 8-13:-XX:+UseConcMarkSweepGC\n# 8-13:-XX:CMSInitiatingOccupancyFraction=75\n# 8-13:-XX:+UseCMSInitiatingOccupancyOnly\n</code></pre>\n<p>Is there a plain English answer to how I fix this? I know nothing about Java, and am just trying to learn ElasticSearch for a small project.</p>\n"},{"tags":["java","jit"],"comments":[{"owner":{"account_id":7139758,"reputation":1558,"user_id":5457916,"accept_rate":25,"display_name":"humble_wolf"},"score":3,"creation_date":1534400571,"post_id":3718024,"comment_id":90692839,"body_markdown":"Till now computers don&#39;t execute anything other than machine code.","body":"Till now computers don&#39;t execute anything other than machine code."},{"owner":{"account_id":920761,"reputation":557,"user_id":952507,"accept_rate":5,"display_name":"Suseendran P"},"score":0,"creation_date":1555986170,"post_id":3718024,"comment_id":98275176,"body_markdown":"Interpreters converts bytecode into corresponding native machine code for execution, bytecodes are not directly executing.","body":"Interpreters converts bytecode into corresponding native machine code for execution, bytecodes are not directly executing."},{"owner":{"account_id":898654,"reputation":3590,"user_id":1013219,"accept_rate":100,"display_name":"mTorres"},"score":5,"creation_date":1557569424,"post_id":3718024,"comment_id":98815398,"body_markdown":"I came here while googling, if you are like me, you can find more information on this [great answer on SoftwareEngineering](https://softwareengineering.stackexchange.com/questions/246094/understanding-the-differences-traditional-interpreter-jit-compiler-jit-interp)","body":"I came here while googling, if you are like me, you can find more information on this <a href=\"https://softwareengineering.stackexchange.com/questions/246094/understanding-the-differences-traditional-interpreter-jit-compiler-jit-interp\">great answer on SoftwareEngineering</a>"}],"answers":[{"tags":[],"owner":{"account_id":2623,"reputation":10374,"user_id":3673,"accept_rate":100,"display_name":"J&#233;r&#244;me Radix"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1284557667,"creation_date":1284557667,"answer_id":3718110,"question_id":3718024,"body_markdown":"A [JIT Compiler][1] translates byte code into machine code and then execute the machine code.\r\n\r\n[Interpreters][2] read your high level language (interprets it) and execute what&#39;s asked by your program. Interpreters are normally not passing through byte-code and jit compilation.\r\n\r\nBut the two worlds have melt because numerous interpreters have take the path to internal byte-compilation and jit-compilation, for a better speed of execution.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [2]: http://en.wikipedia.org/wiki/Interpreter_%28computing%29","title":"JIT vs Interpreters","body":"<p>A <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">JIT Compiler</a> translates byte code into machine code and then execute the machine code.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Interpreter_%28computing%29\" rel=\"noreferrer\">Interpreters</a> read your high level language (interprets it) and execute what's asked by your program. Interpreters are normally not passing through byte-code and jit compilation.</p>\n\n<p>But the two worlds have melt because numerous interpreters have take the path to internal byte-compilation and jit-compilation, for a better speed of execution.</p>\n"},{"tags":[],"owner":{"account_id":187974,"reputation":20625,"user_id":426412,"display_name":"Vivien Barousse"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1284557689,"creation_date":1284557689,"answer_id":3718116,"question_id":3718024,"body_markdown":"&gt; Jit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs Am i right?\r\n\r\nYes you are.\r\n\r\n&gt; Interpreters will directly execute bytecode without transforming it into machine code. Is that right?\r\n\r\nYes, it is.\r\n\r\n&gt; How the real processor in our pc will understand the instruction.?\r\n\r\nIn the case of interpreters, the virtual machine executes a native JVM procedure corresponding to each instruction in byte code to produce the expected behaviour. But your code isn&#39;t actually compiled to native code, as with Jit compilers. The JVM emulates the expected behaviour for each instruction.","title":"JIT vs Interpreters","body":"<blockquote>\n  <p>Jit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs Am i right?</p>\n</blockquote>\n\n<p>Yes you are.</p>\n\n<blockquote>\n  <p>Interpreters will directly execute bytecode without transforming it into machine code. Is that right?</p>\n</blockquote>\n\n<p>Yes, it is.</p>\n\n<blockquote>\n  <p>How the real processor in our pc will understand the instruction.?</p>\n</blockquote>\n\n<p>In the case of interpreters, the virtual machine executes a native JVM procedure corresponding to each instruction in byte code to produce the expected behaviour. But your code isn't actually compiled to native code, as with Jit compilers. The JVM emulates the expected behaviour for each instruction.</p>\n"},{"tags":[],"owner":{"account_id":25214,"reputation":13569,"user_id":64669,"accept_rate":94,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284557836,"creation_date":1284557836,"answer_id":3718137,"question_id":3718024,"body_markdown":"I&#39;m pretty sure that JIT turns byte code into machine code for whatever machine you&#39;re running on right as it&#39;s needed. The alternative to this is to run the byte code in a java virtual machine. I&#39;m not sure if this the same as interpreting the code since I&#39;m more familiar with that term being used to describe the execution of a scripting (non-compiled) language like ruby or perl.","title":"JIT vs Interpreters","body":"<p>I'm pretty sure that JIT turns byte code into machine code for whatever machine you're running on right as it's needed. The alternative to this is to run the byte code in a java virtual machine. I'm not sure if this the same as interpreting the code since I'm more familiar with that term being used to describe the execution of a scripting (non-compiled) language like ruby or perl.</p>\n"},{"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1284558959,"creation_date":1284558959,"answer_id":3718314,"question_id":3718024,"body_markdown":"- Interpreter: Reads your source code or some intermediate representation (bytecode) of it, and executes it *directly*.\r\n\r\n- JIT compiler: Reads your source code, or more typically some intermediate representation (bytecode) of it, compiles that on the fly and executes *native code*.\r\n","title":"JIT vs Interpreters","body":"<ul>\n<li><p>Interpreter: Reads your source code or some intermediate representation (bytecode) of it, and executes it <em>directly</em>.</p></li>\n<li><p>JIT compiler: Reads your source code, or more typically some intermediate representation (bytecode) of it, compiles that on the fly and executes <em>native code</em>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":951823,"reputation":444,"user_id":977799,"accept_rate":60,"display_name":"bitan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392950283,"creation_date":1392950283,"answer_id":21924198,"question_id":3718024,"body_markdown":"The first time a class is referenced in JVM the JIT Execution Engine re-compiles the .class files (primary Binaries) generated by Java Compiler containing JVM Instruction Set to Binaries containing HOST system’s Instruction Set. JIT stores and reuses those recompiled binaries from Memory going forward, there by reducing interpretation time and benefits from Native code execution.\r\n\r\nAnd there is another flavor which does Adaptive Optimization by identifying most reused part of the app and applying JIT only over it, there by optimizing over memory usage.\r\n \r\nOn the other hand a plain old java interpreter interprets one JVM instruction from class file at a time and calls a procedure against it.\r\n\r\nFind a detail comparison [here][1] \r\n\r\n\r\n  [1]: http://bitshub.blogspot.com/2010/01/Flavors-of-JVM.html","title":"JIT vs Interpreters","body":"<p>The first time a class is referenced in JVM the JIT Execution Engine re-compiles the .class files (primary Binaries) generated by Java Compiler containing JVM Instruction Set to Binaries containing HOST system’s Instruction Set. JIT stores and reuses those recompiled binaries from Memory going forward, there by reducing interpretation time and benefits from Native code execution.</p>\n\n<p>And there is another flavor which does Adaptive Optimization by identifying most reused part of the app and applying JIT only over it, there by optimizing over memory usage.</p>\n\n<p>On the other hand a plain old java interpreter interprets one JVM instruction from class file at a time and calls a procedure against it.</p>\n\n<p>Find a detail comparison <a href=\"http://bitshub.blogspot.com/2010/01/Flavors-of-JVM.html\" rel=\"nofollow\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1487318265,"creation_date":1480454936,"answer_id":40876067,"question_id":3718024,"body_markdown":"**First thing first:** &lt;br&gt;\r\n_With JVM, both interpreter and compiler_ (the JVM compiler and not the source-code compiler like javac) _produce native code_ (aka Machine language code for the underlying physical CPU like x86) from _byte code_.\r\n\r\n**What&#39;s the difference then:**&lt;br&gt;\r\nThe difference is in how they generate the native code, how optimized it is as well how costly the optimization is. Informally, an interpreter pretty much converts each byte-code instruction to corresponding native instruction by looking up a predefined JVM-instruction to machine instruction mapping (see below pic). Interestingly, a further speedup in execution can be achieved, if we take a section of byte-code and convert it into machine code - because considering a whole logical section often provides rooms for optimization as opposed to converting (_interpreting_) each line in isolation (_to machine instruction_). This very act of converting a section of byte-code into (presumably optimized) machine instruction is called compiling (in the current context). When the compilation is done at run-time, the compiler is called JIT compiler.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**The co-relation and co-ordination:**&lt;br&gt;\r\nSince Java designer went for (_hardware &amp; OS_) portability, they had chosen interpreter architecture (_as opposed to c style compiling, assembling, and linking_). However, in order to achieve more speed up, a compiler is also optionally added to a JVM. Nonetheless, as a program goes on being interpreted (and executed in physical CPU) &quot;hotspot&quot;s are detected by JVM and statistics are generated. Consequently, using statistics from interpreter, those sections become candidate for compilation (optimized native code). It is in fact done on-the-fly (thus JIT compiler) and the compiled machine instructions are used subsequently (rather than being interpreted). In a natural way, JVM also caches such compiled pieces of code.\r\n\r\n**Words of caution:** &lt;br&gt;\r\nThese are pretty much the fundamental concepts. If an actual implementer of JVM, does it a bit different way, don&#39;t get surprised. So could be the case for VM&#39;s in other languages.\r\n\r\n**Words of caution:** &lt;br&gt;\r\nStatements like &quot;interpreter executes byte code in virtual processor&quot;, &quot;interpreter executes byte code directly&quot;, etc. are all correct as long as you understand that in the end there is a set of machine instructions that have to run in a physical hardware.\r\n\r\n**Some Good References:** [I&#39;ve not done extensive search though]&lt;br&gt;\r\n\r\n - [paper] Instruction Folding in a Hardware-Translation Based Java Virtual\r\n   Machine by Hitoshi Oi\r\n - [book] Computer organization and design, 4th ed, D. A. Patterson. (_see Fig 2.23_)\r\n - [web-article] JVM performance optimization, Part 2: Compilers, by Eva Andreasson (JavaWorld)\r\n\r\n_PS: I&#39;ve used following terms interchangebly - &#39;native code&#39;, &#39;machine language code&#39;, &#39;machine instructions&#39;, etc._\r\n\r\n  [1]: https://i.stack.imgur.com/69jjn.png","title":"JIT vs Interpreters","body":"<p><strong>First thing first:</strong> <br>\n<em>With JVM, both interpreter and compiler</em> (the JVM compiler and not the source-code compiler like javac) <em>produce native code</em> (aka Machine language code for the underlying physical CPU like x86) from <em>byte code</em>.</p>\n\n<p><strong>What's the difference then:</strong><br>\nThe difference is in how they generate the native code, how optimized it is as well how costly the optimization is. Informally, an interpreter pretty much converts each byte-code instruction to corresponding native instruction by looking up a predefined JVM-instruction to machine instruction mapping (see below pic). Interestingly, a further speedup in execution can be achieved, if we take a section of byte-code and convert it into machine code - because considering a whole logical section often provides rooms for optimization as opposed to converting (<em>interpreting</em>) each line in isolation (<em>to machine instruction</em>). This very act of converting a section of byte-code into (presumably optimized) machine instruction is called compiling (in the current context). When the compilation is done at run-time, the compiler is called JIT compiler.</p>\n\n<p><a href=\"https://i.stack.imgur.com/69jjn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/69jjn.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>The co-relation and co-ordination:</strong><br>\nSince Java designer went for (<em>hardware &amp; OS</em>) portability, they had chosen interpreter architecture (<em>as opposed to c style compiling, assembling, and linking</em>). However, in order to achieve more speed up, a compiler is also optionally added to a JVM. Nonetheless, as a program goes on being interpreted (and executed in physical CPU) \"hotspot\"s are detected by JVM and statistics are generated. Consequently, using statistics from interpreter, those sections become candidate for compilation (optimized native code). It is in fact done on-the-fly (thus JIT compiler) and the compiled machine instructions are used subsequently (rather than being interpreted). In a natural way, JVM also caches such compiled pieces of code.</p>\n\n<p><strong>Words of caution:</strong> <br>\nThese are pretty much the fundamental concepts. If an actual implementer of JVM, does it a bit different way, don't get surprised. So could be the case for VM's in other languages.</p>\n\n<p><strong>Words of caution:</strong> <br>\nStatements like \"interpreter executes byte code in virtual processor\", \"interpreter executes byte code directly\", etc. are all correct as long as you understand that in the end there is a set of machine instructions that have to run in a physical hardware.</p>\n\n<p><strong>Some Good References:</strong> [I've not done extensive search though]<br></p>\n\n<ul>\n<li>[paper] Instruction Folding in a Hardware-Translation Based Java Virtual\nMachine by Hitoshi Oi</li>\n<li>[book] Computer organization and design, 4th ed, D. A. Patterson. (<em>see Fig 2.23</em>)</li>\n<li>[web-article] JVM performance optimization, Part 2: Compilers, by Eva Andreasson (JavaWorld)</li>\n</ul>\n\n<p><em>PS: I've used following terms interchangebly - 'native code', 'machine language code', 'machine instructions', etc.</em></p>\n"},{"tags":[],"owner":{"account_id":2342901,"reputation":169,"user_id":2053813,"display_name":"Manjunath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610916791,"creation_date":1610916791,"answer_id":65765822,"question_id":3718024,"body_markdown":"Interpreter: Interprets the bytecode if a method is called multiple times every time a new interpretation is required.\r\n\r\nJIT: when a code is called multiple time JIT converts the bytecode in native code and executes it","title":"JIT vs Interpreters","body":"<p>Interpreter: Interprets the bytecode if a method is called multiple times every time a new interpretation is required.</p>\n<p>JIT: when a code is called multiple time JIT converts the bytecode in native code and executes it</p>\n"}],"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40710,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":40876067,"answer_count":7,"score":77,"last_activity_date":1678950914,"creation_date":1284557168,"question_id":3718024,"body_markdown":"I couldn&#39;t find the difference between JIT and Interpreters. \r\n\r\nJit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs\r\nAm I right?\r\n\r\nInterpreters will directly execute bytecode without transforming it into machine code. Is that right?\r\n\r\nHow the real processor in our pc will understand the instruction.?\r\n\r\nPlease clear my doubts.","title":"JIT vs Interpreters","body":"<p>I couldn't find the difference between JIT and Interpreters. </p>\n\n<p>Jit is intermediary to Interpreters and Compilers. During runtime, it converts byte code to machine code ( JVM or Actual Machine ?) For the next time, it takes from the cache and runs\nAm I right?</p>\n\n<p>Interpreters will directly execute bytecode without transforming it into machine code. Is that right?</p>\n\n<p>How the real processor in our pc will understand the instruction.?</p>\n\n<p>Please clear my doubts.</p>\n"},{"tags":["java","enumeration"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1601301660,"post_id":64103674,"comment_id":113357017,"body_markdown":"You mean when trying to encode as json?","body":"You mean when trying to encode as json?"},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":1,"creation_date":1601301670,"post_id":64103674,"comment_id":113357022,"body_markdown":"` saison.getvalues()` well, there is no `saison` in your question. Also, class names *should* be PascalCase, so `Status` or `Saison`, not `status` or `saison`. Also, is the output supposed to be JSON? If so, you might want to look into specialized tools for that.","body":"` saison.getvalues()` well, there is no <code>saison</code> in your question. Also, class names <i>should</i> be PascalCase, so <code>Status</code> or <code>Saison</code>, not <code>status</code> or <code>saison</code>. Also, is the output supposed to be JSON? If so, you might want to look into specialized tools for that."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1601301960,"post_id":64103674,"comment_id":113357197,"body_markdown":"What are you taking about? Java enums doesn&#39;t have getValues() method... What is `Saison`?","body":"What are you taking about? Java enums doesn&#39;t have getValues() method... What is <code>Saison</code>?"},{"owner":{"account_id":16635065,"reputation":433,"user_id":12021983,"display_name":"sokida"},"score":0,"creation_date":1601309342,"post_id":64103674,"comment_id":113360853,"body_markdown":"thank you so much ur help it&#39;s work now.","body":"thank you so much ur help it&#39;s work now."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601304016,"creation_date":1601303293,"answer_id":64104178,"question_id":64103674,"body_markdown":"There is nothing to prevent you from returning a map entry which contains the `key,value` pair.\r\n\r\n```\r\n enum Status {\r\n\r\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\r\n\r\n    private final String key;\r\n    private final int value;\r\n\r\n    Status(String key, int value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n    public Entry&lt;String,Integer&gt; getBoth() {\r\n    \treturn new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n    }\t\r\n}\r\n\r\nEntry&lt;String,Integer&gt; e = Status.ACTIVE.getBoth();\r\nSystem.out.println(&quot;Key: = &quot; + e.getKey());\r\nSystem.out.println(&quot;Value: = &quot; + e.getValue());\r\n```\r\nor print the toString() value of the Entry.\r\n```\r\nSystem.out.println(e);\r\n\t\r\n```\r\nPrints\r\n```\r\nKey: = Active\r\nValue: = 1\r\nActive=1\r\n```\r\nYou can also override toString of your Enum and do something like this.\r\n```\r\npublic String toString() {\r\n\treturn String.format(&quot;\\&quot;key\\&quot;: \\&quot;%s\\&quot;,%n\\&quot;value\\&quot;: \\&quot;%s\\&quot;&quot;,\r\n\t\t\tgetKey(), getValue());\r\n}\r\n\r\nSystem.out.println(Status.ACTIVE);\r\n```\r\nPrints\r\n```\r\n&quot;key&quot;: Active&quot;,\r\n&quot;value&quot;: &quot;1&quot;\r\n\r\n\t","title":"How to use enum key value in java","body":"<p>There is nothing to prevent you from returning a map entry which contains the <code>key,value</code> pair.</p>\n<pre><code> enum Status {\n\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\n\n    private final String key;\n    private final int value;\n\n    Status(String key, int value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public String getKey() {\n        return key;\n    }\n    public int getValue() {\n        return value;\n    }\n    public Entry&lt;String,Integer&gt; getBoth() {\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n    }   \n}\n\nEntry&lt;String,Integer&gt; e = Status.ACTIVE.getBoth();\nSystem.out.println(&quot;Key: = &quot; + e.getKey());\nSystem.out.println(&quot;Value: = &quot; + e.getValue());\n</code></pre>\n<p>or print the toString() value of the Entry.</p>\n<pre><code>System.out.println(e);\n    \n</code></pre>\n<p>Prints</p>\n<pre><code>Key: = Active\nValue: = 1\nActive=1\n</code></pre>\n<p>You can also override toString of your Enum and do something like this.</p>\n<pre><code>public String toString() {\n    return String.format(&quot;\\&quot;key\\&quot;: \\&quot;%s\\&quot;,%n\\&quot;value\\&quot;: \\&quot;%s\\&quot;&quot;,\n            getKey(), getValue());\n}\n\nSystem.out.println(Status.ACTIVE);\n</code></pre>\n<p>Prints</p>\n<pre><code>&quot;key&quot;: Active&quot;,\n&quot;value&quot;: &quot;1&quot;\n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678950714,"creation_date":1678950714,"answer_id":75753074,"question_id":64103674,"body_markdown":"I did in this way to return all key and value in list.\r\n   \r\n````\r\npublic enum FileCode {\r\n    AB(&quot;AB&quot;, &quot;AB description&quot;),\r\n    CD(&quot;CD&quot;, &quot;CD description&quot;),\r\n    EF(&quot;EF&quot;, &quot;EF description&quot;);\r\n\r\n    private final String key;\r\n    private final String value;\r\n    private final KeyValue keyValue;\r\n\r\n    FileCode(String key, String value) {\r\n        this.key = key;\r\n        this.value = value;\r\n        this.keyValue = new KeyValue(key, value);\r\n    }\r\n\r\n    public static List&lt;KeyValue&gt; getAllKeyValue() {\r\n        List&lt;KeyValue&gt; keyValueList = new ArrayList&lt;&gt;();\r\n        for (FileCode f : FileCode.values()) {\r\n            keyValueList.add(KeyValue.builder()\r\n                    .key(f.key)\r\n                    .value(f.value)\r\n                    .build());\r\n        }\r\n        return keyValueList;\r\n\r\n    }\r\n\r\n    public Map.Entry&lt;String, String&gt; getBoth() {\r\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public static class KeyValue {\r\n        String key;\r\n        String value;\r\n\r\n    }\r\n\r\n}\r\n````","title":"How to use enum key value in java","body":"<p>I did in this way to return all key and value in list.</p>\n<pre><code>public enum FileCode {\n    AB(&quot;AB&quot;, &quot;AB description&quot;),\n    CD(&quot;CD&quot;, &quot;CD description&quot;),\n    EF(&quot;EF&quot;, &quot;EF description&quot;);\n\n    private final String key;\n    private final String value;\n    private final KeyValue keyValue;\n\n    FileCode(String key, String value) {\n        this.key = key;\n        this.value = value;\n        this.keyValue = new KeyValue(key, value);\n    }\n\n    public static List&lt;KeyValue&gt; getAllKeyValue() {\n        List&lt;KeyValue&gt; keyValueList = new ArrayList&lt;&gt;();\n        for (FileCode f : FileCode.values()) {\n            keyValueList.add(KeyValue.builder()\n                    .key(f.key)\n                    .value(f.value)\n                    .build());\n        }\n        return keyValueList;\n\n    }\n\n    public Map.Entry&lt;String, String&gt; getBoth() {\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n    }\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public static class KeyValue {\n        String key;\n        String value;\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16635065,"reputation":433,"user_id":12021983,"display_name":"sokida"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5057,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":64104178,"answer_count":2,"score":-1,"last_activity_date":1678950714,"creation_date":1601301477,"question_id":64103674,"body_markdown":"I want to create an enum class in java 11 with key value \r\nI create a enum like this \r\n```\r\npublic enum status{\r\n\r\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\r\n\r\n    private final String key;\r\n    private final Integer value;\r\n\r\n    Status(String key, Integer value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\nthe problem that when i do Saison saison.getvalues()\r\ni got like this \r\n```\r\n[\r\n&quot;ACTIVE&quot;,\r\n&quot;INACTIVE&quot;\r\n]\r\n```\r\nBut i want to got like this \r\n```\r\n[\r\n{\r\n&quot;Key&quot;: &quot;Inactive&quot;, \r\n&quot;value&quot;:&quot;2&quot;\r\n},\r\n{\r\n&quot;Key&quot;: &quot;Active&quot;,\r\n &quot;value&quot;:&quot;1&quot;\r\n}\r\n]\r\n```\r\nhow can i call my enum tio get a result like this","title":"How to use enum key value in java","body":"<p>I want to create an enum class in java 11 with key value\nI create a enum like this</p>\n<pre><code>public enum status{\n\n    ACTIVE(&quot;Active&quot;, 1), IN_ACTIVE(&quot;In Active&quot;, 2);\n\n    private final String key;\n    private final Integer value;\n\n    Status(String key, Integer value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public String getKey() {\n        return key;\n    }\n    public Integer getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>the problem that when i do Saison saison.getvalues()\ni got like this</p>\n<pre><code>[\n&quot;ACTIVE&quot;,\n&quot;INACTIVE&quot;\n]\n</code></pre>\n<p>But i want to got like this</p>\n<pre><code>[\n{\n&quot;Key&quot;: &quot;Inactive&quot;, \n&quot;value&quot;:&quot;2&quot;\n},\n{\n&quot;Key&quot;: &quot;Active&quot;,\n &quot;value&quot;:&quot;1&quot;\n}\n]\n</code></pre>\n<p>how can i call my enum tio get a result like this</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":192946,"reputation":3188,"user_id":434376,"accept_rate":96,"display_name":"eat_a_lemon"},"score":0,"creation_date":1300773301,"post_id":5387371,"comment_id":6091520,"body_markdown":"24 hour time or 12 hour time with am and pm?","body":"24 hour time or 12 hour time with am and pm?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1300773736,"post_id":5387371,"comment_id":6091581,"body_markdown":"See also http://stackoverflow.com/questions/2704473","body":"See also <a href=\"http://stackoverflow.com/questions/2704473\">stackoverflow.com/questions/2704473</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675935054,"post_id":5387371,"comment_id":133035855,"body_markdown":"Convert to a `Duration`, for example `Duration dur = Duration.ofMinutes(260);`. Format through `String.format(Locale.forLanguageTag(&quot;en-IN&quot;), &quot;%d:%02d&quot;, dur.toHours(), dur.toMinutesPart())`. Result: `4:20`.","body":"Convert to a <code>Duration</code>, for example <code>Duration dur = Duration.ofMinutes(260);</code>. Format through <code>String.format(Locale.forLanguageTag(&quot;en-IN&quot;), &quot;%d:%02d&quot;, dur.toHours(), dur.toMinutesPart())</code>. Result: <code>4:20</code>."}],"answers":[{"tags":[],"owner":{"account_id":105796,"reputation":6133,"user_id":282112,"accept_rate":97,"display_name":"Ryre"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1300773268,"creation_date":1300773268,"answer_id":5387393,"question_id":5387371,"body_markdown":"Minutes mod 60 will gives hours with minutes remaining.  \r\n\r\nhttp://www.cafeaulait.org/course/week2/15.html","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Minutes mod 60 will gives hours with minutes remaining.  </p>\n\n<p><a href=\"http://www.cafeaulait.org/course/week2/15.html\" rel=\"nofollow\">http://www.cafeaulait.org/course/week2/15.html</a></p>\n"},{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":1,"up_vote_count":227,"is_accepted":true,"score":226,"last_activity_date":1678950641,"creation_date":1300773307,"answer_id":5387398,"question_id":5387371,"body_markdown":"If your time is in a variable called `t` :\r\n\r\n    int hours   = t / 60;   // since both are ints, you get an int\r\n    int minutes = t % 60;\r\n    System.out.printf(&quot;%d:%02d&quot;, hours, minutes);\r\n\r\nIt couldn&#39;t get easier.\r\n\r\n---\r\n## Addendum from 2021\r\n\r\nPlease notice that this answer is about the *literal meaning* of the question: how to convert an amount of minute to hours + minutes. It has nothing to do with time, time zones, AM/PM etc.\r\n\r\nIf you need better control about this kind of stuff, i.e. you&#39;re dealing with moments in time and not just an amount of minutes and hours, see [Basil Bourque&#39;s answer](https://stackoverflow.com/a/41800301/133203) below.\r\n","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>If your time is in a variable called <code>t</code> :</p>\n<pre><code>int hours   = t / 60;   // since both are ints, you get an int\nint minutes = t % 60;\nSystem.out.printf(&quot;%d:%02d&quot;, hours, minutes);\n</code></pre>\n<p>It couldn't get easier.</p>\n<hr />\n<h2>Addendum from 2021</h2>\n<p>Please notice that this answer is about the <em>literal meaning</em> of the question: how to convert an amount of minute to hours + minutes. It has nothing to do with time, time zones, AM/PM etc.</p>\n<p>If you need better control about this kind of stuff, i.e. you're dealing with moments in time and not just an amount of minutes and hours, see <a href=\"https://stackoverflow.com/a/41800301/133203\">Basil Bourque's answer</a> below.</p>\n"},{"tags":[],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1311501457,"creation_date":1300773653,"answer_id":5387451,"question_id":5387371,"body_markdown":"    long d1Ms=asa.getTime();   \r\n    long d2Ms=asa2.getTime();   \r\n    long minute = Math.abs((d1Ms-d2Ms)/60000);   \r\n    int Hours = (int)minute/60;     \r\n    int Minutes = (int)minute%60;     \r\n    stUr.setText(Hours+&quot;:&quot;+Minutes); ","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<pre><code>long d1Ms=asa.getTime();   \nlong d2Ms=asa2.getTime();   \nlong minute = Math.abs((d1Ms-d2Ms)/60000);   \nint Hours = (int)minute/60;     \nint Minutes = (int)minute%60;     \nstUr.setText(Hours+\":\"+Minutes); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":98286,"reputation":1427,"user_id":1129757,"accept_rate":71,"display_name":"walters"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1300780521,"creation_date":1300780521,"answer_id":5388264,"question_id":5387371,"body_markdown":"You can also use the [TimeUnit][1] class. You could define &lt;pre&gt;private static final String FORMAT = &quot;%02d:%02d:%02d&quot;;&lt;/pre&gt;\r\ncan have a method like:\r\n&lt;pre&gt;\r\npublic static String parseTime(long milliseconds) {\r\n      return String.format(FORMAT,\r\n              TimeUnit.MILLISECONDS.toHours(milliseconds),\r\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds) - TimeUnit.HOURS.toMinutes(\r\n              TimeUnit.MILLISECONDS.toHours(milliseconds)),\r\n              TimeUnit.MILLISECONDS.toSeconds(milliseconds) - TimeUnit.MINUTES.toSeconds(\r\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds)));\r\n   }\r\n&lt;/pre&gt;\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>You can also use the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">TimeUnit</a> class. You could define <pre>private static final String FORMAT = \"%02d:%02d:%02d\";</pre>\ncan have a method like:</p>\n\n<pre>\npublic static String parseTime(long milliseconds) {\n      return String.format(FORMAT,\n              TimeUnit.MILLISECONDS.toHours(milliseconds),\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds) - TimeUnit.HOURS.toMinutes(\n              TimeUnit.MILLISECONDS.toHours(milliseconds)),\n              TimeUnit.MILLISECONDS.toSeconds(milliseconds) - TimeUnit.MINUTES.toSeconds(\n              TimeUnit.MILLISECONDS.toMinutes(milliseconds)));\n   }\n</pre>\n"},{"tags":[],"owner":{"account_id":1260851,"reputation":7,"user_id":1219180,"display_name":"Jayaramachandran P"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1329656032,"creation_date":1329654047,"answer_id":9349082,"question_id":5387371,"body_markdown":"Try this code:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class BasicElement {\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            int hours;\r\n            System.out.print(&quot;Enter the hours to convert:&quot;);\r\n            hours =input.nextInt();\r\n            int d=hours/24;\r\n            int m=hours%24;\r\n            System.out.println(d+&quot;days&quot;+&quot; &quot;+m+&quot;hours&quot;);\t\t\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Try this code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class BasicElement {\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        int hours;\n        System.out.print(\"Enter the hours to convert:\");\n        hours =input.nextInt();\n        int d=hours/24;\n        int m=hours%24;\n        System.out.println(d+\"days\"+\" \"+m+\"hours\");     \n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1764821,"reputation":39,"user_id":1610912,"display_name":"Priyanka"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1349170909,"creation_date":1345437908,"answer_id":12032382,"question_id":5387371,"body_markdown":"It can be done like this\r\n                       \r\n            int totalMinutesInt = Integer.valueOf(totalMinutes.toString());\r\n\r\n\t\t\tint hours = totalMinutesInt / 60;\r\n\t\t\tint hoursToDisplay = hours;\r\n\r\n\t\t\tif (hours &gt; 12) {\r\n\t\t\t\thoursToDisplay = hoursToDisplay - 12;\r\n\t\t\t}\r\n\r\n\t\t\tint minutesToDisplay = totalMinutesInt - (hours * 60);\r\n\t\t\t\r\n\t\t\tString minToDisplay = null;\r\n\t\t\tif(minutesToDisplay == 0 ) minToDisplay = &quot;00&quot;;\t\t\r\n\t\t\telse if( minutesToDisplay &lt; 10 ) minToDisplay = &quot;0&quot; + minutesToDisplay ;\r\n\t\t\telse minToDisplay = &quot;&quot; + minutesToDisplay ;\r\n\t\t\t\r\n\t\t\tString displayValue = hoursToDisplay + &quot;:&quot; + minToDisplay;\r\n\t\t \r\n\t\t\tif (hours &lt; 12)\r\n\t\t\t\tdisplayValue = displayValue + &quot; AM&quot;;\r\n\t\t\telse\r\n\t\t\t\tdisplayValue = displayValue + &quot; PM&quot;;\r\n\r\n\t\t\treturn displayValue;\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error while converting currency.&quot;);\r\n\t\t}\r\n\t\treturn totalMinutes.toString();","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>It can be done like this</p>\n\n<pre><code>        int totalMinutesInt = Integer.valueOf(totalMinutes.toString());\n\n        int hours = totalMinutesInt / 60;\n        int hoursToDisplay = hours;\n\n        if (hours &gt; 12) {\n            hoursToDisplay = hoursToDisplay - 12;\n        }\n\n        int minutesToDisplay = totalMinutesInt - (hours * 60);\n\n        String minToDisplay = null;\n        if(minutesToDisplay == 0 ) minToDisplay = \"00\";     \n        else if( minutesToDisplay &lt; 10 ) minToDisplay = \"0\" + minutesToDisplay ;\n        else minToDisplay = \"\" + minutesToDisplay ;\n\n        String displayValue = hoursToDisplay + \":\" + minToDisplay;\n\n        if (hours &lt; 12)\n            displayValue = displayValue + \" AM\";\n        else\n            displayValue = displayValue + \" PM\";\n\n        return displayValue;\n    } catch (Exception e) {\n        LOGGER.error(\"Error while converting currency.\");\n    }\n    return totalMinutes.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5822314,"reputation":148,"user_id":4589961,"display_name":"LightinDarknessJava"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1465945761,"creation_date":1465945761,"answer_id":37823576,"question_id":5387371,"body_markdown":"Given input in seconds you can transform to format hh:mm:ss like this :\r\n\r\n    int hours;\r\n    int minutes;\r\n    int seconds;\r\n    int formatHelper;\r\n    \r\n    int input;\r\n    \r\n\r\n    //formatHelper maximum value is 24 hours represented in seconds\r\n\r\n    formatHelper = input % (24*60*60);\r\n    \r\n    //for example let&#39;s say format helper is 7500 seconds\r\n    \r\n    hours = formatHelper/60*60;\r\n    minutes = formatHelper/60%60;\r\n    seconds = formatHelper%60;\r\n    \r\n    //now operations above will give you result = 2hours : 5 minutes : 0 seconds;\r\n\r\nI have used formatHelper since the input can be more then 86 400 seconds, which is 24 hours.\r\n\r\nIf you want total time of your input represented by hh:mm:ss, you can just avoid formatHelper.\r\n\r\nI hope it helps.","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Given input in seconds you can transform to format hh:mm:ss like this :</p>\n\n<pre><code>int hours;\nint minutes;\nint seconds;\nint formatHelper;\n\nint input;\n\n\n//formatHelper maximum value is 24 hours represented in seconds\n\nformatHelper = input % (24*60*60);\n\n//for example let's say format helper is 7500 seconds\n\nhours = formatHelper/60*60;\nminutes = formatHelper/60%60;\nseconds = formatHelper%60;\n\n//now operations above will give you result = 2hours : 5 minutes : 0 seconds;\n</code></pre>\n\n<p>I have used formatHelper since the input can be more then 86 400 seconds, which is 24 hours.</p>\n\n<p>If you want total time of your input represented by hh:mm:ss, you can just avoid formatHelper.</p>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1591074346,"creation_date":1485152416,"answer_id":41800301,"question_id":5387371,"body_markdown":"# tl;dr\r\n\r\n    Duration.ofMinutes( 260L )\r\n            .toString()\r\n\r\n&gt;PT4H20M\r\n\r\n… or …\r\n\r\n    LocalTime.MIN.plus( \r\n        Duration.ofMinutes( 260L ) \r\n    ).toString()\r\n\r\n&gt;04:20\r\n\r\n# `Duration`\r\n\r\nThe java.time classes include a pair of classes to represent spans of time. The [`Duration`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html) class is for hours-minutes-seconds, and [`Period`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html) is for years-months-days.\r\n\r\n    Duration d = Duration.ofMinutes( 260L );\r\n\r\n## `Duration` parts\r\n\r\nAccess each part of the `Duration` by calling `to…Part`. These methods were added in Java 9 and later.\r\n\r\n    long days = d.toDaysPart() ;\r\n    int hours = d.toHoursPart() ;\r\n    int minutes = d.toMinutesPart() ;\r\n    int seconds = d.toSecondsPart() ;\r\n    int nanos = d.toNanosPart() ;\r\n\r\nYou can then assemble your own string from those parts.\r\n\r\n# ISO 8601 \r\n\r\nThe [ISO 8601][1] standard defines textual formats for date-time values. For spans of time unattached to the timeline, the [standard format][2] is `PnYnMnDTnHnMnS`. The `P` marks the beginning, and the `T` separates the years-month-days from the hours-minutes-seconds. So an hour and a half is `PT1H30M`. \r\n\r\nThe java.time classes use ISO 8601 formats by default for parsing and generating strings. The [`Duration`](http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html) and [`Period`](http://docs.oracle.com/javase/8/docs/api/java/time/Period.html) classes use this particular standard format. So simply call `toString`.\r\n\r\n    String output = d.toString(); \r\n\r\n&gt;PT4H20M\r\n\r\nFor alternate formatting, build your own String in Java 9 and later (*not* in Java 8) with the `Duration::to…Part` methods. Or see [this Answer](https://stackoverflow.com/a/40487511/642706) for using regex to manipulate the ISO 8601 formatted string.\r\n\r\n# `LocalTime`\r\n\r\nI strongly suggest using the standard ISO 8601 format instead of the extremely ambiguous and confusing clock format of `04:20`. But if you insist, you can get this effect by hacking with the [`LocalTime`][3] class. This works if your duration is not over 24 hours.\r\n\r\n    LocalTime hackUseOfClockAsDuration = LocalTime.MIN.plus( d );\r\n    String output = hackUseOfClockAsDuration.toString();\r\n\r\n&gt;04:20\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<h1>tl;dr</h1>\n\n<pre><code>Duration.ofMinutes( 260L )\n        .toString()\n</code></pre>\n\n<blockquote>\n  <p>PT4H20M</p>\n</blockquote>\n\n<p>… or …</p>\n\n<pre><code>LocalTime.MIN.plus( \n    Duration.ofMinutes( 260L ) \n).toString()\n</code></pre>\n\n<blockquote>\n  <p>04:20</p>\n</blockquote>\n\n<h1><code>Duration</code></h1>\n\n<p>The java.time classes include a pair of classes to represent spans of time. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> class is for hours-minutes-seconds, and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> is for years-months-days.</p>\n\n<pre><code>Duration d = Duration.ofMinutes( 260L );\n</code></pre>\n\n<h2><code>Duration</code> parts</h2>\n\n<p>Access each part of the <code>Duration</code> by calling <code>to…Part</code>. These methods were added in Java 9 and later.</p>\n\n<pre><code>long days = d.toDaysPart() ;\nint hours = d.toHoursPart() ;\nint minutes = d.toMinutesPart() ;\nint seconds = d.toSecondsPart() ;\nint nanos = d.toNanosPart() ;\n</code></pre>\n\n<p>You can then assemble your own string from those parts.</p>\n\n<h1>ISO 8601</h1>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard defines textual formats for date-time values. For spans of time unattached to the timeline, the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">standard format</a> is <code>PnYnMnDTnHnMnS</code>. The <code>P</code> marks the beginning, and the <code>T</code> separates the years-month-days from the hours-minutes-seconds. So an hour and a half is <code>PT1H30M</code>. </p>\n\n<p>The java.time classes use ISO 8601 formats by default for parsing and generating strings. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> classes use this particular standard format. So simply call <code>toString</code>.</p>\n\n<pre><code>String output = d.toString(); \n</code></pre>\n\n<blockquote>\n  <p>PT4H20M</p>\n</blockquote>\n\n<p>For alternate formatting, build your own String in Java 9 and later (<em>not</em> in Java 8) with the <code>Duration::to…Part</code> methods. Or see <a href=\"https://stackoverflow.com/a/40487511/642706\">this Answer</a> for using regex to manipulate the ISO 8601 formatted string.</p>\n\n<h1><code>LocalTime</code></h1>\n\n<p>I strongly suggest using the standard ISO 8601 format instead of the extremely ambiguous and confusing clock format of <code>04:20</code>. But if you insist, you can get this effect by hacking with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><code>LocalTime</code></a> class. This works if your duration is not over 24 hours.</p>\n\n<pre><code>LocalTime hackUseOfClockAsDuration = LocalTime.MIN.plus( d );\nString output = hackUseOfClockAsDuration.toString();\n</code></pre>\n\n<blockquote>\n  <p>04:20</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3248812,"reputation":4421,"user_id":2739650,"accept_rate":25,"display_name":"Shohan Ahmed Sijan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498977697,"creation_date":1486738248,"answer_id":42162245,"question_id":5387371,"body_markdown":"I use this function for my projects:\r\n\r\n     public static String minuteToTime(int minute) {\r\n        int hour = minute / 60;\r\n        minute %= 60;\r\n        String p = &quot;AM&quot;;\r\n        if (hour &gt;= 12) {\r\n            hour %= 12;\r\n            p = &quot;PM&quot;;\r\n        }\r\n        if (hour == 0) {\r\n            hour = 12;\r\n        }\r\n        return (hour &lt; 10 ? &quot;0&quot; + hour : hour) + &quot;:&quot; + (minute &lt; 10 ? &quot;0&quot; + minute : minute) + &quot; &quot; + p;\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>I use this function for my projects:</p>\n\n<pre><code> public static String minuteToTime(int minute) {\n    int hour = minute / 60;\n    minute %= 60;\n    String p = \"AM\";\n    if (hour &gt;= 12) {\n        hour %= 12;\n        p = \"PM\";\n    }\n    if (hour == 0) {\n        hour = 12;\n    }\n    return (hour &lt; 10 ? \"0\" + hour : hour) + \":\" + (minute &lt; 10 ? \"0\" + minute : minute) + \" \" + p;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7900539,"reputation":1580,"user_id":5967703,"accept_rate":33,"display_name":"Jigar Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490777194,"creation_date":1490777194,"answer_id":43088614,"question_id":5387371,"body_markdown":"    int mHours = t / 60; //since both are ints, you get an int\r\n    int mMinutes = t % 60;\r\n    System.out.printf(&quot;%d:%02d&quot;, &quot;&quot; +mHours, &quot;&quot; +mMinutes);","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<pre><code>int mHours = t / 60; //since both are ints, you get an int\nint mMinutes = t % 60;\nSystem.out.printf(\"%d:%02d\", \"\" +mHours, \"\" +mMinutes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11379646,"reputation":458,"user_id":8342848,"display_name":"Athar Iqbal"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1500629170,"creation_date":1500622883,"answer_id":45231854,"question_id":5387371,"body_markdown":"Use `java.text.SimpleDateFormat` to convert minute into hours and minute\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;mm&quot;);\r\n\r\n    try {\r\n        Date dt = sdf.parse(&quot;90&quot;);\r\n        sdf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        System.out.println(sdf.format(dt));\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Use <code>java.text.SimpleDateFormat</code> to convert minute into hours and minute</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"mm\");\n\ntry {\n    Date dt = sdf.parse(\"90\");\n    sdf = new SimpleDateFormat(\"HH:mm\");\n    System.out.println(sdf.format(dt));\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12965170,"reputation":94,"user_id":9372982,"display_name":"Janeth Fernando"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518859429,"creation_date":1518859429,"answer_id":48839790,"question_id":5387371,"body_markdown":"    import java.util.Scanner;\r\n    public class Time{\r\n    \tpublic static void main(String[]args){\r\n    \t\tint totMins=0;\r\n    \t\tint hours=0;\r\n    \t\tint mins=0;\r\n    \tScanner sc= new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Enter the time in mins: &quot;);\r\n    \t\ttotMins= sc.nextInt();\r\n    \t\thours=(int)(totMins/60);\r\n    \t\tmins =(int)(totMins%60);\r\n    \t\tSystem.out.printf(&quot;%d:%d&quot;,hours,mins);\r\n    \t}\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<pre><code>import java.util.Scanner;\npublic class Time{\n    public static void main(String[]args){\n        int totMins=0;\n        int hours=0;\n        int mins=0;\n    Scanner sc= new Scanner(System.in);\n    System.out.println(\"Enter the time in mins: \");\n        totMins= sc.nextInt();\n        hours=(int)(totMins/60);\n        mins =(int)(totMins%60);\n        System.out.printf(\"%d:%d\",hours,mins);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4454846,"reputation":1267,"user_id":3625488,"display_name":"Anthony Cannon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522246126,"creation_date":1522246126,"answer_id":49536782,"question_id":5387371,"body_markdown":"(In Kotlin) If you are going to put the answer into a TextView or something you can instead use a string resource:\r\n\r\n    &lt;string name=&quot;time&quot;&gt;%02d:%02d&lt;/string&gt;\r\n\r\nAnd then you can use this String resource to then set the text at run time using:\r\n\r\n    private fun setTime(time: Int) {\r\n        val hour = time / 60\r\n        val min = time % 60\r\n        main_time.text = getString(R.string.time, hour, min)\r\n    }","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>(In Kotlin) If you are going to put the answer into a TextView or something you can instead use a string resource:</p>\n\n<pre><code>&lt;string name=\"time\"&gt;%02d:%02d&lt;/string&gt;\n</code></pre>\n\n<p>And then you can use this String resource to then set the text at run time using:</p>\n\n<pre><code>private fun setTime(time: Int) {\n    val hour = time / 60\n    val min = time % 60\n    main_time.text = getString(R.string.time, hour, min)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545616093,"creation_date":1537349433,"answer_id":52402611,"question_id":5387371,"body_markdown":"Here is my function for convert a `second`,`millisecond` to `day,hour,minute,second`\r\n\r\n    public static String millisecondToFullTime(long millisecond) {\r\n        return timeUnitToFullTime(millisecond, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\n    public static String secondToFullTime(long second) {\r\n        return timeUnitToFullTime(second, TimeUnit.SECONDS);\r\n    }\r\n\r\n    public static String timeUnitToFullTime(long time, TimeUnit timeUnit) {\r\n        long day = timeUnit.toDays(time);\r\n        long hour = timeUnit.toHours(time) % 24;\r\n        long minute = timeUnit.toMinutes(time) % 60;\r\n        long second = timeUnit.toSeconds(time) % 60;\r\n        if (day &gt; 0) {\r\n            return String.format(&quot;%dday %02d:%02d:%02d&quot;, day, hour, minute, second);\r\n        } else if (hour &gt; 0) {\r\n            return String.format(&quot;%d:%02d:%02d&quot;, hour, minute, second);\r\n        } else if (minute &gt; 0) {\r\n            return String.format(&quot;%d:%02d&quot;, minute, second);\r\n        } else {\r\n            return String.format(&quot;%02d&quot;, second);\r\n        }\r\n    }\r\n   \r\n**Testing**\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;60 =&gt; &quot; + secondToFullTime(60));\r\n        System.out.println(&quot;101 =&gt; &quot; + secondToFullTime(101));\r\n        System.out.println(&quot;601 =&gt; &quot; + secondToFullTime(601));\r\n        System.out.println(&quot;7601 =&gt; &quot; + secondToFullTime(7601));\r\n        System.out.println(&quot;36001 =&gt; &quot; + secondToFullTime(36001));\r\n        System.out.println(&quot;86401 =&gt; &quot; + secondToFullTime(86401));\r\n    }\r\n\r\n**Output**\r\n\r\n    60 =&gt; 1:00\r\n    101 =&gt; 1:41\r\n    601 =&gt; 10:01\r\n    7601 =&gt; 2:06:41\r\n    36001 =&gt; 10:00:01\r\n    86401 =&gt; 1day 00:00:01\r\n\r\nHope it help","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Here is my function for convert a <code>second</code>,<code>millisecond</code> to <code>day,hour,minute,second</code></p>\n\n<pre><code>public static String millisecondToFullTime(long millisecond) {\n    return timeUnitToFullTime(millisecond, TimeUnit.MILLISECONDS);\n}\n\npublic static String secondToFullTime(long second) {\n    return timeUnitToFullTime(second, TimeUnit.SECONDS);\n}\n\npublic static String timeUnitToFullTime(long time, TimeUnit timeUnit) {\n    long day = timeUnit.toDays(time);\n    long hour = timeUnit.toHours(time) % 24;\n    long minute = timeUnit.toMinutes(time) % 60;\n    long second = timeUnit.toSeconds(time) % 60;\n    if (day &gt; 0) {\n        return String.format(\"%dday %02d:%02d:%02d\", day, hour, minute, second);\n    } else if (hour &gt; 0) {\n        return String.format(\"%d:%02d:%02d\", hour, minute, second);\n    } else if (minute &gt; 0) {\n        return String.format(\"%d:%02d\", minute, second);\n    } else {\n        return String.format(\"%02d\", second);\n    }\n}\n</code></pre>\n\n<p><strong>Testing</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"60 =&gt; \" + secondToFullTime(60));\n    System.out.println(\"101 =&gt; \" + secondToFullTime(101));\n    System.out.println(\"601 =&gt; \" + secondToFullTime(601));\n    System.out.println(\"7601 =&gt; \" + secondToFullTime(7601));\n    System.out.println(\"36001 =&gt; \" + secondToFullTime(36001));\n    System.out.println(\"86401 =&gt; \" + secondToFullTime(86401));\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>60 =&gt; 1:00\n101 =&gt; 1:41\n601 =&gt; 10:01\n7601 =&gt; 2:06:41\n36001 =&gt; 10:00:01\n86401 =&gt; 1day 00:00:01\n</code></pre>\n\n<p>Hope it help</p>\n"},{"tags":[],"owner":{"account_id":23064768,"reputation":25,"user_id":17179362,"display_name":"Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675956186,"creation_date":1675956186,"answer_id":75400732,"question_id":5387371,"body_markdown":"Solution on kotlin [Documentation](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/)  \r\n```\r\nimport kotlin.time.Duration\r\nimport kotlin.time.DurationUnit\r\nimport kotlin.time.toDuration\r\n\r\nval min = 150.toDuration(DurationUnit.MINUTES)\r\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \r\n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\r\n}\r\n```\r\nWe get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds  \r\n\r\nWe can also use \r\n```\r\nDurationUnit.DAYS\r\nDurationUnit.HOURS\r\nDurationUnit.SECONDS\r\nDurationUnit.MILLISECONDS\r\nDurationUnit.MICROSECONDS\r\nDurationUnit.NANOSECONDS\r\n```","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>Solution on kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<pre><code>import kotlin.time.Duration\nimport kotlin.time.DurationUnit\nimport kotlin.time.toDuration\n\nval min = 150.toDuration(DurationUnit.MINUTES)\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\n}\n</code></pre>\n<p>We get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds</p>\n<p>We can also use</p>\n<pre><code>DurationUnit.DAYS\nDurationUnit.HOURS\nDurationUnit.SECONDS\nDurationUnit.MILLISECONDS\nDurationUnit.MICROSECONDS\nDurationUnit.NANOSECONDS\n</code></pre>\n"}],"owner":{"account_id":128134,"reputation":4619,"user_id":2405181,"accept_rate":67,"display_name":"lakshmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204592,"favorite_count":0,"down_vote_count":2,"up_vote_count":101,"accepted_answer_id":5387398,"answer_count":15,"score":99,"last_activity_date":1678950641,"creation_date":1300773097,"question_id":5387371,"body_markdown":"I need to convert minutes to *hours* and *minutes* in Java. For example 260 minutes should be `4:20`.\r\n\r\nCan anyone help me how to do such conversion?\r\n\r\n ","title":"How to convert minutes to Hours and Minutes (hh:mm) in Java?","body":"<p>I need to convert minutes to <em>hours</em> and <em>minutes</em> in Java. For example 260 minutes should be <code>4:20</code>.</p>\n<p>Can anyone help me how to do such conversion?</p>\n"},{"tags":["java","python","import","jython"],"comments":[{"owner":{"account_id":1123620,"reputation":22429,"user_id":2013292,"display_name":"Pascal Fares"},"score":0,"creation_date":1586759842,"post_id":61070674,"comment_id":108236097,"body_markdown":"Did you verify that your python script did not have an error? Need to catch the error also with something like this             while ((ligne = error.readLine()) != null) {\n                System.out.println(&quot;err: &quot;+ ligne);\n            }","body":"Did you verify that your python script did not have an error? Need to catch the error also with something like this             while ((ligne = error.readLine()) != null) {                 System.out.println(&quot;err: &quot;+ ligne);             }"},{"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"score":0,"creation_date":1586783355,"post_id":61070674,"comment_id":108246168,"body_markdown":"No, it&#39;s more like it does not read properly somehow (at the right time maybe)... when I kill the java program, sometimes I can see the output inside the while loop (I print the `line`) - but only then - like it was stucked or something...","body":"No, it&#39;s more like it does not read properly somehow (at the right time maybe)... when I kill the java program, sometimes I can see the output inside the while loop (I print the <code>line</code>) - but only then - like it was stucked or something..."}],"answers":[{"tags":[],"owner":{"account_id":1123620,"reputation":22429,"user_id":2013292,"display_name":"Pascal Fares"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1586588338,"creation_date":1586588338,"answer_id":61153149,"question_id":61070674,"body_markdown":"You could communicate between java and Python with pipes.\r\n\r\nYou run your Python as you do now (without command line args) \r\n\r\nPython script\r\n\r\nyou write an infinite loop in python that will \r\n\r\n 2. read data from the\r\n    standard input (it will be your arg for the function)\r\n\r\n 2. You call your function\r\n\r\n 3. you write the answer to the standard output\r\n\r\nJava\r\n\r\n1. Write a method for sending args to python\r\n\r\n2. write to the pipe the arg of your function\r\n\r\n3. read the answer from the pipe\r\n\r\nYou&#39;re done.\r\n\r\nHere is some snippet \r\n\r\nHere how you create your tube\r\n\r\n            Process p = Runtime.getRuntime().exec(commande);\r\n            BufferedReader output = getOutput(p); //from python to java\r\n            BufferedReader error = getError(p); //from python to java\r\n            PrintWriter input  = getInput(p); //from java to python\r\n\r\n    private static BufferedReader getOutput(Process p) {\r\n        return new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    }\r\n    private static BufferedReader getError(Process p) {\r\n        return new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n    }    \r\n    private static PrintWriter getInput(Process p){\r\n        return new PrintWriter (new OutputStreamWriter(p.getOutputStream()));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Run Python script through Java with importing just once","body":"<p>You could communicate between java and Python with pipes.</p>\n\n<p>You run your Python as you do now (without command line args) </p>\n\n<p>Python script</p>\n\n<p>you write an infinite loop in python that will </p>\n\n<ol start=\"2\">\n<li><p>read data from the\nstandard input (it will be your arg for the function)</p></li>\n<li><p>You call your function</p></li>\n<li><p>you write the answer to the standard output</p></li>\n</ol>\n\n<p>Java</p>\n\n<ol>\n<li><p>Write a method for sending args to python</p></li>\n<li><p>write to the pipe the arg of your function</p></li>\n<li><p>read the answer from the pipe</p></li>\n</ol>\n\n<p>You're done.</p>\n\n<p>Here is some snippet </p>\n\n<p>Here how you create your tube</p>\n\n<pre><code>        Process p = Runtime.getRuntime().exec(commande);\n        BufferedReader output = getOutput(p); //from python to java\n        BufferedReader error = getError(p); //from python to java\n        PrintWriter input  = getInput(p); //from java to python\n\nprivate static BufferedReader getOutput(Process p) {\n    return new BufferedReader(new InputStreamReader(p.getInputStream()));\n}\nprivate static BufferedReader getError(Process p) {\n    return new BufferedReader(new InputStreamReader(p.getErrorStream()));\n}    \nprivate static PrintWriter getInput(Process p){\n    return new PrintWriter (new OutputStreamWriter(p.getOutputStream()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297041,"reputation":53,"user_id":602348,"accept_rate":25,"display_name":"Stathis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587223043,"creation_date":1587223043,"answer_id":61291497,"question_id":61070674,"body_markdown":"Try the following in your Python script:\r\n```\r\nimport sys\r\n\r\ndef fun(x):\r\n  print(x)\r\n  print(&#39;END&#39;)\r\n  sys.stdout.flush()\r\n\r\nwhile 1:\r\n    try:\r\n        line = sys.stdin.readline()\r\n    except KeyboardInterrupt:\r\n        break\r\n\r\n    if not line:\r\n        break\r\n\r\n    fun(line)\r\n```\r\n\r\nYour Java code should be more or less correct.","title":"Run Python script through Java with importing just once","body":"<p>Try the following in your Python script:</p>\n\n<pre><code>import sys\n\ndef fun(x):\n  print(x)\n  print('END')\n  sys.stdout.flush()\n\nwhile 1:\n    try:\n        line = sys.stdin.readline()\n    except KeyboardInterrupt:\n        break\n\n    if not line:\n        break\n\n    fun(line)\n</code></pre>\n\n<p>Your Java code should be more or less correct.</p>\n"}],"owner":{"account_id":3280272,"reputation":359,"user_id":2761038,"accept_rate":90,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2591,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":61153149,"answer_count":2,"score":4,"last_activity_date":1678949483,"creation_date":1586216859,"question_id":61070674,"body_markdown":"**Update April 2020**: I have accepted the answer below because it proposes a very good and simple solution to my problem but I never got my code to work! If anyone has already built something similar please contact me!\r\n\r\n---\r\n\r\nI have a simple script `my-script.py` that does some calculations very fast using a specific library written in `Python`:\r\n\r\n```python\r\nimport sys\r\nimport special-library\r\n\r\ndef fun(x):\r\n  do something\r\n\r\nfun(sys.argv[1])\r\n```\r\n\r\nIn my `Java` code, I use/call this script a lot in different part of the code, using the `ProcessBuilder` approach, which means that I simply run the command `python my-script.py argument`.\r\nThis means that every time I call this script, I have to execute the `import` commands which is the most **time-consuming** thing in this (the calculation part is actually faster).\r\n\r\nIs there a solution **so that I call the import just once**? I looked a little bit about `Jython` - would be possible to write a class or something that would be initiated and do the import once and then calling a function of it every time I want to do the calculations part (`fun`)? Has anyone done something similar or have any other solution to this?\r\n\r\n# First Attempt at Implementation\r\n\r\nI&#39;ve tried to write a &#39;pipe&#39; Java Class that will execute the python script once. Now the script reads continuously from the stdin and when it gets an input `argument`, it does the calculations and returns the result:\r\n\r\n```python\r\nimport sys\r\nimport special-library\r\n\r\ndef fun(x):\r\n  do something\r\n  print(&#39;END&#39;)\r\n\r\nfor arg in sys.stdin:\r\n  fun(arg)\r\n```\r\n\r\nAnd this works of course when I test it from the command line and supplying it with input arguments.\r\n\r\nThe Java Class is as follows:\r\n\r\n```java\r\npackage my.package;\r\nimport java.io.*;\r\n\r\npublic class PythonScriptExecuter {\r\n\r\n\tprivate static BufferedReader pythonToJavaReader;\r\n\tprivate static PrintWriter javaToPythonWriter;\r\n\r\n\tpublic PythonScriptExecuter() throws Exception {\r\n\t\tString MPBNScriptFile = &quot;fullPathToScriptFile&quot;;\r\n\t\tProcessBuilder pb = new ProcessBuilder(&quot;python&quot;, MPBNScriptFile);\r\n\t\tpb.redirectErrorStream(true);\r\n\r\n\t\t// Start script\r\n\t\tProcess p = pb.start();\r\n\r\n\t\tpythonToJavaReader = getOutputReader(p); // from python to java\r\n\t\tjavaToPythonWriter = getInputWriter(p); // from java to python\r\n\t}\r\n\r\n\t // Python =&gt; Java\r\n\tprivate static BufferedReader getOutputReader(Process p) {\r\n\t\treturn new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t}\r\n\r\n\t// Java =&gt; Python\r\n\tprivate static PrintWriter getInputWriter(Process p) {\r\n\t\treturn new PrintWriter(new OutputStreamWriter(p.getOutputStream()));\r\n\t}\r\n\r\n\tpublic static Arraylist&lt;String&gt; getResults(String argument) throws IOException {\r\n\t\t// send argument to python script\r\n\t\tjavaToPythonWriter.println(argument);\r\n\t\t//javaToPythonWriter.flush();\r\n\r\n\t\t// get results back one by one\r\n\t\tArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n\r\n\t\tint count = 0;\r\n\t\tString line;\r\n\t\twhile (!(line = pythonToJavaReader.readLine()).equals(&quot;END&quot;)) {\r\n            // process `line` string \r\n\t\t\tresults.add(line);\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\t}\r\n}\r\n```\r\n\r\nSo, what I do is that somewhere in the initialization part of my code I have this simple line to start the process:\r\n```java\r\nnew MPBNPythonScriptExecuter();\r\n```\r\n\r\nand later when I want to get some results back, I use:\r\n```\r\nString arg = &quot;something&quot;\r\nArraylist&lt;String&gt; res = PythonScriptExecuter.getResults(arg);\r\n```\r\nand the whole thing hangs on the reading-the-output-from-the-script line:\r\n```\r\nwhile (!(line = pythonToJavaReader.readLine()).equals(&quot;END&quot;))\r\n```\r\nAny ideas what is going wrong here?","title":"Run Python script through Java with importing just once","body":"<p><strong>Update April 2020</strong>: I have accepted the answer below because it proposes a very good and simple solution to my problem but I never got my code to work! If anyone has already built something similar please contact me!</p>\n\n<hr>\n\n<p>I have a simple script <code>my-script.py</code> that does some calculations very fast using a specific library written in <code>Python</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport special-library\n\ndef fun(x):\n  do something\n\nfun(sys.argv[1])\n</code></pre>\n\n<p>In my <code>Java</code> code, I use/call this script a lot in different part of the code, using the <code>ProcessBuilder</code> approach, which means that I simply run the command <code>python my-script.py argument</code>.\nThis means that every time I call this script, I have to execute the <code>import</code> commands which is the most <strong>time-consuming</strong> thing in this (the calculation part is actually faster).</p>\n\n<p>Is there a solution <strong>so that I call the import just once</strong>? I looked a little bit about <code>Jython</code> - would be possible to write a class or something that would be initiated and do the import once and then calling a function of it every time I want to do the calculations part (<code>fun</code>)? Has anyone done something similar or have any other solution to this?</p>\n\n<h1>First Attempt at Implementation</h1>\n\n<p>I've tried to write a 'pipe' Java Class that will execute the python script once. Now the script reads continuously from the stdin and when it gets an input <code>argument</code>, it does the calculations and returns the result:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport special-library\n\ndef fun(x):\n  do something\n  print('END')\n\nfor arg in sys.stdin:\n  fun(arg)\n</code></pre>\n\n<p>And this works of course when I test it from the command line and supplying it with input arguments.</p>\n\n<p>The Java Class is as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package my.package;\nimport java.io.*;\n\npublic class PythonScriptExecuter {\n\n    private static BufferedReader pythonToJavaReader;\n    private static PrintWriter javaToPythonWriter;\n\n    public PythonScriptExecuter() throws Exception {\n        String MPBNScriptFile = \"fullPathToScriptFile\";\n        ProcessBuilder pb = new ProcessBuilder(\"python\", MPBNScriptFile);\n        pb.redirectErrorStream(true);\n\n        // Start script\n        Process p = pb.start();\n\n        pythonToJavaReader = getOutputReader(p); // from python to java\n        javaToPythonWriter = getInputWriter(p); // from java to python\n    }\n\n     // Python =&gt; Java\n    private static BufferedReader getOutputReader(Process p) {\n        return new BufferedReader(new InputStreamReader(p.getInputStream()));\n    }\n\n    // Java =&gt; Python\n    private static PrintWriter getInputWriter(Process p) {\n        return new PrintWriter(new OutputStreamWriter(p.getOutputStream()));\n    }\n\n    public static Arraylist&lt;String&gt; getResults(String argument) throws IOException {\n        // send argument to python script\n        javaToPythonWriter.println(argument);\n        //javaToPythonWriter.flush();\n\n        // get results back one by one\n        ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\n\n        int count = 0;\n        String line;\n        while (!(line = pythonToJavaReader.readLine()).equals(\"END\")) {\n            // process `line` string \n            results.add(line);\n        }\n\n        return results;\n    }\n}\n</code></pre>\n\n<p>So, what I do is that somewhere in the initialization part of my code I have this simple line to start the process:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new MPBNPythonScriptExecuter();\n</code></pre>\n\n<p>and later when I want to get some results back, I use:</p>\n\n<pre><code>String arg = \"something\"\nArraylist&lt;String&gt; res = PythonScriptExecuter.getResults(arg);\n</code></pre>\n\n<p>and the whole thing hangs on the reading-the-output-from-the-script line:</p>\n\n<pre><code>while (!(line = pythonToJavaReader.readLine()).equals(\"END\"))\n</code></pre>\n\n<p>Any ideas what is going wrong here?</p>\n"},{"tags":["java","postgresql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1678904805,"post_id":75748528,"comment_id":133625423,"body_markdown":"Why do you want to select only one column, and you return `CountryConfig` ? what is the logic here?!","body":"Why do you want to select only one column, and you return <code>CountryConfig</code> ? what is the logic here?!"}],"owner":{"account_id":10418263,"reputation":199,"user_id":7681646,"display_name":"Karthikeyan Thangavel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678949334,"creation_date":1678903435,"question_id":75748528,"body_markdown":"I have a Postgres table country_config with columns as below,\r\n\r\n```    \r\npackage com.example.country.countryConfigDao;\r\n@Table(name = &quot;country_config&quot;)\r\npublic class CountryConfig {\r\n  @Id\r\n  @Column(name = &quot;code&quot;)\r\n  private String countryCode;\r\n  private String name;\r\n  @Column(name = &quot;phone_code&quot;)\r\n  private String phoneCode;\r\n  @Column(name = &quot;sub_region&quot;)\r\n  private String subRegion;\r\n  @Column(name = &quot;mail&quot;)\r\n  private String mail;\r\n  @Column(name = &quot;plan_id&quot;)\r\n  private String plan_id;\r\n\r\n}\r\n```\r\n\r\nBased on user input, I want to select columns from the country_config table. How to pass the column dynamically?\r\n\r\nSomething similar to this,\r\n\r\n      @Query(&quot;SELECT ?1 FROM country_config WHERE countryCode = ?2&quot;)\r\n      Object customSelect(String column, String countryCode);\r\n\r\nI am using Java spring boot.\r\n","title":"How to pass columns dynamically for select query in java spring boot?","body":"<p>I have a Postgres table country_config with columns as below,</p>\n<pre><code>package com.example.country.countryConfigDao;\n@Table(name = &quot;country_config&quot;)\npublic class CountryConfig {\n  @Id\n  @Column(name = &quot;code&quot;)\n  private String countryCode;\n  private String name;\n  @Column(name = &quot;phone_code&quot;)\n  private String phoneCode;\n  @Column(name = &quot;sub_region&quot;)\n  private String subRegion;\n  @Column(name = &quot;mail&quot;)\n  private String mail;\n  @Column(name = &quot;plan_id&quot;)\n  private String plan_id;\n\n}\n</code></pre>\n<p>Based on user input, I want to select columns from the country_config table. How to pass the column dynamically?</p>\n<p>Something similar to this,</p>\n<pre><code>  @Query(&quot;SELECT ?1 FROM country_config WHERE countryCode = ?2&quot;)\n  Object customSelect(String column, String countryCode);\n</code></pre>\n<p>I am using Java spring boot.</p>\n"},{"tags":["java","ffmpeg","java-8"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678905797,"post_id":75748062,"comment_id":133625685,"body_markdown":"Please provide the full exception stacktrace. The &quot;Could not initialize class org.bytedeco.ffmpeg.global.avutil&quot; suggests that something went wrong while loading the class, the details of that are likely deeper in the exception stacktrace.","body":"Please provide the full exception stacktrace. The &quot;Could not initialize class org.bytedeco.ffmpeg.global.avutil&quot; suggests that something went wrong while loading the class, the details of that are likely deeper in the exception stacktrace."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1678912235,"post_id":75748062,"comment_id":133627220,"body_markdown":"Sure, here it is: https://pastebin.com/2vicmTnr","body":"Sure, here it is: <a href=\"https://pastebin.com/2vicmTnr\" rel=\"nofollow noreferrer\">pastebin.com/2vicmTnr</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678914155,"creation_date":1678904006,"answer_id":75748613,"question_id":75748062,"body_markdown":"You need a dependency to the jar containing `org.bytedeco.ffmpeg.global.avutil`\r\n\r\nReplace\r\n\r\n    implementation &#39;org.bytedeco:javacv:1.5.8&#39;\r\n\r\nWith\r\n\r\n    implementation &#39;org.bytedeco:javacv-platform:1.5.8&#39;\r\n\r\nSee [bytedeco downloads page][1]\r\n\r\n\r\n  [1]: https://github.com/bytedeco/javacv/#downloads","title":"Can&#39;t fix this ffmpeg, NoClassDefFoundError org.bytedeco.ffmpeg.global.avutil","body":"<p>You need a dependency to the jar containing <code>org.bytedeco.ffmpeg.global.avutil</code></p>\n<p>Replace</p>\n<pre><code>implementation 'org.bytedeco:javacv:1.5.8'\n</code></pre>\n<p>With</p>\n<pre><code>implementation 'org.bytedeco:javacv-platform:1.5.8'\n</code></pre>\n<p>See <a href=\"https://github.com/bytedeco/javacv/#downloads\" rel=\"nofollow noreferrer\">bytedeco downloads page</a></p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75748613,"answer_count":1,"score":1,"last_activity_date":1678948216,"creation_date":1678900618,"question_id":75748062,"body_markdown":"I am trying to get the video duration with this library ```import org.bytedeco.javacv.FFmpegFrameGrabber;```\r\n\r\nWhen I upload this mp4 video (https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4), I get this error message:\r\n```java.lang.NoClassDefFoundError: Could not initialize class org.bytedeco.ffmpeg.global.avutil```\r\n\r\nIt will break when trying to get the &#39;grabber&#39;:\r\n```java\r\nprivate void videoInfo(MultipartFile file) {\r\n    try (FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(file.getInputStream())) { // on this line it will break :(\r\n        grabber.start();\r\n        long durationMs = grabber.getLengthInTime();\r\n    } catch (FrameGrabber.Exception e) {\r\n        throw new RuntimeException(e);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nThis is my build.gradle:\r\n```groovy\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.9&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.nob234&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.9&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\t// for logging\r\n\timplementation &#39;org.slf4j:slf4j-api:1.7.30&#39;\r\n\timplementation &#39;org.slf4j:jcl-over-slf4j:1.7.30&#39;\r\n\timplementation &#39;org.slf4j:log4j-over-slf4j:1.7.30&#39;\r\n\timplementation &#39;ch.qos.logback:logback-classic:1.2.3&#39;\r\n\timplementation &#39;org.bytedeco:javacv:1.5.8&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nThis is my ffmpeg version:\r\n\r\n```none\r\nffmpeg version 6.0-full_build-www.gyan.dev Copyright (c) 2000-2023 the FFmpeg developers\r\nbuilt with gcc 12.2.0 (Rev10, Built by MSYS2 project)\r\nconfiguration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint\r\nlibavutil      58.  2.100 / 58.  2.100\r\nlibavcodec     60.  3.100 / 60.  3.100\r\nlibavformat    60.  3.100 / 60.  3.100\r\nlibavdevice    60.  1.100 / 60.  1.100\r\nlibavfilter     9.  3.100 /  9.  3.100\r\nlibswscale      7.  1.100 /  7.  1.100\r\nlibswresample   4. 10.100 /  4. 10.100\r\nlibpostproc    57.  1.100 / 57.  1.100\r\n```\r\n\r\nPlease keep in mind that I use Java 8 in this project and I hope this issue is reproducible. If you want more info please leave a comment. \r\n","title":"Can&#39;t fix this ffmpeg, NoClassDefFoundError org.bytedeco.ffmpeg.global.avutil","body":"<p>I am trying to get the video duration with this library <code>import org.bytedeco.javacv.FFmpegFrameGrabber;</code></p>\n<p>When I upload this mp4 video (<a href=\"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4\" rel=\"nofollow noreferrer\">https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4</a>), I get this error message:\n<code>java.lang.NoClassDefFoundError: Could not initialize class org.bytedeco.ffmpeg.global.avutil</code></p>\n<p>It will break when trying to get the 'grabber':</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void videoInfo(MultipartFile file) {\n    try (FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(file.getInputStream())) { // on this line it will break :(\n        grabber.start();\n        long durationMs = grabber.getLengthInTime();\n    } catch (FrameGrabber.Exception e) {\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>This is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.9'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.nob234'\nversion = '0.0.1-SNAPSHOT'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.9'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    runtimeOnly 'org.postgresql:postgresql'\n    // for logging\n    implementation 'org.slf4j:slf4j-api:1.7.30'\n    implementation 'org.slf4j:jcl-over-slf4j:1.7.30'\n    implementation 'org.slf4j:log4j-over-slf4j:1.7.30'\n    implementation 'ch.qos.logback:logback-classic:1.2.3'\n    implementation 'org.bytedeco:javacv:1.5.8'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>This is my ffmpeg version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ffmpeg version 6.0-full_build-www.gyan.dev Copyright (c) 2000-2023 the FFmpeg developers\nbuilt with gcc 12.2.0 (Rev10, Built by MSYS2 project)\nconfiguration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint\nlibavutil      58.  2.100 / 58.  2.100\nlibavcodec     60.  3.100 / 60.  3.100\nlibavformat    60.  3.100 / 60.  3.100\nlibavdevice    60.  1.100 / 60.  1.100\nlibavfilter     9.  3.100 /  9.  3.100\nlibswscale      7.  1.100 /  7.  1.100\nlibswresample   4. 10.100 /  4. 10.100\nlibpostproc    57.  1.100 / 57.  1.100\n</code></pre>\n<p>Please keep in mind that I use Java 8 in this project and I hope this issue is reproducible. If you want more info please leave a comment.</p>\n"},{"tags":["java","dll","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1678957128,"post_id":75752572,"comment_id":133634334,"body_markdown":"Does this DLL come with a header file that describes the available functions?","body":"Does this DLL come with a header file that describes the available functions?"}],"answers":[{"tags":[],"owner":{"account_id":15420644,"reputation":53,"user_id":12965498,"display_name":"sabby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678947900,"creation_date":1678947900,"answer_id":75752741,"question_id":75752572,"body_markdown":"You should create your own dll as wrapper over the &quot;C:\\\\Windows\\\\System32\\\\PRx08.dll&quot; as reference to the project. \r\n\r\nThis video will explain how to reference a c# dll into the c++ and call it in java. [JNI - Java to C++ and C#][1]\r\n\r\n\r\n  [1]: https://youtu.be/tI0tFUjeffA\r\n\r\nYou can add reference to any external dll and create a function wrapper to it and call it from java. ","title":"How use function from dll in Java","body":"<p>You should create your own dll as wrapper over the &quot;C:\\Windows\\System32\\PRx08.dll&quot; as reference to the project.</p>\n<p>This video will explain how to reference a c# dll into the c++ and call it in java. <a href=\"https://youtu.be/tI0tFUjeffA\" rel=\"nofollow noreferrer\">JNI - Java to C++ and C#</a></p>\n<p>You can add reference to any external dll and create a function wrapper to it and call it from java.</p>\n"}],"owner":{"account_id":27627439,"reputation":11,"user_id":21087146,"display_name":"PapaG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678947900,"creation_date":1678945879,"question_id":75752572,"body_markdown":"I know how use native function in Java with my own dll, but what to do if it is not my dll?\r\n\r\n\r\n\r\nFor example:\r\n\r\n\r\n```\r\npackage com.example.javaprx08.model;\r\n\r\npublic class PRx08 {\r\n    static {\r\n        try {\r\n            System.load(&quot;C:\\\\Windows\\\\System32\\\\PRx08.dll&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public native short Enumerate();\r\n}\r\n```\r\n\r\nI try to do this:\r\n\r\n```\r\nPRx08 pRx08 = new PRx08();\r\n        pRx08.Enumerate();\r\n```\r\n\r\nbut get: Caused by: java.lang.UnsatisfiedLinkError: &#39;short com.example.javaprx08.model.PRx08.Enumerate()&#39;","title":"How use function from dll in Java","body":"<p>I know how use native function in Java with my own dll, but what to do if it is not my dll?</p>\n<p>For example:</p>\n<pre><code>package com.example.javaprx08.model;\n\npublic class PRx08 {\n    static {\n        try {\n            System.load(&quot;C:\\\\Windows\\\\System32\\\\PRx08.dll&quot;);\n        } catch (UnsatisfiedLinkError e) {\n            System.out.println(e);\n        }\n    }\n\n    public native short Enumerate();\n}\n</code></pre>\n<p>I try to do this:</p>\n<pre><code>PRx08 pRx08 = new PRx08();\n        pRx08.Enumerate();\n</code></pre>\n<p>but get: Caused by: java.lang.UnsatisfiedLinkError: 'short com.example.javaprx08.model.PRx08.Enumerate()'</p>\n"},{"tags":["java","filenotfoundexception"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1678928443,"post_id":75751279,"comment_id":133630064,"body_markdown":"_&quot;I don&#39;t have to specify the file location because it&#39;s in the same directory&quot;_ - Not necessarily true.","body":"<i>&quot;I don&#39;t have to specify the file location because it&#39;s in the same directory&quot;</i> - Not necessarily true."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678928855,"post_id":75751279,"comment_id":133630108,"body_markdown":"Use this line to see which directory you&#39;re actually running in: `System.out.println(new File(&quot;.&quot;).getCanonicalPath());`","body":"Use this line to see which directory you&#39;re actually running in: <code>System.out.println(new File(&quot;.&quot;).getCanonicalPath());</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678929025,"post_id":75751279,"comment_id":133630125,"body_markdown":"Assuming that the file is also included in the same location as your `*.class` files (or within the resulting Jar file), then it is an embedded resource and can&#39;t be referenced as a `File`, instead, you should be using `Class#getResource`.","body":"Assuming that the file is also included in the same location as your <code>*.class</code> files (or within the resulting Jar file), then it is an embedded resource and can&#39;t be referenced as a <code>File</code>, instead, you should be using <code>Class#getResource</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678928386,"creation_date":1678928386,"answer_id":75751319,"question_id":75751279,"body_markdown":"Use `getResourceAsStream` on your main class to get an `InputStream` for the file.\r\n\r\n```java\r\nBufferedReader bf = new BufferedReader(new InputStreamReader(\r\n                        Test.class.getResourceAsStream(&quot;aaa.txt&quot;)));\r\n```","title":"Java FileNotFound Exception error even if I have specified the right path","body":"<p>Use <code>getResourceAsStream</code> on your main class to get an <code>InputStream</code> for the file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader bf = new BufferedReader(new InputStreamReader(\n                        Test.class.getResourceAsStream(&quot;aaa.txt&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120779,"reputation":1725,"user_id":6117625,"accept_rate":71,"display_name":"Dean Coakley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678931564,"creation_date":1678931564,"answer_id":75751528,"question_id":75751279,"body_markdown":"You are almost certainly running from the root of your project. Not from the same directory as your text file.\r\n\r\nAssuming that `aaa.txt` is in a directory called `src` the following snippet should work:\r\n\r\n \r\n\r\n      String baseDirectory;\r\n      try {\r\n        baseDirectory = new File(&quot;./src&quot;).getCanonicalPath();\r\n      } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n      \r\n    \r\n      File myFile = new File(baseDirectory, &quot;aaa.txt&quot;);","title":"Java FileNotFound Exception error even if I have specified the right path","body":"<p>You are almost certainly running from the root of your project. Not from the same directory as your text file.</p>\n<p>Assuming that <code>aaa.txt</code> is in a directory called <code>src</code> the following snippet should work:</p>\n<pre><code>  String baseDirectory;\n  try {\n    baseDirectory = new File(&quot;./src&quot;).getCanonicalPath();\n  } catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n  \n\n  File myFile = new File(baseDirectory, &quot;aaa.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751528,"answer_count":2,"score":0,"last_activity_date":1678947711,"creation_date":1678927790,"question_id":75751279,"body_markdown":"The file can&#39;t be found and I don&#39;t have to specify the file location because it&#39;s in the same directory as the class Test.\r\n\r\nThe code : \r\n\r\n    \r\n\r\n    File myFile = new File(&quot;aaa.txt&quot;);\r\n    \r\n    boolean isExisting = myFile.exists();\r\n    System.out.println(isExisting);\r\n    \r\n    try {\r\n      FileReader f = new FileReader(myFile);\r\n      BufferedReader bf = new BufferedReader(f);\r\n    \r\n      String line = bf.readLine();\r\n    \r\n      while (line != null) {\r\n        System.out.println(line);\r\n        line = bf.readLine();\r\n      }\r\n    \r\n      bf.close();\r\n    \r\n    } catch (FileNotFoundException e) {\r\n      System.out.println(&quot;Can&#39;t find file&quot;);\r\n    \r\n      // e.printStackTrace();\r\n    \r\n    } catch (IOException e) {\r\n      System.out.println(&quot;Error&quot;);\r\n    }\r\n\r\nThe error (if not catched) : \r\n\r\n \r\n    java.io.FileNotFoundException: aaa.txt (The specified file cannot be found)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:75)\r\n\tat Testing/Packageeee.Test.main(Test.java:29)\r\n\r\nThey&#39;re all in the same directory\r\n\r\n[![picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2vFDp.png\r\n","title":"Java FileNotFound Exception error even if I have specified the right path","body":"<p>The file can't be found and I don't have to specify the file location because it's in the same directory as the class Test.</p>\n<p>The code :</p>\n<pre><code>File myFile = new File(&quot;aaa.txt&quot;);\n\nboolean isExisting = myFile.exists();\nSystem.out.println(isExisting);\n\ntry {\n  FileReader f = new FileReader(myFile);\n  BufferedReader bf = new BufferedReader(f);\n\n  String line = bf.readLine();\n\n  while (line != null) {\n    System.out.println(line);\n    line = bf.readLine();\n  }\n\n  bf.close();\n\n} catch (FileNotFoundException e) {\n  System.out.println(&quot;Can't find file&quot;);\n\n  // e.printStackTrace();\n\n} catch (IOException e) {\n  System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n<p>The error (if not catched) :</p>\n<pre><code>java.io.FileNotFoundException: aaa.txt (The specified file cannot be found)\nat java.base/java.io.FileInputStream.open0(Native Method)\nat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\nat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\nat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:75)\nat Testing/Packageeee.Test.main(Test.java:29)\n</code></pre>\n<p>They're all in the same directory</p>\n<p><a href=\"https://i.stack.imgur.com/2vFDp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2vFDp.png\" alt=\"picture\" /></a></p>\n"},{"tags":["java","maven","servlets","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612913103,"post_id":63496047,"comment_id":116914072,"body_markdown":"On a related note: [*Configure Maven pom to access Vaadin 14 alpha/beta pre-release*](https://stackoverflow.com/q/57910701/642706)","body":"On a related note: <a href=\"https://stackoverflow.com/q/57910701/642706\"><i>Configure Maven pom to access Vaadin 14 alpha/beta pre-release</i></a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612998887,"post_id":63496047,"comment_id":116944602,"body_markdown":"For same question but on Vaadin 18/19, see [*Vaadin Flow 18/19 without Spring Boot?*](https://stackoverflow.com/q/66129888/642706)","body":"For same question but on Vaadin 18/19, see <a href=\"https://stackoverflow.com/q/66129888/642706\"><i>Vaadin Flow 18/19 without Spring Boot?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1597927795,"creation_date":1597879964,"answer_id":63496329,"question_id":63496047,"body_markdown":"At least the Maven archetype [`vaadin-archetype-application`](https://mvnrepository.com/artifact/com.vaadin/vaadin-archetype-application) seems to be working for versions up to v16:\r\n\r\n```bash\r\nmvn archetype:generate -DarchetypeGroupId=com.vaadin -DarchetypeArtifactId=vaadin-archetype-application -DarchetypeVersion=LATEST\r\n```\r\n\r\nI should update that tutorial... thanks for the hint on this.","title":"Create a new Vaadin Flow 16/17 project using plain Java Servlets without Spring/CDI","body":"<p>At least the Maven archetype <a href=\"https://mvnrepository.com/artifact/com.vaadin/vaadin-archetype-application\" rel=\"nofollow noreferrer\"><code>vaadin-archetype-application</code></a> seems to be working for versions up to v16:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn archetype:generate -DarchetypeGroupId=com.vaadin -DarchetypeArtifactId=vaadin-archetype-application -DarchetypeVersion=LATEST\n</code></pre>\n<p>I should update that tutorial... thanks for the hint on this.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678947311,"creation_date":1678947311,"answer_id":75752688,"question_id":63496047,"body_markdown":"# *Hello World Starters* page\r\n\r\nSee the [*Hello World Starters*][1] page on the Vaadin.com site. There you will find several starter projects. Some involve Spring, and some do not. \r\n\r\nThose without Spring include:\r\n\r\n - Vaadin – Plain Java (just Servlet, no Spring, no CDI, built by Maven)\r\n - Vaadin – CDI\r\n - Vaadin – Quarkus\r\n - Vaadin – Gradle\r\n\r\nYou will find those across multiple versions of Vaadin. \r\n\r\nSome versions of Vaadin also support:\r\n\r\n - Vaadin – OSGi\r\n - Vaadin – Karaf\r\n\r\n[![screenshot of Hello World Starters offering the downloads mentioned above][2]][2]\r\n\r\n\r\n  [1]: https://vaadin.com/hello-world-starters\r\n  [2]: https://i.stack.imgur.com/kuKrP.jpg","title":"Create a new Vaadin Flow 16/17 project using plain Java Servlets without Spring/CDI","body":"<h1><em>Hello World Starters</em> page</h1>\n<p>See the <a href=\"https://vaadin.com/hello-world-starters\" rel=\"nofollow noreferrer\"><em>Hello World Starters</em></a> page on the Vaadin.com site. There you will find several starter projects. Some involve Spring, and some do not.</p>\n<p>Those without Spring include:</p>\n<ul>\n<li>Vaadin – Plain Java (just Servlet, no Spring, no CDI, built by Maven)</li>\n<li>Vaadin – CDI</li>\n<li>Vaadin – Quarkus</li>\n<li>Vaadin – Gradle</li>\n</ul>\n<p>You will find those across multiple versions of Vaadin.</p>\n<p>Some versions of Vaadin also support:</p>\n<ul>\n<li>Vaadin – OSGi</li>\n<li>Vaadin – Karaf</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/kuKrP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kuKrP.jpg\" alt=\"screenshot of Hello World Starters offering the downloads mentioned above\" /></a></p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63496329,"answer_count":2,"score":0,"last_activity_date":1678947311,"creation_date":1597877871,"question_id":63496047,"body_markdown":"The [starter page][1] for [Vaadin Flow][2] has changed. That page now offers new projects configured only for [Spring Boot][3]. The previous version of this page offered an option for &quot;Plain Java Servlet&quot; as well as Spring/[CDI][4]. \r\n\r\nThe Vaadin documentation suggests using a Maven archetype manually. But the Maven repositories for `com.vaadin…` appear to be aimed at Vaadin 8 and earlier, with none for Vaadin 10 and later.\r\n\r\n\r\nThe [Vaadin page on learning Maven][5] shows an example using `viritin-vaadin-flow-archetype` as an archetype. But [Viritin][6] is a third-party project, and would add libraries I do not presently need.\r\n\r\n➥ Is there an avenue to start a new Vaadin 16 project using only plain Java Servlets to be run on Jetty or Tomcat without Spring/CDI? (or Vaadin 17 pre-release)\r\n\r\nOr has the Vaadin Ltd company decided to support only Spring now? (That would be most unfortunate.)\r\n\r\n\r\n  [1]: https://vaadin.com/start\r\n  [2]: https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow\r\n  [3]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [4]: http://cdi-spec.org\r\n  [5]: https://vaadin.com/learn/tutorials/learning-maven-concepts#_what_is_an_archetype\r\n  [6]: https://vaadin.com/directory/component/viritin","title":"Create a new Vaadin Flow 16/17 project using plain Java Servlets without Spring/CDI","body":"<p>The <a href=\"https://vaadin.com/start\" rel=\"nofollow noreferrer\">starter page</a> for <a href=\"https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow\" rel=\"nofollow noreferrer\">Vaadin Flow</a> has changed. That page now offers new projects configured only for <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a>. The previous version of this page offered an option for &quot;Plain Java Servlet&quot; as well as Spring/<a href=\"http://cdi-spec.org\" rel=\"nofollow noreferrer\">CDI</a>.</p>\n<p>The Vaadin documentation suggests using a Maven archetype manually. But the Maven repositories for <code>com.vaadin…</code> appear to be aimed at Vaadin 8 and earlier, with none for Vaadin 10 and later.</p>\n<p>The <a href=\"https://vaadin.com/learn/tutorials/learning-maven-concepts#_what_is_an_archetype\" rel=\"nofollow noreferrer\">Vaadin page on learning Maven</a> shows an example using <code>viritin-vaadin-flow-archetype</code> as an archetype. But <a href=\"https://vaadin.com/directory/component/viritin\" rel=\"nofollow noreferrer\">Viritin</a> is a third-party project, and would add libraries I do not presently need.</p>\n<p>➥ Is there an avenue to start a new Vaadin 16 project using only plain Java Servlets to be run on Jetty or Tomcat without Spring/CDI? (or Vaadin 17 pre-release)</p>\n<p>Or has the Vaadin Ltd company decided to support only Spring now? (That would be most unfortunate.)</p>\n"},{"tags":["java","arrays","oop","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":2,"creation_date":1678932812,"post_id":75751348,"comment_id":133630554,"body_markdown":"I think you&#39;re going to have to abstract out classes or interfaces to define the common operations that you can apply to your different types.","body":"I think you&#39;re going to have to abstract out classes or interfaces to define the common operations that you can apply to your different types."},{"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"score":0,"creation_date":1678934670,"post_id":75751348,"comment_id":133630776,"body_markdown":"Why do you not just use a List&lt;Object&gt; instead of the Classes? Something like:\n``List&lt;Object&gt; animals = items.stream().map(animal -&gt; Animal.builder().name(animal.getName()).build().toList();`` Or is this to generic for your purpose?","body":"Why do you not just use a List&lt;Object&gt; instead of the Classes? Something like: <code>List&lt;Object&gt; animals = items.stream().map(animal -&gt; Animal.builder().name(animal.getName()).build().toList();</code> Or is this to generic for your purpose?"}],"answers":[{"tags":[],"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678933026,"creation_date":1678933026,"answer_id":75751624,"question_id":75751348,"body_markdown":"`List` type is only contains 1 class such us `List&lt;String&gt;` means the list of Strings. Same as your example, `List&lt;T&gt;` means the list of Ts. \r\n\r\nI can suggest to create a super class `Animal` then add inheritance to `Dog` and `Cat`.\r\n\r\n```\r\npublic class Animal {\r\n    Integer legCount;\r\n    Integer age;\r\n}\r\n\r\npublic class Dog extends Animal {\r\n\r\n    String name;\r\n\r\n    public Dog(String name, int legCount, int age) {\r\n        super(legCount, age);\r\n        this.name = name;\r\n    }\r\n}\r\n\r\npublic class Cat extends Animal {\r\n    String name;\r\n\r\n    public Cat(String name, int legCount, int age) {\r\n        super(legCount, age);\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nadd dog and cat variable into list of animals\r\n```\r\nDog dog1 = new Dog(&quot;Joni&quot;, 4, 2);\r\nCat cat1 = new Cat(&quot;Ron&quot;, 4, 3);\r\n\r\nList&lt;Animal&gt; animals = new ArrayList();\r\nanimals.add(dog1);\r\nanimals.add(cat1);\r\n```\r\n\r\nthen in the foo function become\r\n```\r\nList&lt;Puppy&gt; puppies = new ArrayList();\r\nList&lt;Kitten&gt; kittens = new ArrayList();\r\n\r\npublic void foo(List&lt;Animal&gt; animals) {\r\n    for(animal in animals) {\r\n        if(animals insntanceOf Dog) {\r\n            Puppy puppy = ...\r\n            puppies.add(puppy);\r\n        }\r\n\r\n        if(animals insntanceOf Kitten) {\r\n            Kitten kitten = ...\r\n            kittens.add(kitten);\r\n        }\r\n    }\r\n}\r\n```\r\nDo one loop for all animals","title":"How do I make my method return different types of list base on the input type of list?","body":"<p><code>List</code> type is only contains 1 class such us <code>List&lt;String&gt;</code> means the list of Strings. Same as your example, <code>List&lt;T&gt;</code> means the list of Ts.</p>\n<p>I can suggest to create a super class <code>Animal</code> then add inheritance to <code>Dog</code> and <code>Cat</code>.</p>\n<pre><code>public class Animal {\n    Integer legCount;\n    Integer age;\n}\n\npublic class Dog extends Animal {\n\n    String name;\n\n    public Dog(String name, int legCount, int age) {\n        super(legCount, age);\n        this.name = name;\n    }\n}\n\npublic class Cat extends Animal {\n    String name;\n\n    public Cat(String name, int legCount, int age) {\n        super(legCount, age);\n        this.name = name;\n    }\n}\n</code></pre>\n<p>add dog and cat variable into list of animals</p>\n<pre><code>Dog dog1 = new Dog(&quot;Joni&quot;, 4, 2);\nCat cat1 = new Cat(&quot;Ron&quot;, 4, 3);\n\nList&lt;Animal&gt; animals = new ArrayList();\nanimals.add(dog1);\nanimals.add(cat1);\n</code></pre>\n<p>then in the foo function become</p>\n<pre><code>List&lt;Puppy&gt; puppies = new ArrayList();\nList&lt;Kitten&gt; kittens = new ArrayList();\n\npublic void foo(List&lt;Animal&gt; animals) {\n    for(animal in animals) {\n        if(animals insntanceOf Dog) {\n            Puppy puppy = ...\n            puppies.add(puppy);\n        }\n\n        if(animals insntanceOf Kitten) {\n            Kitten kitten = ...\n            kittens.add(kitten);\n        }\n    }\n}\n</code></pre>\n<p>Do one loop for all animals</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678946893,"creation_date":1678934514,"answer_id":75751713,"question_id":75751348,"body_markdown":"First, we need to ensure that `Cat`, `Dog`, `Kitten` and `Puppy` have a common parent class `Animal`：\r\n\r\n    class Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Dog extends Animal {\r\n        private String name;\r\n        public Dog(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Cat extends Animal {\r\n        private String name;\r\n        public Cat(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Kitten extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Kitten{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    class Puppy extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Puppy{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nThen use generic methods like this：\r\n\r\n    public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\r\n\r\n        return source.stream().map(v -&gt; {\r\n            T t = null;\r\n            try {\r\n                t = target.newInstance();\r\n                t.setName(v.getName());\r\n            } catch (InstantiationException | IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return t;\r\n        }).collect(Collectors.toList());\r\n    }\r\n\r\nSpecify two parameters, the source list `List&lt;R&gt; source`, and the target type `Class&lt;T&gt; target`.\r\n\r\nWe need to constrain the type `T` and type `R`, because inside the method, we need to call the corresponding `setName`, `getName` method, if it is any type, then we cannot be sure that they have `setName`, `getName` method, how to ensure this? \r\nVery simple, if `T` and `R` are required to be subtypes of `Animal`, they can be guaranteed to have `setName` and `getName` methods.So we add constraints to the generic method `&lt;R extends Animal, T extends Animal&gt;`.\r\n\r\nIn the method implementation, we convert each element (R) in the source list to the target type (T).\r\n\r\nIf you add a new type, you only need to add the corresponding type description class.\r\n\r\nThe following is the complete test code, you need to understand and deal with the details of the code yourself:\r\n\r\n    public class StackOverflow {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(){{\r\n                add(new Dog(&quot;dog 1&quot;));\r\n                add(new Dog(&quot;dog 2&quot;));\r\n                add(new Dog(&quot;dog 3&quot;));\r\n                add(new Dog(&quot;dog 4&quot;));\r\n            }};\r\n            List&lt;Cat&gt; cats = new ArrayList&lt;Cat&gt;(){{\r\n                add(new Cat(&quot;cat 1&quot;));\r\n                add(new Cat(&quot;cat 2&quot;));\r\n                add(new Cat(&quot;cat 3&quot;));\r\n            }};\r\n            DogList dogList = new DogList();\r\n            dogList.setDogs(dogs);\r\n            CatList catList = new CatList();\r\n            catList.setCats(cats);\r\n    \r\n            List&lt;Puppy&gt; puppies = foo(dogList.getDogs(), Puppy.class);\r\n            System.out.println(puppies);\r\n    \r\n            List&lt;Kitten&gt; kittens = foo(catList.getCats(), Kitten.class);\r\n            System.out.println(kittens);\r\n        }\r\n    \r\n        public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\r\n    \r\n            return source.stream().map(v -&gt; {\r\n                T t = null;\r\n                try {\r\n                    t = target.newInstance();\r\n                    t.setName(v.getName());\r\n                } catch (InstantiationException | IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return t;\r\n            }).collect(Collectors.toList());\r\n        }\r\n    }\r\n    \r\n    class Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Dog extends Animal {\r\n        private String name;\r\n        public Dog(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Cat extends Animal {\r\n        private String name;\r\n        public Cat(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    class Kitten extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Kitten{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    class Puppy extends Animal {\r\n        private String name;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Puppy{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\n    class DogList {\r\n        private List&lt;Dog&gt; dogs;\r\n    \r\n        public List&lt;Dog&gt; getDogs() {\r\n            return dogs;\r\n        }\r\n        public void setDogs(List&lt;Dog&gt; dogs) {\r\n            this.dogs = dogs;\r\n        }\r\n    }\r\n    \r\n    class CatList {\r\n        public List&lt;Cat&gt; getCats() {\r\n            return cats;\r\n        }\r\n        public void setCats(List&lt;Cat&gt; cats) {\r\n            this.cats = cats;\r\n        }\r\n        private List&lt;Cat&gt; cats;\r\n    }","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>First, we need to ensure that <code>Cat</code>, <code>Dog</code>, <code>Kitten</code> and <code>Puppy</code> have a common parent class <code>Animal</code>：</p>\n<pre><code>class Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Dog extends Animal {\n    private String name;\n    public Dog(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Cat extends Animal {\n    private String name;\n    public Cat(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Kitten extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Kitten{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\nclass Puppy extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Puppy{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Then use generic methods like this：</p>\n<pre><code>public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\n\n    return source.stream().map(v -&gt; {\n        T t = null;\n        try {\n            t = target.newInstance();\n            t.setName(v.getName());\n        } catch (InstantiationException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n        return t;\n    }).collect(Collectors.toList());\n}\n</code></pre>\n<p>Specify two parameters, the source list <code>List&lt;R&gt; source</code>, and the target type <code>Class&lt;T&gt; target</code>.</p>\n<p>We need to constrain the type <code>T</code> and type <code>R</code>, because inside the method, we need to call the corresponding <code>setName</code>, <code>getName</code> method, if it is any type, then we cannot be sure that they have <code>setName</code>, <code>getName</code> method, how to ensure this?\nVery simple, if <code>T</code> and <code>R</code> are required to be subtypes of <code>Animal</code>, they can be guaranteed to have <code>setName</code> and <code>getName</code> methods.So we add constraints to the generic method <code>&lt;R extends Animal, T extends Animal&gt;</code>.</p>\n<p>In the method implementation, we convert each element (R) in the source list to the target type (T).</p>\n<p>If you add a new type, you only need to add the corresponding type description class.</p>\n<p>The following is the complete test code, you need to understand and deal with the details of the code yourself:</p>\n<pre><code>public class StackOverflow {\n\n    public static void main(String[] args) {\n        List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(){{\n            add(new Dog(&quot;dog 1&quot;));\n            add(new Dog(&quot;dog 2&quot;));\n            add(new Dog(&quot;dog 3&quot;));\n            add(new Dog(&quot;dog 4&quot;));\n        }};\n        List&lt;Cat&gt; cats = new ArrayList&lt;Cat&gt;(){{\n            add(new Cat(&quot;cat 1&quot;));\n            add(new Cat(&quot;cat 2&quot;));\n            add(new Cat(&quot;cat 3&quot;));\n        }};\n        DogList dogList = new DogList();\n        dogList.setDogs(dogs);\n        CatList catList = new CatList();\n        catList.setCats(cats);\n\n        List&lt;Puppy&gt; puppies = foo(dogList.getDogs(), Puppy.class);\n        System.out.println(puppies);\n\n        List&lt;Kitten&gt; kittens = foo(catList.getCats(), Kitten.class);\n        System.out.println(kittens);\n    }\n\n    public static &lt;R extends Animal, T extends Animal&gt; List&lt;T&gt; foo(List&lt;R&gt; source, Class&lt;T&gt; target) {\n\n        return source.stream().map(v -&gt; {\n            T t = null;\n            try {\n                t = target.newInstance();\n                t.setName(v.getName());\n            } catch (InstantiationException | IllegalAccessException e) {\n                e.printStackTrace();\n            }\n            return t;\n        }).collect(Collectors.toList());\n    }\n}\n\nclass Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Dog extends Animal {\n    private String name;\n    public Dog(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Cat extends Animal {\n    private String name;\n    public Cat(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\nclass Kitten extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Kitten{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\nclass Puppy extends Animal {\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;Puppy{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n\nclass DogList {\n    private List&lt;Dog&gt; dogs;\n\n    public List&lt;Dog&gt; getDogs() {\n        return dogs;\n    }\n    public void setDogs(List&lt;Dog&gt; dogs) {\n        this.dogs = dogs;\n    }\n}\n\nclass CatList {\n    public List&lt;Cat&gt; getCats() {\n        return cats;\n    }\n    public void setCats(List&lt;Cat&gt; cats) {\n        this.cats = cats;\n    }\n    private List&lt;Cat&gt; cats;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678938926,"creation_date":1678935690,"answer_id":75751787,"question_id":75751348,"body_markdown":"This is one way of doing something similar -- converting a list of a particular animal to a list of its young, in a type safe way.\r\n\r\nIt requires that you designate the type of an animals young as a type parameter when you declare the class:\r\n\r\n```\r\n\r\nimport java.util.List;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Dog&gt; dogs = List.of(new Dog(), new Dog());\r\n        List&lt;Cat&gt; cats = List.of(new Cat(), new Cat());\r\n        List&lt;Puppy&gt; puppies = createYoungList(dogs);\r\n        List&lt;Kitten&gt; kittens = createYoungList(cats);\r\n        //List&lt;Puppy&gt; kittens = createYoung(cats); compilation error\r\n    }\r\n\r\n    static &lt;P extends Animal&lt;Y&gt;,Y&gt; List&lt;Y&gt; createYoungList(List&lt;P&gt; parents) {\r\n        return parents.stream().map(Animal::createYoung).toList();\r\n    }\r\n\r\n}\r\n\r\ninterface Animal&lt;Y&gt; {\r\n    Y createYoung();\r\n}\r\n\r\nclass Puppy {}\r\nclass Kitten {}\r\n\r\nclass Dog implements Animal&lt;Puppy&gt; {\r\n\r\n    @Override\r\n    public Puppy createYoung() {\r\n        return new Puppy();\r\n    }\r\n}\r\n\r\nclass Cat implements Animal&lt;Kitten&gt; {\r\n\r\n    @Override\r\n    public Kitten createYoung() {\r\n        return new Kitten();\r\n    }\r\n}\r\n```\r\n\r\nAdding a new implementation of `Animal` doesn&#39;t require any changes to `createYoungList`.","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>This is one way of doing something similar -- converting a list of a particular animal to a list of its young, in a type safe way.</p>\n<p>It requires that you designate the type of an animals young as a type parameter when you declare the class:</p>\n<pre><code>\nimport java.util.List;\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Dog&gt; dogs = List.of(new Dog(), new Dog());\n        List&lt;Cat&gt; cats = List.of(new Cat(), new Cat());\n        List&lt;Puppy&gt; puppies = createYoungList(dogs);\n        List&lt;Kitten&gt; kittens = createYoungList(cats);\n        //List&lt;Puppy&gt; kittens = createYoung(cats); compilation error\n    }\n\n    static &lt;P extends Animal&lt;Y&gt;,Y&gt; List&lt;Y&gt; createYoungList(List&lt;P&gt; parents) {\n        return parents.stream().map(Animal::createYoung).toList();\n    }\n\n}\n\ninterface Animal&lt;Y&gt; {\n    Y createYoung();\n}\n\nclass Puppy {}\nclass Kitten {}\n\nclass Dog implements Animal&lt;Puppy&gt; {\n\n    @Override\n    public Puppy createYoung() {\n        return new Puppy();\n    }\n}\n\nclass Cat implements Animal&lt;Kitten&gt; {\n\n    @Override\n    public Kitten createYoung() {\n        return new Kitten();\n    }\n}\n</code></pre>\n<p>Adding a new implementation of <code>Animal</code> doesn't require any changes to <code>createYoungList</code>.</p>\n"},{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678937261,"creation_date":1678937261,"answer_id":75751913,"question_id":75751348,"body_markdown":"I tried to replicate your question. Here is one possible solution:\r\n\r\nCreate a `Animal` superclass and declare a map between classes:\r\n```\r\nprivate Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\r\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\r\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class)\r\n);\r\n```\r\n\r\nLooping through map entries to handle the mapping of classes in `foo`:\r\n```\r\nfor(Entry&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; entry : classMap.entrySet()){\r\n    if (items.get(0).getClass() == entry.getKey()) {\r\n        List list = items.stream().map(item -&gt; {\r\n            Animal animal = new Animal();\r\n            try {\r\n                // instantiate animal young\r\n                animal = entry.getValue().getConstructor().newInstance();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            animal.setName(item.getName());\r\n            // mapping values ...\r\n            return animal;\r\n        }).collect(Collectors.toList());\r\n\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\nWhenever you need to add more animal classes, just add them to the classmap:\r\n```\r\nprivate Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\r\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\r\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class),\r\n  new AbstractMap.SimpleEntry(Cow.class, Calf.class)\r\n);\r\n```\r\n\r\nHope it is of some help.","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I tried to replicate your question. Here is one possible solution:</p>\n<p>Create a <code>Animal</code> superclass and declare a map between classes:</p>\n<pre><code>private Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class)\n);\n</code></pre>\n<p>Looping through map entries to handle the mapping of classes in <code>foo</code>:</p>\n<pre><code>for(Entry&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; entry : classMap.entrySet()){\n    if (items.get(0).getClass() == entry.getKey()) {\n        List list = items.stream().map(item -&gt; {\n            Animal animal = new Animal();\n            try {\n                // instantiate animal young\n                animal = entry.getValue().getConstructor().newInstance();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            animal.setName(item.getName());\n            // mapping values ...\n            return animal;\n        }).collect(Collectors.toList());\n\n        return list;\n    }\n}\n</code></pre>\n<p>Whenever you need to add more animal classes, just add them to the classmap:</p>\n<pre><code>private Map&lt;Class&lt;Animal&gt;, Class&lt;Animal&gt;&gt; classMap = Map.ofEntries(\n  new AbstractMap.SimpleEntry(Cat.class, Kitten.class),\n  new AbstractMap.SimpleEntry(Dog.class, Puppy.class),\n  new AbstractMap.SimpleEntry(Cow.class, Calf.class)\n);\n</code></pre>\n<p>Hope it is of some help.</p>\n"},{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678939163,"creation_date":1678939163,"answer_id":75752055,"question_id":75751348,"body_markdown":"I have an idea: register the mapper function by source class first. For a new source class, you only need to register a new mapper function. \r\nOne disadvantage is: there is an explicit Class Cast for getting the target list. I have no idea how to remove it.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Dog&gt; dogs = Arrays.asList(new Dog(&quot;d1&quot;), new Dog(&quot;d2&quot;));\r\n        Map&lt;Class, Function&gt; register = new HashMap();\r\n        register.put(Dog.class, (Function&lt;Dog, Puppy&gt;) dog -&gt; new Puppy(dog.getName()));\r\n        List&lt;Puppy&gt; puppies = (List&lt;Puppy&gt;) dogs.stream().map(register.get(Dog.class)).collect(Collectors.toList());\r\n        System.out.println(&quot;puppies:&quot; + puppies);\r\n    }\r\n}\r\n\r\nclass Dog {\r\n    private String name;\r\n\r\n    public Dog(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\nclass Puppy {\r\n    private String name;\r\n\r\n    public Puppy(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Puppy{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I have an idea: register the mapper function by source class first. For a new source class, you only need to register a new mapper function.\nOne disadvantage is: there is an explicit Class Cast for getting the target list. I have no idea how to remove it.</p>\n<pre><code>import java.util.*;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        List&lt;Dog&gt; dogs = Arrays.asList(new Dog(&quot;d1&quot;), new Dog(&quot;d2&quot;));\n        Map&lt;Class, Function&gt; register = new HashMap();\n        register.put(Dog.class, (Function&lt;Dog, Puppy&gt;) dog -&gt; new Puppy(dog.getName()));\n        List&lt;Puppy&gt; puppies = (List&lt;Puppy&gt;) dogs.stream().map(register.get(Dog.class)).collect(Collectors.toList());\n        System.out.println(&quot;puppies:&quot; + puppies);\n    }\n}\n\nclass Dog {\n    private String name;\n\n    public Dog(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n\nclass Puppy {\n    private String name;\n\n    public Puppy(String name) {\n        this.name = name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Puppy{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678940543,"creation_date":1678940543,"answer_id":75752157,"question_id":75751348,"body_markdown":"I&#39;m not sure what your intention is, but hopefully this will help you get there.\r\n\r\nOne way to return a typed list from a typed method is to pass a *type token*:\r\n\r\n```\r\nprivate List&lt;Object&gt; items;\r\n\r\npublic &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; clazz) {\r\n    List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n    for (Object obj : items) {\r\n        if (clazz.isInstance(obj)) {\r\n            result.add((T)obj);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nThe type is *inferred* when called:\r\n\r\n    List&lt;Dog&gt; dogs = myClass.getAll(Dog.class);\r\n","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I'm not sure what your intention is, but hopefully this will help you get there.</p>\n<p>One way to return a typed list from a typed method is to pass a <em>type token</em>:</p>\n<pre><code>private List&lt;Object&gt; items;\n\npublic &lt;T&gt; List&lt;T&gt; getAll(Class&lt;T&gt; clazz) {\n    List&lt;T&gt; result = new ArrayList&lt;&gt;();\n    for (Object obj : items) {\n        if (clazz.isInstance(obj)) {\n            result.add((T)obj);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>The type is <em>inferred</em> when called:</p>\n<pre><code>List&lt;Dog&gt; dogs = myClass.getAll(Dog.class);\n</code></pre>\n"}],"owner":{"account_id":28027929,"reputation":13,"user_id":21407568,"display_name":"Azn Stride"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75751713,"answer_count":6,"score":1,"last_activity_date":1678946893,"creation_date":1678928918,"question_id":75751348,"body_markdown":"I want to create a mapping from input `List&lt;T&gt;` to output`List&lt;S&gt;`, for the method named `foo(List&lt;T&gt;)`, but in a &quot;smart&quot; way . The way `foo(List&lt;T&gt;)` processes different types of list are very similar in nature since the input list shares the same attributes, but are from different classes.\r\n\r\nMy intention is to reuse as much of the `foo()` implementation with just a minor check of the input type before returning the output.\r\n\r\nOne way to do this is to implement something like the following in `foo`\r\n```\r\nif (items.get(0) instanceOf Cat) {\r\n    List&lt;Kitten&gt; kittens = items.stream().map(cat -&gt; Kitten.builder().name(cat.getName()).build().toList();\r\n    return kittens;\r\n}\r\nif (items.get(0) instanceOf Dog) {\r\n    List&lt;Puppy&gt; puppies = items.stream().map(dog -&gt; Puppy.builder().name(dog.getName()).build().toList();\r\n    return puppies;\r\n}\r\n\r\n```\r\n, but it feels wrong since if I added another type like `Bird` I would have to add another if condition.\r\n\r\n\r\nI suppose that another way to accomplish this if I wanted to have different return types for different types of input is by creating custom classes for a list of a specific type, i.e.\r\n```\r\nclass DogList {\r\n    private List&lt;Dog&gt; dogs;\r\n}\r\n\r\nclass CatList {\r\n    private List&lt;Cat&gt; cats;\r\n}\r\n\r\nclass KittenList {\r\n    private List&lt;Kitten&gt; kittens;\r\n}\r\n\r\nclass PuppyList {\r\n    private List&lt;Puppy&gt; puppies;\r\n}\r\n\r\n// And creating method for each type that&#39;s sth like\r\npublic KittenList foo(CatList cats) {\r\n    List&lt;Kitten&gt; kittens = cats.getCats().stream().map(cat -&gt; \r\n    Kitten.builder().name(cat.getName()).build().toList();\r\n    return kittens;\r\n}\r\npublic PuppyList foo(DogList dogs) {\r\n    List&lt;Puppy&gt; puppies = dogs.getCats().stream().map(cat -&gt; \r\n    Puppy.builder().name(dogs.getName()).build().toList();\r\n    return puppies;\r\n}\r\n```\r\n\r\nBut it feels weird doing it this way since I&#39;m creating custom classes just to wrap a list. I also am duplicating 99% of the implementation of foo.. and the implementation is almost identical here, so I would prefer to reuse the same method..","title":"How do I make my method return different types of list base on the input type of list?","body":"<p>I want to create a mapping from input <code>List&lt;T&gt;</code> to output<code>List&lt;S&gt;</code>, for the method named <code>foo(List&lt;T&gt;)</code>, but in a &quot;smart&quot; way . The way <code>foo(List&lt;T&gt;)</code> processes different types of list are very similar in nature since the input list shares the same attributes, but are from different classes.</p>\n<p>My intention is to reuse as much of the <code>foo()</code> implementation with just a minor check of the input type before returning the output.</p>\n<p>One way to do this is to implement something like the following in <code>foo</code></p>\n<pre><code>if (items.get(0) instanceOf Cat) {\n    List&lt;Kitten&gt; kittens = items.stream().map(cat -&gt; Kitten.builder().name(cat.getName()).build().toList();\n    return kittens;\n}\nif (items.get(0) instanceOf Dog) {\n    List&lt;Puppy&gt; puppies = items.stream().map(dog -&gt; Puppy.builder().name(dog.getName()).build().toList();\n    return puppies;\n}\n\n</code></pre>\n<p>, but it feels wrong since if I added another type like <code>Bird</code> I would have to add another if condition.</p>\n<p>I suppose that another way to accomplish this if I wanted to have different return types for different types of input is by creating custom classes for a list of a specific type, i.e.</p>\n<pre><code>class DogList {\n    private List&lt;Dog&gt; dogs;\n}\n\nclass CatList {\n    private List&lt;Cat&gt; cats;\n}\n\nclass KittenList {\n    private List&lt;Kitten&gt; kittens;\n}\n\nclass PuppyList {\n    private List&lt;Puppy&gt; puppies;\n}\n\n// And creating method for each type that's sth like\npublic KittenList foo(CatList cats) {\n    List&lt;Kitten&gt; kittens = cats.getCats().stream().map(cat -&gt; \n    Kitten.builder().name(cat.getName()).build().toList();\n    return kittens;\n}\npublic PuppyList foo(DogList dogs) {\n    List&lt;Puppy&gt; puppies = dogs.getCats().stream().map(cat -&gt; \n    Puppy.builder().name(dogs.getName()).build().toList();\n    return puppies;\n}\n</code></pre>\n<p>But it feels weird doing it this way since I'm creating custom classes just to wrap a list. I also am duplicating 99% of the implementation of foo.. and the implementation is almost identical here, so I would prefer to reuse the same method..</p>\n"},{"tags":["java","user-interface","actionlistener"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678944293,"post_id":75752350,"comment_id":133631877,"body_markdown":"Please edit your question to add the precise error message.","body":"Please edit your question to add the precise error message."},{"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"score":0,"creation_date":1678945206,"post_id":75752350,"comment_id":133631978,"body_markdown":"error has been added","body":"error has been added"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678945461,"post_id":75752350,"comment_id":133632005,"body_markdown":"`lblNewLabel` is undefined in the context of the `ActionListener`.   You&#39;ve defined two local variables, one constructor and one in `diceLbl` method, but these have nothing to do with each other","body":"<code>lblNewLabel</code> is undefined in the context of the <code>ActionListener</code>.   You&#39;ve defined two local variables, one constructor and one in <code>diceLbl</code> method, but these have nothing to do with each other"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678946192,"creation_date":1678945708,"answer_id":75752549,"question_id":75752350,"body_markdown":"You have...\r\n\r\n    private JLabel diceLbl() {\r\n        JLabel lblNewLabel = new JLabel(&quot;&quot;);\r\n        lblNewLabel.setOpaque(true);\r\n        lblNewLabel.setBackground(new Color(192, 192, 192));\r\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        lblNewLabel.setIcon(dice[randNum]);\r\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        \r\n        return lblNewLabel;\r\n    }\r\n\r\nwhich is interesting, but each time it&#39;s called, it will create a new instance of `JLabel`.\r\n\r\nThen in the constructor, you have...\r\n\r\n    JLabel lblNewLabel = diceLbl();\r\n    contentPane.add(lblNewLabel, BorderLayout.CENTER);\r\n\r\nwhich defines a local variable `lblNewLabel` which adds (the newly created instance) to the frame.\r\n\r\nBut, `lblNewLabel` is undefined within the context of your `ActionListener`.\r\n\r\nStart by creating a instance variable (below the definition of `verifiedNum`)\r\n\r\n    private JLabel lblNewLabel;\r\n\r\nThen modify the `diceLbl` method to only every create a single instance of the `JLabel`, something like...\r\n\r\n        private JLabel diceLbl() {\r\n            if (lblNewLabel == null) {\r\n                lblNewLabel = new JLabel(&quot;&quot;);\r\n                lblNewLabel.setOpaque(true);\r\n                lblNewLabel.setBackground(new Color(192, 192, 192));\r\n                lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n                lblNewLabel.setIcon(dice[randNum]);\r\n                lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n            }\r\n            return lblNewLabel;\r\n        }\r\n\r\n\r\nThen, in your `ActionListener` you can simply do...\r\n\r\n    diceLbl().setIcon(dice[verifiedNum]);","title":"How can I change an image label upon click using actionListener","body":"<p>You have...</p>\n<pre><code>private JLabel diceLbl() {\n    JLabel lblNewLabel = new JLabel(&quot;&quot;);\n    lblNewLabel.setOpaque(true);\n    lblNewLabel.setBackground(new Color(192, 192, 192));\n    lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    lblNewLabel.setIcon(dice[randNum]);\n    lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    \n    return lblNewLabel;\n}\n</code></pre>\n<p>which is interesting, but each time it's called, it will create a new instance of <code>JLabel</code>.</p>\n<p>Then in the constructor, you have...</p>\n<pre><code>JLabel lblNewLabel = diceLbl();\ncontentPane.add(lblNewLabel, BorderLayout.CENTER);\n</code></pre>\n<p>which defines a local variable <code>lblNewLabel</code> which adds (the newly created instance) to the frame.</p>\n<p>But, <code>lblNewLabel</code> is undefined within the context of your <code>ActionListener</code>.</p>\n<p>Start by creating a instance variable (below the definition of <code>verifiedNum</code>)</p>\n<pre><code>private JLabel lblNewLabel;\n</code></pre>\n<p>Then modify the <code>diceLbl</code> method to only every create a single instance of the <code>JLabel</code>, something like...</p>\n<pre><code>    private JLabel diceLbl() {\n        if (lblNewLabel == null) {\n            lblNewLabel = new JLabel(&quot;&quot;);\n            lblNewLabel.setOpaque(true);\n            lblNewLabel.setBackground(new Color(192, 192, 192));\n            lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n            lblNewLabel.setIcon(dice[randNum]);\n            lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        }\n        return lblNewLabel;\n    }\n</code></pre>\n<p>Then, in your <code>ActionListener</code> you can simply do...</p>\n<pre><code>diceLbl().setIcon(dice[verifiedNum]);\n</code></pre>\n"}],"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75752549,"answer_count":1,"score":0,"last_activity_date":1678946192,"creation_date":1678943179,"question_id":75752350,"body_markdown":"I am trying to create a simple dice GUI where a random image of a dice value will appear on click, without the same value appearing twice in a row. I am to the point where I need to define the code in the actionListener, but upon clicking, the images do not change. The line of code that should cause the images to change is `lblNewLabel.setIcon(dice[verifiedNum])` in the `defineBtn` method but I get the error that it cannot be resolved to a type. My question is: what changes do I need to make in order to get the JLabel to change images randomly without repeating the same image? The error I get is Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved compilation problem: \r\n\tlblNewLabel cannot be resolved.\r\n\r\n\r\n```\r\n\r\npublic class LabGuiDice extends JFrame {\r\n\t\r\n\tfinal ImageIcon image1 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-1.png&quot;));\r\n\r\n\tfinal ImageIcon image2 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-2.png&quot;));\r\n\r\n\tfinal ImageIcon image3 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-3.png&quot;));\r\n\r\n\tfinal ImageIcon image4 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-4.png&quot;));\r\n\r\n\tfinal ImageIcon image5 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-5.png&quot;));\r\n\r\n\tfinal ImageIcon image6 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-6.png&quot;));\r\n\r\n\tfinal JPanel contentPane;\r\n\r\n\tfinal ImageIcon[] dice = { image1, image2, image3, image4, image5, image6 };\r\n\r\n\t\r\n\r\n\tfinal Random rand = new Random();\r\n\r\n\tint randNum = rand.nextInt(6);\r\n\r\n\tint verifiedNum = 0;\r\n\r\n\t\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tLabGuiDice frame = new LabGuiDice();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic LabGuiDice() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(new BorderLayout(0, 0));\r\n\t\t\r\n\t\tJButton btnNewButton = defineBtn();\r\n\t\tcontentPane.add(btnNewButton, BorderLayout.SOUTH);\r\n\t\t\r\n\t\tJLabel lblNewLabel = diceLbl();\r\n\t\tcontentPane.add(lblNewLabel, BorderLayout.CENTER);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate JButton defineBtn() {\r\n\t\tJButton btnNewButton = new JButton(&quot;Roll &#39;Em&quot;);\r\n\t\tbtnNewButton.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\t\tbtnNewButton.setAlignmentY(Component.TOP_ALIGNMENT);\r\n\t\tbtnNewButton.setFont(new Font(&quot;Javanese Text&quot;, Font.PLAIN, 15));\r\n\t\tbtnNewButton.setBackground(new Color(178, 172, 136));\r\n\t\tbtnNewButton.setForeground(new Color(255, 255, 255));\r\n\t\tbtnNewButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) { \r\n\t\t\tdo{randNum = rand.nextInt(6);} \r\n\t\t\twhile (randNum == verifiedNum);\r\n\t\t\tverifiedNum = randNum;\r\n\t\t\tlblNewLabel.setIcon(dice[verifiedNum]);\r\n\t\t\t\r\n\t\t\t}});\r\n\t\treturn btnNewButton;\r\n\t}\r\n\r\n\t\r\n\r\n\tprivate JLabel diceLbl() {\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;&quot;);\r\n\t\tlblNewLabel.setOpaque(true);\r\n\t\tlblNewLabel.setBackground(new Color(192, 192, 192));\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setIcon(dice[randNum]);\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\t\r\n\t\treturn lblNewLabel;\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nWhen I tried to place `lblNewLabel.setIcon(dice[verifiedNum])` inside of the `diceLbl` method the image still does not change upon click.","title":"How can I change an image label upon click using actionListener","body":"<p>I am trying to create a simple dice GUI where a random image of a dice value will appear on click, without the same value appearing twice in a row. I am to the point where I need to define the code in the actionListener, but upon clicking, the images do not change. The line of code that should cause the images to change is <code>lblNewLabel.setIcon(dice[verifiedNum])</code> in the <code>defineBtn</code> method but I get the error that it cannot be resolved to a type. My question is: what changes do I need to make in order to get the JLabel to change images randomly without repeating the same image? The error I get is Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved compilation problem:\nlblNewLabel cannot be resolved.</p>\n<pre><code>\npublic class LabGuiDice extends JFrame {\n    \n    final ImageIcon image1 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-1.png&quot;));\n\n    final ImageIcon image2 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-2.png&quot;));\n\n    final ImageIcon image3 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-3.png&quot;));\n\n    final ImageIcon image4 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-4.png&quot;));\n\n    final ImageIcon image5 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-5.png&quot;));\n\n    final ImageIcon image6 = new ImageIcon(LabGuiDice.class.getResource(&quot;/guiDice/img/die-6.png&quot;));\n\n    final JPanel contentPane;\n\n    final ImageIcon[] dice = { image1, image2, image3, image4, image5, image6 };\n\n    \n\n    final Random rand = new Random();\n\n    int randNum = rand.nextInt(6);\n\n    int verifiedNum = 0;\n\n    \n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    LabGuiDice frame = new LabGuiDice();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        \n    }\n        \n    /**\n     * Create the frame.\n     */\n    public LabGuiDice() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        setContentPane(contentPane);\n        contentPane.setLayout(new BorderLayout(0, 0));\n        \n        JButton btnNewButton = defineBtn();\n        contentPane.add(btnNewButton, BorderLayout.SOUTH);\n        \n        JLabel lblNewLabel = diceLbl();\n        contentPane.add(lblNewLabel, BorderLayout.CENTER);\n        \n        \n        \n    }\n    \n    private JButton defineBtn() {\n        JButton btnNewButton = new JButton(&quot;Roll 'Em&quot;);\n        btnNewButton.setAlignmentX(Component.CENTER_ALIGNMENT);\n        btnNewButton.setAlignmentY(Component.TOP_ALIGNMENT);\n        btnNewButton.setFont(new Font(&quot;Javanese Text&quot;, Font.PLAIN, 15));\n        btnNewButton.setBackground(new Color(178, 172, 136));\n        btnNewButton.setForeground(new Color(255, 255, 255));\n        btnNewButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) { \n            do{randNum = rand.nextInt(6);} \n            while (randNum == verifiedNum);\n            verifiedNum = randNum;\n            lblNewLabel.setIcon(dice[verifiedNum]);\n            \n            }});\n        return btnNewButton;\n    }\n\n    \n\n    private JLabel diceLbl() {\n        JLabel lblNewLabel = new JLabel(&quot;&quot;);\n        lblNewLabel.setOpaque(true);\n        lblNewLabel.setBackground(new Color(192, 192, 192));\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel.setIcon(dice[randNum]);\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        \n        return lblNewLabel;\n    }\n\n    \n}\n\n\n</code></pre>\n<p>When I tried to place <code>lblNewLabel.setIcon(dice[verifiedNum])</code> inside of the <code>diceLbl</code> method the image still does not change upon click.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678946006,"post_id":75752561,"comment_id":133632069,"body_markdown":"What does &quot;not working&quot; mean exactly?","body":"What does &quot;not working&quot; mean exactly?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678946149,"post_id":75752561,"comment_id":133632085,"body_markdown":"You don&#39;t need to close a Scanner reading from System.in, so you can ignore the warning.","body":"You don&#39;t need to close a Scanner reading from System.in, so you can ignore the warning."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678952646,"post_id":75752561,"comment_id":133633219,"body_markdown":"What &quot;error&quot;, at best this is a warning from some static analyzer (though, I admit, some can be configured to raise it as an error).","body":"What &quot;error&quot;, at best this is a warning from some static analyzer (though, I admit, some can be configured to raise it as an error)."}],"owner":{"account_id":28029468,"reputation":1,"user_id":21408889,"display_name":"Vicky Rana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678952725,"answer_count":0,"score":0,"last_activity_date":1678945807,"creation_date":1678945807,"question_id":75752561,"body_markdown":"\r\n```\r\nimport java.util.*;\r\nclass smallestelement{\r\n    public static void main(String k[]){\r\n        Scanner input=new Scanner(System.in);\r\n        System.out.println(&quot;Enter the size of array&quot;);\r\n        int i,a=input.nextInt(),arr[]=new int[a];\r\n        for(i=0;i&lt;a;i++)\r\n            arr[i]=input.nextInt();\r\n        input.close();\r\n        System.out.println(Arrays.toString(arr));\r\n        Arrays.sort(arr,0,a);\r\n        System.out.println(arr[0]);\r\n    }\r\n    \r\n}`\r\n```\r\n\r\n\r\nAfter Using input.close() Resource needs to be close But its not working ","title":"Resource Leak never closed, after using close() also same error is displaying","body":"<pre><code>import java.util.*;\nclass smallestelement{\n    public static void main(String k[]){\n        Scanner input=new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        int i,a=input.nextInt(),arr[]=new int[a];\n        for(i=0;i&lt;a;i++)\n            arr[i]=input.nextInt();\n        input.close();\n        System.out.println(Arrays.toString(arr));\n        Arrays.sort(arr,0,a);\n        System.out.println(arr[0]);\n    }\n    \n}`\n</code></pre>\n<p>After Using input.close() Resource needs to be close But its not working</p>\n"},{"tags":["java","android","react-native","mobile"],"owner":{"account_id":19947533,"reputation":23,"user_id":14617869,"display_name":"Андриан Цой"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678945714,"creation_date":1678945714,"question_id":75752550,"body_markdown":"please help me to solve the problem.\r\nI have two activities MainActivity and CustomActivity.\r\nCustom activity is a fullScreen notification activity (has the property to be shown on the locked screen)\r\n1. When the application is completely closed and the screen is locked with incoming fcm\r\nthe CustomActivity is launched.\r\n2. After closing the CustomActivity and unlocking the screen, I launch the application from the Launched Applications List (not from app Icon).\r\n3. To start MainActivity and not CustomActivity, i added the code to CustomActivity in the onResume method.\r\n\r\n```\r\n// CustomActivity.java\r\n\r\n@Override\r\n  protected void onResume() {\r\n    if ((getIntent().getFlags() &amp; Intent.FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY) != 0) {\r\n      Intent intent = new Intent(this, MainActivity.class);\r\n      startActivity(intent);\r\n    }\r\n    super.onResume();\r\n}\r\n```\r\n\r\n4. After the MainActivity has started, I lock the screen.\r\n5. When fcm comes CustomActivity should be displayed again but this does not happen.\r\nCan you suggest what is the problem?","title":"Android Fullscreen Notification","body":"<p>please help me to solve the problem.\nI have two activities MainActivity and CustomActivity.\nCustom activity is a fullScreen notification activity (has the property to be shown on the locked screen)</p>\n<ol>\n<li>When the application is completely closed and the screen is locked with incoming fcm\nthe CustomActivity is launched.</li>\n<li>After closing the CustomActivity and unlocking the screen, I launch the application from the Launched Applications List (not from app Icon).</li>\n<li>To start MainActivity and not CustomActivity, i added the code to CustomActivity in the onResume method.</li>\n</ol>\n<pre><code>// CustomActivity.java\n\n@Override\n  protected void onResume() {\n    if ((getIntent().getFlags() &amp; Intent.FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY) != 0) {\n      Intent intent = new Intent(this, MainActivity.class);\n      startActivity(intent);\n    }\n    super.onResume();\n}\n</code></pre>\n<ol start=\"4\">\n<li>After the MainActivity has started, I lock the screen.</li>\n<li>When fcm comes CustomActivity should be displayed again but this does not happen.\nCan you suggest what is the problem?</li>\n</ol>\n"},{"tags":["java","android","gridview"],"answers":[{"tags":[],"owner":{"account_id":231428,"reputation":18107,"user_id":495663,"accept_rate":60,"display_name":"Alex Orlov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392216390,"creation_date":1392216390,"answer_id":21731177,"question_id":21730934,"body_markdown":"getChildAt() returns the child view of a your GridView. Children views positions and your data positions are not the same, because AdapterViews recycle and reuse child views. That way, you can have 100 items of your data in adapter and only 7 child views in gridview.\r\n\r\nThis is fundamental and you should watch google IO video about listview (the stuff they describe there is mostly for all AdapterViews)\r\n\r\nhttp://www.youtube.com/watch?v=wDBM6wVEO70","title":"Android GridView get child item don&#39;t work","body":"<p>getChildAt() returns the child view of a your GridView. Children views positions and your data positions are not the same, because AdapterViews recycle and reuse child views. That way, you can have 100 items of your data in adapter and only 7 child views in gridview.</p>\n\n<p>This is fundamental and you should watch google IO video about listview (the stuff they describe there is mostly for all AdapterViews)</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=wDBM6wVEO70\" rel=\"nofollow\">http://www.youtube.com/watch?v=wDBM6wVEO70</a></p>\n"},{"tags":[],"owner":{"account_id":19082033,"reputation":11,"user_id":13934046,"display_name":"Sankar_Ayachitula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678945235,"creation_date":1678945235,"answer_id":75752517,"question_id":21730934,"body_markdown":"I am getting getChildCount() as 0 and getChildItem(i) as null in all fragment callback methods. But when I am setting a listener on grid view(i.e onSetItemClickListener()), I am getting the child item or getChildrenCount as non-null. \r\n\r\nIf you want a child item/items to be default, then write code in the grid view adapter(implement Base Adapter) when getting the view (from getView()). You can use Viewmodel or Interfaces for communications(passing data).\r\n\r\n ","title":"Android GridView get child item don&#39;t work","body":"<p>I am getting getChildCount() as 0 and getChildItem(i) as null in all fragment callback methods. But when I am setting a listener on grid view(i.e onSetItemClickListener()), I am getting the child item or getChildrenCount as non-null.</p>\n<p>If you want a child item/items to be default, then write code in the grid view adapter(implement Base Adapter) when getting the view (from getView()). You can use Viewmodel or Interfaces for communications(passing data).</p>\n"}],"owner":{"account_id":373727,"reputation":1208,"user_id":723549,"accept_rate":40,"display_name":"gladman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678945235,"creation_date":1392215782,"question_id":21730934,"body_markdown":"I want to get GridView child item, I use code below, but it doesn&#39;t work.\r\n\r\n\t\tmAppGridAdapter = new gridadapter(mContext, appPackageInfos);\r\n\t\tmAppManaGridView.setAdapter(mAppGridAdapter);\r\n\r\n\t\tif(mAppManaGridView.getCount()&gt;0)\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tmAppManaGridView.setSelection(0);\r\n\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + mAppManaGridView.getCount());\r\n\t\t\tLog.d(&quot;adan&quot;, mAppManaGridView.getFirstVisiblePosition()  +  &quot;,  &quot;  +mAppManaGridView.getLastVisiblePosition());\r\n\t\t\tfor(int visiblePosition = mAppManaGridView.getFirstVisiblePosition(); visiblePosition &lt;= mAppManaGridView.getLastVisiblePosition(); visiblePosition++) {\r\n\t\t\t\tView item = mAppManaGridView.getChildAt(visiblePosition);\r\n\t\t\t\t// make something\r\n\t\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + item.getWidth()+&quot;,&quot;  +item.getHeight() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\nthe debug log message shown, that it can get the child count, but it can&#39;t get any child item of the GridView:\r\n\r\n    D/adan    (11457): adan&gt;165\r\n    D/adan    (11457): 0,  -1\r\n\r\n\r\nI also tried this code, but the return item is null, it crashed with nullPointerException.\r\n\r\n\t\tif(mAppManaGridView.getCount()&gt;0)\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tmAppManaGridView.setSelection(0);\r\n\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + mAppManaGridView.getCount());\r\n\t\t\tView item = mAppManaGridView.getChildAt(0);\r\n\t\t\t// make something\r\n\t\t\tLog.d(&quot;adan&quot;, &quot;adan&gt;&quot; + item.getWidth()+&quot;,&quot;  +item.getHeight() );\r\n\t\t}\r\ncan you help me to solve this problem? It troubled me a lot.","title":"Android GridView get child item don&#39;t work","body":"<p>I want to get GridView child item, I use code below, but it doesn't work.</p>\n\n<pre><code>    mAppGridAdapter = new gridadapter(mContext, appPackageInfos);\n    mAppManaGridView.setAdapter(mAppGridAdapter);\n\n    if(mAppManaGridView.getCount()&gt;0)\n    {                                                                       \n        mAppManaGridView.setSelection(0);\n        Log.d(\"adan\", \"adan&gt;\" + mAppManaGridView.getCount());\n        Log.d(\"adan\", mAppManaGridView.getFirstVisiblePosition()  +  \",  \"  +mAppManaGridView.getLastVisiblePosition());\n        for(int visiblePosition = mAppManaGridView.getFirstVisiblePosition(); visiblePosition &lt;= mAppManaGridView.getLastVisiblePosition(); visiblePosition++) {\n            View item = mAppManaGridView.getChildAt(visiblePosition);\n            // make something\n            Log.d(\"adan\", \"adan&gt;\" + item.getWidth()+\",\"  +item.getHeight() );\n\n        }\n\n    }\n</code></pre>\n\n<p>the debug log message shown, that it can get the child count, but it can't get any child item of the GridView:</p>\n\n<pre><code>D/adan    (11457): adan&gt;165\nD/adan    (11457): 0,  -1\n</code></pre>\n\n<p>I also tried this code, but the return item is null, it crashed with nullPointerException.</p>\n\n<pre><code>    if(mAppManaGridView.getCount()&gt;0)\n    {                                                                       \n        mAppManaGridView.setSelection(0);\n        Log.d(\"adan\", \"adan&gt;\" + mAppManaGridView.getCount());\n        View item = mAppManaGridView.getChildAt(0);\n        // make something\n        Log.d(\"adan\", \"adan&gt;\" + item.getWidth()+\",\"  +item.getHeight() );\n    }\n</code></pre>\n\n<p>can you help me to solve this problem? It troubled me a lot.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678939390,"post_id":75752056,"comment_id":133631300,"body_markdown":"Could you explain what this code is supposed to do?","body":"Could you explain what this code is supposed to do?"},{"owner":{"account_id":28028896,"reputation":1,"user_id":21408398,"display_name":"Tranquillitatis"},"score":0,"creation_date":1678939457,"post_id":75752056,"comment_id":133631307,"body_markdown":"This code writes a 3x3 2d array whose sums of rows and columns results to 15","body":"This code writes a 3x3 2d array whose sums of rows and columns results to 15"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678939504,"post_id":75752056,"comment_id":133631313,"body_markdown":"The range of an array&#39;s indices is `0..size-1`. Your array&#39;s size is `i,j` and you try to use `i` and `j` as indices.","body":"The range of an array&#39;s indices is <code>0..size-1</code>. Your array&#39;s size is <code>i,j</code> and you try to use <code>i</code> and <code>j</code> as indices."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1678939547,"post_id":75752056,"comment_id":133631314,"body_markdown":"`new int[i][j]` is equivalent to `new int[0][j]` here. That shouldn&#39;t be what you want.","body":"<code>new int[i][j]</code> is equivalent to <code>new int[0][j]</code> here. That shouldn&#39;t be what you want."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678940518,"post_id":75752056,"comment_id":133631444,"body_markdown":"Because `i` is zero when this line of code is executed: `int[][] magicSquare = new int[i][j];` it means that the array `magicSquare` has zero rows. It seems that `i` should be greater than zero.","body":"Because <code>i</code> is zero when this line of code is executed: <code>int[][] magicSquare = new int[i][j];</code> it means that the array <code>magicSquare</code> has zero rows. It seems that <code>i</code> should be greater than zero."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678945026,"creation_date":1678945026,"answer_id":75752498,"question_id":75752056,"body_markdown":"Initialize the array like this:\r\n\r\n    int[][] magicSquare = new int[n][];\r\n\r\nAnd initialize each row:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        magicSquare[i] = new int[n];\r\n    }\r\n\r\n\r\n\r\n","title":"Magic Square java array index out of bounds exception can someone please enlighten me why there&#39;s an error in my code","body":"<p>Initialize the array like this:</p>\n<pre><code>int[][] magicSquare = new int[n][];\n</code></pre>\n<p>And initialize each row:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    magicSquare[i] = new int[n];\n}\n</code></pre>\n"}],"owner":{"account_id":28028896,"reputation":1,"user_id":21408398,"display_name":"Tranquillitatis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678945026,"creation_date":1678939186,"question_id":75752056,"body_markdown":"I don&#39;t know why this code results to an error I already tried visualizing the inputs and my observations doesn&#39;t result to an error but for some reason this code throws `ArrayIndexOutOfBoundsException`. I&#39;m gonna need a fresh pair of eyes in this community. Please help me.\r\n```java\r\nimport java.util.*;\r\n\r\npublic class MagicSquare {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter a number: &quot;);\r\n\t\tint n = sc.nextInt();\r\n\t\tint i = 0;\r\n\t\tint j = n / 2;\r\n\t\tint[][] magicSquare = new int[i][j];\r\n\t\tfor (int num = 1; num &lt;= n * n;) {\r\n\t\t\tif (i &lt; 0 &amp;&amp; j &lt; 0) {\r\n\t\t\t\ti = n - 2;\r\n\t\t\t\tj = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (j &lt; 0) {\r\n\t\t\t\t\tj = j - 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (i &lt; 0) {\r\n\t\t\t\t\ti = n - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (magicSquare[i][j] != 0) { // ArrayIndexOutOfBoundsException on this line\r\n\t\t\t\tj = j + 1;\r\n\t\t\t\ti = n - 1;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmagicSquare[i][j] = num;\r\n\t\t\t\tnum = num + 1;\r\n\t\t\t}\r\n\t\t\ti = i - 1;\r\n\t\t\tj = j - 1;\r\n\t\t}\r\n\t\tfor (i = 0; i &lt;= magicSquare.length; i++) {\r\n\t\t\tfor (j = 0; j &lt;= magicSquare[i].length; j++) {\r\n\t\t\t\tSystem.out.print(magicSquare[i][j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSample run:\r\n```none\r\nEnter a number: 3\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat baseproj/baseproj.MagicSquare.main(MagicSquare.java:31)\r\n```\r\n\r\n\r\nI&#39;ve tried arranging the inputs on a piece of paper and it still won&#39;t work","title":"Magic Square java array index out of bounds exception can someone please enlighten me why there&#39;s an error in my code","body":"<p>I don't know why this code results to an error I already tried visualizing the inputs and my observations doesn't result to an error but for some reason this code throws <code>ArrayIndexOutOfBoundsException</code>. I'm gonna need a fresh pair of eyes in this community. Please help me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class MagicSquare {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter a number: &quot;);\n        int n = sc.nextInt();\n        int i = 0;\n        int j = n / 2;\n        int[][] magicSquare = new int[i][j];\n        for (int num = 1; num &lt;= n * n;) {\n            if (i &lt; 0 &amp;&amp; j &lt; 0) {\n                i = n - 2;\n                j = 0;\n            }\n            else {\n                if (j &lt; 0) {\n                    j = j - 1;\n                }\n                if (i &lt; 0) {\n                    i = n - 1;\n                }\n            }\n            if (magicSquare[i][j] != 0) { // ArrayIndexOutOfBoundsException on this line\n                j = j + 1;\n                i = n - 1;\n                continue;\n            }\n            else {\n                magicSquare[i][j] = num;\n                num = num + 1;\n            }\n            i = i - 1;\n            j = j - 1;\n        }\n        for (i = 0; i &lt;= magicSquare.length; i++) {\n            for (j = 0; j &lt;= magicSquare[i].length; j++) {\n                System.out.print(magicSquare[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter a number: 3\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at baseproj/baseproj.MagicSquare.main(MagicSquare.java:31)\n</code></pre>\n<p>I've tried arranging the inputs on a piece of paper and it still won't work</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678944167,"creation_date":1678944167,"answer_id":75752427,"question_id":75750167,"body_markdown":"    OkHttpClient client = new OkHttpClient.Builder()\r\n      .certificatePinner(new CertificatePinner.Builder()\r\n        .add(&quot;my_url&quot;, &quot;sha256/#&quot;) // replace with actual pin\r\n        .build())\r\n      .build();\r\n\r\nThe real values for your certificate should be used in instead of **my_url** and **#**. ","title":"How to add custom cert path to okhttp?","body":"<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n  .certificatePinner(new CertificatePinner.Builder()\n    .add(&quot;my_url&quot;, &quot;sha256/#&quot;) // replace with actual pin\n    .build())\n  .build();\n</code></pre>\n<p>The real values for your certificate should be used in instead of <strong>my_url</strong> and <strong>#</strong>.</p>\n"}],"owner":{"account_id":24939850,"reputation":253,"user_id":18805881,"display_name":"olaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678944167,"creation_date":1678915125,"question_id":75750167,"body_markdown":"For example if my cert is in \r\n\r\n    /etc/lipki/ca-bundle.crt\r\n\r\nHow do I set the cert path in okhttp?\r\n\r\n\r\nIn python request I can do something like this \r\n\r\n            response = post(\r\n                &quot;my_url&quot;\r\n                data={\r\n                },\r\n                auth=(&quot;my_basic_username&quot;, &quot;my_basic_password&quot;),\r\n                verify=&quot;/etc/lipki/ca-bundle.crt&quot;\r\n            )","title":"How to add custom cert path to okhttp?","body":"<p>For example if my cert is in</p>\n<pre><code>/etc/lipki/ca-bundle.crt\n</code></pre>\n<p>How do I set the cert path in okhttp?</p>\n<p>In python request I can do something like this</p>\n<pre><code>        response = post(\n            &quot;my_url&quot;\n            data={\n            },\n            auth=(&quot;my_basic_username&quot;, &quot;my_basic_password&quot;),\n            verify=&quot;/etc/lipki/ca-bundle.crt&quot;\n        )\n</code></pre>\n"},{"tags":["java","spring","spring-boot","access-denied"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1678944003,"post_id":75752379,"comment_id":133631844,"body_markdown":"Does this answer your question? [Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder](https://stackoverflow.com/questions/28670576/getting-java-nio-file-accessdeniedexception-when-trying-to-write-to-a-folder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28670576/getting-java-nio-file-accessdeniedexception-when-trying-to-write-to-a-folder\">Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678944133,"post_id":75752379,"comment_id":133631859,"body_markdown":"Your `fileResource` is an entire directory -- I think you&#39;re intending to read a single file.","body":"Your <code>fileResource</code> is an entire directory -- I think you&#39;re intending to read a single file."}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678944165,"creation_date":1678943577,"question_id":75752379,"body_markdown":"I am trying to download file from spring boot resource folder. is its giving error as\r\n\r\n    java.nio.file.AccessDeniedException: src\\main\\resources\\generatedFiles \r\n\r\n**Download file location.** \r\n\r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fc1SA.png\r\n\r\n**Downloading Code**\r\n\r\n    FileSystemResource fileResource = new FileSystemResource(&quot;src/main/resources/generatedFiles/&quot;);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    headers.setContentDisposition(ContentDisposition.attachment().filename(&quot;convertedCollection.feature&quot;).build());\r\n    headers.setContentLength(((FileSystemResource)fileResource).contentLength());\r\n    return ResponseEntity.ok().headers(headers).body(fileResource);","title":"java.nio.file.AccessDeniedException In Spring boot","body":"<p>I am trying to download file from spring boot resource folder. is its giving error as</p>\n<pre><code>java.nio.file.AccessDeniedException: src\\main\\resources\\generatedFiles \n</code></pre>\n<p><strong>Download file location.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/fc1SA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fc1SA.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Downloading Code</strong></p>\n<pre><code>FileSystemResource fileResource = new FileSystemResource(&quot;src/main/resources/generatedFiles/&quot;);\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\nheaders.setContentDisposition(ContentDisposition.attachment().filename(&quot;convertedCollection.feature&quot;).build());\nheaders.setContentLength(((FileSystemResource)fileResource).contentLength());\nreturn ResponseEntity.ok().headers(headers).body(fileResource);\n</code></pre>\n"},{"tags":["java","html","rest"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1551249590,"post_id":54899375,"comment_id":96566746,"body_markdown":"List&lt;String&gt; is ok if the values you are going to get are just strings. If you need more data related to the string use custom object. If you have to retrieve the value from the DB use like match then return result into list then give it to API end. And I prefer the 3rd party libraries to perform the search or sort(like lucene or elastic)","body":"List&lt;String&gt; is ok if the values you are going to get are just strings. If you need more data related to the string use custom object. If you have to retrieve the value from the DB use like match then return result into list then give it to API end. And I prefer the 3rd party libraries to perform the search or sort(like lucene or elastic)"},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1551250131,"post_id":54899375,"comment_id":96566969,"body_markdown":"The question is &quot;how do I get those Strings&quot;?","body":"The question is &quot;how do I get those Strings&quot;?"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1551251140,"post_id":54899375,"comment_id":96567374,"body_markdown":"Just call the your endpoint using http get.","body":"Just call the your endpoint using http get."},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1551251426,"post_id":54899375,"comment_id":96567477,"body_markdown":"This comment doesn&#39;t help at all -  I know I need to call using HTTP, maybe I don&#39;t know which API to call and process?","body":"This comment doesn&#39;t help at all -  I know I need to call using HTTP, maybe I don&#39;t know which API to call and process?"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1551259880,"post_id":54899375,"comment_id":96571458,"body_markdown":"Now I got the question edit it so that everyone can understand https://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html","body":"Now I got the question edit it so that everyone can understand <a href=\"https://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSECommerceService/latest/DG/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551252921,"creation_date":1551252921,"answer_id":54900255,"question_id":54899375,"body_markdown":"I think I find what I was looking for. Amazon offers -next to their affiliate API- a web service which can be used to get their autocomplete information. It can be utilized by calling an URL in the style of:\r\n\r\n\r\n\r\n    http://completion.amazon.com/search/complete?search-alias=aps&amp;client=amazon-search-ui&amp;mkt=1&amp;q=samsung","title":"Find the auto-complete Strings","body":"<p>I think I find what I was looking for. Amazon offers -next to their affiliate API- a web service which can be used to get their autocomplete information. It can be utilized by calling an URL in the style of:</p>\n\n<pre><code>http://completion.amazon.com/search/complete?search-alias=aps&amp;client=amazon-search-ui&amp;mkt=1&amp;q=samsung\n</code></pre>\n"}],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54900255,"answer_count":1,"score":0,"last_activity_date":1678943711,"creation_date":1551249117,"question_id":54899375,"body_markdown":"When you type a keyword word in the Amazon search box, you will get 10 auto-complete suggestions from a drop-down menu. I provide an illustration for that below, \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow do I programmatically acquire them (the Strings) in the real-time using a RESTful GET call? \r\n\r\nI program in Java and a `List&lt;String&gt;` will be the best format to have it. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hAsyh.png","title":"Find the auto-complete Strings","body":"<p>When you type a keyword word in the Amazon search box, you will get 10 auto-complete suggestions from a drop-down menu. I provide an illustration for that below, </p>\n\n<p><a href=\"https://i.stack.imgur.com/hAsyh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hAsyh.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I programmatically acquire them (the Strings) in the real-time using a RESTful GET call? </p>\n\n<p>I program in Java and a <code>List&lt;String&gt;</code> will be the best format to have it. </p>\n"},{"tags":["java","sql","database","coalesce","ibm-app-connect"],"owner":{"account_id":28024656,"reputation":1,"user_id":21404888,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678942769,"creation_date":1678894379,"question_id":75746875,"body_markdown":"How to map date through AppConnect to date column(estmtd_frzing)in database in ESQL\r\n\r\nCOALESCE(**estmtd_frzing**_date,null)\r\n\r\nin ESQL\r\n\r\nHow to map date through AppConnect to date column(estmtd_frzing)in database in ESQL\r\n","title":"date mapping in Coalesce","body":"<p>How to map date through AppConnect to date column(estmtd_frzing)in database in ESQL</p>\n<p>COALESCE(<strong>estmtd_frzing</strong>_date,null)</p>\n<p>in ESQL</p>\n<p>How to map date through AppConnect to date column(estmtd_frzing)in database in ESQL</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607786765,"creation_date":1607782575,"answer_id":65265926,"question_id":65265744,"body_markdown":"As you have already noted and as explained in the [doc][1]: &quot;You can use at most one `array-contains` clause per query.&quot;\r\n\r\n**However**, in your case, you may be able to use the following approach:\r\n\r\nFor a given document, for each of the 5 search criteria, for each possible value for the criteria, add, in the document, **a new field** of type boolean which name is composed by the concatenation of the criteria and the value, and which value is `true`.\r\n\r\nFor example, let&#39;s take two criteria: *service* and *region*.\r\n\r\nIf your array `service` has two elements: `service1` and `service2` you create two fields `service_service1` and `service_service2` in the document, with a value of true.\r\n\r\nIf your array `region` has three elements: `r1`, `r2` and `r3` you create three fields `region_r1`, `region_r2` and `region_r3` with a value of true.\r\n\r\n\r\nThen, you can query as follows:\r\n\r\n\r\n\r\n      db.collection(&#39;test&#39;)\r\n        .where(&#39;region_r1&#39;, &#39;==&#39;, true)\r\n        .where(&#39;service_service2&#39;, &#39;==&#39;, true)\r\n        .get()\r\n        .then(function (querySnapshot) {\r\n          querySnapshot.forEach(function (doc) {\r\n            console.log(doc.id, &#39; =&gt; &#39;, doc.data());\r\n          });\r\n        });\r\n\r\n\r\nNote that this approach will not work if you want to combine the equality operators with some inequality operators (&lt;, &lt;=, &gt;, and !=) because you would need to create some [composite indexes][2]. \r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/queries#array_membership\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/indexing","title":"Firestore: Is it possible to filter multiple fields in a collection using whereArrayContains?","body":"<p>As you have already noted and as explained in the <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\">doc</a>: &quot;You can use at most one <code>array-contains</code> clause per query.&quot;</p>\n<p><strong>However</strong>, in your case, you may be able to use the following approach:</p>\n<p>For a given document, for each of the 5 search criteria, for each possible value for the criteria, add, in the document, <strong>a new field</strong> of type boolean which name is composed by the concatenation of the criteria and the value, and which value is <code>true</code>.</p>\n<p>For example, let's take two criteria: <em>service</em> and <em>region</em>.</p>\n<p>If your array <code>service</code> has two elements: <code>service1</code> and <code>service2</code> you create two fields <code>service_service1</code> and <code>service_service2</code> in the document, with a value of true.</p>\n<p>If your array <code>region</code> has three elements: <code>r1</code>, <code>r2</code> and <code>r3</code> you create three fields <code>region_r1</code>, <code>region_r2</code> and <code>region_r3</code> with a value of true.</p>\n<p>Then, you can query as follows:</p>\n<pre><code>  db.collection('test')\n    .where('region_r1', '==', true)\n    .where('service_service2', '==', true)\n    .get()\n    .then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        console.log(doc.id, ' =&gt; ', doc.data());\n      });\n    });\n</code></pre>\n<p>Note that this approach will not work if you want to combine the equality operators with some inequality operators (&lt;, &lt;=, &gt;, and !=) because you would need to create some <a href=\"https://firebase.google.com/docs/firestore/query-data/indexing\" rel=\"nofollow noreferrer\">composite indexes</a>.</p>\n"}],"owner":{"account_id":20029863,"reputation":45,"user_id":14682889,"display_name":"Lea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678942692,"creation_date":1607781495,"question_id":65265744,"body_markdown":"I&#39;m working on an application for pet services where users could choose five conditions to their searches. They are required to choose the type of service they want, the type of pets, number of pets, the region and subregion that they want. They will make their selection through spinners. The result will display the lists of users who provide the services based on their filter. \r\n\r\nI have learnt that firestore only allows using whereArrayContains once in a query. How can combine all these queries to filter each related field in the collections? Is it possible to use AND operator?\r\n\r\nThis was my code.\r\n\r\n``` \r\nQuery query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype)\r\n.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;)\r\n.whereArrayContains(&quot;petnum&quot;, petnumber)\r\n.whereArrayContains(&quot;region&quot;, reg)\r\n.whereArrayContains(&quot;subregion&quot;, subreg);\r\n```\r\n\r\n\r\nI tried merging queries into task and in the onsuccesslistener, I created a toast message to see if it works. It did work but I can&#39;t figure out how to place recyclerview into the onsuccesslistener without an error.\r\n```\r\n    private void setUpRecyclerView() {\r\n        Query query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype);\r\n        Query query2 = collectionReference.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;);\r\n        Query query3 = collectionReference.whereArrayContains(&quot;petnum&quot;, petnumber);\r\n        Query query4 = collectionReference.whereArrayContains(&quot;region&quot;, reg);\r\n        Query query5 = collectionReference.whereArrayContains(&quot;subregion&quot;, subreg);\r\n\r\n        Task task = query.get();\r\n        Task task2 = query2.get();\r\n        Task task3 = query3.get();\r\n        Task task4 = query4.get();\r\n        Task task5 = query5.get();\r\n\r\n        Task&lt;List&lt;QuerySnapshot&gt;&gt; combinedtask = Tasks.whenAllSuccess(task, task2, task3, task4, task5);\r\n        combinedtask.addOnSuccessListener(new OnSuccessListener&lt;List&lt;QuerySnapshot&gt;&gt;() {\r\n            @Override\r\n            public void onSuccess(List&lt;QuerySnapshot&gt; querySnapshots) {\r\n                Toast.makeText(getApplicationContext(),&quot;Value passed&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n        //only manages to display one query\r\n       FirestoreRecyclerOptions&lt;model&gt; options = new FirestoreRecyclerOptions.Builder&lt;model&gt;().setQuery(query, model.class).build();\r\n        adapter = new myadapter(options);\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n    }\r\n```","title":"Firestore: Is it possible to filter multiple fields in a collection using whereArrayContains?","body":"<p>I'm working on an application for pet services where users could choose five conditions to their searches. They are required to choose the type of service they want, the type of pets, number of pets, the region and subregion that they want. They will make their selection through spinners. The result will display the lists of users who provide the services based on their filter.</p>\n<p>I have learnt that firestore only allows using whereArrayContains once in a query. How can combine all these queries to filter each related field in the collections? Is it possible to use AND operator?</p>\n<p>This was my code.</p>\n<pre><code>Query query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype)\n.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;)\n.whereArrayContains(&quot;petnum&quot;, petnumber)\n.whereArrayContains(&quot;region&quot;, reg)\n.whereArrayContains(&quot;subregion&quot;, subreg);\n</code></pre>\n<p>I tried merging queries into task and in the onsuccesslistener, I created a toast message to see if it works. It did work but I can't figure out how to place recyclerview into the onsuccesslistener without an error.</p>\n<pre><code>    private void setUpRecyclerView() {\n        Query query = collectionReference.whereArrayContains(&quot;pet&quot;, pettype);\n        Query query2 = collectionReference.whereArrayContains(&quot;service&quot;, &quot;Pet Sitting&quot;);\n        Query query3 = collectionReference.whereArrayContains(&quot;petnum&quot;, petnumber);\n        Query query4 = collectionReference.whereArrayContains(&quot;region&quot;, reg);\n        Query query5 = collectionReference.whereArrayContains(&quot;subregion&quot;, subreg);\n\n        Task task = query.get();\n        Task task2 = query2.get();\n        Task task3 = query3.get();\n        Task task4 = query4.get();\n        Task task5 = query5.get();\n\n        Task&lt;List&lt;QuerySnapshot&gt;&gt; combinedtask = Tasks.whenAllSuccess(task, task2, task3, task4, task5);\n        combinedtask.addOnSuccessListener(new OnSuccessListener&lt;List&lt;QuerySnapshot&gt;&gt;() {\n            @Override\n            public void onSuccess(List&lt;QuerySnapshot&gt; querySnapshots) {\n                Toast.makeText(getApplicationContext(),&quot;Value passed&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n        });\n        //only manages to display one query\n       FirestoreRecyclerOptions&lt;model&gt; options = new FirestoreRecyclerOptions.Builder&lt;model&gt;().setQuery(query, model.class).build();\n        adapter = new myadapter(options);\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(adapter);\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","design-patterns","java-8","retry-logic"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678894129,"creation_date":1678894129,"answer_id":75746828,"question_id":75746053,"body_markdown":"One way you can use `while` loop inside `try` block with `10` minutes sleep time when `externalService.getRecord()` return empty list. And make `computeValue` method to return `null` if empty list is returned by `externalService.getRecord()`\r\n\r\nIn this case you can keep the scheduler to run between 7AM to 9AM\r\n\r\n     double value = null;\r\n\r\n     try {\r\n\r\n         while(value == null) {\r\n\r\n            value = computeValue(String product);\r\n\r\n            if(value == null){\r\n               Thread.sleep(10) //minutes\r\n            }\r\n         }\r\n      } \r\n        catch {\r\n          log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\r\n      }\r\n\r\nYou can also check [Spring Retry][1] but you have to specify the max number of retries and you can keep it `Integer.MAX`. \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-retry","title":"How to implement retry mechanism with exception and try catch","body":"<p>One way you can use <code>while</code> loop inside <code>try</code> block with <code>10</code> minutes sleep time when <code>externalService.getRecord()</code> return empty list. And make <code>computeValue</code> method to return <code>null</code> if empty list is returned by <code>externalService.getRecord()</code></p>\n<p>In this case you can keep the scheduler to run between 7AM to 9AM</p>\n<pre><code> double value = null;\n\n try {\n\n     while(value == null) {\n\n        value = computeValue(String product);\n\n        if(value == null){\n           Thread.sleep(10) //minutes\n        }\n     }\n  } \n    catch {\n      log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\n  }\n</code></pre>\n<p>You can also check <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Spring Retry</a> but you have to specify the max number of retries and you can keep it <code>Integer.MAX</code>.</p>\n"},{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678942237,"creation_date":1678942237,"answer_id":75752279,"question_id":75746053,"body_markdown":"I tried to replicate your question, here is one possible solution.\r\n\r\n```\r\nprivate double value = null;\r\nprivate long lastSuccess;\r\n\r\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\r\npublic void dailyComputeValue() {\r\n\r\n  if(value != null &amp;&amp; \r\n     lastSuccess != null &amp;&amp; \r\n     !sameDate(lastSuccess, System.currentTimeMillis()){\r\n     // resetting value in new day\r\n     value = null;\r\n  }\r\n  \r\n  if(value != null) return; // skipping scheduled job if value is present\r\n\r\n  try {\r\n     value = computeValue(String product);\r\n  } catch (Exception ex) {\r\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\r\n     return;\r\n  }\r\n\r\n  lastSuccess = System.currentTimeMillis();\r\n  valueRepository.save(value);\r\n}\r\n```\r\n\r\n\r\nChecking same date:\r\n\r\n```\r\nprivate Boolean sameDate(long d1, long d2){\r\n  Calendar cal1 = Calendar.getInstance();\r\n  Calendar cal2 = Calendar.getInstance();\r\n  cal1.setTimeInMillis(d1);\r\n  cal2.setTimeInMillis(d2);\r\n  return cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &amp;&amp;\r\n                        cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR);\r\n}\r\n```\r\n\r\nHope it is of some help.","title":"How to implement retry mechanism with exception and try catch","body":"<p>I tried to replicate your question, here is one possible solution.</p>\n<pre><code>private double value = null;\nprivate long lastSuccess;\n\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\npublic void dailyComputeValue() {\n\n  if(value != null &amp;&amp; \n     lastSuccess != null &amp;&amp; \n     !sameDate(lastSuccess, System.currentTimeMillis()){\n     // resetting value in new day\n     value = null;\n  }\n  \n  if(value != null) return; // skipping scheduled job if value is present\n\n  try {\n     value = computeValue(String product);\n  } catch (Exception ex) {\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\n     return;\n  }\n\n  lastSuccess = System.currentTimeMillis();\n  valueRepository.save(value);\n}\n</code></pre>\n<p>Checking same date:</p>\n<pre><code>private Boolean sameDate(long d1, long d2){\n  Calendar cal1 = Calendar.getInstance();\n  Calendar cal2 = Calendar.getInstance();\n  cal1.setTimeInMillis(d1);\n  cal2.setTimeInMillis(d2);\n  return cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR) &amp;&amp;\n                        cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR);\n}\n</code></pre>\n<p>Hope it is of some help.</p>\n"}],"owner":{"account_id":27534971,"reputation":33,"user_id":21012804,"display_name":"exponents"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678942237,"creation_date":1678890270,"question_id":75746053,"body_markdown":"What I want to do:\r\n-\r\n\r\nI want to implement a retry mechanism for function `dailyComputeValue`. `dailyComputeValue` will call `computeValue`. There is one part within function `ComputeValue` where we will call `externalService.getRecord`, which could return an empty list.\r\n\r\nIf this is the case, I want to rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run `checkExpiryForADate`, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)\r\n\r\nThe complication is that I cannot use a boolean flag in this case because `computeValue` needs to return a `double`. So I am thinking of throwing an exception if `externalService.getRecord` returns an empty list.\r\nI have changed `dailyComputeValue` to be like the code below to implement the retry mechanism\r\n\r\nWhat I have tried:\r\n-\r\n\r\n```\r\n@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\r\npublic void dailyComputeValue() {\r\n  double value = 0;\r\n  try {\r\n      value = computeValue(String product);\r\n  } \r\n  catch {\r\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\r\n  }\r\n  //to only save to database if there is good value (not from the empty list)\r\n  valueRepository.save(value);\r\n}\r\n\r\npublic Double computeValue(String product)\r\n{\r\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; valueRecords = new ArrayList&lt;&gt;(externalService.getRecord());\r\n    if (valueRecords.isEmpty()){\r\n    throw new Exception(&quot;Record not available yet&quot;);\r\n    }\r\n    //perform some operation to return a double\r\n}\r\n```\r\n\r\nThe problem with my code:\r\n-\r\n\r\nThe current code will retry `computeValue` every 10 minutes, but will not stop once computeValue returns a double. I am not sure how to implement the code to &quot;rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run `dailyComputeValue`, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)&quot;.\r\n\r\nAny help would be greatly appreciated, thanks in advance.","title":"How to implement retry mechanism with exception and try catch","body":"<h2>What I want to do:</h2>\n<p>I want to implement a retry mechanism for function <code>dailyComputeValue</code>. <code>dailyComputeValue</code> will call <code>computeValue</code>. There is one part within function <code>ComputeValue</code> where we will call <code>externalService.getRecord</code>, which could return an empty list.</p>\n<p>If this is the case, I want to rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run <code>checkExpiryForADate</code>, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)</p>\n<p>The complication is that I cannot use a boolean flag in this case because <code>computeValue</code> needs to return a <code>double</code>. So I am thinking of throwing an exception if <code>externalService.getRecord</code> returns an empty list.\nI have changed <code>dailyComputeValue</code> to be like the code below to implement the retry mechanism</p>\n<h2>What I have tried:</h2>\n<pre><code>@Scheduled(cron = &quot;${scheduler: */10 7-8 * * MON-FRI}&quot;)\npublic void dailyComputeValue() {\n  double value = 0;\n  try {\n      value = computeValue(String product);\n  } \n  catch {\n     log.warn(&quot;Record not available yet&quot;, ex.getMessage();)\n  }\n  //to only save to database if there is good value (not from the empty list)\n  valueRepository.save(value);\n}\n\npublic Double computeValue(String product)\n{\n    List&lt;Pair&lt;ZonedDateTime, Double&gt;&gt; valueRecords = new ArrayList&lt;&gt;(externalService.getRecord());\n    if (valueRecords.isEmpty()){\n    throw new Exception(&quot;Record not available yet&quot;);\n    }\n    //perform some operation to return a double\n}\n</code></pre>\n<h2>The problem with my code:</h2>\n<p>The current code will retry <code>computeValue</code> every 10 minutes, but will not stop once computeValue returns a double. I am not sure how to implement the code to &quot;rerun the function every 10 min until it does not return an empty list (Once externalService.getRecord does not return an empty list when we run <code>dailyComputeValue</code>, we would not run it anymore within the scheduled timeframe (from 7AM to 9AM)&quot;.</p>\n<p>Any help would be greatly appreciated, thanks in advance.</p>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":4403649,"reputation":714,"user_id":3588633,"accept_rate":53,"display_name":"omarmallat"},"score":0,"creation_date":1679468745,"post_id":75750670,"comment_id":133725561,"body_markdown":"Do you want to call Graph from the portal or from the API?","body":"Do you want to call Graph from the portal or from the API?"},{"owner":{"account_id":13305389,"reputation":13,"user_id":9605360,"display_name":"Quim PerVal"},"score":0,"creation_date":1684465846,"post_id":75750670,"comment_id":134524834,"body_markdown":"I wanted to retrieve some data from the graph, from the API, however I  learned how to include the information in the token&#39;s body, therefore it was not necessary to connect to the microsoft graph.","body":"I wanted to retrieve some data from the graph, from the API, however I  learned how to include the information in the token&#39;s body, therefore it was not necessary to connect to the microsoft graph."},{"owner":{"account_id":4403649,"reputation":714,"user_id":3588633,"accept_rate":53,"display_name":"omarmallat"},"score":0,"creation_date":1684575013,"post_id":75750670,"comment_id":134539324,"body_markdown":"Not sure about Java, but it&#39;s a widely used case, and I used it personally in my asp.net web app and asp.net web api. User login to web app, get a token from Microsoft identity, and then call the web api using this token. Then, the api will accept your call because of that token, and then use this token to call MS Graph. If you want I can share the .Net detail and you convert to java","body":"Not sure about Java, but it&#39;s a widely used case, and I used it personally in my asp.net web app and asp.net web api. User login to web app, get a token from Microsoft identity, and then call the web api using this token. Then, the api will accept your call because of that token, and then use this token to call MS Graph. If you want I can share the .Net detail and you convert to java"}],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7637,"user_id":18229928,"display_name":"Rukmini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678941211,"creation_date":1678941211,"answer_id":75752202,"question_id":75750670,"body_markdown":"***I tried to reproduce the same in my environment and got the results like below:***\r\n\r\nI created a **`Server Application`** and Exposed an API:\r\n\r\n![enter image description here](https://i.stack.imgur.com/BJYPz.png)\r\n\r\nI added API permissions in the **`Client Application`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ok3id.png)\r\n\r\nI generated the **access token** by using parameters like below:\r\n\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\ngrant_type:authorization_code\r\nscope:api://5c4cc2c2-66e7-4ccf-b7ac-f9a9d16bfd3b/test.read User.Read.All\r\ncode:code\r\nredirect_uri:https://jwt.ms\r\nclient_secret:ClientSecret\r\n```\r\n![enter image description here](https://i.stack.imgur.com/esxHd.png)\r\n\r\nWhen I decoded the token the **aud** is  **`api://AppID`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/NNLZk.png)\r\n\r\n\r\nWhen **I tried to call Graph API using the above generated access token**, I got the error like below:\r\n```json\r\nGET https://graph.microsoft.com/v1.0/users/UserID\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/WeFt1.png)\r\n\r\n&gt; **Note** that : By using one access token, it is not possible to call two APIs. The **aud** to call Graph API must be `https://graph.microsoft.com` and the **aud** to call Web API must be  `api://AppID`.\r\n\r\nSo, **generate another access token to call Graph API** like below:\r\n\r\nI generated the **access token** by using below parameters:\r\n\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\ngrant_type:authorization_code\r\nscope:User.Read.All\r\ncode:code\r\nredirect_uri:https://jwt.ms\r\nclient_secret:ClientSecret\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Nn7hr.png)\r\n\r\nWhen I decoded the token the **aud** is `https://graph.microsoft.com` like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Wawjs.png)\r\n\r\nWhen I tried to make a call using Graph API using the above access token, **I got the results successfully like below**:\r\n\r\n```json\r\nGET https://graph.microsoft.com/v1.0/users/UserID\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/XEzTy.png)","title":"Call microsoft graph with existing token received from web app","body":"<p><em><strong>I tried to reproduce the same in my environment and got the results like below:</strong></em></p>\n<p>I created a <strong><code>Server Application</code></strong> and Exposed an API:</p>\n<p><img src=\"https://i.stack.imgur.com/BJYPz.png\" alt=\"enter image description here\" /></p>\n<p>I added API permissions in the <strong><code>Client Application</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/ok3id.png\" alt=\"enter image description here\" /></p>\n<p>I generated the <strong>access token</strong> by using parameters like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\ngrant_type:authorization_code\nscope:api://5c4cc2c2-66e7-4ccf-b7ac-f9a9d16bfd3b/test.read User.Read.All\ncode:code\nredirect_uri:https://jwt.ms\nclient_secret:ClientSecret\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/esxHd.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the token the <strong>aud</strong> is  <strong><code>api://AppID</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/NNLZk.png\" alt=\"enter image description here\" /></p>\n<p>When <strong>I tried to call Graph API using the above generated access token</strong>, I got the error like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET https://graph.microsoft.com/v1.0/users/UserID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/WeFt1.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p><strong>Note</strong> that : By using one access token, it is not possible to call two APIs. The <strong>aud</strong> to call Graph API must be <code>https://graph.microsoft.com</code> and the <strong>aud</strong> to call Web API must be  <code>api://AppID</code>.</p>\n</blockquote>\n<p>So, <strong>generate another access token to call Graph API</strong> like below:</p>\n<p>I generated the <strong>access token</strong> by using below parameters:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\ngrant_type:authorization_code\nscope:User.Read.All\ncode:code\nredirect_uri:https://jwt.ms\nclient_secret:ClientSecret\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Nn7hr.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the token the <strong>aud</strong> is <code>https://graph.microsoft.com</code> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/Wawjs.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to make a call using Graph API using the above access token, <strong>I got the results successfully like below</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET https://graph.microsoft.com/v1.0/users/UserID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XEzTy.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":13305389,"reputation":13,"user_id":9605360,"display_name":"Quim PerVal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678941211,"creation_date":1678919661,"question_id":75750670,"body_markdown":"I&#39;m modifying a backend server to consume tokens provided by azure ad, the portal web app opens the microsoft pop up to login, and once the user is logged in it calls the api I&#39;m working on.\r\nThe web app is registered in azure ad.\r\nThe server validates the token and I wanr to call the microsoft graph to obtain user information that is not in the token.\r\n\r\nCan in someway I use the token that is received from the web app to call the graph api? Or do I have to obtain another token to call the graph api? In this second case, how to obtain a second token?\r\nThe server uses spring boot and java.\r\nThe only data I have is the token passed from the portal. \r\nThe azure ad application has access to profiles.\r\nThanks in advance!","title":"Call microsoft graph with existing token received from web app","body":"<p>I'm modifying a backend server to consume tokens provided by azure ad, the portal web app opens the microsoft pop up to login, and once the user is logged in it calls the api I'm working on.\nThe web app is registered in azure ad.\nThe server validates the token and I wanr to call the microsoft graph to obtain user information that is not in the token.</p>\n<p>Can in someway I use the token that is received from the web app to call the graph api? Or do I have to obtain another token to call the graph api? In this second case, how to obtain a second token?\nThe server uses spring boot and java.\nThe only data I have is the token passed from the portal.\nThe azure ad application has access to profiles.\nThanks in advance!</p>\n"},{"tags":["java","android","react-native","socks"],"owner":{"account_id":26264138,"reputation":23,"user_id":19934976,"display_name":"Gokuhan21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678941121,"creation_date":1678941121,"question_id":75752196,"body_markdown":"I am making a react-native app for android and there is no SocksServer libraries in npm. There is only SocksClient for client communications to server. To run the socks server in app react-native I need a new java native module to create the socks5 connection/negotiation then i can import it to react-native and start the server/listening on the app. The build keeps failing `error: incompatible types: SocksServerModule cannot be converted to ReactPackage`. I imported the package to MainApplication.java\r\n\r\n ```\r\nimport com.vpndev.SocksServerModule;\r\n//...and added to getPackages()\r\npackages.add(new SocksServerModule(getReactContext()));\r\n//...\r\npublic ReactApplicationContext getReactContext() {\r\n    return getReactNativeHost().getReactInstanceManager().getCurrentReactContext();\r\n  }\r\n```\r\n\r\nand this is the SocksServerModule.java:\r\n\r\n```\r\npackage com.vpndev;\r\n\r\nimport android.util.Log;\r\n\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.JavaScriptModule;\r\nimport com.facebook.react.uimanager.ViewManager;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport io.netty.bootstrap.ServerBootstrap;\r\nimport io.netty.channel.Channel;\r\nimport io.netty.channel.ChannelFuture;\r\nimport io.netty.channel.ChannelInitializer;\r\nimport io.netty.channel.ChannelOption;\r\nimport io.netty.channel.EventLoopGroup;\r\nimport io.netty.channel.nio.NioEventLoopGroup;\r\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\r\nimport io.netty.channel.socket.nio.NioSocketChannel;\r\nimport io.netty.handler.codec.socksx.SocksPortUnificationServerHandler;\r\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5InitialResponse;\r\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5PasswordAuthResponse;\r\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5CommandResponse;\r\nimport io.netty.handler.codec.socksx.v5.Socks5AddressType;\r\nimport io.netty.handler.codec.socksx.v5.Socks5AuthMethod;\r\nimport io.netty.handler.codec.socksx.v5.Socks5CommandRequestDecoder;\r\nimport io.netty.handler.codec.socksx.v5.Socks5CommandStatus;\r\nimport io.netty.handler.codec.socksx.v5.Socks5InitialRequestDecoder;\r\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthRequestDecoder;\r\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthStatus;\r\nimport io.netty.handler.logging.LogLevel;\r\nimport io.netty.handler.logging.LoggingHandler;\r\n\r\npublic class SocksServerModule extends ReactContextBaseJavaModule {\r\n    private static final String TAG = &quot;SocksServerModule&quot;;\r\n    private final ReactApplicationContext reactContext;\r\n    private Channel serverChannel;\r\n    private EventLoopGroup bossGroup;\r\n    private EventLoopGroup workerGroup;\r\n\r\n    public SocksServerModule(ReactApplicationContext reactContext) {\r\n        super(reactContext);\r\n        this.reactContext = reactContext;\r\n    }\r\n    @Override\r\n    public String getName() {\r\n        return &quot;SocksServer&quot;;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void start(int port) {\r\n        new Thread(() -&gt; {\r\n            bossGroup = new NioEventLoopGroup(1);\r\n            workerGroup = new NioEventLoopGroup();\r\n            try {\r\n                ServerBootstrap b = new ServerBootstrap();\r\n                b.group(bossGroup, workerGroup)\r\n                        .channel(NioServerSocketChannel.class)\r\n                        .handler(new LoggingHandler(LogLevel.INFO))\r\n                        .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() {\r\n                            @Override\r\npublic void initChannel(NioSocketChannel ch) {\r\n    ch.pipeline().addLast(\r\n    new SocksPortUnificationServerHandler(),\r\n    new Socks5InitialRequestDecoder(),\r\n    new DefaultSocks5InitialResponse(Socks5AuthMethod.NO_AUTH),\r\n    new Socks5PasswordAuthRequestDecoder(),\r\n    new DefaultSocks5PasswordAuthResponse(Socks5PasswordAuthStatus.SUCCESS),\r\n    new Socks5CommandRequestDecoder(),\r\n    new DefaultSocks5CommandResponse(Socks5CommandStatus.SUCCESS, Socks5AddressType.IPv4));\r\n\r\n}\r\n\r\n                        })\r\n                        .childOption(ChannelOption.SO_KEEPALIVE, true);\r\n\r\n                ChannelFuture f = b.bind(port).sync();\r\n                serverChannel = f.channel();\r\n\r\n                Log.i(TAG, &quot;SOCKS server started on port &quot; + port);\r\n\r\n                f.channel().closeFuture().sync();\r\n            } catch (InterruptedException e) {\r\n                Log.e(TAG, &quot;Failed to start SOCKS server&quot;, e);\r\n            } finally {\r\n                bossGroup.shutdownGracefully();\r\n                workerGroup.shutdownGracefully();\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    @ReactMethod\r\n    public void stop() {\r\n        if (serverChannel != null) {\r\n            serverChannel.close();\r\n            serverChannel = null;\r\n            Log.i(TAG, &quot;SOCKS server stopped&quot;);\r\n        }\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\nand i am trying to use the module in App.tsx to start the server but not working:\r\n```\r\nimport { NativeModules } from &#39;react-native&#39;;\r\n\r\nconst SocksServer = NativeModules.SocksServer;\r\nSocksServer.start(1080);\r\n```\r\n\r\n\r\n","title":"SocksServer Java Native Module for React-Native on Android","body":"<p>I am making a react-native app for android and there is no SocksServer libraries in npm. There is only SocksClient for client communications to server. To run the socks server in app react-native I need a new java native module to create the socks5 connection/negotiation then i can import it to react-native and start the server/listening on the app. The build keeps failing <code>error: incompatible types: SocksServerModule cannot be converted to ReactPackage</code>. I imported the package to MainApplication.java</p>\n<pre><code>import com.vpndev.SocksServerModule;\n//...and added to getPackages()\npackages.add(new SocksServerModule(getReactContext()));\n//...\npublic ReactApplicationContext getReactContext() {\n   return getReactNativeHost().getReactInstanceManager().getCurrentReactContext();\n }\n</code></pre>\n<p>and this is the SocksServerModule.java:</p>\n<pre><code>package com.vpndev;\n\nimport android.util.Log;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.JavaScriptModule;\nimport com.facebook.react.uimanager.ViewManager;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.Channel;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.ChannelOption;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\nimport io.netty.channel.socket.nio.NioSocketChannel;\nimport io.netty.handler.codec.socksx.SocksPortUnificationServerHandler;\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5InitialResponse;\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5PasswordAuthResponse;\nimport io.netty.handler.codec.socksx.v5.DefaultSocks5CommandResponse;\nimport io.netty.handler.codec.socksx.v5.Socks5AddressType;\nimport io.netty.handler.codec.socksx.v5.Socks5AuthMethod;\nimport io.netty.handler.codec.socksx.v5.Socks5CommandRequestDecoder;\nimport io.netty.handler.codec.socksx.v5.Socks5CommandStatus;\nimport io.netty.handler.codec.socksx.v5.Socks5InitialRequestDecoder;\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthRequestDecoder;\nimport io.netty.handler.codec.socksx.v5.Socks5PasswordAuthStatus;\nimport io.netty.handler.logging.LogLevel;\nimport io.netty.handler.logging.LoggingHandler;\n\npublic class SocksServerModule extends ReactContextBaseJavaModule {\n    private static final String TAG = &quot;SocksServerModule&quot;;\n    private final ReactApplicationContext reactContext;\n    private Channel serverChannel;\n    private EventLoopGroup bossGroup;\n    private EventLoopGroup workerGroup;\n\n    public SocksServerModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n        this.reactContext = reactContext;\n    }\n    @Override\n    public String getName() {\n        return &quot;SocksServer&quot;;\n    }\n\n    @ReactMethod\n    public void start(int port) {\n        new Thread(() -&gt; {\n            bossGroup = new NioEventLoopGroup(1);\n            workerGroup = new NioEventLoopGroup();\n            try {\n                ServerBootstrap b = new ServerBootstrap();\n                b.group(bossGroup, workerGroup)\n                        .channel(NioServerSocketChannel.class)\n                        .handler(new LoggingHandler(LogLevel.INFO))\n                        .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() {\n                            @Override\npublic void initChannel(NioSocketChannel ch) {\n    ch.pipeline().addLast(\n    new SocksPortUnificationServerHandler(),\n    new Socks5InitialRequestDecoder(),\n    new DefaultSocks5InitialResponse(Socks5AuthMethod.NO_AUTH),\n    new Socks5PasswordAuthRequestDecoder(),\n    new DefaultSocks5PasswordAuthResponse(Socks5PasswordAuthStatus.SUCCESS),\n    new Socks5CommandRequestDecoder(),\n    new DefaultSocks5CommandResponse(Socks5CommandStatus.SUCCESS, Socks5AddressType.IPv4));\n\n}\n\n                        })\n                        .childOption(ChannelOption.SO_KEEPALIVE, true);\n\n                ChannelFuture f = b.bind(port).sync();\n                serverChannel = f.channel();\n\n                Log.i(TAG, &quot;SOCKS server started on port &quot; + port);\n\n                f.channel().closeFuture().sync();\n            } catch (InterruptedException e) {\n                Log.e(TAG, &quot;Failed to start SOCKS server&quot;, e);\n            } finally {\n                bossGroup.shutdownGracefully();\n                workerGroup.shutdownGracefully();\n            }\n        }).start();\n    }\n\n    @ReactMethod\n    public void stop() {\n        if (serverChannel != null) {\n            serverChannel.close();\n            serverChannel = null;\n            Log.i(TAG, &quot;SOCKS server stopped&quot;);\n        }\n    }\n\n    \n}\n</code></pre>\n<p>and i am trying to use the module in App.tsx to start the server but not working:</p>\n<pre><code>import { NativeModules } from 'react-native';\n\nconst SocksServer = NativeModules.SocksServer;\nSocksServer.start(1080);\n</code></pre>\n"},{"tags":["java","algorithm","recursion","dynamic-programming","theory"],"answers":[{"tags":[],"owner":{"account_id":27689497,"reputation":1,"user_id":21136498,"display_name":"starmur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678875397,"creation_date":1678875378,"answer_id":75743322,"question_id":75743196,"body_markdown":"Have you considered  loops? So something like: \r\n\r\n        i = 1 \r\n        j = 1 \r\n        for value in len(baseIntegers):\r\n            sum[i,j] = sum[i-1,j-1]\r\n\r\nUnsure how well this would scale but I did it quickly in Python and it worked!","title":"Dynamic Programming with variable dimensions","body":"<p>Have you considered  loops? So something like:</p>\n<pre><code>    i = 1 \n    j = 1 \n    for value in len(baseIntegers):\n        sum[i,j] = sum[i-1,j-1]\n</code></pre>\n<p>Unsure how well this would scale but I did it quickly in Python and it worked!</p>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678939300,"creation_date":1678938899,"answer_id":75752036,"question_id":75743196,"body_markdown":"First of all if you want to create a variable dimension array, you can simply create an interface.  Something like this.\r\n\r\n    public interface MultiDimArray {\r\n        int dim;\r\n        int get (int[] idx);\r\n        void set (int[] idx, int value);\r\n        MultiDimArray getAll (int[] partialIdx);\r\n        void setAll(int[] partialIdx, MultiDimArray values);\r\n    }\r\n\r\nThen you create three subclasses that can be actually implemented.\r\n\r\n1. A `HigherMultiDimArray` whose dimension is 2+.\r\n2. A `OneDimArray` whose dimension is 1, and is where data is actually stored.\r\n3. A `ZeroDimArray` whose dimension is 0, is basically a wrapper around an `int`, and which exists to give `OneDimArray` something to return at need.\r\n\r\nThis will let you declare an array of any dimension.\r\n\r\n**BUT** you will find that a 10-dimensional array with 10 values per dimension takes 10 billion elements and you&#39;ll run out of memory.\r\n\r\n-----\r\n\r\nTherefore I would recommend that you find a one dimensional structure to answer the questions:\r\n\r\n1. How many values do we need to get to value `x`?\r\n2. What is a last value that got us there?\r\n\r\n\r\nAnd now you&#39;re dealing with a manageable amount of data.  It isn&#39;t hard to use &quot;dynamic programming&quot; to figure out how to get this reasonably.\r\n\r\nIf you are clever about using something called A* Search, you can make getting this even faster.","title":"Dynamic Programming with variable dimensions","body":"<p>First of all if you want to create a variable dimension array, you can simply create an interface.  Something like this.</p>\n<pre><code>public interface MultiDimArray {\n    int dim;\n    int get (int[] idx);\n    void set (int[] idx, int value);\n    MultiDimArray getAll (int[] partialIdx);\n    void setAll(int[] partialIdx, MultiDimArray values);\n}\n</code></pre>\n<p>Then you create three subclasses that can be actually implemented.</p>\n<ol>\n<li>A <code>HigherMultiDimArray</code> whose dimension is 2+.</li>\n<li>A <code>OneDimArray</code> whose dimension is 1, and is where data is actually stored.</li>\n<li>A <code>ZeroDimArray</code> whose dimension is 0, is basically a wrapper around an <code>int</code>, and which exists to give <code>OneDimArray</code> something to return at need.</li>\n</ol>\n<p>This will let you declare an array of any dimension.</p>\n<p><strong>BUT</strong> you will find that a 10-dimensional array with 10 values per dimension takes 10 billion elements and you'll run out of memory.</p>\n<hr />\n<p>Therefore I would recommend that you find a one dimensional structure to answer the questions:</p>\n<ol>\n<li>How many values do we need to get to value <code>x</code>?</li>\n<li>What is a last value that got us there?</li>\n</ol>\n<p>And now you're dealing with a manageable amount of data.  It isn't hard to use &quot;dynamic programming&quot; to figure out how to get this reasonably.</p>\n<p>If you are clever about using something called A* Search, you can make getting this even faster.</p>\n"}],"owner":{"account_id":27888787,"reputation":49,"user_id":21295628,"display_name":"WAN YIN LEUNG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75752036,"answer_count":2,"score":0,"last_activity_date":1678939300,"creation_date":1678874751,"question_id":75743196,"body_markdown":"Resently I encountered this problem:\r\n\r\nGiven a set of unique base integers and a target value, return the combination of base integers which add up to the target value. The returned combination has to have the least amount of elements.\r\n\r\n```\r\nExample 1.\r\n    Given: baseIntegers = [4, 7]; target = 15;\r\n    Return: [7, 4, 4]\r\n    Explanation: 7+4+4=15.\r\n\r\nExample 2. \r\n    Given: baseIntegers = [3, 5, 7]; target = 18;\r\n    Return: [7, 5, 3, 3]\r\n    Explanation: 7+5+3+3=18. [3, 3, 3, 3, 3] is not returned since it contains 1 more element than [7, 5, 3, 3]\r\n\r\nExample 3.\r\n    Given: baseIntegers = [5, 6, 8, 11]; target = 52;\r\n    Return: [11, 11, 11, 11, 8]\r\n    Explanation: 11+11+11+11+8=52.\r\n\r\nExample 4.\r\n    Given: baseIntegers = [2, 5]; target = 3;\r\n    Return: []\r\n    Explanation: 2,5 do not add up to 3.\r\n```\r\n\r\n\r\n \r\n\r\nFor example 1, I came up with an approach to solve the question using Dynamic Programming.\r\nWithout going into much details, I created a 2-dimentional array to store the sum of the base integers:\r\n```\r\n    sum[0,0] = 0\r\n    sum[1,0] = sum[0,0]+4 = 4\r\n    sum[1,1] = sum[1,0]+7 = 11\r\n    sum[2,1] = sum[1,1]+4 = 15\r\n```\r\n... \r\nWhen I found the target sum, I retrieve the result from the dimensions [2,1] (2 fours and 1 seven).\r\n\r\nI can do example 3 in similar fashion by creating a 4-dimentional array.\r\n\r\nHowever, I&#39;m stuck if I need to solve the problem without knowing the length of baseIntegers ahead of time.\r\nThe reason is that I can not create a multi-dimensional array without knowing its dimension beforehand.\r\nSo here is my problem: Is there any way to solve this problem with variable input length? \r\nPreferablly with java, thanks!","title":"Dynamic Programming with variable dimensions","body":"<p>Resently I encountered this problem:</p>\n<p>Given a set of unique base integers and a target value, return the combination of base integers which add up to the target value. The returned combination has to have the least amount of elements.</p>\n<pre><code>Example 1.\n    Given: baseIntegers = [4, 7]; target = 15;\n    Return: [7, 4, 4]\n    Explanation: 7+4+4=15.\n\nExample 2. \n    Given: baseIntegers = [3, 5, 7]; target = 18;\n    Return: [7, 5, 3, 3]\n    Explanation: 7+5+3+3=18. [3, 3, 3, 3, 3] is not returned since it contains 1 more element than [7, 5, 3, 3]\n\nExample 3.\n    Given: baseIntegers = [5, 6, 8, 11]; target = 52;\n    Return: [11, 11, 11, 11, 8]\n    Explanation: 11+11+11+11+8=52.\n\nExample 4.\n    Given: baseIntegers = [2, 5]; target = 3;\n    Return: []\n    Explanation: 2,5 do not add up to 3.\n</code></pre>\n<p>For example 1, I came up with an approach to solve the question using Dynamic Programming.\nWithout going into much details, I created a 2-dimentional array to store the sum of the base integers:</p>\n<pre><code>    sum[0,0] = 0\n    sum[1,0] = sum[0,0]+4 = 4\n    sum[1,1] = sum[1,0]+7 = 11\n    sum[2,1] = sum[1,1]+4 = 15\n</code></pre>\n<p>...\nWhen I found the target sum, I retrieve the result from the dimensions [2,1] (2 fours and 1 seven).</p>\n<p>I can do example 3 in similar fashion by creating a 4-dimentional array.</p>\n<p>However, I'm stuck if I need to solve the problem without knowing the length of baseIntegers ahead of time.\nThe reason is that I can not create a multi-dimensional array without knowing its dimension beforehand.\nSo here is my problem: Is there any way to solve this problem with variable input length?\nPreferablly with java, thanks!</p>\n"},{"tags":["java","spring","mocking","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678937873,"post_id":75751853,"comment_id":133631130,"body_markdown":"Please produce a minimal project, including a pom.xml which replicates this.","body":"Please produce a minimal project, including a pom.xml which replicates this."}],"owner":{"account_id":28028582,"reputation":1,"user_id":21408115,"display_name":"tgxq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678936884,"creation_date":1678936596,"question_id":75751853,"body_markdown":"Here is my framework dependency version\r\nmockito-core 4.8.0\r\nmockito-inline 4.8.0\r\nmockito-junit-jupiter 4.8.0\r\nbyte-buddy  1.12.0\r\njunit 4.12\r\nspring-boot-starter 1.5.22\r\n\r\nWhen I run the springboot container for unit testing, debug runs wrong。I can&#39;t see the specific location of this dependency error\r\n！\r\n\r\nHere&#39;s what I&#39;m running\r\n\r\n```\r\norg.mockito.exceptions.base.MockitoException: \r\nFailed to release mocks\r\n\r\nThis should not happen unless you are using a third-party mock maker\r\n\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.initMocks(MockitoTestExecutionListener.java:67)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:47)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat com.taobao.pandora.boot.test.junit4.PandoraBootRunner.run(PandoraBootRunner.java:111)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.goldenBellCocoon.starter.TestStarter.start(TestStarter.java:41)\r\n\tat com.goldenBellCocoon.starter.TestStarter.lambda$main$0(TestStarter.java:55)\r\n\tat com.goldenBellCocoon.starter.TestStarter.main(TestStarter.java:69)\r\nCaused by: org.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class com..sec.core.manager.TaskManager.\r\n\r\nIf you&#39;re not sure why you&#39;re getting this error, please open an issue on GitHub.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Oracle Corporation\r\nJVM vendor version : 25.291-b10\r\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\r\nJVM version        : 1.8.0_291-b10\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 10.16\r\n\r\n\r\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n\r\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\r\n\t... 33 more\r\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\r\n\t... 33 more\r\nCaused by: java.lang.IllegalStateException: \r\nByte Buddy could not instrument all classes within the mock&#39;s type hierarchy\r\n\r\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\r\n - Compiled by older versions of scalac\r\n - Classes that are part of the Android distribution\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:284)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:217)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMockType(InlineDelegateByteBuddyMockMaker.java:395)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.doCreateMock(InlineDelegateByteBuddyMockMaker.java:355)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMock(InlineDelegateByteBuddyMockMaker.java:334)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:56)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:99)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:88)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1998)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:74)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:28)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:25)\r\n\tat org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\r\n\tat org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\r\n\tat org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\r\n\tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:99)\r\n\t... 33 more\r\nCaused by: java.lang.NullPointerException\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.jrGetTypeDependencies(RedefinitionDynamicTypeBuilder.java:42008)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:224)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:123)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3659)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:398)\r\n\tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat sun.instrument.InstrumentationImpl._jrDoTransform(InstrumentationImpl.java:428)\r\n\tat sun.instrument.InstrumentationImpl._jrTransform(InstrumentationImpl.java:42001)\r\n\tat com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:177)\r\n\tat com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:150)\r\n\tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:43001)\r\n\tat sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\tat sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\r\n\t... 56 more\r\n```\r\n\r\n\r\nhelp with my problem\r\n","title":"use mockito to execute, java.lang.NullPointerException at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.jrGetTypeDependencies","body":"<p>Here is my framework dependency version\nmockito-core 4.8.0\nmockito-inline 4.8.0\nmockito-junit-jupiter 4.8.0\nbyte-buddy  1.12.0\njunit 4.12\nspring-boot-starter 1.5.22</p>\n<p>When I run the springboot container for unit testing, debug runs wrong。I can't see the specific location of this dependency error\n！</p>\n<p>Here's what I'm running</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nFailed to release mocks\n\nThis should not happen unless you are using a third-party mock maker\n\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.initMocks(MockitoTestExecutionListener.java:67)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:47)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at com.taobao.pandora.boot.test.junit4.PandoraBootRunner.run(PandoraBootRunner.java:111)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.goldenBellCocoon.starter.TestStarter.start(TestStarter.java:41)\n    at com.goldenBellCocoon.starter.TestStarter.lambda$main$0(TestStarter.java:55)\n    at com.goldenBellCocoon.starter.TestStarter.main(TestStarter.java:69)\nCaused by: org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com..sec.core.manager.TaskManager.\n\nIf you're not sure why you're getting this error, please open an issue on GitHub.\n\n\nJava               : 1.8\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 25.291-b10\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\nJVM version        : 1.8.0_291-b10\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.16\n\n\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\n\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\n    ... 33 more\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface org.springframework.beans.factory.Aware, interface org.springframework.context.ApplicationContextAware, class com..sec.core.manager.TaskManager, class java.lang.Object]\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\n    ... 33 more\nCaused by: java.lang.IllegalStateException: \nByte Buddy could not instrument all classes within the mock's type hierarchy\n\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\n - Compiled by older versions of scalac\n - Classes that are part of the Android distribution\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:284)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:217)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:366)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:377)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMockType(InlineDelegateByteBuddyMockMaker.java:395)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.doCreateMock(InlineDelegateByteBuddyMockMaker.java:355)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMock(InlineDelegateByteBuddyMockMaker.java:334)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:56)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:99)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:88)\n    at org.mockito.Mockito.mock(Mockito.java:1998)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:74)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:28)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:25)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:44)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:72)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:73)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:47)\n    at org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:99)\n    ... 33 more\nCaused by: java.lang.NullPointerException\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.jrGetTypeDependencies(RedefinitionDynamicTypeBuilder.java:42008)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:224)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:123)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3659)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:398)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl._jrDoTransform(InstrumentationImpl.java:428)\n    at sun.instrument.InstrumentationImpl._jrTransform(InstrumentationImpl.java:42001)\n    at com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:177)\n    at com.zeroturnaround.jrebelbase.reorder.b.transform(SourceFile:150)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:43001)\n    at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\n    ... 56 more\n</code></pre>\n<p>help with my problem</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626874515,"creation_date":1626874515,"answer_id":68470491,"question_id":68468415,"body_markdown":"The allowed values for the case transformation configuration are:\r\n\r\n* upper\r\n* lower\r\n* capital\r\n\r\nYou can read more about it [here](https://mapstruct.org/documentation/dev/reference/html/#_custom_name_transformation)\r\n\r\n---\r\nThis question also lead to creating [mapstruct/mapstruct#2525](https://github.com/mapstruct/mapstruct/issues/2525) and to show the available options in the error message.","title":"Error to map enums with MappingConstants.CASE_TRANSFORMATION","body":"<p>The allowed values for the case transformation configuration are:</p>\n<ul>\n<li>upper</li>\n<li>lower</li>\n<li>capital</li>\n</ul>\n<p>You can read more about it <a href=\"https://mapstruct.org/documentation/dev/reference/html/#_custom_name_transformation\" rel=\"nofollow noreferrer\">here</a></p>\n<hr />\n<p>This question also lead to creating <a href=\"https://github.com/mapstruct/mapstruct/issues/2525\" rel=\"nofollow noreferrer\">mapstruct/mapstruct#2525</a> and to show the available options in the error message.</p>\n"}],"owner":{"account_id":7751423,"reputation":11,"user_id":5867222,"display_name":"Hugo Almeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678936720,"creation_date":1626865622,"question_id":68468415,"body_markdown":"My mapstruct version is **1.5.0.Beta1**\r\n\r\nI&#39;m trying to use `@EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)` but the following error is displayed:\r\n\r\n&gt; java: Illegal transformation for &#39;case&#39; EnumTransformationStrategy. Error: &#39;Unexpected configuration for enum case transformation: uppercase&#39;.\r\n\r\nMy usecase is:\r\n\r\n    public enum A {\r\n        ABCx,\r\n        EFGy\r\n    }\r\n\r\n    public enum B {\r\n        ABCX,\r\n        EFGY\r\n    }\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n\r\n        @EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)\r\n        B convert(A a);\r\n    }\r\n\r\n","title":"Error to map enums with MappingConstants.CASE_TRANSFORMATION","body":"<p>My mapstruct version is <strong>1.5.0.Beta1</strong></p>\n<p>I'm trying to use <code>@EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)</code> but the following error is displayed:</p>\n<blockquote>\n<p>java: Illegal transformation for 'case' EnumTransformationStrategy. Error: 'Unexpected configuration for enum case transformation: uppercase'.</p>\n</blockquote>\n<p>My usecase is:</p>\n<pre><code>public enum A {\n    ABCx,\n    EFGy\n}\n\npublic enum B {\n    ABCX,\n    EFGY\n}\n\n@Mapper\npublic interface MyMapper {\n\n    @EnumMapping(nameTransformationStrategy = MappingConstants.CASE_TRANSFORMATION, configuration = &quot;uppercase&quot;)\n    B convert(A a);\n}\n</code></pre>\n"},{"tags":["java","xml","private-key","pkcs#11","hardware-security-module"],"comments":[{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":1,"creation_date":1678664262,"post_id":75693122,"comment_id":133572599,"body_markdown":"Mostly it&#39;s a question of restructuring your thinking.  You don&#39;t &quot;get the private key from the HSM&quot;.  You send the data to the HSM, along with a reference to the key, and an operation to perform.  &quot;Sign (this data) using the key called (foo)&quot;.  Some HSMs/providers will use the Certificate as a proxy for the Private key, others you have to get the key reference from the key store.","body":"Mostly it&#39;s a question of restructuring your thinking.  You don&#39;t &quot;get the private key from the HSM&quot;.  You send the data to the HSM, along with a reference to the key, and an operation to perform.  &quot;Sign (this data) using the key called (foo)&quot;.  Some HSMs/providers will use the Certificate as a proxy for the Private key, others you have to get the key reference from the key store."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":1,"creation_date":1678664540,"post_id":75693122,"comment_id":133572627,"body_markdown":"You&#39;re using CryptoServers, and I see you are building the Sun.PKCS connector string manually in the code.  You probably should start by looking at getting the Private Key from the key store, not the certificate, unless JCE uses the cert as filter for retrieving the private key, which would be the next step.  I&#39;m not familiar with the JCE enough to provide the interface method for retrieving the correct private key from the key store, sorry.  [note: I work for Utimaco].","body":"You&#39;re using CryptoServers, and I see you are building the Sun.PKCS connector string manually in the code.  You probably should start by looking at getting the Private Key from the key store, not the certificate, unless JCE uses the cert as filter for retrieving the private key, which would be the next step.  I&#39;m not familiar with the JCE enough to provide the interface method for retrieving the correct private key from the key store, sorry.  [note: I work for Utimaco]."},{"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"score":0,"creation_date":1678870792,"post_id":75693122,"comment_id":133615241,"body_markdown":"Thanks for help. I used &#39;&#39;&#39;keyEntry = (PrivateKey) keystore.getKey(alias, password);&#39;&#39;&#39; and pass this issue.","body":"Thanks for help. I used &#39;&#39;&#39;keyEntry = (PrivateKey) keystore.getKey(alias, password);&#39;&#39;&#39; and pass this issue."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1678933717,"post_id":75693122,"comment_id":133630661,"body_markdown":"Please then enter an answer below, so that others with the same problem see exactly what you changed in order to progress.","body":"Please then enter an answer below, so that others with the same problem see exactly what you changed in order to progress."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1682096921,"post_id":75693122,"comment_id":134167383,"body_markdown":"For anyone stumbling across this later, my &#39;get the private key from the key store&#39;, that private key (in the Utimaco implementation) is either an encrypted key blob (encrypted using the MBK), OR it is a key handle.  While the first is the actual key, it&#39;s useless without the MBK, which only exists inside the HSM.","body":"For anyone stumbling across this later, my &#39;get the private key from the key store&#39;, that private key (in the Utimaco implementation) is either an encrypted key blob (encrypted using the MBK), OR it is a key handle.  While the first is the actual key, it&#39;s useless without the MBK, which only exists inside the HSM."}],"answers":[{"tags":[],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678936099,"creation_date":1678936099,"answer_id":75751815,"question_id":75693122,"body_markdown":"Thanks for help. I used \r\n\r\n    keyEntry = (PrivateKey) keystore.getKey(alias, password);\r\n\r\n and pass this issue.","title":"How to get private key from HSM to sign XML doc","body":"<p>Thanks for help. I used</p>\n<pre><code>keyEntry = (PrivateKey) keystore.getKey(alias, password);\n</code></pre>\n<p>and pass this issue.</p>\n"}],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678936099,"creation_date":1678431875,"question_id":75693122,"body_markdown":"How to get private key from HSM to sign XML doc\r\n\r\nI want to sign a XML document used HSM.\r\nI loaded keystore, login and get certificate, but don&#39;t know how to get privateKey to use in sign function. So what&#39;s solution for it?\r\n\r\nMy code to load and get cerificate.\r\n\r\n```\r\nString library = &quot;mypath/cs_pkcs11_R2.dll&quot;;\r\nStringBuilder builder = new StringBuilder();\r\nbuilder.append(&quot;name=&quot; + nameLib);\r\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\r\nbuilder.append(&quot;library=\\&quot;&quot; + library + &quot;\\&quot;&quot;);\r\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\r\nbuilder.append(&quot;slot=&quot; + slot);\r\n\r\nInit.init();\r\n\r\nByteArrayInputStream bais = new ByteArrayInputStream(builder.toString().getBytes());\t\t \t    \r\nprovider = new SunPKCS11(bais);\t\t \t   \r\nSecurity.addProvider(provider);\r\n\r\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\r\nkeystore.load(null, password);\r\n\r\nEnumeration&lt;String&gt; aliases = keystore.aliases();\r\nString alias;\r\nCertificate cert = null;\r\n\r\nwhile (aliases.hasMoreElements()) {\r\n\talias = aliases.nextElement();\r\n\tSystem.out.println(&quot;alias name: &quot; + alias);\r\n\t\tCertificate[] certChain = keystore.getCertificateChain(alias);\r\n\t\t\t\t            \r\n\t\tif (certChain == null) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tcert = certChain[0];\r\n\t\tif (cert instanceof X509Certificate) {\r\n\t\t\t// avoid expired certificate\r\n\t\t\t((X509Certificate) cert).checkValidity();\r\n\t\t}\t\t\t\t\r\n\r\nX509Certificate c1 = (X509Certificate) cert;\r\nPublicKey pubKey = c1.getPublicKey();\r\n```\r\n\r\nAnd here it code to sign XML file\r\n```\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\nDocument doc = null;\r\nXmlSigner xmlsign = new XmlSigner();\r\n    try {\r\n        doc = dbf.newDocumentBuilder().parse(new FileInputStream(&quot;myPath\\\\xml_Input.xml&quot;));\r\n    } catch (IOException e) {\r\n       e.printStackTrace();\r\n        //System.exit(5);\r\n    }\r\n\r\nElement documentRoot = doc.getDocumentElement();\r\nElement signatureElement = xmlsign.getSignatureElement(doc);\r\n\t        \r\nString digestMethod = &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;;\r\nString signatureMethod= &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;;\r\nXMLSignature signature = new XMLSignature(doc, &quot;#&quot;, signatureMethod, provider);\r\nTransforms contentTransforms = new Transforms(doc);\r\ncontentTransforms.addTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;);\r\ncontentTransforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\r\nsignature.addDocument(xmlsign.getSignatureReferenceUri(&quot;ID&quot;, documentRoot), contentTransforms, digestMethod);\r\nsignatureElement = signature.getElement();\r\n\r\nxmlsign.addSignatureELement(&quot;LAST&quot;, documentRoot, signatureElement);\r\nsignature.sign(signKey); &lt;- need privateKey here\r\nxmlsign.populateKeyInfo(doc, signature.getKeyInfo(), cert);\r\nsignatureElement = xmlsign.getSignatureElement(doc);\r\n```","title":"How to get private key from HSM to sign XML doc","body":"<p>How to get private key from HSM to sign XML doc</p>\n<p>I want to sign a XML document used HSM.\nI loaded keystore, login and get certificate, but don't know how to get privateKey to use in sign function. So what's solution for it?</p>\n<p>My code to load and get cerificate.</p>\n<pre><code>String library = &quot;mypath/cs_pkcs11_R2.dll&quot;;\nStringBuilder builder = new StringBuilder();\nbuilder.append(&quot;name=&quot; + nameLib);\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\nbuilder.append(&quot;library=\\&quot;&quot; + library + &quot;\\&quot;&quot;);\nbuilder.append(System.getProperty(&quot;line.separator&quot;));\nbuilder.append(&quot;slot=&quot; + slot);\n\nInit.init();\n\nByteArrayInputStream bais = new ByteArrayInputStream(builder.toString().getBytes());                \nprovider = new SunPKCS11(bais);            \nSecurity.addProvider(provider);\n\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\nkeystore.load(null, password);\n\nEnumeration&lt;String&gt; aliases = keystore.aliases();\nString alias;\nCertificate cert = null;\n\nwhile (aliases.hasMoreElements()) {\n    alias = aliases.nextElement();\n    System.out.println(&quot;alias name: &quot; + alias);\n        Certificate[] certChain = keystore.getCertificateChain(alias);\n                            \n        if (certChain == null) {\n            continue;\n        }\n        cert = certChain[0];\n        if (cert instanceof X509Certificate) {\n            // avoid expired certificate\n            ((X509Certificate) cert).checkValidity();\n        }               \n\nX509Certificate c1 = (X509Certificate) cert;\nPublicKey pubKey = c1.getPublicKey();\n</code></pre>\n<p>And here it code to sign XML file</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocument doc = null;\nXmlSigner xmlsign = new XmlSigner();\n    try {\n        doc = dbf.newDocumentBuilder().parse(new FileInputStream(&quot;myPath\\\\xml_Input.xml&quot;));\n    } catch (IOException e) {\n       e.printStackTrace();\n        //System.exit(5);\n    }\n\nElement documentRoot = doc.getDocumentElement();\nElement signatureElement = xmlsign.getSignatureElement(doc);\n            \nString digestMethod = &quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;;\nString signatureMethod= &quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;;\nXMLSignature signature = new XMLSignature(doc, &quot;#&quot;, signatureMethod, provider);\nTransforms contentTransforms = new Transforms(doc);\ncontentTransforms.addTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;);\ncontentTransforms.addTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;);\nsignature.addDocument(xmlsign.getSignatureReferenceUri(&quot;ID&quot;, documentRoot), contentTransforms, digestMethod);\nsignatureElement = signature.getElement();\n\nxmlsign.addSignatureELement(&quot;LAST&quot;, documentRoot, signatureElement);\nsignature.sign(signKey); &lt;- need privateKey here\nxmlsign.populateKeyInfo(doc, signature.getKeyInfo(), cert);\nsignatureElement = xmlsign.getSignatureElement(doc);\n</code></pre>\n"},{"tags":["java","android","mongodb","api"],"answers":[{"tags":[],"owner":{"account_id":20139100,"reputation":1,"user_id":14769379,"display_name":"Harambe Lives"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678935473,"creation_date":1678935473,"answer_id":75751772,"question_id":75429884,"body_markdown":"If someone is interested, or might be in the same position as me: I found the solution for my problem.\r\n\r\nThe problem was that I actually didnt encode my Data .. so I either had to encode it with base64, or use this in the AndroidManifest.xml:\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\nHope it helps\r\n\r\n","title":"Send Data from Android App to MongoDB Atlas","body":"<p>If someone is interested, or might be in the same position as me: I found the solution for my problem.</p>\n<p>The problem was that I actually didnt encode my Data .. so I either had to encode it with base64, or use this in the AndroidManifest.xml:</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":20139100,"reputation":1,"user_id":14769379,"display_name":"Harambe Lives"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751772,"answer_count":1,"score":0,"last_activity_date":1678935473,"creation_date":1676232615,"question_id":75429884,"body_markdown":"I have build an App in Android Studio that can scan every type of code(like qr code, barcode ect.) and I want to store that Data inside MongoDB. \r\n\r\nFor that I build an Api with 2 routes post/get to post an item and get all items - tested it with Postman, and it works.\r\n\r\n\r\n```\r\n  app.get(&#39;/items&#39;, async (req, res) =&gt; {\r\n    const collection = client.db(&#39;codes&#39;).collection(&#39;QR&#39;);\r\n    const items = await collection.find({}).toArray();\r\n    res.send(items);\r\n  });\r\n\r\n  app.post(&#39;/items&#39;, async (req, res) =&gt; {\r\n    const collection = client.db(&#39;codes&#39;).collection(&#39;QR&#39;);\r\n    const result = await collection.insertOne(req.body);\r\n    res.send(result);\r\n  });\r\n```\r\nMy problem is, that it doesnt work when I call my method inside Android Studio\r\n\r\n\r\n```\r\npublic interface API {\r\n    @FormUrlEncoded\r\n    @POST(&quot;/items&quot;)\r\n    Call&lt;Void&gt; sendData(\r\n            @Field(&quot;data&quot;) String data\r\n    );\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n    public void addStuff(String data){\r\n        JSONObject jsonObject = new JSONObject();\r\n        try {\r\n            jsonObject.put(&quot;data&quot;, data);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://localhost:3000&quot;)\r\n                .addConverterFactory(ScalarsConverterFactory.create())\r\n                .build();\r\n        API api = retrofit.create(API.class);\r\n        Call&lt;Void&gt; call = api.sendData(jsonObject.toString());\r\n        call.enqueue(new Callback&lt;Void&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;Void&gt; call, @NonNull Response&lt;Void&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Successfully added data to the Database&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;Error getting data from the database&quot; + response.message(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;Void&gt; call, @NonNull Throwable t) {\r\n                Toast.makeText(getApplicationContext(), &quot;Failure&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nAfter I scanned a code with my App, I get an dialog that asks me what to do next. One of those options is a Button &quot;Add to Database&quot;, where I call the method above.\r\n\r\nFor Testing purpose I just hard coded an example String that gets passed to my method.\r\n\r\nAfter that, I get the &quot;Failure&quot; Toast.\r\n\r\n\r\n\r\nTried to attach the debugger to the App, but that didnt really work out, at least Icouldnt figure where the error lies. I tried to to wrap the String into a JSONObject, and send it after I use the toString() Method on the provided data, and I tried to change the data type in the API Interface to JSONObject and send an actual JSONObject, instead of calling the onString() method on the data.\r\n\r\nAll of it results in failure.","title":"Send Data from Android App to MongoDB Atlas","body":"<p>I have build an App in Android Studio that can scan every type of code(like qr code, barcode ect.) and I want to store that Data inside MongoDB.</p>\n<p>For that I build an Api with 2 routes post/get to post an item and get all items - tested it with Postman, and it works.</p>\n<pre><code>  app.get('/items', async (req, res) =&gt; {\n    const collection = client.db('codes').collection('QR');\n    const items = await collection.find({}).toArray();\n    res.send(items);\n  });\n\n  app.post('/items', async (req, res) =&gt; {\n    const collection = client.db('codes').collection('QR');\n    const result = await collection.insertOne(req.body);\n    res.send(result);\n  });\n</code></pre>\n<p>My problem is, that it doesnt work when I call my method inside Android Studio</p>\n<pre><code>public interface API {\n    @FormUrlEncoded\n    @POST(&quot;/items&quot;)\n    Call&lt;Void&gt; sendData(\n            @Field(&quot;data&quot;) String data\n    );\n}\n</code></pre>\n<pre><code>    public void addStuff(String data){\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(&quot;data&quot;, data);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;http://localhost:3000&quot;)\n                .addConverterFactory(ScalarsConverterFactory.create())\n                .build();\n        API api = retrofit.create(API.class);\n        Call&lt;Void&gt; call = api.sendData(jsonObject.toString());\n        call.enqueue(new Callback&lt;Void&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;Void&gt; call, @NonNull Response&lt;Void&gt; response) {\n                if (response.isSuccessful()) {\n                    Toast.makeText(getApplicationContext(), &quot;Successfully added data to the Database&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(getApplicationContext(), &quot;Error getting data from the database&quot; + response.message(), Toast.LENGTH_SHORT).show();\n                }\n            }\n            @Override\n            public void onFailure(@NonNull Call&lt;Void&gt; call, @NonNull Throwable t) {\n                Toast.makeText(getApplicationContext(), &quot;Failure&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n\n    }\n</code></pre>\n<p>After I scanned a code with my App, I get an dialog that asks me what to do next. One of those options is a Button &quot;Add to Database&quot;, where I call the method above.</p>\n<p>For Testing purpose I just hard coded an example String that gets passed to my method.</p>\n<p>After that, I get the &quot;Failure&quot; Toast.</p>\n<p>Tried to attach the debugger to the App, but that didnt really work out, at least Icouldnt figure where the error lies. I tried to to wrap the String into a JSONObject, and send it after I use the toString() Method on the provided data, and I tried to change the data type in the API Interface to JSONObject and send an actual JSONObject, instead of calling the onString() method on the data.</p>\n<p>All of it results in failure.</p>\n"},{"tags":["java","addressbook"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678927182,"post_id":75751172,"comment_id":133629920,"body_markdown":"Post text rather than images, wherever possible.","body":"Post text rather than images, wherever possible."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678927269,"post_id":75751172,"comment_id":133629934,"body_markdown":"Your Question is quite vague and unfocused. Are you using a database? Are you using a [Java Collections](https://en.wikipedia.org/wiki/Java_collections_framework) data structure? Have you read the relevant parts of [The Java Tutorials](https://docs.oracle.com/javase/tutorial/) by Oracle before posting here?","body":"Your Question is quite vague and unfocused. Are you using a database? Are you using a <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections</a> data structure? Have you read the relevant parts of <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a> by Oracle before posting here?"},{"owner":{"account_id":26596037,"reputation":1,"user_id":20218373,"display_name":"MStew_7627"},"score":0,"creation_date":1678929945,"post_id":75751172,"comment_id":133630228,"body_markdown":"I have updated my question. Apologies as I am a new developer and still learning how appropriately ask my questions in a way that makes the most sense to others. I will take note of this for next time. Thank you.","body":"I have updated my question. Apologies as I am a new developer and still learning how appropriately ask my questions in a way that makes the most sense to others. I will take note of this for next time. Thank you."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678935349,"post_id":75751172,"comment_id":133630842,"body_markdown":"Change `if (a.getPhoneNumber() == phoneNumber) {` to `if (a.getPhoneNumber().equals(phoneNumber)) {`","body":"Change <code>if (a.getPhoneNumber() == phoneNumber) {</code> to <code>if (a.getPhoneNumber().equals(phoneNumber)) {</code>"}],"answers":[{"tags":[],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678935289,"creation_date":1678926465,"answer_id":75751188,"question_id":75751172,"body_markdown":"Try this:  \r\n\r\n    if (a.getPhoneNumber().equals(phoneNumber)){..}\r\n\r\nand use Debug","title":"How to search for a record in Java when building an address book","body":"<p>Try this:</p>\n<pre><code>if (a.getPhoneNumber().equals(phoneNumber)){..}\n</code></pre>\n<p>and use Debug</p>\n"}],"owner":{"account_id":26596037,"reputation":1,"user_id":20218373,"display_name":"MStew_7627"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678935220,"answer_count":1,"score":-1,"last_activity_date":1678935289,"creation_date":1678926202,"question_id":75751172,"body_markdown":"I am creating an address book in java and I am trying to implement the functionality of &quot;searching&quot; for a record. When I input a record and then try to search for it, it says that the record is not found, even though I put it in. Is there an additional step that I need to insert to correct this? \r\n\r\n\r\n\r\n[What I coded](https://i.stack.imgur.com/7WL3D.png)\r\n[What the results where](https://i.stack.imgur.com/58hpD.png)\r\n\r\nI tried putting &quot;String&quot; next to the phoneNumber and even renaming it &quot;phoneNumber1&quot;. Maybe it has to use an int for searching something specific?\r\n\r\nHere is the collection that I am using \r\n```\r\nclass CRUDDemo{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tCollection&lt;AddressBook&gt; c = new ArrayList&lt;AddressBook&gt;();\r\n\t\t//to get input from user create an instance of scanner \r\n\t\t//Scanner instance s is for numbers while Scanner instance s1 will be used for the string \r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tScanner s1 = new Scanner(System.in);\r\n\t\tint ch;\r\n\t\tdo {\r\n\t\t\t//loop will run continuously until user provides an input\r\n\t\t\tSystem.out.println(&quot;1.INSERT&quot;);\r\n\t\t\tSystem.out.println(&quot;2.DISPLAY&quot;);\r\n\t\t\tSystem.out.println(&quot;3.SEARCH&quot;);\r\n\t\t\tSystem.out.println(&quot;4.DELETE&quot;);\r\n\t\t\tSystem.out.println(&quot;4.UPDATE&quot;);\r\n\t\t\tSystem.out.println(&quot;Enter Your Choice : &quot;);\r\n\t\t\tch = s.nextInt();\r\n\t\t\t\r\n\t\t\tswitch(ch)\r\n```\r\nThis first case is to display the the records that will be input from the user \r\n```\r\ncase 1:\r\n\t\t\t\tSystem.out.println(&quot;Enter Name : &quot;);\r\n\t\t\t\tString name = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter Street : &quot;);\r\n\t\t\t\tString street = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter City : &quot;);\r\n\t\t\t\tString city = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter State : &quot;);\r\n\t\t\t\tString state = s1.nextLine();\r\n\t\t\t\tSystem.out.print(&quot;Enter Zip : &quot;);\r\n\t\t\t\tint zip = s.nextInt();\r\n\t\t\t\tSystem.out.print(&quot;Enter Phone Number : &quot;);\r\n\t\t\t\tString phoneNumber = s1.nextLine();\r\n\t\t\t\t\r\n\t\t\t\t//add new object to the collection\r\n\t\t\t\tc.add(new AddressBook(name,street,city,state,zip,phoneNumber));\r\n\t\t\tbreak;\r\n```\r\nThe second case will then allow for the input records to be displayed \r\n```\r\ncase 2:\r\n\t\t\t\t//to separate out each record\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\t\t//Iterator is the function that will retract each record one by one \r\n\t\t\t\tIterator&lt;AddressBook&gt; i = c.iterator();\r\n\t\t\t\t//create a loop to see if next next record is available\r\n\t\t\t\twhile(i.hasNext()) {\r\n\t\t\t\t\t//this will display the records\r\n\t\t\t\t\tAddressBook a = i.next();\r\n\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t}\r\n\t\t\t\t//draw a line to separate each record\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\tbreak;\r\n```\r\nFinally is my search option. I want to be able to search for a record in the address book. I have chosen to search by the person&#39;s phone number. If the record is there then I want it to just display the entire record. If it cannot find the record then it will say &quot;Record not found&quot;\r\n```\r\ncase 3:\r\n\t\t\t\t//record cannot be found\r\n\t\t\t\tboolean found = false;\r\n\t\t\t\tSystem.out.println(&quot;Enter Phone Number to Search : &quot;);\r\n\t\t\t\tphoneNumber  = s1.nextLine();\r\n\t\t\t\t//to separate out each record\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\t\t//create a loop to see if next next record is available\r\n\t\t\t\ti = c.iterator();\r\n\t\t\t\twhile(i.hasNext()) {\r\n\t\t\t\t\t//this will display the records\r\n\t\t\t\t\tAddressBook a = i.next();\r\n\t\t\t\t\t//create a loop so that phone number searched is equal to the one entered by the users in the record\r\n\t\t\t\t\tif(a.getPhoneNumber() == phoneNumber) {\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tif(!found) {\r\n\t\t\t\t\tSystem.out.println(&quot;Record Not Found&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}while(ch!=0);\r\n\t}\r\n}\r\n```\r\nWhen I search for a record that has already been created from the user input, I get the message &quot;Record not found&quot;. I wanted it to say this when there truly was no record found. Clearly I have made it say this statement all the time and I am unsure how to fix it.","title":"How to search for a record in Java when building an address book","body":"<p>I am creating an address book in java and I am trying to implement the functionality of &quot;searching&quot; for a record. When I input a record and then try to search for it, it says that the record is not found, even though I put it in. Is there an additional step that I need to insert to correct this?</p>\n<p><a href=\"https://i.stack.imgur.com/7WL3D.png\" rel=\"nofollow noreferrer\">What I coded</a>\n<a href=\"https://i.stack.imgur.com/58hpD.png\" rel=\"nofollow noreferrer\">What the results where</a></p>\n<p>I tried putting &quot;String&quot; next to the phoneNumber and even renaming it &quot;phoneNumber1&quot;. Maybe it has to use an int for searching something specific?</p>\n<p>Here is the collection that I am using</p>\n<pre><code>class CRUDDemo{\n    public static void main(String[] args) {\n        \n        Collection&lt;AddressBook&gt; c = new ArrayList&lt;AddressBook&gt;();\n        //to get input from user create an instance of scanner \n        //Scanner instance s is for numbers while Scanner instance s1 will be used for the string \n        Scanner s = new Scanner(System.in);\n        Scanner s1 = new Scanner(System.in);\n        int ch;\n        do {\n            //loop will run continuously until user provides an input\n            System.out.println(&quot;1.INSERT&quot;);\n            System.out.println(&quot;2.DISPLAY&quot;);\n            System.out.println(&quot;3.SEARCH&quot;);\n            System.out.println(&quot;4.DELETE&quot;);\n            System.out.println(&quot;4.UPDATE&quot;);\n            System.out.println(&quot;Enter Your Choice : &quot;);\n            ch = s.nextInt();\n            \n            switch(ch)\n</code></pre>\n<p>This first case is to display the the records that will be input from the user</p>\n<pre><code>case 1:\n                System.out.println(&quot;Enter Name : &quot;);\n                String name = s1.nextLine();\n                System.out.print(&quot;Enter Street : &quot;);\n                String street = s1.nextLine();\n                System.out.print(&quot;Enter City : &quot;);\n                String city = s1.nextLine();\n                System.out.print(&quot;Enter State : &quot;);\n                String state = s1.nextLine();\n                System.out.print(&quot;Enter Zip : &quot;);\n                int zip = s.nextInt();\n                System.out.print(&quot;Enter Phone Number : &quot;);\n                String phoneNumber = s1.nextLine();\n                \n                //add new object to the collection\n                c.add(new AddressBook(name,street,city,state,zip,phoneNumber));\n            break;\n</code></pre>\n<p>The second case will then allow for the input records to be displayed</p>\n<pre><code>case 2:\n                //to separate out each record\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n                //Iterator is the function that will retract each record one by one \n                Iterator&lt;AddressBook&gt; i = c.iterator();\n                //create a loop to see if next next record is available\n                while(i.hasNext()) {\n                    //this will display the records\n                    AddressBook a = i.next();\n                    System.out.println(a);\n                }\n                //draw a line to separate each record\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n            break;\n</code></pre>\n<p>Finally is my search option. I want to be able to search for a record in the address book. I have chosen to search by the person's phone number. If the record is there then I want it to just display the entire record. If it cannot find the record then it will say &quot;Record not found&quot;</p>\n<pre><code>case 3:\n                //record cannot be found\n                boolean found = false;\n                System.out.println(&quot;Enter Phone Number to Search : &quot;);\n                phoneNumber  = s1.nextLine();\n                //to separate out each record\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n                //create a loop to see if next next record is available\n                i = c.iterator();\n                while(i.hasNext()) {\n                    //this will display the records\n                    AddressBook a = i.next();\n                    //create a loop so that phone number searched is equal to the one entered by the users in the record\n                    if(a.getPhoneNumber() == phoneNumber) {\n                        System.out.println(a);\n                        found = true;\n                    }\n                }\n                            \n                if(!found) {\n                    System.out.println(&quot;Record Not Found&quot;);\n                }\n                System.out.println(&quot;---------------------------------------------------------------&quot;);\n            break;\n            }\n        }while(ch!=0);\n    }\n}\n</code></pre>\n<p>When I search for a record that has already been created from the user input, I get the message &quot;Record not found&quot;. I wanted it to say this when there truly was no record found. Clearly I have made it say this statement all the time and I am unsure how to fix it.</p>\n"},{"tags":["java","generics","wildcard"],"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678934180,"answer_count":0,"score":0,"last_activity_date":1678933812,"creation_date":1678933812,"question_id":75751669,"body_markdown":"are the following two ways the same?\r\n\r\napproach 1:\r\n\r\n    public static void process(List&lt;? extends Foo&gt; list) {\r\n        for(Foo elem: list){\r\n        }\r\n    }\r\n\r\napproach 2:\r\n\r\n    public static &lt;T extends Foo&gt; void process(List&lt;T&gt; list) {\r\n        for(Foo elem: list){\r\n        }\r\n    }\r\n\r\nif they are different, why? better if you can provide some examples \r\n\r\nboth code snippets should compile","title":"a question about java generics&#39; wildcard type","body":"<p>are the following two ways the same?</p>\n<p>approach 1:</p>\n<pre><code>public static void process(List&lt;? extends Foo&gt; list) {\n    for(Foo elem: list){\n    }\n}\n</code></pre>\n<p>approach 2:</p>\n<pre><code>public static &lt;T extends Foo&gt; void process(List&lt;T&gt; list) {\n    for(Foo elem: list){\n    }\n}\n</code></pre>\n<p>if they are different, why? better if you can provide some examples</p>\n<p>both code snippets should compile</p>\n"},{"tags":["java","file-io","filenotfoundexception"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1679291597,"post_id":75751144,"comment_id":133688423,"body_markdown":"It could be the problem with the file location. Have you checked your file location? Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of your code.","body":"It could be the problem with the file location. Have you checked your file location? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code."}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678932458,"creation_date":1678932458,"answer_id":75751588,"question_id":75751144,"body_markdown":"From the error:  \r\n```Error -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)```\r\n\r\nIt states that the targeted file is not being read.\r\n\r\nFrom the below code, it tries to read the file **filename.txt**:  \r\n```java\r\nlab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\r\n```\r\n\r\nYou have to ensure that there is a file named **filename.txt** in your working directory, or in the same directory with your executable.\r\n\r\nOr you can always try to replace ```filename.txt``` with the exact path to your **filename.txt** first.\r\n```java\r\nlab2 = Util.readFile(&quot;C:/.../.../filename.txt&quot;, lab2);\r\n```","title":"FileNotFoundException: the system cannot find the file specified","body":"<p>From the error:<br />\n<code>Error -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)</code></p>\n<p>It states that the targeted file is not being read.</p>\n<p>From the below code, it tries to read the file <strong>filename.txt</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\n</code></pre>\n<p>You have to ensure that there is a file named <strong>filename.txt</strong> in your working directory, or in the same directory with your executable.</p>\n<p>Or you can always try to replace <code>filename.txt</code> with the exact path to your <strong>filename.txt</strong> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>lab2 = Util.readFile(&quot;C:/.../.../filename.txt&quot;, lab2);\n</code></pre>\n"}],"owner":{"account_id":28027667,"reputation":1,"user_id":21407350,"display_name":"mrjj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678932458,"creation_date":1678925945,"question_id":75751144,"body_markdown":"My task is to create a program to perform statistical analysis of scores for a class of students. The class may have up to 40 students. There are five quizzes during the term. Each student is identified by a four-digit student ID number. The program is to print the student scores and calculate and print the statistics for each quiz. We are meant to use 4 different classes which are provided below\r\n\r\n\r\n```\r\npackage lab2;\r\nimport java.util.Arrays;\r\npublic class Student {\r\n\t\r\n\tprivate int SID;\r\n\tprivate int[] scores = new int[5];\r\n\tpublic int getSID() {\r\n\t\treturn SID;\r\n}\r\n\r\n\t\tpublic void setSID(int SID) {\r\n\t\t\t\tthis.SID = SID;\r\n\t\t}\r\n\t\t\tpublic int[] getScores() {\r\n\t\t\t\treturn scores;\r\n\t\t\t}\r\n\t\t\tpublic void setScores(int[] scores) {\r\n\t\t\t\tthis.scores = scores;\r\n\t\t\t}\t\r\n\t\t\tpublic void print() {\r\n\t\t\t\tSystem.out.println(SID + &quot; &quot; + Arrays.toString(scores));\r\n\t\t\t}\r\n\t}\r\n\r\n```\r\n\r\n```\r\npackage lab2;\r\nimport java.util.Arrays;\r\n\tpublic class Statistics {\r\n\t\t\r\n\t\tprivate int [] lowscores = new int [5];\r\n\t\tprivate int [] highscores = new int [5];\r\n\t\t\tprivate float [] avgscores = new float [5];\r\n\t\t\t\r\n\t\tvoid findlow(Student [] a){\r\n\t\t\t\r\n\tfor (int i = 0; i &lt; lowscores.length; ++i) {\r\n\t\tlowscores[i] = 100;\r\n\t\tfor (Student student : a) {\r\n\t\t\tif (student.getScores()[i] &lt; lowscores[i]) {\r\n\t\t\t\tlowscores[i] = student.getScores()[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\tvoid findhigh(Student [] a){\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; highscores.length; ++i) {\r\n\t\t\t\thighscores[i] = 0;\r\n\t\t\t\tfor (Student student : a) {\r\n\t\t\t\t\tif (student.getScores()[i] &gt; highscores[i]) {\r\n\t\t\t\t\t\thighscores[i] = student.getScores()[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvoid findavg(Student [] a) {\r\n\t\t\tfor (int i = 0; i &lt; avgscores.length; ++i) {\r\n\t\t\t\tavgscores[i] = 0;\r\n\t\t\t\tfor (Student student : a) {\r\n\t\t\t\t\tavgscores[i] += student.getScores()[i];\r\n\t\t\t\t}\r\n\t\t\t\tavgscores[i] /= a.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.println(&quot;High Score &quot; + Arrays.toString(highscores));\r\n\t\t\tSystem.out.println(&quot;Low Score &quot; + Arrays.toString(lowscores));\r\n\t\t\tSystem.out.println(&quot;Average &quot; + Arrays.toString(avgscores));\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\n```\r\npackage lab2;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class Util {\r\n\r\n   public static Student[] readFile(String StudentScores, Student[] stu) {\r\n\t \r\n        int i = 0;\r\n\r\n        //Reads the file and builds student array.\r\n        try { FileReader File = new FileReader(StudentScores);\r\n        BufferedReader buff = new BufferedReader(File);\r\n\r\n            // skipping header row\r\n            boolean eof = buff.readLine() == null;\r\n\r\n            while (!eof) {\r\n                String line = buff.readLine();\r\n\r\n                if (line == null)\r\n                    eof = true;\r\n\r\n                else {\r\n                    String[] data = line.split(&quot; &quot;);\r\n                    stu[i] = new Student();\r\n                    stu[i].setSID(Integer.parseInt(data[0]));\r\n\r\n                    int[] scores = new int[data.length - 1];\r\n\r\n                    for (int j = 1; j &lt; data.length; ++j) {\r\n                        scores[j - 1] = Integer.parseInt(data[j]);\r\n                    }\r\n                    stu[i].setScores(scores);\r\n                    ++i;\r\n                }\r\n            }\r\n\r\n            buff.close();\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error -- &quot; + e.toString());\r\n        }\r\n\r\n        Student[] students = new Student[i];\r\n        System.arraycopy(stu, 0, students, 0, i);\r\n        return students;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage lab2;\r\n\r\nimport java.io.FileNotFoundException;\r\n\r\npublic class Driver {\r\n\t\r\n\t public static void main(String[] args) throws FileNotFoundException {\r\n\t\t\r\n\t\r\n\t Student[] lab2 = new Student[40];\r\n\t // Populate the student array\r\n\t lab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\r\n\t Statistics statlab2 = new Statistics();\r\n\t statlab2.findlow(lab2);\r\n\t statlab2.findhigh(lab2);\r\n\t statlab2.findavg(lab2);\r\n\t System.out.println(&quot;Stud Qu1 Qu2 Qu3 Qu4 Qu5&quot;);\r\n\t for (Student student : lab2) {\r\n\t student.print();\r\n\t }\r\n\t statlab2.print();\r\n\t }\r\n\t}\r\n```\r\nThe input is supposed to be read from a text file. I have a file named `StudentScores.txt` but when I try to run it I get this message. I&#39;m not sure where to go from here or how to resolve this issue. Some help would be greatly appreciated. \r\n\r\n\r\n```\r\nError -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)\r\nStud Qu1 Qu2 Qu3 Qu4 Qu5\r\nHigh Score [0, 0, 0, 0, 0]\r\nLow Score [100, 100, 100, 100, 100]\r\nAverage  [NaN, NaN, NaN, NaN, NaN]\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n","title":"FileNotFoundException: the system cannot find the file specified","body":"<p>My task is to create a program to perform statistical analysis of scores for a class of students. The class may have up to 40 students. There are five quizzes during the term. Each student is identified by a four-digit student ID number. The program is to print the student scores and calculate and print the statistics for each quiz. We are meant to use 4 different classes which are provided below</p>\n<pre><code>package lab2;\nimport java.util.Arrays;\npublic class Student {\n    \n    private int SID;\n    private int[] scores = new int[5];\n    public int getSID() {\n        return SID;\n}\n\n        public void setSID(int SID) {\n                this.SID = SID;\n        }\n            public int[] getScores() {\n                return scores;\n            }\n            public void setScores(int[] scores) {\n                this.scores = scores;\n            }   \n            public void print() {\n                System.out.println(SID + &quot; &quot; + Arrays.toString(scores));\n            }\n    }\n\n</code></pre>\n<pre><code>package lab2;\nimport java.util.Arrays;\n    public class Statistics {\n        \n        private int [] lowscores = new int [5];\n        private int [] highscores = new int [5];\n            private float [] avgscores = new float [5];\n            \n        void findlow(Student [] a){\n            \n    for (int i = 0; i &lt; lowscores.length; ++i) {\n        lowscores[i] = 100;\n        for (Student student : a) {\n            if (student.getScores()[i] &lt; lowscores[i]) {\n                lowscores[i] = student.getScores()[i];\n            }\n        }\n    }\n}\n        void findhigh(Student [] a){\n            \n            for (int i = 0; i &lt; highscores.length; ++i) {\n                highscores[i] = 0;\n                for (Student student : a) {\n                    if (student.getScores()[i] &gt; highscores[i]) {\n                        highscores[i] = student.getScores()[i];\n                    }\n                }\n            }\n        }\n        void findavg(Student [] a) {\n            for (int i = 0; i &lt; avgscores.length; ++i) {\n                avgscores[i] = 0;\n                for (Student student : a) {\n                    avgscores[i] += student.getScores()[i];\n                }\n                avgscores[i] /= a.length;\n            }\n        }\n        public void print() {\n            System.out.println(&quot;High Score &quot; + Arrays.toString(highscores));\n            System.out.println(&quot;Low Score &quot; + Arrays.toString(lowscores));\n            System.out.println(&quot;Average &quot; + Arrays.toString(avgscores));\n        }\n    }\n\n</code></pre>\n<pre><code>package lab2;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\npublic class Util {\n\n   public static Student[] readFile(String StudentScores, Student[] stu) {\n     \n        int i = 0;\n\n        //Reads the file and builds student array.\n        try { FileReader File = new FileReader(StudentScores);\n        BufferedReader buff = new BufferedReader(File);\n\n            // skipping header row\n            boolean eof = buff.readLine() == null;\n\n            while (!eof) {\n                String line = buff.readLine();\n\n                if (line == null)\n                    eof = true;\n\n                else {\n                    String[] data = line.split(&quot; &quot;);\n                    stu[i] = new Student();\n                    stu[i].setSID(Integer.parseInt(data[0]));\n\n                    int[] scores = new int[data.length - 1];\n\n                    for (int j = 1; j &lt; data.length; ++j) {\n                        scores[j - 1] = Integer.parseInt(data[j]);\n                    }\n                    stu[i].setScores(scores);\n                    ++i;\n                }\n            }\n\n            buff.close();\n\n        } catch (IOException e) {\n            System.out.println(&quot;Error -- &quot; + e.toString());\n        }\n\n        Student[] students = new Student[i];\n        System.arraycopy(stu, 0, students, 0, i);\n        return students;\n    }\n}\n</code></pre>\n<pre><code>package lab2;\n\nimport java.io.FileNotFoundException;\n\npublic class Driver {\n    \n     public static void main(String[] args) throws FileNotFoundException {\n        \n    \n     Student[] lab2 = new Student[40];\n     // Populate the student array\n     lab2 = Util.readFile(&quot;filename.txt&quot;, lab2);\n     Statistics statlab2 = new Statistics();\n     statlab2.findlow(lab2);\n     statlab2.findhigh(lab2);\n     statlab2.findavg(lab2);\n     System.out.println(&quot;Stud Qu1 Qu2 Qu3 Qu4 Qu5&quot;);\n     for (Student student : lab2) {\n     student.print();\n     }\n     statlab2.print();\n     }\n    }\n</code></pre>\n<p>The input is supposed to be read from a text file. I have a file named <code>StudentScores.txt</code> but when I try to run it I get this message. I'm not sure where to go from here or how to resolve this issue. Some help would be greatly appreciated.</p>\n<pre><code>Error -- java.io.FileNotFoundException: StudentScores.txt (The system cannot find the file specified)\nStud Qu1 Qu2 Qu3 Qu4 Qu5\nHigh Score [0, 0, 0, 0, 0]\nLow Score [100, 100, 100, 100, 100]\nAverage  [NaN, NaN, NaN, NaN, NaN]\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","multithreading","synchronization","runnable"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1677463021,"post_id":75552123,"comment_id":133336872,"body_markdown":"Can you share the other code which changes the text views apart from QandA method?","body":"Can you share the other code which changes the text views apart from QandA method?"}],"answers":[{"tags":[],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678932317,"creation_date":1678932317,"answer_id":75751583,"question_id":75552123,"body_markdown":"I managed to fix the issue another way.  \r\n\r\nI gave up on trying to set hintView in the QandA method.  Instead, I made the following method and put it in all the runnables for the buttons.  \r\n\r\n       public void katakana(){\r\n                if (pickFromArray ==0){\r\n                    hintView.setText(&quot;ア&quot;);\r\n                }\r\n                if (pickFromArray ==1){\r\n                    hintView.setText(&quot;イ&quot;);\r\n                }\r\n                if (pickFromArray ==2){\r\n                    hintView.setText(&quot;ウ&quot;);\r\n                }\r\n                if (pickFromArray ==3){\r\n                    hintView.setText(&quot;エ&quot;);\r\n                }\r\n                if (pickFromArray ==4){\r\n                    hintView.setText(&quot;オ&quot;);\r\n                }\r\n        }\r\n\r\n","title":"How do I use the synchronized command correctly?","body":"<p>I managed to fix the issue another way.</p>\n<p>I gave up on trying to set hintView in the QandA method.  Instead, I made the following method and put it in all the runnables for the buttons.</p>\n<pre><code>   public void katakana(){\n            if (pickFromArray ==0){\n                hintView.setText(&quot;ア&quot;);\n            }\n            if (pickFromArray ==1){\n                hintView.setText(&quot;イ&quot;);\n            }\n            if (pickFromArray ==2){\n                hintView.setText(&quot;ウ&quot;);\n            }\n            if (pickFromArray ==3){\n                hintView.setText(&quot;エ&quot;);\n            }\n            if (pickFromArray ==4){\n                hintView.setText(&quot;オ&quot;);\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678932317,"creation_date":1677205887,"question_id":75552123,"body_markdown":"I&#39;m making a game to memorise katakana.  It plays like Whack-a-mole, and I have nine buttons that flash to show either true or false answers.    \r\n\r\nI have two textViews.  One displays romaji and the other katakana.  I need them to change in-sync.\r\n\r\nI have one arrayList that contains romaji and another that contains the corresponding katakana.  Their indexes line up.\r\nE.g. romaji = [a, i, u, e, o]\r\n     katakana = [ア, イ, ウ, エ, オ] \r\n     \r\n\r\nI&#39;m using the following method to select which katakana and romaji to display.  \r\n\r\n    public void QandA(){\r\n        synchronized (this){\r\n        pickFromArray = ThreadLocalRandom.current().nextInt(0, arraySize);\r\n        textView29.setText(listromT.get(pickFromArray));\r\n        hintView.setText(listT.get(pickFromArray));}\r\n    }\r\n\r\nThe textViews change in-synch if QandA is the only method that I run in handler (via a runnable).  \r\n\r\nHowever, if I run the runnables that make the buttons flash, the textViews will change out of sync.  E.g. it might show &quot;a&quot; with &quot;オ&quot;.  \r\n\r\nMy guess is that the textViews get out of synch because the computer is processing the nine buttons in between the commands for the textViews.  I was hoping the synchronize command would force the CPU to read the QandA method as an uninterrupted block, but they still change out of synch.\r\n\r\nHow do I use it correctly?  Or is there another command that I should be using instead?\r\n\r\nThanks\r\n\r\n\r\nEDIT:\r\n\r\nI have a SetQuestion runnable that I run recursively.  \r\n\r\nIn onCreate:\r\n\r\n     handler.postDelayed(SetQuestion, 0);\r\n\r\n\r\nThe SetQuestion runnable:\r\n\r\n    public Runnable SetQuestion = new Runnable() {\r\n    \r\n            public void run() {\r\n    \r\n                runOnUiThread(new Runnable() {\r\n    \r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        Qtimer++;\r\n                        if (Qtimer%10==1){\r\n                            QandA();\r\n                        }\r\n                        if (Qtimer%10==6){\r\n                            QandA();\r\n                        }\r\n                        if (Qtimer&gt;199){\r\n                            Qtimer=110;\r\n                        }\r\n                        handler.postDelayed(this, 1000);\r\n    \r\n                    }\r\n                });\r\n    \r\n            }\r\n        };\r\n\r\nI&#39;ve also tried using TimerTasks for QandA and changing the buttons, but I get the same result.  The romaji and katakana change out of synch, although the buttons seem work fine (i.e. colours and text change in synch).  \r\n","title":"How do I use the synchronized command correctly?","body":"<p>I'm making a game to memorise katakana.  It plays like Whack-a-mole, and I have nine buttons that flash to show either true or false answers.</p>\n<p>I have two textViews.  One displays romaji and the other katakana.  I need them to change in-sync.</p>\n<p>I have one arrayList that contains romaji and another that contains the corresponding katakana.  Their indexes line up.\nE.g. romaji = [a, i, u, e, o]\nkatakana = [ア, イ, ウ, エ, オ]</p>\n<p>I'm using the following method to select which katakana and romaji to display.</p>\n<pre><code>public void QandA(){\n    synchronized (this){\n    pickFromArray = ThreadLocalRandom.current().nextInt(0, arraySize);\n    textView29.setText(listromT.get(pickFromArray));\n    hintView.setText(listT.get(pickFromArray));}\n}\n</code></pre>\n<p>The textViews change in-synch if QandA is the only method that I run in handler (via a runnable).</p>\n<p>However, if I run the runnables that make the buttons flash, the textViews will change out of sync.  E.g. it might show &quot;a&quot; with &quot;オ&quot;.</p>\n<p>My guess is that the textViews get out of synch because the computer is processing the nine buttons in between the commands for the textViews.  I was hoping the synchronize command would force the CPU to read the QandA method as an uninterrupted block, but they still change out of synch.</p>\n<p>How do I use it correctly?  Or is there another command that I should be using instead?</p>\n<p>Thanks</p>\n<p>EDIT:</p>\n<p>I have a SetQuestion runnable that I run recursively.</p>\n<p>In onCreate:</p>\n<pre><code> handler.postDelayed(SetQuestion, 0);\n</code></pre>\n<p>The SetQuestion runnable:</p>\n<pre><code>public Runnable SetQuestion = new Runnable() {\n\n        public void run() {\n\n            runOnUiThread(new Runnable() {\n\n                @Override\n                public void run() {\n\n                    Qtimer++;\n                    if (Qtimer%10==1){\n                        QandA();\n                    }\n                    if (Qtimer%10==6){\n                        QandA();\n                    }\n                    if (Qtimer&gt;199){\n                        Qtimer=110;\n                    }\n                    handler.postDelayed(this, 1000);\n\n                }\n            });\n\n        }\n    };\n</code></pre>\n<p>I've also tried using TimerTasks for QandA and changing the buttons, but I get the same result.  The romaji and katakana change out of synch, although the buttons seem work fine (i.e. colours and text change in synch).</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1001747,"reputation":658,"user_id":1016448,"accept_rate":75,"display_name":"daniel_or_else"},"score":0,"creation_date":1322466960,"post_id":2743130,"comment_id":10214767,"body_markdown":"I have the same problem. This is not a big issue since it happens very rarely. Using show_sql is not practical since reproducing this behavior requires millions of transactions. However, because this happens repeatedly during a system test I run (that has gazillions of transactions) I suspect that there is a specific reason.","body":"I have the same problem. This is not a big issue since it happens very rarely. Using show_sql is not practical since reproducing this behavior requires millions of transactions. However, because this happens repeatedly during a system test I run (that has gazillions of transactions) I suspect that there is a specific reason."},{"owner":{"account_id":10953953,"reputation":389,"user_id":8049404,"display_name":"fifman"},"score":0,"creation_date":1523155706,"post_id":2743130,"comment_id":86441969,"body_markdown":"I encountered this problem while I tried to update rows which have **NO** changes. Do not update something if there is no difference.","body":"I encountered this problem while I tried to update rows which have <b>NO</b> changes. Do not update something if there is no difference."}],"answers":[{"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"down_vote_count":4,"up_vote_count":87,"is_accepted":true,"score":83,"last_activity_date":1671926933,"creation_date":1272621343,"answer_id":2743663,"question_id":2743130,"body_markdown":"Without code and mappings for your transactions, it&#39;ll be next to impossible to investigate the problem.\r\n\r\nHowever, to get a better handle as to what causes the problem, try the following:\r\n\r\n* In your hibernate configuration, set hibernate.show_sql to true. This should show you the SQL that is executed and causes the problem.\r\n* Set the log levels for Spring and Hibernate to DEBUG, again this will give you a better idea as to which line causes the problem.\r\n* Create a unit test which replicates the problem without configuring a transaction manager in Spring. This should give you a better idea of the offending line of code.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Without code and mappings for your transactions, it'll be next to impossible to investigate the problem.</p>\n<p>However, to get a better handle as to what causes the problem, try the following:</p>\n<ul>\n<li>In your hibernate configuration, set hibernate.show_sql to true. This should show you the SQL that is executed and causes the problem.</li>\n<li>Set the log levels for Spring and Hibernate to DEBUG, again this will give you a better idea as to which line causes the problem.</li>\n<li>Create a unit test which replicates the problem without configuring a transaction manager in Spring. This should give you a better idea of the offending line of code.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1142441,"reputation":1390,"user_id":1125959,"accept_rate":25,"display_name":"shreyas"},"down_vote_count":2,"up_vote_count":104,"is_accepted":false,"score":102,"last_activity_date":1352468940,"creation_date":1352468940,"answer_id":13309318,"question_id":2743130,"body_markdown":"I got the same exception while deleting a record by Id that does not exists at all.  So check that record you are updating/Deleting actually exists in DB","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got the same exception while deleting a record by Id that does not exists at all.  So check that record you are updating/Deleting actually exists in DB</p>\n"},{"tags":[],"owner":{"account_id":1022880,"reputation":2804,"user_id":1032791,"accept_rate":73,"display_name":"Julius"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1360325991,"creation_date":1360325991,"answer_id":14772423,"question_id":2743130,"body_markdown":"I just encountered this problem and found out I was deleting a record and trying to update it afterwards in a Hibernate transaction. ","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I just encountered this problem and found out I was deleting a record and trying to update it afterwards in a Hibernate transaction. </p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379429428,"creation_date":1377802211,"answer_id":18518859,"question_id":2743130,"body_markdown":"As [Julius][1] says this happens when an update Occurs on an Object that has its children being deleted. (Probably because there was a need for an update for the whole Father Object and sometimes we prefer to delete the children and re -insert them on the Father  (new , old doesnt matter )along with any other updates the father could have on any of its other plain fields)\r\nSo ...in order for this to work delete the children (within a Transaction) by calling `childrenList.clear()` (Dont loop through the children and delete each one with some `childDAO.delete(childrenList.get(i).delete()))` and setting \r\n`@OneToMany(cascade = CascadeType.XXX ,orphanRemoval=true)` on the Side of the Father Object. Then update the father (fatherDAO.update(father)). (Repeat for every father object) The result is that children have their link to their father stripped off  and then they are being removed as orphans by the framework.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1032791/julius","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>As <a href=\"https://stackoverflow.com/users/1032791/julius\">Julius</a> says this happens when an update Occurs on an Object that has its children being deleted. (Probably because there was a need for an update for the whole Father Object and sometimes we prefer to delete the children and re -insert them on the Father  (new , old doesnt matter )along with any other updates the father could have on any of its other plain fields)\nSo ...in order for this to work delete the children (within a Transaction) by calling <code>childrenList.clear()</code> (Dont loop through the children and delete each one with some <code>childDAO.delete(childrenList.get(i).delete()))</code> and setting \n<code>@OneToMany(cascade = CascadeType.XXX ,orphanRemoval=true)</code> on the Side of the Father Object. Then update the father (fatherDAO.update(father)). (Repeat for every father object) The result is that children have their link to their father stripped off  and then they are being removed as orphans by the framework.</p>\n"},{"tags":[],"owner":{"account_id":1681180,"reputation":229,"user_id":1545379,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635241038,"creation_date":1381999669,"answer_id":19422041,"question_id":2743130,"body_markdown":"It happens when you try to `delete` an object and then you try to `update` the same object. Use this after `delete`:\r\n\r\n    session.clear();","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>It happens when you try to <code>delete</code> an object and then you try to <code>update</code> the same object. Use this after <code>delete</code>:</p>\n<pre><code>session.clear();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189466,"reputation":5280,"user_id":428811,"accept_rate":47,"display_name":"Mr. TA"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1392133463,"creation_date":1392133463,"answer_id":21706388,"question_id":2743130,"body_markdown":"This can happen when trigger(s) execute additional DML (data modification) queries which affect the row counts. My solution was to add the following at the top of my trigger:\r\n\r\n    SET NOCOUNT ON;","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This can happen when trigger(s) execute additional DML (data modification) queries which affect the row counts. My solution was to add the following at the top of my trigger:</p>\n\n<pre><code>SET NOCOUNT ON;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1823847,"reputation":2806,"user_id":1657225,"accept_rate":80,"display_name":"cSn"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1397779080,"creation_date":1397779080,"answer_id":23145389,"question_id":2743130,"body_markdown":"This happened to me once by accident when I was assigning specific IDs to some objects (testing) and then I was trying to save them in the database. The problem was that in the database there was an specific policy for setting up the IDs of the objects. Just **do not** assign an ID if you have a policy at Hibernate level.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happened to me once by accident when I was assigning specific IDs to some objects (testing) and then I was trying to save them in the database. The problem was that in the database there was an specific policy for setting up the IDs of the objects. Just <strong>do not</strong> assign an ID if you have a policy at Hibernate level.</p>\n"},{"tags":[],"owner":{"account_id":3861140,"reputation":808,"user_id":3198857,"display_name":"MadukaJ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398850585,"creation_date":1398850585,"answer_id":23384570,"question_id":2743130,"body_markdown":"i got the same problem and i verified this may occur because of Auto increment primary key. To solve this problem do not inset auto increment value with data set. Insert data without the primary key.\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>i got the same problem and i verified this may occur because of Auto increment primary key. To solve this problem do not inset auto increment value with data set. Insert data without the primary key.</p>\n"},{"tags":[],"owner":{"account_id":4410050,"reputation":51,"user_id":3593268,"display_name":"Shiv"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398959905,"creation_date":1398958677,"answer_id":23411047,"question_id":2743130,"body_markdown":"I encountered this problem where we had one-many relationship.\r\n\r\nIn the hibernate hbm mapping file for master, for object with set type arrangement, added `cascade=&quot;save-update&quot;` and it worked fine.\r\n\r\nWithout this, by default hibernate tries to update for a non-existent record and by doing so it inserts instead.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I encountered this problem where we had one-many relationship.</p>\n\n<p>In the hibernate hbm mapping file for master, for object with set type arrangement, added <code>cascade=\"save-update\"</code> and it worked fine.</p>\n\n<p>Without this, by default hibernate tries to update for a non-existent record and by doing so it inserts instead.</p>\n"},{"tags":[],"owner":{"account_id":3299251,"reputation":651,"user_id":2775788,"display_name":"Rēda Biramanē"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1399479509,"creation_date":1399479509,"answer_id":23523102,"question_id":2743130,"body_markdown":"Solution:\r\nIn the Hibernate mapping file for the id property, if you use any generator class, for that property you should not set the value explicitly by using a setter method.\r\n\r\nIf you set the value of the Id property explicitly, it will lead the error above. Check this to avoid this error.\r\nor \r\nIt&#39;s error show when you mention in the mapping file the field  generator=&quot;native&quot; or &quot;incremental&quot; and in your  DATABASE the table mapped is not auto_incremented \r\nSolution: Go to your DATABASE and update your table to set auto_increment\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Solution:\nIn the Hibernate mapping file for the id property, if you use any generator class, for that property you should not set the value explicitly by using a setter method.</p>\n\n<p>If you set the value of the Id property explicitly, it will lead the error above. Check this to avoid this error.\nor \nIt's error show when you mention in the mapping file the field  generator=\"native\" or \"incremental\" and in your  DATABASE the table mapped is not auto_incremented \nSolution: Go to your DATABASE and update your table to set auto_increment</p>\n"},{"tags":[],"owner":{"account_id":4167496,"reputation":167,"user_id":3416155,"display_name":"Gibado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412610149,"creation_date":1412610149,"answer_id":26219856,"question_id":2743130,"body_markdown":"I ran into this issue when I was manually beginning and committing transactions inside of method annotated as `@Transactional`.  I fixed the problem by detecting if an active transaction already existed.\r\n\r\n    //Detect underlying transaction\r\n    if (session.getTransaction() != null &amp;&amp; session.getTransaction().isActive()) {\r\n\t\tmyTransaction = session.getTransaction();\r\n\t\tpreExistingTransaction = true;\r\n\t} else {\r\n\t\tmyTransaction = session.beginTransaction();\r\n\t}\r\n\r\nThen I allowed Spring to handle committing the transaction.\r\n\r\n    private void finishTransaction() {\r\n\t\tif (!preExistingTransaction) {\r\n\t\t\ttry {\r\n\t\t\t\ttx.commit();\r\n\t\t\t} catch (HibernateException he) {\r\n\t\t\t\tif (tx != null) {\r\n\t\t\t\t\ttx.rollback();\r\n\t\t\t\t}\r\n\t\t\t\tlog.error(he);\r\n\t\t\t} finally {\r\n\t\t\t\tif (newSessionOpened) {\r\n\t\t\t\t\tSessionFactoryUtils.closeSession(session);\r\n\t\t\t\t\tnewSessionOpened = false;\r\n\t\t\t\t\tmaxResults = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I ran into this issue when I was manually beginning and committing transactions inside of method annotated as <code>@Transactional</code>.  I fixed the problem by detecting if an active transaction already existed.</p>\n\n<pre><code>//Detect underlying transaction\nif (session.getTransaction() != null &amp;&amp; session.getTransaction().isActive()) {\n    myTransaction = session.getTransaction();\n    preExistingTransaction = true;\n} else {\n    myTransaction = session.beginTransaction();\n}\n</code></pre>\n\n<p>Then I allowed Spring to handle committing the transaction.</p>\n\n<pre><code>private void finishTransaction() {\n    if (!preExistingTransaction) {\n        try {\n            tx.commit();\n        } catch (HibernateException he) {\n            if (tx != null) {\n                tx.rollback();\n            }\n            log.error(he);\n        } finally {\n            if (newSessionOpened) {\n                SessionFactoryUtils.closeSession(session);\n                newSessionOpened = false;\n                maxResults = 0;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4108798,"reputation":3209,"user_id":3371954,"display_name":"Roberto Rodriguez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424129830,"creation_date":1424129830,"answer_id":28552249,"question_id":2743130,"body_markdown":"This happened to me too, because I had my id as Long, and I was receiving from the view the value 0, and when I tried to save in the database I got this error, then I fixed it by set the id to null.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happened to me too, because I had my id as Long, and I was receiving from the view the value 0, and when I tried to save in the database I got this error, then I fixed it by set the id to null.</p>\n"},{"tags":[],"owner":{"account_id":5263557,"reputation":127,"user_id":4204338,"accept_rate":100,"display_name":"John Lopez"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1438349270,"creation_date":1438293910,"answer_id":31734897,"question_id":2743130,"body_markdown":"This happens when you declared the JSF Managed Bean as \r\n\r\n    @RequestScoped;\r\n\r\nwhen you should declare as\r\n\r\n    @SessionScoped;\r\n\r\nRegards;","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happens when you declared the JSF Managed Bean as </p>\n\n<pre><code>@RequestScoped;\n</code></pre>\n\n<p>when you should declare as</p>\n\n<pre><code>@SessionScoped;\n</code></pre>\n\n<p>Regards;</p>\n"},{"tags":[],"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440497022,"creation_date":1440497022,"answer_id":32201073,"question_id":2743130,"body_markdown":"I was facing same issue.\r\nThe code was working in the testing environment. But it was not working in staging environment.\r\n\r\n    org.hibernate.jdbc.BatchedTooManyRowsAffectedException: Batch update returned unexpected row count from update [0]; actual row count: 3; expected: 1\r\n\r\nThe problem was the table had single entry for each primary key in testing DB table. But in staging DB there was multiple entry for same primary key. ( Problem is in staging DB the table didn&#39;t had any primary key constraints also there was multiple entry.)\r\n\r\nSo every time on update operation it gets failed. It tries to update single record and expect to get update count as 1. But since there was 3 records in the table for the same primary key, The result update count finds 3. Since expected update count and actual result update count didn&#39;t match, It throws exception and rolls back.\r\n\r\nAfter the I removed all the records which have duplicate primary key and added primary key constraints. It is working fine.\r\n\r\n    Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\r\n\r\n\r\nactual row count: 0 // means no record found to update  \r\nupdate: 0 // means no record found so nothing update  \r\nexpected: 1 // means expected at least 1 record with key in db table.  \r\n\r\nHere the problem is that the query trying to update a record for some key, But hibernate didn&#39;t find any record with the key.\r\n\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I was facing same issue.\nThe code was working in the testing environment. But it was not working in staging environment.</p>\n\n<pre><code>org.hibernate.jdbc.BatchedTooManyRowsAffectedException: Batch update returned unexpected row count from update [0]; actual row count: 3; expected: 1\n</code></pre>\n\n<p>The problem was the table had single entry for each primary key in testing DB table. But in staging DB there was multiple entry for same primary key. ( Problem is in staging DB the table didn't had any primary key constraints also there was multiple entry.)</p>\n\n<p>So every time on update operation it gets failed. It tries to update single record and expect to get update count as 1. But since there was 3 records in the table for the same primary key, The result update count finds 3. Since expected update count and actual result update count didn't match, It throws exception and rolls back.</p>\n\n<p>After the I removed all the records which have duplicate primary key and added primary key constraints. It is working fine.</p>\n\n<pre><code>Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\n</code></pre>\n\n<p>actual row count: 0 // means no record found to update<br>\nupdate: 0 // means no record found so nothing update<br>\nexpected: 1 // means expected at least 1 record with key in db table.  </p>\n\n<p>Here the problem is that the query trying to update a record for some key, But hibernate didn't find any record with the key.</p>\n"},{"tags":[],"owner":{"account_id":5291146,"reputation":768,"user_id":4223734,"accept_rate":67,"display_name":"Soggiorno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463001157,"creation_date":1463001157,"answer_id":37173383,"question_id":2743130,"body_markdown":"I got this error when I tried to update an object with an id that did not exist in the database. The reason for my mistake was that I had manually assigned a property with the name &#39;id&#39; to the client side JSON-representation of the object and then when deserializing the object on the server side this &#39;id&#39; property would overwrite the instance variable (also called &#39;id&#39;) that Hibernate was supposed to generate. So be careful of naming collisions if you are using Hibernate to generate identifiers.   ","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got this error when I tried to update an object with an id that did not exist in the database. The reason for my mistake was that I had manually assigned a property with the name 'id' to the client side JSON-representation of the object and then when deserializing the object on the server side this 'id' property would overwrite the instance variable (also called 'id') that Hibernate was supposed to generate. So be careful of naming collisions if you are using Hibernate to generate identifiers.   </p>\n"},{"tags":[],"owner":{"account_id":8680729,"reputation":1,"user_id":6496683,"display_name":"abhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466555535,"creation_date":1466555535,"answer_id":37956733,"question_id":2743130,"body_markdown":"This happened if you change something in data set using native sql query but persisted object for same data set is present in session cache.\r\nUse session.evict(yourObject);\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happened if you change something in data set using native sql query but persisted object for same data set is present in session cache.\nUse session.evict(yourObject);</p>\n"},{"tags":[],"owner":{"account_id":3169342,"reputation":104,"user_id":2678694,"accept_rate":100,"display_name":"Kuldeep Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468779002,"creation_date":1468779002,"answer_id":38424373,"question_id":2743130,"body_markdown":"I also came across the same challenge. In my case I was updating an object which was not even existing, using `hibernateTemplate`. \r\n\r\nActually in my application I was getting a DB object to update. And while updating its values, I also updated its ID by mistake, and went ahead to update it and came across the said error. \r\n\r\nI am using `hibernateTemplate` for CRUD operations.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I also came across the same challenge. In my case I was updating an object which was not even existing, using <code>hibernateTemplate</code>. </p>\n\n<p>Actually in my application I was getting a DB object to update. And while updating its values, I also updated its ID by mistake, and went ahead to update it and came across the said error. </p>\n\n<p>I am using <code>hibernateTemplate</code> for CRUD operations.</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470923015,"creation_date":1470923015,"answer_id":38898118,"question_id":2743130,"body_markdown":"Hibernate caches objects from the session. If object is accessed and modified by more than 1 user then `org.hibernate.StaleStateException` may be be thrown. It may be solved with merge/refresh entity method before saving or using lock. More info: http://java-fp.blogspot.lt/2011/09/orghibernatestalestateexception-batch.html\r\n\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Hibernate caches objects from the session. If object is accessed and modified by more than 1 user then <code>org.hibernate.StaleStateException</code> may be be thrown. It may be solved with merge/refresh entity method before saving or using lock. More info: <a href=\"http://java-fp.blogspot.lt/2011/09/orghibernatestalestateexception-batch.html\" rel=\"nofollow\">http://java-fp.blogspot.lt/2011/09/orghibernatestalestateexception-batch.html</a></p>\n"},{"tags":[],"owner":{"account_id":5798913,"reputation":4819,"user_id":4573762,"accept_rate":93,"display_name":"Luis Teijon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471790002,"creation_date":1471790002,"answer_id":39065345,"question_id":2743130,"body_markdown":"After reading all answers did&#180;t find anyone to talk about inverse atribute of hibernate. \r\n\r\nIn my my opinion you should also verify in your relationships mapping whether **inverse** key word is appropiately setted. **Inverse** keyword is created to defines which side is the owner to maintain the relationship. The procedure for updating and inserting varies cccording to this attribute.\r\n\r\nLet&#39;s suppose we have two tables:\r\n\r\n**principal_table**, **middle_table**\r\n\r\nwith a relationship of **one to many**. The hiberntate mapping classes are **Principal** and **Middle** respectively. \r\n\r\nSo the **Principal** class has a SET of **Middle** objects. The xml mapping file should be like following:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;path.to.class.Principal&quot; table=&quot;principal_table&quot; ...&gt;\r\n        ...\r\n        &lt;set name=&quot;middleObjects&quot; table=&quot;middle_table&quot; inverse=&quot;true&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key&gt;\r\n                &lt;column name=&quot;PRINCIPAL_ID&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/key&gt;\r\n            &lt;one-to-many class=&quot;path.to.class.Middel&quot; /&gt;\r\n        &lt;/set&gt;\r\n        ...\r\n\r\nAs inverse is set to ”true”, it means “Middle” class is the relationship owner, so Principal class will **NOT UPDATE** the relationship.\r\n\r\nSo the procedure for updating could be implemented like this:\r\n\r\n    session.beginTransaction();\r\n    \r\n    Principal principal = new Principal();\r\n    principal.setSomething(&quot;1&quot;);\r\n    principal.setSomethingElse(&quot;2&quot;);\r\n\r\n    \r\n    Middle middleObject = new Middle();\r\n    middleObject.setSomething(&quot;1&quot;);\r\n    \r\n    middleObject.setPrincipal(principal);\r\n    principal.getMiddleObjects().add(middleObject);\r\n    \r\n    session.saveOrUpdate(principal);\r\n    session.saveOrUpdate(middleObject); // NOTICE: you will need to save it manually\r\n    \r\n    session.getTransaction().commit();\r\n\r\nThis worked for me, bu you can suggest some editions in order to improve the solution. That way we all will be learning.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>After reading all answers did´t find anyone to talk about inverse atribute of hibernate. </p>\n\n<p>In my my opinion you should also verify in your relationships mapping whether <strong>inverse</strong> key word is appropiately setted. <strong>Inverse</strong> keyword is created to defines which side is the owner to maintain the relationship. The procedure for updating and inserting varies cccording to this attribute.</p>\n\n<p>Let's suppose we have two tables:</p>\n\n<p><strong>principal_table</strong>, <strong>middle_table</strong></p>\n\n<p>with a relationship of <strong>one to many</strong>. The hiberntate mapping classes are <strong>Principal</strong> and <strong>Middle</strong> respectively. </p>\n\n<p>So the <strong>Principal</strong> class has a SET of <strong>Middle</strong> objects. The xml mapping file should be like following:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n    &lt;class name=\"path.to.class.Principal\" table=\"principal_table\" ...&gt;\n    ...\n    &lt;set name=\"middleObjects\" table=\"middle_table\" inverse=\"true\" fetch=\"select\"&gt;\n        &lt;key&gt;\n            &lt;column name=\"PRINCIPAL_ID\" not-null=\"true\" /&gt;\n        &lt;/key&gt;\n        &lt;one-to-many class=\"path.to.class.Middel\" /&gt;\n    &lt;/set&gt;\n    ...\n</code></pre>\n\n<p>As inverse is set to ”true”, it means “Middle” class is the relationship owner, so Principal class will <strong>NOT UPDATE</strong> the relationship.</p>\n\n<p>So the procedure for updating could be implemented like this:</p>\n\n<pre><code>session.beginTransaction();\n\nPrincipal principal = new Principal();\nprincipal.setSomething(\"1\");\nprincipal.setSomethingElse(\"2\");\n\n\nMiddle middleObject = new Middle();\nmiddleObject.setSomething(\"1\");\n\nmiddleObject.setPrincipal(principal);\nprincipal.getMiddleObjects().add(middleObject);\n\nsession.saveOrUpdate(principal);\nsession.saveOrUpdate(middleObject); // NOTICE: you will need to save it manually\n\nsession.getTransaction().commit();\n</code></pre>\n\n<p>This worked for me, bu you can suggest some editions in order to improve the solution. That way we all will be learning.</p>\n"},{"tags":[],"owner":{"account_id":3372023,"reputation":11,"user_id":2831046,"display_name":"vootla561"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473665472,"creation_date":1473660902,"answer_id":39444288,"question_id":2743130,"body_markdown":"One of the case\r\n\r\n    SessionFactory sf=new Configuration().configure().buildSessionFactory();\r\n\tSession session=sf.openSession();\r\n\t\t\r\n\tUserDetails user=new UserDetails();\r\n\t\t\r\n\tsession.beginTransaction();\r\n\tuser.setUserName(&quot;update user agian&quot;);\r\n\tuser.setUserId(12);\r\n\tsession.saveOrUpdate(user);\r\n\tsession.getTransaction().commit();\r\n\tSystem.out.println(&quot;user::&quot;+user.getUserName());\r\n\t\t\r\n    sf.close();","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>One of the case</p>\n\n<pre><code>SessionFactory sf=new Configuration().configure().buildSessionFactory();\nSession session=sf.openSession();\n\nUserDetails user=new UserDetails();\n\nsession.beginTransaction();\nuser.setUserName(\"update user agian\");\nuser.setUserId(12);\nsession.saveOrUpdate(user);\nsession.getTransaction().commit();\nSystem.out.println(\"user::\"+user.getUserName());\n\nsf.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1241949,"reputation":71,"user_id":1254215,"display_name":"roylac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505376717,"creation_date":1480332879,"answer_id":40843350,"question_id":2743130,"body_markdown":"I got this error because I mistakenly mapped the `ID` column using `Id(x =&gt; x.Id, &quot;id&quot;).GeneratedBy.**Assigned**();`\r\n\r\nIssue resolved by using  `Id(x =&gt; x.Id, &quot;id&quot;).GeneratedBy.**Identity**();`\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got this error because I mistakenly mapped the <code>ID</code> column using <code>Id(x =&gt; x.Id, \"id\").GeneratedBy.**Assigned**();</code></p>\n\n<p>Issue resolved by using  <code>Id(x =&gt; x.Id, \"id\").GeneratedBy.**Identity**();</code></p>\n"},{"tags":[],"owner":{"account_id":5476205,"reputation":459,"user_id":4354157,"accept_rate":20,"display_name":"kamel2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488555489,"creation_date":1488555489,"answer_id":42582924,"question_id":2743130,"body_markdown":"I was facing this exception, and hibernate was working well. I tried to insert manually one record using pgAdmin, here the issue became clear. SQL insert query returns 0 insert. and there is a trigger function that cause this issue because it returns null. so I have only to set it to return new.\r\nand finally I solved the problem.\r\n\r\nhope that helps any body.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I was facing this exception, and hibernate was working well. I tried to insert manually one record using pgAdmin, here the issue became clear. SQL insert query returns 0 insert. and there is a trigger function that cause this issue because it returns null. so I have only to set it to return new.\nand finally I solved the problem.</p>\n\n<p>hope that helps any body.</p>\n"},{"tags":[],"owner":{"account_id":7069285,"reputation":2980,"user_id":5411494,"accept_rate":73,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531933857,"creation_date":1504199378,"answer_id":45986851,"question_id":2743130,"body_markdown":"It also can happen when you try to `UPDATE` a **PRIMARY KEY**.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>It also can happen when you try to <code>UPDATE</code> a <strong>PRIMARY KEY</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1536741000,"creation_date":1509193243,"answer_id":46989666,"question_id":2743130,"body_markdown":"In my case, I came to this exception in two similar cases:\r\n\r\n - In a method annotated with `@Transactional` I had a call to another service (with long times of response). The method updates some properties of the entity (after the method, the entity still exists in the database). If the user requests two times the method (as he thinks it doesn&#39;t work the first time) when exiting from the transactional method the second time, Hibernate tries to update an entity which already changed its state from the beginning of the transaction. As Hibernate search for an entity in a state, and found the same entity but already changed by the first request, it throws an exception as it can&#39;t update the entity. It&#39;s like a conflict in GIT.\r\n - I had automatic requests (for monitoring the platform) which update an entity (and the manual rollback a few seconds later). But this platform is already used by a test team. When a tester performs a test in the same entity as the automatic requests, (within the same hundredth of a millisecond), I get the exception. As in the previous case, when exiting from the second transaction, the entity previously fetched already changed.\r\n\r\nConclusion: in my case, it wasn&#39;t a problem which can be found in the code. **This exception is thrown when Hibernate founds that the entity first fetched from the database changed during the current transaction**, so it can&#39;t flush it to the database as Hibernate doesn&#39;t know which is the correct version of the entity: the one the current transaction fetch at the beginning; or the one already stored in the database.\r\n\r\nSolution: to solve the problem, you will have to play with the Hibernate &lt;a href=&quot;https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/LockMode.html&quot;&gt;LockMode&lt;/a&gt; to find the one which best fit your requirements.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case, I came to this exception in two similar cases:</p>\n\n<ul>\n<li>In a method annotated with <code>@Transactional</code> I had a call to another service (with long times of response). The method updates some properties of the entity (after the method, the entity still exists in the database). If the user requests two times the method (as he thinks it doesn't work the first time) when exiting from the transactional method the second time, Hibernate tries to update an entity which already changed its state from the beginning of the transaction. As Hibernate search for an entity in a state, and found the same entity but already changed by the first request, it throws an exception as it can't update the entity. It's like a conflict in GIT.</li>\n<li>I had automatic requests (for monitoring the platform) which update an entity (and the manual rollback a few seconds later). But this platform is already used by a test team. When a tester performs a test in the same entity as the automatic requests, (within the same hundredth of a millisecond), I get the exception. As in the previous case, when exiting from the second transaction, the entity previously fetched already changed.</li>\n</ul>\n\n<p>Conclusion: in my case, it wasn't a problem which can be found in the code. <strong>This exception is thrown when Hibernate founds that the entity first fetched from the database changed during the current transaction</strong>, so it can't flush it to the database as Hibernate doesn't know which is the correct version of the entity: the one the current transaction fetch at the beginning; or the one already stored in the database.</p>\n\n<p>Solution: to solve the problem, you will have to play with the Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/LockMode.html\" rel=\"noreferrer\">LockMode</a> to find the one which best fit your requirements.</p>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516107003,"creation_date":1516107003,"answer_id":48281698,"question_id":2743130,"body_markdown":"This happens to me because I am missing ID  declaration in bean class.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This happens to me because I am missing ID  declaration in bean class.</p>\n"},{"tags":[],"owner":{"account_id":12862599,"reputation":1,"user_id":9303879,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517555866,"creation_date":1517555866,"answer_id":48577567,"question_id":2743130,"body_markdown":"In my case there was an issue with the Database as one of the Stored Procs was consuming all the CPU causing high DB response times. Once this was killed issue got resolved.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case there was an issue with the Database as one of the Stored Procs was consuming all the CPU causing high DB response times. Once this was killed issue got resolved.</p>\n"},{"tags":[],"owner":{"account_id":12274821,"reputation":21,"user_id":8959019,"display_name":"karan bainade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521819403,"creation_date":1520013108,"answer_id":49074692,"question_id":2743130,"body_markdown":"Actually, it happen to me when I didn&#39;t store the object as reference variable. in Entity class. Like this code:\r\n   `ses.get(InsurancePolicy.class, 101);` After that, I stored the object in entity&#39;s reference variable so problem solved for me. `policy=(InsurancePolicy)ses.get(InsurancePolicy.class, 101);`\r\nAfter that, I updated the object and it worked fine.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Actually, it happen to me when I didn't store the object as reference variable. in Entity class. Like this code:\n   <code>ses.get(InsurancePolicy.class, 101);</code> After that, I stored the object in entity's reference variable so problem solved for me. <code>policy=(InsurancePolicy)ses.get(InsurancePolicy.class, 101);</code>\nAfter that, I updated the object and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":11416082,"reputation":1,"user_id":8368865,"display_name":"YumikoTanaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531730079,"creation_date":1531730079,"answer_id":51357670,"question_id":2743130,"body_markdown":"I got the same message.\r\nAfter looking for a code related source it got to me that running the application on a local machine interferes with the dev stage, because the share the same DB.\r\nSo sometimes one server has deleted an entry already while the other just wanted to do the same.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I got the same message.\nAfter looking for a code related source it got to me that running the application on a local machine interferes with the dev stage, because the share the same DB.\nSo sometimes one server has deleted an entry already while the other just wanted to do the same.</p>\n"},{"tags":[],"owner":{"account_id":252559,"reputation":123,"user_id":530687,"display_name":"Bryan Pugh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539976443,"creation_date":1539976443,"answer_id":52898619,"question_id":2743130,"body_markdown":"Another way to get this error is if you have a null item in a collection.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Another way to get this error is if you have a null item in a collection.</p>\n"},{"tags":[],"owner":{"account_id":11995867,"reputation":637,"user_id":8821112,"display_name":"Durja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547631916,"creation_date":1547631916,"answer_id":54214215,"question_id":2743130,"body_markdown":"Few ways I debugged this error: \r\n\r\n1. As suggested in the accepted answer- turn on show sql. \r\n2. I found there is some issue with setting up the id in the hibernate sql. \r\n3. Found that I was missing @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Few ways I debugged this error: </p>\n\n<ol>\n<li>As suggested in the accepted answer- turn on show sql. </li>\n<li>I found there is some issue with setting up the id in the hibernate sql. </li>\n<li>Found that I was missing @GeneratedValue(strategy=GenerationType.IDENTITY)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6801671,"reputation":311,"user_id":5234799,"display_name":"Sandeep Khantwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566562455,"creation_date":1566456852,"answer_id":57603564,"question_id":2743130,"body_markdown":"In our case we finally found out the root cause of StaleStateException.\r\n\r\nIn fact we were deleting the row twice in a single hibernate session. Earlier we were using ojdbc6 lib, and this was ok in this version.\r\n\r\nBut when we upgraded to odjc7 or ojdbc8, deleting records twice was throwing exception. There was bug in our code where we were deleting twice, but that was not evident in ojdbc6.\r\n\r\nWe were able to reproduce with this piece of code:\r\n\r\n\r\n    Detail detail = getDetail(Long.valueOf(1396451));\r\n    session.delete(detail);\r\n    session.flush();\r\n    session.delete(detail);\r\n    session.flush();\r\n\r\n\r\nOn first flush hibernate goes and makes changes in database. During 2nd flush hibernate compares session&#39;s object with actual table&#39;s record, but could not find one, hence the exception.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In our case we finally found out the root cause of StaleStateException.</p>\n\n<p>In fact we were deleting the row twice in a single hibernate session. Earlier we were using ojdbc6 lib, and this was ok in this version.</p>\n\n<p>But when we upgraded to odjc7 or ojdbc8, deleting records twice was throwing exception. There was bug in our code where we were deleting twice, but that was not evident in ojdbc6.</p>\n\n<p>We were able to reproduce with this piece of code:</p>\n\n<pre><code>Detail detail = getDetail(Long.valueOf(1396451));\nsession.delete(detail);\nsession.flush();\nsession.delete(detail);\nsession.flush();\n</code></pre>\n\n<p>On first flush hibernate goes and makes changes in database. During 2nd flush hibernate compares session's object with actual table's record, but could not find one, hence the exception.</p>\n"},{"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571326815,"creation_date":1571324732,"answer_id":58435647,"question_id":2743130,"body_markdown":"This problem mainly occurs when we are trying to save or update the object which are already fetched into memory by a running session. \r\nIf you&#39;ve fetched object from the session and you&#39;re trying to update in the database, then this exception may be thrown.\r\n\r\nI used session.evict(); to remove the cache stored in hibernate first or if you don&#39;t wanna take risk of loosing data, better you make another object for storing the data temp.\r\n\r\n\r\n         try\r\n\t\t{\r\n\t\t\tif(!session.isOpen())\r\n\t\t\t{\r\n\t\t\t\tsession=EmployeyDao.getSessionFactory().openSession();\r\n\t\t\t}\r\n\t\t\t\ttx=session.beginTransaction();\r\n\t\t\t\r\n\t\t\tsession.evict(e);\r\n\t\t\tsession.saveOrUpdate(e);\r\n\t\t\ttx.commit();;\r\n\t\t\tEmployeyDao.shutDown(session);\r\n\t\t}\r\n\t\tcatch(HibernateException exc)\r\n\t\t{\r\n\t\t\texc.printStackTrace();\r\n\t\t\ttx.rollback();\r\n\t\t}","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This problem mainly occurs when we are trying to save or update the object which are already fetched into memory by a running session. \nIf you've fetched object from the session and you're trying to update in the database, then this exception may be thrown.</p>\n\n<p>I used session.evict(); to remove the cache stored in hibernate first or if you don't wanna take risk of loosing data, better you make another object for storing the data temp.</p>\n\n<pre><code>     try\n    {\n        if(!session.isOpen())\n        {\n            session=EmployeyDao.getSessionFactory().openSession();\n        }\n            tx=session.beginTransaction();\n\n        session.evict(e);\n        session.saveOrUpdate(e);\n        tx.commit();;\n        EmployeyDao.shutDown(session);\n    }\n    catch(HibernateException exc)\n    {\n        exc.printStackTrace();\n        tx.rollback();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1593070379,"creation_date":1593070379,"answer_id":62570124,"question_id":2743130,"body_markdown":"Hibernate 5.4.1 and HHH-12878 issue\r\n-----------------------------------\r\n\r\nPrior to Hibernate 5.4.1, the optimistic locking failure exceptions (e.g., `StaleStateException` or `OptimisticLockException`) didn&#39;t include the failing statement.\r\n\r\nThe [HHH-12878](https://hibernate.atlassian.net/browse/HHH-12878) issue was created to improve Hibernate so that when throwing an optimistic locking exception, the JDBC `PreparedStatement` implementation is logged as well:\r\n\r\n    if ( expectedRowCount &gt; rowCount ) {\r\n    \tthrow new StaleStateException(\r\n    \t\t\t&quot;Batch update returned unexpected row count from update [&quot;\r\n    \t\t\t\t\t+ batchPosition + &quot;]; actual row count: &quot; + rowCount\r\n    \t\t\t\t\t+ &quot;; expected: &quot; + expectedRowCount + &quot;; statement executed: &quot;\r\n    \t\t\t\t\t+ statement\r\n    \t);\r\n    }\r\n\r\nTesting Time\r\n------------\r\n\r\n&gt; I created the [`BatchingOptimisticLockingTest`](https://github.com/vladmihalcea/high-performance-java-persistence/blob/515dae44a4b34891705074c94e51e8dfb9faa330/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/batch/BatchingOptimisticLockingTest.java) in my High-Performance Java Persistence GitHub repository to demonstrate how the new behavior works.\r\n\r\nFirst, we will define a `Post` entity that defines a `@Version` property, therefore enabling [the implicit optimistic locking mechanism](https://vladmihalcea.com/optimistic-locking-version-property-jpa-hibernate/):\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    public class Post {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String title;\r\n    \r\n    \t@Version\r\n    \tprivate short version;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic Post setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic Post setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic short getVersion() {\r\n    \t\treturn version;\r\n    \t}\r\n    }\r\n\r\nWe will enable the JDBC batching using the following 3 configuration properties:\r\n\r\n    properties.put(&quot;hibernate.jdbc.batch_size&quot;, &quot;5&quot;);\r\n    properties.put(&quot;hibernate.order_inserts&quot;, &quot;true&quot;);\r\n    properties.put(&quot;hibernate.order_updates&quot;, &quot;true&quot;);\r\n\r\nWe are going to create 3 `Post` entities:\r\n\r\n    doInJPA(entityManager -&gt; {\r\n    \tfor (int i = 1; i &lt;= 3; i++) {\r\n    \t\tentityManager.persist(\r\n    \t\t\tnew Post()\r\n    \t\t\t\t.setTitle(String.format(&quot;Post no. %d&quot;, i))\r\n    \t\t);\r\n    \t}\r\n    });\r\n\r\nAnd Hibernate will execute a JDBC batch insert:\r\n\r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n    \r\n    Query: [\r\n    \tINSERT INTO post (title, version, id) \r\n    \tVALUES (?, ?, ?)\r\n    ], \r\n    Params:[\r\n    \t(Post no. 1, 0, 1), \r\n    \t(Post no. 2, 0, 2), \r\n    \t(Post no. 3, 0, 3)\r\n    ]\r\n\r\nSo, we know that JDBC batching works just fine.\r\n\r\nNow, let&#39;s replicate the optimistic locking issue:\r\n\r\n    doInJPA(entityManager -&gt; {\r\n    \tList&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \t\tselect p \r\n    \t\tfrom Post p\r\n    \t\t&quot;&quot;&quot;, Post.class)\r\n    \t.getResultList();\r\n    \r\n    \tposts.forEach(\r\n    \t\tpost -&gt; post.setTitle(\r\n    \t\t\tpost.getTitle() + &quot; - 2nd edition&quot;\r\n    \t\t)\r\n    \t);\r\n    \r\n    \texecuteSync(\r\n    \t\t() -&gt; doInJPA(_entityManager -&gt; {\r\n    \t\t\tPost post = _entityManager.createQuery(&quot;&quot;&quot;\r\n    \t\t\t\tselect p \r\n    \t\t\t\tfrom Post p\r\n    \t\t\t\torder by p.id\r\n    \t\t\t\t&quot;&quot;&quot;, Post.class)\r\n    \t\t\t.setMaxResults(1)\r\n    \t\t\t.getSingleResult();\r\n    \r\n    \t\t\tpost.setTitle(post.getTitle() + &quot; - corrected&quot;);\r\n    \t\t})\r\n    \t);\r\n    });\r\n\r\nThe first transaction selects all `Post` entities and modifies the `title` properties.\r\n\r\nHowever, before the first `EntityManager` is flushed, we are going to execute a second transition using the `executeSync` method.\r\n\r\nThe second transaction modifies the first `Post`, so its `version` is going to be incremented:\r\n\r\n    Query:[\r\n    \tUPDATE \r\n    \t\tpost \r\n    \tSET \r\n    \t\ttitle = ?, \r\n    \t\tversion = ? \r\n    \tWHERE \r\n    \t\tid = ? AND \r\n    \t\tversion = ?\r\n    ], \r\n    Params:[\r\n    \t(&#39;Post no. 1 - corrected&#39;, 1, 1, 0)\r\n    ]\r\n\r\nNow, when the first transaction tries to flush the `EntityManager`, we will get the `OptimisticLockException`:\r\n\r\n    Query:[\r\n    \tUPDATE \r\n    \t\tpost \r\n    \tSET \r\n    \t\ttitle = ?, \r\n    \t\tversion = ? \r\n    \tWHERE \r\n    \t\tid = ? AND \r\n    \t\tversion = ?\r\n    ], \r\n    Params:[\r\n    \t(&#39;Post no. 1 - 2nd edition&#39;, 1, 1, 0), \r\n    \t(&#39;Post no. 2 - 2nd edition&#39;, 1, 2, 0), \r\n    \t(&#39;Post no. 3 - 2nd edition&#39;, 1, 3, 0)\r\n    ]\r\n    \r\n    o.h.e.j.b.i.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements\r\n    \r\n    o.h.e.j.b.i.BatchingBatch - HHH000315: Exception executing batch [\r\n    \torg.hibernate.StaleStateException: \r\n    \tBatch update returned unexpected row count from update [0]; \r\n    \tactual row count: 0; \r\n    \texpected: 1; \r\n    \tstatement executed: \r\n    \t\tPgPreparedStatement [\r\n    \t\t\tupdate post set title=&#39;Post no. 3 - 2nd edition&#39;, version=1 where id=3 and version=0\r\n    \t\t]\r\n    ], \r\n    SQL: update post set title=?, version=? where id=? and version=?\r\n\r\nSo, you need to upgrade to Hibernate 5.4.1 or newer to benefit from this improvement.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<h2>Hibernate 5.4.1 and HHH-12878 issue</h2>\n<p>Prior to Hibernate 5.4.1, the optimistic locking failure exceptions (e.g., <code>StaleStateException</code> or <code>OptimisticLockException</code>) didn't include the failing statement.</p>\n<p>The <a href=\"https://hibernate.atlassian.net/browse/HHH-12878\" rel=\"noreferrer\">HHH-12878</a> issue was created to improve Hibernate so that when throwing an optimistic locking exception, the JDBC <code>PreparedStatement</code> implementation is logged as well:</p>\n<pre><code>if ( expectedRowCount &gt; rowCount ) {\n    throw new StaleStateException(\n            &quot;Batch update returned unexpected row count from update [&quot;\n                    + batchPosition + &quot;]; actual row count: &quot; + rowCount\n                    + &quot;; expected: &quot; + expectedRowCount + &quot;; statement executed: &quot;\n                    + statement\n    );\n}\n</code></pre>\n<h2>Testing Time</h2>\n<blockquote>\n<p>I created the <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/515dae44a4b34891705074c94e51e8dfb9faa330/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/batch/BatchingOptimisticLockingTest.java\" rel=\"noreferrer\"><code>BatchingOptimisticLockingTest</code></a> in my High-Performance Java Persistence GitHub repository to demonstrate how the new behavior works.</p>\n</blockquote>\n<p>First, we will define a <code>Post</code> entity that defines a <code>@Version</code> property, therefore enabling <a href=\"https://vladmihalcea.com/optimistic-locking-version-property-jpa-hibernate/\" rel=\"noreferrer\">the implicit optimistic locking mechanism</a>:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    private String title;\n\n    @Version\n    private short version;\n\n    public Long getId() {\n        return id;\n    }\n\n    public Post setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public Post setTitle(String title) {\n        this.title = title;\n        return this;\n    }\n\n    public short getVersion() {\n        return version;\n    }\n}\n</code></pre>\n<p>We will enable the JDBC batching using the following 3 configuration properties:</p>\n<pre><code>properties.put(&quot;hibernate.jdbc.batch_size&quot;, &quot;5&quot;);\nproperties.put(&quot;hibernate.order_inserts&quot;, &quot;true&quot;);\nproperties.put(&quot;hibernate.order_updates&quot;, &quot;true&quot;);\n</code></pre>\n<p>We are going to create 3 <code>Post</code> entities:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n    for (int i = 1; i &lt;= 3; i++) {\n        entityManager.persist(\n            new Post()\n                .setTitle(String.format(&quot;Post no. %d&quot;, i))\n        );\n    }\n});\n</code></pre>\n<p>And Hibernate will execute a JDBC batch insert:</p>\n<pre><code>SELECT nextval ('hibernate_sequence')\nSELECT nextval ('hibernate_sequence')\nSELECT nextval ('hibernate_sequence')\n\nQuery: [\n    INSERT INTO post (title, version, id) \n    VALUES (?, ?, ?)\n], \nParams:[\n    (Post no. 1, 0, 1), \n    (Post no. 2, 0, 2), \n    (Post no. 3, 0, 3)\n]\n</code></pre>\n<p>So, we know that JDBC batching works just fine.</p>\n<p>Now, let's replicate the optimistic locking issue:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n        select p \n        from Post p\n        &quot;&quot;&quot;, Post.class)\n    .getResultList();\n\n    posts.forEach(\n        post -&gt; post.setTitle(\n            post.getTitle() + &quot; - 2nd edition&quot;\n        )\n    );\n\n    executeSync(\n        () -&gt; doInJPA(_entityManager -&gt; {\n            Post post = _entityManager.createQuery(&quot;&quot;&quot;\n                select p \n                from Post p\n                order by p.id\n                &quot;&quot;&quot;, Post.class)\n            .setMaxResults(1)\n            .getSingleResult();\n\n            post.setTitle(post.getTitle() + &quot; - corrected&quot;);\n        })\n    );\n});\n</code></pre>\n<p>The first transaction selects all <code>Post</code> entities and modifies the <code>title</code> properties.</p>\n<p>However, before the first <code>EntityManager</code> is flushed, we are going to execute a second transition using the <code>executeSync</code> method.</p>\n<p>The second transaction modifies the first <code>Post</code>, so its <code>version</code> is going to be incremented:</p>\n<pre><code>Query:[\n    UPDATE \n        post \n    SET \n        title = ?, \n        version = ? \n    WHERE \n        id = ? AND \n        version = ?\n], \nParams:[\n    ('Post no. 1 - corrected', 1, 1, 0)\n]\n</code></pre>\n<p>Now, when the first transaction tries to flush the <code>EntityManager</code>, we will get the <code>OptimisticLockException</code>:</p>\n<pre><code>Query:[\n    UPDATE \n        post \n    SET \n        title = ?, \n        version = ? \n    WHERE \n        id = ? AND \n        version = ?\n], \nParams:[\n    ('Post no. 1 - 2nd edition', 1, 1, 0), \n    ('Post no. 2 - 2nd edition', 1, 2, 0), \n    ('Post no. 3 - 2nd edition', 1, 3, 0)\n]\n\no.h.e.j.b.i.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements\n\no.h.e.j.b.i.BatchingBatch - HHH000315: Exception executing batch [\n    org.hibernate.StaleStateException: \n    Batch update returned unexpected row count from update [0]; \n    actual row count: 0; \n    expected: 1; \n    statement executed: \n        PgPreparedStatement [\n            update post set title='Post no. 3 - 2nd edition', version=1 where id=3 and version=0\n        ]\n], \nSQL: update post set title=?, version=? where id=? and version=?\n</code></pre>\n<p>So, you need to upgrade to Hibernate 5.4.1 or newer to benefit from this improvement.</p>\n"},{"tags":[],"owner":{"account_id":11023650,"reputation":1,"user_id":8097173,"display_name":"starry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594784134,"creation_date":1594783016,"answer_id":62907047,"question_id":2743130,"body_markdown":"In my case, it&#39;s because a ***trigger*** is triggered before a insert cause, (actually it means to split a big table in several tables using timestamp), and then return ***null***. So I met this problem when I used springboot jpa save() function. \r\n\r\nIn addition to change the trigger to `SET NOCOUNT ON;` *Mr. TA* mentioned above, the solution can also be **using native query**.\r\n\r\n    insert into table values(nextval(&#39;table_id_seq&#39;), value1)","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case, it's because a <em><strong>trigger</strong></em> is triggered before a insert cause, (actually it means to split a big table in several tables using timestamp), and then return <em><strong>null</strong></em>. So I met this problem when I used springboot jpa save() function.</p>\n<p>In addition to change the trigger to <code>SET NOCOUNT ON;</code> <em>Mr. TA</em> mentioned above, the solution can also be <strong>using native query</strong>.</p>\n<pre><code>insert into table values(nextval('table_id_seq'), value1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20833834,"reputation":1,"user_id":15795723,"display_name":"Blas Albir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621006237,"creation_date":1621004544,"answer_id":67536530,"question_id":2743130,"body_markdown":"Almost always the cause of this error is that you are sending one or more erroneous primary keys, verify that your variables are clean before loading them with the new values to perform the update.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Almost always the cause of this error is that you are sending one or more erroneous primary keys, verify that your variables are clean before loading them with the new values to perform the update.</p>\n"},{"tags":[],"owner":{"account_id":3292331,"reputation":89,"user_id":2770352,"accept_rate":50,"display_name":"user2770352"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634762958,"creation_date":1634762958,"answer_id":69652869,"question_id":2743130,"body_markdown":"Removing `cascade=CascadeType.ALL` solved it for me.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>Removing <code>cascade=CascadeType.ALL</code> solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":23476881,"reputation":11,"user_id":17529560,"display_name":"Kiran Maharjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638087309,"creation_date":1638087309,"answer_id":70141665,"question_id":2743130,"body_markdown":"I solved it. I found that there was no primary key for my Id column in table.\r\nOnce I created it solved for me. Also there was duplicate id found in table before which I deleted and solved it.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I solved it. I found that there was no primary key for my Id column in table.\nOnce I created it solved for me. Also there was duplicate id found in table before which I deleted and solved it.</p>\n"},{"tags":[],"owner":{"account_id":14301436,"reputation":338,"user_id":10330658,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655208376,"creation_date":1655208376,"answer_id":72616686,"question_id":2743130,"body_markdown":"In my case, I had `**two**` similar `primary keys` which I mistakenly created through MySQL workbench.\r\n\r\nIn case you see this kind of scenario, try deleting one from the MySQL workbench.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/54uvc.png","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>In my case, I had <code>**two**</code> similar <code>primary keys</code> which I mistakenly created through MySQL workbench.</p>\n<p>In case you see this kind of scenario, try deleting one from the MySQL workbench.</p>\n<p><a href=\"https://i.stack.imgur.com/54uvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54uvc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7373365,"reputation":470,"user_id":5612892,"accept_rate":83,"display_name":"Amirhosein Al"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657102521,"creation_date":1657102521,"answer_id":72881726,"question_id":2743130,"body_markdown":"I encountered this problem when using Hibernate with MySQL and upon changing the Id data type from UUID to String, the problem was solved. I don&#39;t know the reason though.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I encountered this problem when using Hibernate with MySQL and upon changing the Id data type from UUID to String, the problem was solved. I don't know the reason though.</p>\n"},{"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1665503977,"creation_date":1662553053,"answer_id":73635372,"question_id":2743130,"body_markdown":"My two cents.\r\n\r\n**Problem:** With Spring Boot 2.7.1 the h2 database version has changed to v2.1.214 which may result into a thrown `OptimisticLockException` when using generated UUIDs for Id columns, see https://hibernate.atlassian.net/browse/HHH-15373.\r\n\r\n**Solution:** Add `columnDefinition=&quot;UUID&quot;` to the `@Column` annotation\r\n\r\nE.g., with a primary key definition for an entity like this:\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(generator = &quot;UUID&quot;)\r\n@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n@Column(name = COLUMN_UUID, updatable = false, nullable = false)\r\nUUID uUID;\r\n```\r\n\r\nChange the column annotation to:\r\n\r\n```java\r\n@Column(name = COLUMN_UUID, updatable = false, nullable = false, columnDefinition=&quot;UUID&quot;)\r\n```\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>My two cents.</p>\n<p><strong>Problem:</strong> With Spring Boot 2.7.1 the h2 database version has changed to v2.1.214 which may result into a thrown <code>OptimisticLockException</code> when using generated UUIDs for Id columns, see <a href=\"https://hibernate.atlassian.net/browse/HHH-15373\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-15373</a>.</p>\n<p><strong>Solution:</strong> Add <code>columnDefinition=&quot;UUID&quot;</code> to the <code>@Column</code> annotation</p>\n<p>E.g., with a primary key definition for an entity like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n@Column(name = COLUMN_UUID, updatable = false, nullable = false)\nUUID uUID;\n</code></pre>\n<p>Change the column annotation to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = COLUMN_UUID, updatable = false, nullable = false, columnDefinition=&quot;UUID&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16743990,"reputation":11,"user_id":12102826,"display_name":"Hany Alshafey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670907105,"creation_date":1670907105,"answer_id":74780110,"question_id":2743130,"body_markdown":"This thread is a bit old, however I thought I should drop my fix here in case it may help someone with same root cause.\r\n\r\nI was migrating a Java Spring hibernate app. from Oracle to Postgre, along the migration process, I converted a trigger from Oracle to Postgre, the trigger was &quot;on Before Insert&quot; of a table and was setting a one of the columns value (of course the desired column was marked update=false insert=false in hibernate mapping to allow the trigger to set its value), and when inserting data from the application I got this error  *Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1*\r\n\r\nMy mistake was that I was setting &quot;Return NULL&quot; at the end of the trigger function, so when the trigger set the column value and the control is back to hibernate for saving, the record was lost as I was returning null.\r\n\r\nMy fix was to change &quot;Return NULL&quot; to &quot;RETURN NEW&quot; in trigger, this will keep the record available after being altered by the trigger, simply this was what it means by &quot;unexcepted **row count for update: 0 expected 1**&quot;\r\n\r\n","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>This thread is a bit old, however I thought I should drop my fix here in case it may help someone with same root cause.</p>\n<p>I was migrating a Java Spring hibernate app. from Oracle to Postgre, along the migration process, I converted a trigger from Oracle to Postgre, the trigger was &quot;on Before Insert&quot; of a table and was setting a one of the columns value (of course the desired column was marked update=false insert=false in hibernate mapping to allow the trigger to set its value), and when inserting data from the application I got this error  <em>Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1</em></p>\n<p>My mistake was that I was setting &quot;Return NULL&quot; at the end of the trigger function, so when the trigger set the column value and the control is back to hibernate for saving, the record was lost as I was returning null.</p>\n<p>My fix was to change &quot;Return NULL&quot; to &quot;RETURN NEW&quot; in trigger, this will keep the record available after being altered by the trigger, simply this was what it means by &quot;unexcepted <strong>row count for update: 0 expected 1</strong>&quot;</p>\n"},{"tags":[],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678183222,"creation_date":1678183222,"answer_id":75660465,"question_id":2743130,"body_markdown":"I encounter this problem when I query insert operation it means that I save my parent entity and it&#39;s child entity as well. It&#39;s solution that, use bidirectional mapping in your entity relationships.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I encounter this problem when I query insert operation it means that I save my parent entity and it's child entity as well. It's solution that, use bidirectional mapping in your entity relationships.</p>\n"},{"tags":[],"owner":{"account_id":20997331,"reputation":1,"user_id":15428841,"display_name":"Sinisa Milojevic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678883795,"creation_date":1678883795,"answer_id":75744797,"question_id":2743130,"body_markdown":"I was facing this exception and the issue was that we were trying to delete parent object first then the child object.  Reversing order of deletion in the code resolved the issue.","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I was facing this exception and the issue was that we were trying to delete parent object first then the child object.  Reversing order of deletion in the code resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":2789691,"reputation":88,"user_id":2400151,"display_name":"meggar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678931981,"creation_date":1678931981,"answer_id":75751558,"question_id":2743130,"body_markdown":"The problem we met is that we use the PostgreSQL&#39;s `jsonb` with hibernate-types (https://github.com/vladmihalcea/hypersistence-utils), and the `jsonb` is a `List&lt;MyType&gt;`, where the `MyType` does not impl. the `equals` and `hashCode`, that makes the Hibernate dirty checking trigger unexpected UPDATE statements always after a query..\r\n\r\nYou can check this [best practices][1], and this [issue][2] for more details\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils#best-practices\r\n  [2]: https://github.com/vladmihalcea/hypersistence-utils/issues/138","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>The problem we met is that we use the PostgreSQL's <code>jsonb</code> with hibernate-types (<a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils</a>), and the <code>jsonb</code> is a <code>List&lt;MyType&gt;</code>, where the <code>MyType</code> does not impl. the <code>equals</code> and <code>hashCode</code>, that makes the Hibernate dirty checking trigger unexpected UPDATE statements always after a query..</p>\n<p>You can check this <a href=\"https://github.com/vladmihalcea/hypersistence-utils#best-practices\" rel=\"nofollow noreferrer\">best practices</a>, and this <a href=\"https://github.com/vladmihalcea/hypersistence-utils/issues/138\" rel=\"nofollow noreferrer\">issue</a> for more details</p>\n"}],"owner":{"account_id":177420,"reputation":5055,"user_id":408738,"accept_rate":84,"display_name":"Sujee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444868,"favorite_count":0,"down_vote_count":1,"up_vote_count":222,"accepted_answer_id":2743663,"answer_count":44,"score":221,"last_activity_date":1678931981,"creation_date":1272615074,"question_id":2743130,"body_markdown":"I get following hibernate error. I am able to identify the function which causes the issue. Unfortunately there are several DB calls in the function. I am unable to find the line which causes the issue since hibernate flush the session at the end of the transaction. The below mentioned hibernate error looks like a general error. It doesn&#39;t even mentioned which Bean causes the issue. Anyone familiar with this hibernate error?\r\n\r\n\r\n    org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\r\n            at org.hibernate.jdbc.BatchingBatcher.checkRowCount(BatchingBatcher.java:93)\r\n            at org.hibernate.jdbc.BatchingBatcher.checkRowCounts(BatchingBatcher.java:79)\r\n            at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:58)\r\n            at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:195)\r\n            at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:235)\r\n            at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:142)\r\n            at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)\r\n            at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)\r\n            at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)\r\n            at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)\r\n            at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)\r\n            at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:584)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransacti\r\n    onManager.java:500)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManag\r\n    er.java:473)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.doCommitTransactionAfterReturning(Transaction\r\n    AspectSupport.java:267)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:170)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:176)","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1","body":"<p>I get following hibernate error. I am able to identify the function which causes the issue. Unfortunately there are several DB calls in the function. I am unable to find the line which causes the issue since hibernate flush the session at the end of the transaction. The below mentioned hibernate error looks like a general error. It doesn't even mentioned which Bean causes the issue. Anyone familiar with this hibernate error?</p>\n\n<pre><code>org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1\n        at org.hibernate.jdbc.BatchingBatcher.checkRowCount(BatchingBatcher.java:93)\n        at org.hibernate.jdbc.BatchingBatcher.checkRowCounts(BatchingBatcher.java:79)\n        at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:58)\n        at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:195)\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:235)\n        at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:142)\n        at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:297)\n        at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)\n        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:985)\n        at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:333)\n        at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:106)\n        at org.springframework.orm.hibernate3.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:584)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransacti\nonManager.java:500)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManag\ner.java:473)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.doCommitTransactionAfterReturning(Transaction\nAspectSupport.java:267)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:170)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:176)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","redis","redisson"],"owner":{"account_id":13249424,"reputation":61,"user_id":9567391,"display_name":"PankajTekwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678931596,"creation_date":1638949787,"question_id":70271556,"body_markdown":"I am able to cache the DB entity, but when I update it and do a get call to the same entity, I receive the stale the entity in response. Am I missing come configuration here?\r\n\r\nBTW I am trying to implement L2 cache to be used by hibernate for performance improvement.\r\n\r\nRedisConfig.java\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisConfig {\r\n\r\n    @Value(&quot;${spring.redis.port}&quot;) int redisPort;\r\n    @Value(&quot;${spring.redis.host}&quot;) String redisHost;\r\n\r\n    @Bean\r\n    public JedisConnectionFactory jedisConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setHostName(redisHost);\r\n        redisStandaloneConfiguration.setPort(redisPort);\r\n        return new JedisConnectionFactory(redisStandaloneConfiguration);\r\n    }\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        return new LettuceConnectionFactory(redisHost, redisPort);\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(redisConnectionFactory());\r\n\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\r\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\r\n        redisTemplate.setEnableTransactionSupport(true);\r\n        redisTemplate.afterPropertiesSet();\r\n        return redisTemplate;\r\n    }\r\n}\r\n```\r\n\r\nApplication.yml\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.mariadb.jdbc.Driver\r\n    url: jdbc:mariadb://localhost:3306/\r\n    username: root\r\n    password:\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        cache:\r\n          use_second_level_cache: true\r\n          region:\r\n            factory_class: org.redisson.hibernate.RedissonRegionFactory\r\n          redisson:\r\n            fallback: true\r\n            config: redisson-dev.yaml\r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n    cache:\r\n      type: redis\r\n```\r\n\r\nredisson-dev.yaml\r\n```\r\nsingleServerConfig:\r\n  address: &quot;redis://localhost:6379&quot;\r\n```\r\n\r\nEntity Class\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(callSuper=false)\r\n@Slf4j\r\n@org.hibernate.annotations.Cache(region=&quot;userCache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\r\n@Table(name=&quot;user&quot;)\r\npublic class userEntity extends BaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID userId;//Binary in DB and UUID here\r\n.\r\n.\r\n.\r\n}\r\n```","title":"Redis Cache (Redisson Client) not getting updated with DB (Mysql, Hibernate) updates","body":"<p>I am able to cache the DB entity, but when I update it and do a get call to the same entity, I receive the stale the entity in response. Am I missing come configuration here?</p>\n<p>BTW I am trying to implement L2 cache to be used by hibernate for performance improvement.</p>\n<p>RedisConfig.java</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class RedisConfig {\n\n    @Value(&quot;${spring.redis.port}&quot;) int redisPort;\n    @Value(&quot;${spring.redis.host}&quot;) String redisHost;\n\n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(redisHost);\n        redisStandaloneConfiguration.setPort(redisPort);\n        return new JedisConnectionFactory(redisStandaloneConfiguration);\n    }\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        return new LettuceConnectionFactory(redisHost, redisPort);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(redisConnectionFactory());\n\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashKeySerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());\n        redisTemplate.setEnableTransactionSupport(true);\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n}\n</code></pre>\n<p>Application.yml</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.mariadb.jdbc.Driver\n    url: jdbc:mariadb://localhost:3306/\n    username: root\n    password:\n  jpa:\n    properties:\n      hibernate:\n        cache:\n          use_second_level_cache: true\n          region:\n            factory_class: org.redisson.hibernate.RedissonRegionFactory\n          redisson:\n            fallback: true\n            config: redisson-dev.yaml\n  redis:\n    host: localhost\n    port: 6379\n    cache:\n      type: redis\n</code></pre>\n<p>redisson-dev.yaml</p>\n<pre><code>singleServerConfig:\n  address: &quot;redis://localhost:6379&quot;\n</code></pre>\n<p>Entity Class</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode(callSuper=false)\n@Slf4j\n@org.hibernate.annotations.Cache(region=&quot;userCache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\n@Table(name=&quot;user&quot;)\npublic class userEntity extends BaseEntity implements Serializable {\n\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID userId;//Binary in DB and UUID here\n.\n.\n.\n}\n</code></pre>\n"},{"tags":["java","android","android-dialog"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678930276,"creation_date":1678930276,"answer_id":75751437,"question_id":75750146,"body_markdown":"The first parameter of ```Toast.makeText()``` takes ```Context```. So you cannot pass Fragment into it, instead you can pass an Activity to it:\r\n```java\r\nToast.makeText(getActivity(), themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\n---\r\n\r\nFor ExmpDialog, you need to make sure you have values in ```R.array.appthemes```. So you should have something like this in **strings.xml** resources file:\r\n```xml\r\n&lt;resources&gt;\r\n    ...\r\n    &lt;string-array name=&quot;appthemes&quot;&gt;\r\n        &lt;item&gt;Light&lt;/item&gt;\r\n        &lt;item&gt;Dark&lt;/item&gt;\r\n        &lt;item&gt;Black and Yellow&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n&lt;/resources&gt;\r\n```","title":"Alert Single choice Dialogs in Fragments","body":"<p>The first parameter of <code>Toast.makeText()</code> takes <code>Context</code>. So you cannot pass Fragment into it, instead you can pass an Activity to it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Toast.makeText(getActivity(), themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\n</code></pre>\n<hr />\n<p>For ExmpDialog, you need to make sure you have values in <code>R.array.appthemes</code>. So you should have something like this in <strong>strings.xml</strong> resources file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n    ...\n    &lt;string-array name=&quot;appthemes&quot;&gt;\n        &lt;item&gt;Light&lt;/item&gt;\n        &lt;item&gt;Dark&lt;/item&gt;\n        &lt;item&gt;Black and Yellow&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":28027019,"reputation":1,"user_id":21406836,"display_name":"Cheesehead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678930276,"creation_date":1678915003,"question_id":75750146,"body_markdown":"So I&#39;m trying to add a Singlechoice Alert Dialog that would pop up and have three separate themes changing the entire theme of the app. I know how to do this using activities, but i&#39;m unsure on how to complete this using fragments. I am also using fragments as i am using bottom nav.\r\n\r\nThe errors are in fragment_settings.xml (&#39;Builder(android.content.Context)&#39; in &#39;androidx.appcompat.app.AlertDialog.Builder&#39; cannot be applied to &#39;(com.example.smart_stick.SettingsFragment)&#39;\r\n\r\nCannot resolve method &#39;makeText(SettingsFragment, String, int)&#39;\r\n\r\nSettingsFragment.java\r\n\r\n```\r\npackage com.example.smart_stick;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\n\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\n\r\npublic class SettingsFragment extends Fragment  {\r\n\r\n    String[] Themes={&quot;Light&quot;, &quot;Dark&quot;, &quot;Black and Yellow&quot;};\r\n    String themesSelected;\r\n\r\n    private Button getapptheme;\r\n\r\n\r\n    // TODO: Rename and change types of parameters\r\n\r\n\r\n    public SettingsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_settings, container, false);\r\n\r\n\r\n        Button button = getapptheme.findViewById(R.id.Apptheme);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                showDialog();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void showDialog(){\r\n        themesSelected = Themes[0];\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n         builder.setTitle(&quot;Choose a theme&quot;);\r\n         builder.setSingleChoiceItems(Themes, 0, new DialogInterface.OnClickListener() {\r\n             @Override\r\n             public void onClick(DialogInterface dialog, int which) {\r\n                themesSelected = Themes[which];\r\n             }\r\n         });\r\n\r\n         builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n             @Override\r\n             public void onClick(DialogInterface dialog, int which) {\r\n                 Toast.makeText(SettingsFragment.this, themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\r\n             }\r\n         });\r\n\r\n         builder.setNegativeButton(&quot;CANCEL&quot;, null);\r\n         builder.show();\r\n    }\r\n}\r\n```\r\n\r\nfragment_settings.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SettingsFragment&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/text_header&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#FFFFFF&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Settings&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;Space\r\n            android:layout_width=&quot;1dp&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            tools:ignore=&quot;ExtraText&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/Apptheme&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;54dp&quot;\r\n            android:text=&quot;App Theme&quot;\r\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:icon=&quot;@drawable/ic_art_pal_foreground&quot;\r\n            app:iconSize=&quot;35dp&quot;\r\n            app:iconPadding=&quot;-200dp&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/TextSize&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;54dp&quot;\r\n            android:text=&quot;Text Size&quot;\r\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:icon=&quot;@drawable/baseline_text_fields_24&quot;\r\n            app:iconSize=&quot;35dp&quot;\r\n            app:iconPadding=&quot;-220dp&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nExmpDialog.java\r\n\r\n```\r\npackage com.example.smart_stick;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatDialogFragment;\r\nimport androidx.fragment.app.DialogFragment;\r\n\r\nimport java.util.AbstractList;\r\nimport java.util.ArrayList;\r\n\r\npublic class ExmpDialog extends DialogFragment {\r\n    public ExmpDialog(SettingsFragment settingsFragment) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        // Use the Builder class for convenient dialog construction\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setTitle(&quot;Choose a theme&quot;)\r\n                .setMultiChoiceItems(R.array.appthemes, null,\r\n                        new DialogInterface.OnMultiChoiceClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which,\r\n                                    boolean isChecked) {\r\n                                AbstractList&lt;Object&gt; selectedItems = null;\r\n                                if (isChecked) {\r\n                                    //if user checks item\r\n                                    selectedItems.add(which);\r\n                                } else if (selectedItems.contains(which)) {\r\n                                    //else, if the item is already in the array remove it\r\n                                    selectedItems.remove(which);\r\n                                    \r\n                                }\r\n\r\n                            }\r\n                        })\r\n                .setPositiveButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        // START THE GAME!\r\n                    }\r\n                });\r\n\r\n        // Create the AlertDialog object and return it\r\n        return builder.create();\r\n    }\r\n}\r\n```\r\n\r\nI was expecting to create a singlechoice item that would change the themes however the dialog does pop up but it only shows the title and the cancel, nothing else.","title":"Alert Single choice Dialogs in Fragments","body":"<p>So I'm trying to add a Singlechoice Alert Dialog that would pop up and have three separate themes changing the entire theme of the app. I know how to do this using activities, but i'm unsure on how to complete this using fragments. I am also using fragments as i am using bottom nav.</p>\n<p>The errors are in fragment_settings.xml ('Builder(android.content.Context)' in 'androidx.appcompat.app.AlertDialog.Builder' cannot be applied to '(com.example.smart_stick.SettingsFragment)'</p>\n<p>Cannot resolve method 'makeText(SettingsFragment, String, int)'</p>\n<p>SettingsFragment.java</p>\n<pre><code>package com.example.smart_stick;\n\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\n\npublic class SettingsFragment extends Fragment  {\n\n    String[] Themes={&quot;Light&quot;, &quot;Dark&quot;, &quot;Black and Yellow&quot;};\n    String themesSelected;\n\n    private Button getapptheme;\n\n\n    // TODO: Rename and change types of parameters\n\n\n    public SettingsFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_settings, container, false);\n\n\n        Button button = getapptheme.findViewById(R.id.Apptheme);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showDialog();\n            }\n        });\n    }\n\n    public void showDialog(){\n        themesSelected = Themes[0];\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n         builder.setTitle(&quot;Choose a theme&quot;);\n         builder.setSingleChoiceItems(Themes, 0, new DialogInterface.OnClickListener() {\n             @Override\n             public void onClick(DialogInterface dialog, int which) {\n                themesSelected = Themes[which];\n             }\n         });\n\n         builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n             @Override\n             public void onClick(DialogInterface dialog, int which) {\n                 Toast.makeText(SettingsFragment.this, themesSelected+&quot; selected.&quot;, Toast.LENGTH_SHORT).show();\n             }\n         });\n\n         builder.setNegativeButton(&quot;CANCEL&quot;, null);\n         builder.show();\n    }\n}\n</code></pre>\n<p>fragment_settings.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SettingsFragment&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/text_header&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#FFFFFF&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Settings&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;Space\n            android:layout_width=&quot;1dp&quot;\n            android:layout_height=&quot;65dp&quot;\n            tools:ignore=&quot;ExtraText&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/Apptheme&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:text=&quot;App Theme&quot;\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;20sp&quot;\n            app:icon=&quot;@drawable/ic_art_pal_foreground&quot;\n            app:iconSize=&quot;35dp&quot;\n            app:iconPadding=&quot;-200dp&quot;\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/TextSize&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:text=&quot;Text Size&quot;\n            android:textAppearance=&quot;@android:style/TextAppearance.Material.Headline&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textSize=&quot;20sp&quot;\n            app:icon=&quot;@drawable/baseline_text_fields_24&quot;\n            app:iconSize=&quot;35dp&quot;\n            app:iconPadding=&quot;-220dp&quot;\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>ExmpDialog.java</p>\n<pre><code>package com.example.smart_stick;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatDialogFragment;\nimport androidx.fragment.app.DialogFragment;\n\nimport java.util.AbstractList;\nimport java.util.ArrayList;\n\npublic class ExmpDialog extends DialogFragment {\n    public ExmpDialog(SettingsFragment settingsFragment) {\n\n    }\n\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        // Use the Builder class for convenient dialog construction\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setTitle(&quot;Choose a theme&quot;)\n                .setMultiChoiceItems(R.array.appthemes, null,\n                        new DialogInterface.OnMultiChoiceClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which,\n                                    boolean isChecked) {\n                                AbstractList&lt;Object&gt; selectedItems = null;\n                                if (isChecked) {\n                                    //if user checks item\n                                    selectedItems.add(which);\n                                } else if (selectedItems.contains(which)) {\n                                    //else, if the item is already in the array remove it\n                                    selectedItems.remove(which);\n                                    \n                                }\n\n                            }\n                        })\n                .setPositiveButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        // START THE GAME!\n                    }\n                });\n\n        // Create the AlertDialog object and return it\n        return builder.create();\n    }\n}\n</code></pre>\n<p>I was expecting to create a singlechoice item that would change the themes however the dialog does pop up but it only shows the title and the cancel, nothing else.</p>\n"},{"tags":["java","maven","lombok"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678927430,"post_id":75751124,"comment_id":133629950,"body_markdown":"There&#39;s not enough information here to help--can&#39;t see your pom, don&#39;t know if it makes sense that there&#39;s both `com` &amp; `org` dirs (or `javax.email`, etc.","body":"There&#39;s not enough information here to help--can&#39;t see your pom, don&#39;t know if it makes sense that there&#39;s both <code>com</code> &amp; <code>org</code> dirs (or <code>javax.email</code>, etc."},{"owner":{"account_id":2486335,"reputation":665,"user_id":3008532,"accept_rate":76,"display_name":"FullStack"},"score":0,"creation_date":1678927825,"post_id":75751124,"comment_id":133629992,"body_markdown":"@DaveNewton Please take a look at the new image, It would be great to know if is there any way to avoid these files (For Example, Class50.lombok, AUTHORS, changelog.txt, latestchanges.html, etc.) getting bundled inside the jar ? Many Thanks!","body":"@DaveNewton Please take a look at the new image, It would be great to know if is there any way to avoid these files (For Example, Class50.lombok, AUTHORS, changelog.txt, latestchanges.html, etc.) getting bundled inside the jar ? Many Thanks!"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678929035,"post_id":75751124,"comment_id":133630126,"body_markdown":"There is probably a Maven plugin configured to add dependencies to the built JAR. Usually, this is either the Maven Assembly Plugin or the Maven Shade Plugin. If you’re still having trouble with it, please include the contents of `pom.xml` in the question.","body":"There is probably a Maven plugin configured to add dependencies to the built JAR. Usually, this is either the Maven Assembly Plugin or the Maven Shade Plugin. If you’re still having trouble with it, please include the contents of <code>pom.xml</code> in the question."},{"owner":{"account_id":2486335,"reputation":665,"user_id":3008532,"accept_rate":76,"display_name":"FullStack"},"score":0,"creation_date":1678929898,"post_id":75751124,"comment_id":133630219,"body_markdown":"@TimMoore Please take a look at the pom.xml attached herewith, kindly ignore the dummy names used for group id, Many Thanks!","body":"@TimMoore Please take a look at the pom.xml attached herewith, kindly ignore the dummy names used for group id, Many Thanks!"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678936481,"post_id":75751124,"comment_id":133630970,"body_markdown":"That’s just the parent of a multi-module build, and doesn’t produce a JAR as far as I can see. The problem must be in a child module. It might be helpful to try to reproduce the problem in a simplified example project that only contains the minimal amount of code and configuration needed to trigger this behavior.","body":"That’s just the parent of a multi-module build, and doesn’t produce a JAR as far as I can see. The problem must be in a child module. It might be helpful to try to reproduce the problem in a simplified example project that only contains the minimal amount of code and configuration needed to trigger this behavior."},{"owner":{"account_id":2486335,"reputation":665,"user_id":3008532,"accept_rate":76,"display_name":"FullStack"},"score":0,"creation_date":1679048657,"post_id":75751124,"comment_id":133654944,"body_markdown":"@TimMoore Your hint helped me a lot. There was a problem in Child Module pom file. I just set &lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;. It was false previously.","body":"@TimMoore Your hint helped me a lot. There was a problem in Child Module pom file. I just set &lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;. It was false previously."}],"owner":{"account_id":2486335,"reputation":665,"user_id":3008532,"accept_rate":76,"display_name":"FullStack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678929718,"creation_date":1678925652,"question_id":75751124,"body_markdown":"We are using maven 3.6.0 to build artifacts for one of our projects with JDK 1.8_331 &amp; lombok version 1.18.2, Eclipse 2019-12 IDE. **mvn clean install -DskipTests** creates jar as artifact as per definition in pom.xml but we can see the extra lombok classes/files getting bundled inside the jar causing deployment issues &amp; increase in size of jar. What could be the issue here ? Thanks!\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.lntp.prod&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;LNTP&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.4.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;LNTP&lt;/name&gt;\r\n    \t&lt;description&gt;LNTP Production&lt;/description&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;org.openspaces&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://maven-repository.openspaces.org&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;jcenter&lt;/id&gt;\r\n                &lt;name&gt;jcenter&lt;/name&gt;\r\n                &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;LNTPServerModel&lt;/module&gt;\r\n    \t\t&lt;module&gt;LNTPServerBridge&lt;/module&gt;\r\n    \t\t&lt;module&gt;LNTPServerSpace&lt;/module&gt;\r\n    \t\t&lt;module&gt;LNTPServerEntities&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;!-- general --&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;lntp.version&gt;3.4.0&lt;/lntp.version&gt;\r\n    \t\t&lt;lombok.version&gt;1.18.2&lt;/lombok.version&gt;\r\n    \t\t&lt;guava.version&gt;20.0&lt;/guava.version&gt;\r\n    \r\n    \t\t&lt;!-- maven plugins --&gt;\r\n    \t\t&lt;maven.compiler.version&gt;3.7.0&lt;/maven.compiler.version&gt;\r\n    \t\t&lt;maven.war.version&gt;3.2.2&lt;/maven.war.version&gt;\r\n    \t\t&lt;maven.assembly.version&gt;3.1.0&lt;/maven.assembly.version&gt;\r\n    \r\n    \t\t&lt;!-- spring --&gt;\r\n    \t\t&lt;spring.version&gt;5.1.7.RELEASE&lt;/spring.version&gt;\r\n    \r\n    \t\t&lt;!-- 3d party artefactory --&gt;\r\n    \t\t&lt;chardet.version&gt;1.0&lt;/chardet.version&gt;\r\n    \t\t&lt;log4j.version&gt;1.2.16&lt;/log4j.version&gt;\r\n    \t\t&lt;hibernate.version&gt;5.4.2.Final&lt;/hibernate.version&gt;\r\n    \t\t&lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\r\n    \r\n    \t\t&lt;!-- apache commons --&gt;\r\n    \t\t&lt;commons.logging.version&gt;1.1.3&lt;/commons.logging.version&gt;\r\n    \t\t&lt;commons.dbcp.version&gt;1.3&lt;/commons.dbcp.version&gt;\r\n    \r\n    \t\t&lt;!-- test --&gt;\r\n    \t\t&lt;junit.version&gt;4.8.1&lt;/junit.version&gt;\r\n    \t\t&lt;java.mail.version&gt;1.4.7&lt;/java.mail.version&gt;\r\n    \r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${guava.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- 3Party --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mozilla.intl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;chardet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${chardet.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.lntp.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lntp-commons&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile,test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${commons.logging.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n            \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           \r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${java.mail.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven.assembly.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven.war.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fTkvY.png\r\n","title":"Why &amp; When do we see the lombok files bundled inside the jar?","body":"<p>We are using maven 3.6.0 to build artifacts for one of our projects with JDK 1.8_331 &amp; lombok version 1.18.2, Eclipse 2019-12 IDE. <strong>mvn clean install -DskipTests</strong> creates jar as artifact as per definition in pom.xml but we can see the extra lombok classes/files getting bundled inside the jar causing deployment issues &amp; increase in size of jar. What could be the issue here ? Thanks!</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.lntp.prod&lt;/groupId&gt;\n    &lt;artifactId&gt;LNTP&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;LNTP&lt;/name&gt;\n    &lt;description&gt;LNTP Production&lt;/description&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;org.openspaces&lt;/id&gt;\n            &lt;url&gt;http://maven-repository.openspaces.org&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jcenter&lt;/id&gt;\n            &lt;name&gt;jcenter&lt;/name&gt;\n            &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;LNTPServerModel&lt;/module&gt;\n        &lt;module&gt;LNTPServerBridge&lt;/module&gt;\n        &lt;module&gt;LNTPServerSpace&lt;/module&gt;\n        &lt;module&gt;LNTPServerEntities&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;!-- general --&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;lntp.version&gt;3.4.0&lt;/lntp.version&gt;\n        &lt;lombok.version&gt;1.18.2&lt;/lombok.version&gt;\n        &lt;guava.version&gt;20.0&lt;/guava.version&gt;\n\n        &lt;!-- maven plugins --&gt;\n        &lt;maven.compiler.version&gt;3.7.0&lt;/maven.compiler.version&gt;\n        &lt;maven.war.version&gt;3.2.2&lt;/maven.war.version&gt;\n        &lt;maven.assembly.version&gt;3.1.0&lt;/maven.assembly.version&gt;\n\n        &lt;!-- spring --&gt;\n        &lt;spring.version&gt;5.1.7.RELEASE&lt;/spring.version&gt;\n\n        &lt;!-- 3d party artefactory --&gt;\n        &lt;chardet.version&gt;1.0&lt;/chardet.version&gt;\n        &lt;log4j.version&gt;1.2.16&lt;/log4j.version&gt;\n        &lt;hibernate.version&gt;5.4.2.Final&lt;/hibernate.version&gt;\n        &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\n\n        &lt;!-- apache commons --&gt;\n        &lt;commons.logging.version&gt;1.1.3&lt;/commons.logging.version&gt;\n        &lt;commons.dbcp.version&gt;1.3&lt;/commons.dbcp.version&gt;\n\n        &lt;!-- test --&gt;\n        &lt;junit.version&gt;4.8.1&lt;/junit.version&gt;\n        &lt;java.mail.version&gt;1.4.7&lt;/java.mail.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- 3Party --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mozilla.intl&lt;/groupId&gt;\n            &lt;artifactId&gt;chardet&lt;/artifactId&gt;\n            &lt;version&gt;${chardet.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lntp.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;lntp-commons&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;compile,test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;${commons.logging.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;${java.mail.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${java.version}&lt;/source&gt;\n                        &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;/configuration&gt;\n                    &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven.assembly.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven.war.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fTkvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTkvY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1678378497,"post_id":75687109,"comment_id":133524781,"body_markdown":"Does this answer your question? [Limit size of http application/json request body in Spring, tomcat](https://stackoverflow.com/questions/46118627/limit-size-of-http-application-json-request-body-in-spring-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46118627/limit-size-of-http-application-json-request-body-in-spring-tomcat\">Limit size of http application/json request body in Spring, tomcat</a>"}],"answers":[{"tags":[],"owner":{"account_id":17627308,"reputation":76,"user_id":12792134,"display_name":"Lucca Biagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678929685,"creation_date":1678929685,"answer_id":75751394,"question_id":75687109,"body_markdown":"Well, the response that [Chin Huang][1] inserted is valid! You would need to change it only a little bit to limit octet-stream only.\r\n\r\nIt would be almost like that:\r\n\r\n```\r\n\r\n@Component\r\npublic class ApplicationJsonRequestSizeLimitFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response, FilterChain filterChain)\r\n                    throws ServletException, IOException {\r\n        if (isApplicationOctet(request) &amp;&amp; request.getContentLengthLong() &gt; 10000) {\r\n            throw new IOException(&quot;Request content exceeded limit of 10000 bytes&quot;);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private boolean isApplicationOctet(HttpServletRequest httpRequest) {\r\n        return (MediaType.APPLICATION_OCTET_STREAM.isCompatibleWith(MediaType\r\n                .parseMediaType(httpRequest.getHeader(HttpHeaders.CONTENT_TYPE))));\r\n    }\r\n}\r\n```\r\nThis solution is based on [Chin Huang answer][2], just adjusting the datatype.\r\n\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/57719/chin-huang\r\n  [2]: https://stackoverflow.com/questions/46118627/limit-size-of-http-application-json-request-body-in-spring-tomcat","title":"How can I limit the body of a application/octet-stream request in Spring Boot?","body":"<p>Well, the response that <a href=\"https://stackoverflow.com/users/57719/chin-huang\">Chin Huang</a> inserted is valid! You would need to change it only a little bit to limit octet-stream only.</p>\n<p>It would be almost like that:</p>\n<pre><code>\n@Component\npublic class ApplicationJsonRequestSizeLimitFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response, FilterChain filterChain)\n                    throws ServletException, IOException {\n        if (isApplicationOctet(request) &amp;&amp; request.getContentLengthLong() &gt; 10000) {\n            throw new IOException(&quot;Request content exceeded limit of 10000 bytes&quot;);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    private boolean isApplicationOctet(HttpServletRequest httpRequest) {\n        return (MediaType.APPLICATION_OCTET_STREAM.isCompatibleWith(MediaType\n                .parseMediaType(httpRequest.getHeader(HttpHeaders.CONTENT_TYPE))));\n    }\n}\n</code></pre>\n<p>This solution is based on <a href=\"https://stackoverflow.com/questions/46118627/limit-size-of-http-application-json-request-body-in-spring-tomcat\">Chin Huang answer</a>, just adjusting the datatype.</p>\n"}],"owner":{"account_id":1477409,"reputation":980,"user_id":1478419,"display_name":"Marcelo Barros"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751394,"answer_count":1,"score":0,"last_activity_date":1678929685,"creation_date":1678377635,"question_id":75687109,"body_markdown":"I&#39;m developing a service that will receive a file through an HTTP Post request. The file is sent by the request body with a `Content-Type: application/octet-stream` header. I want to limit the request body to 10MB. Here&#39;s a [MRE][1] of my goal:\r\n\r\n```java\r\n@RestController\r\npublic class MyController {\r\n\r\n    @PostMapping(&quot;save&quot;)\r\n\tpublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; save(@RequestBody byte[] data) {\r\n\t\treturn ResponseEntity.ok(Map.of(&quot;size&quot;, data.length));\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTo test my endpoint I tried this ```curl``` command:\r\n\r\n```bash\r\ncurl -X POST -H &quot;Content-Type: application/octet-stream&quot; --data-binary &quot;@my_big_binary_file.whatever&quot; http://localhost:8080/save\r\n```\r\n\r\nI tried to set the following properties, but with no success:\r\n\r\n```properties\r\nserver.tomcat.max-http-form-post-size=10MB\r\nserver.tomcat.max-swallow-size=10MB\r\n```\r\n\r\nSo, my question is: I&#39;m going have multiple requests like this on my service. How can I limit the size of all of them to 10MB? Also, and I think it&#39;s related: what&#39;s the purpose of these two properties? Isn&#39;t it what I was expecting?\r\n\r\nTested using Java 17 on Spring Boot [2.7.9][2] and [3.0.4][3]\r\n\r\n----------\r\n\r\nPS.: I know there&#39;s a way to limit `multipart/form-data` requests using the properties below. That works just fine. But it&#39;s not what I need.\r\n\r\n```properties\r\nspring.servlet.multipart.max-file-size=10MB\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.7.9&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,devtools\r\n  [3]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.4&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,devtools","title":"How can I limit the body of a application/octet-stream request in Spring Boot?","body":"<p>I'm developing a service that will receive a file through an HTTP Post request. The file is sent by the request body with a <code>Content-Type: application/octet-stream</code> header. I want to limit the request body to 10MB. Here's a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> of my goal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class MyController {\n\n    @PostMapping(&quot;save&quot;)\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; save(@RequestBody byte[] data) {\n        return ResponseEntity.ok(Map.of(&quot;size&quot;, data.length));\n    }\n}\n\n</code></pre>\n<p>To test my endpoint I tried this <code>curl</code> command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -X POST -H &quot;Content-Type: application/octet-stream&quot; --data-binary &quot;@my_big_binary_file.whatever&quot; http://localhost:8080/save\n</code></pre>\n<p>I tried to set the following properties, but with no success:</p>\n<pre><code>server.tomcat.max-http-form-post-size=10MB\nserver.tomcat.max-swallow-size=10MB\n</code></pre>\n<p>So, my question is: I'm going have multiple requests like this on my service. How can I limit the size of all of them to 10MB? Also, and I think it's related: what's the purpose of these two properties? Isn't it what I was expecting?</p>\n<p>Tested using Java 17 on Spring Boot <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.7.9&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,devtools\" rel=\"nofollow noreferrer\">2.7.9</a> and <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.4&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,devtools\" rel=\"nofollow noreferrer\">3.0.4</a></p>\n<hr />\n<p>PS.: I know there's a way to limit <code>multipart/form-data</code> requests using the properties below. That works just fine. But it's not what I need.</p>\n<pre><code>spring.servlet.multipart.max-file-size=10MB\n</code></pre>\n"},{"tags":["java","spring","jsp","tomcat","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1395731786,"post_id":22627759,"comment_id":34458715,"body_markdown":"Show us your web.xml.","body":"Show us your web.xml."},{"owner":{"display_name":"user180100"},"score":3,"creation_date":1395731880,"post_id":22627759,"comment_id":34458758,"body_markdown":"dispatcher config might help here","body":"dispatcher config might help here"},{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1395731931,"post_id":22627759,"comment_id":34458780,"body_markdown":"please post us your dispatcher servlet","body":"please post us your dispatcher servlet"},{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1395732069,"post_id":22627759,"comment_id":34458832,"body_markdown":"@ Hitham It is possible to access the `jsp` inside the web-inf . i dont understand the upvote here","body":"@ Hitham It is possible to access the <code>jsp</code> inside the web-inf . i dont understand the upvote here"},{"owner":{"account_id":31125,"reputation":8507,"user_id":85248,"accept_rate":55,"display_name":"James Adams"},"score":0,"creation_date":1395732227,"post_id":22627759,"comment_id":34458896,"body_markdown":"It was indeed the dispatcher configuration in the web.xml which was causing my woes, please see my update.  Thanks for the helpful comments.","body":"It was indeed the dispatcher configuration in the web.xml which was causing my woes, please see my update.  Thanks for the helpful comments."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1395732268,"creation_date":1395732268,"answer_id":22627914,"question_id":22627759,"body_markdown":"It seems to me like you have a `url-pattern` of `/*` for your `DispatcherServlet`. You have to know that a typical servlet container will have a `Servlet` implementation for handling JSPs. This `JspServlet` is typically mapped with extension mapping, like `*.jsp`. [The path mapping pattern `/*` is matched before extension mapping.][1] Therefore, your `DispatcherServlet` will be chosen to handle the internal forward to \r\n\r\n    /my_app/WEB-INF/jsp/list_persons.jsp\r\n\r\nbut it won&#39;t have an appropriate handler.\r\n\r\nBy changing the `DispatcherServlet` mapping to `/`, it becomes the default servlet which is matched last, so the Servlet container will have already chosen the `JspServlet` to handle the `RequestDispatcher` `forward`.\r\n\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/","title":"Spring MVC: No handler found for correctly resolved JSP","body":"<p>It seems to me like you have a <code>url-pattern</code> of <code>/*</code> for your <code>DispatcherServlet</code>. You have to know that a typical servlet container will have a <code>Servlet</code> implementation for handling JSPs. This <code>JspServlet</code> is typically mapped with extension mapping, like <code>*.jsp</code>. <a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/\">The path mapping pattern <code>/*</code> is matched before extension mapping.</a> Therefore, your <code>DispatcherServlet</code> will be chosen to handle the internal forward to </p>\n\n<pre><code>/my_app/WEB-INF/jsp/list_persons.jsp\n</code></pre>\n\n<p>but it won't have an appropriate handler.</p>\n\n<p>By changing the <code>DispatcherServlet</code> mapping to <code>/</code>, it becomes the default servlet which is matched last, so the Servlet container will have already chosen the <code>JspServlet</code> to handle the <code>RequestDispatcher</code> <code>forward</code>.</p>\n"},{"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395732299,"creation_date":1395732299,"answer_id":22627925,"question_id":22627759,"body_markdown":"    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\nThis forward all requests to spring dispatcher\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;.htm&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nYes as you said the `url-pattern` will send the request with patterns here to the spring dispatcher servlet. if specify something like `.htm` , only those requests will be handled by dispatcher as the `web.xml` loads first ","title":"Spring MVC: No handler found for correctly resolved JSP","body":"<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>This forward all requests to spring dispatcher</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;.htm&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Yes as you said the <code>url-pattern</code> will send the request with patterns here to the spring dispatcher servlet. if specify something like <code>.htm</code> , only those requests will be handled by dispatcher as the <code>web.xml</code> loads first </p>\n"},{"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1678929563,"creation_date":1678929563,"answer_id":75751386,"question_id":22627759,"body_markdown":"_(Posting the answer on behalf of the question author in order to move it to the answer space)_.\r\n\r\nThis was resolved by changing the servlet mapping in the web.xml from /* to /, i.e from this:\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nto this:\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n","title":"Spring MVC: No handler found for correctly resolved JSP","body":"<p><em>(Posting the answer on behalf of the question author in order to move it to the answer space)</em>.</p>\n<p>This was resolved by changing the servlet mapping in the web.xml from /* to /, i.e from this:</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>to this:</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":31125,"reputation":8507,"user_id":85248,"accept_rate":55,"display_name":"James Adams"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7291,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":22627914,"answer_count":3,"score":6,"last_activity_date":1678929613,"creation_date":1395731713,"question_id":22627759,"body_markdown":"I have written a simple Spring MVC application which has a Controller method mapped to a URL:\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/person_list&quot;)\r\n    public ModelAndView getPersonList()\r\n    {\r\n        // get the list of all persons from the database and set this as the only member of our model map\r\n        List&lt;Person&gt; personList = personDao.list();\r\n        Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\r\n        model.put(&quot;person_list&quot;, personList);\r\n\r\n        // pass it on as a model and view, view should resolve to &quot;list_persons.jsp&quot;\r\n        return new ModelAndView(&quot;list_persons&quot;, &quot;model&quot;, model);\r\n    }\r\n\r\n\r\nWhen the URL is requested via a browser I get a 404 page, and in the Tomcat log I see a message telling me that the correctly resolved JSP view file, /WEB-INF/jsp/list_persons.jsp, is not found:\r\n\r\n    org.springframework.web.servlet.PageNotFound.noHandlerFound No mapping found for HTTP request with URI [/my_app/WEB-INF/jsp/list_persons.jsp] in DispatcherServlet with name &#39;dispatcher&#39;\r\n\r\nIn my Spring application context configuration I have used a pretty standard view resolver set up:\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt; \r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; \r\n    &lt;/bean&gt;\r\n\r\nIf I go into the Tomcat webapps directory where the application is deployed I can see the JSP file is where it&#39;s supposed to be, `$TOMCAT_HOME/webapps/my_app/WEB-INF/jsp/list_persons.jsp`.\r\n\r\nMaybe the file is being found but there is another handler mapping step that supposed to happen that I&#39;ve skipped?  My assumption is that once this JSP page is referenced as the view in the response then the JSP should render as HTML in the browser.  I can get expected results from other views which are classes extending AbstractView, but plain JSPs give no joy.\r\n\r\nWhy isn&#39;t this working as expected?\r\n","title":"Spring MVC: No handler found for correctly resolved JSP","body":"<p>I have written a simple Spring MVC application which has a Controller method mapped to a URL:</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/person_list&quot;)\npublic ModelAndView getPersonList()\n{\n    // get the list of all persons from the database and set this as the only member of our model map\n    List&lt;Person&gt; personList = personDao.list();\n    Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\n    model.put(&quot;person_list&quot;, personList);\n\n    // pass it on as a model and view, view should resolve to &quot;list_persons.jsp&quot;\n    return new ModelAndView(&quot;list_persons&quot;, &quot;model&quot;, model);\n}\n</code></pre>\n<p>When the URL is requested via a browser I get a 404 page, and in the Tomcat log I see a message telling me that the correctly resolved JSP view file, /WEB-INF/jsp/list_persons.jsp, is not found:</p>\n<pre><code>org.springframework.web.servlet.PageNotFound.noHandlerFound No mapping found for HTTP request with URI [/my_app/WEB-INF/jsp/list_persons.jsp] in DispatcherServlet with name 'dispatcher'\n</code></pre>\n<p>In my Spring application context configuration I have used a pretty standard view resolver set up:</p>\n<pre><code>&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n    &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt; \n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; \n&lt;/bean&gt;\n</code></pre>\n<p>If I go into the Tomcat webapps directory where the application is deployed I can see the JSP file is where it's supposed to be, <code>$TOMCAT_HOME/webapps/my_app/WEB-INF/jsp/list_persons.jsp</code>.</p>\n<p>Maybe the file is being found but there is another handler mapping step that supposed to happen that I've skipped?  My assumption is that once this JSP page is referenced as the view in the response then the JSP should render as HTML in the browser.  I can get expected results from other views which are classes extending AbstractView, but plain JSPs give no joy.</p>\n<p>Why isn't this working as expected?</p>\n"},{"tags":["java","android","brightness","screen-brightness"],"comments":[{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":1,"creation_date":1677829348,"post_id":75622066,"comment_id":133418068,"body_markdown":"Does this answer your question? [Change the System Brightness Programmatically](https://stackoverflow.com/questions/18312609/change-the-system-brightness-programmatically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18312609/change-the-system-brightness-programmatically\">Change the System Brightness Programmatically</a>"}],"answers":[{"tags":[],"owner":{"account_id":27828806,"reputation":11,"user_id":21247634,"display_name":"neander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678929175,"creation_date":1678929175,"answer_id":75751363,"question_id":75622066,"body_markdown":"This problem Solution\r\n\r\nfirst, you get variable current brightness level\r\nint currentLevel = Settings.System.getInt(..., SCREEN_BRIGHTNESS);\r\n\r\nsencond, setting bright automode\r\nSettings.System.putInt(..., SCREEN_BRIGHTNESS_MODE, SCREEN_BRIGHTNESS_AUTOMATIC);\r\n\r\nthird, compare to currentLevel and bright level after setting automatic\r\nthread sleep 200 ~ 500 possible compare\r\nbut if same values, count 5 ~ 10\r\n\r\nThread.sleep(500);\r\nprogressBar.setProgress(Settings.System.getInt(..., SCREEN_BRIGHTNESS));","title":"How to listener brightness value after setting brightness auto mode in Android?","body":"<p>This problem Solution</p>\n<p>first, you get variable current brightness level\nint currentLevel = Settings.System.getInt(..., SCREEN_BRIGHTNESS);</p>\n<p>sencond, setting bright automode\nSettings.System.putInt(..., SCREEN_BRIGHTNESS_MODE, SCREEN_BRIGHTNESS_AUTOMATIC);</p>\n<p>third, compare to currentLevel and bright level after setting automatic\nthread sleep 200 ~ 500 possible compare\nbut if same values, count 5 ~ 10</p>\n<p>Thread.sleep(500);\nprogressBar.setProgress(Settings.System.getInt(..., SCREEN_BRIGHTNESS));</p>\n"}],"owner":{"account_id":27828806,"reputation":11,"user_id":21247634,"display_name":"neander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678929175,"creation_date":1677802661,"question_id":75622066,"body_markdown":"I want current brightness level after setting brightness auto mode. I changed screen brightness, but did not receive the changed brightness level value.\r\n\r\nI use Async callable for receive changed brightness level in completed block, but not changed brightness level, exactly screen brightness is changed to auto level.\r\n\r\n```java\r\n// Auto mode Setting\r\nSettings.System.putInt(getContentResolver(), Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_AUTOMATIC);\r\n\r\n// receive changed brightness level\r\nint level = Settings.System.getInt(getContentResolver(), Settings.System.SCREEN_BRIGHTNESS, default);\r\n```\r\n\r\nFirst, I set write permission, and I tried Async, RxJava, Coroutine, normal thread runnable in MainUIThread, but I did not receive changed brightness level.\r\n\r\nI expect to receive the changed brightness level after setting auto mode brightness.","title":"How to listener brightness value after setting brightness auto mode in Android?","body":"<p>I want current brightness level after setting brightness auto mode. I changed screen brightness, but did not receive the changed brightness level value.</p>\n<p>I use Async callable for receive changed brightness level in completed block, but not changed brightness level, exactly screen brightness is changed to auto level.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Auto mode Setting\nSettings.System.putInt(getContentResolver(), Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_AUTOMATIC);\n\n// receive changed brightness level\nint level = Settings.System.getInt(getContentResolver(), Settings.System.SCREEN_BRIGHTNESS, default);\n</code></pre>\n<p>First, I set write permission, and I tried Async, RxJava, Coroutine, normal thread runnable in MainUIThread, but I did not receive changed brightness level.</p>\n<p>I expect to receive the changed brightness level after setting auto mode brightness.</p>\n"},{"tags":["java","linux","printing","cups"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1506064779,"post_id":46355426,"comment_id":79677614,"body_markdown":"Do you mean that `PrintServiceLookup.lookupPrintServices` is returning `null`? If that&#39;s the case you have an array of matching PrintService objects representing print services that support the specified flavor attributes. If no services match, the array is zero-length.","body":"Do you mean that <code>PrintServiceLookup.lookupPrintServices</code> is returning <code>null</code>? If that&#39;s the case you have an array of matching PrintService objects representing print services that support the specified flavor attributes. If no services match, the array is zero-length."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1506065249,"post_id":46355426,"comment_id":79677881,"body_markdown":"I just had a look at the source code of PrintServiceLookup.lookupPrintServices and it&#39;s not possible for that method to return `null`. There must be something wrong in your code. Post an [mcve] of the real code that you are using.","body":"I just had a look at the source code of PrintServiceLookup.lookupPrintServices and it&#39;s not possible for that method to return <code>null</code>. There must be something wrong in your code. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the real code that you are using."},{"owner":{"account_id":11824142,"reputation":1,"user_id":8652455,"display_name":"pavan"},"score":0,"creation_date":1506099964,"post_id":46355426,"comment_id":79699168,"body_markdown":"Thanks James , Sorry, Its returning 0 length. But it has three printers connected to it. It should not return array zero-length. So i am wonderiung what the problem is.","body":"Thanks James , Sorry, Its returning 0 length. But it has three printers connected to it. It should not return array zero-length. So i am wonderiung what the problem is."}],"owner":{"account_id":11824142,"reputation":1,"user_id":8652455,"display_name":"pavan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678928029,"creation_date":1506042923,"question_id":46355426,"body_markdown":"I am trying to print a job in Linux(RHEL7) server using cups(1.6.3). \r\n\r\nI&#39;m using: \r\n\r\n    PrintService[] lPrintServices = PrintServiceLookup.lookupPrintServices(null, lAttributeSet);\r\n\r\n \r\n`lPrintServices` has a size of `0`.\r\n\r\nHowever I&#39;m able to run the same code in Windows local machine and able to return the value of `lPrintServices`. \r\n\r\nIf I run through Linux it is empty. Am I missing something in the`Cups configuration or in the code? ","title":"Printservicelookup.lookupprintservice is empty in java 1.8 on a linux server","body":"<p>I am trying to print a job in Linux(RHEL7) server using cups(1.6.3). </p>\n\n<p>I'm using: </p>\n\n<pre><code>PrintService[] lPrintServices = PrintServiceLookup.lookupPrintServices(null, lAttributeSet);\n</code></pre>\n\n<p><code>lPrintServices</code> has a size of <code>0</code>.</p>\n\n<p>However I'm able to run the same code in Windows local machine and able to return the value of <code>lPrintServices</code>. </p>\n\n<p>If I run through Linux it is empty. Am I missing something in the`Cups configuration or in the code? </p>\n"},{"tags":["java","currency","rounding"],"comments":[{"owner":{"account_id":15751,"reputation":13418,"user_id":33611,"accept_rate":74,"display_name":"Elijah"},"score":0,"creation_date":1234002461,"post_id":522855,"comment_id":336948,"body_markdown":"I suggest changing the title to something like: &quot;How do I round up currency values in Java?&quot; This way the question is more apropos to people searching for answers - and you will get an up vote from me ;)","body":"I suggest changing the title to something like: &quot;How do I round up currency values in Java?&quot; This way the question is more apropos to people searching for answers - and you will get an up vote from me ;)"}],"answers":[{"tags":[],"owner":{"account_id":1169,"reputation":33942,"user_id":1551,"accept_rate":95,"display_name":"Chris Ballance"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1233969279,"creation_date":1233968870,"answer_id":522857,"question_id":522855,"body_markdown":"Why would you not want to use any Math functions?\r\n\r\n    static long round(double a) \r\n\r\n-Returns the closest long to the argument. \r\n\r\nhttp://java.sun.com/j2se/1.4.2/docs/api/java/lang/Math.html\r\n\r\nTo represent money I would take the following advice instead of re-inventing the wheel:\r\n\r\nhttp://www.javapractices.com/topic/TopicAction.do?Id=13\r\n\r\n","title":"How do I round up currency values in Java?","body":"<p>Why would you not want to use any Math functions?</p>\n\n<pre><code>static long round(double a) \n</code></pre>\n\n<p>-Returns the closest long to the argument. </p>\n\n<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Math.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Math.html</a></p>\n\n<p>To represent money I would take the following advice instead of re-inventing the wheel:</p>\n\n<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=13\" rel=\"nofollow noreferrer\">http://www.javapractices.com/topic/TopicAction.do?Id=13</a></p>\n"},{"tags":[],"owner":{"account_id":7141,"reputation":26683,"user_id":12266,"accept_rate":43,"display_name":"Andrew Jaffe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1233969729,"creation_date":1233969025,"answer_id":522859,"question_id":522855,"body_markdown":"What exactly are you trying to do? Are you always trying to go to two digits? Or are you always trying to fix things like 99999 at the end no matter what?\r\n\r\nAccording to the comments, it is in fact the former: rounding to dollars and cents. So indeed just `round(100*a)/100` is what you want. (The latter would be much more complicated...) \r\n\r\nFinally, if you just want to extract the cents part, the following would work:\r\n\r\n    dollars_and_cents = round(100*a)/100\r\n    cents = (dollars_and_cents-(int)dollars_and_cents)*100\r\n\r\n(or does java just have `frac`? In which case the last line would just be `frac(dollars_and_cents)*100`.\r\n\r\n\r\n\r\n","title":"How do I round up currency values in Java?","body":"<p>What exactly are you trying to do? Are you always trying to go to two digits? Or are you always trying to fix things like 99999 at the end no matter what?</p>\n\n<p>According to the comments, it is in fact the former: rounding to dollars and cents. So indeed just <code>round(100*a)/100</code> is what you want. (The latter would be much more complicated...) </p>\n\n<p>Finally, if you just want to extract the cents part, the following would work:</p>\n\n<pre><code>dollars_and_cents = round(100*a)/100\ncents = (dollars_and_cents-(int)dollars_and_cents)*100\n</code></pre>\n\n<p>(or does java just have <code>frac</code>? In which case the last line would just be <code>frac(dollars_and_cents)*100</code>.</p>\n"},{"tags":[],"owner":{"account_id":19194,"reputation":84363,"user_id":44743,"accept_rate":71,"display_name":"recursive"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1233969390,"creation_date":1233969390,"answer_id":522870,"question_id":522855,"body_markdown":"You should use a decimal or currency type to represent money, not floating point.","title":"How do I round up currency values in Java?","body":"<p>You should use a decimal or currency type to represent money, not floating point.</p>\n"},{"tags":[],"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1233969418,"creation_date":1233969418,"answer_id":522872,"question_id":522855,"body_markdown":"Sean seems to have it, except, if you want to impose proper rules then you may want to throw in an if statement like so:\r\n\r\n    double value = .539999;\r\n    int result = (int) (value*100);\r\n    if(((value*100)%result)&gt;.5)\r\n        result++;\r\n    ","title":"How do I round up currency values in Java?","body":"<p>Sean seems to have it, except, if you want to impose proper rules then you may want to throw in an if statement like so:</p>\n\n<pre><code>double value = .539999;\nint result = (int) (value*100);\nif(((value*100)%result)&gt;.5)\n    result++;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4114,"reputation":32049,"user_id":6088,"display_name":"cgreeno"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1678927611,"creation_date":1233969559,"answer_id":522875,"question_id":522855,"body_markdown":"I would use something like:\r\n\r\n\r\n    BigDecimal result = new BigDecimal(&quot;50.5399999&quot;).setScale(2, BigDecimal.ROUND_HALF_UP);\r\n\r\n\r\n\r\n\r\nThere is a great article called [Make cents with BigDecimal][1] on [JavaWorld][2] that you should take a look at. \r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2075315/make-cents-with-bigdecimal.html\r\n  [2]: http://www.javaworld.com","title":"How do I round up currency values in Java?","body":"<p>I would use something like:</p>\n<pre><code>BigDecimal result = new BigDecimal(&quot;50.5399999&quot;).setScale(2, BigDecimal.ROUND_HALF_UP);\n</code></pre>\n<p>There is a great article called <a href=\"https://www.infoworld.com/article/2075315/make-cents-with-bigdecimal.html\" rel=\"nofollow noreferrer\">Make cents with BigDecimal</a> on <a href=\"http://www.javaworld.com\" rel=\"nofollow noreferrer\">JavaWorld</a> that you should take a look at.</p>\n"},{"tags":[],"owner":{"account_id":622,"reputation":173675,"user_id":813,"accept_rate":89,"display_name":"Paige Ruten"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1233969885,"creation_date":1233969885,"answer_id":522890,"question_id":522855,"body_markdown":"You need to make the number .535 and compare that with your original number to see if you&#39;ll round up or down. Here&#39;s how you get .535 from .53999999 (should work for any number):\r\n\r\n    num = .53999999;\r\n    int_num = (int)(num * 100); // cast to integer, however you do it in Java\r\n    compare_num = (int_num + 0.5) / 100;\r\n\r\n`compare_num` would be .535 in this case. If `num` is greater than or equal to `compare_num`, round up to `int_num + 1`. Otherwise round down simply to `int_num`.","title":"How do I round up currency values in Java?","body":"<p>You need to make the number .535 and compare that with your original number to see if you'll round up or down. Here's how you get .535 from .53999999 (should work for any number):</p>\n\n<pre><code>num = .53999999;\nint_num = (int)(num * 100); // cast to integer, however you do it in Java\ncompare_num = (int_num + 0.5) / 100;\n</code></pre>\n\n<p><code>compare_num</code> would be .535 in this case. If <code>num</code> is greater than or equal to <code>compare_num</code>, round up to <code>int_num + 1</code>. Otherwise round down simply to <code>int_num</code>.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1236350436,"creation_date":1233970238,"answer_id":522898,"question_id":522855,"body_markdown":"If 50.54 isn&#39;t representable in double precision, then rounding won&#39;t help.\r\n\r\nIf you&#39;re trying to convert 50.53999999 to a whole number of dollars *and a whole number of cents*, do the following:\r\n\r\n    double d = 50.539999; // or however many 9&#39;s, it doesn&#39;t matter\r\n    int dollars = (int)d;\r\n    double frac = d - dollars;\r\n    int cents = (int)((frac * 100) + 0.5);\r\n\r\nNote that the addition of 0.5 in that last step is to round to the *nearest* whole number of cents.  If you always want it to round *up*, change that to add 0.9999999 instead of 0.5.\r\n","title":"How do I round up currency values in Java?","body":"<p>If 50.54 isn't representable in double precision, then rounding won't help.</p>\n\n<p>If you're trying to convert 50.53999999 to a whole number of dollars <em>and a whole number of cents</em>, do the following:</p>\n\n<pre><code>double d = 50.539999; // or however many 9's, it doesn't matter\nint dollars = (int)d;\ndouble frac = d - dollars;\nint cents = (int)((frac * 100) + 0.5);\n</code></pre>\n\n<p>Note that the addition of 0.5 in that last step is to round to the <em>nearest</em> whole number of cents.  If you always want it to round <em>up</em>, change that to add 0.9999999 instead of 0.5.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1233998251,"creation_date":1233998251,"answer_id":523491,"question_id":522855,"body_markdown":"I suggest you use long for rounding a double value. It won&#39;t matter for small numbers but could make a difference.\r\n\r\n    double d = 50.539999;\r\n    long cents = (long)(d * 100 + 0.5);\r\n    double rounded = cents/100;\r\n\r\n","title":"How do I round up currency values in Java?","body":"<p>I suggest you use long for rounding a double value. It won't matter for small numbers but could make a difference.</p>\n\n<pre><code>double d = 50.539999;\nlong cents = (long)(d * 100 + 0.5);\ndouble rounded = cents/100;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15751,"reputation":13418,"user_id":33611,"accept_rate":74,"display_name":"Elijah"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1235074138,"creation_date":1234001697,"answer_id":523564,"question_id":522855,"body_markdown":"&lt;h3&gt;Math with money is more complex than most engineers think (over generalization)&lt;/h3&gt;\r\n\r\nIf you are doing currency calculations, I think you may be delving into problems that seem simple at their surface but are actually quite complex. For instance, rounding methods that are a result of business logic decisions that are repeated often can drastically affect the totals of calculations.\r\n\r\n* I would recommend looking at the [Java Currency class][1] for currency &lt;s&gt;formatting&lt;/s&gt;.\r\n* Also having a look at this [page on representing money][2] in java may be helpful.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Currency.html\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do?Id=13\r\n\r\nIf this is homework, showing the teacher that you have thought through the real-world problem rather than just slung a bunch of code together that &quot;works&quot; - will surely be more impressive.\r\n\r\nOn a side note, I initially was going to suggest looking at the implementation of the Java math methods in the source code, so I took a look. I noticed that Java was using native methods for its rounding methods - just like it should.\r\n\r\nHowever, a look at BigDecimal shows that there is Java source available for rounding in Java. So rather than just give you the code for your homework, I suggest that you look at the BigDecimal private method doRound(MathContext mc) in the Java source.","title":"How do I round up currency values in Java?","body":"<h3>Math with money is more complex than most engineers think (over generalization)</h3>\n\n<p>If you are doing currency calculations, I think you may be delving into problems that seem simple at their surface but are actually quite complex. For instance, rounding methods that are a result of business logic decisions that are repeated often can drastically affect the totals of calculations.</p>\n\n<ul>\n<li>I would recommend looking at the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Currency.html\" rel=\"nofollow noreferrer\">Java Currency class</a> for currency <s>formatting</s>.</li>\n<li>Also having a look at this <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=13\" rel=\"nofollow noreferrer\">page on representing money</a> in java may be helpful.</li>\n</ul>\n\n<p>If this is homework, showing the teacher that you have thought through the real-world problem rather than just slung a bunch of code together that \"works\" - will surely be more impressive.</p>\n\n<p>On a side note, I initially was going to suggest looking at the implementation of the Java math methods in the source code, so I took a look. I noticed that Java was using native methods for its rounding methods - just like it should.</p>\n\n<p>However, a look at BigDecimal shows that there is Java source available for rounding in Java. So rather than just give you the code for your homework, I suggest that you look at the BigDecimal private method doRound(MathContext mc) in the Java source.</p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1235077656,"creation_date":1235077656,"answer_id":567170,"question_id":522855,"body_markdown":"Try storing your currency as number of cents (you could abstract this to number of base curreny units) with a long.\r\n\r\nEdit: Since this is homework, you may not have control over the types. Consider this a lesson for future projects\r\n\r\n    long money = 5054;\r\n\r\n    long cents = money % 100;\r\n    long dollars = money / 100; // this works due to integer/long truncation\r\n\r\n    System.out.printf(&quot;$%d.%02.d&quot;, dollars, cents);","title":"How do I round up currency values in Java?","body":"<p>Try storing your currency as number of cents (you could abstract this to number of base curreny units) with a long.</p>\n\n<p>Edit: Since this is homework, you may not have control over the types. Consider this a lesson for future projects</p>\n\n<pre><code>long money = 5054;\n\nlong cents = money % 100;\nlong dollars = money / 100; // this works due to integer/long truncation\n\nSystem.out.printf(\"$%d.%02.d\", dollars, cents);\n</code></pre>\n"}],"owner":{"display_name":"Faheed Rahem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38025,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":10,"score":12,"last_activity_date":1678927611,"creation_date":1233968778,"question_id":522855,"body_markdown":"Okay, here&#39;s my problem.\r\nBasically I have this problem.\r\n\r\nI have a number like .53999999.\r\nHow do I round it up to 54 without using any of the Math functions?\r\n\r\nI&#39;m guessing I have to multiply by 100 to scale it, then divide? \r\nSomething like that?\r\n\r\n---\r\n\r\nThe issue is with money. let&#39;s say I have $50.5399999 I know how to get the $50, but I don&#39;t have how to get the cents. I can get the .539999 part, but I don&#39;t know how to get it to 54 cents.","title":"How do I round up currency values in Java?","body":"<p>Okay, here's my problem.\nBasically I have this problem.</p>\n\n<p>I have a number like .53999999.\nHow do I round it up to 54 without using any of the Math functions?</p>\n\n<p>I'm guessing I have to multiply by 100 to scale it, then divide? \nSomething like that?</p>\n\n<hr>\n\n<p>The issue is with money. let's say I have $50.5399999 I know how to get the $50, but I don't have how to get the cents. I can get the .539999 part, but I don't know how to get it to 54 cents.</p>\n"},{"tags":["java","openstreetmap","onclicklistener","osmdroid"],"owner":{"account_id":27841709,"reputation":3,"user_id":21258064,"display_name":"Donny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678927598,"creation_date":1678927598,"question_id":75751263,"body_markdown":"So I am creating a route planner app using OpenStreetMap in Android Studio and I want to allow the user to be able to click on the map and add a marker in that location so the process to add a marker goes like this\r\n1. User clicks anywhere they want on the map.\r\n2. The user then gets a dialog box that asks them &quot;Add a marker here?&quot; with Yes or No.\r\n3. The user clicks yes and they are brought to a form I have created.\r\n4. In this form the user picks what category the marker is for example Speed van. There are two textboxes in       this form as well which autofill with both the longitude and latitude of the marker position.\r\n5. The user then clicks the submit button which uploads the category they chose and the longitude and latitude to the Firebase database and then the marker is shown on the map and the user is brought back to the default page which has the map view.\r\n\r\nAs of now the firebase stuff I have not done yet but whenever I click on the map even to move the map to look around it this dialog box comes up and I want to change it to if the user click the map view for more than 2 seconds or something like that then the dialog box appears\r\n\r\nHere is my Java code for the marker:\r\n```\r\n\r\n        //Creating a new marker that is to be used by the user\r\n        marker = new Marker(mapView);\r\n        marker.setIcon(getResources().getDrawable(R.drawable.ic_marker));\r\n        marker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);\r\n\r\n        mapView.getOverlays().add(marker);\r\n\r\n        mapView.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                    GeoPoint tapLocation = (GeoPoint) mapView.getProjection().fromPixels((int) event.getX(), (int) event.getY());\r\n                    marker.setPosition(tapLocation);\r\n                    alertDialog.show();\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setMessage(&quot;Add a marker here?&quot;);\r\n        builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                // Launch your form activity and pass the latitude and longitude of the clicked position\r\n                Intent intent = new Intent(MainActivity.this, MarkerOnMapActivity.class);\r\n                intent.putExtra(&quot;latitude&quot;, marker.getPosition().getLatitude());\r\n                intent.putExtra(&quot;longitude&quot;, marker.getPosition().getLongitude());\r\n                startActivity(intent);\r\n\r\n            }\r\n\r\n        });\r\n        builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n                mapView.getOverlays().remove(marker);\r\n            }\r\n        });\r\n        alertDialog = builder.create();\r\n\r\n```\r\n\r\nI tired changing to using onLongClickListner method however this didn&#39;t work at all for me but here is the code for my onLongClickListener which I don&#39;t use:\r\n```\r\n // Add long-click listener to the map\r\n        mapView.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                // Show confirmation dialog\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n                builder.setMessage(&quot;Add a marker here?&quot;)\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                // Start new activity to display form\r\n                                Intent intent = new Intent(MainActivity.this, MarkerOnMapActivity.class);\r\n                                intent.putExtra(&quot;latitude&quot;, mapView.getMapCenter().getLatitude());\r\n                                intent.putExtra(&quot;longitude&quot;, mapView.getMapCenter().getLongitude());\r\n                                startActivity(intent);\r\n                            }\r\n                        })\r\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                // User cancelled the dialog\r\n                            }\r\n                        });\r\n                builder.create().show();\r\n                return true;\r\n            }\r\n        });\r\n```\r\n\r\nAlso tired setOnMapLongClickListener didn&#39;t work for me either","title":"How to make touchlistener have a longer touch on a mapview","body":"<p>So I am creating a route planner app using OpenStreetMap in Android Studio and I want to allow the user to be able to click on the map and add a marker in that location so the process to add a marker goes like this</p>\n<ol>\n<li>User clicks anywhere they want on the map.</li>\n<li>The user then gets a dialog box that asks them &quot;Add a marker here?&quot; with Yes or No.</li>\n<li>The user clicks yes and they are brought to a form I have created.</li>\n<li>In this form the user picks what category the marker is for example Speed van. There are two textboxes in       this form as well which autofill with both the longitude and latitude of the marker position.</li>\n<li>The user then clicks the submit button which uploads the category they chose and the longitude and latitude to the Firebase database and then the marker is shown on the map and the user is brought back to the default page which has the map view.</li>\n</ol>\n<p>As of now the firebase stuff I have not done yet but whenever I click on the map even to move the map to look around it this dialog box comes up and I want to change it to if the user click the map view for more than 2 seconds or something like that then the dialog box appears</p>\n<p>Here is my Java code for the marker:</p>\n<pre><code>\n        //Creating a new marker that is to be used by the user\n        marker = new Marker(mapView);\n        marker.setIcon(getResources().getDrawable(R.drawable.ic_marker));\n        marker.setAnchor(Marker.ANCHOR_CENTER, Marker.ANCHOR_BOTTOM);\n\n        mapView.getOverlays().add(marker);\n\n        mapView.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                if (event.getAction() == MotionEvent.ACTION_UP) {\n                    GeoPoint tapLocation = (GeoPoint) mapView.getProjection().fromPixels((int) event.getX(), (int) event.getY());\n                    marker.setPosition(tapLocation);\n                    alertDialog.show();\n                }\n                return false;\n            }\n        });\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(&quot;Add a marker here?&quot;);\n        builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int id) {\n                // Launch your form activity and pass the latitude and longitude of the clicked position\n                Intent intent = new Intent(MainActivity.this, MarkerOnMapActivity.class);\n                intent.putExtra(&quot;latitude&quot;, marker.getPosition().getLatitude());\n                intent.putExtra(&quot;longitude&quot;, marker.getPosition().getLongitude());\n                startActivity(intent);\n\n            }\n\n        });\n        builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int id) {\n                mapView.getOverlays().remove(marker);\n            }\n        });\n        alertDialog = builder.create();\n\n</code></pre>\n<p>I tired changing to using onLongClickListner method however this didn't work at all for me but here is the code for my onLongClickListener which I don't use:</p>\n<pre><code> // Add long-click listener to the map\n        mapView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                // Show confirmation dialog\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n                builder.setMessage(&quot;Add a marker here?&quot;)\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                // Start new activity to display form\n                                Intent intent = new Intent(MainActivity.this, MarkerOnMapActivity.class);\n                                intent.putExtra(&quot;latitude&quot;, mapView.getMapCenter().getLatitude());\n                                intent.putExtra(&quot;longitude&quot;, mapView.getMapCenter().getLongitude());\n                                startActivity(intent);\n                            }\n                        })\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                // User cancelled the dialog\n                            }\n                        });\n                builder.create().show();\n                return true;\n            }\n        });\n</code></pre>\n<p>Also tired setOnMapLongClickListener didn't work for me either</p>\n"},{"tags":["java","amazon-web-services","amazon-simpledb"],"answers":[{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1317729993,"creation_date":1317728674,"answer_id":7647361,"question_id":7647238,"body_markdown":"You can loop on the attributes and find their names and values.\r\n\r\n    List&lt;Item&gt; values;\r\n    Item currentItem = buffer.get(i);\r\n    itemNames[i] = currentItem.getName();\r\n    List&lt;Attribute&gt; currentAttributes = currentItem.getAttributes();\r\n    String favorited = &quot;&quot;;\r\n    for (Attribute anAttribute : currentAttributes) {\r\n        if (anAttribute.getName().equals(&quot;Favorited&quot;)) {\r\n            favorited = anAttribute.getValue();\r\n        }\r\n    }\r\n\r\nIncidentally I find this syntax rather awkward. To get an attribute with a certain name you&#39;ve to loop until you find it. By the way you can as well find it multiple times,  because attributes can have multiple values. You can also find some other attributes in the middle, since attributes are not sorted.\r\n\r\nTo facilitate the process I wrote a small library [AmazonSdbHelper][1], that allows a syntax like the following.\r\n\r\n    PersistenceInterface store = new AmazonSdbHelper();\r\n    store.setDomain(&quot;domain&quot;);\r\n    store.query(&quot;SELECT * FROM domain&quot;);\r\n    while (store.hasNext()) {\r\n        String key = store.next();\r\n        String address = store.getAttributeAsString(&quot;address&quot;);\r\n        Collection&lt;String&gt; phones = store.getAttributeAsCollection(&quot;phones&quot;);\r\n        int visits = store.getAttributeAsInt(&quot;visits&quot;);\r\n    }\r\n\r\nEven better there is a project called [SimpleJpa][2], that implements JPA for Amazon. I would like to try it, anyone has experience with it?\r\n\r\n\r\n  [1]: https://github.com/stivlo/obliquid-lib/blob/master/src/main/java/org/obliquid/sdb/AmazonSdbHelper.java\r\n  [2]: https://github.com/appoxy/simplejpa","title":"Amazon Simple Db get items from list","body":"<p>You can loop on the attributes and find their names and values.</p>\n\n<pre><code>List&lt;Item&gt; values;\nItem currentItem = buffer.get(i);\nitemNames[i] = currentItem.getName();\nList&lt;Attribute&gt; currentAttributes = currentItem.getAttributes();\nString favorited = \"\";\nfor (Attribute anAttribute : currentAttributes) {\n    if (anAttribute.getName().equals(\"Favorited\")) {\n        favorited = anAttribute.getValue();\n    }\n}\n</code></pre>\n\n<p>Incidentally I find this syntax rather awkward. To get an attribute with a certain name you've to loop until you find it. By the way you can as well find it multiple times,  because attributes can have multiple values. You can also find some other attributes in the middle, since attributes are not sorted.</p>\n\n<p>To facilitate the process I wrote a small library <a href=\"https://github.com/stivlo/obliquid-lib/blob/master/src/main/java/org/obliquid/sdb/AmazonSdbHelper.java\" rel=\"nofollow\">AmazonSdbHelper</a>, that allows a syntax like the following.</p>\n\n<pre><code>PersistenceInterface store = new AmazonSdbHelper();\nstore.setDomain(\"domain\");\nstore.query(\"SELECT * FROM domain\");\nwhile (store.hasNext()) {\n    String key = store.next();\n    String address = store.getAttributeAsString(\"address\");\n    Collection&lt;String&gt; phones = store.getAttributeAsCollection(\"phones\");\n    int visits = store.getAttributeAsInt(\"visits\");\n}\n</code></pre>\n\n<p>Even better there is a project called <a href=\"https://github.com/appoxy/simplejpa\" rel=\"nofollow\">SimpleJpa</a>, that implements JPA for Amazon. I would like to try it, anyone has experience with it?</p>\n"}],"owner":{"account_id":419202,"reputation":5879,"user_id":796231,"accept_rate":72,"display_name":"easycheese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7647361,"answer_count":1,"score":1,"last_activity_date":1678927128,"creation_date":1317728091,"question_id":7647238,"body_markdown":"I have the following code in which I query SimpleDb to get a list of the items in my domain along with the &quot;Favorited&quot; attribute.  Basically I am trying to update the users database to have the most recent amount of times each item has been &quot;Favorited&quot;.\r\n\r\nitemNames[] works out perfectly.  However, I am having trouble pulling out the attribute.  I get to setting *List Attributes* which ends up being *[{Name: Favorited, AlternateNameEncoding: null, Value: 5, AlternateValueEncoding: null, }]*.  From here though, I don&#39;t know how to pull out the Value attribute.\r\n\r\nEnd result I want *favoritedValues[i] = 5*\r\n\r\nAlso, it is possible that I am going about this the difficult way, is there an easier way to do it?\r\n\r\n    private void updateFavorites() {\r\n\t\tAmazonClientManager clientManager = new AmazonClientManager();\r\n\t\t\r\n\t\tAmazonSimpleDBClient aSDbClient = clientManager.sdb();\r\n\t\t\r\n\t\tString domainName = &quot;domain&quot;;\r\n\t\tSelectRequest selectRequest2 = new SelectRequest( &quot;select Favorited from `&quot; + domainName + &quot;`&quot; ).withConsistentRead( true );\r\n\t\t\r\n\t\tList values = aSDbClient.select( selectRequest2 ).getItems();\r\n\r\n\t\tString[] itemNames = new String[ values.size() ];\r\n\t\tString[] favoritedValues = new String[ values.size()];\r\n\t\t\r\n\t\t\r\n\t\tfor ( int i = 0; i &lt; values.size(); i++ ) {\r\n\t\t\titemNames[ i ] = ((Item)values.get( i )).getName();\r\n\t\t\tList attributes  = ((Item)values.get( i )).getAttributes();\r\n\t\t\t\r\n\t\t\tfavoritedValues[i] = No idea what goes here\r\n\t\t}\r\n\t}\r\n\r\n\r\nThe Dev guide wasn&#39;t able to help me.  Every time I searched for information via google I got information on ListViews which wasn&#39;t what I was looking for.","title":"Amazon Simple Db get items from list","body":"<p>I have the following code in which I query SimpleDb to get a list of the items in my domain along with the \"Favorited\" attribute.  Basically I am trying to update the users database to have the most recent amount of times each item has been \"Favorited\".</p>\n\n<p>itemNames[] works out perfectly.  However, I am having trouble pulling out the attribute.  I get to setting <em>List Attributes</em> which ends up being <em>[{Name: Favorited, AlternateNameEncoding: null, Value: 5, AlternateValueEncoding: null, }]</em>.  From here though, I don't know how to pull out the Value attribute.</p>\n\n<p>End result I want <em>favoritedValues[i] = 5</em></p>\n\n<p>Also, it is possible that I am going about this the difficult way, is there an easier way to do it?</p>\n\n<pre><code>private void updateFavorites() {\n    AmazonClientManager clientManager = new AmazonClientManager();\n\n    AmazonSimpleDBClient aSDbClient = clientManager.sdb();\n\n    String domainName = \"domain\";\n    SelectRequest selectRequest2 = new SelectRequest( \"select Favorited from `\" + domainName + \"`\" ).withConsistentRead( true );\n\n    List values = aSDbClient.select( selectRequest2 ).getItems();\n\n    String[] itemNames = new String[ values.size() ];\n    String[] favoritedValues = new String[ values.size()];\n\n\n    for ( int i = 0; i &lt; values.size(); i++ ) {\n        itemNames[ i ] = ((Item)values.get( i )).getName();\n        List attributes  = ((Item)values.get( i )).getAttributes();\n\n        favoritedValues[i] = No idea what goes here\n    }\n}\n</code></pre>\n\n<p>The Dev guide wasn't able to help me.  Every time I searched for information via google I got information on ListViews which wasn't what I was looking for.</p>\n"},{"tags":["java","garbage-collection","jvm","mat"],"answers":[{"tags":[],"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460543397,"creation_date":1460543397,"answer_id":36595660,"question_id":36588354,"body_markdown":"Generally speaking, the answer is no, there aren&#39;t. That&#39;s because although the JVM organises the heap into different sections, there isn&#39;t a dumping mechanism which only looks at the old region. And in fact, on newer JVMs there are several different types of region, including eden, survivor (one and two) and old generations which can include newly generated humungous objects.\r\n\r\nYou can use `jmap` or `jcmd` to perform a heap dump, and these have an option to generate just the live objects or everything. If you really needed to know it&#39;s possible that you might be able to analyze the heap dumps and determine which regions it came from at any point, but in general, you really don&#39;t need to know. If you select &#39;live&#39; objects then it will (in effect) perform a GC on the heapdump to remove any objects that aren&#39;t considered live.\r\n\r\nA better question is to try and understand what you&#39;re trying to achieve, and determine if there are tools (like the various PrintGC* flags) that will show you an answer, such as how often objects are promoted.","title":"How to dump Java objects came from JVM heap old generation?","body":"<p>Generally speaking, the answer is no, there aren't. That's because although the JVM organises the heap into different sections, there isn't a dumping mechanism which only looks at the old region. And in fact, on newer JVMs there are several different types of region, including eden, survivor (one and two) and old generations which can include newly generated humungous objects.</p>\n\n<p>You can use <code>jmap</code> or <code>jcmd</code> to perform a heap dump, and these have an option to generate just the live objects or everything. If you really needed to know it's possible that you might be able to analyze the heap dumps and determine which regions it came from at any point, but in general, you really don't need to know. If you select 'live' objects then it will (in effect) perform a GC on the heapdump to remove any objects that aren't considered live.</p>\n\n<p>A better question is to try and understand what you're trying to achieve, and determine if there are tools (like the various PrintGC* flags) that will show you an answer, such as how often objects are promoted.</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678926651,"creation_date":1460544493,"answer_id":36596077,"question_id":36588354,"body_markdown":"If you run Oracle JDK or OpenJDK, you can do this with [HotSpot Serviceability Agent](http://openjdk.java.net/groups/hotspot/docs/Serviceability.html#bsa) `sa-jdi.jar`. It can discover boundaries of old generation. Here is an example that collects heap histogram among objects within OldGen boundaries.\r\n\r\nIt is also possible to find the addresses of old generation from within Java process, see [the related question](https://stackoverflow.com/questions/30599986/how-to-find-out-where-exact-young-old-gen-is-located-in-memory).\r\n\r\n    import sun.jvm.hotspot.gc_implementation.parallelScavenge.ParallelScavengeHeap;\r\n    import sun.jvm.hotspot.gc_interface.CollectedHeap;\r\n    import sun.jvm.hotspot.memory.GenCollectedHeap;\r\n    import sun.jvm.hotspot.memory.MemRegion;\r\n    import sun.jvm.hotspot.oops.ObjectHistogram;\r\n    import sun.jvm.hotspot.oops.Oop;\r\n    import sun.jvm.hotspot.runtime.VM;\r\n    import sun.jvm.hotspot.tools.Tool;\r\n    \r\n    public class OldGen extends Tool {\r\n    \r\n        public static void main(String[] args) {\r\n            new OldGen().execute(args);\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            MemRegion oldRegion = getOldRegion(VM.getVM().getUniverse().heap());\r\n    \r\n            ObjectHistogram histogram = new ObjectHistogram() {\r\n                @Override\r\n                public boolean doObj(Oop obj) {\r\n                    return oldRegion.contains(obj.getHandle()) &amp;&amp; super.doObj(obj);\r\n                }\r\n            };\r\n    \r\n            VM.getVM().getObjectHeap().iterate(histogram);\r\n            histogram.print();\r\n        }\r\n    \r\n        private MemRegion getOldRegion(CollectedHeap heap) {\r\n            if (heap instanceof ParallelScavengeHeap) {\r\n                return ((ParallelScavengeHeap) heap).oldGen().objectSpace().usedRegion();\r\n            } else if (heap instanceof GenCollectedHeap) {\r\n                return ((GenCollectedHeap) heap).getGen(1).usedRegion();\r\n            } else {\r\n                throw new UnsupportedOperationException(heap.kind() + &quot; is not supported&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\nA similar tool for use with JDK 11/17 and G1GC:\r\n\r\n```\r\n// Add the following JVM options to run\r\n// --add-modules jdk.hotspot.agent\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.debugger=ALL-UNNAMED\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.gc.g1=ALL-UNNAMED\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.oops=ALL-UNNAMED\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.runtime=ALL-UNNAMED\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.tools=ALL-UNNAMED\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.types=ALL-UNNAMED\r\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.memory=ALL-UNNAMED\r\n\r\nimport sun.jvm.hotspot.debugger.Address;\r\nimport sun.jvm.hotspot.debugger.AddressException;\r\nimport sun.jvm.hotspot.debugger.OopHandle;\r\nimport sun.jvm.hotspot.gc.g1.G1CollectedHeap;\r\nimport sun.jvm.hotspot.gc.g1.HeapRegion;\r\nimport sun.jvm.hotspot.oops.Klass;\r\nimport sun.jvm.hotspot.oops.ObjectHeap;\r\nimport sun.jvm.hotspot.oops.Oop;\r\nimport sun.jvm.hotspot.oops.UnknownOopException;\r\nimport sun.jvm.hotspot.runtime.VM;\r\nimport sun.jvm.hotspot.tools.Tool;\r\nimport sun.jvm.hotspot.types.WrongTypeException;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\npublic class OldGenHistogram extends Tool {\r\n    final Map&lt;Klass, AtomicLong&gt; histogram = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void run() {\r\n        G1CollectedHeap g1Heap = (G1CollectedHeap) VM.getVM().getUniverse().heap();\r\n        for (Iterator&lt;HeapRegion&gt; it = g1Heap.hrm().heapRegionIterator(); it.hasNext(); ) {\r\n            HeapRegion hr = it.next();\r\n            if (hr.isOld()) {\r\n                iterate(hr);\r\n            }\r\n        }\r\n\r\n        histogram.entrySet().stream()\r\n                .sorted((e1, e2) -&gt; Long.compare(e2.getValue().longValue(), e1.getValue().longValue()))\r\n                .forEach(e -&gt; {\r\n                    System.out.print(e.getValue() + &quot;  &quot;);\r\n                    e.getKey().printValueOn(System.out);\r\n                    System.out.println();\r\n                });\r\n    }\r\n\r\n    private void iterate(HeapRegion region) {\r\n        ObjectHeap heap = VM.getVM().getObjectHeap();\r\n        Address bottom = region.bottom();\r\n        Address top = region.top();\r\n\r\n        try {\r\n            OopHandle handle = bottom.addOffsetToAsOopHandle(0);\r\n            while (handle.lessThan(top)) {\r\n                Oop obj = heap.newOop(handle);\r\n                long size = obj.getObjectSize();\r\n                histogram.computeIfAbsent(obj.getKlass(), k -&gt; new AtomicLong())\r\n                        .addAndGet(size);\r\n                handle = handle.addOffsetToAsOopHandle(size);\r\n            }\r\n        } catch (AddressException | UnknownOopException | WrongTypeException e) {\r\n            // skip\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new OldGenHistogram().execute(args);\r\n    }\r\n}\r\n```","title":"How to dump Java objects came from JVM heap old generation?","body":"<p>If you run Oracle JDK or OpenJDK, you can do this with <a href=\"http://openjdk.java.net/groups/hotspot/docs/Serviceability.html#bsa\" rel=\"nofollow noreferrer\">HotSpot Serviceability Agent</a> <code>sa-jdi.jar</code>. It can discover boundaries of old generation. Here is an example that collects heap histogram among objects within OldGen boundaries.</p>\n<p>It is also possible to find the addresses of old generation from within Java process, see <a href=\"https://stackoverflow.com/questions/30599986/how-to-find-out-where-exact-young-old-gen-is-located-in-memory\">the related question</a>.</p>\n<pre><code>import sun.jvm.hotspot.gc_implementation.parallelScavenge.ParallelScavengeHeap;\nimport sun.jvm.hotspot.gc_interface.CollectedHeap;\nimport sun.jvm.hotspot.memory.GenCollectedHeap;\nimport sun.jvm.hotspot.memory.MemRegion;\nimport sun.jvm.hotspot.oops.ObjectHistogram;\nimport sun.jvm.hotspot.oops.Oop;\nimport sun.jvm.hotspot.runtime.VM;\nimport sun.jvm.hotspot.tools.Tool;\n\npublic class OldGen extends Tool {\n\n    public static void main(String[] args) {\n        new OldGen().execute(args);\n    }\n\n    @Override\n    public void run() {\n        MemRegion oldRegion = getOldRegion(VM.getVM().getUniverse().heap());\n\n        ObjectHistogram histogram = new ObjectHistogram() {\n            @Override\n            public boolean doObj(Oop obj) {\n                return oldRegion.contains(obj.getHandle()) &amp;&amp; super.doObj(obj);\n            }\n        };\n\n        VM.getVM().getObjectHeap().iterate(histogram);\n        histogram.print();\n    }\n\n    private MemRegion getOldRegion(CollectedHeap heap) {\n        if (heap instanceof ParallelScavengeHeap) {\n            return ((ParallelScavengeHeap) heap).oldGen().objectSpace().usedRegion();\n        } else if (heap instanceof GenCollectedHeap) {\n            return ((GenCollectedHeap) heap).getGen(1).usedRegion();\n        } else {\n            throw new UnsupportedOperationException(heap.kind() + &quot; is not supported&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>A similar tool for use with JDK 11/17 and G1GC:</p>\n<pre><code>// Add the following JVM options to run\n// --add-modules jdk.hotspot.agent\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.debugger=ALL-UNNAMED\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.gc.g1=ALL-UNNAMED\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.oops=ALL-UNNAMED\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.runtime=ALL-UNNAMED\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.tools=ALL-UNNAMED\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.types=ALL-UNNAMED\n// --add-exports jdk.hotspot.agent/sun.jvm.hotspot.memory=ALL-UNNAMED\n\nimport sun.jvm.hotspot.debugger.Address;\nimport sun.jvm.hotspot.debugger.AddressException;\nimport sun.jvm.hotspot.debugger.OopHandle;\nimport sun.jvm.hotspot.gc.g1.G1CollectedHeap;\nimport sun.jvm.hotspot.gc.g1.HeapRegion;\nimport sun.jvm.hotspot.oops.Klass;\nimport sun.jvm.hotspot.oops.ObjectHeap;\nimport sun.jvm.hotspot.oops.Oop;\nimport sun.jvm.hotspot.oops.UnknownOopException;\nimport sun.jvm.hotspot.runtime.VM;\nimport sun.jvm.hotspot.tools.Tool;\nimport sun.jvm.hotspot.types.WrongTypeException;\n\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicLong;\n\npublic class OldGenHistogram extends Tool {\n    final Map&lt;Klass, AtomicLong&gt; histogram = new HashMap&lt;&gt;();\n\n    @Override\n    public void run() {\n        G1CollectedHeap g1Heap = (G1CollectedHeap) VM.getVM().getUniverse().heap();\n        for (Iterator&lt;HeapRegion&gt; it = g1Heap.hrm().heapRegionIterator(); it.hasNext(); ) {\n            HeapRegion hr = it.next();\n            if (hr.isOld()) {\n                iterate(hr);\n            }\n        }\n\n        histogram.entrySet().stream()\n                .sorted((e1, e2) -&gt; Long.compare(e2.getValue().longValue(), e1.getValue().longValue()))\n                .forEach(e -&gt; {\n                    System.out.print(e.getValue() + &quot;  &quot;);\n                    e.getKey().printValueOn(System.out);\n                    System.out.println();\n                });\n    }\n\n    private void iterate(HeapRegion region) {\n        ObjectHeap heap = VM.getVM().getObjectHeap();\n        Address bottom = region.bottom();\n        Address top = region.top();\n\n        try {\n            OopHandle handle = bottom.addOffsetToAsOopHandle(0);\n            while (handle.lessThan(top)) {\n                Oop obj = heap.newOop(handle);\n                long size = obj.getObjectSize();\n                histogram.computeIfAbsent(obj.getKlass(), k -&gt; new AtomicLong())\n                        .addAndGet(size);\n                handle = handle.addOffsetToAsOopHandle(size);\n            }\n        } catch (AddressException | UnknownOopException | WrongTypeException e) {\n            // skip\n        }\n    }\n\n    public static void main(String[] args) {\n        new OldGenHistogram().execute(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1700294,"reputation":185,"user_id":1560570,"accept_rate":0,"display_name":"LeafiWan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1849,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1678926651,"creation_date":1460520198,"question_id":36588354,"body_markdown":"Are there any tools to dump old generation of JVM heap?\r\n\r\nIn other words, how can I tell if an object is came from young generation or old generation?","title":"How to dump Java objects came from JVM heap old generation?","body":"<p>Are there any tools to dump old generation of JVM heap?</p>\n\n<p>In other words, how can I tell if an object is came from young generation or old generation?</p>\n"},{"tags":["java","tree","runtime","avl-tree"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678927660,"post_id":75751175,"comment_id":133629972,"body_markdown":"Does this answer your question? [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"}],"owner":{"account_id":26530340,"reputation":3,"user_id":20162638,"display_name":"Flink"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678926241,"creation_date":1678926241,"question_id":75751175,"body_markdown":"I am trying to time the AVL tree deletion operation with different number of nodes. My goal is to experiment with the O(log n) time complexity. I tried to implement the AVL tree and, under my impression it should work, however when I am timing my code, it is not following log n at all, which is giving me the sense that the implementation is incorrect. I will list the code important code I have:\r\n\r\nNode Class:\r\n```\r\nclass AVLNode {\r\n    int key, height;    // Each node stores a key and its height in the AVL tree\r\n    AVLNode left, right;    // Each node has references to its left and right child nodes\r\n\r\n    AVLNode(int key) {    // Constructor for a new node with the given key\r\n        this.key = key;\r\n        height = 1;    // The height of a new node is always 1\r\n    }\r\n}\r\n\r\n```\r\nRight Rotate:\r\n```\r\nprivate AVLNode rightRotate(AVLNode x) {\r\n        AVLNode y = x.left;\r\n        AVLNode T3 = y.right;\r\n\r\n        // Perform rotation\r\n        y.right = x;\r\n        x.left = T3;\r\n\r\n        // Update heights\r\n        x.height = 1 + Math.max(height(x.left), height(x.right));\r\n        y.height = 1 + Math.max(height(y.left), height(y.right));\r\n\r\n        // Return new root\r\n        return y;\r\n    }\r\n```\r\nLeft Rotate:\r\n```\r\npublic AVLNode leftRotate(AVLNode x) {\r\n        AVLNode y = x.right;\r\n        AVLNode z = y.left;\r\n        y.left = x;\r\n        x.right = z;\r\n        x.height = 1 + Math.max(height(x.left), height(x.right));\r\n        y.height = 1 + Math.max(height(y.left), height(y.right));\r\n        return y;\r\n    }\r\n```\r\nInsert Node:\r\n```\r\nAVLNode insert(AVLNode node, int key) {\r\n        // If the current node is null, create a new node with the given key\r\n        if (node == null)\r\n            return (new AVLNode(key));\r\n\r\n        // Recursively insert the node in either the left or right subtree\r\n        if (key &lt; node.key)\r\n            node.left = insert(node.left, key);\r\n        else if (key &gt; node.key)\r\n            node.right = insert(node.right, key);\r\n        else // If the key is already in the tree, return the current node\r\n            return node;\r\n\r\n        // Update the height of the current node\r\n        node.height = 1 + max(height(node.left), height(node.right));\r\n\r\n        // Check the balance factor of the current node and rebalance if necessary\r\n        int balance = getBalance(node);\r\n\r\n        if (balance &gt; 1 &amp;&amp; key &lt; node.left.key) // Left-Left case\r\n            return rightRotate(node);\r\n\r\n        if (balance &lt; -1 &amp;&amp; key &gt; node.right.key) // Right-Right case\r\n            return leftRotate(node);\r\n\r\n        if (balance &gt; 1 &amp;&amp; key &gt; node.left.key) { // Left-Right case\r\n            node.left = leftRotate(node.left);\r\n            return rightRotate(node);\r\n        }\r\n\r\n        if (balance &lt; -1 &amp;&amp; key &lt; node.right.key) { // Right-Left case\r\n            node.right = rightRotate(node.right);\r\n            return leftRotate(node);\r\n        }\r\n\r\n        // Return the current node\r\n        return node;\r\n    }\r\n```\r\nDelete Node:\r\n```\r\nAVLNode deleteNode(AVLNode root, int key) {\r\n        if (root == null) {\r\n            return root;\r\n        }\r\n\r\n        System.out.println(root.height);\r\n\r\n        if (root.height == 1) {\r\n            AVLNode temp;\r\n            temp = root;\r\n            root = null;\r\n            return temp;\r\n        }\r\n\r\n\r\n        // Recursively delete the node in either the left or right subtree\r\n        if (key &lt; root.key)\r\n            root.left = deleteNode(root.left, key);\r\n        else if (key &gt; root.key)\r\n            root.right = deleteNode(root.right, key);\r\n        else {\r\n            // If the node has only one child, replace it with that child\r\n            if ((root.left == null) || (root.right == null)) {\r\n                AVLNode temp;\r\n                if (root.left != null)\r\n                    temp = root.left;\r\n                else\r\n                    temp = root.right;\r\n\r\n                if (temp == null) {\r\n                    temp = root;\r\n                    root = null;\r\n                } else\r\n                    root = temp;\r\n\r\n                temp = null;\r\n            } else { // If the node has two children, replace it with its inorder successor\r\n                AVLNode temp = minValueNode(root.right);\r\n\r\n                root.key = temp.key;\r\n\r\n                root.right = deleteNode(root.right, temp.key);\r\n            }\r\n        }\r\n\r\n        // If the tree only had one node, return the root\r\n        if (root == null) {\r\n            return root;\r\n        }\r\n\r\n        // Update the height of the current node\r\n        root.height = max(height(root.left), height(root.right)) + 1;\r\n\r\n        // Check the balance factor of the current node and rebalance if necessary\r\n        int balance = getBalance(root);\r\n\r\n        if (balance &gt; 1 &amp;&amp; getBalance(root.left) &gt;= 0) // Left-Left case\r\n            return rightRotate(root);\r\n\r\n        if (balance &gt; 1 &amp;&amp; getBalance(root.left) &lt; 0) { // Left-Right case\r\n            root.left = leftRotate(root.left);\r\n            return rightRotate(root);\r\n        }\r\n\r\n        if (balance &lt; -1 &amp;&amp; getBalance(root.right) &lt;= 0) { // Right-Right case\r\n            return leftRotate(root);\r\n        }\r\n        if (balance &lt; -1 &amp;&amp; getBalance(root.right) &gt; 0) { // Right-Left case\r\n            root.right = rightRotate(root.right);\r\n            return leftRotate(root);\r\n        }\r\n\r\n        return root;\r\n    }\r\n```\r\nAnd finally the main method:\r\npublic static void main(String[] args) {\r\n        AVLTree tree = new AVLTree();\r\n\r\n        List&lt;Integer&gt; nValues = new ArrayList&lt;&gt;();\r\n        List&lt;Double&gt; timeValues = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 1; i &lt;= 100; i++) {\r\n            tree.root = tree.insert(tree.root, i);\r\n        }\r\n\r\n        for (int n = 1; n &lt;= 100; n++) {\r\n\r\n            long startTime = System.nanoTime();\r\n            tree.root = tree.deleteNode(tree.root, (int)(n*1.61)%100);\r\n            long endTime = System.nanoTime();\r\n            double duration = (endTime - startTime)/1000.0;\r\n\r\n            nValues.add(n);\r\n            timeValues.add(duration);\r\n        }\r\n\r\n        double[] logTimes = new double[100];\r\n        for (int i = 1; i &lt; 100; i++) {\r\n            logTimes[i] = Math.log(i);\r\n        }\r\n\r\n        // create chart\r\n        XYChart chart = QuickChart.getChart(&quot;Execution Time of Deletion Algorithm&quot;, &quot;Number of Vertices&quot;, &quot;Execution Time (us)&quot;, &quot;Deletion Runtime&quot;, nValues, timeValues);\r\n\r\n\r\n\r\n        chart.addSeries(&quot;Log(n)&quot;, logTimes).setMarker(SeriesMarkers.NONE);\r\n\r\n        // display chart\r\n        new SwingWrapper&lt;&gt;(chart).displayChart();\r\n\r\n        // save chart\r\n        try {\r\n            BitmapEncoder.saveBitmapWithDPI(chart, &quot;./Run_Time_Chart&quot;, BitmapEncoder.BitmapFormat.PNG, 300);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n[This is the graph I get:](https://i.stack.imgur.com/odQtn.png)\r\n\r\nApologies for the lengthy code, i just cannot figure out where the issue is.\r\nThank you in advance\r\n","title":"AVL tree Incorrect implementation","body":"<p>I am trying to time the AVL tree deletion operation with different number of nodes. My goal is to experiment with the O(log n) time complexity. I tried to implement the AVL tree and, under my impression it should work, however when I am timing my code, it is not following log n at all, which is giving me the sense that the implementation is incorrect. I will list the code important code I have:</p>\n<p>Node Class:</p>\n<pre><code>class AVLNode {\n    int key, height;    // Each node stores a key and its height in the AVL tree\n    AVLNode left, right;    // Each node has references to its left and right child nodes\n\n    AVLNode(int key) {    // Constructor for a new node with the given key\n        this.key = key;\n        height = 1;    // The height of a new node is always 1\n    }\n}\n\n</code></pre>\n<p>Right Rotate:</p>\n<pre><code>private AVLNode rightRotate(AVLNode x) {\n        AVLNode y = x.left;\n        AVLNode T3 = y.right;\n\n        // Perform rotation\n        y.right = x;\n        x.left = T3;\n\n        // Update heights\n        x.height = 1 + Math.max(height(x.left), height(x.right));\n        y.height = 1 + Math.max(height(y.left), height(y.right));\n\n        // Return new root\n        return y;\n    }\n</code></pre>\n<p>Left Rotate:</p>\n<pre><code>public AVLNode leftRotate(AVLNode x) {\n        AVLNode y = x.right;\n        AVLNode z = y.left;\n        y.left = x;\n        x.right = z;\n        x.height = 1 + Math.max(height(x.left), height(x.right));\n        y.height = 1 + Math.max(height(y.left), height(y.right));\n        return y;\n    }\n</code></pre>\n<p>Insert Node:</p>\n<pre><code>AVLNode insert(AVLNode node, int key) {\n        // If the current node is null, create a new node with the given key\n        if (node == null)\n            return (new AVLNode(key));\n\n        // Recursively insert the node in either the left or right subtree\n        if (key &lt; node.key)\n            node.left = insert(node.left, key);\n        else if (key &gt; node.key)\n            node.right = insert(node.right, key);\n        else // If the key is already in the tree, return the current node\n            return node;\n\n        // Update the height of the current node\n        node.height = 1 + max(height(node.left), height(node.right));\n\n        // Check the balance factor of the current node and rebalance if necessary\n        int balance = getBalance(node);\n\n        if (balance &gt; 1 &amp;&amp; key &lt; node.left.key) // Left-Left case\n            return rightRotate(node);\n\n        if (balance &lt; -1 &amp;&amp; key &gt; node.right.key) // Right-Right case\n            return leftRotate(node);\n\n        if (balance &gt; 1 &amp;&amp; key &gt; node.left.key) { // Left-Right case\n            node.left = leftRotate(node.left);\n            return rightRotate(node);\n        }\n\n        if (balance &lt; -1 &amp;&amp; key &lt; node.right.key) { // Right-Left case\n            node.right = rightRotate(node.right);\n            return leftRotate(node);\n        }\n\n        // Return the current node\n        return node;\n    }\n</code></pre>\n<p>Delete Node:</p>\n<pre><code>AVLNode deleteNode(AVLNode root, int key) {\n        if (root == null) {\n            return root;\n        }\n\n        System.out.println(root.height);\n\n        if (root.height == 1) {\n            AVLNode temp;\n            temp = root;\n            root = null;\n            return temp;\n        }\n\n\n        // Recursively delete the node in either the left or right subtree\n        if (key &lt; root.key)\n            root.left = deleteNode(root.left, key);\n        else if (key &gt; root.key)\n            root.right = deleteNode(root.right, key);\n        else {\n            // If the node has only one child, replace it with that child\n            if ((root.left == null) || (root.right == null)) {\n                AVLNode temp;\n                if (root.left != null)\n                    temp = root.left;\n                else\n                    temp = root.right;\n\n                if (temp == null) {\n                    temp = root;\n                    root = null;\n                } else\n                    root = temp;\n\n                temp = null;\n            } else { // If the node has two children, replace it with its inorder successor\n                AVLNode temp = minValueNode(root.right);\n\n                root.key = temp.key;\n\n                root.right = deleteNode(root.right, temp.key);\n            }\n        }\n\n        // If the tree only had one node, return the root\n        if (root == null) {\n            return root;\n        }\n\n        // Update the height of the current node\n        root.height = max(height(root.left), height(root.right)) + 1;\n\n        // Check the balance factor of the current node and rebalance if necessary\n        int balance = getBalance(root);\n\n        if (balance &gt; 1 &amp;&amp; getBalance(root.left) &gt;= 0) // Left-Left case\n            return rightRotate(root);\n\n        if (balance &gt; 1 &amp;&amp; getBalance(root.left) &lt; 0) { // Left-Right case\n            root.left = leftRotate(root.left);\n            return rightRotate(root);\n        }\n\n        if (balance &lt; -1 &amp;&amp; getBalance(root.right) &lt;= 0) { // Right-Right case\n            return leftRotate(root);\n        }\n        if (balance &lt; -1 &amp;&amp; getBalance(root.right) &gt; 0) { // Right-Left case\n            root.right = rightRotate(root.right);\n            return leftRotate(root);\n        }\n\n        return root;\n    }\n</code></pre>\n<p>And finally the main method:\npublic static void main(String[] args) {\nAVLTree tree = new AVLTree();</p>\n<pre><code>    List&lt;Integer&gt; nValues = new ArrayList&lt;&gt;();\n    List&lt;Double&gt; timeValues = new ArrayList&lt;&gt;();\n\n    for (int i = 1; i &lt;= 100; i++) {\n        tree.root = tree.insert(tree.root, i);\n    }\n\n    for (int n = 1; n &lt;= 100; n++) {\n\n        long startTime = System.nanoTime();\n        tree.root = tree.deleteNode(tree.root, (int)(n*1.61)%100);\n        long endTime = System.nanoTime();\n        double duration = (endTime - startTime)/1000.0;\n\n        nValues.add(n);\n        timeValues.add(duration);\n    }\n\n    double[] logTimes = new double[100];\n    for (int i = 1; i &lt; 100; i++) {\n        logTimes[i] = Math.log(i);\n    }\n\n    // create chart\n    XYChart chart = QuickChart.getChart(&quot;Execution Time of Deletion Algorithm&quot;, &quot;Number of Vertices&quot;, &quot;Execution Time (us)&quot;, &quot;Deletion Runtime&quot;, nValues, timeValues);\n\n\n\n    chart.addSeries(&quot;Log(n)&quot;, logTimes).setMarker(SeriesMarkers.NONE);\n\n    // display chart\n    new SwingWrapper&lt;&gt;(chart).displayChart();\n\n    // save chart\n    try {\n        BitmapEncoder.saveBitmapWithDPI(chart, &quot;./Run_Time_Chart&quot;, BitmapEncoder.BitmapFormat.PNG, 300);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<pre><code>\n[This is the graph I get:](https://i.stack.imgur.com/odQtn.png)\n\nApologies for the lengthy code, i just cannot figure out where the issue is.\nThank you in advance\n</code></pre>\n"},{"tags":["java","authentication","web-scraping"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1417158390,"post_id":27183439,"comment_id":42854491,"body_markdown":"What happened when you tried it?","body":"What happened when you tried it?"},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1417160245,"post_id":27183439,"comment_id":42855132,"body_markdown":"The signin attempt would be ignored - I&#39;d stay on the login page.","body":"The signin attempt would be ignored - I&#39;d stay on the login page."}],"answers":[{"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1417422743,"creation_date":1417422743,"answer_id":27224423,"question_id":27183439,"body_markdown":"with Selenium see http://www.seleniumhq.org/\r\nthe login was possible in a straightforward way. See sample code below\r\n\r\n\r\nPlease note: AmazonUser is just a helper class to hold the elements needed for login:\r\n\r\n - email\r\n - password\r\n\r\n**Example usage**\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    Amazon amazon = new Amazon();\r\n    String html = amazon\r\n      .navigate(&quot;/gp/css/order-history/ref=oh_aui_menu_open?ie=UTF8&amp;orderFilter=open&quot;);\r\n\r\n**Amazon helper class**\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.NoSuchElementException;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    /**\r\n     * Amazon handling\r\n     * @author wf\r\n     *\r\n     */\r\n    public class Amazon {\r\n    \tFirefoxDriver driver = new FirefoxDriver();\r\n    \tString root=&quot;https://www.amazon.de&quot;;\r\n    \t\r\n    \t/**\r\n    \t * signIn\r\n    \t * @throws Exception\r\n    \t */\r\n    \tpublic void signIn() throws Exception {\r\n    \t\t// &lt;input type=&quot;email&quot; autocapitalize=&quot;off&quot; autocorrect=&quot;off&quot; tabindex=&quot;1&quot; maxlength=&quot;128&quot; size=&quot;30&quot; value=&quot;&quot; name=&quot;email&quot; id=&quot;ap_email&quot; /&gt; \r\n    \t\tWebElement emailField=driver.findElement(By.id(&quot;ap_email&quot;));\r\n    \t\t// get user and password\r\n    \t\tAmazonUser auser=AmazonUser.getUser();\r\n    \t\temailField.sendKeys(auser.getEmail());\r\n    \t\t//  &lt;input type=&quot;password&quot; class=&quot;password&quot; onkeypress=&quot;displayCapsWarning(event,&#39;ap_caps_warning&#39;, this);&quot; tabindex=&quot;2&quot; size=&quot;20&quot; maxlength=&quot;1024&quot; name=&quot;password&quot; id=&quot;ap_password&quot; /&gt;\r\n    \t\tWebElement passwordField=driver.findElement(By.id(&quot;ap_password&quot;));\r\n    \t\tpasswordField.sendKeys(auser.getPassword()); \r\n    \t\t// signInSubmit-input\r\n    \t\tWebElement signinButton=driver.findElement(By.id(&quot;signInSubmit-input&quot;));\r\n    \t\tsigninButton.click();\r\n    \t}\r\n\r\n      /**\r\n\t   * navigate to the given path\r\n\t   * @param path\r\n\t   * @return\r\n\t   * @throws Exception\r\n\t   */\r\n\t  public String navigate(String path) throws Exception {\r\n\t\tdriver.get(root+path);\r\n\t\tString html=driver.getPageSource();\r\n        if (html.contains(&quot;ap_signin_form&quot;)) {\r\n    \t  signIn();\r\n        }\r\n        html=driver.getPageSource();\r\n\t\treturn html;\r\n\t  }\r\n\r\n      public void close() {\r\n\t\tdriver.close();\r\n\t\tdriver.quit();\t\t\r\n\t  }\r\n\r\n\t\r\n    }\r\n","title":"Remote Login to Amazon","body":"<p>with Selenium see <a href=\"http://www.seleniumhq.org/\" rel=\"nofollow\">http://www.seleniumhq.org/</a>\nthe login was possible in a straightforward way. See sample code below</p>\n\n<p>Please note: AmazonUser is just a helper class to hold the elements needed for login:</p>\n\n<ul>\n<li>email</li>\n<li>password</li>\n</ul>\n\n<p><strong>Example usage</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Amazon amazon = new Amazon();\nString html = amazon\n  .navigate(\"/gp/css/order-history/ref=oh_aui_menu_open?ie=UTF8&amp;orderFilter=open\");\n</code></pre>\n\n<p><strong>Amazon helper class</strong>\n</p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.NoSuchElementException;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\n/**\n * Amazon handling\n * @author wf\n *\n */\npublic class Amazon {\n    FirefoxDriver driver = new FirefoxDriver();\n    String root=\"https://www.amazon.de\";\n\n    /**\n     * signIn\n     * @throws Exception\n     */\n    public void signIn() throws Exception {\n        // &lt;input type=\"email\" autocapitalize=\"off\" autocorrect=\"off\" tabindex=\"1\" maxlength=\"128\" size=\"30\" value=\"\" name=\"email\" id=\"ap_email\" /&gt; \n        WebElement emailField=driver.findElement(By.id(\"ap_email\"));\n        // get user and password\n        AmazonUser auser=AmazonUser.getUser();\n        emailField.sendKeys(auser.getEmail());\n        //  &lt;input type=\"password\" class=\"password\" onkeypress=\"displayCapsWarning(event,'ap_caps_warning', this);\" tabindex=\"2\" size=\"20\" maxlength=\"1024\" name=\"password\" id=\"ap_password\" /&gt;\n        WebElement passwordField=driver.findElement(By.id(\"ap_password\"));\n        passwordField.sendKeys(auser.getPassword()); \n        // signInSubmit-input\n        WebElement signinButton=driver.findElement(By.id(\"signInSubmit-input\"));\n        signinButton.click();\n    }\n\n  /**\n   * navigate to the given path\n   * @param path\n   * @return\n   * @throws Exception\n   */\n  public String navigate(String path) throws Exception {\n    driver.get(root+path);\n    String html=driver.getPageSource();\n    if (html.contains(\"ap_signin_form\")) {\n      signIn();\n    }\n    html=driver.getPageSource();\n    return html;\n  }\n\n  public void close() {\n    driver.close();\n    driver.quit();      \n  }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27224423,"answer_count":1,"score":0,"last_activity_date":1678925542,"creation_date":1417157686,"question_id":27183439,"body_markdown":"Questions how to login to Amazon have been discussed for various environments \r\non stackoverflow:\r\n\r\n* https://stackoverflow.com/questions/7522149/php-curl-cookies-problem\r\n* https://stackoverflow.com/questions/9615844/remote-login-amazon-kdp\r\n* https://stackoverflow.com/questions/24553505/amazon-login-with-webrequest\r\n* https://stackoverflow.com/questions/6888549/programatically-login-to-amazon-with-c-sharp\r\n* https://stackoverflow.com/questions/6783179/cannot-login-to-amazon-with-ruby-mechanize\r\n...\r\n\r\nThe mileage seems to vary depending on the approach taken. E.g. as of 2013 one comment was:\r\n\r\n*Amazon have since changed their login process, adding some sort of CSFR protection which makes it difficult to log in using cURL*\r\n\r\nUsing  Java I also had no luck trying the direct curl-like approach and fiddling with the OpenId parameters:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // https://www.amazon.com/ap/signin?\r\n  \t//\t _encoding=UTF8&amp;\r\n\t//   openid.assoc_handle=usflex&amp;\r\n\t//   openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;\r\n\t//   openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;\r\n\t//   openid.mode=checkid_setup&amp;\r\n\t//   openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;\r\n\t//   openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&amp;\r\n\t//   openid.pape.max_auth_age=0&amp;\r\n\t//   openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fgp%2Fsign-in.html%3Fie%3DUTF8%26*Version*%3D1%26*entries*%3D0\r\n\r\n**Question:**\r\n\r\nWould using a ruby mechanize - like style work here and which would be a working mechanize equivalent on Java?\r\n\r\n","title":"Remote Login to Amazon","body":"<p>Questions how to login to Amazon have been discussed for various environments \non stackoverflow:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7522149/php-curl-cookies-problem\">PHP Curl - Cookies problem</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9615844/remote-login-amazon-kdp\">Remote login Amazon (KDP)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24553505/amazon-login-with-webrequest\">Amazon Login with Webrequest</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6888549/programatically-login-to-amazon-with-c-sharp\">Programatically login to Amazon with C#</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6783179/cannot-login-to-amazon-with-ruby-mechanize\">Cannot Login to Amazon with Ruby Mechanize</a>\n...</li>\n</ul>\n\n<p>The mileage seems to vary depending on the approach taken. E.g. as of 2013 one comment was:</p>\n\n<p><em>Amazon have since changed their login process, adding some sort of CSFR protection which makes it difficult to log in using cURL</em></p>\n\n<p>Using  Java I also had no luck trying the direct curl-like approach and fiddling with the OpenId parameters:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// https://www.amazon.com/ap/signin?\n//   _encoding=UTF8&amp;\n//   openid.assoc_handle=usflex&amp;\n//   openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;\n//   openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&amp;\n//   openid.mode=checkid_setup&amp;\n//   openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;\n//   openid.ns.pape=http%3A%2F%2Fspecs.openid.net%2Fextensions%2Fpape%2F1.0&amp;\n//   openid.pape.max_auth_age=0&amp;\n//   openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fgp%2Fsign-in.html%3Fie%3DUTF8%26*Version*%3D1%26*entries*%3D0\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>Would using a ruby mechanize - like style work here and which would be a working mechanize equivalent on Java?</p>\n"},{"tags":["java","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678925495,"creation_date":1678925495,"answer_id":75751113,"question_id":75741663,"body_markdown":"You can indeed use a custom [predicate](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/base/DescribedPredicate.html), e.g. this one (using `import static` …[`DescribedPredicate.describe`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/base/DescribedPredicate.html#describe(java.lang.String,java.util.function.Predicate))):\r\n```java\r\n    describe(&quot;call Hello.B()&quot;, codeUnit -&gt; codeUnit.getCallsFromSelf().stream()\r\n        .map(JavaAccess::getTarget)\r\n        .anyMatch(target -&gt;\r\n            target.getOwner().isEquivalentTo(Hello.class)\r\n            &amp;&amp; target.getName().equals(&quot;B&quot;) &amp;&amp; target.getParameterTypes().isEmpty()\r\n        )\r\n    )\r\n```\r\nThe predicate is basically for [the code unit&#39;s calls](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/domain/JavaCodeUnit.html#getCallsFromSelf()), checking that some [call&#39;s target (the method being called)](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/domain/JavaAccess.html#getTarget()) is the right method (in the right class).","title":"Check if method B is also called when method A is called in Archunit","body":"<p>You can indeed use a custom <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/base/DescribedPredicate.html\" rel=\"nofollow noreferrer\">predicate</a>, e.g. this one (using <code>import static</code> …<a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/base/DescribedPredicate.html#describe(java.lang.String,java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>DescribedPredicate.describe</code></a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    describe(&quot;call Hello.B()&quot;, codeUnit -&gt; codeUnit.getCallsFromSelf().stream()\n        .map(JavaAccess::getTarget)\n        .anyMatch(target -&gt;\n            target.getOwner().isEquivalentTo(Hello.class)\n            &amp;&amp; target.getName().equals(&quot;B&quot;) &amp;&amp; target.getParameterTypes().isEmpty()\n        )\n    )\n</code></pre>\n<p>The predicate is basically for <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/domain/JavaCodeUnit.html#getCallsFromSelf()\" rel=\"nofollow noreferrer\">the code unit's calls</a>, checking that some <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/domain/JavaAccess.html#getTarget()\" rel=\"nofollow noreferrer\">call's target (the method being called)</a> is the right method (in the right class).</p>\n"}],"owner":{"account_id":11418186,"reputation":43,"user_id":8370454,"display_name":"kamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751113,"answer_count":1,"score":0,"last_activity_date":1678925495,"creation_date":1678865586,"question_id":75741663,"body_markdown":"I&#39;m trying to write a test to ensure all `Hello` instances which calls A method must also call B method (order is not important), where `Hello` class is a part of some 3rd party library. Is it possible to test it with ArchUnit?\r\n\r\n```java\r\nclass Hello {\r\n  void A() {...}\r\n  void B() {...}\r\n  void C() {...}\r\n}\r\n```\r\n\r\n```java\r\nHello hello1 = new Hello();\r\nhello1.A()\r\n\r\nHello hello2 = new Hello();\r\nhello2.A()\r\nhello2.B()\r\n\r\n// hello1: fail\r\n// hello2: success\r\n```\r\n\r\nThis is what I have so far. If I&#39;m in the right way, what I need is a `callsBMethod()` described predicate.\r\n\r\n```java\r\nArchRuleDefinition.methods().that().areDeclaredIn(Hello.class)\r\n                .and().haveName(&quot;A&quot;)\r\n                .should().onlyBeCalled().byCodeUnitsThat(&lt;callsBMethod()&gt;)\r\n```","title":"Check if method B is also called when method A is called in Archunit","body":"<p>I'm trying to write a test to ensure all <code>Hello</code> instances which calls A method must also call B method (order is not important), where <code>Hello</code> class is a part of some 3rd party library. Is it possible to test it with ArchUnit?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Hello {\n  void A() {...}\n  void B() {...}\n  void C() {...}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Hello hello1 = new Hello();\nhello1.A()\n\nHello hello2 = new Hello();\nhello2.A()\nhello2.B()\n\n// hello1: fail\n// hello2: success\n</code></pre>\n<p>This is what I have so far. If I'm in the right way, what I need is a <code>callsBMethod()</code> described predicate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArchRuleDefinition.methods().that().areDeclaredIn(Hello.class)\n                .and().haveName(&quot;A&quot;)\n                .should().onlyBeCalled().byCodeUnitsThat(&lt;callsBMethod()&gt;)\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678925611,"post_id":75751091,"comment_id":133629721,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":26408252,"reputation":1,"user_id":20057664,"display_name":"Anonymous877959"},"score":0,"creation_date":1678925747,"post_id":75751091,"comment_id":133629746,"body_markdown":"Welcome to our survey. You may enter &quot;quit&quot; at any time to cancel the survey.\nEnter age: 20\nEnter your state abbreviation: \nException in thread &quot;main&quot; Thank you for your time.\njava.util.NoSuchElementException: No line found\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n\tat main.main(main.java:16)","body":"Welcome to our survey. You may enter &quot;quit&quot; at any time to cancel the survey. Enter age: 20 Enter your state abbreviation:  Exception in thread &quot;main&quot; Thank you for your time. java.util.NoSuchElementException: No line found \tat java.base/java.util.Scanner.nextLine(Scanner.java:1651) \tat main.main(main.java:16)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678926115,"post_id":75751091,"comment_id":133629801,"body_markdown":"Also you are closing system.in. Just create a single Scanner in `main` and pass it to the functions which use it. Never close System.in.","body":"Also you are closing system.in. Just create a single Scanner in <code>main</code> and pass it to the functions which use it. Never close System.in."}],"owner":{"account_id":26408252,"reputation":1,"user_id":20057664,"display_name":"Anonymous877959"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678925098,"creation_date":1678925098,"question_id":75751091,"body_markdown":"My java program here is expected to take the user input in my getState() method but instead, it skips right along to the next method and throws an error as a result. I have tried many different thing and nothing seems to be working\r\n\r\n```\r\nimport java.io.DataInputStream;\r\nimport java.io.EOFException;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class main {\r\n    public static void main(String[] args) throws FileNotFoundException, IOException {\r\n        try {\r\n            System.out.println(&quot;Welcome to our survey. You may enter \\&quot;quit\\&quot; at any time to cancel the survey.&quot;);\r\n            int age = getAge();\r\n            String[][] states = readStateFile();\r\n            String state = getState(states);\r\n            int ZIPCode = getZIPCode();\r\n            System.out.printf(&quot;\\nAge:\\t\\t%d\\n&quot;, age);\r\n            System.out.printf(&quot;Address:\\t%s %s\\n\\n&quot;, ZIPCode, state);\r\n            System.out.println(&quot;Your survey is complete!&quot;);\r\n        } catch (CancelledSurveyException e) {\r\n            System.out.println(e.getMessage());\r\n        } finally {\r\n            System.out.println(&quot;Thank you for your time.&quot;);\r\n        }\r\n    }\r\n\r\n    public static int getAge() throws CancelledSurveyException {\r\n\r\n        int age = 0;\r\n        try {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            System.out.print(&quot;Enter age: &quot;);\r\n            while (age &lt; 18) {\r\n\r\n                age = keyboard.nextInt();\r\n\r\n                if (age &lt; 18) {\r\n                    System.out.println(&quot;You are too young to be taking this survey!&quot;);\r\n                    throw new CancelledSurveyException(null);\r\n                }\r\n\r\n            }\r\n            keyboard.close();\r\n\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return age;\r\n    }\r\n\r\n    public static String[][] readStateFile() throws FileNotFoundException, IOException {\r\n        String[][] states = new String[50][2];\r\n        DataInputStream dis = new DataInputStream(new FileInputStream(&quot;states.bin&quot;));\r\n        try {\r\n            int row = 0;\r\n            while (true) {\r\n                String abbreviation = dis.readUTF();\r\n                String name = dis.readUTF();\r\n                states[row][0] = abbreviation;\r\n                states[row][1] = name;\r\n                row++;\r\n            }\r\n        } catch (EOFException e) {\r\n            // end of file reached\r\n        } finally {\r\n            dis.close();\r\n        }\r\n        return states;\r\n    }\r\n\r\n    public static String getState(String[][] states) throws CancelledSurveyException {\r\n        Scanner scanner1 = new Scanner(System.in);\r\n        try {\r\n            System.out.println(&quot;Enter your state abbreviation: &quot;);\r\n            String abbr = scanner1.nextLine();\r\n            for (int i = 0; i &lt; states.length; i++) {\r\n                if (states[i][0].equalsIgnoreCase(abbr)) {\r\n                    return states[i][1];\r\n                }\r\n            }\r\n            throw new CancelledSurveyException(&quot;Invalid state abbreviation.&quot;);\r\n        } finally {\r\n            scanner1.close();\r\n        }\r\n    }\r\n\r\n    public static int getZIPCode() throws CancelledSurveyException {\r\n        Scanner scanner = new Scanner(System.in);\r\n        try {\r\n            while (true) {\r\n                System.out.print(&quot;Please enter your ZIP code or &#39;quit&#39; to quit: &quot;);\r\n                String input = scanner.nextLine().trim();\r\n                if (input.equalsIgnoreCase(&quot;quit&quot;)) {\r\n                    throw new CancelledSurveyException(&quot;Your survey was cancelled.&quot;);\r\n                }\r\n                try {\r\n                    int zipCode = Integer.parseInt(input);\r\n                    if (zipCode &lt; 10000 || zipCode &gt; 99999) {\r\n                        System.out.println(&quot;Invalid ZIP code.&quot;);\r\n                    } else {\r\n                        return zipCode;\r\n                    }\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(&quot;Invalid input. Please enter a number.&quot;);\r\n                }\r\n            }\r\n        } finally {\r\n            scanner.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy java program here is expected to take the user input in my getState() method but instead, it skips right along to the next method and throws an error as a result. I have tried many different thing and nothing seems to be working\r\n","title":"User input error in java method being skipped over","body":"<p>My java program here is expected to take the user input in my getState() method but instead, it skips right along to the next method and throws an error as a result. I have tried many different thing and nothing seems to be working</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.EOFException;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class main {\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        try {\n            System.out.println(&quot;Welcome to our survey. You may enter \\&quot;quit\\&quot; at any time to cancel the survey.&quot;);\n            int age = getAge();\n            String[][] states = readStateFile();\n            String state = getState(states);\n            int ZIPCode = getZIPCode();\n            System.out.printf(&quot;\\nAge:\\t\\t%d\\n&quot;, age);\n            System.out.printf(&quot;Address:\\t%s %s\\n\\n&quot;, ZIPCode, state);\n            System.out.println(&quot;Your survey is complete!&quot;);\n        } catch (CancelledSurveyException e) {\n            System.out.println(e.getMessage());\n        } finally {\n            System.out.println(&quot;Thank you for your time.&quot;);\n        }\n    }\n\n    public static int getAge() throws CancelledSurveyException {\n\n        int age = 0;\n        try {\n            Scanner keyboard = new Scanner(System.in);\n            System.out.print(&quot;Enter age: &quot;);\n            while (age &lt; 18) {\n\n                age = keyboard.nextInt();\n\n                if (age &lt; 18) {\n                    System.out.println(&quot;You are too young to be taking this survey!&quot;);\n                    throw new CancelledSurveyException(null);\n                }\n\n            }\n            keyboard.close();\n\n        } catch (NumberFormatException e) {\n            System.out.println(e.getMessage());\n        }\n        return age;\n    }\n\n    public static String[][] readStateFile() throws FileNotFoundException, IOException {\n        String[][] states = new String[50][2];\n        DataInputStream dis = new DataInputStream(new FileInputStream(&quot;states.bin&quot;));\n        try {\n            int row = 0;\n            while (true) {\n                String abbreviation = dis.readUTF();\n                String name = dis.readUTF();\n                states[row][0] = abbreviation;\n                states[row][1] = name;\n                row++;\n            }\n        } catch (EOFException e) {\n            // end of file reached\n        } finally {\n            dis.close();\n        }\n        return states;\n    }\n\n    public static String getState(String[][] states) throws CancelledSurveyException {\n        Scanner scanner1 = new Scanner(System.in);\n        try {\n            System.out.println(&quot;Enter your state abbreviation: &quot;);\n            String abbr = scanner1.nextLine();\n            for (int i = 0; i &lt; states.length; i++) {\n                if (states[i][0].equalsIgnoreCase(abbr)) {\n                    return states[i][1];\n                }\n            }\n            throw new CancelledSurveyException(&quot;Invalid state abbreviation.&quot;);\n        } finally {\n            scanner1.close();\n        }\n    }\n\n    public static int getZIPCode() throws CancelledSurveyException {\n        Scanner scanner = new Scanner(System.in);\n        try {\n            while (true) {\n                System.out.print(&quot;Please enter your ZIP code or 'quit' to quit: &quot;);\n                String input = scanner.nextLine().trim();\n                if (input.equalsIgnoreCase(&quot;quit&quot;)) {\n                    throw new CancelledSurveyException(&quot;Your survey was cancelled.&quot;);\n                }\n                try {\n                    int zipCode = Integer.parseInt(input);\n                    if (zipCode &lt; 10000 || zipCode &gt; 99999) {\n                        System.out.println(&quot;Invalid ZIP code.&quot;);\n                    } else {\n                        return zipCode;\n                    }\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;Invalid input. Please enter a number.&quot;);\n                }\n            }\n        } finally {\n            scanner.close();\n        }\n    }\n}\n</code></pre>\n<p>My java program here is expected to take the user input in my getState() method but instead, it skips right along to the next method and throws an error as a result. I have tried many different thing and nothing seems to be working</p>\n"},{"tags":["java","html","parsing","jsoup"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1678998835,"post_id":75751084,"comment_id":133646781,"body_markdown":"could this question be helpful? https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it","body":"could this question be helpful? <a href=\"https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it\" title=\"page content is loaded with javascript and jsoup doesnt see it\">stackoverflow.com/questions/7488872/&hellip;</a>"}],"owner":{"account_id":19242301,"reputation":49,"user_id":14062055,"display_name":"ReginaldRey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678924954,"creation_date":1678924954,"question_id":75751084,"body_markdown":"I&#39;m trying to put together a Jsoup app that pulls four factors data from the following site:\r\n\r\nhttps://www.nba.com/stats/teams/four-factors\r\n\r\nI ran into a problem recently where Jsoup was pulling blanks and after some searching I found out that it&#39;s because the page loads the data through JSON which has a delay, so when Jsoup connects and goes to extract the data there&#39;s nothing there.\r\n\r\nMy question is, is there a way to delay Jsoup from pulling the data until the page is properly loaded?\r\n\r\nMy code is below. Any thoughts or suggestions are much appreciated:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.select.Elements;\r\n    import org.jsoup.nodes.Element;\r\n    \r\n    \r\n    public class Comparison {\r\n    \t\r\n    \tpublic void loadTeams() {\r\n    \t\r\n    \t\ttry {\r\n    \t\t\t\tArrayList&lt;Team&gt; NBA = new ArrayList&lt;Team&gt;(30);\r\n    \t\t\t\tDocument nba = Jsoup.connect(&quot;https://www.nba.com/stats/teams/four-factors&quot;).get();\t\t\t\r\n    \t\t\t\tElements team = nba.getElementsByAttributeValue(&quot;field&quot;, &quot;TEAM_NAME&quot;);\r\n    \t\t\t\tElements shooting = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;EFG_PCT&quot;);\r\n    \t\t\t\tElements turnovers = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;TM_TOV_PCT&quot;);\r\n    \t\t\t\tElements rebounds = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;OREB_PCT&quot;);\r\n    \t\t\t\tElements freethrows = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;FTA_PCTS&quot;);\r\n    \t\t\t\r\n    \t\t\t\tfor (int i = 0; i &lt; team.size(); i++) {\r\n    \t\t\t\t\tString name = team.get(i).text();\r\n    \t\t\t\t\tdouble shootingScore = Double.parseDouble(shooting.get(i).text());\r\n    \t\t\t\t\tdouble turnoversScore = Double.parseDouble(turnovers.get(i).text());\t\r\n    \t\t\t\t\tdouble reboundsScore = Double.parseDouble(rebounds.get(i).text());\t\r\n    \t\t\t\t\tdouble freethrowsScore = Double.parseDouble(freethrows.get(i).text());\t\r\n    \t\t\t\t\tNBA.add(new Team(name, shootingScore, turnoversScore, reboundsScore, freethrowsScore));\r\n    \t\t\t\t}\r\n    \t\t\t//for testing//\r\n    \t\t\tfor(int i=0; i&lt;NBA.size(); i++) {\r\n    \t\t\t    System.out.print(NBA.getClass());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (IOException e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Inputting a delay on Jsoup when encountering JSON","body":"<p>I'm trying to put together a Jsoup app that pulls four factors data from the following site:</p>\n<p><a href=\"https://www.nba.com/stats/teams/four-factors\" rel=\"nofollow noreferrer\">https://www.nba.com/stats/teams/four-factors</a></p>\n<p>I ran into a problem recently where Jsoup was pulling blanks and after some searching I found out that it's because the page loads the data through JSON which has a delay, so when Jsoup connects and goes to extract the data there's nothing there.</p>\n<p>My question is, is there a way to delay Jsoup from pulling the data until the page is properly loaded?</p>\n<p>My code is below. Any thoughts or suggestions are much appreciated:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.select.Elements;\nimport org.jsoup.nodes.Element;\n\n\npublic class Comparison {\n    \n    public void loadTeams() {\n    \n        try {\n                ArrayList&lt;Team&gt; NBA = new ArrayList&lt;Team&gt;(30);\n                Document nba = Jsoup.connect(&quot;https://www.nba.com/stats/teams/four-factors&quot;).get();         \n                Elements team = nba.getElementsByAttributeValue(&quot;field&quot;, &quot;TEAM_NAME&quot;);\n                Elements shooting = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;EFG_PCT&quot;);\n                Elements turnovers = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;TM_TOV_PCT&quot;);\n                Elements rebounds = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;OREB_PCT&quot;);\n                Elements freethrows = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;FTA_PCTS&quot;);\n            \n                for (int i = 0; i &lt; team.size(); i++) {\n                    String name = team.get(i).text();\n                    double shootingScore = Double.parseDouble(shooting.get(i).text());\n                    double turnoversScore = Double.parseDouble(turnovers.get(i).text());    \n                    double reboundsScore = Double.parseDouble(rebounds.get(i).text());  \n                    double freethrowsScore = Double.parseDouble(freethrows.get(i).text());  \n                    NBA.add(new Team(name, shootingScore, turnoversScore, reboundsScore, freethrowsScore));\n                }\n            //for testing//\n            for(int i=0; i&lt;NBA.size(); i++) {\n                System.out.print(NBA.getClass());\n            }\n        }\n        catch (IOException e)\n        {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","jdbc","mariadb","named-pipes"],"answers":[{"tags":[],"owner":{"account_id":7387185,"reputation":65,"user_id":5621867,"display_name":"Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678924447,"creation_date":1678924447,"answer_id":75751045,"question_id":75113255,"body_markdown":"To succesful connect through pipe I do:\r\n\r\n1. use/connect mariadb java client, for example mariadb-java-client-3.1.2.jar\r\n2. use/connect jna - withoit this will never work, for example jna-5.13.0.jar\r\n3. connection properties:\r\n  Driver: org.mariadb.jdbc.Driver\r\n  ServerURL: jdbc:mariadb:///yourdatabase?pipe=MySQL\r\n","title":"Can&#39;t connect to MariaDB by named pipe with java client connector","body":"<p>To succesful connect through pipe I do:</p>\n<ol>\n<li>use/connect mariadb java client, for example mariadb-java-client-3.1.2.jar</li>\n<li>use/connect jna - withoit this will never work, for example jna-5.13.0.jar</li>\n<li>connection properties:\nDriver: org.mariadb.jdbc.Driver\nServerURL: jdbc:mariadb:///yourdatabase?pipe=MySQL</li>\n</ol>\n"}],"owner":{"account_id":7387185,"reputation":65,"user_id":5621867,"display_name":"Bowman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75751045,"answer_count":1,"score":0,"last_activity_date":1678924447,"creation_date":1673635097,"question_id":75113255,"body_markdown":"Spent about two days combining/testing protocols, parameters with no luck.\r\nSeems that java client connector is buggy, but maybe I miss something.\r\n\r\n1. Windows (10, but I think there is no difference)\r\n2. mariadb-java-client-3.1.1.jar (https://mariadb.com/downloads/connectors/connectors-data-access/java8-connector/)\r\n3. Trying connect DBeaver/Openfire that uses java client (Heidi uses .dll and named pipe there works ok, as the mariadb ODBC works ok too [if not writing pipe name to corresponding input field])\r\n  a) for DBeaver with many types of url (needed to copy MariaDB driver as &quot;MariaDB Named Pipe&quot; for example and edit url)\r\n  b) for Openfire &lt;serverURL&gt;jdbc...&lt;/serverURL&gt;\r\n\r\nTried a lot of combinations, a lot.\r\n\r\n    jdbc:mariadb://localhost/?pipe=MySQL\r\n    jdbc:mariadb://localhost/?pipe=\\\\.\\pipe\\MySQL\r\n    jdbc:mariadb://localhost/?pipe=\\\\\\\\.\\\\pipe\\\\MySQL\r\n    jdbc:mariadb://localhost/?pipe=//./pipe/MySQL\r\n    jdbc:mysql://localhost/?protocol=pipe&amp;permitMysqlScheme\r\n\r\n- parameters pipe/pipeName/socket/socketName/socketPath\r\n- parameters alone and in combinations\r\n- socketFactory as was in mysql - I don&#39;t know mariadb factory and mysql factory didn&#39;t accepted\r\n- protocol=pipe in parameters part (after &quot;?&quot;) and in host part localhost=(protocol=pipe)\r\n- with &quot;localhost&quot;, &quot;.&quot; as host and no host &quot;:///&quot;\r\n\r\nNothing helped. Just &quot;hostname must be set&quot; in most situations and &quot;the address can&#39;t be null&quot; when &quot;pipe=something&quot; (pipe=MySQL, pipe=\\\\.\\pipe\\MySQL etc, not &quot;pipe=&quot;)\r\n\r\nWhen connecting to the MariaDB by mysql java connector - then all is ok, it&#39;s enough to type &quot;jdbc:mysql:///?protocol=pipe&quot; in url and all works fine. But mariadb java connector...\r\n\r\nAny suggestions?","title":"Can&#39;t connect to MariaDB by named pipe with java client connector","body":"<p>Spent about two days combining/testing protocols, parameters with no luck.\nSeems that java client connector is buggy, but maybe I miss something.</p>\n<ol>\n<li>Windows (10, but I think there is no difference)</li>\n<li>mariadb-java-client-3.1.1.jar (<a href=\"https://mariadb.com/downloads/connectors/connectors-data-access/java8-connector/\" rel=\"nofollow noreferrer\">https://mariadb.com/downloads/connectors/connectors-data-access/java8-connector/</a>)</li>\n<li>Trying connect DBeaver/Openfire that uses java client (Heidi uses .dll and named pipe there works ok, as the mariadb ODBC works ok too [if not writing pipe name to corresponding input field])\na) for DBeaver with many types of url (needed to copy MariaDB driver as &quot;MariaDB Named Pipe&quot; for example and edit url)\nb) for Openfire jdbc...</li>\n</ol>\n<p>Tried a lot of combinations, a lot.</p>\n<pre><code>jdbc:mariadb://localhost/?pipe=MySQL\njdbc:mariadb://localhost/?pipe=\\\\.\\pipe\\MySQL\njdbc:mariadb://localhost/?pipe=\\\\\\\\.\\\\pipe\\\\MySQL\njdbc:mariadb://localhost/?pipe=//./pipe/MySQL\njdbc:mysql://localhost/?protocol=pipe&amp;permitMysqlScheme\n</code></pre>\n<ul>\n<li>parameters pipe/pipeName/socket/socketName/socketPath</li>\n<li>parameters alone and in combinations</li>\n<li>socketFactory as was in mysql - I don't know mariadb factory and mysql factory didn't accepted</li>\n<li>protocol=pipe in parameters part (after &quot;?&quot;) and in host part localhost=(protocol=pipe)</li>\n<li>with &quot;localhost&quot;, &quot;.&quot; as host and no host &quot;:///&quot;</li>\n</ul>\n<p>Nothing helped. Just &quot;hostname must be set&quot; in most situations and &quot;the address can't be null&quot; when &quot;pipe=something&quot; (pipe=MySQL, pipe=\\.\\pipe\\MySQL etc, not &quot;pipe=&quot;)</p>\n<p>When connecting to the MariaDB by mysql java connector - then all is ok, it's enough to type &quot;jdbc:mysql:///?protocol=pipe&quot; in url and all works fine. But mariadb java connector...</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":27638200,"reputation":1,"user_id":21095706,"display_name":"ShortCake_cafe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678924387,"creation_date":1678924387,"question_id":75751038,"body_markdown":"So I&#39;m trying to add constraints to a method to make a sure that a string id (it&#39;s called matricule in this case) cannot be empty and that it has to follow a regex. However, when I send the postman request, it acts like everything went fine and just keeps going without throwing any exceptions.\r\n\r\n\r\nThis is the code:\r\n```\r\n    @Override\r\n    public FullStudentDTO get(@NotBlank @Pattern(regexp = &quot;[A-Za-z][0-9]{8}&quot;) String matricule) {\r\n    \tCustomValidator&lt;FullStudentDTO, String&gt; validator = validatorFactory.getStudentValidator();\r\n        validator.validateId(matricule);\r\n        validator.verify(&quot;Les validations did not work.&quot;);\r\n        \r\n        return this.converter.studentToFullStudentDTO(repository.getOne(matricule));\r\n    }\r\n```\r\n\r\n\r\n```\r\n    @Override\r\n    public void validateId(String id) {\r\n    \tSet&lt;ConstraintViolation&lt;String&gt;&gt; violations = defaultHibernateValidator.validate(id);\r\n        \r\n        if (!violations.isEmpty()) {\r\n            violations.forEach(v -&gt; this.errorMessages.add(v.getMessage()));\r\n            System.out.println(&quot;error!&quot;);\r\n        }\r\n        \r\n    }\r\n```\r\n\r\n\r\n\r\nI know the error isn&#39;t anything related to postman and I know my depencies are correctly set because I&#39;m able to validate an object somewhere else in the code. However nothing seems to work when it comes to my parameters.","title":"Hibernate won&#39;t validate parameter constraints","body":"<p>So I'm trying to add constraints to a method to make a sure that a string id (it's called matricule in this case) cannot be empty and that it has to follow a regex. However, when I send the postman request, it acts like everything went fine and just keeps going without throwing any exceptions.</p>\n<p>This is the code:</p>\n<pre><code>    @Override\n    public FullStudentDTO get(@NotBlank @Pattern(regexp = &quot;[A-Za-z][0-9]{8}&quot;) String matricule) {\n        CustomValidator&lt;FullStudentDTO, String&gt; validator = validatorFactory.getStudentValidator();\n        validator.validateId(matricule);\n        validator.verify(&quot;Les validations did not work.&quot;);\n        \n        return this.converter.studentToFullStudentDTO(repository.getOne(matricule));\n    }\n</code></pre>\n<pre><code>    @Override\n    public void validateId(String id) {\n        Set&lt;ConstraintViolation&lt;String&gt;&gt; violations = defaultHibernateValidator.validate(id);\n        \n        if (!violations.isEmpty()) {\n            violations.forEach(v -&gt; this.errorMessages.add(v.getMessage()));\n            System.out.println(&quot;error!&quot;);\n        }\n        \n    }\n</code></pre>\n<p>I know the error isn't anything related to postman and I know my depencies are correctly set because I'm able to validate an object somewhere else in the code. However nothing seems to work when it comes to my parameters.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1678922887,"post_id":75750912,"comment_id":133629306,"body_markdown":"See https://en.wikipedia.org/wiki/Inverse_transform_sampling for one of the most common approaches. By the way, the integral of f(x) ***must be*** 1 or else it&#39;s not a probability density function.","body":"See <a href=\"https://en.wikipedia.org/wiki/Inverse_transform_sampling\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Inverse_transform_sampling</a> for one of the most common approaches. By the way, the integral of f(x) <b><i>must be</i></b> 1 or else it&#39;s not a probability density function."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1678924745,"post_id":75750912,"comment_id":133629609,"body_markdown":"Please note that there&#39;s not a one-size-fits-all solution to your question. [Here&#39;s a link](http://luc.devroye.org/rnbookindex.html) to a text book (more than 800 pages) containing theory and algorithms spanning this topic.","body":"Please note that there&#39;s not a one-size-fits-all solution to your question. <a href=\"http://luc.devroye.org/rnbookindex.html\" rel=\"nofollow noreferrer\">Here&#39;s a link</a> to a text book (more than 800 pages) containing theory and algorithms spanning this topic."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678923768,"creation_date":1678923768,"answer_id":75750999,"question_id":75750912,"body_markdown":"The general problem of sampling from probability distributions is well-studied, and a number of techniques are available based on the specific case.  Generally, something about the function must be known: a samplable distribution which has a constant multiple that bounds the target distribution, its integral/CDF, for example.  [Wikipedia has a list of options.](https://en.wikipedia.org/wiki/Non-uniform_random_variate_generation?wprov=sfla1)","title":"Is there a way to create a random vnumber following some general distribution","body":"<p>The general problem of sampling from probability distributions is well-studied, and a number of techniques are available based on the specific case.  Generally, something about the function must be known: a samplable distribution which has a constant multiple that bounds the target distribution, its integral/CDF, for example.  <a href=\"https://en.wikipedia.org/wiki/Non-uniform_random_variate_generation?wprov=sfla1\" rel=\"nofollow noreferrer\">Wikipedia has a list of options.</a></p>\n"}],"owner":{"account_id":20476636,"reputation":111,"user_id":15025824,"display_name":"JavaGamesJAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678953548,"accepted_answer_id":75750999,"answer_count":1,"score":0,"last_activity_date":1678923768,"creation_date":1678922585,"question_id":75750912,"body_markdown":"I&#39;ve been stuck with this problem and I don&#39;t know what to do. Suppose a general function of distribution f(x). For simplicity let us suppose that integral of f(x) is 1 in the range of our random numbers\r\n\r\nHow does one create a function that would return a random number, such that distribution of those random numbers over numberline would be f(x)?\r\n\r\nMy attempt:\r\n\r\nCreate two random numbers with no distribution between 0 and 1:  a and b\r\n\r\nIf f(a)&lt;b then return a, else go recursive.\r\n\r\nThe problem is that 0&lt;=b&lt;=1, but f(a) can have any value from 0 up to infinity, so there would points, where point would get for sure\r\n\r\n","title":"Is there a way to create a random vnumber following some general distribution","body":"<p>I've been stuck with this problem and I don't know what to do. Suppose a general function of distribution f(x). For simplicity let us suppose that integral of f(x) is 1 in the range of our random numbers</p>\n<p>How does one create a function that would return a random number, such that distribution of those random numbers over numberline would be f(x)?</p>\n<p>My attempt:</p>\n<p>Create two random numbers with no distribution between 0 and 1:  a and b</p>\n<p>If f(a)&lt;b then return a, else go recursive.</p>\n<p>The problem is that 0&lt;=b&lt;=1, but f(a) can have any value from 0 up to infinity, so there would points, where point would get for sure</p>\n"},{"tags":["java","spring-boot","amazon-s3","zip"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678923131,"post_id":75748434,"comment_id":133629352,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678922436,"creation_date":1678922436,"answer_id":75750898,"question_id":75748434,"body_markdown":"You appear to be copying pdf to file and using the same `fileInputStream` to output to zip - which will have read to the end. \r\n\r\nEither try commenting out pdf writer part:\r\n\r\n    // FileUtils.copyToFile(fileInputStream, pdfFile); \r\n\r\n..or if you want pdf then re-initialise the stream before you copy to `zipOutputStream`:\r\n\r\n    fileInputStream = PdfService.class.getClassLoader().getResourceAsStream(String.valueOf(accordFile));\r\n            \r\n","title":"I am trying to zip multiple pdf files and then upload them in S3 bucket","body":"<p>You appear to be copying pdf to file and using the same <code>fileInputStream</code> to output to zip - which will have read to the end.</p>\n<p>Either try commenting out pdf writer part:</p>\n<pre><code>// FileUtils.copyToFile(fileInputStream, pdfFile); \n</code></pre>\n<p>..or if you want pdf then re-initialise the stream before you copy to <code>zipOutputStream</code>:</p>\n<pre><code>fileInputStream = PdfService.class.getClassLoader().getResourceAsStream(String.valueOf(accordFile));\n        \n</code></pre>\n"}],"owner":{"account_id":28025632,"reputation":1,"user_id":21405699,"display_name":"Saurabh Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678922436,"creation_date":1678902810,"question_id":75748434,"body_markdown":"I am able to zip pdfs and upload them in s3 bucket but PDFs are getting created in the project directory as well which I don&#39;t need. [PDFs are getting created like this. See the image][1]            \r\n    \r\n    \r\n        public void zipAndUploadToS3() throws IOException {\r\n                        // Create a ByteArrayOutputStream to hold the zip data\r\n                        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                \r\n                        ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\r\n                        \r\n                        \r\n                        for (int i = 1; i &lt;= 3; i++) {\r\n                            File pdfFile = new File(i + &quot;.pdf&quot;);\r\n                \r\n                            // Create a new entry in the zip file for the PDF\r\n                            ZipEntry entry = new ZipEntry(pdfFile.getName());\r\n                \r\n                            zipOutputStream.putNextEntry(entry);\r\n    InputStream fileInputStream = PdfService.class.getClassLoader().getResourceAsStream(String.valueOf(accordFile));\r\n                \r\n                            if (fileInputStream == null) {\r\n                                System.out.println(accordFile + &quot; not found&quot;);\r\n                            } else {\r\n                                FileUtils.copyToFile(fileInputStream, pdfFile);\r\n                            }\r\n                            byte[] buffer = new byte[1024];\r\n                            int len;\r\n                            while ((len = fileInputStream.read(buffer)) &gt; 0) {\r\n                                zipOutputStream.write(buffer, 0, len);\r\n                            }\r\n                \r\n                            zipOutputStream.closeEntry();\r\n                \r\n                            fileInputStream.close();\r\n                        }\r\n                \r\n                        zipOutputStream.close();\r\n                \r\n                        // Upload the zip file to S3\r\n                \r\n                        byte[] zipData = outputStream.toByteArray();\r\n                        ObjectMetadata metadata = new ObjectMetadata();\r\n                        metadata.setContentType(&quot;application/zip&quot;);\r\n                        PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, &quot;my-zip-file.zip&quot;, new ByteArrayInputStream(zipData), metadata);\r\n              s3client.putObject(putObjectRequest);\r\n                  s3client.setObjectAcl(bucketName, &quot;my-zip-file.zip&quot;, CannedAccessControlList.PublicRead);\r\n                        String objectUrl = s3client.getUrl(bucketName, &quot;my-zip-file.zip&quot;).toString();\r\n                        System.out.println(objectUrl);\r\n                    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Fwgv.png","title":"I am trying to zip multiple pdf files and then upload them in S3 bucket","body":"<p>I am able to zip pdfs and upload them in s3 bucket but PDFs are getting created in the project directory as well which I don't need. <a href=\"https://i.stack.imgur.com/5Fwgv.png\" rel=\"nofollow noreferrer\">PDFs are getting created like this. See the image</a></p>\n<pre><code>    public void zipAndUploadToS3() throws IOException {\n                    // Create a ByteArrayOutputStream to hold the zip data\n                    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            \n                    ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\n                    \n                    \n                    for (int i = 1; i &lt;= 3; i++) {\n                        File pdfFile = new File(i + &quot;.pdf&quot;);\n            \n                        // Create a new entry in the zip file for the PDF\n                        ZipEntry entry = new ZipEntry(pdfFile.getName());\n            \n                        zipOutputStream.putNextEntry(entry);\nInputStream fileInputStream = PdfService.class.getClassLoader().getResourceAsStream(String.valueOf(accordFile));\n            \n                        if (fileInputStream == null) {\n                            System.out.println(accordFile + &quot; not found&quot;);\n                        } else {\n                            FileUtils.copyToFile(fileInputStream, pdfFile);\n                        }\n                        byte[] buffer = new byte[1024];\n                        int len;\n                        while ((len = fileInputStream.read(buffer)) &gt; 0) {\n                            zipOutputStream.write(buffer, 0, len);\n                        }\n            \n                        zipOutputStream.closeEntry();\n            \n                        fileInputStream.close();\n                    }\n            \n                    zipOutputStream.close();\n            \n                    // Upload the zip file to S3\n            \n                    byte[] zipData = outputStream.toByteArray();\n                    ObjectMetadata metadata = new ObjectMetadata();\n                    metadata.setContentType(&quot;application/zip&quot;);\n                    PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, &quot;my-zip-file.zip&quot;, new ByteArrayInputStream(zipData), metadata);\n          s3client.putObject(putObjectRequest);\n              s3client.setObjectAcl(bucketName, &quot;my-zip-file.zip&quot;, CannedAccessControlList.PublicRead);\n                    String objectUrl = s3client.getUrl(bucketName, &quot;my-zip-file.zip&quot;).toString();\n                    System.out.println(objectUrl);\n                }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1678874221,"post_id":75742834,"comment_id":133616131,"body_markdown":"You need to add an OnClickListener to the button in your onCreateView method to make it perform an action when clicked.","body":"You need to add an OnClickListener to the button in your onCreateView method to make it perform an action when clicked."},{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":0,"creation_date":1679578925,"post_id":75742834,"comment_id":133749108,"body_markdown":"what do you mean by &quot;didn&#39;t work&quot;?","body":"what do you mean by &quot;didn&#39;t work&quot;?"}],"owner":{"account_id":28015272,"reputation":1,"user_id":21397136,"display_name":"Killner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678921881,"creation_date":1678872831,"question_id":75742834,"body_markdown":"[enter image description here](https://i.stack.imgur.com/fXbfK.jpg)\r\n\r\nI want that a button on the HomeFragment launchs the TestApp activity.\r\n\r\nI tried this, but didn&#39;t work;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            HomeViewModel homeViewModel =\r\n                    new ViewModelProvider(this).get(HomeViewModel.class);\r\n    \r\n            button = (Button) button.findViewById(R.id.button);\r\n            binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            final TextView textView = binding.textHome;\r\n            homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n    \r\n    \r\n            return root;\r\n        }\r\n    \r\n        public void openAc(View view){\r\n            Intent intent = new Intent(getApplicationContext(), TestApp.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n\r\n\r\n","title":"How to launch an activity (java class) from a button of a home fragment from another package in android studio (java)?","body":"<p><a href=\"https://i.stack.imgur.com/fXbfK.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want that a button on the HomeFragment launchs the TestApp activity.</p>\n<p>I tried this, but didn't work;</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        button = (Button) button.findViewById(R.id.button);\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textHome;\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n\n\n        return root;\n    }\n\n    public void openAc(View view){\n        Intent intent = new Intent(getApplicationContext(), TestApp.class);\n        startActivity(intent);\n    }\n\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1600945786,"post_id":64045179,"comment_id":113252639,"body_markdown":"Have you enabled developer mode with allow installing of apps via usb?","body":"Have you enabled developer mode with allow installing of apps via usb?"},{"owner":{"account_id":14470921,"reputation":777,"user_id":10452964,"display_name":"Kamau Mb&#251;gua"},"score":0,"creation_date":1600946600,"post_id":64045179,"comment_id":113253021,"body_markdown":"Yes, Its on and USB debugging on","body":"Yes, Its on and USB debugging on"},{"owner":{"account_id":10371605,"reputation":219,"user_id":8345159,"display_name":"kalia"},"score":0,"creation_date":1600946825,"post_id":64045179,"comment_id":113253130,"body_markdown":"Do you have enough space on your phone to install the app?","body":"Do you have enough space on your phone to install the app?"},{"owner":{"account_id":14470921,"reputation":777,"user_id":10452964,"display_name":"Kamau Mb&#251;gua"},"score":0,"creation_date":1600950502,"post_id":64045179,"comment_id":113255038,"body_markdown":"Yes, I have enough space","body":"Yes, I have enough space"},{"owner":{"account_id":4965695,"reputation":1490,"user_id":3995126,"display_name":"kelvin"},"score":1,"creation_date":1600955960,"post_id":64045179,"comment_id":113258064,"body_markdown":"does your phone have another App with the same packagename . Or do you have another version of this application installed? if yes try again after uninstalling it","body":"does your phone have another App with the same packagename . Or do you have another version of this application installed? if yes try again after uninstalling it"},{"owner":{"account_id":14470921,"reputation":777,"user_id":10452964,"display_name":"Kamau Mb&#251;gua"},"score":0,"creation_date":1600959232,"post_id":64045179,"comment_id":113259746,"body_markdown":"Yes, this worked, but I don&#39;t know why, it should have updated the app.","body":"Yes, this worked, but I don&#39;t know why, it should have updated the app."},{"owner":{"account_id":14470921,"reputation":777,"user_id":10452964,"display_name":"Kamau Mb&#251;gua"},"score":1,"creation_date":1616055299,"post_id":64045179,"comment_id":117884369,"body_markdown":"Worked when I disabled  USB Debugging and enabling it again","body":"Worked when I disabled  USB Debugging and enabling it again"}],"answers":[{"tags":[],"owner":{"account_id":544424,"reputation":20042,"user_id":913867,"accept_rate":51,"display_name":"Daniele B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678921804,"creation_date":1678921804,"answer_id":75750863,"question_id":64045179,"body_markdown":"I solved by adding `android:installLocation=&quot;auto` to the manifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:installLocation=&quot;auto&quot;&gt;","title":"Installation did not succeed. The application could not be installed. List of apks","body":"<p>I solved by adding <code>android:installLocation=&quot;auto</code> to the manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:installLocation=&quot;auto&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":14470921,"reputation":777,"user_id":10452964,"display_name":"Kamau Mb&#251;gua"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678921804,"creation_date":1600945651,"question_id":64045179,"body_markdown":"I am trying to run my app on Android Studio 4.0.1 It returns an error while installing the app on the phone\r\n\r\n    Installation did not succeed.\r\n    The application could not be installed.\r\n    \r\n    List of apks:\r\n    [0] &#39;C:\\Users\\User\\StudioProjects\\ProjectName\\app\\build\\outputs\\apk\\debug\\app-debug.apk&#39;\r\n    Installation failed due to: &#39;Failed to install-write all apks&#39;\r\n\r\n","title":"Installation did not succeed. The application could not be installed. List of apks","body":"<p>I am trying to run my app on Android Studio 4.0.1 It returns an error while installing the app on the phone</p>\n<pre><code>Installation did not succeed.\nThe application could not be installed.\n\nList of apks:\n[0] 'C:\\Users\\User\\StudioProjects\\ProjectName\\app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'Failed to install-write all apks'\n</code></pre>\n"},{"tags":["java","gson","pojo"],"owner":{"account_id":3193335,"reputation":111,"user_id":12420532,"display_name":"kvardekkvar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678924573,"answer_count":0,"score":0,"last_activity_date":1678921078,"creation_date":1678921078,"question_id":75750809,"body_markdown":"I have Websocket API, which spews out data in JSON format, and client endpoint reacts on them asynchronously.\r\nSince Jsons are lengthy, I want to work with them in deserialized form. Gson can deserialize JSON to POJO objects. But what to do, if different incoming JSONs have totally different structure? \r\n\r\nFor example, 2 channels respond in the following manner:\r\n\r\n&quot;symbols&quot; channel\r\n```\r\n{\r\n    &quot;channel&quot;: &quot;symbols&quot;,\r\n    &quot;action&quot;: &quot;snapshot&quot;,\r\n    &quot;data&quot;: [\r\n     {\r\n       &quot;symbol&quot;: &quot;BTC_USDT&quot;,\r\n       &quot;baseCurrencyName&quot;: &quot;BTC&quot;,\r\n       &quot;quoteCurrencyName&quot;: &quot;USDT&quot;,\r\n       &quot;displayName&quot;: &quot;BTC/USDT&quot;,\r\n       &quot;state&quot;: &quot;NORMAL&quot;,\r\n       &quot;visibleStartTime&quot;: 1234567890,\r\n       &quot;tradableStartTime&quot;: 1234567890,\r\n       &quot;symbolTradeLimit&quot;: {\r\n          &quot;symbol&quot;: &quot;BTC_USDT&quot;,\r\n          &quot;priceScale&quot;: 10,\r\n          &quot;quantityScale&quot;: 8,\r\n          &quot;amountScale&quot;: 8,\r\n          &quot;minQuantity&quot;: &quot;0.000000000000000001&quot;,\r\n          &quot;minAmount&quot;: &quot;0.000000000000000001&quot;,\r\n          &quot;highestBid&quot;: &quot;0.00&quot;,\r\n          &quot;lowestAsk&quot;: &quot;0.00&quot;\r\n       },\r\n       &quot;crossMargin&quot;: {\r\n          &quot;supportCrossMargin&quot;: true,\r\n          &quot;maxLeverage&quot;: 3\r\n       }\r\n     }\r\n    ]\r\n}\r\n\r\n```\r\n\r\n&quot;book&quot; channel\r\n```\r\n{\r\n  &quot;channel&quot;: &quot;book&quot;,\r\n  &quot;data&quot;: [{\r\n    &quot;symbol&quot;: &quot;BTC_USDT&quot;,\r\n    &quot;createTime&quot;: 1648052239156,\r\n    &quot;asks&quot;: [],\r\n    &quot;bids&quot;: [\r\n      [&quot;40001.5&quot;, &quot;2.87&quot;],\r\n      [&quot;39999.4&quot;, &quot;1&quot;]\r\n    ],\r\n    &quot;id&quot;: 123456,\r\n    &quot;ts&quot;: 1648052239192\r\n  }, \r\n  … \r\n  {\r\n    &quot;symbol&quot;: &quot;BTC_USDT&quot;,\r\n    &quot;createTime&quot;: 1648052239156,\r\n    &quot;asks&quot;: [],\r\n    &quot;bids&quot;: [\r\n      [&quot;40001&quot;, &quot;2.87&quot;],\r\n      [&quot;39999&quot;, &quot;1&quot;]\r\n    ],\r\n    &quot;id&quot;: 345678,\r\n    &quot;ts&quot;: 1648052239192\r\n  }]\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThe most obvious way is trying to deserialize JSON into each POJO class and catch JsonSyntaxException when POJO class is not correct. \r\n\r\n\r\n```\r\npublic void handleMessage(String message) {\r\n\r\n   SymbolsResponse symbolsResponse;\r\n   BookResponse bookResponse;\r\n\r\n   try {\r\n        bookResponse = gson.fromJson(message, BookResponse.class);\r\n        if (bookResponse != null &amp;&amp;\r\n            bookResponse.getChannel().equals(&quot;book&quot;) &amp;&amp;\r\n            bookResponse.getData().get(0).getAsks().size() &gt; 0) {\r\n\r\n             // Here is handling logic for first message type\r\n\r\n        }\r\n   } catch (NullPointerException | JsonSyntaxException ignoredException) {\r\n   }\r\n\r\n\r\n   try {\r\n        symbolsResponse = gson.fromJson(message, SymbolsResponse.class);\r\n        if (symbolsResponse.getChannel().equals(&quot;symbols&quot;) &amp;&amp;\r\n            symbolsResponse.getData() != null) {\r\n                // Here is handling logic for second message type\r\n        }\r\n    } catch (NullPointerException | JsonSyntaxException ignoredException) {\r\n    }\r\n}\r\n```\r\n\r\nHowever, this looks somehow ugly and non-optimal.","title":"Deserializing with Gson into different POJO types","body":"<p>I have Websocket API, which spews out data in JSON format, and client endpoint reacts on them asynchronously.\nSince Jsons are lengthy, I want to work with them in deserialized form. Gson can deserialize JSON to POJO objects. But what to do, if different incoming JSONs have totally different structure?</p>\n<p>For example, 2 channels respond in the following manner:</p>\n<p>&quot;symbols&quot; channel</p>\n<pre><code>{\n    &quot;channel&quot;: &quot;symbols&quot;,\n    &quot;action&quot;: &quot;snapshot&quot;,\n    &quot;data&quot;: [\n     {\n       &quot;symbol&quot;: &quot;BTC_USDT&quot;,\n       &quot;baseCurrencyName&quot;: &quot;BTC&quot;,\n       &quot;quoteCurrencyName&quot;: &quot;USDT&quot;,\n       &quot;displayName&quot;: &quot;BTC/USDT&quot;,\n       &quot;state&quot;: &quot;NORMAL&quot;,\n       &quot;visibleStartTime&quot;: 1234567890,\n       &quot;tradableStartTime&quot;: 1234567890,\n       &quot;symbolTradeLimit&quot;: {\n          &quot;symbol&quot;: &quot;BTC_USDT&quot;,\n          &quot;priceScale&quot;: 10,\n          &quot;quantityScale&quot;: 8,\n          &quot;amountScale&quot;: 8,\n          &quot;minQuantity&quot;: &quot;0.000000000000000001&quot;,\n          &quot;minAmount&quot;: &quot;0.000000000000000001&quot;,\n          &quot;highestBid&quot;: &quot;0.00&quot;,\n          &quot;lowestAsk&quot;: &quot;0.00&quot;\n       },\n       &quot;crossMargin&quot;: {\n          &quot;supportCrossMargin&quot;: true,\n          &quot;maxLeverage&quot;: 3\n       }\n     }\n    ]\n}\n\n</code></pre>\n<p>&quot;book&quot; channel</p>\n<pre><code>{\n  &quot;channel&quot;: &quot;book&quot;,\n  &quot;data&quot;: [{\n    &quot;symbol&quot;: &quot;BTC_USDT&quot;,\n    &quot;createTime&quot;: 1648052239156,\n    &quot;asks&quot;: [],\n    &quot;bids&quot;: [\n      [&quot;40001.5&quot;, &quot;2.87&quot;],\n      [&quot;39999.4&quot;, &quot;1&quot;]\n    ],\n    &quot;id&quot;: 123456,\n    &quot;ts&quot;: 1648052239192\n  }, \n  … \n  {\n    &quot;symbol&quot;: &quot;BTC_USDT&quot;,\n    &quot;createTime&quot;: 1648052239156,\n    &quot;asks&quot;: [],\n    &quot;bids&quot;: [\n      [&quot;40001&quot;, &quot;2.87&quot;],\n      [&quot;39999&quot;, &quot;1&quot;]\n    ],\n    &quot;id&quot;: 345678,\n    &quot;ts&quot;: 1648052239192\n  }]\n}\n\n</code></pre>\n<p>The most obvious way is trying to deserialize JSON into each POJO class and catch JsonSyntaxException when POJO class is not correct.</p>\n<pre><code>public void handleMessage(String message) {\n\n   SymbolsResponse symbolsResponse;\n   BookResponse bookResponse;\n\n   try {\n        bookResponse = gson.fromJson(message, BookResponse.class);\n        if (bookResponse != null &amp;&amp;\n            bookResponse.getChannel().equals(&quot;book&quot;) &amp;&amp;\n            bookResponse.getData().get(0).getAsks().size() &gt; 0) {\n\n             // Here is handling logic for first message type\n\n        }\n   } catch (NullPointerException | JsonSyntaxException ignoredException) {\n   }\n\n\n   try {\n        symbolsResponse = gson.fromJson(message, SymbolsResponse.class);\n        if (symbolsResponse.getChannel().equals(&quot;symbols&quot;) &amp;&amp;\n            symbolsResponse.getData() != null) {\n                // Here is handling logic for second message type\n        }\n    } catch (NullPointerException | JsonSyntaxException ignoredException) {\n    }\n}\n</code></pre>\n<p>However, this looks somehow ugly and non-optimal.</p>\n"},{"tags":["java","security","random-seed","java-security","secure-random"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1480416355,"creation_date":1480416355,"answer_id":40863877,"question_id":40862857,"body_markdown":"I believe that unless you have special requirements, all of them are good enough.\r\n\r\nThe doc for `getSeed()` says:\r\n\r\n&gt; This method is only included for backwards compatibility. The caller\r\n&gt; is encouraged to use one of the alternative getInstance methods to\r\n&gt; obtain a SecureRandom object, and then call the generateSeed method to\r\n&gt; obtain seed bytes from that object.\r\n\r\nYou may of course follow the instructions exactly, but I’m unsure there is a point over your other examples.\r\n\r\nI can’t remember where, but I read long ago that it’s preferred to give the algorithm explicitly. So I usually do\r\n\r\n    SecureRandom.getInstance(&quot;SHA1PRNG&quot;)\r\n\r\nfor SHA1 algorithm; PRNG is for pseudo-random number generator. While SHA1 is getting worn for general cryptographic purposes, I am being told it’s still fine for random numbers also when you want to use them for cryptographic keys.","title":"What&#39;s the best way to create a &quot;good&quot; SecureRandom?","body":"<p>I believe that unless you have special requirements, all of them are good enough.</p>\n\n<p>The doc for <code>getSeed()</code> says:</p>\n\n<blockquote>\n  <p>This method is only included for backwards compatibility. The caller\n  is encouraged to use one of the alternative getInstance methods to\n  obtain a SecureRandom object, and then call the generateSeed method to\n  obtain seed bytes from that object.</p>\n</blockquote>\n\n<p>You may of course follow the instructions exactly, but I’m unsure there is a point over your other examples.</p>\n\n<p>I can’t remember where, but I read long ago that it’s preferred to give the algorithm explicitly. So I usually do</p>\n\n<pre><code>SecureRandom.getInstance(\"SHA1PRNG\")\n</code></pre>\n\n<p>for SHA1 algorithm; PRNG is for pseudo-random number generator. While SHA1 is getting worn for general cryptographic purposes, I am being told it’s still fine for random numbers also when you want to use them for cryptographic keys.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678920620,"creation_date":1545318725,"answer_id":53871322,"question_id":40862857,"body_markdown":"Basically, the best answer is: you don&#39;t know. You&#39;d better leave the choice up to the experts and use [`new SecureRandom()`](https://docs.oracle.com/javase/10/docs/api/java/security/SecureRandom.html#%3Cinit%3E()). This will retrieve the first random number generator by the highest priority provider that has one.\r\n\r\nWhich providers are present and which one has priority depends on the runtime (IBM and Android also have Java compatible runtimes). The runtime configuration may also differ per operating system, even for the standard JDK.\r\n\r\nOn an Virtual Machine you SHOULD install the OS specific client toolset of the particular VM manager; this commonly allows the client OS to seed from the host OS. `SecureRandom` commonly depends on the host to provide the seed or even the random data. If the host however cannot successfully seed itself then the Java runtime won&#39;t be able to either and the &quot;random data&quot; created on a virtual host may repeat.\r\n\r\nFrom [the JCA documentation](https://docs.oracle.com/javase/9/security/java-cryptography-architecture-jca-reference-guide.htm#JSSEC-GUID-AEB77CD8-D28F-4BBE-B9E5-160B5DC35D36):\r\n\r\n&gt; All Java SE implementations provide a default `SecureRandom` using the no-argument constructor: `new SecureRandom()`. This constructor traverses the list of registered security providers, starting with the most preferred provider, then returns a new `SecureRandom` object from the first provider that supports a `SecureRandom` random number generator (RNG) algorithm. If none of the providers support a RNG algorithm, then it returns a `SecureRandom` object that uses SHA1PRNG from the SUN provider.\r\n\r\n---\r\n\r\nThere is absolutely no need to &quot;seed&quot; the algorithm yourself. Calling `getSeed()` will try and retrieve a seed from the runtime. This may deplete the randomness pool, just like `getInstanceStrong()`, resulting in a block of your application *and possibly other applications as well* until entropy becomes available. The `SecureRandom` implementations will seed themselves - hopefully in the best way possible - if you don&#39;t provide a seed. Beware that the seed provided is *mixed into* the random pool in most (modern) implementations, which is initially seeded by e.g. the OS; you should **not** assume that two instances that have been provided the same seed will generate the same random sequence, not even during testing, and not even if you explicitly specify `&quot;SHA1PRNG&quot;`.\r\n\r\nIf use of `new SecureRandom()` results in blocking then you need to make sure that your application doesn&#39;t use `/dev/random` directly, depleting the entropy pool. If it doesn&#39;t and it still blocks then `/dev/random` is probably misbehaving.\r\n\r\n---\r\n\r\nFor retrieving long term key key material you may also use [`SecureRandom.getInstanceStrong()`](https://docs.oracle.com/javase/10/docs/api/java/security/SecureRandom.html#getInstanceStrong()). You should generally not use this though; `SecureRandom` should be strong enough for most use cases. If you use the `getInstanceStrong()` method you may deplete the entropy pool of your OS. Note that on newer systems this is less likely to happen. For instance on Linux both `/dev/random` and `/dev/urandom` point to the same pseudo-random number generators.\r\n\r\n---\r\n\r\nPreferably you should not use `&quot;SHA1PRNG&quot;`. Even though all runtimes have an implementation, [it is *not* an implementation requirement](https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#ImplFootnote):\r\n\r\n&gt; [1] No specific Configuration type, Policy type or SecureRandom algorithm is required; however, an implementation-specific default must be provided.\r\n\r\nNote that Android first used an insecure `&quot;SHA1PRNG&quot;` implementation, which was subsequently replaced by OpenSSL native code. Basically the implementation lied on which RNG was used. The problem is that the algorithm of SHA1PRNG hasn&#39;t even been specified by Sun, so it is impossible to rely on any specifics of the algorithm, even if the default implementation seems to be secure.\r\n\r\n","title":"What&#39;s the best way to create a &quot;good&quot; SecureRandom?","body":"<p>Basically, the best answer is: you don't know. You'd better leave the choice up to the experts and use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/security/SecureRandom.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\"><code>new SecureRandom()</code></a>. This will retrieve the first random number generator by the highest priority provider that has one.</p>\n<p>Which providers are present and which one has priority depends on the runtime (IBM and Android also have Java compatible runtimes). The runtime configuration may also differ per operating system, even for the standard JDK.</p>\n<p>On an Virtual Machine you SHOULD install the OS specific client toolset of the particular VM manager; this commonly allows the client OS to seed from the host OS. <code>SecureRandom</code> commonly depends on the host to provide the seed or even the random data. If the host however cannot successfully seed itself then the Java runtime won't be able to either and the &quot;random data&quot; created on a virtual host may repeat.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/9/security/java-cryptography-architecture-jca-reference-guide.htm#JSSEC-GUID-AEB77CD8-D28F-4BBE-B9E5-160B5DC35D36\" rel=\"nofollow noreferrer\">the JCA documentation</a>:</p>\n<blockquote>\n<p>All Java SE implementations provide a default <code>SecureRandom</code> using the no-argument constructor: <code>new SecureRandom()</code>. This constructor traverses the list of registered security providers, starting with the most preferred provider, then returns a new <code>SecureRandom</code> object from the first provider that supports a <code>SecureRandom</code> random number generator (RNG) algorithm. If none of the providers support a RNG algorithm, then it returns a <code>SecureRandom</code> object that uses SHA1PRNG from the SUN provider.</p>\n</blockquote>\n<hr />\n<p>There is absolutely no need to &quot;seed&quot; the algorithm yourself. Calling <code>getSeed()</code> will try and retrieve a seed from the runtime. This may deplete the randomness pool, just like <code>getInstanceStrong()</code>, resulting in a block of your application <em>and possibly other applications as well</em> until entropy becomes available. The <code>SecureRandom</code> implementations will seed themselves - hopefully in the best way possible - if you don't provide a seed. Beware that the seed provided is <em>mixed into</em> the random pool in most (modern) implementations, which is initially seeded by e.g. the OS; you should <strong>not</strong> assume that two instances that have been provided the same seed will generate the same random sequence, not even during testing, and not even if you explicitly specify <code>&quot;SHA1PRNG&quot;</code>.</p>\n<p>If use of <code>new SecureRandom()</code> results in blocking then you need to make sure that your application doesn't use <code>/dev/random</code> directly, depleting the entropy pool. If it doesn't and it still blocks then <code>/dev/random</code> is probably misbehaving.</p>\n<hr />\n<p>For retrieving long term key key material you may also use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/security/SecureRandom.html#getInstanceStrong()\" rel=\"nofollow noreferrer\"><code>SecureRandom.getInstanceStrong()</code></a>. You should generally not use this though; <code>SecureRandom</code> should be strong enough for most use cases. If you use the <code>getInstanceStrong()</code> method you may deplete the entropy pool of your OS. Note that on newer systems this is less likely to happen. For instance on Linux both <code>/dev/random</code> and <code>/dev/urandom</code> point to the same pseudo-random number generators.</p>\n<hr />\n<p>Preferably you should not use <code>&quot;SHA1PRNG&quot;</code>. Even though all runtimes have an implementation, <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#ImplFootnote\" rel=\"nofollow noreferrer\">it is <em>not</em> an implementation requirement</a>:</p>\n<blockquote>\n<p>[1] No specific Configuration type, Policy type or SecureRandom algorithm is required; however, an implementation-specific default must be provided.</p>\n</blockquote>\n<p>Note that Android first used an insecure <code>&quot;SHA1PRNG&quot;</code> implementation, which was subsequently replaced by OpenSSL native code. Basically the implementation lied on which RNG was used. The problem is that the algorithm of SHA1PRNG hasn't even been specified by Sun, so it is impossible to rely on any specifics of the algorithm, even if the default implementation seems to be secure.</p>\n"}],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3888,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1678920620,"creation_date":1480413587,"question_id":40862857,"body_markdown":"There are a lot of questions asking if a specific initiation of SecureRandom is &quot;good&quot;, but I couldn&#39;t find a rule of thumb.\r\n\r\nWhat&#39;s the best way to create a &quot;good&quot; random SecureRandom?\r\n\r\n    // Fast\r\n    // Is it a good random?\r\n    SecureRandom secureRandom = new SecureRandom()?\r\n\r\n    // Freezes for a few seconds after being used several times - until getting a random enough seed.\r\n    // See http://stackoverflow.com/questions/137212/how-to-solve-performance-problem-with-java-securerandom#comment68934647_137212\r\n    // Is it a good random?\r\n    SecureRandom secureRandom = new SecureRandom(SecureRandom.getSeed(20))?\r\n\r\n    // Freezes for a very long time. Waited minutes and still no return :(\r\n    SecureRandom secureRandom = new SecureRandom.getInstanceStrong()?\r\n\r\n    Other?\r\n\r\n\r\n","title":"What&#39;s the best way to create a &quot;good&quot; SecureRandom?","body":"<p>There are a lot of questions asking if a specific initiation of SecureRandom is \"good\", but I couldn't find a rule of thumb.</p>\n\n<p>What's the best way to create a \"good\" random SecureRandom?</p>\n\n<pre><code>// Fast\n// Is it a good random?\nSecureRandom secureRandom = new SecureRandom()?\n\n// Freezes for a few seconds after being used several times - until getting a random enough seed.\n// See http://stackoverflow.com/questions/137212/how-to-solve-performance-problem-with-java-securerandom#comment68934647_137212\n// Is it a good random?\nSecureRandom secureRandom = new SecureRandom(SecureRandom.getSeed(20))?\n\n// Freezes for a very long time. Waited minutes and still no return :(\nSecureRandom secureRandom = new SecureRandom.getInstanceStrong()?\n\nOther?\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677966597,"post_id":75638855,"comment_id":133442827,"body_markdown":"You&#39;re looking for `keywordToFind` in `keywordToFind`. You&#39;re then repeatedly find()ing which doesn&#39;t work. `\\b` isn&#39;t what you think it is (you want `\\\\b`). Without using `Pattern.quote`, this code is going to fail if &#39;thing to find&#39; includes any regex relevant symbols. These feel like things a simple debug act will trivially find, which leads me to think your real question is: I do not quite understand the regex API or how regexes work, or, &quot;How do I debug code&quot;, which are different questions than this.","body":"You&#39;re looking for <code>keywordToFind</code> in <code>keywordToFind</code>. You&#39;re then repeatedly find()ing which doesn&#39;t work. <code>\\b</code> isn&#39;t what you think it is (you want <code>\\\\b</code>). Without using <code>Pattern.quote</code>, this code is going to fail if &#39;thing to find&#39; includes any regex relevant symbols. These feel like things a simple debug act will trivially find, which leads me to think your real question is: I do not quite understand the regex API or how regexes work, or, &quot;How do I debug code&quot;, which are different questions than this."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1677967658,"post_id":75638855,"comment_id":133443003,"body_markdown":"Can you show me code example, please?","body":"Can you show me code example, please?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677967879,"post_id":75638855,"comment_id":133443025,"body_markdown":"an example of how to debug your code? That&#39;s more a thing for tutorials, not so much a stack overflow question.","body":"an example of how to debug your code? That&#39;s more a thing for tutorials, not so much a stack overflow question."}],"answers":[{"tags":[],"owner":{"account_id":2985522,"reputation":2419,"user_id":2534472,"display_name":"UniversE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678920433,"creation_date":1677967907,"answer_id":75638985,"question_id":75638855,"body_markdown":"First of all it looks you are doing it the wrong way around. From the signature I would expect that the first argument is the document (the haystack) and the second argument is the list of substrings you want to find (the needles).\r\n\r\n**Update**: as rzwitserloot pointed out in the comments, my original answer did not cover the detail that only whole words shall be reported as match - so substring is not enough. Here is the updated version:\r\n\r\n```java\r\n    List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\r\n        return phrases\r\n            .stream()\r\n            .filter(p -&gt; document.matches(\r\n                String.format(\r\n                    &quot;(.*\\\\s)?%s(\\\\s.*)?&quot;,\r\n                    Pattern.quote(p)\r\n                )\r\n            ))\r\n            .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nThe regular expression is build with the following ideas in mind:\r\n\r\n1) The phrase can be preceeded by an arbitrary string which is separated with a space.\r\n2) The phrase can be succeeded by an arbitrary string which is separated with a space.\r\n3) The phrase can appear at the start or the end of the document, which makes 1) and 2) optional.\r\n4) The phrase itself must be taken literally, so we have to quote it.\r\n\r\n\r\n**End of Update**\r\n\r\nAlso a quick side-note regarding your test. It looks like it is supposed to be a unit test. As such, it should actually _assert_ something. In this case it should assert that all three items from the input list are also returned as found. You should add more tests that are also covering the case that a phrase is not found (and one for the case that all phrases are not found).\r\n","title":"search keyword using expression","body":"<p>First of all it looks you are doing it the wrong way around. From the signature I would expect that the first argument is the document (the haystack) and the second argument is the list of substrings you want to find (the needles).</p>\n<p><strong>Update</strong>: as rzwitserloot pointed out in the comments, my original answer did not cover the detail that only whole words shall be reported as match - so substring is not enough. Here is the updated version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;String&gt; findPhrasesInDocument(String document, List&lt;String&gt; phrases) {\n        return phrases\n            .stream()\n            .filter(p -&gt; document.matches(\n                String.format(\n                    &quot;(.*\\\\s)?%s(\\\\s.*)?&quot;,\n                    Pattern.quote(p)\n                )\n            ))\n            .collect(Collectors.toList());\n    }\n</code></pre>\n<p>The regular expression is build with the following ideas in mind:</p>\n<ol>\n<li>The phrase can be preceeded by an arbitrary string which is separated with a space.</li>\n<li>The phrase can be succeeded by an arbitrary string which is separated with a space.</li>\n<li>The phrase can appear at the start or the end of the document, which makes 1) and 2) optional.</li>\n<li>The phrase itself must be taken literally, so we have to quote it.</li>\n</ol>\n<p><strong>End of Update</strong></p>\n<p>Also a quick side-note regarding your test. It looks like it is supposed to be a unit test. As such, it should actually <em>assert</em> something. In this case it should assert that all three items from the input list are also returned as found. You should add more tests that are also covering the case that a phrase is not found (and one for the case that all phrases are not found).</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678022470,"accepted_answer_id":75638985,"answer_count":1,"score":0,"last_activity_date":1678920433,"creation_date":1677966248,"question_id":75638855,"body_markdown":"I&#39;m trying to implement this test in order to search text into sentence:\r\n\r\n        @Test\r\n        void justAnExample() {\r\n            List&lt;String&gt; list = findPhrasesInDocument(&quot;some test located into long program&quot;, List.of(&quot;test&quot;, &quot;into&quot;, &quot;long program&quot;));\r\n    \r\n            System.out.print(String.join(&quot;\\n&quot;, list));\r\n        }\r\n    \r\n        List&lt;String&gt; findPhrasesInDocument(String keywordToFind, List&lt;String&gt; phrases) {\r\n            List&lt;String&gt; foundPhrases = new ArrayList&lt;&gt;();\r\n    \r\n            String regex = String.format(&quot;\\b%s\\b&quot;, keywordToFind);\r\n            // Creating a pattern object\r\n            Pattern pattern = Pattern.compile(regex);\r\n            // Matching the compiled pattern in the String\r\n            Matcher matcher = pattern.matcher(keywordToFind);\r\n    \r\n            for (String phrase : phrases) {\r\n    \r\n                if (matcher.find()) {\r\n                    foundPhrases.add(phrase);\r\n                }\r\n            }\r\n            return foundPhrases;\r\n        }\r\n\r\nBut when I run the program there is no output printed. Do you know where I&#39;m wrong?","title":"search keyword using expression","body":"<p>I'm trying to implement this test in order to search text into sentence:</p>\n<pre><code>    @Test\n    void justAnExample() {\n        List&lt;String&gt; list = findPhrasesInDocument(&quot;some test located into long program&quot;, List.of(&quot;test&quot;, &quot;into&quot;, &quot;long program&quot;));\n\n        System.out.print(String.join(&quot;\\n&quot;, list));\n    }\n\n    List&lt;String&gt; findPhrasesInDocument(String keywordToFind, List&lt;String&gt; phrases) {\n        List&lt;String&gt; foundPhrases = new ArrayList&lt;&gt;();\n\n        String regex = String.format(&quot;\\b%s\\b&quot;, keywordToFind);\n        // Creating a pattern object\n        Pattern pattern = Pattern.compile(regex);\n        // Matching the compiled pattern in the String\n        Matcher matcher = pattern.matcher(keywordToFind);\n\n        for (String phrase : phrases) {\n\n            if (matcher.find()) {\n                foundPhrases.add(phrase);\n            }\n        }\n        return foundPhrases;\n    }\n</code></pre>\n<p>But when I run the program there is no output printed. Do you know where I'm wrong?</p>\n"},{"tags":["java","postgresql","spring-data-jpa","jsonb"],"answers":[{"tags":[],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678920338,"creation_date":1678920338,"answer_id":75750739,"question_id":75750610,"body_markdown":"not sure if this is the best solution, but it worked:\r\n```java\r\n@Query(nativeQuery = true,\r\n        value = &quot;&quot;&quot;\r\n        select *\r\n        from _book_complex ap\r\n        where ap.external_ids -&gt;&gt; &#39;classifiedId&#39; = ?1\r\n    &quot;&quot;&quot;)\r\nOptional&lt;BookComplexEntity&gt; findByClassifiedId(String classifiedId);\r\n```","title":"Find entries from jsonb by key and value with using java","body":"<p>not sure if this is the best solution, but it worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true,\n        value = &quot;&quot;&quot;\n        select *\n        from _book_complex ap\n        where ap.external_ids -&gt;&gt; 'classifiedId' = ?1\n    &quot;&quot;&quot;)\nOptional&lt;BookComplexEntity&gt; findByClassifiedId(String classifiedId);\n</code></pre>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75750739,"answer_count":1,"score":0,"last_activity_date":1678920338,"creation_date":1678919138,"question_id":75750610,"body_markdown":"How can I get entries that contain a specific key and value in a `jsonb` column?\r\nFor example I need to get entry containing `classifiedId` = `665`.\r\n\r\nThis is an example of my `jsonb` column with name `external_ids`:\r\n\r\n```json\r\n{\r\n  &quot;bookId&quot;: &quot;36056&quot;,\r\n  &quot;keyId&quot;: &quot;662123&quot;,\r\n  &quot;classifiedId&quot;: &quot;665&quot;\r\n}\r\n```\r\n\r\nMy java code:\r\n```java\r\n@Query(nativeQuery = true,\r\n        value = &quot;&quot;&quot;\r\n        select *\r\n        from _book_complex\r\n        where jsonb_exists(external_ids, ?1)\r\n    &quot;&quot;&quot;)\r\nOptional&lt;BookComplexEntity&gt; findByClassifiedId(String classifiedId);\r\n```\r\nBut it does not work correctly and does not find the entry","title":"Find entries from jsonb by key and value with using java","body":"<p>How can I get entries that contain a specific key and value in a <code>jsonb</code> column?\nFor example I need to get entry containing <code>classifiedId</code> = <code>665</code>.</p>\n<p>This is an example of my <code>jsonb</code> column with name <code>external_ids</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bookId&quot;: &quot;36056&quot;,\n  &quot;keyId&quot;: &quot;662123&quot;,\n  &quot;classifiedId&quot;: &quot;665&quot;\n}\n</code></pre>\n<p>My java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true,\n        value = &quot;&quot;&quot;\n        select *\n        from _book_complex\n        where jsonb_exists(external_ids, ?1)\n    &quot;&quot;&quot;)\nOptional&lt;BookComplexEntity&gt; findByClassifiedId(String classifiedId);\n</code></pre>\n<p>But it does not work correctly and does not find the entry</p>\n"},{"tags":["java","tomcat","ssl","x509","pkcs#11"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1511384632,"post_id":47436011,"comment_id":81842767,"body_markdown":"A CERTIFICATE IS NOT A PRIVATE KEY. Any SSL/TLS server needs a certificate (usually with a chain) AND the matching privatekey, and Java (including Tomcat traditionally) usually needs them in a keystore file as a PrivateKeyEntry NOT a TrustedCertEntry. (Tomcat 8.5 up has more flexibility as to the form, but the substance is the same.) If you generated the key (and CSR) give details of that; otherwise get it from whoever did. BTW p7b format is not the same as plain cert format, and thinking they are the same will confuse you, although the code ignores and is not confused by file extensions.","body":"A CERTIFICATE IS NOT A PRIVATE KEY. Any SSL/TLS server needs a certificate (usually with a chain) AND the matching privatekey, and Java (including Tomcat traditionally) usually needs them in a keystore file as a PrivateKeyEntry NOT a TrustedCertEntry. (Tomcat 8.5 up has more flexibility as to the form, but the substance is the same.) If you generated the key (and CSR) give details of that; otherwise get it from whoever did. BTW p7b format is not the same as plain cert format, and thinking they are the same will confuse you, although the code ignores and is not confused by file extensions."},{"owner":{"account_id":3332654,"reputation":739,"user_id":2801200,"accept_rate":36,"display_name":"Chintan Patel"},"score":0,"creation_date":1511422481,"post_id":47436011,"comment_id":81854529,"body_markdown":"You are right. I don&#39;t have the private key. So I have tried to generate the certificate and key using openssl tool. Now I have both certificate and key. Can you tell me how I can import them into keystore and configure in tomcat? Thanks in advance.","body":"You are right. I don&#39;t have the private key. So I have tried to generate the certificate and key using openssl tool. Now I have both certificate and key. Can you tell me how I can import them into keystore and configure in tomcat? Thanks in advance."},{"owner":{"account_id":3332654,"reputation":739,"user_id":2801200,"accept_rate":36,"display_name":"Chintan Patel"},"score":0,"creation_date":1511430479,"post_id":47436011,"comment_id":81859334,"body_markdown":"I found it from https://www.ibm.com/support/knowledgecenter/en/SSWHYP_4.0.0/com.ibm.apimgmt.cmc.doc/task_apionprem_gernerate_self_signed_openSSL.html . I have created certificate and key file using openssl and combined them. It worked for me. Thanks.","body":"I found it from <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSWHYP_4.0.0/com.ibm.apimgmt.cmc.doc/task_apionprem_gernerate_self_signed_openSSL.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/en/SSWHYP_4.0.0/&hellip;</a> . I have created certificate and key file using openssl and combined them. It worked for me. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":3332654,"reputation":739,"user_id":2801200,"accept_rate":36,"display_name":"Chintan Patel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1511430771,"creation_date":1511430771,"answer_id":47452435,"question_id":47436011,"body_markdown":"The issue was due to missing parameter &quot;keyAlias&quot; in tomcat configuration.\r\n\r\nHowever putting alias didnot solve my problem. It started throwing same error with the alias name instead of null :).\r\n\r\nAs per the comment of @dev_thompson_085, I came to know that I was missing the key file for this process. So I tried same with self-signed X.509 certificate as per the url: https://www.ibm.com/support/knowledgecenter/en/SSWHYP_4.0.0/com.ibm.apimgmt.cmc.doc/task_apionprem_gernerate_self_signed_openSSL.html\r\n\r\nAnd it worked very well with both files.","title":"Error: Alias name [null] does not identify a key entry during implementing SSL in Tomcat","body":"<p>The issue was due to missing parameter \"keyAlias\" in tomcat configuration.</p>\n\n<p>However putting alias didnot solve my problem. It started throwing same error with the alias name instead of null :).</p>\n\n<p>As per the comment of @dev_thompson_085, I came to know that I was missing the key file for this process. So I tried same with self-signed X.509 certificate as per the url: <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSWHYP_4.0.0/com.ibm.apimgmt.cmc.doc/task_apionprem_gernerate_self_signed_openSSL.html\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/en/SSWHYP_4.0.0/com.ibm.apimgmt.cmc.doc/task_apionprem_gernerate_self_signed_openSSL.html</a></p>\n\n<p>And it worked very well with both files.</p>\n"}],"owner":{"account_id":3332654,"reputation":739,"user_id":2801200,"accept_rate":36,"display_name":"Chintan Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17438,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678919918,"creation_date":1511357444,"question_id":47436011,"body_markdown":"I am trying to implement SSL in tomcat 8 first time.\r\n\r\nI have third party signed X.509 certificate in the form of .pem file.\r\n\r\nHowever after configuration when I try to start tomcat, it is giving me following error:\r\n\r\n&gt; 22-Nov-2017 18:48:01.735 INFO [main]\r\n&gt; org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler\r\n&gt; [&quot;https-jsse-nio-8443&quot;] 22-Nov-2017 18:48:01.897 SEVERE [main]\r\n&gt; org.apache.coyote.AbstractProtocol.init Failed to initialize end point\r\n&gt; associated with ProtocolHandler [&quot;https-jsse-nio-8443&quot;] \r\n&gt; **java.lang.IllegalArgumentException: java.io.IOException: Alias name\r\n&gt; [null] does not identify a key entry**\r\n&gt;         at ...\r\n\r\nFollowing are the steps I have followed:\r\n\r\n 1. Renamed certificate.pem to certificate.p7b.\r\n 2. Applied following command to inport certificate into keystore:\r\n\r\n**D:\\keytest2&gt;keytool -import -alias tomcat -trustcacerts -file certificate.p7b -keystore keystore.kdb** \r\n\r\nEnter keystore password: test  \r\nRe-enter new password: test \r\n\r\n...  \r\n...  \r\nCertificate was added to keystore\r\n\r\n 3. Checked imported certificate:\r\n\r\n***D:\\keytest2&gt;keytool -list -v -keystore keystore.kd***\r\n\r\nWhich gives me following outout:\r\n\r\nKeystore type: JKS\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: tomcat\r\nCreation date: Nov 22, 2017\r\nEntry type: trustedCertEntry\r\n...\r\n...\r\n\r\n\r\n**Tomcat Configuration:**\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; \r\n    \t\t\t   keystoreFile=&quot;file:///D:/keytest2/keystore.kdb&quot; keystorePass=&quot;test&quot;\r\n               clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;&gt;\r\n\r\nPlease guide me where I am doing wrong.","title":"Error: Alias name [null] does not identify a key entry during implementing SSL in Tomcat","body":"<p>I am trying to implement SSL in tomcat 8 first time.</p>\n\n<p>I have third party signed X.509 certificate in the form of .pem file.</p>\n\n<p>However after configuration when I try to start tomcat, it is giving me following error:</p>\n\n<blockquote>\n  <p>22-Nov-2017 18:48:01.735 INFO [main]\n  org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler\n  [\"https-jsse-nio-8443\"] 22-Nov-2017 18:48:01.897 SEVERE [main]\n  org.apache.coyote.AbstractProtocol.init Failed to initialize end point\n  associated with ProtocolHandler [\"https-jsse-nio-8443\"] \n  <strong>java.lang.IllegalArgumentException: java.io.IOException: Alias name\n  [null] does not identify a key entry</strong>\n          at ...</p>\n</blockquote>\n\n<p>Following are the steps I have followed:</p>\n\n<ol>\n<li>Renamed certificate.pem to certificate.p7b.</li>\n<li>Applied following command to inport certificate into keystore:</li>\n</ol>\n\n<p><strong>D:\\keytest2>keytool -import -alias tomcat -trustcacerts -file certificate.p7b -keystore keystore.kdb</strong> </p>\n\n<p>Enter keystore password: test<br>\nRe-enter new password: test </p>\n\n<p>...<br>\n...<br>\nCertificate was added to keystore</p>\n\n<ol start=\"3\">\n<li>Checked imported certificate:</li>\n</ol>\n\n<p><strong><em>D:\\keytest2>keytool -list -v -keystore keystore.kd</em></strong></p>\n\n<p>Which gives me following outout:</p>\n\n<p>Keystore type: JKS\nKeystore provider: SUN</p>\n\n<p>Your keystore contains 1 entry</p>\n\n<p>Alias name: tomcat\nCreation date: Nov 22, 2017\nEntry type: trustedCertEntry\n...\n...</p>\n\n<p><strong>Tomcat Configuration:</strong></p>\n\n<pre><code>&lt;Connector port=\"8443\" protocol=\"HTTP/1.1\"\n               maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\" \n               keystoreFile=\"file:///D:/keytest2/keystore.kdb\" keystorePass=\"test\"\n           clientAuth=\"false\" sslProtocol=\"TLS\"&gt;\n</code></pre>\n\n<p>Please guide me where I am doing wrong.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678919462,"creation_date":1678919462,"answer_id":75750645,"question_id":75744266,"body_markdown":"According to [MapStruct documentation][1]:\r\n\r\n&gt; In case several source objects define a property with the same name,\r\n&gt; the source parameter from which to retrieve the property must be\r\n&gt; specified using the @Mapping annotation as shown for the description\r\n&gt; property in the example. An error will be raised when such an\r\n&gt; ambiguity is not resolved.\r\n\r\nHowever, needed functionality could be achieved with a next workaround of 3 methods:\r\n\r\n    @Mapper\r\n    public interface TestMapper {\r\n    \r\n        TestMapper INSTANCE = Mappers.getMapper(TestMapper.class);\r\n    \r\n        default ResultClass combineOrdered(ImplicitClass implicitClass, ExplicitClass explicitClass) {\r\n            ResultClass resultClass = populateImplicitly(implicitClass);\r\n            populateExplicitly(resultClass, explicitClass);\r\n            return resultClass;\r\n        }\r\n    \r\n        ResultClass populateImplicitly(ImplicitClass implicitClass);\r\n    \r\n        @BeanMapping(ignoreByDefault = true)\r\n        @Mapping(source = &quot;explicitClass.explicitField&quot;, target = &quot;explicitField&quot;)\r\n        void populateExplicitly(@MappingTarget ResultClass resultClass, ExplicitClass explicitClass);\r\n    }\r\n\r\n\r\nMapStruct will generate code for `populateImplicitly` method to implicitly populate all fields from ImplicitClass - and code for `populateExplicitly` method to explicitly populate only declared fields from ExplicitClass.\r\n\r\nAnd those 2 approaches could be combined using additional method `combineOrdered` - which will first call implicit mappings (to populate all the fields) - and then will populate only explicit fields.\r\n\r\nUsage of such `combineOrdered` method should help to do what you&#39;re looking for.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mappings-with-several-source-parameters","title":"Specify the name of the object that will be used for implicit mapping by MapStruct","body":"<p>According to <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mappings-with-several-source-parameters\" rel=\"nofollow noreferrer\">MapStruct documentation</a>:</p>\n<blockquote>\n<p>In case several source objects define a property with the same name,\nthe source parameter from which to retrieve the property must be\nspecified using the @Mapping annotation as shown for the description\nproperty in the example. An error will be raised when such an\nambiguity is not resolved.</p>\n</blockquote>\n<p>However, needed functionality could be achieved with a next workaround of 3 methods:</p>\n<pre><code>@Mapper\npublic interface TestMapper {\n\n    TestMapper INSTANCE = Mappers.getMapper(TestMapper.class);\n\n    default ResultClass combineOrdered(ImplicitClass implicitClass, ExplicitClass explicitClass) {\n        ResultClass resultClass = populateImplicitly(implicitClass);\n        populateExplicitly(resultClass, explicitClass);\n        return resultClass;\n    }\n\n    ResultClass populateImplicitly(ImplicitClass implicitClass);\n\n    @BeanMapping(ignoreByDefault = true)\n    @Mapping(source = &quot;explicitClass.explicitField&quot;, target = &quot;explicitField&quot;)\n    void populateExplicitly(@MappingTarget ResultClass resultClass, ExplicitClass explicitClass);\n}\n</code></pre>\n<p>MapStruct will generate code for <code>populateImplicitly</code> method to implicitly populate all fields from ImplicitClass - and code for <code>populateExplicitly</code> method to explicitly populate only declared fields from ExplicitClass.</p>\n<p>And those 2 approaches could be combined using additional method <code>combineOrdered</code> - which will first call implicit mappings (to populate all the fields) - and then will populate only explicit fields.</p>\n<p>Usage of such <code>combineOrdered</code> method should help to do what you're looking for.</p>\n"}],"owner":{"account_id":14300904,"reputation":156,"user_id":10330261,"display_name":"Wafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75750645,"answer_count":1,"score":0,"last_activity_date":1678919462,"creation_date":1678880789,"question_id":75744266,"body_markdown":"I would like to know if it&#39;s possible in MapStruct to specify explicitly what is the object that will be used for implicit mapping among the ones passed in argument to the mapper, I have the following example :\r\n``` \r\n@Mapping(target = &quot;ca1&quot;, source = &quot;a.ca1&quot;)\r\n@Mapping(target = &quot;ca2&quot;, source = &quot;a.ca2&quot;)\r\nC mapFrom(A a, B b);\r\n``` \r\nI want to use A for explicit mapping and B for all implicit mapping, the issue is that A and B have a lot of properties with same name that conflicts together, I tried to use \r\n```\r\n@Mapping(target = &quot;.&quot;, source = &quot;b&quot;)\r\n```\r\nbut that does not solve the issue, I still get java: Several possible source properties for target property... Error, also using the ```@BeanMapping(ignoreByDefault = true)``` will make it very difficult as I will have to wirte by hand a lot of mappings. I think it will be very handy if we could specify the object that will be used for implicit mapping, any help ? (I am using version 1.5.2)","title":"Specify the name of the object that will be used for implicit mapping by MapStruct","body":"<p>I would like to know if it's possible in MapStruct to specify explicitly what is the object that will be used for implicit mapping among the ones passed in argument to the mapper, I have the following example :</p>\n<pre><code>@Mapping(target = &quot;ca1&quot;, source = &quot;a.ca1&quot;)\n@Mapping(target = &quot;ca2&quot;, source = &quot;a.ca2&quot;)\nC mapFrom(A a, B b);\n</code></pre>\n<p>I want to use A for explicit mapping and B for all implicit mapping, the issue is that A and B have a lot of properties with same name that conflicts together, I tried to use</p>\n<pre><code>@Mapping(target = &quot;.&quot;, source = &quot;b&quot;)\n</code></pre>\n<p>but that does not solve the issue, I still get java: Several possible source properties for target property... Error, also using the <code>@BeanMapping(ignoreByDefault = true)</code> will make it very difficult as I will have to wirte by hand a lot of mappings. I think it will be very handy if we could specify the object that will be used for implicit mapping, any help ? (I am using version 1.5.2)</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":440775,"reputation":1665,"user_id":830523,"display_name":"Tocco"},"score":0,"creation_date":1310749728,"post_id":6710601,"comment_id":7944792,"body_markdown":"I&#39;d just do `useTheCounter(10)`","body":"I&#39;d just do <code>useTheCounter(10)</code>"}],"answers":[{"tags":[],"owner":{"account_id":305234,"reputation":6983,"user_id":615282,"accept_rate":93,"display_name":"sdolgy"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1310749351,"creation_date":1310749351,"answer_id":6710622,"question_id":6710601,"body_markdown":"for is finite, in the sense that it will finish looping when it runs out of elements to loop through....\r\n\r\nwhile can be infinite if a condition isn&#39;t met or the loop broken\r\n\r\n**Edit**\r\n\r\nMy mistake ... `for` *can* be infinite .. ","title":"when to use while loop rather than for loop","body":"<p>for is finite, in the sense that it will finish looping when it runs out of elements to loop through....</p>\n\n<p>while can be infinite if a condition isn't met or the loop broken</p>\n\n<p><strong>Edit</strong></p>\n\n<p>My mistake ... <code>for</code> <em>can</em> be infinite .. </p>\n"},{"tags":[],"owner":{"account_id":280439,"reputation":48160,"user_id":576139,"accept_rate":100,"display_name":"Chris Eberle"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1310751685,"creation_date":1310749411,"answer_id":6710635,"question_id":6710601,"body_markdown":"A `for` loop is just a special kind of while loop, which happens to deal with incrementing a variable. You can emulate a `for` loop with a `while` loop in any language. It&#39;s just syntactic sugar (except python where `for` is actually `foreach`). So no, there is no specific situation where one is better than the other (although for readability reasons you should prefer a `for` loop when you&#39;re doing simple incremental loops since most people can easily tell what&#39;s going on).\r\n\r\nFor can behave like while:\r\n\r\n    while(true)\r\n    {\r\n    }\r\n\r\n    for(;;)\r\n    {\r\n    }\r\n\r\nAnd while can behave like for:\r\n\r\n    int x = 0;\r\n    while(x &lt; 10)\r\n    {\r\n        x++;\r\n    }\r\n\r\n    for(x = 0; x &lt; 10; x++)\r\n    {\r\n    }\r\n\r\nIn your case, yes you could re-write it as a for loop like this:\r\n\r\n    int counter; // need to declare it here so useTheCounter can see it\r\n\r\n    for(counter = 0; counter &lt; 10 &amp;&amp; !some_condition; )\r\n    {\r\n        //do some task\r\n    }\r\n\r\n    useTheCounter(counter);\r\n","title":"when to use while loop rather than for loop","body":"<p>A <code>for</code> loop is just a special kind of while loop, which happens to deal with incrementing a variable. You can emulate a <code>for</code> loop with a <code>while</code> loop in any language. It's just syntactic sugar (except python where <code>for</code> is actually <code>foreach</code>). So no, there is no specific situation where one is better than the other (although for readability reasons you should prefer a <code>for</code> loop when you're doing simple incremental loops since most people can easily tell what's going on).</p>\n\n<p>For can behave like while:</p>\n\n<pre><code>while(true)\n{\n}\n\nfor(;;)\n{\n}\n</code></pre>\n\n<p>And while can behave like for:</p>\n\n<pre><code>int x = 0;\nwhile(x &lt; 10)\n{\n    x++;\n}\n\nfor(x = 0; x &lt; 10; x++)\n{\n}\n</code></pre>\n\n<p>In your case, yes you could re-write it as a for loop like this:</p>\n\n<pre><code>int counter; // need to declare it here so useTheCounter can see it\n\nfor(counter = 0; counter &lt; 10 &amp;&amp; !some_condition; )\n{\n    //do some task\n}\n\nuseTheCounter(counter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403973,"reputation":140174,"user_id":772035,"accept_rate":95,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310749430,"creation_date":1310749430,"answer_id":6710636,"question_id":6710601,"body_markdown":"The while loop is generally better when you don&#39;t have an iterator (counter usually).\r\n\r\n","title":"when to use while loop rather than for loop","body":"<p>The while loop is generally better when you don't have an iterator (counter usually).</p>\n"},{"tags":[],"owner":{"display_name":"user747858"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1435736278,"creation_date":1310749440,"answer_id":6710639,"question_id":6710601,"body_markdown":"One main difference is `while` loops are best suited when you do not know ahead of time the number of iterations that you need to do. When you know this before entering the loop you can use `for` loop.","title":"when to use while loop rather than for loop","body":"<p>One main difference is <code>while</code> loops are best suited when you do not know ahead of time the number of iterations that you need to do. When you know this before entering the loop you can use <code>for</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":53317,"reputation":19342,"user_id":159388,"accept_rate":73,"display_name":"murgatroid99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310749466,"creation_date":1310749466,"answer_id":6710643,"question_id":6710601,"body_markdown":"One thing I feel I should point out is that when you use a for loop, you do not need to assign counter to another variable. For example `for(counter=0; counter&lt;10; counter++)` is valid Java code.\r\n\r\nAs for your question, a for loop is usually better when you want a piece of code to run a certain number of times, and a while loop is better when the condition for the code to keep running is more general, such as having a boolean flag that is only set to true when a certain condition is met in the code block.","title":"when to use while loop rather than for loop","body":"<p>One thing I feel I should point out is that when you use a for loop, you do not need to assign counter to another variable. For example <code>for(counter=0; counter&lt;10; counter++)</code> is valid Java code.</p>\n\n<p>As for your question, a for loop is usually better when you want a piece of code to run a certain number of times, and a while loop is better when the condition for the code to keep running is more general, such as having a boolean flag that is only set to true when a certain condition is met in the code block.</p>\n"},{"tags":[],"owner":{"account_id":118410,"reputation":62909,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310749591,"creation_date":1310749591,"answer_id":6710670,"question_id":6710601,"body_markdown":"You can do something like:\r\n\r\n    int counter;\r\n    for (counter = 0; counter &lt; 10; ) {\r\n        //do some task\r\n        if(some condition){\r\n            break;\r\n        }\r\n    }\r\n    useTheCounter(counter);\r\n\r\nAnything that a while-loop can do, can also be done in a for-loop, and anything a for-loop can do, can also be done in a while-loop.","title":"when to use while loop rather than for loop","body":"<p>You can do something like:</p>\n\n<pre><code>int counter;\nfor (counter = 0; counter &lt; 10; ) {\n    //do some task\n    if(some condition){\n        break;\n    }\n}\nuseTheCounter(counter);\n</code></pre>\n\n<p>Anything that a while-loop can do, can also be done in a for-loop, and anything a for-loop can do, can also be done in a while-loop.</p>\n"},{"tags":[],"owner":{"account_id":440775,"reputation":1665,"user_id":830523,"display_name":"Tocco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310749636,"creation_date":1310749636,"answer_id":6710680,"question_id":6710601,"body_markdown":"No. There&#39;s not a specific situation where `for` is better than `while`.  \r\nThey do the same thing.  \r\nIt&#39;s up to you choose when apply one of those.","title":"when to use while loop rather than for loop","body":"<p>No. There's not a specific situation where <code>for</code> is better than <code>while</code>.<br>\nThey do the same thing.<br>\nIt's up to you choose when apply one of those.</p>\n"},{"tags":[],"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310749734,"creation_date":1310749734,"answer_id":6710700,"question_id":6710601,"body_markdown":"Remember, \r\n\r\n&gt; Everything done with a for loop can be done with a while loop, BUT not\r\n&gt; all while loops can be implemented with a for loop.\r\n\r\n**WHILE :**\r\n\r\n*`While-loops` are used when the exiting condition has nothing to do with the number of loops or a control variable*\r\n\r\n**FOR :** \r\n\r\n*`for-loops` are just a short-cut way for writing a while loop, while an initialization statement, control statement (when to stop), and a iteration statement (what to do with the controlling factor after each iteration).*\r\n\r\n\r\n\r\n\r\nFor e.g, \r\n\r\nBasically for loops are just short hand for while loops, any for loop can be converted from:\r\n\r\n    for([initialize]; [control statement]; [iteration]) {\r\n       // ...\r\n      }\r\n\r\nand \r\n\r\n    [initialize]; \r\n    while([control statement]) { \r\n       //Do something [iteration];\r\n       } \r\n\r\nare same.\r\n\r\n\r\n","title":"when to use while loop rather than for loop","body":"<p>Remember, </p>\n\n<blockquote>\n  <p>Everything done with a for loop can be done with a while loop, BUT not\n  all while loops can be implemented with a for loop.</p>\n</blockquote>\n\n<p><strong>WHILE :</strong></p>\n\n<p><em><code>While-loops</code> are used when the exiting condition has nothing to do with the number of loops or a control variable</em></p>\n\n<p><strong>FOR :</strong> </p>\n\n<p><em><code>for-loops</code> are just a short-cut way for writing a while loop, while an initialization statement, control statement (when to stop), and a iteration statement (what to do with the controlling factor after each iteration).</em></p>\n\n<p>For e.g, </p>\n\n<p>Basically for loops are just short hand for while loops, any for loop can be converted from:</p>\n\n<pre><code>for([initialize]; [control statement]; [iteration]) {\n   // ...\n  }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>[initialize]; \nwhile([control statement]) { \n   //Do something [iteration];\n   } \n</code></pre>\n\n<p>are same.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1310749875,"creation_date":1310749875,"answer_id":6710732,"question_id":6710601,"body_markdown":"`for` and `while` are equivalent, just a different syntax for the same thing.\r\n\r\n---------\r\n\r\nYou can transform this\r\n\r\n    while( condition ) {\r\n       statement;\r\n    }\r\n\r\nto this:\r\n\r\n    for( ; condition ; ) {\r\n        statement;\r\n    }\r\n\r\n---------\r\n\r\nThe other way:\r\n\r\n    for( init; condition; update) {\r\n        statement;\r\n    }\r\n\r\nis equivalent to this:\r\n\r\n    init;\r\n    while(condition) {\r\n        statement;\r\n        update;\r\n    }\r\n\r\nSo, just use which looks better, or is easier to speak.","title":"when to use while loop rather than for loop","body":"<p><code>for</code> and <code>while</code> are equivalent, just a different syntax for the same thing.</p>\n\n<hr>\n\n<p>You can transform this</p>\n\n<pre><code>while( condition ) {\n   statement;\n}\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>for( ; condition ; ) {\n    statement;\n}\n</code></pre>\n\n<hr>\n\n<p>The other way:</p>\n\n<pre><code>for( init; condition; update) {\n    statement;\n}\n</code></pre>\n\n<p>is equivalent to this:</p>\n\n<pre><code>init;\nwhile(condition) {\n    statement;\n    update;\n}\n</code></pre>\n\n<p>So, just use which looks better, or is easier to speak.</p>\n"},{"tags":[],"owner":{"account_id":1367756,"reputation":657,"user_id":1572906,"accept_rate":75,"display_name":"iptq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333290927,"creation_date":1333290927,"answer_id":9965186,"question_id":6710601,"body_markdown":"`while` loops are much more flexible, while `for` loops are much more readable, if that&#39;s what you&#39;re asking. If you are wondering which one is *faster*, then look at this experiment I conducted concerning the speed of `for` and `while` loops.\r\n\r\n[https://sites.google.com/a/googlesciencefair.com/science-fair-2012-project-96b21c243a17ca64bdad77508f297eca9531a766-1333147438-57/home][1]\r\n\r\n`while` loops are faster.\r\n\r\n\r\n  [1]: https://sites.google.com/a/googlesciencefair.com/science-fair-2012-project-96b21c243a17ca64bdad77508f297eca9531a766-1333147438-57/home","title":"when to use while loop rather than for loop","body":"<p><code>while</code> loops are much more flexible, while <code>for</code> loops are much more readable, if that's what you're asking. If you are wondering which one is <em>faster</em>, then look at this experiment I conducted concerning the speed of <code>for</code> and <code>while</code> loops.</p>\n\n<p><a href=\"https://sites.google.com/a/googlesciencefair.com/science-fair-2012-project-96b21c243a17ca64bdad77508f297eca9531a766-1333147438-57/home\" rel=\"nofollow\">https://sites.google.com/a/googlesciencefair.com/science-fair-2012-project-96b21c243a17ca64bdad77508f297eca9531a766-1333147438-57/home</a></p>\n\n<p><code>while</code> loops are faster.</p>\n"},{"tags":[],"owner":{"account_id":4705158,"reputation":11,"user_id":3807553,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404557346,"creation_date":1404557346,"answer_id":24585631,"question_id":6710601,"body_markdown":"    int counter = 0;\r\n    while (counter &lt; 10) {\r\n        //do some task\r\n        if(some condition){\r\n            break;\r\n        }\r\n    }\r\n    useTheCounter(counter); // method which use that value of counter do some other task\r\n\r\nHi I repeat your code because it is incorrect. You forget to increase your counter so it will remains on 0\r\n\r\n    int counter = 0;\r\n    while (counter &lt; 10) {\r\n      //do some task\r\n      if(some condition){\r\n          break;\r\n      }\r\n      counter++;\r\n    }\r\n    useTheCounter(counter); // method which use that value of counter do some other task","title":"when to use while loop rather than for loop","body":"<pre><code>int counter = 0;\nwhile (counter &lt; 10) {\n    //do some task\n    if(some condition){\n        break;\n    }\n}\nuseTheCounter(counter); // method which use that value of counter do some other task\n</code></pre>\n\n<p>Hi I repeat your code because it is incorrect. You forget to increase your counter so it will remains on 0</p>\n\n<pre><code>int counter = 0;\nwhile (counter &lt; 10) {\n  //do some task\n  if(some condition){\n      break;\n  }\n  counter++;\n}\nuseTheCounter(counter); // method which use that value of counter do some other task\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15299582,"reputation":31,"user_id":11038487,"display_name":"user11038487"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549730216,"creation_date":1549730216,"answer_id":54608259,"question_id":6710601,"body_markdown":"Use a FOR loop when you know the number of times you want to loop.  The technical term for that is the number of iterations.  How do you know the number of iterations?  You know the start, stop and step.  If you know those three pieces of information, you should use a FOR loop because it&#39;s the right tool for the job.  \r\nUse a DO loop when you don&#39;t know the number of iterations.  If you don&#39;t know the start, stop, step or some combination of those then you need to use a DO loop.  The expression will be evaluated at the top of the loop.\r\nUse a DO WHILE loop if you want to loop at least once.  Use just a WHILE loop if you don&#39;t want to loop at least once. The expression will be evaluated at the bottom of the loop.\r\n","title":"when to use while loop rather than for loop","body":"<p>Use a FOR loop when you know the number of times you want to loop.  The technical term for that is the number of iterations.  How do you know the number of iterations?  You know the start, stop and step.  If you know those three pieces of information, you should use a FOR loop because it's the right tool for the job.<br>\nUse a DO loop when you don't know the number of iterations.  If you don't know the start, stop, step or some combination of those then you need to use a DO loop.  The expression will be evaluated at the top of the loop.\nUse a DO WHILE loop if you want to loop at least once.  Use just a WHILE loop if you don't want to loop at least once. The expression will be evaluated at the bottom of the loop.</p>\n"},{"tags":[],"owner":{"display_name":"user3937538"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579699215,"creation_date":1579699215,"answer_id":59860697,"question_id":6710601,"body_markdown":"What ever you can write in for loop can be converted to while loop. Benefits of using for loop are \r\n\r\n1. The syntax allows you to start a counter, set the condition to exit loop, then auto increment.\r\n\r\nYou can get the same done in while loop also. But all which you can do in while loop is not possible to do in for loop. For example if you have more than one counter and you want any of them to increment based on a condition then while only can use. In for loop at the end of loop the counter increment happens automatically. \r\n\r\nBest use\r\n\r\nFor matrix or single array single directional traversal, for loop is good\r\nIn case of multiple conditions and multiple counters then while loop is good. if yuo want to traverse an array from both sides based on different conditions then while loop is good. \r\n\r\nWhile loop, there is lot more chance to forget increment counter and ends up into infinite loop, while in for loop syntax will help you to easily set the counter.  ","title":"when to use while loop rather than for loop","body":"<p>What ever you can write in for loop can be converted to while loop. Benefits of using for loop are </p>\n\n<ol>\n<li>The syntax allows you to start a counter, set the condition to exit loop, then auto increment.</li>\n</ol>\n\n<p>You can get the same done in while loop also. But all which you can do in while loop is not possible to do in for loop. For example if you have more than one counter and you want any of them to increment based on a condition then while only can use. In for loop at the end of loop the counter increment happens automatically. </p>\n\n<p>Best use</p>\n\n<p>For matrix or single array single directional traversal, for loop is good\nIn case of multiple conditions and multiple counters then while loop is good. if yuo want to traverse an array from both sides based on different conditions then while loop is good. </p>\n\n<p>While loop, there is lot more chance to forget increment counter and ends up into infinite loop, while in for loop syntax will help you to easily set the counter.  </p>\n"},{"tags":[],"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593545392,"creation_date":1593545392,"answer_id":62664873,"question_id":6710601,"body_markdown":"For loops include the notion of counting, which is great. Yet, when you don’t know how many times the code should run, while loops make sense.","title":"when to use while loop rather than for loop","body":"<p>For loops include the notion of counting, which is great. Yet, when you don’t know how many times the code should run, while loops make sense.</p>\n"},{"tags":[],"owner":{"account_id":11615511,"reputation":43,"user_id":8508415,"display_name":"Gaetano Barreca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678919444,"creation_date":1678919444,"answer_id":75750641,"question_id":6710601,"body_markdown":"Usually while loops are used for I/O, like waiting for input from the user or waiting for data from the web, which are situations where the code has no capability of knowing how many times it should do something (like how many times the program should it should check if it&#39;s received user input yet). ","title":"when to use while loop rather than for loop","body":"<p>Usually while loops are used for I/O, like waiting for input from the user or waiting for data from the web, which are situations where the code has no capability of knowing how many times it should do something (like how many times the program should it should check if it's received user input yet).</p>\n"}],"owner":{"display_name":"user831722"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57856,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":6710639,"answer_count":15,"score":13,"last_activity_date":1678919444,"creation_date":1310749221,"question_id":6710601,"body_markdown":"I am learning java as well android. Almost everything that we can perform by while loop those things we can do in for loop. \r\n\r\nI found a simple condition where using while loop is better than for loop\r\n\r\nif i have to use the value of counter in my program then i think while loop is better than for loop\r\n\r\n**Using while loop**\r\n\r\n    int counter = 0;\r\n    while (counter &lt; 10) {\r\n        //do some task\r\n        if(some condition){\r\n            break;\r\n        }\r\n    }\r\n    useTheCounter(counter); // method which use that value of counter do some other task\r\n\r\n\r\nIn this case I found while loop is better than for loop because if i want to achieve the same in for loop i have to assign the value of counter to another variable.\r\n\r\n\r\n**But is there any specific situation when while loop is better than for loop**","title":"when to use while loop rather than for loop","body":"<p>I am learning java as well android. Almost everything that we can perform by while loop those things we can do in for loop. </p>\n\n<p>I found a simple condition where using while loop is better than for loop</p>\n\n<p>if i have to use the value of counter in my program then i think while loop is better than for loop</p>\n\n<p><strong>Using while loop</strong></p>\n\n<pre><code>int counter = 0;\nwhile (counter &lt; 10) {\n    //do some task\n    if(some condition){\n        break;\n    }\n}\nuseTheCounter(counter); // method which use that value of counter do some other task\n</code></pre>\n\n<p>In this case I found while loop is better than for loop because if i want to achieve the same in for loop i have to assign the value of counter to another variable.</p>\n\n<p><strong>But is there any specific situation when while loop is better than for loop</strong></p>\n"},{"tags":["java","junit","easymock"],"answers":[{"tags":[],"owner":{"account_id":392465,"reputation":5571,"user_id":753739,"display_name":"Henri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587345464,"creation_date":1587345464,"answer_id":61313753,"question_id":61283384,"body_markdown":"You need to pass the mocks to `replay`. And I don&#39;t get your mocking part. Please, next time, give a real example.\r\n\r\n    @After\r\n    public void after(){\r\n      var a = mock(A.class);\r\n      var b = mock(B.class);\r\n      var c = mock(C.class);\r\n      //  ... expectations ...\r\n      replay(a, b, c);\r\n      // ... test...\r\n      verify(a, b, c);\r\n    }\r\n","title":"java.lang.IllegalStateException: calling verify is not allowed in record state in easymock","body":"<p>You need to pass the mocks to <code>replay</code>. And I don't get your mocking part. Please, next time, give a real example.</p>\n\n<pre><code>@After\npublic void after(){\n  var a = mock(A.class);\n  var b = mock(B.class);\n  var c = mock(C.class);\n  //  ... expectations ...\n  replay(a, b, c);\n  // ... test...\n  verify(a, b, c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9349629,"reputation":723,"user_id":6939768,"accept_rate":55,"display_name":"Zelkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678919245,"creation_date":1678918339,"answer_id":75750535,"question_id":61283384,"body_markdown":"There are a few reasons that you can get the error `java.lang.IllegalStateException: calling verify is not allowed in record state`.\r\n\r\nIf there are no calls to `expect(...).andReturn(...)` calls, or `expectLastCall()` then there will be nothing for it to verify, and you will get this error.\r\n\r\nAnother easily overlooked error is when you use `PowerMock`, `EasyMock` and `EasyMock`&#39;s `strictControl` which all have their versions of the various `expect` calls. If you accidentally use one to create the mocked classes, and other to verify the calls, it will cause the same issue as above, since the specific package doesn&#39;t see any matching `expect` calls.\r\n\r\nAdditionally I&#39;d recommend using `replayAll();` and `verifyAll();` to avoid using explicitly stating each of the expected calls.","title":"java.lang.IllegalStateException: calling verify is not allowed in record state in easymock","body":"<p>There are a few reasons that you can get the error <code>java.lang.IllegalStateException: calling verify is not allowed in record state</code>.</p>\n<p>If there are no calls to <code>expect(...).andReturn(...)</code> calls, or <code>expectLastCall()</code> then there will be nothing for it to verify, and you will get this error.</p>\n<p>Another easily overlooked error is when you use <code>PowerMock</code>, <code>EasyMock</code> and <code>EasyMock</code>'s <code>strictControl</code> which all have their versions of the various <code>expect</code> calls. If you accidentally use one to create the mocked classes, and other to verify the calls, it will cause the same issue as above, since the specific package doesn't see any matching <code>expect</code> calls.</p>\n<p>Additionally I'd recommend using <code>replayAll();</code> and <code>verifyAll();</code> to avoid using explicitly stating each of the expected calls.</p>\n"}],"owner":{"account_id":10869568,"reputation":342,"user_id":7991901,"display_name":"Karunakar Reddy L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678919245,"creation_date":1587175344,"question_id":61283384,"body_markdown":"I have a very big Integration test where it is failing with **calling verify is not allowed in record state** in easy mock.\r\n\r\n\r\nI could not figure out what exactly causing the issue.\r\n\r\nin @After there are some mocks below\r\n```\r\n@After\r\npublic void after(){\r\n  mock(a,b,c);\r\n  replay();\r\n   verify(a,b,c);\r\n}\r\n```\r\nexception is coming at verify, if someone has a clue what could be possible scenarios.\r\nplease help me.\r\n\r\n\r\n","title":"java.lang.IllegalStateException: calling verify is not allowed in record state in easymock","body":"<p>I have a very big Integration test where it is failing with <strong>calling verify is not allowed in record state</strong> in easy mock.</p>\n\n<p>I could not figure out what exactly causing the issue.</p>\n\n<p>in @After there are some mocks below</p>\n\n<pre><code>@After\npublic void after(){\n  mock(a,b,c);\n  replay();\n   verify(a,b,c);\n}\n</code></pre>\n\n<p>exception is coming at verify, if someone has a clue what could be possible scenarios.\nplease help me.</p>\n"},{"tags":["java","node.js","offset","file-writing","node.js-fs"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1678919574,"post_id":75750617,"comment_id":133628786,"body_markdown":"[RandomAccessFile#seek](https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#seek(long))","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#seek(long)\" rel=\"nofollow noreferrer\">RandomAccessFile#seek</a>"}],"owner":{"account_id":28027314,"reputation":11,"user_id":21407079,"display_name":"xplore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678919227,"creation_date":1678919227,"question_id":75750617,"body_markdown":"I need to write bytes to a file from multiple threads in java, at a specific offset of the file.\r\n\r\nThe fs.write from NodeJS takes the next arguments: \r\n\r\nfs.write(fd, buffer, offset, length, position, callback)\r\n\r\nThe &quot;position&quot; argument reffers to the offset within the file, where a byte buffer will be written.\r\n\r\nFileOutputStream, BufferedOutputStream etc, takes as arguments just the byte buffer, the offset within the buffer and the length of the buffer, but no the offset within the file.\r\n\r\nWhat is the equivalent in java for this situation?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Writing a byte buffer at a specific offset within the file in Java. (Equivalent of NodeJs fs.write )","body":"<p>I need to write bytes to a file from multiple threads in java, at a specific offset of the file.</p>\n<p>The fs.write from NodeJS takes the next arguments:</p>\n<p>fs.write(fd, buffer, offset, length, position, callback)</p>\n<p>The &quot;position&quot; argument reffers to the offset within the file, where a byte buffer will be written.</p>\n<p>FileOutputStream, BufferedOutputStream etc, takes as arguments just the byte buffer, the offset within the buffer and the length of the buffer, but no the offset within the file.</p>\n<p>What is the equivalent in java for this situation?</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645446431,"post_id":71206238,"comment_id":125865925,"body_markdown":"3.0.0 is a milestone release and far from produyction ready. I highly doubt there already is a keycloack version available for that. Judging from the error it isn&#39;t as Spring Boot 3 is for JakartaEE and not JavaEE, the error indicates it requires JavaEE. So in short don&#39;t upgrade (as it isn&#39;t actually an upgrade nor should you be using Milestone versions in production).","body":"3.0.0 is a milestone release and far from produyction ready. I highly doubt there already is a keycloack version available for that. Judging from the error it isn&#39;t as Spring Boot 3 is for JakartaEE and not JavaEE, the error indicates it requires JavaEE. So in short don&#39;t upgrade (as it isn&#39;t actually an upgrade nor should you be using Milestone versions in production)."},{"owner":{"display_name":"user17408941"},"score":0,"creation_date":1645446639,"post_id":71206238,"comment_id":125866005,"body_markdown":"I understand, tyvm. I&#39;ll try a new project with 2.6.3 and see if the error persists.","body":"I understand, tyvm. I&#39;ll try a new project with 2.6.3 and see if the error persists."},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1675085245,"post_id":71206238,"comment_id":132846132,"body_markdown":"@Darko did you get this working on Spring Boot 3.0.x given that its stable now","body":"@Darko did you get this working on Spring Boot 3.0.x given that its stable now"},{"owner":{"display_name":"user17408941"},"score":0,"creation_date":1675972403,"post_id":71206238,"comment_id":133048293,"body_markdown":"I haven&#39;t touched spring boot again so far, at least not in connection with security and keycloak, sorry","body":"I haven&#39;t touched spring boot again so far, at least not in connection with security and keycloak, sorry"}],"owner":{"display_name":"user17408941"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678918660,"creation_date":1645446164,"question_id":71206238,"body_markdown":"I&#39;m getting an error after adding keycloak-spring-boot-starter and removing Spring security which I had originally. I switched because I thought the configuration was simpler and more opinionated.\r\n\r\nTo be honest, I don&#39;t know what the difference between 3.0.0-M1 and 2.6.3 is. I&#39;m trying to learn Spring Boot by creating a simple RESTful HTTP API that is protected by keycloak.\r\n\r\nIs v3 recommended or should 2.6.3 be used? I&#39;m finding it very hard to find appropriate, complete information in the Java world.\r\n\r\nStartup log\r\n\r\n\r\n```lang-none\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::             (v3.0.0-M1)\r\n\r\n2022-02-21 12:58:14.469  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : Starting RecipeApplication using Java 17.0.2 on dev.luketic with PID 10181 (/home/darko/IdeaProjects/recipe/target/classes started by darko in /home/darko/IdeaProjects/recipe)\r\n2022-02-21 12:58:14.471  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : No active profile set, falling back to default profiles: default\r\n2022-02-21 12:58:14.507  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-02-21 12:58:14.508  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-02-21 12:58:14.895  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-02-21 12:58:14.916  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.\r\n2022-02-21 12:58:15.417  INFO 10181 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3000 (http)\r\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.16]\r\n2022-02-21 12:58:15.464  INFO 10181 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-02-21 12:58:15.465  INFO 10181 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 956 ms\r\n2022-02-21 12:58:15.491 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 34 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: &#39;javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()&#39;\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 40 common frames omitted\r\n\r\n2022-02-21 12:58:15.492 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\r\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 26 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 34 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 34 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: &#39;javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()&#39;\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\r\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\r\n    ... 40 common frames omitted\r\n\r\n2022-02-21 12:58:15.493  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-02-21 12:58:15.499  WARN 10181 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-02-21 12:58:15.505  INFO 10181 --- [  restartedMain] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-02-21 12:58:15.515 ERROR 10181 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()&#39;\r\n\r\nThe calling method&#39;s class, org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve, was loaded from the following location:\r\n\r\n    jar:file:/home/darko/.m2/repository/org/keycloak/spring-boot-container-bundle/17.0.0/spring-boot-container-bundle-17.0.0.jar!/org/keycloak/adapters/tomcat/AbstractKeycloakAuthenticatorValve.class\r\n\r\nThe called method&#39;s class, org.apache.catalina.Context, is available from the following locations:\r\n\r\n    jar:file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar!/org/apache/catalina/Context.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.catalina.Context: file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve and org.apache.catalina.Context\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n### File *pom.xml*\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;de.icod&lt;/groupId&gt;\r\n    &lt;artifactId&gt;recipe&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;recipe&lt;/name&gt;\r\n    &lt;description&gt;recipe&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Spring Boot 3.0.0 compatibility with keycloak-spring-boot-starter","body":"<p>I'm getting an error after adding keycloak-spring-boot-starter and removing Spring security which I had originally. I switched because I thought the configuration was simpler and more opinionated.</p>\n<p>To be honest, I don't know what the difference between 3.0.0-M1 and 2.6.3 is. I'm trying to learn Spring Boot by creating a simple RESTful HTTP API that is protected by keycloak.</p>\n<p>Is v3 recommended or should 2.6.3 be used? I'm finding it very hard to find appropriate, complete information in the Java world.</p>\n<p>Startup log</p>\n<pre class=\"lang-none prettyprint-override\"><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::             (v3.0.0-M1)\n\n2022-02-21 12:58:14.469  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : Starting RecipeApplication using Java 17.0.2 on dev.luketic with PID 10181 (/home/darko/IdeaProjects/recipe/target/classes started by darko in /home/darko/IdeaProjects/recipe)\n2022-02-21 12:58:14.471  INFO 10181 --- [  restartedMain] de.icod.recipe.RecipeApplication         : No active profile set, falling back to default profiles: default\n2022-02-21 12:58:14.507  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-02-21 12:58:14.508  INFO 10181 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-02-21 12:58:14.895  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-02-21 12:58:14.916  INFO 10181 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.\n2022-02-21 12:58:15.417  INFO 10181 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3000 (http)\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-02-21 12:58:15.421  INFO 10181 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/10.0.16]\n2022-02-21 12:58:15.464  INFO 10181 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-02-21 12:58:15.465  INFO 10181 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 956 ms\n2022-02-21 12:58:15.491 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 34 common frames omitted\nCaused by: java.lang.NoSuchMethodError: 'javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()'\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 40 common frames omitted\n\n2022-02-21 12:58:15.492 ERROR 10181 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-6.0.0-M2.jar:6.0.0-M2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:719) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:401) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1279) ~[spring-boot-3.0.0-M1.jar:3.0.0-M1]\n    at de.icod.recipe.RecipeApplication.main(RecipeApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M1.jar:3.0.0-M1]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 26 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 34 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 34 common frames omitted\nCaused by: java.lang.NoSuchMethodError: 'javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()'\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.lifecycleEvent(AbstractKeycloakAuthenticatorValve.java:70) ~[spring-boot-container-bundle-17.0.0.jar:17.0.0]\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:193) ~[tomcat-embed-core-10.0.16.jar:10.0.16]\n    ... 40 common frames omitted\n\n2022-02-21 12:58:15.493  INFO 10181 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-02-21 12:58:15.499  WARN 10181 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-02-21 12:58:15.505  INFO 10181 --- [  restartedMain] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-21 12:58:15.515 ERROR 10181 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.keycloakInit(AbstractKeycloakAuthenticatorValve.java:111)\n\nThe following method did not exist:\n\n    'javax.servlet.ServletContext org.apache.catalina.Context.getServletContext()'\n\nThe calling method's class, org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve, was loaded from the following location:\n\n    jar:file:/home/darko/.m2/repository/org/keycloak/spring-boot-container-bundle/17.0.0/spring-boot-container-bundle-17.0.0.jar!/org/keycloak/adapters/tomcat/AbstractKeycloakAuthenticatorValve.class\n\nThe called method's class, org.apache.catalina.Context, is available from the following locations:\n\n    jar:file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar!/org/apache/catalina/Context.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.apache.catalina.Context: file:/home/darko/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.0.16/tomcat-embed-core-10.0.16.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve and org.apache.catalina.Context\n\n\nProcess finished with exit code 0\n</code></pre>\n<h3>File <em>pom.xml</em></h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.icod&lt;/groupId&gt;\n    &lt;artifactId&gt;recipe&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;recipe&lt;/name&gt;\n    &lt;description&gt;recipe&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-explorer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;17.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","performance","nim-lang"],"comments":[{"owner":{"account_id":247201,"reputation":22581,"user_id":521776,"accept_rate":95,"display_name":"BlackBear"},"score":0,"creation_date":1546612336,"post_id":54040850,"comment_id":94916710,"body_markdown":"More accurate title: `Is Nim similar to Java in its memory-inefficiency?` :D","body":"More accurate title: <code>Is Nim similar to Java in its memory-inefficiency?</code> :D"},{"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"score":0,"creation_date":1546628801,"post_id":54040850,"comment_id":94924991,"body_markdown":"@BlackBear fixed","body":"@BlackBear fixed"}],"answers":[{"tags":[],"owner":{"account_id":5567301,"reputation":5315,"user_id":4414062,"display_name":"def-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546619680,"creation_date":1546619680,"answer_id":54042834,"question_id":54040850,"body_markdown":"In Nim you can also put objects onto the stack, thus not requiring garbage collection and only taking as much space as the members in the object. When putting an automatically allocated object on the heap some garbage collection memory overhead exists, but the object itself still stays at the size of its members (plus padding of course).","title":"Is Nim similar to Java in its memory overhead?","body":"<p>In Nim you can also put objects onto the stack, thus not requiring garbage collection and only taking as much space as the members in the object. When putting an automatically allocated object on the heap some garbage collection memory overhead exists, but the object itself still stays at the size of its members (plus padding of course).</p>\n"},{"tags":[],"owner":{"account_id":1599022,"reputation":8640,"user_id":1480466,"display_name":"Reimer Behrends"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1546731563,"creation_date":1546731563,"answer_id":54057319,"question_id":54040850,"body_markdown":"For both Nim and HotSpot (note that not all Java implementations need to use the same approach), basic allocations require one word for GC information and one word for type information ([Nim](https://github.com/nim-lang/Nim/blob/4a720394bba39ce1e67d518b909cbb1c25f63d09/lib/system/cellsets.nim#L15), [HotSpot](http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/oop.hpp#l58)). In HotSpot, you can reduce the type information to a half word on 64-bit machines if you don&#39;t need more than 32GB of heap space using `-XX:+UseCompressedOops`.\r\n\r\nModern locking implementations in Java do not incur additional overhead; the GC word [is also used for a thin locking scheme](http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/markOop.hpp#l30) and is expanded into a pointer to a full monitor if needed. Thus, by default, we have two words of overhead per object.\r\n\r\nIn your example, the per object memory consumption is four words in Nim on a 64-bit machine:\r\n\r\n* Two words of header data.\r\n* One word for the float value.\r\n* One word for the next pointer.\r\n\r\n1e8 allocations of this size require a raw amount 32*1e8 = 3.2e9 bytes, i.e. about 3 GB.\r\n\r\nI&#39;ll add that having lots of small allocations tends to be [bad for memory locality](https://stackoverflow.com/questions/34170566/bjarne-stroustrup-says-we-must-avoid-linked-lists) not even counting the costs of that many allocations and should generally be avoided if possible. A (dynamic) array is almost always preferable over a linked list.","title":"Is Nim similar to Java in its memory overhead?","body":"<p>For both Nim and HotSpot (note that not all Java implementations need to use the same approach), basic allocations require one word for GC information and one word for type information (<a href=\"https://github.com/nim-lang/Nim/blob/4a720394bba39ce1e67d518b909cbb1c25f63d09/lib/system/cellsets.nim#L15\" rel=\"nofollow noreferrer\">Nim</a>, <a href=\"http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/oop.hpp#l58\" rel=\"nofollow noreferrer\">HotSpot</a>). In HotSpot, you can reduce the type information to a half word on 64-bit machines if you don't need more than 32GB of heap space using <code>-XX:+UseCompressedOops</code>.</p>\n\n<p>Modern locking implementations in Java do not incur additional overhead; the GC word <a href=\"http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/b756e7a2ec33/src/share/vm/oops/markOop.hpp#l30\" rel=\"nofollow noreferrer\">is also used for a thin locking scheme</a> and is expanded into a pointer to a full monitor if needed. Thus, by default, we have two words of overhead per object.</p>\n\n<p>In your example, the per object memory consumption is four words in Nim on a 64-bit machine:</p>\n\n<ul>\n<li>Two words of header data.</li>\n<li>One word for the float value.</li>\n<li>One word for the next pointer.</li>\n</ul>\n\n<p>1e8 allocations of this size require a raw amount 32*1e8 = 3.2e9 bytes, i.e. about 3 GB.</p>\n\n<p>I'll add that having lots of small allocations tends to be <a href=\"https://stackoverflow.com/questions/34170566/bjarne-stroustrup-says-we-must-avoid-linked-lists\">bad for memory locality</a> not even counting the costs of that many allocations and should generally be avoided if possible. A (dynamic) array is almost always preferable over a linked list.</p>\n"}],"owner":{"account_id":2189787,"reputation":11927,"user_id":1937197,"accept_rate":80,"display_name":"MWB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54057319,"answer_count":2,"score":4,"last_activity_date":1678918335,"creation_date":1546612036,"question_id":54040850,"body_markdown":"In 64-bit Java, each object instance tends to include a [192-bit header][1], containing \r\n\r\n* the class pointer, \r\n* flags and \r\n* locks (64 bits each). \r\n\r\nThis can cause a large memory overhead for small objects.\r\n\r\n\r\nIs the situation similar for Nim? Would a large application (where the size of the runtime is negligible), written similarly in the two languages, use about the same amount of memory?\r\n\r\n\r\n---\r\n\r\n***Update**:*\r\n\r\nI ran some experiments in which I build a naive singly-linked list with 100M `float64` elements and iterate through it many times. \r\n\r\nJava is actually using **25% less** memory than Nim, according to `htop`.\r\n\r\n\r\nComplete Nim code:\r\n\r\n\r\n    type Node = ref object\r\n        data : float64\r\n        next : Node\r\n    \r\n    echo &quot;Running&quot;\r\n    \r\n    proc create(n : int): Node =\r\n        var \r\n            tmp = Node(data: 0, next: nil)\r\n        \r\n        for i in 1..&lt;n:\r\n            tmp = Node(data: i.float64, next: tmp)\r\n    \r\n        return tmp\r\n    \r\n    \r\n    proc sum(x: Node): float64 = \r\n        var\r\n            tmp: float64 = 0\r\n            y = x\r\n    \r\n        while true:\r\n            tmp += y.data\r\n            y = y.next\r\n            \r\n            if y.isNil:\r\n                return tmp\r\n    \r\n    \r\n    proc sums(x: Node, n: int): float64 = \r\n        var tmp: float64 = 0\r\n    \r\n        for i in 0..&lt;n:\r\n            tmp += sum(x) / n.float64\r\n    \r\n        return tmp\r\n    \r\n    let x = create(1000 * 1000 * 100)\r\n    \r\n    echo &quot;Created&quot;\r\n    \r\n    echo sums(x, 100)\r\n    \r\n    echo &quot;Finished&quot;\r\n\r\nThis uses 3.1GB, which comes out to 269 bits per `Node`, whereas Java uses 203 bits per `Node` in very similar code. This is less than 192bit header + 128bit structure. I&#39;m guessing that some kind of JIT optimization makes Java run using less memory.\r\n\r\nComplete Java code:\r\n\r\n`Node.java`\r\n\r\n    public class Node {\r\n        double data = 0;\r\n        Node next = null;\r\n    }\r\n\r\n`SListTest.java`\r\n\r\n\r\n    public class SListTest {\r\n    \r\n        static Node create(int n) {\r\n            Node tmp = new Node();\r\n    \r\n            for(int i = 1; i &lt; n; ++i) {\r\n                Node p = new Node();\r\n                p.data = i;\r\n                p.next = tmp;\r\n                tmp = p;\r\n            }\r\n    \r\n            return tmp;\r\n        }\r\n    \r\n        static double sum(Node x) {\r\n            double tmp = 0;\r\n    \r\n            while(x != null) {\r\n                tmp += x.data;\r\n                x = x.next;\r\n            }\r\n    \r\n            return tmp;\r\n        }\r\n    \r\n        static double sums(Node x, int n) {\r\n            double tmp = 0;\r\n    \r\n            for(int i = 0; i &lt; n; ++i)\r\n                tmp += sum(x);\r\n    \r\n            return tmp / n;\r\n        }\r\n    \r\n        public static void echo(String s) {\r\n            System.out.println(s);\r\n            System.out.flush();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            echo(&quot;Started&quot;);\r\n            Node p = create(1000 * 1000 * 100);\r\n            echo(&quot;Created&quot;);\r\n            double tmp = sums(p, 100);\r\n            System.out.printf(&quot;%f\\n&quot;, tmp);\r\n            echo(&quot;Finished&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=f2aNWtt0QRo\r\n","title":"Is Nim similar to Java in its memory overhead?","body":"<p>In 64-bit Java, each object instance tends to include a <a href=\"https://www.youtube.com/watch?v=f2aNWtt0QRo\" rel=\"nofollow noreferrer\">192-bit header</a>, containing </p>\n\n<ul>\n<li>the class pointer, </li>\n<li>flags and </li>\n<li>locks (64 bits each). </li>\n</ul>\n\n<p>This can cause a large memory overhead for small objects.</p>\n\n<p>Is the situation similar for Nim? Would a large application (where the size of the runtime is negligible), written similarly in the two languages, use about the same amount of memory?</p>\n\n<hr>\n\n<p><strong><em>Update</strong>:</em></p>\n\n<p>I ran some experiments in which I build a naive singly-linked list with 100M <code>float64</code> elements and iterate through it many times. </p>\n\n<p>Java is actually using <strong>25% less</strong> memory than Nim, according to <code>htop</code>.</p>\n\n<p>Complete Nim code:</p>\n\n<pre><code>type Node = ref object\n    data : float64\n    next : Node\n\necho \"Running\"\n\nproc create(n : int): Node =\n    var \n        tmp = Node(data: 0, next: nil)\n\n    for i in 1..&lt;n:\n        tmp = Node(data: i.float64, next: tmp)\n\n    return tmp\n\n\nproc sum(x: Node): float64 = \n    var\n        tmp: float64 = 0\n        y = x\n\n    while true:\n        tmp += y.data\n        y = y.next\n\n        if y.isNil:\n            return tmp\n\n\nproc sums(x: Node, n: int): float64 = \n    var tmp: float64 = 0\n\n    for i in 0..&lt;n:\n        tmp += sum(x) / n.float64\n\n    return tmp\n\nlet x = create(1000 * 1000 * 100)\n\necho \"Created\"\n\necho sums(x, 100)\n\necho \"Finished\"\n</code></pre>\n\n<p>This uses 3.1GB, which comes out to 269 bits per <code>Node</code>, whereas Java uses 203 bits per <code>Node</code> in very similar code. This is less than 192bit header + 128bit structure. I'm guessing that some kind of JIT optimization makes Java run using less memory.</p>\n\n<p>Complete Java code:</p>\n\n<p><code>Node.java</code></p>\n\n<pre><code>public class Node {\n    double data = 0;\n    Node next = null;\n}\n</code></pre>\n\n<p><code>SListTest.java</code></p>\n\n<pre><code>public class SListTest {\n\n    static Node create(int n) {\n        Node tmp = new Node();\n\n        for(int i = 1; i &lt; n; ++i) {\n            Node p = new Node();\n            p.data = i;\n            p.next = tmp;\n            tmp = p;\n        }\n\n        return tmp;\n    }\n\n    static double sum(Node x) {\n        double tmp = 0;\n\n        while(x != null) {\n            tmp += x.data;\n            x = x.next;\n        }\n\n        return tmp;\n    }\n\n    static double sums(Node x, int n) {\n        double tmp = 0;\n\n        for(int i = 0; i &lt; n; ++i)\n            tmp += sum(x);\n\n        return tmp / n;\n    }\n\n    public static void echo(String s) {\n        System.out.println(s);\n        System.out.flush();\n    }\n\n    public static void main(String[] args) {\n        echo(\"Started\");\n        Node p = create(1000 * 1000 * 100);\n        echo(\"Created\");\n        double tmp = sums(p, 100);\n        System.out.printf(\"%f\\n\", tmp);\n        echo(\"Finished\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","cookies","jsoup"],"owner":{"account_id":28023573,"reputation":11,"user_id":21403976,"display_name":"Philip Herweling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678917987,"creation_date":1678886654,"question_id":75745324,"body_markdown":"I want to scrape data using the Jsoup library from the premier league table page on google but cant get to that web page with out accepting the google consent cookies and I cant find anywhere online that shows how I would go about doing this. I&#39;m guessing I will need to submit the form and then store the cookies in a variable. Any help would be greatly appreciated \r\n\r\n\r\n```\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class ScoreTrackerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ScoreTrackerApplication.class, args);\r\n\r\n\t\tfinal String url = &quot;https://www.google.com/search?q=premier+league+fixtures&amp;rlz=1C1CHBF_enIE874IE874&amp;oq=premier+league+&amp;aqs=chrome.2.69i57j0i131i433i512l3j0i433i512j0i131i433i512l5.8107j1j7&amp;sourceid=chrome&amp;ie=UTF-8#sie=lg;/g/11pz7zbpnb;2;/m/02_tc;st;fp;1;;;&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tfinal Document document = Jsoup.connect(url).get();\r\n\r\n\t\t\t//Testing purposes only\r\n\t\t\tSystem.out.println(document.body());\r\n\r\n\r\n\t\t}catch (Exception ex){\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nOutput:\r\n```\r\n&lt;h1 class=&quot;I90TVb&quot; id=&quot;S3BnEe&quot;&gt;Before you continue to Google&lt;/h1&gt;\r\n        &lt;div class=&quot;AG96lb&quot;&gt;\r\n         &lt;div class=&quot;eLZYyf&quot;&gt;\r\n          We use &lt;a class=&quot;F4a1l&quot; href=&quot;https://policies.google.com/technologies/cookies?utm_source=ucbs&amp;amp;hl=en-IE&quot; target=&quot;_blank&quot;&gt;cookies&lt;/a&gt; and data to\r\n          &lt;ul class=&quot;dbXO9&quot;&gt;\r\n           &lt;li class=&quot;gowsYd ibCF0c&quot;&gt;Deliver and maintain Google services&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd GwwhGf&quot;&gt;Track outages and protect against spam, fraud and abuse&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Measure audience engagement and site statistics to understand how our services are used and enhance the quality of those services&lt;/li&gt;\r\n          &lt;/ul&gt;\r\n         &lt;/div&gt;\r\n         &lt;div class=&quot;eLZYyf&quot;&gt;\r\n          If you choose to &#39;Accept all&#39;, we will also use cookies and data to\r\n          &lt;ul class=&quot;dbXO9&quot;&gt;\r\n           &lt;li class=&quot;gowsYd M6j9qf&quot;&gt;Develop and improve new services&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Deliver and measure the effectiveness of ads&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd e21Mac&quot;&gt;Show personalised content, depending on your settings&lt;/li&gt;\r\n           &lt;li class=&quot;gowsYd ohEWPc&quot;&gt;Show personalised ads, depending on your settings&lt;/li&gt;\r\n          &lt;/ul&gt;\r\n          &lt;div class=&quot;jLhwdc&quot;&gt;\r\n           If you choose to &#39;Reject all&#39;, we will not use cookies for these additional purposes.\r\n          &lt;/div&gt;\r\n         &lt;/div&gt;\r\n         &lt;div class=&quot;yS1nld&quot;&gt;\r\n          Non-personalised content is influenced by things like the content that you’re currently viewing, activity in your active Search session, and your location. Non-personalised ads are influenced by the content that you’re currently viewing and your general location. Personalised content and ads can also include more relevant results, recommendations and tailored ads based on past activity from this browser, like previous Google searches. We also use cookies and data to tailor the experience to be age-appropriate, if relevant.\r\n         &lt;/div&gt;\r\n         &lt;div class=&quot;yS1nld&quot;&gt;\r\n          Select &#39;More options&#39; to see additional information, including details about managing your privacy settings. You can also visit &lt;span&gt;g.co/privacytools&lt;/span&gt; at any time.\r\n         &lt;/div&gt;\r\n        &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;spoKVd&quot;&gt;\r\n        &lt;div class=&quot;GzLjMd&quot;&gt;\r\n         &lt;button id=&quot;W0wltc&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4Q4cIICF8&quot;&gt;\r\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\r\n           Reject all\r\n          &lt;/div&gt;&lt;/button&gt;&lt;button id=&quot;L2AGLb&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4QiZAHCGA&quot;&gt;\r\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\r\n           Accept all\r\n          &lt;/div&gt;&lt;/button&gt;\r\n\r\n","title":"How to accept google consent cookies when im web scrapping with Jsoup","body":"<p>I want to scrape data using the Jsoup library from the premier league table page on google but cant get to that web page with out accepting the google consent cookies and I cant find anywhere online that shows how I would go about doing this. I'm guessing I will need to submit the form and then store the cookies in a variable. Any help would be greatly appreciated</p>\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ScoreTrackerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ScoreTrackerApplication.class, args);\n\n        final String url = &quot;https://www.google.com/search?q=premier+league+fixtures&amp;rlz=1C1CHBF_enIE874IE874&amp;oq=premier+league+&amp;aqs=chrome.2.69i57j0i131i433i512l3j0i433i512j0i131i433i512l5.8107j1j7&amp;sourceid=chrome&amp;ie=UTF-8#sie=lg;/g/11pz7zbpnb;2;/m/02_tc;st;fp;1;;;&quot;;\n\n        try {\n            final Document document = Jsoup.connect(url).get();\n\n            //Testing purposes only\n            System.out.println(document.body());\n\n\n        }catch (Exception ex){\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;h1 class=&quot;I90TVb&quot; id=&quot;S3BnEe&quot;&gt;Before you continue to Google&lt;/h1&gt;\n        &lt;div class=&quot;AG96lb&quot;&gt;\n         &lt;div class=&quot;eLZYyf&quot;&gt;\n          We use &lt;a class=&quot;F4a1l&quot; href=&quot;https://policies.google.com/technologies/cookies?utm_source=ucbs&amp;amp;hl=en-IE&quot; target=&quot;_blank&quot;&gt;cookies&lt;/a&gt; and data to\n          &lt;ul class=&quot;dbXO9&quot;&gt;\n           &lt;li class=&quot;gowsYd ibCF0c&quot;&gt;Deliver and maintain Google services&lt;/li&gt;\n           &lt;li class=&quot;gowsYd GwwhGf&quot;&gt;Track outages and protect against spam, fraud and abuse&lt;/li&gt;\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Measure audience engagement and site statistics to understand how our services are used and enhance the quality of those services&lt;/li&gt;\n          &lt;/ul&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;eLZYyf&quot;&gt;\n          If you choose to 'Accept all', we will also use cookies and data to\n          &lt;ul class=&quot;dbXO9&quot;&gt;\n           &lt;li class=&quot;gowsYd M6j9qf&quot;&gt;Develop and improve new services&lt;/li&gt;\n           &lt;li class=&quot;gowsYd v8Bpfb&quot;&gt;Deliver and measure the effectiveness of ads&lt;/li&gt;\n           &lt;li class=&quot;gowsYd e21Mac&quot;&gt;Show personalised content, depending on your settings&lt;/li&gt;\n           &lt;li class=&quot;gowsYd ohEWPc&quot;&gt;Show personalised ads, depending on your settings&lt;/li&gt;\n          &lt;/ul&gt;\n          &lt;div class=&quot;jLhwdc&quot;&gt;\n           If you choose to 'Reject all', we will not use cookies for these additional purposes.\n          &lt;/div&gt;\n         &lt;/div&gt;\n         &lt;div class=&quot;yS1nld&quot;&gt;\n          Non-personalised content is influenced by things like the content that you’re currently viewing, activity in your active Search session, and your location. Non-personalised ads are influenced by the content that you’re currently viewing and your general location. Personalised content and ads can also include more relevant results, recommendations and tailored ads based on past activity from this browser, like previous Google searches. We also use cookies and data to tailor the experience to be age-appropriate, if relevant.\n         &lt;/div&gt;\n         &lt;div class=&quot;yS1nld&quot;&gt;\n          Select 'More options' to see additional information, including details about managing your privacy settings. You can also visit &lt;span&gt;g.co/privacytools&lt;/span&gt; at any time.\n         &lt;/div&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n       &lt;div class=&quot;spoKVd&quot;&gt;\n        &lt;div class=&quot;GzLjMd&quot;&gt;\n         &lt;button id=&quot;W0wltc&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4Q4cIICF8&quot;&gt;\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\n           Reject all\n          &lt;/div&gt;&lt;/button&gt;&lt;button id=&quot;L2AGLb&quot; class=&quot;tHlp8d&quot; data-ved=&quot;0ahUKEwjVkZLx_939AhWObsAKHcCBBz4QiZAHCGA&quot;&gt;\n          &lt;div class=&quot;QS5gu sy4vM&quot; role=&quot;none&quot;&gt;\n           Accept all\n          &lt;/div&gt;&lt;/button&gt;\n\n</code></pre>\n"},{"tags":["java","graphics2d"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1593706347,"post_id":62697090,"comment_id":110880500,"body_markdown":"You have to split your text, render the first part with a plain font, then render the second part with a bold font.  The trick is calculating the x position of the second part accurately, so it looks like one text rendering,  You can use the FontMetrics class to get the width of the first part of the text.","body":"You have to split your text, render the first part with a plain font, then render the second part with a bold font.  The trick is calculating the x position of the second part accurately, so it looks like one text rendering,  You can use the FontMetrics class to get the width of the first part of the text."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1593713339,"post_id":62697090,"comment_id":110883884,"body_markdown":"What are the types of `outsideFlyer` and `insideFlyer`?  If they’re components, you are obtaining your Graphics2D object the wrong way.  You don’t actively draw on a component;  you wait for the system to create its own Graphics object and pass it to your overridden paintComponent method.  That said, you’re probably better off creating one JLabel per line than doing custom drawing;  the bold font can be achieved using HTML in a JLabel’s text.","body":"What are the types of <code>outsideFlyer</code> and <code>insideFlyer</code>?  If they’re components, you are obtaining your Graphics2D object the wrong way.  You don’t actively draw on a component;  you wait for the system to create its own Graphics object and pass it to your overridden paintComponent method.  That said, you’re probably better off creating one JLabel per line than doing custom drawing;  the bold font can be achieved using HTML in a JLabel’s text."}],"answers":[{"tags":[],"owner":{"account_id":16641309,"reputation":176,"user_id":12026779,"display_name":"Yaksa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678917969,"creation_date":1678917969,"answer_id":75750493,"question_id":62697090,"body_markdown":"I ran into the same issue. After some research in other posts as well, I figured out a solution(at least it solved my problem).\r\n\r\nFirst, as far as I know, you can&#39;t do it in the same string, so you have to split it and draw them separately.\r\n\r\nSecond, you need to get the width/height(depending on your case) that the first string occupies in your scenario. You can use your Graphics2D instance to get it, given your font, font size, etc. Then you can use this information to calculate the according position of the second string.\r\n\r\nCode example:\r\n\r\n    String plainText = &quot;Please make your assignment before &quot;;\r\n    String boldText = &quot;21 of july&quot;;\r\n    Graphics2D graphics2D = g; //will assume that you already configured it your way\r\n    g.setFont(yourPlainFont);\r\n    g.drawString(plainText, positionX, positionY);\r\n    int plainTextSize = g.getFontMetrics().stringWidth(plainText);\r\n    g.setFont(yourBoldFont);\r\n    g.drawString(boldText, positionX + plainTextSize, positionY);\r\n\r\nPlease note that this example is only considering a text in the same line, as asked by OP. You should be able to do the same in different lines(heights) as well, although I didn&#39;t test that way. Hope it helps.","title":"Graphics2d draw text with partial bold text","body":"<p>I ran into the same issue. After some research in other posts as well, I figured out a solution(at least it solved my problem).</p>\n<p>First, as far as I know, you can't do it in the same string, so you have to split it and draw them separately.</p>\n<p>Second, you need to get the width/height(depending on your case) that the first string occupies in your scenario. You can use your Graphics2D instance to get it, given your font, font size, etc. Then you can use this information to calculate the according position of the second string.</p>\n<p>Code example:</p>\n<pre><code>String plainText = &quot;Please make your assignment before &quot;;\nString boldText = &quot;21 of july&quot;;\nGraphics2D graphics2D = g; //will assume that you already configured it your way\ng.setFont(yourPlainFont);\ng.drawString(plainText, positionX, positionY);\nint plainTextSize = g.getFontMetrics().stringWidth(plainText);\ng.setFont(yourBoldFont);\ng.drawString(boldText, positionX + plainTextSize, positionY);\n</code></pre>\n<p>Please note that this example is only considering a text in the same line, as asked by OP. You should be able to do the same in different lines(heights) as well, although I didn't test that way. Hope it helps.</p>\n"}],"owner":{"account_id":16703749,"reputation":61,"user_id":12072709,"display_name":"PRIVATE ACCOUNT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75750493,"answer_count":1,"score":1,"last_activity_date":1678917969,"creation_date":1593695242,"question_id":62697090,"body_markdown":"I was wondering if I can make a partial bold text for example:\r\n\r\nPlease make your assignment before **21 of july**\r\n\r\nI have not tried anything yet, because i just have no clue how to do this.\r\n\r\nHere is my code currently for rendering text:\r\n ```\r\npublic void renderText(int page, String text, String font, int fontSize, Color color, int width, int height) {\r\n        final Graphics2D g;\r\n        if (page == 1) {\r\n            g = (Graphics2D) outsideFlyer.getGraphics();\r\n            g.drawImage(outsideFlyer, 0, 0, null);\r\n        } else {\r\n            g = (Graphics2D) insideFlyer.getGraphics();\r\n            g.drawImage(insideFlyer, 0, 0, null);\r\n        }\r\n        if (font == null) {\r\n            g.setFont(new Font(font, Font.PLAIN, fontSize));\r\n        } else if (&quot;bold&quot;.equals(font)) {\r\n            g.setFont(new Font(null, Font.BOLD, fontSize));\r\n        } else {\r\n            g.setFont(new Font(font, Font.PLAIN, fontSize));\r\n        }\r\n        g.setColor(color);\r\n        for (String txt : text.split(&quot;\\n&quot;)) {\r\n            g.drawString(txt, width, height += g.getFontMetrics().getHeight());\r\n        }\r\n        g.dispose();\r\n    }\r\n ```\r\n\r\nIs it possible to split the text in some way?\r\nI would love to have something like what happens on a lot of websites like everything inbetween * gets bold or in some way.\r\n","title":"Graphics2d draw text with partial bold text","body":"<p>I was wondering if I can make a partial bold text for example:</p>\n<p>Please make your assignment before <strong>21 of july</strong></p>\n<p>I have not tried anything yet, because i just have no clue how to do this.</p>\n<p>Here is my code currently for rendering text:</p>\n<pre><code>public void renderText(int page, String text, String font, int fontSize, Color color, int width, int height) {\n       final Graphics2D g;\n       if (page == 1) {\n           g = (Graphics2D) outsideFlyer.getGraphics();\n           g.drawImage(outsideFlyer, 0, 0, null);\n       } else {\n           g = (Graphics2D) insideFlyer.getGraphics();\n           g.drawImage(insideFlyer, 0, 0, null);\n       }\n       if (font == null) {\n           g.setFont(new Font(font, Font.PLAIN, fontSize));\n       } else if (&quot;bold&quot;.equals(font)) {\n           g.setFont(new Font(null, Font.BOLD, fontSize));\n       } else {\n           g.setFont(new Font(font, Font.PLAIN, fontSize));\n       }\n       g.setColor(color);\n       for (String txt : text.split(&quot;\\n&quot;)) {\n           g.drawString(txt, width, height += g.getFontMetrics().getHeight());\n       }\n       g.dispose();\n   }\n</code></pre>\n<p>Is it possible to split the text in some way?\nI would love to have something like what happens on a lot of websites like everything inbetween * gets bold or in some way.</p>\n"},{"tags":["java","android","apk","dex"],"answers":[{"tags":[],"owner":{"account_id":28001804,"reputation":21,"user_id":21385914,"display_name":"oviche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678917951,"creation_date":1678917951,"answer_id":75750490,"question_id":75717441,"body_markdown":"The following solution worked for me and it&#39;s inspired from the [blog post][1]\r\n\r\n```\r\nFile file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\r\n          InputStream reader = getResources().openRawResource(R.raw.classes);\r\n          OutputStream writer = new FileOutputStream(file.getAbsolutePath());\r\n\r\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\r\n\r\nContext context = this;\r\nDexClassLoader dexloader = new DexClassLoader(file.getAbsolutePath()\r\n                             ,null,\r\n                              null,\r\n                              context.getClassLoader());\r\n\r\nField f = BaseDexClassLoader.class.getDeclaredField(&quot;pathList&quot;);\r\nf.setAccessible(true);\r\nObject dexPathObjNew = f.get(dexloader); // get the pathList of dexloader that hold the loaded dex file path \r\nf.set(context.getClassLoader(), dexPathObjNew); // set the pathlist of current context classloader to the pathList of dexloader\r\nClass c = context.getClassLoader().loadClass(&quot;com.example.myapplication2.helloActivity&quot;);\r\n\r\nIntent i = new Intent(context,c);\r\ni.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\ncontext.startActivity(i);\r\n```\r\n\r\nNow the class loader of current context can see the loaded dex.\r\n\r\n  [1]: https://blog.pentests.pl/android-dynamic-activities/?fbclid=IwAR336sYRcQS4H08ppo0oGT9PzeiQA4Xn2LIna-tlv8yixRvYYbkyM3_PxD8","title":"How to load a dex file using dex DexClassLoader?","body":"<p>The following solution worked for me and it's inspired from the <a href=\"https://blog.pentests.pl/android-dynamic-activities/?fbclid=IwAR336sYRcQS4H08ppo0oGT9PzeiQA4Xn2LIna-tlv8yixRvYYbkyM3_PxD8\" rel=\"nofollow noreferrer\">blog post</a></p>\n<pre><code>File file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\n          InputStream reader = getResources().openRawResource(R.raw.classes);\n          OutputStream writer = new FileOutputStream(file.getAbsolutePath());\n\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\n\nContext context = this;\nDexClassLoader dexloader = new DexClassLoader(file.getAbsolutePath()\n                             ,null,\n                              null,\n                              context.getClassLoader());\n\nField f = BaseDexClassLoader.class.getDeclaredField(&quot;pathList&quot;);\nf.setAccessible(true);\nObject dexPathObjNew = f.get(dexloader); // get the pathList of dexloader that hold the loaded dex file path \nf.set(context.getClassLoader(), dexPathObjNew); // set the pathlist of current context classloader to the pathList of dexloader\nClass c = context.getClassLoader().loadClass(&quot;com.example.myapplication2.helloActivity&quot;);\n\nIntent i = new Intent(context,c);\ni.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(i);\n</code></pre>\n<p>Now the class loader of current context can see the loaded dex.</p>\n"}],"owner":{"account_id":28001804,"reputation":21,"user_id":21385914,"display_name":"oviche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678917951,"creation_date":1678671745,"question_id":75717441,"body_markdown":"\r\n\r\nI am trying to load dynamically a dex file that contains android activities classes using DexClassLoader class using the following code. \r\n\r\n```\r\ntry {\r\nFile file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\r\nInputStream reader = getResources().openRawResource(R.raw.classes);\r\nOutputStream writer = new FileOutputStream(file.getAbsolutePath());\r\n\r\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\r\n\r\nDexClassLoader loader = new DexClassLoader(file.getAbsolutePath(),null,null,MainActivity.this.getClassLoader());\r\n\r\nClass&lt;?&gt; c = loader.loadClass(&quot;com.example.myapplication2.MainActivity&quot;);\r\nIntent intent = new Intent(MainActivity.this.getApplicationContext(),c);\r\nstartActivity(intent);\r\n}\r\n\r\ncatch(Exception e){\r\ne.printStackTrace();\r\n}\r\n```\r\n\r\nHowever, After execution of the previous code, The application crash with the following exception\r\n\r\n```\r\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class{com.example.myapplication/com.example.myapplication2.MainActivity}; have you declared this activity in your AndroidManifest.xml?\r\n at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2005)\r\n at android.app.Instrumentation.execStartActivity(Instrumentation.java:1673)\r\n at android.app.Activity.startActivityForResult(Activity.java:4586)\r\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\r\n at android.app.Activity.startActivityForResult(Activity.java:4544)\r\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\r\n at android.app.Activity.startActivity(Activity.java:4905)\r\n at android.app.Activity.startActivity(Activity.java:4873)\r\n at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:82)\r\n at android.view.View.performClick(View.java:6597)\r\n at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1219)\r\n at android.view.View.performClickInternal(View.java:6574)\r\n at android.view.View.access$3100(View.java:778)\r\n at android.view.View$PerformClick.run(View.java:25885)\r\n at android.os.Handler.handleCallback(Handler.java:873)\r\n at android.os.Handler.dispatchMessage(Handler.java:99)\r\n at android.os.Looper.loop(Looper.java:193)\r\n at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n at java.lang.reflect.Method.invoke(Native Method)\r\n at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n```\r\n\r\nAlso, I noticed that most of examples the dex file contain normal java classes not activity classes so I wonder if what I am trying to do is applicable or not and the reason beyond the exception ","title":"How to load a dex file using dex DexClassLoader?","body":"<p>I am trying to load dynamically a dex file that contains android activities classes using DexClassLoader class using the following code.</p>\n<pre><code>try {\nFile file = File.createTempFile(&quot;input&quot;,&quot;.dex&quot;);\nInputStream reader = getResources().openRawResource(R.raw.classes);\nOutputStream writer = new FileOutputStream(file.getAbsolutePath());\n\nwhile(true){ int x = reader.read(); if(x == -1) break; writer.write(x);}\n\nDexClassLoader loader = new DexClassLoader(file.getAbsolutePath(),null,null,MainActivity.this.getClassLoader());\n\nClass&lt;?&gt; c = loader.loadClass(&quot;com.example.myapplication2.MainActivity&quot;);\nIntent intent = new Intent(MainActivity.this.getApplicationContext(),c);\nstartActivity(intent);\n}\n\ncatch(Exception e){\ne.printStackTrace();\n}\n</code></pre>\n<p>However, After execution of the previous code, The application crash with the following exception</p>\n<pre><code>android.content.ActivityNotFoundException: Unable to find explicit activity class{com.example.myapplication/com.example.myapplication2.MainActivity}; have you declared this activity in your AndroidManifest.xml?\n at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2005)\n at android.app.Instrumentation.execStartActivity(Instrumentation.java:1673)\n at android.app.Activity.startActivityForResult(Activity.java:4586)\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\n at android.app.Activity.startActivityForResult(Activity.java:4544)\n at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\n at android.app.Activity.startActivity(Activity.java:4905)\n at android.app.Activity.startActivity(Activity.java:4873)\n at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:82)\n at android.view.View.performClick(View.java:6597)\n at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1219)\n at android.view.View.performClickInternal(View.java:6574)\n at android.view.View.access$3100(View.java:778)\n at android.view.View$PerformClick.run(View.java:25885)\n at android.os.Handler.handleCallback(Handler.java:873)\n at android.os.Handler.dispatchMessage(Handler.java:99)\n at android.os.Looper.loop(Looper.java:193)\n at android.app.ActivityThread.main(ActivityThread.java:6669)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>Also, I noticed that most of examples the dex file contain normal java classes not activity classes so I wonder if what I am trying to do is applicable or not and the reason beyond the exception</p>\n"},{"tags":["java","spring-boot","header","apple-push-notifications"],"owner":{"account_id":17984580,"reputation":1,"user_id":13070149,"display_name":"Kani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678916832,"creation_date":1678865923,"question_id":75741720,"body_markdown":"I tried to add a header to the APNS service, but I couldn&#39;t able do it. \r\n\r\nThe `withHeader` method is not working now. Is there any method or class available to add a header to the APNS service?, how to add the `apns-topic`.\r\n\r\n    try {\r\n         KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n         keyStore.load(new FileInputStream(new File(CERTIFICATE_FILE_PATH)), CERTIFICATE_PASSWORD.toCharArray());\r\n             apnsService = APNS.newService()\r\n                         .withCert(keyStore,CERTIFICATE_PASSWORD)\r\n                         .withSandboxDestination()\r\n                         .withReadTimeout(30000)\r\n                         .withConnectTimeout(5000)\r\n                         .build();\r\n        }\r\n         catch (Exception e){\r\n          throw new Exception(&quot;Error: configuration failed&quot;);\r\n        }","title":"Unable to add the Header in APNS Service","body":"<p>I tried to add a header to the APNS service, but I couldn't able do it.</p>\n<p>The <code>withHeader</code> method is not working now. Is there any method or class available to add a header to the APNS service?, how to add the <code>apns-topic</code>.</p>\n<pre><code>try {\n     KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n     keyStore.load(new FileInputStream(new File(CERTIFICATE_FILE_PATH)), CERTIFICATE_PASSWORD.toCharArray());\n         apnsService = APNS.newService()\n                     .withCert(keyStore,CERTIFICATE_PASSWORD)\n                     .withSandboxDestination()\n                     .withReadTimeout(30000)\n                     .withConnectTimeout(5000)\n                     .build();\n    }\n     catch (Exception e){\n      throw new Exception(&quot;Error: configuration failed&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":7037433,"reputation":61,"user_id":5390986,"display_name":"feenix110998"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678916459,"creation_date":1678916459,"answer_id":75750331,"question_id":74574993,"body_markdown":"Spring now has  non blocking retry \r\n\r\nhttps://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/RetryableTopic.html\r\n\r\nhttps://www.baeldung.com/spring-retry-kafka-consumer\r\n\r\nhttps://betterprogramming.pub/spring-boot-kafka-non-blocking-retries-a-hands-on-tutorial-a0c425acc3dd","title":"Implementing non-blocking Retry Mechanism in Java","body":"<p>Spring now has  non blocking retry</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/RetryableTopic.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/RetryableTopic.html</a></p>\n<p><a href=\"https://www.baeldung.com/spring-retry-kafka-consumer\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-retry-kafka-consumer</a></p>\n<p><a href=\"https://betterprogramming.pub/spring-boot-kafka-non-blocking-retries-a-hands-on-tutorial-a0c425acc3dd\" rel=\"nofollow noreferrer\">https://betterprogramming.pub/spring-boot-kafka-non-blocking-retries-a-hands-on-tutorial-a0c425acc3dd</a></p>\n"}],"owner":{"account_id":27046440,"reputation":1,"user_id":20600563,"display_name":"Preksha Parikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678916459,"creation_date":1669390481,"question_id":74574993,"body_markdown":"@Retryable annotation in Spring Retry mechanism is blocking thread during retry. Do we have any retry mechanism which is not blocking thread for a particular task during backoff time and can execute other tasks  ?\r\n\r\nWith @Retryable annotation, the thread that performs the whole retry policy and remains blocked during backoff time. ","title":"Implementing non-blocking Retry Mechanism in Java","body":"<p>@Retryable annotation in Spring Retry mechanism is blocking thread during retry. Do we have any retry mechanism which is not blocking thread for a particular task during backoff time and can execute other tasks  ?</p>\n<p>With @Retryable annotation, the thread that performs the whole retry policy and remains blocked during backoff time.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9421,"page":571,"page_size":100}
