{"items":[{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1691697837,"post_id":76874292,"comment_id":135530491,"body_markdown":"*&quot;Not sure why version 18 of the FX is bundled in with Azul Java 17.0.8 ?&quot;* -&gt; it isn&#39;t. `$ ./java -version` outputs `openjdk version &quot;17.0.8&quot; 2023-07-18 LTS\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)`  and `$ ./java --list-modules | grep javafx.graphics` outputs `javafx.graphics@17.0.8`.  Probably, you were unknowingly pulling more recent JavaFX modules from some other location when you thought you were getting them from Azul.","body":"<i>&quot;Not sure why version 18 of the FX is bundled in with Azul Java 17.0.8 ?&quot;</i> -&gt; it isn&#39;t. <code>$ .&#47;java -version</code> outputs <code>openjdk version &quot;17.0.8&quot; 2023-07-18 LTS OpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)</code>  and <code>$ .&#47;java --list-modules | grep javafx.graphics</code> outputs <code>javafx.graphics@17.0.8</code>.  Probably, you were unknowingly pulling more recent JavaFX modules from some other location when you thought you were getting them from Azul."},{"owner":{"account_id":10771996,"reputation":67,"user_id":19547282,"display_name":"blm99"},"score":1,"creation_date":1691743626,"post_id":76874292,"comment_id":135535843,"body_markdown":"You are correct it is using version 17.\nI get openjdk version &quot;17.0.7&quot; 2023-04-18 LTS\nOpenJDK Runtime Environment Zulu17.42+19-CA (build 17.0.7+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.42+19-CA (build 17.0.7+7-LTS, mixed mode, sharing)  \nand \njava --list-modules | grep javafx\njavafx.base@17.0.7\njavafx.controls@17.0.7\njavafx.fxml@17.0.7\njavafx.graphics@17.0.7\njavafx.media@17.0.7\njavafx.swing@17.0.7\njavafx.web@17.0.7\n\nand yet the convenience factory method is in there even though the documentation clearly states &quot;A convenience factory method for creating a Background&quot;  Since : 18","body":"You are correct it is using version 17. I get openjdk version &quot;17.0.7&quot; 2023-04-18 LTS OpenJDK Runtime Environment Zulu17.42+19-CA (build 17.0.7+7-LTS) OpenJDK 64-Bit Server VM Zulu17.42+19-CA (build 17.0.7+7-LTS, mixed mode, sharing)   and  java --list-modules | grep javafx javafx.base@17.0.7 javafx.controls@17.0.7 javafx.fxml@17.0.7 javafx.graphics@17.0.7 javafx.media@17.0.7 javafx.swing@17.0.7 javafx.web@17.0.7  and yet the convenience factory method is in there even though the documentation clearly states &quot;A convenience factory method for creating a Background&quot;  Since : 18"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1691747720,"post_id":76874292,"comment_id":135536645,"body_markdown":"Perhaps Azul Zulu backported the method for their distribution for some reason. Or, and I don&#39;t really know how it works between OpenJFX/Gluon/distributers-that-include-javafx, they&#39;re actually building OpenJFX themselves and are pulling from version 18, but version it 17.0.X while building to match the JDK version (I would find it strange if they did this).","body":"Perhaps Azul Zulu backported the method for their distribution for some reason. Or, and I don&#39;t really know how it works between OpenJFX/Gluon/distributers-that-include-javafx, they&#39;re actually building OpenJFX themselves and are pulling from version 18, but version it 17.0.X while building to match the JDK version (I would find it strange if they did this)."}],"tags":[],"owner":{"account_id":10771996,"reputation":67,"user_id":19547282,"display_name":"blm99"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691658990,"creation_date":1691658990,"answer_id":76874292,"question_id":76874071,"body_markdown":"I&#39;ve found the problem,\r\n\r\n    public static Background fill(Paint fill) {\r\n        return new Background(new BackgroundFill(fill, null, null));\r\n    }\r\n\r\nis a convenience method introduced in JavaFX 18. Not sure why version 18 of the FX is bundled in with Azul Java 17.0.8 ?\r\n\r\nThis code gets around the problem.\r\n\r\n    void setgradient(Pane bpane, boolean b, String color)\r\n    {\r\n        if (b)\r\n        {\r\n            Background bg = new Background(new BackgroundFill(new LinearGradient(\r\n                    0, 0, 1, 1, true,                      //sizing\r\n                    CycleMethod.NO_CYCLE,                  //cycling\r\n                    new Stop(0, Color.web(&quot;#5e89b1&quot;)),     //colors\r\n                    new Stop(1, Color.web(&quot;#68a5de&quot;))), null, null));\r\n\r\n            bpane.setBackground(bg);\r\n        }\r\n        else\r\n        {\r\n            Background bg = new Background(new BackgroundFill(new LinearGradient(\r\n                    0, 0, 1, 1, true,                      //sizing\r\n                    CycleMethod.NO_CYCLE,                  //cycling\r\n                    new Stop(0, Color.web(&quot;#7d7b75&quot;)),     //colors\r\n                    new Stop(1, Color.web(&quot;#dedbd3&quot;))), null, null));\r\n\r\n            bpane.setBackground(bg);\r\n        }\r\n    }\r\n\r\n","title":"Why am i getting a missing method error for javafx.scene.layout.Background.fill in javafx for certain JDK 17/JavaFX 17 distributions?","body":"<p>I've found the problem,</p>\n<pre><code>public static Background fill(Paint fill) {\n    return new Background(new BackgroundFill(fill, null, null));\n}\n</code></pre>\n<p>is a convenience method introduced in JavaFX 18. Not sure why version 18 of the FX is bundled in with Azul Java 17.0.8 ?</p>\n<p>This code gets around the problem.</p>\n<pre><code>void setgradient(Pane bpane, boolean b, String color)\n{\n    if (b)\n    {\n        Background bg = new Background(new BackgroundFill(new LinearGradient(\n                0, 0, 1, 1, true,                      //sizing\n                CycleMethod.NO_CYCLE,                  //cycling\n                new Stop(0, Color.web(&quot;#5e89b1&quot;)),     //colors\n                new Stop(1, Color.web(&quot;#68a5de&quot;))), null, null));\n\n        bpane.setBackground(bg);\n    }\n    else\n    {\n        Background bg = new Background(new BackgroundFill(new LinearGradient(\n                0, 0, 1, 1, true,                      //sizing\n                CycleMethod.NO_CYCLE,                  //cycling\n                new Stop(0, Color.web(&quot;#7d7b75&quot;)),     //colors\n                new Stop(1, Color.web(&quot;#dedbd3&quot;))), null, null));\n\n        bpane.setBackground(bg);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10771996,"reputation":67,"user_id":19547282,"display_name":"blm99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76874292,"answer_count":1,"score":1,"last_activity_date":1691743840,"creation_date":1691657288,"question_id":76874071,"body_markdown":"I have some code which works fine using the Azul Zulu SDK (17.0.8+7) with FX bundled.\r\n\r\nHowever if i take the unbundled Azul Zulu SDK (17.0.8+7) and reference the Gluon JavaFX SDK. I get the following error.\r\n\r\n&gt; Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoSuchMethodError: &#39;javafx.scene.layout.Background javafx.scene.layout.Background.fill(javafx.scene.paint.Paint)&#39;\r\n\r\n\r\nThis problem persists in the Liberica JDK 17.0.8+7 FX bundled version as well.\r\n\r\nIt appears that the fill method is available in the Zulu JDK with FX bundled but not in the serparate Gluon Library or the Liberica FX bundled JDK.\r\n\r\nPlese can someone explain please why this is and is it possible to achieve the same  without access to the fill method.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    void setgradient(Pane bpane, boolean b, String color)\r\n    {\r\n        if (b)\r\n        {\r\n            \r\n            bpane.setBackground(Background.fill(new LinearGradient(\r\n                    0, 0, 1, 1, true,                      //sizing\r\n                    CycleMethod.NO_CYCLE,                  //cycling\r\n                    new Stop(0, Color.web(&quot;#5e89b1&quot;)),     //colors\r\n                    new Stop(1, Color.web(&quot;#68a5de&quot;)))));\r\n        }\r\n        else\r\n        {\r\n            bpane.setBackground(Background.fill(new LinearGradient(\r\n                    0, 0, 1, 1, true,                      //sizing\r\n                    CycleMethod.NO_CYCLE,                  //cycling\r\n                    new Stop(0, Color.web(&quot;#7d7b75&quot;)),     //colors\r\n                    new Stop(1, Color.web(&quot;#dedbd3&quot;)))));\r\n        }\r\n    }","title":"Why am i getting a missing method error for javafx.scene.layout.Background.fill in javafx for certain JDK 17/JavaFX 17 distributions?","body":"<p>I have some code which works fine using the Azul Zulu SDK (17.0.8+7) with FX bundled.</p>\n<p>However if i take the unbundled Azul Zulu SDK (17.0.8+7) and reference the Gluon JavaFX SDK. I get the following error.</p>\n<blockquote>\n<p>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoSuchMethodError: 'javafx.scene.layout.Background javafx.scene.layout.Background.fill(javafx.scene.paint.Paint)'</p>\n</blockquote>\n<p>This problem persists in the Liberica JDK 17.0.8+7 FX bundled version as well.</p>\n<p>It appears that the fill method is available in the Zulu JDK with FX bundled but not in the serparate Gluon Library or the Liberica FX bundled JDK.</p>\n<p>Plese can someone explain please why this is and is it possible to achieve the same  without access to the fill method.</p>\n<pre><code>void setgradient(Pane bpane, boolean b, String color)\n{\n    if (b)\n    {\n        \n        bpane.setBackground(Background.fill(new LinearGradient(\n                0, 0, 1, 1, true,                      //sizing\n                CycleMethod.NO_CYCLE,                  //cycling\n                new Stop(0, Color.web(&quot;#5e89b1&quot;)),     //colors\n                new Stop(1, Color.web(&quot;#68a5de&quot;)))));\n    }\n    else\n    {\n        bpane.setBackground(Background.fill(new LinearGradient(\n                0, 0, 1, 1, true,                      //sizing\n                CycleMethod.NO_CYCLE,                  //cycling\n                new Stop(0, Color.web(&quot;#7d7b75&quot;)),     //colors\n                new Stop(1, Color.web(&quot;#dedbd3&quot;)))));\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","google-analytics","runtimeexception","grpc-java"],"comments":[{"owner":{"account_id":2475746,"reputation":1885,"user_id":2156436,"display_name":"Yuri Golobokov"},"score":1,"creation_date":1691626244,"post_id":76860588,"comment_id":135518428,"body_markdown":"Can you try add the GA dependency as it is recommended in the quickstart? https://github.com/googleapis/google-cloud-java/tree/main/java-analytics-data#quickstart","body":"Can you try add the GA dependency as it is recommended in the quickstart? <a href=\"https://github.com/googleapis/google-cloud-java/tree/main/java-analytics-data#quickstart\" rel=\"nofollow noreferrer\">github.com/googleapis/google-cloud-java/tree/main/&hellip;</a>"},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":1,"creation_date":1691743501,"post_id":76860588,"comment_id":135535806,"body_markdown":"Thanks Yuri I made sure that my Maven artifacts were pointing to the current versions of each GA4 dependency and once that was done the code compiled and ran without the above exception. Thanks for pointing me in the right direction!","body":"Thanks Yuri I made sure that my Maven artifacts were pointing to the current versions of each GA4 dependency and once that was done the code compiled and ran without the above exception. Thanks for pointing me in the right direction!"}],"answers":[{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691743583,"creation_date":1691743583,"answer_id":76881987,"question_id":76860588,"body_markdown":"With the same Java code as above, updating all the GA4 Maven artifacts in my project&#39;s pom.xml to point to the current versions of the Maven artifacts solved the above issue.\r\n\r\nEg. with these imports and the above code:\r\n\r\n```\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\r\nimport com.google.analytics.data.v1beta.DateRange;\r\nimport com.google.analytics.data.v1beta.Dimension;\r\nimport com.google.analytics.data.v1beta.Metric;\r\nimport com.google.analytics.data.v1beta.RunReportRequest;\r\nimport com.google.analytics.data.v1beta.RunReportResponse;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.api.services.storage.StorageScopes;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.auth.oauth2.ServiceAccountCredentials;\r\n```\r\n\r\nand this pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;!--Spring--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Log4J--&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--Google APIs Java client--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n            &lt;version&gt;0.33.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;links&gt;\r\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\r\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\r\n                    &lt;/links&gt;\r\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\r\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;manifest&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\r\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\r\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;source-jar&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;!--Set minimum requirement to Java 7--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;signature&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;/signature&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                             \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nmy core issue of the thrown UnsupportedOperationException was solved and the exception was no longer raised / thrown.","title":"Google Analytics 4 - io.grpc returns &quot;INTERNAL: Failed to frame message&quot; for making GA4 API request","body":"<p>With the same Java code as above, updating all the GA4 Maven artifacts in my project's pom.xml to point to the current versions of the Maven artifacts solved the above issue.</p>\n<p>Eg. with these imports and the above code:</p>\n<pre><code>import com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\nimport com.google.analytics.data.v1beta.DateRange;\nimport com.google.analytics.data.v1beta.Dimension;\nimport com.google.analytics.data.v1beta.Metric;\nimport com.google.analytics.data.v1beta.RunReportRequest;\nimport com.google.analytics.data.v1beta.RunReportResponse;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.api.services.storage.StorageScopes;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.auth.oauth2.ServiceAccountCredentials;\n</code></pre>\n<p>and this pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    \n    &lt;!--Spring--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!--Log4J--&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--Google APIs Java client--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.23.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n            &lt;version&gt;0.33.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.19.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\n                    &lt;/links&gt;\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;manifest&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;source-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;!--Set minimum requirement to Java 7--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;signature&gt;\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;/signature&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                             \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>my core issue of the thrown UnsupportedOperationException was solved and the exception was no longer raised / thrown.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691743583,"creation_date":1691505360,"question_id":76860588,"body_markdown":"I&#39;m using the below to attempt to retrieve Google Analytics numbers for my GA4 property in Netbeans with Maven (Java) viz the official Google example at \r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\r\n\r\nMy relevant code:\r\n```\r\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\r\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\r\n\r\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n\r\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n\r\n            RunReportRequest request\r\n                    = RunReportRequest.newBuilder()\r\n                            .setProperty(&quot;properties/&quot; + propertyId)\r\n                            .addDimensions(Dimension.newBuilder().setName(&quot;city&quot;))\r\n                            .addMetrics(Metric.newBuilder().setName(&quot;activeUsers&quot;))\r\n                            .addDateRanges(DateRange.newBuilder().setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;))\r\n                            .build();\r\n            \r\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\r\n```\r\nAn execption is raised on the line\r\n\r\n```\r\nRunReportResponse response = betaAnalyticsDataClient.runReport(request);\r\n```\r\n\r\nto whit the core problem is\r\n\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: This is supposed to be overridden by subclasses.\r\n```\r\nas below:\r\n\r\n```\r\nio.grpc.StatusRuntimeException: INTERNAL: Failed to frame message\r\n\tat io.grpc.Status.asRuntimeException(Status.java:530) ~[grpc-api-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.MessageFramer.writePayload(MessageFramer.java:154) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.AbstractStream.writeMessage(AbstractStream.java:66) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.DelayedStream$6.run(DelayedStream.java:283) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.DelayedStream.drainPendingCalls(DelayedStream.java:182) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.DelayedStream.access$100(DelayedStream.java:44) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.DelayedStream$4.run(DelayedStream.java:148) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.MetadataApplierImpl.finalizeWith(MetadataApplierImpl.java:111) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.MetadataApplierImpl.apply(MetadataApplierImpl.java:78) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.auth.GoogleAuthLibraryCallCredentials$1.onSuccess(GoogleAuthLibraryCallCredentials.java:137) ~[grpc-auth-1.55.3.jar:1.55.3]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$FutureCallbackToMetadataCallbackAdapter.onSuccess(OAuth2Credentials.java:550) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$FutureCallbackToMetadataCallbackAdapter.onSuccess(OAuth2Credentials.java:541) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1138) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1270) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1038) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:783) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$RefreshTask.access$400(OAuth2Credentials.java:600) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$RefreshTask$1.onSuccess(OAuth2Credentials.java:617) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$RefreshTask$1.onSuccess(OAuth2Credentials.java:614) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1138) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.executeListener(ExecutionList.java:143) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.ExecutionList.execute(ExecutionList.java:132) ~[guava-31.1-jre.jar:na]\r\n\tat com.google.common.util.concurrent.ListenableFutureTask.done(ListenableFutureTask.java:111) ~[guava-31.1-jre.jar:na]\r\n\tat java.base/java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.set(FutureTask.java:232) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:272) ~[na:na]\r\n\tat com.google.auth.oauth2.OAuth2Credentials$RefreshTask.run(OAuth2Credentials.java:633) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.UnsupportedOperationException: This is supposed to be overridden by subclasses.\r\n\tat com.google.protobuf.GeneratedMessageV3.getUnknownFields(GeneratedMessageV3.java:302) ~[protobuf-java-3.21.2.jar:na]\r\n\tat com.google.analytics.data.v1beta.Dimension.getSerializedSize(Dimension.java:230) ~[proto-google-analytics-data-v1beta-0.32.0.jar:0.32.0]\r\n\tat com.google.protobuf.CodedOutputStream.computeMessageSizeNoTag(CodedOutputStream.java:877) ~[protobuf-java-3.21.2.jar:na]\r\n\tat com.google.protobuf.CodedOutputStream.computeMessageSize(CodedOutputStream.java:661) ~[protobuf-java-3.21.2.jar:na]\r\n\tat com.google.analytics.data.v1beta.RunReportRequest.getSerializedSize(RunReportRequest.java:933) ~[proto-google-analytics-data-v1beta-0.32.0.jar:0.32.0]\r\n\tat io.grpc.protobuf.lite.ProtoInputStream.available(ProtoInputStream.java:108) ~[grpc-protobuf-lite-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.MessageFramer.getKnownLength(MessageFramer.java:208) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\tat io.grpc.internal.MessageFramer.writePayload(MessageFramer.java:138) ~[grpc-core-1.55.3.jar:1.55.3]\r\n\t... 30 common frames omitted\r\n```\r\nWhy is this? Do I have some kind of mismatch in my pom.xml?\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;!--Spring--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Log4J--&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--Google APIs Java client--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n            &lt;version&gt;0.32.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;links&gt;\r\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\r\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\r\n                    &lt;/links&gt;\r\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\r\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;manifest&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\r\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\r\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;source-jar&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;!--Set minimum requirement to Java 7--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;signature&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;/signature&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                             \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThanks","title":"Google Analytics 4 - io.grpc returns &quot;INTERNAL: Failed to frame message&quot; for making GA4 API request","body":"<p>I'm using the below to attempt to retrieve Google Analytics numbers for my GA4 property in Netbeans with Maven (Java) viz the official Google example at</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries</a></p>\n<p>My relevant code:</p>\n<pre><code>GoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\n\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n\n            RunReportRequest request\n                    = RunReportRequest.newBuilder()\n                            .setProperty(&quot;properties/&quot; + propertyId)\n                            .addDimensions(Dimension.newBuilder().setName(&quot;city&quot;))\n                            .addMetrics(Metric.newBuilder().setName(&quot;activeUsers&quot;))\n                            .addDateRanges(DateRange.newBuilder().setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;))\n                            .build();\n            \n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\n</code></pre>\n<p>An execption is raised on the line</p>\n<pre><code>RunReportResponse response = betaAnalyticsDataClient.runReport(request);\n</code></pre>\n<p>to whit the core problem is</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: This is supposed to be overridden by subclasses.\n</code></pre>\n<p>as below:</p>\n<pre><code>io.grpc.StatusRuntimeException: INTERNAL: Failed to frame message\n    at io.grpc.Status.asRuntimeException(Status.java:530) ~[grpc-api-1.55.3.jar:1.55.3]\n    at io.grpc.internal.MessageFramer.writePayload(MessageFramer.java:154) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.AbstractStream.writeMessage(AbstractStream.java:66) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.DelayedStream$6.run(DelayedStream.java:283) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.DelayedStream.drainPendingCalls(DelayedStream.java:182) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.DelayedStream.access$100(DelayedStream.java:44) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.DelayedStream$4.run(DelayedStream.java:148) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.MetadataApplierImpl.finalizeWith(MetadataApplierImpl.java:111) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.MetadataApplierImpl.apply(MetadataApplierImpl.java:78) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.auth.GoogleAuthLibraryCallCredentials$1.onSuccess(GoogleAuthLibraryCallCredentials.java:137) ~[grpc-auth-1.55.3.jar:1.55.3]\n    at com.google.auth.oauth2.OAuth2Credentials$FutureCallbackToMetadataCallbackAdapter.onSuccess(OAuth2Credentials.java:550) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\n    at com.google.auth.oauth2.OAuth2Credentials$FutureCallbackToMetadataCallbackAdapter.onSuccess(OAuth2Credentials.java:541) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1138) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1270) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1038) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:783) ~[guava-31.1-jre.jar:na]\n    at com.google.auth.oauth2.OAuth2Credentials$RefreshTask.access$400(OAuth2Credentials.java:600) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\n    at com.google.auth.oauth2.OAuth2Credentials$RefreshTask$1.onSuccess(OAuth2Credentials.java:617) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\n    at com.google.auth.oauth2.OAuth2Credentials$RefreshTask$1.onSuccess(OAuth2Credentials.java:614) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1138) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.ExecutionList.executeListener(ExecutionList.java:143) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.ExecutionList.execute(ExecutionList.java:132) ~[guava-31.1-jre.jar:na]\n    at com.google.common.util.concurrent.ListenableFutureTask.done(ListenableFutureTask.java:111) ~[guava-31.1-jre.jar:na]\n    at java.base/java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.set(FutureTask.java:232) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:272) ~[na:na]\n    at com.google.auth.oauth2.OAuth2Credentials$RefreshTask.run(OAuth2Credentials.java:633) ~[google-auth-library-oauth2-http-1.19.0.jar:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.UnsupportedOperationException: This is supposed to be overridden by subclasses.\n    at com.google.protobuf.GeneratedMessageV3.getUnknownFields(GeneratedMessageV3.java:302) ~[protobuf-java-3.21.2.jar:na]\n    at com.google.analytics.data.v1beta.Dimension.getSerializedSize(Dimension.java:230) ~[proto-google-analytics-data-v1beta-0.32.0.jar:0.32.0]\n    at com.google.protobuf.CodedOutputStream.computeMessageSizeNoTag(CodedOutputStream.java:877) ~[protobuf-java-3.21.2.jar:na]\n    at com.google.protobuf.CodedOutputStream.computeMessageSize(CodedOutputStream.java:661) ~[protobuf-java-3.21.2.jar:na]\n    at com.google.analytics.data.v1beta.RunReportRequest.getSerializedSize(RunReportRequest.java:933) ~[proto-google-analytics-data-v1beta-0.32.0.jar:0.32.0]\n    at io.grpc.protobuf.lite.ProtoInputStream.available(ProtoInputStream.java:108) ~[grpc-protobuf-lite-1.55.3.jar:1.55.3]\n    at io.grpc.internal.MessageFramer.getKnownLength(MessageFramer.java:208) ~[grpc-core-1.55.3.jar:1.55.3]\n    at io.grpc.internal.MessageFramer.writePayload(MessageFramer.java:138) ~[grpc-core-1.55.3.jar:1.55.3]\n    ... 30 common frames omitted\n</code></pre>\n<p>Why is this? Do I have some kind of mismatch in my pom.xml?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    \n    &lt;!--Spring--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!--Log4J--&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--Google APIs Java client--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n            &lt;version&gt;0.32.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.19.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\n                    &lt;/links&gt;\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;manifest&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;source-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;!--Set minimum requirement to Java 7--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;signature&gt;\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;/signature&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                             \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","maven","google-analytics","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691743321,"creation_date":1691743321,"answer_id":76881953,"question_id":76804761,"body_markdown":"Solution to this was to ensure that the referenced Maven artifacts were pointing to the correct versions of the required GA4 dependencies.\r\n\r\nWith the same Java code as above using these imports\r\n\r\n```\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\r\nimport com.google.analytics.data.v1beta.DateRange;\r\nimport com.google.analytics.data.v1beta.Dimension;\r\nimport com.google.analytics.data.v1beta.Metric;\r\nimport com.google.analytics.data.v1beta.RunReportRequest;\r\nimport com.google.analytics.data.v1beta.RunReportResponse;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.api.services.storage.StorageScopes;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.auth.oauth2.ServiceAccountCredentials;\r\n```\r\n\r\nwith this pom.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;!--Spring--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Log4J--&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--Google APIs Java client--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n            &lt;version&gt;0.33.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;links&gt;\r\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\r\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\r\n                    &lt;/links&gt;\r\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\r\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;manifest&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\r\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\r\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;source-jar&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;!--Set minimum requirement to Java 7--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;signature&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;/signature&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                             \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nsolved my issue and the code now compiles and runs and no longer crashes with the above runtime exception.","title":"Connecting to Google Analytics 4 API - com.google.auth.oauth2.GdchCredentials does not exist","body":"<p>Solution to this was to ensure that the referenced Maven artifacts were pointing to the correct versions of the required GA4 dependencies.</p>\n<p>With the same Java code as above using these imports</p>\n<pre><code>import com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\nimport com.google.analytics.data.v1beta.DateRange;\nimport com.google.analytics.data.v1beta.Dimension;\nimport com.google.analytics.data.v1beta.Metric;\nimport com.google.analytics.data.v1beta.RunReportRequest;\nimport com.google.analytics.data.v1beta.RunReportResponse;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.api.services.storage.StorageScopes;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.auth.oauth2.ServiceAccountCredentials;\n</code></pre>\n<p>with this pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    \n    &lt;!--Spring--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!--Log4J--&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--Google APIs Java client--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.23.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n            &lt;version&gt;0.33.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.19.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\n                    &lt;/links&gt;\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;manifest&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;source-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;!--Set minimum requirement to Java 7--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;signature&gt;\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;/signature&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                             \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>solved my issue and the code now compiles and runs and no longer crashes with the above runtime exception.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691743321,"creation_date":1690814859,"question_id":76804761,"body_markdown":"I&#39;ve been trying for several days to connect to my GA4 service account via the GA4 API to pull statistics.\r\n\r\nI&#39;m following the official example at\r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\r\n\r\nI&#39;m trying to NOT use the environment variable to find the client secrets json info, but rather referencing the file in /src/main/resources in NetBeans (client_secrets.json) directly in code, so came up with this:\r\n\r\n```\r\nGoogleCredentials gc =  ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\r\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));            \r\n            \r\nBetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n            \r\nBetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n```\r\n\r\nI want to use this just above the line\r\n\r\n```\r\ntry (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create()) {\r\n```\r\n\r\nline in the official Google example linked to above, to get a BetaAnalyticsDataClient instance with my client_secrets.json file&#39;s credentials by directly referencing it.\r\n\r\nE.g. therefore pulling the credential file by referencing its location and reading it as a ResourceAsStream, not from the implied environment variable as the official example does.\r\n\r\nMy code compiles and runs but on this line of the above code\r\n\r\n```\r\nBetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n```\r\n\r\nI get a runtime exception\r\n\r\n```\r\njava.lang.ClassNotFoundException: com.google.auth.oauth2.GdchCredentials\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:164) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:172) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154) ~[google-analytics-data-0.32.0.jar:0.32.0]\r\n\tat com.verishare.wpanalyticshelper.controller.UsercountSevenDaysController.usercountSevenDays(UsercountSevenDaysController.java:63) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nI&#39;ve searched and I can find no reference to a class \r\n\r\ncom.google.auth.oauth2.Gdc**h**Credentials\r\n\r\nexisting anywhere, only\r\n\r\ncom.google.auth.oauth2.Gd**c**Credentials\r\n\r\ne. g. with a missing &quot;h&quot;?\r\n\r\nWhat gives - how can I create a GA4 BetaAnalyticsDataClient instance by directly referencing a client_secrets.json file from the classpath, NOT using the environment variable as the official GA4 example linked above illustrates?\r\n\r\nMy pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;!--Spring--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Log4J--&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--Google APIs Java client--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n            &lt;version&gt;0.32.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;links&gt;\r\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\r\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\r\n                    &lt;/links&gt;\r\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\r\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;manifest&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\r\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\r\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;source-jar&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;!--Set minimum requirement to Java 7--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;signature&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;/signature&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                             \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nImports used:\r\n```\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\r\nimport com.google.api.client.http.HttpRequestInitializer;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.api.services.storage.StorageScopes;\r\nimport com.google.auth.http.HttpCredentialsAdapter;\r\nimport com.google.auth.oauth2.ServiceAccountCredentials;\r\nimport com.sun.org.apache.bcel.internal.classfile.Utility;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.verishare.log4J2.utils.LogEntryRefNumGen;\r\nimport com.verishare.wpanalyticshelper.model.UsercountSevenDaysModel;\r\nimport java.util.Collections;\r\nimport java.util.Objects;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n```\r\n\r\nThanks","title":"Connecting to Google Analytics 4 API - com.google.auth.oauth2.GdchCredentials does not exist","body":"<p>I've been trying for several days to connect to my GA4 service account via the GA4 API to pull statistics.</p>\n<p>I'm following the official example at</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries</a></p>\n<p>I'm trying to NOT use the environment variable to find the client secrets json info, but rather referencing the file in /src/main/resources in NetBeans (client_secrets.json) directly in code, so came up with this:</p>\n<pre><code>GoogleCredentials gc =  ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));            \n            \nBetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n            \nBetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n</code></pre>\n<p>I want to use this just above the line</p>\n<pre><code>try (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create()) {\n</code></pre>\n<p>line in the official Google example linked to above, to get a BetaAnalyticsDataClient instance with my client_secrets.json file's credentials by directly referencing it.</p>\n<p>E.g. therefore pulling the credential file by referencing its location and reading it as a ResourceAsStream, not from the implied environment variable as the official example does.</p>\n<p>My code compiles and runs but on this line of the above code</p>\n<pre><code>BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n</code></pre>\n<p>I get a runtime exception</p>\n<pre><code>java.lang.ClassNotFoundException: com.google.auth.oauth2.GdchCredentials\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:164) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:172) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154) ~[google-analytics-data-0.32.0.jar:0.32.0]\n    at com.verishare.wpanalyticshelper.controller.UsercountSevenDaysController.usercountSevenDays(UsercountSevenDaysController.java:63) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I've searched and I can find no reference to a class</p>\n<p>com.google.auth.oauth2.Gdc<strong>h</strong>Credentials</p>\n<p>existing anywhere, only</p>\n<p>com.google.auth.oauth2.Gd<strong>c</strong>Credentials</p>\n<p>e. g. with a missing &quot;h&quot;?</p>\n<p>What gives - how can I create a GA4 BetaAnalyticsDataClient instance by directly referencing a client_secrets.json file from the classpath, NOT using the environment variable as the official GA4 example linked above illustrates?</p>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    \n    &lt;!--Spring--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!--Log4J--&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--Google APIs Java client--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n            &lt;version&gt;0.32.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\n                    &lt;/links&gt;\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;manifest&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;source-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;!--Set minimum requirement to Java 7--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;signature&gt;\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;/signature&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                             \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Imports used:</p>\n<pre><code>import com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\nimport com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.api.services.storage.StorageScopes;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.ServiceAccountCredentials;\nimport com.sun.org.apache.bcel.internal.classfile.Utility;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.verishare.log4J2.utils.LogEntryRefNumGen;\nimport com.verishare.wpanalyticshelper.model.UsercountSevenDaysModel;\nimport java.util.Collections;\nimport java.util.Objects;\nimport org.apache.logging.log4j.LogManager;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1690958657,"post_id":76816166,"comment_id":135423491,"body_markdown":"Have you tried to append an empty list without `JSON.stringify`? `formData.append(&quot;children&quot;, []);`","body":"Have you tried to append an empty list without <code>JSON.stringify</code>? <code>formData.append(&quot;children&quot;, []);</code>"},{"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"score":0,"creation_date":1690967020,"post_id":76816166,"comment_id":135425241,"body_markdown":"It results to the same error.","body":"It results to the same error."},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1691155390,"post_id":76816166,"comment_id":135457401,"body_markdown":"Can you use \n  headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\n when you wanna call?","body":"Can you use    headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },  when you wanna call?"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1691185673,"post_id":76816166,"comment_id":135463087,"body_markdown":"better use @requestbody but https://stackoverflow.com/a/31990142/175554 may help","body":"better use @requestbody but <a href=\"https://stackoverflow.com/a/31990142/175554\">stackoverflow.com/a/31990142/175554</a> may help"},{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1691742669,"post_id":76816166,"comment_id":135535648,"body_markdown":"yes because the `children` field in your DTO is expecting a `List`, but you are sending it as a string in the form data!","body":"yes because the <code>children</code> field in your DTO is expecting a <code>List</code>, but you are sending it as a string in the form data!"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691187094,"creation_date":1691187094,"answer_id":76839356,"question_id":76816166,"body_markdown":"Your Spring `Controller` is waiting for information received as form data.\r\n\r\nWhen Spring tries to build the backend object `MyObjectDTO` from the information provided in the submitted HTTP request with your `axios` call, it expects `children` to be a property of type `List` as your defined it:\r\n\r\n\r\n```java\r\nList&lt;ChildDTO&gt; children;\r\n```\r\n\r\nBut instead you are providing a `String`, `[]`, in your form data:\r\n\r\n```java\r\nformData.append(&quot;children&quot;, JSON.stringify([]));\r\n```\r\n\r\nIf you want to pass an empty value for the `children` property, please, instead don&#39;t pass any value for it.\r\n\r\nIf you need to pass a value for say a list of two `children`, you need to index then, and pass that information to your `Controller`, something like:\r\n\r\n```javascript\r\nformData.append(&quot;children[0].id&quot;, &quot;3&quot;);\r\nformData.append(&quot;children[0].name&quot;, &quot;a name&quot;);\r\nformData.append(&quot;children[1].id&quot;, &quot;5&quot;);\r\nformData.append(&quot;children[1].name&quot;, &quot;another name&quot;);\r\n```\r\n\r\nAs an alternative, as suggested as well by @ozkanpakdil in his comment and [linked question](https://stackoverflow.com/questions/21824012/spring-modelattribute-vs-requestbody/31990142#31990142), please, consider serializing your entire form to JSON format and use `@RequestBody` in your `Controller` instead.\r\n","title":"@ModelAttribute rejected object with List field","body":"<p>Your Spring <code>Controller</code> is waiting for information received as form data.</p>\n<p>When Spring tries to build the backend object <code>MyObjectDTO</code> from the information provided in the submitted HTTP request with your <code>axios</code> call, it expects <code>children</code> to be a property of type <code>List</code> as your defined it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ChildDTO&gt; children;\n</code></pre>\n<p>But instead you are providing a <code>String</code>, <code>[]</code>, in your form data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>formData.append(&quot;children&quot;, JSON.stringify([]));\n</code></pre>\n<p>If you want to pass an empty value for the <code>children</code> property, please, instead don't pass any value for it.</p>\n<p>If you need to pass a value for say a list of two <code>children</code>, you need to index then, and pass that information to your <code>Controller</code>, something like:</p>\n<pre class=\"lang-js prettyprint-override\"><code>formData.append(&quot;children[0].id&quot;, &quot;3&quot;);\nformData.append(&quot;children[0].name&quot;, &quot;a name&quot;);\nformData.append(&quot;children[1].id&quot;, &quot;5&quot;);\nformData.append(&quot;children[1].name&quot;, &quot;another name&quot;);\n</code></pre>\n<p>As an alternative, as suggested as well by @ozkanpakdil in his comment and <a href=\"https://stackoverflow.com/questions/21824012/spring-modelattribute-vs-requestbody/31990142#31990142\">linked question</a>, please, consider serializing your entire form to JSON format and use <code>@RequestBody</code> in your <code>Controller</code> instead.</p>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1691743058,"creation_date":1690941237,"question_id":76816166,"body_markdown":"I have the following endpoint\r\n\r\n    @PutMapping\r\n    ResponseEntity&lt;MyObject&gt; updateMyObject(@ModelAttribute MyObjectDTO myObjectDTO) {\r\n        ...\r\n    }\r\n\r\nAnd my DTO is\r\n\r\n    @Value\r\n    class MyObjetDTO {\r\n        ...\r\n        List&lt;ChildDTO&gt; children;\r\n    }\r\n\r\nAnd my child DTO is\r\n\r\n    @Value\r\n    class ChildDTO {\r\n        ...\r\n        Long id;\r\n        String name;\r\n    }\r\n\r\nIn the UI, I send the request using form data (I need to do this since I have a multipart field in my DTO):\r\n\r\n    const formData = new FormData();\r\n    ...\r\n    formData.append(&quot;children&quot;, JSON.stringify([]));\r\n    axios.put(&quot;http://localhost:8080/api, formData, {})...\r\n\r\nI got this error on backend:\r\n\r\n`Failed to convert value of tyoe &quot;java.lang.String&quot; to required type &quot;java.lang.List&quot;`\r\n    ","title":"@ModelAttribute rejected object with List field","body":"<p>I have the following endpoint</p>\n<pre><code>@PutMapping\nResponseEntity&lt;MyObject&gt; updateMyObject(@ModelAttribute MyObjectDTO myObjectDTO) {\n    ...\n}\n</code></pre>\n<p>And my DTO is</p>\n<pre><code>@Value\nclass MyObjetDTO {\n    ...\n    List&lt;ChildDTO&gt; children;\n}\n</code></pre>\n<p>And my child DTO is</p>\n<pre><code>@Value\nclass ChildDTO {\n    ...\n    Long id;\n    String name;\n}\n</code></pre>\n<p>In the UI, I send the request using form data (I need to do this since I have a multipart field in my DTO):</p>\n<pre><code>const formData = new FormData();\n...\nformData.append(&quot;children&quot;, JSON.stringify([]));\naxios.put(&quot;http://localhost:8080/api, formData, {})...\n</code></pre>\n<p>I got this error on backend:</p>\n<p><code>Failed to convert value of tyoe &quot;java.lang.String&quot; to required type &quot;java.lang.List&quot;</code></p>\n"},{"tags":["java","google-analytics","google-api","google-analytics-api","service-accounts"],"answers":[{"comments":[{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1690810546,"post_id":76789422,"comment_id":135400755,"body_markdown":"Thanks, but the GoogleCredential class is marked deprecated?","body":"Thanks, but the GoogleCredential class is marked deprecated?"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1690830952,"post_id":76789422,"comment_id":135404953,"body_markdown":"Typical,  every time i get a working sample they deprecate something.  I will see if i can find sometime to work out a new sample.","body":"Typical,  every time i get a working sample they deprecate something.  I will see if i can find sometime to work out a new sample."},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1691742784,"post_id":76789422,"comment_id":135535664,"body_markdown":"Hi Linda found a workaround for this, see my answer below. Thanks for pointing me in the right direction!","body":"Hi Linda found a workaround for this, see my answer below. Thanks for pointing me in the right direction!"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1692204529,"post_id":76789422,"comment_id":135593046,"body_markdown":"where are you seeing that its deprecated im not seeing it here","body":"where are you seeing that its deprecated im not seeing it here"},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1692944778,"post_id":76789422,"comment_id":135696041,"body_markdown":"The deprecated code was indicated with struck-through text in the NetBeans IDE.","body":"The deprecated code was indicated with struck-through text in the NetBeans IDE."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1692945801,"post_id":76789422,"comment_id":135696196,"body_markdown":"Strange that i am not seeing anything in intelij","body":"Strange that i am not seeing anything in intelij"}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690560325,"creation_date":1690560325,"answer_id":76789422,"question_id":76788973,"body_markdown":"Try this.\r\n\r\n    GoogleCredential gc = GoogleCredential.FromStream(Utility.GetStreamFromResourceFile(&quot;C:\\\\Development\\\\FreeLance\\\\GoogleSamples\\\\Credentials\\\\credentials.json&quot;, GetType()));\r\n    BetaAnalyticsDataSettings betaAnalyticsDataSettings =       BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n    BetaAnalyticsDataClient betaAnalyticsDataClient =      BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n","title":"Google Analytics 4 - simple example of service account API usage in Java?","body":"<p>Try this.</p>\n<pre><code>GoogleCredential gc = GoogleCredential.FromStream(Utility.GetStreamFromResourceFile(&quot;C:\\\\Development\\\\FreeLance\\\\GoogleSamples\\\\Credentials\\\\credentials.json&quot;, GetType()));\nBetaAnalyticsDataSettings betaAnalyticsDataSettings =       BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\nBetaAnalyticsDataClient betaAnalyticsDataClient =      BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691742764,"creation_date":1691742764,"answer_id":76881894,"question_id":76788973,"body_markdown":"The answer to my question&#39;s core issue, e.g.\r\n\r\n*How can I set the credentials JSON file location in the code (NOT an environment variable) per the data API example?*\r\n\r\nWas this code:\r\n\r\n```\r\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\r\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\r\n\r\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n\r\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n```\r\n\r\nwith my client_secrets.json file located in my NetBeans Maven project tree at the location\r\n\r\n```\r\nProjectname\r\n |\r\n  src\r\n   |\r\n   resources\r\n    |\r\n    client_secrets.json\r\n```\r\n\r\nand my imports for the above is:\r\n\r\n```\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\r\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\r\nimport com.google.analytics.data.v1beta.DateRange;\r\nimport com.google.analytics.data.v1beta.Dimension;\r\nimport com.google.analytics.data.v1beta.Metric;\r\nimport com.google.analytics.data.v1beta.RunReportRequest;\r\nimport com.google.analytics.data.v1beta.RunReportResponse;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.api.services.storage.StorageScopes;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.auth.oauth2.ServiceAccountCredentials;\r\n```\r\n\r\nwith this pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;!--Spring--&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Log4J--&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--Google APIs Java client--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.35.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n            &lt;version&gt;0.33.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;links&gt;\r\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\r\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\r\n                    &lt;/links&gt;\r\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\r\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;manifest&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\r\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\r\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;source-jar&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;!--Set minimum requirement to Java 7--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;signature&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;/signature&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                             \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nE. g. using the above I was able to reference my GA4 API credentials client_secrets.json file by direct reference in the code and not via an implied environment variable.\r\n","title":"Google Analytics 4 - simple example of service account API usage in Java?","body":"<p>The answer to my question's core issue, e.g.</p>\n<p><em>How can I set the credentials JSON file location in the code (NOT an environment variable) per the data API example?</em></p>\n<p>Was this code:</p>\n<pre><code>GoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\n\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n</code></pre>\n<p>with my client_secrets.json file located in my NetBeans Maven project tree at the location</p>\n<pre><code>Projectname\n |\n  src\n   |\n   resources\n    |\n    client_secrets.json\n</code></pre>\n<p>and my imports for the above is:</p>\n<pre><code>import com.google.analytics.data.v1beta.BetaAnalyticsDataClient;\nimport com.google.analytics.data.v1beta.BetaAnalyticsDataSettings;\nimport com.google.analytics.data.v1beta.DateRange;\nimport com.google.analytics.data.v1beta.Dimension;\nimport com.google.analytics.data.v1beta.Metric;\nimport com.google.analytics.data.v1beta.RunReportRequest;\nimport com.google.analytics.data.v1beta.RunReportResponse;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.api.services.storage.StorageScopes;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.auth.oauth2.ServiceAccountCredentials;\n</code></pre>\n<p>with this pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;WPAnalyticsHelper&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    \n    &lt;!--Spring--&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;!--Log4J--&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--Google APIs Java client--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.23.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client-xml&lt;/artifactId&gt;\n            &lt;version&gt;1.35.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analyticsreporting&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev20190318-1.28.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-analytics&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev134-1.22.0&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n            &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n            &lt;version&gt;0.33.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.19.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev58-1.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.verishare.wpanalyticshelper.Application&lt;/mainClass&gt;\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;links&gt;\n                        &lt;link&gt;http://download.oracle.com/javase/7/docs/api/&lt;/link&gt;\n                        &lt;link&gt;https://googleapis.dev/java/google-http-client/${project.http.version}/&lt;/link&gt;\n                    &lt;/links&gt;\n                    &lt;doctitle&gt;${project.name} ${project.version}&lt;/doctitle&gt;\n                    &lt;windowtitle&gt;${project.artifactId} ${project.version}&lt;/windowtitle&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;google.api.client.java6&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-manifest&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;manifest&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-DocURL&gt;https://googleapis.dev/java/google-api-client/${project.version}/index.html&lt;/Bundle-DocURL&gt;\n                        &lt;Bundle-Description&gt;Java 6 extensions to the Google APIs Client Library for Java&lt;/Bundle-Description&gt;\n                        &lt;Bundle-SymbolicName&gt;com.google.api.client.java6&lt;/Bundle-SymbolicName&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;source-jar&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;!--Set minimum requirement to Java 7--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;animal-sniffer-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;signature&gt;\n                        &lt;groupId&gt;org.codehaus.mojo.signature&lt;/groupId&gt;\n                        &lt;artifactId&gt;java17&lt;/artifactId&gt;\n                        &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;/signature&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                             \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>E. g. using the above I was able to reference my GA4 API credentials client_secrets.json file by direct reference in the code and not via an implied environment variable.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76789422,"answer_count":2,"score":1,"last_activity_date":1691742764,"creation_date":1690556474,"question_id":76788973,"body_markdown":"I&#39;ve spent a few days trying to get an example of how to do the above - use a service account to non-interactively get Google Analytics metrics using the GA4 API from Java.\r\n\r\nThe official example at\r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/core/v4/quickstart/service-java#3_setup_the_sample\r\n\r\nhas a requirement that you need to provide a &quot;view ID&quot; when initializing the GA4 client classes.\r\n\r\nNowhere can I find a &quot;view ID&quot; -anywhere- in my GA4 profile. I do have the JSON file with my credentials, have connected the GA4 property, created a service account, etc.\r\n\r\nView IDs seems to be something used previously with Universal Analytics, which was discontinued 1 July 2023.\r\n\r\nAdditionally, what is the difference between &quot;Reporting&quot; and &quot;Data&quot; APIs in Google Analytics?\r\n\r\nI&#39;ve also found an official Google example of the &quot;Data&quot; API at\r\n\r\nhttps://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\r\n\r\nbut there is a step that refers to setting an environment variable to define where to find the authentication JSON file - but where / how is an environment variable set in a headless JAR that will run on a different machine than where the JAR is being compiled (headless Linux server)?\r\n\r\nHow can I set the credentials JSON file location in the code (NOT an environment variable) per the data API example?\r\n\r\nTrying to accomplish this in a Java Spring Maven App in NetBeans.\r\n\r\nThanks","title":"Google Analytics 4 - simple example of service account API usage in Java?","body":"<p>I've spent a few days trying to get an example of how to do the above - use a service account to non-interactively get Google Analytics metrics using the GA4 API from Java.</p>\n<p>The official example at</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/core/v4/quickstart/service-java#3_setup_the_sample\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/core/v4/quickstart/service-java#3_setup_the_sample</a></p>\n<p>has a requirement that you need to provide a &quot;view ID&quot; when initializing the GA4 client classes.</p>\n<p>Nowhere can I find a &quot;view ID&quot; -anywhere- in my GA4 profile. I do have the JSON file with my credentials, have connected the GA4 property, created a service account, etc.</p>\n<p>View IDs seems to be something used previously with Universal Analytics, which was discontinued 1 July 2023.</p>\n<p>Additionally, what is the difference between &quot;Reporting&quot; and &quot;Data&quot; APIs in Google Analytics?</p>\n<p>I've also found an official Google example of the &quot;Data&quot; API at</p>\n<p><a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\" rel=\"nofollow noreferrer\">https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries</a></p>\n<p>but there is a step that refers to setting an environment variable to define where to find the authentication JSON file - but where / how is an environment variable set in a headless JAR that will run on a different machine than where the JAR is being compiled (headless Linux server)?</p>\n<p>How can I set the credentials JSON file location in the code (NOT an environment variable) per the data API example?</p>\n<p>Trying to accomplish this in a Java Spring Maven App in NetBeans.</p>\n<p>Thanks</p>\n"},{"tags":["java","html","css","spring","vaadin"],"comments":[{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":1,"creation_date":1691732168,"post_id":76878009,"comment_id":135533904,"body_markdown":"This question is difficult to answer for two reasons: 1. your html+css example is almost unreadable because of formatting and irrelevant code. Please format the HTML with proper indentation&#160;– that&#39;s the most important part of your question and it&#39;s really hard to follow right now – and frankly you can remove all the CSS because it is irrelevant. 2. You&#39;re not saying what you expect the end result to be. Please provide a drawing or something of what you&#39;re trying to achieve – just saying it&#39;s &quot;weird&quot; is not helpful when nobody knows what your expectations are.","body":"This question is difficult to answer for two reasons: 1. your html+css example is almost unreadable because of formatting and irrelevant code. Please format the HTML with proper indentation – that&#39;s the most important part of your question and it&#39;s really hard to follow right now – and frankly you can remove all the CSS because it is irrelevant. 2. You&#39;re not saying what you expect the end result to be. Please provide a drawing or something of what you&#39;re trying to achieve – just saying it&#39;s &quot;weird&quot; is not helpful when nobody knows what your expectations are."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1691736645,"post_id":76878009,"comment_id":135534629,"body_markdown":"Ok. Well I have removed a lot of the auto generated CSS already, but yeah you are right. I will try to remove it some more. My thinking was that someone can just copy paste the code to his computer and reproduce the error. \n\nI do not know how to draw the result. So I would like the result to be centered. So that left and right margin will be equal. So the purple spacing on the image will be gone. \n\nI will rewrite the question :) thanks for the heads up.","body":"Ok. Well I have removed a lot of the auto generated CSS already, but yeah you are right. I will try to remove it some more. My thinking was that someone can just copy paste the code to his computer and reproduce the error.   I do not know how to draw the result. So I would like the result to be centered. So that left and right margin will be equal. So the purple spacing on the image will be gone.   I will rewrite the question :) thanks for the heads up."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1691739119,"post_id":76878009,"comment_id":135535061,"body_markdown":"I have tried copy-pasting the code, but even this was too little. I will have to rewrite the question just for Vaadin. I though I could get some insight by checking the CSS. Should I delete this question and write a new one? or edit this one?","body":"I have tried copy-pasting the code, but even this was too little. I will have to rewrite the question just for Vaadin. I though I could get some insight by checking the CSS. Should I delete this question and write a new one? or edit this one?"},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":1,"creation_date":1691739753,"post_id":76878009,"comment_id":135535155,"body_markdown":"If you don&#39;t know what the problem is, you probably don&#39;t know what the relevant parts of the generated HTML/CSS is either, so you&#39;d be better off 1. posting the code you&#39;ve actually written (assuming that&#39;s Java, then Java), and describing and ideally drawing (with like MS Paint or something) what kind of layout you want to achieve. You can edit this question or delete this and create a new one, doesn&#39;t matter much.","body":"If you don&#39;t know what the problem is, you probably don&#39;t know what the relevant parts of the generated HTML/CSS is either, so you&#39;d be better off 1. posting the code you&#39;ve actually written (assuming that&#39;s Java, then Java), and describing and ideally drawing (with like MS Paint or something) what kind of layout you want to achieve. You can edit this question or delete this and create a new one, doesn&#39;t matter much."},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1691741955,"post_id":76878009,"comment_id":135535517,"body_markdown":"@Rolf I have added a new picture. So basically I would like to get rid of the purple square or rectangle to be exact. I added some annotations with MS Paint. And I added the Java code instead of the generated HTML. So I would like the buttons to be centered and spread equally. Oh I know. I can show that with my own CSS and HTML. Be right back :)","body":"@Rolf I have added a new picture. So basically I would like to get rid of the purple square or rectangle to be exact. I added some annotations with MS Paint. And I added the Java code instead of the generated HTML. So I would like the buttons to be centered and spread equally. Oh I know. I can show that with my own CSS and HTML. Be right back :)"},{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1691742477,"post_id":76878009,"comment_id":135535614,"body_markdown":"Ok. Now I have also added a screen shot of what I would like to achieve :) now it might be ok :) let me know if I would need to add anything else :)","body":"Ok. Now I have also added a screen shot of what I would like to achieve :) now it might be ok :) let me know if I would need to add anything else :)"},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":1,"creation_date":1691742931,"post_id":76878009,"comment_id":135535701,"body_markdown":"Much better, thanks.","body":"Much better, thanks."}],"answers":[{"comments":[{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1691749583,"post_id":76881883,"comment_id":135536999,"body_markdown":"this did the trick :) thank you :)","body":"this did the trick :) thank you :)"}],"tags":[],"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691742703,"creation_date":1691742703,"answer_id":76881883,"question_id":76878009,"body_markdown":"The reason for the empty (or purple, as shown by the browser&#39;s inspector) area in the layout is that its contents are left-aligned (the default) rather than horizontally centered.\r\n\r\nAs shown in the documentation \r\n(https://vaadin.com/docs/latest/components/horizontal-layout#horizontal-alignment), this is configured with `setJustifyContentMode(JustifyContentMode.CENTER)`.\r\n\r\n(The API for setting horizontal and vertical alignment in HorizontalLayout and VerticalLayout are &quot;orthogonal&quot; to each other, because it follows the FlexBox model that works the same way. What I mean by this is that in HorizontalLayout, vertical alignment is set with `setAlignItems` and the horizontal alignment is called &quot;justification&quot; and set with `setJustifyContentMode`, whereas in VerticalLayout it&#39;s the other way around. The rationale behind this is that &quot;justification&quot; denotes the layout&#39;s &quot;main&quot; or &quot;directional&quot; axis, while &quot;alignment&quot; denotes the &quot;cross axis&quot; that goes &quot;across&quot; the directional axis.)","title":"CSS Centered Width Styling in Vaadin Theme - Java","body":"<p>The reason for the empty (or purple, as shown by the browser's inspector) area in the layout is that its contents are left-aligned (the default) rather than horizontally centered.</p>\n<p>As shown in the documentation\n(<a href=\"https://vaadin.com/docs/latest/components/horizontal-layout#horizontal-alignment\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/horizontal-layout#horizontal-alignment</a>), this is configured with <code>setJustifyContentMode(JustifyContentMode.CENTER)</code>.</p>\n<p>(The API for setting horizontal and vertical alignment in HorizontalLayout and VerticalLayout are &quot;orthogonal&quot; to each other, because it follows the FlexBox model that works the same way. What I mean by this is that in HorizontalLayout, vertical alignment is set with <code>setAlignItems</code> and the horizontal alignment is called &quot;justification&quot; and set with <code>setJustifyContentMode</code>, whereas in VerticalLayout it's the other way around. The rationale behind this is that &quot;justification&quot; denotes the layout's &quot;main&quot; or &quot;directional&quot; axis, while &quot;alignment&quot; denotes the &quot;cross axis&quot; that goes &quot;across&quot; the directional axis.)</p>\n"}],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691742703,"creation_date":1691688181,"question_id":76878009,"body_markdown":"I have a weird behavior that I can not explain to myself. Could anyone explain this to me? \r\n\r\nI would like to have a Horizontal Layout of width:80% and it contains buttons and they should be also centered. But It comes out weird. I decided to include the HTML code with .css - Let me know if you need the Java/Vaadin code as well. But I think that .CSS should dictate everything here. \r\n\r\n``` \r\nimport com.vaadin.flow.component.Component;\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.router.Route;\r\n\r\n@Route(&quot;&quot;)\r\npublic class TestView extends VerticalLayout {\r\n\r\n\tpublic TestView() {\r\n\t\tButton test = new Button(&quot;Test&quot;);\r\n\t\ttest.setWidth(&quot;30%&quot;);\r\n\t\tButton test1 = new Button(&quot;Test&quot;);\r\n\t\ttest1.setWidth(&quot;30%&quot;);\r\n\t\tButton test2 = new Button(&quot;Test&quot;);\r\n\t\ttest2.setWidth(&quot;30%&quot;);\r\n\t\t\r\n\t\tHorizontalLayout horizontalLayout = new HorizontalLayout(test, test1, test2);\r\n\t\thorizontalLayout.setAlignItems(Alignment.CENTER);\r\n\t\thorizontalLayout.setWidth(&quot;80%&quot;);\r\n\t\tadd(horizontalLayout);\r\n\t\t\r\n\t\t// Center the view content on the page\r\n\t\tsetSizeFull();\r\n\t\t// setJustifyContentMode(JustifyContentMode.CENTER);\r\n\t\tsetAlignItems(Alignment.CENTER);\r\n\t}\r\n}\r\n\r\n ```\r\n\r\n\r\n[![Vaadin result][1]][1]\r\n\r\nhopefully the thing works, when you try it at your end?\r\n\r\n[![CSS playing around 1 (3 Buttons - all 30%)][2]][2]\r\n\r\n(this one has even some extra orange space):\r\n\r\n[![CSS playing around 2 (2 Buttons - both 40%)][3]][3]\r\n\r\n\r\nAnd probably you will also need the pom.xml:\r\n\r\n ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\r\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flowcrmtutorial&lt;/artifactId&gt;\r\n    &lt;name&gt;flowcrmtutorial&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;24.1.4&lt;/vaadin.version&gt;\r\n        &lt;selenium.version&gt;4.10.0&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5719&lt;/jvmArguments&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n ```\r\n\r\n\r\n\r\nAnd what I want to achieve is this:\r\n\r\n[![Buttons Horizontally aligned and spread with equal widths][4]][4]\r\n\r\nWith the .HTML code:\r\n ```\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div style=&quot;display: flex; justify-content: center; align-items: center; height: 100vh;&quot;&gt;\r\n  &lt;div style=&quot;width: 80%;&quot;&gt;\r\n      &lt;div style=&quot;display: flex; justify-content: center;&quot;&gt;\r\n          &lt;button style=&quot;width: 30%;&quot;&gt;Button 1&lt;/button&gt;\r\n          &lt;button style=&quot;width: 30%;&quot;&gt;Button 2&lt;/button&gt;\r\n          &lt;button style=&quot;width: 30%;&quot;&gt;Button 3&lt;/button&gt;\r\n      &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n ```\r\n\r\n  [1]: https://i.stack.imgur.com/nO482.png\r\n  [2]: https://i.stack.imgur.com/zS5Cj.png\r\n  [3]: https://i.stack.imgur.com/AFSyr.png\r\n  [4]: https://i.stack.imgur.com/Ci7w5.png","title":"CSS Centered Width Styling in Vaadin Theme - Java","body":"<p>I have a weird behavior that I can not explain to myself. Could anyone explain this to me?</p>\n<p>I would like to have a Horizontal Layout of width:80% and it contains buttons and they should be also centered. But It comes out weird. I decided to include the HTML code with .css - Let me know if you need the Java/Vaadin code as well. But I think that .CSS should dictate everything here.</p>\n<pre><code>import com.vaadin.flow.component.Component;\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.router.Route;\n\n@Route(&quot;&quot;)\npublic class TestView extends VerticalLayout {\n\n    public TestView() {\n        Button test = new Button(&quot;Test&quot;);\n        test.setWidth(&quot;30%&quot;);\n        Button test1 = new Button(&quot;Test&quot;);\n        test1.setWidth(&quot;30%&quot;);\n        Button test2 = new Button(&quot;Test&quot;);\n        test2.setWidth(&quot;30%&quot;);\n        \n        HorizontalLayout horizontalLayout = new HorizontalLayout(test, test1, test2);\n        horizontalLayout.setAlignItems(Alignment.CENTER);\n        horizontalLayout.setWidth(&quot;80%&quot;);\n        add(horizontalLayout);\n        \n        // Center the view content on the page\n        setSizeFull();\n        // setJustifyContentMode(JustifyContentMode.CENTER);\n        setAlignItems(Alignment.CENTER);\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nO482.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nO482.png\" alt=\"Vaadin result\" /></a></p>\n<p>hopefully the thing works, when you try it at your end?</p>\n<p><a href=\"https://i.stack.imgur.com/zS5Cj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zS5Cj.png\" alt=\"CSS playing around 1 (3 Buttons - all 30%)\" /></a></p>\n<p>(this one has even some extra orange space):</p>\n<p><a href=\"https://i.stack.imgur.com/AFSyr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFSyr.png\" alt=\"CSS playing around 2 (2 Buttons - both 40%)\" /></a></p>\n<p>And probably you will also need the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;!-- Project from https://start.vaadin.com/ --&gt;\n   &lt;groupId&gt;com.example.application&lt;/groupId&gt;\n   &lt;artifactId&gt;flowcrmtutorial&lt;/artifactId&gt;\n   &lt;name&gt;flowcrmtutorial&lt;/name&gt;\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n   &lt;packaging&gt;jar&lt;/packaging&gt;\n\n   &lt;properties&gt;\n       &lt;java.version&gt;17&lt;/java.version&gt;\n       &lt;vaadin.version&gt;24.1.4&lt;/vaadin.version&gt;\n       &lt;selenium.version&gt;4.10.0&lt;/selenium.version&gt;\n   &lt;/properties&gt;\n\n   &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;3.1.0&lt;/version&gt;\n   &lt;/parent&gt;\n\n   &lt;repositories&gt;\n       &lt;repository&gt;\n           &lt;id&gt;Vaadin Directory&lt;/id&gt;\n           &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n           &lt;snapshots&gt;\n               &lt;enabled&gt;false&lt;/enabled&gt;\n           &lt;/snapshots&gt;\n       &lt;/repository&gt;\n   &lt;/repositories&gt;\n\n   &lt;dependencyManagement&gt;\n       &lt;dependencies&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n               &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n               &lt;version&gt;${vaadin.version}&lt;/version&gt;\n               &lt;type&gt;pom&lt;/type&gt;\n               &lt;scope&gt;import&lt;/scope&gt;\n           &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n   &lt;/dependencyManagement&gt;\n\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n           &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n           &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n           &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.parttio&lt;/groupId&gt;\n           &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\n           &lt;version&gt;1.1.0&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n           &lt;artifactId&gt;h2&lt;/artifactId&gt;\n           &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n           &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n           &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n       &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n       &lt;plugins&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n               &lt;configuration&gt;\n                   &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5719&lt;/jvmArguments&gt;\n                   &lt;wait&gt;500&lt;/wait&gt;\n                   &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n               &lt;/configuration&gt;\n           &lt;/plugin&gt;\n\n           &lt;plugin&gt;\n               &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n               &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;${vaadin.version}&lt;/version&gt;\n               &lt;executions&gt;\n                   &lt;execution&gt;\n                       &lt;goals&gt;\n                           &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                       &lt;/goals&gt;\n                   &lt;/execution&gt;\n               &lt;/executions&gt;\n           &lt;/plugin&gt;\n       &lt;/plugins&gt;\n   &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>And what I want to achieve is this:</p>\n<p><a href=\"https://i.stack.imgur.com/Ci7w5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ci7w5.png\" alt=\"Buttons Horizontally aligned and spread with equal widths\" /></a></p>\n<p>With the .HTML code:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div style=&quot;display: flex; justify-content: center; align-items: center; height: 100vh;&quot;&gt;\n &lt;div style=&quot;width: 80%;&quot;&gt;\n     &lt;div style=&quot;display: flex; justify-content: center;&quot;&gt;\n         &lt;button style=&quot;width: 30%;&quot;&gt;Button 1&lt;/button&gt;\n         &lt;button style=&quot;width: 30%;&quot;&gt;Button 2&lt;/button&gt;\n         &lt;button style=&quot;width: 30%;&quot;&gt;Button 3&lt;/button&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","swt","listener","keylistener"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1691743719,"post_id":76881849,"comment_id":135535868,"body_markdown":"What is MTextField? That isn&#39;t standard SWT","body":"What is MTextField? That isn&#39;t standard SWT"},{"owner":{"account_id":21615206,"reputation":298,"user_id":15941120,"display_name":"Frevelman"},"score":0,"creation_date":1691743823,"post_id":76881849,"comment_id":135535885,"body_markdown":"@greg-449 ah sorry, quite new to SWT - it is a custom class that extends Text - so i assume it is a simple TextField to be honest","body":"@greg-449 ah sorry, quite new to SWT - it is a custom class that extends Text - so i assume it is a simple TextField to be honest"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1691744008,"post_id":76881849,"comment_id":135535920,"body_markdown":"You need to show us a [mre] - something that demonstrates the problem that we can actually test.","body":"You need to show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - something that demonstrates the problem that we can actually test."}],"owner":{"account_id":21615206,"reputation":298,"user_id":15941120,"display_name":"Frevelman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691742429,"creation_date":1691742429,"question_id":76881849,"body_markdown":"I have three MTextFields next to each other and i want to achieve an automatic input split when a user pastes something from the clipboard into the first text field. \r\n\r\nSo for example we have this String in the clipboard: AB1234-12345678\r\n\r\nThen the string is split into AB - 1234 - 12345678\r\n\r\nThe splitting works fine, but i get a very weird bug: \r\n\r\nAs soon as i delete the third field, then the second field and then only touch the first field with my mouse the number in the second field (1234) re-appears. Even though i used a KeyListener.. here is my code that splits the string: \r\n\r\n    public class Splitter implements KeyListener {\r\n            public void splitInputString(String input) {\r\n              input = input.replace(&quot;some replacements&quot;); \r\n              String firstPart = input.substring(0, 2);\r\n              String secondPart= input.substring(2, 6);\r\n              String thirdPart= input.substring(6, 14);\r\n        \r\n              updateDoField(firstDoField, firstPart); \r\n              updateDoField(secondDoField, secondPart); \r\n              updateDoField(thirdDoField, thirdPart); \r\n        \r\n        \r\n              updateMTextField(firstTextField, firstPart);\r\n              updateMTextField(secondTextField, secondPart);\r\n              updateMTextField(thirdTextField, thirdPart);\r\n        }\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            if ((e.keyCode == KeyIdentifier.V_KEYCODE) &amp;&amp; (e.stateMask == KeyIdentifier.CTRL_MASK)) {\r\n            splitInputString(firstTextField.getText());\r\n        }\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n            if ((e.keyCode == KeyIdentifier.V_KEYCODE) &amp;&amp; (e.stateMask == KeyIdentifier.CTRL_MASK)) {\r\n            splitInputString(firstTextField.getText());\r\n        }\r\n}\r\n\r\n\r\n\r\nAnd this class i called by following code inside another class:\r\n\r\n\r\n  \r\n\r\n      getView().getField()\r\n    .addKeyListener(new Splitter(firstMTextField, secondMTextField, thirdMTextField, 2, 6, 14, firstDoField, secondDoField, thirdDoField));\r\n\r\n\r\nI debugged the code and the amount of calls is correct, meaning that it only gets called when there is the ctrl + v event in the first text box, it is never called again so i dont understand why it fills the second text field when i modify the first (by not even a ctrl v event) ?","title":"MTextField modification updates other MTextFields","body":"<p>I have three MTextFields next to each other and i want to achieve an automatic input split when a user pastes something from the clipboard into the first text field.</p>\n<p>So for example we have this String in the clipboard: AB1234-12345678</p>\n<p>Then the string is split into AB - 1234 - 12345678</p>\n<p>The splitting works fine, but i get a very weird bug:</p>\n<p>As soon as i delete the third field, then the second field and then only touch the first field with my mouse the number in the second field (1234) re-appears. Even though i used a KeyListener.. here is my code that splits the string:</p>\n<pre><code>public class Splitter implements KeyListener {\n        public void splitInputString(String input) {\n          input = input.replace(&quot;some replacements&quot;); \n          String firstPart = input.substring(0, 2);\n          String secondPart= input.substring(2, 6);\n          String thirdPart= input.substring(6, 14);\n    \n          updateDoField(firstDoField, firstPart); \n          updateDoField(secondDoField, secondPart); \n          updateDoField(thirdDoField, thirdPart); \n    \n    \n          updateMTextField(firstTextField, firstPart);\n          updateMTextField(secondTextField, secondPart);\n          updateMTextField(thirdTextField, thirdPart);\n    }\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if ((e.keyCode == KeyIdentifier.V_KEYCODE) &amp;&amp; (e.stateMask == KeyIdentifier.CTRL_MASK)) {\n        splitInputString(firstTextField.getText());\n    }\n@Override\npublic void keyReleased(KeyEvent e) {\n        if ((e.keyCode == KeyIdentifier.V_KEYCODE) &amp;&amp; (e.stateMask == KeyIdentifier.CTRL_MASK)) {\n        splitInputString(firstTextField.getText());\n    }\n</code></pre>\n<p>}</p>\n<p>And this class i called by following code inside another class:</p>\n<pre><code>  getView().getField()\n.addKeyListener(new Splitter(firstMTextField, secondMTextField, thirdMTextField, 2, 6, 14, firstDoField, secondDoField, thirdDoField));\n</code></pre>\n<p>I debugged the code and the amount of calls is correct, meaning that it only gets called when there is the ctrl + v event in the first text box, it is never called again so i dont understand why it fills the second text field when i modify the first (by not even a ctrl v event) ?</p>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1691741442,"post_id":76881727,"comment_id":135535436,"body_markdown":"Why /*\\*\nShouldn&#39;t it be /** ?","body":"Why /** Shouldn&#39;t it be /** ?"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1691741495,"post_id":76881727,"comment_id":135535450,"body_markdown":"pretty sure there&#39;s something wrong with the code formatting here :)","body":"pretty sure there&#39;s something wrong with the code formatting here :)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691779857,"post_id":76881727,"comment_id":135542924,"body_markdown":"Does `javadoc -package GraphicObject.java Rectangle.java` work?","body":"Does <code>javadoc -package GraphicObject.java Rectangle.java</code> work?"}],"answers":[{"tags":[],"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691742387,"creation_date":1691741829,"answer_id":76881782,"question_id":76881727,"body_markdown":"The reason why the javadoc isn&#39;t showing your `Rectangle` class is because the class is package-private (i.e., it doesn&#39;t have any visibility modifier) and by default the javadoc command only shows public or protected classes. From the [documentation][2] (this is for JDK8, but it&#39;s the same in [JDK 20][3] and – I assume – all the versions in between):\r\n\r\n&gt; The javadoc command [...] produces a corresponding set of HTML pages that describe (by default) the public and protected classes, nested classes (but not anonymous inner classes), interfaces, constructors, methods, and fields\r\n\r\nYou can change this behaviour by supplying a specific option in the command line – `-package` –&#160;or by selecting the right item in the drop-down in IntelliJ.\r\n\r\nOf course, if the `Rectangle` subclass is supposed to be public, it should be moved to a dedicated new file\r\n\r\n[![dropdown][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/u17DZ.png\r\n[2]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javadoc.html\r\n[3]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/javadoc.html","title":"Subclasses are not visible in javadocs","body":"<p>The reason why the javadoc isn't showing your <code>Rectangle</code> class is because the class is package-private (i.e., it doesn't have any visibility modifier) and by default the javadoc command only shows public or protected classes. From the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javadoc.html\" rel=\"nofollow noreferrer\">documentation</a> (this is for JDK8, but it's the same in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/javadoc.html\" rel=\"nofollow noreferrer\">JDK 20</a> and – I assume – all the versions in between):</p>\n<blockquote>\n<p>The javadoc command [...] produces a corresponding set of HTML pages that describe (by default) the public and protected classes, nested classes (but not anonymous inner classes), interfaces, constructors, methods, and fields</p>\n</blockquote>\n<p>You can change this behaviour by supplying a specific option in the command line – <code>-package</code> – or by selecting the right item in the drop-down in IntelliJ.</p>\n<p>Of course, if the <code>Rectangle</code> subclass is supposed to be public, it should be moved to a dedicated new file</p>\n<p><a href=\"https://i.stack.imgur.com/u17DZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u17DZ.png\" alt=\"dropdown\" /></a></p>\n"}],"owner":{"account_id":20756699,"reputation":21,"user_id":15242959,"display_name":"yukthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691742387,"creation_date":1691741281,"question_id":76881727,"body_markdown":"I try to make **javadocs**  for an abstract  class that extends another class.but in the javadoc tree, the subclass is not visible.I used intellij-idea for done this and I got generate javadoc using **src\\&gt;javadoc GraphicObject.java**  in terminal.I want to generate the tree as,\r\n\r\n```\r\n- GraphicObject\r\n  - Rectangle \r\n```\r\n\r\nbut it shows only,\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EqdXn.png)](https://i.stack.imgur.com/EqdXn.png)\r\n\r\n```\r\n\r\n/\\*\\*\r\n\\*\r\n\\*\r\n*/\r\npublic abstract class GraphicObject {\r\n/*\\*\r\n\\* The x-coordinate of the graphic object.\r\n*/\r\nprotected int x;\r\n/*\\*\r\n\\* The y-coordinate of the graphic object.\r\n*/\r\nprotected int y;\r\n/*\\*\r\n\\* The width of the graphic object.\r\n*/\r\nprotected int width;\r\n/*\\*\r\n\\* The height of the graphic object.\r\n*/\r\nprotected int height;\r\n/*\\*\r\n\\* Constructs a new graphic object with the specified coordinates, width, and\r\n\\* height.\r\n\\*\r\n\\* @param x the x-coordinate\r\n\\* @param y the y-coordinate\r\n\\* @param width the width\r\n\\* @param height the height\r\n*/\r\npublic GraphicObject(int x, int y, int width, int height) {\r\nthis.x = x;\r\nthis.y = y;\r\nthis.width = width;\r\nthis.height = height;\r\n}\r\n/*\\*\r\n\\* Moves the graphic object to the specified coordinates.\r\n\\*\r\n\\* @param x the new x-coordinate\r\n\\* @param y the new y-coordinate\r\n\\*/\r\npublic abstract void move(int x, int y);\r\n\r\n}\r\n/\\*\\*\r\n\r\n* This is a subclass of GraphicObject that represents a rectangle.\r\n* \r\n* \r\n* @see GraphicObject &quot;This class extends GraphicObject.&quot;\r\n  \\*/\r\n  class Rectangle extends GraphicObject {\r\n  public Rectangle(int x, int y, int width, int height) {\r\n  super(x, y, width, height);\r\n  }\r\n  @Override\r\n  public void move(int x, int y) {\r\n  this.x = x;\r\n  this.y = y;\r\n  }\r\n  }\r\n```\r\n\r\n```\r\n```","title":"Subclasses are not visible in javadocs","body":"<p>I try to make <strong>javadocs</strong>  for an abstract  class that extends another class.but in the javadoc tree, the subclass is not visible.I used intellij-idea for done this and I got generate javadoc using <strong>src&gt;javadoc GraphicObject.java</strong>  in terminal.I want to generate the tree as,</p>\n<pre><code>- GraphicObject\n  - Rectangle \n</code></pre>\n<p>but it shows only,</p>\n<p><a href=\"https://i.stack.imgur.com/EqdXn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqdXn.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>\n/\\*\\*\n\\*\n\\*\n*/\npublic abstract class GraphicObject {\n/*\\*\n\\* The x-coordinate of the graphic object.\n*/\nprotected int x;\n/*\\*\n\\* The y-coordinate of the graphic object.\n*/\nprotected int y;\n/*\\*\n\\* The width of the graphic object.\n*/\nprotected int width;\n/*\\*\n\\* The height of the graphic object.\n*/\nprotected int height;\n/*\\*\n\\* Constructs a new graphic object with the specified coordinates, width, and\n\\* height.\n\\*\n\\* @param x the x-coordinate\n\\* @param y the y-coordinate\n\\* @param width the width\n\\* @param height the height\n*/\npublic GraphicObject(int x, int y, int width, int height) {\nthis.x = x;\nthis.y = y;\nthis.width = width;\nthis.height = height;\n}\n/*\\*\n\\* Moves the graphic object to the specified coordinates.\n\\*\n\\* @param x the new x-coordinate\n\\* @param y the new y-coordinate\n\\*/\npublic abstract void move(int x, int y);\n\n}\n/\\*\\*\n\n* This is a subclass of GraphicObject that represents a rectangle.\n* \n* \n* @see GraphicObject &quot;This class extends GraphicObject.&quot;\n  \\*/\n  class Rectangle extends GraphicObject {\n  public Rectangle(int x, int y, int width, int height) {\n  super(x, y, width, height);\n  }\n  @Override\n  public void move(int x, int y) {\n  this.x = x;\n  this.y = y;\n  }\n  }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","angular","kubernetes","openshift","load-balancing"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691652710,"post_id":76873457,"comment_id":135521106,"body_markdown":"You probably have an intermediate proxy somewhere that blocks large requests. Could be a size thing or a timeout thing.","body":"You probably have an intermediate proxy somewhere that blocks large requests. Could be a size thing or a timeout thing."}],"owner":{"account_id":20974385,"reputation":44,"user_id":15410820,"display_name":"Oleksandr Veretennykov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691742360,"creation_date":1691652206,"question_id":76873457,"body_markdown":"I have an Angular application that allows uploading files with FormData and the API receives it as MultipartFile in Java with Spring.\r\n\r\nwhen I try to upload files larger than 230Mb, after 3-4 min in Java throws this error: \r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed. java.io.EOFException] with root cause java.io.EOFException: null\r\n\r\nand after 1-2 min the front throws the Gateway Error 504.\r\n\r\n- Running the angular application and the API locally, it works correctly\r\n- If I deploy the API in develop environment and upload the file with Postman or Angular App in local, it works fine.\r\n- The error appears only when I deploy the Angular app and try to upload the file from the deployed app.\r\n\r\nI tried increasing the timeout in route of openshift with the property haproxy.router.openshift.io/timeout, but still the same problem. I understand that Routers only control external connections and in my case there are 2 PODs within the same cluster.\r\n\r\n    kind: Route\r\n    metadata:\r\n      annotations:\r\n        haproxy.router.openshift.io/timeout: 15m\r\n\r\nI&#39;ve spent a few days researching and trying to understand the cause of that error, but nothing comes to my mind. I understand that the problem comes from the Openshift configuration, it will have some transfer limitation.\r\n\r\nCould the problem come from the load balancer?\r\n\r\nI appreciate any help and advice. Thanks.","title":"Error when uploading large files from Angular only when it is deployed in Openshift, locally it works fine","body":"<p>I have an Angular application that allows uploading files with FormData and the API receives it as MultipartFile in Java with Spring.</p>\n<p>when I try to upload files larger than 230Mb, after 3-4 min in Java throws this error:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.impl.IOFileUploadException: Processing of multipart/form-data request failed. java.io.EOFException] with root cause java.io.EOFException: null\n</code></pre>\n<p>and after 1-2 min the front throws the Gateway Error 504.</p>\n<ul>\n<li>Running the angular application and the API locally, it works correctly</li>\n<li>If I deploy the API in develop environment and upload the file with Postman or Angular App in local, it works fine.</li>\n<li>The error appears only when I deploy the Angular app and try to upload the file from the deployed app.</li>\n</ul>\n<p>I tried increasing the timeout in route of openshift with the property haproxy.router.openshift.io/timeout, but still the same problem. I understand that Routers only control external connections and in my case there are 2 PODs within the same cluster.</p>\n<pre><code>kind: Route\nmetadata:\n  annotations:\n    haproxy.router.openshift.io/timeout: 15m\n</code></pre>\n<p>I've spent a few days researching and trying to understand the cause of that error, but nothing comes to my mind. I understand that the problem comes from the Openshift configuration, it will have some transfer limitation.</p>\n<p>Could the problem come from the load balancer?</p>\n<p>I appreciate any help and advice. Thanks.</p>\n"},{"tags":["java","minecraft","gradle-kotlin-dsl","jitpack"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691722691,"post_id":76880341,"comment_id":135533164,"body_markdown":"Please add the complete error message to your question.","body":"Please add the complete error message to your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691740527,"post_id":76880341,"comment_id":135535295,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29203101,"reputation":1,"user_id":22372755,"display_name":"YufiriaMazenta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691742276,"creation_date":1691720581,"question_id":76880341,"body_markdown":"My project can be built normally locally, but it cannot be built successfully on jitpack\r\n\r\njitpack build log:https://jitpack.io/com/github/YufiriaMazenta/CrypticLib/3daacc7198/build.log\r\n\r\nThis is my repository:https://github.com/YufiriaMazenta/CrypticLib\r\n\r\n\r\nI tried to modify the build method of folia to runtimeOnly, but it failed to compile\r\n\r\nI want it to compile successfully on jitpack\r\n\r\nbuild.gradle.kts:\r\n\r\n```\r\njava.sourceCompatibility = JavaVersion.VERSION_1_8\r\njava.targetCompatibility = JavaVersion.VERSION_1_8\r\ngroup = &quot;com.github.yufiriamazenta&quot;\r\nversion = &quot;1.0.0-dev11&quot;\r\n\r\nplugins {\r\n    `java-library`\r\n    `maven-publish`\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven(&quot;https://repo.rosewooddev.io/repository/public/&quot;)//提供spigot\r\n    maven(&quot;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&quot;)\r\n    maven(&quot;https://repo.extendedclip.com/content/repositories/placeholderapi/&quot;)\r\n    maven(&quot;https://repo.papermc.io/repository/maven-public/&quot;)\r\n    maven(&quot;https://jitpack.io&quot;)\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compileOnly(&quot;org.jetbrains:annotations:24.0.1&quot;)\r\n    compileOnly(&quot;net.md-5:bungeecord-chat:1.16-R0.4&quot;)\r\n    compileOnly(&quot;net.kyori:adventure-api:4.14.0&quot;)\r\n    compileOnly(&quot;org.spigotmc:spigot:1.20&quot;)\r\n    compileOnly(&quot;dev.folia:folia-api:1.20.1-R0.1-SNAPSHOT&quot;) {\r\n        targetConfiguration = &quot;runtime&quot;\r\n    }\r\n    compileOnly(&quot;me.clip:placeholderapi:2.11.1&quot;)\r\n}\r\n\r\ntasks.withType(JavaCompile::class.java) {\r\n    options.encoding = &quot;UTF-8&quot;\r\n}\r\n\r\npublishing {\r\n    publications.create&lt;MavenPublication&gt;(&quot;maven&quot;) {\r\n        from(components[&quot;java&quot;])\r\n    }\r\n}\r\n\r\n```\r\ncomplete error message:\r\n```\r\nBuild starting...\r\nStart: Fri Aug 11 01:15:29 UTC 2023 a8f97c3ab000\r\nGit:\r\n3daacc7\r\ncommit 3daacc71988813cf72411a3e272441b99167434b\r\nAuthor: ChiyodaXiaoYi \r\nDate:   Fri Aug 11 09:14:37 2023 +0800\r\n\r\n    尝试修复Jitpack构建错误\r\n\r\n\r\nInit SDKMan\r\nRunning before_install command:\r\nsdk install java 17.0.7-oracle;sdk use java 17.0.7-oracle\r\n[1;33mWe periodically need to update the local cache. Please run:[0m\r\n\r\n  $ sdk update\r\n\r\n[1;36mBroadcasts discontinued. Please follow @sdkman_ on Twitter for announcements.[0m\r\n\r\nDownloading: java 17.0.7-oracle\r\n\r\nIn progress...\r\n\r\n\r\n###                                                                        4.3%\r\n#######                                                                   10.7%\r\n############                                                              17.1%\r\n################                                                          23.5%\r\n#####################                                                     29.9%\r\n##########################                                                36.3%\r\n##############################                                            42.6%\r\n###################################                                       49.0%\r\n#######################################                                   55.4%\r\n############################################                              61.8%\r\n#################################################                         68.2%\r\n#####################################################                     74.6%\r\n##########################################################                81.0%\r\n##############################################################            87.4%\r\n###################################################################       93.8%\r\n#######################################################################  100.0%\r\n######################################################################## 100.0%\r\n\r\nRepackaging Java 17.0.7-oracle...\r\n\r\nDone repackaging...\r\n\r\n[1;32mInstalling: java 17.0.7-oracle[0m\r\n[1;32mDone installing![0m\r\n\r\n\r\n[1;32mSetting java 17.0.7-oracle as default.[0m\r\n[1;33mWe periodically need to update the local cache. Please run:[0m\r\n\r\n  $ sdk update\r\n\r\n\r\n[1;32mUsing java version 17.0.7-oracle in this shell.[0m\r\nFound gradle\r\nGradle build script\r\nFound gradle version: 7.3.3.\r\nUsing gradle wrapper\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nDownloading https://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n.10%.20%.30%.40%.50%.60%.70%.80%.90%.100%\r\n\r\n------------------------------------------------------------\r\nGradle 7.3.3\r\n------------------------------------------------------------\r\n\r\nBuild time:   2021-12-22 12:37:54 UTC\r\nRevision:     6f556c80f945dc54b50e0be633da6c62dbe8dc71\r\n\r\nKotlin:       1.5.31\r\nGroovy:       3.0.9\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.7 (Oracle Corporation 17.0.7+8-LTS-224)\r\nOS:           Linux 4.10.0-28-generic amd64\r\n\r\n0m3.084s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\njava version &quot;17.0.7&quot; 2023-04-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing)\r\nGetting tasks: ./gradlew tasks --all\r\nTasks: publishToMavenLocal,\r\nFound javadoc task\r\nRunning: ./gradlew clean -Pgroup=com.github.YufiriaMazenta -Pversion=3daacc7198 -xtest assemble publishToMavenLocal\r\n&gt; Task :clean UP-TO-DATE\r\n&gt; Task :compileJava FAILED\r\n2 actionable tasks: 1 executed, 1 up-to-date\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve dev.folia:folia-api:1.20.1-R0.1-SNAPSHOT.\r\n     Required by:\r\n         project :\r\n      &gt; Project : declares a dependency from configuration &#39;compileOnly&#39; to configuration &#39;runtime&#39; which is not declared in the descriptor for dev.folia:folia-api:1.20.1-R0.1-SNAPSHOT:20230809.225802-16.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nArchive: com.github.yufiriamazenta:CrypticLib:1.0.0-dev11\r\nPublication: com.github.yufiriamazenta:CrypticLib:1.0.0-dev11\r\nBuild tool exit code: 0\r\nLooking for artifacts...\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nLooking for pom.xml in build directory and ~/.m2\r\nFound artifact: com.github.yufiriamazenta:CrypticLib:1.0.0-dev11\r\n2023-08-11T01:16:25.837070738Z\r\nExit code: 0\r\n\r\n⚠️ ERROR: No build artifacts found\r\nExpected artifacts in: $HOME/.m2/repository/com/github/yufiriamazenta/CrypticLib/1.0.0-dev11\r\n\r\n```\r\n","title":"declares a dependency from configuration &#39;compileOnly&#39; to configuration &#39;runtime&#39; which is not declared in the descriptor for","body":"<p>My project can be built normally locally, but it cannot be built successfully on jitpack</p>\n<p>jitpack build log:<a href=\"https://jitpack.io/com/github/YufiriaMazenta/CrypticLib/3daacc7198/build.log\" rel=\"nofollow noreferrer\">https://jitpack.io/com/github/YufiriaMazenta/CrypticLib/3daacc7198/build.log</a></p>\n<p>This is my repository:<a href=\"https://github.com/YufiriaMazenta/CrypticLib\" rel=\"nofollow noreferrer\">https://github.com/YufiriaMazenta/CrypticLib</a></p>\n<p>I tried to modify the build method of folia to runtimeOnly, but it failed to compile</p>\n<p>I want it to compile successfully on jitpack</p>\n<p>build.gradle.kts:</p>\n<pre><code>java.sourceCompatibility = JavaVersion.VERSION_1_8\njava.targetCompatibility = JavaVersion.VERSION_1_8\ngroup = &quot;com.github.yufiriamazenta&quot;\nversion = &quot;1.0.0-dev11&quot;\n\nplugins {\n    `java-library`\n    `maven-publish`\n}\n\nrepositories {\n    mavenLocal()\n    maven(&quot;https://repo.rosewooddev.io/repository/public/&quot;)//提供spigot\n    maven(&quot;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&quot;)\n    maven(&quot;https://repo.extendedclip.com/content/repositories/placeholderapi/&quot;)\n    maven(&quot;https://repo.papermc.io/repository/maven-public/&quot;)\n    maven(&quot;https://jitpack.io&quot;)\n    mavenCentral()\n}\n\ndependencies {\n    compileOnly(&quot;org.jetbrains:annotations:24.0.1&quot;)\n    compileOnly(&quot;net.md-5:bungeecord-chat:1.16-R0.4&quot;)\n    compileOnly(&quot;net.kyori:adventure-api:4.14.0&quot;)\n    compileOnly(&quot;org.spigotmc:spigot:1.20&quot;)\n    compileOnly(&quot;dev.folia:folia-api:1.20.1-R0.1-SNAPSHOT&quot;) {\n        targetConfiguration = &quot;runtime&quot;\n    }\n    compileOnly(&quot;me.clip:placeholderapi:2.11.1&quot;)\n}\n\ntasks.withType(JavaCompile::class.java) {\n    options.encoding = &quot;UTF-8&quot;\n}\n\npublishing {\n    publications.create&lt;MavenPublication&gt;(&quot;maven&quot;) {\n        from(components[&quot;java&quot;])\n    }\n}\n\n</code></pre>\n<p>complete error message:</p>\n<pre><code>Build starting...\nStart: Fri Aug 11 01:15:29 UTC 2023 a8f97c3ab000\nGit:\n3daacc7\ncommit 3daacc71988813cf72411a3e272441b99167434b\nAuthor: ChiyodaXiaoYi \nDate:   Fri Aug 11 09:14:37 2023 +0800\n\n    尝试修复Jitpack构建错误\n\n\nInit SDKMan\nRunning before_install command:\nsdk install java 17.0.7-oracle;sdk use java 17.0.7-oracle\n[1;33mWe periodically need to update the local cache. Please run:[0m\n\n  $ sdk update\n\n[1;36mBroadcasts discontinued. Please follow @sdkman_ on Twitter for announcements.[0m\n\nDownloading: java 17.0.7-oracle\n\nIn progress...\n\n\n###                                                                        4.3%\n#######                                                                   10.7%\n############                                                              17.1%\n################                                                          23.5%\n#####################                                                     29.9%\n##########################                                                36.3%\n##############################                                            42.6%\n###################################                                       49.0%\n#######################################                                   55.4%\n############################################                              61.8%\n#################################################                         68.2%\n#####################################################                     74.6%\n##########################################################                81.0%\n##############################################################            87.4%\n###################################################################       93.8%\n#######################################################################  100.0%\n######################################################################## 100.0%\n\nRepackaging Java 17.0.7-oracle...\n\nDone repackaging...\n\n[1;32mInstalling: java 17.0.7-oracle[0m\n[1;32mDone installing![0m\n\n\n[1;32mSetting java 17.0.7-oracle as default.[0m\n[1;33mWe periodically need to update the local cache. Please run:[0m\n\n  $ sdk update\n\n\n[1;32mUsing java version 17.0.7-oracle in this shell.[0m\nFound gradle\nGradle build script\nFound gradle version: 7.3.3.\nUsing gradle wrapper\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nDownloading https://services.gradle.org/distributions/gradle-7.3.3-bin.zip\n.10%.20%.30%.40%.50%.60%.70%.80%.90%.100%\n\n------------------------------------------------------------\nGradle 7.3.3\n------------------------------------------------------------\n\nBuild time:   2021-12-22 12:37:54 UTC\nRevision:     6f556c80f945dc54b50e0be633da6c62dbe8dc71\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.7 (Oracle Corporation 17.0.7+8-LTS-224)\nOS:           Linux 4.10.0-28-generic amd64\n\n0m3.084s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\njava version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing)\nGetting tasks: ./gradlew tasks --all\nTasks: publishToMavenLocal,\nFound javadoc task\nRunning: ./gradlew clean -Pgroup=com.github.YufiriaMazenta -Pversion=3daacc7198 -xtest assemble publishToMavenLocal\n&gt; Task :clean UP-TO-DATE\n&gt; Task :compileJava FAILED\n2 actionable tasks: 1 executed, 1 up-to-date\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve dev.folia:folia-api:1.20.1-R0.1-SNAPSHOT.\n     Required by:\n         project :\n      &gt; Project : declares a dependency from configuration 'compileOnly' to configuration 'runtime' which is not declared in the descriptor for dev.folia:folia-api:1.20.1-R0.1-SNAPSHOT:20230809.225802-16.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nArchive: com.github.yufiriamazenta:CrypticLib:1.0.0-dev11\nPublication: com.github.yufiriamazenta:CrypticLib:1.0.0-dev11\nBuild tool exit code: 0\nLooking for artifacts...\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nLooking for pom.xml in build directory and ~/.m2\nFound artifact: com.github.yufiriamazenta:CrypticLib:1.0.0-dev11\n2023-08-11T01:16:25.837070738Z\nExit code: 0\n\n⚠️ ERROR: No build artifacts found\nExpected artifacts in: $HOME/.m2/repository/com/github/yufiriamazenta/CrypticLib/1.0.0-dev11\n\n</code></pre>\n"},{"tags":["java","apache-camel","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691742094,"creation_date":1691742094,"answer_id":76881816,"question_id":76829048,"body_markdown":"The [MQ documentation][1] tells how to get a message with the REST API. It is by using a DELETE request (which is appropriate as it destructively gets the message).\r\nYou say you receive an error indicating your app doesn&#39;t have access to the queue. Maybe you have only be granted to put a message to this queue. The documentation referenced above also tells what authorization you need to get a message.\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.3?topic=api-getting-started-messaging-rest","title":"How do I &#39;get&#39; messages from MQ using Apache camel?","body":"<p>The <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=api-getting-started-messaging-rest\" rel=\"nofollow noreferrer\">MQ documentation</a> tells how to get a message with the REST API. It is by using a DELETE request (which is appropriate as it destructively gets the message).\nYou say you receive an error indicating your app doesn't have access to the queue. Maybe you have only be granted to put a message to this queue. The documentation referenced above also tells what authorization you need to get a message.</p>\n"}],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691742094,"creation_date":1691072801,"question_id":76829048,"body_markdown":"I have created an application which I can use to put messages on MQ. This is a REST api created with Springboot and Apache Camel.\r\nNow I want to create an application which gets the messages that are on MQ. The problem is that I can&#39;t find any documentation or examples.\r\n\r\nI thought first it would just be a matter of recreating the API, but with a get method. The problem is that the I then receive an error that my app doesn&#39;t have access to the queue and I don&#39;t receive any messages back.\r\n\r\nDoes anyone has experience with this or can guide me to docs/examples?\r\nI tried looking for it on Stackoverflow but I only see Post examples.","title":"How do I &#39;get&#39; messages from MQ using Apache camel?","body":"<p>I have created an application which I can use to put messages on MQ. This is a REST api created with Springboot and Apache Camel.\nNow I want to create an application which gets the messages that are on MQ. The problem is that I can't find any documentation or examples.</p>\n<p>I thought first it would just be a matter of recreating the API, but with a get method. The problem is that the I then receive an error that my app doesn't have access to the queue and I don't receive any messages back.</p>\n<p>Does anyone has experience with this or can guide me to docs/examples?\nI tried looking for it on Stackoverflow but I only see Post examples.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1691741150,"post_id":76881687,"comment_id":135535392,"body_markdown":"I would say that best practise is to not rewritten different json structures from the same endpoint, because it makes it nearly impossible to write a client. Instead you should use 404 if not found. And skip the success parameter, that is what http status codes are for.","body":"I would say that best practise is to not rewritten different json structures from the same endpoint, because it makes it nearly impossible to write a client. Instead you should use 404 if not found. And skip the success parameter, that is what http status codes are for."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691741468,"post_id":76881687,"comment_id":135535444,"body_markdown":"@AndreasLundgren I disagree. Having a generic wrapper with some always-relevant response fields, and a different-per-endpoint response field, and an error field, is perfectly fine. In fact, it&#39;s exactly what the StackExchange API does. The only thing I&#39;d do differently from what&#39;s described in the question, is you should still return the right status code. So no 200 OK for errors.","body":"@AndreasLundgren I disagree. Having a generic wrapper with some always-relevant response fields, and a different-per-endpoint response field, and an error field, is perfectly fine. In fact, it&#39;s exactly what the StackExchange API does. The only thing I&#39;d do differently from what&#39;s described in the question, is you should still return the right status code. So no 200 OK for errors."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691741793,"creation_date":1691741793,"answer_id":76881776,"question_id":76881687,"body_markdown":"What you are describing is basically a wrapper object for all API responses, be they error or success. Imagine a structure like this:\r\n\r\n```\r\nclass ApiResponse&lt;T&gt; {\r\n  boolean success;\r\n  T result;\r\n  ErrorDetails error;\r\n}\r\n```\r\n\r\nNow you can simply return an `ApiResponse&lt;T&gt;` from every endpoint, where `T` is the success result type. If the response is an error, set `error=true` and fill in the error details. Leave the `result` field `null`. And the other way around for success responses. You can even configure your JSON serializer to omit `null` fields, which will result in exactly the JSON suggested in the question.\r\n\r\nEven when you use this, I&#39;d still recommend using the right HTTP status codes. So a 200-range code for responses with `success=true` and a 400 or 500 range code for responses with `success=false`.\r\n\r\nNote that the [StackExchange API](https://api.stackexchange.com/docs/wrapper)  has a very similar structure.","title":"Spring boot REST, handling business logic in the Service or Controller layer?","body":"<p>What you are describing is basically a wrapper object for all API responses, be they error or success. Imagine a structure like this:</p>\n<pre><code>class ApiResponse&lt;T&gt; {\n  boolean success;\n  T result;\n  ErrorDetails error;\n}\n</code></pre>\n<p>Now you can simply return an <code>ApiResponse&lt;T&gt;</code> from every endpoint, where <code>T</code> is the success result type. If the response is an error, set <code>error=true</code> and fill in the error details. Leave the <code>result</code> field <code>null</code>. And the other way around for success responses. You can even configure your JSON serializer to omit <code>null</code> fields, which will result in exactly the JSON suggested in the question.</p>\n<p>Even when you use this, I'd still recommend using the right HTTP status codes. So a 200-range code for responses with <code>success=true</code> and a 400 or 500 range code for responses with <code>success=false</code>.</p>\n<p>Note that the <a href=\"https://api.stackexchange.com/docs/wrapper\">StackExchange API</a>  has a very similar structure.</p>\n"}],"owner":{"account_id":29204480,"reputation":33,"user_id":22373879,"display_name":"James Work account"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76881776,"answer_count":1,"score":1,"last_activity_date":1691741793,"creation_date":1691740828,"question_id":76881687,"body_markdown":"I have a `Cake` resource.\r\n\r\nMy Spring Boot @RestController exposes a GET endpoint that takes a String PathVariable, `cakeName`.\r\n\r\nOn receiving a request, my expected server behaviour is:\r\n\r\n\\-Checking if this `cakeName` already exists in my database table. If it exists, response with status 200, and response body is in the shape of `{  &quot;success&quot; &quot;true&quot;, &quot;result&quot;: { &quot;name&quot;: &quot;chocolate&quot;, &quot;calories&quot;: 123 }}`. If it doesn&#39;t exist, response with status 200, return a json in the shape `{ &quot;success&quot;: &quot;false&quot;, &quot;message&quot;: &quot;null&quot; }`\r\n\r\nThe problem is I need my 1 service method to return 2 potential different shape of JSON.\r\n\r\n1. For best practice in current year, Should the Service or controller layer handle the checking of existing string in DB and other business logic?\r\n\r\n2. How to handle 1 service method returning 2 differently shaped JSON bodies?\r\n\r\nI have tried the following, but I am trying to avoid raising errors in my http response. \r\n\r\nhttps://stackoverflow.com/questions/38117717/what-is-the-best-way-to-return-different-types-of-responseentity-in-spring-boot","title":"Spring boot REST, handling business logic in the Service or Controller layer?","body":"<p>I have a <code>Cake</code> resource.</p>\n<p>My Spring Boot @RestController exposes a GET endpoint that takes a String PathVariable, <code>cakeName</code>.</p>\n<p>On receiving a request, my expected server behaviour is:</p>\n<p>-Checking if this <code>cakeName</code> already exists in my database table. If it exists, response with status 200, and response body is in the shape of <code>{  &quot;success&quot; &quot;true&quot;, &quot;result&quot;: { &quot;name&quot;: &quot;chocolate&quot;, &quot;calories&quot;: 123 }}</code>. If it doesn't exist, response with status 200, return a json in the shape <code>{ &quot;success&quot;: &quot;false&quot;, &quot;message&quot;: &quot;null&quot; }</code></p>\n<p>The problem is I need my 1 service method to return 2 potential different shape of JSON.</p>\n<ol>\n<li><p>For best practice in current year, Should the Service or controller layer handle the checking of existing string in DB and other business logic?</p>\n</li>\n<li><p>How to handle 1 service method returning 2 differently shaped JSON bodies?</p>\n</li>\n</ol>\n<p>I have tried the following, but I am trying to avoid raising errors in my http response.</p>\n<p><a href=\"https://stackoverflow.com/questions/38117717/what-is-the-best-way-to-return-different-types-of-responseentity-in-spring-boot\">What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)</a></p>\n"},{"tags":["java","android","kotlin","user-interface"],"owner":{"account_id":29204774,"reputation":1,"user_id":22374125,"display_name":"INSAAF SULAIMAANSA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691741657,"creation_date":1691741657,"question_id":76881766,"body_markdown":"I’ve doubt regarding UI in android studio \r\nGot a task and need to achieve it \r\nHere I’m mentimoning my problem description as follows :\r\n— i want to create custom camera how Snapchat and Instagram works \r\n- in that I need to know specific design where the scroll between filters in their custom camera \r\n\r\nI’ve created my custom cameraX library and tried using viewpager,horizon table scroll view , custom guesture detection \r\nNothing works out ","title":"Customising scroll view action inside cameraX library","body":"<p>I’ve doubt regarding UI in android studio\nGot a task and need to achieve it\nHere I’m mentimoning my problem description as follows :\n— i want to create custom camera how Snapchat and Instagram works</p>\n<ul>\n<li>in that I need to know specific design where the scroll between filters in their custom camera</li>\n</ul>\n<p>I’ve created my custom cameraX library and tried using viewpager,horizon table scroll view , custom guesture detection\nNothing works out</p>\n"},{"tags":["java","odata","olingo"],"comments":[{"owner":{"account_id":6118821,"reputation":962,"user_id":7231339,"display_name":"Michael Sch&#246;nbauer"},"score":0,"creation_date":1691739796,"post_id":76874854,"comment_id":135535162,"body_markdown":"can you provide us with the  $metadata of this service?\n(https://ldcioid.devsys.net.sap:44300/sap/opu/odata/BTL/TRUI_TU_CFP_MAINT_O2/$metadata)","body":"can you provide us with the  $metadata of this service? (<a href=\"https://ldcioid.devsys.net.sap:44300/sap/opu/odata/BTL/TRUI_TU_CFP_MAINT_O2/$metadata\" rel=\"nofollow noreferrer\">ldcioid.devsys.net.sap:44300/sap/opu/odata/BTL/&hellip;</a>)"},{"owner":{"account_id":2542666,"reputation":11,"user_id":2208151,"display_name":"Alexander Grischenko"},"score":0,"creation_date":1691741488,"post_id":76874854,"comment_id":135535448,"body_markdown":"Here is the link for the $metadata of the service - https://github.com/alexgris/odate_edmx/blob/main/README.md?plain=1","body":"Here is the link for the $metadata of the service - <a href=\"https://github.com/alexgris/odate_edmx/blob/main/README.md?plain=1\" rel=\"nofollow noreferrer\">github.com/alexgris/odate_edmx/blob/main/README.md?plain=1</a>"},{"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"score":0,"creation_date":1693936986,"post_id":76874854,"comment_id":135824551,"body_markdown":"The OData client looks a bit unfamiliar, from olingo. Can you please confirm which version of OData Client are you using. Is it Olingo or somethign else like SAP SDK?","body":"The OData client looks a bit unfamiliar, from olingo. Can you please confirm which version of OData Client are you using. Is it Olingo or somethign else like SAP SDK?"}],"owner":{"account_id":2542666,"reputation":11,"user_id":2208151,"display_name":"Alexander Grischenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691741438,"creation_date":1691663142,"question_id":76874854,"body_markdown":"My task is to (using Java):\r\n\r\n1) Call OData v2 service by a given URL (e.g. &quot;&lt;domain_URL&gt;:&lt;port&gt;/sap/TRUI_TU_ CFP_MAINT_02&quot;);\r\n2) Find the entity &quot;xBTLxTRP_TU_CFP&quot; and its property &quot;CapEngine&quot;;\r\n3) Retrieve the value for the property &quot;CapEngine&quot;;\r\n4) Change the current value of the property &quot;CapEngine&quot; from &quot;15.000&quot; to &quot;22.000&quot; and then to post the changes back to server.\r\n\r\nI was able to implement steps from 1 to 3 successfully.\r\nBut I need a solution on how to correctly implement the last step 4 (i.e. first to set the desired value, and then to post changes).\r\n\r\nThe OData entity schema looks like this:\r\n```\r\n&lt;entry xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;\r\n  &lt;id&gt;...&lt;/id&gt;\r\n  &lt;title type=&quot;text&quot;&gt;...&lt;/title&gt;\r\n  &lt;updated&gt;...&lt;/updated&gt;\r\n  &lt;category .../&gt;\r\n  &lt;link href=&quot;...&quot; rel=&quot;edit&quot; title=&quot;xBTLxTRP_TU_CFPType&quot; /&gt;\r\n  &lt;content type=&quot;application/xml&quot;&gt;\r\n    &lt;m:properties&gt;\r\n      &lt;d:ObjectNr&gt;IEIKLWARC&lt;/d:ObjectNr&gt;\r\n      &lt;d:EquipmentNr&gt;IKLWARC&lt;/d:EquipmentNr&gt;\r\n      &lt;d:TuId&gt;fa163e34-7b50-1ee9-a4b3-03065d395f68&lt;/d:TuId&gt;\r\n      &lt;d:MaintainedFlag&gt;X&lt;/d:MaintainedFlag&gt;\r\n      &lt;d:EngineCap&gt;15.000&lt;/d:EngineCap&gt;\r\n      &lt;d:CapUnit&gt;L&lt;/d:CapUnit&gt;\r\n      &lt;d:PrimaryFuel&gt;DIESEL&lt;/d:PrimaryFuel&gt;\r\n      &lt;d:EngineType&gt;COMBUSTION&lt;/d:EngineType&gt;\r\n      &lt;d:AverageConsumption&gt;20.0&lt;/d:AverageConsumption&gt;\r\n      &lt;d:BioFuelRatio&gt;0.0&lt;/d:BioFuelRatio&gt;\r\n      &lt;d:ConsumptionUnit&gt;LHK&lt;/d:ConsumptionUnit&gt;\r\n      &lt;d:EmissionStandard&gt;EURO_5&lt;/d:EmissionStandard&gt;\r\n      &lt;d:EmissionTechnology&gt;NONE&lt;/d:EmissionTechnology&gt;\r\n      &lt;d:ParticleFilter&gt;DPF&lt;/d:ParticleFilter&gt;\r\n    &lt;/m:properties&gt;\r\n  &lt;/content&gt;\r\n&lt;/entry&gt;\r\n```\r\n\r\nHere is the Java code for steps from **1 to 3**:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        String serviceUrl = &quot;https://ldcioid.devsys.net.sap:44300/sap/opu/odata/BTL/TRUI_TU_CFP_MAINT_O2&quot;;\r\n        String entitySet = &quot;xBTLxTRP_TU_CFP/?sap-client=200&quot;; \r\n        String propertyToUpdate = &quot;PropertyName&quot;;\r\n        ODataV2EntityIterator entityIterator = new ODataV2EntityIterator(serviceUrl, entitySet);\r\n\r\n        try {\r\n            for (ClientEntity entity : entityIterator) {\r\n                // Access entity properties as needed\r\n                String value1 = entity.getProperty(&quot;ObjectNr&quot;).getValue().toString();\r\n                if (value1.equals(&quot;IEIKLWARC&quot;)) {\r\n                    System.out.println(&quot;Object Number &#39;IEIKLWARC&#39; was found.&quot;);\r\n                    for (ClientProperty prop : entity.getProperties()) {\r\n                        Object propertyValue = prop.getName();\r\n                        if (propertyValue.equals(&quot;EngineCap&quot;)) {\r\n                            System.out.println(&quot;The value of &#39;EngineCap&#39; property is: &quot; + entity.getProperty(prop.getName()).getValue());\r\n                        }\r\n                    }\r\n                }\r\n                //iterate through each property of the current entity and read the property&#39;s name and value\r\n                for (ClientProperty prop2 : entity.getProperties()) {\r\n                    System.out.println(prop2.getName().toString() + &quot;: &quot; + entity.getProperty(prop2.getName()).getValue());\r\n                }\r\n                System.out.println(&quot;-----------------------&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error while reading the properties of xBTLxTRP_TU_CFP entity: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nThe $metadata for the odata service can be viewed by this link:\r\nhttps://github.com/alexgris/odate_edmx/blob/main/README.md?plain=1\r\n\r\nSo, the long story short, I need a solution on how to correctly implement the last **step 4** (i.e. first to set the desired value for an entity property, and then to post changes).","title":"How to change entity property value of OData v2 service and post it back to server from Java?","body":"<p>My task is to (using Java):</p>\n<ol>\n<li>Call OData v2 service by a given URL (e.g. &quot;&lt;domain_URL&gt;:/sap/TRUI_TU_ CFP_MAINT_02&quot;);</li>\n<li>Find the entity &quot;xBTLxTRP_TU_CFP&quot; and its property &quot;CapEngine&quot;;</li>\n<li>Retrieve the value for the property &quot;CapEngine&quot;;</li>\n<li>Change the current value of the property &quot;CapEngine&quot; from &quot;15.000&quot; to &quot;22.000&quot; and then to post the changes back to server.</li>\n</ol>\n<p>I was able to implement steps from 1 to 3 successfully.\nBut I need a solution on how to correctly implement the last step 4 (i.e. first to set the desired value, and then to post changes).</p>\n<p>The OData entity schema looks like this:</p>\n<pre><code>&lt;entry xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;\n  &lt;id&gt;...&lt;/id&gt;\n  &lt;title type=&quot;text&quot;&gt;...&lt;/title&gt;\n  &lt;updated&gt;...&lt;/updated&gt;\n  &lt;category .../&gt;\n  &lt;link href=&quot;...&quot; rel=&quot;edit&quot; title=&quot;xBTLxTRP_TU_CFPType&quot; /&gt;\n  &lt;content type=&quot;application/xml&quot;&gt;\n    &lt;m:properties&gt;\n      &lt;d:ObjectNr&gt;IEIKLWARC&lt;/d:ObjectNr&gt;\n      &lt;d:EquipmentNr&gt;IKLWARC&lt;/d:EquipmentNr&gt;\n      &lt;d:TuId&gt;fa163e34-7b50-1ee9-a4b3-03065d395f68&lt;/d:TuId&gt;\n      &lt;d:MaintainedFlag&gt;X&lt;/d:MaintainedFlag&gt;\n      &lt;d:EngineCap&gt;15.000&lt;/d:EngineCap&gt;\n      &lt;d:CapUnit&gt;L&lt;/d:CapUnit&gt;\n      &lt;d:PrimaryFuel&gt;DIESEL&lt;/d:PrimaryFuel&gt;\n      &lt;d:EngineType&gt;COMBUSTION&lt;/d:EngineType&gt;\n      &lt;d:AverageConsumption&gt;20.0&lt;/d:AverageConsumption&gt;\n      &lt;d:BioFuelRatio&gt;0.0&lt;/d:BioFuelRatio&gt;\n      &lt;d:ConsumptionUnit&gt;LHK&lt;/d:ConsumptionUnit&gt;\n      &lt;d:EmissionStandard&gt;EURO_5&lt;/d:EmissionStandard&gt;\n      &lt;d:EmissionTechnology&gt;NONE&lt;/d:EmissionTechnology&gt;\n      &lt;d:ParticleFilter&gt;DPF&lt;/d:ParticleFilter&gt;\n    &lt;/m:properties&gt;\n  &lt;/content&gt;\n&lt;/entry&gt;\n</code></pre>\n<p>Here is the Java code for steps from <strong>1 to 3</strong>:</p>\n<pre><code>public static void main(String[] args) {\n        String serviceUrl = &quot;https://ldcioid.devsys.net.sap:44300/sap/opu/odata/BTL/TRUI_TU_CFP_MAINT_O2&quot;;\n        String entitySet = &quot;xBTLxTRP_TU_CFP/?sap-client=200&quot;; \n        String propertyToUpdate = &quot;PropertyName&quot;;\n        ODataV2EntityIterator entityIterator = new ODataV2EntityIterator(serviceUrl, entitySet);\n\n        try {\n            for (ClientEntity entity : entityIterator) {\n                // Access entity properties as needed\n                String value1 = entity.getProperty(&quot;ObjectNr&quot;).getValue().toString();\n                if (value1.equals(&quot;IEIKLWARC&quot;)) {\n                    System.out.println(&quot;Object Number 'IEIKLWARC' was found.&quot;);\n                    for (ClientProperty prop : entity.getProperties()) {\n                        Object propertyValue = prop.getName();\n                        if (propertyValue.equals(&quot;EngineCap&quot;)) {\n                            System.out.println(&quot;The value of 'EngineCap' property is: &quot; + entity.getProperty(prop.getName()).getValue());\n                        }\n                    }\n                }\n                //iterate through each property of the current entity and read the property's name and value\n                for (ClientProperty prop2 : entity.getProperties()) {\n                    System.out.println(prop2.getName().toString() + &quot;: &quot; + entity.getProperty(prop2.getName()).getValue());\n                }\n                System.out.println(&quot;-----------------------&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Error while reading the properties of xBTLxTRP_TU_CFP entity: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>The $metadata for the odata service can be viewed by this link:\n<a href=\"https://github.com/alexgris/odate_edmx/blob/main/README.md?plain=1\" rel=\"nofollow noreferrer\">https://github.com/alexgris/odate_edmx/blob/main/README.md?plain=1</a></p>\n<p>So, the long story short, I need a solution on how to correctly implement the last <strong>step 4</strong> (i.e. first to set the desired value for an entity property, and then to post changes).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1691741991,"post_id":76881740,"comment_id":135535522,"body_markdown":"Don&#39;t mix Multipart and JSON. Those are different types. You either send a multipart-type response, or a JSON-type response. Of course, you could send JSON as *one part of* a multipart response, but I don&#39;t think that&#39;s what you are asking.","body":"Don&#39;t mix Multipart and JSON. Those are different types. You either send a multipart-type response, or a JSON-type response. Of course, you could send JSON as <i>one part of</i> a multipart response, but I don&#39;t think that&#39;s what you are asking."}],"owner":{"account_id":9892593,"reputation":633,"user_id":7325117,"accept_rate":100,"display_name":"EmreAkkoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691741389,"creation_date":1691741389,"question_id":76881740,"body_markdown":"I&#39;m currently writing integration tests for a Spring application, and I&#39;ve come across an issue while trying to test a POST request using a custom DTO that includes a field of type MultipartFile. The DTO represents a request payload for creating a field in a farm, and one of the fields is a boundary file of type MultipartFile.\r\n\r\nHere&#39;s a simplified version of my DTO class:\r\n```\r\n@Data\r\n@MappedSuperclass\r\n@EqualsAndHashCode\r\npublic class CreateSomethingRequestDto {\r\n    // Other fields...\r\n    \r\n    @Schema(description = &quot;Boundary file for the something&quot;, name = &quot;boundaryFile&quot;, required = true)\r\n    private MultipartFile boundaryFile;\r\n}\r\n```\r\nIn my integration test, I&#39;m trying to create a JSON representation of the DTO using the toJson method, but I&#39;m facing an issue with serializing the MultipartFile field. Here&#39;s the relevant part of the test:\r\n```\r\n@Test\r\nvoid create_somethingDoesNotExist_returnsWithStatusNotFound() throws Exception {\r\n    // GIVEN\r\n    CustomUserImpl customUser = new CustomUserImpl(savedAccount1);\r\n    MockMultipartFile mockMultipartFile =\r\n        new MockMultipartFile(\r\n            &quot;boundaryFile&quot;, &quot;filename.txt&quot;, &quot;text/plain&quot;, &quot;filecontent&quot;.getBytes());\r\n\r\n    CreateSomethingRequestDto createSomethingRequestDto =\r\n        createSomethingRequest().setBoundaryFile(mockMultipartFile).setAnotherId(UUID.randomUUID());\r\n    String json = toJson(createSomethingRequestDto);\r\n\r\n    // WHEN\r\n    mvc.perform(post(&quot;/somethings&quot;).with(user(customUser)).contentType(APPLICATION_JSON).content(json))\r\n        .andExpect(status().isNotFound());\r\n}\r\n```\r\nHowever, the test fails because the MultipartFile cannot be serialized to JSON using the toJson method.\r\n\r\nHow can I properly serialize the MultipartFile field in the DTO to JSON for testing purposes while keeping my current code structure intact? Is there an alternative approach or workaround that I can use in my unit tests?","title":"How to Serialize a MultipartFile to JSON for Testing in Spring Boot?","body":"<p>I'm currently writing integration tests for a Spring application, and I've come across an issue while trying to test a POST request using a custom DTO that includes a field of type MultipartFile. The DTO represents a request payload for creating a field in a farm, and one of the fields is a boundary file of type MultipartFile.</p>\n<p>Here's a simplified version of my DTO class:</p>\n<pre><code>@Data\n@MappedSuperclass\n@EqualsAndHashCode\npublic class CreateSomethingRequestDto {\n    // Other fields...\n    \n    @Schema(description = &quot;Boundary file for the something&quot;, name = &quot;boundaryFile&quot;, required = true)\n    private MultipartFile boundaryFile;\n}\n</code></pre>\n<p>In my integration test, I'm trying to create a JSON representation of the DTO using the toJson method, but I'm facing an issue with serializing the MultipartFile field. Here's the relevant part of the test:</p>\n<pre><code>@Test\nvoid create_somethingDoesNotExist_returnsWithStatusNotFound() throws Exception {\n    // GIVEN\n    CustomUserImpl customUser = new CustomUserImpl(savedAccount1);\n    MockMultipartFile mockMultipartFile =\n        new MockMultipartFile(\n            &quot;boundaryFile&quot;, &quot;filename.txt&quot;, &quot;text/plain&quot;, &quot;filecontent&quot;.getBytes());\n\n    CreateSomethingRequestDto createSomethingRequestDto =\n        createSomethingRequest().setBoundaryFile(mockMultipartFile).setAnotherId(UUID.randomUUID());\n    String json = toJson(createSomethingRequestDto);\n\n    // WHEN\n    mvc.perform(post(&quot;/somethings&quot;).with(user(customUser)).contentType(APPLICATION_JSON).content(json))\n        .andExpect(status().isNotFound());\n}\n</code></pre>\n<p>However, the test fails because the MultipartFile cannot be serialized to JSON using the toJson method.</p>\n<p>How can I properly serialize the MultipartFile field in the DTO to JSON for testing purposes while keeping my current code structure intact? Is there an alternative approach or workaround that I can use in my unit tests?</p>\n"},{"tags":["java","filter","stream"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691738784,"post_id":76881472,"comment_id":135535008,"body_markdown":"You don&#39;t. There&#39;s no &quot;splitting&quot; streams in two, at least not in the standard library. But you can do it with a single loop, which isn&#39;t just easier to write but also easier to read and maintain.","body":"You don&#39;t. There&#39;s no &quot;splitting&quot; streams in two, at least not in the standard library. But you can do it with a single loop, which isn&#39;t just easier to write but also easier to read and maintain."},{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":0,"creation_date":1691739164,"post_id":76881472,"comment_id":135535073,"body_markdown":"@krenks Why don&#39;t you just call addAll on the first list passing the second one as argument. Otherwise, if you wanna have another one list, regardless those ones, you could create another one list and then call addAll() for each of the two lists.","body":"@krenks Why don&#39;t you just call addAll on the first list passing the second one as argument. Otherwise, if you wanna have another one list, regardless those ones, you could create another one list and then call addAll() for each of the two lists."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1691740033,"post_id":76881472,"comment_id":135535216,"body_markdown":"Where does `getRowNumber()` come from? If it&#39;s from common superclass/interface you  can group by the class and collect to map.","body":"Where does <code>getRowNumber()</code> come from? If it&#39;s from common superclass/interface you  can group by the class and collect to map."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691746665,"post_id":76881472,"comment_id":135536471,"body_markdown":"After the question update, just make an interface with `getRowNumber` and have both types implement it. No splitting or `instanceof` needed.","body":"After the question update, just make an interface with <code>getRowNumber</code> and have both types implement it. No splitting or <code>instanceof</code> needed."}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691739118,"post_id":76881497,"comment_id":135535060,"body_markdown":"(forgive me if the `instanceof` syntax with auto-cast isn&#39;t quite right - I haven&#39;t really used that new feature yet)","body":"(forgive me if the <code>instanceof</code> syntax with auto-cast isn&#39;t quite right - I haven&#39;t really used that new feature yet)"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691739044,"creation_date":1691739044,"answer_id":76881497,"question_id":76881472,"body_markdown":"Streams are not the right tool for this job. Just use a loop:\r\n\r\n```\r\nList&lt;Integer&gt; type1 = new ArrayList&lt;Integer&gt;();\r\nList&lt;Integer&gt; type2 = new ArrayList&lt;Integer&gt;();\r\nfor (Error error : errors) {\r\n  if (error instanceof Type1Error e1) {\r\n    type1.add(e1.getRowNumber());\r\n  }\r\n  else if (error instanceof Type2Error e2) {\r\n    type2.add(e2.getRowNumber());\r\n  }\r\n}\r\n```","title":"How to use multiple filters + map in the same stream?","body":"<p>Streams are not the right tool for this job. Just use a loop:</p>\n<pre><code>List&lt;Integer&gt; type1 = new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; type2 = new ArrayList&lt;Integer&gt;();\nfor (Error error : errors) {\n  if (error instanceof Type1Error e1) {\n    type1.add(e1.getRowNumber());\n  }\n  else if (error instanceof Type2Error e2) {\n    type2.add(e2.getRowNumber());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1691741109,"creation_date":1691741109,"answer_id":76881706,"question_id":76881472,"body_markdown":"I&#39;ll assume that a common interface exists, otherwise all the required casting will make it too cumbersome for streams.\r\n```\r\npublic interface ErrorInterface {\r\n\r\n  int getRowNumber();\r\n}\r\n```\r\nFilter that object&#39;s class is allowed, cast, invoke method to get row number.\r\n```\r\nSet&lt;Class&lt;?&gt;&gt; allowedClasses = Set.of(Type1Error.class, Type2Error.class);\r\nList&lt;Integer&gt; rowNumbers = errors.stream()\r\n        .filter(err -&gt; allowedClasses.contains(err.getClass()))\r\n        .map(err -&gt; (ErrorInterface) err)\r\n        .map(ErrorInterface::getRowNumber)\r\n        .toList();\r\n```","title":"How to use multiple filters + map in the same stream?","body":"<p>I'll assume that a common interface exists, otherwise all the required casting will make it too cumbersome for streams.</p>\n<pre><code>public interface ErrorInterface {\n\n  int getRowNumber();\n}\n</code></pre>\n<p>Filter that object's class is allowed, cast, invoke method to get row number.</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; allowedClasses = Set.of(Type1Error.class, Type2Error.class);\nList&lt;Integer&gt; rowNumbers = errors.stream()\n        .filter(err -&gt; allowedClasses.contains(err.getClass()))\n        .map(err -&gt; (ErrorInterface) err)\n        .map(ErrorInterface::getRowNumber)\n        .toList();\n</code></pre>\n"}],"owner":{"account_id":2408670,"reputation":440,"user_id":2104392,"display_name":"krenkz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76881706,"answer_count":2,"score":-2,"last_activity_date":1691741109,"creation_date":1691738719,"question_id":76881472,"body_markdown":"How do I merge this to a single stream?\r\n\r\n     \r\n\r\n        List&lt;Integer&gt; Type1ErrorRows = errors.stream()\r\n                .filter(c -&gt; (c.getClass() == Type1Error.class))\r\n                .map(c -&gt; ((Type1Error) c).getRowNumber())\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;Integer&gt; Type2ErrorRows = errors.stream()\r\n                .filter(c -&gt; (c.getClass() == Type2Error.class))\r\n                .map(c -&gt; ((Type2Error) c).getRowNumber())\r\n                .collect(Collectors.toList());\r\n\r\nEDIT: Sorry, the question is misleading in this form (really stupid of me), I forgot to mention that I want all the row numbers in a single list as a result:\r\n\r\n \r\n\r\n    Stream.concat(Type1ErrorRows.stream(), Type2ErrorRows.stream())\r\n                .collect(Collectors.toList());\r\n    ","title":"How to use multiple filters + map in the same stream?","body":"<p>How do I merge this to a single stream?</p>\n<pre><code>    List&lt;Integer&gt; Type1ErrorRows = errors.stream()\n            .filter(c -&gt; (c.getClass() == Type1Error.class))\n            .map(c -&gt; ((Type1Error) c).getRowNumber())\n            .collect(Collectors.toList());\n\n    List&lt;Integer&gt; Type2ErrorRows = errors.stream()\n            .filter(c -&gt; (c.getClass() == Type2Error.class))\n            .map(c -&gt; ((Type2Error) c).getRowNumber())\n            .collect(Collectors.toList());\n</code></pre>\n<p>EDIT: Sorry, the question is misleading in this form (really stupid of me), I forgot to mention that I want all the row numbers in a single list as a result:</p>\n<pre><code>Stream.concat(Type1ErrorRows.stream(), Type2ErrorRows.stream())\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","spring","hibernate","generics","mapping"],"owner":{"account_id":10875707,"reputation":11,"user_id":7996171,"display_name":"Snaydil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691740680,"creation_date":1691740680,"question_id":76881668,"body_markdown":"I&#39;m currently trying to make a custom Hibernate Type to map a List of Enum into a Varchar of comma-separated elements. For that, I&#39;ve written my own JavaType (old JavaTypeDescriptor) and my own BasicType. The problem is, for my second class, that I need an instance of my JavaType.\r\n\r\n\r\n\r\n## Attempt 1\r\n\r\nIn Hibernate 5, it was possible to set the JavaType when needed, using the Parameter annotation and by setting in it the type (with `AbstractStandardBasicType#setJavaTypeDescriptor`). In the version 6.2 of Hibernate, the method is not available anymore and the field javaTypeDescriptor (now javaType) is final, so I&#39;m not able to do it.\r\nHere is the code I&#39;ve tried :\r\n\r\n\r\n```\r\npublic class EnumListJavaType&lt;E extends Enum&lt;E&gt;&gt; extends AbstractJavaType&lt;List&lt;E&gt;&gt; {\r\n\r\n    private final Class&lt;E&gt; enumClass;\r\n\r\n    private static final String SEPARATOR = &quot;,&quot;;\r\n\r\n    public EnumListJavaType(Class&lt;E&gt; enumClass) {\r\n        super(List.class);\r\n        this.enumClass = enumClass;\r\n    }\r\n\r\n    @Override\r\n    public &lt;X&gt; X unwrap(List&lt;E&gt; value, Class&lt;X&gt; type, WrapperOptions options) {\r\n        if (value == null)\r\n            return null;\r\n        return (X) toString(value);\r\n    }\r\n\r\n    @Override\r\n    public &lt;X&gt; List&lt;E&gt; wrap(X value, WrapperOptions options) {\r\n        if (value == null)\r\n            return null;\r\n        return fromString(value.toString());\r\n    }\r\n\r\n    @Override\r\n    public String toString(List&lt;E&gt; value) {\r\n        return (String) value.stream()\r\n                .map(Enum::name)\r\n                .collect(Collectors.joining(SEPARATOR));\r\n    }\r\n\r\n    public List&lt;E&gt; fromString(String string) {\r\n        if (StringUtils.isEmpty(string))\r\n            return null;\r\n        return Arrays.stream(string.split(SEPARATOR))\r\n                .map(s -&gt; Enum.valueOf(enumClass, s))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class EnumListType&lt;E extends Enum&lt;E&gt;&gt; extends AbstractSingleColumnStandardBasicType&lt;List&lt;E&gt;&gt; implements DynamicParameterizedType {\r\n\r\n\r\n    /**\r\n     * Here the JavaType is not passed as we don&#39;t know yet the enum class.\r\n     */\r\n    public EnumListType() {\r\n        super(VarcharJdbcType.INSTANCE, null);\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;enum_list&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String[] getRegistrationKeys() {\r\n        return new String[] { getName(), &quot;EnumList&quot;, EnumSet.class.getName() };\r\n    }\r\n\r\n    @Override\r\n    public void setParameterValues(Properties parameters) {\r\n// Here I&#39;m not able to set the JavaType anymore as there is no such method\r\n/*        String enumClassName = (String) parameters.get(&quot;enumClass&quot;);\r\n\r\n        try {\r\n            setJavaType(new EnumSetJavaType(Class.forName(enumClassName)));\r\n        }\r\n        catch (ClassNotFoundException e) {}*/\r\n    }\r\n```\r\n\r\nThe only way I see now is by removing the generic and to define my JavaType as a List&lt;Object&gt;. But I hope there is a more clean way of doing this.\r\n\r\n## Attempt 2\r\n\r\nI&#39;ve then thought about creating a Factory to create the HavaType when needed, by using the annotation @TypeDef. Something like :\r\n\r\n\r\n```\r\npublic class EnumListTypeFactory implements TypeDef {\r\n\r\n    @Override\r\n    public Class getTypeClass() {\r\n        return EnumListType.class;\r\n    }\r\n\r\n    @Override\r\n    public String getTypeMethod() {\r\n        return &quot;forEnumClass&quot;;\r\n    }\r\n\r\n    public static &lt;E extends Enum&lt;E&gt;&gt; EnumListType forEnumClass(String enumClassName) {\r\n        try {\r\n            Class&lt;E&gt; enumClass = (Class&lt;E&gt;) Class.forName(enumClassName);\r\n            return new EnumListType&lt;&gt;(new EnumListJavaType&lt;&gt;(enumClass));\r\n        } catch (ClassNotFoundException e) {\r\n            throw new HibernateException(&quot;Enum class not found&quot;, e);\r\n        }\r\n    }\r\n```\r\nBut in Hibernate 6, the annotation @TypeDef seems to have been removed.\r\n\r\nI will be grateful if you have any suggestion about it !","title":"How to map a List of enum into a Varchar using Hibernate 6.2","body":"<p>I'm currently trying to make a custom Hibernate Type to map a List of Enum into a Varchar of comma-separated elements. For that, I've written my own JavaType (old JavaTypeDescriptor) and my own BasicType. The problem is, for my second class, that I need an instance of my JavaType.</p>\n<h2>Attempt 1</h2>\n<p>In Hibernate 5, it was possible to set the JavaType when needed, using the Parameter annotation and by setting in it the type (with <code>AbstractStandardBasicType#setJavaTypeDescriptor</code>). In the version 6.2 of Hibernate, the method is not available anymore and the field javaTypeDescriptor (now javaType) is final, so I'm not able to do it.\nHere is the code I've tried :</p>\n<pre><code>public class EnumListJavaType&lt;E extends Enum&lt;E&gt;&gt; extends AbstractJavaType&lt;List&lt;E&gt;&gt; {\n\n    private final Class&lt;E&gt; enumClass;\n\n    private static final String SEPARATOR = &quot;,&quot;;\n\n    public EnumListJavaType(Class&lt;E&gt; enumClass) {\n        super(List.class);\n        this.enumClass = enumClass;\n    }\n\n    @Override\n    public &lt;X&gt; X unwrap(List&lt;E&gt; value, Class&lt;X&gt; type, WrapperOptions options) {\n        if (value == null)\n            return null;\n        return (X) toString(value);\n    }\n\n    @Override\n    public &lt;X&gt; List&lt;E&gt; wrap(X value, WrapperOptions options) {\n        if (value == null)\n            return null;\n        return fromString(value.toString());\n    }\n\n    @Override\n    public String toString(List&lt;E&gt; value) {\n        return (String) value.stream()\n                .map(Enum::name)\n                .collect(Collectors.joining(SEPARATOR));\n    }\n\n    public List&lt;E&gt; fromString(String string) {\n        if (StringUtils.isEmpty(string))\n            return null;\n        return Arrays.stream(string.split(SEPARATOR))\n                .map(s -&gt; Enum.valueOf(enumClass, s))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<pre><code>public class EnumListType&lt;E extends Enum&lt;E&gt;&gt; extends AbstractSingleColumnStandardBasicType&lt;List&lt;E&gt;&gt; implements DynamicParameterizedType {\n\n\n    /**\n     * Here the JavaType is not passed as we don't know yet the enum class.\n     */\n    public EnumListType() {\n        super(VarcharJdbcType.INSTANCE, null);\n\n    @Override\n    public String getName() {\n        return &quot;enum_list&quot;;\n    }\n\n    @Override\n    public String[] getRegistrationKeys() {\n        return new String[] { getName(), &quot;EnumList&quot;, EnumSet.class.getName() };\n    }\n\n    @Override\n    public void setParameterValues(Properties parameters) {\n// Here I'm not able to set the JavaType anymore as there is no such method\n/*        String enumClassName = (String) parameters.get(&quot;enumClass&quot;);\n\n        try {\n            setJavaType(new EnumSetJavaType(Class.forName(enumClassName)));\n        }\n        catch (ClassNotFoundException e) {}*/\n    }\n</code></pre>\n<p>The only way I see now is by removing the generic and to define my JavaType as a List. But I hope there is a more clean way of doing this.</p>\n<h2>Attempt 2</h2>\n<p>I've then thought about creating a Factory to create the HavaType when needed, by using the annotation @TypeDef. Something like :</p>\n<pre><code>public class EnumListTypeFactory implements TypeDef {\n\n    @Override\n    public Class getTypeClass() {\n        return EnumListType.class;\n    }\n\n    @Override\n    public String getTypeMethod() {\n        return &quot;forEnumClass&quot;;\n    }\n\n    public static &lt;E extends Enum&lt;E&gt;&gt; EnumListType forEnumClass(String enumClassName) {\n        try {\n            Class&lt;E&gt; enumClass = (Class&lt;E&gt;) Class.forName(enumClassName);\n            return new EnumListType&lt;&gt;(new EnumListJavaType&lt;&gt;(enumClass));\n        } catch (ClassNotFoundException e) {\n            throw new HibernateException(&quot;Enum class not found&quot;, e);\n        }\n    }\n</code></pre>\n<p>But in Hibernate 6, the annotation @TypeDef seems to have been removed.</p>\n<p>I will be grateful if you have any suggestion about it !</p>\n"},{"tags":["java","excel","selenium-webdriver"],"owner":{"account_id":24417629,"reputation":21,"user_id":18344310,"display_name":"Sasitharan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691740680,"creation_date":1691739356,"question_id":76881538,"body_markdown":"I have tried using IN operator in where clause of the Query to fetch the records from excel file using fillo. Seems IN operator making to ignore that condition itself and provides results by ignoring that condition.\r\n\r\n```\r\nSelect * from Test_Flow where Type = &#39;Regression&#39; and SubGroup IN (&#39;Textbox&#39;)\r\n```\r\nNo. of record set fetched : 14\r\n\r\nExpected Result: Should be 1 Record set. But it fetches all records irrespective of the condition\r\n\r\n```\r\nSelect * from Test_Flow where Type = &#39;Regression&#39; and SubGroup = &#39;Textbox&#39;\r\n```\r\nNo. of record set fetched : 1\r\n\r\n```\r\nSelect * from Test_Flow  where Type = &#39;Regression&#39; and (SubGroup = &#39;Textbox&#39; OR SubGroup = &#39;Button&#39;)\r\n```\r\nNo. of record set fetched : 14\r\n\r\nExpected Result: No. of record set fetched should be 2\r\n\r\nCould anyone confirm is this an issue with Fillo?","title":"Where Clause with IN operator for Fillo Excel API Query","body":"<p>I have tried using IN operator in where clause of the Query to fetch the records from excel file using fillo. Seems IN operator making to ignore that condition itself and provides results by ignoring that condition.</p>\n<pre><code>Select * from Test_Flow where Type = 'Regression' and SubGroup IN ('Textbox')\n</code></pre>\n<p>No. of record set fetched : 14</p>\n<p>Expected Result: Should be 1 Record set. But it fetches all records irrespective of the condition</p>\n<pre><code>Select * from Test_Flow where Type = 'Regression' and SubGroup = 'Textbox'\n</code></pre>\n<p>No. of record set fetched : 1</p>\n<pre><code>Select * from Test_Flow  where Type = 'Regression' and (SubGroup = 'Textbox' OR SubGroup = 'Button')\n</code></pre>\n<p>No. of record set fetched : 14</p>\n<p>Expected Result: No. of record set fetched should be 2</p>\n<p>Could anyone confirm is this an issue with Fillo?</p>\n"},{"tags":["javascript","java","gwt","open-liberty"],"comments":[{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1691840790,"post_id":76881607,"comment_id":135547796,"body_markdown":"I do not know OPEN LIBERTY. The stacktrace is telling you, that the client has problems evaluating the respnse from the server. I think, it would be a good idea to take a look at the network tab and check the payload of the response.","body":"I do not know OPEN LIBERTY. The stacktrace is telling you, that the client has problems evaluating the respnse from the server. I think, it would be a good idea to take a look at the network tab and check the payload of the response."}],"owner":{"account_id":29204608,"reputation":1,"user_id":22373982,"display_name":"Ujwal Chaudhari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691740294,"creation_date":1691740246,"question_id":76881607,"body_markdown":"I have upgraded the Open liberty server version (v 23.0.0_601) in for my application.\r\nwhen we have deployed with the following combination of\r\nJDK  version 8.0.372_01 and OPEN LIBERTY version 23.0.0_0601\r\nwe encountered the following error :\r\n\r\n[ERROR](https://i.stack.imgur.com/rWX60.png)\r\n1 Uncaught TypeError: Cannot read properties of null (reading &#39;L&#39;)\r\nat YKc (cockpit-0.js:5701:31)\r\nat ZKc.$Kc [as Mg] (cockpit-0.js:10459:24086)\r\nat qVb.sVb [as Te] (cockpit-0.js:10455:10065)\r\nat Pw (cockpit-0.js:6863:79)\r\nat ax.bx [as Re] (cockpit-0.js:10454:7250)\r\nat XMLHttpRequest.eval (cockpit-0.js:6343:65)\r\nat Uj (cockpit-0.js:4445:29)\r\nat Xj (cockpit-0.js:6053:44)\r\nat XMLHttpRequest.eval (cockpit-0.js:6369:46)\r\nYKc @ cockpit-0.js:5701\r\n$Kc @ c\r\n\r\n\r\nI have tried below combination of jdk and open liberty, both combination&#39;s\r\nare not working.\r\n\r\nI have upgraded the Open liberty server version (v 23.0.0_601) in for my application.\r\nwhen we have deployed with the following combination of\r\nJDK  version 8.0.372_01 and OPEN LIBERTY version 23.0.0_0601\r\nwe encountered the following error \r\n\r\nNOTE:\r\nthe application is developed with GWT 2.10.0/2.8.0 version .\r\n\r\n\r\n\r\nIs Liberty Version 23.0.0.601 is supported GWT and which version GWT is supports.","title":"GWT Compatibility issue with OPEN LIBERTY Vresion 23.0.0_0601","body":"<p>I have upgraded the Open liberty server version (v 23.0.0_601) in for my application.\nwhen we have deployed with the following combination of\nJDK  version 8.0.372_01 and OPEN LIBERTY version 23.0.0_0601\nwe encountered the following error :</p>\n<p><a href=\"https://i.stack.imgur.com/rWX60.png\" rel=\"nofollow noreferrer\">ERROR</a>\n1 Uncaught TypeError: Cannot read properties of null (reading 'L')\nat YKc (cockpit-0.js:5701:31)\nat ZKc.$Kc [as Mg] (cockpit-0.js:10459:24086)\nat qVb.sVb [as Te] (cockpit-0.js:10455:10065)\nat Pw (cockpit-0.js:6863:79)\nat ax.bx [as Re] (cockpit-0.js:10454:7250)\nat XMLHttpRequest.eval (cockpit-0.js:6343:65)\nat Uj (cockpit-0.js:4445:29)\nat Xj (cockpit-0.js:6053:44)\nat XMLHttpRequest.eval (cockpit-0.js:6369:46)\nYKc @ cockpit-0.js:5701\n$Kc @ c</p>\n<p>I have tried below combination of jdk and open liberty, both combination's\nare not working.</p>\n<p>I have upgraded the Open liberty server version (v 23.0.0_601) in for my application.\nwhen we have deployed with the following combination of\nJDK  version 8.0.372_01 and OPEN LIBERTY version 23.0.0_0601\nwe encountered the following error</p>\n<p>NOTE:\nthe application is developed with GWT 2.10.0/2.8.0 version .</p>\n<p>Is Liberty Version 23.0.0.601 is supported GWT and which version GWT is supports.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","resttemplate"],"comments":[{"owner":{"account_id":10025096,"reputation":79,"user_id":7413476,"display_name":"Manigandan Saravanan"},"score":0,"creation_date":1691740401,"post_id":76881603,"comment_id":135535270,"body_markdown":"brief your courses api code","body":"brief your courses api code"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1691742707,"post_id":76881603,"comment_id":135535654,"body_markdown":"I need to double check, but I believe Spring Boot auto-configures some default HttpMessageConverters, including one for `application/json`, while I suppose Spring MVC doesn&#39;t","body":"I need to double check, but I believe Spring Boot auto-configures some default HttpMessageConverters, including one for <code>application&#47;json</code>, while I suppose Spring MVC doesn&#39;t"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1691763637,"post_id":76881603,"comment_id":135540000,"body_markdown":"could you add your destination API too ?","body":"could you add your destination API too ?"}],"owner":{"account_id":29204611,"reputation":1,"user_id":22373986,"display_name":"Kirtiman Bhagawati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691740211,"creation_date":1691740211,"question_id":76881603,"body_markdown":"My RestTemplate code\r\n\r\n```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\t\tCourses courses = restTemplate.getForObject(&quot;http://localhost:8090/apple/courses&quot;, Courses.class);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nIf I run the same code from a SpringBoot application it works fine, but if I run in from a Spring MVC application I am getting the below error,\r\n\r\nBoth the application has the same Courses class.\r\n\r\n\r\n```\r\nMessage Request processing failed: org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.danny.model.Course] and content type [application/json]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njakarta.servlet.ServletException: Request processing failed: org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.danny.model.Course] and content type [application/json]\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\nRoot Cause\r\n\r\norg.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.danny.model.Course] and content type [application/json]\r\n\torg.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:124)\r\n\torg.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:865)\r\n\torg.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\r\n\torg.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:378)\r\n\tcom.danny.controllers.MainController.welcome(MainController.java:81)\r\n\tjava.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tjava.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n```","title":"getting error &#39;Could not extract response: no suitable HttpMessageConverter found&#39; while using RestTemplate in Spring MVC,but works fine in Springboot","body":"<p>My RestTemplate code</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n        Courses courses = restTemplate.getForObject(&quot;http://localhost:8090/apple/courses&quot;, Courses.class);\n</code></pre>\n<p>If I run the same code from a SpringBoot application it works fine, but if I run in from a Spring MVC application I am getting the below error,</p>\n<p>Both the application has the same Courses class.</p>\n<pre><code>Message Request processing failed: org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.danny.model.Course] and content type [application/json]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.servlet.ServletException: Request processing failed: org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.danny.model.Course] and content type [application/json]\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nRoot Cause\n\norg.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.danny.model.Course] and content type [application/json]\n    org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:124)\n    org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:865)\n    org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\n    org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:378)\n    com.danny.controllers.MainController.welcome(MainController.java:81)\n    java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":29203382,"reputation":11,"user_id":22373002,"display_name":"Game Destroyer"},"score":0,"creation_date":1692418587,"post_id":76881596,"comment_id":135623805,"body_markdown":"Thanks sorry about not responding went on vacation but thank you for helping me out!","body":"Thanks sorry about not responding went on vacation but thank you for helping me out!"}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691740143,"creation_date":1691740143,"answer_id":76881596,"question_id":76880569,"body_markdown":"You attempt to count the steps by incrementing the count variable every time you performed the sequence calculation (count++;). However, this approach only counts how many times the calculation was performed, not the actual sequence length. Also, you need a while loop to perform the sequence calculation, which continues until the current value becomes 1. Inside the loop, the Collatz sequence transformation is applied separately for even and odd numbers, accurately updating the value and incrementing the step count for each transformation. In your solution the sequence calculation is performed only once for each starting value in the loop.\r\n\r\nThis should work:\r\n\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n            int count = 0;\r\n            int x2 = x;\r\n            while (x2 != 1) {\r\n                if (x2 % 2 == 0) {\r\n                    x2 = x2 / 2;\r\n                } else {\r\n                    x2 = 3 * x2 + 1;\r\n                }\r\n                count++;\r\n            }\r\n            int finalCount = (x == 1) ? count : count + 1;\r\n            System.out.println(x + &quot;-&quot; + finalCount);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Trying to find the length of each sequence for each starting value by using collatz conjecture, 1-100, and print them out next to the starting number","body":"<p>You attempt to count the steps by incrementing the count variable every time you performed the sequence calculation (count++;). However, this approach only counts how many times the calculation was performed, not the actual sequence length. Also, you need a while loop to perform the sequence calculation, which continues until the current value becomes 1. Inside the loop, the Collatz sequence transformation is applied separately for even and odd numbers, accurately updating the value and incrementing the step count for each transformation. In your solution the sequence calculation is performed only once for each starting value in the loop.</p>\n<p>This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        for (int x = 1; x &lt;= 100; x++) {\n            int count = 0;\n            int x2 = x;\n            while (x2 != 1) {\n                if (x2 % 2 == 0) {\n                    x2 = x2 / 2;\n                } else {\n                    x2 = 3 * x2 + 1;\n                }\n                count++;\n            }\n            int finalCount = (x == 1) ? count : count + 1;\n            System.out.println(x + &quot;-&quot; + finalCount);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":29203382,"reputation":11,"user_id":22373002,"display_name":"Game Destroyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691740143,"creation_date":1691725771,"question_id":76880569,"body_markdown":"```\r\n    class Main {\r\n\r\n      public static void main(String[] args) {\r\n\r\n        int count = 1;\r\n        for (int x=1;x&lt;4;x++) {\r\n          int x2 = x;\r\n          if (x%2==0) {\r\n            x2 = x/2;\r\n            count++;\r\n          }\r\n          else {\r\n            x2 = 3*x+1;\r\n            count++;\r\n          }\r\n\r\n          System.out.println(x+&quot;-&quot;+count);\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\nI can&#39;t understand how I&#39;m supposed to count the length of the sequence and print each starting number 1-100 with length of sequence next to it \r\n\r\nI tried just counting each time it does `x/2` or `3*x+1` by `count++`; but it is putting out 1-2, 2-3, 3-4 and ive been looking at examples to try to get an idea or different perspective but all of them are scanners and nothing ive seen is similar to what im trying to accomplish.&#39; ","title":"Trying to find the length of each sequence for each starting value by using collatz conjecture, 1-100, and print them out next to the starting number","body":"<pre><code>    class Main {\n\n      public static void main(String[] args) {\n\n        int count = 1;\n        for (int x=1;x&lt;4;x++) {\n          int x2 = x;\n          if (x%2==0) {\n            x2 = x/2;\n            count++;\n          }\n          else {\n            x2 = 3*x+1;\n            count++;\n          }\n\n          System.out.println(x+&quot;-&quot;+count);\n        }\n      }\n    }\n</code></pre>\n<p>I can't understand how I'm supposed to count the length of the sequence and print each starting number 1-100 with length of sequence next to it</p>\n<p>I tried just counting each time it does <code>x/2</code> or <code>3*x+1</code> by <code>count++</code>; but it is putting out 1-2, 2-3, 3-4 and ive been looking at examples to try to get an idea or different perspective but all of them are scanners and nothing ive seen is similar to what im trying to accomplish.'</p>\n"},{"tags":["java","git","maven","jenkins","continuous-integration"],"answers":[{"comments":[{"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1692029185,"post_id":76881536,"comment_id":135567345,"body_markdown":"Thanks, that (DIY) is what we figured as well. Would&#39;ve been nice to have some plugin/DSL to trigger.","body":"Thanks, that (DIY) is what we figured as well. Would&#39;ve been nice to have some plugin/DSL to trigger."}],"tags":[],"owner":{"account_id":23196850,"reputation":466,"user_id":18169297,"display_name":"Iterokun "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691739347,"creation_date":1691739347,"answer_id":76881536,"question_id":76870746,"body_markdown":"You can probably code your way out of this specific situation by manually retriggering all PR checks for every PR in progress in `my-server` repo on every merge to `common-lib` repo, but &quot;pushing&quot; changes from dependencies into your app makes for a chaotic workflow. That&#39;s why it&#39;s bad practice to use the main branch name to reference your dependency - there is no way for consumers to opt out of incompatible changes. Once you start referencing release branches (or tags, or specific commits - depends on how much control you want to have and how much work you are willing to do) - you have something to work with. In your case `master` in `my-server` will be updated to reference a new version of `common-lib` and that can re-trigger PR checks. I&#39;m not familiar with BB, but in GitHub it&#39;s not the default behavior, since `master` usually moves fast and re-checking PRs would create heavy load on your CI, but it can be done.","title":"How to trigger Jenkins rebuild of existing PR if a SNAPSHOT dependency is rebuilt?","body":"<p>You can probably code your way out of this specific situation by manually retriggering all PR checks for every PR in progress in <code>my-server</code> repo on every merge to <code>common-lib</code> repo, but &quot;pushing&quot; changes from dependencies into your app makes for a chaotic workflow. That's why it's bad practice to use the main branch name to reference your dependency - there is no way for consumers to opt out of incompatible changes. Once you start referencing release branches (or tags, or specific commits - depends on how much control you want to have and how much work you are willing to do) - you have something to work with. In your case <code>master</code> in <code>my-server</code> will be updated to reference a new version of <code>common-lib</code> and that can re-trigger PR checks. I'm not familiar with BB, but in GitHub it's not the default behavior, since <code>master</code> usually moves fast and re-checking PRs would create heavy load on your CI, but it can be done.</p>\n"}],"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691739347,"creation_date":1691609587,"question_id":76870746,"body_markdown":"TL;DR;\r\n\r\nHow do I trigger rebuild of a PR to `master` branch in `my-server`, when some other PR in some other repo (some `common-lib`) is merged into `master`? Where `my-server` depends on `common-lib`.\r\n\r\nAll SNAPSHOT versions, not tagged/versioned/release artifacts.\r\n\r\n---\r\n\r\nWe use Jenkins with BB server to build our Java/maven repos. We follow git-flow kind of branching strategy, so that all artifacts built from our `master` (development branch) are SNAPSHOT versions.\r\n\r\nSay I have\r\n* two repos in my project `my-server` and `common-lib`, where `my-server` depends on `common-lib`\r\n* two Jenkins jobs (one for each repo) that build all PRs (source branches) and all commits to `master`.\r\n\r\nSteps:\r\n* I open a PR-1 open in `my-server` repo, from branch `feature/abc` to `master`.\r\n  * This triggers a build of the PR and it is built with latest/master of `common-lib`. It&#39;s green.\r\n  * PR-1 is NOT yet merged.\r\n* someone opens a PR-2 in `common-lib`, merges it to `master`. Now we have a new version of latest/master `common-lib`. This is not compatible with `my-server` -- `feature/abc`.\r\n* I merge PR-1, which triggers build of `my-server`&#39;s `master`. This fails.\r\n\r\nQuestion:\r\nIf I can trigger a rebuild of PR-1 after PR-2 is merged, then my merge-checks (needs a green build) will mark PR-1 as &quot;needs work&quot;. How do I do this?\r\n\r\nThank you!\r\n\r\n---\r\n\r\nI&#39;ve read following and many others:\r\n* https://stackoverflow.com/questions/28218050/how-to-trigger-jenkins-maven-job-with-multiple-branches-when-a-snapshot-dependen\r\n* https://stackoverflow.com/questions/22314296/how-to-force-jenkins-to-rebuild-a-branch\r\n* https://stackoverflow.com/questions/37960358/how-to-trigger-jenkins-build-upon-bitbucket-pull-request-merged\r\n\r\n","title":"How to trigger Jenkins rebuild of existing PR if a SNAPSHOT dependency is rebuilt?","body":"<p>TL;DR;</p>\n<p>How do I trigger rebuild of a PR to <code>master</code> branch in <code>my-server</code>, when some other PR in some other repo (some <code>common-lib</code>) is merged into <code>master</code>? Where <code>my-server</code> depends on <code>common-lib</code>.</p>\n<p>All SNAPSHOT versions, not tagged/versioned/release artifacts.</p>\n<hr />\n<p>We use Jenkins with BB server to build our Java/maven repos. We follow git-flow kind of branching strategy, so that all artifacts built from our <code>master</code> (development branch) are SNAPSHOT versions.</p>\n<p>Say I have</p>\n<ul>\n<li>two repos in my project <code>my-server</code> and <code>common-lib</code>, where <code>my-server</code> depends on <code>common-lib</code></li>\n<li>two Jenkins jobs (one for each repo) that build all PRs (source branches) and all commits to <code>master</code>.</li>\n</ul>\n<p>Steps:</p>\n<ul>\n<li>I open a PR-1 open in <code>my-server</code> repo, from branch <code>feature/abc</code> to <code>master</code>.\n<ul>\n<li>This triggers a build of the PR and it is built with latest/master of <code>common-lib</code>. It's green.</li>\n<li>PR-1 is NOT yet merged.</li>\n</ul>\n</li>\n<li>someone opens a PR-2 in <code>common-lib</code>, merges it to <code>master</code>. Now we have a new version of latest/master <code>common-lib</code>. This is not compatible with <code>my-server</code> -- <code>feature/abc</code>.</li>\n<li>I merge PR-1, which triggers build of <code>my-server</code>'s <code>master</code>. This fails.</li>\n</ul>\n<p>Question:\nIf I can trigger a rebuild of PR-1 after PR-2 is merged, then my merge-checks (needs a green build) will mark PR-1 as &quot;needs work&quot;. How do I do this?</p>\n<p>Thank you!</p>\n<hr />\n<p>I've read following and many others:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28218050/how-to-trigger-jenkins-maven-job-with-multiple-branches-when-a-snapshot-dependen\">How to trigger jenkins maven job with multiple branches when a SNAPSHOT dependency is built?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22314296/how-to-force-jenkins-to-rebuild-a-branch\">How to force Jenkins to rebuild a branch?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37960358/how-to-trigger-jenkins-build-upon-bitbucket-pull-request-merged\">How to trigger jenkins build upon bitbucket pull request merged</a></li>\n</ul>\n"},{"tags":["java","android","annotations","annotation-processing"],"answers":[{"comments":[{"owner":{"account_id":29203881,"reputation":13,"user_id":22373394,"display_name":"이범수"},"score":0,"creation_date":1691735576,"post_id":76880986,"comment_id":135534416,"body_markdown":"Thank you for your reply. I have one more question: I included Module B using api and I can import the annotation on module C, but the annotation processing doesn&#39;t seem to work.","body":"Thank you for your reply. I have one more question: I included Module B using api and I can import the annotation on module C, but the annotation processing doesn&#39;t seem to work."},{"owner":{"account_id":5866991,"reputation":10236,"user_id":4620609,"accept_rate":100,"display_name":"Samuel Robert"},"score":0,"creation_date":1691739162,"post_id":76880986,"comment_id":135535071,"body_markdown":"use `annotationProcessor` instead of `implementation` in module C","body":"use <code>annotationProcessor</code> instead of <code>implementation</code> in module C"},{"owner":{"account_id":29203881,"reputation":13,"user_id":22373394,"display_name":"이범수"},"score":0,"creation_date":1691976163,"post_id":76880986,"comment_id":135559020,"body_markdown":"I really appreciate your help. Thank you.","body":"I really appreciate your help. Thank you."}],"tags":[],"owner":{"account_id":5866991,"reputation":10236,"user_id":4620609,"accept_rate":100,"display_name":"Samuel Robert"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691739120,"creation_date":1691733046,"answer_id":76880986,"question_id":76880915,"body_markdown":"If you have a dependency such as C depends on A depends on B, using `implementation()` to add the dependency will not work. In order to get the transient dependency in the module C you can set `api` in the gradle file of A when you specify dependency B, then the classes and method of module B will be available in module C.\r\n\r\n\r\nGradle file of module A\r\n\r\n    api(project(&quot;:moduleB&quot;)) // moduleB&#39;s source will be able with moduleA\r\n\r\n\r\nGradle file of Module C\r\n    \r\n    imeplementation(project(&quot;:moduleA&quot;)) // source of both moduleA and moduleB will be available for module C\r\n\r\nHowever, the best way to specify this would be to add both the dependencies in the module C.\r\n\r\n    imeplementation(project(&quot;:moduleA&quot;))\r\n    annotationProcessor(project(&quot;:moduleB&quot;))\r\n","title":"Unresolved reference when trying to use annotations","body":"<p>If you have a dependency such as C depends on A depends on B, using <code>implementation()</code> to add the dependency will not work. In order to get the transient dependency in the module C you can set <code>api</code> in the gradle file of A when you specify dependency B, then the classes and method of module B will be available in module C.</p>\n<p>Gradle file of module A</p>\n<pre><code>api(project(&quot;:moduleB&quot;)) // moduleB's source will be able with moduleA\n</code></pre>\n<p>Gradle file of Module C</p>\n<pre><code>imeplementation(project(&quot;:moduleA&quot;)) // source of both moduleA and moduleB will be available for module C\n</code></pre>\n<p>However, the best way to specify this would be to add both the dependencies in the module C.</p>\n<pre><code>imeplementation(project(&quot;:moduleA&quot;))\nannotationProcessor(project(&quot;:moduleB&quot;))\n</code></pre>\n"}],"owner":{"account_id":29203881,"reputation":13,"user_id":22373394,"display_name":"이범수"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76880986,"answer_count":1,"score":0,"last_activity_date":1691739120,"creation_date":1691732105,"question_id":76880915,"body_markdown":"I&#39;m facing an issue in my Android project where I&#39;m trying to use annotations defined in Module B in my code within Module C. However, I&#39;m getting an &quot;Unresolved reference&quot; error in Android Studio. I&#39;ve tried various configurations, but I&#39;m unable to resolve this issue. Here&#39;s my project structure and what I&#39;ve done so far:\r\n\r\n## Project Structure\r\n\r\nModule B: Annotation processor module containing annotations and an annotation processor.\r\nModule A: Android app module that includes Module B as a dependency for annotation processing.\r\nModule C: Android app module that includes Module A and aims to use annotations from Module B.\r\n\r\n\r\n## What I&#39;ve Tried\r\n\r\n1. Added Module B as a dependency in Module A with the appropriate annotation processor configurations.\r\n2. Included Module A as a dependency in Module C.\r\n3. Ensured proper Gradle sync, dependencies, and import statements.\r\n4. Checked the Gradle console for any errors during the build process.\r\n\r\n## Current Issue:\r\nDespite following the outlined steps and confirming the setup, I&#39;m still unable to import and use the annotations from Module B in my code within Module C. The import statement for MyAnnotation in Module C is showing the &quot;Unresolved reference&quot; error.\r\n\r\nAny insights into why I&#39;m encountering this issue and how I can resolve it would be greatly appreciated.\r\n\r\nPlease let me know if there are any additional details I should provide. Thank you in advance for your help!","title":"Unresolved reference when trying to use annotations","body":"<p>I'm facing an issue in my Android project where I'm trying to use annotations defined in Module B in my code within Module C. However, I'm getting an &quot;Unresolved reference&quot; error in Android Studio. I've tried various configurations, but I'm unable to resolve this issue. Here's my project structure and what I've done so far:</p>\n<h2>Project Structure</h2>\n<p>Module B: Annotation processor module containing annotations and an annotation processor.\nModule A: Android app module that includes Module B as a dependency for annotation processing.\nModule C: Android app module that includes Module A and aims to use annotations from Module B.</p>\n<h2>What I've Tried</h2>\n<ol>\n<li>Added Module B as a dependency in Module A with the appropriate annotation processor configurations.</li>\n<li>Included Module A as a dependency in Module C.</li>\n<li>Ensured proper Gradle sync, dependencies, and import statements.</li>\n<li>Checked the Gradle console for any errors during the build process.</li>\n</ol>\n<h2>Current Issue:</h2>\n<p>Despite following the outlined steps and confirming the setup, I'm still unable to import and use the annotations from Module B in my code within Module C. The import statement for MyAnnotation in Module C is showing the &quot;Unresolved reference&quot; error.</p>\n<p>Any insights into why I'm encountering this issue and how I can resolve it would be greatly appreciated.</p>\n<p>Please let me know if there are any additional details I should provide. Thank you in advance for your help!</p>\n"},{"tags":["java","reactjs","spring-boot","cors"],"answers":[{"comments":[{"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"score":0,"creation_date":1691739061,"post_id":76881428,"comment_id":135535050,"body_markdown":"unfortunately it didn&#39;t help. Still the same error","body":"unfortunately it didn&#39;t help. Still the same error"},{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":0,"creation_date":1691739443,"post_id":76881428,"comment_id":135535110,"body_markdown":"Could you try to remove @CrossOrigin annotation from your controller?","body":"Could you try to remove @CrossOrigin annotation from your controller?"},{"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"score":0,"creation_date":1691739601,"post_id":76881428,"comment_id":135535140,"body_markdown":"just removed @CrossOrigin and still the same error","body":"just removed @CrossOrigin and still the same error"},{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":0,"creation_date":1691739677,"post_id":76881428,"comment_id":135535148,"body_markdown":"Try this similar post: https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application?rq=1","body":"Try this similar post: <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application?rq=1\" title=\"how to configure cors in a spring boot spring security application\">stackoverflow.com/questions/36968963/&hellip;</a>"},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1691776584,"post_id":76881428,"comment_id":135542386,"body_markdown":"`Access-Control-Allow-Credentials` is a response header. It has no place in a request.","body":"<code>Access-Control-Allow-Credentials</code> is a response header. It has no place in a request."}],"tags":[],"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691738811,"creation_date":1691738231,"answer_id":76881428,"question_id":76881382,"body_markdown":"Please, consider adding to your CorsRegistry all methods that you wanna be available via CorsRegistation#allowedMethod(String ...).\r\n\r\ne.g.\r\n\r\n            registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;) // Specifica l&#39;origine consentita\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;) // Specifica i  metodi consentiti\r\n                .allowedHeaders(&quot;*&quot;) // Specifica gli headers consentiti\r\n                .allowCredentials(false).maxAge(3600);\r\n\r\nAlso, the error tells you a lots of stuff:\r\n\r\n&gt; The value of the &#39;Access-Control-Allow-Credentials&#39; header in the response\r\nis &#39;&#39; which must be &#39;true&#39; when the request&#39;s credentials mode is &#39;include&#39;\r\n\r\nNow, I have never developed front-end, since I am a back-ender, but you oughta set as &#39;true&#39; the header property &#39;Access-Control-Allow-Credentials&#39;. I guess it is:\r\n\r\n    export async function post(url, body) {\r\n\r\n        const response = await fetch(url, {\r\n            method: &quot;POST&quot;,\r\n            mode: &quot;cors&quot;,\r\n            credentials: &quot;include&quot;,\r\n            headers: {\r\n               &#39;Accept&#39;: &#39;application/json&#39;,\r\n               &#39;Content-Type&#39;: &#39;application/json&#39;\r\n               &#39;Access-Control-Allow-Credentials&#39;: &#39;true&#39;\r\n            },\r\n            body: JSON.stringify(body),\r\n        });\r\n\r\n        return response;\r\n     }","title":"Cors error when trying to send POST request","body":"<p>Please, consider adding to your CorsRegistry all methods that you wanna be available via CorsRegistation#allowedMethod(String ...).</p>\n<p>e.g.</p>\n<pre><code>        registry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(&quot;*&quot;) // Specifica l'origine consentita\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;) // Specifica i  metodi consentiti\n            .allowedHeaders(&quot;*&quot;) // Specifica gli headers consentiti\n            .allowCredentials(false).maxAge(3600);\n</code></pre>\n<p>Also, the error tells you a lots of stuff:</p>\n<blockquote>\n<p>The value of the 'Access-Control-Allow-Credentials' header in the response\nis '' which must be 'true' when the request's credentials mode is 'include'</p>\n</blockquote>\n<p>Now, I have never developed front-end, since I am a back-ender, but you oughta set as 'true' the header property 'Access-Control-Allow-Credentials'. I guess it is:</p>\n<pre><code>export async function post(url, body) {\n\n    const response = await fetch(url, {\n        method: &quot;POST&quot;,\n        mode: &quot;cors&quot;,\n        credentials: &quot;include&quot;,\n        headers: {\n           'Accept': 'application/json',\n           'Content-Type': 'application/json'\n           'Access-Control-Allow-Credentials': 'true'\n        },\n        body: JSON.stringify(body),\n    });\n\n    return response;\n }\n</code></pre>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691738811,"creation_date":1691737679,"question_id":76881382,"body_markdown":"There is a React frontend app which is running on `localhost:3000` and java backend app which is running on `localhost:8080`\r\n\r\nAll `GET` endpoints are working fine but if I try to send a `POST` request then I&#39;m getting cors error:\r\n\r\n```\r\nAccess to fetch at &#39;http://localhost:8080/api/cars&#39; from origin &#39;http://localhost:3000&#39;\r\nhas been blocked by CORS policy: Response to preflight request doesn&#39;t pass access \r\ncontrol check: The value of the &#39;Access-Control-Allow-Credentials&#39; header in the response\r\nis &#39;&#39; which must be &#39;true&#39; when the request&#39;s credentials mode is &#39;include&#39;.\r\n```\r\n\r\nIf I test the same `POST` endpoint in **Postman** everything also works fine\r\n\r\ncall from react app:\r\n\r\n```react.js\r\nexport async function addCar(body) {\r\n\r\n\tconst response = await post(`http://localhost:8080/api/cars`, body)\r\n\r\n\treturn response;\r\n}\r\n\r\n\r\nexport async function post(url, body) {\r\n\r\n  const response = await fetch(url, {\r\n      method: &quot;POST&quot;,\r\n      mode: &quot;cors&quot;,\r\n      credentials: &quot;include&quot;,\r\n      headers: {\r\n        &#39;Accept&#39;: &#39;application/json&#39;,\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;\r\n      },\r\n      body: JSON.stringify(body),\r\n    });\r\n\r\n  return response;\r\n}\r\n```\r\n\r\nhere is my backend implementation. I tried to configure WebConfig but it didn&#39;t help\r\n\r\n```java\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/api/cars&quot;)\r\n@RequiredArgsConstructor(onConstructor = @__({@Autowired}))\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\npublic class CarController {\r\n\r\n    private final CarService carService;\r\n\r\n    @RequestMapping(method = POST, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; insertCar(@RequestBody @Valid CarDto car) {\r\n        return carService.addCar(car);\r\n    }\r\n}\r\n\r\n@Configuration\r\n@EnableCaching\r\n@ConfigurationPropertiesScan\r\n@RequiredArgsConstructor\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:3000&quot;)\r\n                .allowedMethods(&quot;*&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI would appreciate if someone can help me to fix this issue. ","title":"Cors error when trying to send POST request","body":"<p>There is a React frontend app which is running on <code>localhost:3000</code> and java backend app which is running on <code>localhost:8080</code></p>\n<p>All <code>GET</code> endpoints are working fine but if I try to send a <code>POST</code> request then I'm getting cors error:</p>\n<pre><code>Access to fetch at 'http://localhost:8080/api/cars' from origin 'http://localhost:3000'\nhas been blocked by CORS policy: Response to preflight request doesn't pass access \ncontrol check: The value of the 'Access-Control-Allow-Credentials' header in the response\nis '' which must be 'true' when the request's credentials mode is 'include'.\n</code></pre>\n<p>If I test the same <code>POST</code> endpoint in <strong>Postman</strong> everything also works fine</p>\n<p>call from react app:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export async function addCar(body) {\n\n    const response = await post(`http://localhost:8080/api/cars`, body)\n\n    return response;\n}\n\n\nexport async function post(url, body) {\n\n  const response = await fetch(url, {\n      method: &quot;POST&quot;,\n      mode: &quot;cors&quot;,\n      credentials: &quot;include&quot;,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body),\n    });\n\n  return response;\n}\n</code></pre>\n<p>here is my backend implementation. I tried to configure WebConfig but it didn't help</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/api/cars&quot;)\n@RequiredArgsConstructor(onConstructor = @__({@Autowired}))\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\npublic class CarController {\n\n    private final CarService carService;\n\n    @RequestMapping(method = POST, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; insertCar(@RequestBody @Valid CarDto car) {\n        return carService.addCar(car);\n    }\n}\n\n@Configuration\n@EnableCaching\n@ConfigurationPropertiesScan\n@RequiredArgsConstructor\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/api/**&quot;)\n                .allowedOrigins(&quot;http://localhost:3000&quot;)\n                .allowedMethods(&quot;*&quot;);\n    }\n\n}\n</code></pre>\n<p>I would appreciate if someone can help me to fix this issue.</p>\n"},{"tags":["java","junit","junit5","spring-test","junit-jupiter"],"answers":[{"comments":[{"owner":{"account_id":18192712,"reputation":79,"user_id":13238303,"display_name":"michal.kyjovsky"},"score":0,"creation_date":1692096096,"post_id":76881435,"comment_id":135575397,"body_markdown":"Thank you for your response. You see, the proposed solution is the one I want to avoid. I cannot understand why the first run fails with the `null` value of resource fields - it seems that the before each is not triggered. For all subsequent test, it works just fine.","body":"Thank you for your response. You see, the proposed solution is the one I want to avoid. I cannot understand why the first run fails with the <code>null</code> value of resource fields - it seems that the before each is not triggered. For all subsequent test, it works just fine."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1692106635,"post_id":76881435,"comment_id":135577416,"body_markdown":"The reason is as described. Jupiter’s lifecycle resolves the parameters before the call to before-each callback. The second test then uses the schema and tables from the FIRST call to beforeEach. You may not like it, but that’s how Jupiter’s lifecycle is.","body":"The reason is as described. Jupiter’s lifecycle resolves the parameters before the call to before-each callback. The second test then uses the schema and tables from the FIRST call to beforeEach. You may not like it, but that’s how Jupiter’s lifecycle is."}],"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691738309,"creation_date":1691738309,"answer_id":76881435,"question_id":76873620,"body_markdown":"The problem you&#39;re running into is due to Jupiter&#39;s lifecycle: A parameterized test&#39;s parameters are resolved **before** a before-each callback is invoked. \r\n\r\nThe sporadic &quot;success&quot; of your tests stems from the combination of `@TestInstance(TestInstance.Lifecycle.PER_CLASS)` and your double registration of `Db1TestResource` through `@ExtendWith` and `@RegisterExtension`. At least that&#39;s my informed guess.\r\n\r\nOne solution I can see is that you don&#39;t use a parameterised test but iterate over the tables in the test itself, e.g.\r\n\r\n```java\r\n@Test\r\nvoid getAllTablesForDefinedSchemasTest() {\r\n    getResource().schemas.forEach(schema -&gt; {\r\n        final List&lt;Table&gt; extractedTables = dao.getAllTablesBySchema(schema);\r\n        assertTables(getResource().tables.get(schema), extractedTables);\r\n    });\r\n}\r\n```\r\n\r\nAlternatively, you could have a `ParameterResolver` to inject the list of tables as a parameter to the test method.\r\n\r\nUpdate: Also, remove `@ExtendWith(Db1TestResource.class)` from `Db1DaoTest`. It&#39;s not needed, since you also use a `@RegisterExtension` field.","title":"Junit5: Injection of test extension is null on multiple tests","body":"<p>The problem you're running into is due to Jupiter's lifecycle: A parameterized test's parameters are resolved <strong>before</strong> a before-each callback is invoked.</p>\n<p>The sporadic &quot;success&quot; of your tests stems from the combination of <code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code> and your double registration of <code>Db1TestResource</code> through <code>@ExtendWith</code> and <code>@RegisterExtension</code>. At least that's my informed guess.</p>\n<p>One solution I can see is that you don't use a parameterised test but iterate over the tables in the test itself, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid getAllTablesForDefinedSchemasTest() {\n    getResource().schemas.forEach(schema -&gt; {\n        final List&lt;Table&gt; extractedTables = dao.getAllTablesBySchema(schema);\n        assertTables(getResource().tables.get(schema), extractedTables);\n    });\n}\n</code></pre>\n<p>Alternatively, you could have a <code>ParameterResolver</code> to inject the list of tables as a parameter to the test method.</p>\n<p>Update: Also, remove <code>@ExtendWith(Db1TestResource.class)</code> from <code>Db1DaoTest</code>. It's not needed, since you also use a <code>@RegisterExtension</code> field.</p>\n"}],"owner":{"account_id":18192712,"reputation":79,"user_id":13238303,"display_name":"michal.kyjovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691738309,"creation_date":1691653644,"question_id":76873620,"body_markdown":"I am currently struggling with the Junit5, more precisely with Extensions and Parameterized Tests.\r\n\r\nI have the following test directory structure:\r\n```shell\r\n.\r\n└── daoimpl/\r\n    └── src/\r\n        ├── main/\r\n        │   ├── java/\r\n        │   │   └── ...\r\n        │   └── resources/\r\n        │       └── ...\r\n        └── test/\r\n            ├── java/\r\n            │   └── com/\r\n            │       └── foo/\r\n            │           └── baz/\r\n            │               ├── dao/\r\n            │               │   ├── ADaoTest.java\r\n            │               │   ├── Db1DaoTest.java\r\n            │               │   └── Db2DaoTest.java\r\n            │               └── resources/\r\n            │                   ├── ATestResource.java\r\n            │                   ├── Db1TestResource.java\r\n            │                   └── Db2TestResource.java\r\n            └── resources/\r\n                └── ... // test context configurations\r\n```\r\n\r\nWhere issued class declarations look as follows: \r\n\r\n#### ATestResource.java\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\npublic abstract class ATestResource implements AfterEachCallback, BeforeEachCallback {\r\n\r\n    public List&lt;String&gt; schemas;\r\n\r\n    public Map&lt;String, List&lt;Table&gt;&gt; tables;\r\n}\r\n```\r\n\r\n#### Db1TestResource.java\r\n```java\r\npublic final class Db1TestResource extends ATestResource {\r\n\r\n    @Override\r\n    public void afterEach(ExtensionContext context) {\r\n        // NOP\r\n    }\r\n\r\n    @Override\r\n    public void beforeEach(ExtensionContext context) {\r\n        initSchemas();\r\n        initTables();\r\n    }\r\n}\r\n```\r\n\r\n#### ADaoTest.java\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic abstract class ADaoTest {\r\n\r\n    @Autowired\r\n    DaoImpl dao;\r\n\r\n    abstract ATestResource getResource();\r\n\r\n    private Stream&lt;Arguments&gt; prepareSchemas() {\r\n        return getResource().schemas.stream()\r\n                .map(Arguments::of);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;prepareSchemas&quot;)\r\n    void getAllTablesForDefinedSchemasTest(String schema) {\r\n        final List&lt;Table&gt; extractedTables = dao.getAllTablesBySchema(schema);\r\n        assertTables(getResource().tables.get(schema), extractedTables);\r\n    }\r\n    // ...more tests\r\n}\r\n```\r\n\r\n#### Db1DaoTest.java\r\n```java\r\n@ExtendWith(Db1TestResource.class)\r\n@ContextConfiguration(locations = { &quot;/Db1DaoTest.xml&quot; })\r\nclass Db1DaoTest extends ADaoTest {\r\n\r\n    @RegisterExtension\r\n    Db1TestResource testResource = new Db1TestResource();\r\n\r\n    @Override\r\n    Db1TestResource getResource() {\r\n        return testResource;\r\n    }\r\n}\r\n```\r\n\r\nBasically, what I try to achieve is to have one test suite for multiple databases of different types. The `ADaoTest` should then be injected with the correct extension. Everything works fine if I loop manually through the test resource in the individual test scenario. However, this solution is not transparent, and if some of the test resources fail on regression, it is inconvenient for debugging as it requires looping through all schemas and tables. \r\n\r\nIf I try to use the `ParametrizedTest` of **Junit5** getResource in the method source is `null`. Furthermore, it is `null` after the first test run (time to time - nondeterministic behavior). \r\n\r\nDoes anyone know how to approach this so I can use Parametrized Tests without changing the class structure? Any help is much appreciated.","title":"Junit5: Injection of test extension is null on multiple tests","body":"<p>I am currently struggling with the Junit5, more precisely with Extensions and Parameterized Tests.</p>\n<p>I have the following test directory structure:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>.\n└── daoimpl/\n    └── src/\n        ├── main/\n        │   ├── java/\n        │   │   └── ...\n        │   └── resources/\n        │       └── ...\n        └── test/\n            ├── java/\n            │   └── com/\n            │       └── foo/\n            │           └── baz/\n            │               ├── dao/\n            │               │   ├── ADaoTest.java\n            │               │   ├── Db1DaoTest.java\n            │               │   └── Db2DaoTest.java\n            │               └── resources/\n            │                   ├── ATestResource.java\n            │                   ├── Db1TestResource.java\n            │                   └── Db2TestResource.java\n            └── resources/\n                └── ... // test context configurations\n</code></pre>\n<p>Where issued class declarations look as follows:</p>\n<h4>ATestResource.java</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\npublic abstract class ATestResource implements AfterEachCallback, BeforeEachCallback {\n\n    public List&lt;String&gt; schemas;\n\n    public Map&lt;String, List&lt;Table&gt;&gt; tables;\n}\n</code></pre>\n<h4>Db1TestResource.java</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Db1TestResource extends ATestResource {\n\n    @Override\n    public void afterEach(ExtensionContext context) {\n        // NOP\n    }\n\n    @Override\n    public void beforeEach(ExtensionContext context) {\n        initSchemas();\n        initTables();\n    }\n}\n</code></pre>\n<h4>ADaoTest.java</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic abstract class ADaoTest {\n\n    @Autowired\n    DaoImpl dao;\n\n    abstract ATestResource getResource();\n\n    private Stream&lt;Arguments&gt; prepareSchemas() {\n        return getResource().schemas.stream()\n                .map(Arguments::of);\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;prepareSchemas&quot;)\n    void getAllTablesForDefinedSchemasTest(String schema) {\n        final List&lt;Table&gt; extractedTables = dao.getAllTablesBySchema(schema);\n        assertTables(getResource().tables.get(schema), extractedTables);\n    }\n    // ...more tests\n}\n</code></pre>\n<h4>Db1DaoTest.java</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(Db1TestResource.class)\n@ContextConfiguration(locations = { &quot;/Db1DaoTest.xml&quot; })\nclass Db1DaoTest extends ADaoTest {\n\n    @RegisterExtension\n    Db1TestResource testResource = new Db1TestResource();\n\n    @Override\n    Db1TestResource getResource() {\n        return testResource;\n    }\n}\n</code></pre>\n<p>Basically, what I try to achieve is to have one test suite for multiple databases of different types. The <code>ADaoTest</code> should then be injected with the correct extension. Everything works fine if I loop manually through the test resource in the individual test scenario. However, this solution is not transparent, and if some of the test resources fail on regression, it is inconvenient for debugging as it requires looping through all schemas and tables.</p>\n<p>If I try to use the <code>ParametrizedTest</code> of <strong>Junit5</strong> getResource in the method source is <code>null</code>. Furthermore, it is <code>null</code> after the first test run (time to time - nondeterministic behavior).</p>\n<p>Does anyone know how to approach this so I can use Parametrized Tests without changing the class structure? Any help is much appreciated.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1689496760,"post_id":76697342,"comment_id":135219421,"body_markdown":"Why shouldn&#39;t it?","body":"Why shouldn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1690615143,"creation_date":1689497969,"answer_id":76697436,"question_id":76697342,"body_markdown":"because Arrays.asList() returns a List of Serializables &quot;and &#39;hello&#39; is serializable&quot; so no problem there\r\n\r\nso this\r\n\r\n    List&lt;? super Number&gt; numList = Arrays.asList(1, 2, 3.0, &quot;hello&quot;);\r\nis like\r\n\r\n    List&lt;? super Number&gt; numList = new ArrayList&lt;Serializable&gt;();\r\n\r\nwhich is acceptable at compile time because Number implements Serializable.\r\n\r\nto make it not work you need to tell Arrays.asList() to return List of Numbers like this\r\n\r\n    List&lt;? super Number&gt; numList = Arrays.&lt;Number&gt;asList(1, 2, 3.0, &quot;hello&quot;);\r\n\r\n\r\n----------\r\n**Edit:**\r\n\r\nArrays.asList(). what happens behind the scenes is &#39;from docs&#39;\r\n&gt; Java compiler looks at each method invocation and corresponding declaration to determine the type argument (or arguments) that make the invocation applicable. The inference algorithm determines the types of the arguments and, if available, the type that the result is being assigned, or returned. Finally, the inference algorithm tries to find the most specific type that works with all of the arguments.\r\n\r\nyou can find more examples [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html","title":"Java Generics: lower bound, can add an object to a list using Arrays.asList but not using List.add","body":"<p>because Arrays.asList() returns a List of Serializables &quot;and 'hello' is serializable&quot; so no problem there</p>\n<p>so this</p>\n<pre><code>List&lt;? super Number&gt; numList = Arrays.asList(1, 2, 3.0, &quot;hello&quot;);\n</code></pre>\n<p>is like</p>\n<pre><code>List&lt;? super Number&gt; numList = new ArrayList&lt;Serializable&gt;();\n</code></pre>\n<p>which is acceptable at compile time because Number implements Serializable.</p>\n<p>to make it not work you need to tell Arrays.asList() to return List of Numbers like this</p>\n<pre><code>List&lt;? super Number&gt; numList = Arrays.&lt;Number&gt;asList(1, 2, 3.0, &quot;hello&quot;);\n</code></pre>\n<hr />\n<p><strong>Edit:</strong></p>\n<p>Arrays.asList(). what happens behind the scenes is 'from docs'</p>\n<blockquote>\n<p>Java compiler looks at each method invocation and corresponding declaration to determine the type argument (or arguments) that make the invocation applicable. The inference algorithm determines the types of the arguments and, if available, the type that the result is being assigned, or returned. Finally, the inference algorithm tries to find the most specific type that works with all of the arguments.</p>\n</blockquote>\n<p>you can find more examples <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1689512096,"post_id":76697870,"comment_id":135220995,"body_markdown":"The first part is technically true but irrelevant. The second and third part are simply wrong, you cannot retrieve anything other than an Object from that List. And you can add anything that is a Number into both lists. You are confusing `super` and `extends`.","body":"The first part is technically true but irrelevant. The second and third part are simply wrong, you cannot retrieve anything other than an Object from that List. And you can add anything that is a Number into both lists. You are confusing <code>super</code> and <code>extends</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689801941,"post_id":76697870,"comment_id":135266945,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76697870/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20607999,"reputation":1,"user_id":15127764,"display_name":"Dat Le"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689504763,"creation_date":1689504763,"answer_id":76697870,"question_id":76697342,"body_markdown":"Arrays.asList doesn&#39;t check the type at compile time. You should read about this behavior so that you can understand that you can add anything to this list. However, during compilation, you can obtain the type of Number from this ArrayList, but not String.","title":"Java Generics: lower bound, can add an object to a list using Arrays.asList but not using List.add","body":"<p>Arrays.asList doesn't check the type at compile time. You should read about this behavior so that you can understand that you can add anything to this list. However, during compilation, you can obtain the type of Number from this ArrayList, but not String.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691738115,"creation_date":1691738115,"answer_id":76881416,"question_id":76697342,"body_markdown":"The first `numList.add(&quot;hello&quot;);` doesn&#39;t compile because all it knows at that point is that `numList` is a `List&lt;? super Number&gt;`. So `numList` can point to anything that is a subtype of `List&lt;? super Number&gt;`, for example, `List&lt;Number&gt;`, and you wouldn&#39;t be able to add `&quot;hello&quot;` to a `List&lt;Number&gt;`. Since it might not work for some possible types that `numList` can point to, it cannot allow you to do this.\r\n\r\nNow of course, you know that `numList` points to a newly-created `ArrayList`, created with a diamond operator, from a few lines up, and so it should be safe for us to assume that this is an `ArrayList&lt;Object&gt;` for example. But the compiler does not look &quot;a few lines up&quot; -- it must determine whether the statement is legal based on that statement only, and the types of the variables. So it cannot let you do it.\r\n\r\nEven if you had assigned an actual `List&lt;Object&gt;` to `numList`, it would still not let you do it:\r\n\r\n    List&lt;Object&gt; objList = new ArrayList&lt;Object&gt;();\r\n    List&lt;? super Number&gt; numList = objList;\r\n    numList.add(&quot;hello&quot;); // does not compile\r\n\r\nBecause again, it only looks at the type of `numList`. The fact that it was assigned from a `List&lt;Object&gt;` is not remembered.\r\n\r\nOn the other hand, if you had put the element into a `List&lt;Object&gt;`, and then assigned it to the `List&lt;? super Number&gt;`, that would be fine:\r\n\r\n    List&lt;Object&gt; objList = new ArrayList&lt;Object&gt;();\r\n    objList.add(&quot;hello&quot;);\r\n    List&lt;? super Number&gt; numList = objList;\r\n\r\nThis is because you are adding it to a `List&lt;Object&gt;`, which is known to be able to take `&quot;hello&quot;`.\r\n\r\nYour second piece of code basically does this. It creates a List first (it might be a `List&lt;Object&gt;` or `List&lt;Serializable&gt;`; it doesn&#39;t really matter either way), puts the elements in, before then assigning it to the `numList` variable of type `List&lt;? super Number&gt;`.\r\n\r\nBasically, when you assign from a more specific type to a more general type, you might not be able to do things with the more general type that you can do with the more specific type.","title":"Java Generics: lower bound, can add an object to a list using Arrays.asList but not using List.add","body":"<p>The first <code>numList.add(&quot;hello&quot;);</code> doesn't compile because all it knows at that point is that <code>numList</code> is a <code>List&lt;? super Number&gt;</code>. So <code>numList</code> can point to anything that is a subtype of <code>List&lt;? super Number&gt;</code>, for example, <code>List&lt;Number&gt;</code>, and you wouldn't be able to add <code>&quot;hello&quot;</code> to a <code>List&lt;Number&gt;</code>. Since it might not work for some possible types that <code>numList</code> can point to, it cannot allow you to do this.</p>\n<p>Now of course, you know that <code>numList</code> points to a newly-created <code>ArrayList</code>, created with a diamond operator, from a few lines up, and so it should be safe for us to assume that this is an <code>ArrayList&lt;Object&gt;</code> for example. But the compiler does not look &quot;a few lines up&quot; -- it must determine whether the statement is legal based on that statement only, and the types of the variables. So it cannot let you do it.</p>\n<p>Even if you had assigned an actual <code>List&lt;Object&gt;</code> to <code>numList</code>, it would still not let you do it:</p>\n<pre><code>List&lt;Object&gt; objList = new ArrayList&lt;Object&gt;();\nList&lt;? super Number&gt; numList = objList;\nnumList.add(&quot;hello&quot;); // does not compile\n</code></pre>\n<p>Because again, it only looks at the type of <code>numList</code>. The fact that it was assigned from a <code>List&lt;Object&gt;</code> is not remembered.</p>\n<p>On the other hand, if you had put the element into a <code>List&lt;Object&gt;</code>, and then assigned it to the <code>List&lt;? super Number&gt;</code>, that would be fine:</p>\n<pre><code>List&lt;Object&gt; objList = new ArrayList&lt;Object&gt;();\nobjList.add(&quot;hello&quot;);\nList&lt;? super Number&gt; numList = objList;\n</code></pre>\n<p>This is because you are adding it to a <code>List&lt;Object&gt;</code>, which is known to be able to take <code>&quot;hello&quot;</code>.</p>\n<p>Your second piece of code basically does this. It creates a List first (it might be a <code>List&lt;Object&gt;</code> or <code>List&lt;Serializable&gt;</code>; it doesn't really matter either way), puts the elements in, before then assigning it to the <code>numList</code> variable of type <code>List&lt;? super Number&gt;</code>.</p>\n<p>Basically, when you assign from a more specific type to a more general type, you might not be able to do things with the more general type that you can do with the more specific type.</p>\n"}],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76697436,"answer_count":3,"score":1,"last_activity_date":1691738115,"creation_date":1689496377,"question_id":76697342,"body_markdown":"Trying to add &quot;hello&quot; to List with lower bound of a Number.\r\n\r\nThis does not work (as expected):\r\n\r\n    List&lt;? super Number&gt; numList = new ArrayList&lt;&gt;();\r\n    numList.add(1);\r\n    numList.add(3.0);\r\n    numList.add(&quot;hello&quot;); // &lt;--- fails here with (&#39;add(capture&lt;? super java.lang.Number&gt;)&#39; in &#39;java.util.List&#39; cannot be applied to &#39;(java.lang.Object)&#39;)\r\n\r\nThis works (why does it work?):\r\n\r\n    List&lt;? super Number&gt; numList = Arrays.asList(1, 2, 3.0, &quot;hello&quot;); \r\n\r\nNote: the numList is lower bounded by Number and &quot;Hello&quot; is a String.","title":"Java Generics: lower bound, can add an object to a list using Arrays.asList but not using List.add","body":"<p>Trying to add &quot;hello&quot; to List with lower bound of a Number.</p>\n<p>This does not work (as expected):</p>\n<pre><code>List&lt;? super Number&gt; numList = new ArrayList&lt;&gt;();\nnumList.add(1);\nnumList.add(3.0);\nnumList.add(&quot;hello&quot;); // &lt;--- fails here with ('add(capture&lt;? super java.lang.Number&gt;)' in 'java.util.List' cannot be applied to '(java.lang.Object)')\n</code></pre>\n<p>This works (why does it work?):</p>\n<pre><code>List&lt;? super Number&gt; numList = Arrays.asList(1, 2, 3.0, &quot;hello&quot;); \n</code></pre>\n<p>Note: the numList is lower bounded by Number and &quot;Hello&quot; is a String.</p>\n"},{"tags":["java","android","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":23340559,"reputation":366,"user_id":17415517,"display_name":"Khush Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691738095,"creation_date":1691738095,"answer_id":76881412,"question_id":76879859,"body_markdown":"For mInterstitialAd there are some difference from the **banner** ad.\r\n\r\nAbout your first question is **mInterstitialAd** can be set to **null** in `onPause()` and `onDestroy()` methods. So for the clearance you should not set it to **null** directly. The callbacks `onAdDismissedFullScreenContent()` &amp; `onAdFailedToShowFullScreenContent()` are specific to interstitial ads which provides the handling system about when the ad is dismissed or failed to show. Generally you don&#39;t need to manage the null management as the Admob&#39;s SDK manage the lifecycle of the interstitial ad.\r\nIn case for the proper memory management you can set `mInterstitialAd = null` in `onDestroy()` method when your **activity/fragment** won&#39;t be using the same anymore.\r\n\r\nAbout your second question that Why I can&#39;t see something like `mInterstitialAd.pause()` or `mInterstitialAd.destroy()` as banner ads have?\r\nFor this basically interstitial ads can be closed manually by the user so when you need to show the ad you will request the ad about to be shown and when the user interact or closes the ad it will be dismissed and the whole dismiss functionality is managed by the SDK with proper lifecycle management automatically. You don&#39;t need to manually **pause** or **destroy** the ad by programmatically, so there is no need for the methods `destroy()` or `pause()` ,SDK by itself manage the same for you so it is the feature of the SDK we can say that.\r\n\r\nHope you had your answer.","title":"Should mInterstitialAd be set to null in onPause() and in onDestroy() methods?","body":"<p>For mInterstitialAd there are some difference from the <strong>banner</strong> ad.</p>\n<p>About your first question is <strong>mInterstitialAd</strong> can be set to <strong>null</strong> in <code>onPause()</code> and <code>onDestroy()</code> methods. So for the clearance you should not set it to <strong>null</strong> directly. The callbacks <code>onAdDismissedFullScreenContent()</code> &amp; <code>onAdFailedToShowFullScreenContent()</code> are specific to interstitial ads which provides the handling system about when the ad is dismissed or failed to show. Generally you don't need to manage the null management as the Admob's SDK manage the lifecycle of the interstitial ad.\nIn case for the proper memory management you can set <code>mInterstitialAd = null</code> in <code>onDestroy()</code> method when your <strong>activity/fragment</strong> won't be using the same anymore.</p>\n<p>About your second question that Why I can't see something like <code>mInterstitialAd.pause()</code> or <code>mInterstitialAd.destroy()</code> as banner ads have?\nFor this basically interstitial ads can be closed manually by the user so when you need to show the ad you will request the ad about to be shown and when the user interact or closes the ad it will be dismissed and the whole dismiss functionality is managed by the SDK with proper lifecycle management automatically. You don't need to manually <strong>pause</strong> or <strong>destroy</strong> the ad by programmatically, so there is no need for the methods <code>destroy()</code> or <code>pause()</code> ,SDK by itself manage the same for you so it is the feature of the SDK we can say that.</p>\n<p>Hope you had your answer.</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691738095,"creation_date":1691709533,"question_id":76879859,"body_markdown":"I have seen that mInterstitialAd must be set to null in `onAdDismissedFullScreenContent()` and in `onAdFailedToShowFullScreenContent()` methods. Now my question is if that should be done also in `onPause()` and `onDestroy()` methods.\r\n\r\n        import com.google.android.gms.ads.interstitial.InterstitialAd;\r\n        import com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\n        \r\n        public class MainActivity extends Activity {\r\n        \r\n            private InterstitialAd mInterstitialAd;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n              super.onCreate(savedInstanceState);\r\n              setContentView(R.layout.activity_main);\r\n        \r\n              MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n              });\r\n              AdRequest adRequest = new AdRequest.Builder().build();\r\n        \r\n              InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                new InterstitialAdLoadCallback() {\r\n              @Override\r\n              public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                // The mInterstitialAd reference will be null until\r\n                // an ad is loaded.\r\n                mInterstitialAd = interstitialAd;\r\n                Log.i(TAG, &quot;onAdLoaded&quot;);\r\n              }\r\n        \r\n              @Override\r\n              public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                // Handle the error\r\n                Log.d(TAG, loadAdError.toString());\r\n                mInterstitialAd = null;\r\n              }\r\n            });\r\n          }\r\n        private void showAd() {\r\n            mInterstitialAd.show(HomeActivity.this);\r\n            mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                @Override\r\n                public void onAdDismissedFullScreenContent() {\r\n                    super.onAdDismissedFullScreenContent();\r\n                    mInterstitialAd = null;\r\n                   \r\n                }\r\n    \r\n                @Override\r\n                public void onAdFailedToShowFullScreenContent()() {\r\n                    mInterstitialAd = null;\r\n                   \r\n                }\r\n    \r\n    \r\n            });\r\n        }\r\n    \r\n    //SHOULD I SET mInterstitialAd TO NULL ALSO IN THE FOLLOWING METHODS? : \r\n        @Override\r\n        public void onPause() {\r\n            mInterstitialAd = null;\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            mInterstitialAd = null;\r\n            super.onDestroy();\r\n        }\r\n    \r\n        }\r\n\r\nI have seen that banner ads (mAdview) are destroyed in onDestroy() and paused in onPause().But, should mInterstitialAd be set to null in these methods? I also have the following question that is related: Why I can&#39;t see something like mInterstitialAd.pause() or mInterstitialAd.destroy() as banner ads have?","title":"Should mInterstitialAd be set to null in onPause() and in onDestroy() methods?","body":"<p>I have seen that mInterstitialAd must be set to null in <code>onAdDismissedFullScreenContent()</code> and in <code>onAdFailedToShowFullScreenContent()</code> methods. Now my question is if that should be done also in <code>onPause()</code> and <code>onDestroy()</code> methods.</p>\n<pre><code>    import com.google.android.gms.ads.interstitial.InterstitialAd;\n    import com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\n    \n    public class MainActivity extends Activity {\n    \n        private InterstitialAd mInterstitialAd;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n          super.onCreate(savedInstanceState);\n          setContentView(R.layout.activity_main);\n    \n          MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\n          });\n          AdRequest adRequest = new AdRequest.Builder().build();\n    \n          InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n            new InterstitialAdLoadCallback() {\n          @Override\n          public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n            // The mInterstitialAd reference will be null until\n            // an ad is loaded.\n            mInterstitialAd = interstitialAd;\n            Log.i(TAG, &quot;onAdLoaded&quot;);\n          }\n    \n          @Override\n          public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n            // Handle the error\n            Log.d(TAG, loadAdError.toString());\n            mInterstitialAd = null;\n          }\n        });\n      }\n    private void showAd() {\n        mInterstitialAd.show(HomeActivity.this);\n        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n            @Override\n            public void onAdDismissedFullScreenContent() {\n                super.onAdDismissedFullScreenContent();\n                mInterstitialAd = null;\n               \n            }\n\n            @Override\n            public void onAdFailedToShowFullScreenContent()() {\n                mInterstitialAd = null;\n               \n            }\n\n\n        });\n    }\n\n//SHOULD I SET mInterstitialAd TO NULL ALSO IN THE FOLLOWING METHODS? : \n    @Override\n    public void onPause() {\n        mInterstitialAd = null;\n        super.onPause();\n    }\n\n    @Override\n    public void onDestroy() {\n        mInterstitialAd = null;\n        super.onDestroy();\n    }\n\n    }\n</code></pre>\n<p>I have seen that banner ads (mAdview) are destroyed in onDestroy() and paused in onPause().But, should mInterstitialAd be set to null in these methods? I also have the following question that is related: Why I can't see something like mInterstitialAd.pause() or mInterstitialAd.destroy() as banner ads have?</p>\n"},{"tags":["java","gradle","plugins"],"comments":[{"owner":{"account_id":9115426,"reputation":25155,"user_id":6782707,"accept_rate":100,"display_name":"Edric"},"score":0,"creation_date":1691692944,"post_id":76875824,"comment_id":135529603,"body_markdown":"What does the `Object1` Gradle extension class look like?","body":"What does the <code>Object1</code> Gradle extension class look like?"},{"owner":{"account_id":21368164,"reputation":71,"user_id":15736063,"display_name":"ImiChau"},"score":0,"creation_date":1691737916,"post_id":76875824,"comment_id":135534858,"body_markdown":"Hi @Edric I added how Object1 looks like","body":"Hi @Edric I added how Object1 looks like"}],"owner":{"account_id":21368164,"reputation":71,"user_id":15736063,"display_name":"ImiChau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691737828,"creation_date":1691671202,"question_id":76875824,"body_markdown":"We are trying to move from Gradle 7.5 to 8.0.\r\nWe are having problems with a plugin when we try to recover several extension properties.\r\nIn our build.gradle file, we have an extructure like:\r\n\r\n    Object1 {\r\n    \tpropertie1 &quot;value1&quot;\t\r\n    \t\r\n    \tobject2 {\r\n    \t\tpropertie2 &quot;value2&quot;\r\n    \t\tpropertie3 &quot;value3&quot;\r\n    \t\tpropertie4 &quot;value4&quot;\r\n    \t}\r\n    }\r\n\r\nIn the plugin code, we are doing:\r\n\r\n    public void apply(Project project) {\r\n    \tNamedDomainObjectContainer&lt;DocumentResource&gt; resources = project.container(DocumentResource.class);\r\n    \tObject1 extension = project.getExtensions().create(&quot;Object1&quot;, Object1.class, project, resources);\r\n    \tproject.afterEvaluate(action -&gt; {\r\n    \t\tSystem.out.println(extension.getPropertie1());\r\n    \t\tSystem.out.println(extension.getobject2());\r\n\r\n\t\t\r\nWith Gradle 7.5 the code works ok and both values are present, but with 8.0 version, second value is null; even more, if we modify the the order in build.gradle file, defining the object2 before propertie1, in 8.0 version both values are null.\r\n\r\nDoing tests, we notice that if the object2 is moved out of the Object1, Gradle 8.0 works ok:\r\n\r\n    Object1 {\r\n    \tpropertie1 &quot;value1&quot;\t\r\n    }\r\n    object2 {\r\n    \tpropertie2 &quot;value2&quot;\r\n    \tpropertie3 &quot;value3&quot;\r\n    \tpropertie4 &quot;value4&quot;\r\n    }\r\n\r\nAny idea about how to solve it?\r\n\r\nObject1 class looks like:\r\n\r\n    import org.gradle.api.NamedDomainObjectContainer;\r\n    import org.gradle.api.Project;\r\n    \r\n    import groovy.lang.Closure;\r\n    \r\n    public class Object1 {\r\n    \tNamedDomainObjectContainer&lt;Object3&gt; resources;\r\n    \tprivate Project project;\r\n    \tprivate String propertie1;\r\n    \tprivate Object2 object2;\r\n    \t\r\n    \tpublic Object1(Project project, NamedDomainObjectContainer&lt;Object3&gt; resources) {\r\n    \t\tthis.project = project;\r\n    \t\tthis.resources = resources;\r\n    \t}\r\n    \r\n    \tpublic Project getProject() {\r\n    \t\treturn project;\r\n    \t}\t\r\n    \t\r\n    \tvoid resources(Closure&lt;?&gt; closure) {\r\n    \t\tresources.configure(closure);\r\n    \t}\r\n    \t\r\n    \tpublic NamedDomainObjectContainer&lt;DocumentResource&gt; getResources() {\r\n    \t\treturn resources;\r\n    \t}\r\n    \r\n    \tpublic void setResources(NamedDomainObjectContainer&lt;DocumentResource&gt; resources) {\r\n    \t\tthis.resources = resources;\r\n    \t}\r\n    \t\r\n    \tvoid propertie1(String propertie1) {\r\n    \t\tthis.propertie1 = propertie1;\r\n    \t}\r\n    \r\n    \tpublic String getpropertie1() {\r\n    \t\treturn propertie1;\r\n    \t}\r\n    \r\n    \tvoid object2(Object2 object2) {\r\n    \t\tthis.object2 = object2;\r\n    \t}\r\n    \t\r\n    \tpublic Object2 object2() {\r\n    \t\treturn object2;\r\n    \t}\r\n    }\t\r\n\r\n","title":"Weird behavior in project.afterEvaluate when move from Gradle 7.5 to 8.0 version","body":"<p>We are trying to move from Gradle 7.5 to 8.0.\nWe are having problems with a plugin when we try to recover several extension properties.\nIn our build.gradle file, we have an extructure like:</p>\n<pre><code>Object1 {\n    propertie1 &quot;value1&quot; \n    \n    object2 {\n        propertie2 &quot;value2&quot;\n        propertie3 &quot;value3&quot;\n        propertie4 &quot;value4&quot;\n    }\n}\n</code></pre>\n<p>In the plugin code, we are doing:</p>\n<pre><code>public void apply(Project project) {\n    NamedDomainObjectContainer&lt;DocumentResource&gt; resources = project.container(DocumentResource.class);\n    Object1 extension = project.getExtensions().create(&quot;Object1&quot;, Object1.class, project, resources);\n    project.afterEvaluate(action -&gt; {\n        System.out.println(extension.getPropertie1());\n        System.out.println(extension.getobject2());\n\n    \n</code></pre>\n<p>With Gradle 7.5 the code works ok and both values are present, but with 8.0 version, second value is null; even more, if we modify the the order in build.gradle file, defining the object2 before propertie1, in 8.0 version both values are null.</p>\n<p>Doing tests, we notice that if the object2 is moved out of the Object1, Gradle 8.0 works ok:</p>\n<pre><code>Object1 {\n    propertie1 &quot;value1&quot; \n}\nobject2 {\n    propertie2 &quot;value2&quot;\n    propertie3 &quot;value3&quot;\n    propertie4 &quot;value4&quot;\n}\n</code></pre>\n<p>Any idea about how to solve it?</p>\n<p>Object1 class looks like:</p>\n<pre><code>import org.gradle.api.NamedDomainObjectContainer;\nimport org.gradle.api.Project;\n\nimport groovy.lang.Closure;\n\npublic class Object1 {\n    NamedDomainObjectContainer&lt;Object3&gt; resources;\n    private Project project;\n    private String propertie1;\n    private Object2 object2;\n    \n    public Object1(Project project, NamedDomainObjectContainer&lt;Object3&gt; resources) {\n        this.project = project;\n        this.resources = resources;\n    }\n\n    public Project getProject() {\n        return project;\n    }   \n    \n    void resources(Closure&lt;?&gt; closure) {\n        resources.configure(closure);\n    }\n    \n    public NamedDomainObjectContainer&lt;DocumentResource&gt; getResources() {\n        return resources;\n    }\n\n    public void setResources(NamedDomainObjectContainer&lt;DocumentResource&gt; resources) {\n        this.resources = resources;\n    }\n    \n    void propertie1(String propertie1) {\n        this.propertie1 = propertie1;\n    }\n\n    public String getpropertie1() {\n        return propertie1;\n    }\n\n    void object2(Object2 object2) {\n        this.object2 = object2;\n    }\n    \n    public Object2 object2() {\n        return object2;\n    }\n}   \n</code></pre>\n"},{"tags":["java","jvm","presto","trino"],"answers":[{"tags":[],"owner":{"account_id":9427384,"reputation":384,"user_id":7011918,"accept_rate":67,"display_name":"AS-Sher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691737768,"creation_date":1691737768,"answer_id":76881387,"question_id":76778255,"body_markdown":"I had the following flags in the jvm config.\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n-XX:OnOutOfMemoryError=kill -9 %p\r\n\r\ndue to this whenever there was an OOM the process would dump its heap onto disk and kill the process. \r\nThe worker nodes disk utilization was too high (&gt;95%) which was preventing the trino process to start.\r\n\r\nAfter looking around I figured the OOM issue was due to this issue :- https://bugs.openjdk.org/browse/JDK-8293861\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo fix this I added the following jvm props\r\n-XX:+UnlockDiagnosticVMOptions\r\n-XX:-G1UsePreventiveGC\r\n\r\nThis prevents the process from going into OOM due to GC\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vyjHs.png","title":"Encountered too many errors talking to a worker node with trino","body":"<p>I had the following flags in the jvm config.\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:OnOutOfMemoryError=kill -9 %p</p>\n<p>due to this whenever there was an OOM the process would dump its heap onto disk and kill the process.\nThe worker nodes disk utilization was too high (&gt;95%) which was preventing the trino process to start.</p>\n<p>After looking around I figured the OOM issue was due to this issue :- <a href=\"https://bugs.openjdk.org/browse/JDK-8293861\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8293861</a></p>\n<p><a href=\"https://i.stack.imgur.com/vyjHs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vyjHs.png\" alt=\"enter image description here\" /></a></p>\n<p>To fix this I added the following jvm props\n-XX:+UnlockDiagnosticVMOptions\n-XX:-G1UsePreventiveGC</p>\n<p>This prevents the process from going into OOM due to GC</p>\n"}],"owner":{"account_id":9427384,"reputation":384,"user_id":7011918,"accept_rate":67,"display_name":"AS-Sher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76881387,"answer_count":1,"score":1,"last_activity_date":1691737768,"creation_date":1690449502,"question_id":76778255,"body_markdown":"Facing this issue using while running a single large query. Can we kill such queries before this error occurs?\r\n```io.trino.operator.PageTransportTimeoutException: Encountered too many errors talking to a worker node. The node may have crashed or be under too much load. This is probably a transient issue, so please retry your query in a few minutes. (http://172.22.66.206:8889/v1/task/20230727_083615_00032_edi7s.0.0.0/results/0/0 - 30 failures, failure duration 302.86s, total failed request time 312.86s)```\r\n\r\n3 node cluster m6g.16xlarge (coordinator and 2 worker)\r\n```coordinator=false\r\nnode-scheduler.include-coordinator=false\r\ndiscovery.uri=http://ip-172-22-69-150.ec2.internal:8889\r\nhttp-server.threads.max=500\r\nsink.max-buffer-size=1GB\r\nquery.max-memory=3000GB\r\nquery.max-memory-per-node=60GB\r\nquery.max-history=40\r\nquery.min-expire-age=30m\r\nquery.client.timeout=30m\r\nquery.stage-count-warning-threshold=100\r\nquery.max-stage-count=150\r\nhttp-server.http.port=8889\r\nhttp-server.log.path=/var/log/trino/http-request.log\r\nhttp-server.log.max-size=67108864B\r\nhttp-server.log.max-history=5\r\nlog.max-size=268435456B\r\njmx.rmiregistry.port = 9080\r\njmx.rmiserver.port = 9081\r\nnode-scheduler.max-splits-per-node = 200\r\nexperimental.query-max-spill-per-node = 50GB\r\ngraceful-shutdown-timeout = 3600s\r\ntask.concurrency = 16\r\nquery.execution-policy = phased\r\nexperimental.max-spill-per-node = 100GB\r\nquery.max-concurrent-queries = 20\r\nquery.max-total-memory = 5000GB\r\n```","title":"Encountered too many errors talking to a worker node with trino","body":"<p>Facing this issue using while running a single large query. Can we kill such queries before this error occurs?\n<code>io.trino.operator.PageTransportTimeoutException: Encountered too many errors talking to a worker node. The node may have crashed or be under too much load. This is probably a transient issue, so please retry your query in a few minutes. (http://172.22.66.206:8889/v1/task/20230727_083615_00032_edi7s.0.0.0/results/0/0 - 30 failures, failure duration 302.86s, total failed request time 312.86s)</code></p>\n<p>3 node cluster m6g.16xlarge (coordinator and 2 worker)</p>\n<pre><code>node-scheduler.include-coordinator=false\ndiscovery.uri=http://ip-172-22-69-150.ec2.internal:8889\nhttp-server.threads.max=500\nsink.max-buffer-size=1GB\nquery.max-memory=3000GB\nquery.max-memory-per-node=60GB\nquery.max-history=40\nquery.min-expire-age=30m\nquery.client.timeout=30m\nquery.stage-count-warning-threshold=100\nquery.max-stage-count=150\nhttp-server.http.port=8889\nhttp-server.log.path=/var/log/trino/http-request.log\nhttp-server.log.max-size=67108864B\nhttp-server.log.max-history=5\nlog.max-size=268435456B\njmx.rmiregistry.port = 9080\njmx.rmiserver.port = 9081\nnode-scheduler.max-splits-per-node = 200\nexperimental.query-max-spill-per-node = 50GB\ngraceful-shutdown-timeout = 3600s\ntask.concurrency = 16\nquery.execution-policy = phased\nexperimental.max-spill-per-node = 100GB\nquery.max-concurrent-queries = 20\nquery.max-total-memory = 5000GB\n</code></pre>\n"},{"tags":["java","stringescapeutils","apache-commons-lang3"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1488183447,"post_id":42480722,"comment_id":72101292,"body_markdown":"Why are you escaping HTML if you are using it in JSON? Escaping HTML is for using the string in HTML.","body":"Why are you escaping HTML if you are using it in JSON? Escaping HTML is for using the string in HTML."},{"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"score":1,"creation_date":1488183648,"post_id":42480722,"comment_id":72101392,"body_markdown":"I was not able to reproduce your issue using the Version 3.5 of the commons-lang3.\n\nCan you share with us more details, please?","body":"I was not able to reproduce your issue using the Version 3.5 of the commons-lang3.  Can you share with us more details, please?"},{"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"score":0,"creation_date":1488183850,"post_id":42480722,"comment_id":72101501,"body_markdown":"`escapeHTML4` works fine for me and prints no quotes unless the string is `&quot;\\&quot;user001\\&quot;&quot;`","body":"<code>escapeHTML4</code> works fine for me and prints no quotes unless the string is <code>&quot;\\&quot;user001\\&quot;&quot;</code>"}],"answers":[{"comments":[{"owner":{"account_id":2319721,"reputation":6500,"user_id":2035845,"accept_rate":56,"display_name":"Rashmi Ranjan mallick"},"score":0,"creation_date":1488184828,"post_id":42480784,"comment_id":72102041,"body_markdown":"@Raman-Thanks. I want to prevent chances of script injection inside my JSon input. What should I use in this- escapeJava() or escapeJson()?","body":"@Raman-Thanks. I want to prevent chances of script injection inside my JSon input. What should I use in this- escapeJava() or escapeJson()?"},{"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"score":0,"creation_date":1488185834,"post_id":42480784,"comment_id":72102661,"body_markdown":"@RashmiRanjanmallick they both are almost similar, with the only difference being that in Json, forward-slash (/) is escaped. You can use any of them, however, if you&#39;re intending to use it with some JSON parser, then it&#39;s better to use `escapeJson()` method.","body":"@RashmiRanjanmallick they both are almost similar, with the only difference being that in Json, forward-slash (/) is escaped. You can use any of them, however, if you&#39;re intending to use it with some JSON parser, then it&#39;s better to use <code>escapeJson()</code> method."}],"tags":[],"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488183598,"creation_date":1488183598,"answer_id":42480784,"question_id":42480722,"body_markdown":"Why don&#39;t you use `escapeJava()` instead of `escapeHtml4()`.\r\n\r\n&gt; [escapeJava(String input)][1]  \r\n  Escapes the characters in a String using\r\n&gt; Java String rules.\r\n\r\nIt won&#39;t convert your double quotes to `&amp;quot;` but will simply escape using backslash (which is acceptable in JSON).\r\n\r\n\r\n----------\r\n\r\nYou can also check \r\n\r\n&gt; [escapeJson][2]  \r\n   *public static final String escapeJson(String input)*  \r\n\r\n&gt; Escapes the characters in a String using Json String rules.\r\n&gt; \r\n&gt; Escapes any values it finds into their Json String form. Deals\r\n&gt; correctly with quotes and control-chars (tab, backslash, cr, ff, etc.)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html#escapeJava(java.lang.String)\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html#escapeJson-java.lang.String-","title":"Issue with Java StringEscapeUtils.escapeHtml4()","body":"<p>Why don't you use <code>escapeJava()</code> instead of <code>escapeHtml4()</code>.</p>\n\n<blockquote>\n  <p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html#escapeJava(java.lang.String)\" rel=\"nofollow noreferrer\">escapeJava(String input)</a><br>\n    Escapes the characters in a String using\n  Java String rules.</p>\n</blockquote>\n\n<p>It won't convert your double quotes to <code>&amp;quot;</code> but will simply escape using backslash (which is acceptable in JSON).</p>\n\n<hr>\n\n<p>You can also check </p>\n\n<blockquote>\n  <p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html#escapeJson-java.lang.String-\" rel=\"nofollow noreferrer\">escapeJson</a><br>\n     <em>public static final String escapeJson(String input)</em>  </p>\n  \n  <p>Escapes the characters in a String using Json String rules.</p>\n  \n  <p>Escapes any values it finds into their Json String form. Deals\n  correctly with quotes and control-chars (tab, backslash, cr, ff, etc.)</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2319721,"reputation":6500,"user_id":2035845,"accept_rate":56,"display_name":"Rashmi Ranjan mallick"},"score":0,"creation_date":1488184904,"post_id":42480835,"comment_id":72102100,"body_markdown":"Thanks. I want to prevent chances of script injection inside my JSon input. Will the escapeJson() help me?","body":"Thanks. I want to prevent chances of script injection inside my JSon input. Will the escapeJson() help me?"},{"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"score":0,"creation_date":1488185020,"post_id":42480835,"comment_id":72102168,"body_markdown":"Can you share with us more information, please? I am interested in the part that consumes the result of the StringEscapeUtils.escapeHtml4(&quot;user001&quot;) method.","body":"Can you share with us more information, please? I am interested in the part that consumes the result of the StringEscapeUtils.escapeHtml4(&quot;user001&quot;) method."}],"tags":[],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488183779,"creation_date":1488183779,"answer_id":42480835,"question_id":42480722,"body_markdown":"The issue is not with the `StringEscapeUtils.escapeHtml4()`. The problem might be that you are trying to use a plain string, where your code expects JSON.","title":"Issue with Java StringEscapeUtils.escapeHtml4()","body":"<p>The issue is not with the <code>StringEscapeUtils.escapeHtml4()</code>. The problem might be that you are trying to use a plain string, where your code expects JSON.</p>\n"}],"owner":{"account_id":2319721,"reputation":6500,"user_id":2035845,"accept_rate":56,"display_name":"Rashmi Ranjan mallick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12680,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691737335,"creation_date":1488183298,"question_id":42480722,"body_markdown":"I am trying to escape a string object in my Java application using `StringEscapeUtils.escapeHtml4`. I am using **commons-lang3-3.5.jar** library. \r\n\r\nBelow is the format I am trying to do -\r\n\r\n    StringEscapeUtils.escapeHtml4(&quot;user001&quot;)\r\n\r\nWhen I print in console, the output looks like- `&amp;quot;user001&amp;quot;`\r\n\r\nI actually don&#39;t want my double quot to be converted into escape characters here. Because, after escaping the string, my program doesn&#39;t recognize this as valid string and I am getting malformed JSon. Is there a way to handle this or any better way? Thanks in advance.\r\n","title":"Issue with Java StringEscapeUtils.escapeHtml4()","body":"<p>I am trying to escape a string object in my Java application using <code>StringEscapeUtils.escapeHtml4</code>. I am using <strong>commons-lang3-3.5.jar</strong> library. </p>\n\n<p>Below is the format I am trying to do -</p>\n\n<pre><code>StringEscapeUtils.escapeHtml4(\"user001\")\n</code></pre>\n\n<p>When I print in console, the output looks like- <code>&amp;quot;user001&amp;quot;</code></p>\n\n<p>I actually don't want my double quot to be converted into escape characters here. Because, after escaping the string, my program doesn't recognize this as valid string and I am getting malformed JSon. Is there a way to handle this or any better way? Thanks in advance.</p>\n"},{"tags":["java","random","probability"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1372406085,"post_id":17359834,"comment_id":25191990,"body_markdown":"What sort of &quot;better&quot; are you looking for? That looks reasonable to me...","body":"What sort of &quot;better&quot; are you looking for? That looks reasonable to me..."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1372406140,"post_id":17359834,"comment_id":25192007,"body_markdown":"These are two (essentially) separate problems, so should be asked in two separate posts...","body":"These are two (essentially) separate problems, so should be asked in two separate posts..."},{"owner":{"account_id":1755709,"reputation":2030,"user_id":2515106,"accept_rate":67,"display_name":"diestl"},"score":0,"creation_date":1372406197,"post_id":17359834,"comment_id":25192033,"body_markdown":"@JonSkeet I guess I was hoping for something along the lines of Random.nextBoolean(long probability)","body":"@JonSkeet I guess I was hoping for something along the lines of Random.nextBoolean(long probability)"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1372406435,"post_id":17359834,"comment_id":25192135,"body_markdown":"I&#39;ve snipped out your second question, please post it separately if you want an answer for it. I&#39;ve also voted to close this question, as it is primarily opinion-based.","body":"I&#39;ve snipped out your second question, please post it separately if you want an answer for it. I&#39;ve also voted to close this question, as it is primarily opinion-based."},{"owner":{"account_id":1755709,"reputation":2030,"user_id":2515106,"accept_rate":67,"display_name":"diestl"},"score":0,"creation_date":1372406625,"post_id":17359834,"comment_id":25192225,"body_markdown":"Thanks. I&#39;ll edit the question so it is less opinion based.","body":"Thanks. I&#39;ll edit the question so it is less opinion based."}],"answers":[{"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1372406295,"post_id":17359894,"comment_id":25192077,"body_markdown":"@Baadshah: Hmm, yes.  I&#39;ve reworded now!","body":"@Baadshah: Hmm, yes.  I&#39;ve reworded now!"}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1558110932,"creation_date":1372406085,"answer_id":17359894,"question_id":17359834,"body_markdown":"&gt; I was wondering if there is a better or more natural way of doing this.\r\n\r\nThe approach you&#39;re using already is fine.\r\n\r\n&lt;sup&gt;*&lt;/sup&gt;  As far as I know, there&#39;s not a standard Java method that will make this code any shorter.\r\n\r\n&lt;hr&gt;\r\n&lt;sub&gt;* For non-cryptographic purposes.&lt;/sub&gt;","title":"Random boolean with weight or bias","body":"<blockquote>\n  <p>I was wondering if there is a better or more natural way of doing this.</p>\n</blockquote>\n\n<p>The approach you're using already is fine.</p>\n\n<p><sup>*</sup>  As far as I know, there's not a standard Java method that will make this code any shorter.</p>\n\n<p><hr>\n<sub>* For non-cryptographic purposes.</sub></p>\n"},{"tags":[],"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1372406730,"creation_date":1372406730,"answer_id":17360061,"question_id":17359834,"body_markdown":"1) Yes, i think your approach is valid and I don&#39;t see another easier way.\r\n\r\n2) There is a library for handling random numbers of different statistical distributions:\r\n\r\nhttp://introcs.cs.princeton.edu/java/22library/StdRandom.java.html\r\n\r\n","title":"Random boolean with weight or bias","body":"<p>1) Yes, i think your approach is valid and I don't see another easier way.</p>\n\n<p>2) There is a library for handling random numbers of different statistical distributions:</p>\n\n<p><a href=\"http://introcs.cs.princeton.edu/java/22library/StdRandom.java.html\" rel=\"nofollow\">http://introcs.cs.princeton.edu/java/22library/StdRandom.java.html</a></p>\n"},{"tags":[],"owner":{"account_id":1819192,"reputation":818,"user_id":1653609,"accept_rate":62,"display_name":"rootmeanclaire"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1396982140,"creation_date":1386041263,"answer_id":20342325,"question_id":17359834,"body_markdown":"Your way is probably better, code golf-wise, but another way to do it is like this:\r\n\r\n    public boolean getRandomBoolean() {\r\n        Random random = new Random();\r\n        //For 1 in 5\r\n        int chanceOfTrue = 5;\r\n        \r\n        if (random.nextInt(chanceOfTrue) == 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\nOr for 2 in 5, try this:\r\n\r\n    public boolean getRandomBoolean() {\r\n        Random random = new Random();\r\n        //For 2 in 5\r\n        int chanceOfTrue = 5;\r\n        int randInt = random.nextInt(chanceOfTrue);\r\n        \r\n        if (randInt == 0 || randInt == 1) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Random boolean with weight or bias","body":"<p>Your way is probably better, code golf-wise, but another way to do it is like this:</p>\n\n<pre><code>public boolean getRandomBoolean() {\n    Random random = new Random();\n    //For 1 in 5\n    int chanceOfTrue = 5;\n\n    if (random.nextInt(chanceOfTrue) == 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Or for 2 in 5, try this:</p>\n\n<pre><code>public boolean getRandomBoolean() {\n    Random random = new Random();\n    //For 2 in 5\n    int chanceOfTrue = 5;\n    int randInt = random.nextInt(chanceOfTrue);\n\n    if (randInt == 0 || randInt == 1) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":267265,"reputation":4348,"user_id":555336,"accept_rate":82,"display_name":"Oneiros"},"score":0,"creation_date":1507731872,"post_id":28559110,"comment_id":80329230,"body_markdown":"The validation is reasonable, the rest makes the code unnecessarily less readable. Keep it simple","body":"The validation is reasonable, the rest makes the code unnecessarily less readable. Keep it simple"}],"tags":[],"owner":{"account_id":1377069,"reputation":392,"user_id":1310875,"accept_rate":75,"display_name":"Rohit"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1424166812,"creation_date":1424166812,"answer_id":28559110,"question_id":17359834,"body_markdown":"Random object needs to be intialized already.   \r\n\r\n    public static boolean flipRandom(double probability) {\r\n\t\tValidate.isBetween(probability, 0, 1, true);\r\n\t\tif(probability == 0)\r\n\t\t\treturn false;\r\n\t\tif(probability == 1)\r\n\t\t\treturn true;\r\n\t\tif(probability == 0.5)\r\n\t\t\treturn random.nextBoolean();\r\n\t\treturn random.nextDouble() &lt; probability ? true : false;\r\n\t}","title":"Random boolean with weight or bias","body":"<p>Random object needs to be intialized already.   </p>\n\n<pre><code>public static boolean flipRandom(double probability) {\n    Validate.isBetween(probability, 0, 1, true);\n    if(probability == 0)\n        return false;\n    if(probability == 1)\n        return true;\n    if(probability == 0.5)\n        return random.nextBoolean();\n    return random.nextDouble() &lt; probability ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2495765"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448415835,"creation_date":1448415835,"answer_id":33907152,"question_id":17359834,"body_markdown":"    \tpublic boolean getBiasedRandom(int bias) {\r\n\t\t  int c;\r\n\t\t  Random t = new Random();\r\n\t\t // random integers in [0, 100]\r\n\t\t  c=t.nextInt(100);\r\n\t\t  if (c&gt;bias){return false;\r\n\t\t  }\r\n\t\t  else{return true;}\r\n\t\t  }\r\n\r\nThis one is based on percentage...","title":"Random boolean with weight or bias","body":"<pre><code>    public boolean getBiasedRandom(int bias) {\n      int c;\n      Random t = new Random();\n     // random integers in [0, 100]\n      c=t.nextInt(100);\n      if (c&gt;bias){return false;\n      }\n      else{return true;}\n      }\n</code></pre>\n\n<p>This one is based on percentage...</p>\n"},{"comments":[{"owner":{"account_id":267265,"reputation":4348,"user_id":555336,"accept_rate":82,"display_name":"Oneiros"},"score":4,"creation_date":1507731944,"post_id":37949060,"comment_id":80329281,"body_markdown":"The ternary operator is totally redundant. Why not just `boolean true20 = (random.nextInt(5) == 0)` ?","body":"The ternary operator is totally redundant. Why not just <code>boolean true20 = (random.nextInt(5) == 0)</code> ?"},{"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"score":0,"creation_date":1507822399,"post_id":37949060,"comment_id":80373461,"body_markdown":"You know how when you learn a new thing, it&#39;s useful in every situation? I completely agree that it&#39;s redundant.","body":"You know how when you learn a new thing, it&#39;s useful in every situation? I completely agree that it&#39;s redundant."}],"tags":[],"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466524174,"creation_date":1466524174,"answer_id":37949060,"question_id":17359834,"body_markdown":"Here&#39;s what I&#39;m using. Very similar to FracturedRetina&#39;s answer.\r\n\r\n    Random random = new Random();\r\n    \r\n    // 20% chance\r\n    boolean true20 = (random.nextInt(5) == 0) ? true : false;\r\n    \r\n    // 25% chance\r\n    boolean true25 = (random.nextInt(4) == 0) ? true : false;\r\n\r\n    // 40% chance\r\n    boolean true40 = (random.nextInt(5) &lt; 2) ? true : false;\r\n","title":"Random boolean with weight or bias","body":"<p>Here's what I'm using. Very similar to FracturedRetina's answer.</p>\n\n<pre><code>Random random = new Random();\n\n// 20% chance\nboolean true20 = (random.nextInt(5) == 0) ? true : false;\n\n// 25% chance\nboolean true25 = (random.nextInt(4) == 0) ? true : false;\n\n// 40% chance\nboolean true40 = (random.nextInt(5) &lt; 2) ? true : false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11782422,"reputation":175,"user_id":8621464,"display_name":"R. Smyth"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507730376,"creation_date":1507730376,"answer_id":46690165,"question_id":17359834,"body_markdown":"Expanding on user2495765&#39;s answer, \r\nyou can make a function which takes an input ratio (as two values chance:range see code)\r\n\r\n    public class MyRandomFuncs {\r\n        public Random rand = new Random();\r\n\r\n        boolean getBooleanAsRatio(int chance, int range) {\r\n            int c = rand.nextInt(range + 1);\r\n            return c &gt; chance;\r\n        }\r\n   }\r\n\r\nDepending on what you intend to do, you probably don&#39;t want to initalize Random from within your method but rather use as a class variable (as in the code above) and call nextInt() from within your function.","title":"Random boolean with weight or bias","body":"<p>Expanding on user2495765's answer, \nyou can make a function which takes an input ratio (as two values chance:range see code)</p>\n\n<pre><code>public class MyRandomFuncs {\n    public Random rand = new Random();\n\n    boolean getBooleanAsRatio(int chance, int range) {\n        int c = rand.nextInt(range + 1);\n        return c &gt; chance;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Depending on what you intend to do, you probably don't want to initalize Random from within your method but rather use as a class variable (as in the code above) and call nextInt() from within your function.</p>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520586417,"creation_date":1520586417,"answer_id":49190120,"question_id":17359834,"body_markdown":"The [MockNeat][1] library implements this feature.\r\n\r\nExample for generating a boolean value that has 99.99% of being true:\r\n\r\n    MockNeat m = MockNeat.threadLocal();\r\n    boolean almostAlwaysTrue = m.bools().probability(99.99).val();\r\n\r\n\r\n  [1]: http://github.com/nomemory/mockneat/","title":"Random boolean with weight or bias","body":"<p>The <a href=\"http://github.com/nomemory/mockneat/\" rel=\"nofollow noreferrer\">MockNeat</a> library implements this feature.</p>\n\n<p>Example for generating a boolean value that has 99.99% of being true:</p>\n\n<pre><code>MockNeat m = MockNeat.threadLocal();\nboolean almostAlwaysTrue = m.bools().probability(99.99).val();\n</code></pre>\n"}],"owner":{"account_id":1755709,"reputation":2030,"user_id":2515106,"accept_rate":67,"display_name":"diestl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13785,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":17359894,"answer_count":8,"score":29,"last_activity_date":1691737289,"creation_date":1372405872,"question_id":17359834,"body_markdown":"I need to generate some random booleans.  However I need to be able to specify the probability of returning `true`.  As a results doing:\r\n\r\n    private Random random = new Random();\r\n    random.nextBoolean();\r\n\r\nwill not work.\r\n\r\nOne possible solution would be:\r\n\r\n    private Random random = new Random()\r\n    \r\n    public boolean getRandomBoolean(float p){\r\n        return random.nextFloat() &lt; p;\r\n    }\r\n\r\nI was wondering if there is a better or more natural way of doing this.\r\n\r\nEDIT:\r\nI guess I am asking whether there is a library class that provides a nextBoolean(float probability) method.\r\n","title":"Random boolean with weight or bias","body":"<p>I need to generate some random booleans.  However I need to be able to specify the probability of returning <code>true</code>.  As a results doing:</p>\n<pre><code>private Random random = new Random();\nrandom.nextBoolean();\n</code></pre>\n<p>will not work.</p>\n<p>One possible solution would be:</p>\n<pre><code>private Random random = new Random()\n\npublic boolean getRandomBoolean(float p){\n    return random.nextFloat() &lt; p;\n}\n</code></pre>\n<p>I was wondering if there is a better or more natural way of doing this.</p>\n<p>EDIT:\nI guess I am asking whether there is a library class that provides a nextBoolean(float probability) method.</p>\n"},{"tags":["java","json","jsonschema","everit"],"comments":[{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":1,"creation_date":1603885723,"post_id":64571965,"comment_id":114176275,"body_markdown":"I just noticed that the builder generates keywords which are not compliant with the JSON Schema specification, e.g. allItemSchema instead of items. So it is probably not suitable as a general purpose schema generator.","body":"I just noticed that the builder generates keywords which are not compliant with the JSON Schema specification, e.g. allItemSchema instead of items. So it is probably not suitable as a general purpose schema generator."},{"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"score":0,"creation_date":1603888131,"post_id":64571965,"comment_id":114177383,"body_markdown":"Plus one to the above, with the weight of one of the spec editors. Are you sure the tool your using is trying to build actual JSON Schema?","body":"Plus one to the above, with the weight of one of the spec editors. Are you sure the tool your using is trying to build actual JSON Schema?"},{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":0,"creation_date":1603900540,"post_id":64571965,"comment_id":114184031,"body_markdown":"I was following this advise by the creator of everit: https://stackoverflow.com/a/38478478/6871028 \nGiven my observations so far, apparently the answer is no.","body":"I was following this advise by the creator of everit: <a href=\"https://stackoverflow.com/a/38478478/6871028\">stackoverflow.com/a/38478478/6871028</a>  Given my observations so far, apparently the answer is no."},{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":0,"creation_date":1603901422,"post_id":64571965,"comment_id":114184482,"body_markdown":"As a spec editor, could you advise a Java generator to build a schema from scratch? There are quite few libraries for code-based generation but I am struggling to find a simple schema builder that meets the spec.","body":"As a spec editor, could you advise a Java generator to build a schema from scratch? There are quite few libraries for code-based generation but I am struggling to find a simple schema builder that meets the spec."},{"owner":{"account_id":32232,"reputation":11789,"user_id":89211,"accept_rate":90,"display_name":"Relequestual"},"score":0,"creation_date":1603901795,"post_id":64571965,"comment_id":114184650,"body_markdown":"I&#39;m afraid I cannot. I don&#39;t know Java. Take a look at http://json-schema.org/implementations.html and / or come by our Slack and ask. There are others that use Java there.","body":"I&#39;m afraid I cannot. I don&#39;t know Java. Take a look at <a href=\"http://json-schema.org/implementations.html\" rel=\"nofollow noreferrer\">json-schema.org/implementations.html</a> and / or come by our Slack and ask. There are others that use Java there."},{"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"score":0,"creation_date":1603903036,"post_id":64571965,"comment_id":114185206,"body_markdown":"Thanks, joined and asked.","body":"Thanks, joined and asked."}],"answers":[{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691736419,"creation_date":1691736419,"answer_id":76881267,"question_id":64571965,"body_markdown":"Trying to serialize the schema instance with jackson (like `String json = objectMapper.writeValueAsString(rootSchema);`) won&#39;t work, since it will dump the internals of the schema object (which will actually be quite similar to a json schema, but not exactly).\r\n\r\nInstead, you have to serialize the schema object to schema json by calling `String json = rootSchema.toString();`","title":"Everit schema builder includes unset properties as null","body":"<p>Trying to serialize the schema instance with jackson (like <code>String json = objectMapper.writeValueAsString(rootSchema);</code>) won't work, since it will dump the internals of the schema object (which will actually be quite similar to a json schema, but not exactly).</p>\n<p>Instead, you have to serialize the schema object to schema json by calling <code>String json = rootSchema.toString();</code></p>\n"}],"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691736419,"creation_date":1603884766,"question_id":64571965,"body_markdown":"Trying to build and use the Schema object:\r\n\r\n```\r\n        Schema rootSchema = ObjectSchema.builder()\r\n                .additionalProperties(true)\r\n                .build();\r\n```\r\n\r\nIt seems to work fine until I try to serialize it as a string and then to reload using the SchemaLoader:\r\n\r\n```\r\n        String json = objectMapper.writeValueAsString(rootSchema);\r\n        JSONObject schemaObject = new JSONObject(json);\r\n        Schema schema = SchemaLoader.load(schemaObject);\r\n```\r\n\r\nThe problem is that the unset keywords are serialized as null:\r\n```\r\n{\r\n  &quot;title&quot; : null,\r\n  &quot;description&quot; : null,\r\n  &quot;id&quot; : null,\r\n  &quot;propertySchemas&quot; : { },\r\n  &quot;schemaOfAdditionalProperties&quot; : null,\r\n  &quot;requiredProperties&quot; : [ ],\r\n  &quot;minProperties&quot; : null,\r\n  &quot;maxProperties&quot; : null,\r\n  &quot;propertyDependencies&quot; : { },\r\n  &quot;schemaDependencies&quot; : { },\r\n  &quot;patternProperties&quot; : { }\r\n}\r\n```\r\n\r\nThe SchemaLoader reports these as errors, e.g. &quot;java.lang.RuntimeException: org.json.JSONException: JSONObject[&quot;id&quot;] not a string.&quot; Would it be possible to skip these keywords?\r\n\r\nAnother problem: the serialized version doesn&#39;t include the additionalProperties keyword. \r\n\r\nAlso, is it possible to include additional keywords, not specified in the JSON Schema spec? AFAIIK the spec itself doesn&#39;t prohibit such keywords, and some libraries such as AJV actually use them?","title":"Everit schema builder includes unset properties as null","body":"<p>Trying to build and use the Schema object:</p>\n<pre><code>        Schema rootSchema = ObjectSchema.builder()\n                .additionalProperties(true)\n                .build();\n</code></pre>\n<p>It seems to work fine until I try to serialize it as a string and then to reload using the SchemaLoader:</p>\n<pre><code>        String json = objectMapper.writeValueAsString(rootSchema);\n        JSONObject schemaObject = new JSONObject(json);\n        Schema schema = SchemaLoader.load(schemaObject);\n</code></pre>\n<p>The problem is that the unset keywords are serialized as null:</p>\n<pre><code>{\n  &quot;title&quot; : null,\n  &quot;description&quot; : null,\n  &quot;id&quot; : null,\n  &quot;propertySchemas&quot; : { },\n  &quot;schemaOfAdditionalProperties&quot; : null,\n  &quot;requiredProperties&quot; : [ ],\n  &quot;minProperties&quot; : null,\n  &quot;maxProperties&quot; : null,\n  &quot;propertyDependencies&quot; : { },\n  &quot;schemaDependencies&quot; : { },\n  &quot;patternProperties&quot; : { }\n}\n</code></pre>\n<p>The SchemaLoader reports these as errors, e.g. &quot;java.lang.RuntimeException: org.json.JSONException: JSONObject[&quot;id&quot;] not a string.&quot; Would it be possible to skip these keywords?</p>\n<p>Another problem: the serialized version doesn't include the additionalProperties keyword.</p>\n<p>Also, is it possible to include additional keywords, not specified in the JSON Schema spec? AFAIIK the spec itself doesn't prohibit such keywords, and some libraries such as AJV actually use them?</p>\n"},{"tags":["java","alfresco"],"answers":[{"tags":[],"owner":{"account_id":434980,"reputation":3666,"user_id":821306,"display_name":"Rapha&#235;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372425581,"creation_date":1372419027,"answer_id":17363709,"question_id":17362990,"body_markdown":"Each site of Alfresco Share is linked to a user group. This group contains the user list and their roles.\r\n\r\nThe main group is named `GROUP_site_` + siteUrl. It contains 4 subgroup, one for each role : SiteManager, SiteCollaborator, SiteContributor and SiteConsumer.\r\n\r\nTheir type is &quot;cm:authorityContainer&quot;.\r\n\r\nIf your site has for URL name &quot;lntlegal&quot;, its groups will be:\r\n\r\n    GROUP_site_lntlegal\r\n    |- GROUP_site_lntlegal_SiteManager\r\n    |- GROUP_site_lntlegal_SiteCollaborator\r\n    |- GROUP_site_lntlegal_SiteContributor\r\n    |- GROUP_site_lntlegal_SiteConsumer\r\n\r\nYou can retrieve a group with the following Lucene query:\r\n\r\n    @cm\\:authorityName:&quot;GROUP_site_lntlegal_SiteConsumer&quot;\r\n\r\nThe users are the children of the association &quot;cm:member&quot;.\r\n\r\nHere is a sample code to do this using the Web Service API:\r\n\r\n    final String site = &quot;lntlegal&quot;;\r\n\r\n    for(final String role : Arrays.asList(&quot;SiteManager&quot;, &quot;SiteCollaborator&quot;, &quot;SiteContributor&quot;, &quot;SiteConsumer&quot;)) {\r\n        String luceneQuery = &quot;@cm\\\\:authorityName:\\&quot;GROUP_site_&quot; + site + &#39;_&#39; + role + &quot;\\&quot;&quot;;\r\n        Query query = new Query(Constants.QUERY_LANG_LUCENE, luceneQuery);\r\n\r\n        QueryResult queryResult = repositoryService.query(store, query, true);\r\n        ResultSet resultSet = queryResult.getResultSet();\r\n        ResultSetRow[] rows = resultSet.getRows();\r\n\r\n        ResultSetRowNode node = rows[0].getNode();\r\n        Reference reference = new Reference(store, node.getId(), null);\r\n\r\n        QueryResult associationQueryResult = repositoryService.queryChildren(reference); \r\n        ResultSet associationResultSet = associationQueryResult.getResultSet();\r\n        ResultSetRow[] associationRows = associationResultSet.getRows();\r\n\r\n        if(associationRows != null) {\r\n            final String userNameQName = createQNameString(NAMESPACE_CONTENT_MODEL, &quot;userName&quot;);\r\n            for(final ResultSetRow row : associationRows) {\r\n                String name = null;\r\n                for(NamedValue value:row.getColumns()) {\r\n                    if(value.getName().equals(userNameQName)) {\r\n                        name = value.getValue();\r\n                    }\r\n                }\r\n\r\n                System.out.println(row.getNode().getId() + &quot; : &quot; + name);\r\n            }\r\n        }\r\n    }\r\n","title":"Alfresco web service get all users under site","body":"<p>Each site of Alfresco Share is linked to a user group. This group contains the user list and their roles.</p>\n\n<p>The main group is named <code>GROUP_site_</code> + siteUrl. It contains 4 subgroup, one for each role : SiteManager, SiteCollaborator, SiteContributor and SiteConsumer.</p>\n\n<p>Their type is \"cm:authorityContainer\".</p>\n\n<p>If your site has for URL name \"lntlegal\", its groups will be:</p>\n\n<pre><code>GROUP_site_lntlegal\n|- GROUP_site_lntlegal_SiteManager\n|- GROUP_site_lntlegal_SiteCollaborator\n|- GROUP_site_lntlegal_SiteContributor\n|- GROUP_site_lntlegal_SiteConsumer\n</code></pre>\n\n<p>You can retrieve a group with the following Lucene query:</p>\n\n<pre><code>@cm\\:authorityName:\"GROUP_site_lntlegal_SiteConsumer\"\n</code></pre>\n\n<p>The users are the children of the association \"cm:member\".</p>\n\n<p>Here is a sample code to do this using the Web Service API:</p>\n\n<pre><code>final String site = \"lntlegal\";\n\nfor(final String role : Arrays.asList(\"SiteManager\", \"SiteCollaborator\", \"SiteContributor\", \"SiteConsumer\")) {\n    String luceneQuery = \"@cm\\\\:authorityName:\\\"GROUP_site_\" + site + '_' + role + \"\\\"\";\n    Query query = new Query(Constants.QUERY_LANG_LUCENE, luceneQuery);\n\n    QueryResult queryResult = repositoryService.query(store, query, true);\n    ResultSet resultSet = queryResult.getResultSet();\n    ResultSetRow[] rows = resultSet.getRows();\n\n    ResultSetRowNode node = rows[0].getNode();\n    Reference reference = new Reference(store, node.getId(), null);\n\n    QueryResult associationQueryResult = repositoryService.queryChildren(reference); \n    ResultSet associationResultSet = associationQueryResult.getResultSet();\n    ResultSetRow[] associationRows = associationResultSet.getRows();\n\n    if(associationRows != null) {\n        final String userNameQName = createQNameString(NAMESPACE_CONTENT_MODEL, \"userName\");\n        for(final ResultSetRow row : associationRows) {\n            String name = null;\n            for(NamedValue value:row.getColumns()) {\n                if(value.getName().equals(userNameQName)) {\n                    name = value.getValue();\n                }\n            }\n\n            System.out.println(row.getNode().getId() + \" : \" + name);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405631,"reputation":4079,"user_id":2102192,"display_name":"alfrescian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372930288,"creation_date":1372930288,"answer_id":17466766,"question_id":17362990,"body_markdown":"    SiteService.listMembers\r\n\r\n will do the job ...but not 100% sure if the SiteService is available as SOAP WebService\r\n\r\nIf you&#39;d like to get members of a group, then take a look at\r\n`AuthorityService.getContainedAuthorities`","title":"Alfresco web service get all users under site","body":"<pre><code>SiteService.listMembers\n</code></pre>\n\n<p>will do the job ...but not 100% sure if the SiteService is available as SOAP WebService</p>\n\n<p>If you'd like to get members of a group, then take a look at\n<code>AuthorityService.getContainedAuthorities</code></p>\n"}],"owner":{"account_id":2760077,"reputation":11,"user_id":2377145,"display_name":"Anji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691736103,"creation_date":1372416557,"question_id":17362990,"body_markdown":"I&#39;m new to `alfresco`. \r\n\r\nUsing `web services with java`, I am connecting to Alfresco. Now I want all the users under group.\r\n\r\nPlease let me know if any.\r\n\r\nFor getting sub-folder, I am using `Lucena query` like this:\r\n\r\n    String luceneQuery = &quot;PATH:\\&quot;/app:company_home/st:sites/cm:lntlegal/cm:&quot; + strRootFolder + &quot;/*\\&quot; AND TYPE:\\&quot;cm:folder\\&quot;&quot;;\r\n\r\n","title":"Alfresco web service get all users under site","body":"<p>I'm new to <code>alfresco</code>. </p>\n\n<p>Using <code>web services with java</code>, I am connecting to Alfresco. Now I want all the users under group.</p>\n\n<p>Please let me know if any.</p>\n\n<p>For getting sub-folder, I am using <code>Lucena query</code> like this:</p>\n\n<pre><code>String luceneQuery = \"PATH:\\\"/app:company_home/st:sites/cm:lntlegal/cm:\" + strRootFolder + \"/*\\\" AND TYPE:\\\"cm:folder\\\"\";\n</code></pre>\n"},{"tags":["java","thymeleaf","ognl"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1691735280,"post_id":76881139,"comment_id":135534365,"body_markdown":"I&#39;ve never used Thymeleaf or OGNL, but looking at other pages, I suspect `${@java.lang.Math@random()}` is what you want (or possibly even just `${@random()}`). Unfortunately I&#39;m not in a position to check that at the moment.","body":"I&#39;ve never used Thymeleaf or OGNL, but looking at other pages, I suspect <code>${@java.lang.Math@random()}</code> is what you want (or possibly even just <code>${@random()}</code>). Unfortunately I&#39;m not in a position to check that at the moment."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691735325,"post_id":76881139,"comment_id":135534374,"body_markdown":"Depending on your versions and other settings, there are [various syntaxes](https://github.com/thymeleaf/thymeleaf/issues/593) to try.","body":"Depending on your versions and other settings, there are <a href=\"https://github.com/thymeleaf/thymeleaf/issues/593\" rel=\"nofollow noreferrer\">various syntaxes</a> to try."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691736117,"post_id":76881139,"comment_id":135534496,"body_markdown":"Just testet your code and it works fine. So the code itself is alright, might be a setup problem with your TemplateEngine?","body":"Just testet your code and it works fine. So the code itself is alright, might be a setup problem with your TemplateEngine?"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692086498,"post_id":76881231,"comment_id":135573789,"body_markdown":"Remember, other people may encounter a similar problem and a Google search may include this post in the search results. Do you think your answer will be enough for them to understand how to solve their problem? Personally, I don&#39;t think so. Maybe you could add some more explanation on where, in the code, `${@java.lang.Math@random()}` needs to be located?","body":"Remember, other people may encounter a similar problem and a Google search may include this post in the search results. Do you think your answer will be enough for them to understand how to solve their problem? Personally, I don&#39;t think so. Maybe you could add some more explanation on where, in the code, <code>${@java.lang.Math@random()}</code> needs to be located?"}],"tags":[],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691735965,"creation_date":1691735965,"answer_id":76881231,"question_id":76881139,"body_markdown":"Thanks for the answers.\r\n\r\n`${@java.lang.Math@random()}` worked for me","title":"Static method Math#random invocation in Thymeleaf using OGNL gets OgnlException: source is null for getProperty(null, &quot;lang&quot;)","body":"<p>Thanks for the answers.</p>\n<p><code>${@java.lang.Math@random()}</code> worked for me</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76881231,"answer_count":1,"score":0,"last_activity_date":1691735965,"creation_date":1691734944,"question_id":76881139,"body_markdown":"I&#39;m trying a very basic static Java method invocation by Thymeleaf:\r\n```html\r\n&lt;div th:text=&quot;${T(java.lang.Math).random()}&quot;/&gt;\r\n```\r\n\r\nBut always got the exception `OgnlException: source is null for getProperty(null, &quot;lang&quot;)`.\r\n\r\nFull error message:\r\n```\r\n2023-08-11 16:17:16,221 ERROR [etp1561005241-55] o.t.TemplateEngine [THYMELEAF][etp1561005241-55] Exception processing template &quot;test.html&quot;: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random(\r\n)&quot; (template: &quot;test.html&quot; - line 89, col 14)\r\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random()&quot; (template: &quot;diag-ui.html&quot; - line 89, col 14)\r\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:199)\r\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:104)\r\n        at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n        at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n        at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n        at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n        at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n        at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n        at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n        at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\r\n        at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\r\n        at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)\r\n        at hobbit.mordor.diagui.DiaguiEndpoint.handleSearch(DiaguiEndpoint.java:106)\r\n        at hobbit.mordor.diagui.DiaguiEndpoint.handle(DiaguiEndpoint.java:149)\r\n        at hobbit.mordor.server.JettyRequestHandler.dispatchRequest(JettyRequestHandler.java:273)\r\n        at hobbit.mordor.server.JettyRequestHandler.handle(JettyRequestHandler.java:313)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: ognl.OgnlException: source is null for getProperty(null, &quot;lang&quot;)\r\n\r\n```","title":"Static method Math#random invocation in Thymeleaf using OGNL gets OgnlException: source is null for getProperty(null, &quot;lang&quot;)","body":"<p>I'm trying a very basic static Java method invocation by Thymeleaf:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div th:text=&quot;${T(java.lang.Math).random()}&quot;/&gt;\n</code></pre>\n<p>But always got the exception <code>OgnlException: source is null for getProperty(null, &quot;lang&quot;)</code>.</p>\n<p>Full error message:</p>\n<pre><code>2023-08-11 16:17:16,221 ERROR [etp1561005241-55] o.t.TemplateEngine [THYMELEAF][etp1561005241-55] Exception processing template &quot;test.html&quot;: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random(\n)&quot; (template: &quot;test.html&quot; - line 89, col 14)\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating OGNL expression: &quot;T(java.lang.Math).random()&quot; (template: &quot;diag-ui.html&quot; - line 89, col 14)\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:199)\n        at org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator.evaluate(OGNLVariableExpressionEvaluator.java:104)\n        at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n        at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n        at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n        at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n        at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n        at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n        at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n        at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\n        at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\n        at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)\n        at hobbit.mordor.diagui.DiaguiEndpoint.handleSearch(DiaguiEndpoint.java:106)\n        at hobbit.mordor.diagui.DiaguiEndpoint.handle(DiaguiEndpoint.java:149)\n        at hobbit.mordor.server.JettyRequestHandler.dispatchRequest(JettyRequestHandler.java:273)\n        at hobbit.mordor.server.JettyRequestHandler.handle(JettyRequestHandler.java:313)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: ognl.OgnlException: source is null for getProperty(null, &quot;lang&quot;)\n\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":1,"creation_date":1691700032,"post_id":76879170,"comment_id":135530835,"body_markdown":"You have called a service method (setAddress), Mockito verify checks whether container&#39;s checkAndUpdate method was called. Who was supposed to invoke it?","body":"You have called a service method (setAddress), Mockito verify checks whether container&#39;s checkAndUpdate method was called. Who was supposed to invoke it?"},{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":0,"creation_date":1691700061,"post_id":76879170,"comment_id":135530843,"body_markdown":"The general idea is not ok, if you want to test Container.checkAndUpdate, you shouldn&#39;t mock the container at all","body":"The general idea is not ok, if you want to test Container.checkAndUpdate, you shouldn&#39;t mock the container at all"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1691701045,"post_id":76879170,"comment_id":135531004,"body_markdown":"@leokom Can you edit my code","body":"@leokom Can you edit my code"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1691701360,"post_id":76879170,"comment_id":135531051,"body_markdown":"@leokom then how i will write the unit test ?container is the class where it is written","body":"@leokom then how i will write the unit test ?container is the class where it is written"}],"answers":[{"tags":[],"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691735860,"creation_date":1691735860,"answer_id":76881223,"question_id":76879170,"body_markdown":"In order to verify interaction with the private method (if you really want doing that), its visibility should be increased to package-private one.\r\n\r\nThen the following approach may be used\r\n\r\n```\r\nclass ContainerTest {\r\n\t@Test\r\n\tvoid testCheckAndUpdate() {\r\n\r\n\t\tList&lt;Address&gt; addList = new ArrayList&lt;&gt;();\r\n\t\tService service = Mockito.mock(Service.class);\r\n\t\tActual actual = new Actual();\r\n\t\tactual.setValue(&quot;TA&quot;);\r\n\t\tservice.setAddress(addList);\r\n\r\n\t\tContainer container = Mockito.spy(new Container());\r\n\t\t// call the public method\r\n\t\tcontainer.checkAndUpdate(service, actual);\r\n\r\n\t\t// verify interaction with the package-private method\r\n\t\tMockito.verify(container).somePrivateMethod(addList);\r\n\t}\r\n}\r\n```","title":"How to write unit test of a void method which have multiple private method using junit Mockito","body":"<p>In order to verify interaction with the private method (if you really want doing that), its visibility should be increased to package-private one.</p>\n<p>Then the following approach may be used</p>\n<pre><code>class ContainerTest {\n    @Test\n    void testCheckAndUpdate() {\n\n        List&lt;Address&gt; addList = new ArrayList&lt;&gt;();\n        Service service = Mockito.mock(Service.class);\n        Actual actual = new Actual();\n        actual.setValue(&quot;TA&quot;);\n        service.setAddress(addList);\n\n        Container container = Mockito.spy(new Container());\n        // call the public method\n        container.checkAndUpdate(service, actual);\n\n        // verify interaction with the package-private method\n        Mockito.verify(container).somePrivateMethod(addList);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691735860,"creation_date":1691699843,"question_id":76879170,"body_markdown":"I am trying to test a void method which have multiple private method , the approach I am taking is, \r\ntrying to test the public method which shall only , below is the public method \r\n\r\n   \r\n    class Container{ \r\n \r\n    public void checkAndUpdate(Service service, Actual actual){\r\n     List&lt;Address&gt; addList = new ArrayList&lt;&gt;();\r\n     for(Address addr: service.getAddress()){\r\n      addList.add(addr);\r\n    }\r\n    somePrivateMethod(addList);\r\n    }\r\nTest class\r\n\r\n    @Mock\r\n    Container container;\r\n    \r\n    @Test\r\n    public void testCheckAndUpdate(){\r\n     \r\n    List&lt;Address&gt; addList = Mockito.mock(List.class);\r\n    Service service = Mockito.mock(Service.class);\r\n    Actual actual = new Actual();\r\n    actual.setValue(&quot;TA&quot;);\r\n    service.setAddress(addList);\r\n    \r\n    Mockito.verify(container).checkAndUpdate(service,actual);\r\n    \r\n\r\nI am getting the below exception \r\n\r\n       &quot;Actually there were zero interactions with the mock \r\n        wanted but not invoked \r\n      \r\nHow to solve this issue ","title":"How to write unit test of a void method which have multiple private method using junit Mockito","body":"<p>I am trying to test a void method which have multiple private method , the approach I am taking is,\ntrying to test the public method which shall only , below is the public method</p>\n<pre><code>class Container{ \n\npublic void checkAndUpdate(Service service, Actual actual){\n List&lt;Address&gt; addList = new ArrayList&lt;&gt;();\n for(Address addr: service.getAddress()){\n  addList.add(addr);\n}\nsomePrivateMethod(addList);\n}\n</code></pre>\n<p>Test class</p>\n<pre><code>@Mock\nContainer container;\n\n@Test\npublic void testCheckAndUpdate(){\n \nList&lt;Address&gt; addList = Mockito.mock(List.class);\nService service = Mockito.mock(Service.class);\nActual actual = new Actual();\nactual.setValue(&quot;TA&quot;);\nservice.setAddress(addList);\n\nMockito.verify(container).checkAndUpdate(service,actual);\n</code></pre>\n<p>I am getting the below exception</p>\n<pre><code>   &quot;Actually there were zero interactions with the mock \n    wanted but not invoked \n  \n</code></pre>\n<p>How to solve this issue</p>\n"},{"tags":["java","android","logging","logcat","android-runtime"],"owner":{"account_id":4210014,"reputation":3098,"user_id":3448003,"accept_rate":31,"display_name":"Bajrang Hudda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691734682,"creation_date":1680090543,"question_id":75876802,"body_markdown":"I am developing an Android App that I am targeting for Android 13 or higher. In the APP I am performing continuous updates and for each update, I want to collect logs of the full device including update_engine&#39;s logs, so in case any update fails I can tell what was the issue. \r\nFor each update, I am saving logs in a different file.\r\n\r\nFor collecting full device logs I am using system permission\r\n\r\n `&lt;uses-permission android:name=&quot;android.permission.READ_LOGS&quot; /&gt;`\r\n\r\nThough system permission will be only granted if our APP is having same system signature as the device, in Android 13 Google made it more restrictive now only prv app can be granted by default and I can not make my APP as prv app, because for that Google needs to approve the request.\r\n\r\nIt&#39;s okay if we can&#39;t collect full device logs but still I want to collect my own APPs logs, unfortunately, I am able to collect only half of the logs of my APP.\r\n\r\nCurrently, I am using - \r\n\r\n            StringBuilder command = new StringBuilder(); // Start to get logcat log to new file\r\n            command.append(&quot;logcat -v threadtime -f &quot;);\r\n            command.append(Constants.LOGCAT_LOG_PATH);\r\n            try {\r\n                mProcess = Runtime.getRuntime().exec(command.toString());\r\n            } catch(Exception e) {\r\n                Log.e(TAG, &quot;Logcat exec ERROR &quot;);\r\n            }\r\n\r\n\r\nI also tried &#39;-d&#39; option that will dump the logs into a file but still I am not getting full logs sometimes or sometimes I am getting repeated logs in the log file.\r\n\r\nNote - I am calling reboot once the payload is applied to confirm if the device is updated successfully. Seems like when logs are still in the buffer (not yet written into the file) and the device got rebooted. I also tried a postRunnable() of 30 seconds so that logs can be written into the file form buffer but no help.\r\n\r\n    PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\r\n    pm.reboot(null);\r\n\r\n\r\n\r\nWhat can be a possible workaround after this Android 13 READ_LOG permission behavior change? Though the device is showing a pop-up for allow/ deny permission dialog if I allow it is collecting full device logs but I can not allow/ deny it all the time because it&#39;s a long-running process.","title":"Collect full device logs from an Android APP","body":"<p>I am developing an Android App that I am targeting for Android 13 or higher. In the APP I am performing continuous updates and for each update, I want to collect logs of the full device including update_engine's logs, so in case any update fails I can tell what was the issue.\nFor each update, I am saving logs in a different file.</p>\n<p>For collecting full device logs I am using system permission</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_LOGS&quot; /&gt;</code></p>\n<p>Though system permission will be only granted if our APP is having same system signature as the device, in Android 13 Google made it more restrictive now only prv app can be granted by default and I can not make my APP as prv app, because for that Google needs to approve the request.</p>\n<p>It's okay if we can't collect full device logs but still I want to collect my own APPs logs, unfortunately, I am able to collect only half of the logs of my APP.</p>\n<p>Currently, I am using -</p>\n<pre><code>        StringBuilder command = new StringBuilder(); // Start to get logcat log to new file\n        command.append(&quot;logcat -v threadtime -f &quot;);\n        command.append(Constants.LOGCAT_LOG_PATH);\n        try {\n            mProcess = Runtime.getRuntime().exec(command.toString());\n        } catch(Exception e) {\n            Log.e(TAG, &quot;Logcat exec ERROR &quot;);\n        }\n</code></pre>\n<p>I also tried '-d' option that will dump the logs into a file but still I am not getting full logs sometimes or sometimes I am getting repeated logs in the log file.</p>\n<p>Note - I am calling reboot once the payload is applied to confirm if the device is updated successfully. Seems like when logs are still in the buffer (not yet written into the file) and the device got rebooted. I also tried a postRunnable() of 30 seconds so that logs can be written into the file form buffer but no help.</p>\n<pre><code>PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\npm.reboot(null);\n</code></pre>\n<p>What can be a possible workaround after this Android 13 READ_LOG permission behavior change? Though the device is showing a pop-up for allow/ deny permission dialog if I allow it is collecting full device logs but I can not allow/ deny it all the time because it's a long-running process.</p>\n"},{"tags":["java","spring","spring-boot","ibm-mq"],"comments":[{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":0,"creation_date":1692357061,"post_id":76881074,"comment_id":135615212,"body_markdown":"Try adding additional logging into `MqConnectionConfiguration` to check whether a connection is being attempted.","body":"Try adding additional logging into <code>MqConnectionConfiguration</code> to check whether a connection is being attempted."}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691734228,"creation_date":1691734228,"question_id":76881074,"body_markdown":"I have a running spring boot application which should receive Messages from IBM MQ Server. The application is able to start, but the message on the Queue is not fetched. \r\n\r\nThat&#39;s my MqConfiguration Class: \r\n\r\n```\r\n@Configuration\r\n@EnableJms\r\npublic class MqConfiguration {\r\n\r\n    @Bean()\r\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(ConnectionFactory connectionFactory, MqProperties properties) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setConcurrency(properties.getConcurrency());\r\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n        factory.setReceiveTimeout(properties.getReceiveTimeout());\r\n        factory.setMaxMessagesPerTask(properties.getMaxMessagesPerTask());\r\n\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nHere is my MqConnectionConfiguration\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class MqConnectionConfiguration {\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory(MqProperties properties, EksconnectUtf8ConverterEventLogger logger) throws ConfigurationException {\r\n        MQConnectionFactory mqConnectionFactory = null;\r\n        try {\r\n            mqConnectionFactory = new MQConnectionFactory();\r\n            mqConnectionFactory.setStringProperty(JmsConstants.PASSWORD, &quot;myPass&quot;);\r\n            mqConnectionFactory.setStringProperty(JmsConstants.USERID, &quot;myUser&quot;);\r\n            mqConnectionFactory.setBooleanProperty(JmsConstants.USER_AUTHENTICATION_MQCSP, true);\r\n            mqConnectionFactory.setHostName(10.0.0.1);\r\n            mqConnectionFactory.setPort(1414);\r\n            mqConnectionFactory.setQueueManager(&quot;*QMGR&quot;);\r\n            mqConnectionFactory.setChannel(&quot;CL.5.S&quot;);\r\n            mqConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\r\n            mqConnectionFactory.setTransportType(CommonConstants.WMQ_CM_CLIENT);\r\n            mqConnectionFactory.setAppName(&quot;myApp&quot;);\r\n            mqConnectionFactory.setShareConvAllowed(1);\r\n        } catch (JMSException e) {\r\n            throw new ConfigurationException(e.getMessage());\r\n        }\r\n        return mqConnectionFactory;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is a small implementation of my MqGateway is JmsListener: \r\n```\r\n@Named\r\n@Transactional(noRollbackFor = {HandlerErrors.RequestReplyException.class})\r\npublic class MqGateway {\r\n\r\n    @JmsListener(destination = &quot;QM.TEST.IN&quot;, containerFactory = &quot;defaultJmsListenerContainerFactory&quot;)\r\n    public void onMessage(TextMessage message, Session session) throws HandlerErrors.OneWayException, JMSException {\r\n        System.out.println(&quot;Message received&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Application is able to start without any errors. And I can find any log messages related to MQ. There are messages on the Queue, but the JmsListener Method is not invoked and the Message is not printed to console. \r\n\r\nHow can I check if connection is working? Why is JmsListener not invoked? Can I get any Information to the log if the connection could have been established? Or where can I start debugging? \r\n","title":"Spring Boot 2.7 not connection to IBM MQ","body":"<p>I have a running spring boot application which should receive Messages from IBM MQ Server. The application is able to start, but the message on the Queue is not fetched.</p>\n<p>That's my MqConfiguration Class:</p>\n<pre><code>@Configuration\n@EnableJms\npublic class MqConfiguration {\n\n    @Bean()\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(ConnectionFactory connectionFactory, MqProperties properties) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setConcurrency(properties.getConcurrency());\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        factory.setReceiveTimeout(properties.getReceiveTimeout());\n        factory.setMaxMessagesPerTask(properties.getMaxMessagesPerTask());\n\n        return factory;\n    }\n}\n</code></pre>\n<p>Here is my MqConnectionConfiguration</p>\n<pre><code>@Configuration\n@Slf4j\npublic class MqConnectionConfiguration {\n\n    @Bean\n    public ConnectionFactory connectionFactory(MqProperties properties, EksconnectUtf8ConverterEventLogger logger) throws ConfigurationException {\n        MQConnectionFactory mqConnectionFactory = null;\n        try {\n            mqConnectionFactory = new MQConnectionFactory();\n            mqConnectionFactory.setStringProperty(JmsConstants.PASSWORD, &quot;myPass&quot;);\n            mqConnectionFactory.setStringProperty(JmsConstants.USERID, &quot;myUser&quot;);\n            mqConnectionFactory.setBooleanProperty(JmsConstants.USER_AUTHENTICATION_MQCSP, true);\n            mqConnectionFactory.setHostName(10.0.0.1);\n            mqConnectionFactory.setPort(1414);\n            mqConnectionFactory.setQueueManager(&quot;*QMGR&quot;);\n            mqConnectionFactory.setChannel(&quot;CL.5.S&quot;);\n            mqConnectionFactory.setSSLCipherSuite(&quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;);\n            mqConnectionFactory.setTransportType(CommonConstants.WMQ_CM_CLIENT);\n            mqConnectionFactory.setAppName(&quot;myApp&quot;);\n            mqConnectionFactory.setShareConvAllowed(1);\n        } catch (JMSException e) {\n            throw new ConfigurationException(e.getMessage());\n        }\n        return mqConnectionFactory;\n    }\n}\n</code></pre>\n<p>And here is a small implementation of my MqGateway is JmsListener:</p>\n<pre><code>@Named\n@Transactional(noRollbackFor = {HandlerErrors.RequestReplyException.class})\npublic class MqGateway {\n\n    @JmsListener(destination = &quot;QM.TEST.IN&quot;, containerFactory = &quot;defaultJmsListenerContainerFactory&quot;)\n    public void onMessage(TextMessage message, Session session) throws HandlerErrors.OneWayException, JMSException {\n        System.out.println(&quot;Message received&quot;);\n    }\n\n}\n</code></pre>\n<p>The Application is able to start without any errors. And I can find any log messages related to MQ. There are messages on the Queue, but the JmsListener Method is not invoked and the Message is not printed to console.</p>\n<p>How can I check if connection is working? Why is JmsListener not invoked? Can I get any Information to the log if the connection could have been established? Or where can I start debugging?</p>\n"},{"tags":["java","ldap","spring-ldap"],"owner":{"account_id":4810627,"reputation":353,"user_id":4369307,"accept_rate":80,"display_name":"bpetlur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691733896,"creation_date":1678163403,"question_id":75658053,"body_markdown":"I am trying to map my java pojo (Parent and child classes) with LDAP entry using spring ODM @Entry\r\nas below\r\n\r\nThe ldap entry looks as below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    //child class\r\n    public class ChildClass extends ParentClass{\r\n       \r\n       // attribute names are same as in LDAP\r\n        protected String attribute1;\r\n        protected String attribute2;\r\n    }\r\n\r\n    \r\n    //parent class\r\n    import org.springframework.ldap.odm.annotations.Entry;\r\n    import org.springframework.ldap.odm.annotations.Id;\r\n    \r\n    @Entry(objectClasses = {&quot;testObjectClass&quot;})\r\n    public class ParentClass {\r\n    \r\n        @Id\r\n        Name dn;\r\n        protected String cn;\r\n        protected List&lt;String&gt; objectClass;\r\n        \r\n       // attribute names are same as in LDAP\r\n        protected String attribute3;\r\n        protected String attribute4;\r\n        protected String attribute5;\r\n    }\r\n\r\n**Using Spring ldaptemplate i am trying to search as below.&lt;br/&gt;\r\nParentClass attributes value are getting populated properly, But ChildClass atributes value are populating as null.**\r\n\r\n    List&lt;ParentClass&gt; results = ldapTemplate.find(dn, filter, searchControls, ParentClass.class)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gomeZ.jpg","title":"How to Map Java Pojo with parent and child class to LDAP using spring ldap","body":"<p>I am trying to map my java pojo (Parent and child classes) with LDAP entry using spring ODM @Entry\nas below</p>\n<p>The ldap entry looks as below</p>\n<p><a href=\"https://i.stack.imgur.com/gomeZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gomeZ.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>//child class\npublic class ChildClass extends ParentClass{\n   \n   // attribute names are same as in LDAP\n    protected String attribute1;\n    protected String attribute2;\n}\n\n\n//parent class\nimport org.springframework.ldap.odm.annotations.Entry;\nimport org.springframework.ldap.odm.annotations.Id;\n\n@Entry(objectClasses = {&quot;testObjectClass&quot;})\npublic class ParentClass {\n\n    @Id\n    Name dn;\n    protected String cn;\n    protected List&lt;String&gt; objectClass;\n    \n   // attribute names are same as in LDAP\n    protected String attribute3;\n    protected String attribute4;\n    protected String attribute5;\n}\n</code></pre>\n<p><strong>Using Spring ldaptemplate i am trying to search as below.<br/>\nParentClass attributes value are getting populated properly, But ChildClass atributes value are populating as null.</strong></p>\n<pre><code>List&lt;ParentClass&gt; results = ldapTemplate.find(dn, filter, searchControls, ParentClass.class)\n</code></pre>\n"},{"tags":["javascript","java","jquery","ember.js"],"answers":[{"comments":[{"owner":{"account_id":7238970,"reputation":57,"user_id":5523139,"accept_rate":0,"display_name":"Sunny Singh"},"score":0,"creation_date":1481344653,"post_id":41058638,"comment_id":69351226,"body_markdown":"Php is not the Language i tagged, its JAVA, JavaScript, Ember or Jquery. Please read question before replying","body":"Php is not the Language i tagged, its JAVA, JavaScript, Ember or Jquery. Please read question before replying"},{"owner":{"account_id":2857511,"reputation":197,"user_id":2453466,"display_name":"Na&#239;m Baki"},"score":0,"creation_date":1486719209,"post_id":41058638,"comment_id":71477330,"body_markdown":"@DeepakNegiSunny The solution he gave you is Javascript, however I must point out that this solution doesn&#39;t work for me","body":"@DeepakNegiSunny The solution he gave you is Javascript, however I must point out that this solution doesn&#39;t work for me"}],"tags":[],"owner":{"account_id":6461905,"reputation":1029,"user_id":5005385,"accept_rate":58,"display_name":"Brad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481280427,"creation_date":1481280427,"answer_id":41058638,"question_id":41058500,"body_markdown":"Something like this in jQuery might do what you&#39;re after. More info [here][1].\r\n\r\n    $.ajax({\r\n\t\turl: &quot;url.php&quot;,\r\n\t\tmethod: &quot;POST&quot;,\r\n\t\tdata: myData\r\n\t})\r\n\t.fail(function(jqXHR, textStatus, errorThrown) {\r\n\t\t//process error here\r\n\t});\r\n\r\n\r\n  [1]: http://api.jquery.com/jQuery.ajax/","title":"Can we handle &quot;ERR_ADDRESS_UNREACHABLE - ERR_CONNECTION_RESET - ERR_NETWORK_CHANGED&quot;","body":"<p>Something like this in jQuery might do what you're after. More info <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>$.ajax({\n    url: \"url.php\",\n    method: \"POST\",\n    data: myData\n})\n.fail(function(jqXHR, textStatus, errorThrown) {\n    //process error here\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461905,"reputation":1029,"user_id":5005385,"accept_rate":58,"display_name":"Brad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481280648,"creation_date":1481280648,"answer_id":41058712,"question_id":41058500,"body_markdown":"Perhaps you could use the try...catch syntax in javascript. More info [here][1].\r\n\r\n    try {\r\n\t\t//do something\r\n\t\treturn true;\r\n\t} catch (e) {\r\n\t\t//catch error\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch","title":"Can we handle &quot;ERR_ADDRESS_UNREACHABLE - ERR_CONNECTION_RESET - ERR_NETWORK_CHANGED&quot;","body":"<p>Perhaps you could use the try...catch syntax in javascript. More info <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>try {\n    //do something\n    return true;\n} catch (e) {\n    //catch error\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":7238970,"reputation":57,"user_id":5523139,"accept_rate":0,"display_name":"Sunny Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1709,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1691733783,"creation_date":1481280053,"question_id":41058500,"body_markdown":"Can we handle following errors: `ERR_ADDRESS_UNREACHABLE`, `ERR_CONNECTION_RESET`, `ERR_NETWORK_CHANGED` properly and throw exceptions, maybe in Java, JavaScript or Ember, even jQuery.\r\n\r\nI googled it for 15 days, and not appropriate solution. Just need to give proper error messages in above error cases. We are using `XMLHttpRequest` to send request to server in case of file uploads","title":"Can we handle &quot;ERR_ADDRESS_UNREACHABLE - ERR_CONNECTION_RESET - ERR_NETWORK_CHANGED&quot;","body":"<p>Can we handle following errors: <code>ERR_ADDRESS_UNREACHABLE</code>, <code>ERR_CONNECTION_RESET</code>, <code>ERR_NETWORK_CHANGED</code> properly and throw exceptions, maybe in Java, JavaScript or Ember, even jQuery.</p>\n\n<p>I googled it for 15 days, and not appropriate solution. Just need to give proper error messages in above error cases. We are using <code>XMLHttpRequest</code> to send request to server in case of file uploads</p>\n"},{"tags":["java","excel","spring-boot","google-sheets","import"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1691612557,"post_id":76871013,"comment_id":135516716,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) (And you even failed at uploading the images...)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> (And you even failed at uploading the images...)"}],"answers":[{"tags":[],"owner":{"account_id":29004775,"reputation":1,"user_id":22217594,"display_name":"azerty1012"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691733393,"creation_date":1691733393,"answer_id":76881011,"question_id":76871013,"body_markdown":"**AchatMci**\r\n\r\n```\r\npackage com.sg.CompMO.model.mci;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name=&quot;AchatMci&quot;)\r\n\r\npublic class AchatMci {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String agence;\r\n\tprivate String compte;\r\n\tprivate String code_ope;\r\n\tprivate String ecomm_code_ope;\r\n\tprivate Date date;\r\n\t//private Long nbDnweb;\r\n\t//private Long montantDnweb;\r\n\tprivate Long nb_mci_outgoing;\r\n\tprivate Long montant_mci_outgoing;\r\n\tprivate Long nb_sms;\r\n\tprivate Long montant_sms;\r\n\tprivate Long nb_rejets;\r\n\tprivate Long montant_rejets;\r\n\tprivate Long nbdeltacop;\r\n\tprivate Long montantdeltacop;\r\n\tprivate Long nbbkmvthcop;\r\n\tprivate Long montantbkmvthcop;\r\n\tprivate Long nbdeltaecom;\r\n\tprivate Long montantdeltaecom;\r\n\t//private Long nbajustagemci;\r\n\t//private Long montantajustagemci;\r\n\tprivate Long nbcouverturemci;\r\n\tprivate Long montantcouverturemci;\r\n\t//private Long nbecartDN;\r\n\t//private Long montantDN;\r\n\tprivate Long nbPost;\r\n\tprivate Long montantPost;\r\n\tprivate Long nb_couverturedelta;\r\n\tprivate Long montant_couverturedelta;\r\n\t@Column(columnDefinition=&quot;TEXT&quot;)\r\n\tprivate String obs;\r\n\tprivate String etat;\r\n}\r\n\r\n```\r\n\r\n**CompensationMci**\r\n\r\n```\r\npackage com.sg.CompMO.model.mci;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name=&quot;CompensationMci&quot;)\r\n\r\npublic class CompensationMci {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String agence;\r\n\tprivate String compte;\r\n\tprivate String code_ope;\r\n\tprivate Date date;\r\n\tprivate Long couverturemci;\r\n\tprivate Long couverturehps;\r\n\tprivate Long fisDnweb;\r\n\tprivate Long bkmvtiFis;\r\n\tprivate Long BkmvthHps;\r\n\tprivate Long deltaCop;\r\n\tprivate Long BkmvthVSdelta;\r\n\tprivate Long dailyExtractjmoins1;\r\n\tprivate Long dailyExtractjplus1;\r\n\tprivate Long couvertureMcijustif;\r\n\tprivate Long autoverif;\r\n\t@Column(columnDefinition=&quot;TEXT&quot;)\r\n\tprivate String obs;\r\n\t\r\n}\r\n\r\n```","title":"Correction importing excel in spring boot","body":"<p><strong>AchatMci</strong></p>\n<pre><code>package com.sg.CompMO.model.mci;\n\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;AchatMci&quot;)\n\npublic class AchatMci {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String agence;\n    private String compte;\n    private String code_ope;\n    private String ecomm_code_ope;\n    private Date date;\n    //private Long nbDnweb;\n    //private Long montantDnweb;\n    private Long nb_mci_outgoing;\n    private Long montant_mci_outgoing;\n    private Long nb_sms;\n    private Long montant_sms;\n    private Long nb_rejets;\n    private Long montant_rejets;\n    private Long nbdeltacop;\n    private Long montantdeltacop;\n    private Long nbbkmvthcop;\n    private Long montantbkmvthcop;\n    private Long nbdeltaecom;\n    private Long montantdeltaecom;\n    //private Long nbajustagemci;\n    //private Long montantajustagemci;\n    private Long nbcouverturemci;\n    private Long montantcouverturemci;\n    //private Long nbecartDN;\n    //private Long montantDN;\n    private Long nbPost;\n    private Long montantPost;\n    private Long nb_couverturedelta;\n    private Long montant_couverturedelta;\n    @Column(columnDefinition=&quot;TEXT&quot;)\n    private String obs;\n    private String etat;\n}\n\n</code></pre>\n<p><strong>CompensationMci</strong></p>\n<pre><code>package com.sg.CompMO.model.mci;\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;CompensationMci&quot;)\n\npublic class CompensationMci {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String agence;\n    private String compte;\n    private String code_ope;\n    private Date date;\n    private Long couverturemci;\n    private Long couverturehps;\n    private Long fisDnweb;\n    private Long bkmvtiFis;\n    private Long BkmvthHps;\n    private Long deltaCop;\n    private Long BkmvthVSdelta;\n    private Long dailyExtractjmoins1;\n    private Long dailyExtractjplus1;\n    private Long couvertureMcijustif;\n    private Long autoverif;\n    @Column(columnDefinition=&quot;TEXT&quot;)\n    private String obs;\n    \n}\n\n</code></pre>\n"}],"owner":{"account_id":29004775,"reputation":1,"user_id":22217594,"display_name":"azerty1012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691733393,"creation_date":1691612440,"question_id":76871013,"body_markdown":"I have tried this code to import an excel but it doesn&#39;t work. It always make the same error\r\n\r\n**Repository**\r\n\r\n```\r\npublic interface AjustageRepository extends JpaRepository&lt;Ajustage, Long&gt; {\r\n\r\n\t@Query(&quot;SELECT v FROM Ajustage v WHERE v.date = (SELECT MAX(v2.date) FROM Ajustage v2)&quot;)\r\n    Ajustage lastInput();\r\n}\r\n```\r\n\r\n**Service**\r\n\r\n```\r\n@Service\r\npublic class ExcelService {\r\n\r\n    @Autowired\r\n\tprivate AjustageRepository repository;\r\n\r\n    public void processExcelFile(MultipartFile file) {\r\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\r\n            Sheet sheet = workbook.getSheetAt(1); // Deuxi&#232;me feuille (index 1)\r\n            int i = 0;\r\n            for (Row row : sheet) {\r\n                i++;\r\n                if(i&gt;1) {\r\n                    Ajustage ajustage = new Ajustage();\r\n                    if (row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \r\n                        break;\r\n            \t    ajustage.setDate(row.getCell(0).getDateCellValue());\r\n            \t    ajustage.setLib(row.getCell(1).getStringCellValue());\r\n            \t    ajustage.setCompte(row.getCell(2).getStringCellValue());\r\n            \t    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\r\n            \t    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\r\n            \t    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\r\n            \t    System.out.println(ajustage.toString());\r\n                    repository.save(ajustage);\r\n                    // Parcours des lignes de la deuxi&#232;me feuille\r\n                    // Ins&#233;rer les donn&#233;es dans la base de donn&#233;es ici\r\n                    // Vous pouvez acc&#233;der aux cellules de chaque ligne en utilisant row.getCell(cellIndex)\r\n                    // Exemple d&#39;insertion d&#39;une donn&#233;e factice dans la base de donn&#233;es\r\n                    //ExcelData excelData = new ExcelData();\r\n                    //excelData.setData(&quot;Donn&#233;e ins&#233;r&#233;e depuis le fichier Excel&quot;);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            // G&#233;rer les erreurs de lecture du fichier Excel\r\n        \tSystem.out.println(e.getMessage());\r\n        }\r\n    }\r\n    \r\n    public void insertNewRecord(MultipartFile file) {\r\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\r\n            Sheet sheet = workbook.getSheetAt(1); // Deuxi&#232;me feuille (index 1)\r\n            int lastRowNum = this.lastRowNum(sheet);\r\n            Ajustage last = repository.lastInput();\r\n            \r\n            Row row = sheet.getRow(lastRowNum);\r\n            if(last != null) {\r\n            \tDate toInsert = row.getCell(0).getDateCellValue();\r\n            \twhile(toInsert.after(last.getDate())) {\r\n                \tAjustage ajustage = new Ajustage();\r\n            \t    ajustage.setDate(row.getCell(0).getDateCellValue());\r\n            \t    ajustage.setLib(row.getCell(1).getStringCellValue());\r\n            \t    ajustage.setCompte(row.getCell(2).getStringCellValue());\r\n            \t    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\r\n            \t    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\r\n            \t    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\r\n            \t    System.out.println(ajustage.toString());\r\n                    repository.save(ajustage);\r\n                    \r\n                    //iteration boucle\r\n                    lastRowNum--;\r\n                    row = sheet.getRow(lastRowNum);\r\n                    toInsert = row.getCell(0).getDateCellValue();\r\n                }\r\n            }\r\n            else {\r\n\t            while(lastRowNum &gt; 0) {\r\n\t            \tAjustage ajustage = new Ajustage();\r\n\t        \t    ajustage.setDate(row.getCell(0).getDateCellValue());\r\n\t        \t    ajustage.setLib(row.getCell(1).getStringCellValue());\r\n\t        \t    ajustage.setCompte(row.getCell(2).getStringCellValue());\r\n\t        \t    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\r\n\t        \t    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\r\n\t        \t    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\r\n\t        \t    System.out.println(ajustage.toString());\r\n\t                repository.save(ajustage);\r\n\t                \r\n\t                //iteration boucle\r\n\t                lastRowNum--;\r\n\t                row = sheet.getRow(lastRowNum);\r\n\t            }\r\n            }\r\n        } catch (IOException e) {\r\n            // G&#233;rer les erreurs de lecture du fichier Excel\r\n        \tSystem.out.println(e.getMessage());\r\n        }\r\n    }\r\n    \r\n    public int lastRowNum(Sheet sheet) {\r\n    \tint lastRowNum = sheet.getLastRowNum();\r\n    \tfor(int rowNum = lastRowNum; rowNum &gt;= 0; rowNum--) {\r\n    \t\tRow row = sheet.getRow(rowNum);\r\n    \t\tif (row != null &amp;&amp; row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \r\n                return rowNum;\r\n    \t}\t\r\n    \treturn -1;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the code for the controller\r\n\r\n**Controller**\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/api/excel&quot;)\r\npublic class ExcelController {\r\n    private final ExcelService excelService;\r\n\r\n    @Autowired\r\n    public ExcelController(ExcelService excelService) {\r\n        this.excelService = excelService;\r\n    }\r\n    \r\n    @GetMapping(&quot;/test&quot;) \r\n    public ResponseEntity&lt;String&gt; test() {\r\n    \treturn ResponseEntity.ok(&quot;Fichier Excel trait&#233; avec succ&#232;s&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public ResponseEntity&lt;String&gt; uploadExcelFile(@RequestPart MultipartFile file) {\r\n    \tSystem.out.println(&quot;OKK##########&quot;);\r\n        try {\r\n            excelService.processExcelFile(file); // Appel de la m&#233;thode pour traiter le fichier Excel\r\n            return ResponseEntity.ok(&quot;Fichier Excel trait&#233; avec succ&#232;s&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\r\n        }\r\n    }\r\n    \r\n    @PostMapping(&quot;/version2&quot;)\r\n    public ResponseEntity&lt;String&gt; insertNew(@RequestPart MultipartFile file) {\r\n    \tSystem.out.println(&quot;OKK##########&quot;);\r\n        try {\r\n            excelService.insertNewRecord(file); // Appel de la m&#233;thode pour traiter le fichier Excel\r\n            return ResponseEntity.ok(&quot;Fichier Excel trait&#233; avec succ&#232;s&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis code import an axcel to a databse sql server via spring boot, So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ... So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ...","title":"Correction importing excel in spring boot","body":"<p>I have tried this code to import an excel but it doesn't work. It always make the same error</p>\n<p><strong>Repository</strong></p>\n<pre><code>public interface AjustageRepository extends JpaRepository&lt;Ajustage, Long&gt; {\n\n    @Query(&quot;SELECT v FROM Ajustage v WHERE v.date = (SELECT MAX(v2.date) FROM Ajustage v2)&quot;)\n    Ajustage lastInput();\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\npublic class ExcelService {\n\n    @Autowired\n    private AjustageRepository repository;\n\n    public void processExcelFile(MultipartFile file) {\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\n            Sheet sheet = workbook.getSheetAt(1); // Deuxième feuille (index 1)\n            int i = 0;\n            for (Row row : sheet) {\n                i++;\n                if(i&gt;1) {\n                    Ajustage ajustage = new Ajustage();\n                    if (row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \n                        break;\n                    ajustage.setDate(row.getCell(0).getDateCellValue());\n                    ajustage.setLib(row.getCell(1).getStringCellValue());\n                    ajustage.setCompte(row.getCell(2).getStringCellValue());\n                    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\n                    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\n                    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\n                    System.out.println(ajustage.toString());\n                    repository.save(ajustage);\n                    // Parcours des lignes de la deuxième feuille\n                    // Insérer les données dans la base de données ici\n                    // Vous pouvez accéder aux cellules de chaque ligne en utilisant row.getCell(cellIndex)\n                    // Exemple d'insertion d'une donnée factice dans la base de données\n                    //ExcelData excelData = new ExcelData();\n                    //excelData.setData(&quot;Donnée insérée depuis le fichier Excel&quot;);\n                }\n            }\n        } catch (IOException e) {\n            // Gérer les erreurs de lecture du fichier Excel\n            System.out.println(e.getMessage());\n        }\n    }\n    \n    public void insertNewRecord(MultipartFile file) {\n        try (Workbook workbook = WorkbookFactory.create(file.getInputStream())) {\n            Sheet sheet = workbook.getSheetAt(1); // Deuxième feuille (index 1)\n            int lastRowNum = this.lastRowNum(sheet);\n            Ajustage last = repository.lastInput();\n            \n            Row row = sheet.getRow(lastRowNum);\n            if(last != null) {\n                Date toInsert = row.getCell(0).getDateCellValue();\n                while(toInsert.after(last.getDate())) {\n                    Ajustage ajustage = new Ajustage();\n                    ajustage.setDate(row.getCell(0).getDateCellValue());\n                    ajustage.setLib(row.getCell(1).getStringCellValue());\n                    ajustage.setCompte(row.getCell(2).getStringCellValue());\n                    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\n                    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\n                    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\n                    System.out.println(ajustage.toString());\n                    repository.save(ajustage);\n                    \n                    //iteration boucle\n                    lastRowNum--;\n                    row = sheet.getRow(lastRowNum);\n                    toInsert = row.getCell(0).getDateCellValue();\n                }\n            }\n            else {\n                while(lastRowNum &gt; 0) {\n                    Ajustage ajustage = new Ajustage();\n                    ajustage.setDate(row.getCell(0).getDateCellValue());\n                    ajustage.setLib(row.getCell(1).getStringCellValue());\n                    ajustage.setCompte(row.getCell(2).getStringCellValue());\n                    ajustage.setNombre(Double.valueOf(row.getCell(3).getNumericCellValue()).longValue());\n                    ajustage.setDebit(Double.valueOf(row.getCell(4).getNumericCellValue()).longValue());\n                    ajustage.setCredit(Double.valueOf(row.getCell(5).getNumericCellValue()).longValue());\n                    System.out.println(ajustage.toString());\n                    repository.save(ajustage);\n                    \n                    //iteration boucle\n                    lastRowNum--;\n                    row = sheet.getRow(lastRowNum);\n                }\n            }\n        } catch (IOException e) {\n            // Gérer les erreurs de lecture du fichier Excel\n            System.out.println(e.getMessage());\n        }\n    }\n    \n    public int lastRowNum(Sheet sheet) {\n        int lastRowNum = sheet.getLastRowNum();\n        for(int rowNum = lastRowNum; rowNum &gt;= 0; rowNum--) {\n            Row row = sheet.getRow(rowNum);\n            if (row != null &amp;&amp; row.getCell(0) != null &amp;&amp; row.getCell(0).getCellType() != CellType.BLANK) \n                return rowNum;\n        }   \n        return -1;\n    }\n}\n</code></pre>\n<p>This is the code for the controller</p>\n<p><strong>Controller</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/excel&quot;)\npublic class ExcelController {\n    private final ExcelService excelService;\n\n    @Autowired\n    public ExcelController(ExcelService excelService) {\n        this.excelService = excelService;\n    }\n    \n    @GetMapping(&quot;/test&quot;) \n    public ResponseEntity&lt;String&gt; test() {\n        return ResponseEntity.ok(&quot;Fichier Excel traité avec succès&quot;);\n    }\n\n    @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; uploadExcelFile(@RequestPart MultipartFile file) {\n        System.out.println(&quot;OKK##########&quot;);\n        try {\n            excelService.processExcelFile(file); // Appel de la méthode pour traiter le fichier Excel\n            return ResponseEntity.ok(&quot;Fichier Excel traité avec succès&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\n        }\n    }\n    \n    @PostMapping(&quot;/version2&quot;)\n    public ResponseEntity&lt;String&gt; insertNew(@RequestPart MultipartFile file) {\n        System.out.println(&quot;OKK##########&quot;);\n        try {\n            excelService.insertNewRecord(file); // Appel de la méthode pour traiter le fichier Excel\n            return ResponseEntity.ok(&quot;Fichier Excel traité avec succès&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Erreur lors du traitement du fichier Excel&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This code import an axcel to a databse sql server via spring boot, So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ... So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: enter image description here So, I have added the dependencies: enter image description here I have added properties: enter image description here ...</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":9904380,"reputation":143,"user_id":7333328,"display_name":"Sunil"},"score":0,"creation_date":1691733389,"post_id":76880987,"comment_id":135534060,"body_markdown":"Its working for me.Thanks Mate.","body":"Its working for me.Thanks Mate."}],"tags":[],"owner":{"account_id":29203933,"reputation":21,"user_id":22373439,"display_name":"Prince Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691733052,"creation_date":1691733052,"answer_id":76880987,"question_id":76880980,"body_markdown":"    public static Uri saveImageAndGetUri(Context context, Bitmap imageBitmap) {\r\n    File imageFile = new File(context.getExternalFilesDir(null), &quot;image.jpg&quot;);\r\n    try {\r\n        FileOutputStream outStream = new FileOutputStream(imageFile);\r\n        imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n        outStream.flush();\r\n        outStream.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n  return Uri.fromFile(imageFile);\r\n}","title":"Failure delivering result ResultInfo{who=null, request=100, result=-1, data=Intent { act=inline-data (has extras) }} java.lang.NullPointerException","body":"<pre><code>public static Uri saveImageAndGetUri(Context context, Bitmap imageBitmap) {\nFile imageFile = new File(context.getExternalFilesDir(null), &quot;image.jpg&quot;);\ntry {\n    FileOutputStream outStream = new FileOutputStream(imageFile);\n    imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n    outStream.flush();\n    outStream.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>return Uri.fromFile(imageFile);\n}</p>\n"}],"owner":{"account_id":29203933,"reputation":21,"user_id":22373439,"display_name":"Prince Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1691733220,"answer_count":1,"score":-1,"last_activity_date":1691733292,"creation_date":1691733017,"question_id":76880980,"body_markdown":"    public static Uri getImageUri(Context inContext, Bitmap inImage) {\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n\r\n        // Determine a size threshold below which compression is not performed\r\n        int sizeThreshold = 1024; // for example, consider images smaller than 1KB\r\n\r\n        if (inImage.getByteCount() &gt; sizeThreshold) {\r\n            inImage.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\r\n        } else {\r\n            // Handle small images differently or skip compression\r\n            // For example, you might simply use the original image without compression\r\n            inImage.compress(Bitmap.CompressFormat.PNG, 100, bytes); // Use PNG format for small images\r\n        }\r\n\r\n\r\n        String path = MediaStore.Images.Media.insertImage(inContext.getContentResolver(), inImage, &quot;Title&quot;, null);\r\n        return Uri.parse(path);\r\n    }\r\n\r\n#Getting crash while compressing the image in Redmi devices. Android versions 10 mostly.\r\n\r\n","title":"Failure delivering result ResultInfo{who=null, request=100, result=-1, data=Intent { act=inline-data (has extras) }} java.lang.NullPointerException","body":"<pre><code>public static Uri getImageUri(Context inContext, Bitmap inImage) {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n    // Determine a size threshold below which compression is not performed\n    int sizeThreshold = 1024; // for example, consider images smaller than 1KB\n\n    if (inImage.getByteCount() &gt; sizeThreshold) {\n        inImage.compress(Bitmap.CompressFormat.JPEG, 100, bytes);\n    } else {\n        // Handle small images differently or skip compression\n        // For example, you might simply use the original image without compression\n        inImage.compress(Bitmap.CompressFormat.PNG, 100, bytes); // Use PNG format for small images\n    }\n\n\n    String path = MediaStore.Images.Media.insertImage(inContext.getContentResolver(), inImage, &quot;Title&quot;, null);\n    return Uri.parse(path);\n}\n</code></pre>\n<p>#Getting crash while compressing the image in Redmi devices. Android versions 10 mostly.</p>\n"},{"tags":["java","spring-boot","http","tomcat","java-17"],"owner":{"account_id":5143074,"reputation":689,"user_id":4119789,"accept_rate":100,"display_name":"Nishant Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691732862,"creation_date":1691649726,"question_id":76873176,"body_markdown":"I have upgrade **Spring boot From 2.x to 3.1.1 (Java also upgraded to Java 8 -&gt; Zing Base Java 17)**\r\nPost the upgrade on few nodes following error is observed for all API calls, API calls works find but an additional error response gets appended to the actual response resulting errors \r\nfor client \r\n\r\nThis happens even for **actuator/health** APIs also\r\n\r\nAPI Result\r\n\r\n```{&quot;status&quot;:&quot;UP&quot;}{&quot;errorCode&quot;:&quot;MYAPP-1000&quot;,&quot;errorMessage&quot;:&quot;Can&#39;t find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US&quot;} ```\r\n\r\nCustom Exception Handler Code\r\n\r\n```  \r\n@ExceptionHandler(value = Exception.class )\r\npublic ResponseEntity handleGenericException(Exception exception) {\r\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n          .body(cacheRefreshService.buildErrorResponse(&quot;MYAPP-1000&quot;, exception.getMessage()));\r\n  }\r\n```\r\n\r\nException StackTrace\r\n\r\n```\r\n\r\n05:20:51.163 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type &#39;application/openmetrics-text;version=1.0.0;charset=utf-8&#39;\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\n05:20:51.164 [http-nio-51051-exec-5] ERROR org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/].[dispatcherServletRegistration] [] - Servlet.service() for servlet [dispatcherServletRegistration] in context with path [] threw exception [Request processing failed: java.util.MissingResourceException: Can&#39;t find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US] with root cause\r\njava.util.MissingResourceException: Can&#39;t find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US\r\n\tat sun.util.resources.Bundles.throwMissingResourceException(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.Bundles.loadBundleOf(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.Bundles.of(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData.getBundle(Unknown Source) ~[?:?]\r\n\tat sun.util.resources.LocaleData.getTimeZoneNames(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.LocaleResources.getTimeZoneNames(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\r\n\tat sun.util.cldr.CLDRTimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayName(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getName(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObjectImpl(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObject(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayNamesImpl(Unknown Source) ~[?:?]\r\n\tat sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayName(Unknown Source) ~[?:?]\r\n\tat java.util.TimeZone.getDisplayName(Unknown Source) ~[?:?]\r\n\tat java.text.SimpleDateFormat.subFormat(Unknown Source) ~[?:?]\r\n\tat java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\r\n\tat java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\r\n\tat java.text.DateFormat.format(Unknown Source) ~[?:?]\r\n\tat org.apache.tomcat.util.http.ConcurrentDateFormat.format(ConcurrentDateFormat.java:51) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.http.FastHttpDateFormat.getCurrentDate(FastHttpDateFormat.java:100) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:967) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.Response.action(Response.java:208) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.Response.doWrite(Response.java:613) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:334) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:780) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:683) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:382) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:360) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\r\n\tat sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\r\n\tat java.io.OutputStreamWriter.write(Unknown Source) ~[?:?]\r\n\tat java.io.Writer.write(Unknown Source) ~[?:?]\r\n\tat org.springframework.util.StreamUtils.copy(StreamUtils.java:137) ~[spring-core-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:126) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:44) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:225) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:300) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerAdapter.handle(CompositeHandlerAdapter.java:58) ~[spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type &#39;application/openmetrics-text;version=1.0.0;charset=utf-8&#39;\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:304) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type &#39;application/openmetrics-text;version=1.0.0;charset=utf-8&#39;]\r\n\r\n```\r\n","title":"MissingResourceException for TimeZoneNames in All API Calls post upgrading to Spring boot 3.1.0","body":"<p>I have upgrade <strong>Spring boot From 2.x to 3.1.1 (Java also upgraded to Java 8 -&gt; Zing Base Java 17)</strong>\nPost the upgrade on few nodes following error is observed for all API calls, API calls works find but an additional error response gets appended to the actual response resulting errors\nfor client</p>\n<p>This happens even for <strong>actuator/health</strong> APIs also</p>\n<p>API Result</p>\n<p><code>{&quot;status&quot;:&quot;UP&quot;}{&quot;errorCode&quot;:&quot;MYAPP-1000&quot;,&quot;errorMessage&quot;:&quot;Can't find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US&quot;} </code></p>\n<p>Custom Exception Handler Code</p>\n<pre><code>@ExceptionHandler(value = Exception.class )\npublic ResponseEntity handleGenericException(Exception exception) {\n    return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n          .body(cacheRefreshService.buildErrorResponse(&quot;MYAPP-1000&quot;, exception.getMessage()));\n  }\n</code></pre>\n<p>Exception StackTrace</p>\n<pre><code>\n05:20:51.163 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type 'application/openmetrics-text;version=1.0.0;charset=utf-8'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\n05:20:51.164 [http-nio-51051-exec-5] ERROR org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/].[dispatcherServletRegistration] [] - Servlet.service() for servlet [dispatcherServletRegistration] in context with path [] threw exception [Request processing failed: java.util.MissingResourceException: Can't find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US] with root cause\njava.util.MissingResourceException: Can't find bundle for base name sun.util.resources.cldr.TimeZoneNames, locale en_US\n    at sun.util.resources.Bundles.throwMissingResourceException(Unknown Source) ~[?:?]\n    at sun.util.resources.Bundles.loadBundleOf(Unknown Source) ~[?:?]\n    at sun.util.resources.Bundles.of(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData$1.run(Unknown Source) ~[?:?]\n    at java.security.AccessController.doPrivileged(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData.getBundle(Unknown Source) ~[?:?]\n    at sun.util.resources.LocaleData.getTimeZoneNames(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.LocaleResources.getTimeZoneNames(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\n    at sun.util.cldr.CLDRTimeZoneNameProviderImpl.getDisplayNameArray(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameProviderImpl.getDisplayName(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getName(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility$TimeZoneNameGetter.getObject(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObjectImpl(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.LocaleServiceProviderPool.getLocalizedObject(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayNamesImpl(Unknown Source) ~[?:?]\n    at sun.util.locale.provider.TimeZoneNameUtility.retrieveDisplayName(Unknown Source) ~[?:?]\n    at java.util.TimeZone.getDisplayName(Unknown Source) ~[?:?]\n    at java.text.SimpleDateFormat.subFormat(Unknown Source) ~[?:?]\n    at java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\n    at java.text.SimpleDateFormat.format(Unknown Source) ~[?:?]\n    at java.text.DateFormat.format(Unknown Source) ~[?:?]\n    at org.apache.tomcat.util.http.ConcurrentDateFormat.format(ConcurrentDateFormat.java:51) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.http.FastHttpDateFormat.getCurrentDate(FastHttpDateFormat.java:100) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:967) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:376) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.Response.action(Response.java:208) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.Response.doWrite(Response.java:613) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:334) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:780) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:683) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:382) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:360) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.implWrite(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\n    at sun.nio.cs.StreamEncoder.write(Unknown Source) ~[?:?]\n    at java.io.OutputStreamWriter.write(Unknown Source) ~[?:?]\n    at java.io.Writer.write(Unknown Source) ~[?:?]\n    at org.springframework.util.StreamUtils.copy(StreamUtils.java:137) ~[spring-core-6.0.10.jar!/:6.0.10]\n    at org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:126) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.http.converter.StringHttpMessageConverter.writeInternal(StringHttpMessageConverter.java:44) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:225) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:300) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerAdapter.handle(CompositeHandlerAdapter.java:58) ~[spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [] - Failure in @ExceptionHandler com.xxx.api.controller.ApiExceptionHandlingController#handleGenericException(Exception)\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.xxx.api.model.ErrorResponse] with preset Content-Type 'application/openmetrics-text;version=1.0.0;charset=utf-8'\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.actuate.autoconfigure.web.servlet.CompositeHandlerExceptionResolver.resolveException(CompositeHandlerExceptionResolver.java:55) [spring-boot-actuator-autoconfigure-3.1.1.jar!/:3.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) [spring-webmvc-6.0.10.jar!/:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:304) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.10.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.10.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\n05:20:51.168 [http-nio-51051-exec-5] WARN  org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'application/openmetrics-text;version=1.0.0;charset=utf-8']\n\n</code></pre>\n"},{"tags":["java","sorting","tree"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463351573,"creation_date":1463322736,"answer_id":37239497,"question_id":37238980,"body_markdown":"You seem to be confusing terminology.\r\n\r\n[Radix sorting][1] is a sorting algorithm.\r\n\r\n[Lexical order][2] is a mathematical generalization of &quot;dictionary&quot; order.\r\n\r\nAs far as I am aware, there is no such thing as &quot;lexigographic sorting&quot; ... unless this is your personal short-hand for sorting into a lexicographical order.\r\n\r\nThe relationship between a sorting algorithm and an order / ordering is that you use a sort algorithm to sort a &quot;collection&quot; of values into a particular order. The difference between them is ... like &quot;comparing chalk and cheese&quot;.\r\n\r\n------------------\r\n\r\nHowever, based on how I think you intend to use them, you could sensibly use radix sort *with* a lexical order / ordering to sort an adjacency list.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Radix_sort\r\n  [2]: https://en.wikipedia.org/wiki/Lexicographical_order","title":"JAVA Tree Sorting lexicographic","body":"<p>You seem to be confusing terminology.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow\">Radix sorting</a> is a sorting algorithm.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Lexicographical_order\" rel=\"nofollow\">Lexical order</a> is a mathematical generalization of \"dictionary\" order.</p>\n\n<p>As far as I am aware, there is no such thing as \"lexigographic sorting\" ... unless this is your personal short-hand for sorting into a lexicographical order.</p>\n\n<p>The relationship between a sorting algorithm and an order / ordering is that you use a sort algorithm to sort a \"collection\" of values into a particular order. The difference between them is ... like \"comparing chalk and cheese\".</p>\n\n<hr>\n\n<p>However, based on how I think you intend to use them, you could sensibly use radix sort <em>with</em> a lexical order / ordering to sort an adjacency list.</p>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691732636,"creation_date":1691732636,"answer_id":76880949,"question_id":37238980,"body_markdown":"As from you question **lexicographic sort and radix sort** differences are-\r\n\r\n**Radix Sort** is a linear sorting algorithm that sorts elements by processing them digit by digit.\r\n\r\n    for example to sort array [ 110,22,31 ]  using Redix Sort -  \r\n    \r\n    So first we will arrange based on unit place-\r\n    [110,31,22]\r\n    Then we arrange based on 10th place-\r\n    [110,22,31]\r\n    Then we arrange based on 100th place-\r\n    [22,31,110]\r\n\r\n    Finally we have the sorted result [22,31,110].\r\n\r\n**lexicographical Sort** is basically a dictionary order or we can say a generalization of the alphabetical order.\r\n\r\n    for example if we want to sort the below array-\r\n    [10,2,10001,1011,25,20001]\r\n    \r\n    so the lexical sort will look like-\r\n    [10,10001,1011,2,20001,25]\r\n\r\nSecond thing you want to sort lexicographically using tree\r\n\r\nSo here we can use a **binary search tree** for that,\r\nI am share a code for that hope it is helpful.\r\n\r\n    public class Node {\r\n        private int value;\r\n       private Node left, right;\r\n    \r\n        public Node(int value)\r\n        {\r\n            this.value = value;\r\n            left = right = null;\r\n        }\r\n    \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(int value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public Node getLeft() {\r\n            return left;\r\n        }\r\n    \r\n        public void setLeft(Node left) {\r\n            this.left = left;\r\n        }\r\n    \r\n        public Node getRight() {\r\n            return right;\r\n        }\r\n    \r\n        public void setRight(Node right) {\r\n            this.right = right;\r\n        }\r\n    }\r\n\r\n    public class TreeSort {\r\n    \r\n        // Root of BST\r\n        private Node root;\r\n    \r\n        public Node getRoot() {\r\n            return root;\r\n        }\r\n    \r\n        public void insert(int value)\r\n        {\r\n            root = insertRecursion(root, value);\r\n        }\r\n    \r\n        private Node insertRecursion(Node root, int value)\r\n        {\r\n    \r\n            /* If the tree is empty, return a new node */\r\n            if (root == null)\r\n            {\r\n                root = new Node(value);\r\n                return root;\r\n            }\r\n    \r\n            /* Otherwise, recur down the tree */\r\n            if (lexicographicalSort(value ,root.getValue())&lt;0)\r\n                root.setLeft(insertRecursion(root.getLeft(), value));\r\n    \r\n            else if (lexicographicalSort(value , root.getValue())&gt;0)\r\n                root.setRight( insertRecursion(root.getRight(), value));\r\n    \r\n            /* return the root */\r\n            return root;\r\n        }\r\n    \r\n        public void inorderRecursion(Node root)\r\n        {\r\n            if (root != null)\r\n            {\r\n                inorderRecursion(root.getLeft());\r\n                System.out.print(root.getValue() + &quot; &quot;);\r\n                inorderRecursion(root.getRight());\r\n            }\r\n        }\r\n    \r\n        public void treeInsertions(int[] arr)\r\n        {\r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                insert(arr[i]);\r\n            }\r\n    \r\n        }\r\n    \r\n        private static int lexicographicalSort(long input1, long input2){\r\n    \r\n            // -ve means input1 is smaller\r\n            //  +ve means input1 is larger\r\n            //  0 means input1 and input2 are same\r\n            long inp1 = input1;\r\n            long inp2 = input2;\r\n            int input1Length = 1;\r\n            int input2Length = 1;\r\n    \r\n            while(inp1/10&gt;0){\r\n                input1Length++;\r\n                inp1 = inp1/10;\r\n            }\r\n    \r\n            while(inp2/10&gt;0){\r\n                input2Length++;\r\n                inp2 = inp2/10;\r\n            }\r\n    \r\n            int[] inArr1 = new int[input1Length];\r\n            int[] inArr2 = new int[input2Length];\r\n    \r\n            inp1 = input1;\r\n            inp2 = input2;\r\n    \r\n            int min = Math.min(input1Length,input2Length);\r\n    \r\n            while(inp1/10&gt;0){\r\n                inArr1[--input1Length] = (int)inp1%10;\r\n                inp1 = inp1/10;\r\n            }\r\n            inArr1[--input1Length] = (int)inp1;\r\n    \r\n            while(inp2/10&gt;0){\r\n                inArr2[--input2Length] = (int)inp2%10;\r\n                inp2 = inp2/10;\r\n            }\r\n            inArr2[--input2Length] = (int)inp2;\r\n    \r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( inArr1[k] != inArr2[k]){\r\n                    return inArr1[k]-inArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return inArr1.length-inArr2.length;\r\n        }\r\n    }\r\nTesting same--&gt;\r\n\r\n    public class SolTest {\r\n        public static void main(String[] args) {\r\n    \r\n           // int arr[] = {5, 4, 7, 2, 11};\r\n            int arr[] = {101,2,10,1012,8};\r\n            TreeSort tree = new TreeSort();\r\n            tree.treeInsertions(arr);\r\n            tree.inorderRec(tree.getRoot());\r\n    }\r\n    }\r\n**output**-&gt;10 101 1012 2 8 \r\n\r\n**Note**-&gt; Instead of printing the result you can also store the same in List\r\n\r\nAnd if you want a custom lexicographicalSort for String then use below method \r\n\r\n     private static int lexicographicalSort(String input1, String input2){\r\n    \r\n            // -1 means input1 is smaller\r\n            //  1 means input1 is larger\r\n            //  0 means input1 and input2 are same\r\n            char[] chArr1 = input1.toCharArray();\r\n            char[] chArr2 = input2.toCharArray();\r\n            int min = Math.min(chArr1.length,chArr2.length);\r\n            int k = 0;\r\n    \r\n            while(k&lt;min){\r\n                if( chArr1[k] != chArr2[k]){\r\n                    return chArr1[k]-chArr2[k];\r\n                }\r\n                k++;\r\n            }\r\n    \r\n            return chArr1.length-chArr2.length;\r\n        }\r\n\r\n  ","title":"JAVA Tree Sorting lexicographic","body":"<p>As from you question <strong>lexicographic sort and radix sort</strong> differences are-</p>\n<p><strong>Radix Sort</strong> is a linear sorting algorithm that sorts elements by processing them digit by digit.</p>\n<pre><code>for example to sort array [ 110,22,31 ]  using Redix Sort -  \n\nSo first we will arrange based on unit place-\n[110,31,22]\nThen we arrange based on 10th place-\n[110,22,31]\nThen we arrange based on 100th place-\n[22,31,110]\n\nFinally we have the sorted result [22,31,110].\n</code></pre>\n<p><strong>lexicographical Sort</strong> is basically a dictionary order or we can say a generalization of the alphabetical order.</p>\n<pre><code>for example if we want to sort the below array-\n[10,2,10001,1011,25,20001]\n\nso the lexical sort will look like-\n[10,10001,1011,2,20001,25]\n</code></pre>\n<p>Second thing you want to sort lexicographically using tree</p>\n<p>So here we can use a <strong>binary search tree</strong> for that,\nI am share a code for that hope it is helpful.</p>\n<pre><code>public class Node {\n    private int value;\n   private Node left, right;\n\n    public Node(int value)\n    {\n        this.value = value;\n        left = right = null;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public Node getLeft() {\n        return left;\n    }\n\n    public void setLeft(Node left) {\n        this.left = left;\n    }\n\n    public Node getRight() {\n        return right;\n    }\n\n    public void setRight(Node right) {\n        this.right = right;\n    }\n}\n\npublic class TreeSort {\n\n    // Root of BST\n    private Node root;\n\n    public Node getRoot() {\n        return root;\n    }\n\n    public void insert(int value)\n    {\n        root = insertRecursion(root, value);\n    }\n\n    private Node insertRecursion(Node root, int value)\n    {\n\n        /* If the tree is empty, return a new node */\n        if (root == null)\n        {\n            root = new Node(value);\n            return root;\n        }\n\n        /* Otherwise, recur down the tree */\n        if (lexicographicalSort(value ,root.getValue())&lt;0)\n            root.setLeft(insertRecursion(root.getLeft(), value));\n\n        else if (lexicographicalSort(value , root.getValue())&gt;0)\n            root.setRight( insertRecursion(root.getRight(), value));\n\n        /* return the root */\n        return root;\n    }\n\n    public void inorderRecursion(Node root)\n    {\n        if (root != null)\n        {\n            inorderRecursion(root.getLeft());\n            System.out.print(root.getValue() + &quot; &quot;);\n            inorderRecursion(root.getRight());\n        }\n    }\n\n    public void treeInsertions(int[] arr)\n    {\n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            insert(arr[i]);\n        }\n\n    }\n\n    private static int lexicographicalSort(long input1, long input2){\n\n        // -ve means input1 is smaller\n        //  +ve means input1 is larger\n        //  0 means input1 and input2 are same\n        long inp1 = input1;\n        long inp2 = input2;\n        int input1Length = 1;\n        int input2Length = 1;\n\n        while(inp1/10&gt;0){\n            input1Length++;\n            inp1 = inp1/10;\n        }\n\n        while(inp2/10&gt;0){\n            input2Length++;\n            inp2 = inp2/10;\n        }\n\n        int[] inArr1 = new int[input1Length];\n        int[] inArr2 = new int[input2Length];\n\n        inp1 = input1;\n        inp2 = input2;\n\n        int min = Math.min(input1Length,input2Length);\n\n        while(inp1/10&gt;0){\n            inArr1[--input1Length] = (int)inp1%10;\n            inp1 = inp1/10;\n        }\n        inArr1[--input1Length] = (int)inp1;\n\n        while(inp2/10&gt;0){\n            inArr2[--input2Length] = (int)inp2%10;\n            inp2 = inp2/10;\n        }\n        inArr2[--input2Length] = (int)inp2;\n\n        int k = 0;\n\n        while(k&lt;min){\n            if( inArr1[k] != inArr2[k]){\n                return inArr1[k]-inArr2[k];\n            }\n            k++;\n        }\n\n        return inArr1.length-inArr2.length;\n    }\n}\n</code></pre>\n<p>Testing same--&gt;</p>\n<pre><code>public class SolTest {\n    public static void main(String[] args) {\n\n       // int arr[] = {5, 4, 7, 2, 11};\n        int arr[] = {101,2,10,1012,8};\n        TreeSort tree = new TreeSort();\n        tree.treeInsertions(arr);\n        tree.inorderRec(tree.getRoot());\n}\n}\n</code></pre>\n<p><strong>output</strong>-&gt;10 101 1012 2 8</p>\n<p><strong>Note</strong>-&gt; Instead of printing the result you can also store the same in List</p>\n<p>And if you want a custom lexicographicalSort for String then use below method</p>\n<pre><code> private static int lexicographicalSort(String input1, String input2){\n\n        // -1 means input1 is smaller\n        //  1 means input1 is larger\n        //  0 means input1 and input2 are same\n        char[] chArr1 = input1.toCharArray();\n        char[] chArr2 = input2.toCharArray();\n        int min = Math.min(chArr1.length,chArr2.length);\n        int k = 0;\n\n        while(k&lt;min){\n            if( chArr1[k] != chArr2[k]){\n                return chArr1[k]-chArr2[k];\n            }\n            k++;\n        }\n\n        return chArr1.length-chArr2.length;\n    }\n</code></pre>\n"}],"owner":{"account_id":8412192,"reputation":71,"user_id":6313706,"accept_rate":14,"display_name":"Donatas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691732636,"creation_date":1463319624,"question_id":37238980,"body_markdown":"I have a task to implement checking if two undirected graphs are isomorphic. For implementing tree I&#39;m using simple adjacency list example http://theoryofprogramming.com/adjacency-list-in-java/. The second thing i need to do is sort tree &quot;lexicographic&quot; is there a difference between lexicographic sort and radix sort, when sorting adjacency list of a tree ?","title":"JAVA Tree Sorting lexicographic","body":"<p>I have a task to implement checking if two undirected graphs are isomorphic. For implementing tree I'm using simple adjacency list example <a href=\"http://theoryofprogramming.com/adjacency-list-in-java/\" rel=\"nofollow\">http://theoryofprogramming.com/adjacency-list-in-java/</a>. The second thing i need to do is sort tree \"lexicographic\" is there a difference between lexicographic sort and radix sort, when sorting adjacency list of a tree ?</p>\n"},{"tags":["java","spring-boot","swagger","microservices","openapi"],"comments":[{"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"score":0,"creation_date":1691657690,"post_id":76873952,"comment_id":135522043,"body_markdown":"reference link for more explanation  https://springdoc.org/v1/","body":"reference link for more explanation  <a href=\"https://springdoc.org/v1/\" rel=\"nofollow noreferrer\">springdoc.org/v1</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691677619,"post_id":76873952,"comment_id":135526294,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691732067,"creation_date":1691656611,"answer_id":76873976,"question_id":76873952,"body_markdown":"If you are getting swagger issue using spring fox then read below. \r\nKindly note the compiler version issue as below:\r\n\r\n    49 = Java 5\r\n    50 = Java 6\r\n    51 = Java 7\r\n    52 = Java 8\r\n    53 = Java 9\r\n    54 = Java 10\r\n    55 = Java 11\r\n    56 = Java 12\r\n    57 = Java 13\r\n    58 = Java 14\r\n    59 = Java 15\r\n    60 = Java 16\r\n    61 = Java 17\r\n    62 = Java 18\r\n    63 = Java 19\r\n    64 = Java 20\r\n\r\nif you are using java version 8/11 then below dependency you can use.\r\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.\r\n \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\nuse the above dependency and access the api using below sample url.\r\nhttp://localhost:8765/swagger-ui.html\r\n\r\nfor Spring-boot v3 (Java 17 &amp; Jakarta EE 9)\r\n \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n","title":"Spring boot swagger or open api integration error in new version 2.6.0+","body":"<p>If you are getting swagger issue using spring fox then read below.\nKindly note the compiler version issue as below:</p>\n<pre><code>49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n64 = Java 20\n</code></pre>\n<p>if you are using java version 8/11 then below dependency you can use.\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.7.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>use the above dependency and access the api using below sample url.\nhttp://localhost:8765/swagger-ui.html</p>\n<p>for Spring-boot v3 (Java 17 &amp; Jakarta EE 9)</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691732205,"creation_date":1691656345,"question_id":76873952,"body_markdown":"    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nwhile using swagger for my application which is having version issue while running the application.\r\n\r\n\r\nCaused by: java.lang.UnsupportedClassVersionError: org/springdoc/core/conditions/MultipleOpenApiSupportCondition has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes\r\n\r\nwe tried changing java version java 8 to java 11 but not working due to class file version issues.\r\n\r\ntried lowering the spring boot version then also it wont work.","title":"Spring boot swagger or open api integration error in new version 2.6.0+","body":"<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>while using swagger for my application which is having version issue while running the application.</p>\n<p>Caused by: java.lang.UnsupportedClassVersionError: org/springdoc/core/conditions/MultipleOpenApiSupportCondition has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes</p>\n<p>we tried changing java version java 8 to java 11 but not working due to class file version issues.</p>\n<p>tried lowering the spring boot version then also it wont work.</p>\n"},{"tags":["java","spring-boot","swagger"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1527749907,"post_id":50618350,"comment_id":88246510,"body_markdown":"You also need the proper configuration including the `@EnableSwagger2` annotation as mentioned in the article. Do you have those, and if so, could you post that in your question as well?","body":"You also need the proper configuration including the <code>@EnableSwagger2</code> annotation as mentioned in the article. Do you have those, and if so, could you post that in your question as well?"},{"owner":{"account_id":4450802,"reputation":1076,"user_id":4608329,"accept_rate":38,"display_name":"pkgajulapalli"},"score":0,"creation_date":1527749963,"post_id":50618350,"comment_id":88246544,"body_markdown":"Did you add the swaggerconfiguration?","body":"Did you add the swaggerconfiguration?"},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1527749970,"post_id":50618350,"comment_id":88246549,"body_markdown":"spring-security-rest is not applicable for you","body":"spring-security-rest is not applicable for you"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1602594057,"post_id":50618350,"comment_id":113764952,"body_markdown":"Duplicate : https://stackoverflow.com/a/64333853/410439","body":"Duplicate : <a href=\"https://stackoverflow.com/a/64333853/410439\">stackoverflow.com/a/64333853/410439</a>"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1629279873,"post_id":50618350,"comment_id":121642761,"body_markdown":"Does this answer your question? [Added Springfox Swagger-UI and it&#39;s not working, what am I missing?](https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing\">Added Springfox Swagger-UI and it&#39;s not working, what am I missing?</a>"},{"owner":{"account_id":10142585,"reputation":904,"user_id":7491837,"accept_rate":49,"display_name":"Adriano"},"score":0,"creation_date":1629708445,"post_id":50618350,"comment_id":121748504,"body_markdown":"I was looking for an answer but I didn&#39;t notice that I used swagger 3.0 version with different url `swagger-ui/index.html`","body":"I was looking for an answer but I didn&#39;t notice that I used swagger 3.0 version with different url <code>swagger-ui&#47;index.html</code>"},{"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"score":0,"creation_date":1641553793,"post_id":50618350,"comment_id":124839351,"body_markdown":"[See more usefull informations.](https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing)","body":"<a href=\"https://stackoverflow.com/questions/46151540/added-springfox-swagger-ui-and-its-not-working-what-am-i-missing\">See more usefull informations.</a>"}],"answers":[{"tags":[],"owner":{"account_id":13564075,"reputation":71,"user_id":9784769,"display_name":"Illary Huaylupo"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1534434527,"creation_date":1534434527,"answer_id":51880939,"question_id":50618350,"body_markdown":"This worked for me, I used the WebMvcConfigurer instead of the WebMvcConfigurerAdapter because that class is already deprecated.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig implements WebMvcConfigurer {\r\n      @Bean\r\n      public Docket productApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()                \r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.illary.controller&quot;))\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build()            \r\n\t\t\t\t.apiInfo(metaData());\r\n      }\r\n      private ApiInfo metaData() {\r\n        return new ApiInfoBuilder()\r\n                .title(&quot;Spring Boot Swagger App&quot;)\r\n                .description(&quot;\\&quot;Spring Boot Swagger Server App\\&quot;&quot;)\r\n                .version(&quot;1.0.0&quot;)\r\n                .license(&quot;Apache License Version 2.0&quot;)\r\n                .licenseUrl(&quot;https://www.apache.org/licenses/LICENSE-2.0\\&quot;&quot;)\r\n                .build();\r\n      }\r\n\r\n\t  public ApiInfo apiInfo() {\r\n\t\tfinal ApiInfoBuilder builder = new ApiInfoBuilder();\r\n\t\tbuilder.title(&quot;Swagger Test App&quot;).version(&quot;1.0&quot;).license(&quot;(C) Copyright Test&quot;)\r\n\t\t.description(&quot;The API provides a platform to query build test swagger api&quot;);\r\n\r\n\t\treturn builder.build();\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n        .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n\t\tregistry.addResourceHandler(&quot;/webjars/**&quot;)\r\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n\t  }\r\n    }","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>This worked for me, I used the WebMvcConfigurer instead of the WebMvcConfigurerAdapter because that class is already deprecated.</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig implements WebMvcConfigurer {\n  @Bean\n  public Docket productApi() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()                \n            .apis(RequestHandlerSelectors.basePackage(\"com.illary.controller\"))\n            .paths(PathSelectors.any())\n            .build()            \n            .apiInfo(metaData());\n  }\n  private ApiInfo metaData() {\n    return new ApiInfoBuilder()\n            .title(\"Spring Boot Swagger App\")\n            .description(\"\\\"Spring Boot Swagger Server App\\\"\")\n            .version(\"1.0.0\")\n            .license(\"Apache License Version 2.0\")\n            .licenseUrl(\"https://www.apache.org/licenses/LICENSE-2.0\\\"\")\n            .build();\n  }\n\n  public ApiInfo apiInfo() {\n    final ApiInfoBuilder builder = new ApiInfoBuilder();\n    builder.title(\"Swagger Test App\").version(\"1.0\").license(\"(C) Copyright Test\")\n    .description(\"The API provides a platform to query build test swagger api\");\n\n    return builder.build();\n  }\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"swagger-ui.html\")\n    .addResourceLocations(\"classpath:/META-INF/resources/\");\n\n    registry.addResourceHandler(\"/webjars/**\")\n    .addResourceLocations(\"classpath:/META-INF/resources/webjars/\");\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"score":2,"creation_date":1650816182,"post_id":52309864,"comment_id":127206510,"body_markdown":"spring-boot 2.6.2 onwards better to go with springdoc-ui","body":"spring-boot 2.6.2 onwards better to go with springdoc-ui"}],"tags":[],"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1559836226,"creation_date":1536828195,"answer_id":52309864,"question_id":50618350,"body_markdown":"I was able to make it work with Spring boot version `2.0.4.RELEASE` and [this blog post][1]:\r\n\r\n\r\nI added these dependencies:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nAnd this configuration file:\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SpringFoxConfig {\r\n        @Bean\r\n        public Docket apiDocket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nAnd it worked.\r\n\r\nThe Swagger UI can be reached at &lt;domain&gt;/swagger-ui.html#\r\n\r\n  [1]: https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I was able to make it work with Spring boot version <code>2.0.4.RELEASE</code> and <a href=\"https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/\" rel=\"noreferrer\">this blog post</a>:</p>\n\n<p>I added these dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And this configuration file:</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SpringFoxConfig {\n    @Bean\n    public Docket apiDocket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n\n<p>And it worked.</p>\n\n<p>The Swagger UI can be reached at /swagger-ui.html#</p>\n"},{"comments":[{"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"score":0,"creation_date":1603308358,"post_id":54687746,"comment_id":113999383,"body_markdown":"removing it causes `Error creating bean with name webMvcRequestHandlerProvider` among other things...","body":"removing it causes <code>Error creating bean with name webMvcRequestHandlerProvider</code> among other things..."}],"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":1,"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1550138585,"creation_date":1550138585,"answer_id":54687746,"question_id":50618350,"body_markdown":"It became working for me after removing  `@EnableWebMvc`","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>It became working for me after removing  <code>@EnableWebMvc</code></p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558591636,"creation_date":1558591636,"answer_id":56268967,"question_id":50618350,"body_markdown":"Another possibility is the location of your Swagger config file; you need to place it at the same package or a subpackage of the spring boot file&#39;s.\r\nLike the above picture:\r\n\r\n[![Swagger config and Spring Boot file hierarchy][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/31EeC.png","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Another possibility is the location of your Swagger config file; you need to place it at the same package or a subpackage of the spring boot file's.\nLike the above picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/31EeC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31EeC.png\" alt=\"Swagger config and Spring Boot file hierarchy\"></a></p>\n"},{"comments":[{"owner":{"account_id":14617965,"reputation":584,"user_id":10557540,"display_name":"zhrgci"},"score":0,"creation_date":1670494032,"post_id":56765725,"comment_id":131889967,"body_markdown":"Adding the `addResourceHandlers` did the trick for me. Idk what the code means or does, but thanks &#128077;","body":"Adding the <code>addResourceHandlers</code> did the trick for me. Idk what the code means or does, but thanks 👍"}],"tags":[],"owner":{"account_id":9920870,"reputation":535,"user_id":7344033,"display_name":"Exel Staderlin"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1577350064,"creation_date":1561526604,"answer_id":56765725,"question_id":50618350,"body_markdown":"First add SwaggerConfig.java file at the same package of your springboot file like the following example.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @EnableWebMvc\r\n    public class SwaggerConfig extends WebMvcConfigurerAdapter {                                    \r\n        @Bean\r\n        public Docket api() { \r\n            return new Docket(DocumentationType.SWAGGER_2)  \r\n              .select()                                  \r\n              .apis(RequestHandlerSelectors.any())              \r\n              .paths(PathSelectors.any())                          \r\n              .build();                                           \r\n        }\r\n\r\n       @Override\r\n       public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n           registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n           .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n    \r\n           registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n           .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n       }\r\n    \r\n    }\r\n\r\ntry this \r\n`http://localhost:8080/spring-security-rest/api/swagger-ui.html`\r\n or \r\n`http://localhost:8080/spring-security-rest/swagger-ui.html`\r\n\r\nIf that does not work, try to change the path in application.properties\r\n\r\nAdd this to application.properties: \r\n\r\n    server.servlet-path=/loop-service\r\n\r\nand try the following urls:\r\n\r\n`http://localhost:8080/loop-service/swagger-ui.html`  (UI Docs)\r\n\r\n`http://localhost:8080/loop-service/v2/api-docs`   (JSON Docs)\r\n\r\n\r\nResult : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NEypp.png","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>First add SwaggerConfig.java file at the same package of your springboot file like the following example.</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig extends WebMvcConfigurerAdapter {                                    \n    @Bean\n    public Docket api() { \n        return new Docket(DocumentationType.SWAGGER_2)  \n          .select()                                  \n          .apis(RequestHandlerSelectors.any())              \n          .paths(PathSelectors.any())                          \n          .build();                                           \n    }\n\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler(\"swagger-ui.html\")\n       .addResourceLocations(\"classpath:/META-INF/resources/\");\n\n       registry.addResourceHandler(\"/webjars/**\")\n       .addResourceLocations(\"classpath:/META-INF/resources/webjars/\");\n   }\n\n}\n</code></pre>\n\n<p>try this \n<code>http://localhost:8080/spring-security-rest/api/swagger-ui.html</code>\n or \n<code>http://localhost:8080/spring-security-rest/swagger-ui.html</code></p>\n\n<p>If that does not work, try to change the path in application.properties</p>\n\n<p>Add this to application.properties: </p>\n\n<pre><code>server.servlet-path=/loop-service\n</code></pre>\n\n<p>and try the following urls:</p>\n\n<p><code>http://localhost:8080/loop-service/swagger-ui.html</code>  (UI Docs)</p>\n\n<p><code>http://localhost:8080/loop-service/v2/api-docs</code>   (JSON Docs)</p>\n\n<p>Result : \n<a href=\"https://i.stack.imgur.com/NEypp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NEypp.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16525221,"reputation":31,"user_id":11940205,"display_name":"barbarous"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569614281,"creation_date":1569593392,"answer_id":58136230,"question_id":50618350,"body_markdown":"Don&#39;t forget to change `server.contextPath` to `server.servlet.contextPath` if you upgrade Spring Boot to 2+. \r\n\r\n\r\n\r\n ","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Don't forget to change <code>server.contextPath</code> to <code>server.servlet.contextPath</code> if you upgrade Spring Boot to 2+. </p>\n"},{"comments":[{"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"score":0,"creation_date":1603308354,"post_id":61406126,"comment_id":113999381,"body_markdown":"removing it causes `Error creating bean with name webMvcRequestHandlerProvider` among other things...","body":"removing it causes <code>Error creating bean with name webMvcRequestHandlerProvider</code> among other things..."}],"tags":[],"owner":{"account_id":8490518,"reputation":1,"user_id":6367011,"display_name":"O.Dmitry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587723624,"creation_date":1587723624,"answer_id":61406126,"question_id":50618350,"body_markdown":"**Solution:** You just need to remove *@EnableWebMvc* from the configuration classes.\r\n\r\n**Description:** *@EnableWebMvc* turn on the class *org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport*. In spring-boot, there is an autoconfiguration class *org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration*, which has the annotation *@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)*.\r\n\r\nWhat we get in the end: By adding *@EnableWebMvc* to the project, we ourselves become responsible for everything, since we turn off spring-boot auto-configuration.","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p><strong>Solution:</strong> You just need to remove <em>@EnableWebMvc</em> from the configuration classes.</p>\n\n<p><strong>Description:</strong> <em>@EnableWebMvc</em> turn on the class <em>org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport</em>. In spring-boot, there is an autoconfiguration class <em>org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration</em>, which has the annotation <em>@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)</em>.</p>\n\n<p>What we get in the end: By adding <em>@EnableWebMvc</em> to the project, we ourselves become responsible for everything, since we turn off spring-boot auto-configuration.</p>\n"},{"tags":[],"owner":{"account_id":5157394,"reputation":51,"user_id":4130245,"display_name":"SatyaRajC"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1599161945,"creation_date":1599161945,"answer_id":63730573,"question_id":50618350,"body_markdown":"Faced same issue just resolved with change in dependency\r\nRefer https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/\r\n\r\ncompile &quot;io.springfox:springfox-swagger2:2.9.2&quot;\r\n\r\nPreviously was using - Not working\r\n\r\ncompile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;3.0.0&#39;\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Faced same issue just resolved with change in dependency\nRefer <a href=\"https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/\" rel=\"nofollow noreferrer\">https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/</a></p>\n<p>compile &quot;io.springfox:springfox-swagger2:2.9.2&quot;</p>\n<p>Previously was using - Not working</p>\n<p>compile group: 'io.springfox', name: 'springfox-swagger2', version: '3.0.0'</p>\n"},{"tags":[],"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608747903,"creation_date":1608747903,"answer_id":65429130,"question_id":50618350,"body_markdown":"After adding below line in `application.properties`, it started working \r\n```\r\nspring.web.resources.static-locations: classpath:/webapp/\r\n```\r\n\r\nBut I&#39;m not sure why do we have to add this. \r\nAdding the code, which I think could be relevant. Dependencies are as below: \r\n\r\n```xml \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Swagger Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nAnd main class as\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@SpringBootApplication\r\n@EnableSwagger2\r\npublic class ProxyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ProxyApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.ghsatpute.proxy&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n}\r\n```","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>After adding below line in <code>application.properties</code>, it started working</p>\n<pre><code>spring.web.resources.static-locations: classpath:/webapp/\n</code></pre>\n<p>But I'm not sure why do we have to add this.\nAdding the code, which I think could be relevant. Dependencies are as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Swagger Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And main class as</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@SpringBootApplication\n@EnableSwagger2\npublic class ProxyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProxyApplication.class, args);\n    }\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.ghsatpute.proxy&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612079802,"creation_date":1612079112,"answer_id":65976817,"question_id":50618350,"body_markdown":"Adding this if it can help somebody. This URL worked for me\r\n\r\n    http://localhost:8003/v2/api-docs\r\n\r\nand for swagger-ui this url worked for me out of the box:\r\n\r\n    http://localhost:8003/swagger-ui.html \r\n\r\nCheck if you are using right configured url for swagger specs. The urls like `http://localhost:8080/spring-security-rest/api/swagger-ui/`\r\n\r\ndidn&#39;t work , and I had been getting 404.\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Adding this if it can help somebody. This URL worked for me</p>\n<pre><code>http://localhost:8003/v2/api-docs\n</code></pre>\n<p>and for swagger-ui this url worked for me out of the box:</p>\n<pre><code>http://localhost:8003/swagger-ui.html \n</code></pre>\n<p>Check if you are using right configured url for swagger specs. The urls like <code>http://localhost:8080/spring-security-rest/api/swagger-ui/</code></p>\n<p>didn't work , and I had been getting 404.</p>\n"},{"tags":[],"owner":{"account_id":13013343,"reputation":113,"user_id":9405542,"display_name":"Diarmuid Leonard"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613826368,"creation_date":1613653259,"answer_id":66260503,"question_id":50618350,"body_markdown":"I also had the same issue (404 Not Found with springfox 3.0.0). By setting the logging level to &quot;DEBUG&quot;, I was able to see endpoints for `/v3/api-docs` and they worked, but there was nothing about &quot;swagger-ui&quot;.\r\n\r\nI finally found https://github.com/springfox/springfox/issues/3285, which indicates that:\r\n\r\n&gt; the new url in 3.0.0 is /swagger-ui/index.html or /swagger-ui/ rather than /swagger-ui.html&quot;\r\n\r\nCould they not have added a debug log to indicate where the swagger UI is available?","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I also had the same issue (404 Not Found with springfox 3.0.0). By setting the logging level to &quot;DEBUG&quot;, I was able to see endpoints for <code>/v3/api-docs</code> and they worked, but there was nothing about &quot;swagger-ui&quot;.</p>\n<p>I finally found <a href=\"https://github.com/springfox/springfox/issues/3285\" rel=\"noreferrer\">https://github.com/springfox/springfox/issues/3285</a>, which indicates that:</p>\n<blockquote>\n<p>the new url in 3.0.0 is /swagger-ui/index.html or /swagger-ui/ rather than /swagger-ui.html&quot;</p>\n</blockquote>\n<p>Could they not have added a debug log to indicate where the swagger UI is available?</p>\n"},{"comments":[{"owner":{"account_id":1128460,"reputation":2054,"user_id":1115122,"accept_rate":56,"display_name":"anshulkatta"},"score":0,"creation_date":1628360890,"post_id":66435357,"comment_id":121401775,"body_markdown":"the path of the ui page made it work - swagger-ui/index.html","body":"the path of the ui page made it work - swagger-ui/index.html"}],"tags":[],"owner":{"account_id":16875349,"reputation":393,"user_id":12202904,"display_name":"doct0re"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1654686393,"creation_date":1614671651,"answer_id":66435357,"question_id":50618350,"body_markdown":"Please check the reference: https://springfox.github.io/springfox/docs/current/\r\n\r\n&quot;2.1.3. Migrating from existing 2.x version&quot;\r\n\r\nYou can remove springfox-swagger2 and springfox-swagger-ui from your pom.xml and add springfox-boot-starter instead (for example version 3.0.0). Also you can remove the @EnableSwagger2 annotations \r\n\r\nAnd: &quot;**swagger-ui location has moved from** *https://host/context-path/swagger-ui.html* **to** *https://host/context-path/swagger-ui/index.html* OR *https://host/context-path/swagger-ui/* for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed.&quot;","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Please check the reference: <a href=\"https://springfox.github.io/springfox/docs/current/\" rel=\"noreferrer\">https://springfox.github.io/springfox/docs/current/</a></p>\n<p>&quot;2.1.3. Migrating from existing 2.x version&quot;</p>\n<p>You can remove springfox-swagger2 and springfox-swagger-ui from your pom.xml and add springfox-boot-starter instead (for example version 3.0.0). Also you can remove the @EnableSwagger2 annotations</p>\n<p>And: &quot;<strong>swagger-ui location has moved from</strong> <em>https://host/context-path/swagger-ui.html</em> <strong>to</strong> <em>https://host/context-path/swagger-ui/index.html</em> OR <em>https://host/context-path/swagger-ui/</em> for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed.&quot;</p>\n"},{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":5,"creation_date":1631609612,"post_id":68290972,"comment_id":122262140,"body_markdown":"As of September 2021, this should be the accepted answer :)","body":"As of September 2021, this should be the accepted answer :)"},{"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"score":1,"creation_date":1644332473,"post_id":68290972,"comment_id":125575145,"body_markdown":"I can verify as well that on February 2022 this is the only answer. I just added this as H3AR7B3A7 mentioned and thats it. Added on keycloak (security) the paths and thats it","body":"I can verify as well that on February 2022 this is the only answer. I just added this as H3AR7B3A7 mentioned and thats it. Added on keycloak (security) the paths and thats it"},{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":2,"creation_date":1657087885,"post_id":68290972,"comment_id":128722900,"body_markdown":"I am not using soring security. and i am using spring doc version 1.6.9 . But i am getting same 404 error for swagger-ui. but /v3/api-docs working fine. Is there any other configuration needed","body":"I am not using soring security. and i am using spring doc version 1.6.9 . But i am getting same 404 error for swagger-ui. but /v3/api-docs working fine. Is there any other configuration needed"}],"tags":[],"owner":{"account_id":17066586,"reputation":4516,"user_id":12348584,"display_name":"H3AR7B3A7"},"comment_count":3,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1662814446,"creation_date":1625680539,"answer_id":68290972,"question_id":50618350,"body_markdown":"## OpenAPI\r\n\r\nJust use **springdoc-openapi-ui** instead.\r\n\r\nThe Maven dependency:\r\n\r\n```json\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n     &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n     &lt;version&gt;1.6.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr Gradle:\r\n\r\n```groovy\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.11&#39;\r\n```\r\n\r\n### Links\r\n\r\n- UI: [http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)\r\n\r\n- Json: [http://localhost:8080/v3/api-docs](http://localhost:8080/v3/api-docs)\r\n\r\n- Yaml: [http://localhost:8080/v3/api-docs.yaml](http://localhost:8080/v3/api-docs.yaml)\r\n\r\n**That&#39;s really all there is to it... No annotations / configuration needed. Cheers!**\r\n\r\n### For Spring Security\r\n\r\nIf you are using **spring security**, make sure you can reach these paths for it to work:\r\n\r\n- &quot;/swagger-ui.html&quot; `&lt;-- for UI`\r\n- &quot;/swagger-ui/**&quot; `&lt;-- for UI redirects`\r\n- &quot;/v3/api-docs/**&quot; `&lt;-- for json docs and openapi configuration`\r\n- &quot;/v3/api-docs.yaml&quot; `&lt;-- for yaml docs`\r\n\r\nFor more information:\r\nhttps://www.baeldung.com/spring-rest-openapi-documentation","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<h2>OpenAPI</h2>\n<p>Just use <strong>springdoc-openapi-ui</strong> instead.</p>\n<p>The Maven dependency:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n     &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n     &lt;version&gt;1.6.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or Gradle:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.11'\n</code></pre>\n<h3>Links</h3>\n<ul>\n<li><p>UI: <a href=\"http://localhost:8080/swagger-ui.html\" rel=\"noreferrer\">http://localhost:8080/swagger-ui.html</a></p>\n</li>\n<li><p>Json: <a href=\"http://localhost:8080/v3/api-docs\" rel=\"noreferrer\">http://localhost:8080/v3/api-docs</a></p>\n</li>\n<li><p>Yaml: <a href=\"http://localhost:8080/v3/api-docs.yaml\" rel=\"noreferrer\">http://localhost:8080/v3/api-docs.yaml</a></p>\n</li>\n</ul>\n<p><strong>That's really all there is to it... No annotations / configuration needed. Cheers!</strong></p>\n<h3>For Spring Security</h3>\n<p>If you are using <strong>spring security</strong>, make sure you can reach these paths for it to work:</p>\n<ul>\n<li>&quot;/swagger-ui.html&quot; <code>&lt;-- for UI</code></li>\n<li>&quot;/swagger-ui/**&quot; <code>&lt;-- for UI redirects</code></li>\n<li>&quot;/v3/api-docs/**&quot; <code>&lt;-- for json docs and openapi configuration</code></li>\n<li>&quot;/v3/api-docs.yaml&quot; <code>&lt;-- for yaml docs</code></li>\n</ul>\n<p>For more information:\n<a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"noreferrer\">https://www.baeldung.com/spring-rest-openapi-documentation</a></p>\n"},{"comments":[{"owner":{"account_id":1440390,"reputation":1403,"user_id":1360700,"accept_rate":75,"display_name":"Numan Karaaslan"},"score":0,"creation_date":1627824101,"post_id":68339506,"comment_id":121254069,"body_markdown":"come on :D one trailing slash was my problem :) thanks but why is it even necessary??","body":"come on :D one trailing slash was my problem :) thanks but why is it even necessary??"}],"tags":[],"owner":{"account_id":8643705,"reputation":613,"user_id":6471600,"display_name":"Thales Valias"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626032938,"creation_date":1626032938,"answer_id":68339506,"question_id":50618350,"body_markdown":"For Spring Boot, just use the dependency below, it&#39;s all it needs to work on the URL `/swagger-ui/` (the trailing slash is mandatory).\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore trying that I was trying to use the classic dependencies of *swagger2* and *swagger-ui*, and none of the suggested URLs were working.","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>For Spring Boot, just use the dependency below, it's all it needs to work on the URL <code>/swagger-ui/</code> (the trailing slash is mandatory).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Before trying that I was trying to use the classic dependencies of <em>swagger2</em> and <em>swagger-ui</em>, and none of the suggested URLs were working.</p>\n"},{"tags":[],"owner":{"account_id":16333527,"reputation":66,"user_id":11796286,"display_name":"goku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626109128,"creation_date":1626108266,"answer_id":68351072,"question_id":50618350,"body_markdown":"Below are the steps to enable swagger in spring boot application:\r\n1) Add **springfox-swagger2** and **springfox-swagger-ui** dependencies.\r\n2) To enable the Swagger2 in your project you should use **@EnableSwagger2**\r\n3) Define a docket bean ad below\r\n```java\r\n\r\n        @Bean\r\n        public Docket docket(){\r\n                return new Docket(DocumentationType.SWAGGER_2).groupName(&quot;group-name&quot;).apiInfo(apiInfo()).select().paths(predicate()).build();\r\n        }\r\n\r\n\r\n        private Predicate&lt;String&gt; predicate() {\r\n        \t\treturn or(regex(&quot;/api/v1.*&quot;), regex(&quot;/api/v2.*&quot;));\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n        \treturn new ApiInfoBuilder().title(&quot;The title of the your choice&quot;)\r\n        \t\t\t.contact(&quot;your@email.com&quot;).license(&quot;Licence name &quot;).version(&quot;1.0&quot;).build();\r\n        }\r\n    ","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Below are the steps to enable swagger in spring boot application:</p>\n<ol>\n<li>Add <strong>springfox-swagger2</strong> and <strong>springfox-swagger-ui</strong> dependencies.</li>\n<li>To enable the Swagger2 in your project you should use <strong>@EnableSwagger2</strong></li>\n<li>Define a docket bean ad below</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\n        @Bean\n        public Docket docket(){\n                return new Docket(DocumentationType.SWAGGER_2).groupName(&quot;group-name&quot;).apiInfo(apiInfo()).select().paths(predicate()).build();\n        }\n\n\n        private Predicate&lt;String&gt; predicate() {\n                return or(regex(&quot;/api/v1.*&quot;), regex(&quot;/api/v2.*&quot;));\n        }\n    \n        private ApiInfo apiInfo() {\n            return new ApiInfoBuilder().title(&quot;The title of the your choice&quot;)\n                    .contact(&quot;your@email.com&quot;).license(&quot;Licence name &quot;).version(&quot;1.0&quot;).build();\n        }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634745165,"creation_date":1634745165,"answer_id":69649249,"question_id":50618350,"body_markdown":"Swagger UI url pattern:\r\n```localhost:&lt;server.port&gt;/&lt;server.servlet.context-path&gt;/swagger-ui.html```","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Swagger UI url pattern:\n<code>localhost:&lt;server.port&gt;/&lt;server.servlet.context-path&gt;/swagger-ui.html</code></p>\n"},{"comments":[{"owner":{"account_id":19290353,"reputation":171,"user_id":14100521,"display_name":"Natan Fernandes"},"score":1,"creation_date":1653711289,"post_id":70195274,"comment_id":127922986,"body_markdown":"Thank you! I was missing the `/index.html` part","body":"Thank you! I was missing the <code>&#47;index.html</code> part"}],"tags":[],"owner":{"account_id":10619430,"reputation":334,"user_id":7820989,"display_name":"Kushal Arya"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638428425,"creation_date":1638428425,"answer_id":70195274,"question_id":50618350,"body_markdown":"Springfox swagger UI opens at path `/swagger-ui/index.html`. \r\n\r\nMake sure you are allowing correct *ResourceLocations* and *path excluded from interceptors*\r\n\r\n```\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n\t}\r\n```\r\n\r\nNote: i&#39;m using Springfox swagger version 3.0.0 and Springboot version 2.5.3","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Springfox swagger UI opens at path <code>/swagger-ui/index.html</code>.</p>\n<p>Make sure you are allowing correct <em>ResourceLocations</em> and <em>path excluded from interceptors</em></p>\n<pre><code>    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n</code></pre>\n<p>Note: i'm using Springfox swagger version 3.0.0 and Springboot version 2.5.3</p>\n"},{"tags":[],"owner":{"account_id":5379233,"reputation":84,"user_id":4285038,"display_name":"Hasitha Lakshan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641350776,"creation_date":1641350776,"answer_id":70587253,"question_id":50618350,"body_markdown":"I was stuck for a day with this issue. My issue was incorrect port configuration. Check your `application.yml/application.properties` file for port configuration. There I had mistakenly added both\r\n`server.port , management.server.port` with different values &#129315; .","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I was stuck for a day with this issue. My issue was incorrect port configuration. Check your <code>application.yml/application.properties</code> file for port configuration. There I had mistakenly added both\n<code>server.port , management.server.port</code> with different values 🤣 .</p>\n"},{"tags":[],"owner":{"account_id":10811853,"reputation":75,"user_id":7952215,"display_name":"Piratenlulatsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657179934,"creation_date":1657179934,"answer_id":72894049,"question_id":50618350,"body_markdown":"For anyone still looking for this, using OpenAPI 3.0, not Springfox, I got it running using `WebMvcConfigurationSupport` without the need of `@EnableWebMvc`.\r\nThe only Dependency needed:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nI initially just got the JSON and a 404 on the UI.\r\n\r\nWhat ultimately worked was adding the right resource handlers to my `WebConfig` and configuring my `SecurityConfig` to allow unrestricted access for everyone.\r\n\r\nThe resource handlers in my `WebConfig`:\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \tregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-initializer.js&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.html&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui.css&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.css&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-bundle.js&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-standalone-preset.js&quot;);\r\n    }\r\nImportant was to add each one specifically (with version and everything, ** didn&#39;t work). Otherwise it wouldn&#39;t run in the cloud.\r\n\r\nI also needed to add the paths `&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;` my `SecurityConfig` to allow access to these resources. So in my case I added those here:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.addFilterBefore(...\r\n           .authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;)...\r\n    }\r\n\r\nand:\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().antMatchers(HttpMethod.GET, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;);\r\n    }\r\n\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>For anyone still looking for this, using OpenAPI 3.0, not Springfox, I got it running using <code>WebMvcConfigurationSupport</code> without the need of <code>@EnableWebMvc</code>.\nThe only Dependency needed:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I initially just got the JSON and a 404 on the UI.</p>\n<p>What ultimately worked was adding the right resource handlers to my <code>WebConfig</code> and configuring my <code>SecurityConfig</code> to allow unrestricted access for everyone.</p>\n<p>The resource handlers in my <code>WebConfig</code>:</p>\n<pre><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-initializer.js&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.html&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui.css&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/index.css&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-bundle.js&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/swagger-ui-standalone-preset.js&quot;);\n}\n</code></pre>\n<p>Important was to add each one specifically (with version and everything, ** didn't work). Otherwise it wouldn't run in the cloud.</p>\n<p>I also needed to add the paths <code>&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;</code> my <code>SecurityConfig</code> to allow access to these resources. So in my case I added those here:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.addFilterBefore(...\n       .authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;)...\n}\n</code></pre>\n<p>and:</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(HttpMethod.GET, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;...&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15861026,"reputation":1,"user_id":11444147,"display_name":"Erfan Akhavan Rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680205161,"creation_date":1680205161,"answer_id":75892327,"question_id":50618350,"body_markdown":"I had the same issue.\r\nAll I had to do was downgrading the Swagger-UI and SpringFox dependencies from 3.0.0 to 2.9.2 version.","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I had the same issue.\nAll I had to do was downgrading the Swagger-UI and SpringFox dependencies from 3.0.0 to 2.9.2 version.</p>\n"},{"tags":[],"owner":{"account_id":11946150,"reputation":107,"user_id":8741299,"display_name":"prabhat kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691731930,"creation_date":1691731930,"answer_id":76880903,"question_id":50618350,"body_markdown":" Kindly note the compiler version issue as below:\r\n\r\n    49 = Java 5\r\n    50 = Java 6\r\n    51 = Java 7\r\n    52 = Java 8\r\n    53 = Java 9\r\n    54 = Java 10\r\n    55 = Java 11\r\n    56 = Java 12\r\n    57 = Java 13\r\n    58 = Java 14\r\n    59 = Java 15\r\n    60 = Java 16\r\n    61 = Java 17\r\n    62 = Java 18\r\n    63 = Java 19\r\n    64 = Java 20\r\n\r\nif you are using java version 8/11 then below dependency you can use.\r\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.\r\n \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\nuse the above dependency and access the api using below sample url.\r\nhttp://localhost:8765/swagger-ui.html\r\n\r\nfor Spring-boot v3 (Java 17 &amp; Jakarta EE 9)\r\n \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.0&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\n","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>Kindly note the compiler version issue as below:</p>\n<pre><code>49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n64 = Java 20\n</code></pre>\n<p>if you are using java version 8/11 then below dependency you can use.\nNote: springdoc-openapi v1.7.0 is the latest Open Source release supporting Spring Boot 2.x and 1.x.</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.7.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>use the above dependency and access the api using below sample url.\nhttp://localhost:8765/swagger-ui.html</p>\n<p>for Spring-boot v3 (Java 17 &amp; Jakarta EE 9)</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113515,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":52309864,"answer_count":21,"score":36,"last_activity_date":1691731930,"creation_date":1527749582,"question_id":50618350,"body_markdown":"I&#39;m trying to integrate my Spring Boot version  `2.0.1.RELEASE` with [Swagger][1].\r\n\r\nFrom this [blog post][2]  it seemed like it will be easy by just adding two Maven dependencies and everything should work.\r\n\r\nSo I added the following dependencies to the pom:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd created the `SwaggerConfig` bean:\r\n\r\n```java\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        Docket docket = new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n        return docket;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd in the properties file I ended up with these 3 entries during the attempts to make it work:\r\n\r\n```yaml\r\nspring.application.name=cat-service\r\nmanagement.server.servlet.context-path=/cat-service\r\nserver.servlet.contextPath=/cat-service\r\n```\r\n\r\nBut at the end, when accessing\r\n\r\n `http://localhost:8080/cat-service/api/v2/api-docs` \r\n\r\nor the UI page at \r\n\r\n`http://localhost:8080/cat-service/swagger-ui.html` \r\n\r\nI get  a `page not found` error.\r\n\r\nI found [this issues in the swagger github page][3]  and [this question in stackoverflow][4]  but I was not able to change my `404` error.\r\n\r\n\r\n  [1]: https://swagger.io/\r\n  [2]: http://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\r\n  [3]: https://github.com/springfox/springfox/issues/2155\r\n  [4]: https://stackoverflow.com/questions/49586658/spring-boot-2-0-with-swagger-ui-not-working-properly","title":"Swagger with Spring Boot 2.0 leads to 404 error page","body":"<p>I'm trying to integrate my Spring Boot version  <code>2.0.1.RELEASE</code> with <a href=\"https://swagger.io/\" rel=\"noreferrer\">Swagger</a>.</p>\n<p>From this <a href=\"http://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"noreferrer\">blog post</a>  it seemed like it will be easy by just adding two Maven dependencies and everything should work.</p>\n<p>So I added the following dependencies to the pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And created the <code>SwaggerConfig</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        Docket docket = new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n        return docket;\n    }\n}\n</code></pre>\n<p>And in the properties file I ended up with these 3 entries during the attempts to make it work:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.application.name=cat-service\nmanagement.server.servlet.context-path=/cat-service\nserver.servlet.contextPath=/cat-service\n</code></pre>\n<p>But at the end, when accessing</p>\n<p><code>http://localhost:8080/cat-service/api/v2/api-docs</code></p>\n<p>or the UI page at</p>\n<p><code>http://localhost:8080/cat-service/swagger-ui.html</code></p>\n<p>I get  a <code>page not found</code> error.</p>\n<p>I found <a href=\"https://github.com/springfox/springfox/issues/2155\" rel=\"noreferrer\">this issues in the swagger github page</a>  and <a href=\"https://stackoverflow.com/questions/49586658/spring-boot-2-0-with-swagger-ui-not-working-properly\">this question in stackoverflow</a>  but I was not able to change my <code>404</code> error.</p>\n"},{"tags":["java","selenium-webdriver","testing","selenium-chromedriver","automated-tests"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1691706830,"post_id":76874060,"comment_id":135531804,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1691715473,"post_id":76874060,"comment_id":135532628,"body_markdown":"check the typo here: `//div[@role=&#39;buttone&#39;]`","body":"check the typo here: <code>&#47;&#47;div[@role=&#39;buttone&#39;]</code>"}],"owner":{"account_id":6043568,"reputation":169,"user_id":8642891,"display_name":"Miklosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691731764,"creation_date":1691657218,"question_id":76874060,"body_markdown":"Currently working on google pay integration test automation and got stuck with element location problem.\r\nGoogle payment flow opens in separate window which I managed by finding proper handle in session\r\n```\r\ndriver.switchTo().window(googlePayWindowHandle);\r\n```\r\nafter after i got transferred to the page where i need to click on the &quot;Continue&quot; buttone and there are few tricks with it:\r\n - it&#39;s in the iframe which i managed by moving to the proper frame \r\n \r\n```\r\nWebElement iframe = checkPresenceOfElementWithWait(driver, By.name(&quot;sM432dIframe&quot;), WAIT_DURATION);\r\nWebDriver frameDriver = driver.switchTo().frame(iframe);\r\n```\r\n - button i need to click is a div with role=&quot;buttone&quot;.\r\nAs per other articles i&#39;ve tried locating button element with wait for it to be clickable \r\n```\r\nWebDriverWait frameWait = new WebDriverWait(frameDriver, WAIT_DURATION);\r\nWebElement element = frameWait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role=&#39;button&#39;]&quot;)));\r\n```\r\nBut it always fail with error \r\n```\r\nTimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //div[@role=&#39;buttone&#39;]\r\n```\r\nalso i tried another approaches like using **waitForElementPresence** and it seems that selenium cannot locate the element inside the iframe. To make sure that button is within the frame i entered chrome console and searched by xPath and it worked.\r\n\r\nP.S.:\r\nalso tried javascript executor and still no luck. ","title":"Selenium can&#39;t click div button inside google pay iframe","body":"<p>Currently working on google pay integration test automation and got stuck with element location problem.\nGoogle payment flow opens in separate window which I managed by finding proper handle in session</p>\n<pre><code>driver.switchTo().window(googlePayWindowHandle);\n</code></pre>\n<p>after after i got transferred to the page where i need to click on the &quot;Continue&quot; buttone and there are few tricks with it:</p>\n<ul>\n<li>it's in the iframe which i managed by moving to the proper frame</li>\n</ul>\n<pre><code>WebElement iframe = checkPresenceOfElementWithWait(driver, By.name(&quot;sM432dIframe&quot;), WAIT_DURATION);\nWebDriver frameDriver = driver.switchTo().frame(iframe);\n</code></pre>\n<ul>\n<li>button i need to click is a div with role=&quot;buttone&quot;.\nAs per other articles i've tried locating button element with wait for it to be clickable</li>\n</ul>\n<pre><code>WebDriverWait frameWait = new WebDriverWait(frameDriver, WAIT_DURATION);\nWebElement element = frameWait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role='button']&quot;)));\n</code></pre>\n<p>But it always fail with error</p>\n<pre><code>TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //div[@role='buttone']\n</code></pre>\n<p>also i tried another approaches like using <strong>waitForElementPresence</strong> and it seems that selenium cannot locate the element inside the iframe. To make sure that button is within the frame i entered chrome console and searched by xPath and it worked.</p>\n<p>P.S.:\nalso tried javascript executor and still no luck.</p>\n"},{"tags":["java","httpclient","connection-pooling","socket-timeout-exception"],"owner":{"account_id":27891295,"reputation":25,"user_id":21297617,"display_name":"ketan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691729176,"creation_date":1691729176,"question_id":76880740,"body_markdown":"I am facing an issue while using PoolingHttpClientConnectionManager in my Java application. I have a scenario where I need to handle socket timeout exceptions for some endpoints that might not respond in time. However, I&#39;m observing unexpected behavior when using a shared connection manager versus creating a new connection manager each time.\r\n\r\nHere&#39;s my code snippet:\r\n\r\n&#39;&#39;&#39;\r\n\r\n\tprivate static PoolingHttpClientConnectionManager connectionManager = null;\r\n\r\n\tstatic {\r\n\t\tconnectionManager = getPoolingHttpClientConnectionManager();\r\n\t}\r\n\r\n\tpublic static PoolingHttpClientConnectionManager getPoolingHttpClientConnectionManager() {\r\n\t\tPoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n\t\tconnectionManager.setDefaultConnectionConfig(getConnectionConfig());\r\n\t\treturn connectionManager;\r\n\t}\r\n\r\n\tpublic static CloseableHttpClient getHttpClientObject(Credential credentials, String url) {\r\n\t\tBasicCredentialsProvider credentialsProvider = getCredentialProvider(credentials, url);\r\n\t\tRegistry&lt;AuthSchemeFactory&gt; authSchemeRegistry = getAuthSchemeRegistry();\r\n\t\tRequestConfig requestConfig = getRequestConfig();\r\n\t\t/*\r\n\t\t * PoolingHttpClientConnectionManager connectionManager =\r\n\t\t * getPoolingHttpClientConnectionManager();\r\n\t\t */\r\n\t\tHttpClientBuilder httpClientBuilder = HttpClients.custom()\r\n\t\t\t\t.setConnectionManager(connectionManager) // Using shared connection manager\r\n\t\t\t\t.setDefaultAuthSchemeRegistry(authSchemeRegistry)\r\n\t\t\t\t.setConnectionManagerShared(true) // Setting connection manager as shared\r\n\t\t\t\t.setDefaultRequestConfig(requestConfig);\r\n\r\n\t\tif (null != credentialsProvider) {\r\n\t\t\thttpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t}\r\n\r\n\t\tCloseableHttpClient httpClient = httpClientBuilder.build();\r\n\r\n\t\treturn httpClient;\r\n\t}\r\n\r\n\tpublic static ConnectionConfig getConnectionConfig() {\r\n\r\n\t\tConnectionConfig connectionConfig = null;\r\n\r\n\t\tconnectionConfig = ConnectionConfig.custom()\r\n\t\t\t\t.setConnectTimeout(Timeout.of(4000, TimeUnit.MILLISECONDS))\r\n\t\t\t\t.setSocketTimeout(Timeout.of(1000, TimeUnit.MILLISECONDS))\r\n\t\t\t\t.build();\r\n\t\treturn connectionConfig;\r\n\t}\r\n\r\n&#39;&#39;&#39;\r\n\r\nWhen I use the shared connection manager, I don&#39;t get the expected socket timeout exception for endpoints that don&#39;t respond. However, if I uncomment the line to create a new connection manager each time, I do get the socket timeout exception as expected.\r\n\r\nCould someone help me understand why this behavior is happening? What might be going wrong when I use a shared connection manager? Is there a way to make the shared connection manager work as expected with socket timeout exceptions?\r\n\r\nThank you in advance for any insights or suggestions!","title":"Issue with Socket Timeout Exception when using shared PoolingHttpClientConnectionManager","body":"<p>I am facing an issue while using PoolingHttpClientConnectionManager in my Java application. I have a scenario where I need to handle socket timeout exceptions for some endpoints that might not respond in time. However, I'm observing unexpected behavior when using a shared connection manager versus creating a new connection manager each time.</p>\n<p>Here's my code snippet:</p>\n<p>'''</p>\n<pre><code>private static PoolingHttpClientConnectionManager connectionManager = null;\n\nstatic {\n    connectionManager = getPoolingHttpClientConnectionManager();\n}\n\npublic static PoolingHttpClientConnectionManager getPoolingHttpClientConnectionManager() {\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setDefaultConnectionConfig(getConnectionConfig());\n    return connectionManager;\n}\n\npublic static CloseableHttpClient getHttpClientObject(Credential credentials, String url) {\n    BasicCredentialsProvider credentialsProvider = getCredentialProvider(credentials, url);\n    Registry&lt;AuthSchemeFactory&gt; authSchemeRegistry = getAuthSchemeRegistry();\n    RequestConfig requestConfig = getRequestConfig();\n    /*\n     * PoolingHttpClientConnectionManager connectionManager =\n     * getPoolingHttpClientConnectionManager();\n     */\n    HttpClientBuilder httpClientBuilder = HttpClients.custom()\n            .setConnectionManager(connectionManager) // Using shared connection manager\n            .setDefaultAuthSchemeRegistry(authSchemeRegistry)\n            .setConnectionManagerShared(true) // Setting connection manager as shared\n            .setDefaultRequestConfig(requestConfig);\n\n    if (null != credentialsProvider) {\n        httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n    }\n\n    CloseableHttpClient httpClient = httpClientBuilder.build();\n\n    return httpClient;\n}\n\npublic static ConnectionConfig getConnectionConfig() {\n\n    ConnectionConfig connectionConfig = null;\n\n    connectionConfig = ConnectionConfig.custom()\n            .setConnectTimeout(Timeout.of(4000, TimeUnit.MILLISECONDS))\n            .setSocketTimeout(Timeout.of(1000, TimeUnit.MILLISECONDS))\n            .build();\n    return connectionConfig;\n}\n</code></pre>\n<p>'''</p>\n<p>When I use the shared connection manager, I don't get the expected socket timeout exception for endpoints that don't respond. However, if I uncomment the line to create a new connection manager each time, I do get the socket timeout exception as expected.</p>\n<p>Could someone help me understand why this behavior is happening? What might be going wrong when I use a shared connection manager? Is there a way to make the shared connection manager work as expected with socket timeout exceptions?</p>\n<p>Thank you in advance for any insights or suggestions!</p>\n"},{"tags":["java","macos","gradle","javafx"],"comments":[{"owner":{"account_id":20832881,"reputation":63,"user_id":15301757,"display_name":"Jaster_Master"},"score":0,"creation_date":1673970362,"post_id":75147224,"comment_id":132612602,"body_markdown":"Did you already google your problem? I also found the exception here: https://stackoverflow.com/questions/65737055/javafx-web-11-error-initializing-quantumrenderer-no-suitable-pipeline-found","body":"Did you already google your problem? I also found the exception here: <a href=\"https://stackoverflow.com/questions/65737055/javafx-web-11-error-initializing-quantumrenderer-no-suitable-pipeline-found\" title=\"javafx web 11 error initializing quantumrenderer no suitable pipeline found\">stackoverflow.com/questions/65737055/&hellip;</a>"},{"owner":{"account_id":20688193,"reputation":237,"user_id":15190162,"display_name":"finnjgr"},"score":0,"creation_date":1673972156,"post_id":75147224,"comment_id":132613305,"body_markdown":"Yes, I tried what was suggested in that Post (Adding org.openjfx:javafx-graphics:17:mac to my implementation) However, that didn&#39;t make a difference unfortunately.","body":"Yes, I tried what was suggested in that Post (Adding org.openjfx:javafx-graphics:17:mac to my implementation) However, that didn&#39;t make a difference unfortunately."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1673974165,"post_id":75147224,"comment_id":132613981,"body_markdown":"start here: https://openjfx.io/openjfx-docs/","body":"start here: <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":20832881,"reputation":63,"user_id":15301757,"display_name":"Jaster_Master"},"score":0,"creation_date":1673978495,"post_id":75147224,"comment_id":132615320,"body_markdown":"Here I have a working gradle.build file with kotlin as DSL: https://github.com/Jaster-Master/JavaFX-Gradle-Template/blob/main/build.gradle.kts - If this does not help you, there must be some other problem with a local javafx sdk on your device or something else. Which OS do you use?","body":"Here I have a working gradle.build file with kotlin as DSL: <a href=\"https://github.com/Jaster-Master/JavaFX-Gradle-Template/blob/main/build.gradle.kts\" rel=\"nofollow noreferrer\">github.com/Jaster-Master/JavaFX-Gradle-Template/blob/main/&hellip;</a> - If this does not help you, there must be some other problem with a local javafx sdk on your device or something else. Which OS do you use?"},{"owner":{"account_id":20688193,"reputation":237,"user_id":15190162,"display_name":"finnjgr"},"score":1,"creation_date":1674034612,"post_id":75147224,"comment_id":132626651,"body_markdown":"@jewelsea Thank you that was the problem. I upgraded to version 19 and everything is running smoothly","body":"@jewelsea Thank you that was the problem. I upgraded to version 19 and everything is running smoothly"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691728903,"creation_date":1674049576,"answer_id":75160212,"question_id":75147224,"body_markdown":"## Use later versions\r\n\r\nJavaFX support for [M1/M2][1] Macs is unreliable in some JavaFX 17 distributions. \r\n\r\nInstead, **use JavaFX 19 or greater**, same for the Java runtime. As of 2023-08, JavaFX ([OpenJFX][2]) version 20 is current, with 21 planned for next month. See [*Downloads*][3] page. JavaFX releases occur on approximately the same cadence as [OpenJDK][4]. \r\n\r\nThe `mac` classifier is wrong if it is an M1 Mac. It is better not to supply a classifier unless you know what architecture you are using, and even then, I would avoid it. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apple_silicon#M_series\r\n  [2]: https://openjfx.io/\r\n  [3]: https://gluonhq.com/products/javafx/\r\n  [4]: http://en.wikipedia.org/wiki/OpenJDK","title":"Error initializing QuantumRenderer: no suitable pipeline found","body":"<h2>Use later versions</h2>\n<p>JavaFX support for <a href=\"https://en.wikipedia.org/wiki/Apple_silicon#M_series\" rel=\"nofollow noreferrer\">M1/M2</a> Macs is unreliable in some JavaFX 17 distributions.</p>\n<p>Instead, <strong>use JavaFX 19 or greater</strong>, same for the Java runtime. As of 2023-08, JavaFX (<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a>) version 20 is current, with 21 planned for next month. See <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\"><em>Downloads</em></a> page. JavaFX releases occur on approximately the same cadence as <a href=\"http://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a>.</p>\n<p>The <code>mac</code> classifier is wrong if it is an M1 Mac. It is better not to supply a classifier unless you know what architecture you are using, and even then, I would avoid it.</p>\n"}],"owner":{"account_id":20688193,"reputation":237,"user_id":15190162,"display_name":"finnjgr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160212,"answer_count":1,"score":0,"last_activity_date":1691728903,"creation_date":1673962436,"question_id":75147224,"body_markdown":"I am currently working on a project for University in Java.\r\nIn the template for the project we already have a lot of Classes and configurations given. However, if I try to run the code, my build fails and it gives me the following error Message:\r\n\r\n    java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\r\non top of that, I get the following warning:\r\n\r\n    Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @4bde3f8a&#39;\r\n\r\n\r\nI feel like it has something to do with the gradle configuration, so I include my build.gradle (That I was given by my university):\r\n\r\n    plugins {\r\n    \tid &#39;application&#39;\r\n    \tid &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.9&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    sourceCompatibility = 17\r\n    version = &#39;1.0.0&#39;\r\n    compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    javafx {\r\n    \tversion = &quot;17&quot;\r\n    \tmodules = [&#39;javafx.controls&#39;]\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.json:json:20220924&#39;\r\n        implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n        implementation &#39;org.openjfx:javafx-graphics:17:mac&#39;\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDir &#39;src&#39;\r\n            }\r\n        }\r\n        test {\r\n            java {\r\n                srcDirs = []\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Error initializing QuantumRenderer: no suitable pipeline found","body":"<p>I am currently working on a project for University in Java.\nIn the template for the project we already have a lot of Classes and configurations given. However, if I try to run the code, my build fails and it gives me the following error Message:</p>\n<pre><code>java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n</code></pre>\n<p>on top of that, I get the following warning:</p>\n<pre><code>Unsupported JavaFX configuration: classes were loaded from 'unnamed module @4bde3f8a'\n</code></pre>\n<p>I feel like it has something to do with the gradle configuration, so I include my build.gradle (That I was given by my university):</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.9'\n}\n\napply plugin: 'java'\nsourceCompatibility = 17\nversion = '1.0.0'\ncompileJava.options.encoding = 'UTF-8'\n\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = ['javafx.controls']\n}\n\ndependencies {\n    implementation 'org.json:json:20220924'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'org.openjfx:javafx-graphics:17:mac'\n}\n\nsourceSets {\n    main {\n        java {\n            srcDir 'src'\n        }\n    }\n    test {\n        java {\n            srcDirs = []\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","alfresco","cmis","opencmis","apache-chemistry"],"answers":[{"comments":[{"owner":{"account_id":1024306,"reputation":105,"user_id":1033952,"accept_rate":75,"display_name":"BrianV"},"score":0,"creation_date":1395269654,"post_id":22519379,"comment_id":34266810,"body_markdown":"Thanks, but the session.query example (i.e. the one with the cql string) works fine.  The query just gets the objectId, and then I retrieve the object from that.  The object query, though, which doesn&#39;t include a cql statement at all, is the one that won&#39;t get the aspects.  You&#39;re probably right, though, in that that query isn&#39;t doing the underlying join required to fetch all the aspect/secondary type properties. Unless I&#39;m misunderstanding what you said...","body":"Thanks, but the session.query example (i.e. the one with the cql string) works fine.  The query just gets the objectId, and then I retrieve the object from that.  The object query, though, which doesn&#39;t include a cql statement at all, is the one that won&#39;t get the aspects.  You&#39;re probably right, though, in that that query isn&#39;t doing the underlying join required to fetch all the aspect/secondary type properties. Unless I&#39;m misunderstanding what you said..."},{"owner":{"account_id":271622,"reputation":6049,"user_id":562258,"accept_rate":41,"display_name":"Andreas Steffan"},"score":0,"creation_date":1395298298,"post_id":22519379,"comment_id":34276442,"body_markdown":"Exactly. Try tcpdump or something similar to see what&#39;s executed under the covers and what is sent over the wire.","body":"Exactly. Try tcpdump or something similar to see what&#39;s executed under the covers and what is sent over the wire."}],"tags":[],"owner":{"account_id":271622,"reputation":6049,"user_id":562258,"accept_rate":41,"display_name":"Andreas Steffan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395267623,"creation_date":1395267623,"answer_id":22519379,"question_id":22518396,"body_markdown":"Looks like, you are missing a join as in\r\n\r\n    select d.*, o.* from cmis:document as d join cm:ownable as o on d.cmis:objectId = o.cmis:objectId\r\n\r\nHave a look at https://wiki.alfresco.com/wiki/CMIS#Aspect_Query for further details. ","title":"CMIS session.queryObjects doesn&#39;t return aspects","body":"<p>Looks like, you are missing a join as in</p>\n\n<pre><code>select d.*, o.* from cmis:document as d join cm:ownable as o on d.cmis:objectId = o.cmis:objectId\n</code></pre>\n\n<p>Have a look at <a href=\"https://wiki.alfresco.com/wiki/CMIS#Aspect_Query\" rel=\"nofollow\">https://wiki.alfresco.com/wiki/CMIS#Aspect_Query</a> for further details. </p>\n"},{"tags":[],"owner":{"account_id":21472314,"reputation":36,"user_id":15821105,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691728540,"creation_date":1691728540,"answer_id":76880719,"question_id":22518396,"body_markdown":"Before `Document d = (Document) o;` You can use `o = session.getObject(o.getId());` to reload the cmisObject. \r\nAfter the reloading, the aspects/secondaryTypes can be retrieved.  \r\nIt works for me. I am using Chemistry 1.0.0, CMIS version 1.1, and browser binding.  \r\n\r\nThere is a similar question:\r\nhttps://stackoverflow.com/questions/42689664/session-queryobjects-does-not-support-secondary-types","title":"CMIS session.queryObjects doesn&#39;t return aspects","body":"<p>Before <code>Document d = (Document) o;</code> You can use <code>o = session.getObject(o.getId());</code> to reload the cmisObject.\nAfter the reloading, the aspects/secondaryTypes can be retrieved.<br />\nIt works for me. I am using Chemistry 1.0.0, CMIS version 1.1, and browser binding.</p>\n<p>There is a similar question:\n<a href=\"https://stackoverflow.com/questions/42689664/session-queryobjects-does-not-support-secondary-types\">session.queryObjects does not support secondary types</a></p>\n"}],"owner":{"account_id":1024306,"reputation":105,"user_id":1033952,"accept_rate":75,"display_name":"BrianV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691728540,"creation_date":1395264207,"question_id":22518396,"body_markdown":"I have a couple test functions I&#39;ve written to illustrate a problem (or at least some behavior that I don&#39;t understand).  I am just doing some basic CMIS queries on an Alfresco 4.2.e community repository, but am getting some unexpected results depending on whether I use session.query() or session.queryObjects().  Specifically, the queryObjects doesn&#39;t return properties for custom aspects.  Both return the relationships/associations fine.  Am I doing something wrong, or is this a bug?  I&#39;m using opencmis 0.10, and the CMIS 1.1 URL.\r\n\r\n    private static Collection&lt;Document&gt; testCmisObjectQuery(Session session) {\r\n        List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\r\n        OperationContext opCon = session.createOperationContext();\r\n        opCon.setLoadSecondaryTypeProperties(true);\r\n        opCon.setIncludeRelationships(IncludeRelationships.BOTH);\r\n\r\n        ItemIterable&lt;CmisObject&gt; cmisObjs = \r\n                session.queryObjects(&quot;D:af:insuringFormInstance&quot;, null, false, opCon);\r\n        for (CmisObject o : cmisObjs) {\r\n            Document d = (Document) o;\r\n            rv.add(d);\r\n            printDocProps(d);\r\n        }\r\n        return rv;\r\n    }\r\n    \r\n    private static Collection&lt;Document&gt; testCmisQuery(Session session) {\r\n        List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\r\n        String queryString = &quot;SELECT cmis:objectId FROM af:insuringFormInstance&quot;;\r\n        OperationContext opCon = session.createOperationContext();\r\n        opCon.setIncludeRelationships(IncludeRelationships.SOURCE);\r\n        ItemIterable&lt;QueryResult&gt; results = session.query(queryString, false);\r\n        for (QueryResult qResult : results) {\r\n            String objectId = qResult.getPropertyValueByQueryName(&quot;cmis:objectId&quot;);\r\n            Document doc = (Document)   session.getObject(session.createObjectId(objectId),opCon);\r\n            printDocProps(doc);\r\n            rv.add(doc);\r\n        }\r\n        return rv;\r\n    }","title":"CMIS session.queryObjects doesn&#39;t return aspects","body":"<p>I have a couple test functions I've written to illustrate a problem (or at least some behavior that I don't understand).  I am just doing some basic CMIS queries on an Alfresco 4.2.e community repository, but am getting some unexpected results depending on whether I use session.query() or session.queryObjects().  Specifically, the queryObjects doesn't return properties for custom aspects.  Both return the relationships/associations fine.  Am I doing something wrong, or is this a bug?  I'm using opencmis 0.10, and the CMIS 1.1 URL.</p>\n\n<pre><code>private static Collection&lt;Document&gt; testCmisObjectQuery(Session session) {\n    List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\n    OperationContext opCon = session.createOperationContext();\n    opCon.setLoadSecondaryTypeProperties(true);\n    opCon.setIncludeRelationships(IncludeRelationships.BOTH);\n\n    ItemIterable&lt;CmisObject&gt; cmisObjs = \n            session.queryObjects(\"D:af:insuringFormInstance\", null, false, opCon);\n    for (CmisObject o : cmisObjs) {\n        Document d = (Document) o;\n        rv.add(d);\n        printDocProps(d);\n    }\n    return rv;\n}\n\nprivate static Collection&lt;Document&gt; testCmisQuery(Session session) {\n    List&lt;Document&gt; rv = new LinkedList&lt;&gt;();\n    String queryString = \"SELECT cmis:objectId FROM af:insuringFormInstance\";\n    OperationContext opCon = session.createOperationContext();\n    opCon.setIncludeRelationships(IncludeRelationships.SOURCE);\n    ItemIterable&lt;QueryResult&gt; results = session.query(queryString, false);\n    for (QueryResult qResult : results) {\n        String objectId = qResult.getPropertyValueByQueryName(\"cmis:objectId\");\n        Document doc = (Document)   session.getObject(session.createObjectId(objectId),opCon);\n        printDocProps(doc);\n        rv.add(doc);\n    }\n    return rv;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-kinesis-firehose"],"owner":{"account_id":20875862,"reputation":389,"user_id":15334653,"display_name":"Gurucharan Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691728528,"creation_date":1691726964,"question_id":76880641,"body_markdown":"I am trying to use AWS Firehose to send the data to S3 through my spring application using the PUT Apis. But the data is in AVRO. So I wrote a lambda function for Data Transformation to transform the data to JSON format.\r\n\r\n**Lambda function:** https://github.com/GurucharanSharma/avro-convertor-lambda.&lt;br&gt;\r\n\r\n&gt; *NOTE: In case someone wants to run the lambda function - you need not package/install the code. Just get the jar file from ```target``` folder in the repository and upload\r\n&gt; to AWS Lambda. Runtime is Java 17 and handler is\r\n&gt; ```com.paytmlabs.adtech.Handler::handleRequest```*\r\n\r\n**Here is the sample test event:**\r\n```\r\n{\r\n  &quot;invocationId&quot;: &quot;invocationIdExample&quot;,\r\n  &quot;deliveryStreamArn&quot;: &quot;arn:aws:kinesis:EXAMPLE&quot;,\r\n  &quot;region&quot;: &quot;ca-central-1&quot;,\r\n  &quot;records&quot;: [\r\n    {\r\n      &quot;recordId&quot;: &quot;49546986683135544286507457936321625675700192471156785154&quot;,\r\n      &quot;approximateArrivalTimestamp&quot;: 1495072949453,\r\n      &quot;data&quot;: &quot;AFRSRVFJRC0yZjU3NzQ2Zi0zMTZlLTRlZjgtYThhOS0xNTIwZjVjYzlkZDUcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMUMTIzNDU2NzgxMRgwODk4MTAyNzQwODcUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxvuKHqbxiAA==&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Final output from lambda:**\r\n```\r\n{\r\n\t&quot;records&quot;: [{\r\n\t\t&quot;recordId&quot;: &quot;49643047012485051063095397118562844340986462806099361794000000&quot;,\r\n\t\t&quot;result&quot;: &quot;Ok&quot;,\r\n\t\t&quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUwMTgyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\r\n\t}, {\r\n\t\t&quot;recordId&quot;: &quot;49643047012485051063095397119602520545855043965066149890000000&quot;,\r\n\t\t&quot;result&quot;: &quot;Ok&quot;,\r\n\t\t&quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC04ZmNlNjkwYi1lOWQyLTQyYjktOGQ3NC1iMjdkNmNlYTk2ZTAifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUxNTc4LCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\r\n\t}, {\r\n\t\t&quot;recordId&quot;: &quot;49643047012485051063095397120278310079019621742446379010000000&quot;,\r\n\t\t&quot;result&quot;: &quot;Ok&quot;,\r\n\t\t&quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC1lODcyNzg1Ny1mMTk4LTRmNjQtOGNiZS0wZjdiNjFiMGIxNDgifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUyNDMyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\r\n\t}]\r\n}\r\n```\r\n\r\nEverything seems to work fine till here, but firehose is giving the following error:\r\n```\r\n{\r\n  &quot;attemptsMade&quot;: 4,\r\n  &quot;arrivalTimestamp&quot;: 1691724750657,\r\n  &quot;errorCode&quot;: &quot;Lambda.FunctionError&quot;,\r\n  &quot;errorMessage&quot;: &quot;Invalid output structure. Check your function and make sure the output is in required format. In addition to that, make sure the processed records contain valid result status of Dropped, Ok, or ProcessingFailed.&quot;,\r\n  &quot;attemptEndingTimestamp&quot;: 1691724828300,\r\n  &quot;rawData&quot;: &quot;AFRSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMYMDg5ODEwMjc0MDg3FDEyMzQ1Njc4MTEUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxzPW4qrxiAA==&quot;,\r\n  &quot;lambdaArn&quot;: &quot;arn:aws:lambda:ap-south-1:272415727726:function:DecisionEngineAvroConverter:$LATEST&quot;\r\n}\r\n```\r\n\r\nCan&#39;t seem to figure out what is going wrong here. Any suggestions?\r\n```","title":"Invalid output structure error while using running Data Transformation for AWS Kinesis Firehose","body":"<p>I am trying to use AWS Firehose to send the data to S3 through my spring application using the PUT Apis. But the data is in AVRO. So I wrote a lambda function for Data Transformation to transform the data to JSON format.</p>\n<p><strong>Lambda function:</strong> <a href=\"https://github.com/GurucharanSharma/avro-convertor-lambda\" rel=\"nofollow noreferrer\">https://github.com/GurucharanSharma/avro-convertor-lambda</a>.<br></p>\n<blockquote>\n<p><em>NOTE: In case someone wants to run the lambda function - you need not package/install the code. Just get the jar file from <code>target</code> folder in the repository and upload\nto AWS Lambda. Runtime is Java 17 and handler is\n<code>com.paytmlabs.adtech.Handler::handleRequest</code></em></p>\n</blockquote>\n<p><strong>Here is the sample test event:</strong></p>\n<pre><code>{\n  &quot;invocationId&quot;: &quot;invocationIdExample&quot;,\n  &quot;deliveryStreamArn&quot;: &quot;arn:aws:kinesis:EXAMPLE&quot;,\n  &quot;region&quot;: &quot;ca-central-1&quot;,\n  &quot;records&quot;: [\n    {\n      &quot;recordId&quot;: &quot;49546986683135544286507457936321625675700192471156785154&quot;,\n      &quot;approximateArrivalTimestamp&quot;: 1495072949453,\n      &quot;data&quot;: &quot;AFRSRVFJRC0yZjU3NzQ2Zi0zMTZlLTRlZjgtYThhOS0xNTIwZjVjYzlkZDUcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMUMTIzNDU2NzgxMRgwODk4MTAyNzQwODcUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxvuKHqbxiAA==&quot;\n    }\n  ]\n}\n</code></pre>\n<p><strong>Final output from lambda:</strong></p>\n<pre><code>{\n    &quot;records&quot;: [{\n        &quot;recordId&quot;: &quot;49643047012485051063095397118562844340986462806099361794000000&quot;,\n        &quot;result&quot;: &quot;Ok&quot;,\n        &quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUwMTgyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\n    }, {\n        &quot;recordId&quot;: &quot;49643047012485051063095397119602520545855043965066149890000000&quot;,\n        &quot;result&quot;: &quot;Ok&quot;,\n        &quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC04ZmNlNjkwYi1lOWQyLTQyYjktOGQ3NC1iMjdkNmNlYTk2ZTAifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUxNTc4LCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\n    }, {\n        &quot;recordId&quot;: &quot;49643047012485051063095397120278310079019621742446379010000000&quot;,\n        &quot;result&quot;: &quot;Ok&quot;,\n        &quot;data&quot;: &quot;eyJyZXF1ZXN0Ijp7InRyYW5zYWN0aW9uX2lkIjoiMjAwMTM0MjUxMjI4NzIiLCJ1c2VyX2lkIjoiMTE2NDk1MCIsInRyYW5zYWN0aW9uX3NvdXJjZSI6IlVQSSIsInJlcXVlc3RfaWQiOiJSRVFJRC1lODcyNzg1Ny1mMTk4LTRmNjQtOGNiZS0wZjdiNjFiMGIxNDgifSwicmVzcG9uc2UiOnsib2ZmZXJzIjpbeyJyYW5raW5nX2RldGFpbHMiOm51bGwsImFkX3NldF9pZCI6bnVsbCwiYXNzZXRfc2VsX3N0cmF0ZWd5IjpudWxsLCJyb19pZCI6bnVsbCwicmVzZXJ2YXRpb25fdHlwZSI6bnVsbCwiYWR2ZXJ0aXNlcl9kZXRhaWxzIjpudWxsLCJjYW1wYWlnbl9jYXRlZ29yeSI6bnVsbCwic2VsZWN0aW9uX3R5cGUiOm51bGwsImFwcF9uYW1lIjpudWxsLCJjYW1wYWlnbl9vYmplY3RpdmUiOm51bGwsInRhcmdldGluZ190eXBlIjpudWxsLCJvZmZlcl9jb250ZW50X3R5cGUiOm51bGwsImRlYWxfcHJvZHVjdF9pZCI6bnVsbCwiZ3JhdGlmaWNhdGlvbl9pZCI6bnVsbCwiY2FtcGFpZ25faWQiOm51bGwsImNhbXBhaWduX3ByaW9yaXR5IjpudWxsfV0sInNwbGl0X3RhZyI6Ik1PQV9DT05URVhUVUFMIiwic2VsZWN0aW9uX2FsZ29yaXRobSI6IklOVEVSTkFMX0FPViJ9LCJjb250ZXh0Ijp7ImFzc29jaWF0ZWRfZGVhbF9wcm9kdWN0X2lkcyI6W10sImFvdl9zZWxlY3Rpb25fcGVyY2VudCI6bnVsbCwiYXVkaWVuY2VfYWN0aW9uIjoiRVJST1IiLCJxdW90YV9hY3Rpb24iOiJOT1RfRkVUQ0hFRCIsImV4dGVybmFsX3NlbGVjdGlvbl9hY3Rpb24iOiJOT1RfUEVSRk9STUVEIiwiZXhjZWVkZWRfcXVvdGFzX2RldGFpbHMiOltdLCJhdmFpbGFibGVfZGVhbF9wcm9kdWN0X2lkcyI6WyI5ODcxNzY4Njg3ODMiLCIwODk4MTAyNzQwODciLCIxMjM0NTY3ODExIiwiMTIzNDU5MjIzMCJdLCJhb3ZfZGV0YWlscyI6W10sImNhbXBhaWduX3ByaW9yaXR5X2NvbmZpZyI6bnVsbCwiZmV0Y2hfYW92X2FjdGlvbiI6Ik5PVF9GRVRDSEVEIn0sIm1lc3NhZ2UiOiJBdWRpZW5jZSBzZXJ2aWNlIGZhaWxlZCB0byByZXNwb25kIGZvciBnZXQgYXNzb2NpYXRlZCBhZHNldHMsIGFmdGVyIG1heCBhdHRlbXB0cyBvZjogMSIsInByb2R1Y2VyX3RzIjoxNjkxNzI0NzUyNDMyLCJyZXNlcnZhdGlvbl9jb250ZXh0IjpudWxsfQ==&quot;\n    }]\n}\n</code></pre>\n<p>Everything seems to work fine till here, but firehose is giving the following error:</p>\n<pre><code>{\n  &quot;attemptsMade&quot;: 4,\n  &quot;arrivalTimestamp&quot;: 1691724750657,\n  &quot;errorCode&quot;: &quot;Lambda.FunctionError&quot;,\n  &quot;errorMessage&quot;: &quot;Invalid output structure. Check your function and make sure the output is in required format. In addition to that, make sure the processed records contain valid result status of Dropped, Ok, or ProcessingFailed.&quot;,\n  &quot;attemptEndingTimestamp&quot;: 1691724828300,\n  &quot;rawData&quot;: &quot;AFRSRVFJRC0yNjA5NWNhMy01YTFhLTRmYWItODM1My0yYzk1OWE5YmQ5MTIcMjAwMTM0MjUxMjI4NzIGVVBJDjExNjQ5NTACAgIAAAAAAAAAAAAAAAAAAAAAAAIcTU9BX0NPTlRFWFRVQUwACBg5ODcxNzY4Njg3ODMYMDg5ODEwMjc0MDg3FDEyMzQ1Njc4MTEUMTIzNDU5MjIzMAAEAgICAgAAAAAAAAACAACsAUF1ZGllbmNlIHNlcnZpY2UgZmFpbGVkIHRvIHJlc3BvbmQgZm9yIGdldCBhc3NvY2lhdGVkIGFkc2V0cywgYWZ0ZXIgbWF4IGF0dGVtcHRzIG9mOiAxzPW4qrxiAA==&quot;,\n  &quot;lambdaArn&quot;: &quot;arn:aws:lambda:ap-south-1:272415727726:function:DecisionEngineAvroConverter:$LATEST&quot;\n}\n</code></pre>\n<p>Can't seem to figure out what is going wrong here. Any suggestions?</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691672675,"post_id":76874713,"comment_id":135525041,"body_markdown":"See: https://stackoverflow.com/q/43917036/642706","body":"See: <a href=\"https://stackoverflow.com/q/43917036/642706\">stackoverflow.com/q/43917036/642706</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691672746,"post_id":76874713,"comment_id":135525052,"body_markdown":"Try creating your project using the JavaFX template offered by IntelliJ in the new-project dialog box. I have posted here on this topic.","body":"Try creating your project using the JavaFX template offered by IntelliJ in the new-project dialog box. I have posted here on this topic."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691672834,"post_id":76874713,"comment_id":135525067,"body_markdown":"If your Maven seems confused, delete the `.m2` folder. Clearing that cache often unplugs a stuck Maven installation.","body":"If your Maven seems confused, delete the <code>.m2</code> folder. Clearing that cache often unplugs a stuck Maven installation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1691673194,"post_id":76874713,"comment_id":135525158,"body_markdown":"If your Maven seems confused, delete the `.m2` folder. Clearing that cache often unplugs a stuck Maven installation. Reestablishing a new `.m2` may take a while, depending on the speed of your internet connection. So be patient.","body":"If your Maven seems confused, delete the <code>.m2</code> folder. Clearing that cache often unplugs a stuck Maven installation. Reestablishing a new <code>.m2</code> may take a while, depending on the speed of your internet connection. So be patient."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1691688986,"post_id":76874713,"comment_id":135528841,"body_markdown":"LTS: Version 17.0.8 is current.","body":"LTS: Version 17.0.8 is current."},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691689034,"post_id":76874713,"comment_id":135528853,"body_markdown":"@BasilBourque I have had no issue with Maven in the past, and I have downloaded many libraries. Elsewhere I saw someone say Javafx web is deprecated which doesn&#39;t make sense, but I was hoping someone could tell me if it is still used, and if the coordinates are correct. I did use a JavaFX template by IntelliJ. Also I don&#39;t know where to find this .m2 folder.","body":"@BasilBourque I have had no issue with Maven in the past, and I have downloaded many libraries. Elsewhere I saw someone say Javafx web is deprecated which doesn&#39;t make sense, but I was hoping someone could tell me if it is still used, and if the coordinates are correct. I did use a JavaFX template by IntelliJ. Also I don&#39;t know where to find this .m2 folder."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691689592,"post_id":76874713,"comment_id":135528970,"body_markdown":"JavaFX web is still used and maintained (as are all the JavaFX modules). 17.0.8 is the latest LTS version, 20.0.2 the latest GA version. (Early access for version 21 is planned for September 2023.) You should use the same version of all JavaFX modules. The maven coordinates are correct (basically use the same coordinates as you do for `javafx-controls`, but just change the `artifactId`). The `.m2` folder is usually in your user home directory. Note it&#39;s a hidden folder on most systems. What is the error message you get on the `import` statement? Have you added the `javafx.web` module?","body":"JavaFX web is still used and maintained (as are all the JavaFX modules). 17.0.8 is the latest LTS version, 20.0.2 the latest GA version. (Early access for version 21 is planned for September 2023.) You should use the same version of all JavaFX modules. The maven coordinates are correct (basically use the same coordinates as you do for <code>javafx-controls</code>, but just change the <code>artifactId</code>). The <code>.m2</code> folder is usually in your user home directory. Note it&#39;s a hidden folder on most systems. What is the error message you get on the <code>import</code> statement? Have you added the <code>javafx.web</code> module?"},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691690298,"post_id":76874713,"comment_id":135529107,"body_markdown":"@James_D For the import statement it doesn&#39;t give an error for the library itself but rather for &quot;web&quot;  in &quot;import javafx.scene.web.WebEngine;&quot; saying &quot;Cannot resolve symbol web&quot;. I  don&#39;t know why it&#39;s not recognizing &quot;web&quot; when it&#39;s supposed to be a JavaFX library. I added &quot;requires javafx.web;&quot; to the module-info file but it said it can&#39;t find module. I also added the dependency to the pom.xml file. When loading the library, it partially loaded, but showed red for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;.","body":"@James_D For the import statement it doesn&#39;t give an error for the library itself but rather for &quot;web&quot;  in &quot;import javafx.scene.web.WebEngine;&quot; saying &quot;Cannot resolve symbol web&quot;. I  don&#39;t know why it&#39;s not recognizing &quot;web&quot; when it&#39;s supposed to be a JavaFX library. I added &quot;requires javafx.web;&quot; to the module-info file but it said it can&#39;t find module. I also added the dependency to the pom.xml file. When loading the library, it partially loaded, but showed red for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691692044,"post_id":76874713,"comment_id":135529428,"body_markdown":"I&#39;d try deleting `.m2/repository/org/openjfx/javafx-web` and its contents; then in IntelliJ right-click on the project, choose &quot;Maven&quot; and &quot;Reload project&quot;. That should force a fresh download.","body":"I&#39;d try deleting <code>.m2&#47;repository&#47;org&#47;openjfx&#47;javafx-web</code> and its contents; then in IntelliJ right-click on the project, choose &quot;Maven&quot; and &quot;Reload project&quot;. That should force a fresh download."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691696575,"post_id":76874713,"comment_id":135530251,"body_markdown":"What kind of Mac do you have? Intel or M series? [JavaFX for M series macs may only be stable in later versions](https://stackoverflow.com/questions/75147224/error-initializing-quantumrenderer-no-suitable-pipeline-found/75160212#75160212). Don’t use outdated software. Also provide a pom.xml and module-info that causes the error in the question.","body":"What kind of Mac do you have? Intel or M series? <a href=\"https://stackoverflow.com/questions/75147224/error-initializing-quantumrenderer-no-suitable-pipeline-found/75160212#75160212\">JavaFX for M series macs may only be stable in later versions</a>. Don’t use outdated software. Also provide a pom.xml and module-info that causes the error in the question."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1691732778,"post_id":76874713,"comment_id":135533974,"body_markdown":"Yep, I checked some more and [WebKit in JavaFX 17.0.2 was definitely broken on M series macs](https://bugs.openjdk.org/browse/JDK-8281459), and was fixed in later releases.","body":"Yep, I checked some more and <a href=\"https://bugs.openjdk.org/browse/JDK-8281459\" rel=\"nofollow noreferrer\">WebKit in JavaFX 17.0.2 was definitely broken on M series macs</a>, and was fixed in later releases."},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691757005,"post_id":76874713,"comment_id":135538465,"body_markdown":"@James_D how do I find the .m2 directory?","body":"@James_D how do I find the .m2 directory?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691757883,"post_id":76874713,"comment_id":135538660,"body_markdown":"It&#39;s usually in your user home directory. In terminal, try `cd ~/.m2` or using Finder use &quot;Go&quot; -&gt; &quot;Go to folder...&quot; and then `~.m2`. But looking at jewelsea&#39;s comments, the solution should be just to change the JavaFX versions to `20.0.1` in `pom.xml` and then &quot;Maven&quot; -&gt; &quot;Reload Project&quot; from the project context menu in IntelliJ.","body":"It&#39;s usually in your user home directory. In terminal, try <code>cd ~&#47;.m2</code> or using Finder use &quot;Go&quot; -&gt; &quot;Go to folder...&quot; and then <code>~.m2</code>. But looking at jewelsea&#39;s comments, the solution should be just to change the JavaFX versions to <code>20.0.1</code> in <code>pom.xml</code> and then &quot;Maven&quot; -&gt; &quot;Reload Project&quot; from the project context menu in IntelliJ."},{"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"score":0,"creation_date":1691855424,"post_id":76874713,"comment_id":135549304,"body_markdown":"Thank you. Reloading the project worked, and now I am having no issues importing javafx web. The first few times I tried reloading the project, it did not work, but after trying multiple times it did. Not sure why that is, but I am just relieved it&#39;s fixed.","body":"Thank you. Reloading the project worked, and now I am having no issues importing javafx web. The first few times I tried reloading the project, it did not work, but after trying multiple times it did. Not sure why that is, but I am just relieved it&#39;s fixed."}],"owner":{"account_id":28547472,"reputation":31,"user_id":22084122,"display_name":"jari85"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691728413,"creation_date":1691662042,"question_id":76874713,"body_markdown":"I am making a Javafx app in IntelliJ. I tried to add &quot;import javafx.scene.web.WebEngine&quot; and &quot;import javafx.scene.web.WebView&quot; to my class. Unfortunately it was not able to import. \r\n\r\nI then tried to import the library org.openjfx:javafx-web:17.0.2 in the project libraries, but it perpetually said &quot;Resolving Maven Dependencies&quot; without doing anything. Any time in the past I have added javafx libraries, it was added with no problem, but this library never adds itself. I can not seem to find the correct way to do this. So do I have the incorrect coordinates or is there something wrong with my configuration? \r\n\r\nEdit: The library finally did load and showed fine for &quot;org.openjfx:javafx-web:17.0.2&quot; but showed red (error?) for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;. Import statement still does not work through I added to the module-info and pom.xml files. So I am still stuck and unsure why it did not work.","title":"What are the Maven coordinates for Javafx Web? (not able to import)","body":"<p>I am making a Javafx app in IntelliJ. I tried to add &quot;import javafx.scene.web.WebEngine&quot; and &quot;import javafx.scene.web.WebView&quot; to my class. Unfortunately it was not able to import.</p>\n<p>I then tried to import the library org.openjfx:javafx-web:17.0.2 in the project libraries, but it perpetually said &quot;Resolving Maven Dependencies&quot; without doing anything. Any time in the past I have added javafx libraries, it was added with no problem, but this library never adds itself. I can not seem to find the correct way to do this. So do I have the incorrect coordinates or is there something wrong with my configuration?</p>\n<p>Edit: The library finally did load and showed fine for &quot;org.openjfx:javafx-web:17.0.2&quot; but showed red (error?) for &quot;org.openjfx:javafx-web:mac:17.0.2&quot;. Import statement still does not work through I added to the module-info and pom.xml files. So I am still stuck and unsure why it did not work.</p>\n"},{"tags":["java","generics","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1691720456,"post_id":76880289,"comment_id":135533014,"body_markdown":"What you do want? you want an exception?","body":"What you do want? you want an exception?"},{"owner":{"account_id":29203044,"reputation":1,"user_id":22372709,"display_name":"Oleh Kochetkov"},"score":0,"creation_date":1691720671,"post_id":76880289,"comment_id":135533031,"body_markdown":"I do not understend how  List&lt;Integer&gt; hold strings?","body":"I do not understend how  List&lt;Integer&gt; hold strings?"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1691720909,"post_id":76880289,"comment_id":135533055,"body_markdown":"Could you add the response to your question?","body":"Could you add the response to your question?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1691721637,"post_id":76880289,"comment_id":135533096,"body_markdown":"Images of text are [not well received](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) here. Please edit the question. Use copy-and-paste.","body":"Images of text are <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">not well received</a> here. Please edit the question. Use copy-and-paste."}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691724397,"creation_date":1691723848,"answer_id":76880474,"question_id":76880289,"body_markdown":"Due to the use of raw type, the compiler skipped the generic check！！！\r\n\r\nThat is to say, if you use rawtype, you lose the compile-time checks when using generic types, which may extend errors to runtime.\r\n\r\n    public static void main(String[] args) {\r\n        List a = new ArrayList&lt;String&gt;(){{\r\n            add(&quot;what&quot;);\r\n            add(&quot;the&quot;);\r\n            add(&quot;f**k&quot;);\r\n        }};\r\n\r\n        List&lt;Integer&gt; b = a;\r\n        System.out.println(b); //[what, the, f**k]\r\n         \r\n        //It can be compiled successfully, but an error will be reported when running\r\n        Integer aNumber = b.get(0); \r\n\r\n    }\r\n\r\n\r\nIn your code, I think it may be that you did not specify the generic type of the `Response` object ","title":"Generics. I have issues when cast an object","body":"<p>Due to the use of raw type, the compiler skipped the generic check！！！</p>\n<p>That is to say, if you use rawtype, you lose the compile-time checks when using generic types, which may extend errors to runtime.</p>\n<pre><code>public static void main(String[] args) {\n    List a = new ArrayList&lt;String&gt;(){{\n        add(&quot;what&quot;);\n        add(&quot;the&quot;);\n        add(&quot;f**k&quot;);\n    }};\n\n    List&lt;Integer&gt; b = a;\n    System.out.println(b); //[what, the, f**k]\n     \n    //It can be compiled successfully, but an error will be reported when running\n    Integer aNumber = b.get(0); \n\n}\n</code></pre>\n<p>In your code, I think it may be that you did not specify the generic type of the <code>Response</code> object</p>\n"},{"tags":[],"owner":{"account_id":1778502,"reputation":913,"user_id":1621777,"accept_rate":17,"display_name":"Ashish Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691728140,"creation_date":1691727631,"answer_id":76880672,"question_id":76880289,"body_markdown":"You can also use instanceOf operator and then cast for example like\r\n\r\n    Map&lt;String,Object&gt; map = new HashMap();\r\n    map.put(&quot;A&quot;,11);\r\n    map.put(&quot;B&quot;,102);\r\n    map.put(&quot;C&quot;,new Dog());\r\n    map.put(&quot;D&quot;,new Exception(&quot;bla-bla&quot;));\r\n    map.put(&quot;E&quot;,&quot;Hello&quot;);\r\n\r\nso look at ur map type , it can take object as value so any object be it Integer , Float , Dog , Bussiness Object , new Thread , new Exception all are good to be inserted.\r\n\r\nnow the problem comes when u , iterating and access the values ...java dont know what comes out .. ***so it will give u classCastException ryt***.\r\n\r\n\r\n**Intention : to extract value** \r\n \r\n\r\n     int output = map.get(&quot;A&quot;); \r\n\r\n/* so here you trying to access value based on key ryt \r\n    which is integer and u trying to save in integer ...but it is object for java as u declared map as Map&lt;String,Object&gt; ... correct not integer */\r\n\r\n**Solution** \r\n\r\n    Object obj = map.get(&quot;A&quot;);\r\n    if(obj instanceOf Integer)\r\n    {\r\n      Integer output = (Integer) map.get(&quot;A&quot;);\r\n       // now u can use output\r\n    }\r\n\r\n","title":"Generics. I have issues when cast an object","body":"<p>You can also use instanceOf operator and then cast for example like</p>\n<pre><code>Map&lt;String,Object&gt; map = new HashMap();\nmap.put(&quot;A&quot;,11);\nmap.put(&quot;B&quot;,102);\nmap.put(&quot;C&quot;,new Dog());\nmap.put(&quot;D&quot;,new Exception(&quot;bla-bla&quot;));\nmap.put(&quot;E&quot;,&quot;Hello&quot;);\n</code></pre>\n<p>so look at ur map type , it can take object as value so any object be it Integer , Float , Dog , Bussiness Object , new Thread , new Exception all are good to be inserted.</p>\n<p>now the problem comes when u , iterating and access the values ...java dont know what comes out .. <em><strong>so it will give u classCastException ryt</strong></em>.</p>\n<p><strong>Intention : to extract value</strong></p>\n<pre><code> int output = map.get(&quot;A&quot;); \n</code></pre>\n<p>/* so here you trying to access value based on key ryt\nwhich is integer and u trying to save in integer ...but it is object for java as u declared map as Map&lt;String,Object&gt; ... correct not integer */</p>\n<p><strong>Solution</strong></p>\n<pre><code>Object obj = map.get(&quot;A&quot;);\nif(obj instanceOf Integer)\n{\n  Integer output = (Integer) map.get(&quot;A&quot;);\n   // now u can use output\n}\n</code></pre>\n"}],"owner":{"account_id":29203044,"reputation":1,"user_id":22372709,"display_name":"Oleh Kochetkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76880474,"answer_count":2,"score":-2,"last_activity_date":1691728140,"creation_date":1691719512,"question_id":76880289,"body_markdown":"When I use the `response.path()` method, it returns a list of objects (strings). I store this result in a list of integers, and surprisingly, it does not raise any exceptions. I&#39;m even able to print the contents successfully.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI do not have the solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3R3NQ.png","title":"Generics. I have issues when cast an object","body":"<p>When I use the <code>response.path()</code> method, it returns a list of objects (strings). I store this result in a list of integers, and surprisingly, it does not raise any exceptions. I'm even able to print the contents successfully.</p>\n<p><a href=\"https://i.stack.imgur.com/3R3NQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3R3NQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not have the solution.</p>\n"},{"tags":["java","windows","watchdog","apache-commons-exec"],"comments":[{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":0,"creation_date":1466388999,"post_id":35601924,"comment_id":63279212,"body_markdown":"I see the same behavior on Linux when trying to run `*.sh` file (the first line is `#!/bin/sh`). Watchdog just doesn&#39;t stop this process after timeout! :(","body":"I see the same behavior on Linux when trying to run <code>*.sh</code> file (the first line is <code>#!&#47;bin&#47;sh</code>). Watchdog just doesn&#39;t stop this process after timeout! :("}],"answers":[{"tags":[],"owner":{"account_id":194102,"reputation":1,"user_id":436223,"display_name":"Ryan Lamore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677654680,"creation_date":1677652260,"answer_id":75600241,"question_id":35601924,"body_markdown":"I solved this by extending ExecuteWatchdog; ie:\r\n\r\n    static class DestroyDescendantsExecutorWatchdog extends ExecuteWatchdog {\r\n        private Process process = null;\r\n\r\n        /**\r\n         * Creates a new watchdog with a given timeout.\r\n         *\r\n         * @param timeout the timeout for the process in milliseconds. It must be\r\n         *                greater than 0 or &#39;INFINITE_TIMEOUT&#39;\r\n         */\r\n        public DestroyDescendantsExecutorWatchdog(long timeout) {\r\n            super(timeout);\r\n        }\r\n\r\n        /**\r\n         * Overridden to capture and store the process to monitor.\r\n         * @param processToMonitor\r\n         *            the process to monitor. It cannot be {@code null}\r\n         */\r\n        @Override\r\n        public synchronized void start(Process processToMonitor) {\r\n            super.start(processToMonitor);\r\n            process = processToMonitor;\r\n        }\r\n\r\n\r\n        /**\r\n         * Overridden to clean up the process to monitor state as we stop monitoring.\r\n         */\r\n        @Override\r\n        public synchronized void stop() {\r\n            super.stop();\r\n            process = null;\r\n        }\r\n\r\n        /**\r\n         * Overrides the default behavior to collect the descendants and kill them as well.\r\n         * @param w the watchdog that timed out.\r\n         */\r\n        @Override\r\n        public synchronized void timeoutOccured(Watchdog w) {\r\n            // if the process is defined\r\n            if (process != null) {\r\n                boolean isProcessTerminated = true;\r\n                try {\r\n                    // We must check if the process was not stopped before being here\r\n                    process.exitValue();\r\n                } catch (final IllegalThreadStateException itse) {\r\n                    // the process is not terminated, if this is really\r\n                    // a timeout and not a manual stop then destroy it.\r\n                    if (isWatching()) {\r\n                        isProcessTerminated = false;\r\n                    }\r\n                }\r\n                // if we haven&#39;t already started terminating the process\r\n                if (!isProcessTerminated) {\r\n                    // get all the descendants before you destroy the root process\r\n                    Stream&lt;ProcessHandle&gt; descendants = process.toHandle().descendants();\r\n                    // now go destroy the root process\r\n                    super.timeoutOccured(w);\r\n                    // follow up by destroying the descendants as well\r\n                    descendants.forEach(descendant -&gt; {\r\n                        try {\r\n                            descendant.destroy();\r\n                        } catch (Exception e) {\r\n                            log.warn(&quot;pid={};info={}; Could not destroy descendant&quot;, descendant.pid(), descendant.info(), e);\r\n                        }\r\n                    });\r\n                    // no longer watching this process as it&#39;s destroyed\r\n                    process = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe real magic is destroying the descendants along with the root process.  \r\n\r\nI have a unit test showing that basically does this:\r\n\r\nbash &quot;script.sh&quot;\r\nwhere script.sh is just a &quot;sleep 5&quot;\r\n\r\nBefore using ExecuteWatchdog, the ExecuteWatchdog would timeout the process with an exit code of 143, but only after 5 seconds.  After replacing ExecuteWatchdog with DestroyDescendantsExecutorWatchDog with a 5ms timeout, the unit test almost immediately exits with the expected return code of 143.","title":"Java Apache Commons Exec Watchdog and Windows cmd.exe issues","body":"<p>I solved this by extending ExecuteWatchdog; ie:</p>\n<pre><code>static class DestroyDescendantsExecutorWatchdog extends ExecuteWatchdog {\n    private Process process = null;\n\n    /**\n     * Creates a new watchdog with a given timeout.\n     *\n     * @param timeout the timeout for the process in milliseconds. It must be\n     *                greater than 0 or 'INFINITE_TIMEOUT'\n     */\n    public DestroyDescendantsExecutorWatchdog(long timeout) {\n        super(timeout);\n    }\n\n    /**\n     * Overridden to capture and store the process to monitor.\n     * @param processToMonitor\n     *            the process to monitor. It cannot be {@code null}\n     */\n    @Override\n    public synchronized void start(Process processToMonitor) {\n        super.start(processToMonitor);\n        process = processToMonitor;\n    }\n\n\n    /**\n     * Overridden to clean up the process to monitor state as we stop monitoring.\n     */\n    @Override\n    public synchronized void stop() {\n        super.stop();\n        process = null;\n    }\n\n    /**\n     * Overrides the default behavior to collect the descendants and kill them as well.\n     * @param w the watchdog that timed out.\n     */\n    @Override\n    public synchronized void timeoutOccured(Watchdog w) {\n        // if the process is defined\n        if (process != null) {\n            boolean isProcessTerminated = true;\n            try {\n                // We must check if the process was not stopped before being here\n                process.exitValue();\n            } catch (final IllegalThreadStateException itse) {\n                // the process is not terminated, if this is really\n                // a timeout and not a manual stop then destroy it.\n                if (isWatching()) {\n                    isProcessTerminated = false;\n                }\n            }\n            // if we haven't already started terminating the process\n            if (!isProcessTerminated) {\n                // get all the descendants before you destroy the root process\n                Stream&lt;ProcessHandle&gt; descendants = process.toHandle().descendants();\n                // now go destroy the root process\n                super.timeoutOccured(w);\n                // follow up by destroying the descendants as well\n                descendants.forEach(descendant -&gt; {\n                    try {\n                        descendant.destroy();\n                    } catch (Exception e) {\n                        log.warn(&quot;pid={};info={}; Could not destroy descendant&quot;, descendant.pid(), descendant.info(), e);\n                    }\n                });\n                // no longer watching this process as it's destroyed\n                process = null;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The real magic is destroying the descendants along with the root process.</p>\n<p>I have a unit test showing that basically does this:</p>\n<p>bash &quot;script.sh&quot;\nwhere script.sh is just a &quot;sleep 5&quot;</p>\n<p>Before using ExecuteWatchdog, the ExecuteWatchdog would timeout the process with an exit code of 143, but only after 5 seconds.  After replacing ExecuteWatchdog with DestroyDescendantsExecutorWatchDog with a 5ms timeout, the unit test almost immediately exits with the expected return code of 143.</p>\n"}],"owner":{"account_id":6826227,"reputation":77,"user_id":5251872,"accept_rate":80,"display_name":"ToMmY_hun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691728042,"creation_date":1456316028,"question_id":35601924,"body_markdown":"I am trying to use a watchdog for my program, but it does not work if I used cmd.exe to launching it. Watchdog kills the process if the process is started natively (without cmd.exe), but it does nothing if the program is started with cmd.exe. \r\n\r\nWorking code example:\r\n    \r\n            CommandLine cmd1 = CommandLine.parse(&quot;mysql&quot;);\r\n            \r\n            ExecuteWatchdog watchdog = new ExecuteWatchdog(3 * 1000); // wait for 3 sec\r\n    \r\n            Executor executor = new DefaultExecutor();\r\n            \r\n            executor.setWatchdog(watchdog);\r\n    \r\n            \r\n            try {\r\n    \r\n                executor.execute(cmd1);\r\n                \r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            } \r\n            \r\n            System.out.println(&quot;DONE!&quot;);\r\n\r\n\r\nChanging the command to this, will block the thread forever (&#39;mysql&#39; waits for user input):\r\n\r\n    CommandLine cmd1 = CommandLine.parse(&quot;cmd /C start /wait cmd.exe /C &#39;mysql&#39;&quot;);\r\n\r\nDo you have any idea, how to solve this problem? The &#39;mysql&#39; command should be run in a new cmd.exe window.","title":"Java Apache Commons Exec Watchdog and Windows cmd.exe issues","body":"<p>I am trying to use a watchdog for my program, but it does not work if I used cmd.exe to launching it. Watchdog kills the process if the process is started natively (without cmd.exe), but it does nothing if the program is started with cmd.exe. </p>\n\n<p>Working code example:</p>\n\n<pre><code>        CommandLine cmd1 = CommandLine.parse(\"mysql\");\n\n        ExecuteWatchdog watchdog = new ExecuteWatchdog(3 * 1000); // wait for 3 sec\n\n        Executor executor = new DefaultExecutor();\n\n        executor.setWatchdog(watchdog);\n\n\n        try {\n\n            executor.execute(cmd1);\n\n        } catch (IOException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        } \n\n        System.out.println(\"DONE!\");\n</code></pre>\n\n<p>Changing the command to this, will block the thread forever ('mysql' waits for user input):</p>\n\n<pre><code>CommandLine cmd1 = CommandLine.parse(\"cmd /C start /wait cmd.exe /C 'mysql'\");\n</code></pre>\n\n<p>Do you have any idea, how to solve this problem? The 'mysql' command should be run in a new cmd.exe window.</p>\n"},{"tags":["java","vim","ide"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1691716809,"post_id":76880169,"comment_id":135532741,"body_markdown":"I&#39;m not sure how vi runs things- probably either [A] using eclipse as language server, or [B] it doesn&#39;t - it&#39;s not java-aware and just runs tools, such as `javac`. Lombok scans for lombok.config in the same directory that your source file is in, bubbling up to every directory above it. If with &#39;root&#39; you mean `C:\\` or `/`, lombok can&#39;t not find it, really. Can you elaborate on the exact path of the source file you are editing, what you do exactly to get that error, and where your lombok.config file is? Use the &#39;edit&#39; button to edit your question and include this information.","body":"I&#39;m not sure how vi runs things- probably either [A] using eclipse as language server, or [B] it doesn&#39;t - it&#39;s not java-aware and just runs tools, such as <code>javac</code>. Lombok scans for lombok.config in the same directory that your source file is in, bubbling up to every directory above it. If with &#39;root&#39; you mean <code>C:` or </code>/`, lombok can&#39;t not find it, really. Can you elaborate on the exact path of the source file you are editing, what you do exactly to get that error, and where your lombok.config file is? Use the &#39;edit&#39; button to edit your question and include this information."}],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691728034,"creation_date":1691716561,"question_id":76880169,"body_markdown":"I am trying to switch my IDE from IntelliJ idea to vim, however a problem that I faced is that it does not detect my `lombok.config` file that I put on my PROJECT&#39;S root directory (with `pom.xml`, for example).\r\n\r\ni have set `lombok.accessors.chain=true`, but displays the error: `Cannot invoke [] on primitive type void`, which suggests that jdtls did not detect the lombok config file.\r\n\r\nedit: compiling is fine, but the java linting from jdtls is saying error.","title":"JDTLS and lombok","body":"<p>I am trying to switch my IDE from IntelliJ idea to vim, however a problem that I faced is that it does not detect my <code>lombok.config</code> file that I put on my PROJECT'S root directory (with <code>pom.xml</code>, for example).</p>\n<p>i have set <code>lombok.accessors.chain=true</code>, but displays the error: <code>Cannot invoke [] on primitive type void</code>, which suggests that jdtls did not detect the lombok config file.</p>\n<p>edit: compiling is fine, but the java linting from jdtls is saying error.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1490621677,"post_id":43047823,"comment_id":73179878,"body_markdown":"Try making it `transient` instead","body":"Try making it <code>transient</code> instead"},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":0,"creation_date":1490621814,"post_id":43047823,"comment_id":73179992,"body_markdown":"@cricket_007 I did that before but then it&#39;s ignored on deserialization. I used `@Expose` to have more control over it","body":"@cricket_007 I did that before but then it&#39;s ignored on deserialization. I used <code>@Expose</code> to have more control over it"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1490622026,"post_id":43047823,"comment_id":73180196,"body_markdown":"Seen this? https://futurestud.io/tutorials/gson-model-annotations-how-to-ignore-fields-with-expose","body":"Seen this? <a href=\"https://futurestud.io/tutorials/gson-model-annotations-how-to-ignore-fields-with-expose\" rel=\"nofollow noreferrer\">futurestud.io/tutorials/&hellip;</a>"},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":0,"creation_date":1490622235,"post_id":43047823,"comment_id":73180366,"body_markdown":"@cricket_007 Yes, I know it. What do you propose me to change from that tutorial?  Quote: &quot;An alternative to using \\@Expose is to declare a field as transient. A transient field will not be (de)serialized either. However, you don&#39;t have full control like you do with \\@Expose. You cannot deactivate one direction, transient will always completely turn off the conversion for that property.&quot;","body":"@cricket_007 Yes, I know it. What do you propose me to change from that tutorial?  Quote: &quot;An alternative to using \\@Expose is to declare a field as transient. A transient field will not be (de)serialized either. However, you don&#39;t have full control like you do with \\@Expose. You cannot deactivate one direction, transient will always completely turn off the conversion for that property.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":2,"creation_date":1490624629,"post_id":43048991,"comment_id":73182344,"body_markdown":"Hi, thank you for your answer. I thought `excludeFieldsWithoutExposeAnnotation()` did exactly what the name suggested, but that `Expose` would still work if I wanted to do something specific. That does mean that I have to add Expose to every field in all my models right?","body":"Hi, thank you for your answer. I thought <code>excludeFieldsWithoutExposeAnnotation()</code> did exactly what the name suggested, but that <code>Expose</code> would still work if I wanted to do something specific. That does mean that I have to add Expose to every field in all my models right?"},{"owner":{"account_id":430748,"reputation":884,"user_id":814353,"display_name":"peitek"},"score":0,"creation_date":1490624900,"post_id":43048991,"comment_id":73182581,"body_markdown":"Yes, agreed. That function name is not ideal. And yes, you&#39;ll need to add at least an `@Expose()` to every field in the relevant models.","body":"Yes, agreed. That function name is not ideal. And yes, you&#39;ll need to add at least an <code>@Expose()</code> to every field in the relevant models."},{"owner":{"account_id":11019134,"reputation":1665,"user_id":8094012,"display_name":"O-9"},"score":0,"creation_date":1578744174,"post_id":43048991,"comment_id":105543549,"body_markdown":"Thank you. After looking the docs, it clearly says: _If we created Gson with new Gson(), and execute the toJson() and fromJson() methods then @Expose will not have any effect on serialization and deserialization. (...)_ https://howtodoinjava.com/gson/gson-exclude-or-ignore-fields/","body":"Thank you. After looking the docs, it clearly says: <i>If we created Gson with new Gson(), and execute the toJson() and fromJson() methods then @Expose will not have any effect on serialization and deserialization. (...)</i> <a href=\"https://howtodoinjava.com/gson/gson-exclude-or-ignore-fields/\" rel=\"nofollow noreferrer\">howtodoinjava.com/gson/gson-exclude-or-ignore-fields</a>"}],"tags":[],"owner":{"account_id":430748,"reputation":884,"user_id":814353,"display_name":"peitek"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490624482,"creation_date":1490624482,"answer_id":43048991,"question_id":43047823,"body_markdown":"As you mentioned in your comments, `@Expose` should be the better choice over `transient` here. It&#39;s important to note that the **default Gson instance does not regard the `@Expose` annotation**! It&#39;ll simply ignore it, no matter what you set as option.\r\n\r\nIf you want to activate the `@Expose` options, you need to customize Gson. Based on your code above, change it to:\r\n\r\n    public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\r\n            .setPrettyPrinting()\r\n            .excludeFieldsWithoutExposeAnnotation();\r\n            .create();\r\n\r\n\r\nYour `@Expose(serialize = false)` should be active and excluded during serialization.\r\n","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>As you mentioned in your comments, <code>@Expose</code> should be the better choice over <code>transient</code> here. It's important to note that the <strong>default Gson instance does not regard the <code>@Expose</code> annotation</strong>! It'll simply ignore it, no matter what you set as option.</p>\n\n<p>If you want to activate the <code>@Expose</code> options, you need to customize Gson. Based on your code above, change it to:</p>\n\n<pre><code>public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\n        .setPrettyPrinting()\n        .excludeFieldsWithoutExposeAnnotation();\n        .create();\n</code></pre>\n\n<p>Your <code>@Expose(serialize = false)</code> should be active and excluded during serialization.</p>\n"},{"comments":[{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1490638155,"post_id":43050050,"comment_id":73191472,"body_markdown":"`f.getAnnotation(SkipSerialisation.class) != null` can be replaced with `f.isAnnotationPresent(SkipSerialisation.class)`.","body":"<code>f.getAnnotation(SkipSerialisation.class) != null</code> can be replaced with <code>f.isAnnotationPresent(SkipSerialisation.class)</code>."},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":0,"creation_date":1490687379,"post_id":43050050,"comment_id":73211084,"body_markdown":"@LyubomyrShaydariv Even better! I&#39;ll use that","body":"@LyubomyrShaydariv Even better! I&#39;ll use that"},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":1,"creation_date":1490687436,"post_id":43050050,"comment_id":73211119,"body_markdown":"@LyubomyrShaydariv In which version of Gson is that? I don&#39;t have that method.","body":"@LyubomyrShaydariv In which version of Gson is that? I don&#39;t have that method."},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1490688084,"post_id":43050050,"comment_id":73211545,"body_markdown":"Sorry sorry sorry! I was confused with https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/AnnotatedElement.html#isAnnotationPresent(java.lang.Class) . Shame on me!","body":"Sorry sorry sorry! I was confused with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/AnnotatedElement.html#isAnnotationPresent(java.lang.Class)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/reflect/&hellip;</a> . Shame on me!"},{"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"score":0,"creation_date":1490688121,"post_id":43050050,"comment_id":73211574,"body_markdown":"@LyubomyrShaydariv Ah! Not a problem. You&#39;re a Java genius otherwise.","body":"@LyubomyrShaydariv Ah! Not a problem. You&#39;re a Java genius otherwise."}],"tags":[],"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1490627242,"creation_date":1490627242,"answer_id":43050050,"question_id":43047823,"body_markdown":"Thanks to @peitek for pointing out that `@Expose` is ignored unless `.excludeFieldsWithoutExposeAnnotation()` is added to the `GsonBuilder()`. However, I choose not to go with this route as it would require me to add `@Expose` to every single parameter of my model classes just to ignore one field on serialisation. Instead I wrote a `ExclusionStrategy` that checks for the presence of a custom `SkipSerialisation` annotation on the parameter. I implemented these as follows:\r\n\r\nThe full `GsonBuilder` with the strategy:\r\n\r\n    public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\r\n            .addSerializationExclusionStrategy(new ExclusionStrategy()\r\n            {\r\n                @Override\r\n                public boolean shouldSkipField(FieldAttributes f)\r\n                {\r\n                    return f.getAnnotation(SkipSerialisation.class) != null;\r\n                }\r\n\r\n                @Override\r\n                public boolean shouldSkipClass(Class&lt;?&gt; clazz)\r\n                {\r\n                    return false;\r\n                }\r\n            })\r\n            .setPrettyPrinting()\r\n            .create();\r\n\r\nAnd the annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface SkipSerialisation\r\n    {\r\n    }\r\n\r\nNow I can just do \r\n\r\n    @SkipSerialisation\r\n    @SerializedName(&quot;_id&quot;)\r\n    private String id;\r\n\r\nand it works!","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>Thanks to @peitek for pointing out that <code>@Expose</code> is ignored unless <code>.excludeFieldsWithoutExposeAnnotation()</code> is added to the <code>GsonBuilder()</code>. However, I choose not to go with this route as it would require me to add <code>@Expose</code> to every single parameter of my model classes just to ignore one field on serialisation. Instead I wrote a <code>ExclusionStrategy</code> that checks for the presence of a custom <code>SkipSerialisation</code> annotation on the parameter. I implemented these as follows:</p>\n\n<p>The full <code>GsonBuilder</code> with the strategy:</p>\n\n<pre><code>public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\n        .addSerializationExclusionStrategy(new ExclusionStrategy()\n        {\n            @Override\n            public boolean shouldSkipField(FieldAttributes f)\n            {\n                return f.getAnnotation(SkipSerialisation.class) != null;\n            }\n\n            @Override\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz)\n            {\n                return false;\n            }\n        })\n        .setPrettyPrinting()\n        .create();\n</code></pre>\n\n<p>And the annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface SkipSerialisation\n{\n}\n</code></pre>\n\n<p>Now I can just do </p>\n\n<pre><code>@SkipSerialisation\n@SerializedName(\"_id\")\nprivate String id;\n</code></pre>\n\n<p>and it works!</p>\n"},{"tags":[],"owner":{"account_id":1633641,"reputation":803,"user_id":1507715,"display_name":"Sheldon Neilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563371612,"creation_date":1563370780,"answer_id":57077277,"question_id":43047823,"body_markdown":"I just wanted to add here that you could use Expose in the desired way like this:\r\n\r\n    builder.addSerializationExclusionStrategy(new ExclusionStrategy() {\r\n            @Override\r\n            public boolean shouldSkipField(FieldAttributes f) {\r\n                Expose annotation = f.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.serialize();\r\n                else\r\n                    return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                Expose annotation = clazz.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.serialize();\r\n                else\r\n                    return false;\r\n            }\r\n        });\r\n        builder.addDeserializationExclusionStrategy(new ExclusionStrategy() {\r\n            @Override\r\n            public boolean shouldSkipField(FieldAttributes f) {\r\n                Expose annotation = f.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.deserialize();\r\n                else\r\n                    return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                Expose annotation = clazz.getAnnotation(Expose.class);\r\n                if(annotation != null)\r\n                    return !annotation.deserialize();\r\n                else\r\n                    return false;\r\n            }\r\n        });","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>I just wanted to add here that you could use Expose in the desired way like this:</p>\n\n<pre><code>builder.addSerializationExclusionStrategy(new ExclusionStrategy() {\n        @Override\n        public boolean shouldSkipField(FieldAttributes f) {\n            Expose annotation = f.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.serialize();\n            else\n                return false;\n        }\n\n        @Override\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n            Expose annotation = clazz.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.serialize();\n            else\n                return false;\n        }\n    });\n    builder.addDeserializationExclusionStrategy(new ExclusionStrategy() {\n        @Override\n        public boolean shouldSkipField(FieldAttributes f) {\n            Expose annotation = f.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.deserialize();\n            else\n                return false;\n        }\n\n        @Override\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n            Expose annotation = clazz.getAnnotation(Expose.class);\n            if(annotation != null)\n                return !annotation.deserialize();\n            else\n                return false;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455497,"reputation":333,"user_id":7707781,"display_name":"Tom"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691727036,"creation_date":1691724824,"answer_id":76880523,"question_id":43047823,"body_markdown":"        GsonBuilder()\r\n            /**   WARN : the function result is :\r\n             *         just Serialization the field and class which with @Expose\r\n             * */\r\n            /*.excludeFieldsWithoutExposeAnnotation()*/\r\n\r\n  \r\n\r\n              /** addXxxxxxxxxExclusionStrategy Function is the best selection\r\n                     define yourself exclusion rule\r\n              */\r\n            .addSerializationExclusionStrategy(\r\n                object : ExclusionStrategy {\r\n                    override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\r\n                        return fieldAttr?.getAnnotation(Expose::class.java)?.serialize == false\r\n                    }\r\n\r\n                    override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\r\n                        return clazz?.getAnnotation(Expose::class.java)?.serialize == false\r\n                    }\r\n                })\r\n            .addDeserializationExclusionStrategy(object : ExclusionStrategy {\r\n\r\n                override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\r\n                    return fieldAttr?.getAnnotation(Expose::class.java)?.deserialize == false\r\n                }\r\n\r\n                override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\r\n                    return clazz?.getAnnotation(Expose::class.java)?.deserialize == false\r\n                }\r\n            })\r\n            .create()","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<pre><code>    GsonBuilder()\n        /**   WARN : the function result is :\n         *         just Serialization the field and class which with @Expose\n         * */\n        /*.excludeFieldsWithoutExposeAnnotation()*/\n\n\n\n          /** addXxxxxxxxxExclusionStrategy Function is the best selection\n                 define yourself exclusion rule\n          */\n        .addSerializationExclusionStrategy(\n            object : ExclusionStrategy {\n                override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\n                    return fieldAttr?.getAnnotation(Expose::class.java)?.serialize == false\n                }\n\n                override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\n                    return clazz?.getAnnotation(Expose::class.java)?.serialize == false\n                }\n            })\n        .addDeserializationExclusionStrategy(object : ExclusionStrategy {\n\n            override fun shouldSkipField(fieldAttr: FieldAttributes?): Boolean {\n                return fieldAttr?.getAnnotation(Expose::class.java)?.deserialize == false\n            }\n\n            override fun shouldSkipClass(clazz: Class&lt;*&gt;?): Boolean {\n                return clazz?.getAnnotation(Expose::class.java)?.deserialize == false\n            }\n        })\n        .create()\n</code></pre>\n"}],"owner":{"account_id":3064784,"reputation":1346,"user_id":2596734,"accept_rate":54,"display_name":"Roemer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5652,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43050050,"answer_count":4,"score":13,"last_activity_date":1691727036,"creation_date":1490621364,"question_id":43047823,"body_markdown":"I&#39;m writing an SDK for a JSON API and I&#39;m running into a seemingly weird problem. The API is quite strict in it&#39;s POST data validation and it does not allow certain parameters to be present when updating resources, like an `id`. For this reason, I added `@Expose(serialize = false)` the ID field of my resource class. It seems however, that it still serializes this field, causing the request to be rejected. The resource class roughly is as follows:\r\n\r\n    public class Organisation extends BaseObject\r\n    {\r\n        public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\r\n                .setPrettyPrinting()\r\n                .create();\r\n    \r\n        @Expose(serialize = false)\r\n        @SerializedName(&quot;_id&quot;)\r\n        private String id;\r\n    \r\n        @SerializedName(&quot;email&quot;)\r\n        private String email;\r\n    \r\n        @SerializedName(&quot;name&quot;)\r\n        private String name;\r\n\r\n        @SerializedName(&quot;parent_id&quot;)\r\n        private String parentId;\r\n    \r\n        public String toJson()\r\n        {\r\n            return PRETTY_PRINT_JSON.toJson(this);\r\n        }\r\n    }\r\n\r\nMy unit tests create an instance of `Organisation` via the API, saves the newly created instance to the test class as a class parameter and calls an update method that will test the update implementation of the SDK by updating the new resource. This is where it goes wrong. Even though the `toJson()` method is called on the new `Organisation` to serialise it to JSON for the update request, the `_id` field remains present, causing the API to decline the update. The test code is as follows. Notice the comments in the code.\r\n\r\n    @Test\r\n    public void testCreateUpdateAndDeleteOrganisation() throws RequestException\r\n    {\r\n        Organisation organisation = new Organisation();\r\n        organisation.setParentId(this.ORGANISATION_ID);\r\n        organisation.setName(&quot;Java Test Organisation&quot;);\r\n    \r\n        Organisation newOrganisation = this.MySDK.organisation.create(organisation);\r\n        this.testOrganisation(newOrganisation);\r\n        this.newOrganisation = newOrganisation;\r\n    \r\n        this.testUpdateOrganisation();\r\n    }\r\n    \r\n    public void testUpdateOrganisation() throws RequestException\r\n    {\r\n        // I tried setting ID to null, but that doesn&#39;t work either\r\n        // even though I&#39;ve set Gson to not serialise null values\r\n        this.newOrganisation.setId(null);\r\n        this.newOrganisation.setName(this.newName);\r\n    \r\n        // For debugging\r\n        System.out.println(this.newOrganisation.toJson());\r\n    \r\n        Organisation updatedOrganisation = this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);\r\n    \r\n        this.testOrganisation(updatedOrganisation);\r\n        assertEquals(newOrganisation.getName(), this.newName);\r\n    \r\n        this.testDeleteOrganisation();\r\n    }\r\n\r\nCan anyone spot what I&#39;m doing wrong? I have a feeling it has something to do with the fact that the instance already has/had a value for ID, but that shouldn&#39;t matter if I explicity tell it not to serialise it right?\r\n\r\nThanks in advance for the help.\r\n\r\nEDIT: At `this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);`, that does not edit the organisation instance. The given ID is merely added to the URL that the SDK will POST to (`POST /organisation/{id}`)","title":"Gson: parameter get serialised even though it has @Expose(serialize = false)","body":"<p>I'm writing an SDK for a JSON API and I'm running into a seemingly weird problem. The API is quite strict in it's POST data validation and it does not allow certain parameters to be present when updating resources, like an <code>id</code>. For this reason, I added <code>@Expose(serialize = false)</code> the ID field of my resource class. It seems however, that it still serializes this field, causing the request to be rejected. The resource class roughly is as follows:</p>\n\n<pre><code>public class Organisation extends BaseObject\n{\n    public static final Gson PRETTY_PRINT_JSON = new GsonBuilder()\n            .setPrettyPrinting()\n            .create();\n\n    @Expose(serialize = false)\n    @SerializedName(\"_id\")\n    private String id;\n\n    @SerializedName(\"email\")\n    private String email;\n\n    @SerializedName(\"name\")\n    private String name;\n\n    @SerializedName(\"parent_id\")\n    private String parentId;\n\n    public String toJson()\n    {\n        return PRETTY_PRINT_JSON.toJson(this);\n    }\n}\n</code></pre>\n\n<p>My unit tests create an instance of <code>Organisation</code> via the API, saves the newly created instance to the test class as a class parameter and calls an update method that will test the update implementation of the SDK by updating the new resource. This is where it goes wrong. Even though the <code>toJson()</code> method is called on the new <code>Organisation</code> to serialise it to JSON for the update request, the <code>_id</code> field remains present, causing the API to decline the update. The test code is as follows. Notice the comments in the code.</p>\n\n<pre><code>@Test\npublic void testCreateUpdateAndDeleteOrganisation() throws RequestException\n{\n    Organisation organisation = new Organisation();\n    organisation.setParentId(this.ORGANISATION_ID);\n    organisation.setName(\"Java Test Organisation\");\n\n    Organisation newOrganisation = this.MySDK.organisation.create(organisation);\n    this.testOrganisation(newOrganisation);\n    this.newOrganisation = newOrganisation;\n\n    this.testUpdateOrganisation();\n}\n\npublic void testUpdateOrganisation() throws RequestException\n{\n    // I tried setting ID to null, but that doesn't work either\n    // even though I've set Gson to not serialise null values\n    this.newOrganisation.setId(null);\n    this.newOrganisation.setName(this.newName);\n\n    // For debugging\n    System.out.println(this.newOrganisation.toJson());\n\n    Organisation updatedOrganisation = this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);\n\n    this.testOrganisation(updatedOrganisation);\n    assertEquals(newOrganisation.getName(), this.newName);\n\n    this.testDeleteOrganisation();\n}\n</code></pre>\n\n<p>Can anyone spot what I'm doing wrong? I have a feeling it has something to do with the fact that the instance already has/had a value for ID, but that shouldn't matter if I explicity tell it not to serialise it right?</p>\n\n<p>Thanks in advance for the help.</p>\n\n<p>EDIT: At <code>this.MySDK.organisation.update(this.newOrganisation.getId(), this.newOrganisation);</code>, that does not edit the organisation instance. The given ID is merely added to the URL that the SDK will POST to (<code>POST /organisation/{id}</code>)</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":13734122,"reputation":17,"user_id":9910922,"display_name":"Ram"},"score":0,"creation_date":1528406314,"post_id":50749644,"comment_id":88508380,"body_markdown":"Thanks for your response, when I try the above code, it throws No Record found exception if the file is empty. I need to write a catch statement exclusively for No Record found exception.","body":"Thanks for your response, when I try the above code, it throws No Record found exception if the file is empty. I need to write a catch statement exclusively for No Record found exception."},{"owner":{"account_id":84127,"reputation":51115,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1528406406,"post_id":50749644,"comment_id":88508420,"body_markdown":"How you report and handle the error is up to you. Simply replace the &quot;throw&quot; with your error handling code. Or, throw an exception and have the caller catch it and perform some action.","body":"How you report and handle the error is up to you. Simply replace the &quot;throw&quot; with your error handling code. Or, throw an exception and have the caller catch it and perform some action."},{"owner":{"account_id":13734122,"reputation":17,"user_id":9910922,"display_name":"Ram"},"score":1,"creation_date":1528474531,"post_id":50749644,"comment_id":88536880,"body_markdown":"With Fillo execute query, I cannot use resultset. Instead I am using Recordset which gives exception while calling executequery(query)","body":"With Fillo execute query, I cannot use resultset. Instead I am using Recordset which gives exception while calling executequery(query)"}],"tags":[],"owner":{"account_id":84127,"reputation":51115,"user_id":235354,"display_name":"jspcal"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528402965,"creation_date":1528402965,"answer_id":50749644,"question_id":50749595,"body_markdown":"Use [`isBeforeFirst`][1] to determine if a newly-returned [`ResultSet`][2] contains any rows.\r\n\r\n&gt; **Returns:** true if the cursor is before the first row; false if the\r\n&gt; cursor is at any other position or the result set contains no rows\r\n\r\n    try (ResultSet rs = stmt.executeQuery(query)) {\r\n        // executeQuery never returns a null ResultSet\r\n\r\n        if (!rs.isBeforeFirst()) {\r\n            // The result set contains no rows. Take some action.\r\n            // log.error(&quot;No records found&quot;);\r\n            // throw new Exception(&quot;No records found&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#isBeforeFirst--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html","title":"How to catch Fillo no record found exception(Java)","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#isBeforeFirst--\" rel=\"nofollow noreferrer\"><code>isBeforeFirst</code></a> to determine if a newly-returned <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a> contains any rows.</p>\n\n<blockquote>\n  <p><strong>Returns:</strong> true if the cursor is before the first row; false if the\n  cursor is at any other position or the result set contains no rows</p>\n</blockquote>\n\n<pre><code>try (ResultSet rs = stmt.executeQuery(query)) {\n    // executeQuery never returns a null ResultSet\n\n    if (!rs.isBeforeFirst()) {\n        // The result set contains no rows. Take some action.\n        // log.error(\"No records found\");\n        // throw new Exception(\"No records found\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24417629,"reputation":21,"user_id":18344310,"display_name":"Sasitharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691726164,"creation_date":1691726164,"answer_id":76880589,"question_id":50749595,"body_markdown":"    // We can catch the exception like below...\r\n    catch(com.codoid.products.exception.FilloException nrf)\r\n    {\r\n        // Code to handle when No Record Found exception occurred...\r\n    }","title":"How to catch Fillo no record found exception(Java)","body":"<pre><code>// We can catch the exception like below...\ncatch(com.codoid.products.exception.FilloException nrf)\n{\n    // Code to handle when No Record Found exception occurred...\n}\n</code></pre>\n"}],"owner":{"account_id":13734122,"reputation":17,"user_id":9910922,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1935,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1691726164,"creation_date":1528402742,"question_id":50749595,"body_markdown":"I want to check if the resultset is empty or not.\r\n\r\nrs.executequery(query) \r\n\r\ntrows **com.codoid.products.exception.FilloException: No records found** exception if the file is empty\r\n\r\n\r\n\r\n\r\nNow my question is how to catch, What Parameter (like in catch(NULLPOINTEREXCEPTION)) to use\r\n\r\n    com.codoid.products.exception.FilloException: No records found\r\n\tat com.codoid.products.fillo.Recordset.&lt;init&gt;(Recordset.java:40)\r\n\tat com.codoid.products.fillo.Connection.executeQuery(Connection.java:69)\r\n","title":"How to catch Fillo no record found exception(Java)","body":"<p>I want to check if the resultset is empty or not.</p>\n\n<p>rs.executequery(query) </p>\n\n<p>trows <strong>com.codoid.products.exception.FilloException: No records found</strong> exception if the file is empty</p>\n\n<p>Now my question is how to catch, What Parameter (like in catch(NULLPOINTEREXCEPTION)) to use</p>\n\n<pre><code>com.codoid.products.exception.FilloException: No records found\nat com.codoid.products.fillo.Recordset.&lt;init&gt;(Recordset.java:40)\nat com.codoid.products.fillo.Connection.executeQuery(Connection.java:69)\n</code></pre>\n"},{"tags":["java","spring","rest","spring-security","httpresponse"],"comments":[{"owner":{"account_id":2067188,"reputation":2606,"user_id":1842482,"accept_rate":100,"display_name":"chaoluo"},"score":1,"creation_date":1516261118,"post_id":48306302,"comment_id":83617410,"body_markdown":"See here https://stackoverflow.com/a/43122832/1842482","body":"See here <a href=\"https://stackoverflow.com/a/43122832/1842482\">stackoverflow.com/a/43122832/1842482</a>"},{"owner":{"account_id":11397312,"reputation":917,"user_id":8355249,"accept_rate":62,"display_name":"kubi"},"score":0,"creation_date":1516278738,"post_id":48306302,"comment_id":83627975,"body_markdown":"I already resolved this problem. Look at answers. Thanks for response though.","body":"I already resolved this problem. Look at answers. Thanks for response though."},{"owner":{"account_id":1605165,"reputation":1630,"user_id":1485401,"accept_rate":91,"display_name":"Roman T"},"score":0,"creation_date":1608208043,"post_id":48306302,"comment_id":115515846,"body_markdown":"Had the same problem with the Reactive stack and for me introducing `AccessDeniedHandler` worked out. Thank you.","body":"Had the same problem with the Reactive stack and for me introducing <code>AccessDeniedHandler</code> worked out. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":458224,"reputation":37517,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1516208606,"creation_date":1516208606,"answer_id":48306385,"question_id":48306302,"body_markdown":"According to this:\r\n\r\nhttp://www.baeldung.com/spring-security-custom-access-denied-page\r\n\r\nYou also needed to add:\r\n\r\n.exceptionHandling().accessDeniedHandler(accessDeniedHandler());\r\n\r\nguessing that goes in &quot;configure&quot;.","title":"Spring security - creating 403 Access denied custom response","body":"<p>According to this:</p>\n\n<p><a href=\"http://www.baeldung.com/spring-security-custom-access-denied-page\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-security-custom-access-denied-page</a></p>\n\n<p>You also needed to add:</p>\n\n<p>.exceptionHandling().accessDeniedHandler(accessDeniedHandler());</p>\n\n<p>guessing that goes in \"configure\".</p>\n"},{"comments":[{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1614600151,"post_id":48310956,"comment_id":117425499,"body_markdown":"Thanks for sharing CustomAuthenticationEntryPoint :)","body":"Thanks for sharing CustomAuthenticationEntryPoint :)"}],"tags":[],"owner":{"account_id":11397312,"reputation":917,"user_id":8355249,"accept_rate":62,"display_name":"kubi"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1691723323,"creation_date":1516227620,"answer_id":48310956,"question_id":48306302,"body_markdown":"I think I resolved the problem. Instead of creating an implementation of `AccessDeniedHandler` I had to create a custom `AuthenticationEntryPoint` and set it in exception handling.\r\n\r\n`WebConfig` now looks like this:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n    \tprivate UserDetailsService userDetailsService;\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tpublic WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n    \t\tthis.userDetailsService = userDetailsService;\r\n    \t\tthis.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.csrf().disable()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\r\n    \t\t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.exceptionHandling().authenticationEntryPoint(authenticationEntryPoint())\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\r\n    \t\t\t\t\t.addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TokenProvider tokenProvider(){\r\n    \t\treturn new TokenProvider();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AuthenticationEntryPoint authenticationEntryPoint(){\r\n    \t\treturn new CustomAuthenticationEntryPoint();\r\n    \t}\r\n    }\r\n\r\nand the `CustomAuthenticationEntryPoint`:\r\n\r\n    public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest req, HttpServletResponse res, AuthenticationException authException) throws IOException, ServletException {\r\n            res.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n            res.setStatus(403);\r\n            res.getWriter().write(JsonBuilder //my util class for creating json strings\r\n                    .put(&quot;timestamp&quot;, DateGenerator.getDate())\r\n                    .put(&quot;status&quot;, 403)\r\n                    .put(&quot;message&quot;, &quot;Access denied&quot;)\r\n                    .build());\r\n        }\r\n    }\r\n\r\nNow everything works as I wanted.","title":"Spring security - creating 403 Access denied custom response","body":"<p>I think I resolved the problem. Instead of creating an implementation of <code>AccessDeniedHandler</code> I had to create a custom <code>AuthenticationEntryPoint</code> and set it in exception handling.</p>\n<p><code>WebConfig</code> now looks like this:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    public WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint())\n                .and()\n                    .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\n                    .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\n\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public TokenProvider tokenProvider(){\n        return new TokenProvider();\n    }\n\n    @Bean\n    public AuthenticationEntryPoint authenticationEntryPoint(){\n        return new CustomAuthenticationEntryPoint();\n    }\n}\n</code></pre>\n<p>and the <code>CustomAuthenticationEntryPoint</code>:</p>\n<pre><code>public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest req, HttpServletResponse res, AuthenticationException authException) throws IOException, ServletException {\n        res.setContentType(&quot;application/json;charset=UTF-8&quot;);\n        res.setStatus(403);\n        res.getWriter().write(JsonBuilder //my util class for creating json strings\n                .put(&quot;timestamp&quot;, DateGenerator.getDate())\n                .put(&quot;status&quot;, 403)\n                .put(&quot;message&quot;, &quot;Access denied&quot;)\n                .build());\n    }\n}\n</code></pre>\n<p>Now everything works as I wanted.</p>\n"},{"tags":[],"owner":{"account_id":11747477,"reputation":109,"user_id":8597810,"display_name":"Amit Samuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1543905517,"creation_date":1543905517,"answer_id":53607022,"question_id":48306302,"body_markdown":"I have the same problem &amp; tried to resolve as per the right answer, but it doesn&#39;t solve the issue. \r\nThe best way to handle this is to implement custom access denied handler. AuthenticationEntryPoint implementation is best to handle 401, UNAUTHORIZED access and AccessDeniedHandler implementation is there for 403, FORBIDDEN access. \r\n\r\nOverride AccessDeniedHandler&#39;s method in your implementation class as:\r\n\r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response, \r\n    AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n        response.getWriter().write(&quot;Access Denied... Forbidden&quot;);\r\n    }\r\n\r\nAnd add this custom access denied handler in your security config like this:\r\n\r\n    .exceptionHandling()\t \r\n    .authenticationEntryPoint(authenticationEntryPoint())\r\n    .accessDeniedHandler(accessDeniedHandler())","title":"Spring security - creating 403 Access denied custom response","body":"<p>I have the same problem &amp; tried to resolve as per the right answer, but it doesn't solve the issue. \nThe best way to handle this is to implement custom access denied handler. AuthenticationEntryPoint implementation is best to handle 401, UNAUTHORIZED access and AccessDeniedHandler implementation is there for 403, FORBIDDEN access. </p>\n\n<p>Override AccessDeniedHandler's method in your implementation class as:</p>\n\n<pre><code>@Override\npublic void handle(HttpServletRequest request, HttpServletResponse response, \nAccessDeniedException accessDeniedException) throws IOException, ServletException {\n    response.getWriter().write(\"Access Denied... Forbidden\");\n}\n</code></pre>\n\n<p>And add this custom access denied handler in your security config like this:</p>\n\n<pre><code>.exceptionHandling()     \n.authenticationEntryPoint(authenticationEntryPoint())\n.accessDeniedHandler(accessDeniedHandler())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5287217,"reputation":133,"user_id":4220784,"accept_rate":58,"display_name":"Burak"},"score":0,"creation_date":1636034562,"post_id":54224499,"comment_id":123453984,"body_markdown":"When will the authentication end? I mean, is there any default time to hold the authentication credentials?","body":"When will the authentication end? I mean, is there any default time to hold the authentication credentials?"}],"tags":[],"owner":{"account_id":8102846,"reputation":628,"user_id":6105379,"display_name":"Joe Grandja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547668919,"creation_date":1547668919,"answer_id":54224499,"question_id":48306302,"body_markdown":"Here is a minimal security configuration that demonstrates a custom `AccessDeniedHandler` gets called on access denied (403) scenarios:\r\n\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/css/**&quot;, &quot;/index&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.antMatchers(&quot;/user/**&quot;).hasRole(&quot;USER&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t\t.and()\r\n\t\t\t.exceptionHandling()\r\n\t\t\t\t.accessDeniedHandler((request, response, accessDeniedException) -&gt; {\r\n\t\t\t\t\tAccessDeniedHandler defaultAccessDeniedHandler = new AccessDeniedHandlerImpl();\r\n\t\t\t\t\tdefaultAccessDeniedHandler.handle(request, response, accessDeniedException);\r\n\t\t\t\t});\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t\t.withUser(User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;))\r\n\t\t\t\t.withUser(User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;password&quot;).roles(&quot;ADMIN&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nSteps to reproduce:\r\n\r\n1. Login with `user/password`\r\n2. Try to access `http://localhost:8080/user/index` - access granted\r\n2. Try to access `http://localhost:8080/admin/index` - access denied and custom `AccessDeniedHandler` gets called \r\n","title":"Spring security - creating 403 Access denied custom response","body":"<p>Here is a minimal security configuration that demonstrates a custom <code>AccessDeniedHandler</code> gets called on access denied (403) scenarios:</p>\n\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(\"/css/**\", \"/index\").permitAll()\n                .antMatchers(\"/admin/**\").hasRole(\"ADMIN\")\n                .antMatchers(\"/user/**\").hasRole(\"USER\")\n                .and()\n            .formLogin()\n                .and()\n            .exceptionHandling()\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\n                    AccessDeniedHandler defaultAccessDeniedHandler = new AccessDeniedHandlerImpl();\n                    defaultAccessDeniedHandler.handle(request, response, accessDeniedException);\n                });\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n                .withUser(User.withDefaultPasswordEncoder().username(\"user\").password(\"password\").roles(\"USER\"))\n                .withUser(User.withDefaultPasswordEncoder().username(\"admin\").password(\"password\").roles(\"ADMIN\"));\n    }\n}\n</code></pre>\n\n<p>Steps to reproduce:</p>\n\n<ol>\n<li>Login with <code>user/password</code></li>\n<li>Try to access <code>http://localhost:8080/user/index</code> - access granted</li>\n<li>Try to access <code>http://localhost:8080/admin/index</code> - access denied and custom <code>AccessDeniedHandler</code> gets called </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589472654,"creation_date":1589472654,"answer_id":61802129,"question_id":48306302,"body_markdown":"Try this\r\n\r\n     @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.NEVER)\r\n                    .and()\r\n                        .csrf().disable()\r\n                        .authorizeRequests()\r\n                        .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\r\n                        .anyRequest().authenticated()\r\n                    \r\n                     .and().exceptionHandling().accessDeniedPage(&quot;/view/notAuth&quot;)\r\n                    .and()\r\n                        .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\r\n                        .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n    \r\n        @Bean\r\n        public TokenProvider tokenProvider(){\r\n            return new TokenProvider();\r\n        }\r\n\r\n\r\nAnd make this configuration class for view page\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.format.FormatterRegistry;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.validation.MessageCodesResolver;\r\n    import org.springframework.validation.Validator;\r\n    import org.springframework.web.method.support.HandlerMethodArgumentResolver;\r\n    import org.springframework.web.method.support.HandlerMethodReturnValueHandler;\r\n    import org.springframework.web.servlet.HandlerExceptionResolver;\r\n    import org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.ContentNegotiationConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    \r\n    \r\n    @Configuration\r\n    public class ViewRegistryConfig implements WebMvcConfigurer {\r\n    \r\n    \t@Override\r\n    \tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n    \t\tregistry.addViewController(&quot;/view/notAuth&quot;).setViewName(&quot;notAuth&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureAsyncSupport(AsyncSupportConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addFormatters(FormatterRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addInterceptors(InterceptorRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addReturnValueHandlers(List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Validator getValidator() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic MessageCodesResolver getMessageCodesResolver() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    \r\n    \r\n      ","title":"Spring security - creating 403 Access denied custom response","body":"<p>Try this</p>\n\n<pre><code> @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER)\n                .and()\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\n                    .anyRequest().authenticated()\n\n                 .and().exceptionHandling().accessDeniedPage(\"/view/notAuth\")\n                .and()\n                    .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\n                    .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\n\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public TokenProvider tokenProvider(){\n        return new TokenProvider();\n    }\n</code></pre>\n\n<p>And make this configuration class for view page</p>\n\n<pre><code>import java.util.List;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.validation.MessageCodesResolver;\nimport org.springframework.validation.Validator;\nimport org.springframework.web.method.support.HandlerMethodArgumentResolver;\nimport org.springframework.web.method.support.HandlerMethodReturnValueHandler;\nimport org.springframework.web.servlet.HandlerExceptionResolver;\nimport org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;\nimport org.springframework.web.servlet.config.annotation.ContentNegotiationConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n\n@Configuration\npublic class ViewRegistryConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/view/notAuth\").setViewName(\"notAuth\");\n    }\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureAsyncSupport(AsyncSupportConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void addReturnValueHandlers(List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public Validator getValidator() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public MessageCodesResolver getMessageCodesResolver() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6721149,"reputation":1665,"user_id":5181125,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683122606,"creation_date":1663002654,"answer_id":73692869,"question_id":48306302,"body_markdown":"Adding ExceptionHandler for AccessDeniedException did the trick in my case.\r\n\r\n\r\n  \r\n\r\n    @ExceptionHandler (value = {AccessDeniedException.class})\r\n      public void handleAccessDeniedException(HttpServletRequest request, HttpServletResponse response,\r\n          AccessDeniedException accessDeniedException) throws IOException {\r\n        // 403\r\n        response.sendError(403, &quot;Authorization Failed : &quot; + accessDeniedException.getMessage());\r\n      }","title":"Spring security - creating 403 Access denied custom response","body":"<p>Adding ExceptionHandler for AccessDeniedException did the trick in my case.</p>\n<pre><code>@ExceptionHandler (value = {AccessDeniedException.class})\n  public void handleAccessDeniedException(HttpServletRequest request, HttpServletResponse response,\n      AccessDeniedException accessDeniedException) throws IOException {\n    // 403\n    response.sendError(403, &quot;Authorization Failed : &quot; + accessDeniedException.getMessage());\n  }\n</code></pre>\n"}],"owner":{"account_id":11397312,"reputation":917,"user_id":8355249,"accept_rate":62,"display_name":"kubi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34756,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":48310956,"answer_count":6,"score":26,"last_activity_date":1691723700,"creation_date":1516208293,"question_id":48306302,"body_markdown":"I have a `Spring Boot` app based on `REST` api with `JWT` authentication. The problem is I cannot get rid of default _403 Access Denied_ rest response which looks like this: \r\n\r\n    {\r\n        &quot;timestamp&quot;: 1516206966541,\r\n        &quot;status&quot;: 403,\r\n        &quot;error&quot;: &quot;Forbidden&quot;,\r\n        &quot;message&quot;: &quot;Access Denied&quot;,\r\n        &quot;path&quot;: &quot;/api/items/2&quot;\r\n    }\r\n\r\nI created custom `AccessDeniedHandler`:\r\n\r\n    public class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n    \r\n        @Override\r\n        public void handle(HttpServletRequest req,\r\n                           HttpServletResponse res,\r\n                           AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n    \r\n    \r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            res.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n            res.setStatus(403);\r\n            res.getWriter().write(mapper.writeValueAsString(new JsonResponse()\r\n                    .add(&quot;timestamp&quot;, System.currentTimeMillis())\r\n                    .add(&quot;status&quot;, 403)\r\n                    .add(&quot;message&quot;, &quot;Access denied&quot;)));\r\n        }\r\n    }\r\n\r\nand added it to the `WebConfig` class:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n    \tprivate UserDetailsService userDetailsService;\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tpublic WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n    \t\tthis.userDetailsService = userDetailsService;\r\n    \t\tthis.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t\t.sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.NEVER)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.csrf().disable()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\r\n    \t\t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.exceptionHandling().accessDeniedHandler(accessDeniedHandler())\r\n    \t\t\t\t.and()\r\n    \t\t\t\t\t.addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\r\n    \t\t\t\t\t.addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TokenProvider tokenProvider(){\r\n    \t\treturn new TokenProvider();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AccessDeniedHandler accessDeniedHandler(){\r\n    \t\treturn new CustomAccessDeniedHandler();\r\n    \t}\r\n    }\r\n\r\nDespite this I&#39;m still getting the default _Access Denied_ response. When debugging I realized that the `handle` method from custom handler isn&#39;t even called. What is the case here?","title":"Spring security - creating 403 Access denied custom response","body":"<p>I have a <code>Spring Boot</code> app based on <code>REST</code> api with <code>JWT</code> authentication. The problem is I cannot get rid of default <em>403 Access Denied</em> rest response which looks like this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1516206966541,\n    &quot;status&quot;: 403,\n    &quot;error&quot;: &quot;Forbidden&quot;,\n    &quot;message&quot;: &quot;Access Denied&quot;,\n    &quot;path&quot;: &quot;/api/items/2&quot;\n}\n</code></pre>\n<p>I created custom <code>AccessDeniedHandler</code>:</p>\n<pre><code>public class CustomAccessDeniedHandler implements AccessDeniedHandler {\n\n    @Override\n    public void handle(HttpServletRequest req,\n                       HttpServletResponse res,\n                       AccessDeniedException accessDeniedException) throws IOException, ServletException {\n\n\n\n        ObjectMapper mapper = new ObjectMapper();\n        res.setContentType(&quot;application/json;charset=UTF-8&quot;);\n        res.setStatus(403);\n        res.getWriter().write(mapper.writeValueAsString(new JsonResponse()\n                .add(&quot;timestamp&quot;, System.currentTimeMillis())\n                .add(&quot;status&quot;, 403)\n                .add(&quot;message&quot;, &quot;Access denied&quot;)));\n    }\n}\n</code></pre>\n<p>and added it to the <code>WebConfig</code> class:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    public WebSecurity(UserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER)\n                .and()\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(HttpMethod.POST, REGISTER_URL).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .exceptionHandling().accessDeniedHandler(accessDeniedHandler())\n                .and()\n                    .addFilter(new JWTAuthenticationFilter(authenticationManager(), tokenProvider()))\n                    .addFilter(new JWTAuthorizationFilter(authenticationManager(), tokenProvider()));\n\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Bean\n    public TokenProvider tokenProvider(){\n        return new TokenProvider();\n    }\n\n    @Bean\n    public AccessDeniedHandler accessDeniedHandler(){\n        return new CustomAccessDeniedHandler();\n    }\n}\n</code></pre>\n<p>Despite this I'm still getting the default <em>Access Denied</em> response. When debugging I realized that the <code>handle</code> method from custom handler isn't even called. What is the case here?</p>\n"},{"tags":["java","eclipse"],"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691721357,"creation_date":1691574170,"question_id":76866472,"body_markdown":"My eclipse has just one jboss runtime and is point to C:\\wildfly-23.0.2.Final, when I start the wildfly in eclipse and then change the code in System.out.println, I see the wildfly status change from &#39;Debugging, Republish&#39; to &#39;Debugging, Synchronized&#39;, and i see my changed code is really run (the System.out.println content is changed in console), but when I check the &#39;C:\\wildfly-23.0.2.Final\\standalone\\deployments&#39; folder, the ear.deployed file is still the old one, and I even have not run maven &gt; package, so the ear file in workspace target folder is also the old one, then \r\n\r\n1) why my new code can really run in debug mode?\r\n2) is it possible that when I change the code, it will automatically build (package) the new code to workspace target folder ear and auto deploy to &#39;C:\\wildfly-23.0.2.Final\\standalone\\deployments&#39; folder?\r\n\r\n[![jboss runtime 1][1]][1]\r\n\r\n\r\n[![jboss runtime 2][2]][2]\r\n\r\n[![eclipse server tab][3]][3]\r\n\r\n[![eclipse wildfly setting][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S81OU.jpg\r\n  [2]: https://i.stack.imgur.com/kzr9n.jpg\r\n  [3]: https://i.stack.imgur.com/0sXbk.jpg\r\n  [4]: https://i.stack.imgur.com/K0Diu.jpg","title":"why eclipse can run latest change without maven package and copy the ear to wildfly","body":"<p>My eclipse has just one jboss runtime and is point to C:\\wildfly-23.0.2.Final, when I start the wildfly in eclipse and then change the code in System.out.println, I see the wildfly status change from 'Debugging, Republish' to 'Debugging, Synchronized', and i see my changed code is really run (the System.out.println content is changed in console), but when I check the 'C:\\wildfly-23.0.2.Final\\standalone\\deployments' folder, the ear.deployed file is still the old one, and I even have not run maven &gt; package, so the ear file in workspace target folder is also the old one, then</p>\n<ol>\n<li>why my new code can really run in debug mode?</li>\n<li>is it possible that when I change the code, it will automatically build (package) the new code to workspace target folder ear and auto deploy to 'C:\\wildfly-23.0.2.Final\\standalone\\deployments' folder?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/S81OU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S81OU.jpg\" alt=\"jboss runtime 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kzr9n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kzr9n.jpg\" alt=\"jboss runtime 2\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0sXbk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0sXbk.jpg\" alt=\"eclipse server tab\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/K0Diu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K0Diu.jpg\" alt=\"eclipse wildfly setting\" /></a></p>\n"},{"tags":["java","junit","httpurlconnection","http-redirect","http-status-code-302"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691723950,"post_id":76880331,"comment_id":135533231,"body_markdown":"Minor point, the first argument to `assertEquals` should be the expected value, which would make the message say what it should.","body":"Minor point, the first argument to <code>assertEquals</code> should be the expected value, which would make the message say what it should."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691724016,"post_id":76880331,"comment_id":135533234,"body_markdown":"And I think the answer to your question is that the redirect is being followed, and `/test` returns a 200 status.","body":"And I think the answer to your question is that the redirect is being followed, and <code>&#47;test</code> returns a 200 status."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691724279,"post_id":76880331,"comment_id":135533258,"body_markdown":"200 is &quot;ok&quot; 302 is a little more odd but for some , the same as 200 re: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302","body":"200 is &quot;ok&quot; 302 is a little more odd but for some , the same as 200 re: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/302</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691725915,"post_id":76880331,"comment_id":135533373,"body_markdown":"@SamuelMarchant No it isn&#39;t. 302 means a redirect to a URL specified in another header. 200 means success and is accompanied by the desired payload. Your source code does not support your assertion.","body":"@SamuelMarchant No it isn&#39;t. 302 means a redirect to a URL specified in another header. 200 means success and is accompanied by the desired payload. Your source code does not support your assertion."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691726005,"post_id":76880331,"comment_id":135533384,"body_markdown":"@OP As you are following redirects, you won&#39;t see the 302. If you want to see it, don&#39;t set the connection to follow redirects, in which case you will have to follow them yourself.","body":"@OP As you are following redirects, you won&#39;t see the 302. If you want to see it, don&#39;t set the connection to follow redirects, in which case you will have to follow them yourself."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691726984,"post_id":76880331,"comment_id":135533459,"body_markdown":"@user207421.   No it isn&#39;t his problem, he is using &quot;assertions&quot; , it is simply the junit test result! He &quot;asserts the result will be 302&quot;.   (NB my other comment on return http codes infers any clear information wanted is explained in the documentation at the link). Not knowing exactly how the test is setup , &quot;maybe he got the resource at its location&quot;. hmmmm","body":"@user207421.   No it isn&#39;t his problem, he is using &quot;assertions&quot; , it is simply the junit test result! He &quot;asserts the result will be 302&quot;.   (NB my other comment on return http codes infers any clear information wanted is explained in the documentation at the link). Not knowing exactly how the test is setup , &quot;maybe he got the resource at its location&quot;. hmmmm"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691733395,"post_id":76880331,"comment_id":135534061,"body_markdown":"@SamuelMarchant they got the resource after their request followed the redirect at `/rdrct` to the actual resource at `/test`.","body":"@SamuelMarchant they got the resource after their request followed the redirect at <code>&#47;rdrct</code> to the actual resource at <code>&#47;test</code>."},{"owner":{"account_id":688173,"reputation":1511,"user_id":544982,"accept_rate":45,"display_name":"p0tta"},"score":0,"creation_date":1691759986,"post_id":76880331,"comment_id":135539136,"body_markdown":"In that case, is there a way I can just test for the new url as /test instead and not test for http status code 302? I just need to make sure I test the redirect works","body":"In that case, is there a way I can just test for the new url as /test instead and not test for http status code 302? I just need to make sure I test the redirect works"}],"owner":{"account_id":688173,"reputation":1511,"user_id":544982,"accept_rate":45,"display_name":"p0tta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691720429,"creation_date":1691720429,"question_id":76880331,"body_markdown":"I am trying to write a test for a URL /rdrct which redirects to another URL, say /test on the same host. On the application, the redirect works fine and I see a HTTP 302 in the Network Inspector but when I write a Java test, it fails and I get the following error. \r\n\r\n**expected: &lt;200&gt; but was: &lt;302&gt;**\r\n\r\n    @Test\r\n    public void testRedirect() throws Exception { \r\n        String uri = &quot;http://localhost:&quot; + port + &quot;/rdrct&quot;;\r\n        URL url = new URL(uri);\r\n\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setInstanceFollowRedirects(true);\r\n        connection.setRequestProperty(&quot;Accept&quot;,\r\n            &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,&quot;\r\n            + &quot;image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;);\r\n        connection.connect();\r\n        int responseCode = connection.getResponseCode();\r\n        assertEquals(responseCode, 302); \r\n    }\r\n\r\nWhat am I missing or doing wrong? ","title":"HttpURLConnection unable to capture HTTP 302 correctly in a Java test","body":"<p>I am trying to write a test for a URL /rdrct which redirects to another URL, say /test on the same host. On the application, the redirect works fine and I see a HTTP 302 in the Network Inspector but when I write a Java test, it fails and I get the following error.</p>\n<p><strong>expected: &lt;200&gt; but was: &lt;302&gt;</strong></p>\n<pre><code>@Test\npublic void testRedirect() throws Exception { \n    String uri = &quot;http://localhost:&quot; + port + &quot;/rdrct&quot;;\n    URL url = new URL(uri);\n\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setInstanceFollowRedirects(true);\n    connection.setRequestProperty(&quot;Accept&quot;,\n        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,&quot;\n        + &quot;image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;);\n    connection.connect();\n    int responseCode = connection.getResponseCode();\n    assertEquals(responseCode, 302); \n}\n</code></pre>\n<p>What am I missing or doing wrong?</p>\n"},{"tags":["java","configuration"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691739224,"post_id":76880268,"comment_id":135535083,"body_markdown":"_&quot;What does conf/ suydirectory in the jdk contents imply&quot;_ It implies nothing, it stores configuration files. _&quot;how to edit it&quot;_ You edit configuration files with a text editor. The additional question you pose in your question body is far too broad and unspecific. (And really, if you have to ask why you would change it, you probably have no need to change it.)","body":"<i>&quot;What does conf/ suydirectory in the jdk contents imply&quot;</i> It implies nothing, it stores configuration files. <i>&quot;how to edit it&quot;</i> You edit configuration files with a text editor. The additional question you pose in your question body is far too broad and unspecific. (And really, if you have to ask why you would change it, you probably have no need to change it.)"}],"owner":{"account_id":29202952,"reputation":9,"user_id":22372635,"display_name":"YSSReddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691719039,"creation_date":1691719039,"question_id":76880268,"body_markdown":"I am going through java SE \\[documentation\\](https://www.oracle.com/java/technologies/javase/jdk20-readme-downloads.html#:~:text=man/index.html-,Configuration%20files,-(In%20the) and I see that under contents of JDK we have configuration Files which are stored at conf/ subdirectory. Can anyone explain me what are the use cases where we may need to edit the contents of this subdirectory ?\r\n\r\nI tried to go through the contents of this subdirectory and I also looked online and was not able to find any explainer on this subdirectory.","title":"What does conf/ subdirectory in the jdk contents imply and how to edit it?","body":"<p>I am going through java SE [documentation](<a href=\"https://www.oracle.com/java/technologies/javase/jdk20-readme-downloads.html#:%7E:text=man/index.html-,Configuration%20files,-(In%20the)\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/jdk20-readme-downloads.html#:~:text=man/index.html-,Configuration%20files,-(In%20the)</a> and I see that under contents of JDK we have configuration Files which are stored at conf/ subdirectory. Can anyone explain me what are the use cases where we may need to edit the contents of this subdirectory ?</p>\n<p>I tried to go through the contents of this subdirectory and I also looked online and was not able to find any explainer on this subdirectory.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":137700,"reputation":8264,"user_id":342073,"accept_rate":64,"display_name":"Ramesh Kotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649715255,"creation_date":1649715255,"answer_id":71834896,"question_id":71834853,"body_markdown":"Use Spring @Profile annotation\r\n\r\nYou can have environment specific property file\r\n\r\nEx: application-prod.properties \r\napplication-dev.properties ","title":"Java Spring boot Configuration settings for different environment","body":"<p>Use Spring @Profile annotation</p>\n<p>You can have environment specific property file</p>\n<p>Ex: application-prod.properties\napplication-dev.properties</p>\n"},{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":3,"creation_date":1649718154,"post_id":71835048,"comment_id":126942680,"body_markdown":"This answer is right on.  I&#39;ll just point out that Spring will look for  and read the `application-&lt;profile&gt;.properties` file IN ADDITION to the general `application.properties` file. This means you don&#39;t have to duplicate any of the properties that are the same for all environments.  Put those in the general file.  Put profile-specific properties in the corresponding per-profile file.  Also note that the profile-specific file overrides what&#39;s in the general file.  So you can in effect give properties &quot;default&quot; values in the main file and then selectively override them in the per-profile file.","body":"This answer is right on.  I&#39;ll just point out that Spring will look for  and read the <code>application-&lt;profile&gt;.properties</code> file IN ADDITION to the general <code>application.properties</code> file. This means you don&#39;t have to duplicate any of the properties that are the same for all environments.  Put those in the general file.  Put profile-specific properties in the corresponding per-profile file.  Also note that the profile-specific file overrides what&#39;s in the general file.  So you can in effect give properties &quot;default&quot; values in the main file and then selectively override them in the per-profile file."},{"owner":{"account_id":2842815,"reputation":89,"user_id":2442041,"display_name":"PavelP"},"score":0,"creation_date":1661700438,"post_id":71835048,"comment_id":129829199,"body_markdown":"According this article:\nhttps://spring.io/blog/2020/04/23/spring-tips-configuration\nthe correct name is `--spring.profiles.active`. \nAnd it works for me.","body":"According this article: <a href=\"https://spring.io/blog/2020/04/23/spring-tips-configuration\" rel=\"nofollow noreferrer\">spring.io/blog/2020/04/23/spring-tips-configuration</a> the correct name is <code>--spring.profiles.active</code>.  And it works for me."}],"tags":[],"owner":{"account_id":23828425,"reputation":755,"user_id":17835092,"display_name":"Samuel Olufemi"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691717938,"creation_date":1649716519,"answer_id":71835048,"question_id":71834853,"body_markdown":"You can create different application.properties file for different environment. The environment name should be appended to the filename and separated with dash (-). For example, \r\n\r\nyou can have  `application-dev.properties` for dev environment , you can also have &#39;application-staging.properties` for staging environment `application-prod.properties` for production environment.\r\n\r\nTo activate each environment, pass it as a flag when are starting your .jar application for example\r\n\r\n`java -jar myapp.jar --spring.profiles.active=staging`\r\n\r\n or you can define the active profile inside `application.properties`.\r\n\r\nI.e (In the example below , your application will make use of the configuration inside `application-staging.properties` )\r\n\r\n    spring.profiles.active=staging #comment out to switch away from staging\r\n    #spring.profiles.active=dev # uncomment to set active profile to dev\r\n    #spring.profiles.active=prod # uncomment to set active profile to prod\r\n\r\n\r\n[![application.properties configuration][1]][1]\r\n\r\nYou can now have different settings based on different environment in the custom created files.\r\n\r\nFor instance the staging environment could be configured to start on port 8888 as shown below\r\n[![application-staging.properties content][2]][2]\r\n\r\nand  the dev could be configured to start on port 8989\r\n\r\n[![application-dev.properties content][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6pqnA.png\r\n  [2]: https://i.stack.imgur.com/3SkjU.png\r\n  [3]: https://i.stack.imgur.com/nOCCz.png","title":"Java Spring boot Configuration settings for different environment","body":"<p>You can create different application.properties file for different environment. The environment name should be appended to the filename and separated with dash (-). For example,</p>\n<p>you can have  <code>application-dev.properties</code> for dev environment , you can also have 'application-staging.properties<code>for staging environment</code>application-prod.properties` for production environment.</p>\n<p>To activate each environment, pass it as a flag when are starting your .jar application for example</p>\n<p><code>java -jar myapp.jar --spring.profiles.active=staging</code></p>\n<p>or you can define the active profile inside <code>application.properties</code>.</p>\n<p>I.e (In the example below , your application will make use of the configuration inside <code>application-staging.properties</code> )</p>\n<pre><code>spring.profiles.active=staging #comment out to switch away from staging\n#spring.profiles.active=dev # uncomment to set active profile to dev\n#spring.profiles.active=prod # uncomment to set active profile to prod\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6pqnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pqnA.png\" alt=\"application.properties configuration\" /></a></p>\n<p>You can now have different settings based on different environment in the custom created files.</p>\n<p>For instance the staging environment could be configured to start on port 8888 as shown below\n<a href=\"https://i.stack.imgur.com/3SkjU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3SkjU.png\" alt=\"application-staging.properties content\" /></a></p>\n<p>and  the dev could be configured to start on port 8989</p>\n<p><a href=\"https://i.stack.imgur.com/nOCCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nOCCz.png\" alt=\"application-dev.properties content\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691718015,"creation_date":1649716574,"answer_id":71835054,"question_id":71834853,"body_markdown":"In Spring Boot, there is a convention of using a *property* file or a *yaml* file, the pattern used for file naming is `application-{env}.[ yaml | properties ]`.\r\n\r\nSpecifying the env variable can be passed using `spring.profiles.active` property, e.g.\r\n\r\nSay you have a Spring config file named `application-test.yaml` then:\r\n&gt;pom.xml\r\n```xml\r\n.\r\n.\r\n&lt;properties&gt;\r\n \r\n &lt;spring.profiles.active&gt;${environment}&lt;/spring.profiles.active&gt;\r\n\r\n&lt;/properties&gt;\r\n.\r\n.\r\n```\r\n\r\nTo use a different environment for each Maven build you&#39;ll need to use *Maven profiles*, e.g.\r\n\r\n&gt;pom.xml\r\n```xml\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;id&gt;test&lt;/id&gt;\r\n    &lt;properties&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;environment&lt;/name&gt;\r\n        &lt;value&gt;test&lt;/value&gt;\r\n      &lt;/property&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\nThis allows you to control the environment from the console:\r\n\r\n```bash\r\n$ mvn clean verify -P test\r\n```\r\n\r\nA quick search for *Maven profiles* and *Spring profiles* will probably get you what you need for your use case.","title":"Java Spring boot Configuration settings for different environment","body":"<p>In Spring Boot, there is a convention of using a <em>property</em> file or a <em>yaml</em> file, the pattern used for file naming is <code>application-{env}.[ yaml | properties ]</code>.</p>\n<p>Specifying the env variable can be passed using <code>spring.profiles.active</code> property, e.g.</p>\n<p>Say you have a Spring config file named <code>application-test.yaml</code> then:</p>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>.\n.\n&lt;properties&gt;\n \n &lt;spring.profiles.active&gt;${environment}&lt;/spring.profiles.active&gt;\n\n&lt;/properties&gt;\n.\n.\n</code></pre>\n<p>To use a different environment for each Maven build you'll need to use <em>Maven profiles</em>, e.g.</p>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;test&lt;/id&gt;\n    &lt;properties&gt;\n      &lt;property&gt;\n        &lt;name&gt;environment&lt;/name&gt;\n        &lt;value&gt;test&lt;/value&gt;\n      &lt;/property&gt;\n    &lt;/properties&gt;\n    ...\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>This allows you to control the environment from the console:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn clean verify -P test\n</code></pre>\n<p>A quick search for <em>Maven profiles</em> and <em>Spring profiles</em> will probably get you what you need for your use case.</p>\n"}],"owner":{"account_id":24540221,"reputation":25,"user_id":18450658,"display_name":"Temiloluwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5691,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71835048,"answer_count":3,"score":2,"last_activity_date":1691718015,"creation_date":1649715012,"question_id":71834853,"body_markdown":"I am using maven with java Spring-boot. \r\n\r\nHow can efficiently handle configuration  for different environment?\r\nFor instance, if I am on staging use this port, if I am on dev, use this port \r\n    \r\nCurrently, I change all the necessary  settings in the application.properties each time I move to a different environment","title":"Java Spring boot Configuration settings for different environment","body":"<p>I am using maven with java Spring-boot.</p>\n<p>How can efficiently handle configuration  for different environment?\nFor instance, if I am on staging use this port, if I am on dev, use this port</p>\n<p>Currently, I change all the necessary  settings in the application.properties each time I move to a different environment</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1482346887,"post_id":41270035,"comment_id":69741019,"body_markdown":"Instead of `sendError` use `setStatus` . a `@ControllerAdvice` won&#39;t work as the exception happens in the filter chain not inside the `DispatcherServlet`. Next to that make sure you are following the correct rules regarding security overrides in Spring Boot (see the reference guide for that).","body":"Instead of <code>sendError</code> use <code>setStatus</code> . a <code>@ControllerAdvice</code> won&#39;t work as the exception happens in the filter chain not inside the <code>DispatcherServlet</code>. Next to that make sure you are following the correct rules regarding security overrides in Spring Boot (see the reference guide for that)."},{"owner":{"account_id":7311953,"reputation":111,"user_id":6473868,"accept_rate":25,"display_name":"red_white_code"},"score":0,"creation_date":1482347768,"post_id":41270035,"comment_id":69741493,"body_markdown":"@M.Deinum, thanks, but it didn&#39;t help. I tried                     &#39;response.setStatus(403);&#39;\n&#39;response.getWriter().print(&quot;forbidden&quot;);&#39;, it is still giving a spring error page. I think I configured it well, since it is at least blocking access to test.txt for unauthenticated users.","body":"@M.Deinum, thanks, but it didn&#39;t help. I tried                     &#39;response.setStatus(403);&#39; &#39;response.getWriter().print(&quot;forbidden&quot;);&#39;, it is still giving a spring error page. I think I configured it well, since it is at least blocking access to test.txt for unauthenticated users."},{"owner":{"account_id":7311953,"reputation":111,"user_id":6473868,"accept_rate":25,"display_name":"red_white_code"},"score":0,"creation_date":1482348459,"post_id":41270035,"comment_id":69741919,"body_markdown":"@M.Deinum, I&#39;ve found an answer for my questions. The thing is Spring security first tries to authorize the user and calls for authenticationEntryPoint, and only if user is authorized already and access is still denied, it will call for accessDeniedHandler. In my case it was trying to find authenticationEntryPoint and giving an error. Thank you anyway!","body":"@M.Deinum, I&#39;ve found an answer for my questions. The thing is Spring security first tries to authorize the user and calls for authenticationEntryPoint, and only if user is authorized already and access is still denied, it will call for accessDeniedHandler. In my case it was trying to find authenticationEntryPoint and giving an error. Thank you anyway!"}],"owner":{"account_id":7311953,"reputation":111,"user_id":6473868,"accept_rate":25,"display_name":"red_white_code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691717614,"creation_date":1482346680,"question_id":41270035,"body_markdown":"I want to create a `Spring Boot` app that will serve as a back-end service provider for angular/mobile apps. When a user makes a request that he/she is not allowed to do, user has to get a response like &quot;_forbidden_&quot; for example.\r\nI&#39;ve created an `@EnableWebSecurity` annotated class that overrides `WebSecurityConfigurerAdapter.configure(HttpSecurity http)` method. I have tried the following:\r\n\r\n    http\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/test.txt&quot;).authenticated().and().exceptionHandling()\r\n        .accessDeniedHandler((HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) -&gt; {\r\n            response.sendError(403, &quot;forbidden&quot;);\r\n        });\r\n\r\nAnd even this didn&#39;t work\r\n\r\n    http\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/test.txt&quot;).authenticated()\r\n        .and().exceptionHandling().accessDeniedPage(&quot;/somepage&quot;);\r\n\r\nWhat I get is `403` response with _html_ text as follows:\r\n\r\n    &quot;This application has no explicit mapping for /error, \r\n     so you are seeing this as a fallback. \r\n     There was an unexpected error (type=Forbidden, status=403). \r\n     Access Denied&quot;\r\n\r\nI&#39;ve already googled for the answer and got advises to create a `@ControllerAdvice` class to catch `AccessDeniedException`s. \r\n\r\nBut, first, I already have such class that has `@ExceptionHandler(Throwable.class)` annotated method (to catch all possible exceptions in an application) and it is not invoked either, second, I would like to understand why my first method doesn&#39;t work. Thanks!","title":"Spring Security custom accessDeniedHandler is ignored","body":"<p>I want to create a <code>Spring Boot</code> app that will serve as a back-end service provider for angular/mobile apps. When a user makes a request that he/she is not allowed to do, user has to get a response like &quot;<em>forbidden</em>&quot; for example.\nI've created an <code>@EnableWebSecurity</code> annotated class that overrides <code>WebSecurityConfigurerAdapter.configure(HttpSecurity http)</code> method. I have tried the following:</p>\n<pre><code>http\n    .authorizeRequests()\n    .antMatchers(&quot;/test.txt&quot;).authenticated().and().exceptionHandling()\n    .accessDeniedHandler((HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) -&gt; {\n        response.sendError(403, &quot;forbidden&quot;);\n    });\n</code></pre>\n<p>And even this didn't work</p>\n<pre><code>http\n    .authorizeRequests()\n    .antMatchers(&quot;/test.txt&quot;).authenticated()\n    .and().exceptionHandling().accessDeniedPage(&quot;/somepage&quot;);\n</code></pre>\n<p>What I get is <code>403</code> response with <em>html</em> text as follows:</p>\n<pre><code>&quot;This application has no explicit mapping for /error, \n so you are seeing this as a fallback. \n There was an unexpected error (type=Forbidden, status=403). \n Access Denied&quot;\n</code></pre>\n<p>I've already googled for the answer and got advises to create a <code>@ControllerAdvice</code> class to catch <code>AccessDeniedException</code>s.</p>\n<p>But, first, I already have such class that has <code>@ExceptionHandler(Throwable.class)</code> annotated method (to catch all possible exceptions in an application) and it is not invoked either, second, I would like to understand why my first method doesn't work. Thanks!</p>\n"},{"tags":["java","spring-boot","visual-studio-code","gradle"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691656522,"post_id":76870760,"comment_id":135521832,"body_markdown":"Did you configure `java.configuration.runtimes`?","body":"Did you configure <code>java.configuration.runtimes</code>?"},{"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"score":0,"creation_date":1691662643,"post_id":76870760,"comment_id":135523023,"body_markdown":"Is that a Gradle or a VS Code setting?","body":"Is that a Gradle or a VS Code setting?"},{"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"score":0,"creation_date":1691694277,"post_id":76870760,"comment_id":135529840,"body_markdown":"This did the trick. I set the runtime configurations in VS Code and now it works. Thank you! Do you want to answer the question so that i can set it as the accepted answer?","body":"This did the trick. I set the runtime configurations in VS Code and now it works. Thank you! Do you want to answer the question so that i can set it as the accepted answer?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691715931,"post_id":76870760,"comment_id":135532664,"body_markdown":"I have made an answer. If you don&#39;t mind, you could click &#39;✔&#39; to mark my reply as the accepted answer. It will also help others to solve the similar issue.","body":"I have made an answer. If you don&#39;t mind, you could click &#39;✔&#39; to mark my reply as the accepted answer. It will also help others to solve the similar issue."}],"answers":[{"comments":[{"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"score":0,"creation_date":1691741890,"post_id":76880148,"comment_id":135535506,"body_markdown":"This works when I do it like this for the JDK 17 :) thx","body":"This works when I do it like this for the JDK 17 :) thx"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691715908,"creation_date":1691715908,"answer_id":76880148,"question_id":76870760,"body_markdown":"You can configure **JDK** for your project via [`java.configuration.runtimes`][1] configuration.\r\n\r\n***Example:***\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\r\n   }\r\n]\r\n```\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"Spring Boot 3 with Gradle and Java 17 not working in VS Code Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2","body":"<p>You can configure <strong>JDK</strong> for your project via <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\"><code>java.configuration.runtimes</code></a> configuration.</p>\n<p><em><strong>Example:</strong></em></p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\n   }\n]\n</code></pre>\n"}],"owner":{"account_id":17829512,"reputation":154,"user_id":12949885,"display_name":"Ole"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76880148,"answer_count":1,"score":0,"last_activity_date":1691715908,"creation_date":1691609713,"question_id":76870760,"body_markdown":"I have a Spring Boot 3 project with Gradle and Java 17. I want to work with it using VS Code. I have the Java extension pack, the Spring Boot extension pack and the gradle extension in VS Code. \r\n\r\nI can use the same project without problems in Eclipse. I also tried using a new project from start.spring.io. The projects work with the following configurations:\r\n\r\n- Maven + Java 11 + Spring Boot 2.7.14\r\n- Maven + Java 17 + Spring Boot 3.1.2\r\n- Gradle + Java 11 + Spring Boot 2.7.14\r\n\r\n\r\nThe log shows the following error, when i try to open the project:\r\n\r\n    !SESSION 2023-08-09 20:32:19.690 -----------------------------------------------\r\n    eclipse.buildId=unknown\r\n    java.version=17.0.7\r\n    java.vendor=Eclipse Adoptium\r\n    BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:29.890\r\n    !MESSAGE Finished creating the Java project jdt.ls-java-project\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.142\r\n    !MESSAGE Importing Gradle project(s)\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.143\r\n    !MESSAGE No previous Gradle project at /home/username/Documents/tmp/testb3j17g, it must be synchronized\r\n\r\n    !ENTRY org.eclipse.buildship.core 2 3 2023-08-09 20:32:42.643\r\n    !MESSAGE Synchronize project testb3j17g failed due to an error connecting to the Gradle build.\r\n    !STACK 0\r\n    org.gradle.tooling.BuildActionFailureException: The supplied phased action failed with an exception.\r\n        at ...\r\n    Caused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;testb3j17g&#39;.\r\n        at ...\r\n    Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:classpath&#39;.\r\n        at ...\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n    Required by:\r\n        project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n    Caused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n    - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n        at ...\r\n\r\n    !ENTRY org.eclipse.jdt.ls.core 4 0 2023-08-09 20:32:43.292\r\n    !MESSAGE Could not fetch model of type &#39;Map&#39; using connection to Gradle installation &#39;/usr/share/java/gradle&#39;.\r\n    !STACK 0\r\n    org.gradle.tooling.BuildException: Could not fetch model of type &#39;Map&#39; using connection to Gradle installation &#39;/usr/share/java/gradle&#39;.\r\n        at ...\r\n    Caused by: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project &#39;testb3j17g&#39;.\r\n        at ...\r\n    Caused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;testb3j17g&#39;.\r\n        at ...d$4(DefaultBuildTreeLifecycleController.java:98)\r\n    Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:classpath&#39;.\r\n        at ...\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n    Required by:\r\n        project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n    Caused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n    - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n        - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n        - Other compatible attribute:\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n    - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n        - Incompatible because this component declares documentation and the consumer needed a library\r\n        - Other compatible attributes:\r\n            - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n            - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n            - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n\r\nAfter reading some other questions (like [this one][1] or [that one][2]), I thought gradle uses java 11 but `gradle --version` gives the following output:\r\n\r\n    $ gradle --version\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 8.2.1\r\n    ------------------------------------------------------------\r\n\r\n    Build time:   2023-07-10 16:30:34 UTC\r\n    Revision:     &lt;unknown&gt;\r\n\r\n    Kotlin:       1.8.20\r\n    Groovy:       3.0.17\r\n    Ant:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\n    JVM:          17.0.8 (Oracle Corporation 17.0.8+7)\r\n    OS:           Linux 6.4.4-arch1-1 amd64\r\n\r\nI also set the VS Code setting `Java › Import › Gradle › Java: Home` to the JDK-17. What I find strange is that gradle build is working fine and also in the gradle view in VS Code the Spring Boot dependencies are listed.\r\n\r\n  [1]: https://stackoverflow.com/q/74616510/12949885\r\n  [2]: https://stackoverflow.com/q/74931848/12949885","title":"Spring Boot 3 with Gradle and Java 17 not working in VS Code Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2","body":"<p>I have a Spring Boot 3 project with Gradle and Java 17. I want to work with it using VS Code. I have the Java extension pack, the Spring Boot extension pack and the gradle extension in VS Code.</p>\n<p>I can use the same project without problems in Eclipse. I also tried using a new project from start.spring.io. The projects work with the following configurations:</p>\n<ul>\n<li>Maven + Java 11 + Spring Boot 2.7.14</li>\n<li>Maven + Java 17 + Spring Boot 3.1.2</li>\n<li>Gradle + Java 11 + Spring Boot 2.7.14</li>\n</ul>\n<p>The log shows the following error, when i try to open the project:</p>\n<pre><code>!SESSION 2023-08-09 20:32:19.690 -----------------------------------------------\neclipse.buildId=unknown\njava.version=17.0.7\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\n\n!ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:29.890\n!MESSAGE Finished creating the Java project jdt.ls-java-project\n\n!ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.142\n!MESSAGE Importing Gradle project(s)\n\n!ENTRY org.eclipse.jdt.ls.core 1 0 2023-08-09 20:32:31.143\n!MESSAGE No previous Gradle project at /home/username/Documents/tmp/testb3j17g, it must be synchronized\n\n!ENTRY org.eclipse.buildship.core 2 3 2023-08-09 20:32:42.643\n!MESSAGE Synchronize project testb3j17g failed due to an error connecting to the Gradle build.\n!STACK 0\norg.gradle.tooling.BuildActionFailureException: The supplied phased action failed with an exception.\n    at ...\nCaused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'testb3j17g'.\n    at ...\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':classpath'.\n    at ...\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\nRequired by:\n    project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\nCaused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n- Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n    at ...\n\n!ENTRY org.eclipse.jdt.ls.core 4 0 2023-08-09 20:32:43.292\n!MESSAGE Could not fetch model of type 'Map' using connection to Gradle installation '/usr/share/java/gradle'.\n!STACK 0\norg.gradle.tooling.BuildException: Could not fetch model of type 'Map' using connection to Gradle installation '/usr/share/java/gradle'.\n    at ...\nCaused by: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project 'testb3j17g'.\n    at ...\nCaused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'testb3j17g'.\n    at ...d$4(DefaultBuildTreeLifecycleController.java:98)\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':classpath'.\n    at ...\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\nRequired by:\n    project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\nCaused by: org.gradle.internal.component.NoMatchingConfigurationSelectionException: No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n- Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n    - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n    - Other compatible attribute:\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n- Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n    - Incompatible because this component declares documentation and the consumer needed a library\n    - Other compatible attributes:\n        - Doesn't say anything about its target Java version (required compatibility with Java 11)\n        - Doesn't say anything about its elements (required them packaged as a jar)\n        - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n</code></pre>\n<p>After reading some other questions (like <a href=\"https://stackoverflow.com/q/74616510/12949885\">this one</a> or <a href=\"https://stackoverflow.com/q/74931848/12949885\">that one</a>), I thought gradle uses java 11 but <code>gradle --version</code> gives the following output:</p>\n<pre><code>$ gradle --version\n\n------------------------------------------------------------\nGradle 8.2.1\n------------------------------------------------------------\n\nBuild time:   2023-07-10 16:30:34 UTC\nRevision:     &lt;unknown&gt;\n\nKotlin:       1.8.20\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          17.0.8 (Oracle Corporation 17.0.8+7)\nOS:           Linux 6.4.4-arch1-1 amd64\n</code></pre>\n<p>I also set the VS Code setting <code>Java › Import › Gradle › Java: Home</code> to the JDK-17. What I find strange is that gradle build is working fine and also in the gradle view in VS Code the Spring Boot dependencies are listed.</p>\n"},{"tags":["java","android","react-native","kotlin"],"owner":{"account_id":29132209,"reputation":11,"user_id":22317183,"display_name":"srbarr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691715891,"creation_date":1691715891,"question_id":76880145,"body_markdown":"react native android debug works fine, but when i try to build the apk with \r\n`npx react-native run-android --mode release`\r\nit correctly builds but crashes on startup. I&#39;ve attached a screenshot of the logcat below. It has something to do with redux because it says it cant access property store. Its code in one of the packages because I am not accessing .store anywhere in my code. But this still doesn&#39;t explain why it works in debug but not in release\r\n\r\n\r\n[logcat fatal exception](https://i.stack.imgur.com/9eiTG.png)\r\n\r\nI have tried rebuilding the project several times and it hasn&#39;t worked. ","title":"react native android release crash on startup","body":"<p>react native android debug works fine, but when i try to build the apk with\n<code>npx react-native run-android --mode release</code>\nit correctly builds but crashes on startup. I've attached a screenshot of the logcat below. It has something to do with redux because it says it cant access property store. Its code in one of the packages because I am not accessing .store anywhere in my code. But this still doesn't explain why it works in debug but not in release</p>\n<p><a href=\"https://i.stack.imgur.com/9eiTG.png\" rel=\"nofollow noreferrer\">logcat fatal exception</a></p>\n<p>I have tried rebuilding the project several times and it hasn't worked.</p>\n"},{"tags":["java","deployment","jar","packaging","hexagonal-architecture"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683065739,"post_id":76156250,"comment_id":134308935,"body_markdown":"What’s your goal? Why do you need more than one JAR per deployable unit?","body":"What’s your goal? Why do you need more than one JAR per deployable unit?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1683084028,"post_id":76156250,"comment_id":134310735,"body_markdown":"@TimMoore it&#39;s a matter of subprojects if you prefer. I&#39;ve started with a Maven project having roughly eight `&lt;module&gt;` of `&lt;packaging&gt;jar&lt;/packaging&gt;` kind, gathered into a final executable through the `org.springframework.boot:spring-boot-maven-plugin:repackage` plugin =&gt; I have, for backend, a single executable jar, but if I open it with a tool its `BOOT-INF/lib` has seven small jars of mine inside, among plenty of _Spring_, _Spark_, _Jakata_ API jars. What I&#39;m fearing now, is to be going to hundred of these modules.","body":"@TimMoore it&#39;s a matter of subprojects if you prefer. I&#39;ve started with a Maven project having roughly eight <code>&lt;module&gt;</code> of <code>&lt;packaging&gt;jar&lt;&#47;packaging&gt;</code> kind, gathered into a final executable through the <code>org.springframework.boot:spring-boot-maven-plugin:repackage</code> plugin =&gt; I have, for backend, a single executable jar, but if I open it with a tool its <code>BOOT-INF&#47;lib</code> has seven small jars of mine inside, among plenty of <i>Spring</i>, <i>Spark</i>, <i>Jakata</i> API jars. What I&#39;m fearing now, is to be going to hundred of these modules."}],"answers":[{"tags":[],"owner":{"account_id":1089215,"reputation":4570,"user_id":1084242,"accept_rate":71,"display_name":"choquero70"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691715880,"creation_date":1691715880,"answer_id":76880144,"question_id":76156250,"body_markdown":"Here is my example of Hexagonal Architecture with Java 9 modules:\r\n\r\n- One for the app (hexagon).\r\n- One for each adapter.\r\n- One for a startup that builds the whole system.\r\n\r\nGithub repo with the code:\r\n\r\nhttps://github.com/jmgarridopaz/bluezone\r\n","title":"What IDE subprojects (=Maven &lt;modules&gt;) dispatching for an hexagonal project? How many jars will be in the final executable jar? Ten, tens, hundreds?","body":"<p>Here is my example of Hexagonal Architecture with Java 9 modules:</p>\n<ul>\n<li>One for the app (hexagon).</li>\n<li>One for each adapter.</li>\n<li>One for a startup that builds the whole system.</li>\n</ul>\n<p>Github repo with the code:</p>\n<p><a href=\"https://github.com/jmgarridopaz/bluezone\" rel=\"nofollow noreferrer\">https://github.com/jmgarridopaz/bluezone</a></p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691715880,"creation_date":1683039804,"question_id":76156250,"body_markdown":"Before starting to move to an hexagonal architecture, my application (roughly) had these jars, gathering into a bigger executable.\r\n\r\n(to be more precise, for a comment below: concretely each of my _Maven_ subprojects (`&lt;module&gt;`) has a `&lt;packaging&gt;jar&lt;/packaging&gt;` kind, and at the end, the application component gathers everything into an executable jar through the `org.springframework.boot:spring-boot-maven-plugin:repackage` plugin.  \r\nIf I enter with a zip tool into the executable jar, I&#39;ll see inside its `BOOT-INF/lib` seven or eight small jars of mine, among plenty of _Spring_, _Spark_, _Jakata_ API jars).\r\n\r\n__0)__ Here&#39;s my dispatching of components/Maven modules/IDE subprojects, roughly, before starting the migration to an hexagonal architecture:\r\n\r\n```\r\nBusiness Object.jar\r\n\r\nAssociation.jar\r\n   . Spark Dataset\r\n   . Association Service\r\n   . Association REST Controller\r\n\r\nCatalogue.jar\r\n   . Spark Dataset\r\n   . Association Service\r\n   . Association REST Controller\r\n\r\nComptes.jar\r\n   . Spark Dataset\r\n   . Association Service\r\n   . Association REST Controller\r\n\r\n[seven others like these: Cities/Departments/Regions, Emploi,\r\nEntreprise, Equipement, Formation, Mobilite, Revenus Imposition]\r\n\r\n=&gt; Those going into a Main-Spring-Backend-Application.jar \r\n   Inside its BOOT-INF/lib you find:\r\n   Association.jar, Catalogue.jar, Comptes.jar...\r\n   among other API, frameworks, drivers, used by the application.\r\n\r\n=&gt; Angular Web Application.war\r\n```\r\n\r\nNow, hexagonal architecture is splitting, for example, Association management into:\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\nadapters.inbound.rest.AssociationController\r\n\r\nadapters.outbound.port.AssociationRepository\r\n\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\n\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n\r\napplication.port.AssociationPort\r\n\r\napplication.service.AssociationService\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\n```\r\n\r\nI&#39;m a newbie in hexagonal architecture. It&#39;s the first time I&#39;m applying it, and the name of the classes and interfaces are still a bit imprecise in my mind.\r\n\r\nBut where am I going, in term of deployment?\r\n--------------------------------------------\r\n\r\n__1)__ Should I be in front of something like that, at the end of my work, if I consider jars I intend to deploy?\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\nadapters.inbound.port.CatalogueAPI\r\nadapters.inbound.port.ComptesAPI\r\n   ==&gt; For a jar #1\r\n\r\nadapters.inbound.rest.AssociationController\r\nadapters.inbound.rest.CatalogueController\r\nadapters.inbound.rest.ComptesController\r\n   ==&gt; for a jar #2\r\n\r\nadapters.outbound.port.AssociationRepository\r\nadapters.outbound.port.CatalogueRepository\r\nadapters.outbound.port.ComptesRepository\r\n   ==&gt; for a jar #3\r\n\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\r\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\r\n   ==&gt; for a jar #4\r\n\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n   ==&gt; for a jar #5\r\n\r\napplication.port.AssociationPort\r\napplication.port.CataloguePort\r\napplication.port.ComptesPort\r\n   ==&gt; for a jar #6\r\n\r\napplication.service.AssociationService\r\napplication.service.CatalogueDatagouvService\r\napplication.service.BalanceCompteService\r\n   ==&gt; for a jar #7\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\ndomain.model.catalogue.CatalogueId\r\ndomain.model.catalogue.JeuDeDonnees\r\ndomain.model.catalogue.OrganisationId\r\ndomain.model.catalogue.metadata.DebutOuFinPeriode\r\ndomain.model.catalogue.metadata.MetadataSource\r\ndomain.model.catalogue.metadata.NatureDonnee\r\ndomain.model.catalogue.metadata.NaturePhysiqueSource\r\ndomain.model.catalogue.metadata.Periode\r\ndomain.model.catalogue.metadata.PeriodiciteSource\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\r\ndomain.model.territoire.comptabilite.Compte\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\r\ndomain.model.territoire.comptabilite.ComptesIndividuels\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\r\ndomain.model.territoire.comptabilite.NumeroCompte\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\r\n   ==&gt; for a jar #8\r\n```\r\n\r\nIt looks to me simple, but mixing every business together in each jar seems very confusing and troublesome.\r\n\r\n\r\n----------\r\n\r\n\r\n__2)__ Should I, instead, reach something like this, entirely split by business notion and by hexagonal nature?\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\n   ==&gt; for a jar #1\r\n\r\nadapters.inbound.port.CatalogueAPI\r\n   ==&gt; for a jar #2\r\n\r\nadapters.inbound.port.ComptesAPI\r\n   ==&gt; For a jar #3\r\n\r\nadapters.inbound.rest.AssociationController\r\n   ==&gt; for a jar #4\r\n\r\nadapters.inbound.rest.CatalogueController\r\n   ==&gt; for a jar #5\r\n\r\nadapters.inbound.rest.ComptesController\r\n   ==&gt; for a jar #6\r\n\r\nadapters.outbound.port.AssociationRepository\r\n   ==&gt; for a jar #7\r\n\r\nadapters.outbound.port.CatalogueRepository\r\n   ==&gt; for a jar #8\r\n\r\nadapters.outbound.port.ComptesRepository\r\n   ==&gt; for a jar #9\r\n\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\n   ==&gt; for a jar #10\r\n\r\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\r\n   ==&gt; for a jar #11\r\n\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\r\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\r\n   ==&gt; for a jar #12\r\n\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n   ==&gt; for a jar #13\r\n\r\napplication.port.AssociationPort\r\n   ==&gt; for a jar #14\r\n\r\napplication.port.CataloguePort\r\n   ==&gt; for a jar #15\r\n\r\napplication.port.ComptesPort\r\n   ==&gt; for a jar #16\r\n\r\napplication.service.AssociationService\r\n   ==&gt; for a jar #17\r\n\r\napplication.service.CatalogueDatagouvService\r\n   ==&gt; for a jar #18\r\n\r\napplication.service.BalanceCompteService\r\n   ==&gt; for a jar #19\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\n   ==&gt; for a jar #20\r\n\r\ndomain.model.catalogue.CatalogueId\r\ndomain.model.catalogue.JeuDeDonnees\r\ndomain.model.catalogue.OrganisationId\r\ndomain.model.catalogue.metadata.DebutOuFinPeriode\r\ndomain.model.catalogue.metadata.MetadataSource\r\ndomain.model.catalogue.metadata.NatureDonnee\r\ndomain.model.catalogue.metadata.NaturePhysiqueSource\r\ndomain.model.catalogue.metadata.Periode\r\ndomain.model.catalogue.metadata.PeriodiciteSource\r\n   ==&gt; for a jar #21\r\n\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\r\ndomain.model.territoire.comptabilite.Compte\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\r\ndomain.model.territoire.comptabilite.ComptesIndividuels\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\r\ndomain.model.territoire.comptabilite.NumeroCompte\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\r\n   ==&gt; for a jar #22\r\n```\r\n\r\n\r\nIt&#39;s yet the situation where I am, having started the migration, and I have this tree of subprojects, now:\r\n\r\n```\r\n------------------------------------------------------------------------\r\nReactor Summary for Application : Extraction et analyse de donn&#233;es par Apache Spark :\r\n\r\nPOM Parent ......................................... SUCCESS\r\nDomain-Core : Utilitaires bas niveau et m&#233;canismes techniques des objets m&#233;tiers SUCCESS\r\nDomain : Objets m&#233;tiers ............................ SUCCESS\r\nApplication-Port : Association ..................... SUCCESS\r\nAdapter-Inbound-Port : Association ................. SUCCESS\r\nAdapter-Outbound-Port : Association ................ SUCCESS\r\nApplication-Service-Core : Classes de base des services Spring SUCCESS\r\nAdapter-Outbound-Dao : DAO pour Postgis (G&#233;n&#233;ral) .. SUCCESS\r\nPOM Parent pour les projets Spark .................. SUCCESS\r\nAdapter-Outbound-Spark-Core : Classes de bases et utilitaires Spark SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Catalogue data.gouv.fr SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Maillage territorial (COG) SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Registre National des Associations (RNA) SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Comptes communaux et intercommunaux SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Emploi/Ch&#244;mage .... SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Entreprises et &#233;tablissements SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Base &#233;quipement INSEE SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Formation, enseignement, dipl&#244;mes SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Mobilit&#233; .......... SUCCESS\r\nAdapter-Outbound-Spark-Dataset : Revenus (salaires, retraites) et imposition des m&#233;nages SUCCESS\r\nAdapter-Outbound-Spark-Analyse : Association ....... SUCCESS\r\nAdapter-Outbound-Spark-Analyse : Impacts communaux . SUCCESS\r\nAdapter-Inbound-Rest : Association ................. SUCCESS\r\nApplication-Service : Gestion des associations ..... SUCCESS\r\nApplication-Backend m&#233;tier : Services d&#39;enrichissement Open Data SUCCESS\r\nAdapter-Inbound-Rest : G&#233;n&#233;ration clients OpenAPI des services m&#233;tiers (G&#233;n&#233;ral) SUCCESS\r\nAdapter-Inbound-Web : Pr&#233;sentation des donn&#233;es ..... SUCCESS\r\nApplication : Extraction et analyse de donn&#233;es par Apache Spark SUCCESS \r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n ------------------------------------------------------------------------\r\nTotal time:  16.331 s\r\nFinished at: 2023-05-03T16:18:40+02:00\r\n------------------------------------------------------------------------\r\n```\r\n\r\nAnd I have only extracted the first business family/notion: Association.  \r\nDoing the other (Mobility, Tax, City...) will lead me to an impressive number of jars/a lot of subprojets. \r\nI will quickly have hundred of modules/jars/ide projects in my redispatched application.\r\n\r\n\r\n----------\r\n\r\n\r\n__3)__ Or dispatching only by hexagonal global nature, and then: business notion?\r\n\r\n```\r\nadapters.inbound.port.AssociationAPI\r\nadapters.inbound.rest.AssociationController\r\n   ==&gt; for a jar #1\r\n\r\nadapters.inbound.port.CatalogueAPI\r\nadapters.inbound.rest.CatalogueController\r\n   ==&gt; for a jar #2\r\n\r\nadapters.inbound.port.ComptesAPI\r\nadapters.inbound.rest.ComptesController\r\n   ==&gt; for a jar #3\r\n\r\nadapters.outbound.port.AssociationRepository\r\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\r\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\r\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\r\n   ==&gt; for a jar #4\r\n\r\nadapters.outbound.port.CatalogueRepository\r\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\r\n   ==&gt; for a jar #5\r\n\r\nadapters.outbound.port.ComptesRepository\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\r\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\r\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\r\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\r\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\r\n   ==&gt; for a jar #6\r\n\r\napplication.port.AssociationPort\r\napplication.service.AssociationService\r\n   ==&gt; for a jar #7\r\n\r\napplication.port.CataloguePort\r\napplication.service.CatalogueDatagouvService\r\n\r\napplication.port.ComptesPort\r\napplication.service.BalanceCompteService\r\n   ==&gt; for a jar #8\r\n\r\ndomain.model.territoire.association.AncienNumeroWaldec\r\ndomain.model.territoire.association.Association\r\ndomain.model.territoire.association.NumeroRUP\r\ndomain.model.territoire.association.NumeroWaldec\r\ndomain.model.territoire.association.RegroupementAssociation\r\ndomain.model.catalogue.CatalogueId\r\ndomain.model.catalogue.JeuDeDonnees\r\ndomain.model.catalogue.OrganisationId\r\ndomain.model.catalogue.metadata.DebutOuFinPeriode\r\ndomain.model.catalogue.metadata.MetadataSource\r\ndomain.model.catalogue.metadata.NatureDonnee\r\ndomain.model.catalogue.metadata.NaturePhysiqueSource\r\ndomain.model.catalogue.metadata.Periode\r\ndomain.model.catalogue.metadata.PeriodiciteSource\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\r\ndomain.model.territoire.comptabilite.Compte\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\r\ndomain.model.territoire.comptabilite.ComptesIndividuels\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\r\ndomain.model.territoire.comptabilite.NumeroCompte\r\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\r\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\r\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\r\n   ==&gt; for a jar #9\r\n```\r\n\r\nHere, the number of submodules would be reduced, but outbound adapters jars [per kind of business notion] could see at the end a mix of _Spark_, _Postgresql_, etc. inside, and for the adapters.inbound, I could find myself having rest, angular application, etc. gathered.\r\n\r\nAnd how could I check their boundaries, if I&#39;ll become meticulous and wish to manage them through the Java 9 module system?\r\n\r\nIt would be odd, also.","title":"What IDE subprojects (=Maven &lt;modules&gt;) dispatching for an hexagonal project? How many jars will be in the final executable jar? Ten, tens, hundreds?","body":"<p>Before starting to move to an hexagonal architecture, my application (roughly) had these jars, gathering into a bigger executable.</p>\n<p>(to be more precise, for a comment below: concretely each of my <em>Maven</em> subprojects (<code>&lt;module&gt;</code>) has a <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> kind, and at the end, the application component gathers everything into an executable jar through the <code>org.springframework.boot:spring-boot-maven-plugin:repackage</code> plugin.<br />\nIf I enter with a zip tool into the executable jar, I'll see inside its <code>BOOT-INF/lib</code> seven or eight small jars of mine, among plenty of <em>Spring</em>, <em>Spark</em>, <em>Jakata</em> API jars).</p>\n<p><strong>0)</strong> Here's my dispatching of components/Maven modules/IDE subprojects, roughly, before starting the migration to an hexagonal architecture:</p>\n<pre><code>Business Object.jar\n\nAssociation.jar\n   . Spark Dataset\n   . Association Service\n   . Association REST Controller\n\nCatalogue.jar\n   . Spark Dataset\n   . Association Service\n   . Association REST Controller\n\nComptes.jar\n   . Spark Dataset\n   . Association Service\n   . Association REST Controller\n\n[seven others like these: Cities/Departments/Regions, Emploi,\nEntreprise, Equipement, Formation, Mobilite, Revenus Imposition]\n\n=&gt; Those going into a Main-Spring-Backend-Application.jar \n   Inside its BOOT-INF/lib you find:\n   Association.jar, Catalogue.jar, Comptes.jar...\n   among other API, frameworks, drivers, used by the application.\n\n=&gt; Angular Web Application.war\n</code></pre>\n<p>Now, hexagonal architecture is splitting, for example, Association management into:</p>\n<pre><code>adapters.inbound.port.AssociationAPI\nadapters.inbound.rest.AssociationController\n\nadapters.outbound.port.AssociationRepository\n\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\n\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n\napplication.port.AssociationPort\n\napplication.service.AssociationService\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\n</code></pre>\n<p>I'm a newbie in hexagonal architecture. It's the first time I'm applying it, and the name of the classes and interfaces are still a bit imprecise in my mind.</p>\n<h2>But where am I going, in term of deployment?</h2>\n<p><strong>1)</strong> Should I be in front of something like that, at the end of my work, if I consider jars I intend to deploy?</p>\n<pre><code>adapters.inbound.port.AssociationAPI\nadapters.inbound.port.CatalogueAPI\nadapters.inbound.port.ComptesAPI\n   ==&gt; For a jar #1\n\nadapters.inbound.rest.AssociationController\nadapters.inbound.rest.CatalogueController\nadapters.inbound.rest.ComptesController\n   ==&gt; for a jar #2\n\nadapters.outbound.port.AssociationRepository\nadapters.outbound.port.CatalogueRepository\nadapters.outbound.port.ComptesRepository\n   ==&gt; for a jar #3\n\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\n   ==&gt; for a jar #4\n\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n   ==&gt; for a jar #5\n\napplication.port.AssociationPort\napplication.port.CataloguePort\napplication.port.ComptesPort\n   ==&gt; for a jar #6\n\napplication.service.AssociationService\napplication.service.CatalogueDatagouvService\napplication.service.BalanceCompteService\n   ==&gt; for a jar #7\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\ndomain.model.catalogue.CatalogueId\ndomain.model.catalogue.JeuDeDonnees\ndomain.model.catalogue.OrganisationId\ndomain.model.catalogue.metadata.DebutOuFinPeriode\ndomain.model.catalogue.metadata.MetadataSource\ndomain.model.catalogue.metadata.NatureDonnee\ndomain.model.catalogue.metadata.NaturePhysiqueSource\ndomain.model.catalogue.metadata.Periode\ndomain.model.catalogue.metadata.PeriodiciteSource\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\ndomain.model.territoire.comptabilite.Compte\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\ndomain.model.territoire.comptabilite.ComptesIndividuels\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\ndomain.model.territoire.comptabilite.NumeroCompte\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\n   ==&gt; for a jar #8\n</code></pre>\n<p>It looks to me simple, but mixing every business together in each jar seems very confusing and troublesome.</p>\n<hr />\n<p><strong>2)</strong> Should I, instead, reach something like this, entirely split by business notion and by hexagonal nature?</p>\n<pre><code>adapters.inbound.port.AssociationAPI\n   ==&gt; for a jar #1\n\nadapters.inbound.port.CatalogueAPI\n   ==&gt; for a jar #2\n\nadapters.inbound.port.ComptesAPI\n   ==&gt; For a jar #3\n\nadapters.inbound.rest.AssociationController\n   ==&gt; for a jar #4\n\nadapters.inbound.rest.CatalogueController\n   ==&gt; for a jar #5\n\nadapters.inbound.rest.ComptesController\n   ==&gt; for a jar #6\n\nadapters.outbound.port.AssociationRepository\n   ==&gt; for a jar #7\n\nadapters.outbound.port.CatalogueRepository\n   ==&gt; for a jar #8\n\nadapters.outbound.port.ComptesRepository\n   ==&gt; for a jar #9\n\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\n   ==&gt; for a jar #10\n\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\n   ==&gt; for a jar #11\n\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\n   ==&gt; for a jar #12\n\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n   ==&gt; for a jar #13\n\napplication.port.AssociationPort\n   ==&gt; for a jar #14\n\napplication.port.CataloguePort\n   ==&gt; for a jar #15\n\napplication.port.ComptesPort\n   ==&gt; for a jar #16\n\napplication.service.AssociationService\n   ==&gt; for a jar #17\n\napplication.service.CatalogueDatagouvService\n   ==&gt; for a jar #18\n\napplication.service.BalanceCompteService\n   ==&gt; for a jar #19\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\n   ==&gt; for a jar #20\n\ndomain.model.catalogue.CatalogueId\ndomain.model.catalogue.JeuDeDonnees\ndomain.model.catalogue.OrganisationId\ndomain.model.catalogue.metadata.DebutOuFinPeriode\ndomain.model.catalogue.metadata.MetadataSource\ndomain.model.catalogue.metadata.NatureDonnee\ndomain.model.catalogue.metadata.NaturePhysiqueSource\ndomain.model.catalogue.metadata.Periode\ndomain.model.catalogue.metadata.PeriodiciteSource\n   ==&gt; for a jar #21\n\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\ndomain.model.territoire.comptabilite.Compte\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\ndomain.model.territoire.comptabilite.ComptesIndividuels\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\ndomain.model.territoire.comptabilite.NumeroCompte\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\n   ==&gt; for a jar #22\n</code></pre>\n<p>It's yet the situation where I am, having started the migration, and I have this tree of subprojects, now:</p>\n<pre><code>------------------------------------------------------------------------\nReactor Summary for Application : Extraction et analyse de données par Apache Spark :\n\nPOM Parent ......................................... SUCCESS\nDomain-Core : Utilitaires bas niveau et mécanismes techniques des objets métiers SUCCESS\nDomain : Objets métiers ............................ SUCCESS\nApplication-Port : Association ..................... SUCCESS\nAdapter-Inbound-Port : Association ................. SUCCESS\nAdapter-Outbound-Port : Association ................ SUCCESS\nApplication-Service-Core : Classes de base des services Spring SUCCESS\nAdapter-Outbound-Dao : DAO pour Postgis (Général) .. SUCCESS\nPOM Parent pour les projets Spark .................. SUCCESS\nAdapter-Outbound-Spark-Core : Classes de bases et utilitaires Spark SUCCESS\nAdapter-Outbound-Spark-Dataset : Catalogue data.gouv.fr SUCCESS\nAdapter-Outbound-Spark-Dataset : Maillage territorial (COG) SUCCESS\nAdapter-Outbound-Spark-Dataset : Registre National des Associations (RNA) SUCCESS\nAdapter-Outbound-Spark-Dataset : Comptes communaux et intercommunaux SUCCESS\nAdapter-Outbound-Spark-Dataset : Emploi/Chômage .... SUCCESS\nAdapter-Outbound-Spark-Dataset : Entreprises et établissements SUCCESS\nAdapter-Outbound-Spark-Dataset : Base équipement INSEE SUCCESS\nAdapter-Outbound-Spark-Dataset : Formation, enseignement, diplômes SUCCESS\nAdapter-Outbound-Spark-Dataset : Mobilité .......... SUCCESS\nAdapter-Outbound-Spark-Dataset : Revenus (salaires, retraites) et imposition des ménages SUCCESS\nAdapter-Outbound-Spark-Analyse : Association ....... SUCCESS\nAdapter-Outbound-Spark-Analyse : Impacts communaux . SUCCESS\nAdapter-Inbound-Rest : Association ................. SUCCESS\nApplication-Service : Gestion des associations ..... SUCCESS\nApplication-Backend métier : Services d'enrichissement Open Data SUCCESS\nAdapter-Inbound-Rest : Génération clients OpenAPI des services métiers (Général) SUCCESS\nAdapter-Inbound-Web : Présentation des données ..... SUCCESS\nApplication : Extraction et analyse de données par Apache Spark SUCCESS \n------------------------------------------------------------------------\nBUILD SUCCESS\n ------------------------------------------------------------------------\nTotal time:  16.331 s\nFinished at: 2023-05-03T16:18:40+02:00\n------------------------------------------------------------------------\n</code></pre>\n<p>And I have only extracted the first business family/notion: Association.<br />\nDoing the other (Mobility, Tax, City...) will lead me to an impressive number of jars/a lot of subprojets.\nI will quickly have hundred of modules/jars/ide projects in my redispatched application.</p>\n<hr />\n<p><strong>3)</strong> Or dispatching only by hexagonal global nature, and then: business notion?</p>\n<pre><code>adapters.inbound.port.AssociationAPI\nadapters.inbound.rest.AssociationController\n   ==&gt; for a jar #1\n\nadapters.inbound.port.CatalogueAPI\nadapters.inbound.rest.CatalogueController\n   ==&gt; for a jar #2\n\nadapters.inbound.port.ComptesAPI\nadapters.inbound.rest.ComptesController\n   ==&gt; for a jar #3\n\nadapters.outbound.port.AssociationRepository\nadapters.outbound.spark.dataset.association.AssociationObjetsSociauxDataset\nadapters.outbound.spark.dataset.association.AssociationWaldecDataset\nadapters.outbound.spark.analyse.association.AssociationAnalyseSpark\n   ==&gt; for a jar #4\n\nadapters.outbound.port.CatalogueRepository\nadapters.outbound.spark.dataset.datagouv.CatalogueDatagouvDataset\n   ==&gt; for a jar #5\n\nadapters.outbound.port.ComptesRepository\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesIntercommunalitesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesDataset\nadapters.outbound.spark.dataset.balance.communes.BalanceComptesCommunesDataset\nadapters.outbound.spark.dataset.individuel.AbstractComptesIndividuelsDataset\nadapters.outbound.spark.dataset.individuel.communes.ComptesIndividuelsCommunesDataset\nadapters.outbound.spark.dataset.individuel.intercommunalites.ComptesIndividiuelsIntercommunalitesDataset\nadapters.outbound.spark.dataset.plan.comptes.PlanDeComptesDataset\n   ==&gt; for a jar #6\n\napplication.port.AssociationPort\napplication.service.AssociationService\n   ==&gt; for a jar #7\n\napplication.port.CataloguePort\napplication.service.CatalogueDatagouvService\n\napplication.port.ComptesPort\napplication.service.BalanceCompteService\n   ==&gt; for a jar #8\n\ndomain.model.territoire.association.AncienNumeroWaldec\ndomain.model.territoire.association.Association\ndomain.model.territoire.association.NumeroRUP\ndomain.model.territoire.association.NumeroWaldec\ndomain.model.territoire.association.RegroupementAssociation\ndomain.model.catalogue.CatalogueId\ndomain.model.catalogue.JeuDeDonnees\ndomain.model.catalogue.OrganisationId\ndomain.model.catalogue.metadata.DebutOuFinPeriode\ndomain.model.catalogue.metadata.MetadataSource\ndomain.model.catalogue.metadata.NatureDonnee\ndomain.model.catalogue.metadata.NaturePhysiqueSource\ndomain.model.catalogue.metadata.Periode\ndomain.model.catalogue.metadata.PeriodiciteSource\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecRatioStructure\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecMoyenneStrate\ndomain.model.territoire.comptabilite.ComptesIndividuelsIntercommunalite\ndomain.model.territoire.comptabilite.Compte\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtRatioStructureEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecStrateEtTauxVoteEtStrate\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesTotalOuBaseEtParHabitant\ndomain.model.territoire.comptabilite.ComptesIndividuels\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecTauxVote\ndomain.model.territoire.comptabilite.NumeroCompte\ndomain.model.territoire.comptabilite.ComptesIndividuelsCommune\ndomain.model.territoire.comptabilite.comptesIndividuels.ComptesAvecReductionVotee\ndomain.model.territoire.comptabilite.comptesIndividuels.RatiosNiveauxEtStructure\n   ==&gt; for a jar #9\n</code></pre>\n<p>Here, the number of submodules would be reduced, but outbound adapters jars [per kind of business notion] could see at the end a mix of <em>Spark</em>, <em>Postgresql</em>, etc. inside, and for the adapters.inbound, I could find myself having rest, angular application, etc. gathered.</p>\n<p>And how could I check their boundaries, if I'll become meticulous and wish to manage them through the Java 9 module system?</p>\n<p>It would be odd, also.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1691054146,"post_id":76825125,"comment_id":135440541,"body_markdown":"Have you tried commenting out the code in your ProxyAction and see if the pasting still works? Suspect that the default paste action is still being run, then your ProxyAction","body":"Have you tried commenting out the code in your ProxyAction and see if the pasting still works? Suspect that the default paste action is still being run, then your ProxyAction"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691062466,"post_id":76825125,"comment_id":135442318,"body_markdown":"`JTextArea` already actions bound to the &quot;copy&quot; and &quot;paste&quot; operations.  You can replace these with your own operations [for example](https://stackoverflow.com/questions/25276020/listen-to-the-paste-events-jtextarea/25276224#25276224) - this takes a reference to the installed action and replaces it with a new action, which can call the original.","body":"<code>JTextArea</code> already actions bound to the &quot;copy&quot; and &quot;paste&quot; operations.  You can replace these with your own operations <a href=\"https://stackoverflow.com/questions/25276020/listen-to-the-paste-events-jtextarea/25276224#25276224\">for example</a> - this takes a reference to the installed action and replaces it with a new action, which can call the original."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691062480,"post_id":76825125,"comment_id":135442323,"body_markdown":"Now, the problem is, the paste operation MUST be done the Event Dispatching Thread, meaning that, if it takes a &quot;long time&quot;, this will cause the EDT to stop responding to new events, which will probably mean that your &quot;loading screen&quot; either won&#39;t be displayed OR will not &quot;animate&quot;","body":"Now, the problem is, the paste operation MUST be done the Event Dispatching Thread, meaning that, if it takes a &quot;long time&quot;, this will cause the EDT to stop responding to new events, which will probably mean that your &quot;loading screen&quot; either won&#39;t be displayed OR will not &quot;animate&quot;"},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691067159,"post_id":76825125,"comment_id":135443332,"body_markdown":"Are you saying there is no way to intercept the paste operation before the loading screen can be enabled? What I am hoping to achieve is 1) redirect to ProxyAction, 2) cancel paste operation, 3) display loading screen, 4) copy text from the clipboard and write to JTextArea, 5) finally stop the loading screen. How do you do it?","body":"Are you saying there is no way to intercept the paste operation before the loading screen can be enabled? What I am hoping to achieve is 1) redirect to ProxyAction, 2) cancel paste operation, 3) display loading screen, 4) copy text from the clipboard and write to JTextArea, 5) finally stop the loading screen. How do you do it?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691099095,"post_id":76825125,"comment_id":135449966,"body_markdown":"No, I’m saying your probably going to have issues as the “default” work flow is done within the context of the EDT, so you’d not be able to do animation or respond to user input (ie cancel). You “might” be able to copy the underlying Document, move it to a Thread/SwingWorker and manually paste the text and then replace the Document in the JTextArea, but the “default” paste operation is non-trivial","body":"No, I’m saying your probably going to have issues as the “default” work flow is done within the context of the EDT, so you’d not be able to do animation or respond to user input (ie cancel). You “might” be able to copy the underlying Document, move it to a Thread/SwingWorker and manually paste the text and then replace the Document in the JTextArea, but the “default” paste operation is non-trivial"},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691112673,"post_id":76825125,"comment_id":135451187,"body_markdown":"I see. It is more complicated than I thought. I do not think my approach is good. I have to think of a different way. Maybe block the control-v key operation when the mouse is over the JTextArea and then add a button &quot;Paste&quot;, so maybe clicking it causes the loading screen to be displayed and then copies the text from the clipboard to it. Do you think this solution would work?","body":"I see. It is more complicated than I thought. I do not think my approach is good. I have to think of a different way. Maybe block the control-v key operation when the mouse is over the JTextArea and then add a button &quot;Paste&quot;, so maybe clicking it causes the loading screen to be displayed and then copies the text from the clipboard to it. Do you think this solution would work?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1691149122,"post_id":76825125,"comment_id":135456088,"body_markdown":"How much text is &quot;very large text&quot; and how long does it take?  I just copied the contents of this Stack Overflow page and pasted it into Notepad.  Took less than a second.","body":"How much text is &quot;very large text&quot; and how long does it take?  I just copied the contents of this Stack Overflow page and pasted it into Notepad.  Took less than a second."},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691235525,"post_id":76825125,"comment_id":135466577,"body_markdown":"Actually I am talking about the very large text - over 1,000,000 lines!","body":"Actually I am talking about the very large text - over 1,000,000 lines!"},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691452485,"post_id":76825125,"comment_id":135490853,"body_markdown":"@MadProgrammer, I tried to use `rawDocument.paste();` inside the `doInBackground` method of a `SwingWorker` class after clicking a **Paste** button (rather than keying Ctrl-v) and showing up the loading icon, but the outcome seems unpredictable. At most, it gets frozen. I am guessing calling the SwingWorker from the EDT is problematic?","body":"@MadProgrammer, I tried to use <code>rawDocument.paste();</code> inside the <code>doInBackground</code> method of a <code>SwingWorker</code> class after clicking a <b>Paste</b> button (rather than keying Ctrl-v) and showing up the loading icon, but the outcome seems unpredictable. At most, it gets frozen. I am guessing calling the SwingWorker from the EDT is problematic?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691454563,"post_id":76825125,"comment_id":135491028,"body_markdown":"As the name states `doInBackground` is NOT running on the Event Dispatching Thread, that&#39;s it&#39;s point.  Instead, work that needs to be done on the Event Dispatching Thread, needs to be done in the `process` method (work gets moved to it via the `publish` method). As I stated, the &quot;paste&quot; operation is, complicated, and I don&#39;t think you&#39;re going to accomplish what you want with out first understanding it and then re-implementing it a &quot;swing-thread-safe&quot; manner","body":"As the name states <code>doInBackground</code> is NOT running on the Event Dispatching Thread, that&#39;s it&#39;s point.  Instead, work that needs to be done on the Event Dispatching Thread, needs to be done in the <code>process</code> method (work gets moved to it via the <code>publish</code> method). As I stated, the &quot;paste&quot; operation is, complicated, and I don&#39;t think you&#39;re going to accomplish what you want with out first understanding it and then re-implementing it a &quot;swing-thread-safe&quot; manner"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691454733,"post_id":76825125,"comment_id":135491043,"body_markdown":"At the simplest level that I can think off, you need to make a copy of the editors current `Document` and the current caret position, from a background thread, you then need get the contents of the clipboard ... let&#39;s just say for argument sake it&#39;s plain text and for now and move on, insert the text into the `Document`, at the current caret position and then, on the Event Dispatching Thread, set this `Document` back to the editor.  However, what you might find is, the problem isn&#39;t with the &quot;paste&quot;, but with the editor&#39;s ability to render it fast","body":"At the simplest level that I can think off, you need to make a copy of the editors current <code>Document</code> and the current caret position, from a background thread, you then need get the contents of the clipboard ... let&#39;s just say for argument sake it&#39;s plain text and for now and move on, insert the text into the <code>Document</code>, at the current caret position and then, on the Event Dispatching Thread, set this <code>Document</code> back to the editor.  However, what you might find is, the problem isn&#39;t with the &quot;paste&quot;, but with the editor&#39;s ability to render it fast"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691455516,"post_id":76825125,"comment_id":135491100,"body_markdown":"Just as a quick test, I got a block of text up to 3k lines (1403120 characters) and it pasted &quot;almost&quot; immediately, there was a just perceivable delay.  I then duplicated this up to 117, 824 lines (4, 209, 364) and again, the past was almost immediate. I then duplicated that 10 more times up to 1, 178, 241 lines (42, 094, 019 characters) and there is a noticeable ~4 sec delay - but I don&#39;t think this is an issue with transferring the data from the clipboard, but a delay in the ability of the text area to render that much text","body":"Just as a quick test, I got a block of text up to 3k lines (1403120 characters) and it pasted &quot;almost&quot; immediately, there was a just perceivable delay.  I then duplicated this up to 117, 824 lines (4, 209, 364) and again, the past was almost immediate. I then duplicated that 10 more times up to 1, 178, 241 lines (42, 094, 019 characters) and there is a noticeable ~4 sec delay - but I don&#39;t think this is an issue with transferring the data from the clipboard, but a delay in the ability of the text area to render that much text"}],"answers":[{"comments":[{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691489130,"post_id":76856243,"comment_id":135495377,"body_markdown":"Looks promising. Thanks. I will study and test it.","body":"Looks promising. Thanks. I will study and test it."},{"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"score":0,"creation_date":1691716646,"post_id":76856243,"comment_id":135532721,"body_markdown":"MadProgrammer. That is a brilliant idea. I have improved it a bit to handle errors better and added `Clipboard.isDataFlavorAvailable(DataFlavor.stringFlavor)` to make sure the incoming data is a plain document type. The output of the `getTransferData` is checked for the data size before determining whether to process it or not to avoid an `OutOfMemoryError` exception. I think this approach works fine for me. Thanks again.","body":"MadProgrammer. That is a brilliant idea. I have improved it a bit to handle errors better and added <code>Clipboard.isDataFlavorAvailable(DataFlavor.stringFlavor)</code> to make sure the incoming data is a plain document type. The output of the <code>getTransferData</code> is checked for the data size before determining whether to process it or not to avoid an <code>OutOfMemoryError</code> exception. I think this approach works fine for me. Thanks again."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691715806,"creation_date":1691463810,"answer_id":76856243,"question_id":76825125,"body_markdown":"# !! Warning !!\r\n\r\nThis example makes a number of assumptions:\r\n\r\n1. We&#39;re only dealing with a `PlainDocument` (ie only supports `JTextArea`)\r\n2. We&#39;re only dealing with &quot;plain text&quot; - the example doesn&#39;t do a lot in the way of checking the available data flavours from the clipboard and only supports `DataFlavor.stringFlavor`\r\n\r\n# Example...\r\n\r\nAfter spending some time digging around, the current &quot;paste&quot; operation is, complicated, and it would be a non-trivial amount of work to replicate it - because making it work on a background thread as is would be impossible.\r\n\r\nSo, instead, we need to step back and take a look at how we could take control of it.\r\n\r\nMy test data consisted of plain text of 1, 178, 241 lines/42, 094, 019 characters.\r\n\r\nMy first thought was to split text from the clipboard into smaller chunks and then simply insert those chunks into the document.  This actually turned out to be way worse then I first expected.\r\n\r\nMy next thought was to make a copy of the underlying `Document` and update this copy on a background thread and once completed, apply the copy to the text area itself.\r\n\r\nThis did work.  But, interestingly, it raised a copy of points.\r\n\r\n1. Pulling the text from the clipboard is relatively fast (in may testing 0.529 milliseconds)\r\n2. Inserting the text into the document is relatively fast (in my testing 0.608s)\r\n3. Updating the view with the text is also slow (~1-2s)\r\n\r\nTake into account that it&#39;s taken rough 1-2s before the view is even been updated and we&#39;re running into the 3-4s mark.  Also add in the overhead of creating the `SwingWorker` and it&#39;s own internal management of sync back to the Event Dispatching Thread (in that case you might need to do some more testing and decide at what threshold it&#39;s worth spinning up the `SwingWorker` for)\r\n\r\n## Runnable example\r\n\r\n**!! Cavet:** This just a demonstration of the core concepts, there is so much more that really needs to be taken into consideration, for example:\r\n\r\n* Better error handling\r\n* Investigation into the desired threshold when it would be justifiable to spin up a `SwingWorker` to do this work.\r\n* Pre-sampling of the clipboard - do things like, look at the supported `DataFlavor`s to determine if it contains plain text, maybe even look at the size of the content, if it&#39;s fast enough to do so.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Arc2D;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.util.concurrent.ExecutionException;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRootPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.Timer;\r\n    import javax.swing.text.Document;\r\n    import javax.swing.text.PlainDocument;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                JTextArea ta = new JTextArea(20, 40);\r\n                Action action = ta.getActionMap().get(&quot;paste-from-clipboard&quot;);\r\n                ta.getActionMap().put(&quot;paste-from-clipboard&quot;, new BackgroundPasteAction());\r\n                add(new JScrollPane(ta));\r\n            }\r\n        }\r\n\r\n        public class BackgroundPasteAction extends AbstractAction {\r\n            public BackgroundPasteAction() {\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                Object source = e.getSource();\r\n                if (!(source instanceof JTextArea)) {\r\n                    return;\r\n                }\r\n                JTextArea textArea = (JTextArea) source;\r\n\r\n                JRootPane rootPane = SwingUtilities.getRootPane(textArea);\r\n                Component oldGlassPane = rootPane.getGlassPane();\r\n                WaitOverlay overlay = new WaitOverlay();\r\n                rootPane.setGlassPane(overlay);\r\n                overlay.start();\r\n                overlay.setVisible(true);\r\n\r\n                setEnabled(false);\r\n                PasteWorker worker = new PasteWorker(textArea);\r\n                StopWatch sw = new StopWatch().start();\r\n                worker.addPropertyChangeListener(new SwingWorkerAdapter&lt;PasteWorker&gt;() {\r\n                    @Override\r\n                    protected void workerDone(PasteWorker worker) {\r\n                        try {\r\n                            textArea.setDocument(worker.get());\r\n                            textArea.setCaretPosition(worker.getNewCaretPosition());\r\n                        } catch (InterruptedException | ExecutionException ex) {\r\n                            ex.printStackTrace();\r\n                        }\r\n                        setEnabled(true);\r\n\r\n                        overlay.stop();\r\n                        overlay.setVisible(false);\r\n                        rootPane.setGlassPane(oldGlassPane);\r\n\r\n                        System.out.println(&quot;Job took: &quot; + sw.stop());\r\n                    }\r\n                });\r\n                worker.execute();\r\n            }\r\n        }\r\n\r\n        // This makes it easier to deal with the PropertyChangeListener support of\r\n        // SwingWorker and allows you to focus on only the states you are interested\r\n        // in\r\n        public class SwingWorkerAdapter&lt;W extends SwingWorker&gt; implements PropertyChangeListener {\r\n            @Override\r\n            public void propertyChange(PropertyChangeEvent evt) {\r\n                W worker = (W) evt.getSource();\r\n                switch (evt.getPropertyName()) {\r\n                    case &quot;state&quot;:\r\n                        workerStateChanged(worker);\r\n                        switch (worker.getState()) {\r\n                            case STARTED:\r\n                                workerStarted(worker);\r\n                                break;\r\n                            case DONE:\r\n                                workerDone(worker);\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case &quot;progress&quot;:\r\n                        workerProgressUpdated(worker);\r\n                        break;\r\n                }\r\n            }\r\n\r\n            protected void workerProgressUpdated(W worker) {\r\n            }\r\n\r\n            protected void workerStateChanged(W worker) {\r\n            }\r\n\r\n            protected void workerStarted(W worker) {\r\n            }\r\n\r\n            protected void workerDone(W worker) {\r\n            }\r\n\r\n        }\r\n\r\n        // The SwingWorker which actually does the heavy lifting.  It takes the text\r\n        // from the clipboard and inserts into a copy of the Document\r\n        public class PasteWorker extends SwingWorker&lt;Document, Void&gt; {\r\n\r\n            private JTextArea textArea;\r\n            private int initialCaretPosition;\r\n            private int newCaretPosition;\r\n\r\n            public PasteWorker(JTextArea textArea) {\r\n                this.textArea = textArea;\r\n                this.initialCaretPosition = textArea.getCaretPosition();\r\n            }\r\n\r\n            public int getInitialCaretPosition() {\r\n                return initialCaretPosition;\r\n            }\r\n\r\n            public JTextArea getTextArea() {\r\n                return textArea;\r\n            }\r\n\r\n            public int getNewCaretPosition() {\r\n                return newCaretPosition;\r\n            }\r\n\r\n            @Override\r\n            protected Document doInBackground() throws Exception {\r\n                Document document = new PlainDocument();\r\n                document.insertString(0, textArea.getText(), null);\r\n\r\n                StopWatch sw = new StopWatch().start();\r\n\r\n                Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n                String text = clipboard.getContents(null).getTransferData(DataFlavor.stringFlavor).toString();\r\n                Instant now = Instant.now();\r\n                System.out.println(&quot;Clipboard took: &quot; + sw.stop());\r\n\r\n                sw.start();\r\n\r\n                document.insertString(getInitialCaretPosition(), text, null);\r\n\r\n                System.out.println(&quot;Paste took: &quot; + sw.stop());\r\n\r\n                newCaretPosition = getInitialCaretPosition() + text.length();\r\n\r\n                return document;\r\n            }\r\n        }\r\n\r\n        // The actuall overlay view - used on the glass pane\r\n        public class WaitOverlay extends JPanel {\r\n            private WaitIndicator indicator = new WaitIndicator();\r\n\r\n            public WaitOverlay() {\r\n                setOpaque(false);\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(0, 4, 0, 4);\r\n                add(indicator, gbc);\r\n                add(new JLabel(&quot;Pasting...&quot;), gbc);\r\n            }\r\n\r\n            public void start() {\r\n                indicator.start();\r\n            }\r\n\r\n            public void stop() {\r\n                indicator.stop();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\r\n                g2d.setColor(getBackground());\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        // An implementation of an animated &quot;wait&quot; indicator\r\n        public class WaitIndicator extends JPanel {\r\n            private double angle;\r\n            private double extent;\r\n\r\n            private double angleDelta = -1;\r\n            private double extentDelta = -5;\r\n\r\n            private boolean flip = false;\r\n\r\n            private Timer timer;\r\n\r\n            public WaitIndicator() {\r\n                setForeground(Color.BLACK);\r\n                timer = new Timer(10, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        angle += angleDelta;\r\n                        extent += extentDelta;\r\n                        if (Math.abs(extent) % 360.0 == 0) {\r\n                            angle = angle - extent;\r\n                            flip = !flip;\r\n                            if (flip) {\r\n                                extent = 360.0;\r\n                            } else {\r\n                                extent = 0.0;\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void start() {\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                timer.stop();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(25, 25);\r\n            }\r\n\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n\r\n                int width = getWidth();\r\n                int height = getHeight();\r\n                int size = Math.min(width, height);\r\n\r\n                int x = (getWidth() - size) / 2;\r\n                int y = (getHeight() - size) / 2;\r\n\r\n                Arc2D.Double arc = new Arc2D.Double(x + 2, y + 2, width - 4, height - 4, angle, extent, Arc2D.OPEN);\r\n                BasicStroke stroke = new BasicStroke(4, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\r\n                g2d.setStroke(stroke);\r\n                g2d.setColor(getForeground());\r\n                g2d.draw(arc);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        // Utility classed used for calculating the time difference between two\r\n        // points in time - it&#39;s just simpler then having a lot of duplicate\r\n        // code laying around\r\n        public class StopWatch {\r\n            private LocalDateTime startTime;\r\n            private Duration totalRunTime = Duration.ZERO;\r\n\r\n            public StopWatch start() {\r\n                totalRunTime = Duration.ZERO;\r\n                startTime = LocalDateTime.now();\r\n                return this;\r\n            }\r\n\r\n            public StopWatch stop() {\r\n                if (startTime == null) {\r\n                    return this;\r\n                }\r\n                totalRunTime = Duration.between(startTime, LocalDateTime.now());\r\n                startTime = null;\r\n                return this;\r\n            }\r\n\r\n            public void reset() {\r\n                stop();\r\n                totalRunTime = Duration.ZERO;\r\n            }\r\n\r\n            public boolean isRunning() {\r\n                return startTime != null;\r\n            }\r\n\r\n            public Duration getDuration() {\r\n                Duration currentDuration = Duration.ZERO;\r\n                currentDuration = currentDuration.plus(totalRunTime);\r\n                if (isRunning()) {\r\n                    Duration runTime = Duration.between(startTime, LocalDateTime.now());\r\n                    currentDuration = currentDuration.plus(runTime);\r\n                }\r\n                return currentDuration;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                Duration duration = getDuration();\r\n                return String.format(&quot;%02d:%03d&quot;, duration.toSecondsPart(), duration.toMillisPart());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eCLZZ.gif","title":"How to listen and manipulate paste events in Java Swing?","body":"<h1>!! Warning !!</h1>\n<p>This example makes a number of assumptions:</p>\n<ol>\n<li>We're only dealing with a <code>PlainDocument</code> (ie only supports <code>JTextArea</code>)</li>\n<li>We're only dealing with &quot;plain text&quot; - the example doesn't do a lot in the way of checking the available data flavours from the clipboard and only supports <code>DataFlavor.stringFlavor</code></li>\n</ol>\n<h1>Example...</h1>\n<p>After spending some time digging around, the current &quot;paste&quot; operation is, complicated, and it would be a non-trivial amount of work to replicate it - because making it work on a background thread as is would be impossible.</p>\n<p>So, instead, we need to step back and take a look at how we could take control of it.</p>\n<p>My test data consisted of plain text of 1, 178, 241 lines/42, 094, 019 characters.</p>\n<p>My first thought was to split text from the clipboard into smaller chunks and then simply insert those chunks into the document.  This actually turned out to be way worse then I first expected.</p>\n<p>My next thought was to make a copy of the underlying <code>Document</code> and update this copy on a background thread and once completed, apply the copy to the text area itself.</p>\n<p>This did work.  But, interestingly, it raised a copy of points.</p>\n<ol>\n<li>Pulling the text from the clipboard is relatively fast (in may testing 0.529 milliseconds)</li>\n<li>Inserting the text into the document is relatively fast (in my testing 0.608s)</li>\n<li>Updating the view with the text is also slow (~1-2s)</li>\n</ol>\n<p>Take into account that it's taken rough 1-2s before the view is even been updated and we're running into the 3-4s mark.  Also add in the overhead of creating the <code>SwingWorker</code> and it's own internal management of sync back to the Event Dispatching Thread (in that case you might need to do some more testing and decide at what threshold it's worth spinning up the <code>SwingWorker</code> for)</p>\n<h2>Runnable example</h2>\n<p><strong>!! Cavet:</strong> This just a demonstration of the core concepts, there is so much more that really needs to be taken into consideration, for example:</p>\n<ul>\n<li>Better error handling</li>\n<li>Investigation into the desired threshold when it would be justifiable to spin up a <code>SwingWorker</code> to do this work.</li>\n<li>Pre-sampling of the clipboard - do things like, look at the supported <code>DataFlavor</code>s to determine if it contains plain text, maybe even look at the size of the content, if it's fast enough to do so.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eCLZZ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eCLZZ.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.RenderingHints;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Arc2D;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.util.concurrent.ExecutionException;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRootPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\nimport javax.swing.Timer;\nimport javax.swing.text.Document;\nimport javax.swing.text.PlainDocument;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new BorderLayout());\n            JTextArea ta = new JTextArea(20, 40);\n            Action action = ta.getActionMap().get(&quot;paste-from-clipboard&quot;);\n            ta.getActionMap().put(&quot;paste-from-clipboard&quot;, new BackgroundPasteAction());\n            add(new JScrollPane(ta));\n        }\n    }\n\n    public class BackgroundPasteAction extends AbstractAction {\n        public BackgroundPasteAction() {\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            Object source = e.getSource();\n            if (!(source instanceof JTextArea)) {\n                return;\n            }\n            JTextArea textArea = (JTextArea) source;\n\n            JRootPane rootPane = SwingUtilities.getRootPane(textArea);\n            Component oldGlassPane = rootPane.getGlassPane();\n            WaitOverlay overlay = new WaitOverlay();\n            rootPane.setGlassPane(overlay);\n            overlay.start();\n            overlay.setVisible(true);\n\n            setEnabled(false);\n            PasteWorker worker = new PasteWorker(textArea);\n            StopWatch sw = new StopWatch().start();\n            worker.addPropertyChangeListener(new SwingWorkerAdapter&lt;PasteWorker&gt;() {\n                @Override\n                protected void workerDone(PasteWorker worker) {\n                    try {\n                        textArea.setDocument(worker.get());\n                        textArea.setCaretPosition(worker.getNewCaretPosition());\n                    } catch (InterruptedException | ExecutionException ex) {\n                        ex.printStackTrace();\n                    }\n                    setEnabled(true);\n\n                    overlay.stop();\n                    overlay.setVisible(false);\n                    rootPane.setGlassPane(oldGlassPane);\n\n                    System.out.println(&quot;Job took: &quot; + sw.stop());\n                }\n            });\n            worker.execute();\n        }\n    }\n\n    // This makes it easier to deal with the PropertyChangeListener support of\n    // SwingWorker and allows you to focus on only the states you are interested\n    // in\n    public class SwingWorkerAdapter&lt;W extends SwingWorker&gt; implements PropertyChangeListener {\n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n            W worker = (W) evt.getSource();\n            switch (evt.getPropertyName()) {\n                case &quot;state&quot;:\n                    workerStateChanged(worker);\n                    switch (worker.getState()) {\n                        case STARTED:\n                            workerStarted(worker);\n                            break;\n                        case DONE:\n                            workerDone(worker);\n                            break;\n                    }\n                    break;\n                case &quot;progress&quot;:\n                    workerProgressUpdated(worker);\n                    break;\n            }\n        }\n\n        protected void workerProgressUpdated(W worker) {\n        }\n\n        protected void workerStateChanged(W worker) {\n        }\n\n        protected void workerStarted(W worker) {\n        }\n\n        protected void workerDone(W worker) {\n        }\n\n    }\n\n    // The SwingWorker which actually does the heavy lifting.  It takes the text\n    // from the clipboard and inserts into a copy of the Document\n    public class PasteWorker extends SwingWorker&lt;Document, Void&gt; {\n\n        private JTextArea textArea;\n        private int initialCaretPosition;\n        private int newCaretPosition;\n\n        public PasteWorker(JTextArea textArea) {\n            this.textArea = textArea;\n            this.initialCaretPosition = textArea.getCaretPosition();\n        }\n\n        public int getInitialCaretPosition() {\n            return initialCaretPosition;\n        }\n\n        public JTextArea getTextArea() {\n            return textArea;\n        }\n\n        public int getNewCaretPosition() {\n            return newCaretPosition;\n        }\n\n        @Override\n        protected Document doInBackground() throws Exception {\n            Document document = new PlainDocument();\n            document.insertString(0, textArea.getText(), null);\n\n            StopWatch sw = new StopWatch().start();\n\n            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n            String text = clipboard.getContents(null).getTransferData(DataFlavor.stringFlavor).toString();\n            Instant now = Instant.now();\n            System.out.println(&quot;Clipboard took: &quot; + sw.stop());\n\n            sw.start();\n\n            document.insertString(getInitialCaretPosition(), text, null);\n\n            System.out.println(&quot;Paste took: &quot; + sw.stop());\n\n            newCaretPosition = getInitialCaretPosition() + text.length();\n\n            return document;\n        }\n    }\n\n    // The actuall overlay view - used on the glass pane\n    public class WaitOverlay extends JPanel {\n        private WaitIndicator indicator = new WaitIndicator();\n\n        public WaitOverlay() {\n            setOpaque(false);\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(0, 4, 0, 4);\n            add(indicator, gbc);\n            add(new JLabel(&quot;Pasting...&quot;), gbc);\n        }\n\n        public void start() {\n            indicator.start();\n        }\n\n        public void stop() {\n            indicator.stop();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\n            g2d.setColor(getBackground());\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            g2d.dispose();\n        }\n    }\n\n    // An implementation of an animated &quot;wait&quot; indicator\n    public class WaitIndicator extends JPanel {\n        private double angle;\n        private double extent;\n\n        private double angleDelta = -1;\n        private double extentDelta = -5;\n\n        private boolean flip = false;\n\n        private Timer timer;\n\n        public WaitIndicator() {\n            setForeground(Color.BLACK);\n            timer = new Timer(10, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    angle += angleDelta;\n                    extent += extentDelta;\n                    if (Math.abs(extent) % 360.0 == 0) {\n                        angle = angle - extent;\n                        flip = !flip;\n                        if (flip) {\n                            extent = 360.0;\n                        } else {\n                            extent = 0.0;\n                        }\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        public void start() {\n            timer.start();\n        }\n\n        public void stop() {\n            timer.stop();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(25, 25);\n        }\n\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n\n            int width = getWidth();\n            int height = getHeight();\n            int size = Math.min(width, height);\n\n            int x = (getWidth() - size) / 2;\n            int y = (getHeight() - size) / 2;\n\n            Arc2D.Double arc = new Arc2D.Double(x + 2, y + 2, width - 4, height - 4, angle, extent, Arc2D.OPEN);\n            BasicStroke stroke = new BasicStroke(4, BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);\n            g2d.setStroke(stroke);\n            g2d.setColor(getForeground());\n            g2d.draw(arc);\n            g2d.dispose();\n        }\n\n    }\n\n    // Utility classed used for calculating the time difference between two\n    // points in time - it's just simpler then having a lot of duplicate\n    // code laying around\n    public class StopWatch {\n        private LocalDateTime startTime;\n        private Duration totalRunTime = Duration.ZERO;\n\n        public StopWatch start() {\n            totalRunTime = Duration.ZERO;\n            startTime = LocalDateTime.now();\n            return this;\n        }\n\n        public StopWatch stop() {\n            if (startTime == null) {\n                return this;\n            }\n            totalRunTime = Duration.between(startTime, LocalDateTime.now());\n            startTime = null;\n            return this;\n        }\n\n        public void reset() {\n            stop();\n            totalRunTime = Duration.ZERO;\n        }\n\n        public boolean isRunning() {\n            return startTime != null;\n        }\n\n        public Duration getDuration() {\n            Duration currentDuration = Duration.ZERO;\n            currentDuration = currentDuration.plus(totalRunTime);\n            if (isRunning()) {\n                Duration runTime = Duration.between(startTime, LocalDateTime.now());\n                currentDuration = currentDuration.plus(runTime);\n            }\n            return currentDuration;\n        }\n\n        @Override\n        public String toString() {\n            Duration duration = getDuration();\n            return String.format(&quot;%02d:%03d&quot;, duration.toSecondsPart(), duration.toMillisPart());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10542722,"reputation":218,"user_id":7768127,"accept_rate":83,"display_name":"Trevor"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76856243,"answer_count":1,"score":1,"last_activity_date":1691715806,"creation_date":1691040891,"question_id":76825125,"body_markdown":"Please help.\r\n\r\nI am unable to work out the right listener to react to paste events in the JTextArea component. What I am trying to get is once users press &quot;Control-V&quot; to paste very large text contents, my program should show a loading icon (ie waiting or busy time) through the non-opaque glass panel before the paste event is processed.\r\n\r\nWhen the paste is fully completed, ie all contents are placed in the text area, then the loading icon automatically stops showing.\r\n\r\nWhat I am having is the loading icon doesn&#39;t display until after the paste event has completed. That is not what I want.\r\n\r\nBelow is my test code in brevity.\r\n\r\n```\r\n    private void drawInputLeftPane(JComponent midpanel)\r\n    {\r\n        rawDocument = new JTextArea();\r\n        rawDocument.getDocument().addDocumentListener(new RawDocumentListener());\r\n\r\n        KeyStroke key = KeyStroke.getKeyStroke(KeyEvent.VK_V, Event.CTRL_MASK);\r\n        InputMap inputMap = rawDocument.getInputMap();\r\n        inputMap.put(key, &quot;myPaste&quot;);\r\n\r\n        rawDocument.getActionMap().put(&quot;myPaste&quot;, new ProxyAction());\r\n\t\t.\r\n\t\t.\r\n\t\t.\r\n\t\t\r\n        midpanel.add(scrollPane);\r\n    }\r\n```\r\n\t\r\n```\r\n    private JComponent addLoadingIcon()\r\n    {\r\n        JPanel p = new JPanel();\r\n\r\n        p.setOpaque(false);\r\n        p.setLayout(new GridBagLayout());\r\n        p.add(new JLabel(getFDImage(&quot;/images/loader.gif&quot;)));\r\n\r\n        return p;\r\n    }\r\n```\r\n\r\n```\r\n   private class ProxyAction extends AbstractAction\r\n    {\r\n        public ProxyAction()\r\n        {\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent evt)\r\n        {\r\n            System.out.println(&quot;Paste has happened...&quot;);\r\n\r\n            /* Adds invisible glass pane with loading icon displayed when enabled. */\r\n            JComponent glassPanel = addLoadingIcon();\r\n\r\n            /* Adds the glass pane to this container for frame */\r\n            setGlassPane(glassPanel);\r\n\r\n            glassPanel.setVisible(true);\r\n\r\n            try\r\n            {\r\n                String text = Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n                System.out.println(text);\r\n                rawDocument.setText(text);\r\n            }\r\n\r\n            catch (Exception exc)\r\n            {\r\n                exc.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    private class RawDocumentListener implements DocumentListener\r\n    {\r\n        @Override\r\n        public void insertUpdate(DocumentEvent evt)\r\n        {\r\n\t\t    JComponent glassPanel = this.getGlassPane()\r\n\t\t\tglassPanel.setVisible(false);\r\n     \t\t.\r\n\t    \t.\r\n\t\t    .\r\n        }\r\n\r\n        @Override\r\n        public void removeUpdate(DocumentEvent evt)\r\n        {\r\n    \t\t.\r\n\t    \t.\r\n\t\t    .        \r\n        }\r\n\r\n        @Override\r\n        public void changedUpdate(DocumentEvent evt)\r\n        {\r\n            // Nothing to do\r\n        }\r\n    }\r\n```\r\n\r\nWhat am I missing? My knowledge in Swing is pretty good, but not experienced enough yet. Anyone with an eagle eye is welcome to comment why my code is not working?\r\n","title":"How to listen and manipulate paste events in Java Swing?","body":"<p>Please help.</p>\n<p>I am unable to work out the right listener to react to paste events in the JTextArea component. What I am trying to get is once users press &quot;Control-V&quot; to paste very large text contents, my program should show a loading icon (ie waiting or busy time) through the non-opaque glass panel before the paste event is processed.</p>\n<p>When the paste is fully completed, ie all contents are placed in the text area, then the loading icon automatically stops showing.</p>\n<p>What I am having is the loading icon doesn't display until after the paste event has completed. That is not what I want.</p>\n<p>Below is my test code in brevity.</p>\n<pre><code>    private void drawInputLeftPane(JComponent midpanel)\n    {\n        rawDocument = new JTextArea();\n        rawDocument.getDocument().addDocumentListener(new RawDocumentListener());\n\n        KeyStroke key = KeyStroke.getKeyStroke(KeyEvent.VK_V, Event.CTRL_MASK);\n        InputMap inputMap = rawDocument.getInputMap();\n        inputMap.put(key, &quot;myPaste&quot;);\n\n        rawDocument.getActionMap().put(&quot;myPaste&quot;, new ProxyAction());\n        .\n        .\n        .\n        \n        midpanel.add(scrollPane);\n    }\n</code></pre>\n<pre><code>    private JComponent addLoadingIcon()\n    {\n        JPanel p = new JPanel();\n\n        p.setOpaque(false);\n        p.setLayout(new GridBagLayout());\n        p.add(new JLabel(getFDImage(&quot;/images/loader.gif&quot;)));\n\n        return p;\n    }\n</code></pre>\n<pre><code>   private class ProxyAction extends AbstractAction\n    {\n        public ProxyAction()\n        {\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent evt)\n        {\n            System.out.println(&quot;Paste has happened...&quot;);\n\n            /* Adds invisible glass pane with loading icon displayed when enabled. */\n            JComponent glassPanel = addLoadingIcon();\n\n            /* Adds the glass pane to this container for frame */\n            setGlassPane(glassPanel);\n\n            glassPanel.setVisible(true);\n\n            try\n            {\n                String text = Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n                System.out.println(text);\n                rawDocument.setText(text);\n            }\n\n            catch (Exception exc)\n            {\n                exc.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<pre><code>    private class RawDocumentListener implements DocumentListener\n    {\n        @Override\n        public void insertUpdate(DocumentEvent evt)\n        {\n            JComponent glassPanel = this.getGlassPane()\n            glassPanel.setVisible(false);\n            .\n            .\n            .\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent evt)\n        {\n            .\n            .\n            .        \n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent evt)\n        {\n            // Nothing to do\n        }\n    }\n</code></pre>\n<p>What am I missing? My knowledge in Swing is pretty good, but not experienced enough yet. Anyone with an eagle eye is welcome to comment why my code is not working?</p>\n"},{"tags":["java","hudson","jakarta-mail","jenkins"],"comments":[{"owner":{"account_id":19628773,"reputation":100,"user_id":14373822,"display_name":"John Sohn"},"score":0,"creation_date":1631584010,"post_id":6784463,"comment_id":122255456,"body_markdown":"I don;t know if this helps but I have had this happen in DBeaver and just had to fix it, which apparently also uses java as its nightmare of choice.  There were 3 options in driver configuration: Require SSL, Verify Server Certificate, Allow Public Key retrieval. When I uncheck Verify Server Certificate the connection succeeds, prior it was giving this same error for any but a root connection to mysql 8.0.","body":"I don;t know if this helps but I have had this happen in DBeaver and just had to fix it, which apparently also uses java as its nightmare of choice.  There were 3 options in driver configuration: Require SSL, Verify Server Certificate, Allow Public Key retrieval. When I uncheck Verify Server Certificate the connection succeeds, prior it was giving this same error for any but a root connection to mysql 8.0."}],"answers":[{"comments":[{"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"score":1,"creation_date":1311353917,"post_id":6788682,"comment_id":8063142,"body_markdown":"Thanks EJP, I saw your post [here](http://stackoverflow.com/questions/6633164/got-java-security-invalidalgorithmparameterexception-the-trustanchors-parameter) but I wasn&#39;t sure how to verify the truststore is there.  Also I brought up my server.xml file but I wasn&#39;t sure how to verify the truststore is in place.  Do I just check the keystoreFile=&quot;conf/.keystore&quot; pref (keystoreFile wasn&#39;t present in that file)?","body":"Thanks EJP, I saw your post <a href=\"http://stackoverflow.com/questions/6633164/got-java-security-invalidalgorithmparameterexception-the-trustanchors-parameter\">here</a> but I wasn&#39;t sure how to verify the truststore is there.  Also I brought up my server.xml file but I wasn&#39;t sure how to verify the truststore is in place.  Do I just check the keystoreFile=&quot;conf/.keystore&quot; pref (keystoreFile wasn&#39;t present in that file)?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1311501771,"post_id":6788682,"comment_id":8081698,"body_markdown":"@Bubbleware Technology The error will stop happening when you get it right. That&#39;s your verification. You need to understand what the current directory is when executing Tomcat if you&#39;re going to specify relative paths to the truststore. I can&#39;t make head or tail of your last sentence.","body":"@Bubbleware Technology The error will stop happening when you get it right. That&#39;s your verification. You need to understand what the current directory is when executing Tomcat if you&#39;re going to specify relative paths to the truststore. I can&#39;t make head or tail of your last sentence."},{"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"score":0,"creation_date":1311811235,"post_id":6788682,"comment_id":8148585,"body_markdown":"Ok I think I follow your statement there.  What I did was first search for a .jks file (which I couldn&#39;t find one).  Then I created one with `keytool -genkey -alias mydomain -keyalg RSA -keystore keystore.jks -keysize 2048` .  Then I added this to JAVA_OPTS variable in catalina.sh with the command `-Djavax.net.ssl.keyStore=/root/keystore.jks`  Unfortunately, I still get the same trustAnchors error.","body":"Ok I think I follow your statement there.  What I did was first search for a .jks file (which I couldn&#39;t find one).  Then I created one with <code>keytool -genkey -alias mydomain -keyalg RSA -keystore keystore.jks -keysize 2048</code> .  Then I added this to JAVA_OPTS variable in catalina.sh with the command <code>-Djavax.net.ssl.keyStore=&#47;root&#47;keystore.jks</code>  Unfortunately, I still get the same trustAnchors error."},{"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"score":0,"creation_date":1311811581,"post_id":6788682,"comment_id":8148648,"body_markdown":"I tried running the command `println(System.getProperty(&quot;javax.net.ssl.trustStore&quot;));` via Jenkins Script Console and I get null.  I tried setting it via the script console with `System.setProperty(&quot;javax.net.ssl.trustStore&quot;, /root/keystore.jks);`.  I no longer get null when I run getProperty on the trustStore but I&#39;m pretty sure this is not the correct way to set this as I still get that truststore error testing my e-mail.  Any ideas what I&#39;m doing wrong?","body":"I tried running the command <code>println(System.getProperty(&quot;javax.net.ssl.trustStore&quot;));</code> via Jenkins Script Console and I get null.  I tried setting it via the script console with <code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &#47;root&#47;keystore.jks);</code>.  I no longer get null when I run getProperty on the trustStore but I&#39;m pretty sure this is not the correct way to set this as I still get that truststore error testing my e-mail.  Any ideas what I&#39;m doing wrong?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1311851103,"post_id":6788682,"comment_id":8155717,"body_markdown":"@Bubbleware Technology the keystore is for keys, the truststore is for trusted certificates. The trust-anchors message refers to the truststore, not the keystore, so setting a keystore won&#39;t affect it. The correct way to set the truststore for Tomcat is either via the -D option as you did for the truststore, or possibly via the Connector attributes in server.xml, if it has truststore-type attributes.","body":"@Bubbleware Technology the keystore is for keys, the truststore is for trusted certificates. The trust-anchors message refers to the truststore, not the keystore, so setting a keystore won&#39;t affect it. The correct way to set the truststore for Tomcat is either via the -D option as you did for the truststore, or possibly via the Connector attributes in server.xml, if it has truststore-type attributes."},{"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"score":1,"creation_date":1311999088,"post_id":6788682,"comment_id":8188736,"body_markdown":"I follow what your saying and I don&#39;t know how I missed that distinction between keystore and truststore.  With that in mind, I tried to generate a truststore with the command `keytool -import -file CA.cer -keystore truststore` .  I dont know exactly where that generated the truststore so I ran locate and checked.  I then added this truststore to my Tomcat in catalina.sh under JAVA_OPTS with the command `-Djavax.net.ssl.trustStore=/opt/downloads/jdk1.6.0_21/sample/jmx/jmx-scandir/truststore`  .  I restarted my servers and I still get the truststore error.  Am i missing something?","body":"I follow what your saying and I don&#39;t know how I missed that distinction between keystore and truststore.  With that in mind, I tried to generate a truststore with the command <code>keytool -import -file CA.cer -keystore truststore</code> .  I dont know exactly where that generated the truststore so I ran locate and checked.  I then added this truststore to my Tomcat in catalina.sh under JAVA_OPTS with the command <code>-Djavax.net.ssl.trustStore=&#47;opt&#47;downloads&#47;jdk1.6.0_21&#47;sample&zwnj;&#8203;&#47;jmx&#47;jmx-scandir&#47;tru&zwnj;&#8203;ststore</code>  .  I restarted my servers and I still get the truststore error.  Am i missing something?"},{"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"score":3,"creation_date":1316970958,"post_id":6788682,"comment_id":9145898,"body_markdown":"The answer was with how I was importing it.  I seemed to have missed a crucial step.\n\nSee [Java Error InvalidAlgorithmParameterException][1]\n\n\n  [1]: http://jyotirbhandari.blogspot.com/2011/09/java-error-invalidalgorithmparameterexc.html","body":"The answer was with how I was importing it.  I seemed to have missed a crucial step.  See [Java Error InvalidAlgorithmParameterException][1]     [1]: <a href=\"http://jyotirbhandari.blogspot.com/2011/09/java-error-invalidalgorithmparameterexc.html\" rel=\"nofollow noreferrer\">jyotirbhandari.blogspot.com/2011/09/&hellip;</a>"},{"owner":{"account_id":56162,"reputation":18871,"user_id":168212,"accept_rate":79,"display_name":"SingleShot"},"score":2,"creation_date":1329858193,"post_id":6788682,"comment_id":11855858,"body_markdown":"Confirmed this answer is correct. I was getting the error under Tomcat. I had my truststore in `${CATALINA_HOME}\\conf` but `CATALINA_HOME` was not getting set so Tomcat was looking under `\\conf` for the truststore.","body":"Confirmed this answer is correct. I was getting the error under Tomcat. I had my truststore in <code>${CATALINA_HOME}\\conf</code> but <code>CATALINA_HOME</code> was not getting set so Tomcat was looking under <code>\\conf</code> for the truststore."},{"owner":{"account_id":49616,"reputation":4025,"user_id":147806,"display_name":"L&#225;szl&#243; van den Hoek"},"score":0,"creation_date":1373877661,"post_id":6788682,"comment_id":25702967,"body_markdown":"This error also occurs when the keystore exists but can not be accessed for some other reason, for example when the user that Tomcat runs as does not have access rights to the folder of the keystore.","body":"This error also occurs when the keystore exists but can not be accessed for some other reason, for example when the user that Tomcat runs as does not have access rights to the folder of the keystore."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1398042075,"post_id":6788682,"comment_id":35468182,"body_markdown":"@BubblewareTechnology No, the error was in the filename, not in how you imported the certificate into the file. Your blog isn&#39;t correct. You also shouldn&#39;t be recommending modifying the JRE$/ cacerts file. It will change next Java upgrade. You need a process that copies it, adds your own certificate to the copy, and uses the copy as the truststore. Repeat every Java upgrade. And you don&#39;t need to tell Java about its own truststore at all, only about your own, if it&#39;s different.","body":"@BubblewareTechnology No, the error was in the filename, not in how you imported the certificate into the file. Your blog isn&#39;t correct. You also shouldn&#39;t be recommending modifying the JRE$/ cacerts file. It will change next Java upgrade. You need a process that copies it, adds your own certificate to the copy, and uses the copy as the truststore. Repeat every Java upgrade. And you don&#39;t need to tell Java about its own truststore at all, only about your own, if it&#39;s different."},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1443201175,"post_id":6788682,"comment_id":53413498,"body_markdown":"@BubblewareTechnology thanks that `openssl s_client -connect repo1.maven.org:443 &gt; repo1_maven_org.cert` and `$JAVA_HOME/bin/keytool -import -alias repo1.maven.org -keystore $JAVA_HOME/jre/lib/security/cacerts -file repo1_maven_org.cert` got it fixed, didn&#39;t even need `-Djavax.net.ssl.trustStore=$JAVA_HOME/jre/lib/security/cacerts`\n`-Djavax.net.ssl.trustStorePassword=password`. made my problem of the week go away I am happy :). I did not suspect the truststore btw (because didnt see the msg until https://ant.apache.org/ivy/ivyde/history/latest-milestone/console.html), I should have.","body":"@BubblewareTechnology thanks that <code>openssl s_client -connect repo1.maven.org:443 &gt; repo1_maven_org.cert</code> and <code>$JAVA_HOME&#47;bin&#47;keytool -import -alias repo1.maven.org -keystore $JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts -file repo1_maven_org.cert</code> got it fixed, didn&#39;t even need <code>-Djavax.net.ssl.trustStore=$JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacer&zwnj;&#8203;ts</code> <code>-Djavax.net.ssl.trustStorePassword=password</code>. made my problem of the week go away I am happy :). I did not suspect the truststore btw (because didnt see the msg until <a href=\"https://ant.apache.org/ivy/ivyde/history/latest-milestone/console.html\" rel=\"nofollow noreferrer\">ant.apache.org/ivy/ivyde/history/latest-milestone/console.ht&zwnj;&#8203;ml</a>), I should have."},{"owner":{"account_id":2706764,"reputation":798,"user_id":2591541,"accept_rate":60,"display_name":"Alexander Tronchin-James"},"score":0,"creation_date":1471370867,"post_id":6788682,"comment_id":65316104,"body_markdown":"In my case, I had keystore and truststore files external to anything managed by keytool, and needed simply to initialize my java/scala environment with a classpath that included those files. So my shell init looks like `scala -classpath path/to/my.jar:path/to/cert/directory`.","body":"In my case, I had keystore and truststore files external to anything managed by keytool, and needed simply to initialize my java/scala environment with a classpath that included those files. So my shell init looks like <code>scala -classpath path&#47;to&#47;my.jar:path&#47;to&#47;cert&#47;directory</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1476353326,"post_id":6788682,"comment_id":67312954,"body_markdown":"@AlexanderTronchin-James These files are not located via the CLASSPATH.","body":"@AlexanderTronchin-James These files are not located via the CLASSPATH."},{"owner":{"account_id":76640,"reputation":3041,"user_id":219241,"accept_rate":33,"display_name":"Alan Franzoni"},"score":7,"creation_date":1503396724,"post_id":6788682,"comment_id":78587067,"body_markdown":"I&#39;ll add a twist: even when the truststore exists, is accessible, is in the right format, if it is COMPLETELY EMPTY, that&#39;s the error you can get with various libraries (including Apache HttpClient).","body":"I&#39;ll add a twist: even when the truststore exists, is accessible, is in the right format, if it is COMPLETELY EMPTY, that&#39;s the error you can get with various libraries (including Apache HttpClient)."},{"owner":{"account_id":3925274,"reputation":481,"user_id":3246004,"accept_rate":11,"display_name":"Nathan W"},"score":1,"creation_date":1525997105,"post_id":6788682,"comment_id":87582691,"body_markdown":"FYI, in my case, it&#39;s the store password that was incorrect.","body":"FYI, in my case, it&#39;s the store password that was incorrect."},{"owner":{"account_id":986973,"reputation":2101,"user_id":1005235,"accept_rate":83,"display_name":"light_303"},"score":12,"creation_date":1542101880,"post_id":6788682,"comment_id":93437865,"body_markdown":"btw this happens e.g. when switching from OracleJDK8 to OpenJDK8 since OpenJDK comes with an empty trust store. Copying the one from OpenJDK11 fixes the problem","body":"btw this happens e.g. when switching from OracleJDK8 to OpenJDK8 since OpenJDK comes with an empty trust store. Copying the one from OpenJDK11 fixes the problem"},{"owner":{"account_id":7783434,"reputation":556,"user_id":5889129,"display_name":"Daryl Banttari"},"score":1,"creation_date":1543535782,"post_id":6788682,"comment_id":93965192,"body_markdown":"Can also happen if you run Oracle JDK8 but set your JAVA_HOME to OpenJDK8.","body":"Can also happen if you run Oracle JDK8 but set your JAVA_HOME to OpenJDK8."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1559301797,"post_id":6788682,"comment_id":99386877,"body_markdown":"This can also happen when using a PKCS12 key store and no password (= `null`) is provided when the store is loaded, see [source](https://github.com/openjdk/jdk/blob/f99414c0526c44e48d6b16494cb16b50e30b6317/src/java.base/share/classes/sun/security/pkcs12/PKCS12KeyStore.java#L2034)","body":"This can also happen when using a PKCS12 key store and no password (= <code>null</code>) is provided when the store is loaded, see <a href=\"https://github.com/openjdk/jdk/blob/f99414c0526c44e48d6b16494cb16b50e30b6317/src/java.base/share/classes/sun/security/pkcs12/PKCS12KeyStore.java#L2034\" rel=\"nofollow noreferrer\">source</a>"},{"owner":{"account_id":3319967,"reputation":1644,"user_id":2791390,"display_name":"DLight"},"score":0,"creation_date":1587046108,"post_id":6788682,"comment_id":108359533,"body_markdown":"I had to provide `-Djavax.net.ssl.trustStorePassword=changeit`. I thought we didn&#39;t have to provide it if it&#39;s the default password?","body":"I had to provide <code>-Djavax.net.ssl.trustStorePassword=changeit</code>. I thought we didn&#39;t have to provide it if it&#39;s the default password?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1598441804,"post_id":6788682,"comment_id":112458830,"body_markdown":"@DLight It has nothing to do with the default password. You don&#39;t have to provide it at all unless you want the truststore verified.","body":"@DLight It has nothing to do with the default password. You don&#39;t have to provide it at all unless you want the truststore verified."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1598441833,"post_id":6788682,"comment_id":112458848,"body_markdown":"@Marcono1234 That only applies to `PrivateKeyEntry`, which means it isn&#39;t a truststore at all but a keystore.","body":"@Marcono1234 That only applies to <code>PrivateKeyEntry</code>, which means it isn&#39;t a truststore at all but a keystore."},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1600205239,"post_id":6788682,"comment_id":113013444,"body_markdown":"For me the issue was in a different answer, the storetype must be JKS for a ca/server truststore","body":"For me the issue was in a different answer, the storetype must be JKS for a ca/server truststore"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1600306326,"post_id":6788682,"comment_id":113048286,"body_markdown":"@Kukeltje That comes under &#39;couldn&#39;t be opened&#39;.","body":"@Kukeltje That comes under &#39;couldn&#39;t be opened&#39;."},{"owner":{"account_id":418796,"reputation":314,"user_id":795576,"accept_rate":65,"display_name":"Fayaz"},"score":0,"creation_date":1623921977,"post_id":6788682,"comment_id":120217180,"body_markdown":"@light_303, I am using openjdk 8 and have generated certificate using openjdk11, but still facing the same issue.","body":"@light_303, I am using openjdk 8 and have generated certificate using openjdk11, but still facing the same issue."},{"owner":{"account_id":986973,"reputation":2101,"user_id":1005235,"accept_rate":83,"display_name":"light_303"},"score":0,"creation_date":1624881453,"post_id":6788682,"comment_id":120470060,"body_markdown":"@Fayaz you need to copy the trust-store file of OpenJDK11 - it does not matter how your certificates were created.","body":"@Fayaz you need to copy the trust-store file of OpenJDK11 - it does not matter how your certificates were created."},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1635865132,"post_id":6788682,"comment_id":123403128,"body_markdown":"How easy would it be if they put each separate use case in the list in a clear error message.","body":"How easy would it be if they put each separate use case in the list in a clear error message."},{"owner":{"account_id":7220618,"reputation":153,"user_id":5511303,"display_name":"Francois"},"score":0,"creation_date":1639417736,"post_id":6788682,"comment_id":124338323,"body_markdown":"@DavidGill comment helped me with empty *trustAnchors* issue : adding Djavax.net.ssl.trustStore &amp; Djavax.net.ssl.trustStorePassword solved the problem","body":"@DavidGill comment helped me with empty <i>trustAnchors</i> issue : adding Djavax.net.ssl.trustStore &amp; Djavax.net.ssl.trustStorePassword solved the problem"},{"owner":{"account_id":11406893,"reputation":3786,"user_id":8362098,"display_name":"Christoph B&#246;hme"},"score":1,"creation_date":1656595147,"post_id":6788682,"comment_id":128615081,"body_markdown":"You can set the system property javax.net.debug=fine to find out which truststore java tries to open.","body":"You can set the system property javax.net.debug=fine to find out which truststore java tries to open."},{"owner":{"account_id":206552,"reputation":584,"user_id":455916,"accept_rate":73,"display_name":"jambox"},"score":0,"creation_date":1689288493,"post_id":6788682,"comment_id":135196306,"body_markdown":"due to wrong/missing trustStorePassword...\n\n\nIt&#39;s really a crazy error for a bad password! Bad Java!","body":"due to wrong/missing trustStorePassword...   It&#39;s really a crazy error for a bad password! Bad Java!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691715842,"post_id":6788682,"comment_id":135532657,"body_markdown":"@GusCalca Please do not misrepresent your work as mine.","body":"@GusCalca Please do not misrepresent your work as mine."},{"owner":{"account_id":8211860,"reputation":113,"user_id":7914761,"display_name":"Gus Calca"},"score":0,"creation_date":1692891695,"post_id":6788682,"comment_id":135688617,"body_markdown":"@user207421 yes, no problem. That was a mistake from a couple years ago.","body":"@user207421 yes, no problem. That was a mistake from a couple years ago."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1696958237,"post_id":6788682,"comment_id":136218166,"body_markdown":"Yes, I faced the same error, and the password was empty.","body":"Yes, I faced the same error, and the password was empty."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701377259,"post_id":6788682,"comment_id":136771535,"body_markdown":"@GusCalca A mistake which I find incomprehensible and inexplicable.","body":"@GusCalca A mistake which I find incomprehensible and inexplicable."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":33,"down_vote_count":28,"up_vote_count":631,"is_accepted":true,"score":603,"last_activity_date":1691715747,"creation_date":1311330511,"answer_id":6788682,"question_id":6784463,"body_markdown":"This bizarre message means that the trust store you specified was:\r\n\r\n- empty,\r\n- not found, or\r\n- couldn&#39;t be opened, due for example to:\r\n  - wrong/missing `trustStorePassword`, or\r\n  - file access permissions.\r\n\r\nSee also @AdamPlumb&#39;s [answer below](https://stackoverflow.com/a/25188331/207421).","title":"Error - trustAnchors parameter must be non-empty","body":"<p>This bizarre message means that the trust store you specified was:</p>\n<ul>\n<li>empty,</li>\n<li>not found, or</li>\n<li>couldn't be opened, due for example to:\n<ul>\n<li>wrong/missing <code>trustStorePassword</code>, or</li>\n<li>file access permissions.</li>\n</ul>\n</li>\n</ul>\n<p>See also @AdamPlumb's <a href=\"https://stackoverflow.com/a/25188331/207421\">answer below</a>.</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":1,"creation_date":1340158152,"post_id":10915692,"comment_id":14556763,"body_markdown":"My &quot;ln&quot; command (on OSX 10.6.8) doesn&#39;t have an &quot;h&quot; option; what is it meant to do?","body":"My &quot;ln&quot; command (on OSX 10.6.8) doesn&#39;t have an &quot;h&quot; option; what is it meant to do?"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":1,"creation_date":1340158843,"post_id":10915692,"comment_id":14556899,"body_markdown":"Ah, I had two &quot;ln&quot; commands, one in /usr/bin (the default) and one in /bin; the latter had an &quot;h&quot; option and worked.","body":"Ah, I had two &quot;ln&quot; commands, one in /usr/bin (the default) and one in /bin; the latter had an &quot;h&quot; option and worked."},{"owner":{"account_id":347701,"reputation":1017,"user_id":681986,"accept_rate":100,"display_name":"A21z"},"score":0,"creation_date":1424390097,"post_id":10915692,"comment_id":45541449,"body_markdown":"I fixed my broken 1.6 installation linking to cacerts from the system 1.8 installation with this ln technique. Thanks!","body":"I fixed my broken 1.6 installation linking to cacerts from the system 1.8 installation with this ln technique. Thanks!"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1434643709,"post_id":10915692,"comment_id":49878013,"body_markdown":"For future readers: it seems that you also need the other 3 files that are in the `security` folder (`blacklisted.certs`, `local_policy.jar`, and `US_export_policy.jar`) for Java to be happy.","body":"For future readers: it seems that you also need the other 3 files that are in the <code>security</code> folder (<code>blacklisted.certs</code>, <code>local_policy.jar</code>, and <code>US_export_policy.jar</code>) for Java to be happy."},{"owner":{"account_id":4746587,"reputation":8622,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"score":0,"creation_date":1540395382,"post_id":10915692,"comment_id":92852199,"body_markdown":"@Peter Kriens, why linked to `cacerts` under `jre` directory?","body":"@Peter Kriens, why linked to <code>cacerts</code> under <code>jre</code> directory?"},{"owner":{"account_id":1412747,"reputation":655,"user_id":1339035,"display_name":"RickB"},"score":0,"creation_date":1548212507,"post_id":10915692,"comment_id":95458414,"body_markdown":"So in the case of Java 1.6, the path where you want to create the links may be different. In my case, I&#39;ve installed it manually from a compressed ZIP, so my installation point was actually this: \n`/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home`\nand the folder where I&#39;ve created the symbolic links to `cacerts` and `blacklisted.certs` files was this `lib/security`. After providing these links, the issue is corrected.","body":"So in the case of Java 1.6, the path where you want to create the links may be different. In my case, I&#39;ve installed it manually from a compressed ZIP, so my installation point was actually this:  <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;1.6.0.jdk&#47;Contents&#47;Home</code> and the folder where I&#39;ve created the symbolic links to <code>cacerts</code> and <code>blacklisted.certs</code> files was this <code>lib&#47;security</code>. After providing these links, the issue is corrected."}],"tags":[],"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"comment_count":6,"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1532255888,"creation_date":1338990977,"answer_id":10915692,"question_id":6784463,"body_markdown":"I ran into this solution from blog post *[Fixing the trustAnchors problem when running OpenJDK 7 on OS X][1]*:\r\n\r\nFixing the trustAnchors problem when running OpenJDK 7 on OS&amp;nbsp;X. If you&#39;re running OpenJDK 7 on OS&amp;nbsp;X and have seen this exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors\r\n        parameter must be non-empty\r\n\r\nThere&#39;s a simple fix. Just link in the same cacerts file that Apple’s JDK 1.6 uses:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    cd $(/usr/libexec/java_home -v 1.7)/jre/lib/security\r\n    ln -fsh /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts\r\n\r\nYou need to do this for every OpenJDK version you have installed. Just change `-v 1.7` to the version you want to fix. Run `/usr/libexec/java_home -V` to see all the JREs and JDKs you have installed.\r\n\r\nPerhaps the OpenJDK guys could add this to their install scripts.\r\n\r\n  [1]: http://architecturalatrocities.com/post/19073788679/fixing-the-trustanchors-problem-when-running-openjdk-7\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran into this solution from blog post <em><a href=\"http://architecturalatrocities.com/post/19073788679/fixing-the-trustanchors-problem-when-running-openjdk-7\" rel=\"noreferrer\">Fixing the trustAnchors problem when running OpenJDK 7 on OS X</a></em>:</p>\n\n<p>Fixing the trustAnchors problem when running OpenJDK 7 on OS&nbsp;X. If you're running OpenJDK 7 on OS&nbsp;X and have seen this exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors\n    parameter must be non-empty\n</code></pre>\n\n<p>There's a simple fix. Just link in the same cacerts file that Apple’s JDK 1.6 uses:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cd $(/usr/libexec/java_home -v 1.7)/jre/lib/security\nln -fsh /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts\n</code></pre>\n\n<p>You need to do this for every OpenJDK version you have installed. Just change <code>-v 1.7</code> to the version you want to fix. Run <code>/usr/libexec/java_home -V</code> to see all the JREs and JDKs you have installed.</p>\n\n<p>Perhaps the OpenJDK guys could add this to their install scripts.</p>\n"},{"comments":[{"owner":{"account_id":88347,"reputation":824,"user_id":244418,"accept_rate":85,"display_name":"Portablejim"},"score":56,"creation_date":1423119269,"post_id":15409993,"comment_id":45021258,"body_markdown":"I found I needed to run `update-ca-certificates -f` manually, to populate the cacerts file","body":"I found I needed to run <code>update-ca-certificates -f</code> manually, to populate the cacerts file"},{"owner":{"account_id":36185,"reputation":26538,"user_id":103081,"accept_rate":89,"display_name":"Paul"},"score":4,"creation_date":1427793692,"post_id":15409993,"comment_id":46912997,"body_markdown":"@Portablejim Thanks.  Your comment solved the first issue I hit building Apache Spark on Ubuntu 15.04beta.","body":"@Portablejim Thanks.  Your comment solved the first issue I hit building Apache Spark on Ubuntu 15.04beta."},{"owner":{"account_id":2029084,"reputation":1968,"user_id":1813326,"accept_rate":56,"display_name":"David Berg"},"score":1,"creation_date":1444055410,"post_id":15409993,"comment_id":53726962,"body_markdown":"Thanks you  @Portablejim, your comment worked for me on Ubuntu 15.04.","body":"Thanks you  @Portablejim, your comment worked for me on Ubuntu 15.04."},{"owner":{"account_id":6051935,"reputation":327,"user_id":5497749,"display_name":"Vijit"},"score":0,"creation_date":1478245383,"post_id":15409993,"comment_id":68084197,"body_markdown":"Thanks. This is fixed my problem with PhpStrom + patched JDK. I wrote this key into  &quot;phpstorm64.vmoptions&quot; file.","body":"Thanks. This is fixed my problem with PhpStrom + patched JDK. I wrote this key into  &quot;phpstorm64.vmoptions&quot; file."},{"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"score":0,"creation_date":1545908924,"post_id":15409993,"comment_id":94726730,"body_markdown":"Not working for me in ubuntu 18.04 and JDK is 1.8.0_62","body":"Not working for me in ubuntu 18.04 and JDK is 1.8.0_62"},{"owner":{"account_id":3421651,"reputation":418,"user_id":2869021,"display_name":"Marcel Grolms"},"score":0,"creation_date":1591292312,"post_id":15409993,"comment_id":110008156,"body_markdown":"This solution worked also for me running a Bitbucket Server on a Hetzner System with debian. I used this line to force java to run with the trustStore \n  \n  \n`export ES_JAVA_OPTS=-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts`","body":"This solution worked also for me running a Bitbucket Server on a Hetzner System with debian. I used this line to force java to run with the trustStore        <code>export ES_JAVA_OPTS=-Djavax.net.ssl.trustStore=&#47;etc&#47;ssl&#47;certs&#47;java&#47;&zwnj;&#8203;cacerts</code>"},{"owner":{"account_id":4221739,"reputation":1194,"user_id":3456359,"accept_rate":86,"display_name":"jamey graham"},"score":0,"creation_date":1620125485,"post_id":15409993,"comment_id":119102440,"body_markdown":"thank you - i had no idea and didn&#39;t even consider that ubuntu ca-certificates utils would also create a java JKS bundle","body":"thank you - i had no idea and didn&#39;t even consider that ubuntu ca-certificates utils would also create a java JKS bundle"}],"tags":[],"owner":{"account_id":2492738,"reputation":481,"user_id":2169897,"display_name":"yvesr"},"comment_count":7,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1532255970,"creation_date":1363265987,"answer_id":15409993,"question_id":6784463,"body_markdown":"In [Ubuntu&amp;nbsp;12.10][1] (Quantal Quetzal) or later, the certificates are held in the [ca-certificates-java][2] package. Using `-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts` will pick them up regardless of what JDK you&#39;re using.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_12.10_.28Quantal_Quetzal.29\r\n  [2]: http://packages.ubuntu.com/quantal/all/ca-certificates-java\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In <a href=\"http://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_12.10_.28Quantal_Quetzal.29\" rel=\"noreferrer\">Ubuntu&nbsp;12.10</a> (Quantal Quetzal) or later, the certificates are held in the <a href=\"http://packages.ubuntu.com/quantal/all/ca-certificates-java\" rel=\"noreferrer\">ca-certificates-java</a> package. Using <code>-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts</code> will pick them up regardless of what JDK you're using.</p>\n"},{"comments":[{"owner":{"account_id":102842,"reputation":1135,"user_id":275800,"accept_rate":80,"display_name":"pm_labs"},"score":0,"creation_date":1410260725,"post_id":19680689,"comment_id":40250786,"body_markdown":"I encountered this with Java 6 used by Grails on OSX. I also had Java 7 from Oracle installed and also upgraded to Mavericks. Re-installing Java 6 from Apple website also fixed the issue for me.","body":"I encountered this with Java 6 used by Grails on OSX. I also had Java 7 from Oracle installed and also upgraded to Mavericks. Re-installing Java 6 from Apple website also fixed the issue for me."},{"owner":{"account_id":74565,"reputation":2433,"user_id":214185,"accept_rate":33,"display_name":"Ben Hutchison"},"score":0,"creation_date":1434520736,"post_id":19680689,"comment_id":49807242,"body_markdown":"Ran into this when installing open jdk 6 onto an ubuntu cloud box. Nice to see a familiar face, BTW","body":"Ran into this when installing open jdk 6 onto an ubuntu cloud box. Nice to see a familiar face, BTW"}],"tags":[],"owner":{"account_id":1478880,"reputation":814,"user_id":1388643,"display_name":"KiwiMartin"},"comment_count":2,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1532256061,"creation_date":1383131667,"answer_id":19680689,"question_id":6784463,"body_markdown":"I ran into this exact problem on OS X, using JDK 1.7, after upgrading to [OS&amp;nbsp;X v10.9][1] (Mavericks). The fix that worked for me was to simply reinstall the Apple version of Java, available at http://support.apple.com/kb/DL1572.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OS_X_Mavericks\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran into this exact problem on OS X, using JDK 1.7, after upgrading to <a href=\"http://en.wikipedia.org/wiki/OS_X_Mavericks\" rel=\"nofollow noreferrer\">OS&nbsp;X v10.9</a> (Mavericks). The fix that worked for me was to simply reinstall the Apple version of Java, available at <a href=\"http://support.apple.com/kb/DL1572\" rel=\"nofollow noreferrer\">http://support.apple.com/kb/DL1572</a>.</p>\n"},{"comments":[{"owner":{"account_id":69848,"reputation":2134,"user_id":203036,"display_name":"praseodym"},"score":1,"creation_date":1386248095,"post_id":20005591,"comment_id":30463751,"body_markdown":"The command here tries to copy a directory to a file; makes no sense at all.","body":"The command here tries to copy a directory to a file; makes no sense at all."},{"owner":{"account_id":7890,"reputation":14621,"user_id":13892,"accept_rate":67,"display_name":"James A Wilson"},"score":0,"creation_date":1389644863,"post_id":20005591,"comment_id":31743467,"body_markdown":"I concur with the assessment of using a reverse solution. I found that jdk1.6 had a broken softlink /Library/Java/JavaVirtualMachines/1.6.0_33-b03-424.jdk/Contents/Home/lib/security/cacerts -&gt; /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts.  So I rm&#39;ed the broken soft link, then copied over the cacerts from the jdk1.7 installation.","body":"I concur with the assessment of using a reverse solution. I found that jdk1.6 had a broken softlink /Library/Java/JavaVirtualMachines/1.6.0_33-b03-424.jdk/Conte&zwnj;&#8203;nts/Home/lib/securit&zwnj;&#8203;y/cacerts -&gt; /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home&zwnj;&#8203;/lib/security/cacert&zwnj;&#8203;s.  So I rm&#39;ed the broken soft link, then copied over the cacerts from the jdk1.7 installation."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1441047386,"post_id":20005591,"comment_id":52511048,"body_markdown":"NOTE: when you are done you should be able to cat the cacerts file that you copied to validate the permissions.","body":"NOTE: when you are done you should be able to cat the cacerts file that you copied to validate the permissions."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1441047815,"post_id":20005591,"comment_id":52511275,"body_markdown":"Also, fixed the cp to go the right direction and added the umask for mkdir and cp.","body":"Also, fixed the cp to go the right direction and added the umask for mkdir and cp."}],"tags":[],"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1532256122,"creation_date":1384532256,"answer_id":20005591,"question_id":6784463,"body_markdown":"I also encountered this on OS X after updating OS&amp;nbsp;X v10.9 (Mavericks), when the old Java 6 was being used and tried to access an HTTPS URL. The fix was the inverse of Peter Kriens; I needed to copy the `cacerts` from the 1.7 space to the location linked by the 1.6 version:\r\n\r\n    (as root)\r\n    umask 022\r\n    mkdir -p /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\r\n    cp $(/usr/libexec/java_home -v 1.7)/jre/lib/security/cacerts \\\r\n        /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I also encountered this on OS X after updating OS&nbsp;X v10.9 (Mavericks), when the old Java 6 was being used and tried to access an HTTPS URL. The fix was the inverse of Peter Kriens; I needed to copy the <code>cacerts</code> from the 1.7 space to the location linked by the 1.6 version:</p>\n\n<pre><code>(as root)\numask 022\nmkdir -p /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\ncp $(/usr/libexec/java_home -v 1.7)/jre/lib/security/cacerts \\\n    /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"score":7,"creation_date":1425624401,"post_id":20847585,"comment_id":46047453,"body_markdown":"Ugh. Java 6 is many years past its end of public support, and is surely riddled with security holes. Apple makes it available for download so that older software that cannot be run with Java 7/8 can continue to execute, but it should not be used for making SSL connections to services on the public internet, such as 1. AWS, 2. Maven Central, 3. anything else.","body":"Ugh. Java 6 is many years past its end of public support, and is surely riddled with security holes. Apple makes it available for download so that older software that cannot be run with Java 7/8 can continue to execute, but it should not be used for making SSL connections to services on the public internet, such as 1. AWS, 2. Maven Central, 3. anything else."}],"tags":[],"owner":{"account_id":185081,"reputation":1397,"user_id":421563,"accept_rate":56,"display_name":"Freddy Boucher"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1532256182,"creation_date":1388437612,"answer_id":20847585,"question_id":6784463,"body_markdown":"I&#39;ve had lot of security issues after upgrading to [OS&amp;nbsp;X v10.9][1] (Mavericks):\r\n\r\n - SSL problem with Amazon AWS\r\n - Peer not authenticated with Maven and Eclipse\r\n - `trustAnchors` parameter must be non-empty\r\n\r\nI applied this Java update and it fixed all my issues: http://support.apple.com/kb/DL1572?viewlocale=en_US\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OS_X_Mavericks\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I've had lot of security issues after upgrading to <a href=\"http://en.wikipedia.org/wiki/OS_X_Mavericks\" rel=\"nofollow noreferrer\">OS&nbsp;X v10.9</a> (Mavericks):</p>\n\n<ul>\n<li>SSL problem with Amazon AWS</li>\n<li>Peer not authenticated with Maven and Eclipse</li>\n<li><code>trustAnchors</code> parameter must be non-empty</li>\n</ul>\n\n<p>I applied this Java update and it fixed all my issues: <a href=\"http://support.apple.com/kb/DL1572?viewlocale=en_US\" rel=\"nofollow noreferrer\">http://support.apple.com/kb/DL1572?viewlocale=en_US</a></p>\n"},{"comments":[{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1443200340,"post_id":25188331,"comment_id":53413081,"body_markdown":"well, I help you immortalizing solution to your edge-case gotcha. that&#39;s where it gets interesting.","body":"well, I help you immortalizing solution to your edge-case gotcha. that&#39;s where it gets interesting."},{"owner":{"account_id":5080160,"reputation":693,"user_id":4076508,"accept_rate":86,"display_name":"Kenco"},"score":2,"creation_date":1481017086,"post_id":25188331,"comment_id":69192732,"body_markdown":"This was exactly my problem. I was using Spring Boot 1.4.2.RELEASE, and had a hardware keystore and software truststore. I specified the provider and type for the keystore, but not the truststore. As a result, the wrong provider and type were used by the truststore. Specifying those (SUN and JKS) solved the issue.","body":"This was exactly my problem. I was using Spring Boot 1.4.2.RELEASE, and had a hardware keystore and software truststore. I specified the provider and type for the keystore, but not the truststore. As a result, the wrong provider and type were used by the truststore. Specifying those (SUN and JKS) solved the issue."},{"owner":{"account_id":4771971,"reputation":2376,"user_id":4770754,"accept_rate":98,"display_name":"tatsu"},"score":18,"creation_date":1517411003,"post_id":25188331,"comment_id":84085937,"body_markdown":"how exactly did you do this? (windows here)","body":"how exactly did you do this? (windows here)"},{"owner":{"account_id":51901,"reputation":12651,"user_id":155082,"accept_rate":69,"display_name":"Lothar"},"score":2,"creation_date":1527177404,"post_id":25188331,"comment_id":88039621,"body_markdown":"Run into this with my Android grandle today, i almost understand  what you say but you don&#39;t say how to solve it. Non helpable answer","body":"Run into this with my Android grandle today, i almost understand  what you say but you don&#39;t say how to solve it. Non helpable answer"},{"owner":{"account_id":216689,"reputation":1500,"user_id":7171967,"display_name":"James Render"},"score":1,"creation_date":1593681642,"post_id":25188331,"comment_id":110867399,"body_markdown":"in my case I had a trusttore generated by jdk 14 keytool, defaults to pkcs format, trying to connect to kafka cluster that is using a jks keystore.  I amend how I created the truststore to use switch `-storetype jks` and it resolved it","body":"in my case I had a trusttore generated by jdk 14 keytool, defaults to pkcs format, trying to connect to kafka cluster that is using a jks keystore.  I amend how I created the truststore to use switch <code>-storetype jks</code> and it resolved it"},{"owner":{"account_id":14286554,"reputation":83,"user_id":11464478,"display_name":"user185953"},"score":0,"creation_date":1698434118,"post_id":25188331,"comment_id":136409969,"body_markdown":"Yeah, default storetype in `keytool` changed with java9, causing my previously working solution to generate PKCS12 instead of required JKS.","body":"Yeah, default storetype in <code>keytool</code> changed with java9, causing my previously working solution to generate PKCS12 instead of required JKS."}],"tags":[],"owner":{"account_id":12333,"reputation":3758,"user_id":24208,"accept_rate":82,"display_name":"Adam Plumb"},"comment_count":6,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1584621034,"creation_date":1407431328,"answer_id":25188331,"question_id":6784463,"body_markdown":"EJP basically answered the question (and I realize this has an accepted answer), but I just dealt with this edge-case gotcha and wanted to immortalize my solution.\r\n\r\nI had the `InvalidAlgorithmParameterException` error on a hosted [Jira][1] server that I had previously set up for SSL-only access. The issue was that I had set up my keystore in the PKCS#12 format, but my truststore was in the JKS format.\r\n\r\nIn my case, I had edited my `server.xml` file to specify the keystoreType to PKCS, but I did not specify the truststoreType, so it defaults to whatever the keystoreType is. Specifying the truststoreType explicitly as JKS solved it for me.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jira_(software)\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>EJP basically answered the question (and I realize this has an accepted answer), but I just dealt with this edge-case gotcha and wanted to immortalize my solution.</p>\n\n<p>I had the <code>InvalidAlgorithmParameterException</code> error on a hosted <a href=\"https://en.wikipedia.org/wiki/Jira_(software)\" rel=\"noreferrer\">Jira</a> server that I had previously set up for SSL-only access. The issue was that I had set up my keystore in the PKCS#12 format, but my truststore was in the JKS format.</p>\n\n<p>In my case, I had edited my <code>server.xml</code> file to specify the keystoreType to PKCS, but I did not specify the truststoreType, so it defaults to whatever the keystoreType is. Specifying the truststoreType explicitly as JKS solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":887255,"reputation":475,"user_id":926392,"accept_rate":33,"display_name":"Sergey Filkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424422537,"creation_date":1424422537,"answer_id":28624964,"question_id":6784463,"body_markdown":"I have faced with the issue while importing a Gradle project in IntelliJ IDEA 14.\r\nA solution was using a local copy of Gradle instead of a wrapper from the project directory.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I have faced with the issue while importing a Gradle project in IntelliJ IDEA 14.\nA solution was using a local copy of Gradle instead of a wrapper from the project directory.</p>\n"},{"tags":[],"owner":{"account_id":3412867,"reputation":104,"user_id":2862447,"display_name":"ak1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532256413,"creation_date":1431548497,"answer_id":30224492,"question_id":6784463,"body_markdown":"On Red Hat Linux I got this issue resolved by importing the certificates to `/etc/pki/java/cacerts`.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Red Hat Linux I got this issue resolved by importing the certificates to <code>/etc/pki/java/cacerts</code>.</p>\n"},{"comments":[{"owner":{"account_id":1349594,"reputation":3619,"user_id":1289657,"display_name":"Macil"},"score":2,"creation_date":1434932072,"post_id":30699960,"comment_id":49972619,"body_markdown":"Thanks, this fixed the issue for me when I ran into it on Ubuntu 15.04.","body":"Thanks, this fixed the issue for me when I ran into it on Ubuntu 15.04."},{"owner":{"account_id":1302735,"reputation":2978,"user_id":1252334,"accept_rate":38,"display_name":"Defozo"},"score":0,"creation_date":1462757124,"post_id":30699960,"comment_id":61755410,"body_markdown":"Worked on Raspbian on Raspberry Pi","body":"Worked on Raspbian on Raspberry Pi"},{"owner":{"account_id":160587,"reputation":47975,"user_id":380757,"accept_rate":86,"display_name":"Tuxdude"},"score":1,"creation_date":1465797627,"post_id":30699960,"comment_id":63032525,"body_markdown":"Ran into this issue with Debian jesse stable backports with OpenJDK8 and this fixed the issue. Was using this while building Docker images. :)","body":"Ran into this issue with Debian jesse stable backports with OpenJDK8 and this fixed the issue. Was using this while building Docker images. :)"},{"owner":{"account_id":97808,"reputation":4702,"user_id":265119,"accept_rate":31,"display_name":"Magick"},"score":0,"creation_date":1471252639,"post_id":30699960,"comment_id":65258838,"body_markdown":"Unfortunately I get `command not found` when I try this on Ubuntu 16.04.","body":"Unfortunately I get <code>command not found</code> when I try this on Ubuntu 16.04."},{"owner":{"account_id":1376143,"reputation":292,"user_id":1310104,"accept_rate":25,"display_name":"Matt"},"score":0,"creation_date":1481701556,"post_id":30699960,"comment_id":69477744,"body_markdown":"I have absolutely no idea what I just did, but this fixed the issue for me on Ubuntu 16.04","body":"I have absolutely no idea what I just did, but this fixed the issue for me on Ubuntu 16.04"},{"owner":{"account_id":1860621,"reputation":620,"user_id":1686433,"display_name":"John McFo"},"score":0,"creation_date":1488316236,"post_id":30699960,"comment_id":72174463,"body_markdown":"Atlassian Bitbucket Server v4.9.1 on Debian Jessie (8.6) behind Firewall had the same problem. This fixed it for me.","body":"Atlassian Bitbucket Server v4.9.1 on Debian Jessie (8.6) behind Firewall had the same problem. This fixed it for me."},{"owner":{"account_id":5606655,"reputation":524,"user_id":4441002,"display_name":"EugeneRomero"},"score":0,"creation_date":1502123559,"post_id":30699960,"comment_id":78063098,"body_markdown":"Worked on an Artifactory install on Ubuntu 14.04. Before this command, attempting to add a remote repository threw the trustAnchors error. After this command, smooth sailing :)","body":"Worked on an Artifactory install on Ubuntu 14.04. Before this command, attempting to add a remote repository threw the trustAnchors error. After this command, smooth sailing :)"},{"owner":{"account_id":78036,"reputation":1485,"user_id":222367,"accept_rate":0,"display_name":"simianarmy"},"score":0,"creation_date":1521054339,"post_id":30699960,"comment_id":85574526,"body_markdown":"Fixed for me on Ubuntu 14.04.  Thank you!","body":"Fixed for me on Ubuntu 14.04.  Thank you!"},{"owner":{"account_id":6333799,"reputation":460,"user_id":7243108,"display_name":"Pranav A."},"score":9,"creation_date":1524499395,"post_id":30699960,"comment_id":86987051,"body_markdown":"Doesn&#39;t work on Ubuntu MATE 18.04, sadly. I will try reinstalling Java.","body":"Doesn&#39;t work on Ubuntu MATE 18.04, sadly. I will try reinstalling Java."},{"owner":{"account_id":1674701,"reputation":3061,"user_id":1540501,"accept_rate":60,"display_name":"ivan.ukr"},"score":0,"creation_date":1525738177,"post_id":30699960,"comment_id":87465626,"body_markdown":"Doesn&#39;t work in Xubuntu 18.04 too. Seems like will not work in any 18.04. Any suggestions what to do?","body":"Doesn&#39;t work in Xubuntu 18.04 too. Seems like will not work in any 18.04. Any suggestions what to do?"},{"owner":{"account_id":7664312,"reputation":1805,"user_id":5808464,"accept_rate":62,"display_name":"Gagan"},"score":0,"creation_date":1528183391,"post_id":30699960,"comment_id":88398030,"body_markdown":"Any idea guys, what to do in Ubuntu 18.04?","body":"Any idea guys, what to do in Ubuntu 18.04?"},{"owner":{"account_id":88146,"reputation":10002,"user_id":244009,"accept_rate":78,"display_name":"codefx"},"score":0,"creation_date":1529646224,"post_id":30699960,"comment_id":88958035,"body_markdown":"Run `sudo apt install ca-certificates-java` . Then `sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure`","body":"Run <code>sudo apt install ca-certificates-java</code> . Then <code>sudo &#47;var&#47;lib&#47;dpkg&#47;info&#47;ca-certificates-java.postinst configure</code>"},{"owner":{"account_id":422048,"reputation":4219,"user_id":800608,"accept_rate":56,"display_name":"mzedeler"},"score":1,"creation_date":1531070000,"post_id":30699960,"comment_id":89447659,"body_markdown":"@codefx - I&#39;ve done what you suggest and it doesn&#39;t work - on Ubuntu 18.x with Java 10 (default).","body":"@codefx - I&#39;ve done what you suggest and it doesn&#39;t work - on Ubuntu 18.x with Java 10 (default)."}],"tags":[],"owner":{"account_id":6431651,"reputation":1201,"user_id":4984523,"display_name":"Michael Condouris"},"comment_count":13,"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1478286355,"creation_date":1433724843,"answer_id":30699960,"question_id":6784463,"body_markdown":"This fixed the problem for me on Ubuntu:\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\n(found here: https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760)\r\n\r\n`ca-certificates-java` is not a dependency in the Oracle JDK/JRE so this must be explicitly installed.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>This fixed the problem for me on Ubuntu:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<p>(found here: <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760\">https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760</a>)</p>\n\n<p><code>ca-certificates-java</code> is not a dependency in the Oracle JDK/JRE so this must be explicitly installed.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1441317081,"post_id":31615479,"comment_id":52642630,"body_markdown":"Where did you get the property `javax.net.ssl.trustAnchors` from? It isn&#39;t mentioned in the JSSE documentation.","body":"Where did you get the property <code>javax.net.ssl.trustAnchors</code> from? It isn&#39;t mentioned in the JSSE documentation."}],"tags":[],"owner":{"account_id":6679529,"reputation":404,"user_id":5153178,"display_name":"steveoams"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1532257223,"creation_date":1437755283,"answer_id":31615479,"question_id":6784463,"body_markdown":"I expected things like this, being that I use an alternate JVM in my [Talend Open Studio][1] (support at the moment exists only until JDK 1.7). I use 8 for security purposes... anyway\r\n\r\n- Update your certificate store:\r\n\r\n        sudo update-ca-certificates -f\r\n\r\nthen\r\n\r\n- add a new value in your initialization parameters\r\n\r\n        sudo gedit $(path to your architecture specific ini i.e. TOS_DI...ini)\r\n\r\n        Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\r\n\r\nFor me, the second entry worked. I think, depending on the version of Talend Open Studio/TEnt + JVM, it has a different parameter name, but it looks for the same keystore file.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Talend_Open_Studio_for_Data_Quality#Talend_Open_Studio_for_Data_Quality_Project\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I expected things like this, being that I use an alternate JVM in my <a href=\"https://en.wikipedia.org/wiki/Talend_Open_Studio_for_Data_Quality#Talend_Open_Studio_for_Data_Quality_Project\" rel=\"nofollow noreferrer\">Talend Open Studio</a> (support at the moment exists only until JDK 1.7). I use 8 for security purposes... anyway</p>\n\n<ul>\n<li><p>Update your certificate store:</p>\n\n<pre><code>sudo update-ca-certificates -f\n</code></pre></li>\n</ul>\n\n<p>then</p>\n\n<ul>\n<li><p>add a new value in your initialization parameters</p>\n\n<pre><code>sudo gedit $(path to your architecture specific ini i.e. TOS_DI...ini)\n\nDjavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\n</code></pre></li>\n</ul>\n\n<p>For me, the second entry worked. I think, depending on the version of Talend Open Studio/TEnt + JVM, it has a different parameter name, but it looks for the same keystore file.</p>\n"},{"comments":[{"owner":{"account_id":97808,"reputation":4702,"user_id":265119,"accept_rate":31,"display_name":"Magick"},"score":0,"creation_date":1471252837,"post_id":33311710,"comment_id":65258924,"body_markdown":"When I run `sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure**` I get `sudo: /var/lib/dpkg/info/ca-certificates-java.postinst: command not found`","body":"When I run <code>sudo &#47;var&#47;lib&#47;dpkg&#47;info&#47;ca-certificates-java.postinst configure**</code> I get <code>sudo: &#47;var&#47;lib&#47;dpkg&#47;info&#47;ca-certificates-java.postinst: command not found</code>"},{"owner":{"account_id":2494278,"reputation":5150,"user_id":2171120,"display_name":"mirabilos"},"score":0,"creation_date":1486419256,"post_id":33311710,"comment_id":71328080,"body_markdown":"Just `sudo update-ca-certificates -f` is enough on Debian jessie with `openjdk-8-jre-headless` from jessie-backports, as long as `ca-certificates-java` is installed. I think order of installation matters (JRE after `ca-certificates-java` may cause this, as the latter doesn’t have any triggers for the backported Java 8).","body":"Just <code>sudo update-ca-certificates -f</code> is enough on Debian jessie with <code>openjdk-8-jre-headless</code> from jessie-backports, as long as <code>ca-certificates-java</code> is installed. I think order of installation matters (JRE after <code>ca-certificates-java</code> may cause this, as the latter doesn’t have any triggers for the backported Java 8)."},{"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"score":2,"creation_date":1504693630,"post_id":33311710,"comment_id":79106177,"body_markdown":"`sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure`  without stars **","body":"<code>sudo &#47;var&#47;lib&#47;dpkg&#47;info&#47;ca-certificates-java.postinst configure</code>  without stars **"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1591275215,"post_id":33311710,"comment_id":109998118,"body_markdown":"`update-ca-certificates -f` is the thing that fixed it. I didn&#39;t need the 2nd command","body":"<code>update-ca-certificates -f</code> is the thing that fixed it. I didn&#39;t need the 2nd command"}],"tags":[],"owner":{"account_id":3364653,"reputation":391,"user_id":2825593,"display_name":"Johnny"},"comment_count":4,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1532257334,"creation_date":1445635963,"answer_id":33311710,"question_id":6784463,"body_markdown":"I ran\r\n\r\n    sudo update-ca-certificates -f\r\n\r\nto create a certificate file, and then:\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\nI was back in business, thanks guys. It is a pity it&#39;s not included in the installation, but I got there in the end.\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran</p>\n\n<pre><code>sudo update-ca-certificates -f\n</code></pre>\n\n<p>to create a certificate file, and then:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<p>I was back in business, thanks guys. It is a pity it's not included in the installation, but I got there in the end.</p>\n"},{"comments":[{"owner":{"account_id":177183,"reputation":3304,"user_id":408349,"accept_rate":88,"display_name":"Shantha Kumara"},"score":0,"creation_date":1474545838,"post_id":36147986,"comment_id":66580798,"body_markdown":"[keystore-explorer](http://www.keystore-explorer.org/index.html) did the work for me. You just have to create default keystore and examine and save the certificate file for the site/host.","body":"<a href=\"http://www.keystore-explorer.org/index.html\" rel=\"nofollow noreferrer\">keystore-explorer</a> did the work for me. You just have to create default keystore and examine and save the certificate file for the site/host."},{"owner":{"account_id":1792158,"reputation":700,"user_id":1632288,"accept_rate":67,"display_name":"Kendar"},"score":0,"creation_date":1631618108,"post_id":36147986,"comment_id":122265805,"body_markdown":"For some unknown reason on windows OpenJDK11, OracleJDK 11 i had to do the same, did it on the parameters: &quot;-Djavax.net.ssl.trustStore=%JAVA_HOME%\\lib\\security\\cacerts&quot;","body":"For some unknown reason on windows OpenJDK11, OracleJDK 11 i had to do the same, did it on the parameters: &quot;-Djavax.net.ssl.trustStore=%JAVA_HOME%\\lib\\security\\cacerts&zwnj;&#8203;&quot;"}],"tags":[],"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532257427,"creation_date":1458629943,"answer_id":36147986,"question_id":6784463,"body_markdown":"In my case the JKS file used in the client application was corrupted. I created a new one and imported the destination server SSL certificates in it. Then I used the new JKS file in the client application as a trust store, like:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,path_to_your_cacerts_file);\r\n\r\nSource: [Java SSL and certificate keystore][1]\r\n\r\nI use the (KeyStore Explorer) tool to create the new JKS. You can download it from this link, [KeyStore Explorer][2].\r\n\r\n  [1]: https://stackoverflow.com/questions/5871279/java-ssl-and-cert-keystore\r\n  [2]: http://www.keystore-explorer.org/\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In my case the JKS file used in the client application was corrupted. I created a new one and imported the destination server SSL certificates in it. Then I used the new JKS file in the client application as a trust store, like:</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\",path_to_your_cacerts_file);\n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/5871279/java-ssl-and-cert-keystore\">Java SSL and certificate keystore</a></p>\n\n<p>I use the (KeyStore Explorer) tool to create the new JKS. You can download it from this link, <a href=\"http://www.keystore-explorer.org/\" rel=\"nofollow noreferrer\">KeyStore Explorer</a>.</p>\n"},{"comments":[{"owner":{"account_id":1451798,"reputation":9098,"user_id":6156989,"accept_rate":78,"display_name":"Akshar Patel"},"score":3,"creation_date":1524293756,"post_id":36305610,"comment_id":86922893,"body_markdown":"This is the only answer that actually worked. Thanks @razvanone","body":"This is the only answer that actually worked. Thanks @razvanone"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":2,"creation_date":1542229368,"post_id":36305610,"comment_id":93498080,"body_markdown":"I managed to hit one small &quot;gotcha&quot;: The three lines in the eclipse.ini file must be on actual three separate lines. I initially put all of them on one line and eclipse did not pick that up.","body":"I managed to hit one small &quot;gotcha&quot;: The three lines in the eclipse.ini file must be on actual three separate lines. I initially put all of them on one line and eclipse did not pick that up."},{"owner":{"account_id":4455231,"reputation":136,"user_id":3625752,"display_name":"rinilnath"},"score":0,"creation_date":1631841319,"post_id":36305610,"comment_id":122337818,"body_markdown":"I managed to fix this error that occurred even though all there JVM args were set. When inspected the path to the cacerts.jks was not correct in my eclipse.ini file. So even wrong jks path can generate this error. Fixing to correct jks path solved the error","body":"I managed to fix this error that occurred even though all there JVM args were set. When inspected the path to the cacerts.jks was not correct in my eclipse.ini file. So even wrong jks path can generate this error. Fixing to correct jks path solved the error"},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1700148968,"post_id":36305610,"comment_id":136621404,"body_markdown":"mine was `PKCS12`, not `JKS`. Open JDK21, coming with eclipse. mentioning store type fixed the issue. Thanks.","body":"mine was <code>PKCS12</code>, not <code>JKS</code>. Open JDK21, coming with eclipse. mentioning store type fixed the issue. Thanks."}],"tags":[],"owner":{"account_id":2465474,"reputation":1361,"user_id":2148681,"display_name":"razvanone"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1613121180,"creation_date":1459332362,"answer_id":36305610,"question_id":6784463,"body_markdown":"The error tells that the system cannot find the truststore in the path provided with the parameter `javax.net.ssl.trustStore`.\r\n\r\nUnder Windows I copied the `cacerts` file from `jre/lib/security` into the Eclipse install directory (same place as the `eclipse.ini` file) and added the following settings in `eclipse.ini`:\r\n\r\n    -Djavax.net.ssl.trustStore=cacerts\r\n    -Djavax.net.ssl.trustStorePassword=changeit\r\n    -Djavax.net.ssl.trustStoreType=JKS\r\n\r\nI had some troubles with the path to the cacerts (the %java_home% environment variable is somehow overwritten), so I used this trivial solution.\r\n\r\nThe idea is to provide a valid path to the truststore file - ideally it would be to use a relative one. You may also use an absolute path.\r\n\r\nTo make sure the store type is JKS, you would run the following command:\r\n\r\n    keytool -list -keystore cacerts\r\n\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n\r\n**Note**: because certificates have expiration dates, or can become invalid for other reasons, do check from time to time if the certificates in *cacerts* are still valid. You would usually find the valid versions of the certificates in the latest builds of jdk.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>The error tells that the system cannot find the truststore in the path provided with the parameter <code>javax.net.ssl.trustStore</code>.</p>\n<p>Under Windows I copied the <code>cacerts</code> file from <code>jre/lib/security</code> into the Eclipse install directory (same place as the <code>eclipse.ini</code> file) and added the following settings in <code>eclipse.ini</code>:</p>\n<pre><code>-Djavax.net.ssl.trustStore=cacerts\n-Djavax.net.ssl.trustStorePassword=changeit\n-Djavax.net.ssl.trustStoreType=JKS\n</code></pre>\n<p>I had some troubles with the path to the cacerts (the %java_home% environment variable is somehow overwritten), so I used this trivial solution.</p>\n<p>The idea is to provide a valid path to the truststore file - ideally it would be to use a relative one. You may also use an absolute path.</p>\n<p>To make sure the store type is JKS, you would run the following command:</p>\n<pre><code>keytool -list -keystore cacerts\n\nKeystore type: JKS\nKeystore provider: SUN\n</code></pre>\n<p><strong>Note</strong>: because certificates have expiration dates, or can become invalid for other reasons, do check from time to time if the certificates in <em>cacerts</em> are still valid. You would usually find the valid versions of the certificates in the latest builds of jdk.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1510874287,"post_id":37537169,"comment_id":81633807,"body_markdown":"If you don&#39;t, it will use the JRE truststore, and it will certainly be able to find that. The error is caused by incorrect values in these parameters, not their absence. The file named in your code only applies to your installation, not generally.","body":"If you don&#39;t, it will use the JRE truststore, and it will certainly be able to find that. The error is caused by incorrect values in these parameters, not their absence. The file named in your code only applies to your installation, not generally."},{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":0,"creation_date":1591197341,"post_id":37537169,"comment_id":109965541,"body_markdown":"The proper way to set those properties are by passing them on the command line: `java -Djavax.net.ssl.trustStore=/tmp/cacerts ...` or if you want to set them globally for all programs run with a JDK, add the row to the JDK&#39;s `management.properties` file.","body":"The proper way to set those properties are by passing them on the command line: <code>java -Djavax.net.ssl.trustStore=&#47;tmp&#47;cacerts ...</code> or if you want to set them globally for all programs run with a JDK, add the row to the JDK&#39;s <code>management.properties</code> file."},{"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"score":0,"creation_date":1679234098,"post_id":37537169,"comment_id":133680869,"body_markdown":"I faced the same issue and this solution was right. But I start my application with vm options: \n`-Djavax.net.ssl.trustStore=cacerts.jks`\n`-Djavax.net.ssl.trustStorePassword=changeit`","body":"I faced the same issue and this solution was right. But I start my application with vm options:  <code>-Djavax.net.ssl.trustStore=cacerts.jks</code> <code>-Djavax.net.ssl.trustStorePassword=changeit</code>"}],"tags":[],"owner":{"account_id":8543642,"reputation":415,"user_id":6402834,"display_name":"Divyesh Kalbhor"},"comment_count":3,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1532257791,"creation_date":1464670840,"answer_id":37537169,"question_id":6784463,"body_markdown":"    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:\\\\Users\\\\user-id\\\\Desktop\\\\tomcat\\\\cacerts&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;passwd&quot;);\r\n\r\nYou have to add the above two lines to your code. It is not able to find the truststore.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<pre><code>System.setProperty(\"javax.net.ssl.trustStore\", \"C:\\\\Users\\\\user-id\\\\Desktop\\\\tomcat\\\\cacerts\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"passwd\");\n</code></pre>\n\n<p>You have to add the above two lines to your code. It is not able to find the truststore.</p>\n"},{"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532276730,"creation_date":1483617915,"answer_id":41484663,"question_id":6784463,"body_markdown":"I got the same error when sending emails, but **NOT** always. In my case I&#39;ve changed one line of code to get a new [Session](http://docs.oracle.com/javaee/7/api/javax/mail/Session.html) object every time:\r\n\r\n    MimeMessage message = new MimeMessage(Session.getDefaultInstance(props, authenticator));\r\n\r\nto\r\n\r\n    MimeMessage message = new MimeMessage(Session.getInstance(props, authenticator));\r\n\r\nSince then sending e-mails works every time.\r\n\r\nThe error I got:\r\n\r\n&gt; javax.mail.MessagingException: Could not convert socket to TLS;    &lt;br/&gt;\r\n&gt; nested exception is:     javax.net.ssl.SSLException:               &lt;br/&gt;\r\n&gt; java.lang.RuntimeException: Unexpected error:                      &lt;br/&gt;\r\n&gt; java.security.InvalidAlgorithmParameterException: the trustAnchors &lt;br/&gt;\r\n&gt; parameter must be non-empty     at                                 &lt;br/&gt;\r\n&gt; com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)     at &lt;br/&gt;\r\n&gt; com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)  &lt;br/&gt;\r\n&gt;     at javax.mail.Service.connect(Service.java:317)     at &lt;br/&gt;\r\n&gt; javax.mail.Service.connect(Service.java:176)     at        &lt;br/&gt;\r\n&gt; javax.mail.Service.connect(Service.java:125)     at        &lt;br/&gt;\r\n&gt; javax.mail.Transport.send0(Transport.java:194)     at      &lt;br/&gt;\r\n&gt; javax.mail.Transport.send(Transport.java:124)              &lt;br/&gt;\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I got the same error when sending emails, but <strong>NOT</strong> always. In my case I've changed one line of code to get a new <a href=\"http://docs.oracle.com/javaee/7/api/javax/mail/Session.html\" rel=\"nofollow noreferrer\">Session</a> object every time:</p>\n\n<pre><code>MimeMessage message = new MimeMessage(Session.getDefaultInstance(props, authenticator));\n</code></pre>\n\n<p>to</p>\n\n<pre><code>MimeMessage message = new MimeMessage(Session.getInstance(props, authenticator));\n</code></pre>\n\n<p>Since then sending e-mails works every time.</p>\n\n<p>The error I got:</p>\n\n<blockquote>\n  <p>javax.mail.MessagingException: Could not convert socket to TLS;    <br/>\n  nested exception is:     javax.net.ssl.SSLException:               <br/>\n  java.lang.RuntimeException: Unexpected error:                      <br/>\n  java.security.InvalidAlgorithmParameterException: the trustAnchors <br/>\n  parameter must be non-empty     at                                 <br/>\n  com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)     at <br/>\n  com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)  <br/>\n      at javax.mail.Service.connect(Service.java:317)     at <br/>\n  javax.mail.Service.connect(Service.java:176)     at        <br/>\n  javax.mail.Service.connect(Service.java:125)     at        <br/>\n  javax.mail.Transport.send0(Transport.java:194)     at      <br/>\n  javax.mail.Transport.send(Transport.java:124)              <br/></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":9104369,"reputation":3461,"user_id":6775407,"accept_rate":0,"display_name":"Abhay Shiro"},"score":0,"creation_date":1609358075,"post_id":41594375,"comment_id":115824439,"body_markdown":"Johnny&#39;s answer (above) and then running your answer did the job for me. I am on LInux Mint using OpenJDK","body":"Johnny&#39;s answer (above) and then running your answer did the job for me. I am on LInux Mint using OpenJDK"}],"tags":[],"owner":{"account_id":2567258,"reputation":153,"user_id":2226964,"display_name":"The Tomahawk"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484147525,"creation_date":1484147525,"answer_id":41594375,"question_id":6784463,"body_markdown":"On Ubuntu:\r\n\r\n&gt; sudo apt install ca-certificates-java\r\n\r\nor\r\n\r\n&gt; sudo apt-get install ca-certificates-java\r\n\r\nsorted it for me.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Ubuntu:</p>\n\n<blockquote>\n  <p>sudo apt install ca-certificates-java</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>sudo apt-get install ca-certificates-java</p>\n</blockquote>\n\n<p>sorted it for me.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1510874360,"post_id":42421760,"comment_id":81633832,"body_markdown":"The error is caused by a missing truststore file. It has nothing to do with wifi hotspots.","body":"The error is caused by a missing truststore file. It has nothing to do with wifi hotspots."}],"tags":[],"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532258172,"creation_date":1487868778,"answer_id":42421760,"question_id":6784463,"body_markdown":"Another reason for this is it&#39;s actually a valid error. Some nefarious Wi-Fi hotspots will mess with certificates and [man-in-the-middle attack][1] you to do who knows what (run away!).\r\n\r\nSome large employers will do this same trick, especially in sensitive network zones so they can monitor all the encrypted traffic (not great from end user perspective, but there may be good reasons for this).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Man-in-the-middle_attack\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Another reason for this is it's actually a valid error. Some nefarious Wi-Fi hotspots will mess with certificates and <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">man-in-the-middle attack</a> you to do who knows what (run away!).</p>\n\n<p>Some large employers will do this same trick, especially in sensitive network zones so they can monitor all the encrypted traffic (not great from end user perspective, but there may be good reasons for this).</p>\n"},{"tags":[],"owner":{"account_id":6446680,"reputation":828,"user_id":4994985,"accept_rate":80,"display_name":"Maarten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532258311,"creation_date":1488878170,"answer_id":42644289,"question_id":6784463,"body_markdown":"I got this error when using a truststore which was exported using a IBM Websphere JDK keytool in #PKCS12 format and trying to communicate over SSL using that file on an Oracle JRE.\r\n\r\nMy solution was to run on an IBM JRE or convert the truststore to JKS using an IBM Websphere keytool, so I was able to run it in an Oracle JRE.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I got this error when using a truststore which was exported using a IBM Websphere JDK keytool in #PKCS12 format and trying to communicate over SSL using that file on an Oracle JRE.</p>\n\n<p>My solution was to run on an IBM JRE or convert the truststore to JKS using an IBM Websphere keytool, so I was able to run it in an Oracle JRE.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1490136380,"post_id":42911164,"comment_id":72976064,"body_markdown":"... which caused the truststore not to be found, as per other answers.","body":"... which caused the truststore not to be found, as per other answers."},{"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"score":1,"creation_date":1490195481,"post_id":42911164,"comment_id":73005924,"body_markdown":"Yeah, but knowing that the truststore can&#39;t be found is entirely unhelpful if you do can&#39;t figure out *why* it&#39;s not being found.  There are many many possible ways it can go wrong, and it&#39;s frustating when none of them happen to be the particular way that it is failing for your own system.","body":"Yeah, but knowing that the truststore can&#39;t be found is entirely unhelpful if you do can&#39;t figure out <i>why</i> it&#39;s not being found.  There are many many possible ways it can go wrong, and it&#39;s frustating when none of them happen to be the particular way that it is failing for your own system."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1520414308,"post_id":42911164,"comment_id":85300722,"body_markdown":"They all &#39;happen&#39; to be the same error: the truststore specified could not be opened or was empty. There are a million ways in which this situation could arise, and there isn&#39;t enough space on SO to enumerate them all.","body":"They all &#39;happen&#39; to be the same error: the truststore specified could not be opened or was empty. There are a million ways in which this situation could arise, and there isn&#39;t enough space on SO to enumerate them all."}],"tags":[],"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1532258751,"creation_date":1490034054,"answer_id":42911164,"question_id":6784463,"body_markdown":"For the record, *none* of the answers here worked for me. My Gradle build started failing mysteriously with this error, unable to fetch HEAD from [Maven][1] [central][2] for a particular [POM][3] file.\r\n\r\nIt turned out that I had JAVA_HOME set to my own personal build of OpenJDK, which I had built for debugging a javac issue. Setting it back to the JDK installed on my system fixed it.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://central.sonatype.org/\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For the record, <em>none</em> of the answers here worked for me. My Gradle build started failing mysteriously with this error, unable to fetch HEAD from <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> <a href=\"https://central.sonatype.org/\" rel=\"nofollow noreferrer\">central</a> for a particular <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</p>\n\n<p>It turned out that I had JAVA_HOME set to my own personal build of OpenJDK, which I had built for debugging a javac issue. Setting it back to the JDK installed on my system fixed it.</p>\n"},{"comments":[{"owner":{"account_id":12328392,"reputation":879,"user_id":8995178,"display_name":"Sami Haroon"},"score":0,"creation_date":1593189850,"post_id":44908840,"comment_id":110702680,"body_markdown":"This solution saved my life today, Thank you soo much.","body":"This solution saved my life today, Thank you soo much."},{"owner":{"account_id":4358066,"reputation":1056,"user_id":3556052,"accept_rate":75,"display_name":"miracle_the_V"},"score":0,"creation_date":1690564941,"post_id":44908840,"comment_id":135376441,"body_markdown":"This does not explain how having same keystore set as trust store breaks things.\nLinks imply this might be due to empty trust store which doesn&#39;t seem to be the case. Don&#39;t see how it&#39;s all related.","body":"This does not explain how having same keystore set as trust store breaks things. Links imply this might be due to empty trust store which doesn&#39;t seem to be the case. Don&#39;t see how it&#39;s all related."}],"tags":[],"owner":{"account_id":1876334,"reputation":8014,"user_id":1697482,"accept_rate":88,"display_name":"Robert Hunt"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1532265491,"creation_date":1499179363,"answer_id":44908840,"question_id":6784463,"body_markdown":"You may also encounter this error after upgrading to Spring Boot 1.4.1 (or newer) because it brings along [Tomcat][1] 8.5.5 as part of its dependencies.\r\n\r\nThe problem is due to the way that Tomcat deals with the trust store. If you happen to have specified your trust store location as the same as your keystore in the Spring Boot configuration, you&#39;ll likely get the `trustAnchors parameter must be non-empty` message when starting the application.\r\n\r\n    server.ssl.key-store=classpath:server.jks\r\n    server.ssl.trust-store=classpath:server.jks\r\n\r\nSimply remove the `server.ssl.trust-store` configuration unless you know that you need it, in which case consult the links below.\r\n\r\nThe following issues contain more details about the problem:\r\n\r\n - *[HTTPS Tomcat connector fails to start with 1.4.1][2]* #7069\r\n - *[SSL-client-auth with self-signed cert stopped working][3]* #7406\r\n - *[Upgrade to Tomcat 8.5.5][4]* #6703\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Tomcat\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/7069\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/7406\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/6703\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>You may also encounter this error after upgrading to Spring Boot 1.4.1 (or newer) because it brings along <a href=\"http://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Tomcat</a> 8.5.5 as part of its dependencies.</p>\n\n<p>The problem is due to the way that Tomcat deals with the trust store. If you happen to have specified your trust store location as the same as your keystore in the Spring Boot configuration, you'll likely get the <code>trustAnchors parameter must be non-empty</code> message when starting the application.</p>\n\n<pre><code>server.ssl.key-store=classpath:server.jks\nserver.ssl.trust-store=classpath:server.jks\n</code></pre>\n\n<p>Simply remove the <code>server.ssl.trust-store</code> configuration unless you know that you need it, in which case consult the links below.</p>\n\n<p>The following issues contain more details about the problem:</p>\n\n<ul>\n<li><em><a href=\"https://github.com/spring-projects/spring-boot/issues/7069\" rel=\"nofollow noreferrer\">HTTPS Tomcat connector fails to start with 1.4.1</a></em> #7069</li>\n<li><em><a href=\"https://github.com/spring-projects/spring-boot/issues/7406\" rel=\"nofollow noreferrer\">SSL-client-auth with self-signed cert stopped working</a></em> #7406</li>\n<li><em><a href=\"https://github.com/spring-projects/spring-boot/issues/6703\" rel=\"nofollow noreferrer\">Upgrade to Tomcat 8.5.5</a></em> #6703</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1562067972,"post_id":45496332,"comment_id":100253511,"body_markdown":"NB check baeldung tutorial with a useful Makefile as shortcut to creating keystore &amp; truststore (spring-security-x509 project) https://www.baeldung.com/x-509-authentication-in-spring-security","body":"NB check baeldung tutorial with a useful Makefile as shortcut to creating keystore &amp; truststore (spring-security-x509 project) <a href=\"https://www.baeldung.com/x-509-authentication-in-spring-security\" rel=\"nofollow noreferrer\">baeldung.com/x-509-authentication-in-spring-security</a>"}],"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1615207642,"creation_date":1501804862,"answer_id":45496332,"question_id":6784463,"body_markdown":"For me it was caused by the lack of a trustedCertEntry in the truststore.\r\n\r\nTo test, use:\r\n\r\n    keytool -list -keystore keystore.jks\r\n\r\nIt gives me:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    Keystore type: JKS\r\n    Keystore provider: SUN\r\n\r\n    Your keystore contains 1 entry\r\n\r\n    cert-alias, 31-Jul-2017, PrivateKeyEntry\r\n\r\nEven though my PrivateKeyEntry contains a CA ***it needed to be imported separately***:\r\n\r\n    keytool -import -alias root-ca1 -file rootca.crt -keystore keystore.jks\r\n\r\nIt imports the certificate, and then re-running `keytool -list -keystore keystore.jks` now gives:\r\n\r\n    Your keystore contains 2 entries\r\n\r\n    cert-alias, 31-Jul-2017, PrivateKeyEntry,\r\n    Certificate fingerprint (SHA1): &lt;fingerprint&gt;\r\n\r\n    root-ca1, 04-Aug-2017, trustedCertEntry,\r\n    Certificate fingerprint (SHA1): &lt;fingerprint&gt;\r\n\r\nNow it has a trustedCertEntry, and Tomcat will start successfully.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For me it was caused by the lack of a trustedCertEntry in the truststore.</p>\n<p>To test, use:</p>\n<pre><code>keytool -list -keystore keystore.jks\n</code></pre>\n<p>It gives me:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Keystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\ncert-alias, 31-Jul-2017, PrivateKeyEntry\n</code></pre>\n<p>Even though my PrivateKeyEntry contains a CA <em><strong>it needed to be imported separately</strong></em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>keytool -import -alias root-ca1 -file rootca.crt -keystore keystore.jks\n</code></pre>\n<p>It imports the certificate, and then re-running <code>keytool -list -keystore keystore.jks</code> now gives:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Your keystore contains 2 entries\n\ncert-alias, 31-Jul-2017, PrivateKeyEntry,\nCertificate fingerprint (SHA1): &lt;fingerprint&gt;\n\nroot-ca1, 04-Aug-2017, trustedCertEntry,\nCertificate fingerprint (SHA1): &lt;fingerprint&gt;\n</code></pre>\n<p>Now it has a trustedCertEntry, and Tomcat will start successfully.</p>\n"},{"comments":[{"owner":{"account_id":4028171,"reputation":966,"user_id":3315474,"display_name":"Konstantin Pavlov"},"score":0,"creation_date":1518993196,"post_id":46369183,"comment_id":84718194,"body_markdown":"If you use docker then you may also try &quot;maven:3-jdk-9-slim&quot; image instead of &quot;maven:3-jdk-9&quot;","body":"If you use docker then you may also try &quot;maven:3-jdk-9-slim&quot; image instead of &quot;maven:3-jdk-9&quot;"},{"owner":{"account_id":296302,"reputation":3679,"user_id":601182,"accept_rate":62,"display_name":"Aftab Naveed"},"score":0,"creation_date":1528947942,"post_id":46369183,"comment_id":88701521,"body_markdown":"Thanks, this worked for me for openjdk-8-jdk in ubuntu 18.04","body":"Thanks, this worked for me for openjdk-8-jdk in ubuntu 18.04"}],"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1506097322,"creation_date":1506097322,"answer_id":46369183,"question_id":6784463,"body_markdown":"If you experience this on Ubuntu with JDK9 and Maven, you can add this JVM option - first check if the path exists:\r\n\r\n    -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\r\n\r\nIf the file is missing, try to install the ca-certificates-java as someone noted:\r\n\r\n    sudo apt install ca-certificates-java","title":"Error - trustAnchors parameter must be non-empty","body":"<p>If you experience this on Ubuntu with JDK9 and Maven, you can add this JVM option - first check if the path exists:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>If the file is missing, try to install the ca-certificates-java as someone noted:</p>\n\n<pre><code>sudo apt install ca-certificates-java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8902355,"reputation":65,"user_id":6645406,"display_name":"DPKGRG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532266003,"creation_date":1508920904,"answer_id":46927804,"question_id":6784463,"body_markdown":"I faced this problem while running a particular suite of Android for testing on [Ubuntu&amp;nbsp;14.04][1] (Trusty Tahr). Two things worked for me as suggested by shaheen:\r\n\r\n    sudo update-ca-certificates -f\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_14.04_LTS_.28Trusty_Tahr.29\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I faced this problem while running a particular suite of Android for testing on <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_14.04_LTS_.28Trusty_Tahr.29\" rel=\"nofollow noreferrer\">Ubuntu&nbsp;14.04</a> (Trusty Tahr). Two things worked for me as suggested by shaheen:</p>\n\n<pre><code>sudo update-ca-certificates -f\n\nsudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8584389,"reputation":720,"user_id":6431035,"display_name":"Mossroy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532266120,"creation_date":1509288865,"answer_id":47001608,"question_id":6784463,"body_markdown":"I had this error message on Java 9.0.1 on Linux. It was due to a known bug of the JDK, where the cacerts file is empty in the .tar.gz binary package (downloaded from http://jdk.java.net/9/).\r\n\r\nSee the &quot;known issues&quot; paragraph of *[JDK 9.0.1 Release Notes][1]*, saying &quot;TLS does not work by default on OpenJDK 9&quot;.\r\n\r\nOn Debian/Ubuntu (and probably other derivaties), a simple workaround is to replace the cacerts file with the one from the &quot;ca-certificates-java&quot; package:\r\n\r\n    sudo apt install ca-certificates-java\r\n    cp /etc/ssl/certs/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\r\n\r\nOn Red Hat Linux/CentOS, you can do the same from the &quot;ca-certificates&quot; package:\r\n\r\n    sudo yum install ca-certificates\r\n    cp /etc/pki/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/9-0-1-relnotes-3883752.html\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I had this error message on Java 9.0.1 on Linux. It was due to a known bug of the JDK, where the cacerts file is empty in the .tar.gz binary package (downloaded from <a href=\"http://jdk.java.net/9/\" rel=\"nofollow noreferrer\">http://jdk.java.net/9/</a>).</p>\n\n<p>See the \"known issues\" paragraph of <em><a href=\"http://www.oracle.com/technetwork/java/javase/9-0-1-relnotes-3883752.html\" rel=\"nofollow noreferrer\">JDK 9.0.1 Release Notes</a></em>, saying \"TLS does not work by default on OpenJDK 9\".</p>\n\n<p>On Debian/Ubuntu (and probably other derivaties), a simple workaround is to replace the cacerts file with the one from the \"ca-certificates-java\" package:</p>\n\n<pre><code>sudo apt install ca-certificates-java\ncp /etc/ssl/certs/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\n</code></pre>\n\n<p>On Red Hat Linux/CentOS, you can do the same from the \"ca-certificates\" package:</p>\n\n<pre><code>sudo yum install ca-certificates\ncp /etc/pki/java/cacerts /path/to/jdk-9.0.1/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9534194,"reputation":13,"user_id":7084856,"display_name":"himanshu vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532266191,"creation_date":1509524022,"answer_id":47050679,"question_id":6784463,"body_markdown":"For me it got resolved just by upgrading a Jenkins plugin, &quot;Email Extension Plugin&quot;, to the latest version (2.61).\r\n\r\nThese two plugins are responsible for email configuration in Jenkins:\r\n\r\n * *Email Extension*\r\n * *Email Extension Template*\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For me it got resolved just by upgrading a Jenkins plugin, \"Email Extension Plugin\", to the latest version (2.61).</p>\n\n<p>These two plugins are responsible for email configuration in Jenkins:</p>\n\n<ul>\n<li><em>Email Extension</em></li>\n<li><em>Email Extension Template</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":81786,"reputation":614,"user_id":230438,"accept_rate":50,"display_name":"shw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532266403,"creation_date":1509540296,"answer_id":47055186,"question_id":6784463,"body_markdown":"None of solutions that I found on the Internet worked, but a modified version of [Peter Kriens&#39;s answer][1] seems to do the job.\r\n\r\nFirst find your Java folder by running `/usr/libexec/java_home`. For me it was the `1.6.0.jdk` version. Then go to its `lib/security` subfolder (for me `/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security`).\r\n\r\nThen delete the `cacerts` file if there is one already and search for one on the system with `sudo find / -name &quot;cacerts&quot;`. It found multiple items for me, in versions of Xcode or other applications that I had installed, but also at `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts` which I chose.\r\n\r\nUse that file and make a symbolic link to it (while inside the Java folder from before), `sudo ln -fsh &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts&quot;`, and it should work.\r\n\r\nI have both - Java from Apple&#39;s 2017-001 download (https://support.apple.com/kb/dl1572 - I assume that&#39;s where the correct certificates are from) and Oracle&#39;s one installed on [Mac OS X v10.12][2] (Sierra).\r\n\r\n  [1]: https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/10915692#10915692\r\n  [2]: https://en.wikipedia.org/wiki/MacOS_Sierra\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>None of solutions that I found on the Internet worked, but a modified version of <a href=\"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/10915692#10915692\">Peter Kriens's answer</a> seems to do the job.</p>\n\n<p>First find your Java folder by running <code>/usr/libexec/java_home</code>. For me it was the <code>1.6.0.jdk</code> version. Then go to its <code>lib/security</code> subfolder (for me <code>/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security</code>).</p>\n\n<p>Then delete the <code>cacerts</code> file if there is one already and search for one on the system with <code>sudo find / -name \"cacerts\"</code>. It found multiple items for me, in versions of Xcode or other applications that I had installed, but also at <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts</code> which I chose.</p>\n\n<p>Use that file and make a symbolic link to it (while inside the Java folder from before), <code>sudo ln -fsh \"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/security/cacerts\"</code>, and it should work.</p>\n\n<p>I have both - Java from Apple's 2017-001 download (<a href=\"https://support.apple.com/kb/dl1572\" rel=\"nofollow noreferrer\">https://support.apple.com/kb/dl1572</a> - I assume that's where the correct certificates are from) and Oracle's one installed on <a href=\"https://en.wikipedia.org/wiki/MacOS_Sierra\" rel=\"nofollow noreferrer\">Mac OS X v10.12</a> (Sierra).</p>\n"},{"comments":[{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":0,"creation_date":1529713831,"post_id":49973208,"comment_id":88988215,"body_markdown":"The `cacerts.original` file was in the `jks` format, and was generated with Ubuntu 16.04&#39;s Java 8, which used that format as its default. The `cacerts` file was in the `pkcs12` format, generated by Ubuntu 18.04&#39;s Java 10, which uses this format as its default. As explained elsewhere in this thread, the new format requires you to pass the password to the executable. But as long as you either generate a new empty `jks` `cacerts` file or copy an old one, the next cacerts generation process will empty the existing file out, and refill it with the CA certificates from the file system.","body":"The <code>cacerts.original</code> file was in the <code>jks</code> format, and was generated with Ubuntu 16.04&#39;s Java 8, which used that format as its default. The <code>cacerts</code> file was in the <code>pkcs12</code> format, generated by Ubuntu 18.04&#39;s Java 10, which uses this format as its default. As explained elsewhere in this thread, the new format requires you to pass the password to the executable. But as long as you either generate a new empty <code>jks</code> <code>cacerts</code> file or copy an old one, the next cacerts generation process will empty the existing file out, and refill it with the CA certificates from the file system."}],"tags":[],"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532266852,"creation_date":1524455993,"answer_id":49973208,"question_id":6784463,"body_markdown":"I had this issue when trying to use [Maven][1] 3, after upgrading from [Ubuntu&amp;nbsp;16.04][2] LTS (Xenial Xerus) to [Ubuntu&amp;nbsp;18.04][3] LTS (Bionic Beaver).\r\n\r\nChecking /usr/lib/jvm/java-8-oracle/jre/lib/security showed that my cacerts file was a symbolic link pointing to `/etc/ssl/certs/java/cacerts`.\r\n\r\nI also had a file suspiciously named `cacerts.original`.\r\n\r\nI renamed `cacerts.original` to `cacerts`, and that fixed the issue.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_16.04_LTS_.28Xenial_Xerus.29\r\n  [3]: https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_18.04_LTS_.28Bionic_Beaver.29\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I had this issue when trying to use <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> 3, after upgrading from <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_16.04_LTS_.28Xenial_Xerus.29\" rel=\"nofollow noreferrer\">Ubuntu&nbsp;16.04</a> LTS (Xenial Xerus) to <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_18.04_LTS_.28Bionic_Beaver.29\" rel=\"nofollow noreferrer\">Ubuntu&nbsp;18.04</a> LTS (Bionic Beaver).</p>\n\n<p>Checking /usr/lib/jvm/java-8-oracle/jre/lib/security showed that my cacerts file was a symbolic link pointing to <code>/etc/ssl/certs/java/cacerts</code>.</p>\n\n<p>I also had a file suspiciously named <code>cacerts.original</code>.</p>\n\n<p>I renamed <code>cacerts.original</code> to <code>cacerts</code>, and that fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":4009160,"reputation":575,"user_id":3303059,"display_name":"ericek111"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1532267117,"creation_date":1524779540,"answer_id":50052364,"question_id":6784463,"body_markdown":"Removing the ca-certificates-java package and installing it again worked for me ([Ubuntu MATE][1] 17.10 (Artful Aardvark)).\r\n\r\n    sudo dpkg --purge --force-depends ca-certificates-java\r\n\r\n    sudo apt-get install ca-certificates-java\r\n\r\nThank you, jdstrand: *Comment 1 for bug 983302, Re: ca-certificates-java fails to install Java cacerts on Oneiric Ocelot*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_MATE\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Removing the ca-certificates-java package and installing it again worked for me (<a href=\"https://en.wikipedia.org/wiki/Ubuntu_MATE\" rel=\"noreferrer\">Ubuntu MATE</a> 17.10 (Artful Aardvark)).</p>\n\n<pre><code>sudo dpkg --purge --force-depends ca-certificates-java\n\nsudo apt-get install ca-certificates-java\n</code></pre>\n\n<p>Thank you, jdstrand: <em>Comment 1 for bug 983302, Re: ca-certificates-java fails to install Java cacerts on Oneiric Ocelot</em>.</p>\n"},{"comments":[{"owner":{"account_id":3650845,"reputation":1363,"user_id":3043073,"accept_rate":33,"display_name":"Yuri Gor"},"score":5,"creation_date":1525792438,"post_id":50103533,"comment_id":87491212,"body_markdown":"This answer helped me to fix same error with maven on Ubuntu 18.04. I had to change owner of /etc/ssl/certs/java/cacerts file from root to myself to be able write to it. Then I switched it back.","body":"This answer helped me to fix same error with maven on Ubuntu 18.04. I had to change owner of /etc/ssl/certs/java/cacerts file from root to myself to be able write to it. Then I switched it back."},{"owner":{"account_id":8768761,"reputation":71,"user_id":6823991,"display_name":"jsn"},"score":80,"creation_date":1526224750,"post_id":50103533,"comment_id":87650897,"body_markdown":"I ran **sudo rm /etc/ssl/certs/java/cacerts** and then **sudo update-ca-certificates -f** and this fixed my issue in kubuntu 18.04.","body":"I ran <b>sudo rm /etc/ssl/certs/java/cacerts</b> and then <b>sudo update-ca-certificates -f</b> and this fixed my issue in kubuntu 18.04."},{"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"score":1,"creation_date":1527237023,"post_id":50103533,"comment_id":88061487,"body_markdown":"@jsn Your solution worked for me on Kubuntu 18.04 too.","body":"@jsn Your solution worked for me on Kubuntu 18.04 too."},{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":1,"creation_date":1527251969,"post_id":50103533,"comment_id":88070497,"body_markdown":"@jsn, the reason why that fixed your issue was because you also took an additional step, which you neglected to mention. The reason why I didn&#39;t recommend that solution over a simpler one is that people could later notice that as a side effect, something else has broken, requiring them to spend more time tracking that down.","body":"@jsn, the reason why that fixed your issue was because you also took an additional step, which you neglected to mention. The reason why I didn&#39;t recommend that solution over a simpler one is that people could later notice that as a side effect, something else has broken, requiring them to spend more time tracking that down."},{"owner":{"account_id":2152472,"reputation":143,"user_id":1908448,"display_name":"WhGandalf"},"score":0,"creation_date":1527294609,"post_id":50103533,"comment_id":88088504,"body_markdown":"This should actually be part of a new question because is so specific to the new ubuntu 18 users, thanks a lot !","body":"This should actually be part of a new question because is so specific to the new ubuntu 18 users, thanks a lot !"},{"owner":{"account_id":2700000,"reputation":1629,"user_id":2330913,"display_name":"Bing Ren"},"score":0,"creation_date":1528436336,"post_id":50103533,"comment_id":88515867,"body_markdown":"This solution is gold! It does not only solved the Jenkins problem but also other problems such as maven build!","body":"This solution is gold! It does not only solved the Jenkins problem but also other problems such as maven build!"},{"owner":{"account_id":4310465,"reputation":494,"user_id":4503706,"display_name":"Serafim"},"score":1,"creation_date":1530092474,"post_id":50103533,"comment_id":89108916,"body_markdown":"Saved by @jsn on Ubuntu Mate 18.04","body":"Saved by @jsn on Ubuntu Mate 18.04"},{"owner":{"account_id":1870746,"reputation":1131,"user_id":1693021,"display_name":"Vadim"},"score":1,"creation_date":1531122504,"post_id":50103533,"comment_id":89459646,"body_markdown":"@jsn perhaps should to be separate answer and rated at the top. Worked for me 18.04","body":"@jsn perhaps should to be separate answer and rated at the top. Worked for me 18.04"},{"owner":{"account_id":382614,"reputation":1159,"user_id":737956,"display_name":"Dalibor Filus"},"score":1,"creation_date":1531317144,"post_id":50103533,"comment_id":89552047,"body_markdown":"@jsn Thank you for the fix! For future readers: this works for openjdk-8-jdk, but not for openjdk-11-jdk. Seems like /etc/ca-certificates/update.d/jks-keystore doesn&#39;t seem to support openjdk-11 (it isn&#39;t listed there).","body":"@jsn Thank you for the fix! For future readers: this works for openjdk-8-jdk, but not for openjdk-11-jdk. Seems like /etc/ca-certificates/update.d/jks-keystore doesn&#39;t seem to support openjdk-11 (it isn&#39;t listed there)."},{"owner":{"account_id":324179,"reputation":1359,"user_id":644618,"accept_rate":50,"display_name":"Samrat"},"score":2,"creation_date":1531738933,"post_id":50103533,"comment_id":89692657,"body_markdown":"@jsn , thanks for the solutions , works on linux mint 19 as well which is based on ubuntu 18.04","body":"@jsn , thanks for the solutions , works on linux mint 19 as well which is based on ubuntu 18.04"},{"owner":{"account_id":14298247,"reputation":101,"user_id":10386428,"display_name":"ipkpjersi"},"score":0,"creation_date":1543074359,"post_id":50103533,"comment_id":93791220,"body_markdown":"This is the only thing that worked for me on Ubuntu 16.04 with Java 11.","body":"This is the only thing that worked for me on Ubuntu 16.04 with Java 11."},{"owner":{"account_id":53922,"reputation":17217,"user_id":161257,"accept_rate":66,"display_name":"HRJ"},"score":2,"creation_date":1553697355,"post_id":50103533,"comment_id":97481729,"body_markdown":"@jsn&#39;s solution also worked for Debian Stretch + openjdk8","body":"@jsn&#39;s solution also worked for Debian Stretch + openjdk8"},{"owner":{"account_id":3239873,"reputation":1338,"user_id":2733184,"accept_rate":50,"display_name":"hanzo2001"},"score":0,"creation_date":1574874034,"post_id":50103533,"comment_id":104387695,"body_markdown":"I changed the Java version for NiFi from an Oracle version to a more modern OpenJDK and it worked","body":"I changed the Java version for NiFi from an Oracle version to a more modern OpenJDK and it worked"},{"owner":{"account_id":9774021,"reputation":197,"user_id":7244752,"display_name":"Asylzat"},"score":1,"creation_date":1591195413,"post_id":50103533,"comment_id":109964268,"body_markdown":"the third solution helped me a lot, but if you added how to regenerate cacerts, it would be much greater. &quot;sudo update-ca-certificates -f&quot; and &quot;sudo apt install ca-certificates-java --reinstall&quot; which i found [here](https://askubuntu.com/questions/971059/17-10-openjdk-and-oracle-jdk-8-and-9-the-trustanchors-parameter-must-be-non-empt)","body":"the third solution helped me a lot, but if you added how to regenerate cacerts, it would be much greater. &quot;sudo update-ca-certificates -f&quot; and &quot;sudo apt install ca-certificates-java --reinstall&quot; which i found <a href=\"https://askubuntu.com/questions/971059/17-10-openjdk-and-oracle-jdk-8-and-9-the-trustanchors-parameter-must-be-non-empt\">here</a>"},{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":0,"creation_date":1591197130,"post_id":50103533,"comment_id":109965389,"body_markdown":"Glad to hear that, @AsylzatAzaev. I clarified the sentence you pointed out.","body":"Glad to hear that, @AsylzatAzaev. I clarified the sentence you pointed out."},{"owner":{"account_id":9143813,"reputation":461,"user_id":6800815,"display_name":"Zadat Olayinka"},"score":0,"creation_date":1593767379,"post_id":50103533,"comment_id":110900104,"body_markdown":"I struggled with this for days.  `sudo update-ca-certificates -f` and `sudo apt install ca-certificates-java --reinstall` fixed it for me on maven Ubuntu 18","body":"I struggled with this for days.  <code>sudo update-ca-certificates -f</code> and <code>sudo apt install ca-certificates-java --reinstall</code> fixed it for me on maven Ubuntu 18"}],"tags":[],"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"comment_count":16,"down_vote_count":2,"up_vote_count":304,"is_accepted":false,"score":302,"last_activity_date":1591197084,"creation_date":1525101765,"answer_id":50103533,"question_id":6784463,"body_markdown":"In **Ubuntu 18.04**, this error has a different cause (JEP 229, switch from the `jks` keystore default format to the `pkcs12` format, and the Debian cacerts file generation using the default for new files) and [workaround](https://gist.github.com/mikaelhg/527204e746984cf9a33f7910bb8b4cb6):\r\n\r\n&lt;!-- language: lang-bsh --&gt;\r\n\r\n    # Ubuntu 18.04 and various Docker images such as openjdk:9-jdk throw exceptions when\r\n    # Java applications use SSL and HTTPS, because Java 9 changed a file format, if you\r\n    # create that file from scratch, like Debian / Ubuntu do.\r\n    #\r\n    # Before applying, run your application with the Java command line parameter\r\n    #  java -Djavax.net.ssl.trustStorePassword=changeit ...\r\n    # to verify that this workaround is relevant to your particular issue.\r\n    #\r\n    # The parameter by itself can be used as a workaround, as well.\r\n    \r\n    # 0. First make yourself root with &#39;sudo bash&#39;.\r\n\r\n    # 1. Save an empty JKS file with the default &#39;changeit&#39; password for Java cacerts.\r\n    #    Use &#39;printf&#39; instead of &#39;echo&#39; for Dockerfile RUN compatibility.\r\n    /usr/bin/printf &#39;\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92&#39; &gt; /etc/ssl/certs/java/cacerts\r\n    \r\n    # 2. Re-add all the CA certs into the previously empty file.\r\n    /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\n----\r\n\r\n**Status (2018-08-07)**, the bug has been fixed in Ubuntu Bionic LTS 18.04.1 and Ubuntu Cosmic 18.10. \r\n\r\n----\r\n\r\n&#128505; [Ubuntu 1770553: [SRU] backport ca-certificates-java from cosmic (20180413ubuntu1)](https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1770553)\r\n\r\n&#128505; [Ubuntu 1769013: Please merge ca-certificates-java 20180413 (main) from Debian unstable (main)](https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1769013)\r\n\r\n&#128505; [Ubuntu 1739631: Fresh install with JDK 9 can&#39;t use the generated PKCS12 cacerts keystore file](https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631)\r\n\r\n&#128505; [docker-library 145: 9-jdk image has SSL issues](https://github.com/docker-library/openjdk/issues/145)\r\n\r\n&#128505; [Debian 894979: ca-certificates-java: does not work with OpenJDK 9, applications fail with InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=894979)\r\n\r\n&#128505; [JDK-8044445 : JEP 229: Create PKCS12 Keystores by Default](https://bugs.java.com/view_bug.do?bug_id=8044445)\r\n\r\n&#128442; [JEP 229: Create PKCS12 Keystores by Default](http://openjdk.java.net/jeps/229)\r\n\r\n----\r\n\r\nIf the issue continues after this workaround, you might want to make sure that you&#39;re actually running the Java distribution you just fixed.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    $ which java\r\n    /usr/bin/java\r\n\r\nYou can set the Java alternatives to &#39;auto&#39; with:\r\n\r\n    $ sudo update-java-alternatives -a\r\n    update-alternatives: error: no alternatives for mozilla-javaplugin.so\r\n\r\nYou can double-check the Java version you&#39;re executing:\r\n\r\n    $ java --version\r\n    openjdk 10.0.1 2018-04-17\r\n    OpenJDK Runtime Environment (build 10.0.1+10-Ubuntu-3ubuntu1)\r\n    OpenJDK 64-Bit Server VM (build 10.0.1+10-Ubuntu-3ubuntu1, mixed mode)\r\n\r\n----\r\n\r\nThere are alternative workarounds as well, but those have their own side effects which will require extra future maintenance, for no payoff whatsoever.\r\n\r\nThe next-best workaround is to add the row\r\n\r\n    javax.net.ssl.trustStorePassword=changeit\r\n\r\nto the files\r\n\r\n    /etc/java-9-openjdk/management/management.properties\r\n    /etc/java-11-openjdk/management/management.properties\r\n\r\nwhichever exists.\r\n\r\nThe third least problematic workaround is to change the value of\r\n\r\n    keystore.type=pkcs12\r\n\r\nto \r\n\r\n    keystore.type=jks\r\n\r\nin the files \r\n\r\n    /etc/java-9-openjdk/security/java.security\r\n    /etc/java-11-openjdk/security/java.security\r\n\r\nwhichever exists, and then remove the `cacerts` file and regenerate it in the manner described on the last row of the workaround script at the top of the post.\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In <strong>Ubuntu 18.04</strong>, this error has a different cause (JEP 229, switch from the <code>jks</code> keystore default format to the <code>pkcs12</code> format, and the Debian cacerts file generation using the default for new files) and <a href=\"https://gist.github.com/mikaelhg/527204e746984cf9a33f7910bb8b4cb6\" rel=\"noreferrer\">workaround</a>:</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code># Ubuntu 18.04 and various Docker images such as openjdk:9-jdk throw exceptions when\n# Java applications use SSL and HTTPS, because Java 9 changed a file format, if you\n# create that file from scratch, like Debian / Ubuntu do.\n#\n# Before applying, run your application with the Java command line parameter\n#  java -Djavax.net.ssl.trustStorePassword=changeit ...\n# to verify that this workaround is relevant to your particular issue.\n#\n# The parameter by itself can be used as a workaround, as well.\n\n# 0. First make yourself root with 'sudo bash'.\n\n# 1. Save an empty JKS file with the default 'changeit' password for Java cacerts.\n#    Use 'printf' instead of 'echo' for Dockerfile RUN compatibility.\n/usr/bin/printf '\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92' &gt; /etc/ssl/certs/java/cacerts\n\n# 2. Re-add all the CA certs into the previously empty file.\n/var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<hr>\n\n<p><strong>Status (2018-08-07)</strong>, the bug has been fixed in Ubuntu Bionic LTS 18.04.1 and Ubuntu Cosmic 18.10. </p>\n\n<hr>\n\n<p>🗹 <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1770553\" rel=\"noreferrer\">Ubuntu 1770553: [SRU] backport ca-certificates-java from cosmic (20180413ubuntu1)</a></p>\n\n<p>🗹 <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1769013\" rel=\"noreferrer\">Ubuntu 1769013: Please merge ca-certificates-java 20180413 (main) from Debian unstable (main)</a></p>\n\n<p>🗹 <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631\" rel=\"noreferrer\">Ubuntu 1739631: Fresh install with JDK 9 can't use the generated PKCS12 cacerts keystore file</a></p>\n\n<p>🗹 <a href=\"https://github.com/docker-library/openjdk/issues/145\" rel=\"noreferrer\">docker-library 145: 9-jdk image has SSL issues</a></p>\n\n<p>🗹 <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=894979\" rel=\"noreferrer\">Debian 894979: ca-certificates-java: does not work with OpenJDK 9, applications fail with InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty</a></p>\n\n<p>🗹 <a href=\"https://bugs.java.com/view_bug.do?bug_id=8044445\" rel=\"noreferrer\">JDK-8044445 : JEP 229: Create PKCS12 Keystores by Default</a></p>\n\n<p>🖺 <a href=\"http://openjdk.java.net/jeps/229\" rel=\"noreferrer\">JEP 229: Create PKCS12 Keystores by Default</a></p>\n\n<hr>\n\n<p>If the issue continues after this workaround, you might want to make sure that you're actually running the Java distribution you just fixed.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ which java\n/usr/bin/java\n</code></pre>\n\n<p>You can set the Java alternatives to 'auto' with:</p>\n\n<pre><code>$ sudo update-java-alternatives -a\nupdate-alternatives: error: no alternatives for mozilla-javaplugin.so\n</code></pre>\n\n<p>You can double-check the Java version you're executing:</p>\n\n<pre><code>$ java --version\nopenjdk 10.0.1 2018-04-17\nOpenJDK Runtime Environment (build 10.0.1+10-Ubuntu-3ubuntu1)\nOpenJDK 64-Bit Server VM (build 10.0.1+10-Ubuntu-3ubuntu1, mixed mode)\n</code></pre>\n\n<hr>\n\n<p>There are alternative workarounds as well, but those have their own side effects which will require extra future maintenance, for no payoff whatsoever.</p>\n\n<p>The next-best workaround is to add the row</p>\n\n<pre><code>javax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>to the files</p>\n\n<pre><code>/etc/java-9-openjdk/management/management.properties\n/etc/java-11-openjdk/management/management.properties\n</code></pre>\n\n<p>whichever exists.</p>\n\n<p>The third least problematic workaround is to change the value of</p>\n\n<pre><code>keystore.type=pkcs12\n</code></pre>\n\n<p>to </p>\n\n<pre><code>keystore.type=jks\n</code></pre>\n\n<p>in the files </p>\n\n<pre><code>/etc/java-9-openjdk/security/java.security\n/etc/java-11-openjdk/security/java.security\n</code></pre>\n\n<p>whichever exists, and then remove the <code>cacerts</code> file and regenerate it in the manner described on the last row of the workaround script at the top of the post.</p>\n"},{"comments":[{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":0,"creation_date":1529682208,"post_id":50688351,"comment_id":88977479,"body_markdown":"This description is factually incorrect, and only fixes the problem in the same sense as reinstalling Windows might fix an issue. There is no need to remove all Java packages. If you want to go this way, you only need to install the `openjdk-8-jdk` package, remove the `/etc/ssl/certs/java/cacerts` file, and run `sudo update-ca-certificates -f` which is the roundabout way of switching from a `pkcs12` formatted cacerts file to a `jks` formatted one, as described elsewhere in this thread.","body":"This description is factually incorrect, and only fixes the problem in the same sense as reinstalling Windows might fix an issue. There is no need to remove all Java packages. If you want to go this way, you only need to install the <code>openjdk-8-jdk</code> package, remove the <code>&#47;etc&#47;ssl&#47;certs&#47;java&#47;cacerts</code> file, and run <code>sudo update-ca-certificates -f</code> which is the roundabout way of switching from a <code>pkcs12</code> formatted cacerts file to a <code>jks</code> formatted one, as described elsewhere in this thread."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1529941642,"post_id":50688351,"comment_id":89047053,"body_markdown":"@MikaelGueck While the logic seems to be on your side, I&#39;m here to assure you I previously did exactly what&#39;s described in your comment and in the most other voted answers, and in 18.04 **this is the only answer which worked**. I think your downvote should turn into an upvote, or at least vanish, since it&#39;s highly undeserved.","body":"@MikaelGueck While the logic seems to be on your side, I&#39;m here to assure you I previously did exactly what&#39;s described in your comment and in the most other voted answers, and in 18.04 <b>this is the only answer which worked</b>. I think your downvote should turn into an upvote, or at least vanish, since it&#39;s highly undeserved."},{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":0,"creation_date":1529950035,"post_id":50688351,"comment_id":89051251,"body_markdown":"@AndreaLigios, you can read through the scripts yourself, they are pretty short. They have a hardcoded set of JAVA_HOME paths from 8 to 10, they try those one at a time, they call the Debian CA file generator which you can also read through, which uses the existing file format, because the JDK keyfile handler code, which you can read through, has a compatibility fallback mode. If your computer runs this simple software differently, you might have other problems with it. Did you modify your java alternatives, and call some other JVM, because then removing might have reset the alternatives?","body":"@AndreaLigios, you can read through the scripts yourself, they are pretty short. They have a hardcoded set of JAVA_HOME paths from 8 to 10, they try those one at a time, they call the Debian CA file generator which you can also read through, which uses the existing file format, because the JDK keyfile handler code, which you can read through, has a compatibility fallback mode. If your computer runs this simple software differently, you might have other problems with it. Did you modify your java alternatives, and call some other JVM, because then removing might have reset the alternatives?"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1529954563,"post_id":50688351,"comment_id":89053273,"body_markdown":"@MikaelGueck yes, in one of the previous tries I&#39;ve modified my java alternatives, so it probably was that. I&#39;m the first who likes to dig into source code and find how stuff works, but this today was not my goal, it was just one among 5-6 different unexpected obstacles I had in the way to my real goal.  This answer allowed me to solve the problem in less than 2 minutes! How much time should I have put to look into scripts and find a better solution? And for what, to save some megabytes? This is drastic, but works (and no matter what the problem is), so a big thank to OP for those busy as hell","body":"@MikaelGueck yes, in one of the previous tries I&#39;ve modified my java alternatives, so it probably was that. I&#39;m the first who likes to dig into source code and find how stuff works, but this today was not my goal, it was just one among 5-6 different unexpected obstacles I had in the way to my real goal.  This answer allowed me to solve the problem in less than 2 minutes! How much time should I have put to look into scripts and find a better solution? And for what, to save some megabytes? This is drastic, but works (and no matter what the problem is), so a big thank to OP for those busy as hell"},{"owner":{"account_id":4282989,"reputation":939,"user_id":3501748,"display_name":"northern-bradley"},"score":0,"creation_date":1530975148,"post_id":50688351,"comment_id":89428858,"body_markdown":"when actually executing the 2 purges and seeing the list of packages that apt was removing this seemed a bit heavy handed to me however it did the trick for my unimportant kubuntu 18.04 install so i&#39;m happy\n\nto save a small amount of typing i used `sudo apt-get purge openjdk* java-common default-jdk` rather than `--purge remove`","body":"when actually executing the 2 purges and seeing the list of packages that apt was removing this seemed a bit heavy handed to me however it did the trick for my unimportant kubuntu 18.04 install so i&#39;m happy  to save a small amount of typing i used <code>sudo apt-get purge openjdk* java-common default-jdk</code> rather than <code>--purge remove</code>"},{"owner":{"account_id":1002911,"reputation":638,"user_id":1017363,"accept_rate":50,"display_name":"PiKey"},"score":0,"creation_date":1531464935,"post_id":50688351,"comment_id":89614301,"body_markdown":"Worked on Ubuntu 18.04 LTS. Also I had to make sure the $JAVA_HOME is set to /usr/lib/jvm/java-1.8.0-openjdk-amd64","body":"Worked on Ubuntu 18.04 LTS. Also I had to make sure the $JAVA_HOME is set to /usr/lib/jvm/java-1.8.0-openjdk-amd64"},{"owner":{"account_id":7610411,"reputation":171,"user_id":5771444,"display_name":"Inmer"},"score":1,"creation_date":1531542083,"post_id":50688351,"comment_id":89645582,"body_markdown":"I have been looking for a solution for 2 days, and your answer solved my issue, thanks. I just move to Kubuntu 18.04, this worked on it.","body":"I have been looking for a solution for 2 days, and your answer solved my issue, thanks. I just move to Kubuntu 18.04, this worked on it."},{"owner":{"account_id":2619284,"reputation":588,"user_id":2267690,"display_name":"Ranjeet Singh"},"score":0,"creation_date":1569315893,"post_id":50688351,"comment_id":102548072,"body_markdown":"Downloading jdk worked for me. https://www.oracle.com/technetwork/java/javase/downloads/jdk13-downloads-5672538.html","body":"Downloading jdk worked for me. <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk13-downloads-5672538.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>"}],"tags":[],"owner":{"account_id":2963929,"reputation":1238,"user_id":2914935,"display_name":"shvahabi"},"comment_count":8,"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1544521346,"creation_date":1528144412,"answer_id":50688351,"question_id":6784463,"body_markdown":"On Ubuntu 18.04 the root cause is a conflict between openjdk-11-jdk (which is default) and other packages depending on it. It has already been fixed in Debian and will be included in Ubuntu shortly. Meanwhile the simplest workaround is to demote your java to version 8. Other solutions employing `ca-certificates-java` are much more complicated.\r\n\r\nFirst remove conflicting packages:\r\n\r\n    sudo apt-get remove --purge openjdk* java-common default-jdk\r\n    sudo apt-get autoremove --purge\r\n\r\nCheck whether you successfully removed all related packages by:\r\n\r\n    sudo update-alternatives --config java\r\n\r\nThe system shall prompt you **there is no Java available to config**, otherwise this workaround **fails**.\r\n\r\nThen reinstall required packages:\r\n\r\n    sudo apt-get install openjdk-8-jdk","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Ubuntu 18.04 the root cause is a conflict between openjdk-11-jdk (which is default) and other packages depending on it. It has already been fixed in Debian and will be included in Ubuntu shortly. Meanwhile the simplest workaround is to demote your java to version 8. Other solutions employing <code>ca-certificates-java</code> are much more complicated.</p>\n\n<p>First remove conflicting packages:</p>\n\n<pre><code>sudo apt-get remove --purge openjdk* java-common default-jdk\nsudo apt-get autoremove --purge\n</code></pre>\n\n<p>Check whether you successfully removed all related packages by:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>The system shall prompt you <strong>there is no Java available to config</strong>, otherwise this workaround <strong>fails</strong>.</p>\n\n<p>Then reinstall required packages:</p>\n\n<pre><code>sudo apt-get install openjdk-8-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8963670,"reputation":513,"user_id":6685260,"display_name":"Gabriel Cs&#233;falvay"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584625174,"creation_date":1528365611,"answer_id":50738393,"question_id":6784463,"body_markdown":"I encountered this problem with the Android SDK sdkmanager. For me this solution worked:\r\n\r\n 1. Go to `/usr/lib/jvm/java-8-oracle/jre/lib/security/`\r\n 2. Replace `cacert` with `cacert.original`\r\n\r\nThe `cacert` file was a tiny one (22B). I have installed `oracle-java8-installer` from `ppa:webupd8team/java` (according to this manual: https://docs.nativescript.org/start/ns-setup-linux). ","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I encountered this problem with the Android SDK sdkmanager. For me this solution worked:</p>\n\n<ol>\n<li>Go to <code>/usr/lib/jvm/java-8-oracle/jre/lib/security/</code></li>\n<li>Replace <code>cacert</code> with <code>cacert.original</code></li>\n</ol>\n\n<p>The <code>cacert</code> file was a tiny one (22B). I have installed <code>oracle-java8-installer</code> from <code>ppa:webupd8team/java</code> (according to this manual: <a href=\"https://docs.nativescript.org/start/ns-setup-linux\" rel=\"nofollow noreferrer\">https://docs.nativescript.org/start/ns-setup-linux</a>). </p>\n"},{"comments":[{"owner":{"account_id":1623600,"reputation":974,"user_id":1499667,"display_name":"Marty"},"score":0,"creation_date":1586423936,"post_id":52609144,"comment_id":108124333,"body_markdown":"I think this was the case for me as well. In AdoptOpenJDK 202 this bug is present, and in 222 it works. So update your jdk if possible.","body":"I think this was the case for me as well. In AdoptOpenJDK 202 this bug is present, and in 222 it works. So update your jdk if possible."}],"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1584622941,"creation_date":1538486131,"answer_id":52609144,"question_id":6784463,"body_markdown":"Some OpenJDK vendors releases caused this by having an empty `cacerts` file distributed with the binary. The bug is explained here: https://github.com/AdoptOpenJDK/openjdk-build/issues/555\r\n\r\nYou can copy to `adoptOpenJdk8\\jre\\lib\\security\\cacerts` the file from an old instalation like `c:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security\\cacerts`.\r\n\r\nThe AdoptOpenJDK buggy version is https://github.com/AdoptOpenJDK/openjdk8-releases/releases/download/jdk8u172-b11/OpenJDK8_x64_Win_jdk8u172-b11.zip\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Some OpenJDK vendors releases caused this by having an empty <code>cacerts</code> file distributed with the binary. The bug is explained here: <a href=\"https://github.com/AdoptOpenJDK/openjdk-build/issues/555\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk-build/issues/555</a></p>\n\n<p>You can copy to <code>adoptOpenJdk8\\jre\\lib\\security\\cacerts</code> the file from an old instalation like <code>c:\\Program Files\\Java\\jdk1.8.0_192\\jre\\lib\\security\\cacerts</code>.</p>\n\n<p>The AdoptOpenJDK buggy version is <a href=\"https://github.com/AdoptOpenJDK/openjdk8-releases/releases/download/jdk8u172-b11/OpenJDK8_x64_Win_jdk8u172-b11.zip\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-releases/releases/download/jdk8u172-b11/OpenJDK8_x64_Win_jdk8u172-b11.zip</a></p>\n"},{"comments":[{"owner":{"account_id":2749863,"reputation":61,"user_id":2369498,"display_name":"prash"},"score":0,"creation_date":1643899345,"post_id":54156381,"comment_id":125465975,"body_markdown":"a system reboot is also required it seems after all this steps","body":"a system reboot is also required it seems after all this steps"}],"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547261394,"creation_date":1547261394,"answer_id":54156381,"question_id":6784463,"body_markdown":"on ubuntu 14.04 with openjdk 11 from ppa:openjdk-r/ppa this worked for me:\r\n\r\nin java.security change keystore type to \r\n\r\n    keystore.type=jks\r\n\r\nthen:\r\n\r\n    sudo dpkg --purge --force-depends ca-certificates-java\r\n    sudo apt-get install ca-certificates-java\r\n\r\nwhen you check if it worked, be sure you are not using any daemon with old java still running (eg. `--no-daemon` option for gradle)\r\n\r\nthis bug describes everything nicely and will help you understand what&#39;s going on https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631","title":"Error - trustAnchors parameter must be non-empty","body":"<p>on ubuntu 14.04 with openjdk 11 from ppa:openjdk-r/ppa this worked for me:</p>\n\n<p>in java.security change keystore type to </p>\n\n<pre><code>keystore.type=jks\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>sudo dpkg --purge --force-depends ca-certificates-java\nsudo apt-get install ca-certificates-java\n</code></pre>\n\n<p>when you check if it worked, be sure you are not using any daemon with old java still running (eg. <code>--no-daemon</code> option for gradle)</p>\n\n<p>this bug describes everything nicely and will help you understand what's going on <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631\" rel=\"nofollow noreferrer\">https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1739631</a></p>\n"},{"tags":[],"owner":{"account_id":417139,"reputation":367,"user_id":792962,"accept_rate":75,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564047848,"creation_date":1564047848,"answer_id":57198962,"question_id":6784463,"body_markdown":"On Ubuntu 18.04 I needed to use OpenJDK 1.7 for the maintenance of an old project. I downloaded the binary package. But when I executed my script on it I got the same error.\r\n\r\nThe solution was to remove the `cacerts` file of the downloaded JDK in the `jre/lib/security` folder and then to create it as symlink to the systems `cacerts` file in `/etc/ssl/certs/java/`:\r\n\r\n`sudo ln -s /etc/ssl/certs/java/cacerts /path/to/downloaded/java/jre/lib/security/cacerts`","title":"Error - trustAnchors parameter must be non-empty","body":"<p>On Ubuntu 18.04 I needed to use OpenJDK 1.7 for the maintenance of an old project. I downloaded the binary package. But when I executed my script on it I got the same error.</p>\n\n<p>The solution was to remove the <code>cacerts</code> file of the downloaded JDK in the <code>jre/lib/security</code> folder and then to create it as symlink to the systems <code>cacerts</code> file in <code>/etc/ssl/certs/java/</code>:</p>\n\n<p><code>sudo ln -s /etc/ssl/certs/java/cacerts /path/to/downloaded/java/jre/lib/security/cacerts</code></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686226234,"post_id":57407399,"comment_id":134771656,"body_markdown":"A truststore that had only a private key entry and no trusted certificate entry isn&#39;t a truststore at all. It is a keystore.","body":"A truststore that had only a private key entry and no trusted certificate entry isn&#39;t a truststore at all. It is a keystore."}],"tags":[],"owner":{"account_id":1022880,"reputation":2804,"user_id":1032791,"accept_rate":73,"display_name":"Julius"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565249523,"creation_date":1565249523,"answer_id":57407399,"question_id":6784463,"body_markdown":"I found yet another reason for this error, which is not related to Ubuntu.\r\n\r\nI tried setting up mutual TLS in a Spring boot 2 app and ran into this issue after using a truststore that had only a private key entry and no trusted certificate entry. \r\n\r\nThis is my Spring Boot TLS configuration\r\n\r\n    server.port=8443\r\n    server.ssl.key-alias=oba-tls\r\n    server.ssl.key-password=mypw\r\n    server.ssl.key-store-password=mypw\r\n    server.ssl.key-store=classpath:keys/tls-keystore.pfx\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.enabled=true\r\n    server.ssl.client-auth=need\r\n    \r\n    server.ssl.trust-store=classpath:keys/truststore.pfx\r\n    server.ssl.trust-store-password=mypw\r\n    server.ssl.trust-store-type=PKCS12\r\n    server.ssl.ciphers=ECDHE-RSA-AES128-GCM-SHA256,ECDHE-RSA-AES256-SHA384\r\n    server.ssl.protocol=TLS\r\n    server.ssl.enabled-protocols=TLSv1.2\r\n\r\nFor generating truststore.pfx I had to use the following commands to make it work.\r\n\r\n    openssl req -newkey rsa:2048 -nodes -keyout private.key -x509 -out cert.crt\r\n    \r\n    keytool -importcert -alias oba-trust -file cert.crt -keystore truststore.jks\r\n    \r\n    keytool -importkeystore -srckeystore truststore.jks -destkeystore truststore.pfx -srcstoretype JKS - deststoretype PKCS12 -deststorepass yourpassword\r\n\r\n ","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I found yet another reason for this error, which is not related to Ubuntu.</p>\n\n<p>I tried setting up mutual TLS in a Spring boot 2 app and ran into this issue after using a truststore that had only a private key entry and no trusted certificate entry. </p>\n\n<p>This is my Spring Boot TLS configuration</p>\n\n<pre><code>server.port=8443\nserver.ssl.key-alias=oba-tls\nserver.ssl.key-password=mypw\nserver.ssl.key-store-password=mypw\nserver.ssl.key-store=classpath:keys/tls-keystore.pfx\nserver.ssl.key-store-type=PKCS12\nserver.ssl.enabled=true\nserver.ssl.client-auth=need\n\nserver.ssl.trust-store=classpath:keys/truststore.pfx\nserver.ssl.trust-store-password=mypw\nserver.ssl.trust-store-type=PKCS12\nserver.ssl.ciphers=ECDHE-RSA-AES128-GCM-SHA256,ECDHE-RSA-AES256-SHA384\nserver.ssl.protocol=TLS\nserver.ssl.enabled-protocols=TLSv1.2\n</code></pre>\n\n<p>For generating truststore.pfx I had to use the following commands to make it work.</p>\n\n<pre><code>openssl req -newkey rsa:2048 -nodes -keyout private.key -x509 -out cert.crt\n\nkeytool -importcert -alias oba-trust -file cert.crt -keystore truststore.jks\n\nkeytool -importkeystore -srckeystore truststore.jks -destkeystore truststore.pfx -srcstoretype JKS - deststoretype PKCS12 -deststorepass yourpassword\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13535303,"reputation":29,"user_id":9764652,"display_name":"Dimitar Dimitrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584625098,"creation_date":1566374823,"answer_id":57587112,"question_id":6784463,"body_markdown":"I had the same error, and the problem was not in configuring the JDK, but a simple wrong path to the JKS file in `application.properties` file under `trust-store:` parameter, double-check if the path is correct.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I had the same error, and the problem was not in configuring the JDK, but a simple wrong path to the JKS file in <code>application.properties</code> file under <code>trust-store:</code> parameter, double-check if the path is correct.</p>\n"},{"tags":[],"owner":{"account_id":15195792,"reputation":339,"user_id":10965177,"display_name":"NELSON RODRIGUEZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584625044,"creation_date":1575595410,"answer_id":59205576,"question_id":6784463,"body_markdown":"I ran\r\n\r\n    sudo update-ca-certificates -f\r\n\r\nto create a certificate file, and then:\r\n\r\n    sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure`\r\n\r\nand then change the command line of jar execution:\r\n\r\n    sudo java -cp xx.jar:lib/* co.com.ixxx.clixxxlarxa.Main","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran</p>\n\n<pre><code>sudo update-ca-certificates -f\n</code></pre>\n\n<p>to create a certificate file, and then:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure`\n</code></pre>\n\n<p>and then change the command line of jar execution:</p>\n\n<pre><code>sudo java -cp xx.jar:lib/* co.com.ixxx.clixxxlarxa.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16914885,"reputation":77,"user_id":12233118,"display_name":"Poli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575979796,"creation_date":1575979796,"answer_id":59266912,"question_id":6784463,"body_markdown":"For my case I didn&#39;t had specified VM Arguments fully.\r\n\r\n(```Run Configurations.. &gt; (under Apache Tomcat) any server &gt; (x)= Arguments &gt; VM arguments:```)\r\n\r\nMake sure all VM Arguments are set tup correctly.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>For my case I didn't had specified VM Arguments fully.</p>\n\n<p>(<code>Run Configurations.. &gt; (under Apache Tomcat) any server &gt; (x)= Arguments &gt; VM arguments:</code>)</p>\n\n<p>Make sure all VM Arguments are set tup correctly.</p>\n"},{"tags":[],"owner":{"account_id":2989870,"reputation":391,"user_id":2537652,"accept_rate":50,"display_name":"Christian Bartram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578853165,"creation_date":1578853165,"answer_id":59706817,"question_id":6784463,"body_markdown":"Slim chance this will help anyone but....for anyone running Java 8 from a Docker Image on a Raspberry Pi (using AMD CPU) I got the following Dockerfile to build and run successfully for me\r\n\r\n```\r\nFROM hypriot/rpi-java\r\nUSER root\r\n\r\nWORKDIR /usr/build/\r\n\r\nRUN /usr/bin/printf &#39;\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92&#39; &gt; /etc/ssl/certs/java/cacerts\r\nRUN update-ca-certificates -f\r\nRUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\nEXPOSE 8080\r\n\r\nARG JAR_FILE=target/app-0.0.1-SNAPSHOT.jar\r\n\r\nADD ${JAR_FILE} app.jar\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-Djavax.net.ssl.trustStorePassword=changeit&quot;, &quot;-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Slim chance this will help anyone but....for anyone running Java 8 from a Docker Image on a Raspberry Pi (using AMD CPU) I got the following Dockerfile to build and run successfully for me</p>\n\n<pre><code>FROM hypriot/rpi-java\nUSER root\n\nWORKDIR /usr/build/\n\nRUN /usr/bin/printf '\\xfe\\xed\\xfe\\xed\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\xe2\\x68\\x6e\\x45\\xfb\\x43\\xdf\\xa4\\xd9\\x92\\xdd\\x41\\xce\\xb6\\xb2\\x1c\\x63\\x30\\xd7\\x92' &gt; /etc/ssl/certs/java/cacerts\nRUN update-ca-certificates -f\nRUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\n\nEXPOSE 8080\n\nARG JAR_FILE=target/app-0.0.1-SNAPSHOT.jar\n\nADD ${JAR_FILE} app.jar\n\nENTRYPOINT [\"java\", \"-Djavax.net.ssl.trustStorePassword=changeit\", \"-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\", \"-jar\", \"app.jar\"]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":392775,"reputation":1744,"user_id":754250,"display_name":"HoaPhan"},"score":0,"creation_date":1655916911,"post_id":60935875,"comment_id":128447523,"body_markdown":"&quot;Oops, there is a problem\nThe page you requested cannot be found. Search by entering one or more keywords in the search field above&quot;","body":"&quot;Oops, there is a problem The page you requested cannot be found. Search by entering one or more keywords in the search field above&quot;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686226389,"post_id":60935875,"comment_id":134771695,"body_markdown":"This command adds to the truststore, not the keystore. Don&#39;t get these things confused. They share the same format but they serve completely different purposes.","body":"This command adds to the truststore, not the keystore. Don&#39;t get these things confused. They share the same format but they serve completely different purposes."}],"tags":[],"owner":{"account_id":4188359,"reputation":17,"user_id":3431510,"display_name":"Prashant"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1585588511,"creation_date":1585588511,"answer_id":60935875,"question_id":6784463,"body_markdown":"You must add the cert file to your java keystore\r\nGo to chrom , open the website , save the certificate in txt format\r\n\r\nGo to cmd&gt; keytool -import -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -alias Root -import -file Trustedcaroot.txt\r\n\r\nhttps://knowledge.digicert.com/solution/SO4085.html\r\n\r\nThis has worked like a charm","title":"Error - trustAnchors parameter must be non-empty","body":"<p>You must add the cert file to your java keystore\nGo to chrom , open the website , save the certificate in txt format</p>\n\n<p>Go to cmd> keytool -import -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -alias Root -import -file Trustedcaroot.txt</p>\n\n<p><a href=\"https://knowledge.digicert.com/solution/SO4085.html\" rel=\"nofollow noreferrer\">https://knowledge.digicert.com/solution/SO4085.html</a></p>\n\n<p>This has worked like a charm</p>\n"},{"tags":[],"owner":{"account_id":6463622,"reputation":2214,"user_id":5006469,"accept_rate":80,"display_name":"rdupz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594979420,"creation_date":1594979420,"answer_id":62951487,"question_id":6784463,"body_markdown":"Fall into this using Amazon SDK v2, Windows 10 and JDK8.\r\nAmazon SDK was complaining about credentials loading.  \r\nI solved this by replacing the `security/cacert` file of JDK8 by the JDK11 one.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>Fall into this using Amazon SDK v2, Windows 10 and JDK8.\nAmazon SDK was complaining about credentials loading.<br />\nI solved this by replacing the <code>security/cacert</code> file of JDK8 by the JDK11 one.</p>\n"},{"comments":[{"owner":{"account_id":10026416,"reputation":303,"user_id":7414488,"display_name":"Mayur"},"score":0,"creation_date":1600929738,"post_id":63096779,"comment_id":113245257,"body_markdown":"for the same issue my cacert had 0 entries , so having the right cacerts resolved my issue","body":"for the same issue my cacert had 0 entries , so having the right cacerts resolved my issue"}],"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688568408,"creation_date":1595744435,"answer_id":63096779,"question_id":6784463,"body_markdown":"I&#39;m a fan of portability, so I don&#39;t install java, just download the tar.gz and export some values in the path and everything works.\r\n\r\nI fought with this issue and no solution (install or update operative systems certs). Nothing worked for me.\r\n\r\n## cacerts file is empty\r\n\r\nIn my case, reviewing my jdk folder, the cacerts file had a little size compared with other jdk folder (servers &amp; friends):\r\n\r\n `/../some_openjdk/jre/lib/security/cacerts` **size: 32 bytes**\r\n\r\nI downloaded it from:\r\n\r\n- https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz\r\n- https://download.java.net/java/GA/jdk9/9/binaries/openjdk-9_linux-x64_bin.tar.gz\r\n\r\n## Fix\r\n\r\nAfter several attempts I found a correct jdk.tar.gz with a **cacerts** file with size **101 KB**\r\n\r\nI downloaded the **open jdk** from [https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries](https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases)\r\n\r\n- https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/download/jdk8u262-b10/OpenJDK8U-jdk-jfr_x64_linux_8u262b10.tar.gz\r\n\r\nI found this url in this Dockerfile :\r\n\r\n- https://github.com/docker-library/openjdk/blob/b5d14d9165fad693901c285d6e7bbc36d1cde41f/8/jdk/Dockerfile","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I'm a fan of portability, so I don't install java, just download the tar.gz and export some values in the path and everything works.</p>\n<p>I fought with this issue and no solution (install or update operative systems certs). Nothing worked for me.</p>\n<h2>cacerts file is empty</h2>\n<p>In my case, reviewing my jdk folder, the cacerts file had a little size compared with other jdk folder (servers &amp; friends):</p>\n<p><code>/../some_openjdk/jre/lib/security/cacerts</code> <strong>size: 32 bytes</strong></p>\n<p>I downloaded it from:</p>\n<ul>\n<li><a href=\"https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz\" rel=\"nofollow noreferrer\">https://download.java.net/openjdk/jdk8u41/ri/openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz</a></li>\n<li><a href=\"https://download.java.net/java/GA/jdk9/9/binaries/openjdk-9_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.java.net/java/GA/jdk9/9/binaries/openjdk-9_linux-x64_bin.tar.gz</a></li>\n</ul>\n<h2>Fix</h2>\n<p>After several attempts I found a correct jdk.tar.gz with a <strong>cacerts</strong> file with size <strong>101 KB</strong></p>\n<p>I downloaded the <strong>open jdk</strong> from <a href=\"https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries</a></p>\n<ul>\n<li><a href=\"https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/download/jdk8u262-b10/OpenJDK8U-jdk-jfr_x64_linux_8u262b10.tar.gz\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/download/jdk8u262-b10/OpenJDK8U-jdk-jfr_x64_linux_8u262b10.tar.gz</a></li>\n</ul>\n<p>I found this url in this Dockerfile :</p>\n<ul>\n<li><a href=\"https://github.com/docker-library/openjdk/blob/b5d14d9165fad693901c285d6e7bbc36d1cde41f/8/jdk/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/docker-library/openjdk/blob/b5d14d9165fad693901c285d6e7bbc36d1cde41f/8/jdk/Dockerfile</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8211860,"reputation":113,"user_id":7914761,"display_name":"Gus Calca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604627484,"creation_date":1604627484,"answer_id":64707792,"question_id":6784463,"body_markdown":"[Marquis of Lorne&#39;s answer][1] is accurate, I&#39;m adding some info for debugging purposes:\r\n\r\nTo debug this issue (I wrote about it with more details in [here][2]) and understand what truststore is being used (or trying to use) you can add [the property][3] javax.net.debug=all and then filter the logs about truststore. You can also play with the property javax.net.ssl.trustStore to specify a specific truststore. For example :\r\n```\r\n\r\n    java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/Another/path/to/cacerts -jar test_get_https-0.0.1-SNAPSHOT-jar-with-dependencies.jar https://www.calca.com.py 2&gt;&amp;1| grep -i truststore\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6788682/7914761\r\n  [2]: https://medium.com/@gustavocalcaterra/debugging-yet-another-ssl-tls-error-the-trustanchors-parameter-must-be-non-empty-7dd9cb300f43\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug","title":"Error - trustAnchors parameter must be non-empty","body":"<p><a href=\"https://stackoverflow.com/a/6788682/7914761\">Marquis of Lorne's answer</a> is accurate, I'm adding some info for debugging purposes:</p>\n<p>To debug this issue (I wrote about it with more details in <a href=\"https://medium.com/@gustavocalcaterra/debugging-yet-another-ssl-tls-error-the-trustanchors-parameter-must-be-non-empty-7dd9cb300f43\" rel=\"nofollow noreferrer\">here</a>) and understand what truststore is being used (or trying to use) you can add <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\">the property</a> javax.net.debug=all and then filter the logs about truststore. You can also play with the property javax.net.ssl.trustStore to specify a specific truststore. For example :</p>\n<pre><code>\n    java -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/Another/path/to/cacerts -jar test_get_https-0.0.1-SNAPSHOT-jar-with-dependencies.jar https://www.calca.com.py 2&gt;&amp;1| grep -i truststore\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686226280,"post_id":67671367,"comment_id":134771667,"body_markdown":"Why not add a real one? You aren&#39;t going to get anywhere with either an empty truststore or one that doesn&#39;t contain anything you actually need to trust.","body":"Why not add a real one? You aren&#39;t going to get anywhere with either an empty truststore or one that doesn&#39;t contain anything you actually need to trust."}],"tags":[],"owner":{"account_id":4247211,"reputation":457,"user_id":3475522,"display_name":"Robin Mathur"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621855999,"creation_date":1621855999,"answer_id":67671367,"question_id":6784463,"body_markdown":"In my case root cause of this issue was **empty truststore** (it was app server truststore).\r\nWhen I added any **dummy x.509 certificate** then stopped throwing this error.\r\n\r\nCommand to add certificate in truststore vis keytool\r\n\r\n    keytool -import -alias dummy -keystore &lt;path to keystore&gt; -storepass &lt;truststore password if any&gt;","title":"Error - trustAnchors parameter must be non-empty","body":"<p>In my case root cause of this issue was <strong>empty truststore</strong> (it was app server truststore).\nWhen I added any <strong>dummy x.509 certificate</strong> then stopped throwing this error.</p>\n<p>Command to add certificate in truststore vis keytool</p>\n<pre><code>keytool -import -alias dummy -keystore &lt;path to keystore&gt; -storepass &lt;truststore password if any&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1690887698,"post_id":75545576,"comment_id":135412817,"body_markdown":"please provide an example of a solution","body":"please provide an example of a solution"}],"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677159392,"creation_date":1677159392,"answer_id":75545576,"question_id":6784463,"body_markdown":"I ran into the *the trustAnchors parameter must be non-empty* error when I tried to run my app in IntelliJ. To fix the problem I had to make the Run Configuration point to the JDK or JRE that had the `/lib/security/` folder which had the `cacerts` file.","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I ran into the <em>the trustAnchors parameter must be non-empty</em> error when I tried to run my app in IntelliJ. To fix the problem I had to make the Run Configuration point to the JDK or JRE that had the <code>/lib/security/</code> folder which had the <code>cacerts</code> file.</p>\n"},{"tags":[],"owner":{"account_id":4405831,"reputation":2663,"user_id":3590283,"display_name":"Sheikh Abdul Wahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689150304,"creation_date":1689150304,"answer_id":76668551,"question_id":6784463,"body_markdown":"I got the same error. But when I restarted the Tomcat service, thankfully it has gone.\r\n\r\n    sudo /usr/local/tomcat/bin/shutdown.sh\r\n    sudo /usr/local/tomcat/bin/startup.sh","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I got the same error. But when I restarted the Tomcat service, thankfully it has gone.</p>\n<pre><code>sudo /usr/local/tomcat/bin/shutdown.sh\nsudo /usr/local/tomcat/bin/startup.sh\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1690888831,"post_id":76811112,"comment_id":135413069,"body_markdown":"And how could I, for a client application, specify this via properties (application.yml) ?","body":"And how could I, for a client application, specify this via properties (application.yml) ?"}],"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690888760,"creation_date":1690888760,"answer_id":76811112,"question_id":6784463,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI had to explicitly specify the path to the store, but I didn&#39;t need to do this before. The application connects to the remote service over https.\r\n\r\n  [1]: https://i.stack.imgur.com/Vqxon.png","title":"Error - trustAnchors parameter must be non-empty","body":"<p><a href=\"https://i.stack.imgur.com/Vqxon.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vqxon.png\" alt=\"enter image description here\" /></a></p>\n<p>I had to explicitly specify the path to the store, but I didn't need to do this before. The application connects to the remote service over https.</p>\n"}],"owner":{"account_id":287225,"reputation":8441,"user_id":586907,"accept_rate":78,"display_name":"David Gill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933888,"favorite_count":0,"down_vote_count":0,"up_vote_count":602,"accepted_answer_id":6788682,"answer_count":48,"score":602,"last_activity_date":1691715747,"creation_date":1311294902,"question_id":6784463,"body_markdown":"I&#39;m trying to configure my e-mail on Jenkins/Hudson, and I constantly receive the error:\r\n\r\n    java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be\r\n        non-empty\r\n\r\nI&#39;ve seen a good amount of information online about the error, but I have not gotten any to work. I&#39;m using Sun&#39;s JDK on Fedora Linux (not OpenJDK).\r\n\r\nHere are a few things I&#39;ve tried. I tried following the advice from this [post][1], but copying the cacerts from Windows over to my Fedora box hosting Jenkins didn&#39;t work.  I tried following [this guide][2] as I&#39;m trying to configure Gmail as my SMTP server, but it didn&#39;t work either. I also tried to download and move those cacert files manually and move them over to my Java folder using a variation of the commands on [this guide][3].\r\n\r\nI am open to any suggestions as I&#39;m currently stuck right now. I have gotten it to work from a Windows Hudson server, but I am struggling on Linux.\r\n\r\n  [1]: https://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-must\r\n  [2]: http://g4j.sourceforge.net/faq.html\r\n  [3]: http://www.krzywanski.net/archives/546\r\n\r\n\r\n","title":"Error - trustAnchors parameter must be non-empty","body":"<p>I'm trying to configure my e-mail on Jenkins/Hudson, and I constantly receive the error:</p>\n\n<pre><code>java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be\n    non-empty\n</code></pre>\n\n<p>I've seen a good amount of information online about the error, but I have not gotten any to work. I'm using Sun's JDK on Fedora Linux (not OpenJDK).</p>\n\n<p>Here are a few things I've tried. I tried following the advice from this <a href=\"https://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-must\">post</a>, but copying the cacerts from Windows over to my Fedora box hosting Jenkins didn't work.  I tried following <a href=\"http://g4j.sourceforge.net/faq.html\" rel=\"noreferrer\">this guide</a> as I'm trying to configure Gmail as my SMTP server, but it didn't work either. I also tried to download and move those cacert files manually and move them over to my Java folder using a variation of the commands on <a href=\"http://www.krzywanski.net/archives/546\" rel=\"noreferrer\">this guide</a>.</p>\n\n<p>I am open to any suggestions as I'm currently stuck right now. I have gotten it to work from a Windows Hudson server, but I am struggling on Linux.</p>\n"},{"tags":["java","maven","jenkins","build"],"owner":{"account_id":17819871,"reputation":33,"user_id":13342448,"display_name":"Bally2716"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691714380,"creation_date":1691714380,"question_id":76880093,"body_markdown":"Having an issue with versioning on my project. It&#39;s a multi-module project with the parent being in a &quot;parent&quot; subfolder. The child pom in the root of the project just simply states the modules that need to be compiled. My fix for versioning states that it only works when the parent pom is in the git root folder. Are there any concerns &quot;merging&quot; the child pom and parent pom with the modules and putting the parent in the root of the project? I would then have to give all inherited child poms the relative path I presume. Any concerns doing this? I&#39;m fairly new to maven.","title":"Are there any concern with moving a parent pom from a &quot;parent&quot; submodule and putting it to root dir?","body":"<p>Having an issue with versioning on my project. It's a multi-module project with the parent being in a &quot;parent&quot; subfolder. The child pom in the root of the project just simply states the modules that need to be compiled. My fix for versioning states that it only works when the parent pom is in the git root folder. Are there any concerns &quot;merging&quot; the child pom and parent pom with the modules and putting the parent in the root of the project? I would then have to give all inherited child poms the relative path I presume. Any concerns doing this? I'm fairly new to maven.</p>\n"},{"tags":["java","java-8","java-17"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691702249,"post_id":76879320,"comment_id":135531186,"body_markdown":"Is `my_path` an absolute path?  Are you certain abc.jar is present in that directory?","body":"Is <code>my_path</code> an absolute path?  Are you certain abc.jar is present in that directory?"},{"owner":{"display_name":"user9035826"},"score":3,"creation_date":1691702343,"post_id":76879320,"comment_id":135531199,"body_markdown":"The extension mechanism has been removed since Java 9. For any external jar files, you have to specify them in the class path. What are the errors are you getting?","body":"The extension mechanism has been removed since Java 9. For any external jar files, you have to specify them in the class path. What are the errors are you getting?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":7,"creation_date":1691702383,"post_id":76879320,"comment_id":135531208,"body_markdown":"You can&#39;t mix `-jar` with `-classpath`. You need `java -classpath my_path/abc.jar:my_path /myapp.jar a.b.c.Main`","body":"You can&#39;t mix <code>-jar</code> with <code>-classpath</code>. You need <code>java -classpath my_path&#47;abc.jar:my_path &#47;myapp.jar a.b.c.Main</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691737718,"post_id":76879320,"comment_id":135534826,"body_markdown":"@g00se you can also add a [Class-Path](https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html) header field in the JAR manifest.","body":"@g00se you can also add a <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">Class-Path</a> header field in the JAR manifest."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691737978,"post_id":76879320,"comment_id":135534877,"body_markdown":"You can, but personally I don&#39;t like it as it&#39;s hidden and easy to break","body":"You can, but personally I don&#39;t like it as it&#39;s hidden and easy to break"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692618633,"post_id":76879320,"comment_id":135643533,"body_markdown":"@g00se your fix is working with windows(by replacing &#39;:&#39; with &#39;;&#39;) but not working with Linux terminal. Any suggestions?","body":"@g00se your fix is working with windows(by replacing &#39;:&#39; with &#39;;&#39;) but not working with Linux terminal. Any suggestions?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692619047,"post_id":76879320,"comment_id":135643627,"body_markdown":"That really [has no meaning](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"That really <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">has no meaning</a>"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692641710,"post_id":76879320,"comment_id":135648594,"body_markdown":"Hi@g00se, it worked, it was path issue. I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main. Thanks !","body":"Hi@g00se, it worked, it was path issue. I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main. Thanks !"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692641772,"post_id":76879320,"comment_id":135648606,"body_markdown":"Hi @VGR , it&#39;s absolute path. Thanks!","body":"Hi @VGR , it&#39;s absolute path. Thanks!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692648718,"post_id":76879320,"comment_id":135649835,"body_markdown":"*I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main.* No. It&#39;s really quite simple: **a** the quotes are for paths containing spaces and **b** the path separator on Unix-based systems is `:`. I&#39;m finding it difficult to know if you *still* have a problem or not, and if you do, what it is..?","body":"<i>I think in Linux terminal if we are giving absolute path then we can directly use &#39;:&#39; w/o quotes and if it is relative path or both jars are present current path then we have to specify like abc.jar&quot;.;myapp.jar&quot; a.b.c.Main.</i> No. It&#39;s really quite simple: <b>a</b> the quotes are for paths containing spaces and <b>b</b> the path separator on Unix-based systems is <code>:</code>. I&#39;m finding it difficult to know if you <i>still</i> have a problem or not, and if you do, what it is..?"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692704568,"post_id":76879320,"comment_id":135657575,"body_markdown":"Hi @g00se , Actually my application main jar name is dynamic e.g. myapp_version_number.jar So I am trying -classpath my_path/abc.jar:/my_path/myapp*.jar a.b.c.Main but it&#39;s not working","body":"Hi @g00se , Actually my application main jar name is dynamic e.g. myapp_version_number.jar So I am trying -classpath my_path/abc.jar:/my_path/myapp*.jar a.b.c.Main but it&#39;s not working"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692706517,"post_id":76879320,"comment_id":135658043,"body_markdown":"That really has [no meaning](https://technojeeves.com/index.php/aliasjava1/17-errors) But you need to try something like: `dynajar=my_path/myapp*.jar;java -classpath &quot;my_path/abc.jar:/$dynajar&quot; a.b.c.Main` And you need to make sure that can only expand *to ONE file*","body":"That really has <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">no meaning</a> But you need to try something like: <code>dynajar=my_path&#47;myapp*.jar;java -classpath &quot;my_path&#47;abc.jar:&#47;$dynajar&quot; a.b.c.Main</code> And you need to make sure that can only expand <i>to ONE file</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692706906,"post_id":76879320,"comment_id":135658137,"body_markdown":"Were you to ensure you built with a name like `jar-2023-08-22.jar` you could sort and get the latest","body":"Were you to ensure you built with a name like <code>jar-2023-08-22.jar</code> you could sort and get the latest"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692722719,"post_id":76879320,"comment_id":135662101,"body_markdown":"Hi @g00se, it worked with command substitution in Linux bash, main_app=$(echo /my_path/my_app-*.jar) \n                                                          java -classpath /my_path/abc.jar:${main_app} a.b.c.Main","body":"Hi @g00se, it worked with command substitution in Linux bash, main_app=$(echo /my_path/my_app-*.jar)                                                            java -classpath /my_path/abc.jar:${main_app} a.b.c.Main"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692723394,"post_id":76879320,"comment_id":135662256,"body_markdown":"Yes, but see what I wrote earlier. The `echo` in yours is redundant","body":"Yes, but see what I wrote earlier. The <code>echo</code> in yours is redundant"},{"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"score":0,"creation_date":1692724469,"post_id":76879320,"comment_id":135662471,"body_markdown":"@g00se it&#39;s not working without &#39;echo&#39;.","body":"@g00se it&#39;s not working without &#39;echo&#39;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692735945,"post_id":76879320,"comment_id":135664657,"body_markdown":"It should do. You&#39;re probably quoting it","body":"It should do. You&#39;re probably quoting it"}],"owner":{"account_id":29200021,"reputation":1,"user_id":22370350,"display_name":"Lazycoder"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691714055,"creation_date":1691701683,"question_id":76879320,"body_markdown":"I am migrating from Java 8 to Java17 and I have 1 external dependency jar which was directly placed in jdk8/jre/lib/ext location in Java 8 but in Java 17 there is no such path available for external library. so, I tried below script in Java 17,\r\n`java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar`\r\n\r\nWhere,\r\nabc.jar is external dependency jar \r\nmyapp.jar is main application jar\r\n\r\nBut above script didn&#39;t work. How to make it work?\r\n\r\nI tried below script in Java 17,\r\n`java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar` \r\nBut it didn&#39;t work.","title":"What is replacement in Java-17 for Java-8 built in external dependency path- jdk8/jre/lib/ext/external-dependency.jar","body":"<p>I am migrating from Java 8 to Java17 and I have 1 external dependency jar which was directly placed in jdk8/jre/lib/ext location in Java 8 but in Java 17 there is no such path available for external library. so, I tried below script in Java 17,\n<code>java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar</code></p>\n<p>Where,\nabc.jar is external dependency jar\nmyapp.jar is main application jar</p>\n<p>But above script didn't work. How to make it work?</p>\n<p>I tried below script in Java 17,\n<code>java -classpath &quot;my_path/abc.jar&quot; -jar my_path/myapp.jar</code>\nBut it didn't work.</p>\n"},{"tags":["java","aspectj","lombok"],"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1411026969,"post_id":25903686,"comment_id":40550289,"body_markdown":"[This site](https://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist) could be useful. But you should more exactly describe what you&#39;re doing (Eclipse? Maven? Whatever?).","body":"<a href=\"https://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist\" rel=\"nofollow noreferrer\">This site</a> could be useful. But you should more exactly describe what you&#39;re doing (Eclipse? Maven? Whatever?)."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1411053684,"post_id":25903686,"comment_id":40567586,"body_markdown":"Thanks for the link; definitely a helpful suggestion, but for more complex AJ projects (ex: ITDs, member injection, interface implementation, etc), I don&#39;t envision the solution working.  The proposed idea requires javac to run before ajc, but javac will fail on any files that make use of injected members/interfaces/etc, and consequently, there won&#39;t be any byte code for ajc to work with.  At least, that&#39;s my theory; I still haven&#39;t tried it to be sure.","body":"Thanks for the link; definitely a helpful suggestion, but for more complex AJ projects (ex: ITDs, member injection, interface implementation, etc), I don&#39;t envision the solution working.  The proposed idea requires javac to run before ajc, but javac will fail on any files that make use of injected members/interfaces/etc, and consequently, there won&#39;t be any byte code for ajc to work with.  At least, that&#39;s my theory; I still haven&#39;t tried it to be sure."},{"owner":{"account_id":5537608,"reputation":413,"user_id":4395348,"display_name":"Volodymyr Masliy"},"score":0,"creation_date":1608498517,"post_id":25903686,"comment_id":115596524,"body_markdown":"This helped when I had a problem adding aspectj-depended lib into project with lombok\nhttps://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/","body":"This helped when I had a problem adding aspectj-depended lib into project with lombok <a href=\"https://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\" rel=\"nofollow noreferrer\">palesz.wordpress.com/2011/12/03/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":1,"creation_date":1521450788,"post_id":26157868,"comment_id":85718579,"body_markdown":"Facing the similar issue. Did you got any working solution?","body":"Facing the similar issue. Did you got any working solution?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1521462110,"post_id":26157868,"comment_id":85725710,"body_markdown":"What was unclear about my answer? Did you even read the mailing list thread?","body":"What was unclear about my answer? Did you even read the mailing list thread?"},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1521462780,"post_id":26157868,"comment_id":85726175,"body_markdown":"Cool and yes i have. I have actually asked @Eric B whether he got any solution(the question and the answer and mailing thread was on 2014).","body":"Cool and yes i have. I have actually asked @Eric B whether he got any solution(the question and the answer and mailing thread was on 2014)."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1522854582,"post_id":26157868,"comment_id":86317808,"body_markdown":"@santhoshkumar Sorry for the delay in responding; I didn&#39;t see the notifications/thread.  I never found a workable solution to the problem and ended up abandoning Lombok partly due to this limitation.  I see that `@ChengT` posted a solution to this problem (AspectJ support is much more important to me).  While I don&#39;t understand from a technical perspective why that should work, I would be tempted to try again in the future.","body":"@santhoshkumar Sorry for the delay in responding; I didn&#39;t see the notifications/thread.  I never found a workable solution to the problem and ended up abandoning Lombok partly due to this limitation.  I see that <code>@ChengT</code> posted a solution to this problem (AspectJ support is much more important to me).  While I don&#39;t understand from a technical perspective why that should work, I would be tempted to try again in the future."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1691713176,"creation_date":1412241728,"answer_id":26157868,"question_id":25903686,"body_markdown":"The current answer according to AspectJ maintainer Andy Clement is that there are problems due to ECJ (Eclipse Compiler for Java) packages being included and renamed in the AspectJ compiler infrastructure. \r\n\r\nFor more information there is ongoing discussion between Eric B. and A. Clement on the AspectJ users mailing list:\r\n\r\n* [Discussion thread](https://www.eclipse.org/lists/aspectj-users/thrd10.html#14572)\r\n* [Discussion thread continued](https://www.eclipse.org/lists/aspectj-users/thrd10.html#14567)\r\n\r\nMaybe we can close the issue here with this answer and report back when the problem is solved.","title":"How to make Lombok and AspectJ work together?","body":"<p>The current answer according to AspectJ maintainer Andy Clement is that there are problems due to ECJ (Eclipse Compiler for Java) packages being included and renamed in the AspectJ compiler infrastructure.</p>\n<p>For more information there is ongoing discussion between Eric B. and A. Clement on the AspectJ users mailing list:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/lists/aspectj-users/thrd10.html#14572\" rel=\"nofollow noreferrer\">Discussion thread</a></li>\n<li><a href=\"https://www.eclipse.org/lists/aspectj-users/thrd10.html#14567\" rel=\"nofollow noreferrer\">Discussion thread continued</a></li>\n</ul>\n<p>Maybe we can close the issue here with this answer and report back when the problem is solved.</p>\n"},{"comments":[{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1546469873,"post_id":49608811,"comment_id":94865636,"body_markdown":"I tried this and it didn&#39;t work for me. No changes in eclipse, and maven gave error from AJC: &quot;You aren&#39;t using a compiler supported by lombok&quot;","body":"I tried this and it didn&#39;t work for me. No changes in eclipse, and maven gave error from AJC: &quot;You aren&#39;t using a compiler supported by lombok&quot;"},{"owner":{"account_id":39069,"reputation":1496,"user_id":112607,"accept_rate":100,"display_name":"Maleki"},"score":0,"creation_date":1589400944,"post_id":49608811,"comment_id":109283514,"body_markdown":"Also unable to re-create a fix using this.","body":"Also unable to re-create a fix using this."}],"tags":[],"owner":{"account_id":7965952,"reputation":337,"user_id":6012170,"display_name":"Cheng.T"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1537808923,"creation_date":1522661970,"answer_id":49608811,"question_id":25903686,"body_markdown":"Add Project Lombok as a dependency to the aspectj-maven-plugin as in:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.18&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor example:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.16.18&lt;/version&gt;\r\n                    &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\r\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;privateScope&gt;true&lt;/privateScope&gt;\r\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                &lt;outxml&gt;true&lt;/outxml&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;compile&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;aspectLibraries combine.self=&quot;override&quot;&gt;\r\n                            &lt;aspectLibrary&gt;\r\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                            &lt;/aspectLibrary&gt;\r\n                        &lt;/aspectLibraries&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n","title":"How to make Lombok and AspectJ work together?","body":"<p>Add Project Lombok as a dependency to the aspectj-maven-plugin as in:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.18&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.16.18&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;complianceLevel&gt;${java.version}&lt;/complianceLevel&gt;\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;privateScope&gt;true&lt;/privateScope&gt;\n            &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n            &lt;outxml&gt;true&lt;/outxml&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;goal&gt;test-compile&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;aspectLibraries combine.self=\"override\"&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75563,"reputation":818,"user_id":216695,"accept_rate":80,"display_name":"shearn89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649423432,"creation_date":1649423432,"answer_id":71797630,"question_id":25903686,"body_markdown":"In 2022 - there&#39;s an answer to this on the AWS docs for the Lambda Powertools FAQ: https://awslabs.github.io/aws-lambda-powertools-java/FAQs/\r\n\r\nTo enable in-place weaving feature you need to use following aspectj-maven-plugin configuration:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt; \r\n        &lt;sources/&gt;\r\n        &lt;weaveDirectories&gt;\r\n            &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n        &lt;/weaveDirectories&gt;\r\n        ...\r\n        &lt;aspectLibraries&gt;\r\n            &lt;aspectLibrary&gt;\r\n                &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\r\n            &lt;/aspectLibrary&gt;\r\n        &lt;/aspectLibraries&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"How to make Lombok and AspectJ work together?","body":"<p>In 2022 - there's an answer to this on the AWS docs for the Lambda Powertools FAQ: <a href=\"https://awslabs.github.io/aws-lambda-powertools-java/FAQs/\" rel=\"nofollow noreferrer\">https://awslabs.github.io/aws-lambda-powertools-java/FAQs/</a></p>\n<p>To enable in-place weaving feature you need to use following aspectj-maven-plugin configuration:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt; \n    &lt;sources/&gt;\n    &lt;weaveDirectories&gt;\n        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n    &lt;/weaveDirectories&gt;\n    ...\n    &lt;aspectLibraries&gt;\n        &lt;aspectLibrary&gt;\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\n        &lt;/aspectLibrary&gt;\n    &lt;/aspectLibraries&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13842,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":3,"score":28,"last_activity_date":1691713176,"creation_date":1411010720,"question_id":25903686,"body_markdown":"I just finished posting [this issue on SO][1] about Lombok not generating my getters/setters. It turns out that it is conflicting with AspectJ. If I disable AspectJ, then the getters/setters are appropriately generated.\r\n\r\nMy guess is that the ajc compiler is not able to recognize lombok.\r\n\r\nAre Lombok and AspectJ mutually exclusive? Do both technologies work together? \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/25903504/827480","title":"How to make Lombok and AspectJ work together?","body":"<p>I just finished posting <a href=\"https://stackoverflow.com/q/25903504/827480\">this issue on SO</a> about Lombok not generating my getters/setters. It turns out that it is conflicting with AspectJ. If I disable AspectJ, then the getters/setters are appropriately generated.</p>\n\n<p>My guess is that the ajc compiler is not able to recognize lombok.</p>\n\n<p>Are Lombok and AspectJ mutually exclusive? Do both technologies work together? </p>\n"},{"tags":["java","okhttp"],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691712216,"creation_date":1691712216,"question_id":76880000,"body_markdown":"I am trying to use the okhttp library in my codebase. Here is how I have it in my pom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhen I bring it in like this, I get enforcer errors like this \r\n\r\n```\r\nDependency convergence error for org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20 paths to dependency are:\r\n+-com.me:comp:1.0.4-SNAPSHOT\r\n  +-com.squareup.okhttp3:okhttp:4.11.0\r\n    +-com.squareup.okio:okio:3.2.0\r\n      +-com.squareup.okio:okio-jvm:3.2.0\r\n        +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\r\nand\r\n+-com.me:comp:1.0.4-SNAPSHOT\r\n  +-com.squareup.okhttp3:okhttp:4.11.0\r\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\r\nand\r\n+-com.me:comp:1.0.4-SNAPSHOT\r\n  +-com.squareup.okhttp3:mockwebserver:4.11.0\r\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.10\r\n```\r\n\r\nNow I have gotten this to work by having this in my pom instead. \r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nHowever, why am I having to exclude something from 2 packages that are listed together from the same repo? Is this a bug? Shouldn&#39;t these 2 packages work fine together?\r\n[Repo link](https://github.com/square/okhttp)","title":"Installing okhttp library","body":"<p>I am trying to use the okhttp library in my codebase. Here is how I have it in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I bring it in like this, I get enforcer errors like this</p>\n<pre><code>Dependency convergence error for org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20 paths to dependency are:\n+-com.me:comp:1.0.4-SNAPSHOT\n  +-com.squareup.okhttp3:okhttp:4.11.0\n    +-com.squareup.okio:okio:3.2.0\n      +-com.squareup.okio:okio-jvm:3.2.0\n        +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\nand\n+-com.me:comp:1.0.4-SNAPSHOT\n  +-com.squareup.okhttp3:okhttp:4.11.0\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.20\nand\n+-com.me:comp:1.0.4-SNAPSHOT\n  +-com.squareup.okhttp3:mockwebserver:4.11.0\n    +-org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.10\n</code></pre>\n<p>Now I have gotten this to work by having this in my pom instead.</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However, why am I having to exclude something from 2 packages that are listed together from the same repo? Is this a bug? Shouldn't these 2 packages work fine together?\n<a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">Repo link</a></p>\n"},{"tags":["java","mapping","dto","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469785126,"creation_date":1469785126,"answer_id":38655462,"question_id":38610306,"body_markdown":"This was a bug in MapStruct 1.0.0. It is (will be) fixed in the (at the time of writing, upcoming) version 1.1.0.\r\n\r\nSee : https://github.com/mapstruct/mapstruct/issues/844","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>This was a bug in MapStruct 1.0.0. It is (will be) fixed in the (at the time of writing, upcoming) version 1.1.0.</p>\n\n<p>See : <a href=\"https://github.com/mapstruct/mapstruct/issues/844\" rel=\"nofollow\">https://github.com/mapstruct/mapstruct/issues/844</a></p>\n"},{"comments":[{"owner":{"account_id":3487753,"reputation":411,"user_id":2918190,"display_name":"DBK"},"score":1,"creation_date":1607361771,"post_id":50525950,"comment_id":115242710,"body_markdown":"Documentation update: see [Expressions](https://mapstruct.org/documentation/stable/reference/html/#expressions) Example 72","body":"Documentation update: see <a href=\"https://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"nofollow noreferrer\">Expressions</a> Example 72"}],"tags":[],"owner":{"account_id":4719664,"reputation":3937,"user_id":3817953,"accept_rate":80,"display_name":"yunandtidus"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1607497709,"creation_date":1527240728,"answer_id":50525950,"question_id":38610306,"body_markdown":"When missing an import with MapStruct, note that you can manually configure the Mapper to import it :\r\n\r\n    @Mapper( imports = AbstractBaseEntity.class )\r\n\r\nSearch for &quot;Declaring an import&quot; in [MapStruct documentation][1]\r\n\r\n(exemple 72 at the time of this edit : Mapstruct 1.4.1.Final)\r\n\r\n  [1]: http://mapstruct.org/documentation/stable/reference/html/","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>When missing an import with MapStruct, note that you can manually configure the Mapper to import it :</p>\n<pre><code>@Mapper( imports = AbstractBaseEntity.class )\n</code></pre>\n<p>Search for &quot;Declaring an import&quot; in <a href=\"http://mapstruct.org/documentation/stable/reference/html/\" rel=\"noreferrer\">MapStruct documentation</a></p>\n<p>(exemple 72 at the time of this edit : Mapstruct 1.4.1.Final)</p>\n"},{"tags":[],"owner":{"account_id":18473869,"reputation":41,"user_id":13457971,"display_name":"Snookeroo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691710818,"creation_date":1691710818,"answer_id":76879929,"question_id":38610306,"body_markdown":"As yunandtidus correctly states, you can solve it like this:\r\n\r\n    @Mapper( imports = AbstractBaseEntity.class )\r\n\r\nTo add to his response, if you need to import multiple classes, you just wrap them in curly brackets:\r\n\r\n    @Mapper( imports = {AbstractBaseEntity.class, MyOtherCoolClass.class} )","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>As yunandtidus correctly states, you can solve it like this:</p>\n<pre><code>@Mapper( imports = AbstractBaseEntity.class )\n</code></pre>\n<p>To add to his response, if you need to import multiple classes, you just wrap them in curly brackets:</p>\n<pre><code>@Mapper( imports = {AbstractBaseEntity.class, MyOtherCoolClass.class} )\n</code></pre>\n"}],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20256,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38655462,"answer_count":3,"score":9,"last_activity_date":1691710818,"creation_date":1469615076,"question_id":38610306,"body_markdown":"I am using MapStruct to map between JPA entities and POJO DTOs.\r\n\r\nAll my entities extend a common base class that has an ID field (a `java.lang.Long`).\r\n\r\nI have the following abstract mapper, that allows me to map from relationship in JPA to a simple Long field (or List&lt;Long&gt;) in the DTOs. \r\n\r\nAn entity or `List&lt;entity&gt;` field can be mapped to a `Long`/`List&lt;Long&gt;` field, e.g. `User.groups` could be mapped to `UserDTO.groupIds`  :\r\n\r\n    @Mapper\r\n    public abstract class EntityMapper {\r\n    \r\n        public Long entityToLongId(AbstractBaseEntity entity){\r\n            return entity.getId();\r\n        }\r\n    \r\n        public abstract List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends AbstractBaseEntity&gt; entities);\r\n    }\r\n\r\nHowever the generated implementation class does not include any import statement for the `AbstractBaseEntity` class, although it is present in the abstract class, so the code does not compile :\r\n\r\n    package ....;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import javax.annotation.Generated;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Generated(\r\n        value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n        date = &quot;2016-07-27T12:11:25+0200&quot;,\r\n        comments = &quot;version: 1.0.0.Final, compiler: javac, environment: Java 1.8.0_66 (Oracle Corporation)&quot;\r\n    )\r\n    @Component\r\n    public class EntityMapperImpl extends EntityMapper {\r\n    \r\n        @Override\r\n        public List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends ch.unine.tango.model.AbstractBaseEntity&gt; entities) {\r\n            if ( entities == null ) {\r\n                return null;\r\n            }\r\n    \r\n            List&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\r\n            for ( AbstractBaseEntity abstractBaseEntity : entities ) { // compilation error here !\r\n                list.add( entityToLongId( abstractBaseEntity ) );\r\n            }\r\n    \r\n            return list;\r\n        }\r\n    }\r\n\r\nWhy is that ? Am I doing it wrong ? How to fix this ?\r\n\r\nI am using MapStruct 1.0.0.Final with Java 8.\r\n\r\nEDIT: If I add an abstract method that uses the `AbstractBaseEntity` class directly, then the import is added :\r\n\r\n    public abstract AbstractBaseEntityDTO entityToDTO(AbstractBaseEntity abstractBaseEntity); \r\n\r\nEDIT2: posted the issue on MapStruct&#39;s Github : https://github.com/mapstruct/mapstruct/issues/844","title":"Why does this MapStruct generated class does not include import statement?","body":"<p>I am using MapStruct to map between JPA entities and POJO DTOs.</p>\n\n<p>All my entities extend a common base class that has an ID field (a <code>java.lang.Long</code>).</p>\n\n<p>I have the following abstract mapper, that allows me to map from relationship in JPA to a simple Long field (or List) in the DTOs. </p>\n\n<p>An entity or <code>List&lt;entity&gt;</code> field can be mapped to a <code>Long</code>/<code>List&lt;Long&gt;</code> field, e.g. <code>User.groups</code> could be mapped to <code>UserDTO.groupIds</code>  :</p>\n\n<pre><code>@Mapper\npublic abstract class EntityMapper {\n\n    public Long entityToLongId(AbstractBaseEntity entity){\n        return entity.getId();\n    }\n\n    public abstract List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends AbstractBaseEntity&gt; entities);\n}\n</code></pre>\n\n<p>However the generated implementation class does not include any import statement for the <code>AbstractBaseEntity</code> class, although it is present in the abstract class, so the code does not compile :</p>\n\n<pre><code>package ....;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport javax.annotation.Generated;\nimport org.springframework.stereotype.Component;\n\n@Generated(\n    value = \"org.mapstruct.ap.MappingProcessor\",\n    date = \"2016-07-27T12:11:25+0200\",\n    comments = \"version: 1.0.0.Final, compiler: javac, environment: Java 1.8.0_66 (Oracle Corporation)\"\n)\n@Component\npublic class EntityMapperImpl extends EntityMapper {\n\n    @Override\n    public List&lt;Long&gt; entityCollectionToLongIdList(Collection&lt;? extends ch.unine.tango.model.AbstractBaseEntity&gt; entities) {\n        if ( entities == null ) {\n            return null;\n        }\n\n        List&lt;Long&gt; list = new ArrayList&lt;Long&gt;();\n        for ( AbstractBaseEntity abstractBaseEntity : entities ) { // compilation error here !\n            list.add( entityToLongId( abstractBaseEntity ) );\n        }\n\n        return list;\n    }\n}\n</code></pre>\n\n<p>Why is that ? Am I doing it wrong ? How to fix this ?</p>\n\n<p>I am using MapStruct 1.0.0.Final with Java 8.</p>\n\n<p>EDIT: If I add an abstract method that uses the <code>AbstractBaseEntity</code> class directly, then the import is added :</p>\n\n<pre><code>public abstract AbstractBaseEntityDTO entityToDTO(AbstractBaseEntity abstractBaseEntity); \n</code></pre>\n\n<p>EDIT2: posted the issue on MapStruct's Github : <a href=\"https://github.com/mapstruct/mapstruct/issues/844\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/844</a></p>\n"},{"tags":["java","non-recursive"],"comments":[{"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"score":1,"creation_date":1337880185,"post_id":10742322,"comment_id":13957742,"body_markdown":"`while(M != 0 || N != 0){\\\\todo}`","body":"<code>while(M != 0 || N != 0){\\\\todo}</code>"},{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":3,"creation_date":1337880190,"post_id":10742322,"comment_id":13957743,"body_markdown":"Smells like homework. What have you tried?","body":"Smells like homework. What have you tried?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1337880298,"post_id":10742322,"comment_id":13957788,"body_markdown":"This should give you ideas: http://stackoverflow.com/questions/616416/is-it-possible-to-remove-recursion-from-this-function","body":"This should give you ideas: <a href=\"http://stackoverflow.com/questions/616416/is-it-possible-to-remove-recursion-from-this-function\" title=\"is it possible to remove recursion from this function\">stackoverflow.com/questions/616416/&hellip;</a>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1337882365,"post_id":10742322,"comment_id":13958544,"body_markdown":"Due to the nested `func` call this is way from trivial to un-recurse. Good luck :)","body":"Due to the nested <code>func</code> call this is way from trivial to un-recurse. Good luck :)"},{"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"score":1,"creation_date":1337882526,"post_id":10742322,"comment_id":13958588,"body_markdown":"@MarkoTopolnik I agree, I&#39;ve been staring at it for a while and can&#39;t come up with a good solution without just declaring a stack and using it to simulate the recursion as assylias link describes.  Very hard assignment if this is indeed homework.","body":"@MarkoTopolnik I agree, I&#39;ve been staring at it for a while and can&#39;t come up with a good solution without just declaring a stack and using it to simulate the recursion as assylias link describes.  Very hard assignment if this is indeed homework."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1337883197,"post_id":10742322,"comment_id":13958808,"body_markdown":"@KDiTraglia This looks more like practical joke, a well-known (in &quot;certain&quot; circles) uncomputable function. I can&#39;t even get it to terminate for something as simple as (4,2). I bet that &quot;func&quot; has a real name, but it&#39;s next to un-googlable.","body":"@KDiTraglia This looks more like practical joke, a well-known (in &quot;certain&quot; circles) uncomputable function. I can&#39;t even get it to terminate for something as simple as (4,2). I bet that &quot;func&quot; has a real name, but it&#39;s next to un-googlable."},{"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"score":1,"creation_date":1337883334,"post_id":10742322,"comment_id":13958855,"body_markdown":"evil professor? haha.  I did notice it stack overflows pretty quickly with pretty small values for M and N","body":"evil professor? haha.  I did notice it stack overflows pretty quickly with pretty small values for M and N"},{"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"score":1,"creation_date":1337883383,"post_id":10742322,"comment_id":13958871,"body_markdown":"It is http://en.wikipedia.org/wiki/Double_recursion","body":"It is <a href=\"http://en.wikipedia.org/wiki/Double_recursion\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double_recursion</a>"},{"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"score":3,"creation_date":1337883519,"post_id":10742322,"comment_id":13958912,"body_markdown":"It seems to me, or this function is similar to http://en.wikipedia.org/wiki/Ackermann_function ?","body":"It seems to me, or this function is similar to <a href=\"http://en.wikipedia.org/wiki/Ackermann_function\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Ackermann_function</a> ?"},{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":1,"creation_date":1337884114,"post_id":10742322,"comment_id":13959124,"body_markdown":"@KDiTraglia When I was working it out in my answer, I noticed that this function is indeed quite a toughy. The math isn&#39;t difficult, its that it has a very big-O.","body":"@KDiTraglia When I was working it out in my answer, I noticed that this function is indeed quite a toughy. The math isn&#39;t difficult, its that it has a very big-O."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1337884117,"post_id":10742322,"comment_id":13959127,"body_markdown":"Victor, I think you&#39;ve got it. This is clearly a variation on the Ackermann function. The WP page even says that all the variations still go by the same name. And it even escapes for the same arguments (4,2) as mine.","body":"Victor, I think you&#39;ve got it. This is clearly a variation on the Ackermann function. The WP page even says that all the variations still go by the same name. And it even escapes for the same arguments (4,2) as mine."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1508637172,"post_id":10742322,"comment_id":80686747,"body_markdown":"@MarkoTopolnik: can&#39;t be implemented on a computer???   According to Wikipedia, the Ackermann function *is* computable, and illustrates that not all total computable functions are primitive recursive.  Doesn&#39;t it just mean that it can&#39;t be implemented without some kind of stack?  (either a call stack or a manual stack data structure like the accepted answer).","body":"@MarkoTopolnik: can&#39;t be implemented on a computer???   According to Wikipedia, the Ackermann function <i>is</i> computable, and illustrates that not all total computable functions are primitive recursive.  Doesn&#39;t it just mean that it can&#39;t be implemented without some kind of stack?  (either a call stack or a manual stack data structure like the accepted answer)."}],"answers":[{"comments":[{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":0,"creation_date":1337881552,"post_id":10742462,"comment_id":13958263,"body_markdown":"@KDiTraglia You&#39;re right- I even got it correct on the third equation. Thank you :)","body":"@KDiTraglia You&#39;re right- I even got it correct on the third equation. Thank you :)"}],"tags":[],"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1337892804,"creation_date":1337880593,"answer_id":10742462,"question_id":10742322,"body_markdown":"This looks like homework, so I won&#39;t give you the answer but I will lead you in the right direction:\r\n\r\nIf you want to breakdown the recursion, it might be useful for you to list out all the values as they progress, letting m = {0...x} n = {0...y}.\r\n\r\nFor example:\r\n\r\n    m = 0, n = 0 = f(0,0) = M+N+1 = 1\r\n    m = 1, n = 0 = f(1,0) = M+N+1 = 2\r\n    m = 1, n = 1 = f(1,1) = f(0,f(1,0)) = f(0,2) = 3\r\n    m = 2, n = 1 = f(2,1) = f(1,f(2,0)) = f(1,3) = f(0,f(1,2)) = f(0,f(0,f(1,1))\r\n                 = f(0,f(0,3))          = f(0,4) = 5\r\n \r\nWith this, you can come up with a non-recursive relationship (a non-recursive function definition) that you can use.\r\n\r\nEdit: So it looks like this is [the Ackermann function](http://demonstrations.wolfram.com/RecursionInTheAckermannFunction/), a total computable function that is **not** primitive recursive.","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>This looks like homework, so I won't give you the answer but I will lead you in the right direction:</p>\n\n<p>If you want to breakdown the recursion, it might be useful for you to list out all the values as they progress, letting m = {0...x} n = {0...y}.</p>\n\n<p>For example:</p>\n\n<pre><code>m = 0, n = 0 = f(0,0) = M+N+1 = 1\nm = 1, n = 0 = f(1,0) = M+N+1 = 2\nm = 1, n = 1 = f(1,1) = f(0,f(1,0)) = f(0,2) = 3\nm = 2, n = 1 = f(2,1) = f(1,f(2,0)) = f(1,3) = f(0,f(1,2)) = f(0,f(0,f(1,1))\n             = f(0,f(0,3))          = f(0,4) = 5\n</code></pre>\n\n<p>With this, you can come up with a non-recursive relationship (a non-recursive function definition) that you can use.</p>\n\n<p>Edit: So it looks like this is <a href=\"http://demonstrations.wolfram.com/RecursionInTheAckermannFunction/\" rel=\"nofollow\">the Ackermann function</a>, a total computable function that is <strong>not</strong> primitive recursive.</p>\n"},{"comments":[{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":0,"creation_date":1337890597,"post_id":10744545,"comment_id":13961576,"body_markdown":"I get 4 for m = 2, n = 1. n=1,s = {2} -&gt; n=1, m=2 -&gt; n=0, s={3,1} -&gt; n=0, m=3 -&gt; n = 3 + 1 = 4. Unless my math was wrong on f(2,1) on my answer?","body":"I get 4 for m = 2, n = 1. n=1,s = {2} -&gt; n=1, m=2 -&gt; n=0, s={3,1} -&gt; n=0, m=3 -&gt; n = 3 + 1 = 4. Unless my math was wrong on f(2,1) on my answer?"},{"owner":{"account_id":452652,"reputation":796,"user_id":1206223,"accept_rate":71,"display_name":"Lightyear Buzz"},"score":0,"creation_date":1337890734,"post_id":10744545,"comment_id":13961641,"body_markdown":"Yeah your math is wrong. I checked it against the code he provided.","body":"Yeah your math is wrong. I checked it against the code he provided."},{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":0,"creation_date":1337890910,"post_id":10744545,"comment_id":13961711,"body_markdown":"Where did I go wrong? I must be seeing a disconnect, because going over my math gives me a correct answer. :S","body":"Where did I go wrong? I must be seeing a disconnect, because going over my math gives me a correct answer. :S"},{"owner":{"account_id":203750,"reputation":2708,"user_id":451590,"accept_rate":100,"display_name":"David B"},"score":0,"creation_date":1337892088,"post_id":10744545,"comment_id":13962160,"body_markdown":"I&#39;ve run my answer through [WolframAlpha](http://www.wolframalpha.com/input/?i=ackermann%282%2C1%29&amp;dataset=) and I&#39;m not wrong. This answer is *not* incorrect. EDIT: My following of your code was wrong, I apologize. I thought you meant my math in my answer was wrong.","body":"I&#39;ve run my answer through <a href=\"http://www.wolframalpha.com/input/?i=ackermann%282%2C1%29&amp;dataset=\" rel=\"nofollow noreferrer\">WolframAlpha</a> and I&#39;m not wrong. This answer is <i>not</i> incorrect. EDIT: My following of your code was wrong, I apologize. I thought you meant my math in my answer was wrong."},{"owner":{"account_id":3429571,"reputation":1922,"user_id":2874409,"accept_rate":48,"display_name":"Andiana"},"score":0,"creation_date":1456047237,"post_id":10744545,"comment_id":58757544,"body_markdown":"I implemented recursive way, ack(3,4) = 125, but your algorithm implementation give ack(3,4) = 109. Is this right?","body":"I implemented recursive way, ack(3,4) = 125, but your algorithm implementation give ack(3,4) = 109. Is this right?"},{"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"score":0,"creation_date":1460406662,"post_id":10744545,"comment_id":60717770,"body_markdown":"The implementation is somehow wrong. ack(4,1) returns 221 while it should return 65533.","body":"The implementation is somehow wrong. ack(4,1) returns 221 while it should return 65533."},{"owner":{"account_id":113775,"reputation":5807,"user_id":299472,"accept_rate":50,"display_name":"Steve Moseley"},"score":2,"creation_date":1497657919,"post_id":10744545,"comment_id":76187116,"body_markdown":"@Lightyear Buzz This implementation seems to go wrong from m=3, n=0 onwards. (Answer from Wolfram Alpha is 5, this code returns 4) I&#39;d really appreciate an update, I don&#39;t understand the code above enough to be able to do it myself - any help appreciated, Thanks!","body":"@Lightyear Buzz This implementation seems to go wrong from m=3, n=0 onwards. (Answer from Wolfram Alpha is 5, this code returns 4) I&#39;d really appreciate an update, I don&#39;t understand the code above enough to be able to do it myself - any help appreciated, Thanks!"}],"tags":[],"owner":{"account_id":452652,"reputation":796,"user_id":1206223,"accept_rate":71,"display_name":"Lightyear Buzz"},"comment_count":7,"down_vote_count":3,"up_vote_count":19,"is_accepted":true,"score":16,"last_activity_date":1337890041,"creation_date":1337890041,"answer_id":10744545,"question_id":10742322,"body_markdown":"Not quite O(1) but definitely non-recursive.\r\n\r\n    public static int itFunc(int m, int n){\r\n        Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\r\n        s.add(m);\r\n        while(!s.isEmpty()){\r\n            m=s.pop();\r\n            if(m==0||n==0)\r\n                n+=m+1;\r\n            else{\r\n                s.add(--m);\r\n                s.add(++m);\r\n                n--;\r\n            }\r\n        }\r\n        return n;\r\n    }","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Not quite O(1) but definitely non-recursive.</p>\n\n<pre><code>public static int itFunc(int m, int n){\n    Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\n    s.add(m);\n    while(!s.isEmpty()){\n        m=s.pop();\n        if(m==0||n==0)\n            n+=m+1;\n        else{\n            s.add(--m);\n            s.add(++m);\n            n--;\n        }\n    }\n    return n;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1508637510,"post_id":45412879,"comment_id":80686806,"body_markdown":"This seems to be a very minor variation on @LightyearBuzz&#39;s answer, where you de-optimized by using the stack for the `n==0` case to do each increment one at a time, instead of Lightyear&#39;s `n+=m+1;`.  Did you really write the whole thing yourself, or is this mostly copied (without credit) from the other answer?","body":"This seems to be a very minor variation on @LightyearBuzz&#39;s answer, where you de-optimized by using the stack for the <code>n==0</code> case to do each increment one at a time, instead of Lightyear&#39;s <code>n+=m+1;</code>.  Did you really write the whole thing yourself, or is this mostly copied (without credit) from the other answer?"},{"owner":{"account_id":11141782,"reputation":171,"user_id":8178069,"display_name":"Ray Xie"},"score":0,"creation_date":1508736380,"post_id":45412879,"comment_id":80712075,"body_markdown":"This answer just makes a slightly change of LightyearBuzz`s answer, and Im sorry for using his code without informing him. Because I saw his code cant pass every examples so I did a little change to correct it. If you dont like it , I can delete it. But I just want people can see the correct answer^^","body":"This answer just makes a slightly change of LightyearBuzz`s answer, and Im sorry for using his code without informing him. Because I saw his code cant pass every examples so I did a little change to correct it. If you dont like it , I can delete it. But I just want people can see the correct answer^^"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1508736810,"post_id":45412879,"comment_id":80712216,"body_markdown":"What you *should* do is [edit] your answer to say what bug it fixes.  (i.e. which input gives the wrong answer).  e.g. &quot;LightyearBuzz&#39;s answer is wrong for `A(blah, blah)`.  I fixed it by changing blah blah.  Here&#39;s the full code:&quot;","body":"What you <i>should</i> do is <a href=\"https://stackoverflow.com/posts/45412879/edit\">edit</a> your answer to say what bug it fixes.  (i.e. which input gives the wrong answer).  e.g. &quot;LightyearBuzz&#39;s answer is wrong for <code>A(blah, blah)</code>.  I fixed it by changing blah blah.  Here&#39;s the full code:&quot;"},{"owner":{"account_id":1094513,"reputation":4507,"user_id":1462295,"accept_rate":90,"display_name":"BurnsBA"},"score":0,"creation_date":1601925605,"post_id":45412879,"comment_id":113552248,"body_markdown":"This fixes the problem with the accepted answer. For reference, `A(4, 1)` takes ~ 60 seconds to compute.","body":"This fixes the problem with the accepted answer. For reference, <code>A(4, 1)</code> takes ~ 60 seconds to compute."}],"tags":[],"owner":{"account_id":11141782,"reputation":171,"user_id":8178069,"display_name":"Ray Xie"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501495476,"creation_date":1501495476,"answer_id":45412879,"question_id":10742322,"body_markdown":"This is the a correct version which already examined by myself.\r\n\r\n    public static int Ackermann(int m, int n){\r\n    Stack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\r\n    s.add(m);\r\n    while(!s.isEmpty()){\r\n        m=s.pop();\r\n        if(m==0) { n+=m+1; }\r\n        else if(n==0)\r\n        {\r\n           n += 1;\r\n           s.add(--m);\r\n        }\r\n        else{\r\n            s.add(--m);\r\n            s.add(++m);\r\n            n--;\r\n        }\r\n    }\r\n    return n;\r\n    }","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>This is the a correct version which already examined by myself.</p>\n\n<pre><code>public static int Ackermann(int m, int n){\nStack&lt;Integer&gt; s = new Stack&lt;Integer&gt;;\ns.add(m);\nwhile(!s.isEmpty()){\n    m=s.pop();\n    if(m==0) { n+=m+1; }\n    else if(n==0)\n    {\n       n += 1;\n       s.add(--m);\n    }\n    else{\n        s.add(--m);\n        s.add(++m);\n        n--;\n    }\n}\nreturn n;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":375745,"reputation":565,"user_id":726773,"display_name":"Nick S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530231407,"creation_date":1530231407,"answer_id":51092690,"question_id":10742322,"body_markdown":"I couldn&#39;t get @LightyearBuzz&#39;s answer to work, but I found this Java 5 code from [WikiWikiWeb](https://web.archive.org/web/20160322060819/http://c2.com/cgi/wiki?IteratedAckermannExample) that worked for me:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Stack;\r\n    \r\n    public class Ackerman {\r\n      static class  Pair &lt;T1,T2&gt;{\r\n        T1 x; T2 y;\r\n        Pair(T1 x_,T2 y_) {x=x_; y=y_;}\r\n        public int hashCode() {return x.hashCode() ^ y.hashCode();}\r\n        public boolean equals(Object o_) {Pair o= (Pair) o_; return x.equals(o.x) &amp;&amp; y.equals(o.y);}\r\n      }\r\n    \r\n      /**\r\n       * @param args\r\n       */\r\n      public static int ack_iter(int m, int n) {\r\n        HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt; solved_set= new HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt;(120000);\r\n        Stack&lt;Pair&lt;Integer,Integer&gt;&gt; to_solve= new Stack&lt;Pair&lt;Integer,Integer&gt;&gt;();\r\n        to_solve.push(new Pair&lt;Integer,Integer&gt;(m,n));\r\n    \r\n        while (!to_solve.isEmpty()) {\r\n          Pair&lt;Integer,Integer&gt; head= to_solve.peek();\r\n          if (head.x.equals(0) ) {\r\n            solved_set.put(head,head.y + 1);\r\n            to_solve.pop();\r\n          }\r\n          else if (head.y.equals(0)) {\r\n            Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt; (head.x-1,1);\r\n            Integer result= solved_set.get(next);\r\n            if(result==null){\r\n              to_solve.push(next);\r\n            } \r\n            else {\r\n              solved_set.put(head, result);\r\n              to_solve.pop();\r\n            }\r\n          }\r\n          else {\r\n            Pair&lt;Integer,Integer&gt; next0= new Pair&lt;Integer,Integer&gt;(head.x, head.y-1);\r\n            Integer result0= solved_set.get(next0);\r\n            if(result0 == null) {\r\n              to_solve.push(next0);\r\n            }\r\n            else {\r\n              Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt;(head.x-1,result0);\r\n              Integer result= solved_set.get(next);\r\n              if (result == null) {\r\n                to_solve.push(next);\r\n              }\r\n              else {\r\n                solved_set.put(head,result);\r\n                to_solve.pop();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        System.out.println(&quot;hash size: &quot;+solved_set.size());\r\n        System.out.println(&quot;consumed heap: &quot;+ (Runtime.getRuntime().totalMemory()/(1024*1024)) + &quot;m&quot;);\r\n        return solved_set.get(new Pair&lt;Integer,Integer&gt;(m,n));\r\n      }\r\n    }\r\n\r\n","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>I couldn't get @LightyearBuzz's answer to work, but I found this Java 5 code from <a href=\"https://web.archive.org/web/20160322060819/http://c2.com/cgi/wiki?IteratedAckermannExample\" rel=\"nofollow noreferrer\">WikiWikiWeb</a> that worked for me:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Stack;\n\npublic class Ackerman {\n  static class  Pair &lt;T1,T2&gt;{\n    T1 x; T2 y;\n    Pair(T1 x_,T2 y_) {x=x_; y=y_;}\n    public int hashCode() {return x.hashCode() ^ y.hashCode();}\n    public boolean equals(Object o_) {Pair o= (Pair) o_; return x.equals(o.x) &amp;&amp; y.equals(o.y);}\n  }\n\n  /**\n   * @param args\n   */\n  public static int ack_iter(int m, int n) {\n    HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt; solved_set= new HashMap&lt;Pair&lt;Integer,Integer&gt;,Integer&gt;(120000);\n    Stack&lt;Pair&lt;Integer,Integer&gt;&gt; to_solve= new Stack&lt;Pair&lt;Integer,Integer&gt;&gt;();\n    to_solve.push(new Pair&lt;Integer,Integer&gt;(m,n));\n\n    while (!to_solve.isEmpty()) {\n      Pair&lt;Integer,Integer&gt; head= to_solve.peek();\n      if (head.x.equals(0) ) {\n        solved_set.put(head,head.y + 1);\n        to_solve.pop();\n      }\n      else if (head.y.equals(0)) {\n        Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt; (head.x-1,1);\n        Integer result= solved_set.get(next);\n        if(result==null){\n          to_solve.push(next);\n        } \n        else {\n          solved_set.put(head, result);\n          to_solve.pop();\n        }\n      }\n      else {\n        Pair&lt;Integer,Integer&gt; next0= new Pair&lt;Integer,Integer&gt;(head.x, head.y-1);\n        Integer result0= solved_set.get(next0);\n        if(result0 == null) {\n          to_solve.push(next0);\n        }\n        else {\n          Pair&lt;Integer,Integer&gt; next= new Pair&lt;Integer,Integer&gt;(head.x-1,result0);\n          Integer result= solved_set.get(next);\n          if (result == null) {\n            to_solve.push(next);\n          }\n          else {\n            solved_set.put(head,result);\n            to_solve.pop();\n          }\n        }\n      }\n    }\n    System.out.println(\"hash size: \"+solved_set.size());\n    System.out.println(\"consumed heap: \"+ (Runtime.getRuntime().totalMemory()/(1024*1024)) + \"m\");\n    return solved_set.get(new Pair&lt;Integer,Integer&gt;(m,n));\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1190593,"reputation":710,"user_id":1163490,"accept_rate":44,"display_name":"divs1210"},"score":0,"creation_date":1563188854,"post_id":54356919,"comment_id":100604719,"body_markdown":"Thanks! Could you explain how you achieved this? I&#39;m not sure how this can be generalized to a function with a different arity, for example factorial takes only one arg. How would that translate to a looping version with a custom stack?","body":"Thanks! Could you explain how you achieved this? I&#39;m not sure how this can be generalized to a function with a different arity, for example factorial takes only one arg. How would that translate to a looping version with a custom stack?"},{"owner":{"account_id":83736,"reputation":15837,"user_id":234593,"accept_rate":97,"display_name":"Kache"},"score":0,"creation_date":1563304455,"post_id":54356919,"comment_id":100653181,"body_markdown":"First, understand recursion. Second, reuse the body of a recursive function, refactored to have only one entry and exit point. Third, implement the call stack manually by pushing and popping inputs and outputs for every function call, which is what the language runtime normally does for you. For a non-linear algorithm, you&#39;ll need a non-linear data structure. Lastly, refactor and simplify.","body":"First, understand recursion. Second, reuse the body of a recursive function, refactored to have only one entry and exit point. Third, implement the call stack manually by pushing and popping inputs and outputs for every function call, which is what the language runtime normally does for you. For a non-linear algorithm, you&#39;ll need a non-linear data structure. Lastly, refactor and simplify."}],"tags":[],"owner":{"account_id":83736,"reputation":15837,"user_id":234593,"accept_rate":97,"display_name":"Kache"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638949509,"creation_date":1548372650,"answer_id":54356919,"question_id":10742322,"body_markdown":"All the answers posted previously don&#39;t properly implement Ackermann.\r\n\r\n```ruby\r\ndef acker_mstack(m, n)\r\n  stack = [m]\r\n  until stack.empty?\r\n    m = stack.pop\r\n\r\n    if m.zero?\r\n      n += 1\r\n    elsif n.zero?\r\n      stack &lt;&lt; m - 1\r\n      n = 1\r\n    else\r\n      stack &lt;&lt; m - 1 &lt;&lt; m\r\n      n -= 1\r\n    end\r\n  end\r\n  n\r\nend\r\n```","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>All the answers posted previously don't properly implement Ackermann.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>def acker_mstack(m, n)\n  stack = [m]\n  until stack.empty?\n    m = stack.pop\n\n    if m.zero?\n      n += 1\n    elsif n.zero?\n      stack &lt;&lt; m - 1\n      n = 1\n    else\n      stack &lt;&lt; m - 1 &lt;&lt; m\n      n -= 1\n    end\n  end\n  n\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13935478,"reputation":434,"user_id":10062580,"display_name":"Darwin Harianto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567653496,"creation_date":1567653496,"answer_id":57797989,"question_id":10742322,"body_markdown":"Written in python, using only 1 array and 1 variable, hope this helps!\r\n\r\n    \r\n    def acker(m,n):\r\n    \r\n        right = [m]\r\n        result = n\r\n        i = 0\r\n    \r\n        while True:\r\n            if len(right) == 0:\r\n                break\r\n    \r\n            if right[i] &gt; 0 and result &gt; 0:\r\n                right.append(right[i])\r\n                right[i] -= 1\r\n                result -= 1\r\n                i += 1\r\n    \r\n            elif right[i] &gt; 0 and result == 0:\r\n                right[i] -= 1\r\n                result = 1\r\n    \r\n            elif right[i] == 0:\r\n                result += 1\r\n                right.pop()\r\n                i -=1\r\n    \r\n        return result\r\n","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Written in python, using only 1 array and 1 variable, hope this helps!</p>\n\n<pre><code>def acker(m,n):\n\n    right = [m]\n    result = n\n    i = 0\n\n    while True:\n        if len(right) == 0:\n            break\n\n        if right[i] &gt; 0 and result &gt; 0:\n            right.append(right[i])\n            right[i] -= 1\n            result -= 1\n            i += 1\n\n        elif right[i] &gt; 0 and result == 0:\n            right[i] -= 1\n            result = 1\n\n        elif right[i] == 0:\n            result += 1\n            right.pop()\n            i -=1\n\n    return result\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16471009,"reputation":101,"user_id":11900025,"display_name":"Bhuvnesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632026826,"creation_date":1632026826,"answer_id":69240370,"question_id":10742322,"body_markdown":"Well I came here to find the answer of this question. But could not write a code even after looking at the answers. So, I tried it myself and after some struggle built the code.\r\nSo, I will give you a hint (because I feel etiquettes here are that the homework questions are not meant to be fully answered).\r\nSo you can use a single stack to compute the function without using recursion. Just look at the flow of control in David&#39;s answer. You have to use that. Just start a while(1) loop and inside that check for the case your arguments are satisfying. Let the desired block amongst if-else blocks execute.Then push the two latest arguments of ackerman function into the stack. Then at the end of the loop pop them and let the cycle repeat till an end condition is reached where no further arguments of ackermann function are generated. You have to put a for statement inside the while loop to keep checking it. And finally get the final results.\r\nI don&#39;t know how much of this is understandable, but I wish I could have some idea to start with. So, just shared the way.","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Well I came here to find the answer of this question. But could not write a code even after looking at the answers. So, I tried it myself and after some struggle built the code.\nSo, I will give you a hint (because I feel etiquettes here are that the homework questions are not meant to be fully answered).\nSo you can use a single stack to compute the function without using recursion. Just look at the flow of control in David's answer. You have to use that. Just start a while(1) loop and inside that check for the case your arguments are satisfying. Let the desired block amongst if-else blocks execute.Then push the two latest arguments of ackerman function into the stack. Then at the end of the loop pop them and let the cycle repeat till an end condition is reached where no further arguments of ackermann function are generated. You have to put a for statement inside the while loop to keep checking it. And finally get the final results.\nI don't know how much of this is understandable, but I wish I could have some idea to start with. So, just shared the way.</p>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691694526,"post_id":76871654,"comment_id":135529884,"body_markdown":"I see this is your first answer, which is awesome. But since there&#39;s already an accepted answer, new answers should try to improve on it, or at least update outdated information. Your code is in another language, so why post the answer?","body":"I see this is your first answer, which is awesome. But since there&#39;s already an accepted answer, new answers should try to improve on it, or at least update outdated information. Your code is in another language, so why post the answer?"}],"tags":[],"owner":{"account_id":25696046,"reputation":1,"user_id":19456717,"display_name":"Tushar Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691710163,"creation_date":1691620259,"answer_id":76871654,"question_id":10742322,"body_markdown":"Written using C++. Stack stores only m values and works fine for all inputs\r\n\r\n```cpp\r\nint ackermann(int m, int n) {\r\n\tstack&lt;int&gt; s;\r\n\ts.push(m);\r\n\twhile(!s.empty()) {\r\n\t\tm = s.top();\r\n        s.pop();\r\n        if(m == 0) {\r\n            n++;\r\n        }\r\n        else if(n == 0) {\r\n            s.push(--m);\r\n            n = 1;\r\n        }\r\n        else {\r\n            s.push(m-1);\r\n            s.push(m);\r\n            n--;\r\n        }\r\n\t}\r\n    return n;\r\n}\r\n```","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>Written using C++. Stack stores only m values and works fine for all inputs</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>int ackermann(int m, int n) {\n    stack&lt;int&gt; s;\n    s.push(m);\n    while(!s.empty()) {\n        m = s.top();\n        s.pop();\n        if(m == 0) {\n            n++;\n        }\n        else if(n == 0) {\n            s.push(--m);\n            n = 1;\n        }\n        else {\n            s.push(m-1);\n            s.push(m);\n            n--;\n        }\n    }\n    return n;\n}\n</code></pre>\n"}],"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18095,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":10744545,"answer_count":8,"score":17,"last_activity_date":1691710163,"creation_date":1337880084,"question_id":10742322,"body_markdown":"I have function\r\n\r\n\tpublic static int func(int M,int N){\r\n\t\tif(M == 0 || N == 0) return M+N+1;\r\n\t\treturn func(M-1, func(M, N-1));\r\n\t}\r\n\r\nHow to rewrite it in non-recursive style ?\r\nMaybe, is it implementation some algorithm?","title":"How to rewrite Ackermann function in non-recursive style?","body":"<p>I have function</p>\n\n<pre><code>public static int func(int M,int N){\n    if(M == 0 || N == 0) return M+N+1;\n    return func(M-1, func(M, N-1));\n}\n</code></pre>\n\n<p>How to rewrite it in non-recursive style ?\nMaybe, is it implementation some algorithm?</p>\n"},{"tags":["java","selenium","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1529998572,"post_id":51028947,"comment_id":89066224,"body_markdown":"After you change the pom.xml file, run re-import from Maven in Maven projects tool window: https://www.jetbrains.com/help/idea/maven-support.html#maven_import_dependency or configure **Auto-import**.","body":"After you change the pom.xml file, run re-import from Maven in Maven projects tool window: <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_dependency\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> or configure <b>Auto-import</b>."}],"answers":[{"tags":[],"owner":{"account_id":5798099,"reputation":183,"user_id":4573226,"display_name":"JacksonWong"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1529947857,"creation_date":1529947857,"answer_id":51028948,"question_id":51028947,"body_markdown":"After much pain and suffering I found this, where Erek Speed will remain a hero of mine for all time:\r\nhttps://groups.google.com/forum/#!msg/mariocompetition/dUIPTghCZwc/PEYqu9BqBUYJ\r\n\r\nSo the steps are:\r\n\r\n 1. File &gt; Project Structure\r\n 2. then click on Libraries on the left side-nav\r\n 3. then the &quot;+&quot; button to add, then choose &quot;from Maven&quot;\r\n 4. then type in org.testng and click the magnifying glass\r\n 5. choose the version you want to use, then click &quot;ok&quot; and &quot;Apply&quot;\r\n\r\nThe steps are based on using IntelliJ IDEA Community version 2017.2.3","title":"Intellij package org.testng does not exist","body":"<p>After much pain and suffering I found this, where Erek Speed will remain a hero of mine for all time:\n<a href=\"https://groups.google.com/forum/#!msg/mariocompetition/dUIPTghCZwc/PEYqu9BqBUYJ\" rel=\"noreferrer\">https://groups.google.com/forum/#!msg/mariocompetition/dUIPTghCZwc/PEYqu9BqBUYJ</a></p>\n\n<p>So the steps are:</p>\n\n<ol>\n<li>File > Project Structure</li>\n<li>then click on Libraries on the left side-nav</li>\n<li>then the \"+\" button to add, then choose \"from Maven\"</li>\n<li>then type in org.testng and click the magnifying glass</li>\n<li>choose the version you want to use, then click \"ok\" and \"Apply\"</li>\n</ol>\n\n<p>The steps are based on using IntelliJ IDEA Community version 2017.2.3</p>\n"},{"tags":[],"owner":{"account_id":7651408,"reputation":339,"user_id":5800000,"accept_rate":17,"display_name":"amit bansode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567151211,"creation_date":1567151211,"answer_id":57722609,"question_id":51028947,"body_markdown":"It was same case for me. This may help you.\r\n\r\nDo following steps:\r\n\r\n 1. Place your cusror on class name\r\n 2. Alt + Enter\r\n 3. Create Test\r\n 4. In the Test Library input field. Please select TestNG. Press ok\r\n 5. Go to code where you are getting unresolved. e.g. (&quot;Assert&quot;.assertEquals)\r\n 6. Press Alt + Enter\r\n 7. Choose add dependency\r\n\r\nAll set. Cheers!! ","title":"Intellij package org.testng does not exist","body":"<p>It was same case for me. This may help you.</p>\n\n<p>Do following steps:</p>\n\n<ol>\n<li>Place your cusror on class name</li>\n<li>Alt + Enter</li>\n<li>Create Test</li>\n<li>In the Test Library input field. Please select TestNG. Press ok</li>\n<li>Go to code where you are getting unresolved. e.g. (\"Assert\".assertEquals)</li>\n<li>Press Alt + Enter</li>\n<li>Choose add dependency</li>\n</ol>\n\n<p>All set. Cheers!! </p>\n"},{"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691709442,"creation_date":1691709428,"answer_id":76879847,"question_id":51028947,"body_markdown":"In Intellij IDEA , I&#39;ve faced similar issue.\r\n\r\nAfter adding following dependency , could not found the testNg in IntellijIdea\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThe error i&#39;ve faced: **Dependency &#39;org.testng:testng:7.8.0&#39; not found**\r\n\r\nFirst solution :\r\n\r\nmvn clean\r\nmvn clean install -U\r\n\r\nIf it does not help , it might be related your local repo , please run following commands on your project:\r\n\r\n**mvn dependency:purge-local-repository**\r\n **mvn clean install**\r\n\r\n\r\n\r\n","title":"Intellij package org.testng does not exist","body":"<p>In Intellij IDEA , I've faced similar issue.</p>\n<p>After adding following dependency , could not found the testNg in IntellijIdea</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The error i've faced: <strong>Dependency 'org.testng:testng:7.8.0' not found</strong></p>\n<p>First solution :</p>\n<p>mvn clean\nmvn clean install -U</p>\n<p>If it does not help , it might be related your local repo , please run following commands on your project:</p>\n<p><strong>mvn dependency:purge-local-repository</strong>\n<strong>mvn clean install</strong></p>\n"}],"owner":{"account_id":5798099,"reputation":183,"user_id":4573226,"display_name":"JacksonWong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12879,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691709442,"creation_date":1529947857,"question_id":51028947,"body_markdown":"When using Intellij and trying to import TestNG the error is:\r\n\r\njava: package org.testng does not exist\r\n\r\nWhat I was doing was trying to import it via pom.xml as a dependency, which does not seem to work at all. \r\n\r\nNot sure if other people have had the same issue, also seems there&#39;s way  more ppl using eclipse vs intellij when it comes to selenium-java (when looking up questions at least).","title":"Intellij package org.testng does not exist","body":"<p>When using Intellij and trying to import TestNG the error is:</p>\n\n<p>java: package org.testng does not exist</p>\n\n<p>What I was doing was trying to import it via pom.xml as a dependency, which does not seem to work at all. </p>\n\n<p>Not sure if other people have had the same issue, also seems there's way  more ppl using eclipse vs intellij when it comes to selenium-java (when looking up questions at least).</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1691419452,"post_id":76852801,"comment_id":135485446,"body_markdown":"why not just use @Query annotation ?","body":"why not just use @Query annotation ?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1691419587,"post_id":76852801,"comment_id":135485476,"body_markdown":"Not used the Query annotation till now in my application , so i just dont want to introduce it now unless its not possible .","body":"Not used the Query annotation till now in my application , so i just dont want to introduce it now unless its not possible ."},{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1691420853,"post_id":76852801,"comment_id":135485802,"body_markdown":"Cannot you make findAllByActionDateGreaterThanSysdateMinus30() a wrapper function for findAllByActionDateGreaterThan()?","body":"Cannot you make findAllByActionDateGreaterThanSysdateMinus30() a wrapper function for findAllByActionDateGreaterThan()?"}],"answers":[{"comments":[{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1691430643,"post_id":76853105,"comment_id":135487742,"body_markdown":"Unfortunately no , Is there anyway without passing that date parameter . I have nothing to calculate its a constant value.","body":"Unfortunately no , Is there anyway without passing that date parameter . I have nothing to calculate its a constant value."},{"owner":{"account_id":16161163,"reputation":90,"user_id":11667201,"display_name":"mmeqbel"},"score":0,"creation_date":1691432458,"post_id":76853105,"comment_id":135488070,"body_markdown":"if I understand you correctly, you are trying to fetch all of the records in which their actionDate is greater than 30 days ago? if so I have updated my answer.","body":"if I understand you correctly, you are trying to fetch all of the records in which their actionDate is greater than 30 days ago? if so I have updated my answer."}],"tags":[],"owner":{"account_id":16161163,"reputation":90,"user_id":11667201,"display_name":"mmeqbel"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691432326,"creation_date":1691421917,"answer_id":76853105,"question_id":76852801,"body_markdown":"This may help, inside your interface \r\n\r\n    default List&lt;Object&gt; findAllByActionDateGreaterThanSysdateMinus30() {\r\n\t\tInstant oneMonthAgoInstance = Instant.now()\r\n                .minus(Duration.ofDays(30L));\r\n        Date oneMonthAgoDate = Date.from(oneMonthAgoInstance);\r\n\t\treturn this.findAllByActionDateGreaterThan(oneMonthAgoDate);\r\n\t}","title":"How to give Greater than Date value without passing parameter in JPA Date method","body":"<p>This may help, inside your interface</p>\n<pre><code>default List&lt;Object&gt; findAllByActionDateGreaterThanSysdateMinus30() {\n    Instant oneMonthAgoInstance = Instant.now()\n            .minus(Duration.ofDays(30L));\n    Date oneMonthAgoDate = Date.from(oneMonthAgoInstance);\n    return this.findAllByActionDateGreaterThan(oneMonthAgoDate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22039438,"reputation":39,"user_id":16305424,"display_name":"CaileanCuina"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691665920,"creation_date":1691665920,"answer_id":76875178,"question_id":76852801,"body_markdown":"Maybe it is a complicate workaround - but have you tried to use Java Specifications?\r\n\r\n    public class TestSpec implements Specification&lt;YourEntity&gt; {\r\n\t@Override\r\n\tpublic Predicate toPredicate(Root&lt;YourEntity&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n\t\tPredicate yourPredicate\r\n\t\t\t\t= cb.and(cb.greaterThanOrEqualTo(root.get(dateInEntity), \r\n\t\treturn cb.and(yourPredicate);\r\n\t}\r\n\r\nthen it should work like this:\r\nyourRepo.findAll(yourPredicate);\r\n\r\n\r\n\r\nhere is more about that:\r\nhttps://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","title":"How to give Greater than Date value without passing parameter in JPA Date method","body":"<p>Maybe it is a complicate workaround - but have you tried to use Java Specifications?</p>\n<pre><code>public class TestSpec implements Specification&lt;YourEntity&gt; {\n@Override\npublic Predicate toPredicate(Root&lt;YourEntity&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n    Predicate yourPredicate\n            = cb.and(cb.greaterThanOrEqualTo(root.get(dateInEntity), \n    return cb.and(yourPredicate);\n}\n</code></pre>\n<p>then it should work like this:\nyourRepo.findAll(yourPredicate);</p>\n<p>here is more about that:\n<a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl</a></p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76875178,"answer_count":2,"score":1,"last_activity_date":1691709429,"creation_date":1691419367,"question_id":76852801,"body_markdown":"I am trying to fetch records which are greater than actionDate column using Spring JPA.\r\nI am able to achieve it if i write the method like below .\r\n\r\n    findAllByActionDateGreaterThan(Date date)\r\n\r\nBut Is there any way i can do it without passing the date parameter like a Hardcoded value in the method name itself like \r\n\r\n    findAllByActionDateGreaterThanSysdateMinus30()\r\n\r\n","title":"How to give Greater than Date value without passing parameter in JPA Date method","body":"<p>I am trying to fetch records which are greater than actionDate column using Spring JPA.\nI am able to achieve it if i write the method like below .</p>\n<pre><code>findAllByActionDateGreaterThan(Date date)\n</code></pre>\n<p>But Is there any way i can do it without passing the date parameter like a Hardcoded value in the method name itself like</p>\n<pre><code>findAllByActionDateGreaterThanSysdateMinus30()\n</code></pre>\n"},{"tags":["java","ssl","openssl","pkcs#12"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1593100964,"post_id":62575976,"comment_id":110668419,"body_markdown":"(1) how was this P12 created (e.g. with what software and commands/options, or device)? (2) can you provide an example file with the problem, as hex or base64 or somewhere like pastebin -- i.e. can you reproduce with a key whose security doesn&#39;t matter? (3) even if you could or can read this, you won&#39;t be able to convert it to JKS, because JKS can&#39;t contain a SecretKeyEntry","body":"(1) how was this P12 created (e.g. with what software and commands/options, or device)? (2) can you provide an example file with the problem, as hex or base64 or somewhere like pastebin -- i.e. can you reproduce with a key whose security doesn&#39;t matter? (3) even if you could or can read this, you won&#39;t be able to convert it to JKS, because JKS can&#39;t contain a SecretKeyEntry"},{"owner":{"account_id":3814779,"reputation":146,"user_id":3164394,"display_name":"madhukar"},"score":0,"creation_date":1593139429,"post_id":62575976,"comment_id":110681904,"body_markdown":"Thanks Dave, I used orapki (Oracle wallet) tool to generate the keystore file. Using keytool am not able to convert to JKS but after exploring orapki tool, found option pkcs12_to_jks, after converting to JKS the keystore entrytype is changed to PrivateKeyEntry. Now able to read the keystore from JKS file. But not sure why am not able to read the data from wallet generated keystore.","body":"Thanks Dave, I used orapki (Oracle wallet) tool to generate the keystore file. Using keytool am not able to convert to JKS but after exploring orapki tool, found option pkcs12_to_jks, after converting to JKS the keystore entrytype is changed to PrivateKeyEntry. Now able to read the keystore from JKS file. But not sure why am not able to read the data from wallet generated keystore."}],"answers":[{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675429249,"creation_date":1675429249,"answer_id":75336110,"question_id":62575976,"body_markdown":"Either use a more recent java version or a different security provider.\r\nE.g. [bouncycastle][1]bouncycastle will do the job and you are going to use the [bouncycastle provider for JDK 8 and later][2]\r\n\r\nTo enable it you either modify the file `jre/lib/security/java.security` in your JDK 8 and put that provider at position 1:\r\n\r\n    security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n    security.provider.2=sun.security.provider.Sun\r\n    ...\r\n\r\nor you add it once at runtime at position 1:\r\n\r\n    BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider();\r\n    Security.insertProviderAt(bouncyCastleProvider, 1);\r\n\r\n  [1]: https://www.bouncycastle.org/latest_releases.html\r\n  [2]: https://www.bouncycastle.org/download/bcprov-jdk18on-172.jar","title":"Reading keystore.p12:Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261","body":"<p>Either use a more recent java version or a different security provider.\nE.g. <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">bouncycastle</a>bouncycastle will do the job and you are going to use the <a href=\"https://www.bouncycastle.org/download/bcprov-jdk18on-172.jar\" rel=\"nofollow noreferrer\">bouncycastle provider for JDK 8 and later</a></p>\n<p>To enable it you either modify the file <code>jre/lib/security/java.security</code> in your JDK 8 and put that provider at position 1:</p>\n<pre><code>security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\nsecurity.provider.2=sun.security.provider.Sun\n...\n</code></pre>\n<p>or you add it once at runtime at position 1:</p>\n<pre><code>BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider();\nSecurity.insertProviderAt(bouncyCastleProvider, 1);\n</code></pre>\n"}],"owner":{"account_id":3814779,"reputation":146,"user_id":3164394,"display_name":"madhukar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9363,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691708805,"creation_date":1593090067,"question_id":62575976,"body_markdown":"I&#39;ve a .p12 keystore which is having Entry type: SecretKeyEntry. If I try to read the keystore getting error\r\n\r\n    Exception in thread &quot;main&quot; java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineGetKey(KeyStoreDelegator.java:90)\r\n\tat java.base/java.security.KeyStore.getKey(KeyStore.java:1057)\r\n\tat client.Keystest.main(Keystest.java:25)\r\n    Caused by: java.io.IOException: overrun, bytes = 261\r\n    \tat java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\r\n    \tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\r\n    \t... 3 more\r\n\r\n\r\nIf I try to convert the keystore from PKCS12 to JKS getting same error\r\n\r\n    keytool -v -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -destkeystore keystore.ks -deststoretype PKCS12\r\n    Importing keystore keystore.p12 to keystore.ks...\r\n    Enter destination keystore password:\r\n    Enter source keystore password:\r\n    keytool error: java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\r\n    java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\r\n            at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\r\n            at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetEntry(PKCS12KeyStore.java:1346)\r\n            at java.base/sun.security.util.KeyStoreDelegator.engineGetEntry(KeyStoreDelegator.java:166)\r\n            at java.base/java.security.KeyStore.getEntry(KeyStore.java:1555)\r\n            at java.base/sun.security.tools.keytool.Main.recoverEntry(Main.java:3536)\r\n            at java.base/sun.security.tools.keytool.Main.doImportKeyStoreSingle(Main.java:2253)\r\n            at java.base/sun.security.tools.keytool.Main.doImportKeyStoreAll(Main.java:2303)\r\n            at java.base/sun.security.tools.keytool.Main.doImportKeyStore(Main.java:2195)\r\n            at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1189)\r\n            at java.base/sun.security.tools.keytool.Main.run(Main.java:398)\r\n            at java.base/sun.security.tools.keytool.Main.main(Main.java:391)\r\n    Caused by: java.io.IOException: overrun, bytes = 261\r\n            at java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\r\n            at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\r\n            ... 10 more\r\n\r\nNot getting the exact cause for &quot;overrun, bytes = 261&quot;","title":"Reading keystore.p12:Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261","body":"<p>I've a .p12 keystore which is having Entry type: SecretKeyEntry. If I try to read the keystore getting error</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\nat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\nat java.base/sun.security.util.KeyStoreDelegator.engineGetKey(KeyStoreDelegator.java:90)\nat java.base/java.security.KeyStore.getKey(KeyStore.java:1057)\nat client.Keystest.main(Keystest.java:25)\nCaused by: java.io.IOException: overrun, bytes = 261\n    at java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\n    ... 3 more\n</code></pre>\n<p>If I try to convert the keystore from PKCS12 to JKS getting same error</p>\n<pre><code>keytool -v -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -destkeystore keystore.ks -deststoretype PKCS12\nImporting keystore keystore.p12 to keystore.ks...\nEnter destination keystore password:\nEnter source keystore password:\nkeytool error: java.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\njava.security.UnrecoverableKeyException: Private key not stored as PKCS#8 EncryptedPrivateKeyInfo: java.io.IOException: overrun, bytes = 261\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:373)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetEntry(PKCS12KeyStore.java:1346)\n        at java.base/sun.security.util.KeyStoreDelegator.engineGetEntry(KeyStoreDelegator.java:166)\n        at java.base/java.security.KeyStore.getEntry(KeyStore.java:1555)\n        at java.base/sun.security.tools.keytool.Main.recoverEntry(Main.java:3536)\n        at java.base/sun.security.tools.keytool.Main.doImportKeyStoreSingle(Main.java:2253)\n        at java.base/sun.security.tools.keytool.Main.doImportKeyStoreAll(Main.java:2303)\n        at java.base/sun.security.tools.keytool.Main.doImportKeyStore(Main.java:2195)\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1189)\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:398)\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:391)\nCaused by: java.io.IOException: overrun, bytes = 261\n        at java.base/sun.security.pkcs.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:77)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:362)\n        ... 10 more\n</code></pre>\n<p>Not getting the exact cause for &quot;overrun, bytes = 261&quot;</p>\n"},{"tags":["java","spring-boot","websocket","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":29202523,"reputation":1,"user_id":22372315,"display_name":"Imperator_Twix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691707618,"creation_date":1691707618,"answer_id":76879751,"question_id":76183643,"body_markdown":"I face the same problem, and i have a not-solution for you: &lt;br/&gt;\r\nhttps://github.com/spring-projects/spring-framework/issues/31021 &lt;br/&gt;\r\nCite: &quot;Other clients are connecting fine, just not Spring clients after upgrading.&quot; Maybe they will fix this, the comment is only 6 hours old. &lt;br/&gt;\r\nHope that helps.","title":"Stomp Session Handler: once connection established the handler is not notified in afterConnected() method","body":"<p>I face the same problem, and i have a not-solution for you: <br/>\n<a href=\"https://github.com/spring-projects/spring-framework/issues/31021\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/31021</a> <br/>\nCite: &quot;Other clients are connecting fine, just not Spring clients after upgrading.&quot; Maybe they will fix this, the comment is only 6 hours old. <br/>\nHope that helps.</p>\n"}],"owner":{"account_id":17566302,"reputation":1,"user_id":12743048,"display_name":"GDA 973"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691707618,"creation_date":1683299550,"question_id":76183643,"body_markdown":"I&#39;m trying to build websocket connection with stomp session handler in spring boot but after connectiong established it&#39;s not called afterConnected() method i can see &quot;In connection&quot; but not &quot;connected&quot; in console and than after few minute console print &quot;failed in transportConnection closed&quot; which is in transport exception.. I am using spring websocket client...\r\n\r\n\r\n```\r\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.messaging.converter.MappingJackson2MessageConverter;\r\nimport org.springframework.messaging.simp.stomp.StompCommand;\r\nimport org.springframework.messaging.simp.stomp.StompHeaders;\r\nimport org.springframework.messaging.simp.stomp.StompSession;\r\nimport org.springframework.messaging.simp.stomp.StompSessionHandler;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.socket.client.WebSocketClient;\r\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\r\nimport org.springframework.web.socket.messaging.WebSocketStompClient;\r\n\r\nimport java.lang.reflect.Type;\r\n\r\n@Service\r\npublic class MyStompClient extends StompSessionHandlerAdapter {\r\n\r\n    @EventListener(value = ApplicationReadyEvent.class)\r\n    public void connect() {\r\n        System.out.println(&quot;In connection...&quot;);\r\n        WebSocketClient client = new StandardWebSocketClient();\r\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n        try {\r\n            StompSession stompSession = stompClient\r\n                    .connectAsync(&quot;wss://ws.finnhub.io/?token=my_token&quot;, this)\r\n                    .get();\r\n            System.out.println(&quot;connected&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Failed&quot; + e.getMessage());\r\n        }\r\n    }\r\n    @Override\r\n    public void afterConnected(StompSession session, StompHeaders connectedHeaders) {\r\n        System.out.println(&quot;After Connected Called&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void handleException(StompSession session, StompCommand command, StompHeaders headers, byte[] payload, Throwable exception) {\r\n        System.out.println(&quot;in ex: &quot; + exception.getMessage());\r\n    }\r\n\r\n    @Override\r\n    public void handleTransportError(StompSession session, Throwable exception) {\r\n        System.out.println(&quot;failed in transport&quot;  + exception.getMessage());\r\n    }\r\n\r\n    @Override\r\n    public Type getPayloadType(StompHeaders headers) {\r\n        return String.class;\r\n    }\r\n\r\n    @Override\r\n    public void handleFrame(StompHeaders headers, Object payload) {\r\n\r\n    }\r\n}\r\n```\r\non running application it should be called after connected method","title":"Stomp Session Handler: once connection established the handler is not notified in afterConnected() method","body":"<p>I'm trying to build websocket connection with stomp session handler in spring boot but after connectiong established it's not called afterConnected() method i can see &quot;In connection&quot; but not &quot;connected&quot; in console and than after few minute console print &quot;failed in transportConnection closed&quot; which is in transport exception.. I am using spring websocket client...</p>\n<pre><code>import org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.messaging.converter.MappingJackson2MessageConverter;\nimport org.springframework.messaging.simp.stomp.StompCommand;\nimport org.springframework.messaging.simp.stomp.StompHeaders;\nimport org.springframework.messaging.simp.stomp.StompSession;\nimport org.springframework.messaging.simp.stomp.StompSessionHandler;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.socket.client.WebSocketClient;\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\nimport org.springframework.web.socket.messaging.WebSocketStompClient;\n\nimport java.lang.reflect.Type;\n\n@Service\npublic class MyStompClient extends StompSessionHandlerAdapter {\n\n    @EventListener(value = ApplicationReadyEvent.class)\n    public void connect() {\n        System.out.println(&quot;In connection...&quot;);\n        WebSocketClient client = new StandardWebSocketClient();\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n        try {\n            StompSession stompSession = stompClient\n                    .connectAsync(&quot;wss://ws.finnhub.io/?token=my_token&quot;, this)\n                    .get();\n            System.out.println(&quot;connected&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Failed&quot; + e.getMessage());\n        }\n    }\n    @Override\n    public void afterConnected(StompSession session, StompHeaders connectedHeaders) {\n        System.out.println(&quot;After Connected Called&quot;);\n    }\n\n    @Override\n    public void handleException(StompSession session, StompCommand command, StompHeaders headers, byte[] payload, Throwable exception) {\n        System.out.println(&quot;in ex: &quot; + exception.getMessage());\n    }\n\n    @Override\n    public void handleTransportError(StompSession session, Throwable exception) {\n        System.out.println(&quot;failed in transport&quot;  + exception.getMessage());\n    }\n\n    @Override\n    public Type getPayloadType(StompHeaders headers) {\n        return String.class;\n    }\n\n    @Override\n    public void handleFrame(StompHeaders headers, Object payload) {\n\n    }\n}\n</code></pre>\n<p>on running application it should be called after connected method</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":2,"creation_date":1691706075,"post_id":76879452,"comment_id":135531696,"body_markdown":"Do not use the `dsa` tag.  Your question has nothing to do with `Digital Signature Algorithm`.","body":"Do not use the <code>dsa</code> tag.  Your question has nothing to do with <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691706670,"post_id":76879452,"comment_id":135531781,"body_markdown":"*but it&#39;s not giving the expected output.* -- What debugging have you done?  [What is a debugger?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems).  If you wrote the code yourself, you had a plan (on paper).  You then implemented the plan in Java.  The next step is to see where the program goes against your plan by debugging the program.  You will either discover the bug in your code, or you will discover that the plan was flawed and start over with a new plan.","body":"<i>but it&#39;s not giving the expected output.</i> -- What debugging have you done?  <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger?</a>.  If you wrote the code yourself, you had a plan (on paper).  You then implemented the plan in Java.  The next step is to see where the program goes against your plan by debugging the program.  You will either discover the bug in your code, or you will discover that the plan was flawed and start over with a new plan."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691707141,"post_id":76879452,"comment_id":135531845,"body_markdown":"Shabbir, your question was completely unreadable because that &#39;ask a question&#39; textbox isn&#39;t raw text - stars and dashes and the like are formatting primitives. I had to stick everything relevant in backticks to indicate it was &#39;code&#39; / raw things not to be &#39;parsed&#39; for format strings. When asking questions on SO, reread your question after posting. Help us help you.","body":"Shabbir, your question was completely unreadable because that &#39;ask a question&#39; textbox isn&#39;t raw text - stars and dashes and the like are formatting primitives. I had to stick everything relevant in backticks to indicate it was &#39;code&#39; / raw things not to be &#39;parsed&#39; for format strings. When asking questions on SO, reread your question after posting. Help us help you."},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1691707683,"post_id":76879452,"comment_id":135531903,"body_markdown":"@rzwitserloot Thank you, I was looking at the question and wondering where did the stars come from.","body":"@rzwitserloot Thank you, I was looking at the question and wondering where did the stars come from."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691709689,"post_id":76879452,"comment_id":135532075,"body_markdown":"Gave it a quick scan - Shabbir, this is just &#39;help me with my homework&#39; / &#39;I do not know how to debug code, please do it for me&#39;. Certainly fair questions. However, SO is not meant for such questions. I&#39;m not aware of other sites that are (other than defunct deserts). They probably are deserts because there are __a lot__ of people learning first-steps java and asking low-effort questions, and not nearly enough folks to try and answer it. Perhaps ask your teacher! Voting to close.","body":"Gave it a quick scan - Shabbir, this is just &#39;help me with my homework&#39; / &#39;I do not know how to debug code, please do it for me&#39;. Certainly fair questions. However, SO is not meant for such questions. I&#39;m not aware of other sites that are (other than defunct deserts). They probably are deserts because there are <b>a lot</b> of people learning first-steps java and asking low-effort questions, and not nearly enough folks to try and answer it. Perhaps ask your teacher! Voting to close."}],"owner":{"account_id":25737506,"reputation":7,"user_id":19491999,"display_name":"Shabbir Katlariwala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691707088,"creation_date":1691703502,"question_id":76879452,"body_markdown":"**Description**:\r\n\r\nproblem name - String hasher \r\n\r\nproblem statement:\r\n\r\nyou are given a string and a number(sub-string length). the string consists of `*`,`-`, and `+` characters, and the string&#39;s length will be the multiple of the given number. Write a function to hash the string using the below hashing algorithm:\r\n- split the given string into multiple sub-strings of a given length string from left\r\n- calculate the weight of each sub-string. the number of times a unique sub-string value appears after splitting is defined as the weight of that sub-string\r\n-sort the unique sub-string values by weight in descending order. if 2 or more sub-strings have the same weight, then sort them by character order. `*` &gt; `-` &gt; `+`\r\n-create the hash by concatenating the sorted list of unique sub-strings and return the hash.\r\n\r\n\r\nExample 1:\r\n\r\n```\r\n**input**: -+*++-*++-\r\n```\r\n\r\nsub-string length:2\r\n\r\n```\r\n**output**: *++--+\r\n```\r\n\r\nExplanation:\r\n\r\nsub-string with length 2: \r\n\r\n```\r\n-+*++-*++-\r\n```\r\n\r\nunique sub-strings with weight \r\n```\r\n- -+ : 1\r\n- *+ : 2\r\n- +- : 2\r\n```\r\n\r\n\r\n- while sorting sub-strings by weight,`*+` and `+-` sub-strings have same weight. i.e 2. so, we sort these sub-strings by character order resulting in *+ coming before +-.so,the final order is `*++--+`\r\n- create the hash by concatenating the unique sub-string: `*++--+`\r\n\r\n**Sample Input** \r\n\r\n```\r\n-+*++-*++-\r\n```\r\n\r\n2\r\n\r\n**sample output** \r\n\r\n```\r\n*++--+\r\n```\r\n\r\n**Java pseudo code to be built**\r\n\r\n\r\n    import java.io.* ;\r\n    import java.util.* ;\r\n    import java.text.* ;\r\n    import java.math.* ;\r\n    import java.util.regrex.* ;\r\n    \r\n    class Main{\r\n    public static void main ( String [] args) throws Exception {\r\n    StringBuilder inputData=new  StringBuilder() ;\r\n    String thisLine=null ;\r\n    BufferReader br= new  BufferReader (new InputStreamReader(System.in));\r\n    while((thisLine=br.readLine())!=null){\r\n    inputData.append(thisLine + &quot;/n&quot;);\r\n    }\r\n    System.out.println(codeHere(inputData));\r\n    }\r\n    \r\n    public static string codeHere(StringBuilder inputData){\r\n    // use this function to write your solution;\r\n    return inputData.toString();\r\n    }\r\n\r\n**my code** :\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            StringBuilder inputData = new StringBuilder();\r\n            String thisLine = null;\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            while ((thisLine = br.readLine()) != null) {\r\n                inputData.append(thisLine + &quot;\\n&quot;);\r\n            }\r\n            System.out.println(codeHere(inputData));\r\n        }\r\n    \r\n        public static String codeHere(StringBuilder inputData) {\r\n            String[] lines = inputData.toString().split(&quot;\\n&quot;);\r\n            String inputString = lines[0].trim();\r\n            int subStringLength = Integer.parseInt(lines[1].trim());\r\n    \r\n            return hashString(inputString, subStringLength);\r\n        }\r\n    \r\n        public static String hashString(String inputString, int subStringLength) {\r\n            Map&lt;String, Integer&gt; substringCount = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt;= inputString.length() - subStringLength; i++) {\r\n                String substring = inputString.substring(i, i + subStringLength);\r\n                substringCount.put(substring, substringCount.getOrDefault(substring, 0) + 1);\r\n            }\r\n    \r\n            List&lt;String&gt; uniqueSubstrings = new ArrayList&lt;&gt;(substringCount.keySet());\r\n            uniqueSubstrings.sort((a, b) -&gt; {\r\n                int weightComparison = substringCount.get(b) - substringCount.get(a);\r\n                if (weightComparison == 0) {\r\n                    return a.compareTo(b);\r\n                }\r\n                return weightComparison;\r\n            });\r\n    \r\n            StringBuilder hash = new StringBuilder();\r\n            for (String substring : uniqueSubstrings) {\r\n                hash.append(substring);\r\n            }\r\n    \r\n            return hash.toString();\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nbut it&#39;s not giving the expected output.\r\n\r\nfor input:\r\n\r\n```\r\n-+*++-*++-\r\n```\r\n2\r\n\r\n**output** \r\n\r\n```\r\n*++++-+*-*-+\r\n```\r\n\r\nexpected output\r\n\r\n```\r\n*++--+ \r\n```\r\n\r\nPlease Give easiest method if possible.\r\n","title":"Java String Hashing: Sorting Sub-strings by Weight and Character Order","body":"<p><strong>Description</strong>:</p>\n<p>problem name - String hasher</p>\n<p>problem statement:</p>\n<p>you are given a string and a number(sub-string length). the string consists of <code>*</code>,<code>-</code>, and <code>+</code> characters, and the string's length will be the multiple of the given number. Write a function to hash the string using the below hashing algorithm:</p>\n<ul>\n<li>split the given string into multiple sub-strings of a given length string from left</li>\n<li>calculate the weight of each sub-string. the number of times a unique sub-string value appears after splitting is defined as the weight of that sub-string\n-sort the unique sub-string values by weight in descending order. if 2 or more sub-strings have the same weight, then sort them by character order. <code>*</code> &gt; <code>-</code> &gt; <code>+</code>\n-create the hash by concatenating the sorted list of unique sub-strings and return the hash.</li>\n</ul>\n<p>Example 1:</p>\n<pre><code>**input**: -+*++-*++-\n</code></pre>\n<p>sub-string length:2</p>\n<pre><code>**output**: *++--+\n</code></pre>\n<p>Explanation:</p>\n<p>sub-string with length 2:</p>\n<pre><code>-+*++-*++-\n</code></pre>\n<p>unique sub-strings with weight</p>\n<pre><code>- -+ : 1\n- *+ : 2\n- +- : 2\n</code></pre>\n<ul>\n<li>while sorting sub-strings by weight,<code>*+</code> and <code>+-</code> sub-strings have same weight. i.e 2. so, we sort these sub-strings by character order resulting in *+ coming before +-.so,the final order is <code>*++--+</code></li>\n<li>create the hash by concatenating the unique sub-string: <code>*++--+</code></li>\n</ul>\n<p><strong>Sample Input</strong></p>\n<pre><code>-+*++-*++-\n</code></pre>\n<p>2</p>\n<p><strong>sample output</strong></p>\n<pre><code>*++--+\n</code></pre>\n<p><strong>Java pseudo code to be built</strong></p>\n<pre><code>import java.io.* ;\nimport java.util.* ;\nimport java.text.* ;\nimport java.math.* ;\nimport java.util.regrex.* ;\n\nclass Main{\npublic static void main ( String [] args) throws Exception {\nStringBuilder inputData=new  StringBuilder() ;\nString thisLine=null ;\nBufferReader br= new  BufferReader (new InputStreamReader(System.in));\nwhile((thisLine=br.readLine())!=null){\ninputData.append(thisLine + &quot;/n&quot;);\n}\nSystem.out.println(codeHere(inputData));\n}\n\npublic static string codeHere(StringBuilder inputData){\n// use this function to write your solution;\nreturn inputData.toString();\n}\n</code></pre>\n<p><strong>my code</strong> :</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Main {\n    public static void main(String[] args) throws Exception {\n        StringBuilder inputData = new StringBuilder();\n        String thisLine = null;\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        while ((thisLine = br.readLine()) != null) {\n            inputData.append(thisLine + &quot;\\n&quot;);\n        }\n        System.out.println(codeHere(inputData));\n    }\n\n    public static String codeHere(StringBuilder inputData) {\n        String[] lines = inputData.toString().split(&quot;\\n&quot;);\n        String inputString = lines[0].trim();\n        int subStringLength = Integer.parseInt(lines[1].trim());\n\n        return hashString(inputString, subStringLength);\n    }\n\n    public static String hashString(String inputString, int subStringLength) {\n        Map&lt;String, Integer&gt; substringCount = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt;= inputString.length() - subStringLength; i++) {\n            String substring = inputString.substring(i, i + subStringLength);\n            substringCount.put(substring, substringCount.getOrDefault(substring, 0) + 1);\n        }\n\n        List&lt;String&gt; uniqueSubstrings = new ArrayList&lt;&gt;(substringCount.keySet());\n        uniqueSubstrings.sort((a, b) -&gt; {\n            int weightComparison = substringCount.get(b) - substringCount.get(a);\n            if (weightComparison == 0) {\n                return a.compareTo(b);\n            }\n            return weightComparison;\n        });\n\n        StringBuilder hash = new StringBuilder();\n        for (String substring : uniqueSubstrings) {\n            hash.append(substring);\n        }\n\n        return hash.toString();\n    }\n}\n</code></pre>\n<p></p>\n<p>but it's not giving the expected output.</p>\n<p>for input:</p>\n<pre><code>-+*++-*++-\n</code></pre>\n<p>2</p>\n<p><strong>output</strong></p>\n<pre><code>*++++-+*-*-+\n</code></pre>\n<p>expected output</p>\n<pre><code>*++--+ \n</code></pre>\n<p>Please Give easiest method if possible.</p>\n"},{"tags":["java","multithreading","java.util.concurrent","concurrenthashmap","java-memory-model"],"answers":[{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1691920443,"post_id":76879703,"comment_id":135553775,"body_markdown":"`That&#39;s because another thread has been growing this map in the middle of this transfer() operation.` No, I don&#39;t think it can due to: 1) Any new thread that tries to insert during a resize has **either** to [help with the transfer](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1023) or [acquire the lock on the bin and add the element](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1031).","body":"<code>That&#39;s because another thread has been growing this map in the middle of this transfer() operation.</code> No, I don&#39;t think it can due to: 1) Any new thread that tries to insert during a resize has <b>either</b> to <a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1023\" rel=\"nofollow noreferrer\">help with the transfer</a> or <a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1031\" rel=\"nofollow noreferrer\">acquire the lock on the bin and add the element</a>."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1691920632,"post_id":76879703,"comment_id":135553788,"body_markdown":"In the middle of a transfer operation I don&#39;t think any thread can access the `nextTable` since `table` still points to the **old table**. [The switch only happens when a thread sets `finishing = true`](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2467). So whenever `nextIndex` is updated, it does not use the length of the new table. **Correct me if I am wrong.**","body":"In the middle of a transfer operation I don&#39;t think any thread can access the <code>nextTable</code> since <code>table</code> still points to the <b>old table</b>. <a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2467\" rel=\"nofollow noreferrer\">The switch only happens when a thread sets <code>finishing = true</code></a>. So whenever <code>nextIndex</code> is updated, it does not use the length of the new table. <b>Correct me if I am wrong.</b>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1691921252,"post_id":76879703,"comment_id":135553843,"body_markdown":"As far the `transfer()` method goes : [`transferIndex` starts at `n`](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2440), [`n` is always the **old** `table.length`](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2427)","body":"As far the <code>transfer()</code> method goes : <a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2440\" rel=\"nofollow noreferrer\"><code>transferIndex</code> starts at <code>n</code></a>, <a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2427\" rel=\"nofollow noreferrer\"><code>n</code> is always the <b>old</b> <code>table.length</code></a>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1691921307,"post_id":76879703,"comment_id":135553850,"body_markdown":"[`nextIndex` is set to `transferIndex`](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2452) and is [only decremented](https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2456). No other thread can increase transferIndex during the `transfer()`. **Correct me if I am wrong.**","body":"<a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2452\" rel=\"nofollow noreferrer\"><code>nextIndex</code> is set to <code>transferIndex</code></a> and is <a href=\"https://github.com/openjdk/jdk/blob/ec0cc6300a02dd92b25d9072b8b3859dab583bbd/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2456\" rel=\"nofollow noreferrer\">only decremented</a>. No other thread can increase transferIndex during the <code>transfer()</code>. <b>Correct me if I am wrong.</b>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1691921596,"post_id":76879703,"comment_id":135553878,"body_markdown":"Basically to grow the CHM during a `transfer` it can only add to the old table, IMO or help the transfer. **It cannot suddenly add to the new table during a transfer**. **Please correct me if I am wrong.**","body":"Basically to grow the CHM during a <code>transfer</code> it can only add to the old table, IMO or help the transfer. <b>It cannot suddenly add to the new table during a transfer</b>. <b>Please correct me if I am wrong.</b>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1692196509,"post_id":76879703,"comment_id":135591347,"body_markdown":"I don&#39;t think this answer is correct.","body":"I don&#39;t think this answer is correct."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":6,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1691706988,"creation_date":1691706988,"answer_id":76879703,"question_id":76879210,"body_markdown":"It can, though:\r\n\r\n&gt; ```\r\n&gt; while (advance) {\r\n&gt;  int nextIndex, nextBound;\r\n&gt;  if (--i &gt;= bound || finishing)\r\n&gt;    advance = false;\r\n&gt;  else if ((nextIndex = transferIndex) &lt;= 0) { // !!!! LINE 1\r\n&gt;    i = -1;\r\n&gt;    advance = false;\r\n&gt;  }\r\n&gt;  else if (U.compareAndSetInt\r\n&gt;           (this, TRANSFERINDEX, nextIndex,\r\n&gt;            nextBound = (nextIndex &gt; stride ?\r\n&gt;                         nextIndex - stride : 0))) {\r\n&gt;     bound = nextBound;\r\n&gt;     i = nextIndex - 1;\r\n&gt;     advance = false;\r\n&gt;   }\r\n&gt; }\r\n&gt;\r\n&gt; if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) {\r\n&gt; ```\r\n\r\nThis code is highly non-idiomatic; it is written in a style somewhat common in older kernel/low-level C code style and not at all in java style. No wonder; this stuff _is_ the domain of low-level stuff.\r\n\r\nLine 1 as marked in the snippet I copy/pasted directly from the source of CHM (other than that remark) looks like a check __but it is not__. It __sets__ `nextIndex` to transferIndex, _and then_ checks if that value is below or equal to 0 in which case it enters the `else if`&#39;s block.\r\n\r\nSo, here&#39;s the flow to get to `i &gt;= n` triggering:\r\n\r\n* This code loops once or a few times.\r\n* It gets to that `if` check. `transferIndex` is a field. Another thread can change it (and given that we&#39;re talking about CHM, the code is obviously written to take into account that may have occurred).\r\n* Because of this, `nextIndex` is now quite high. Higher than `n`. That&#39;s because another thread has been growing this map in the middle of this `transfer()` operation.\r\n* Nevertheless, whilst `nextIndex` has been updated to the value of `nextTransfer`, the if fails. The next elseif (a CAS (Compare-and-set, a CPU primitive that is incredibly useful to write lock-free code that operates correctly in concurrent situations) op to ensure that in the few cycles we just spent going through these hoops, `transferIndex` is _still_ the value we read a cycle or two ago), we have now &#39;claimed&#39; the job and set `i` to `nextIndex - 1` __which could be higher than `n`!__.\r\n\r\n* Then we get to the `i &gt;= n` check you are asking about, and it could therefore indeed be true. I _think_ the situation where that occurs is if, halfway through a transfer, some other thread has added some data to the CHM, but that&#39;s already been added to the post-transfer intended table so there is no need to act, thus, start the &#39;finishing&#39; job which requires another CAS check and one more loop with `finishing = true` on.\r\n\r\nNB: You may be thinking: Wait, `transferIndex` is being read but there is absolutely nothing establishing Happens-Before on transferIndex here, so whatever it reads, it&#39;s by definition a JMM violation and could be (and is in fact likely to be on modern CPUs) unaffected by other thread writes. But not so fast: Before a likely stale value of transferIndex is actually used, the code does a CAS check on `TRANSFERINDEX` (it&#39;s in the snippet I just pasted, in the final `else if`) and CAS checks also establish HB. It&#39;s not documented, because `Unsafe` isn&#39;t officially part of the spec, more or less. (It&#39;s sort of part of JVM spec and sort of not, bit of an oddball). For stale reads on this, the loop more or less just reloops.\r\n\r\nAs a general rule, to be truly fast in the face of likely concurrent operations, you want to be lock-free. To be lock-free, you need lots of CAS, and you use the CAS generally in a &#39;retry&#39; style: You check current state, you act on current state, you then use CAS to confirm that the state you checked before is still the state, and if so, update and move on. If not, just.. do it again. Over and over until you &#39;win&#39; (&#39;win&#39; = the CAS call succeeds because the thing you are CASing does have the expected value, expected = the thing it was when you started the calculation). Eventually you &#39;win&#39;. Hence, it&#39;s best to read such code as having looped a few times, having done absolutely nothing, because CAS calls failed.\r\n\r\nDBs work the same way: If you&#39;re familiar with MVCC style dbs and how you can use them to do lock-free ops with nevertheless the very highest concurrency guarantees (namely, `TransactionIsolationLevel.SERIALIBLE`, the &#39;toughest&#39; level) - same principle at work. Retry-on-conflict - same thing happening here.\r\n","title":"ConcurrentHashMap - Can we get rid of i &gt;= n from transfer()?","body":"<p>It can, though:</p>\n<blockquote>\n<pre><code>while (advance) {\n int nextIndex, nextBound;\n if (--i &gt;= bound || finishing)\n   advance = false;\n else if ((nextIndex = transferIndex) &lt;= 0) { // !!!! LINE 1\n   i = -1;\n   advance = false;\n }\n else if (U.compareAndSetInt\n          (this, TRANSFERINDEX, nextIndex,\n           nextBound = (nextIndex &gt; stride ?\n                        nextIndex - stride : 0))) {\n    bound = nextBound;\n    i = nextIndex - 1;\n    advance = false;\n  }\n}\n\nif (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) {\n</code></pre>\n</blockquote>\n<p>This code is highly non-idiomatic; it is written in a style somewhat common in older kernel/low-level C code style and not at all in java style. No wonder; this stuff <em>is</em> the domain of low-level stuff.</p>\n<p>Line 1 as marked in the snippet I copy/pasted directly from the source of CHM (other than that remark) looks like a check <strong>but it is not</strong>. It <strong>sets</strong> <code>nextIndex</code> to transferIndex, <em>and then</em> checks if that value is below or equal to 0 in which case it enters the <code>else if</code>'s block.</p>\n<p>So, here's the flow to get to <code>i &gt;= n</code> triggering:</p>\n<ul>\n<li><p>This code loops once or a few times.</p>\n</li>\n<li><p>It gets to that <code>if</code> check. <code>transferIndex</code> is a field. Another thread can change it (and given that we're talking about CHM, the code is obviously written to take into account that may have occurred).</p>\n</li>\n<li><p>Because of this, <code>nextIndex</code> is now quite high. Higher than <code>n</code>. That's because another thread has been growing this map in the middle of this <code>transfer()</code> operation.</p>\n</li>\n<li><p>Nevertheless, whilst <code>nextIndex</code> has been updated to the value of <code>nextTransfer</code>, the if fails. The next elseif (a CAS (Compare-and-set, a CPU primitive that is incredibly useful to write lock-free code that operates correctly in concurrent situations) op to ensure that in the few cycles we just spent going through these hoops, <code>transferIndex</code> is <em>still</em> the value we read a cycle or two ago), we have now 'claimed' the job and set <code>i</code> to <code>nextIndex - 1</code> <strong>which could be higher than <code>n</code>!</strong>.</p>\n</li>\n<li><p>Then we get to the <code>i &gt;= n</code> check you are asking about, and it could therefore indeed be true. I <em>think</em> the situation where that occurs is if, halfway through a transfer, some other thread has added some data to the CHM, but that's already been added to the post-transfer intended table so there is no need to act, thus, start the 'finishing' job which requires another CAS check and one more loop with <code>finishing = true</code> on.</p>\n</li>\n</ul>\n<p>NB: You may be thinking: Wait, <code>transferIndex</code> is being read but there is absolutely nothing establishing Happens-Before on transferIndex here, so whatever it reads, it's by definition a JMM violation and could be (and is in fact likely to be on modern CPUs) unaffected by other thread writes. But not so fast: Before a likely stale value of transferIndex is actually used, the code does a CAS check on <code>TRANSFERINDEX</code> (it's in the snippet I just pasted, in the final <code>else if</code>) and CAS checks also establish HB. It's not documented, because <code>Unsafe</code> isn't officially part of the spec, more or less. (It's sort of part of JVM spec and sort of not, bit of an oddball). For stale reads on this, the loop more or less just reloops.</p>\n<p>As a general rule, to be truly fast in the face of likely concurrent operations, you want to be lock-free. To be lock-free, you need lots of CAS, and you use the CAS generally in a 'retry' style: You check current state, you act on current state, you then use CAS to confirm that the state you checked before is still the state, and if so, update and move on. If not, just.. do it again. Over and over until you 'win' ('win' = the CAS call succeeds because the thing you are CASing does have the expected value, expected = the thing it was when you started the calculation). Eventually you 'win'. Hence, it's best to read such code as having looped a few times, having done absolutely nothing, because CAS calls failed.</p>\n<p>DBs work the same way: If you're familiar with MVCC style dbs and how you can use them to do lock-free ops with nevertheless the very highest concurrency guarantees (namely, <code>TransactionIsolationLevel.SERIALIBLE</code>, the 'toughest' level) - same principle at work. Retry-on-conflict - same thing happening here.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691706988,"creation_date":1691700403,"question_id":76879210,"body_markdown":"Related to :\r\nhttps://stackoverflow.com/q/63597067/7134737\r\n\r\nI am looking into the transfer() method in [j.u.c.ConcurrentHashMap][1].\r\n\r\nDoesn&#39;t it make sense to just get rid of [i &gt;= n || i + n &gt;= nextn][2] from the [transfer()][3] method ?\r\n\r\n      for (int i = 0, bound = 0;;) {\r\n            Node&lt;K,V&gt; f; int fh;\r\n            while (advance) {\r\n                int nextIndex, nextBound;\r\n                if (--i &gt;= bound || finishing) // always decreasing\r\n                    advance = false;\r\n                else if ((nextIndex = transferIndex) &lt;= 0) {\r\n                    i = -1; // obviously less than n\r\n                    advance = false;\r\n                }\r\n                else if (U.compareAndSetInt\r\n                         (this, TRANSFERINDEX, nextIndex,\r\n                          nextBound = (nextIndex &gt; stride ?\r\n                                       nextIndex - stride : 0))) {\r\n                    bound = nextBound;\r\n                    i = nextIndex - 1; // will be guaranteed to be less than n\r\n                    advance = false;\r\n                }\r\n            }\r\n            if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) { // why keep any thing other than i &lt; 0\r\n\r\nGiven that `i` is a local variable I see no mathematical way it can exceed `n` (old table len).\r\n\r\nAlso, the [question linked above][4] also says that its dead code.\r\n\r\nAm I missing something about the JMM that needs to check this weird condition?\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java\r\n  [2]: https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2465\r\n  [3]: https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2426\r\n  [4]: https://stackoverflow.com/a/67656878/7134737","title":"ConcurrentHashMap - Can we get rid of i &gt;= n from transfer()?","body":"<p>Related to :\n<a href=\"https://stackoverflow.com/q/63597067/7134737\">In ConcurrentHashMap&#39;s transfer method, I don&#39;t understand the meaning of these two conditions &quot;i &gt;= n&quot; and &quot;i + n &gt;= nextn&quot;</a></p>\n<p>I am looking into the transfer() method in <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">j.u.c.ConcurrentHashMap</a>.</p>\n<p>Doesn't it make sense to just get rid of <a href=\"https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2465\" rel=\"nofollow noreferrer\">i &gt;= n || i + n &gt;= nextn</a> from the <a href=\"https://github.com/openjdk/jdk/blob/88b4e3b8539c2beb29ad92bd74b300002c2ef84b/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2426\" rel=\"nofollow noreferrer\">transfer()</a> method ?</p>\n<pre><code>  for (int i = 0, bound = 0;;) {\n        Node&lt;K,V&gt; f; int fh;\n        while (advance) {\n            int nextIndex, nextBound;\n            if (--i &gt;= bound || finishing) // always decreasing\n                advance = false;\n            else if ((nextIndex = transferIndex) &lt;= 0) {\n                i = -1; // obviously less than n\n                advance = false;\n            }\n            else if (U.compareAndSetInt\n                     (this, TRANSFERINDEX, nextIndex,\n                      nextBound = (nextIndex &gt; stride ?\n                                   nextIndex - stride : 0))) {\n                bound = nextBound;\n                i = nextIndex - 1; // will be guaranteed to be less than n\n                advance = false;\n            }\n        }\n        if (i &lt; 0 || i &gt;= n || i + n &gt;= nextn) { // why keep any thing other than i &lt; 0\n</code></pre>\n<p>Given that <code>i</code> is a local variable I see no mathematical way it can exceed <code>n</code> (old table len).</p>\n<p>Also, the <a href=\"https://stackoverflow.com/a/67656878/7134737\">question linked above</a> also says that its dead code.</p>\n<p>Am I missing something about the JMM that needs to check this weird condition?</p>\n"},{"tags":["java","macos","mousemove","awtrobot","macos-mojave"],"comments":[{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":0,"creation_date":1541085180,"post_id":53103394,"comment_id":93103452,"body_markdown":"You&#39;re going to have to be more specific with &quot;it doesnt work&quot;. What does the console say when you run it?/what is it supposed to say? Also more to the point how are you running it?","body":"You&#39;re going to have to be more specific with &quot;it doesnt work&quot;. What does the console say when you run it?/what is it supposed to say? Also more to the point how are you running it?"},{"owner":{"account_id":14665355,"reputation":131,"user_id":10591345,"display_name":"R.edd"},"score":0,"creation_date":1541092803,"post_id":53103394,"comment_id":93107743,"body_markdown":"Hi, so in console I receive only these two lines (example from Mac): &quot;Predicted mouse location : 12, 300&quot; and &quot;Actual mouse location : 730, 428&quot; - what is correct, because the second line shows mouse position (because mouse does not change position for some reason). In Windows 7 I can see the same values in both lines (because predicted mouse position is equal to actual position after mouse moved). Do I need to provide something more? Thanks for reply","body":"Hi, so in console I receive only these two lines (example from Mac): &quot;Predicted mouse location : 12, 300&quot; and &quot;Actual mouse location : 730, 428&quot; - what is correct, because the second line shows mouse position (because mouse does not change position for some reason). In Windows 7 I can see the same values in both lines (because predicted mouse position is equal to actual position after mouse moved). Do I need to provide something more? Thanks for reply"},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586022897,"post_id":53103394,"comment_id":107974842,"body_markdown":"I ran your code with JDK 1.8 and the actual and predicted do not match, but my mouse cursor was moved to the correct location. The same code with JDK 11 works.","body":"I ran your code with JDK 1.8 and the actual and predicted do not match, but my mouse cursor was moved to the correct location. The same code with JDK 11 works."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586188163,"post_id":53103394,"comment_id":108030039,"body_markdown":"The code example will not always work. For it to work reliably, there needs to be a `SwingUtilities.invokeAndWait` used to get the `MouseInfo`.","body":"The code example will not always work. For it to work reliably, there needs to be a <code>SwingUtilities.invokeAndWait</code> used to get the <code>MouseInfo</code>."}],"answers":[{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586022200,"post_id":53965852,"comment_id":107974561,"body_markdown":"I already had IntelliJ in the list of authorized apps for &quot;Accessibility&quot;. And I&#39;m also having the problem where my Java app, launched within IntelliJ, cannot move the mouse. I wonder if the JVM must be the same for my app and IntelliJ. This is not currently the case.","body":"I already had IntelliJ in the list of authorized apps for &quot;Accessibility&quot;. And I&#39;m also having the problem where my Java app, launched within IntelliJ, cannot move the mouse. I wonder if the JVM must be the same for my app and IntelliJ. This is not currently the case."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586025807,"post_id":53965852,"comment_id":107975963,"body_markdown":"So indeed, each JVM that needs to run the above code must be given permission using the method described here. IntelliJ embeds a JVM, but I don&#39;t use that JVM to compile and run code. I use Gradle which launches yet another JVM. In addition, Gradle has a daemon worker which must be restart after giving the JVM permission. Note: when I say &quot;JVM&quot; I mean the `java` command.","body":"So indeed, each JVM that needs to run the above code must be given permission using the method described here. IntelliJ embeds a JVM, but I don&#39;t use that JVM to compile and run code. I use Gradle which launches yet another JVM. In addition, Gradle has a daemon worker which must be restart after giving the JVM permission. Note: when I say &quot;JVM&quot; I mean the <code>java</code> command."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586187067,"post_id":53965852,"comment_id":108029319,"body_markdown":"Ok, it&#39;s worse than my previous comment. I had `java` for JDK 11.0.6 in the list of permitted apps and things still did not work. To resolve the problem I had to remove IntelliJ and all `java` commands from the list of permitted apps (remove, not uncheck). Then I had to run my program using gradle on the command line (not in IntelliJ). Doing so gave a macOS window prompting for security permissions. I clicked &quot;Open System Preferences&quot; and `java` was there. I checked it. Now it works. This `java` is the same as I added earlier manually and did not work. I verified this with &quot;Open in Finder&quot;.","body":"Ok, it&#39;s worse than my previous comment. I had <code>java</code> for JDK 11.0.6 in the list of permitted apps and things still did not work. To resolve the problem I had to remove IntelliJ and all <code>java</code> commands from the list of permitted apps (remove, not uncheck). Then I had to run my program using gradle on the command line (not in IntelliJ). Doing so gave a macOS window prompting for security permissions. I clicked &quot;Open System Preferences&quot; and <code>java</code> was there. I checked it. Now it works. This <code>java</code> is the same as I added earlier manually and did not work. I verified this with &quot;Open in Finder&quot;."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1586187119,"post_id":53965852,"comment_id":108029356,"body_markdown":"The above method also made things work when running from IntelliJ.","body":"The above method also made things work when running from IntelliJ."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1588035324,"post_id":53965852,"comment_id":108739509,"body_markdown":"I&#39;m still having difficulties with this. Every once in a while I have to remove IntelliJ and all &quot;java&quot; entries from &quot;Accessibility&quot; under &quot;Privacy&quot; in System Preferences and then run `gradle` from the command line to provoke macOS to prompt me to allow. Then everything works after that for a while. Very strange.","body":"I&#39;m still having difficulties with this. Every once in a while I have to remove IntelliJ and all &quot;java&quot; entries from &quot;Accessibility&quot; under &quot;Privacy&quot; in System Preferences and then run <code>gradle</code> from the command line to provoke macOS to prompt me to allow. Then everything works after that for a while. Very strange."},{"owner":{"account_id":200383,"reputation":2332,"user_id":446220,"accept_rate":44,"display_name":"psmith"},"score":0,"creation_date":1588552079,"post_id":53965852,"comment_id":108934387,"body_markdown":"Thanks a lot for your comment! I ran my java autoclicker from iTerm2 so i had to enable `iTerm` in Security &amp; Privacy / Privacy / Accessibility to make it work.","body":"Thanks a lot for your comment! I ran my java autoclicker from iTerm2 so i had to enable <code>iTerm</code> in Security &amp; Privacy / Privacy / Accessibility to make it work."},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1633363503,"post_id":53965852,"comment_id":122734284,"body_markdown":"It was useful for me.  It was necessary  to remove in security and put it again","body":"It was useful for me.  It was necessary  to remove in security and put it again"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1691707180,"post_id":53965852,"comment_id":135531846,"body_markdown":"Fortunately, I can fiddle with the Accessibility controls while my application is running. When I set the right application, the effect is immediate. So if you&#39;re not sure which application needs the permission, just launch your java application that moves the mouse, and try enabling different apps, one at a time, and watch if your mouse starts moving. Also, if you have multiple versions of Java installed, they&#39;ll all show up as &quot;java&quot; with no version number.","body":"Fortunately, I can fiddle with the Accessibility controls while my application is running. When I set the right application, the effect is immediate. So if you&#39;re not sure which application needs the permission, just launch your java application that moves the mouse, and try enabling different apps, one at a time, and watch if your mouse starts moving. Also, if you have multiple versions of Java installed, they&#39;ll all show up as &quot;java&quot; with no version number."}],"tags":[],"owner":{"account_id":1160273,"reputation":251,"user_id":1139925,"display_name":"Paul Banta"},"comment_count":8,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1546047232,"creation_date":1546045127,"answer_id":53965852,"question_id":53103394,"body_markdown":"\r\nI&#39;m having the same exact issue too. I have a statement &quot;robot.mouseMove(100, 100);&quot; and the mouse doesn&#39;t move at all. I have an idea to research. I noticed a warning or informational type of message from MacOS while I was running my code. It was asking me something about giving permission for my program to control the screen or system or something. I tried to click the &quot;allow&quot; checkbox, but it wouldn&#39;t let me. I&#39;ll research this some more. I think it&#39;s a MacOS thing. You (and I) have to tell MacOS that it&#39;s ok for our Java program to control the mouse.\r\n\r\n\r\nI think this is the solution . . .\r\n\r\nIn System Preferences (the &quot;gear&quot; icon), under Security &amp; Privacy, click the Privacy tab toward the top, then choose Accessibility on the left. This lists all the programs that can &quot;control your computer&quot;. I&#39;m using STS, not IntelliJ. I see STS listed along with BetterSnapTool and KeyCastr. Both BetterSnapTool and KeyCastr are checked. STS is not checked. And, all of these are grayed out so that I can&#39;t change any of the checks. There&#39;s a Lock icon at the bottom left of the window. I clicked on the icon, and a prompt came up asking for my password (I have some level of sysadmin privileges). I put in my password, and I am now allowed to &quot;check&quot; STS. I &quot;checked&quot; STS (you will &quot;check&quot; IntelliJ). After &quot;checking&quot; STS, I clicked the Lock icon at the bottom left again. This &quot;closed&quot; the lock. Now when I run my program, the robot command moves my mouse.\r\n","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>I'm having the same exact issue too. I have a statement \"robot.mouseMove(100, 100);\" and the mouse doesn't move at all. I have an idea to research. I noticed a warning or informational type of message from MacOS while I was running my code. It was asking me something about giving permission for my program to control the screen or system or something. I tried to click the \"allow\" checkbox, but it wouldn't let me. I'll research this some more. I think it's a MacOS thing. You (and I) have to tell MacOS that it's ok for our Java program to control the mouse.</p>\n\n<p>I think this is the solution . . .</p>\n\n<p>In System Preferences (the \"gear\" icon), under Security &amp; Privacy, click the Privacy tab toward the top, then choose Accessibility on the left. This lists all the programs that can \"control your computer\". I'm using STS, not IntelliJ. I see STS listed along with BetterSnapTool and KeyCastr. Both BetterSnapTool and KeyCastr are checked. STS is not checked. And, all of these are grayed out so that I can't change any of the checks. There's a Lock icon at the bottom left of the window. I clicked on the icon, and a prompt came up asking for my password (I have some level of sysadmin privileges). I put in my password, and I am now allowed to \"check\" STS. I \"checked\" STS (you will \"check\" IntelliJ). After \"checking\" STS, I clicked the Lock icon at the bottom left again. This \"closed\" the lock. Now when I run my program, the robot command moves my mouse.</p>\n"},{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1645455921,"post_id":61485434,"comment_id":125869861,"body_markdown":"I&#39;ve been using this approach for two years now successfully. Note that you don&#39;t actually have to start your application with Gradle before using IntelliJ to run the application. You just need to start Gradle from the command line and this can be done with a simple command like `./gradlew tasks` from your project directory. That&#39;s how I&#39;ve been doing it. It&#39;s a simple little step that must be done before doing anything in IntelliJ at the start of your work day. Furthermore, if you forget, just run `kill` on each gradle process.","body":"I&#39;ve been using this approach for two years now successfully. Note that you don&#39;t actually have to start your application with Gradle before using IntelliJ to run the application. You just need to start Gradle from the command line and this can be done with a simple command like <code>.&#47;gradlew tasks</code> from your project directory. That&#39;s how I&#39;ve been doing it. It&#39;s a simple little step that must be done before doing anything in IntelliJ at the start of your work day. Furthermore, if you forget, just run <code>kill</code> on each gradle process."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1645461273,"post_id":61485434,"comment_id":125872051,"body_markdown":"I see now that the success of `Robot.mouseMove` depends on the version of the JDK. With JDK 11.0.6 it works. With JDK 11.0.14 it does not. It seems it doesn&#39;t work with JDK 1.8 either. I did indeed at the specific `java` binary for JDK 11.0.14 per my instructions in this answer to no avail.","body":"I see now that the success of <code>Robot.mouseMove</code> depends on the version of the JDK. With JDK 11.0.6 it works. With JDK 11.0.14 it does not. It seems it doesn&#39;t work with JDK 1.8 either. I did indeed at the specific <code>java</code> binary for JDK 11.0.14 per my instructions in this answer to no avail."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1691707054,"post_id":61485434,"comment_id":135531836,"body_markdown":"Fortunately, I can fiddle with the Accessibility controls while my application is running. When I set the right application, the effect is immediate. So if you&#39;re not sure which application needs the permission, just launch your java application that moves the mouse, and try enabling different apps, one at a time, and watch if your mouse starts moving.\n\nAlso, if you have multiple versions of Java installed, they&#39;ll all show up as &quot;java&quot; with no version number.","body":"Fortunately, I can fiddle with the Accessibility controls while my application is running. When I set the right application, the effect is immediate. So if you&#39;re not sure which application needs the permission, just launch your java application that moves the mouse, and try enabling different apps, one at a time, and watch if your mouse starts moving.  Also, if you have multiple versions of Java installed, they&#39;ll all show up as &quot;java&quot; with no version number."}],"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588092193,"creation_date":1588092193,"answer_id":61485434,"question_id":53103394,"body_markdown":"The answer is &quot;you can&quot; and &quot;you can&#39;t&quot;. Let&#39;s start with the &quot;can&#39;t&quot;.\r\n\r\n**Can&#39;t:**\r\n\r\nIt seems macOS incorrectly detects the attempt to move the mouse as coming from IntelliJ, when in fact, it&#39;s coming from `java`. You can give IntelliJ all the permissions you want, but `java` will never be able to move the cursor when the permissions are given to IntelliJ.\r\n\r\nIntelliJ (which is a Java application) is running a child process to start your program. The child process is the `java` command line and not the same `java` as is bundled with IntelliJ. This child process needs the permissions.\r\n\r\n**Can:**\r\n\r\nThis is a bit round about.\r\n\r\n1. Use Gradle to build your project, IntelliJ recognizes Gradle projects and interacts nicely with them\r\n2. Remove all occurrences of IntelliJ and Java from Accessibility permissions in macOS system preferences -&gt; Security and Privacy.\r\n3. Be sure all Gradle daemons are stopped (or if you haven&#39;t run Gradle yet, then be sure the next step is the first time gradle runs since you last rebooted your computer)\r\n4. Run you application from the command line using Gradle\r\n5. macOS will prompt to give permissions, open system preferences and give `java` permission.\r\n6. Run IntelliJ and run your app as a gradle project through IntelliJ, and voila!\r\n\r\nWhat happens: IntelliJ, in step 6, uses the already running gradle daemon process to execute your application. This process is using `java` and `java` has permission to move the mouse cursor in macOS system preferences.\r\n\r\nIt&#39;s not pretty, but it works. If you&#39;re like me, you use gradle anyway for java projects in IntelliJ, and all you have to do is remember to run your project from the command line before running it from IntelliJ. This way, the gradle daemon (a `java` process) will be responsible for running the application and proper permissions will be detected by macOS.\r\n\r\nI tested this with the following code (note a few modifications, as the OP code had some &quot;bugs&quot;):\r\n\r\n    import javax.swing.SwingUtilities;\r\n    import java.awt.AWTException;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Robot;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    public class RunRobot {\r\n        public static void main(String[] args) {\r\n            int x = 12,\r\n                y = 300;\r\n            final int[] xAct = new int[1],\r\n                        yAct = new int[1];\r\n            try {\r\n                Robot robot = new Robot();\r\n                robot.mouseMove(x, y);\r\n                robot.waitForIdle();\r\n    \r\n                SwingUtilities.invokeAndWait(()-&gt;{\r\n                    xAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getX();\r\n                    yAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getY();\r\n                });\r\n    \r\n                String sPred = String.format(&quot;Predicted mouse location : %, d, %, d&quot;, x, y),\r\n                       sAct  = String.format(&quot;Actual    mouse location : %, d, %, d&quot;, xAct[0], yAct[0]);\r\n    \r\n                System.out.println(sPred);\r\n                System.out.println(sAct);\r\n            } catch (InterruptedException | AWTException | InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>The answer is \"you can\" and \"you can't\". Let's start with the \"can't\".</p>\n\n<p><strong>Can't:</strong></p>\n\n<p>It seems macOS incorrectly detects the attempt to move the mouse as coming from IntelliJ, when in fact, it's coming from <code>java</code>. You can give IntelliJ all the permissions you want, but <code>java</code> will never be able to move the cursor when the permissions are given to IntelliJ.</p>\n\n<p>IntelliJ (which is a Java application) is running a child process to start your program. The child process is the <code>java</code> command line and not the same <code>java</code> as is bundled with IntelliJ. This child process needs the permissions.</p>\n\n<p><strong>Can:</strong></p>\n\n<p>This is a bit round about.</p>\n\n<ol>\n<li>Use Gradle to build your project, IntelliJ recognizes Gradle projects and interacts nicely with them</li>\n<li>Remove all occurrences of IntelliJ and Java from Accessibility permissions in macOS system preferences -> Security and Privacy.</li>\n<li>Be sure all Gradle daemons are stopped (or if you haven't run Gradle yet, then be sure the next step is the first time gradle runs since you last rebooted your computer)</li>\n<li>Run you application from the command line using Gradle</li>\n<li>macOS will prompt to give permissions, open system preferences and give <code>java</code> permission.</li>\n<li>Run IntelliJ and run your app as a gradle project through IntelliJ, and voila!</li>\n</ol>\n\n<p>What happens: IntelliJ, in step 6, uses the already running gradle daemon process to execute your application. This process is using <code>java</code> and <code>java</code> has permission to move the mouse cursor in macOS system preferences.</p>\n\n<p>It's not pretty, but it works. If you're like me, you use gradle anyway for java projects in IntelliJ, and all you have to do is remember to run your project from the command line before running it from IntelliJ. This way, the gradle daemon (a <code>java</code> process) will be responsible for running the application and proper permissions will be detected by macOS.</p>\n\n<p>I tested this with the following code (note a few modifications, as the OP code had some \"bugs\"):</p>\n\n<pre><code>import javax.swing.SwingUtilities;\nimport java.awt.AWTException;\nimport java.awt.MouseInfo;\nimport java.awt.Robot;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class RunRobot {\n    public static void main(String[] args) {\n        int x = 12,\n            y = 300;\n        final int[] xAct = new int[1],\n                    yAct = new int[1];\n        try {\n            Robot robot = new Robot();\n            robot.mouseMove(x, y);\n            robot.waitForIdle();\n\n            SwingUtilities.invokeAndWait(()-&gt;{\n                xAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getX();\n                yAct[0] = (int) MouseInfo.getPointerInfo().getLocation().getY();\n            });\n\n            String sPred = String.format(\"Predicted mouse location : %, d, %, d\", x, y),\n                   sAct  = String.format(\"Actual    mouse location : %, d, %, d\", xAct[0], yAct[0]);\n\n            System.out.println(sPred);\n            System.out.println(sAct);\n        } catch (InterruptedException | AWTException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1675443855,"post_id":74645853,"comment_id":132937277,"body_markdown":"Please give more information. I tried this and it did not work. What java version are you using? Do you need to restart Terminal? Which macOS do you have? I have macOS 13.2, Java 11.0.6 LTS from Oracle (because that&#39;s the LTS version that works for moving the mouse cursor in previous releases of macOS). I removed Java from accessibility to be sure it wasn&#39;t interfering (using the minus button at the bottom of Preferences. It was there because it had to be in the previous macOS version). Thanks for any more info you can provide.","body":"Please give more information. I tried this and it did not work. What java version are you using? Do you need to restart Terminal? Which macOS do you have? I have macOS 13.2, Java 11.0.6 LTS from Oracle (because that&#39;s the LTS version that works for moving the mouse cursor in previous releases of macOS). I removed Java from accessibility to be sure it wasn&#39;t interfering (using the minus button at the bottom of Preferences. It was there because it had to be in the previous macOS version). Thanks for any more info you can provide."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1691707083,"post_id":74645853,"comment_id":135531839,"body_markdown":"Fortunately, I can fiddle with the Accessibility controls while my application is running. When I set the right application, the effect is immediate. So if you&#39;re not sure which application needs the permission, just launch your java application that moves the mouse, and try enabling different apps, one at a time, and watch if your mouse starts moving.\n\nAlso, if you have multiple versions of Java installed, they&#39;ll all show up as &quot;java&quot; with no version number.","body":"Fortunately, I can fiddle with the Accessibility controls while my application is running. When I set the right application, the effect is immediate. So if you&#39;re not sure which application needs the permission, just launch your java application that moves the mouse, and try enabling different apps, one at a time, and watch if your mouse starts moving.  Also, if you have multiple versions of Java installed, they&#39;ll all show up as &quot;java&quot; with no version number."}],"tags":[],"owner":{"account_id":15123026,"reputation":513,"user_id":10913282,"display_name":"D.A.C. Nupun"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669915967,"creation_date":1669915453,"answer_id":74645853,"question_id":53103394,"body_markdown":"I had the same problem on mac os. But finally I found a way to do it.\r\n\r\n1. Create a .jar file from your source. (It can be done by simply doing Clean &amp; Build in netbeans)\r\n\r\n2. After that go to system preference &gt; Privacy &amp; Security &gt; Accessibility &gt; Select &quot;Terminal&quot; and turn it ON (as below)\r\nIf &quot;Terminal&quot; is not visible in Accessibility you can add pressing &quot;+&quot; button\r\n\r\n [![enter image description here][1]][1] \r\n\r\n3.Run the .jar file via terminal. Then robot function will be execute !\r\nUse this command to run .jar file via terminal `java -jar /Users/&lt;username&gt;/Documents/MyApp.jar`\r\n\r\nEnjoy !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypgUB.png","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>I had the same problem on mac os. But finally I found a way to do it.</p>\n<ol>\n<li><p>Create a .jar file from your source. (It can be done by simply doing Clean &amp; Build in netbeans)</p>\n</li>\n<li><p>After that go to system preference &gt; Privacy &amp; Security &gt; Accessibility &gt; Select &quot;Terminal&quot; and turn it ON (as below)\nIf &quot;Terminal&quot; is not visible in Accessibility you can add pressing &quot;+&quot; button</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ypgUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypgUB.png\" alt=\"enter image description here\" /></a></p>\n<p>3.Run the .jar file via terminal. Then robot function will be execute !\nUse this command to run .jar file via terminal <code>java -jar /Users/&lt;username&gt;/Documents/MyApp.jar</code></p>\n<p>Enjoy !</p>\n"}],"owner":{"account_id":14665355,"reputation":131,"user_id":10591345,"display_name":"R.edd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5785,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1691706980,"creation_date":1541082753,"question_id":53103394,"body_markdown":"I created java file in IntelliJ IDE, with that code\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Robot;\r\n    \r\n    public class JavaRobotExample {\r\n        public static void main(String[] args) {\r\n            int x = 12,\r\n                    y = 300;\r\n            try {\r\n                Robot robot = new Robot();\r\n                robot.mouseMove(x, y);\r\n    \r\n                int xAct = (int)    MouseInfo.getPointerInfo().getLocation().getX(),\r\n                        yAct = (int) MouseInfo.getPointerInfo().getLocation().getY();\r\n    \r\n                String sPred = String.format(&quot;Predicted mouse location : %, d, %, d&quot;, x, y),\r\n                        sAct = String.format(&quot;Actual mouse location : %, d, %, d&quot;, xAct, yAct);\r\n    \r\n                System.out.println(sPred);\r\n                System.out.println(sAct);\r\n            } catch (AWTException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThat example works fine in Windows 7 environment, but the same code on Mac OS 10.14 doesn&#39;t move mouse using method mouseMove (but reads position with MouseInfo class).\r\n\r\nAlso I don&#39;t receive any Exception e.g.\r\n\r\nDid someone had earlier similar problem? Any ideas how to get that code to work in Mac OS?\r\n\r\nBest Regards,\r\n","title":"Robot.mouseMove does not work at all in Mac OS X","body":"<p>I created java file in IntelliJ IDE, with that code</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.MouseInfo;\nimport java.awt.Robot;\n\npublic class JavaRobotExample {\n    public static void main(String[] args) {\n        int x = 12,\n                y = 300;\n        try {\n            Robot robot = new Robot();\n            robot.mouseMove(x, y);\n\n            int xAct = (int)    MouseInfo.getPointerInfo().getLocation().getX(),\n                    yAct = (int) MouseInfo.getPointerInfo().getLocation().getY();\n\n            String sPred = String.format(\"Predicted mouse location : %, d, %, d\", x, y),\n                    sAct = String.format(\"Actual mouse location : %, d, %, d\", xAct, yAct);\n\n            System.out.println(sPred);\n            System.out.println(sAct);\n        } catch (AWTException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>That example works fine in Windows 7 environment, but the same code on Mac OS 10.14 doesn't move mouse using method mouseMove (but reads position with MouseInfo class).</p>\n\n<p>Also I don't receive any Exception e.g.</p>\n\n<p>Did someone had earlier similar problem? Any ideas how to get that code to work in Mac OS?</p>\n\n<p>Best Regards,</p>\n"},{"tags":["java","mergesort"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1689598295,"post_id":76704587,"comment_id":135231737,"body_markdown":"Can you find out *any* information about the test case(s) you fail on?","body":"Can you find out <i>any</i> information about the test case(s) you fail on?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689599156,"post_id":76704587,"comment_id":135231944,"body_markdown":"If you are looking for improvements to working code, the [Code Review Stack Exchange](https://codereview.stackexchange.com/) is a better place to ask.","body":"If you are looking for improvements to working code, the <a href=\"https://codereview.stackexchange.com/\">Code Review Stack Exchange</a> is a better place to ask."},{"owner":{"account_id":6725902,"reputation":449,"user_id":5999841,"accept_rate":78,"display_name":"pacmaninbw"},"score":0,"creation_date":1689602164,"post_id":76704587,"comment_id":135232695,"body_markdown":"Before posting on Code Review please read [A guide to Code Review for Stack Overflow users](https://codereview.meta.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users/5778#5778) and [How do I ask a good question?](https://codereview.stackexchange.com/help/how-to-ask)","body":"Before posting on Code Review please read <a href=\"https://codereview.meta.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users/5778#5778\">A guide to Code Review for Stack Overflow users</a> and <a href=\"https://codereview.stackexchange.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689713265,"creation_date":1689713265,"answer_id":76716450,"question_id":76704587,"body_markdown":"Change the code to do a one time allocation of a second array, instead of allocating on every merge. This example does a one time copy, then alternates the direction of merge with each level of recursion to avoid copy back. mergeSort is the entry function, mergeSortR is the recursive function:\r\n\r\n    static void mergeSort(int a[], int l, int r)\r\n    {\r\n        r += 1;                             // change r to end (last+1)\r\n        if((r-l) &lt; 2)                       // return if nothing to sort\r\n            return;\r\n        int [] b = a;                       // one time copy\r\n        mergeSortR(b, a, l, r);\r\n    }\r\n    \r\n    static void mergeSortR(int b[], int a[], int bb, int ee)\r\n    {\r\n        if ((ee - bb) == 1)                 // if one element, return\r\n            return;\r\n        int mm = (bb+ee)/2;                 // midpoint, start of right half\r\n        mergeSortR(a, b, bb, mm);           // sort left  half of a to b\r\n        mergeSortR(a, b, mm, ee);           // sort right half of a to b\r\n        merge(b, a, bb, mm, ee);            // merge b to a\r\n    }\r\n    \r\n    static void merge(int a[], int b[], int bb, int mm, int ee)\r\n    {\r\n        int o = bb;                         // b[]       index\r\n        int l = bb;                         // a[] left  index\r\n        int r = mm;                         // a[] right index\r\n        while(true){                        // merge data\r\n            if(a[l] &lt;= a[r]){               // if a[l] &lt;= a[r]\r\n                b[o++] = a[l++];            //   copy a[l]\r\n                if(l &lt; mm)                  //   if not end of left run\r\n                    continue;               //     continue (back to while)\r\n                while(r &lt; ee)               //   else copy rest of right run\r\n                    b[o++] = a[r++];\r\n                break;                      //     and return\r\n            } else {                        // else a[l] &gt; a[r]\r\n                b[o++] = a[r++];            //   copy a[r]\r\n                if(r &lt; ee)                  //   if not end of right run\r\n                    continue;               //     continue (back to while)\r\n                while(l &lt; mm)               //   else copy rest of left run\r\n                    b[o++] = a[l++];\r\n                break;                      //     and return\r\n            }\r\n        }\r\n    }\r\n","title":"Time Limit Exceeded in Merge Sort program","body":"<p>Change the code to do a one time allocation of a second array, instead of allocating on every merge. This example does a one time copy, then alternates the direction of merge with each level of recursion to avoid copy back. mergeSort is the entry function, mergeSortR is the recursive function:</p>\n<pre><code>static void mergeSort(int a[], int l, int r)\n{\n    r += 1;                             // change r to end (last+1)\n    if((r-l) &lt; 2)                       // return if nothing to sort\n        return;\n    int [] b = a;                       // one time copy\n    mergeSortR(b, a, l, r);\n}\n\nstatic void mergeSortR(int b[], int a[], int bb, int ee)\n{\n    if ((ee - bb) == 1)                 // if one element, return\n        return;\n    int mm = (bb+ee)/2;                 // midpoint, start of right half\n    mergeSortR(a, b, bb, mm);           // sort left  half of a to b\n    mergeSortR(a, b, mm, ee);           // sort right half of a to b\n    merge(b, a, bb, mm, ee);            // merge b to a\n}\n\nstatic void merge(int a[], int b[], int bb, int mm, int ee)\n{\n    int o = bb;                         // b[]       index\n    int l = bb;                         // a[] left  index\n    int r = mm;                         // a[] right index\n    while(true){                        // merge data\n        if(a[l] &lt;= a[r]){               // if a[l] &lt;= a[r]\n            b[o++] = a[l++];            //   copy a[l]\n            if(l &lt; mm)                  //   if not end of left run\n                continue;               //     continue (back to while)\n            while(r &lt; ee)               //   else copy rest of right run\n                b[o++] = a[r++];\n            break;                      //     and return\n        } else {                        // else a[l] &gt; a[r]\n            b[o++] = a[r++];            //   copy a[r]\n            if(r &lt; ee)                  //   if not end of right run\n                continue;               //     continue (back to while)\n            while(l &lt; mm)               //   else copy rest of left run\n                b[o++] = a[l++];\n            break;                      //     and return\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691706601,"creation_date":1691706225,"answer_id":76879652,"question_id":76704587,"body_markdown":"Your `merge` function allocates a temporary array that has the full size of the original array at each step of the algorithm. The interpreter might be unable to optimize this and free the array immediately after each call, relying on the garbage collector to release the memory.\r\n\r\nYou can improve this algorithm by reducing the length of the array allocated for the merge:\r\n```\r\nvoid merge(int arr[], int l, int m, int r)\r\n{ \r\n    int n = r - l + 1;\r\n    int b[] = new int[n];\r\n    \r\n    int i = l;\r\n    int j = m + 1;\r\n    int k = 0;\r\n    \r\n    while (i &lt;= m &amp;&amp; j &lt;= r) {\r\n        if (arr[i] &lt;= arr[j]) {\r\n            b[k++] = arr[i++]; \r\n        } else {\r\n            b[k++] = arr[j++];\r\n        }\r\n    }\r\n    \r\n    if (i &gt; m) {\r\n        while (j &lt;= r) {\r\n            b[k++] = arr[j++];\r\n        } \r\n    } else {\r\n        while(i &lt;= m) {\r\n            b[k++] = arr[i++];\r\n        }\r\n    }\r\n    \r\n    for (k = 0; k &lt; n; k++) {\r\n        arr[l + k] = b[k];\r\n    }\r\n}\r\n\r\nvoid mergeSort(int arr[], int l, int r)\r\n{\r\n    if (l &lt; r) {\r\n        int mid = l + (r - l) / 2;\r\n        mergeSort(arr, l, mid);\r\n        mergeSort(arr, mid + 1, r);\r\n        merge(arr, l, mid, r);\r\n    }\r\n}\r\n```\r\n\r\nYou can further reduce the allocated space by only allocating a copy of the left part:\r\n```\r\nvoid merge(int arr[], int l, int m, int r)\r\n{ \r\n    int n = m - l + 1;\r\n    int b[] = new int[n];\r\n\r\n    int i = l;\r\n    int j = m + 1;\r\n    int k = 0;\r\n\r\n    while (i &lt;= m) {\r\n        b[k++] = arr[i++]\r\n    }\r\n    \r\n    i = l;\r\n    k = 0;\r\n    \r\n    while (k &lt; n &amp;&amp; j &lt;= r) {\r\n        if (b[k] &lt;= arr[j]) {\r\n            arr[i++] = b[k++]; \r\n        } else {\r\n            arr[i++] = arr[j++];\r\n        }\r\n    }\r\n    while (k &lt; n) {\r\n        arr[i++] = b[k++];\r\n    }\r\n}\r\n\r\nvoid mergeSort(int arr[], int l, int r)\r\n{\r\n    if (l &lt; r) {\r\n        int mid = l + (r - l) / 2;\r\n        mergeSort(arr, l, mid);\r\n        mergeSort(arr, mid + 1, r);\r\n        merge(arr, l, mid, r);\r\n    }\r\n}\r\n```\r\n\r\nAn even more efficient version would allocate a single temporary array with a length half the length of the array to be sorted and pass this array as temporary storage to the recursive calls:\r\n```\r\nvoid merge2(int arr[], int l, int m, int r, int b[])\r\n{ \r\n    int n = m - l + 1;\r\n    int i = l;\r\n    int j = m + 1;\r\n    int k = 0;\r\n\r\n    while (i &lt;= m) {\r\n        b[k++] = arr[i++]\r\n    }\r\n    \r\n    i = l;\r\n    k = 0;\r\n    \r\n    while (k &lt; n &amp;&amp; j &lt;= r) {\r\n        if (b[k] &lt;= arr[j]) {\r\n            arr[i++] = b[k++]; \r\n        } else {\r\n            arr[i++] = arr[j++];\r\n        }\r\n    }\r\n    while (k &lt; n) {\r\n        arr[i++] = b[k++];\r\n    }\r\n}\r\n\r\nvoid mergeSort2(int arr[], int l, int r, int b[])\r\n{\r\n    if (l &lt; r) {\r\n        int mid = l + (r - l) / 2;\r\n        mergeSort2(arr, l, mid, b);\r\n        mergeSort2(arr, mid + 1, r, b);\r\n        merge2(arr, l, mid, r, b);\r\n    }\r\n}\r\n\r\nvoid mergeSort(int arr[], int l, int r)\r\n{\r\n    if (l &lt; r) {\r\n        int b[] = new int[(r - l) / 2 + 1];\r\n        mergeSort2(arr, l, r, b);\r\n    }\r\n}\r\n```\r\n","title":"Time Limit Exceeded in Merge Sort program","body":"<p>Your <code>merge</code> function allocates a temporary array that has the full size of the original array at each step of the algorithm. The interpreter might be unable to optimize this and free the array immediately after each call, relying on the garbage collector to release the memory.</p>\n<p>You can improve this algorithm by reducing the length of the array allocated for the merge:</p>\n<pre><code>void merge(int arr[], int l, int m, int r)\n{ \n    int n = r - l + 1;\n    int b[] = new int[n];\n    \n    int i = l;\n    int j = m + 1;\n    int k = 0;\n    \n    while (i &lt;= m &amp;&amp; j &lt;= r) {\n        if (arr[i] &lt;= arr[j]) {\n            b[k++] = arr[i++]; \n        } else {\n            b[k++] = arr[j++];\n        }\n    }\n    \n    if (i &gt; m) {\n        while (j &lt;= r) {\n            b[k++] = arr[j++];\n        } \n    } else {\n        while(i &lt;= m) {\n            b[k++] = arr[i++];\n        }\n    }\n    \n    for (k = 0; k &lt; n; k++) {\n        arr[l + k] = b[k];\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &lt; r) {\n        int mid = l + (r - l) / 2;\n        mergeSort(arr, l, mid);\n        mergeSort(arr, mid + 1, r);\n        merge(arr, l, mid, r);\n    }\n}\n</code></pre>\n<p>You can further reduce the allocated space by only allocating a copy of the left part:</p>\n<pre><code>void merge(int arr[], int l, int m, int r)\n{ \n    int n = m - l + 1;\n    int b[] = new int[n];\n\n    int i = l;\n    int j = m + 1;\n    int k = 0;\n\n    while (i &lt;= m) {\n        b[k++] = arr[i++]\n    }\n    \n    i = l;\n    k = 0;\n    \n    while (k &lt; n &amp;&amp; j &lt;= r) {\n        if (b[k] &lt;= arr[j]) {\n            arr[i++] = b[k++]; \n        } else {\n            arr[i++] = arr[j++];\n        }\n    }\n    while (k &lt; n) {\n        arr[i++] = b[k++];\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &lt; r) {\n        int mid = l + (r - l) / 2;\n        mergeSort(arr, l, mid);\n        mergeSort(arr, mid + 1, r);\n        merge(arr, l, mid, r);\n    }\n}\n</code></pre>\n<p>An even more efficient version would allocate a single temporary array with a length half the length of the array to be sorted and pass this array as temporary storage to the recursive calls:</p>\n<pre><code>void merge2(int arr[], int l, int m, int r, int b[])\n{ \n    int n = m - l + 1;\n    int i = l;\n    int j = m + 1;\n    int k = 0;\n\n    while (i &lt;= m) {\n        b[k++] = arr[i++]\n    }\n    \n    i = l;\n    k = 0;\n    \n    while (k &lt; n &amp;&amp; j &lt;= r) {\n        if (b[k] &lt;= arr[j]) {\n            arr[i++] = b[k++]; \n        } else {\n            arr[i++] = arr[j++];\n        }\n    }\n    while (k &lt; n) {\n        arr[i++] = b[k++];\n    }\n}\n\nvoid mergeSort2(int arr[], int l, int r, int b[])\n{\n    if (l &lt; r) {\n        int mid = l + (r - l) / 2;\n        mergeSort2(arr, l, mid, b);\n        mergeSort2(arr, mid + 1, r, b);\n        merge2(arr, l, mid, r, b);\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &lt; r) {\n        int b[] = new int[(r - l) / 2 + 1];\n        mergeSort2(arr, l, r, b);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20473506,"reputation":39,"user_id":15023361,"display_name":"Mayur Panchal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691706601,"creation_date":1689597911,"question_id":76704587,"body_markdown":"I tried to implement Merge sort but I am getting Time Limit Exceeded error.\r\nI tried this on GeeksForGeeks platform. The code is working fine for almost all test cases.\r\nIs there any way to optimize the code?\r\n\r\nThis is my code:\r\n\r\n    void merge(int arr[], int l, int m, int r)\r\n    { \r\n        int n = arr.length; \r\n        int b[] = new int[n];\r\n        \r\n        int i = l;\r\n        int j = m + 1;\r\n        int k = l;\r\n        \r\n        while (i &lt;= m &amp;&amp; j &lt;= r) {\r\n            if (arr[i] &lt; arr[j]) {\r\n                b[k] = arr[i]; \r\n                i++;\r\n            } else {\r\n                b[k] = arr[j];\r\n                j++;\r\n            }\r\n            k++;\r\n        }\r\n        \r\n        if (i &gt; m) {\r\n            while (j &lt;= r) {\r\n                b[k] = arr[j];\r\n                k++;\r\n                j++;\r\n            } \r\n        } else {\r\n            while(i &lt;= m) {\r\n                b[k] = arr[i];\r\n                k++;\r\n                i++;\r\n            }\r\n        }\r\n        \r\n        for (k = l; k &lt;= r; k++) {\r\n            arr[k] = b[k];\r\n        }\r\n    }\r\n\r\n    void mergeSort(int arr[], int l, int r)\r\n    {\r\n        if (l &gt; r) {\r\n            return;\r\n        }\r\n        \r\n        if (l &lt; r) {\r\n            int mid = (l + r) / 2;\r\n            mergeSort(arr, l, mid);\r\n            mergeSort(arr, mid + 1, r);\r\n            merge(arr, l, mid, r);\r\n        }\r\n    }","title":"Time Limit Exceeded in Merge Sort program","body":"<p>I tried to implement Merge sort but I am getting Time Limit Exceeded error.\nI tried this on GeeksForGeeks platform. The code is working fine for almost all test cases.\nIs there any way to optimize the code?</p>\n<p>This is my code:</p>\n<pre><code>void merge(int arr[], int l, int m, int r)\n{ \n    int n = arr.length; \n    int b[] = new int[n];\n    \n    int i = l;\n    int j = m + 1;\n    int k = l;\n    \n    while (i &lt;= m &amp;&amp; j &lt;= r) {\n        if (arr[i] &lt; arr[j]) {\n            b[k] = arr[i]; \n            i++;\n        } else {\n            b[k] = arr[j];\n            j++;\n        }\n        k++;\n    }\n    \n    if (i &gt; m) {\n        while (j &lt;= r) {\n            b[k] = arr[j];\n            k++;\n            j++;\n        } \n    } else {\n        while(i &lt;= m) {\n            b[k] = arr[i];\n            k++;\n            i++;\n        }\n    }\n    \n    for (k = l; k &lt;= r; k++) {\n        arr[k] = b[k];\n    }\n}\n\nvoid mergeSort(int arr[], int l, int r)\n{\n    if (l &gt; r) {\n        return;\n    }\n    \n    if (l &lt; r) {\n        int mid = (l + r) / 2;\n        mergeSort(arr, l, mid);\n        mergeSort(arr, mid + 1, r);\n        merge(arr, l, mid, r);\n    }\n}\n</code></pre>\n"},{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691706560,"creation_date":1691706560,"answer_id":76879679,"question_id":76879015,"body_markdown":"There&#39;s no built-in formatting for any of the Java 8 temporal classes as of FreeMarker 2.3.32. (Though there&#39;s a development branch with a semi-finished implementation, not even that addresses `Duration` yet.)\r\n\r\nBut, of course you can call static utility methods from FreeMarker. You have to put the value of this into the data-model (the template context), with the name you prefer (like `MyUtils` in this case) `((BeansWrapper) cfg.getObjectWrapper()).getStaticModels().get(MyUtils.class.getName())`, where `cfg` is the FreeMarker `Configuration` singleton.","title":"What is a good way to format a Duration object in freemarker?","body":"<p>There's no built-in formatting for any of the Java 8 temporal classes as of FreeMarker 2.3.32. (Though there's a development branch with a semi-finished implementation, not even that addresses <code>Duration</code> yet.)</p>\n<p>But, of course you can call static utility methods from FreeMarker. You have to put the value of this into the data-model (the template context), with the name you prefer (like <code>MyUtils</code> in this case) <code>((BeansWrapper) cfg.getObjectWrapper()).getStaticModels().get(MyUtils.class.getName())</code>, where <code>cfg</code> is the FreeMarker <code>Configuration</code> singleton.</p>\n"}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691706560,"creation_date":1691698235,"question_id":76879015,"body_markdown":"I have a java Duration object that should be formatted as `hh:mm:ss` in xml.\r\n\r\n```\r\n&lt;Duration&gt;${duration}&lt;/Duration&gt;\r\n```\r\n\r\nBut it is rendered with the standard format.\r\n\r\n```\r\n&lt;Duration&gt;PT30S&lt;/Duration&gt;\r\n```\r\n\r\nI have a method in java that can format a duration and it is currently used for json mapping.\r\n\r\n```\r\n    public static String format(Duration value) {\r\n        long hours = value.toHours();\r\n        int minutes = value.toMinutesPart();\r\n        int seconds = value.toSecondsPart();\r\n        int millis = value.toMillisPart();\r\n        return millis == 0\r\n            ? String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds)\r\n            : String.format(&quot;%02d:%02d:%02d.%03d&quot;, hours, minutes, seconds, millis);\r\n    }\r\n```\r\n\r\nI also need to render Duration in freemarker. Is it possible to use this same method in freemarker?\r\n\r\n","title":"What is a good way to format a Duration object in freemarker?","body":"<p>I have a java Duration object that should be formatted as <code>hh:mm:ss</code> in xml.</p>\n<pre><code>&lt;Duration&gt;${duration}&lt;/Duration&gt;\n</code></pre>\n<p>But it is rendered with the standard format.</p>\n<pre><code>&lt;Duration&gt;PT30S&lt;/Duration&gt;\n</code></pre>\n<p>I have a method in java that can format a duration and it is currently used for json mapping.</p>\n<pre><code>    public static String format(Duration value) {\n        long hours = value.toHours();\n        int minutes = value.toMinutesPart();\n        int seconds = value.toSecondsPart();\n        int millis = value.toMillisPart();\n        return millis == 0\n            ? String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds)\n            : String.format(&quot;%02d:%02d:%02d.%03d&quot;, hours, minutes, seconds, millis);\n    }\n</code></pre>\n<p>I also need to render Duration in freemarker. Is it possible to use this same method in freemarker?</p>\n"},{"tags":["java","maven","java-8","dependency-management","noclassdeffounderror"],"comments":[{"owner":{"account_id":1227700,"reputation":366,"user_id":1598298,"accept_rate":73,"display_name":"Key Lay"},"score":0,"creation_date":1691697014,"post_id":76878899,"comment_id":135530332,"body_markdown":"In the changes in the dependency no relevant exclusions are added and the only transitive dependency change in my app is in the version of snappy-java.","body":"In the changes in the dependency no relevant exclusions are added and the only transitive dependency change in my app is in the version of snappy-java."},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":1,"creation_date":1691698359,"post_id":76878899,"comment_id":135530594,"body_markdown":"That error means that the class was found,  but something went wrong when the class was loaded. Typically static initialization code failed.","body":"That error means that the class was found,  but something went wrong when the class was loaded. Typically static initialization code failed."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691698601,"creation_date":1691698601,"answer_id":76879052,"question_id":76878899,"body_markdown":"Be aware you are not looking at a `ClassNotFoundException`.\r\n\r\nThe [ApiDoc][1] states about `NoClassDefFoundError`:\r\n*Thrown if the Java Virtual Machine or a ClassLoader instance tries to load in the definition of a class (as part of a normal method call or as part of creating a new instance using the new expression) and no definition of the class could be found.\r\nThe searched-for class definition existed when the currently executing class was compiled, but the definition can no longer be found.*\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/NoClassDefFoundError.html","title":"How can one get a NoClassDefFound for a JDK class/jar?","body":"<p>Be aware you are not looking at a <code>ClassNotFoundException</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">ApiDoc</a> states about <code>NoClassDefFoundError</code>:\n<em>Thrown if the Java Virtual Machine or a ClassLoader instance tries to load in the definition of a class (as part of a normal method call or as part of creating a new instance using the new expression) and no definition of the class could be found.\nThe searched-for class definition existed when the currently executing class was compiled, but the definition can no longer be found.</em></p>\n"}],"owner":{"account_id":1227700,"reputation":366,"user_id":1598298,"accept_rate":73,"display_name":"Key Lay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691706546,"creation_date":1691696986,"question_id":76878899,"body_markdown":"In updating a version of a dependency, I began getting a `java.lang.NoClassDefFoundError: javax/net/ssl/SSLSession`. javax.net.ssl.SSLSession is a JDK class found in rt.jar. How can updating a dependency cause a JDK jar to not be found?\r\n\r\nEDIT: the answer for me is that such a dep change *can&#39;t* cause this result. There was a base image change that was not known at the time of asking that was responsible. \r\n\r\nI am leaving the question up as I think the replies and comments could be helpful to someone coming here for a similar issue. To such people I recommend: double check you classpath and double check your jdk directory.","title":"How can one get a NoClassDefFound for a JDK class/jar?","body":"<p>In updating a version of a dependency, I began getting a <code>java.lang.NoClassDefFoundError: javax/net/ssl/SSLSession</code>. javax.net.ssl.SSLSession is a JDK class found in rt.jar. How can updating a dependency cause a JDK jar to not be found?</p>\n<p>EDIT: the answer for me is that such a dep change <em>can't</em> cause this result. There was a base image change that was not known at the time of asking that was responsible.</p>\n<p>I am leaving the question up as I think the replies and comments could be helpful to someone coming here for a similar issue. To such people I recommend: double check you classpath and double check your jdk directory.</p>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":8211,"reputation":23893,"user_id":14663,"accept_rate":88,"display_name":"WW."},"score":0,"creation_date":1332826195,"post_id":3526556,"comment_id":12606465,"body_markdown":"In case anyone wants to read more about this: https://hibernate.onjira.com/browse/HHH-2603","body":"In case anyone wants to read more about this: <a href=\"https://hibernate.onjira.com/browse/HHH-2603\" rel=\"nofollow noreferrer\">hibernate.onjira.com/browse/HHH-2603</a>"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":9,"creation_date":1335913108,"post_id":3526556,"comment_id":13423027,"body_markdown":"One of the many reasons to stay away from this awful framework called Hibernate. It is time for it to go sleep forever as the name implies.","body":"One of the many reasons to stay away from this awful framework called Hibernate. It is time for it to go sleep forever as the name implies."},{"owner":{"account_id":392986,"reputation":2452,"user_id":754587,"accept_rate":73,"display_name":"Emaborsa"},"score":2,"creation_date":1406270632,"post_id":3526556,"comment_id":38775951,"body_markdown":"@chrisapotek You don&#39;t like Hibernate...do you have any alternatives or do you write all the persistence stuff by hand?","body":"@chrisapotek You don&#39;t like Hibernate...do you have any alternatives or do you write all the persistence stuff by hand?"},{"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"score":1,"creation_date":1579715273,"post_id":3526556,"comment_id":105862151,"body_markdown":"How about mybatis?","body":"How about mybatis?"}],"answers":[{"comments":[{"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"score":1,"creation_date":1282256594,"post_id":3526626,"comment_id":3689370,"body_markdown":"I don&#39;t like using deprecated stuff but i guess this is a good reason to start using it. But I did not know about the Work API. Thanks very much.","body":"I don&#39;t like using deprecated stuff but i guess this is a good reason to start using it. But I did not know about the Work API. Thanks very much."},{"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"score":1,"creation_date":1282265284,"post_id":3526626,"comment_id":3690222,"body_markdown":"Wow. I am using Hibernate 3.2.7.ga but my org.hibernate.Session does NOT have any doWork method. That&#39;s great!","body":"Wow. I am using Hibernate 3.2.7.ga but my org.hibernate.Session does NOT have any doWork method. That&#39;s great!"},{"owner":{"account_id":9307,"reputation":29539,"user_id":17123,"accept_rate":65,"display_name":"Peter"},"score":27,"creation_date":1320082923,"post_id":3526626,"comment_id":9727521,"body_markdown":"yuck that is ugly.  People are always going to need the raw connection for something - they should make it easy.","body":"yuck that is ugly.  People are always going to need the raw connection for something - they should make it easy."},{"owner":{"account_id":235047,"reputation":405,"user_id":501601,"accept_rate":29,"display_name":"joksy82"},"score":0,"creation_date":1393512189,"post_id":3526626,"comment_id":33470765,"body_markdown":"Ciao Guys. Just a note. I faced with many problem using java.sql.connection from hibernate 3.2. I means the connection.close(); do not work.","body":"Ciao Guys. Just a note. I faced with many problem using java.sql.connection from hibernate 3.2. I means the connection.close(); do not work."},{"owner":{"account_id":900115,"reputation":301,"user_id":936468,"display_name":"Simon Mbatia"},"score":11,"creation_date":1431856663,"post_id":3526626,"comment_id":48668818,"body_markdown":"`SessionImpl sessionImpl = (SessionImpl) session;\nConnection conn = sessionImpl.connection();` You can then use the connection object anywhere elese you need it in that code not just confined to a small method.","body":"<code>SessionImpl sessionImpl = (SessionImpl) session; Connection conn = sessionImpl.connection();</code> You can then use the connection object anywhere elese you need it in that code not just confined to a small method."},{"owner":{"account_id":325831,"reputation":374,"user_id":647252,"display_name":"sf_jeff"},"score":0,"creation_date":1464042144,"post_id":3526626,"comment_id":62311552,"body_markdown":"Seriously?  You have to use a threading callback to use the existing database connection?","body":"Seriously?  You have to use a threading callback to use the existing database connection?"},{"owner":{"account_id":7530953,"reputation":7364,"user_id":5719185,"display_name":"Optio"},"score":2,"creation_date":1497431673,"post_id":3526626,"comment_id":76071462,"body_markdown":"Even more shorter in Java8 - ```session.doWork(this::doSomething)```. If you want to return a result - use doReturningWork()","body":"Even more shorter in Java8 - <code>session.doWork(this::doSomething)</code>. If you want to return a result - use doReturningWork()"},{"owner":{"account_id":960326,"reputation":988,"user_id":984838,"display_name":"ajaristi"},"score":0,"creation_date":1668609271,"post_id":3526626,"comment_id":131447308,"body_markdown":"This is a snippet of `doWork` implemented in Kotlin + JPA:\n\n`(entityManager.delegate as Session).doWork {conn -&gt; conn.createStatement().execute(&quot;SQL QUERY&quot;)}`","body":"This is a snippet of <code>doWork</code> implemented in Kotlin + JPA:  <code>(entityManager.delegate as Session).doWork {conn -&gt; conn.createStatement().execute(&quot;SQL QUERY&quot;)}</code>"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1675609269,"post_id":3526626,"comment_id":132961838,"body_markdown":"My question is what happens when you want the connection &quot;free&quot;, and you achieve that by returning the connection passed from doReturningWork ... would that not essentially be the same as getConnection() ?","body":"My question is what happens when you want the connection &quot;free&quot;, and you achieve that by returning the connection passed from doReturningWork ... would that not essentially be the same as getConnection() ?"}],"tags":[],"owner":{"account_id":64910,"reputation":19196,"user_id":191367,"accept_rate":100,"display_name":"KeatsPeeks"},"comment_count":9,"down_vote_count":0,"up_vote_count":93,"is_accepted":true,"score":93,"last_activity_date":1660555768,"creation_date":1282255123,"answer_id":3526626,"question_id":3526556,"body_markdown":"You now have to use the Work API:\r\n\r\n    session.doWork(connection -&gt; doSomething(connection)); \r\n\r\nOr, in Java &lt; 8 :\r\n\r\n    session.doWork(\r\n        new Work() {\r\n            public void execute(Connection connection) throws SQLException \r\n            { \r\n                doSomething(connection); \r\n            }\r\n        }\r\n    );\r\n\r\n\r\n","title":"session.connection() deprecated on Hibernate?","body":"<p>You now have to use the Work API:</p>\n<pre><code>session.doWork(connection -&gt; doSomething(connection)); \n</code></pre>\n<p>Or, in Java &lt; 8 :</p>\n<pre><code>session.doWork(\n    new Work() {\n        public void execute(Connection connection) throws SQLException \n        { \n            doSomething(connection); \n        }\n    }\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"score":2,"creation_date":1282265025,"post_id":3526956,"comment_id":3690211,"body_markdown":"My Javadoc here is slightly different than yours. Just a little less clear: To be replaced with a SPI for performing work against the connection; scheduled for removal in 4.x. Your JavaDoc says it all. This JavaDoc says nothing.","body":"My Javadoc here is slightly different than yours. Just a little less clear: To be replaced with a SPI for performing work against the connection; scheduled for removal in 4.x. Your JavaDoc says it all. This JavaDoc says nothing."},{"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1282271314,"post_id":3526956,"comment_id":3690627,"body_markdown":"@Sergio Indeed. But if I may, you should mention important things like the Hibernate version you&#39;re using in your question. Your version is pretty old (the javadoc of [`Session#connection()`](http://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/Session.html#connection%28%29) in Hibernate Core 3.3 mentions the alternative) and that&#39;s typically something readers can&#39;t guess.","body":"@Sergio Indeed. But if I may, you should mention important things like the Hibernate version you&#39;re using in your question. Your version is pretty old (the javadoc of <a href=\"http://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/Session.html#connection%28%29\" rel=\"nofollow noreferrer\"><code>Session#connection()</code></a> in Hibernate Core 3.3 mentions the alternative) and that&#39;s typically something readers can&#39;t guess."},{"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"score":0,"creation_date":1282302637,"post_id":3526956,"comment_id":3693586,"body_markdown":"@Pascal Version 3.2.7.ga is the latest I could find on Maven. GroupId = org.hibernate and artifactId = hibernate. I wonder if Maven can provide the latest version or if you just need to copy the jar and ignore maven.","body":"@Pascal Version 3.2.7.ga is the latest I could find on Maven. GroupId = org.hibernate and artifactId = hibernate. I wonder if Maven can provide the latest version or if you just need to copy the jar and ignore maven."},{"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1282312019,"post_id":3526956,"comment_id":3695037,"body_markdown":"@Sergio That&#39;s because you&#39;re using the old monolithic jar (`hibernate`) and not [`hibernate-core`](http://repo1.maven.org/maven2/org/hibernate/hibernate-core/) which has more recent versions. And for ultimate versions (3.5.x), they are in available in the [JBoss Nexus repository](http://stackoverflow.com/questions/2999077/how-to-compile-hibernate-project-with-maven).","body":"@Sergio That&#39;s because you&#39;re using the old monolithic jar (<code>hibernate</code>) and not <a href=\"http://repo1.maven.org/maven2/org/hibernate/hibernate-core/\" rel=\"nofollow noreferrer\"><code>hibernate-core</code></a> which has more recent versions. And for ultimate versions (3.5.x), they are in available in the <a href=\"http://stackoverflow.com/questions/2999077/how-to-compile-hibernate-project-with-maven\">JBoss Nexus repository</a>."},{"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"score":1,"creation_date":1282746564,"post_id":3526956,"comment_id":3739365,"body_markdown":"@Pascal Thanks! One big problem is that I need to pass the connection around, so if Hibernate will not be able to provide me with its connection then it will be bad. I will need to get this connection some way else. I think whoever had this idea of deprecating the connection method should think again.","body":"@Pascal Thanks! One big problem is that I need to pass the connection around, so if Hibernate will not be able to provide me with its connection then it will be bad. I will need to get this connection some way else. I think whoever had this idea of deprecating the connection method should think again."},{"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1282757267,"post_id":3526956,"comment_id":3741413,"body_markdown":"@Sergio I somehow agree and even if they deprecate it to discourage its use (like the `java.util.Date` constructor)  they should at least not remove it (as initially planned). Maybe send a mail on the developer list.","body":"@Sergio I somehow agree and even if they deprecate it to discourage its use (like the <code>java.util.Date</code> constructor)  they should at least not remove it (as initially planned). Maybe send a mail on the developer list."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":6,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1512536492,"creation_date":1282258866,"answer_id":3526956,"question_id":3526556,"body_markdown":"&gt; If `session.connect()` is now deprecated, how am I supposed to do that?\r\n\r\nYou have to use [`Session#doWork(Work)`][1] and the [`Work`][2] API, as mentioned in the Javadoc:\r\n\r\n&gt; [`connection()`][3]   \r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**Deprecated.** (scheduled for removal in 4.x). Replacement depends on need; for doing direct JDBC stuff use [`doWork(org.hibernate.jdbc.Work)`][4]; for opening a &#39;temporary Session&#39; use (TBD).\r\n\r\nYou have some time before Hibernate 4.x but, well, using a deprecated API somehow looks like this:\r\n\r\n![alt text][5]:)\r\n\r\n**Update:** According to **[RE: \\[hibernate-dev\\] Connection proxying][6]** on the hibernate-dev list, it seems that the initial intention of the deprecation was to discourage the use of `Session#connection()` because it was/is considered as a &quot;bad&quot; API, but it was supposed to stay at that time. I guess they changed their mind...\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork%28org.hibernate.jdbc.Work%29\r\n  [2]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/jdbc/Work.html\r\n  [3]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#connection()\r\n  [4]: http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork(org.hibernate.jdbc.Work)\r\n  [5]: http://i.stack.imgur.com/M2c5H.jpg\r\n  [6]: http://www.mail-archive.com/hibernate-dev@lists.jboss.org/msg00133.html","title":"session.connection() deprecated on Hibernate?","body":"<blockquote>\n  <p>If <code>session.connect()</code> is now deprecated, how am I supposed to do that?</p>\n</blockquote>\n\n<p>You have to use <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork%28org.hibernate.jdbc.Work%29\" rel=\"nofollow noreferrer\"><code>Session#doWork(Work)</code></a> and the <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/jdbc/Work.html\" rel=\"nofollow noreferrer\"><code>Work</code></a> API, as mentioned in the Javadoc:</p>\n\n<blockquote>\n  <p><a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#connection()\" rel=\"nofollow noreferrer\"><code>connection()</code></a><br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Deprecated.</strong> (scheduled for removal in 4.x). Replacement depends on need; for doing direct JDBC stuff use <a href=\"http://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html#doWork(org.hibernate.jdbc.Work)\" rel=\"nofollow noreferrer\"><code>doWork(org.hibernate.jdbc.Work)</code></a>; for opening a 'temporary Session' use (TBD).</p>\n</blockquote>\n\n<p>You have some time before Hibernate 4.x but, well, using a deprecated API somehow looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/M2c5H.jpg\" alt=\"alt text\">:)</p>\n\n<p><strong>Update:</strong> According to <strong><a href=\"http://www.mail-archive.com/hibernate-dev@lists.jboss.org/msg00133.html\" rel=\"nofollow noreferrer\">RE: [hibernate-dev] Connection proxying</a></strong> on the hibernate-dev list, it seems that the initial intention of the deprecation was to discourage the use of <code>Session#connection()</code> because it was/is considered as a \"bad\" API, but it was supposed to stay at that time. I guess they changed their mind...</p>\n"},{"comments":[{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":15,"creation_date":1335913289,"post_id":10358905,"comment_id":13423068,"body_markdown":"This is the kind of things that awesome Hibernate make you do. Few frameworks are so bad as Hibernate.","body":"This is the kind of things that awesome Hibernate make you do. Few frameworks are so bad as Hibernate."}],"tags":[],"owner":{"account_id":22157,"reputation":3901,"user_id":54396,"accept_rate":80,"display_name":"Patrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1335567203,"creation_date":1335567203,"answer_id":10358905,"question_id":3526556,"body_markdown":"`connection()` was just deprecated on the interface. It is still available on `SessionImpl`. You can do what Spring does and just call that one.\r\n\r\nHere is the code from `HibernateJpaDialect` in Spring 3.1.1\r\n\r\n    public Connection getConnection() {\r\n\t\t\ttry {\r\n\t\t\t\tif (connectionMethod == null) {\r\n\t\t\t\t\t// reflective lookup to bridge between Hibernate 3.x and 4.x\r\n\t\t\t\t\tconnectionMethod = this.session.getClass().getMethod(&quot;connection&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn (Connection) ReflectionUtils.invokeMethod(connectionMethod, this.session);\r\n\t\t\t}\r\n\t\t\tcatch (NoSuchMethodException ex) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;Cannot find connection() method on Hibernate session&quot;, ex);\r\n\t\t\t}\r\n\t\t}","title":"session.connection() deprecated on Hibernate?","body":"<p><code>connection()</code> was just deprecated on the interface. It is still available on <code>SessionImpl</code>. You can do what Spring does and just call that one.</p>\n\n<p>Here is the code from <code>HibernateJpaDialect</code> in Spring 3.1.1</p>\n\n<pre><code>public Connection getConnection() {\n        try {\n            if (connectionMethod == null) {\n                // reflective lookup to bridge between Hibernate 3.x and 4.x\n                connectionMethod = this.session.getClass().getMethod(\"connection\");\n            }\n            return (Connection) ReflectionUtils.invokeMethod(connectionMethod, this.session);\n        }\n        catch (NoSuchMethodException ex) {\n            throw new IllegalStateException(\"Cannot find connection() method on Hibernate session\", ex);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1350121352,"creation_date":1346922216,"answer_id":12296555,"question_id":3526556,"body_markdown":"There&#39;s another option with still a lot of casts involved, but at least it doesn&#39;t need reflection, which will give you back compile time checking:\r\n\r\n\r\n    public Connection getConnection(final EntityManager em) {\r\n      HibernateEntityManager hem = (HibernateEntityManager) em;\r\n      SessionImplementor sim = (SessionImplementor) hem.getSession();\r\n      return sim.connection();\r\n    }\r\n\r\nYou could of course make that even &quot;prettier&quot; with a few `instanceof` checks, but the version above works for me.","title":"session.connection() deprecated on Hibernate?","body":"<p>There's another option with still a lot of casts involved, but at least it doesn't need reflection, which will give you back compile time checking:</p>\n\n<pre><code>public Connection getConnection(final EntityManager em) {\n  HibernateEntityManager hem = (HibernateEntityManager) em;\n  SessionImplementor sim = (SessionImplementor) hem.getSession();\n  return sim.connection();\n}\n</code></pre>\n\n<p>You could of course make that even \"prettier\" with a few <code>instanceof</code> checks, but the version above works for me.</p>\n"},{"tags":[],"owner":{"account_id":2544870,"reputation":9,"user_id":2209871,"display_name":"user2209871"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364263972,"creation_date":1364263972,"answer_id":15628153,"question_id":3526556,"body_markdown":"        Connection conn = null;\r\n        PreparedStatement preparedStatement = null;\r\n        try {\r\n            Session session = (org.hibernate.Session) em.getDelegate();\r\n            SessionFactoryImplementor sfi = (SessionFactoryImplementor) session.getSessionFactory();\r\n            ConnectionProvider cp = sfi.getConnectionProvider();\r\n            conn = cp.getConnection();\r\n            preparedStatement = conn.prepareStatement(&quot;Select id, name from Custumer&quot;);\r\n            ResultSet rs = preparedStatement.executeQuery();\r\n            while (rs.next()) {\r\n                System.out.print(rs.getInt(1));\r\n                System.out.println(rs.getString(2));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (preparedStatement != null) {\r\n                preparedStatement.close();\r\n            }\r\n            if (conn != null) {\r\n                conn.close();\r\n            }\r\n        }","title":"session.connection() deprecated on Hibernate?","body":"<pre><code>    Connection conn = null;\n    PreparedStatement preparedStatement = null;\n    try {\n        Session session = (org.hibernate.Session) em.getDelegate();\n        SessionFactoryImplementor sfi = (SessionFactoryImplementor) session.getSessionFactory();\n        ConnectionProvider cp = sfi.getConnectionProvider();\n        conn = cp.getConnection();\n        preparedStatement = conn.prepareStatement(\"Select id, name from Custumer\");\n        ResultSet rs = preparedStatement.executeQuery();\n        while (rs.next()) {\n            System.out.print(rs.getInt(1));\n            System.out.println(rs.getString(2));\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (preparedStatement != null) {\n            preparedStatement.close();\n        }\n        if (conn != null) {\n            conn.close();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":1,"creation_date":1512486587,"post_id":16369929,"comment_id":82271775,"body_markdown":"❤️  uuuuu so frustrating this is necessary - trying to get my app setup to set readonly connections in order to distribute across read replicas. Thanks.","body":"❤️  uuuuu so frustrating this is necessary - trying to get my app setup to set readonly connections in order to distribute across read replicas. Thanks."},{"owner":{"display_name":"user6096242"},"score":1,"creation_date":1533136342,"post_id":16369929,"comment_id":90237910,"body_markdown":"Why doesn&#39;t this have more upvotes?  Is there some reason this shouldn&#39;t be done?  Works perfectly for me.","body":"Why doesn&#39;t this have more upvotes?  Is there some reason this shouldn&#39;t be done?  Works perfectly for me."},{"owner":{"account_id":1723976,"reputation":1788,"user_id":1579085,"accept_rate":86,"display_name":"Vic"},"score":0,"creation_date":1559302127,"post_id":16369929,"comment_id":99387032,"body_markdown":"@tilper `SessionImpl` is in an internal package of Hibernate (so not intended to be used) and also that is a dependency on actual implementation. Also you cannot mock the session in your tests easily, when you cast it.","body":"@tilper <code>SessionImpl</code> is in an internal package of Hibernate (so not intended to be used) and also that is a dependency on actual implementation. Also you cannot mock the session in your tests easily, when you cast it."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1675609420,"post_id":16369929,"comment_id":132961882,"body_markdown":"My question is what happens when you want the connection &quot;free&quot;, and you achieve that by returning the connection passed from doReturningWork ... would that not essentially be the same as getConnection() ?","body":"My question is what happens when you want the connection &quot;free&quot;, and you achieve that by returning the connection passed from doReturningWork ... would that not essentially be the same as getConnection() ?"}],"tags":[],"owner":{"account_id":2722968,"reputation":443,"user_id":2348812,"display_name":"Mohammad Hosseini"},"comment_count":4,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1367634942,"creation_date":1367633828,"answer_id":16369929,"question_id":3526556,"body_markdown":"Try This\r\n\r\n    ((SessionImpl)getSession()).connection()\r\n\r\nActuly getSession returns Session Interface type, you should see what is the original class for the session, type cast to the original class then get the connection.\r\n\r\nGOOD LUCK!","title":"session.connection() deprecated on Hibernate?","body":"<p>Try This</p>\n\n<pre><code>((SessionImpl)getSession()).connection()\n</code></pre>\n\n<p>Actuly getSession returns Session Interface type, you should see what is the original class for the session, type cast to the original class then get the connection.</p>\n\n<p>GOOD LUCK!</p>\n"},{"tags":[],"owner":{"account_id":3479223,"reputation":217,"user_id":2911732,"display_name":"segaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403080446,"creation_date":1382642714,"answer_id":19574810,"question_id":3526556,"body_markdown":"Try this:\r\n\r\n    public Connection getJavaSqlConnectionFromHibernateSession() {\r\n    \r\n\t\tSession session = this.getSession();\r\n\t\tSessionFactoryImplementor sessionFactoryImplementor = null;\r\n\t\tConnectionProvider connectionProvider = null;\r\n\t\tjava.sql.Connection connection = null;\r\n\t\ttry {\r\n\t\t\tsessionFactoryImplementor = (SessionFactoryImplementor) session.getSessionFactory();\r\n\t\t\tconnectionProvider = (ConnectionProvider) sessionFactoryImplementor.getConnectionProvider().getConnection();\r\n\t\t\tconnection = connectionProvider.getConnection();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn connection;\r\n\t}","title":"session.connection() deprecated on Hibernate?","body":"<p>Try this:</p>\n\n<pre><code>public Connection getJavaSqlConnectionFromHibernateSession() {\n\n    Session session = this.getSession();\n    SessionFactoryImplementor sessionFactoryImplementor = null;\n    ConnectionProvider connectionProvider = null;\n    java.sql.Connection connection = null;\n    try {\n        sessionFactoryImplementor = (SessionFactoryImplementor) session.getSessionFactory();\n        connectionProvider = (ConnectionProvider) sessionFactoryImplementor.getConnectionProvider().getConnection();\n        connection = connectionProvider.getConnection();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return connection;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3891230,"reputation":738,"user_id":3221366,"display_name":"shcherbak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390345950,"creation_date":1390345950,"answer_id":21271019,"question_id":3526556,"body_markdown":"For hibenate 4.3 try this:\r\n\r\n    public static Connection getConnection() {\r\n            EntityManager em = &lt;code to create em&gt;;\r\n            Session ses = (Session) em.getDelegate();\r\n            SessionFactoryImpl sessionFactory = (SessionFactoryImpl) ses.getSessionFactory();\r\n            try{\r\n                connection = sessionFactory.getConnectionProvider().getConnection();\r\n            }catch(SQLException e){\r\n                ErrorMsgDialog.getInstance().setException(e);\r\n            }\r\n            return connection;\r\n        }","title":"session.connection() deprecated on Hibernate?","body":"<p>For hibenate 4.3 try this:</p>\n\n<pre><code>public static Connection getConnection() {\n        EntityManager em = &lt;code to create em&gt;;\n        Session ses = (Session) em.getDelegate();\n        SessionFactoryImpl sessionFactory = (SessionFactoryImpl) ses.getSessionFactory();\n        try{\n            connection = sessionFactory.getConnectionProvider().getConnection();\n        }catch(SQLException e){\n            ErrorMsgDialog.getInstance().setException(e);\n        }\n        return connection;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":445632,"reputation":2194,"user_id":838204,"accept_rate":62,"display_name":"macemers"},"score":1,"creation_date":1441959476,"post_id":27411253,"comment_id":52895338,"body_markdown":"Is it safe to convert `session` to `SessionImplementor`?","body":"Is it safe to convert <code>session</code> to <code>SessionImplementor</code>?"},{"owner":{"account_id":5741482,"reputation":860,"user_id":4534078,"display_name":"Reginaldo Santos"},"score":0,"creation_date":1506527446,"post_id":27411253,"comment_id":79860051,"body_markdown":"@DerekY, I know this is old, but just dealing with it now. And YES, it is. All Session implementations are also SessionImplementor&#39;s somehow.","body":"@DerekY, I know this is old, but just dealing with it now. And YES, it is. All Session implementations are also SessionImplementor&#39;s somehow."}],"tags":[],"owner":{"account_id":3982950,"reputation":296,"user_id":3284424,"display_name":"Louis-F&#233;lix"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1418247298,"creation_date":1418247298,"answer_id":27411253,"question_id":3526556,"body_markdown":"Here is a way to do it in Hibernate 4.3, and it is not deprecated:\r\n\r\n\t  Session session = entityManager.unwrap(Session.class);\r\n\t  SessionImplementor sessionImplementor = (SessionImplementor) session;\r\n\t  Connection conn = sessionImplementor.getJdbcConnectionAccess().obtainConnection();","title":"session.connection() deprecated on Hibernate?","body":"<p>Here is a way to do it in Hibernate 4.3, and it is not deprecated:</p>\n\n<pre><code>  Session session = entityManager.unwrap(Session.class);\n  SessionImplementor sessionImplementor = (SessionImplementor) session;\n  Connection conn = sessionImplementor.getJdbcConnectionAccess().obtainConnection();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1675609412,"post_id":30285608,"comment_id":132961879,"body_markdown":"My question is what happens when you want the connection &quot;free&quot;, and you achieve that by returning the connection passed from doReturningWork ... would that not essentially be the same as getConnection() ?","body":"My question is what happens when you want the connection &quot;free&quot;, and you achieve that by returning the connection passed from doReturningWork ... would that not essentially be the same as getConnection() ?"}],"tags":[],"owner":{"account_id":900115,"reputation":301,"user_id":936468,"display_name":"Simon Mbatia"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1584619020,"creation_date":1431856525,"answer_id":30285608,"question_id":3526556,"body_markdown":"This is what I use and works for me.\r\nDowncast the Session object into a SessionImpl and get the connection object easily:\r\n\r\n    SessionImpl sessionImpl = (SessionImpl) session;\r\n    Connection conn = sessionImpl.connection();\r\n\r\nwhere `session` is the name of your Hibernate session object.\r\n\r\n\r\n","title":"session.connection() deprecated on Hibernate?","body":"<p>This is what I use and works for me.\nDowncast the Session object into a SessionImpl and get the connection object easily:</p>\n\n<pre><code>SessionImpl sessionImpl = (SessionImpl) session;\nConnection conn = sessionImpl.connection();\n</code></pre>\n\n<p>where <code>session</code> is the name of your Hibernate session object.</p>\n"},{"tags":[],"owner":{"account_id":1611832,"reputation":173,"user_id":1490538,"display_name":"PETRo"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1460637027,"creation_date":1460637027,"answer_id":36623189,"question_id":3526556,"body_markdown":"I found [this article][1]\r\n\r\n\r\n  [1]: http://myjourneyonjava.blogspot.md/2014/12/different-ways-to-get-connection-object.html\r\n\r\n    package com.varasofttech.client;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.engine.jdbc.connections.spi.ConnectionProvider;\r\n    import org.hibernate.engine.spi.SessionFactoryImplementor;\r\n    import org.hibernate.internal.SessionImpl;\r\n    import org.hibernate.jdbc.ReturningWork;\r\n    import org.hibernate.jdbc.Work;\r\n\r\n    import com.varasofttech.util.HibernateUtil;\r\n\r\n    public class Application {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        // Different ways to get the Connection object using Session\r\n        \r\n        SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        \r\n        // Way1 - using doWork method\r\n        session.doWork(new Work() {\r\n            @Override\r\n            public void execute(Connection connection) throws SQLException {\r\n                // do your work using connection\r\n            }\r\n            \r\n        });\r\n        \r\n        // Way2 - using doReturningWork method\r\n        Connection connection = session.doReturningWork(new ReturningWork&lt;Connection&gt;() {\r\n            @Override\r\n            public Connection execute(Connection conn) throws SQLException {\r\n                return conn;\r\n            }\r\n        });\r\n        \r\n        // Way3 - using Session Impl\r\n        SessionImpl sessionImpl = (SessionImpl) session;\r\n        connection = sessionImpl.connection();\r\n        // do your work using connection\r\n        \r\n        // Way4 - using connection provider\r\n        SessionFactoryImplementor sessionFactoryImplementation = (SessionFactoryImplementor) session.getSessionFactory();\r\n        ConnectionProvider connectionProvider = sessionFactoryImplementation.getConnectionProvider();\r\n        try {\r\n            connection = connectionProvider.getConnection();\r\n            // do your work using connection\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\nIt helped me.","title":"session.connection() deprecated on Hibernate?","body":"<p>I found <a href=\"http://myjourneyonjava.blogspot.md/2014/12/different-ways-to-get-connection-object.html\" rel=\"noreferrer\">this article</a></p>\n\n<pre><code>package com.varasofttech.client;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.engine.jdbc.connections.spi.ConnectionProvider;\nimport org.hibernate.engine.spi.SessionFactoryImplementor;\nimport org.hibernate.internal.SessionImpl;\nimport org.hibernate.jdbc.ReturningWork;\nimport org.hibernate.jdbc.Work;\n\nimport com.varasofttech.util.HibernateUtil;\n\npublic class Application {\n\npublic static void main(String[] args) {\n\n    // Different ways to get the Connection object using Session\n\n    SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\n    Session session = sessionFactory.openSession();\n\n    // Way1 - using doWork method\n    session.doWork(new Work() {\n        @Override\n        public void execute(Connection connection) throws SQLException {\n            // do your work using connection\n        }\n\n    });\n\n    // Way2 - using doReturningWork method\n    Connection connection = session.doReturningWork(new ReturningWork&lt;Connection&gt;() {\n        @Override\n        public Connection execute(Connection conn) throws SQLException {\n            return conn;\n        }\n    });\n\n    // Way3 - using Session Impl\n    SessionImpl sessionImpl = (SessionImpl) session;\n    connection = sessionImpl.connection();\n    // do your work using connection\n\n    // Way4 - using connection provider\n    SessionFactoryImplementor sessionFactoryImplementation = (SessionFactoryImplementor) session.getSessionFactory();\n    ConnectionProvider connectionProvider = sessionFactoryImplementation.getConnectionProvider();\n    try {\n        connection = connectionProvider.getConnection();\n        // do your work using connection\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>It helped me.</p>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472069730,"creation_date":1463088377,"answer_id":37197687,"question_id":3526556,"body_markdown":"With `Hibernate` &gt;= 5.0 you can get the `Connection` like this:\r\n\r\n    Connection c = sessionFactory.\r\n    getSessionFactoryOptions().getServiceRegistry().\r\n    getService(ConnectionProvider.class).getConnection();","title":"session.connection() deprecated on Hibernate?","body":"<p>With <code>Hibernate</code> >= 5.0 you can get the <code>Connection</code> like this:</p>\n\n<pre><code>Connection c = sessionFactory.\ngetSessionFactoryOptions().getServiceRegistry().\ngetService(ConnectionProvider.class).getConnection();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593703752,"creation_date":1593703752,"answer_id":62699882,"question_id":3526556,"body_markdown":"Here is a Java 8 method to return the `Connection` used by an `EntityManager` without actually doing anything with it yet:\r\n\r\n    private Connection getConnection(EntityManager em) throws SQLException {\r\n    \tAtomicReference&lt;Connection&gt; atomicReference = new AtomicReference&lt;Connection&gt;();\r\n        final Session session = em.unwrap(Session.class);\r\n        session.doWork(connection -&gt; atomicReference.set(connection));\r\n        return atomicReference.get();\r\n    }\r\n\r\n","title":"session.connection() deprecated on Hibernate?","body":"<p>Here is a Java 8 method to return the <code>Connection</code> used by an <code>EntityManager</code> without actually doing anything with it yet:</p>\n<pre><code>private Connection getConnection(EntityManager em) throws SQLException {\n    AtomicReference&lt;Connection&gt; atomicReference = new AtomicReference&lt;Connection&gt;();\n    final Session session = em.unwrap(Session.class);\n    session.doWork(connection -&gt; atomicReference.set(connection));\n    return atomicReference.get();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5151005,"reputation":7132,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691705954,"creation_date":1691705954,"answer_id":76879641,"question_id":3526556,"body_markdown":"If you need a return value from inside the lambda, don&#39;t overlook `doReturningWork()`\r\n\r\n    try {\r\n      return session.doReturningWork(connection -&gt; {\r\n        try (CallableStatement cs = connection.prepareCall(...)) {\r\n          cs.doSomethingPseudoMethod();\r\n          cs.executeUpdate();\r\n          return cs;\r\n        }\r\n      });\r\n    } catch (SQLException sqlException) {\r\n      ...\r\n    }","title":"session.connection() deprecated on Hibernate?","body":"<p>If you need a return value from inside the lambda, don't overlook <code>doReturningWork()</code></p>\n<pre><code>try {\n  return session.doReturningWork(connection -&gt; {\n    try (CallableStatement cs = connection.prepareCall(...)) {\n      cs.doSomethingPseudoMethod();\n      cs.executeUpdate();\n      return cs;\n    }\n  });\n} catch (SQLException sqlException) {\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94516,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":3526626,"answer_count":14,"score":86,"last_activity_date":1691705954,"creation_date":1282254552,"question_id":3526556,"body_markdown":"We need to be able to get the associated `java.sql.Connection` of a hibernate session. No other connection will work, as this connection may be associated with a running transaction. \r\n\r\nIf session.connection() is now deprecated, how am I supposed to do that?","title":"session.connection() deprecated on Hibernate?","body":"<p>We need to be able to get the associated <code>java.sql.Connection</code> of a hibernate session. No other connection will work, as this connection may be associated with a running transaction. </p>\n\n<p>If session.connection() is now deprecated, how am I supposed to do that?</p>\n"},{"tags":["java","spring","spring-batch","batch-processing"],"owner":{"account_id":28876844,"reputation":1,"user_id":22117195,"display_name":"Juan Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691705902,"creation_date":1691705902,"question_id":76879640,"body_markdown":"I&#180;m kind of new with Spring Batch and I&#180;m wondering if there is a way to read a StoredProcedure with IN parameters. \r\n\r\nI have already used StoredProcedureItemReader as follows, but I don&#180;t know how to set params\r\n\r\n```\r\n@Bean\r\n    public StoredProcedureItemReader&lt;School&gt; reader(DataSource dataSource) {\r\n        StoredProcedureItemReader&lt;School&gt; reader = new StoredProcedureItemReader&lt;&gt;();\r\n            reader.setDataSource(dataSource);\r\n            reader.setProcedureName(&quot;SP_CLASS&quot;);\r\n            reader.setRowMapper(new SchoolMapper());\r\n        return reader;\r\n    }\r\n```\r\n\r\nMy StoredProcedure:\r\n\r\n```\r\nDELIMITER $$\r\nCREATE PROCEDURE SP_CLASS(IN classlIDParameter INT)\r\nBEGIN\r\n\tSELECT * FROM students WHERE classId = classlIDParameter ;\r\nEND $$\r\nDELIMITER ;\r\n\r\nCALL SP_CLASS(40589);   --Calling the SP\r\n```\r\n\r\nNot sure how to put the 40589 from Spring Batch. I already have a file with all the &quot;ClassIds&quot;. Not sure what is the best approach for this problem","title":"Setting params with StoredProcedureItemReader Spring Batch","body":"<p>I´m kind of new with Spring Batch and I´m wondering if there is a way to read a StoredProcedure with IN parameters.</p>\n<p>I have already used StoredProcedureItemReader as follows, but I don´t know how to set params</p>\n<pre><code>@Bean\n    public StoredProcedureItemReader&lt;School&gt; reader(DataSource dataSource) {\n        StoredProcedureItemReader&lt;School&gt; reader = new StoredProcedureItemReader&lt;&gt;();\n            reader.setDataSource(dataSource);\n            reader.setProcedureName(&quot;SP_CLASS&quot;);\n            reader.setRowMapper(new SchoolMapper());\n        return reader;\n    }\n</code></pre>\n<p>My StoredProcedure:</p>\n<pre><code>DELIMITER $$\nCREATE PROCEDURE SP_CLASS(IN classlIDParameter INT)\nBEGIN\n    SELECT * FROM students WHERE classId = classlIDParameter ;\nEND $$\nDELIMITER ;\n\nCALL SP_CLASS(40589);   --Calling the SP\n</code></pre>\n<p>Not sure how to put the 40589 from Spring Batch. I already have a file with all the &quot;ClassIds&quot;. Not sure what is the best approach for this problem</p>\n"},{"tags":["java","collections","loops"],"answers":[{"comments":[{"owner":{"account_id":9953,"reputation":1772,"user_id":18597,"accept_rate":80,"display_name":"Markus"},"score":1,"creation_date":1250332812,"post_id":1281617,"comment_id":1110916,"body_markdown":"Use of third party is allowed :)","body":"Use of third party is allowed :)"},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":1,"creation_date":1250333875,"post_id":1281617,"comment_id":1110945,"body_markdown":"+1 for the readability of this part: String.format(&quot;(%s)&quot;, s);","body":"+1 for the readability of this part: String.format(&quot;(%s)&quot;, s);"},{"owner":{"account_id":40259,"reputation":6145,"user_id":116645,"accept_rate":85,"display_name":"quillbreaker"},"score":0,"creation_date":1250343856,"post_id":1281617,"comment_id":1111238,"body_markdown":"You&#39;re just passing off the loop, though.","body":"You&#39;re just passing off the loop, though."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":1,"creation_date":1252743748,"post_id":1281617,"comment_id":1257328,"body_markdown":"The idea of &quot;modifying without loop&quot; is almost similar to &quot;run application without executable&quot;, someone has to hide the loop somewhere.","body":"The idea of &quot;modifying without loop&quot; is almost similar to &quot;run application without executable&quot;, someone has to hide the loop somewhere."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1250340991,"creation_date":1250332739,"answer_id":1281617,"question_id":1281607,"body_markdown":"&lt;strike&gt;no, there isn&#39;t. Using only JDK classes you cannot do it better.&lt;/strike&gt; [Check my second answer][1] \r\n\r\n**EDIT**\r\n\r\ntry google collection library [Lists.trasform][2]:\r\n\r\n    List&lt;String&gt; out = Lists.transform(in, new Function&lt;String, String&gt;() {\r\n\r\n        public String apply(String s) {\r\n            return String.format(&quot;(%s)&quot;, s);\r\n        }\r\n    });\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281757#1281757\r\n  [2]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Lists.html","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p><strike>no, there isn't. Using only JDK classes you cannot do it better.</strike> <a href=\"https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281757#1281757\">Check my second answer</a> </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>try google collection library <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Lists.html\" rel=\"nofollow noreferrer\">Lists.trasform</a>:</p>\n\n<pre><code>List&lt;String&gt; out = Lists.transform(in, new Function&lt;String, String&gt;() {\n\n    public String apply(String s) {\n        return String.format(\"(%s)\", s);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45517,"reputation":808,"user_id":134201,"display_name":"MarrLiss"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250332937,"creation_date":1250332937,"answer_id":1281623,"question_id":1281607,"body_markdown":"You can use [CollectionUtils.transform][1] from Apache commons collections.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>You can use <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\" rel=\"nofollow noreferrer\">CollectionUtils.transform</a> from Apache commons collections.</p>\n"},{"tags":[],"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250333887,"creation_date":1250333255,"answer_id":1281631,"question_id":1281607,"body_markdown":"Use [Apache Commons CollectionUtils][1]:\r\n\r\n    List l = someList;\r\n    CollectionUtils.transform(l, new Transformer() {\r\n        public Object transform(Object o)\r\n    \t{\r\n            String s = (String) o;\r\n    \t    return &quot;(&quot; + s + &quot;)&quot;;\r\n    \t}\r\n    });\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform%28java.util.Collection,%20org.apache.commons.collections.Transformer%29","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>Use <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform%28java.util.Collection,%20org.apache.commons.collections.Transformer%29\" rel=\"nofollow noreferrer\">Apache Commons CollectionUtils</a>:</p>\n\n<pre><code>List l = someList;\nCollectionUtils.transform(l, new Transformer() {\n    public Object transform(Object o)\n    {\n        String s = (String) o;\n        return \"(\" + s + \")\";\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13185,"reputation":34155,"user_id":26334,"accept_rate":54,"display_name":"Draemon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250333809,"creation_date":1250333809,"answer_id":1281642,"question_id":1281607,"body_markdown":"It&#39;s sounds to me like you&#39;re trying to use functional idioms with Java. While this can be achieved using third party libs and functor (as others have suggested), I would recommend programming Java using Java idioms or use a functional language. If you want a JVM-compatible functional language, look at [Scala][1].\r\n\r\n [1]: http://www.scala-lang.org/","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>It's sounds to me like you're trying to use functional idioms with Java. While this can be achieved using third party libs and functor (as others have suggested), I would recommend programming Java using Java idioms or use a functional language. If you want a JVM-compatible functional language, look at <a href=\"http://www.scala-lang.org/\" rel=\"nofollow noreferrer\">Scala</a>.</p>\n"},{"comments":[{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1250334383,"post_id":1281653,"comment_id":1110956,"body_markdown":"clojures was rejected for Java 7","body":"clojures was rejected for Java 7"},{"owner":{"account_id":52280,"reputation":61,"user_id":156178,"display_name":"user156178"},"score":0,"creation_date":1250340687,"post_id":1281653,"comment_id":1111158,"body_markdown":"Oh, what a bad news! I haven&#39;t been reading the news for some months and I didn&#39;t know what was going on. I just searched for that and unfortunately, it seems you&#39;re true. http://www.infoq.com/news/2009/01/java7-updated","body":"Oh, what a bad news! I haven&#39;t been reading the news for some months and I didn&#39;t know what was going on. I just searched for that and unfortunately, it seems you&#39;re true. <a href=\"http://www.infoq.com/news/2009/01/java7-updated\" rel=\"nofollow noreferrer\">infoq.com/news/2009/01/java7-updated</a>"}],"tags":[],"owner":{"account_id":52280,"reputation":61,"user_id":156178,"display_name":"user156178"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1250334224,"creation_date":1250334224,"answer_id":1281653,"question_id":1281607,"body_markdown":"That&#39;s actually a Java shortage which has been discussed a lot. In many languages you can do that in just one line of code using closures (or code blocks). For instance, in Groovy you can write it as follows:\r\n\r\n    newCollection = collection.collect { &quot;($it)&quot; }\r\n\r\nI wish, we can do this in java 7.","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>That's actually a Java shortage which has been discussed a lot. In many languages you can do that in just one line of code using closures (or code blocks). For instance, in Groovy you can write it as follows:</p>\n\n<pre><code>newCollection = collection.collect { \"($it)\" }\n</code></pre>\n\n<p>I wish, we can do this in java 7.</p>\n"},{"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250335648,"creation_date":1250335648,"answer_id":1281696,"question_id":1281607,"body_markdown":"You want a [Map function][1]. Those are available (among other things) in [functional java][2]. Example code:\r\n\r\n    import fj.F;\r\n\timport fj.data.List;\r\n\timport static fj.data.List.*;\r\n\timport static fj.pre.Show.listShow;\r\n\timport static fj.pre.Show.stringShow;\r\n\r\n\timport static java.lang.String.format;\r\n\r\n\tpublic class Test {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t        List&lt;String&gt; a = list(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\t        List&lt;String&gt; b = a.map(new F&lt;String, String&gt;() {\r\n\r\n\t            public String f(String s) {\r\n\t                return format(&quot;(%s)&quot;, s);\r\n\t            }\r\n\r\n\t        });\r\n\r\n\t        listShow(stringShow).println(a);\r\n\t        listShow(stringShow).println(b);\r\n\r\n\t    }\r\n\r\n\t}\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Map_(higher-order_function)\r\n  [2]: http://functionaljava.org/","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>You want a <a href=\"http://en.wikipedia.org/wiki/Map_(higher-order_function)\" rel=\"nofollow noreferrer\">Map function</a>. Those are available (among other things) in <a href=\"http://functionaljava.org/\" rel=\"nofollow noreferrer\">functional java</a>. Example code:</p>\n\n<pre><code>import fj.F;\nimport fj.data.List;\nimport static fj.data.List.*;\nimport static fj.pre.Show.listShow;\nimport static fj.pre.Show.stringShow;\n\nimport static java.lang.String.format;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; a = list(\"a\", \"b\", \"c\");\n        List&lt;String&gt; b = a.map(new F&lt;String, String&gt;() {\n\n            public String f(String s) {\n                return format(\"(%s)\", s);\n            }\n\n        });\n\n        listShow(stringShow).println(a);\n        listShow(stringShow).println(b);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1250340914,"creation_date":1250337791,"answer_id":1281757,"question_id":1281607,"body_markdown":"[my previous answer was *functional oriented*][1], now, meanwhile I&#39;m cooking &quot;spaghetti al pomodoro&quot;, I&#39;m thinking about a more *object oriented* approach. \r\n\r\nWhat do you think about an anonymous class implementation that overrides it&#39;s iterator with one that enclose it&#39;s element around ()?\r\n\r\n    public static &lt;T&gt; Collection&lt;String&gt; wrap(final Collection&lt;T&gt; collection) {\r\n        final Iterator&lt;T&gt; iterator = collection.iterator();\r\n        return new AbstractCollection&lt;String&gt;() {\r\n\r\n            @Override\r\n            public int size() {\r\n                return collection.size();\r\n            }\r\n\r\n            @Override\r\n            public Iterator&lt;String&gt; iterator() {\r\n                return new Iterator&lt;String&gt;() {\r\n\r\n                    public boolean hasNext() {\r\n                        return iterator.hasNext();\r\n                    }\r\n\r\n                    public String next() {\r\n                        return String.format(&quot;(%s)&quot;, iterator.next());\r\n                    }\r\n\r\n                    public void remove() {\r\n                        iterator.remove();\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n&lt;h2&gt;demo&lt;/h2&gt;\r\n\r\n    List&lt;String&gt; in = Arrays.asList(&quot;aaa&quot;,&quot;bbb&quot;);\r\n    List&lt;String&gt; out = new ArrayList&lt;String&gt;(wrap(in));\r\n    System.out.println(out);\r\n    \r\noutputs:\r\n\r\n&lt;pre&gt;\r\n[(aaa), (bbb)]\r\n&lt;/pre&gt;\r\n\r\nBTW this only uses JDK classes and uses no loops! \r\n\r\n  [1]: https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281617#1281617","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p><a href=\"https://stackoverflow.com/questions/1281607/how-to-modify-without-any-loop-a-collections-values-to-get-a-new-collection/1281617#1281617\">my previous answer was <em>functional oriented</em></a>, now, meanwhile I'm cooking \"spaghetti al pomodoro\", I'm thinking about a more <em>object oriented</em> approach. </p>\n\n<p>What do you think about an anonymous class implementation that overrides it's iterator with one that enclose it's element around ()?</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;String&gt; wrap(final Collection&lt;T&gt; collection) {\n    final Iterator&lt;T&gt; iterator = collection.iterator();\n    return new AbstractCollection&lt;String&gt;() {\n\n        @Override\n        public int size() {\n            return collection.size();\n        }\n\n        @Override\n        public Iterator&lt;String&gt; iterator() {\n            return new Iterator&lt;String&gt;() {\n\n                public boolean hasNext() {\n                    return iterator.hasNext();\n                }\n\n                public String next() {\n                    return String.format(\"(%s)\", iterator.next());\n                }\n\n                public void remove() {\n                    iterator.remove();\n                }\n            };\n        }\n    };\n}\n</code></pre>\n\n<h2>demo</h2>\n\n<pre><code>List&lt;String&gt; in = Arrays.asList(\"aaa\",\"bbb\");\nList&lt;String&gt; out = new ArrayList&lt;String&gt;(wrap(in));\nSystem.out.println(out);\n</code></pre>\n\n<p>outputs:</p>\n\n<pre>\n[(aaa), (bbb)]\n</pre>\n\n<p>BTW this only uses JDK classes and uses no loops! </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250346947,"creation_date":1250346947,"answer_id":1282018,"question_id":1281607,"body_markdown":"&gt; How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?\r\n\r\nWhy would you want to? As Java does not have closures, this is often more complicated, non-standard and more difficult to read.\r\n\r\nYou will note that your example is shorter and simpler than the alternative solutions and it uses standard java. \r\n\r\nBTW: loops are still used, just not directly by you so the distinction is an illusion.","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<blockquote>\n  <p>How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?</p>\n</blockquote>\n\n<p>Why would you want to? As Java does not have closures, this is often more complicated, non-standard and more difficult to read.</p>\n\n<p>You will note that your example is shorter and simpler than the alternative solutions and it uses standard java. </p>\n\n<p>BTW: loops are still used, just not directly by you so the distinction is an illusion.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252741726,"creation_date":1252741726,"answer_id":1414579,"question_id":1281607,"body_markdown":"Check out the lambdaj library\r\n\r\nhttp://code.google.com/p/lambdaj/\r\n\r\nand you will discover a huge set of handful methods to manipulate collection in a DSL style without writing a single explicit loop","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>Check out the lambdaj library</p>\n\n<p><a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow noreferrer\">http://code.google.com/p/lambdaj/</a></p>\n\n<p>and you will discover a huge set of handful methods to manipulate collection in a DSL style without writing a single explicit loop</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691705429,"creation_date":1691705111,"answer_id":76879581,"question_id":1281607,"body_markdown":"Old question, but Java has evolved:\r\n```\r\n// At least Java-16\r\nvar res = collection.stream().map(&quot;(%s)&quot;::formatted).toList();\r\n\r\n// Or with Java-8\r\nList&lt;String&gt; res =\r\n    collection.stream().map(s -&gt; &quot;(&quot; + s + &quot;)&quot;).collect(Collectors.toList());\r\n```","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>Old question, but Java has evolved:</p>\n<pre><code>// At least Java-16\nvar res = collection.stream().map(&quot;(%s)&quot;::formatted).toList();\n\n// Or with Java-8\nList&lt;String&gt; res =\n    collection.stream().map(s -&gt; &quot;(&quot; + s + &quot;)&quot;).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":9953,"reputation":1772,"user_id":18597,"accept_rate":80,"display_name":"Markus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1281617,"answer_count":10,"score":3,"last_activity_date":1691705429,"creation_date":1250332322,"question_id":1281607,"body_markdown":"How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?\r\n\r\nFor example, I&#39;m having a `Collection&lt;String&gt;` and want to surround all Strings by parentheses.\r\n\r\nWith a loop I would do this:\r\n\r\n\r\n    Iterable&lt;String&gt; collection = getCollection();\r\n    ArrayList&lt;String&gt; newCollection = new ArrayList&lt;String&gt;();    \r\n    for(String str : collection) \r\n        newCollection.add(&quot;(&quot; + str + &quot;)&quot;);\r\n\r\nThere has to be a more elegant solution.\r\n\r\nEDIT: Use of third party utilities is allowed :)","title":"How to modify, without any loop, a collections values to get a new collection?","body":"<p>How do I, without using any loop, modify the values in a collection to get a new collection with the modified values?</p>\n\n<p>For example, I'm having a <code>Collection&lt;String&gt;</code> and want to surround all Strings by parentheses.</p>\n\n<p>With a loop I would do this:</p>\n\n<pre><code>Iterable&lt;String&gt; collection = getCollection();\nArrayList&lt;String&gt; newCollection = new ArrayList&lt;String&gt;();    \nfor(String str : collection) \n    newCollection.add(\"(\" + str + \")\");\n</code></pre>\n\n<p>There has to be a more elegant solution.</p>\n\n<p>EDIT: Use of third party utilities is allowed :)</p>\n"},{"tags":["java","jenkins","jenkins-plugins","jenkins-pipeline"],"comments":[{"owner":{"account_id":5145677,"reputation":1629,"user_id":4121744,"display_name":"bto"},"score":0,"creation_date":1525295300,"post_id":50140565,"comment_id":87305337,"body_markdown":"Are you able to log onto the node (preferably as the same user that Jenkins is trying to use)? If so, what&#39;s the output of: `command -v java; ls -al $(command -v java); echo $JAVA_HOME; java -version`","body":"Are you able to log onto the node (preferably as the same user that Jenkins is trying to use)? If so, what&#39;s the output of: <code>command -v java; ls -al $(command -v java); echo $JAVA_HOME; java -version</code>"},{"owner":{"account_id":12873756,"reputation":253,"user_id":9311213,"accept_rate":71,"display_name":"Jeremyapple"},"score":0,"creation_date":1525295702,"post_id":50140565,"comment_id":87305513,"body_markdown":"@bto - the output is `/usr/bin/java\nlrwxrwxrwx 1 root root 22 Sep 26  2016 /usr/bin/java -&gt; /etc/alternatives/java\n\nopenjdk version &quot;1.8.0_111&quot;\nOpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-3~12.04-b14)\nOpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)`","body":"@bto - the output is <code>&#47;usr&#47;bin&#47;java lrwxrwxrwx 1 root root 22 Sep 26  2016 &#47;usr&#47;bin&#47;java -&gt; &#47;etc&#47;alternatives&#47;java  openjdk version &quot;1.8.0_111&quot; OpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-3~12.04-b14) OpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)</code>"}],"answers":[{"comments":[{"owner":{"account_id":12873756,"reputation":253,"user_id":9311213,"accept_rate":71,"display_name":"Jeremyapple"},"score":0,"creation_date":1525283949,"post_id":50140727,"comment_id":87299906,"body_markdown":"I added JAVA_HOME home variable with value `/usr/lib/jvm/java-1.8.0-openjdk-amd64` ,it still picks `/usr/lib/jvm/java-1.7.0-openjdk-amd64/bin/java`","body":"I added JAVA_HOME home variable with value <code>&#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-amd64</code> ,it still picks <code>&#47;usr&#47;lib&#47;jvm&#47;java-1.7.0-openjdk-amd64&#47;bin&#47;java</code>"},{"owner":{"account_id":10966300,"reputation":350,"user_id":8057929,"display_name":"pranay jain"},"score":0,"creation_date":1525320694,"post_id":50140727,"comment_id":87311816,"body_markdown":"Did you add JAVA_HOME in node properties of slave ?  Also did you restart your slave after setting property ?","body":"Did you add JAVA_HOME in node properties of slave ?  Also did you restart your slave after setting property ?"}],"tags":[],"owner":{"account_id":10966300,"reputation":350,"user_id":8057929,"display_name":"pranay jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525283487,"creation_date":1525283487,"answer_id":50140727,"question_id":50140565,"body_markdown":"You can set JAVA_HOME environment variable for the node by configuring it.\r\n\r\n1. Click on Manage Jenkins\r\n2. Click on Manage Nodes\r\n3. Select the Node on which you are running your build\r\n4. Click on configure.\r\n5. Add environment variable to it (JAVA_HOME)","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>You can set JAVA_HOME environment variable for the node by configuring it.</p>\n\n<ol>\n<li>Click on Manage Jenkins</li>\n<li>Click on Manage Nodes</li>\n<li>Select the Node on which you are running your build</li>\n<li>Click on configure.</li>\n<li>Add environment variable to it (JAVA_HOME)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5145677,"reputation":1629,"user_id":4121744,"display_name":"bto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1525355436,"creation_date":1525355436,"answer_id":50156707,"question_id":50140565,"body_markdown":"You can explicitly set the path to the java executable in the node launch configuration:\r\n\r\n1. Click on Manage Jenkins\r\n1. Click on Manage Nodes\r\n1. Click on the node you are trying to launch\r\n1. Click on configure\r\n1. Under **Launch method** there is a button labeled **Advanced...**; click it\r\n1. Find the option **JavaPath** and set it to the full path to the java executable you want to use; like:\r\n\r\n        /usr/lib/jvm/java-1.8.0-openjdk-amd64/bin/java\r\n\r\n1. Save\r\n1. Relaunch the node","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>You can explicitly set the path to the java executable in the node launch configuration:</p>\n\n<ol>\n<li>Click on Manage Jenkins</li>\n<li>Click on Manage Nodes</li>\n<li>Click on the node you are trying to launch</li>\n<li>Click on configure</li>\n<li>Under <strong>Launch method</strong> there is a button labeled <strong>Advanced...</strong>; click it</li>\n<li><p>Find the option <strong>JavaPath</strong> and set it to the full path to the java executable you want to use; like:</p>\n\n<pre><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin/java\n</code></pre></li>\n<li><p>Save</p></li>\n<li>Relaunch the node</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":300204,"reputation":127,"user_id":607219,"display_name":"G. Stevens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691705388,"creation_date":1691705388,"answer_id":76879601,"question_id":50140565,"body_markdown":"For Windows, set the path to the Java executable you want to use in the *jenkins-slave.xml* file that gets created in the folder where the jenkins jar file is located.\r\n\r\nFor example:\r\n\r\n    &lt;service&gt;\r\n      &lt;id&gt;jenkinsslave-C__jenkins&lt;/id&gt;\r\n      &lt;name&gt;Jenkins agent (jenkinsslave-C__jenkins)&lt;/name&gt;\r\n      &lt;description&gt;This service runs an agent for Jenkins automation server.&lt;/description&gt;\r\n      &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_192\\bin\\java.exe&lt;/executable&gt;\r\n","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>For Windows, set the path to the Java executable you want to use in the <em>jenkins-slave.xml</em> file that gets created in the folder where the jenkins jar file is located.</p>\n<p>For example:</p>\n<pre><code>&lt;service&gt;\n  &lt;id&gt;jenkinsslave-C__jenkins&lt;/id&gt;\n  &lt;name&gt;Jenkins agent (jenkinsslave-C__jenkins)&lt;/name&gt;\n  &lt;description&gt;This service runs an agent for Jenkins automation server.&lt;/description&gt;\n  &lt;executable&gt;C:\\Program Files\\Java\\jdk1.8.0_192\\bin\\java.exe&lt;/executable&gt;\n</code></pre>\n"}],"owner":{"account_id":12873756,"reputation":253,"user_id":9311213,"accept_rate":71,"display_name":"Jeremyapple"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2714,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50156707,"answer_count":3,"score":4,"last_activity_date":1691705388,"creation_date":1525282795,"question_id":50140565,"body_markdown":"I am running into below error while launching an agent on my Jenkins 2.107.2 ,looks like this is a popular error and based on my homework it sounds like need to launch the agent using 1.8,I installed 1.8 and my /usr/lib/jvm folder looks like below,however when I launch the agent it still using java 1.7.0, how do I force Jenkins to launch the agent using 1.8?\r\n\r\n**/usr/lib/jvm**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nError:\r\n\r\n    [05/02/18 10:17:59] [SSH] Starting sftp client.\r\n    [05/02/18 10:17:59] [SSH] Copying latest slave.jar...\r\n    [05/02/18 10:17:59] [SSH] Copied 762,466 bytes.\r\n    Expanded the channel window size to 4MB\r\n    [05/02/18 10:17:59] [SSH] Starting slave process: cd &quot;/home/username&quot; &amp;&amp; /usr/lib/jvm/java-1.7.0-openjdk-amd64/bin/java  -jar slave.jar\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher : Unsupported major.minor version 52.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:803)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n    Slave JVM has terminated. Exit code=1\r\n    [05/02/18 10:17:59] Launch failed - cleaning up connection\r\n    [05/02/18 10:17:59] [SSH] Connection closed\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1VT5K.png","title":"How do I force Jenkins 2.107.2 to use java-1.8.0 while launching an agent?","body":"<p>I am running into below error while launching an agent on my Jenkins 2.107.2 ,looks like this is a popular error and based on my homework it sounds like need to launch the agent using 1.8,I installed 1.8 and my /usr/lib/jvm folder looks like below,however when I launch the agent it still using java 1.7.0, how do I force Jenkins to launch the agent using 1.8?</p>\n\n<p><strong>/usr/lib/jvm</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1VT5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VT5K.png\" alt=\"enter image description here\"></a></p>\n\n<p>Error:</p>\n\n<pre><code>[05/02/18 10:17:59] [SSH] Starting sftp client.\n[05/02/18 10:17:59] [SSH] Copying latest slave.jar...\n[05/02/18 10:17:59] [SSH] Copied 762,466 bytes.\nExpanded the channel window size to 4MB\n[05/02/18 10:17:59] [SSH] Starting slave process: cd \"/home/username\" &amp;&amp; /usr/lib/jvm/java-1.7.0-openjdk-amd64/bin/java  -jar slave.jar\nException in thread \"main\" java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\nSlave JVM has terminated. Exit code=1\n[05/02/18 10:17:59] Launch failed - cleaning up connection\n[05/02/18 10:17:59] [SSH] Connection closed\n</code></pre>\n"},{"tags":["java","tomcat","spring-boot"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1517494703,"post_id":48564452,"comment_id":84125571,"body_markdown":"How is your logging configured?","body":"How is your logging configured?"},{"owner":{"account_id":9485330,"reputation":306,"user_id":7051855,"display_name":"Josi"},"score":0,"creation_date":1517497530,"post_id":48564452,"comment_id":84127578,"body_markdown":"Is this relevant? I want everything logged except this exception. Thanks for your interest :)","body":"Is this relevant? I want everything logged except this exception. Thanks for your interest :)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1517498184,"post_id":48564452,"comment_id":84128034,"body_markdown":"Of course it&#39;s relevant. You have a question about logging, and you won&#39;t even tell you how your logging is configured? Which logging framework are you using? Where are you seeing the logged lines above, `catalina.out`?","body":"Of course it&#39;s relevant. You have a question about logging, and you won&#39;t even tell you how your logging is configured? Which logging framework are you using? Where are you seeing the logged lines above, <code>catalina.out</code>?"},{"owner":{"account_id":9485330,"reputation":306,"user_id":7051855,"display_name":"Josi"},"score":0,"creation_date":1517927882,"post_id":48564452,"comment_id":84287939,"body_markdown":"As I said, I want every exception logged but this, wherever they come from. Logging framework: SLF4J","body":"As I said, I want every exception logged but this, wherever they come from. Logging framework: SLF4J"}],"answers":[{"tags":[],"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525502541,"creation_date":1525502541,"answer_id":50186554,"question_id":48564452,"body_markdown":"To prevent this exception in logs you can try some changes in your code that performs push on client. Here is my example. I listen to api called and then it called I push socket to the client. I think you could understand the code:\r\n\r\n     @GetMapping(&quot;/api/status/{groupId}/{groupstatusId}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    @ExceptionHandler(IOException.class)\r\n    public void listenToNewStatus(@PathVariable Long groupId, @PathVariable String groupstatusId, IOException e) {\r\n        Group group = groupDTOService.findById(groupId);\r\n        if (group != null) {\r\n            if (StringUtils.containsIgnoreCase(ExceptionUtils.getRootCauseMessage(e), &quot;Broken pipe&quot;)) {\r\n                logger.info(&quot;broken pipe&quot;);\r\n            } else {\r\n                template.convertAndSend(&quot;/topic/callstatus/&quot; + group.getUser().getId(), groupstatusId);\r\n            }\r\n\r\n        }\r\nIn this code to prevent broken pipe I add annotation @ExceptionHandler(IOException.class) and check if exception contains broken pipe then nothing else send message to client.\r\n\r\n","title":"Avoid logs full of java.io.IOException: Broken pipe","body":"<p>To prevent this exception in logs you can try some changes in your code that performs push on client. Here is my example. I listen to api called and then it called I push socket to the client. I think you could understand the code:</p>\n\n<pre><code> @GetMapping(\"/api/status/{groupId}/{groupstatusId}\")\n@ResponseStatus(HttpStatus.NO_CONTENT)\n@ExceptionHandler(IOException.class)\npublic void listenToNewStatus(@PathVariable Long groupId, @PathVariable String groupstatusId, IOException e) {\n    Group group = groupDTOService.findById(groupId);\n    if (group != null) {\n        if (StringUtils.containsIgnoreCase(ExceptionUtils.getRootCauseMessage(e), \"Broken pipe\")) {\n            logger.info(\"broken pipe\");\n        } else {\n            template.convertAndSend(\"/topic/callstatus/\" + group.getUser().getId(), groupstatusId);\n        }\n\n    }\n</code></pre>\n\n<p>In this code to prevent broken pipe I add annotation @ExceptionHandler(IOException.class) and check if exception contains broken pipe then nothing else send message to client.</p>\n"},{"tags":[],"owner":{"account_id":4185417,"reputation":86,"user_id":3429290,"display_name":"Oskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654158747,"creation_date":1654158747,"answer_id":72473123,"question_id":48564452,"body_markdown":"I see that this question is quite old, but in case someone is still looking for an answer, there are a few blog posts on how to mute ClientAbortException so it doesn&#39;t flood your logs.\r\n\r\nhttps://tutorial-academy.com/jersey-workaround-clientabortexception-ioexception/","title":"Avoid logs full of java.io.IOException: Broken pipe","body":"<p>I see that this question is quite old, but in case someone is still looking for an answer, there are a few blog posts on how to mute ClientAbortException so it doesn't flood your logs.</p>\n<p><a href=\"https://tutorial-academy.com/jersey-workaround-clientabortexception-ioexception/\" rel=\"nofollow noreferrer\">https://tutorial-academy.com/jersey-workaround-clientabortexception-ioexception/</a></p>\n"}],"owner":{"account_id":9485330,"reputation":306,"user_id":7051855,"display_name":"Josi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8897,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1691704825,"creation_date":1517493340,"question_id":48564452,"body_markdown":"I am using Server-Sent events on one browser, and a spring boot application on the back end. When I shot down the client, I get the next exception:\r\n\r\n    14:35:09.458 [http-nio-8084-exec-25] ERROR o.a.c.c.C.[Tomcat].[localhost] - Exception Processing ErrorPage[errorCode=0, location=/error]\r\n    org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\r\n\r\nI understand this is the expected behavior; on the other hand, my application works fine, but I have awful logs full of those exceptions. I guess this is caused by Tomcat. Is there a way to catch these exceptions, or at least to prevent Tomcat from writing this exception stack trace to the log? I mean, without modifying Tomcat&#39;s code.","title":"Avoid logs full of java.io.IOException: Broken pipe","body":"<p>I am using Server-Sent events on one browser, and a spring boot application on the back end. When I shot down the client, I get the next exception:</p>\n\n<pre><code>14:35:09.458 [http-nio-8084-exec-25] ERROR o.a.c.c.C.[Tomcat].[localhost] - Exception Processing ErrorPage[errorCode=0, location=/error]\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n</code></pre>\n\n<p>I understand this is the expected behavior; on the other hand, my application works fine, but I have awful logs full of those exceptions. I guess this is caused by Tomcat. Is there a way to catch these exceptions, or at least to prevent Tomcat from writing this exception stack trace to the log? I mean, without modifying Tomcat's code.</p>\n"},{"tags":["java","spring-boot","intellij-idea","jetbrains-ide","intellij-plugin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1628838813,"post_id":68767259,"comment_id":121532435,"body_markdown":"What IDE version do you use? Seems plugin isn&#39;t supported in the latest versions.","body":"What IDE version do you use? Seems plugin isn&#39;t supported in the latest versions."},{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1628839164,"post_id":68767259,"comment_id":121532551,"body_markdown":"The version that I use is IntelliJ IDEA 2020.1.4 (Community Edition). If this plugin is not supported, is there an alternate one that they have proposed.","body":"The version that I use is IntelliJ IDEA 2020.1.4 (Community Edition). If this plugin is not supported, is there an alternate one that they have proposed."},{"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"score":0,"creation_date":1628843312,"post_id":68767259,"comment_id":121534056,"body_markdown":"Downgade your intellij version or just create the project in https://start.spring.io/ and import int in your workspace","body":"Downgade your intellij version or just create the project in <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> and import int in your workspace"},{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1628847190,"post_id":68767259,"comment_id":121535580,"body_markdown":"That is one solution which I have already used but my main focus was how to do same within IDE. Is there a new plugin which is provided instead of spring assistant because making the plug-in incompatible for higher version doesn’t make much sense.","body":"That is one solution which I have already used but my main focus was how to do same within IDE. Is there a new plugin which is provided instead of spring assistant because making the plug-in incompatible for higher version doesn’t make much sense."},{"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"score":0,"creation_date":1628877357,"post_id":68767259,"comment_id":121547077,"body_markdown":"The provided plugin its different from the plugin you pointed out, the provided with the utilimate version it&#39;s made by jetbrains. You are using an older version of Intellij trying to use a plugin abandoded  3 years ago. You cannot pretend that a 3 years old plugin works with an IDE that came out the last year. JetBrains, changes a lot of things on each realease, so its normal that some plugins may not work, properly or work at all. By the way i posted a fork of the original plugin. Should work with your version.","body":"The provided plugin its different from the plugin you pointed out, the provided with the utilimate version it&#39;s made by jetbrains. You are using an older version of Intellij trying to use a plugin abandoded  3 years ago. You cannot pretend that a 3 years old plugin works with an IDE that came out the last year. JetBrains, changes a lot of things on each realease, so its normal that some plugins may not work, properly or work at all. By the way i posted a fork of the original plugin. Should work with your version."}],"answers":[{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1673112691,"post_id":68776508,"comment_id":132426877,"body_markdown":"This link isn&#39;t working anymore","body":"This link isn&#39;t working anymore"},{"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"score":0,"creation_date":1676652210,"post_id":68776508,"comment_id":133186772,"body_markdown":"Using just https://github.com/eltonsandre/intellij-spring-assistant/  the link works just fine.","body":"Using just <a href=\"https://github.com/eltonsandre/intellij-spring-assistant/\" rel=\"nofollow noreferrer\">github.com/eltonsandre/intellij-spring-assistant</a>  the link works just fine."}],"tags":[],"owner":{"account_id":13930072,"reputation":286,"user_id":10058470,"display_name":"xTheDoctah"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676652233,"creation_date":1628877116,"answer_id":68776508,"question_id":68767259,"body_markdown":"You can use \r\n\r\nhttps://github.com/eltonsandre/intellij-spring-assistant\r\n\r\nIts a fork of the original plugin, according to the comments [here][1], seems to work with 2020.3.1, 2021.1(those are the tested versions, check in the comment section). \r\n\r\nHere the [changelog][2] of the forked plugin\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10229-spring-assistant/reviews\r\n  [2]: https://github.com/eltonsandre/intellij-spring-assistant/blob/19010a17a8cf5d59515b2bd8eccb215cb87dd6ba/CHANGELOG.md","title":"Spring Assistant plugin not found in IntelliJ IDE","body":"<p>You can use</p>\n<p><a href=\"https://github.com/eltonsandre/intellij-spring-assistant\" rel=\"nofollow noreferrer\">https://github.com/eltonsandre/intellij-spring-assistant</a></p>\n<p>Its a fork of the original plugin, according to the comments <a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant/reviews\" rel=\"nofollow noreferrer\">here</a>, seems to work with 2020.3.1, 2021.1(those are the tested versions, check in the comment section).</p>\n<p>Here the <a href=\"https://github.com/eltonsandre/intellij-spring-assistant/blob/19010a17a8cf5d59515b2bd8eccb215cb87dd6ba/CHANGELOG.md\" rel=\"nofollow noreferrer\">changelog</a> of the forked plugin</p>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1673112835,"post_id":71664297,"comment_id":132426915,"body_markdown":"Unfortunately this is available as 30 day trial or buy out option. Is there any source where I can get it permanently?","body":"Unfortunately this is available as 30 day trial or buy out option. Is there any source where I can get it permanently?"}],"tags":[],"owner":{"account_id":9326848,"reputation":402,"user_id":6923823,"display_name":"Elton Sandr&#233;"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691704337,"creation_date":1648565549,"answer_id":71664297,"question_id":68767259,"body_markdown":"Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.\r\n\r\nthe same can be found directly in the search for Intellij or in the marketplace.\r\n\r\n[Spring Boot Helper](https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant)\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant","title":"Spring Assistant plugin not found in IntelliJ IDE","body":"<p>Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.</p>\n<p>the same can be found directly in the search for Intellij or in the marketplace.</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant\" rel=\"nofollow noreferrer\">Spring Boot Helper</a></p>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691704337,"creation_date":1628832822,"question_id":68767259,"body_markdown":"I want to create a Spring Boot project from scratch in IntelliJ IDE. As there is also a way to use Spring Initializr to create a Spring Boot project and then download the zip and import to IDE.\r\n\r\nAs it is bit time consuming process to do that every-time, so I checked over the internet to see if there exists a plugin for the same which automatically loads Spring Initializr onto IntelliJ and found there is one named with Spring Assistant. \r\n\r\nBut this plugin is not visible in IntelliJ Plugins Marketplace. So I went over to JetBrains site for this plugin and landed on this page. This url is the download link for this plugin and is available for all versions. I am using the Community version.\r\n\r\nhttps://plugins.jetbrains.com/plugin/10229-spring-assistant/versions\r\n\r\nAfter downloading and importing the plugin, Spring Assistant option was visible under the `File -&gt; New Project` section. But after specifying the project details, the dependency screen was not loading up (shown in last image) and I also get errors at the bottom of my IDE which says the plugin doesn&#39;t belongs to JetBrains. After this I also seem to feel IntelliJ IDE getting hanged. I have attached images for better understanding. \r\n\r\nAs anyone else faced a similar problem, because if this doesn&#39;t work then the only option is to go to Initializr every time.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ETL5Z.png\r\n  [2]: https://i.stack.imgur.com/kR6C7.jpg\r\n  [3]: https://i.stack.imgur.com/be7xU.png","title":"Spring Assistant plugin not found in IntelliJ IDE","body":"<p>I want to create a Spring Boot project from scratch in IntelliJ IDE. As there is also a way to use Spring Initializr to create a Spring Boot project and then download the zip and import to IDE.</p>\n<p>As it is bit time consuming process to do that every-time, so I checked over the internet to see if there exists a plugin for the same which automatically loads Spring Initializr onto IntelliJ and found there is one named with Spring Assistant.</p>\n<p>But this plugin is not visible in IntelliJ Plugins Marketplace. So I went over to JetBrains site for this plugin and landed on this page. This url is the download link for this plugin and is available for all versions. I am using the Community version.</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant/versions\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/10229-spring-assistant/versions</a></p>\n<p>After downloading and importing the plugin, Spring Assistant option was visible under the <code>File -&gt; New Project</code> section. But after specifying the project details, the dependency screen was not loading up (shown in last image) and I also get errors at the bottom of my IDE which says the plugin doesn't belongs to JetBrains. After this I also seem to feel IntelliJ IDE getting hanged. I have attached images for better understanding.</p>\n<p>As anyone else faced a similar problem, because if this doesn't work then the only option is to go to Initializr every time.</p>\n<p><a href=\"https://i.stack.imgur.com/ETL5Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETL5Z.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kR6C7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kR6C7.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/be7xU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/be7xU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","recursion","mergesort"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690192054,"post_id":76753032,"comment_id":135314041,"body_markdown":"Too bad that you are a member for more than two years, but without any trace so far. Is this question going to last? Or will it be deleted once answered?","body":"Too bad that you are a member for more than two years, but without any trace so far. Is this question going to last? Or will it be deleted once answered?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690201354,"post_id":76753032,"comment_id":135315947,"body_markdown":"Find the smallest data set which reproduces the problem, and step through your code with the debugger.","body":"Find the smallest data set which reproduces the problem, and step through your code with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690409477,"creation_date":1690409477,"answer_id":76775372,"question_id":76753032,"body_markdown":"Try this fix (there may be other issues):\r\n\r\n        int temp [] = new int[high-low+1];","title":"Recursive MergeSort","body":"<p>Try this fix (there may be other issues):</p>\n<pre><code>    int temp [] = new int[high-low+1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6170834,"reputation":1988,"user_id":4809143,"display_name":"moreON"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690410102,"creation_date":1690410102,"answer_id":76775409,"question_id":76753032,"body_markdown":"```\r\n        //copying elements to array\r\n        for(int i=0; i&lt;temp.length; i++){\r\n            arr[i]=temp[i];\r\n        }\r\n```\r\nIs copying back into the original array starting at `0` instead of `low`. And also copying all of `temp`, not just the portion of it that you&#39;re populating during that call.","title":"Recursive MergeSort","body":"<pre><code>        //copying elements to array\n        for(int i=0; i&lt;temp.length; i++){\n            arr[i]=temp[i];\n        }\n</code></pre>\n<p>Is copying back into the original array starting at <code>0</code> instead of <code>low</code>. And also copying all of <code>temp</code>, not just the portion of it that you're populating during that call.</p>\n"},{"tags":[],"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691704306,"creation_date":1691704306,"answer_id":76879514,"question_id":76753032,"body_markdown":"There are 2 problems in the code:\r\n\r\n* `int temp[] = new int[high + 1];` defines a temporary array that is way too large. It should be:\r\n\r\n        int temp[] = new int[high - low + 1];\r\n\r\n* the loop to copy the temporary array back to the original array is incorrect too: the destination index should be offset by `low` entries:\r\n  ```\r\n        for (int i = 0; i &lt; temp.length; i++) {\r\n            arr[low + i] = temp[i];\r\n        }\r\n  ```","title":"Recursive MergeSort","body":"<p>There are 2 problems in the code:</p>\n<ul>\n<li><p><code>int temp[] = new int[high + 1];</code> defines a temporary array that is way too large. It should be:</p>\n<pre><code>  int temp[] = new int[high - low + 1];\n</code></pre>\n</li>\n<li><p>the loop to copy the temporary array back to the original array is incorrect too: the destination index should be offset by <code>low</code> entries:</p>\n<pre><code>      for (int i = 0; i &lt; temp.length; i++) {\n          arr[low + i] = temp[i];\n      }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20959094,"reputation":11,"user_id":15398910,"display_name":"Itasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691704306,"creation_date":1690190431,"question_id":76753032,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.io.*; \r\n\r\npublic class Main {\r\n    public static void merge(int[]arr, int low, int mid, int high) {\r\n        int temp[] = new int[high + 1];\r\n        int index = 0;\r\n        int left = low;\r\n        int right = mid + 1;\r\n        while (left &lt;= mid &amp;&amp; right &lt;= high) {\r\n            if (arr[left] &lt;= arr[right]) {\r\n                temp[index] = arr[left];\r\n                left++;\r\n            } else {\r\n                temp[index] = arr[right];\r\n                right++;\r\n            }\r\n            index++;\r\n        }\r\n        //for exhaustion of any of the parts\r\n        while (left &lt;= mid ){\r\n            temp[index] = arr[left];\r\n            left++;\r\n            index++;\r\n        }\r\n        while (right &lt;= high ){\r\n            temp[index] = arr[right];\r\n            right++;\r\n            index++;\r\n        }\r\n        //copying elements to array\r\n        for (int i = 0; i &lt; temp.length; i++) {\r\n            arr[i] = temp[i];\r\n        }\r\n        //printing arr\r\n        for (int i = 0; i &lt; temp.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static void mergesort(int[]arr, int low, int high) {\r\n        //base case\r\n        if (low &gt;= high) {\r\n            return;\r\n        }\r\n        int mid = (low + high) / 2;\r\n        mergesort(arr, low, mid);\r\n        mergesort(arr, mid + 1, high);\r\n        merge(arr, low, mid, high);\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t    int[] arr = { 2, 3, 46, 5, 8, 7, 6 };\r\n\t    int n = arr.length;\r\n\t\tmergesort(arr, 0, n - 1);\r\n\t}\r\n}\r\n```\r\n\r\nI implemented `mergesort` using recursion, please help identify what&#39;s wrong with my code? It is giving first three elements sorted then some 0s and then again sorted elements and then unsorted.\r\n\r\nRecursion not working properly and giving sorted array results why?","title":"Recursive MergeSort","body":"<pre><code>import java.util.*;\nimport java.io.*; \n\npublic class Main {\n    public static void merge(int[]arr, int low, int mid, int high) {\n        int temp[] = new int[high + 1];\n        int index = 0;\n        int left = low;\n        int right = mid + 1;\n        while (left &lt;= mid &amp;&amp; right &lt;= high) {\n            if (arr[left] &lt;= arr[right]) {\n                temp[index] = arr[left];\n                left++;\n            } else {\n                temp[index] = arr[right];\n                right++;\n            }\n            index++;\n        }\n        //for exhaustion of any of the parts\n        while (left &lt;= mid ){\n            temp[index] = arr[left];\n            left++;\n            index++;\n        }\n        while (right &lt;= high ){\n            temp[index] = arr[right];\n            right++;\n            index++;\n        }\n        //copying elements to array\n        for (int i = 0; i &lt; temp.length; i++) {\n            arr[i] = temp[i];\n        }\n        //printing arr\n        for (int i = 0; i &lt; temp.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n    }\n\n    public static void mergesort(int[]arr, int low, int high) {\n        //base case\n        if (low &gt;= high) {\n            return;\n        }\n        int mid = (low + high) / 2;\n        mergesort(arr, low, mid);\n        mergesort(arr, mid + 1, high);\n        merge(arr, low, mid, high);\n    }\n    \n    public static void main(String[] args) {\n        int[] arr = { 2, 3, 46, 5, 8, 7, 6 };\n        int n = arr.length;\n        mergesort(arr, 0, n - 1);\n    }\n}\n</code></pre>\n<p>I implemented <code>mergesort</code> using recursion, please help identify what's wrong with my code? It is giving first three elements sorted then some 0s and then again sorted elements and then unsorted.</p>\n<p>Recursion not working properly and giving sorted array results why?</p>\n"},{"tags":["java","caching","junit"],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691703143,"creation_date":1691703143,"answer_id":76879424,"question_id":76879334,"body_markdown":"I don&#39;t see that elements will be removed between the two puts and the size-call.","title":"Trying to get my simple aged cache to pass all unit tests, keeps failing on one of them","body":"<p>I don't see that elements will be removed between the two puts and the size-call.</p>\n"},{"comments":[{"owner":{"account_id":29202222,"reputation":13,"user_id":22372080,"display_name":"gdanylov"},"score":0,"creation_date":1691703762,"post_id":76879433,"comment_id":135531384,"body_markdown":"Thank you that worked. I realized I could also clean expired records when it calls size()","body":"Thank you that worked. I realized I could also clean expired records when it calls size()"}],"tags":[],"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691703334,"creation_date":1691703334,"answer_id":76879433,"question_id":76879334,"body_markdown":"Your cleanup method is triggered when the client calls `get()`, but not when it calls `size()`. In other words, when you call `size()`, your cache actually holds two key -&gt; value pairs, and the expired record is removed only when you call `get()`.\r\n\r\nThis should not fail:\r\n\r\n    @Test\r\n    public void getExpired() {\r\n        TestClock clock = new TestClock();\r\n    \r\n        SimpleAgedCache expired = new SimpleAgedCache(clock);\r\n        expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\r\n        expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\r\n    \r\n        clock.offset(Duration.ofMillis(3000));\r\n    \r\n        assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\r\n        assertEquals(1, expired.size());\r\n    }","title":"Trying to get my simple aged cache to pass all unit tests, keeps failing on one of them","body":"<p>Your cleanup method is triggered when the client calls <code>get()</code>, but not when it calls <code>size()</code>. In other words, when you call <code>size()</code>, your cache actually holds two key -&gt; value pairs, and the expired record is removed only when you call <code>get()</code>.</p>\n<p>This should not fail:</p>\n<pre><code>@Test\npublic void getExpired() {\n    TestClock clock = new TestClock();\n\n    SimpleAgedCache expired = new SimpleAgedCache(clock);\n    expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\n    expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\n\n    clock.offset(Duration.ofMillis(3000));\n\n    assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\n    assertEquals(1, expired.size());\n}\n</code></pre>\n"}],"owner":{"account_id":29202222,"reputation":13,"user_id":22372080,"display_name":"gdanylov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76879433,"answer_count":2,"score":1,"last_activity_date":1691703334,"creation_date":1691701989,"question_id":76879334,"body_markdown":"Simple Aged Cache:\r\nI have created a simple aged cache and I have got it to pass all unit tests except getExpired. I have tried running the cleanExpiredRecords method after the put, and before, really not sure how to fix this. Any suggestions would be appreciated.\r\n\r\n```\r\npackage io.collective;\r\n\r\nimport java.time.Clock;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SimpleAgedCache {\r\n    private final Clock clock;\r\n    private final Map&lt;Object, CacheEntry&gt; cacheMap;\r\n\r\n    public SimpleAgedCache(Clock clock) {\r\n        this.clock = clock;\r\n        this.cacheMap = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public SimpleAgedCache() {\r\n        this(Clock.system(Clock.systemDefaultZone().getZone()));\r\n    }\r\n\r\n    public void put(Object key, Object value, int retentionInMillis) {\r\n        if (key != null &amp;&amp; retentionInMillis &gt; 0){\r\n            long expirationTime = clock.millis() + retentionInMillis;\r\n            cacheMap.put(key, new CacheEntry(value, expirationTime));\r\n        }\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return cacheMap.isEmpty();\r\n    }\r\n\r\n    public int size() {\r\n        return cacheMap.size();\r\n    }\r\n\r\n    public Object get(Object key) {\r\n        cleanExpiredRecords();\r\n        CacheEntry entry = cacheMap.get(key);\r\n        if (entry != null){\r\n            return entry.value;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private void cleanExpiredRecords(){\r\n        long currentTime = clock.millis();\r\n        cacheMap.entrySet().removeIf(entry -&gt; entry.getValue().isExpired(currentTime));\r\n    }\r\n\r\n    private static class CacheEntry{\r\n        Object value;\r\n        long expirationTime;\r\n\r\n        CacheEntry(Object value, long expirationTime){\r\n            this.value = value;\r\n            this.expirationTime = expirationTime;\r\n        }\r\n\r\n        boolean isExpired(long currentTime){\r\n            return currentTime &gt;= expirationTime;\r\n        }\r\n\r\n        boolean isNotExpired(long currentTime){\r\n            return !isExpired(currentTime);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe Junit test that it keeps failing is below. I am trying to get my code to pass the unit test. However, it keeps returning 2 when the expected answer is 1.\r\nExpected :1\r\nActual   :2\r\n\r\n```\r\n@Test\r\n    public void getExpired() {\r\n        TestClock clock = new TestClock();\r\n\r\n        SimpleAgedCache expired = new SimpleAgedCache(clock);\r\n        expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\r\n        expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\r\n\r\n        clock.offset(Duration.ofMillis(3000));\r\n\r\n        assertEquals(1, expired.size());\r\n        assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\r\n    }\r\n```\r\n","title":"Trying to get my simple aged cache to pass all unit tests, keeps failing on one of them","body":"<p>Simple Aged Cache:\nI have created a simple aged cache and I have got it to pass all unit tests except getExpired. I have tried running the cleanExpiredRecords method after the put, and before, really not sure how to fix this. Any suggestions would be appreciated.</p>\n<pre><code>package io.collective;\n\nimport java.time.Clock;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SimpleAgedCache {\n    private final Clock clock;\n    private final Map&lt;Object, CacheEntry&gt; cacheMap;\n\n    public SimpleAgedCache(Clock clock) {\n        this.clock = clock;\n        this.cacheMap = new HashMap&lt;&gt;();\n    }\n\n    public SimpleAgedCache() {\n        this(Clock.system(Clock.systemDefaultZone().getZone()));\n    }\n\n    public void put(Object key, Object value, int retentionInMillis) {\n        if (key != null &amp;&amp; retentionInMillis &gt; 0){\n            long expirationTime = clock.millis() + retentionInMillis;\n            cacheMap.put(key, new CacheEntry(value, expirationTime));\n        }\n    }\n\n    public boolean isEmpty() {\n        return cacheMap.isEmpty();\n    }\n\n    public int size() {\n        return cacheMap.size();\n    }\n\n    public Object get(Object key) {\n        cleanExpiredRecords();\n        CacheEntry entry = cacheMap.get(key);\n        if (entry != null){\n            return entry.value;\n        }\n        return null;\n    }\n\n    private void cleanExpiredRecords(){\n        long currentTime = clock.millis();\n        cacheMap.entrySet().removeIf(entry -&gt; entry.getValue().isExpired(currentTime));\n    }\n\n    private static class CacheEntry{\n        Object value;\n        long expirationTime;\n\n        CacheEntry(Object value, long expirationTime){\n            this.value = value;\n            this.expirationTime = expirationTime;\n        }\n\n        boolean isExpired(long currentTime){\n            return currentTime &gt;= expirationTime;\n        }\n\n        boolean isNotExpired(long currentTime){\n            return !isExpired(currentTime);\n        }\n    }\n}\n</code></pre>\n<p>The Junit test that it keeps failing is below. I am trying to get my code to pass the unit test. However, it keeps returning 2 when the expected answer is 1.\nExpected :1\nActual   :2</p>\n<pre><code>@Test\n    public void getExpired() {\n        TestClock clock = new TestClock();\n\n        SimpleAgedCache expired = new SimpleAgedCache(clock);\n        expired.put(&quot;aKey&quot;, &quot;aValue&quot;, 2000);\n        expired.put(&quot;anotherKey&quot;, &quot;anotherValue&quot;, 4000);\n\n        clock.offset(Duration.ofMillis(3000));\n\n        assertEquals(1, expired.size());\n        assertEquals(&quot;anotherValue&quot;, expired.get(&quot;anotherKey&quot;));\n    }\n</code></pre>\n"},{"tags":["java","spring","intellij-idea","aop","aspect"],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691702534,"creation_date":1691702534,"answer_id":76879371,"question_id":76878468,"body_markdown":"Just annotate your `ComponentConfig` class with `@EnableAspectJAutoProxy` and your interception will work","title":"i cannot see the aspect logs when i run the method to be intercepted","body":"<p>Just annotate your <code>ComponentConfig</code> class with <code>@EnableAspectJAutoProxy</code> and your interception will work</p>\n"}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691702534,"creation_date":1691692426,"question_id":76878468,"body_markdown":"thats my code and this is only showing the logs as method is executed in intellij\r\nINFO: Publishing comment: Demo comment. Also added the dependencies but still i cant see whats the error.\r\n```\r\npackage com.alpha;\r\n\r\nimport com.alpha.exampleApp.Comment;\r\nimport com.alpha.servoces.CommentServoce;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var context = new AnnotationConfigApplicationContext(ComponentConfig.class);\r\n\r\n        var comment = new Comment();\r\n        comment.setAuthor(&quot;Laurentiu&quot;);\r\n        comment.setText(&quot;Demo comment&quot;);\r\n\r\n        var commentServoce = context.getBean(CommentServoce.class);\r\n        commentServoce.publishComment(comment);\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nthis is aspect class-&gt;\r\n```\r\npackage com.alpha;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.logging.Logger;\r\n\r\n@Aspect\r\npublic class LogAspect {\r\n    private Logger logger = Logger.getLogger(LogAspect.class.getName());\r\n\r\n    @Around(&quot;execution(* com.alpha.servoces.*.*(..))&quot;)\r\n    public Object log(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            String methodName = joinPoint.getSignature().getName();\r\n            Object[] arguments = joinPoint.getArgs();\r\n            logger.info(&quot;Method &quot; + methodName +\r\n                    &quot; with parameters &quot; + Arrays.asList(arguments) +\r\n                    &quot; will execute&quot;);\r\n            Object returnedByMethod = joinPoint.proceed();\r\n            logger.info(&quot;Method executed and returned &quot; + returnedByMethod);\r\n            return returnedByMethod;\r\n\r\n    }\r\n}\r\n\r\n```\r\nthis is my config class-&gt;\r\n```\r\npackage com.alpha;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;com.alpha.servoces&quot;)\r\npublic class ComponentConfig {\r\n    @Bean\r\n    public LogAspect loggingAspect(){\r\n        LogAspect logAspect = new LogAspect();\r\n        return logAspect;\r\n    }\r\n}\r\n\r\n```\r\nthis is the class in which i want the method intercepted-&gt;\r\n```\r\npackage com.alpha.servoces;\r\nimport com.alpha.exampleApp.Comment;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.logging.Logger;\r\n\r\n@Service\r\npublic class CommentServoce {\r\n    private Logger logger = Logger.getLogger(CommentServoce.class.getName());\r\n\r\n    public String publishComment(Comment comment) {\r\n        logger.info(&quot;Publishing comment: &quot; + comment.getText());\r\n        return &quot;SUCCESS&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni wanted to see the logs by intercepting the method through aspects in spring but i couldnt see the logs","title":"i cannot see the aspect logs when i run the method to be intercepted","body":"<p>thats my code and this is only showing the logs as method is executed in intellij\nINFO: Publishing comment: Demo comment. Also added the dependencies but still i cant see whats the error.</p>\n<pre><code>package com.alpha;\n\nimport com.alpha.exampleApp.Comment;\nimport com.alpha.servoces.CommentServoce;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class Main {\n    public static void main(String[] args) {\n        var context = new AnnotationConfigApplicationContext(ComponentConfig.class);\n\n        var comment = new Comment();\n        comment.setAuthor(&quot;Laurentiu&quot;);\n        comment.setText(&quot;Demo comment&quot;);\n\n        var commentServoce = context.getBean(CommentServoce.class);\n        commentServoce.publishComment(comment);\n\n\n    }\n}\n\n</code></pre>\n<p>this is aspect class-&gt;</p>\n<pre><code>package com.alpha;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\nimport java.util.Arrays;\nimport java.util.logging.Logger;\n\n@Aspect\npublic class LogAspect {\n    private Logger logger = Logger.getLogger(LogAspect.class.getName());\n\n    @Around(&quot;execution(* com.alpha.servoces.*.*(..))&quot;)\n    public Object log(ProceedingJoinPoint joinPoint) throws Throwable {\n            String methodName = joinPoint.getSignature().getName();\n            Object[] arguments = joinPoint.getArgs();\n            logger.info(&quot;Method &quot; + methodName +\n                    &quot; with parameters &quot; + Arrays.asList(arguments) +\n                    &quot; will execute&quot;);\n            Object returnedByMethod = joinPoint.proceed();\n            logger.info(&quot;Method executed and returned &quot; + returnedByMethod);\n            return returnedByMethod;\n\n    }\n}\n\n</code></pre>\n<p>this is my config class-&gt;</p>\n<pre><code>package com.alpha;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\n@ComponentScan(basePackages = &quot;com.alpha.servoces&quot;)\npublic class ComponentConfig {\n    @Bean\n    public LogAspect loggingAspect(){\n        LogAspect logAspect = new LogAspect();\n        return logAspect;\n    }\n}\n\n</code></pre>\n<p>this is the class in which i want the method intercepted-&gt;</p>\n<pre><code>package com.alpha.servoces;\nimport com.alpha.exampleApp.Comment;\nimport org.springframework.stereotype.Service;\nimport java.util.logging.Logger;\n\n@Service\npublic class CommentServoce {\n    private Logger logger = Logger.getLogger(CommentServoce.class.getName());\n\n    public String publishComment(Comment comment) {\n        logger.info(&quot;Publishing comment: &quot; + comment.getText());\n        return &quot;SUCCESS&quot;;\n    }\n}\n\n</code></pre>\n<p>i wanted to see the logs by intercepting the method through aspects in spring but i couldnt see the logs</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-iceberg"],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691702329,"creation_date":1691009489,"question_id":76823432,"body_markdown":"I am connecting to Iceberg running in Spark and querying tables. I am able to SELECT and INSERT from spark-shell. But face issues when executing the same statements from Java code\r\n\r\n```\r\nSparkConf sparkConf = new SparkConf().setAppName(&quot;my app&quot;);\r\nsparkConf.setMaster(&quot;spark://localhost:7077&quot;); // my spark is running in k8s with port-forward\r\nsparkConf.set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;);\r\nsparkConf.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\r\n...\r\n// Bunch of Iceberg+Nessie related config properties\r\n...\r\n\r\nSparkSession spark = SparkSession\r\n                .builder()\r\n                .config(sparkConf)\r\n                .getOrCreate();\r\nspark.sql(&quot;use my;&quot;); // works\r\nspark.sql(&quot;SELECT * FROM my.table LIMIT 1;&quot;);  // works\r\nspark.sql(&quot;INSERT INTO my.table (id, value) VALUES (1, &#39;test&#39;);&quot;)  // Does not work. see errors below\r\n```\r\n\r\nHere&#39;s what I see:\r\n```\r\nInitial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources\r\n```\r\n\r\nBut the error is misleading cuz there&#39;re enough resources.\r\nI tried adding the `spark.driver.host` like so:\r\n```\r\nsparkConf.set(&quot;spark.driver.host&quot;, &quot;localhost&quot;);\r\nsparkConf.set(&quot;spark.driver.port&quot;, &quot;7077&quot;);\r\n```\r\nBut this only results in the job exiting immediately and requesting a new worker.\r\n\r\n\r\nHow do I fix this so that I can run my query? Why is it only happening for INSERT queries?","title":"Spark SQL SELECT works but INSERT fails due to Spark issue","body":"<p>I am connecting to Iceberg running in Spark and querying tables. I am able to SELECT and INSERT from spark-shell. But face issues when executing the same statements from Java code</p>\n<pre><code>SparkConf sparkConf = new SparkConf().setAppName(&quot;my app&quot;);\nsparkConf.setMaster(&quot;spark://localhost:7077&quot;); // my spark is running in k8s with port-forward\nsparkConf.set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;);\nsparkConf.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\n...\n// Bunch of Iceberg+Nessie related config properties\n...\n\nSparkSession spark = SparkSession\n                .builder()\n                .config(sparkConf)\n                .getOrCreate();\nspark.sql(&quot;use my;&quot;); // works\nspark.sql(&quot;SELECT * FROM my.table LIMIT 1;&quot;);  // works\nspark.sql(&quot;INSERT INTO my.table (id, value) VALUES (1, 'test');&quot;)  // Does not work. see errors below\n</code></pre>\n<p>Here's what I see:</p>\n<pre><code>Initial job has not accepted any resources; check your cluster UI to ensure that workers are registered and have sufficient resources\n</code></pre>\n<p>But the error is misleading cuz there're enough resources.\nI tried adding the <code>spark.driver.host</code> like so:</p>\n<pre><code>sparkConf.set(&quot;spark.driver.host&quot;, &quot;localhost&quot;);\nsparkConf.set(&quot;spark.driver.port&quot;, &quot;7077&quot;);\n</code></pre>\n<p>But this only results in the job exiting immediately and requesting a new worker.</p>\n<p>How do I fix this so that I can run my query? Why is it only happening for INSERT queries?</p>\n"},{"tags":["java","animation","javafx","css-animations","refresh"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1691217800,"post_id":76840406,"comment_id":135465016,"body_markdown":"[This](https://stackoverflow.com/questions/9908402/rotate-orbit-node-around-another-object-javafx-2) may help.","body":"<a href=\"https://stackoverflow.com/questions/9908402/rotate-orbit-node-around-another-object-javafx-2\">This</a> may help."},{"owner":{"account_id":3527967,"reputation":11,"user_id":2948501,"display_name":"Tom O."},"score":0,"creation_date":1691218366,"post_id":76840406,"comment_id":135465059,"body_markdown":"I am changing the position of the circle, not rotating it.","body":"I am changing the position of the circle, not rotating it."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1691219955,"post_id":76840406,"comment_id":135465191,"body_markdown":"I did not run the code, but the linked question talks about rotating a circle around a rectangle.  That would require changing position.","body":"I did not run the code, but the linked question talks about rotating a circle around a rectangle.  That would require changing position."},{"owner":{"account_id":3527967,"reputation":11,"user_id":2948501,"display_name":"Tom O."},"score":1,"creation_date":1691220301,"post_id":76840406,"comment_id":135465206,"body_markdown":"Really, and it worx! THX!!","body":"Really, and it worx! THX!!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691220545,"post_id":76840406,"comment_id":135465222,"body_markdown":"https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx#51561957","body":"<a href=\"https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx#51561957\" title=\"how to make the ball bounce off the walls in javafx%2351561957\">stackoverflow.com/questions/20022889/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1691225021,"post_id":76840406,"comment_id":135465575,"body_markdown":"I would use a Group or Pane instead of a StackPane, then apply a RotateTransform with a pivot point, and have the animation modify the angle property of the transform l[like this](https://gist.github.com/jewelsea/1475424).  But that is just me.  If you made the StackPane solution work how you want and are happy with the solution, that is fine.","body":"I would use a Group or Pane instead of a StackPane, then apply a RotateTransform with a pivot point, and have the animation modify the angle property of the transform l<a href=\"https://gist.github.com/jewelsea/1475424\" rel=\"nofollow noreferrer\">like this</a>.  But that is just me.  If you made the StackPane solution work how you want and are happy with the solution, that is fine."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1691225533,"post_id":76840406,"comment_id":135465623,"body_markdown":"Another way to do this is a PathTransition with a circular path and an orientation of ORTHOGONAL_TO_TANGENT or NONE.  Try it with a square on the animated path and different orientation types if interested.","body":"Another way to do this is a PathTransition with a circular path and an orientation of ORTHOGONAL_TO_TANGENT or NONE.  Try it with a square on the animated path and different orientation types if interested."}],"owner":{"account_id":3527967,"reputation":11,"user_id":2948501,"display_name":"Tom O."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691701994,"creation_date":1691216857,"question_id":76840406,"body_markdown":"I am trying a basic animation to move around a circle, but the stage is not showing the circle&#39;s new position.\r\n\r\n    package circler;\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.*;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.layout.*;\r\n    import javafx.util.Duration;\r\n\r\n    public class Main extends Application {\r\n        Circle circle;\r\n        int distance = 100;\r\n        int angle = 0;\r\n\r\n        public void start(Stage primaryStage) {\r\n            circle = new Circle();\r\n            circle.setCenterX(400);\r\n            circle.setCenterY(400);\r\n            circle.setRadius(10);\r\n            circle.setFill(Color.RED);\r\n\r\n            Timeline timeline = new Timeline(new KeyFrame(Duration.seconds(0.1), e -&gt; {\r\n                    angle++;\r\n                    angle %= 360;\r\n                    setPosition();\r\n                    primaryStage.show();\r\n            }));\r\n\r\n            timeline.setCycleCount(Animation.INDEFINITE);\r\n            timeline.play();\r\n\r\n            primaryStage.setScene(new Scene(new StackPane(circle), 800, 800));\r\n            primaryStage.show();\r\n        }\r\n\r\n        private int calc(boolean sin) {\r\n            return (int) (sin ? distance * Math.sin(Math.toRadians(angle)) : distance * Math.cos(Math.toRadians(angle)));\r\n        }\r\n        \r\n        private void setPosition() {\r\n            circle.setCenterX(circle.getScene().getHeight() / 2 + calc(true));\r\n            circle.setCenterY(circle.getScene().getHeight() / 2 + calc(false));\r\n            System.out.println(circle.getCenterX());\r\n        }\r\n    }\r\n\r\nI tried every page which tells about refreshing it. I want the circle to move 100ms and the stage should show it at the new position.","title":"Why isn&#39;t javafx stage refreshing?","body":"<p>I am trying a basic animation to move around a circle, but the stage is not showing the circle's new position.</p>\n<pre><code>package circler;\n\nimport javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.*;\nimport javafx.stage.Stage;\nimport javafx.scene.layout.*;\nimport javafx.util.Duration;\n\npublic class Main extends Application {\n    Circle circle;\n    int distance = 100;\n    int angle = 0;\n\n    public void start(Stage primaryStage) {\n        circle = new Circle();\n        circle.setCenterX(400);\n        circle.setCenterY(400);\n        circle.setRadius(10);\n        circle.setFill(Color.RED);\n\n        Timeline timeline = new Timeline(new KeyFrame(Duration.seconds(0.1), e -&gt; {\n                angle++;\n                angle %= 360;\n                setPosition();\n                primaryStage.show();\n        }));\n\n        timeline.setCycleCount(Animation.INDEFINITE);\n        timeline.play();\n\n        primaryStage.setScene(new Scene(new StackPane(circle), 800, 800));\n        primaryStage.show();\n    }\n\n    private int calc(boolean sin) {\n        return (int) (sin ? distance * Math.sin(Math.toRadians(angle)) : distance * Math.cos(Math.toRadians(angle)));\n    }\n    \n    private void setPosition() {\n        circle.setCenterX(circle.getScene().getHeight() / 2 + calc(true));\n        circle.setCenterY(circle.getScene().getHeight() / 2 + calc(false));\n        System.out.println(circle.getCenterX());\n    }\n}\n</code></pre>\n<p>I tried every page which tells about refreshing it. I want the circle to move 100ms and the stage should show it at the new position.</p>\n"},{"tags":["java","android","twilio","twilio-api"],"answers":[{"comments":[{"owner":{"account_id":11955309,"reputation":41,"user_id":8747835,"display_name":"JUNAID ALI"},"score":0,"creation_date":1549368661,"post_id":54533942,"comment_id":95869647,"body_markdown":"Thanks a lot for your help, let me go through this that yo shared :)","body":"Thanks a lot for your help, let me go through this that yo shared :)"},{"owner":{"account_id":104520,"reputation":21516,"user_id":279395,"accept_rate":96,"display_name":"Marcos Placona"},"score":0,"creation_date":1549468179,"post_id":54533942,"comment_id":95914711,"body_markdown":"That&#39;s awesome! Please make sure you mark the answer as correct for anyone with that same question in the future.","body":"That&#39;s awesome! Please make sure you mark the answer as correct for anyone with that same question in the future."},{"owner":{"account_id":11955309,"reputation":41,"user_id":8747835,"display_name":"JUNAID ALI"},"score":0,"creation_date":1549470226,"post_id":54533942,"comment_id":95915965,"body_markdown":"I marked it but they are saying my reputation is low","body":"I marked it but they are saying my reputation is low"}],"tags":[],"owner":{"account_id":104520,"reputation":21516,"user_id":279395,"accept_rate":96,"display_name":"Marcos Placona"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549367949,"creation_date":1549367949,"answer_id":54533942,"question_id":54512235,"body_markdown":"Twilio developer evangelist here. As you&#39;ve noticed, Android will have trouble using our Java SDK as one of its dependencies is the Apache library for HTTP. What you want to do though is use our [Android SDK][1] for making calls.\r\n\r\nYou can see an example of how to use it [here][2], as well as go through the [quickstart][3] that will take you through the entire process.\r\n\r\nIn your example, you are using the Java SDK which beings a security problem into your application, as its now hard coding your account credentials into your final APK. I explain why that is not a good idea in this [blog post][4].\r\n\r\nHope this helps you.\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/voice/voip-sdk\r\n  [2]: https://www.twilio.com/docs/voice/voip-sdk/get-started\r\n  [3]: https://www.twilio.com/docs/voice/voip-sdk/get-started#quickstart\r\n  [4]: https://www.twilio.com/blog/2016/05/how-to-send-an-sms-from-android.html","title":"Facing some error in implementing twilio programmable voice call in java android studio","body":"<p>Twilio developer evangelist here. As you've noticed, Android will have trouble using our Java SDK as one of its dependencies is the Apache library for HTTP. What you want to do though is use our <a href=\"https://www.twilio.com/docs/voice/voip-sdk\" rel=\"nofollow noreferrer\">Android SDK</a> for making calls.</p>\n\n<p>You can see an example of how to use it <a href=\"https://www.twilio.com/docs/voice/voip-sdk/get-started\" rel=\"nofollow noreferrer\">here</a>, as well as go through the <a href=\"https://www.twilio.com/docs/voice/voip-sdk/get-started#quickstart\" rel=\"nofollow noreferrer\">quickstart</a> that will take you through the entire process.</p>\n\n<p>In your example, you are using the Java SDK which beings a security problem into your application, as its now hard coding your account credentials into your final APK. I explain why that is not a good idea in this <a href=\"https://www.twilio.com/blog/2016/05/how-to-send-an-sms-from-android.html\" rel=\"nofollow noreferrer\">blog post</a>.</p>\n\n<p>Hope this helps you.</p>\n"}],"owner":{"account_id":11955309,"reputation":41,"user_id":8747835,"display_name":"JUNAID ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1691701975,"creation_date":1549267954,"question_id":54512235,"body_markdown":"I&#39;m implementing Twilio programmable voice call in java android studio as description they gave in their docs but facing some error when run\r\n\r\nSee the exception I received below:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\r\n        \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:144)\r\n        \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.getDefaultRegistry(PoolingHttpClientConnectionManager.java:109)\r\n        \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:116)\r\n        \tat com.twilio.http.NetworkHttpClient.&lt;init&gt;(NetworkHttpClient.java:58)\r\n        \tat com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\r\n        \tat com.twilio.Twilio.getRestClient(Twilio.java:122)\r\n        \tat com.twilio.base.Creator.create(Creator.java:45)\r\n        \tat com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n\r\n\r\nWhen I tried to exclude http libraries like this:\r\n\r\n```\r\nimplementation(group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;) {\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\n}\r\n\r\nimplementation(group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;) {\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\n}\r\n\r\nimplementation(group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;) {\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpcore&#39;\r\n}\r\n```\r\n\r\nthe exception changed to:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/ProtocolVersion\r\n    \tat com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\r\n    \tat com.twilio.Twilio.getRestClient(Twilio.java:122)\r\n    \tat com.twilio.base.Creator.create(Creator.java:45)\r\n    \tat com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.ProtocolVersion\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 9 more\r\n\r\n#### Code\r\n```java\r\npublic static void main(String[] args) throws URISyntaxException {\r\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n    String from = &quot;+18572632XXX&quot;;\r\n    String to = &quot;+92**********&quot;;\r\n\r\n    Call call = Call.creator(new PhoneNumber(to), new PhoneNumber(from),\r\n            new URI(&quot;http://demo.twilio.com/docs/voice.xml&quot;)).create();\r\n\r\n\r\n    System.out.println(call.getSid());\r\n}\r\n```\r\n\r\nFor the above code, I&#39;ve included the following libraries\r\n\r\n\r\n    implementation group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;\r\n    implementation group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;\r\n    implementation group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;\r\n\r\nAs i have not much experience in this please help \r\n\r\n\r\n\r\n\r\n","title":"Facing some error in implementing twilio programmable voice call in java android studio","body":"<p>I'm implementing Twilio programmable voice call in java android studio as description they gave in their docs but facing some error when run</p>\n<p>See the exception I received below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:144)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.getDefaultRegistry(PoolingHttpClientConnectionManager.java:109)\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:116)\n        at com.twilio.http.NetworkHttpClient.&lt;init&gt;(NetworkHttpClient.java:58)\n        at com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\n        at com.twilio.Twilio.getRestClient(Twilio.java:122)\n        at com.twilio.base.Creator.create(Creator.java:45)\n        at com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n<p>When I tried to exclude http libraries like this:</p>\n<pre><code>implementation(group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;) {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude group: 'org.apache.httpcomponents', module: 'httpcore'\n}\n\nimplementation(group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;) {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude group: 'org.apache.httpcomponents', module: 'httpcore'\n}\n\nimplementation(group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;) {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude group: 'org.apache.httpcomponents', module: 'httpcore'\n}\n</code></pre>\n<p>the exception changed to:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/ProtocolVersion\n    at com.twilio.http.TwilioRestClient$Builder.build(TwilioRestClient.java:102)\n    at com.twilio.Twilio.getRestClient(Twilio.java:122)\n    at com.twilio.base.Creator.create(Creator.java:45)\n    at com.systema.twilliovoicecalltest.MakePhoneCall.main(MakePhoneCall.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.ProtocolVersion\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 9 more\n</code></pre>\n<h4>Code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws URISyntaxException {\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n    String from = &quot;+18572632XXX&quot;;\n    String to = &quot;+92**********&quot;;\n\n    Call call = Call.creator(new PhoneNumber(to), new PhoneNumber(from),\n            new URI(&quot;http://demo.twilio.com/docs/voice.xml&quot;)).create();\n\n\n    System.out.println(call.getSid());\n}\n</code></pre>\n<p>For the above code, I've included the following libraries</p>\n<pre><code>implementation group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;7.34.1&quot;\nimplementation group: &quot;com.sparkjava&quot;, name: &quot;spark-core&quot;, version: &quot;2.7.1&quot;\nimplementation group: &quot;org.slf4j&quot;, name: &quot;slf4j-simple&quot;, version: &quot;1.7.21&quot;\n</code></pre>\n<p>As i have not much experience in this please help</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1691676277,"post_id":76876189,"comment_id":135525938,"body_markdown":"You shouldn&#39;t use `java.sql.Date` any more. Use `LocalDate` (i.e. when using JDBC, `preparedStatement.setObject(1, localDateValue)` and `resultSet.getObject(1, LocalDate.class)`).","body":"You shouldn&#39;t use <code>java.sql.Date</code> any more. Use <code>LocalDate</code> (i.e. when using JDBC, <code>preparedStatement.setObject(1, localDateValue)</code> and <code>resultSet.getObject(1, LocalDate.class)</code>)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691678766,"post_id":76876189,"comment_id":135526579,"body_markdown":"This required looking up loads of stuff and having to make some leaps of logic, such as: ... this question does not make sense unless OP is running this code on a system that is set to the Asia/Kolkata zone. Fun exercise to figure out this mystery :)","body":"This required looking up loads of stuff and having to make some leaps of logic, such as: ... this question does not make sense unless OP is running this code on a system that is set to the Asia/Kolkata zone. Fun exercise to figure out this mystery :)"}],"answers":[{"comments":[{"owner":{"account_id":2905954,"reputation":31,"user_id":5702331,"display_name":"Elbin Pallimalil"},"score":0,"creation_date":1691679782,"post_id":76876841,"comment_id":135526832,"body_markdown":"Thank you for the detailed explanation. The reason I have to use SQL Date is I&#39;m trying to fix an issue observed in a JDBC driver. We have an implementation of the ResultSet interface, so I need to implement the getDate method which returns SQL date. I need to find out what other way I can fix this odd behaviour.","body":"Thank you for the detailed explanation. The reason I have to use SQL Date is I&#39;m trying to fix an issue observed in a JDBC driver. We have an implementation of the ResultSet interface, so I need to implement the getDate method which returns SQL date. I need to find out what other way I can fix this odd behaviour."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691680737,"post_id":76876841,"comment_id":135527064,"body_markdown":"Elbin, is it H2 by any chance? Find all calls to `.setDate`, `.getDate`, `.setTimestamp`, `.getTimestamp`, `getTime`, and `setTime` __and delete them - those methods are fundamentally broken and should never be used__. Replace them with `.setObject`/`getObject`, passing in the JDBC-spec-guaranteed java.time type instead (`LocalDateTime`, `LocalDate`, `LocalTime`, and `OffsetDateTime` depending on what kind of database type we&#39;re talking about).","body":"Elbin, is it H2 by any chance? Find all calls to <code>.setDate</code>, <code>.getDate</code>, <code>.setTimestamp</code>, <code>.getTimestamp</code>, <code>getTime</code>, and <code>setTime</code> <b>and delete them - those methods are fundamentally broken and should never be used</b>. Replace them with <code>.setObject</code>/<code>getObject</code>, passing in the JDBC-spec-guaranteed java.time type instead (<code>LocalDateTime</code>, <code>LocalDate</code>, <code>LocalTime</code>, and <code>OffsetDateTime</code> depending on what kind of database type we&#39;re talking about)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691680786,"post_id":76876841,"comment_id":135527077,"body_markdown":"That helps, but doesn&#39;t fully fix everything; depends on your DB engine (h2 still won&#39;t help here), and if the problem is that you have written data to the DB in the past which is now broken - obviously doesn&#39;t help either. Messing with your tzdata defs using tzupdater is one way. Intentionally using an old joda-time with the old tzdata defs is another.","body":"That helps, but doesn&#39;t fully fix everything; depends on your DB engine (h2 still won&#39;t help here), and if the problem is that you have written data to the DB in the past which is now broken - obviously doesn&#39;t help either. Messing with your tzdata defs using tzupdater is one way. Intentionally using an old joda-time with the old tzdata defs is another."},{"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"score":0,"creation_date":1691681566,"post_id":76876841,"comment_id":135527270,"body_markdown":"Nice answer! There are some timezones that can be hard to work with. We had unit tests passing locally but failing on build servers. This was because of changes to the daylight saving regime in `Europe/Istanbul`, that were done between Java 1.8 releases.\nSee:\nhttps://github.com/eggert/tz/blob/ed49cb3d9b24feea35fd92320849a48009222213/europe","body":"Nice answer! There are some timezones that can be hard to work with. We had unit tests passing locally but failing on build servers. This was because of changes to the daylight saving regime in <code>Europe&#47;Istanbul</code>, that were done between Java 1.8 releases. See: <a href=\"https://github.com/eggert/tz/blob/ed49cb3d9b24feea35fd92320849a48009222213/europe\" rel=\"nofollow noreferrer\">github.com/eggert/tz/blob/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691681623,"post_id":76876841,"comment_id":135527277,"body_markdown":"“The JVM is broken” is a bold claim.  I’m not sure I understand what the bug is.  But I agree that using java.time types with JDBC is a very good idea, and I agree that date/time data should be kept as data types and not strings as much as possible.","body":"“The JVM is broken” is a bold claim.  I’m not sure I understand what the bug is.  But I agree that using java.time types with JDBC is a very good idea, and I agree that date/time data should be kept as data types and not strings as much as possible."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691681991,"post_id":76876841,"comment_id":135527375,"body_markdown":"@VGR Sure, it&#39;s bold. Between showing how the OpenJDK team picked the wrong tzdata variant to include and how this actively causes very nasty issues, it&#39;s justified. Note that none of this saves you with h2 (and thus presumably some other DB engines). You&#39;re just hosed. I am now actively running scripts to bugfix every JDK on every system I install them on using tzupdater, and all my apps start with a sanity check and insta-abort with a &#39;.. run the script first&#39; warning then System.exit to make sure I have fixed them all. This is incredibly annoying.","body":"@VGR Sure, it&#39;s bold. Between showing how the OpenJDK team picked the wrong tzdata variant to include and how this actively causes very nasty issues, it&#39;s justified. Note that none of this saves you with h2 (and thus presumably some other DB engines). You&#39;re just hosed. I am now actively running scripts to bugfix every JDK on every system I install them on using tzupdater, and all my apps start with a sanity check and insta-abort with a &#39;.. run the script first&#39; warning then System.exit to make sure I have fixed them all. This is incredibly annoying."},{"owner":{"account_id":2905954,"reputation":31,"user_id":5702331,"display_name":"Elbin Pallimalil"},"score":0,"creation_date":1691682032,"post_id":76876841,"comment_id":135527385,"body_markdown":"@rzwitserloot It&#39;s not H2. If I understood you correctly tzdata in Joda library and OpenJDK could differ, and can give results like I observed. I&#39;m not sure how much refactoring I can do in the driver code, but if I avoid using Joda for human to millis and then millis to human conversion, will I get the correct behaviour.","body":"@rzwitserloot It&#39;s not H2. If I understood you correctly tzdata in Joda library and OpenJDK could differ, and can give results like I observed. I&#39;m not sure how much refactoring I can do in the driver code, but if I avoid using Joda for human to millis and then millis to human conversion, will I get the correct behaviour."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691683049,"post_id":76876841,"comment_id":135527630,"body_markdown":"Yes, probably, but for any dates prior to 1970, you might still have issues.","body":"Yes, probably, but for any dates prior to 1970, you might still have issues."},{"owner":{"account_id":2905954,"reputation":31,"user_id":5702331,"display_name":"Elbin Pallimalil"},"score":0,"creation_date":1691990567,"post_id":76876841,"comment_id":135560073,"body_markdown":"@rzwitserloot I get the same millisecond value for &quot;1854-01-01&quot; from both Joda libraries and java.time APIs. This in turn gives an SQL date &quot;1853-12-31&quot; that is different from original. So should I now assume JVM is broken?","body":"@rzwitserloot I get the same millisecond value for &quot;1854-01-01&quot; from both Joda libraries and java.time APIs. This in turn gives an SQL date &quot;1853-12-31&quot; that is different from original. So should I now assume JVM is broken?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692004387,"post_id":76876841,"comment_id":135562224,"body_markdown":"@Elbin That simply means your joda-installation&#39;s copy of the `tzdata` datafiles and your JDK installation&#39;s are the same for, specifically, the combination of 1854-01-01 and the timezone you&#39;re trying this in. No more, and no less. It says nothing about whether these defs are broken. If it&#39;s a recent JDK install (JDK17), it&#39;s broken by definition - all dates before 1970 are. Whether that _actually_ means it&#39;s not the def you want - who knows.","body":"@Elbin That simply means your joda-installation&#39;s copy of the <code>tzdata</code> datafiles and your JDK installation&#39;s are the same for, specifically, the combination of 1854-01-01 and the timezone you&#39;re trying this in. No more, and no less. It says nothing about whether these defs are broken. If it&#39;s a recent JDK install (JDK17), it&#39;s broken by definition - all dates before 1970 are. Whether that <i>actually</i> means it&#39;s not the def you want - who knows."},{"owner":{"account_id":2905954,"reputation":31,"user_id":5702331,"display_name":"Elbin Pallimalil"},"score":0,"creation_date":1692101378,"post_id":76876841,"comment_id":135576429,"body_markdown":"@rzwitserloot So does java.sql.Date use a different tzdata file than java.time APIs?","body":"@rzwitserloot So does java.sql.Date use a different tzdata file than java.time APIs?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692127959,"post_id":76876841,"comment_id":135581542,"body_markdown":"It doesn&#39;t. j.s.Date has other problems ,though. You shouldn&#39;t use it.","body":"It doesn&#39;t. j.s.Date has other problems ,though. You shouldn&#39;t use it."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":12,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691701588,"creation_date":1691678714,"answer_id":76876841,"question_id":76876189,"body_markdown":"## Preamble\r\n\r\nYour code as written actually would be off by one day for _everything_, __if__ you run that code on any JVM whose default timezone is configured to be &#39;west&#39; of `Asia/Kolkata`, because &#39;your system&#39;s local timezone&#39; is an intrinsic part of it (because `new Date(millis).toString()` prints the date that those millis are in as per your local timezone). Hence, a previous answerer (who since deleted their answer) who put in the effort to fully reproduce your issue misidentified the problem - part of the &#39;input&#39; is _also_ to set the platform default tz to Asia/Kolkata, which, evidently, is what your Computer is already set to.\r\n\r\nThe explanation to this problem is very complicated and requires a bunch of background.\r\n\r\n\r\n## A deep dive on `tzdata`.\r\n\r\nHere is the current [tzdata section for `Asia/Kolkata`](https://github.com/eggert/tz/blob/ed49cb3d9b24feea35fd92320849a48009222213/asia#L1302C1-L1310C14):\r\n\r\n```\r\n# Zone\tNAME\t\tSTDOFF\tRULES\tFORMAT\t[UNTIL]\r\nZone\tAsia/Kolkata\t5:53:28 -\tLMT\t1854 Jun 28 # Kolkata\r\n\t\t\t            5:53:20\t-\tHMT\t1870\t    # Howrah Mean Time?\r\n\t\t\t            5:21:10\t-\tMMT\t1906 Jan  1 # Madras local time\r\n\t\t\t            5:30\t-\tIST\t1941 Oct\r\n\t\t\t            5:30\t1:00\t+0630\t1942 May 15\r\n\t\t\t            5:30\t-\tIST\t1942 Sep\r\n\t\t\t            5:30\t1:00\t+0630\t1945 Oct 15\r\n\t\t\t            5:30\t-\tIST\r\n```\r\n\r\nAs you can see, 1870 is an inflection point for it: A tiny little change, adjusting the offset bij 2 minutes and 10 seconds was introduced.\r\n\r\nThat is just a small snippet of a huge boatload of text that lists every timezone and every inflection point for all of them. This is called the `tzdata` and is a separate project. The thing is, jodatime as a library ships with its own copy of this `tzdata` and uses this for all its calculations, whereas `new Date().toString()` needs to convert its millis too in order to determine what date to show, and it uses your OpenJDK&#39;s definitions (remember, `java.util.Date` __is a lie__ - it does not represent dates at all, it represents epochmillis; its toString is merely confused for backwards compatibility reasons. There&#39;s a reason almost every method in that class is deprecated, __you should not be using this class for anything__).\r\n\r\n## The explanation (in overview)\r\n\r\nIf the `tzdata` that is baked into your joda distro is different from the tzdata baked into your OpenJDK specifically in regards to `Asia/Kolkata` for the relevant date, we have our explanation. Jodatime needs to determine the correct millis for `1854-01-01 00:00:00 in the Asia/Kolkata` zone which it does using its tzdata. This millis is then sent to `j.u.Date`, and then you ask `j.u.Date`: Convert that _back_ to human reckoning, in my system&#39;s default zone (Presumably, also `Asia/Kolkata`). That __SHOULD__ be a lossless conversion - it should always get you right back to 1854-01-01. __Unless the tzdata definitions for `Asia/Kolkata` of your jodatime and your OpenJDK disagree__.\r\n\r\nLooking back in history, the last version of jodatime where there is a disagreement is all the way [back to 2018](https://github.com/JodaOrg/joda-time/blob/c5c681c91c74a508e67911e0af4980846d676ba2/src/main/java/org/joda/time/tz/src/asia#L890C1-L896C14):\r\n\r\n```\r\nZone\tAsia/Kolkata\t5:53:28 -\tLMT\t1880        # Kolkata\r\n\t\t\t            5:53:20\t-\tHMT\t1941 Oct    # Howrah Mean Time?\r\n\t\t\t            6:30\t-\t+0630\t1942 May 15\r\n\t\t\t            5:30\t-\tIST\t1942 Sep\r\n\t\t\t            5:30\t1:00\t+0630\t1945 Oct 15\r\n\t\t\t            5:30\t-\tIST\r\n```\r\n\r\nIt&#39;s subtle: There is a difference in the following date ranges:\r\n\r\nUntil 1870 they are in agreement: Offse of 5:53:28.\r\n\r\nFrom 1870 to 1880, the current def says the offset is 5:53:20. The 2018 version, however, says the offset is 5:53:28.\r\n\r\nThen from 1880 to 1906 the two are in agreement again (both go with 5:53:20).\r\n\r\nFrom 1906 to 1941, the current version says the offset is 5:21:10, whereas the 2018 version says the offset is 5:53:20.\r\n\r\nThen the switchover to the 5:30:00 offset date is also not the same; from 1942 they are in agreement again until the present day.\r\n\r\n__Depending on the direction of the error you won&#39;t notice__. One &#39;direction&#39; of error (Where old thinks the offset is _less_ than new) you won&#39;t notice: The translation errors by translating `1910-01-01 00:00:00` to `1910-01-01 01:00:00` (not exactly - but, with the error _added_ to the date). toString just prints the date, so you can&#39;t tell.\r\n\r\nIts when the old thinks the offset is _more_ than the new that you end up translating `1870-01-01 00:00:00` to `1869-12-31 23:...` - that the error is subtracted, thus resulting in a date that is &#39;too low&#39;.\r\n\r\nI&#39;m 99.9% certain your particular version of jodatime is quite old (2018 or earlier). If you update it to the latest, this problem goes away, but, your code will just fail again if ever these definitions change again. I suggest you read on so you understand how this works, and what you can do to ensure this problem won&#39;t show up in the future.\r\n\r\n## A quick note on tzdata principles\r\n\r\nMore generally, __THE JVM IS BROKEN__ - anytime you have ALL these things happening:\r\n\r\n* You translate any date from human reckoning to millis and back again, one step being done on JDK version X, and another on JDK version Y, where X and Y are on different sides of &#39;the time when OpenJDK messed up and picked the simplified version of the post-tzdata refactor&#39; line (which is, more or less, a point update of OpenJDK17).\r\n* That time is before 1970.\r\n\r\nThen you should assume that an off-by-one error is going to occur in that date. This hits a few time zones particularly hard (for example, Europe/Amsterdam. For example if you store dates in the h2 database system using JDBC&#39;s `.setDate` and `.getDate`, or even `.setObject(x, LocalDate)`, and that date is prior to 1945, __it will be off by one when you upgrade your JDK__.\r\n\r\nThis is a bug, I think the OpenJDK is the primary actor that messed this up, I reported it, they do not understand. I rate the odds they ever fix it as low.\r\n\r\nNB: The reason 1970 is magic, is that the tzdata refactored: They realized that exact knowledge about timezone status prior to 1970 is incredibly hard to verify, so recently they changed policy: Any defs that affect 1970 or after are aggressively verified, fact-checked, and distributed, and an extremely high bar is required if you want to tell the tzdata maintainer that it has an error in it that affects 1970 or later. However, in contrast, a few newspaper articles are enough for pre-1970 updates and the tzdata makes far fewer guarantees about accuracy because being accurate is difficult as a general principle due to lots of details being lost to the mists of time. As part of this policy update, there are &#39;simple&#39; and &#39;complex&#39; versions of tzdata now: The simple version more aggressively errors for pre-1970. For example, it says that The Netherlands was like Belgium pre-1970 which is known-wrong for the second world war years. Nevertheless, tzdata will not fix it because of policy (&#39;we do not guarantee correctness for pre-1970 if you take the simple set&#39;), and don&#39;t want to hear that this was the wrong choice (NL is larger than Belgium, so NL should be &#39;leading&#39;. Or just include both, you don&#39;t guarantee correctness but you don&#39;t guarantee wrongness either). However, the worst offender here is team OpenJDK that messed up by picking the simple set.\r\n\r\n\r\n## How to avoid this problem from hurting you\r\n\r\njoda-time is obsolete and has been for a decade. __Do not use it__ - java itself has a variant of joda-time now (it was added to the JDK by the author of JodaTime!), in the `java.time` package. In your scenario the root cause is that you are operating with different tzdata defs and all sorts of heck is going to break loose when you do that. At least by using java.time, all is in agreement.\r\n\r\nBut that&#39;s not enough - I do that and the `Europe/Amsterdam` thing caused a lot of pain.\r\n\r\nYou also want to avoid millis to human to millis conversion as much as you can. In order to do that properly, __do not ever use `java.util.Date`, and as a corrollary, do not use `java.sql.Date` or `java.sql.Timestamp` either. These things are just broken. Use `.getObject(colIdx, OffsetDateTime.class)` for example. It&#39;s wordy, but JDBC5 spec __requires__ that databases support it.\r\n\r\nThen, use a database that doesn&#39;t implement it badly. H2, unfortunately, messed this up. Understandable, perhaps - this stuff is hard to find.\r\n\r\n## OMG I didn&#39;t do that and now all my data is corrupt.\r\n\r\nYou can load the proper version of a tzdata def straight into the JDK, using the `tzupdater.jar` tool. If this has caused heck on your systems, find out which tzdata version was present when you did step 1 of all your conversions, load that into your JDK using tzupdater, and now the reverse of step 1 no longer causes off-by-1 errors.\r\n","title":"java.sql.Date from millis off by 1 day for dates before 1870","body":"<h2>Preamble</h2>\n<p>Your code as written actually would be off by one day for <em>everything</em>, <strong>if</strong> you run that code on any JVM whose default timezone is configured to be 'west' of <code>Asia/Kolkata</code>, because 'your system's local timezone' is an intrinsic part of it (because <code>new Date(millis).toString()</code> prints the date that those millis are in as per your local timezone). Hence, a previous answerer (who since deleted their answer) who put in the effort to fully reproduce your issue misidentified the problem - part of the 'input' is <em>also</em> to set the platform default tz to Asia/Kolkata, which, evidently, is what your Computer is already set to.</p>\n<p>The explanation to this problem is very complicated and requires a bunch of background.</p>\n<h2>A deep dive on <code>tzdata</code>.</h2>\n<p>Here is the current <a href=\"https://github.com/eggert/tz/blob/ed49cb3d9b24feea35fd92320849a48009222213/asia#L1302C1-L1310C14\" rel=\"nofollow noreferrer\">tzdata section for <code>Asia/Kolkata</code></a>:</p>\n<pre><code># Zone  NAME        STDOFF  RULES   FORMAT  [UNTIL]\nZone    Asia/Kolkata    5:53:28 -   LMT 1854 Jun 28 # Kolkata\n                        5:53:20 -   HMT 1870        # Howrah Mean Time?\n                        5:21:10 -   MMT 1906 Jan  1 # Madras local time\n                        5:30    -   IST 1941 Oct\n                        5:30    1:00    +0630   1942 May 15\n                        5:30    -   IST 1942 Sep\n                        5:30    1:00    +0630   1945 Oct 15\n                        5:30    -   IST\n</code></pre>\n<p>As you can see, 1870 is an inflection point for it: A tiny little change, adjusting the offset bij 2 minutes and 10 seconds was introduced.</p>\n<p>That is just a small snippet of a huge boatload of text that lists every timezone and every inflection point for all of them. This is called the <code>tzdata</code> and is a separate project. The thing is, jodatime as a library ships with its own copy of this <code>tzdata</code> and uses this for all its calculations, whereas <code>new Date().toString()</code> needs to convert its millis too in order to determine what date to show, and it uses your OpenJDK's definitions (remember, <code>java.util.Date</code> <strong>is a lie</strong> - it does not represent dates at all, it represents epochmillis; its toString is merely confused for backwards compatibility reasons. There's a reason almost every method in that class is deprecated, <strong>you should not be using this class for anything</strong>).</p>\n<h2>The explanation (in overview)</h2>\n<p>If the <code>tzdata</code> that is baked into your joda distro is different from the tzdata baked into your OpenJDK specifically in regards to <code>Asia/Kolkata</code> for the relevant date, we have our explanation. Jodatime needs to determine the correct millis for <code>1854-01-01 00:00:00 in the Asia/Kolkata</code> zone which it does using its tzdata. This millis is then sent to <code>j.u.Date</code>, and then you ask <code>j.u.Date</code>: Convert that <em>back</em> to human reckoning, in my system's default zone (Presumably, also <code>Asia/Kolkata</code>). That <strong>SHOULD</strong> be a lossless conversion - it should always get you right back to 1854-01-01. <strong>Unless the tzdata definitions for <code>Asia/Kolkata</code> of your jodatime and your OpenJDK disagree</strong>.</p>\n<p>Looking back in history, the last version of jodatime where there is a disagreement is all the way <a href=\"https://github.com/JodaOrg/joda-time/blob/c5c681c91c74a508e67911e0af4980846d676ba2/src/main/java/org/joda/time/tz/src/asia#L890C1-L896C14\" rel=\"nofollow noreferrer\">back to 2018</a>:</p>\n<pre><code>Zone    Asia/Kolkata    5:53:28 -   LMT 1880        # Kolkata\n                        5:53:20 -   HMT 1941 Oct    # Howrah Mean Time?\n                        6:30    -   +0630   1942 May 15\n                        5:30    -   IST 1942 Sep\n                        5:30    1:00    +0630   1945 Oct 15\n                        5:30    -   IST\n</code></pre>\n<p>It's subtle: There is a difference in the following date ranges:</p>\n<p>Until 1870 they are in agreement: Offse of 5:53:28.</p>\n<p>From 1870 to 1880, the current def says the offset is 5:53:20. The 2018 version, however, says the offset is 5:53:28.</p>\n<p>Then from 1880 to 1906 the two are in agreement again (both go with 5:53:20).</p>\n<p>From 1906 to 1941, the current version says the offset is 5:21:10, whereas the 2018 version says the offset is 5:53:20.</p>\n<p>Then the switchover to the 5:30:00 offset date is also not the same; from 1942 they are in agreement again until the present day.</p>\n<p><strong>Depending on the direction of the error you won't notice</strong>. One 'direction' of error (Where old thinks the offset is <em>less</em> than new) you won't notice: The translation errors by translating <code>1910-01-01 00:00:00</code> to <code>1910-01-01 01:00:00</code> (not exactly - but, with the error <em>added</em> to the date). toString just prints the date, so you can't tell.</p>\n<p>Its when the old thinks the offset is <em>more</em> than the new that you end up translating <code>1870-01-01 00:00:00</code> to <code>1869-12-31 23:...</code> - that the error is subtracted, thus resulting in a date that is 'too low'.</p>\n<p>I'm 99.9% certain your particular version of jodatime is quite old (2018 or earlier). If you update it to the latest, this problem goes away, but, your code will just fail again if ever these definitions change again. I suggest you read on so you understand how this works, and what you can do to ensure this problem won't show up in the future.</p>\n<h2>A quick note on tzdata principles</h2>\n<p>More generally, <strong>THE JVM IS BROKEN</strong> - anytime you have ALL these things happening:</p>\n<ul>\n<li>You translate any date from human reckoning to millis and back again, one step being done on JDK version X, and another on JDK version Y, where X and Y are on different sides of 'the time when OpenJDK messed up and picked the simplified version of the post-tzdata refactor' line (which is, more or less, a point update of OpenJDK17).</li>\n<li>That time is before 1970.</li>\n</ul>\n<p>Then you should assume that an off-by-one error is going to occur in that date. This hits a few time zones particularly hard (for example, Europe/Amsterdam. For example if you store dates in the h2 database system using JDBC's <code>.setDate</code> and <code>.getDate</code>, or even <code>.setObject(x, LocalDate)</code>, and that date is prior to 1945, <strong>it will be off by one when you upgrade your JDK</strong>.</p>\n<p>This is a bug, I think the OpenJDK is the primary actor that messed this up, I reported it, they do not understand. I rate the odds they ever fix it as low.</p>\n<p>NB: The reason 1970 is magic, is that the tzdata refactored: They realized that exact knowledge about timezone status prior to 1970 is incredibly hard to verify, so recently they changed policy: Any defs that affect 1970 or after are aggressively verified, fact-checked, and distributed, and an extremely high bar is required if you want to tell the tzdata maintainer that it has an error in it that affects 1970 or later. However, in contrast, a few newspaper articles are enough for pre-1970 updates and the tzdata makes far fewer guarantees about accuracy because being accurate is difficult as a general principle due to lots of details being lost to the mists of time. As part of this policy update, there are 'simple' and 'complex' versions of tzdata now: The simple version more aggressively errors for pre-1970. For example, it says that The Netherlands was like Belgium pre-1970 which is known-wrong for the second world war years. Nevertheless, tzdata will not fix it because of policy ('we do not guarantee correctness for pre-1970 if you take the simple set'), and don't want to hear that this was the wrong choice (NL is larger than Belgium, so NL should be 'leading'. Or just include both, you don't guarantee correctness but you don't guarantee wrongness either). However, the worst offender here is team OpenJDK that messed up by picking the simple set.</p>\n<h2>How to avoid this problem from hurting you</h2>\n<p>joda-time is obsolete and has been for a decade. <strong>Do not use it</strong> - java itself has a variant of joda-time now (it was added to the JDK by the author of JodaTime!), in the <code>java.time</code> package. In your scenario the root cause is that you are operating with different tzdata defs and all sorts of heck is going to break loose when you do that. At least by using java.time, all is in agreement.</p>\n<p>But that's not enough - I do that and the <code>Europe/Amsterdam</code> thing caused a lot of pain.</p>\n<p>You also want to avoid millis to human to millis conversion as much as you can. In order to do that properly, __do not ever use <code>java.util.Date</code>, and as a corrollary, do not use <code>java.sql.Date</code> or <code>java.sql.Timestamp</code> either. These things are just broken. Use <code>.getObject(colIdx, OffsetDateTime.class)</code> for example. It's wordy, but JDBC5 spec <strong>requires</strong> that databases support it.</p>\n<p>Then, use a database that doesn't implement it badly. H2, unfortunately, messed this up. Understandable, perhaps - this stuff is hard to find.</p>\n<h2>OMG I didn't do that and now all my data is corrupt.</h2>\n<p>You can load the proper version of a tzdata def straight into the JDK, using the <code>tzupdater.jar</code> tool. If this has caused heck on your systems, find out which tzdata version was present when you did step 1 of all your conversions, load that into your JDK using tzupdater, and now the reverse of step 1 no longer causes off-by-1 errors.</p>\n"}],"owner":{"account_id":2905954,"reputation":31,"user_id":5702331,"display_name":"Elbin Pallimalil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1691701588,"creation_date":1691674137,"question_id":76876189,"body_markdown":"If I create an SQL Date object from millis, the date is off by 1 day for dates before 1870-01-01\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.DateTimeZone;\r\nimport org.joda.time.format.DateTimeFormatter;\r\nimport org.joda.time.format.ISODateTimeFormat;\r\n\r\nimport java.sql.Date;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n\r\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\r\n    public static void main( String[] args )\r\n    {\r\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\r\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1854-01-01&quot;));\r\n        Date date = new Date(millis);\r\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\r\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\r\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAbove code gives the output\r\n\r\n```\r\nmillis -3660616408000,date 1853-12-31,jodadate 1854-01-01T00:00:00.000+05:53:28\r\n```\r\n\r\n\r\nIn this code I&#39;m getting the milliseconds from epoch of a string using Joda libraries. Then creating an SQL Date object from it. But this SQL date is one day off from the initial string I parsed.\r\n\r\nStrange thing is I don&#39;t see the SQL date being off I started with any date on or after 1870-01-01. Is there something I&#39;m missing here?\r\n\r\n---EDIT---\r\n\r\nBelow is an example where I *don&#39;t* see the date being one day off.\r\n```\r\npackage org.example;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.DateTimeZone;\r\nimport org.joda.time.format.DateTimeFormatter;\r\nimport org.joda.time.format.ISODateTimeFormat;\r\n\r\nimport java.sql.Date;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n\r\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\r\n    public static void main( String[] args )\r\n    {\r\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\r\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1870-01-01&quot;));\r\n        Date date = new Date(millis);\r\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\r\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\r\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\r\n    }\r\n}\r\n```\r\nAbove code gives output\r\n```\r\nmillis -3155692870000,date 1870-01-01,jodadate 1870-01-01T00:00:00.000+05:21:10\r\n```","title":"java.sql.Date from millis off by 1 day for dates before 1870","body":"<p>If I create an SQL Date object from millis, the date is off by 1 day for dates before 1870-01-01</p>\n<pre><code>package org.example;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.format.DateTimeFormatter;\nimport org.joda.time.format.ISODateTimeFormat;\n\nimport java.sql.Date;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\n    public static void main( String[] args )\n    {\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1854-01-01&quot;));\n        Date date = new Date(millis);\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\n    }\n}\n\n</code></pre>\n<p>Above code gives the output</p>\n<pre><code>millis -3660616408000,date 1853-12-31,jodadate 1854-01-01T00:00:00.000+05:53:28\n</code></pre>\n<p>In this code I'm getting the milliseconds from epoch of a string using Joda libraries. Then creating an SQL Date object from it. But this SQL date is one day off from the initial string I parsed.</p>\n<p>Strange thing is I don't see the SQL date being off I started with any date on or after 1870-01-01. Is there something I'm missing here?</p>\n<p>---EDIT---</p>\n<p>Below is an example where I <em>don't</em> see the date being one day off.</p>\n<pre><code>package org.example;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.format.DateTimeFormatter;\nimport org.joda.time.format.ISODateTimeFormat;\n\nimport java.sql.Date;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n\n    static final DateTimeFormatter DATE_FORMATTER = ISODateTimeFormat.date();\n    public static void main( String[] args )\n    {\n        DateTimeZone localTimeZone = DateTimeZone.forID(&quot;Asia/Kolkata&quot;);\n        long millis = DATE_FORMATTER.withZone(localTimeZone).parseMillis(String.valueOf(&quot;1870-01-01&quot;));\n        Date date = new Date(millis);\n        DateTime jodaDate = new DateTime(millis,localTimeZone);\n        //Date date = new Date(DATE_FORMATTER.withZone(localTimeZone).parseMillis()\n        System.out.println(&quot;millis &quot; + millis + &quot;,date &quot; + date + &quot;,jodadate &quot; + jodaDate);\n    }\n}\n</code></pre>\n<p>Above code gives output</p>\n<pre><code>millis -3155692870000,date 1870-01-01,jodadate 1870-01-01T00:00:00.000+05:21:10\n</code></pre>\n"},{"tags":["java","spring-boot","yt-dlp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691681212,"post_id":76877129,"comment_id":135527187,"body_markdown":"*i want to get the video or audio as link to download* So why not use your start link in a gui hyperink which downloads the file on click?","body":"<i>i want to get the video or audio as link to download</i> So why not use your start link in a gui hyperink which downloads the file on click?"},{"owner":{"account_id":29200375,"reputation":1,"user_id":22370633,"display_name":"Majed"},"score":0,"creation_date":1691681639,"post_id":76877129,"comment_id":135527281,"body_markdown":"what do you mean ?","body":"what do you mean ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691682368,"post_id":76877129,"comment_id":135527461,"body_markdown":"I&#39;m not even sure what *you* mean ;) So i&#39;ll check - do you mean you want the user to be able to click on a link and *then* download the video?","body":"I&#39;m not even sure what <i>you</i> mean ;) So i&#39;ll check - do you mean you want the user to be able to click on a link and <i>then</i> download the video?"},{"owner":{"account_id":29200375,"reputation":1,"user_id":22370633,"display_name":"Majed"},"score":0,"creation_date":1691684255,"post_id":76877129,"comment_id":135527940,"body_markdown":"yeah like i want to make after this multiple comboboxs to let the user choose like the media format and the resolution it would be great if you help me with this too.","body":"yeah like i want to make after this multiple comboboxs to let the user choose like the media format and the resolution it would be great if you help me with this too."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691685297,"post_id":76877129,"comment_id":135528137,"body_markdown":"I can&#39;t get into the intricacies of JavaFX guis (I don&#39;t even do it) but there&#39;s not much to this other than responding to user input. You&#39;ll make life easier for yourself if you use `ProcessBuilder` too","body":"I can&#39;t get into the intricacies of JavaFX guis (I don&#39;t even do it) but there&#39;s not much to this other than responding to user input. You&#39;ll make life easier for yourself if you use <code>ProcessBuilder</code> too"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757470,"post_id":76877129,"comment_id":135538575,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":9934708,"reputation":997,"user_id":7353417,"display_name":"pierpy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691701586,"creation_date":1691701586,"answer_id":76879314,"question_id":76877129,"body_markdown":"The right command line to get the download link is:  \r\n` yt-dlp --get-url [...]`  \r\n\r\nSo, in your case, maybe   \r\n`stdin.println(dlp + &quot;--get-url &quot; + url + &quot; -f best/bestvideo+bestaudio &quot; );`  does the job.  \r\nPlease note, I&#39;m not familiar with Java, and I don&#39;t know if this is the best way to pass parameters to an external executable","title":"How can i get the download link using yt-dlp","body":"<p>The right command line to get the download link is:<br />\n<code> yt-dlp --get-url [...]</code></p>\n<p>So, in your case, maybe<br />\n<code>stdin.println(dlp + &quot;--get-url &quot; + url + &quot; -f best/bestvideo+bestaudio &quot; );</code>  does the job.<br />\nPlease note, I'm not familiar with Java, and I don't know if this is the best way to pass parameters to an external executable</p>\n"}],"owner":{"account_id":29200375,"reputation":1,"user_id":22370633,"display_name":"Majed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691701586,"creation_date":1691680664,"question_id":76877129,"body_markdown":"this java code  will download the youtube video direct to the selectedDirectory. i am trying to figure out if it is possible to get instead a download link print it out. if i paste this link to a browser it will ask me where to save it then it will start download the selected format video or audio.\r\n\r\n```\r\npackage com.chillyfacts.com;\r\n\r\nimport java.io.PrintWriter;\r\nimport javafx.application.Application;\r\nimport javafx.stage.DirectoryChooser;\r\nimport javafx.stage.Stage;\r\n\r\npublic class my_main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        String dlp = &quot;D:\\youtube_db_java\\yt-dlP &quot;;\r\n\r\n        DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\r\n\r\n        java.io.File selectedDirectory = directoryChooser.showDialog(primaryStage);\r\n\r\n\r\n        if (selectedDirectory != null) {\r\n            String chosenPath = selectedDirectory.getAbsolutePath();\r\n            String url = &quot;https://www.youtube.com/watch?v=BaW_jenozKc&quot;;\r\n            String[] command = {\r\n                &quot;cmd&quot;,\r\n            };\r\n            Process p;\r\n            try {\r\n                p = Runtime.getRuntime().exec(command);\r\n                new Thread(new SyncPipe(p.getErrorStream(), System.err)).start();\r\n                new Thread(new SyncPipe(p.getInputStream(), System.out)).start();\r\n                PrintWriter stdin = new PrintWriter(p.getOutputStream());\r\n                stdin.println(&quot;cd &quot;&quot; + chosenPath + &quot;&quot;&quot;);\r\n                stdin.println(dlp + url + &quot; -f best/bestvideo+bestaudio &quot; );\r\n                stdin.close();\r\n                p.waitFor();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No directory selected.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ni want to get the video or audio as link to download\r\n\r\n","title":"How can i get the download link using yt-dlp","body":"<p>this java code  will download the youtube video direct to the selectedDirectory. i am trying to figure out if it is possible to get instead a download link print it out. if i paste this link to a browser it will ask me where to save it then it will start download the selected format video or audio.</p>\n<pre><code>package com.chillyfacts.com;\n\nimport java.io.PrintWriter;\nimport javafx.application.Application;\nimport javafx.stage.DirectoryChooser;\nimport javafx.stage.Stage;\n\npublic class my_main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        String dlp = &quot;D:\\youtube_db_java\\yt-dlP &quot;;\n\n        DirectoryChooser directoryChooser = new DirectoryChooser();\n\n\n        java.io.File selectedDirectory = directoryChooser.showDialog(primaryStage);\n\n\n        if (selectedDirectory != null) {\n            String chosenPath = selectedDirectory.getAbsolutePath();\n            String url = &quot;https://www.youtube.com/watch?v=BaW_jenozKc&quot;;\n            String[] command = {\n                &quot;cmd&quot;,\n            };\n            Process p;\n            try {\n                p = Runtime.getRuntime().exec(command);\n                new Thread(new SyncPipe(p.getErrorStream(), System.err)).start();\n                new Thread(new SyncPipe(p.getInputStream(), System.out)).start();\n                PrintWriter stdin = new PrintWriter(p.getOutputStream());\n                stdin.println(&quot;cd &quot;&quot; + chosenPath + &quot;&quot;&quot;);\n                stdin.println(dlp + url + &quot; -f best/bestvideo+bestaudio &quot; );\n                stdin.close();\n                p.waitFor();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        } else {\n            System.out.println(&quot;No directory selected.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>i want to get the video or audio as link to download</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"score":1,"creation_date":1523309243,"post_id":48900892,"comment_id":86498496,"body_markdown":"See https://stackoverflow.com/a/48670785/2702730 for a very detailed response","body":"See <a href=\"https://stackoverflow.com/a/48670785/2702730\">stackoverflow.com/a/48670785/2702730</a> for a very detailed response"},{"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"score":0,"creation_date":1674386711,"post_id":48900892,"comment_id":132699690,"body_markdown":"As mentioned in the link @senseiwu posted. Old properties starting with `endpoints.xyz` are deprecated in favor of properties starting with `management.xyz`. So yes using any recent version of SpringBoot you should rely on `management.endpoints` properties and remove root `endpoints` configurations.","body":"As mentioned in the link @senseiwu posted. Old properties starting with <code>endpoints.xyz</code> are deprecated in favor of properties starting with <code>management.xyz</code>. So yes using any recent version of SpringBoot you should rely on <code>management.endpoints</code> properties and remove root <code>endpoints</code> configurations."}],"answers":[{"comments":[{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1519214157,"post_id":48901161,"comment_id":84816117,"body_markdown":"I tested the solution for RC1 and it works perfectly. Upvoting. Many thanks.","body":"I tested the solution for RC1 and it works perfectly. Upvoting. Many thanks."},{"owner":{"account_id":143382,"reputation":2912,"user_id":351688,"accept_rate":91,"display_name":"A.W."},"score":25,"creation_date":1530177993,"post_id":48901161,"comment_id":89147127,"body_markdown":"In `application.yml` I had to enter it as `include: &quot;*&quot;`","body":"In <code>application.yml</code> I had to enter it as <code>include: &quot;*&quot;</code>"},{"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"score":0,"creation_date":1663216830,"post_id":48901161,"comment_id":130188065,"body_markdown":"For me single quotes worked like  include: &#39;*&#39;","body":"For me single quotes worked like  include: &#39;*&#39;"}],"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":3,"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1691700490,"creation_date":1519201651,"answer_id":48901161,"question_id":48900892,"body_markdown":"With Spring Boot 2.0.0.RC**1**, actuator endpoints must be 1) enabled and 2) exposed.\r\n\r\nBy default, all endpoints but `shutdown` are enabled and only `health` and `info` are exposed.\r\n\r\nIn your case, the following should work:\r\n\r\n    management.endpoints.web.expose=*\r\n    # if you&#39;d like to expose shutdown:\r\n    # management.endpoint.shutdown.enabled=true\r\n\r\nNote that this changes (again!) as of Spring Boot 2.0.0.RC**2**:\r\n\r\n    management.endpoints.web.exposure.include=*\r\n    # if you&#39;d like to expose shutdown:\r\n    # management.endpoint.shutdown.enabled=true\r\n\r\nIn doubt, [the dedicated migration guide][1] is always up-to-date with the latest changes.\r\n\r\n**Edit**\r\n\r\nFor easy copy and paste, here&#39;s the `yaml&#180; versions - as of Spring Boot 2.0.0.RC**2**:\r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;\r\n\r\nSpring Boot 2.0.0.RC**1**: \r\n\r\n    management:\r\n      endpoints:\r\n        web:\r\n          expose: &quot;*&quot;\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#endpoints","title":"How to enable all endpoints in actuator (Spring Boot 2.0.0 RC1)","body":"<p>With Spring Boot 2.0.0.RC<strong>1</strong>, actuator endpoints must be 1) enabled and 2) exposed.</p>\n<p>By default, all endpoints but <code>shutdown</code> are enabled and only <code>health</code> and <code>info</code> are exposed.</p>\n<p>In your case, the following should work:</p>\n<pre><code>management.endpoints.web.expose=*\n# if you'd like to expose shutdown:\n# management.endpoint.shutdown.enabled=true\n</code></pre>\n<p>Note that this changes (again!) as of Spring Boot 2.0.0.RC<strong>2</strong>:</p>\n<pre><code>management.endpoints.web.exposure.include=*\n# if you'd like to expose shutdown:\n# management.endpoint.shutdown.enabled=true\n</code></pre>\n<p>In doubt, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#endpoints\" rel=\"noreferrer\">the dedicated migration guide</a> is always up-to-date with the latest changes.</p>\n<p><strong>Edit</strong></p>\n<p>For easy copy and paste, here's the `yaml´ versions - as of Spring Boot 2.0.0.RC<strong>2</strong>:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n<p>Spring Boot 2.0.0.RC<strong>1</strong>:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      expose: &quot;*&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519227238,"creation_date":1519227238,"answer_id":48909732,"question_id":48900892,"body_markdown":"I will add that for Spring Boot 2 the actuator security has been changed (for 1.X the security for actuator has separate configuration what often cause problems when it mixes with user configuration). For Spring Boot 2.X the actuator won&#39;t have separate security config. According to Spring documentation:\r\n\r\n&gt; For security purposes, all actuators other than /health and /info are disabled by default. The management.endpoints.web.expose flag can be used to enable the actuators. If Spring Security is on the classpath and no other WebSecurityConfigurerAdapter is present, the actuators are secured by Spring Boot auto-config. If you define a custom WebSecurityConfigurerAdapter, Spring Boot auto-config will back off and you will be in full control of actuator access rules.)","title":"How to enable all endpoints in actuator (Spring Boot 2.0.0 RC1)","body":"<p>I will add that for Spring Boot 2 the actuator security has been changed (for 1.X the security for actuator has separate configuration what often cause problems when it mixes with user configuration). For Spring Boot 2.X the actuator won't have separate security config. According to Spring documentation:</p>\n\n<blockquote>\n  <p>For security purposes, all actuators other than /health and /info are disabled by default. The management.endpoints.web.expose flag can be used to enable the actuators. If Spring Security is on the classpath and no other WebSecurityConfigurerAdapter is present, the actuators are secured by Spring Boot auto-config. If you define a custom WebSecurityConfigurerAdapter, Spring Boot auto-config will back off and you will be in full control of actuator access rules.)</p>\n</blockquote>\n"}],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80239,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":48901161,"answer_count":2,"score":63,"last_activity_date":1691700490,"creation_date":1519200627,"question_id":48900892,"body_markdown":"I moved to Spring Boot 2.0.0 RC1 from 1.5.10 and I am stuck with actuator in the latest version. How can I enable expose and enable all actuator endpoints?\r\n\r\nThe only endpoints that get exposed are: \r\n\r\n    {\r\n      &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n          &quot;href&quot;: &quot;http://127.0.0.1:8080/actuator&quot;,\r\n          &quot;templated&quot;: false\r\n        },\r\n        &quot;health&quot;: {\r\n          &quot;href&quot;: &quot;http://127.0.0.1:8080/actuator/health&quot;,\r\n          &quot;templated&quot;: false\r\n        },\r\n        &quot;info&quot;: {\r\n          &quot;href&quot;: &quot;http://127.0.0.1:8080/actuator/info&quot;,\r\n          &quot;templated&quot;: false\r\n        }\r\n      }\r\n    }\r\n\r\nThis is my `application.properties` files. Any ideas?\r\n\r\n    #The three first ones seem to be obsolete\r\n    endpoints.configprops.enabled=true\r\n    endpoints.beans.enabled=true\r\n    endpoints.shutdown.enabled=true\r\n    \r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.sensitive=false\r\n    management.endpoints.enabled=true\r\n    \r\n    management.endpoint.configprops.enabled=true\r\n    management.endpoint.beans.enabled=true\r\n    management.endpoint.shutdown.enabled=true\r\n    \r\n    management.endpoints.web.exposure.include=*","title":"How to enable all endpoints in actuator (Spring Boot 2.0.0 RC1)","body":"<p>I moved to Spring Boot 2.0.0 RC1 from 1.5.10 and I am stuck with actuator in the latest version. How can I enable expose and enable all actuator endpoints?</p>\n\n<p>The only endpoints that get exposed are: </p>\n\n<pre><code>{\n  \"_links\": {\n    \"self\": {\n      \"href\": \"http://127.0.0.1:8080/actuator\",\n      \"templated\": false\n    },\n    \"health\": {\n      \"href\": \"http://127.0.0.1:8080/actuator/health\",\n      \"templated\": false\n    },\n    \"info\": {\n      \"href\": \"http://127.0.0.1:8080/actuator/info\",\n      \"templated\": false\n    }\n  }\n}\n</code></pre>\n\n<p>This is my <code>application.properties</code> files. Any ideas?</p>\n\n<pre><code>#The three first ones seem to be obsolete\nendpoints.configprops.enabled=true\nendpoints.beans.enabled=true\nendpoints.shutdown.enabled=true\n\nmanagement.endpoints.enabled-by-default=true\nmanagement.endpoints.sensitive=false\nmanagement.endpoints.enabled=true\n\nmanagement.endpoint.configprops.enabled=true\nmanagement.endpoint.beans.enabled=true\nmanagement.endpoint.shutdown.enabled=true\n\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-jpa","mongock"],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691700263,"creation_date":1691700263,"answer_id":76879201,"question_id":76868171,"body_markdown":"There are a couple of aspects to discuss.\r\n\r\n - **Is it good idea to modify existing migration files?** Mongock, as any other migration tool of the kind, it&#39;s designed to take a database from state S(0) to state S(n) by applying a sequence of what we call changeUnits(migration changes) that will make the database go through all the states S(0),S(1),..,S(n-1),S(n). This is specially useful when deploying the application from scratch in new environments. Taking this into account, this renaming process should be another state S(n+1) more. So the answer is NO, we suggest not to amend the existing changeUnits(for this reason)\r\n \r\n - **I will definitely need to modify it because Foo__ classes no longer exist in code** This is the reason why we suggest not to use\r\n   repositories and domain classes in changeUnits and the MongoTemplate(or driver classes) directly instead. At this point, you have three options:\r\n \r\n     - *Changing the migration files in the project*: Not recommended because these files(changeUnits) should remain unchanged as much as possible.\r\n\r\n     - *Keeping the deprecated classes in the project*: Not recommended because force you to keep deprecated code in your project\r\n\r\n     - **Moving these deprecated classes to a separated library and bring it to your project via maven/gradle**. This is not 100% ideal neither, but   the one we recommend because, among the three options, it provides the best balance(the changeUnits remain unchanged and your project can evolve without maintaining deprecated classes)\r\n\r\n\r\nIn conclusion, we suggest.\r\n\r\n 1. No change the existing changeUnits\r\n 2. Perform the renaming in a changeUnit as part of the migration steps\r\n 3. Move the deprecated classes to an independent library and bring it as a maven/gradle dependency","title":"What to do when name of class and collection used in Mongock migration file has changed?","body":"<p>There are a couple of aspects to discuss.</p>\n<ul>\n<li><p><strong>Is it good idea to modify existing migration files?</strong> Mongock, as any other migration tool of the kind, it's designed to take a database from state S(0) to state S(n) by applying a sequence of what we call changeUnits(migration changes) that will make the database go through all the states S(0),S(1),..,S(n-1),S(n). This is specially useful when deploying the application from scratch in new environments. Taking this into account, this renaming process should be another state S(n+1) more. So the answer is NO, we suggest not to amend the existing changeUnits(for this reason)</p>\n</li>\n<li><p><strong>I will definitely need to modify it because Foo__ classes no longer exist in code</strong> This is the reason why we suggest not to use\nrepositories and domain classes in changeUnits and the MongoTemplate(or driver classes) directly instead. At this point, you have three options:</p>\n<ul>\n<li><p><em>Changing the migration files in the project</em>: Not recommended because these files(changeUnits) should remain unchanged as much as possible.</p>\n</li>\n<li><p><em>Keeping the deprecated classes in the project</em>: Not recommended because force you to keep deprecated code in your project</p>\n</li>\n<li><p><strong>Moving these deprecated classes to a separated library and bring it to your project via maven/gradle</strong>. This is not 100% ideal neither, but   the one we recommend because, among the three options, it provides the best balance(the changeUnits remain unchanged and your project can evolve without maintaining deprecated classes)</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>In conclusion, we suggest.</p>\n<ol>\n<li>No change the existing changeUnits</li>\n<li>Perform the renaming in a changeUnit as part of the migration steps</li>\n<li>Move the deprecated classes to an independent library and bring it as a maven/gradle dependency</li>\n</ol>\n"}],"owner":{"account_id":14222519,"reputation":87,"user_id":10274322,"display_name":"Whistleroosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76879201,"answer_count":1,"score":0,"last_activity_date":1691700263,"creation_date":1691587026,"question_id":76868171,"body_markdown":"I have an app in Spring Boot and use Mogock with MongoDB. Recently, I made a big refactoring and changed many class names and collection names. What I used to have before refactoring is an entity FooDb:\r\n\r\n\r\n    @Document(&quot;foo&quot;)\r\n    public class FooDb {\r\n      @Id\r\n      private String id;\r\n      ...\r\n    }\r\n\r\nand some interface:\r\n\r\n    @Repository\r\n    public interface FooRepository extends MongoRepository&lt;FooDb, String&gt; { ... }\r\n\r\nand migration file:\r\n\r\n\r\n\r\n    @ChangeUnit(order=&quot;001, ...)\r\n    public class CreateFooChangelog {\r\n      ...\r\n      @Execution\r\n      public void migration(FooRepository repository) {\r\n         repository.save(...);\r\n      }\r\n    }\r\n\r\nDuring refactoring I only changed names of collections and classes. Their structure is the same:\r\n\r\n    @Document(&quot;bar&quot;)\r\n    public class BarDb {\r\n      @Id\r\n      private String id;\r\n      ...\r\n    }\r\n    \r\n    @Repository\r\n    public interface BarRepository extends MongoRepository&lt;BarDb, String&gt; { ... }\r\n\r\nHowever, now I am not sure what to do with existing migration file. Is it good idea to modify existing migration files? I will definitely need to modify it because Foo* classes no longer exist in code.\r\n\r\nI can think of solution like this: if there exists a foo collection it needs to be renamed to bar and if not, I need to initialize bar with some default data. Then I could try to modify this migration file like this:\r\n\r\n    @ChangeUnit(order=&quot;001&quot;, ...)\r\n    public class CreateBarChangelog {\r\n      ...\r\n      @Execution\r\n      public void migration(BarRepository repository) {\r\n         // if foo exists, rename it to bar\r\n         // else: repository.save(...);\r\n      }\r\n    }\r\n\r\nIs this the right approach in this scenario or is there a better solution?","title":"What to do when name of class and collection used in Mongock migration file has changed?","body":"<p>I have an app in Spring Boot and use Mogock with MongoDB. Recently, I made a big refactoring and changed many class names and collection names. What I used to have before refactoring is an entity FooDb:</p>\n<pre><code>@Document(&quot;foo&quot;)\npublic class FooDb {\n  @Id\n  private String id;\n  ...\n}\n</code></pre>\n<p>and some interface:</p>\n<pre><code>@Repository\npublic interface FooRepository extends MongoRepository&lt;FooDb, String&gt; { ... }\n</code></pre>\n<p>and migration file:</p>\n<pre><code>@ChangeUnit(order=&quot;001, ...)\npublic class CreateFooChangelog {\n  ...\n  @Execution\n  public void migration(FooRepository repository) {\n     repository.save(...);\n  }\n}\n</code></pre>\n<p>During refactoring I only changed names of collections and classes. Their structure is the same:</p>\n<pre><code>@Document(&quot;bar&quot;)\npublic class BarDb {\n  @Id\n  private String id;\n  ...\n}\n\n@Repository\npublic interface BarRepository extends MongoRepository&lt;BarDb, String&gt; { ... }\n</code></pre>\n<p>However, now I am not sure what to do with existing migration file. Is it good idea to modify existing migration files? I will definitely need to modify it because Foo* classes no longer exist in code.</p>\n<p>I can think of solution like this: if there exists a foo collection it needs to be renamed to bar and if not, I need to initialize bar with some default data. Then I could try to modify this migration file like this:</p>\n<pre><code>@ChangeUnit(order=&quot;001&quot;, ...)\npublic class CreateBarChangelog {\n  ...\n  @Execution\n  public void migration(BarRepository repository) {\n     // if foo exists, rename it to bar\n     // else: repository.save(...);\n  }\n}\n</code></pre>\n<p>Is this the right approach in this scenario or is there a better solution?</p>\n"},{"tags":["java","data-structures","linked-list","modulo"],"comments":[{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643710391,"post_id":70938689,"comment_id":125406318,"body_markdown":"10000000000 is greater than 2^31 -1 (max value for an int). Just change datatype of `l` from `int` to `long`","body":"10000000000 is greater than 2^31 -1 (max value for an int). Just change datatype of <code>l</code> from <code>int</code> to <code>long</code>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1643711404,"post_id":70938689,"comment_id":125406702,"body_markdown":"`(int) 10000000000` causes an overflow, leaving you with `1410065408` where its clear that you get `8` as a result when using `% 10`","body":"<code>(int) 10000000000</code> causes an overflow, leaving you with <code>1410065408</code> where its clear that you get <code>8</code> as a result when using <code>% 10</code>"}],"answers":[{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1691741579,"post_id":70939003,"comment_id":135535462,"body_markdown":"I don&#39;t see the wisdom of a `long` variable to hold a value from (-9 to) 0 to 9.","body":"I don&#39;t see the wisdom of a <code>long</code> variable to hold a value from (-9 to) 0 to 9."}],"tags":[],"owner":{"account_id":15031620,"reputation":56,"user_id":10849566,"display_name":"GoodmeetsEvil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643711400,"creation_date":1643711400,"answer_id":70939003,"question_id":70938689,"body_markdown":"    int l = (int)sum%10;\r\n\r\nThe problem is here. You are first casting a ***long*** variable to ***int*** and then calculate the remainder. You might want to check out [Storage sizes for primitive datatypes][1]. There it says the following:\r\n\r\n&gt; Also known as an integer, int type holds a wide range of non-fractional number values.\r\n&gt; \r\n&gt; Specifically, Java stores it using 32 bits of memory. In other words,\r\n&gt; it can represent values from -2,147,483,648 (-231) to 2,147,483,647\r\n&gt; (231-1).\r\n\r\nIn other words, because you are converting a number larger than supported to ***int*** you are getting a loss of data. To fix there problem either cast after finding the remainder:\r\n\r\n    int l = (int)(sum % 10)\r\n\r\nOr, better yet, just make your variable ***long***.\r\n\r\n    long l = sum % 10\r\n\r\n  [1]: https://www.baeldung.com/java-primitives#:~:text=Also%20known%20as%20an%20integer,(231%2D1).","title":"10000000000%10 returning 8 in Java","body":"<pre><code>int l = (int)sum%10;\n</code></pre>\n<p>The problem is here. You are first casting a <em><strong>long</strong></em> variable to <em><strong>int</strong></em> and then calculate the remainder. You might want to check out <a href=\"https://www.baeldung.com/java-primitives#:%7E:text=Also%20known%20as%20an%20integer,(231%2D1).\" rel=\"nofollow noreferrer\">Storage sizes for primitive datatypes</a>. There it says the following:</p>\n<blockquote>\n<p>Also known as an integer, int type holds a wide range of non-fractional number values.</p>\n<p>Specifically, Java stores it using 32 bits of memory. In other words,\nit can represent values from -2,147,483,648 (-231) to 2,147,483,647\n(231-1).</p>\n</blockquote>\n<p>In other words, because you are converting a number larger than supported to <em><strong>int</strong></em> you are getting a loss of data. To fix there problem either cast after finding the remainder:</p>\n<pre><code>int l = (int)(sum % 10)\n</code></pre>\n<p>Or, better yet, just make your variable <em><strong>long</strong></em>.</p>\n<pre><code>long l = sum % 10\n</code></pre>\n"}],"owner":{"display_name":"user14661106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70939003,"answer_count":1,"score":-2,"last_activity_date":1691699922,"creation_date":1643710015,"question_id":70938689,"body_markdown":"**Q ) To reverse two linked lists, add them and return a reversed linked list of the sum**`\r\nhttps://leetcode.com/problems/add-two-numbers/\r\n```java\r\nclass Solution \r\n{\r\n    public long reverse(long num)\r\n    {\r\n        long ans = 0;\r\n        while(num &gt; 0)\r\n        {\r\n            ans = ans*10 + (num%10);\r\n            num /= 10;\r\n        }\r\n        return ans;\r\n    }\r\n    \r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) \r\n    {\r\n        \r\n        long num1 = 0;\r\n        long num2 = 0;\r\n        while(l1 != null)\r\n        {\r\n            num1 = num1*10 + l1.val;\r\n            l1 = l1.next;\r\n        }\r\n        while(l2 != null)\r\n        {\r\n            num2 = num2*10 + l2.val;\r\n            l2 = l2.next;\r\n        }\r\n        num1 = reverse(num1);\r\n        num2 = reverse(num2);     \r\n        System.out.println(&quot;num1 = &quot; + num1);\r\n        System.out.println(&quot;num2 = &quot; + num2);\r\n        long sum = num1+num2;\r\n        System.out.println(&quot;sum = &quot; + sum);\r\n        int l = (int)sum%10;\r\n        sum /= 10;\r\n        System.out.println(&quot;l = &quot; + l);\r\n        System.out.println(&quot;sum = &quot; + sum);\r\n        ListNode head = new ListNode(l);\r\n        ListNode l3 = head;\r\n        while(sum &gt; 0)\r\n        {\r\n            l = (int)sum%10;\r\n            System.out.println(&quot;l = &quot; + l);\r\n            System.out.println(&quot;sum = &quot; + sum);\r\n            sum/=10;\r\n            ListNode temp = new ListNode(l);\r\n            l3.next = temp;\r\n            l3 = l3.next;\r\n        }\r\n        return head;\r\n    }\r\n}\r\n```\r\n\r\n**For the input:** \r\n\r\n[9]\r\n[1,9,9,9,9,9,9,9,9,9]\r\n\r\n\r\n**Output:**\r\n\r\nnum1 = 9\r\nnum2 = 9999999991\r\n\r\nsum = 10000000000\r\nl = 8 **(why is 10000000000%10=8 here?)**\r\n\r\nsum = 1000000000\r\nl = 0\r\n\r\nsum = 1000000000\r\nl = 0\r\n\r\nsum = 100000000\r\nl = 0\r\n\r\nsum = 10000000\r\nl = 0\r\n\r\nsum = 1000000\r\nl = 0\r\n\r\nsum = 100000\r\nl = 0\r\n\r\nsum = 10000\r\nl = 0\r\n\r\nsum = 1000\r\nl = 0\r\n\r\nsum = 100\r\n l = 0\r\n\r\nsum = 10\r\nl = 1\r\n\r\nsum = 1\r\n\r\nPlease help","title":"10000000000%10 returning 8 in Java","body":"<p><strong>Q ) To reverse two linked lists, add them and return a reversed linked list of the sum</strong>`\n<a href=\"https://leetcode.com/problems/add-two-numbers/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/add-two-numbers/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution \n{\n    public long reverse(long num)\n    {\n        long ans = 0;\n        while(num &gt; 0)\n        {\n            ans = ans*10 + (num%10);\n            num /= 10;\n        }\n        return ans;\n    }\n    \n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) \n    {\n        \n        long num1 = 0;\n        long num2 = 0;\n        while(l1 != null)\n        {\n            num1 = num1*10 + l1.val;\n            l1 = l1.next;\n        }\n        while(l2 != null)\n        {\n            num2 = num2*10 + l2.val;\n            l2 = l2.next;\n        }\n        num1 = reverse(num1);\n        num2 = reverse(num2);     \n        System.out.println(&quot;num1 = &quot; + num1);\n        System.out.println(&quot;num2 = &quot; + num2);\n        long sum = num1+num2;\n        System.out.println(&quot;sum = &quot; + sum);\n        int l = (int)sum%10;\n        sum /= 10;\n        System.out.println(&quot;l = &quot; + l);\n        System.out.println(&quot;sum = &quot; + sum);\n        ListNode head = new ListNode(l);\n        ListNode l3 = head;\n        while(sum &gt; 0)\n        {\n            l = (int)sum%10;\n            System.out.println(&quot;l = &quot; + l);\n            System.out.println(&quot;sum = &quot; + sum);\n            sum/=10;\n            ListNode temp = new ListNode(l);\n            l3.next = temp;\n            l3 = l3.next;\n        }\n        return head;\n    }\n}\n</code></pre>\n<p><strong>For the input:</strong></p>\n<p>[9]\n[1,9,9,9,9,9,9,9,9,9]</p>\n<p><strong>Output:</strong></p>\n<p>num1 = 9\nnum2 = 9999999991</p>\n<p>sum = 10000000000\nl = 8 <strong>(why is 10000000000%10=8 here?)</strong></p>\n<p>sum = 1000000000\nl = 0</p>\n<p>sum = 1000000000\nl = 0</p>\n<p>sum = 100000000\nl = 0</p>\n<p>sum = 10000000\nl = 0</p>\n<p>sum = 1000000\nl = 0</p>\n<p>sum = 100000\nl = 0</p>\n<p>sum = 10000\nl = 0</p>\n<p>sum = 1000\nl = 0</p>\n<p>sum = 100\nl = 0</p>\n<p>sum = 10\nl = 1</p>\n<p>sum = 1</p>\n<p>Please help</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9879,"page":255,"page_size":100}
