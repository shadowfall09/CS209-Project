{"items":[{"tags":["java","android","google-cloud-platform","google-api","speech-to-text"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689458883,"creation_date":1689028222,"answer_id":76657713,"question_id":76630026,"body_markdown":"Please, consider review [this related SO question](https://stackoverflow.com/a/65106296/13942448), it is defined for `TextToSpeechSettings` but I think that the solution provided could be of application here as well.\r\n\r\nAs suggested, basically you need to create a valid `GoogleCredentials` object from the content of your service account json file:\r\n\r\n```java\r\n// R.raw.credential points to the downloaded credential.json file\r\nInputStream stream = getResources().openRawResource(R.raw.credential); \r\nGoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n```\r\n\r\nAnd then, use the obtained credentials to initialize your `SpeechClient`.\r\n\r\nFor instance, adapting the code from my original answer:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.google.api.gax.core.CredentialsProvider;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.speech.v1.RecognitionAudio;\r\nimport com.google.cloud.speech.v1.RecognitionConfig;\r\nimport com.google.cloud.speech.v1.RecognizeRequest;\r\nimport com.google.cloud.speech.v1.RecognizeResponse;\r\nimport com.google.cloud.speech.v1.SpeechClient;\r\nimport com.google.cloud.speech.v1.SpeechRecognitionResult;\r\nimport com.google.cloud.speech.v1.SpeechSettings;\r\nimport com.google.protobuf.ByteString;\r\n\r\npublic class RecognitionActivity extends Activity {\r\n\r\n  // Your activity definition\r\n\r\n  private void performRecognition(ByteString fileByteString) throws IOException {\r\n    // R.raw.credential points to the downloaded credential.json file\r\n    // I tested my code locally in a laptop using\r\n    // GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;/path/to/credentials.json&quot;));\r\n    InputStream stream = getResources().openRawResource(R.raw.credential);\r\n    GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n    // You can use ServiceAccountCredentials as well instead of the line above:\r\n    // ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(stream);\r\n    CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(credentials);\r\n    SpeechSettings speechSettings = SpeechSettings.newBuilder()\r\n        .setCredentialsProvider(credentialsProvider)\r\n        .build();\r\n\r\n    SpeechClient speechClient = SpeechClient.create(speechSettings);\r\n\r\n    // The rest of your code\r\n\r\n    RecognizeRequest req = RecognizeRequest.newBuilder()\r\n        .setConfig(RecognitionConfig.newBuilder()\r\n            .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n            .setLanguageCode(&quot;en-US&quot;)\r\n            .setSampleRateHertz(16000)\r\n            .build())\r\n        .setAudio(RecognitionAudio.newBuilder()\r\n            .setContent(fileByteString))\r\n        .build();\r\n\r\n    RecognizeResponse response = speechClient.recognize(req);\r\n\r\n    Log.d(TAG, &quot;we have a count of &quot; + response.getResultsCount() + &quot; hits on the  audio file&quot;)\r\n\r\n    List&lt;SpeechRecognitionResult&gt; results = response.getResultsList();\r\n    \r\n    // Handle results\r\n  }\r\n}\r\n```\r\n\r\nIn kotlin (please, forgive me for any inaccuracy) it would look like this:\r\n\r\n```kotlin\r\nprivate fun performRecognition(fileByteString: ByteString) {\r\n    // R.raw.credential points to the downloaded credential.json file\r\n    val stream: InputStream = getResources().openRawResource(R.raw.credential)\r\n    val credentials = GoogleCredentials.fromStream(stream);\r\n    // val credentials = ServiceAccountCredentials.fromStream(stream)\r\n    val credentialsProvider = FixedCredentialsProvider.create(credentials)\r\n    val speechSettings = SpeechSettings.newBuilder()\r\n            .setCredentialsProvider(credentialsProvider)\r\n            .build()\r\n\r\n    val speechClient = SpeechClient.create(speechSettings)\r\n\r\n    // The rest of your code\r\n    val req = RecognizeRequest.newBuilder()\r\n            .setConfig(RecognitionConfig.newBuilder()\r\n                    .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n                    .setLanguageCode(&quot;en-US&quot;)\r\n                    .setSampleRateHertz(16000)\r\n                    .build())\r\n            .setAudio(RecognitionAudio.newBuilder()\r\n                    .setContent(fileByteString))\r\n            .build()\r\n\r\n    val response = speechClient.recognize(req)\r\n\r\n    Log.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\r\n\r\n    val results = response.resultsList\r\n\r\n    // Handle results\r\n}\r\n```\r\n\r\nPlease, be sure that you followed the [necessary steps](https://cloud.google.com/speech-to-text/docs/before-you-begin) for setting up the Speech API, especially those related to [configuring the service account](https://cloud.google.com/speech-to-text/docs/before-you-begin#create_a_service_account).\r\n\r\nThe service account must be able to interact with the Speech API, assigning a convenient role to it such as `Cloud Speech Client`:\r\n\r\n[![Cloud Speech Client role][1]][1]\r\n  \r\nAs described in the aforementioned documentation you can do it from the GCP Console or using [the command line](https://stackoverflow.com/questions/42564112/adding-roles-to-service-accounts-on-google-cloud-platform-using-rest-api).\r\n\r\n  [1]: https://i.stack.imgur.com/qXXrs.png","title":"Google Cloud Speech to text API call fails due to invalid authentication credentials on Android","body":"<p>Please, consider review <a href=\"https://stackoverflow.com/a/65106296/13942448\">this related SO question</a>, it is defined for <code>TextToSpeechSettings</code> but I think that the solution provided could be of application here as well.</p>\n<p>As suggested, basically you need to create a valid <code>GoogleCredentials</code> object from the content of your service account json file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// R.raw.credential points to the downloaded credential.json file\nInputStream stream = getResources().openRawResource(R.raw.credential); \nGoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n</code></pre>\n<p>And then, use the obtained credentials to initialize your <code>SpeechClient</code>.</p>\n<p>For instance, adapting the code from my original answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.google.api.gax.core.CredentialsProvider;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.speech.v1.RecognitionAudio;\nimport com.google.cloud.speech.v1.RecognitionConfig;\nimport com.google.cloud.speech.v1.RecognizeRequest;\nimport com.google.cloud.speech.v1.RecognizeResponse;\nimport com.google.cloud.speech.v1.SpeechClient;\nimport com.google.cloud.speech.v1.SpeechRecognitionResult;\nimport com.google.cloud.speech.v1.SpeechSettings;\nimport com.google.protobuf.ByteString;\n\npublic class RecognitionActivity extends Activity {\n\n  // Your activity definition\n\n  private void performRecognition(ByteString fileByteString) throws IOException {\n    // R.raw.credential points to the downloaded credential.json file\n    // I tested my code locally in a laptop using\n    // GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;/path/to/credentials.json&quot;));\n    InputStream stream = getResources().openRawResource(R.raw.credential);\n    GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n    // You can use ServiceAccountCredentials as well instead of the line above:\n    // ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(stream);\n    CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(credentials);\n    SpeechSettings speechSettings = SpeechSettings.newBuilder()\n        .setCredentialsProvider(credentialsProvider)\n        .build();\n\n    SpeechClient speechClient = SpeechClient.create(speechSettings);\n\n    // The rest of your code\n\n    RecognizeRequest req = RecognizeRequest.newBuilder()\n        .setConfig(RecognitionConfig.newBuilder()\n            .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n            .setLanguageCode(&quot;en-US&quot;)\n            .setSampleRateHertz(16000)\n            .build())\n        .setAudio(RecognitionAudio.newBuilder()\n            .setContent(fileByteString))\n        .build();\n\n    RecognizeResponse response = speechClient.recognize(req);\n\n    Log.d(TAG, &quot;we have a count of &quot; + response.getResultsCount() + &quot; hits on the  audio file&quot;)\n\n    List&lt;SpeechRecognitionResult&gt; results = response.getResultsList();\n    \n    // Handle results\n  }\n}\n</code></pre>\n<p>In kotlin (please, forgive me for any inaccuracy) it would look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun performRecognition(fileByteString: ByteString) {\n    // R.raw.credential points to the downloaded credential.json file\n    val stream: InputStream = getResources().openRawResource(R.raw.credential)\n    val credentials = GoogleCredentials.fromStream(stream);\n    // val credentials = ServiceAccountCredentials.fromStream(stream)\n    val credentialsProvider = FixedCredentialsProvider.create(credentials)\n    val speechSettings = SpeechSettings.newBuilder()\n            .setCredentialsProvider(credentialsProvider)\n            .build()\n\n    val speechClient = SpeechClient.create(speechSettings)\n\n    // The rest of your code\n    val req = RecognizeRequest.newBuilder()\n            .setConfig(RecognitionConfig.newBuilder()\n                    .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n                    .setLanguageCode(&quot;en-US&quot;)\n                    .setSampleRateHertz(16000)\n                    .build())\n            .setAudio(RecognitionAudio.newBuilder()\n                    .setContent(fileByteString))\n            .build()\n\n    val response = speechClient.recognize(req)\n\n    Log.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\n\n    val results = response.resultsList\n\n    // Handle results\n}\n</code></pre>\n<p>Please, be sure that you followed the <a href=\"https://cloud.google.com/speech-to-text/docs/before-you-begin\" rel=\"nofollow noreferrer\">necessary steps</a> for setting up the Speech API, especially those related to <a href=\"https://cloud.google.com/speech-to-text/docs/before-you-begin#create_a_service_account\" rel=\"nofollow noreferrer\">configuring the service account</a>.</p>\n<p>The service account must be able to interact with the Speech API, assigning a convenient role to it such as <code>Cloud Speech Client</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/qXXrs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qXXrs.png\" alt=\"Cloud Speech Client role\" /></a></p>\n<p>As described in the aforementioned documentation you can do it from the GCP Console or using <a href=\"https://stackoverflow.com/questions/42564112/adding-roles-to-service-accounts-on-google-cloud-platform-using-rest-api\">the command line</a>.</p>\n"}],"owner":{"account_id":3083149,"reputation":2082,"user_id":2610933,"accept_rate":91,"display_name":"android enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689590739,"creation_date":1688654661,"question_id":76630026,"body_markdown":"I&#39;m trying to use the [google cloud speech to text API](https://cloud.google.com/speech-to-text) in my android client. I have enabled the API in the Google Cloud and in the console I have generate a new key like this: &quot;Create credentials&quot; -\\&gt; &quot;Service account&quot; (added details) -\\&gt; &quot;Create and Continue&quot;. This has generated a JSON file that contains this params:\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;service_account&quot;,\r\n  &quot;project_id&quot;: &quot;&quot;,\r\n  &quot;private_key_id&quot;: &quot;&quot;,\r\n  &quot;private_key&quot;: &quot;&quot;,\r\n  &quot;client_email&quot;: &quot;&quot;,\r\n  &quot;client_id&quot;: &quot;&quot;,\r\n  &quot;auth_uri&quot;: &quot;&quot;,\r\n  &quot;token_uri&quot;: &quot;&quot;,\r\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\r\n  &quot;client_x509_cert_url&quot;: &quot;&quot;,\r\n  &quot;universe_domain&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\nI have added this JSON file in the `raw`  dir in my android project (this is just a POC so not to worried about security at this point)\r\n\r\nNext is the android code:\r\n\r\n```\r\nval req = RecognizeRequest.newBuilder()\r\n               .setConfig(RecognitionConfig.newBuilder()\r\n                        .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n                        .setLanguageCode(&quot;en-US&quot;)\r\n                        .setSampleRateHertz(16000)\r\n                        .build())\r\n                    .setAudio(RecognitionAudio.newBuilder()\r\n                        .setContent(fileByteString))\r\n                        .build()\r\n\r\n\r\n            val speechClient = SpeechClient.create(SpeechSettings.newBuilder()              .setCredentialsProvider{GoogleCredentials.fromStream(this.resources.openRawResource(R.raw.credentials)) }\r\n\r\n\r\n            val response = speechClient.recognize(req)\r\n\r\nLog.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\r\n\r\n            val results = response.resultsList\r\n```\r\n\r\nWhen the `speechClient.recognize(req)`  fun is called, the API sends back this error message:\r\n\r\n```\r\ncom.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\r\n        at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:116)\r\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:98)\r\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\r\n        at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n        at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\r\n        at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1127)\r\n        at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\r\n        at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1286)\r\n        at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1055)\r\n        at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:807)\r\n        at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:574)\r\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\r\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n        at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)\r\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\r\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\r\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n     Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n        at com.google.cloud.speech.v1.SpeechClient.recognize(SpeechClient.java:252)\r\n```\r\n\r\nDoes anyone know how to  auth correctly when calling this API please?\r\n\r\nI have also tried to generate  OAuth &amp; Service Key type of credentials in the Google Cloud Console but I was getting a different error saying something like &quot;Credentials don&#39;t contain field \\`type\\`&quot;","title":"Google Cloud Speech to text API call fails due to invalid authentication credentials on Android","body":"<p>I'm trying to use the <a href=\"https://cloud.google.com/speech-to-text\" rel=\"nofollow noreferrer\">google cloud speech to text API</a> in my android client. I have enabled the API in the Google Cloud and in the console I have generate a new key like this: &quot;Create credentials&quot; -&gt; &quot;Service account&quot; (added details) -&gt; &quot;Create and Continue&quot;. This has generated a JSON file that contains this params:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;&quot;,\n  &quot;private_key_id&quot;: &quot;&quot;,\n  &quot;private_key&quot;: &quot;&quot;,\n  &quot;client_email&quot;: &quot;&quot;,\n  &quot;client_id&quot;: &quot;&quot;,\n  &quot;auth_uri&quot;: &quot;&quot;,\n  &quot;token_uri&quot;: &quot;&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;&quot;,\n  &quot;universe_domain&quot;: &quot;&quot;\n}\n</code></pre>\n<p>I have added this JSON file in the <code>raw</code>  dir in my android project (this is just a POC so not to worried about security at this point)</p>\n<p>Next is the android code:</p>\n<pre><code>val req = RecognizeRequest.newBuilder()\n               .setConfig(RecognitionConfig.newBuilder()\n                        .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n                        .setLanguageCode(&quot;en-US&quot;)\n                        .setSampleRateHertz(16000)\n                        .build())\n                    .setAudio(RecognitionAudio.newBuilder()\n                        .setContent(fileByteString))\n                        .build()\n\n\n            val speechClient = SpeechClient.create(SpeechSettings.newBuilder()              .setCredentialsProvider{GoogleCredentials.fromStream(this.resources.openRawResource(R.raw.credentials)) }\n\n\n            val response = speechClient.recognize(req)\n\nLog.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\n\n            val results = response.resultsList\n</code></pre>\n<p>When the <code>speechClient.recognize(req)</code>  fun is called, the API sends back this error message:</p>\n<pre><code>com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\n        at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:116)\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:98)\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\n        at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n        at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\n        at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1127)\n        at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\n        at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1286)\n        at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1055)\n        at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:807)\n        at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:574)\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n        at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\n        at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)\n        at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)\n        at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at com.google.cloud.speech.v1.SpeechClient.recognize(SpeechClient.java:252)\n</code></pre>\n<p>Does anyone know how to  auth correctly when calling this API please?</p>\n<p>I have also tried to generate  OAuth &amp; Service Key type of credentials in the Google Cloud Console but I was getting a different error saying something like &quot;Credentials don't contain field `type`&quot;</p>\n"},{"tags":["java","spring","spring-security","saml-2.0","spring-saml"],"comments":[{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1408369064,"post_id":25363676,"comment_id":39550094,"body_markdown":"Look like that&#39;s because of `unable to find valid certification path to requested target` - do you have all needed certficates in your truststore? More info here http://stackoverflow.com/questions/24698914/ssl-configuration-issue-with-spring-saml","body":"Look like that&#39;s because of <code>unable to find valid certification path to requested target</code> - do you have all needed certficates in your truststore? More info here <a href=\"http://stackoverflow.com/questions/24698914/ssl-configuration-issue-with-spring-saml\" title=\"ssl configuration issue with spring saml\">stackoverflow.com/questions/24698914/&hellip;</a>"},{"owner":{"account_id":2628065,"reputation":13427,"user_id":2274686,"accept_rate":66,"display_name":"vdenotaris"},"score":0,"creation_date":1408369739,"post_id":25363676,"comment_id":39550516,"body_markdown":"I added the certificate into the JDK (jre/lib/security/cacerts) and also into samlKeystore.jks.","body":"I added the certificate into the JDK (jre/lib/security/cacerts) and also into samlKeystore.jks."},{"owner":{"account_id":2670674,"reputation":2743,"user_id":2308157,"display_name":"Erich"},"score":1,"creation_date":1472063940,"post_id":25363676,"comment_id":65606907,"body_markdown":"`emd.setMetadataTrustCheck(false);` worked for me thanks! ... My trust was invalid and out of my control","body":"<code>emd.setMetadataTrustCheck(false);</code> worked for me thanks! ... My trust was invalid and out of my control"}],"answers":[{"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1689590497,"creation_date":1408455580,"answer_id":25384924,"question_id":25363676,"body_markdown":"You have most likely imported the HTTPS certificate, but not the certificate which is used to create the signature - they differ. You should:\r\n\r\n1. Create file `signature.cer` with the following content taken from the metadata:\r\n   ```\r\n   -----BEGIN CERTIFICATE-----\r\n   MIIC7jCCAdagAwIBAgIQa+pSaOoDP6ZL3qAi564CxzANBgkqhkiG9w0BAQs\r\n   FADAzMTEwLwYDVQQDEyhBREZTIFNpZ25pbmcgLSBzdHN0ZXN0LXJlcGx5bm\r\n   V0LnJlcGx5Lml0MB4XDTE0MDQyMTAwMzUyNVoXDTE1MDQyMTAwMzUyNVowM\r\n   zExMC8GA1UEAxMoQURGUyBTaWduaW5nIC0gc3RzdGVzdC1yZXBseW5ldC5y\r\n   ZXBseS5pdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJyI7Se\r\n   +UGGHOGRcwHF8LrmivtcPJyNKyicPJ8UJ8pIsEmgYBnJIrpS05RkYtdUdk+\r\n   aumDlc3ACt23FxGDLy9hkJJlRbZwklzh4W3RqGC3W5Y+t7KeIuB8d7ZrrLb\r\n   2AoJpVHICRagsLjjHMwz9sJUt+PZdUFFc0pZckHba3TY2Y+MgPYVsyjlEkf\r\n   QrwL0ggh23g9Pe1VQ9HaInXZvwVMGWZ1oL4Uk0cW11URa8x53ZOWMQSsksi\r\n   MUlquItssiuJjRnI9Df+GaDxbQJi51esY2EF1o2JxqGJSA71Apy9EahDho8\r\n   eFkfOS0fYbVNBU5X/Wn7BKsf2Rmg3r6mQM94+gAA8CAwEAATANBgkqhkiG9\r\n   w0BAQsFAAOCAQEAIX5FEt5JWtINzy4C0LtTtta3DMOsLIBH3raRr53+6MKG\r\n   sPP75VAt7fYUutopuk5Y2o++sVPuEuTzcogz5Dj8eglDESkPwR0PrlClVcG\r\n   FLFEx9qOOidYIEa90g462niIOgkNkIpb1JRrmZEFo+yrYYdFSR2iXzC3O1f\r\n   7JAhNwi+d4a8cOTrqynqL6p1z+hiWEub39FlWDPacELw9HSDIYY151hiiPz\r\n   vIRQDBOjDg3Ws8fRwYNjJH4ElwjP2z+1r+sktD/kkh8jj3iWhT37JnQG72D\r\n   7c63ovYICwEZUqS4L3vepO0pv6xewkUbfX4KBQbUPaVVgmVUcSecj85mvMx\r\n   42g==\r\n   -----END CERTIFICATE-----\r\n   ```\r\n2. Import the certificate to your `samlKeystore.jks` with:\r\n   ```\r\n   keytool -importcert -alias adfssigning -keystore samlKeystore.jks -file signature.cer\r\n   ```\r\n\r\n\r\nThis should be all you need, just restart Tomcat and your metadata loading should now pass.\r\n\r\nYou don&#39;t need to include the HTTPS certificate in your JDK&#39;s cacerts in case you include the following bean which configures the HTTP client (available in Spring SAML 1.0.0.RELEASE):\r\n\r\n```xml\r\n&lt;bean class=&quot;org.springframework.security.saml.trust.httpclient.TLSProtocolConfigurer&quot;/&gt;\r\n```","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>You have most likely imported the HTTPS certificate, but not the certificate which is used to create the signature - they differ. You should:</p>\n<ol>\n<li>Create file <code>signature.cer</code> with the following content taken from the metadata:\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIC7jCCAdagAwIBAgIQa+pSaOoDP6ZL3qAi564CxzANBgkqhkiG9w0BAQs\nFADAzMTEwLwYDVQQDEyhBREZTIFNpZ25pbmcgLSBzdHN0ZXN0LXJlcGx5bm\nV0LnJlcGx5Lml0MB4XDTE0MDQyMTAwMzUyNVoXDTE1MDQyMTAwMzUyNVowM\nzExMC8GA1UEAxMoQURGUyBTaWduaW5nIC0gc3RzdGVzdC1yZXBseW5ldC5y\nZXBseS5pdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJyI7Se\n+UGGHOGRcwHF8LrmivtcPJyNKyicPJ8UJ8pIsEmgYBnJIrpS05RkYtdUdk+\naumDlc3ACt23FxGDLy9hkJJlRbZwklzh4W3RqGC3W5Y+t7KeIuB8d7ZrrLb\n2AoJpVHICRagsLjjHMwz9sJUt+PZdUFFc0pZckHba3TY2Y+MgPYVsyjlEkf\nQrwL0ggh23g9Pe1VQ9HaInXZvwVMGWZ1oL4Uk0cW11URa8x53ZOWMQSsksi\nMUlquItssiuJjRnI9Df+GaDxbQJi51esY2EF1o2JxqGJSA71Apy9EahDho8\neFkfOS0fYbVNBU5X/Wn7BKsf2Rmg3r6mQM94+gAA8CAwEAATANBgkqhkiG9\nw0BAQsFAAOCAQEAIX5FEt5JWtINzy4C0LtTtta3DMOsLIBH3raRr53+6MKG\nsPP75VAt7fYUutopuk5Y2o++sVPuEuTzcogz5Dj8eglDESkPwR0PrlClVcG\nFLFEx9qOOidYIEa90g462niIOgkNkIpb1JRrmZEFo+yrYYdFSR2iXzC3O1f\n7JAhNwi+d4a8cOTrqynqL6p1z+hiWEub39FlWDPacELw9HSDIYY151hiiPz\nvIRQDBOjDg3Ws8fRwYNjJH4ElwjP2z+1r+sktD/kkh8jj3iWhT37JnQG72D\n7c63ovYICwEZUqS4L3vepO0pv6xewkUbfX4KBQbUPaVVgmVUcSecj85mvMx\n42g==\n-----END CERTIFICATE-----\n</code></pre>\n</li>\n<li>Import the certificate to your <code>samlKeystore.jks</code> with:\n<pre><code>keytool -importcert -alias adfssigning -keystore samlKeystore.jks -file signature.cer\n</code></pre>\n</li>\n</ol>\n<p>This should be all you need, just restart Tomcat and your metadata loading should now pass.</p>\n<p>You don't need to include the HTTPS certificate in your JDK's cacerts in case you include the following bean which configures the HTTP client (available in Spring SAML 1.0.0.RELEASE):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;org.springframework.security.saml.trust.httpclient.TLSProtocolConfigurer&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557591512,"creation_date":1557591512,"answer_id":56092149,"question_id":25363676,"body_markdown":"I&#39;m posting this just in case if it may be helpful even after everything you did like accepted answer for this question and still get the same error.\r\n\r\nI too had this problem, I have added IDP&#39;s metadata file and imported their certificate into my app keystore. But still had Signature trust verification problem. I did format the metadata.xml from IDP in Intellij, that did some screw up. Once I imported their metadata file as it without formatting, everything went ok.\r\n","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>I'm posting this just in case if it may be helpful even after everything you did like accepted answer for this question and still get the same error.</p>\n\n<p>I too had this problem, I have added IDP's metadata file and imported their certificate into my app keystore. But still had Signature trust verification problem. I did format the metadata.xml from IDP in Intellij, that did some screw up. Once I imported their metadata file as it without formatting, everything went ok.</p>\n"},{"tags":[],"owner":{"account_id":12756977,"reputation":101,"user_id":13748702,"display_name":"Minakshi Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616587265,"creation_date":1616587265,"answer_id":66780596,"question_id":25363676,"body_markdown":"I was facing the same issue.Steps that I have follwoed to resolve the same \r\n\r\n 1. extract &lt;X509Data&gt; &lt;X509Certificate&gt; &lt;/X509Certificate&gt; &lt;/X509Data&gt; from IDP metdata fille\r\n 2. copy the certificate in text file and save as.crt. e.g idp.crt\r\n 3. import the crt file in key Store\r\n    **keytool -import -alias adfscert -file idp.crt -keystore samlKeystoreold.jks -storepass keystorepassword**\r\n 4. it will ask for is you trust this crt.. say yes\r\n 5. for some cases it will ask to use in pkcs12 format add in warning message do the same \r\n 6. try running your application it should work :)\r\n\r\n\r\n","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>I was facing the same issue.Steps that I have follwoed to resolve the same</p>\n<ol>\n<li>extract     from IDP metdata fille</li>\n<li>copy the certificate in text file and save as.crt. e.g idp.crt</li>\n<li>import the crt file in key Store\n<strong>keytool -import -alias adfscert -file idp.crt -keystore samlKeystoreold.jks -storepass keystorepassword</strong></li>\n<li>it will ask for is you trust this crt.. say yes</li>\n<li>for some cases it will ask to use in pkcs12 format add in warning message do the same</li>\n<li>try running your application it should work :)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27228935,"reputation":1,"user_id":20756972,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670850930,"creation_date":1670850930,"answer_id":74771671,"question_id":25363676,"body_markdown":"In my case I had to add the alias of the import certificate in **metadataTrustedKeys** prop of ExtendedMetadataDelegate emd\r\n\r\nif you import using the example of Vladim&#237;r Sch&#228;fer above\r\n\r\n   \r\n\r\n&gt;  keytool -importcert -alias adfssigning -keystore samlKeystore.jks\r\n&gt; -file signature.cer\r\n\r\nyou have to write\r\n\r\n    emd.setMetadataTrustedKeys(Collections.singleton(&quot;adfssigning&quot;));\r\n\r\n","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>In my case I had to add the alias of the import certificate in <strong>metadataTrustedKeys</strong> prop of ExtendedMetadataDelegate emd</p>\n<p>if you import using the example of Vladimír Schäfer above</p>\n<blockquote>\n<p>keytool -importcert -alias adfssigning -keystore samlKeystore.jks\n-file signature.cer</p>\n</blockquote>\n<p>you have to write</p>\n<pre><code>emd.setMetadataTrustedKeys(Collections.singleton(&quot;adfssigning&quot;));\n</code></pre>\n"}],"owner":{"account_id":2628065,"reputation":13427,"user_id":2274686,"accept_rate":66,"display_name":"vdenotaris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21134,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":25384924,"answer_count":4,"score":18,"last_activity_date":1689590497,"creation_date":1408366055,"question_id":25363676,"body_markdown":"In order to fetch metadata from a remote source, I defined an `ExtendedMetadataDelegate` bean as follows:\r\n\r\n\t@Bean\r\n\t@Qualifier(&quot;replyMeta&quot;)\r\n\tpublic ExtendedMetadataDelegate replyMetadataProvider() throws MetadataProviderException {\r\n\t\tString metadataURL = &quot;https://ststest.mydomain.it/FederationMetadata/2007-06/FederationMetadata.xml&quot;;\r\n\t\tfinal Timer backgroundTaskTimer = new Timer(true);\r\n\t\tHTTPMetadataProvider provider = new HTTPMetadataProvider(\r\n\t\t\t\tbackgroundTaskTimer, httpClient(), metadataURL);\r\n\t\tprovider.setParserPool(parserPool());\r\n\t\tExtendedMetadataDelegate emd = new ExtendedMetadataDelegate(\r\n\t\t\t\tprovider, new ExtendedMetadata());\r\n\t\treturn emd;\r\n\t}\r\n\r\nTo ensure the signature trust establishment, I added the related key both in JDK keystore and application keystore (the second step might not be enough); despite that, an error occurs by running the webapp.\r\n\r\n\t[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Attempting to validate signature using key from supplied credential\r\n\t[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Creating XMLSignature object\r\n\t[2014-08-18 14:36:47.206] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validating signature with signature algorithm URI: http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\r\n\t[2014-08-18 14:36:47.207] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validation credential key algorithm &#39;RSA&#39;, key instance class &#39;sun.security.rsa.RSAPublicKeyImpl&#39;\r\n\t[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Signature validated with key from supplied credential\r\n\t[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Signature validation using candidate credential was successful\r\n\t[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Successfully verified signature using KeyInfo-derived credential\r\n\t[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Attempting to establish trust of KeyInfo-derived credential\r\n\t[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BasicX509CredentialNameEvaluator: Supplied trusted names are null or empty, skipping name evaluation\r\n\t[2014-08-18 14:36:47.331] boot - 6000 DEBUG [localhost-startStop-1] --- MetadataCredentialResolver: Attempting PKIX path validation on untrusted credential: [subjectName=&#39;CN=ADFS Signing - ststest-replynet.reply.it&#39;]\r\n\t[2014-08-18 14:36:47.346] boot - 6000 ERROR [localhost-startStop-1] --- MetadataCredentialResolver: PKIX path construction failed for untrusted credential: [subjectName=&#39;CN=ADFS Signing - ststest-replynet.reply.it&#39;]: unable to find valid certification path to requested target\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: Signature trust could not be established via PKIX validation of signing credential\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to establish trust of KeyInfo-derived credential\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to verify signature and/or establish trust using any KeyInfo-derived credentials\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: PKIX validation of signature failed, unable to resolve valid and trusted signing key\r\n\t[2014-08-18 14:36:47.347] boot - 6000 ERROR [localhost-startStop-1] --- SignatureValidationFilter: Signature trust establishment failed for metadata entry http://ststest-replynet.reply.it/adfs/services/trust\r\n\t[2014-08-18 14:36:47.349] boot - 6000 ERROR [localhost-startStop-1] --- AbstractReloadingMetadataProvider: Error filtering metadata from https://ststest-replynet.reply.it/FederationMetadata/2007-06/FederationMetadata.xml\r\n\torg.opensaml.saml2.metadata.provider.FilterException: Signature trust establishment failed for metadata entry\r\n\r\nThe error disappears by setting:\r\n\r\n    emd.setMetadataTrustCheck(false); \r\n\r\n... but I&#39;d like to check used metadata.\r\n\r\nIs there a way to resolve this error?\r\n\r\n\r\n---------\r\n\r\nUpdate:\r\n-------\r\n\r\nI tried to setup the `ExtendedMetadata` as follows but the error persists.\r\n\r\n\tem.setAlias(&quot;defaultAlias&quot;);\r\n\tem.setSigningKey(&quot;*.mydomain.it (Go Daddy Secure Certification Authority)&quot;);","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>In order to fetch metadata from a remote source, I defined an <code>ExtendedMetadataDelegate</code> bean as follows:</p>\n\n<pre><code>@Bean\n@Qualifier(\"replyMeta\")\npublic ExtendedMetadataDelegate replyMetadataProvider() throws MetadataProviderException {\n    String metadataURL = \"https://ststest.mydomain.it/FederationMetadata/2007-06/FederationMetadata.xml\";\n    final Timer backgroundTaskTimer = new Timer(true);\n    HTTPMetadataProvider provider = new HTTPMetadataProvider(\n            backgroundTaskTimer, httpClient(), metadataURL);\n    provider.setParserPool(parserPool());\n    ExtendedMetadataDelegate emd = new ExtendedMetadataDelegate(\n            provider, new ExtendedMetadata());\n    return emd;\n}\n</code></pre>\n\n<p>To ensure the signature trust establishment, I added the related key both in JDK keystore and application keystore (the second step might not be enough); despite that, an error occurs by running the webapp.</p>\n\n<pre><code>[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Attempting to validate signature using key from supplied credential\n[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Creating XMLSignature object\n[2014-08-18 14:36:47.206] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validating signature with signature algorithm URI: http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\n[2014-08-18 14:36:47.207] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validation credential key algorithm 'RSA', key instance class 'sun.security.rsa.RSAPublicKeyImpl'\n[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Signature validated with key from supplied credential\n[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Signature validation using candidate credential was successful\n[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Successfully verified signature using KeyInfo-derived credential\n[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Attempting to establish trust of KeyInfo-derived credential\n[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BasicX509CredentialNameEvaluator: Supplied trusted names are null or empty, skipping name evaluation\n[2014-08-18 14:36:47.331] boot - 6000 DEBUG [localhost-startStop-1] --- MetadataCredentialResolver: Attempting PKIX path validation on untrusted credential: [subjectName='CN=ADFS Signing - ststest-replynet.reply.it']\n[2014-08-18 14:36:47.346] boot - 6000 ERROR [localhost-startStop-1] --- MetadataCredentialResolver: PKIX path construction failed for untrusted credential: [subjectName='CN=ADFS Signing - ststest-replynet.reply.it']: unable to find valid certification path to requested target\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: Signature trust could not be established via PKIX validation of signing credential\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to establish trust of KeyInfo-derived credential\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to verify signature and/or establish trust using any KeyInfo-derived credentials\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: PKIX validation of signature failed, unable to resolve valid and trusted signing key\n[2014-08-18 14:36:47.347] boot - 6000 ERROR [localhost-startStop-1] --- SignatureValidationFilter: Signature trust establishment failed for metadata entry http://ststest-replynet.reply.it/adfs/services/trust\n[2014-08-18 14:36:47.349] boot - 6000 ERROR [localhost-startStop-1] --- AbstractReloadingMetadataProvider: Error filtering metadata from https://ststest-replynet.reply.it/FederationMetadata/2007-06/FederationMetadata.xml\norg.opensaml.saml2.metadata.provider.FilterException: Signature trust establishment failed for metadata entry\n</code></pre>\n\n<p>The error disappears by setting:</p>\n\n<pre><code>emd.setMetadataTrustCheck(false); \n</code></pre>\n\n<p>... but I'd like to check used metadata.</p>\n\n<p>Is there a way to resolve this error?</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p>I tried to setup the <code>ExtendedMetadata</code> as follows but the error persists.</p>\n\n<pre><code>em.setAlias(\"defaultAlias\");\nem.setSigningKey(\"*.mydomain.it (Go Daddy Secure Certification Authority)\");\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1118500,"reputation":2210,"user_id":1107298,"accept_rate":46,"display_name":"Modi"},"score":0,"creation_date":1413518840,"post_id":26387003,"comment_id":41482409,"body_markdown":"Does your configuration class extends the WebSecurityConfigurerAdapter?","body":"Does your configuration class extends the WebSecurityConfigurerAdapter?"},{"owner":{"account_id":1110685,"reputation":861,"user_id":1101199,"accept_rate":43,"display_name":"jyshin"},"score":0,"creation_date":1413567952,"post_id":26387003,"comment_id":41505918,"body_markdown":"Yes. I edited my code snippet. I want to sure my api server does not manage any session..","body":"Yes. I edited my code snippet. I want to sure my api server does not manage any session.."},{"owner":{"account_id":1118500,"reputation":2210,"user_id":1107298,"accept_rate":46,"display_name":"Modi"},"score":0,"creation_date":1413571226,"post_id":26387003,"comment_id":41507541,"body_markdown":"OK, first,let&#39;s verify that the authentication is enforced. Can you try replacing your configuration with this:http.csrf()\n\t\t\t\t.disable()\n\t\t\t\t.authorizeRequests()\n\t\t\t\t.anyRequest().authenticated()","body":"OK, first,let&#39;s verify that the authentication is enforced. Can you try replacing your configuration with this:http.csrf() \t\t\t\t.disable() \t\t\t\t.authorizeRequests() \t\t\t\t.anyRequest().authenticated()"}],"answers":[{"tags":[],"owner":{"account_id":6492377,"reputation":1792,"user_id":5026036,"display_name":"Luke Bajada"},"down_vote_count":2,"up_vote_count":87,"is_accepted":true,"score":85,"last_activity_date":1519213139,"creation_date":1488572538,"answer_id":42587808,"question_id":26387003,"body_markdown":"Have you tried using `SessionCreationPolicy.STATELESS`. There is a subtle difference between `STATELESS` and `NEVER` in the [spring docs][1]:\r\n\r\n`STATELESS`: Spring Security will never create an `HttpSession` and it will never use it to obtain the `SecurityContext`.\r\n\r\n`NEVER`: Spring Security will never create an `HttpSession`, **but will use the HttpSession if it already exists**.\r\n\r\nSo I would suggest that you clear all your cookies, switch it to `STATELESS` and try again. It could be that you had already an `HttpSession` when you switched to `NEVER`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/http/SessionCreationPolicy.html","title":"How to make spring boot never issue session cookie?","body":"<p>Have you tried using <code>SessionCreationPolicy.STATELESS</code>. There is a subtle difference between <code>STATELESS</code> and <code>NEVER</code> in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/http/SessionCreationPolicy.html\" rel=\"noreferrer\">spring docs</a>:</p>\n\n<p><code>STATELESS</code>: Spring Security will never create an <code>HttpSession</code> and it will never use it to obtain the <code>SecurityContext</code>.</p>\n\n<p><code>NEVER</code>: Spring Security will never create an <code>HttpSession</code>, <strong>but will use the HttpSession if it already exists</strong>.</p>\n\n<p>So I would suggest that you clear all your cookies, switch it to <code>STATELESS</code> and try again. It could be that you had already an <code>HttpSession</code> when you switched to <code>NEVER</code>.</p>\n"},{"tags":[],"owner":{"account_id":18305351,"reputation":61,"user_id":13329284,"display_name":"Pankaj Sharma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587106087,"creation_date":1587106087,"answer_id":61265614,"question_id":26387003,"body_markdown":"its work for me \r\n&quot;So I would suggest that you clear all your cookies, switch it to STATELESS and try again. It could be that you had already an HttpSession when you switched to NEVER.&quot;\r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\t\t\t\t.csrf().disable()\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated().and().httpBasic();\r\n\r\n\t}","title":"How to make spring boot never issue session cookie?","body":"<p>its work for me \n\"So I would suggest that you clear all your cookies, switch it to STATELESS and try again. It could be that you had already an HttpSession when you switched to NEVER.\"</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated().and().httpBasic();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807081,"reputation":365,"user_id":2414115,"display_name":"gsakthivel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607024441,"creation_date":1607024441,"answer_id":65132979,"question_id":26387003,"body_markdown":"I used the following options\r\n\r\n    .csrf().disable()\r\n    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n    .formLogin().disable()\r\n    .httpBasic().disable()\r\n    .logout().disable()\r\n\r\nGetting the error\r\n**localhost redirected you too many time**\r\n\r\nI tried after clearing the cookies.\r\nBut the moment I remove the following option/line\r\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\r\nIt works good. This is for oauth2login(). May be oauth2login() requires this session state. What could be the explanation?\r\n\r\nAnd when I do not have this\r\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\r\nThen, it uses the cookie. I use google auth, so, once I logged in, it allows subsequent calls without the need to authenticate.\r\nAll of this behavior sound reasonable and as expected.\r\n\r\nFor security reasons, I was told by an expert, to turn off cookies. I do not know what this means other than turning off the session...\r\n\r\n","title":"How to make spring boot never issue session cookie?","body":"<p>I used the following options</p>\n<pre><code>.csrf().disable()\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n.formLogin().disable()\n.httpBasic().disable()\n.logout().disable()\n</code></pre>\n<p>Getting the error\n<strong>localhost redirected you too many time</strong></p>\n<p>I tried after clearing the cookies.\nBut the moment I remove the following option/line\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\nIt works good. This is for oauth2login(). May be oauth2login() requires this session state. What could be the explanation?</p>\n<p>And when I do not have this\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\nThen, it uses the cookie. I use google auth, so, once I logged in, it allows subsequent calls without the need to authenticate.\nAll of this behavior sound reasonable and as expected.</p>\n<p>For security reasons, I was told by an expert, to turn off cookies. I do not know what this means other than turning off the session...</p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689589690,"creation_date":1689589690,"answer_id":76703570,"question_id":26387003,"body_markdown":"Spring 6 deprecates `http.sessionManagement()` and schedules it for removal in Spring 7.\r\n\r\nThe replacement is straightforward:\r\n\r\n```\r\nhttp.sessionManagement(smc -&gt; smc.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n```\r\n\r\n`smc` is an instance of `SessionManagementConfigurer&lt;HttpSecurity&gt;`","title":"How to make spring boot never issue session cookie?","body":"<p>Spring 6 deprecates <code>http.sessionManagement()</code> and schedules it for removal in Spring 7.</p>\n<p>The replacement is straightforward:</p>\n<pre><code>http.sessionManagement(smc -&gt; smc.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n</code></pre>\n<p><code>smc</code> is an instance of <code>SessionManagementConfigurer&lt;HttpSecurity&gt;</code></p>\n"}],"owner":{"account_id":1110685,"reputation":861,"user_id":1101199,"accept_rate":43,"display_name":"jyshin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41583,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":42587808,"answer_count":4,"score":59,"last_activity_date":1689589690,"creation_date":1413388855,"question_id":26387003,"body_markdown":"I&#39;m developing Restful API server by using spring boot. I configured my project to use basic authentication as below.\r\n\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        ...\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER).and()\r\n                .csrf().disable()\r\n                .authorizeRequests().anyRequest().hasRole(&quot;USER&quot;).and()\r\n                .httpBasic();\r\n        }\r\n        ...\r\n    }\r\n\r\nBut when I tested the API by Chrome-Postman-Plugin, after first call, server never require user credential. And I noticed that &#39;JSESSIONID&#39; cookie was created.\r\n\r\nThere are no other security configurations in my project. I wonder why this happens...","title":"How to make spring boot never issue session cookie?","body":"<p>I'm developing Restful API server by using spring boot. I configured my project to use basic authentication as below.</p>\n\n<pre><code>@ComponentScan\n@EnableAutoConfiguration\n@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    ...\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER).and()\n            .csrf().disable()\n            .authorizeRequests().anyRequest().hasRole(\"USER\").and()\n            .httpBasic();\n    }\n    ...\n}\n</code></pre>\n\n<p>But when I tested the API by Chrome-Postman-Plugin, after first call, server never require user credential. And I noticed that 'JSESSIONID' cookie was created.</p>\n\n<p>There are no other security configurations in my project. I wonder why this happens...</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":2,"creation_date":1689351454,"post_id":76689437,"comment_id":135206129,"body_markdown":"The first answer externalizes the decision from the controller method, which is usually the recommended approach. Other than that, this seems like an opinion based question. Please give details about your specific problem and what you&#39;ve tried (that isn&#39;t working).","body":"The first answer externalizes the decision from the controller method, which is usually the recommended approach. Other than that, this seems like an opinion based question. Please give details about your specific problem and what you&#39;ve tried (that isn&#39;t working)."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1689354813,"post_id":76689437,"comment_id":135206845,"body_markdown":"For me the first answer seems better too, but you should consider regarding truth of incoming &#39;creator&#39; param","body":"For me the first answer seems better too, but you should consider regarding truth of incoming &#39;creator&#39; param"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1689604977,"post_id":76689437,"comment_id":135233392,"body_markdown":"You are asking &quot;is xyz OK?&quot; without trying it first. Please try the answer you have selected and update with the results of the test if you still have a question.","body":"You are asking &quot;is xyz OK?&quot; without trying it first. Please try the answer you have selected and update with the results of the test if you still have a question."},{"owner":{"account_id":28679067,"reputation":23,"user_id":21960620,"display_name":"solanke57"},"score":0,"creation_date":1689607650,"post_id":76689437,"comment_id":135234009,"body_markdown":"@SteveRiesenberg It works just fine. I was just wondering &quot;if fetching Company twice is ok&quot; or &quot;fetching object before method is even called is ok&quot;, but I found out that in JPA this object will be cached, so it will be fetched only one time.","body":"@SteveRiesenberg It works just fine. I was just wondering &quot;if fetching Company twice is ok&quot; or &quot;fetching object before method is even called is ok&quot;, but I found out that in JPA this object will be cached, so it will be fetched only one time."}],"owner":{"account_id":28679067,"reputation":23,"user_id":21960620,"display_name":"solanke57"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689589577,"creation_date":1689350792,"question_id":76689437,"body_markdown":"I was wondering how to check if a logged-in user is the owner of a resource during UPDATE and DELETE operations, and I came across a few methods, but these two seem good to me:\r\n\r\nhttps://stackoverflow.com/a/56872544/21960620\r\n\r\nhttps://stackoverflow.com/a/53030280/21960620\r\n\r\n\r\nCompanyDto class\r\n```\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CompanyDto {\r\n\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String companyName;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String description;\r\n\r\n    private AppUserDto adminProfile;\r\n\r\n}\r\n```\r\n\r\nCompanyController class:\r\n```\r\n    @PutMapping(&quot;/companies/{companyId}&quot;)\r\n    public ResponseEntity&lt;Void&gt; updateCompany(@PathVariable(&quot;companyId&quot;) Long companyId,\r\n                                              @RequestBody @Validated CompanyDto companyDto) {\r\n\r\n        CompanyDto updatedCompany = companyService.updateCompany(companyId, companyDto);\r\n\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n```\r\n\r\nAnd in my case, helper would look more or less like this?:\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class ResourceAccessHelper {\r\n\r\n    private final CompanyService companyService;\r\n\r\n    public boolean checkCompanyOwnership(Long companyId, Authentication authentication) {\r\n\r\n        CompanyDto companyDto = companyService.getCompanyById(companyId);\r\n\r\n        return companyDto.getAdminProfile().getUsername().equals(authentication.getName());\r\n    }\r\n}\r\n\r\n```\r\nBut I&#39;m not sure if method ```companyService.getCompanyById(companyId)``` is OK here because it looks for Company and if it&#39;s not found then throws exception. However, ```companyService.updateCompany(companyId, companyDto)```\r\nalso does that, so I&#39;m not sure if it&#39;s ok.\r\n\r\nWhich of these methods is better? Or is there any other, better way?","title":"What is the best way to validate ownership of resource in Spring Boot?","body":"<p>I was wondering how to check if a logged-in user is the owner of a resource during UPDATE and DELETE operations, and I came across a few methods, but these two seem good to me:</p>\n<p><a href=\"https://stackoverflow.com/a/56872544/21960620\">https://stackoverflow.com/a/56872544/21960620</a></p>\n<p><a href=\"https://stackoverflow.com/a/53030280/21960620\">https://stackoverflow.com/a/53030280/21960620</a></p>\n<p>CompanyDto class</p>\n<pre><code>@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CompanyDto {\n\n    private Long id;\n\n    @NotNull\n    @NotBlank\n    private String companyName;\n\n    @NotNull\n    @NotBlank\n    private String description;\n\n    private AppUserDto adminProfile;\n\n}\n</code></pre>\n<p>CompanyController class:</p>\n<pre><code>    @PutMapping(&quot;/companies/{companyId}&quot;)\n    public ResponseEntity&lt;Void&gt; updateCompany(@PathVariable(&quot;companyId&quot;) Long companyId,\n                                              @RequestBody @Validated CompanyDto companyDto) {\n\n        CompanyDto updatedCompany = companyService.updateCompany(companyId, companyDto);\n\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n</code></pre>\n<p>And in my case, helper would look more or less like this?:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ResourceAccessHelper {\n\n    private final CompanyService companyService;\n\n    public boolean checkCompanyOwnership(Long companyId, Authentication authentication) {\n\n        CompanyDto companyDto = companyService.getCompanyById(companyId);\n\n        return companyDto.getAdminProfile().getUsername().equals(authentication.getName());\n    }\n}\n\n</code></pre>\n<p>But I'm not sure if method <code>companyService.getCompanyById(companyId)</code> is OK here because it looks for Company and if it's not found then throws exception. However, <code>companyService.updateCompany(companyId, companyDto)</code>\nalso does that, so I'm not sure if it's ok.</p>\n<p>Which of these methods is better? Or is there any other, better way?</p>\n"},{"tags":["java","jar","portability","java-20"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1689585991,"post_id":76703022,"comment_id":135229114,"body_markdown":"Doesn&#39;t the JDK include a JRE?","body":"Doesn&#39;t the JDK include a JRE?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1689586293,"post_id":76703022,"comment_id":135229166,"body_markdown":"The proper method would be to use jlink or jpackage to create a suitable custom JRE specifically for your application.","body":"The proper method would be to use jlink or jpackage to create a suitable custom JRE specifically for your application."},{"owner":{"account_id":18194209,"reputation":15,"user_id":13239577,"display_name":"ralle"},"score":0,"creation_date":1689586377,"post_id":76703022,"comment_id":135229188,"body_markdown":"ah ok thanks for the tip, i&#39;ll take a closer look.","body":"ah ok thanks for the tip, i&#39;ll take a closer look."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1689607813,"post_id":76703022,"comment_id":135234046,"body_markdown":"There is no need to get a JDK or JRE from portableapps.com. Their definition of “portable”, i.e. “can be used from an arbitrary filesystem location”, applies to the JDK/JRE by default. Just download a JDK or JRE as zip folder and extract it to wherever you like.","body":"There is no need to get a JDK or JRE from portableapps.com. Their definition of “portable”, i.e. “can be used from an arbitrary filesystem location”, applies to the JDK/JRE by default. Just download a JDK or JRE as zip folder and extract it to wherever you like."}],"answers":[{"tags":[],"owner":{"account_id":28085318,"reputation":1,"user_id":21455785,"display_name":"nikho2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689588589,"creation_date":1689588319,"answer_id":76703379,"question_id":76703022,"body_markdown":"Normaly the JDK already includes the JRE, so you should be fine if you install the latest JDK 20.","title":"How to run a portable Jar-File in Java 20 (OpenJDK 20)","body":"<p>Normaly the JDK already includes the JRE, so you should be fine if you install the latest JDK 20.</p>\n"}],"owner":{"account_id":18194209,"reputation":15,"user_id":13239577,"display_name":"ralle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689588589,"creation_date":1689585453,"question_id":76703022,"body_markdown":"I would like to run a portable jar-file created with OpenJDK 20  (i.e. without installation).  \r\n\r\nSo far I have managed this with the OpenJDKJRE package for Java 14 from portableapps.com. But for the OpenJDK 20 I don&#39;t know where to get the JRE. Does anyone have an idea where to get it?\r\n","title":"How to run a portable Jar-File in Java 20 (OpenJDK 20)","body":"<p>I would like to run a portable jar-file created with OpenJDK 20  (i.e. without installation).</p>\n<p>So far I have managed this with the OpenJDKJRE package for Java 14 from portableapps.com. But for the OpenJDK 20 I don't know where to get the JRE. Does anyone have an idea where to get it?</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":4,"creation_date":1519723973,"post_id":5587482,"comment_id":85015119,"body_markdown":"@mel3kings, the link you provided is no longer active.","body":"@mel3kings, the link you provided is no longer active."},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":0,"creation_date":1540222335,"post_id":5587482,"comment_id":92775054,"body_markdown":"try using mutable collections when removing elements. For example don&#39;t use `something.manyother.remove(other)` if `manyother` is a `List&lt;T&gt;`. Make manyother Mutable, like `ArrayList&lt;T&gt;` and use `orphanDelete = true`","body":"try using mutable collections when removing elements. For example don&#39;t use <code>something.manyother.remove(other)</code> if <code>manyother</code> is a <code>List&lt;T&gt;</code>. Make manyother Mutable, like <code>ArrayList&lt;T&gt;</code> and use <code>orphanDelete = true</code>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1606255279,"post_id":5587482,"comment_id":114908101,"body_markdown":"There is this bug which looks suspiciously similar: https://hibernate.atlassian.net/browse/HHH-9940 And the code to reproduce it: https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test","body":"There is this bug which looks suspiciously similar: <a href=\"https://hibernate.atlassian.net/browse/HHH-9940\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9940</a> And the code to reproduce it: <a href=\"https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test\" rel=\"nofollow noreferrer\">github.com/abenneke/sandbox/tree/master/&hellip;</a>"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":3,"creation_date":1611843695,"post_id":5587482,"comment_id":116585149,"body_markdown":"link &quot;How to &quot;possible&quot; solve the problem&quot; no longer available","body":"link &quot;How to &quot;possible&quot; solve the problem&quot; no longer available"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":2,"creation_date":1635234142,"post_id":5587482,"comment_id":123234800,"body_markdown":"[&#39;How to &quot;possibly&quot; solve the problem&#39; link in the Internet Archive...](https://web.archive.org/web/20171010150609/http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994)","body":"<a href=\"https://web.archive.org/web/20171010150609/http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994\" rel=\"nofollow noreferrer\">&#39;How to &quot;possibly&quot; solve the problem&#39; link in the Internet Archive...</a>"}],"answers":[{"tags":[],"owner":{"account_id":52241,"reputation":10736,"user_id":156061,"accept_rate":88,"display_name":"brainimus"},"down_vote_count":1,"up_vote_count":296,"is_accepted":false,"score":295,"last_activity_date":1302211787,"creation_date":1302211787,"answer_id":5587892,"question_id":5587482,"body_markdown":"Check all of the places where you are assigning something to sonEntities.  The link you referenced distinctly points out creating a new HashSet but you can have this error anytime you reassign the set.  For example:\r\n\r\n    public void setChildren(Set&lt;SonEntity&gt; aSet)\r\n    {\r\n        this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\r\n    }\r\n\r\nUsually you want to only &quot;new&quot; the set once in a constructor.  Any time you want to add or delete something to the list you have to modify the contents of the list instead of assigning a new list.\r\n\r\n**To add children:**\r\n\r\n    public void addChild(SonEntity aSon)\r\n    {\r\n        this.sonEntities.add(aSon);\r\n    }\r\n\r\n**To remove children:**\r\n\r\n    public void removeChild(SonEntity aSon)\r\n    {\r\n        this.sonEntities.remove(aSon);\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Check all of the places where you are assigning something to sonEntities.  The link you referenced distinctly points out creating a new HashSet but you can have this error anytime you reassign the set.  For example:</p>\n\n<pre><code>public void setChildren(Set&lt;SonEntity&gt; aSet)\n{\n    this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\n}\n</code></pre>\n\n<p>Usually you want to only \"new\" the set once in a constructor.  Any time you want to add or delete something to the list you have to modify the contents of the list instead of assigning a new list.</p>\n\n<p><strong>To add children:</strong></p>\n\n<pre><code>public void addChild(SonEntity aSon)\n{\n    this.sonEntities.add(aSon);\n}\n</code></pre>\n\n<p><strong>To remove children:</strong></p>\n\n<pre><code>public void removeChild(SonEntity aSon)\n{\n    this.sonEntities.remove(aSon);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":276593,"reputation":14134,"user_id":570120,"accept_rate":90,"display_name":"axcdnt"},"down_vote_count":2,"up_vote_count":31,"is_accepted":true,"score":29,"last_activity_date":1302539589,"creation_date":1302539589,"answer_id":5624496,"question_id":5587482,"body_markdown":"Actually, my problem was about equals and hashcode of my entities. A legacy code can bring a lot of problems, never forget to check it out. All I&#39;ve done was just keep delete-orphan strategy and correct equals and hashcode.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Actually, my problem was about equals and hashcode of my entities. A legacy code can bring a lot of problems, never forget to check it out. All I've done was just keep delete-orphan strategy and correct equals and hashcode.</p>\n"},{"tags":[],"owner":{"account_id":51446,"reputation":1294,"user_id":153721,"accept_rate":81,"display_name":"Konsumierer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1318099084,"creation_date":1318099084,"answer_id":7698950,"question_id":5587482,"body_markdown":"I had the same error. The problem for me was, that after saving the entity the mapped collection was still null and when trying to update the entity the exception was thrown. What helped for me: Saving the entity, then make a refresh (collection is no longer null) and then perform the update. Maybe initializing the collection with new ArrayList() or something might help as well.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I had the same error. The problem for me was, that after saving the entity the mapped collection was still null and when trying to update the entity the exception was thrown. What helped for me: Saving the entity, then make a refresh (collection is no longer null) and then perform the update. Maybe initializing the collection with new ArrayList() or something might help as well.</p>\n"},{"tags":[],"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1520437444,"creation_date":1326374331,"answer_id":8835704,"question_id":5587482,"body_markdown":"The method:\r\n\r\n    public void setChildren(Set&lt;SonEntity&gt; aSet) {\r\n        this.sonEntities = aSet;\r\n    }\r\n\r\nworks if the `parentEntity` is detached and again if we update it.  \r\nBut if the entity is not detached from per context, (i.e. find and update operations are in the same transaction) the below method works.\r\n\r\n    public void setChildren(Set&lt;SonEntity&gt; aSet) {\r\n        //this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\r\n        this.sonEntities.clear();\r\n        if (aSet != null) {\r\n            this.sonEntities.addAll(aSet);\r\n        }\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>The method:</p>\n\n<pre><code>public void setChildren(Set&lt;SonEntity&gt; aSet) {\n    this.sonEntities = aSet;\n}\n</code></pre>\n\n<p>works if the <code>parentEntity</code> is detached and again if we update it.<br>\nBut if the entity is not detached from per context, (i.e. find and update operations are in the same transaction) the below method works.</p>\n\n<pre><code>public void setChildren(Set&lt;SonEntity&gt; aSet) {\n    //this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\n    this.sonEntities.clear();\n    if (aSet != null) {\n        this.sonEntities.addAll(aSet);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3209105,"reputation":1422,"user_id":2709454,"display_name":"xpusostomos"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1403047888,"creation_date":1403047888,"answer_id":24274906,"question_id":5587482,"body_markdown":"When I read in various places that hibernate didn&#39;t like you to assign to a collection, I assumed that the safest thing to do would obviously be to make it final like this:\r\n\r\n    class User {\r\n      private final Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n      this.roles.retainAll(roles);\r\n      this.roles.addAll(roles);\r\n    }\r\n    }\r\n\r\nHowever, this doesn&#39;t work, and you get the dreaded &quot;no longer referenced&quot; error, which is actually quite misleading in this case.\r\n\r\nIt turns out that hibernate calls your setRoles method AND it wants its special collection class installed here, and won&#39;t accept your collection class. This had me stumped for a LONG time, despite reading all the warnings about not assigning to your collection in your set method.\r\n\r\nSo I changed to this:\r\n\r\n    public class User {\r\n      private Set&lt;Role&gt; roles = null;\r\n    \r\n      public void setRoles(Set&lt;Role&gt; roles) {\r\n      if (this.roles == null) {\r\n        this.roles = roles;\r\n      } else {\r\n        this.roles.retainAll(roles);\r\n       this.roles.addAll(roles);\r\n      }\r\n    }\r\n    }\r\n\r\nSo that on the first call, hibernate installs its special class, and on subsequent calls you can use the method yourself without wrecking everything. If you want to use your class as a bean, you probably need a working setter, and this at least seems to work.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>When I read in various places that hibernate didn't like you to assign to a collection, I assumed that the safest thing to do would obviously be to make it final like this:</p>\n\n<pre><code>class User {\n  private final Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\npublic void setRoles(Set&lt;Role&gt; roles) {\n  this.roles.retainAll(roles);\n  this.roles.addAll(roles);\n}\n}\n</code></pre>\n\n<p>However, this doesn't work, and you get the dreaded \"no longer referenced\" error, which is actually quite misleading in this case.</p>\n\n<p>It turns out that hibernate calls your setRoles method AND it wants its special collection class installed here, and won't accept your collection class. This had me stumped for a LONG time, despite reading all the warnings about not assigning to your collection in your set method.</p>\n\n<p>So I changed to this:</p>\n\n<pre><code>public class User {\n  private Set&lt;Role&gt; roles = null;\n\n  public void setRoles(Set&lt;Role&gt; roles) {\n  if (this.roles == null) {\n    this.roles = roles;\n  } else {\n    this.roles.retainAll(roles);\n   this.roles.addAll(roles);\n  }\n}\n}\n</code></pre>\n\n<p>So that on the first call, hibernate installs its special class, and on subsequent calls you can use the method yourself without wrecking everything. If you want to use your class as a bean, you probably need a working setter, and this at least seems to work.</p>\n"},{"tags":[],"owner":{"account_id":3377694,"reputation":4854,"user_id":2835520,"accept_rate":100,"display_name":"IgniteCoders"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428579315,"creation_date":1428579315,"answer_id":29537435,"question_id":5587482,"body_markdown":"**HAS RELATION TYPE:**\r\n\r\n\r\n----------\r\n\r\n\r\nDon&#39;t try to instantiate the collection when it&#39;s declared in `hasMany`, just add and remove objects. \r\n\r\n    class Parent {\r\n    \tstatic hasMany = [childs:Child]\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n**USE RELATION TYPE:**\r\n\r\n\r\n----------\r\n\r\n\r\nBut the collection could be null only when is declared as a property (use relation) and is not initialized in declaration.\r\n\r\n    class Parent {\r\n    \tList&lt;Child&gt; childs = []\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p><strong>HAS RELATION TYPE:</strong></p>\n\n<hr>\n\n<p>Don't try to instantiate the collection when it's declared in <code>hasMany</code>, just add and remove objects. </p>\n\n<pre><code>class Parent {\n    static hasMany = [childs:Child]\n}\n</code></pre>\n\n<hr>\n\n<p><strong>USE RELATION TYPE:</strong></p>\n\n<hr>\n\n<p>But the collection could be null only when is declared as a property (use relation) and is not initialized in declaration.</p>\n\n<pre><code>class Parent {\n    List&lt;Child&gt; childs = []\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447589265,"creation_date":1447589265,"answer_id":33719492,"question_id":5587482,"body_markdown":"I had this problem when trying to use `TreeSet`. I did initialize `oneToMany` with `TreeSet` which works\r\n\r\n    @OneToMany(mappedBy = &quot;question&quot;, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\r\n\t@OrderBy(&quot;id&quot;)\r\n\tprivate Set&lt;WizardAnswer&gt; answers = new TreeSet&lt;WizardAnswer&gt;();\r\n\r\nBut, this will bring the error described at the `question` above. So it seems that `hibernate` supported `SortedSet` and if one just change the line above to\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;question&quot;, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\r\n\t@OrderBy(&quot;id&quot;)\r\n\tprivate SortedSet&lt;WizardAnswer&gt; answers;\r\n\r\nit works like magic :)\r\nmore info on `hibernate SortedSet` can be [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7304729/1211174","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I had this problem when trying to use <code>TreeSet</code>. I did initialize <code>oneToMany</code> with <code>TreeSet</code> which works</p>\n\n<pre><code>@OneToMany(mappedBy = \"question\", fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\n@OrderBy(\"id\")\nprivate Set&lt;WizardAnswer&gt; answers = new TreeSet&lt;WizardAnswer&gt;();\n</code></pre>\n\n<p>But, this will bring the error described at the <code>question</code> above. So it seems that <code>hibernate</code> supported <code>SortedSet</code> and if one just change the line above to</p>\n\n<pre><code>@OneToMany(mappedBy = \"question\", fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\n@OrderBy(\"id\")\nprivate SortedSet&lt;WizardAnswer&gt; answers;\n</code></pre>\n\n<p>it works like magic :)\nmore info on <code>hibernate SortedSet</code> can be <a href=\"https://stackoverflow.com/a/7304729/1211174\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480354829,"creation_date":1480354829,"answer_id":40850340,"question_id":5587482,"body_markdown":"The only time I get this error is when I try to pass NULL into the setter for the collection.  To prevent this, my setters look like this:\r\n\r\n    public void setSubmittedForms(Set&lt;SubmittedFormEntity&gt; submittedForms) {\r\n        if(submittedForms == null) {\r\n            this.submittedForms.clear();\r\n        }\r\n        else {\r\n            this.submittedForms = submittedForms;\r\n        }\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>The only time I get this error is when I try to pass NULL into the setter for the collection.  To prevent this, my setters look like this:</p>\n\n<pre><code>public void setSubmittedForms(Set&lt;SubmittedFormEntity&gt; submittedForms) {\n    if(submittedForms == null) {\n        this.submittedForms.clear();\n    }\n    else {\n        this.submittedForms = submittedForms;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485409508,"creation_date":1485409508,"answer_id":41867572,"question_id":5587482,"body_markdown":"Adding my dumb answer.  We&#39;re using Spring Data Rest. This was our pretty standard relationship.  The pattern was used elsewhere. \r\n\r\n\r\n    //Parent class\r\n    @OneToMany(mappedBy = &#39;parent&#39;, \r\n               cascade= CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    List&lt;Child&gt; children = new LinkedList&lt;&gt;()\r\n\r\n\r\n    //Child class\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &#39;ParentID&#39;, updatable = false)\r\n    @JsonBackReference\r\n    Parent parent\r\n\r\n\r\nWith the relationship we created, it was always intended that the children would be added through their own repo.  I had not yet added the repo.  The integration test we had was going through a complete lifecycle of the entity via REST calls so the transactions would close between requests.  No repo for the child meant the json had the children as part of the main structure instead of in `_embedded`.  Updates to the parent would then cause problems.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Adding my dumb answer.  We're using Spring Data Rest. This was our pretty standard relationship.  The pattern was used elsewhere. </p>\n\n<pre><code>//Parent class\n@OneToMany(mappedBy = 'parent', \n           cascade= CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nList&lt;Child&gt; children = new LinkedList&lt;&gt;()\n\n\n//Child class\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = 'ParentID', updatable = false)\n@JsonBackReference\nParent parent\n</code></pre>\n\n<p>With the relationship we created, it was always intended that the children would be added through their own repo.  I had not yet added the repo.  The integration test we had was going through a complete lifecycle of the entity via REST calls so the transactions would close between requests.  No repo for the child meant the json had the children as part of the main structure instead of in <code>_embedded</code>.  Updates to the parent would then cause problems.</p>\n"},{"tags":[],"owner":{"account_id":4374787,"reputation":475,"user_id":3568094,"accept_rate":60,"display_name":"priyanka_rao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505213732,"creation_date":1505213732,"answer_id":46174598,"question_id":5587482,"body_markdown":"Following solution worked for me\r\n    \r\n    //Parent class\r\n    @OneToMany(mappedBy = &#39;parent&#39;, \r\n               cascade= CascadeType.ALL, orphanRemoval = true)\r\n    @OrderBy(value=&quot;ordinal ASC&quot;)\r\n    List&lt;Child&gt; children = new ArrayList&lt;&gt;()\r\n    \r\n    //Updated setter of children \r\n    public void setChildren(List&lt;Children&gt; children) {\r\n\t\tthis.children.addAll(children);\r\n\t\tfor (Children child: children)\r\n\t\t\tchild.setParent(this);\r\n    }\r\n\r\n\r\n    //Child class\r\n    @ManyToOne\r\n\t@JoinColumn(name=&quot;Parent_ID&quot;)\r\n\tprivate Parent parent;\r\n    ","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Following solution worked for me</p>\n\n<pre><code>//Parent class\n@OneToMany(mappedBy = 'parent', \n           cascade= CascadeType.ALL, orphanRemoval = true)\n@OrderBy(value=\"ordinal ASC\")\nList&lt;Child&gt; children = new ArrayList&lt;&gt;()\n\n//Updated setter of children \npublic void setChildren(List&lt;Children&gt; children) {\n    this.children.addAll(children);\n    for (Children child: children)\n        child.setParent(this);\n}\n\n\n//Child class\n@ManyToOne\n@JoinColumn(name=\"Parent_ID\")\nprivate Parent parent;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511221161,"creation_date":1511221161,"answer_id":47402921,"question_id":5587482,"body_markdown":"Instead of assigning new collection\r\n\r\n    public void setChildren(Set&lt;ChildEntity&gt; children) {\r\n        this.children = children;\r\n    }\r\n\r\nReplace all elements with\r\n\r\n    public void setChildren(Set&lt;ChildEntity&gt; children) {\r\n        Collections.replaceAll(this.children,children);\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Instead of assigning new collection</p>\n\n<pre><code>public void setChildren(Set&lt;ChildEntity&gt; children) {\n    this.children = children;\n}\n</code></pre>\n\n<p>Replace all elements with</p>\n\n<pre><code>public void setChildren(Set&lt;ChildEntity&gt; children) {\n    Collections.replaceAll(this.children,children);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520239504,"creation_date":1520239504,"answer_id":49106446,"question_id":5587482,"body_markdown":"One other cause may be using lombok.\r\n\r\n`@Builder` - causes to save `Collections.emptyList()` even if you say `.myCollection(new ArrayList());`\r\n\r\n`@Singular` - ignores the class level defaults and leaves field `null` even if the class field was declared as `myCollection = new ArrayList()`\r\n\r\nMy 2 cents, just spent 2 hours with the same :)","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>One other cause may be using lombok.</p>\n\n<p><code>@Builder</code> - causes to save <code>Collections.emptyList()</code> even if you say <code>.myCollection(new ArrayList());</code></p>\n\n<p><code>@Singular</code> - ignores the class level defaults and leaves field <code>null</code> even if the class field was declared as <code>myCollection = new ArrayList()</code></p>\n\n<p>My 2 cents, just spent 2 hours with the same :)</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532434215,"creation_date":1532434215,"answer_id":51498290,"question_id":5587482,"body_markdown":"I was getting `A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance` when I was setting `parent.setChildren(new ArrayList&lt;&gt;())`. When I changed to `parent.getChildren().clear()`, it solved the problem.\r\n\r\nCheck for more details: [HibernateException - A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance][1].\r\n\r\n\r\n\r\n\r\n  [1]: http://cristian.sulea.net/blog.php?p=2014-06-28-hibernate-exception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I was getting <code>A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance</code> when I was setting <code>parent.setChildren(new ArrayList&lt;&gt;())</code>. When I changed to <code>parent.getChildren().clear()</code>, it solved the problem.</p>\n\n<p>Check for more details: <a href=\"http://cristian.sulea.net/blog.php?p=2014-06-28-hibernate-exception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance\" rel=\"nofollow noreferrer\">HibernateException - A collection with cascade=\"all-delete-orphan\" was no longer referenced by the owning entity instance</a>.</p>\n"},{"tags":[],"owner":{"account_id":14137305,"reputation":1,"user_id":10213302,"display_name":"Di&#243;genes Ricardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534015709,"creation_date":1534015709,"answer_id":51803042,"question_id":5587482,"body_markdown":"be careful with \r\n\r\n    BeanUtils.copyProperties(newInsum, insumOld,&quot;code&quot;);\r\n\r\nThis method too break the hibernate.\r\n","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>be careful with </p>\n\n<pre><code>BeanUtils.copyProperties(newInsum, insumOld,\"code\");\n</code></pre>\n\n<p>This method too break the hibernate.</p>\n"},{"tags":[],"owner":{"account_id":11025162,"reputation":995,"user_id":8098293,"display_name":"luwojtaszek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541418962,"creation_date":1540821764,"answer_id":53047205,"question_id":5587482,"body_markdown":"I used @user2709454 approach with small improvement.\r\n\r\n\tpublic class User {\r\n\t\tprivate Set&lt;Role&gt; roles;\r\n\t\r\n\t\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t  \t\tif (this.roles == null) {\r\n\t    \t\tthis.roles = roles;\r\n\t  \t\t} else if(this.roles != roles) { // not the same instance, in other case we can get ConcurrentModificationException from hibernate AbstractPersistentCollection\r\n\t    \t\tthis.roles.clear();\r\n\t    \t\tif(roles != null){\r\n\t    \t\t\tthis.roles.addAll(roles);\r\n\t    \t\t}\r\n\t  \t\t}\r\n\t\t}\r\n\t}","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I used @user2709454 approach with small improvement.</p>\n\n<pre><code>public class User {\n    private Set&lt;Role&gt; roles;\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        if (this.roles == null) {\n            this.roles = roles;\n        } else if(this.roles != roles) { // not the same instance, in other case we can get ConcurrentModificationException from hibernate AbstractPersistentCollection\n            this.roles.clear();\n            if(roles != null){\n                this.roles.addAll(roles);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6007898,"reputation":309,"user_id":4719208,"display_name":"Sofia Paix&#227;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545409559,"creation_date":1545409559,"answer_id":53887999,"question_id":5587482,"body_markdown":"I am using Spring Boot and had this issue with a collection, in spite of not directly overwriting it, because I am declaring an extra field for the same collection with a [custom serializer and deserializer][1] in order to provide a more frontend-friendly representation of the data:\r\n\r\n      public List&lt;Attribute&gt; getAttributes() {\r\n        return attributes;\r\n      }\r\n    \r\n      public void setAttributes(List&lt;Attribute&gt; attributes) {\r\n        this.attributes = attributes;\r\n      }\r\n    \r\n      @JsonSerialize(using = AttributeSerializer.class)\r\n      public List&lt;Attribute&gt; getAttributesList() {\r\n        return attributes;\r\n      }\r\n    \r\n      @JsonDeserialize(using = AttributeDeserializer.class)\r\n      public void setAttributesList(List&lt;Attribute&gt; attributes) {\r\n        this.attributes = attributes;\r\n      }\r\n\r\nIt seems that even though I am not overwriting the collection *myself*, the deserialization does it under the hood, triggering this issue all the same. The solution was to change the setter associated with the deserializer so that it would clear the list and add everything, rather than overwrite it:\r\n\r\n      @JsonDeserialize(using = AttributeDeserializer.class)\r\n      public void setAttributesList(List&lt;Attribute&gt; attributes) {\r\n        this.attributes.clear();\r\n        this.attributes.addAll(attributes);\r\n      }\r\n\r\n  [1]: https://stackoverflow.com/questions/40490867/use-jsonserializeusing-myserializer-class-on-a-onetomany-setobject/53443062#53443062","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I am using Spring Boot and had this issue with a collection, in spite of not directly overwriting it, because I am declaring an extra field for the same collection with a <a href=\"https://stackoverflow.com/questions/40490867/use-jsonserializeusing-myserializer-class-on-a-onetomany-setobject/53443062#53443062\">custom serializer and deserializer</a> in order to provide a more frontend-friendly representation of the data:</p>\n\n<pre><code>  public List&lt;Attribute&gt; getAttributes() {\n    return attributes;\n  }\n\n  public void setAttributes(List&lt;Attribute&gt; attributes) {\n    this.attributes = attributes;\n  }\n\n  @JsonSerialize(using = AttributeSerializer.class)\n  public List&lt;Attribute&gt; getAttributesList() {\n    return attributes;\n  }\n\n  @JsonDeserialize(using = AttributeDeserializer.class)\n  public void setAttributesList(List&lt;Attribute&gt; attributes) {\n    this.attributes = attributes;\n  }\n</code></pre>\n\n<p>It seems that even though I am not overwriting the collection <em>myself</em>, the deserialization does it under the hood, triggering this issue all the same. The solution was to change the setter associated with the deserializer so that it would clear the list and add everything, rather than overwrite it:</p>\n\n<pre><code>  @JsonDeserialize(using = AttributeDeserializer.class)\n  public void setAttributesList(List&lt;Attribute&gt; attributes) {\n    this.attributes.clear();\n    this.attributes.addAll(attributes);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548775559,"creation_date":1548775089,"answer_id":54424205,"question_id":5587482,"body_markdown":"It might be caused by `hibernate-enhance-maven-plugin`. When I enabled `enableLazyInitialization` property this exception started on happening on my lazy collection. I&#39;m using hibernate 5.2.17.Final.\r\n\r\nNote this two hibernate issues:\r\n\r\n - https://hibernate.atlassian.net/browse/HHH-10708\r\n - https://hibernate.atlassian.net/browse/HHH-11459","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>It might be caused by <code>hibernate-enhance-maven-plugin</code>. When I enabled <code>enableLazyInitialization</code> property this exception started on happening on my lazy collection. I'm using hibernate 5.2.17.Final.</p>\n\n<p>Note this two hibernate issues:</p>\n\n<ul>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-10708\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-10708</a></li>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-11459\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-11459</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7332956,"reputation":101,"user_id":5585253,"display_name":"Neha Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583171785,"creation_date":1549968514,"answer_id":54648340,"question_id":5587482,"body_markdown":"    @OneToMany(mappedBy = &#39;parent&#39;, cascade= CascadeType.ALL, orphanRemoval = true)\r\n    List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\nI experienced the same error when I was adding child object to the existing list of Child Objects.\r\n\r\n    childService.saveOrUpdate(child);\r\n    parent.addToChildren(child);\r\n    parentService.saveOrUpdate(parent);\r\n\r\nWhat resolved my problem is changing to:\r\n\r\n    child = childService.saveOrUpdate(child);\r\n\r\nNow the child is revive with other details as well and it worked fine.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<pre><code>@OneToMany(mappedBy = 'parent', cascade= CascadeType.ALL, orphanRemoval = true)\nList&lt;Child&gt; children = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>I experienced the same error when I was adding child object to the existing list of Child Objects.</p>\n\n<pre><code>childService.saveOrUpdate(child);\nparent.addToChildren(child);\nparentService.saveOrUpdate(parent);\n</code></pre>\n\n<p>What resolved my problem is changing to:</p>\n\n<pre><code>child = childService.saveOrUpdate(child);\n</code></pre>\n\n<p>Now the child is revive with other details as well and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555020139,"creation_date":1555020139,"answer_id":55641794,"question_id":5587482,"body_markdown":"Mine was completely different with Spring Boot! \r\nFor me it was not due to setting collection property.\r\n\r\nIn my tests I was trying to create an entity and was getting this error for another collection that was unused!\r\n\r\nAfter so much trying I just added a `@Transactional` on the test method and it solved it. Don&#39;t no the reason though.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Mine was completely different with Spring Boot! \nFor me it was not due to setting collection property.</p>\n\n<p>In my tests I was trying to create an entity and was getting this error for another collection that was unused!</p>\n\n<p>After so much trying I just added a <code>@Transactional</code> on the test method and it solved it. Don't no the reason though.</p>\n"},{"tags":[],"owner":{"account_id":12248442,"reputation":125,"user_id":8939496,"accept_rate":25,"display_name":"co ting"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556143056,"creation_date":1556143056,"answer_id":55839145,"question_id":5587482,"body_markdown":"I ran into this when updating an entity with a JSON post request.\r\nThe error occurred when I updated the entity without data about the children, even when there were none. \r\nAdding\r\n\r\n    &quot;children&quot;: [],\r\n\r\nto the request body solved the problem.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I ran into this when updating an entity with a JSON post request.\nThe error occurred when I updated the entity without data about the children, even when there were none. \nAdding</p>\n\n<pre><code>\"children\": [],\n</code></pre>\n\n<p>to the request body solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":15982537,"reputation":51,"user_id":11533889,"display_name":"Dario Gaston"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612356991,"creation_date":1576279111,"answer_id":59330946,"question_id":5587482,"body_markdown":"I had the same issue, but it was when the set was null. Only in the Set collection, in List work fine. You can try to the hibernate annotation `@LazyCollection(LazyCollectionOption.FALSE)` instead of JPA annotation `fetch = FetchType.EAGER.` \r\n\r\n**My solution:\r\nThis is my configuration and work fine**\r\n\r\n    @OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private Set&lt;Barcode&gt; barcodes;\r\n\r\n    @OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private List&lt;FormatAdditional&gt; additionals;","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I had the same issue, but it was when the set was null. Only in the Set collection, in List work fine. You can try to the hibernate annotation <code>@LazyCollection(LazyCollectionOption.FALSE)</code> instead of JPA annotation <code>fetch = FetchType.EAGER.</code></p>\n<p><strong>My solution:\nThis is my configuration and work fine</strong></p>\n<pre><code>@OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate Set&lt;Barcode&gt; barcodes;\n\n@OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate List&lt;FormatAdditional&gt; additionals;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392041,"reputation":61,"user_id":2091711,"display_name":"ligett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578154456,"creation_date":1578154456,"answer_id":59592511,"question_id":5587482,"body_markdown":"This is in contrast to the previous answers, I had exactly the same error: &quot;A collection with cascade=”all-delete-orphan” was no longer referenced....&quot; when my setter function looked like this:\r\n\r\n\tpublic void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\r\n\t\tif( this.taxCalculationRules == null ) {\r\n\t\t\tthis.taxCalculationRules = taxCalculationRules_;\r\n\t\t} else {\r\n\t\t\tthis.taxCalculationRules.retainAll(taxCalculationRules_);\r\n\t\t\tthis.taxCalculationRules.addAll(taxCalculationRules_);\r\n\t\t}\r\n\t}\r\n\r\nAnd then it disappeared when I changed it to the simple version:\r\n\r\n\tpublic void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\r\n\t\tthis.taxCalculationRules = taxCalculationRules_;\r\n\t}\r\n(hibernate versions - tried both 5.4.10 and 4.3.11. Spent several days trying all sorts of solutions before coming back to the simple assignment in the setter. Confused now as to why this so.)","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>This is in contrast to the previous answers, I had exactly the same error: \"A collection with cascade=”all-delete-orphan” was no longer referenced....\" when my setter function looked like this:</p>\n\n<pre><code>public void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\n    if( this.taxCalculationRules == null ) {\n        this.taxCalculationRules = taxCalculationRules_;\n    } else {\n        this.taxCalculationRules.retainAll(taxCalculationRules_);\n        this.taxCalculationRules.addAll(taxCalculationRules_);\n    }\n}\n</code></pre>\n\n<p>And then it disappeared when I changed it to the simple version:</p>\n\n<pre><code>public void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\n    this.taxCalculationRules = taxCalculationRules_;\n}\n</code></pre>\n\n<p>(hibernate versions - tried both 5.4.10 and 4.3.11. Spent several days trying all sorts of solutions before coming back to the simple assignment in the setter. Confused now as to why this so.)</p>\n"},{"tags":[],"owner":{"account_id":8087580,"reputation":79,"user_id":6094649,"display_name":"Andrii Bobrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593507713,"creation_date":1593507407,"answer_id":62653787,"question_id":5587482,"body_markdown":"In my case it was concurrent access to one Hibernate Session from several threads.\r\nI had the Spring Boot Batch and **RepositoryItemReader** implementation where I fetched entities by page request with size 10. \r\n\r\nFor example my entities are: \r\n\r\n    @Entity\r\n    class JobEntity {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private GroupEntity group;\r\n    }\r\n    \r\n    @Entity\r\n    class GroupEntity {\r\n        @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n        private Set&lt;Config&gt; configs; \r\n    }\r\n\r\nBatch process: `reader -&gt; processor -&gt; writer` in one transaction.\r\n\r\nIn that entities configuration, GroupEntity can escapes to other threads:\r\n\r\nFirst thread that entered to read section fetches the page of JobEntity with size 10 (RepositoryItemReader#doRead), this items contain one shared GroupEntity object (because all of them pointed to the same group id). Then it takes the first entity. Next threads that come to read section take JobEntity from this page one by one, until this page will be exhausted. \r\n\r\nSo now threads have access to the same GroupEntity instance thought the JobEntity instances, that is **unsafe multi thread access to the one Hibernate Session**.\r\n\r\n\r\n","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>In my case it was concurrent access to one Hibernate Session from several threads.\nI had the Spring Boot Batch and <strong>RepositoryItemReader</strong> implementation where I fetched entities by page request with size 10.</p>\n<p>For example my entities are:</p>\n<pre><code>@Entity\nclass JobEntity {\n    @ManyToOne(fetch = FetchType.LAZY)\n    private GroupEntity group;\n}\n\n@Entity\nclass GroupEntity {\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;Config&gt; configs; \n}\n</code></pre>\n<p>Batch process: <code>reader -&gt; processor -&gt; writer</code> in one transaction.</p>\n<p>In that entities configuration, GroupEntity can escapes to other threads:</p>\n<p>First thread that entered to read section fetches the page of JobEntity with size 10 (RepositoryItemReader#doRead), this items contain one shared GroupEntity object (because all of them pointed to the same group id). Then it takes the first entity. Next threads that come to read section take JobEntity from this page one by one, until this page will be exhausted.</p>\n<p>So now threads have access to the same GroupEntity instance thought the JobEntity instances, that is <strong>unsafe multi thread access to the one Hibernate Session</strong>.</p>\n"},{"tags":[],"owner":{"account_id":19526213,"reputation":783,"user_id":14287016,"display_name":"IonicMan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1602755690,"creation_date":1602755690,"answer_id":64369070,"question_id":5587482,"body_markdown":"All those answers didnt help me, BUT I found another solution.\r\n\r\nI had an Entity A containing a List of Entity B. Entity B contained a List of Entity C.\r\n\r\nI was trying to update Entity A and B. It worked. But when updating Entity C, I got the mentioned error. In entity B I had an annotation like this:\r\n\r\n    @OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)\r\n    var c: List&lt;EntityC&gt;?,\r\n\r\nI simply removed `orphanRemoval` and the update worked.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>All those answers didnt help me, BUT I found another solution.</p>\n<p>I had an Entity A containing a List of Entity B. Entity B contained a List of Entity C.</p>\n<p>I was trying to update Entity A and B. It worked. But when updating Entity C, I got the mentioned error. In entity B I had an annotation like this:</p>\n<pre><code>@OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)\nvar c: List&lt;EntityC&gt;?,\n</code></pre>\n<p>I simply removed <code>orphanRemoval</code> and the update worked.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607818433,"creation_date":1606255532,"answer_id":64995550,"question_id":5587482,"body_markdown":"There is this bug which looks suspiciously similar: https://hibernate.atlassian.net/browse/HHH-9940.\r\n\r\nAnd the code to reproduce it: https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test\r\n\r\nThere are 2 possible fixes to this:\r\n\r\n* the collection is initialized with an empty collection (instead of null)\r\n\r\n* orphanRemoval is set to false\r\n\r\n\r\nExample - was:\r\n\r\n    @OneToMany(cascade = CascadeType.REMOVE,\r\n            mappedBy = &quot;jobEntity&quot;, orphanRemoval = true)\r\n    private List&lt;JobExecutionEntity&gt; jobExecutionEntities;\r\n\r\nbecame:\r\n\r\n    @OneToMany(cascade = CascadeType.REMOVE,\r\n            mappedBy = &quot;jobEntity&quot;)\r\n    private List&lt;JobExecutionEntity&gt; jobExecutionEntities;","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>There is this bug which looks suspiciously similar: <a href=\"https://hibernate.atlassian.net/browse/HHH-9940\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9940</a>.</p>\n<p>And the code to reproduce it: <a href=\"https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test\" rel=\"nofollow noreferrer\">https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test</a></p>\n<p>There are 2 possible fixes to this:</p>\n<ul>\n<li><p>the collection is initialized with an empty collection (instead of null)</p>\n</li>\n<li><p>orphanRemoval is set to false</p>\n</li>\n</ul>\n<p>Example - was:</p>\n<pre><code>@OneToMany(cascade = CascadeType.REMOVE,\n        mappedBy = &quot;jobEntity&quot;, orphanRemoval = true)\nprivate List&lt;JobExecutionEntity&gt; jobExecutionEntities;\n</code></pre>\n<p>became:</p>\n<pre><code>@OneToMany(cascade = CascadeType.REMOVE,\n        mappedBy = &quot;jobEntity&quot;)\nprivate List&lt;JobExecutionEntity&gt; jobExecutionEntities;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2465474,"reputation":1361,"user_id":2148681,"display_name":"razvanone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613169351,"creation_date":1608108932,"answer_id":65320082,"question_id":5587482,"body_markdown":"Had this issue with spring-boot 2.4.1 when running the tests in bulk from [Intellij Idea] version 2020.3. The issue doesn&#39;t appear when running only one test at a time from IntelliJ or when running the tests from command line.\r\n\r\n&lt;strike&gt;Maybe Intellij caching problem?&lt;/strike&gt;\r\n\r\n_Follow up:_\r\n\r\n_The problem appears when running tests using the maven-surefire-plugin reuseForks true. Using reuseForks false would provide a quick fix, but the tests running time will increase dramatically. Because we are reusing forks, the database context might become dirty due to other tests that are run - without cleaning the database context afterwards. The obvious solution would be to clean the database context before running a test, but the best one should be to clean up the database context **after** each test (solving the root cause of the original problem). Using the @Transactional annotation on your test methods will guarantee that your database changes are rolled back at the end of the test methods. See the Spring documentation on transactions: [https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx][1]._\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Had this issue with spring-boot 2.4.1 when running the tests in bulk from [Intellij Idea] version 2020.3. The issue doesn't appear when running only one test at a time from IntelliJ or when running the tests from command line.</p>\n<p><strike>Maybe Intellij caching problem?</strike></p>\n<p><em>Follow up:</em></p>\n<p><em>The problem appears when running tests using the maven-surefire-plugin reuseForks true. Using reuseForks false would provide a quick fix, but the tests running time will increase dramatically. Because we are reusing forks, the database context might become dirty due to other tests that are run - without cleaning the database context afterwards. The obvious solution would be to clean the database context before running a test, but the best one should be to clean up the database context <strong>after</strong> each test (solving the root cause of the original problem). Using the @Transactional annotation on your test methods will guarantee that your database changes are rolled back at the end of the test methods. See the Spring documentation on transactions: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx</a>.</em></p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1615291486,"creation_date":1615291486,"answer_id":66546554,"question_id":5587482,"body_markdown":"I fixed by doing this :\r\n\r\n**1. clear existing children list so that they are removed from database**\r\n\r\n    parent.getChildren().clear();\r\n\r\n**2. add the new children list created above to the existing list**\r\n\r\n    parent.getChildren().addAll(children);\r\n\r\n***Hope this post will help you to resolve the error***","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I fixed by doing this :</p>\n<p><strong>1. clear existing children list so that they are removed from database</strong></p>\n<pre><code>parent.getChildren().clear();\n</code></pre>\n<p><strong>2. add the new children list created above to the existing list</strong></p>\n<pre><code>parent.getChildren().addAll(children);\n</code></pre>\n<p><em><strong>Hope this post will help you to resolve the error</strong></em></p>\n"},{"tags":[],"owner":{"account_id":14326729,"reputation":447,"user_id":10353697,"display_name":"Himanshu Suthar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635526959,"creation_date":1635526959,"answer_id":69772477,"question_id":5587482,"body_markdown":"I face a similar issue where I was using these annotations in my parent entity :\r\n\r\n    @Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\r\n\r\nMistakenly, I was trying to save a null parent object in database and properly setting values to my entity object resolved my error. So, do check if you are silly setting wrong values or trying to save a null object in database.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I face a similar issue where I was using these annotations in my parent entity :</p>\n<pre><code>@Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\n</code></pre>\n<p>Mistakenly, I was trying to save a null parent object in database and properly setting values to my entity object resolved my error. So, do check if you are silly setting wrong values or trying to save a null object in database.</p>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639411257,"creation_date":1639411257,"answer_id":70337501,"question_id":5587482,"body_markdown":"As of 2021 and Spring Boot 2.5, it helped me to initialize the field right away when declaring it:\r\n\r\n    @OneToMany(mappedBy=&quot;target&quot;,fetch= FetchType.EAGER,cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;TargetEntity&gt; targets = new ArrayList&lt;&gt;();","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>As of 2021 and Spring Boot 2.5, it helped me to initialize the field right away when declaring it:</p>\n<pre><code>@OneToMany(mappedBy=&quot;target&quot;,fetch= FetchType.EAGER,cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;TargetEntity&gt; targets = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24362209,"reputation":1,"user_id":18296396,"display_name":"Amalan T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645685008,"creation_date":1645685008,"answer_id":71248085,"question_id":5587482,"body_markdown":"Issue is solved when we make the child as **final**..\r\n\r\nwe should not change the reference of the child in constructor as well as setter.\r\n\r\n","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Issue is solved when we make the child as <strong>final</strong>..</p>\n<p>we should not change the reference of the child in constructor as well as setter.</p>\n"},{"tags":[],"owner":{"account_id":19527378,"reputation":11,"user_id":14287937,"display_name":"Yuksel-Can-Ozdemir"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652787317,"creation_date":1652787317,"answer_id":72273341,"question_id":5587482,"body_markdown":"`@OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)`\r\n\r\nI was encountering the same error. It worked when I deleted the ;&quot;orphanRemoval = true&quot; part in the above structure","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p><code>@OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)</code></p>\n<p>I was encountering the same error. It worked when I deleted the ;&quot;orphanRemoval = true&quot; part in the above structure</p>\n"},{"tags":[],"owner":{"account_id":300520,"reputation":17836,"user_id":607701,"accept_rate":78,"display_name":"David Peden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674585237,"creation_date":1674585237,"answer_id":75225814,"question_id":5587482,"body_markdown":"I recently ran into this issue when refactoring some code. The original (**and correct**) code looked like this:\r\n\r\n```csharp\r\npublic virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases;\r\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc).FirstOrDefault();\r\n```\r\n\r\nI tried changing the code by moving the `.OrderByDescending` to the `.Purchases` property. This change **broke the code** and caused the referenced error in the OP:\r\n\r\n```csharp\r\npublic virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc);\r\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; Purchases.FirstOrDefault();\r\n```\r\n\r\nThe error did not manifest until attempting to save the parent object that contained the `.Purchases` property.\r\n\r\nAs noted in other answers to this question, **the problem occurs because the collection is being reset** (in my case on every single access to `.Purchases`).","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I recently ran into this issue when refactoring some code. The original (<strong>and correct</strong>) code looked like this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases;\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc).FirstOrDefault();\n</code></pre>\n<p>I tried changing the code by moving the <code>.OrderByDescending</code> to the <code>.Purchases</code> property. This change <strong>broke the code</strong> and caused the referenced error in the OP:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc);\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; Purchases.FirstOrDefault();\n</code></pre>\n<p>The error did not manifest until attempting to save the parent object that contained the <code>.Purchases</code> property.</p>\n<p>As noted in other answers to this question, <strong>the problem occurs because the collection is being reset</strong> (in my case on every single access to <code>.Purchases</code>).</p>\n"},{"tags":[],"owner":{"account_id":21131266,"reputation":41,"user_id":15535551,"display_name":"khanhbq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689588473,"creation_date":1689588473,"answer_id":76703401,"question_id":5587482,"body_markdown":"For me i had this association in my entity\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Schedule&gt; schedules = new HashSet&lt;&gt;();\r\n\r\nAnd my update function \r\n\r\n    @̶T̶r̶a̶n̶s̶a̶c̶t̶i̶o̶n̶a̶l\r\n    public void updateCourseSchedule(Course course, Set&lt;Schedule&gt; schedules) {\r\n        course.setSchedules(schedules);\r\n        courseRepo.save(course);\r\n    }\r\n\r\nWhen i remove the **@Transactional** annotation, it works","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>For me i had this association in my entity</p>\n<pre><code>@OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;Schedule&gt; schedules = new HashSet&lt;&gt;();\n</code></pre>\n<p>And my update function</p>\n<pre><code>@̶T̶r̶a̶n̶s̶a̶c̶t̶i̶o̶n̶a̶l\npublic void updateCourseSchedule(Course course, Set&lt;Schedule&gt; schedules) {\n    course.setSchedules(schedules);\n    courseRepo.save(course);\n}\n</code></pre>\n<p>When i remove the <strong>@Transactional</strong> annotation, it works</p>\n"}],"owner":{"account_id":276593,"reputation":14134,"user_id":570120,"accept_rate":90,"display_name":"axcdnt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368098,"favorite_count":0,"down_vote_count":0,"up_vote_count":365,"accepted_answer_id":5624496,"answer_count":33,"score":365,"last_activity_date":1689588473,"creation_date":1302209414,"question_id":5587482,"body_markdown":"I&#39;m having the following issue when trying to update my entity:\r\n\r\n    &quot;A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance&quot;.\r\n\r\nI have a parent entity and it has a `Set&lt;...&gt;` of some children entities. When I try to update it, I get all the references to be set to this collections and set it.\r\n\r\nThe following code represents my mapping:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @OneToMany(mappedBy = &quot;parentEntity&quot;, fetch = FetchType.EAGER)\r\n    @Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\r\n    public Set&lt;ChildEntity&gt; getChildren() {\r\n        return this.children;\r\n    }\r\n\r\nI&#39;ve tried to clean the Set&lt;..&gt; only, according to this: [How to &quot;possible&quot; solve the problem][1] but it didn&#39;t work.\r\n\r\n If you have any ideas, please let me know.\r\n\r\n Thanks!\r\n\r\n\r\n  [1]: http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I'm having the following issue when trying to update my entity:</p>\n\n<pre><code>\"A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance\".\n</code></pre>\n\n<p>I have a parent entity and it has a <code>Set&lt;...&gt;</code> of some children entities. When I try to update it, I get all the references to be set to this collections and set it.</p>\n\n<p>The following code represents my mapping:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = \"parentEntity\", fetch = FetchType.EAGER)\n@Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\npublic Set&lt;ChildEntity&gt; getChildren() {\n    return this.children;\n}\n</code></pre>\n\n<p>I've tried to clean the Set&lt;..> only, according to this: <a href=\"http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994\" rel=\"noreferrer\">How to \"possible\" solve the problem</a> but it didn't work.</p>\n\n<p>If you have any ideas, please let me know.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","jakarta-mail","imap"],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689577619,"creation_date":1689577619,"answer_id":76702156,"question_id":76702082,"body_markdown":"You need to authenticate when you&#39;re getting the session.\r\n\r\nExample:\r\n\r\n      Session emailSession = Session.getInstance(properties,\r\n         new Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n               return new PasswordAuthentication(\r\n                  &quot;&lt;username&gt;&quot;, &quot;&lt;password&gt;&quot;);\r\n            }\r\n         });\r\n","title":"Connecting to IMAPS MIcrosoft Exchange server fails with Cannot invoke &quot;String.equals(Object)&quot; because &quot;this.status&quot; is null","body":"<p>You need to authenticate when you're getting the session.</p>\n<p>Example:</p>\n<pre><code>  Session emailSession = Session.getInstance(properties,\n     new Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n           return new PasswordAuthentication(\n              &quot;&lt;username&gt;&quot;, &quot;&lt;password&gt;&quot;);\n        }\n     });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10161194,"reputation":158,"user_id":7653576,"accept_rate":100,"display_name":"Lone Wanderer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689588262,"creation_date":1689582502,"answer_id":76702674,"question_id":76702082,"body_markdown":"I figured it out. I used a dependency that itself imported these 2 things: \r\n\r\n       &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n       &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\r\n       &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n       &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\r\nThat lead to a situation, where during runtime, incorrect library was used. When running `mvn dependency:tree` it became obvious which dependencies are responsible for this. \r\n\r\naftr that, it was a matter of removing them with \r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\r\nNote, that I ended up not using base64 for credentials, i still use imaps instead of imap for properties (even tough most examples on stackoverflow and javadoc state imap) and I use full email as username. ","title":"Connecting to IMAPS MIcrosoft Exchange server fails with Cannot invoke &quot;String.equals(Object)&quot; because &quot;this.status&quot; is null","body":"<p>I figured it out. I used a dependency that itself imported these 2 things:</p>\n<pre><code>   &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n   &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n\n   &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n   &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n</code></pre>\n<p>That lead to a situation, where during runtime, incorrect library was used. When running <code>mvn dependency:tree</code> it became obvious which dependencies are responsible for this.</p>\n<p>aftr that, it was a matter of removing them with</p>\n<pre><code>            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n</code></pre>\n<p>Note, that I ended up not using base64 for credentials, i still use imaps instead of imap for properties (even tough most examples on stackoverflow and javadoc state imap) and I use full email as username.</p>\n"}],"owner":{"account_id":10161194,"reputation":158,"user_id":7653576,"accept_rate":100,"display_name":"Lone Wanderer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76702674,"answer_count":2,"score":-2,"last_activity_date":1689588262,"creation_date":1689576755,"question_id":76702082,"body_markdown":"I&#39;ve been trying and failling to connect to IMAPs server using Javamail. This is my example  implementation: \r\n\r\n    public List&lt;Mail&gt; receive() throws MessagingException {\r\n        IMAPStore emailStore = null;\r\n        Folder emailFolder = null;\r\n\r\n        // Initialize properties for the SMPT receiver\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\n        properties.setProperty(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\r\n        properties.setProperty(&quot;mail.imaps.ssl.trust&quot;, &quot;*&quot;);\r\n        properties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n    //        properties.put(&quot;mail.&quot; + protocol + &quot;.host&quot;, host);\r\n        properties.put(&quot;mail.imaps.host&quot;, host);\r\n    //        properties.put(&quot;mail.&quot; + protocol + &quot;.port&quot;, port);\r\n        properties.put(&quot;mail.imaps.port&quot;, port);\r\n\r\n\r\n\r\n        //Get the SMTP session\r\n        Session emailSession = Session.getInstance(properties);\r\n\r\n        try {\r\n            emailStore = (IMAPStore) emailSession.getStore();\r\n            emailStore.connect(username, password);\r\n\r\n            emailFolder = emailStore.getFolder(&quot;INBOX&quot;);\r\n            emailFolder.open(Folder.READ_WRITE);\r\n\r\n            return getNewMails(emailFolder);\r\n\r\n        } catch (Exception e) {\r\n            exception handling logic\r\n        }\r\n\r\nThe code fails at connection. \r\n\r\nThis is the response of the server upon initial connection. * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n\r\nJavacode then recognizes that I&#39;m not authenticated and proceeds to authenticate, after which I **get following response**\r\n\r\n    IMAPTaggedResponse \r\n      status = null\r\n      tag = &quot;+&quot; \r\n      message = &quot;&quot;\r\n      and 2 bytes in response\r\n\r\nI&#39;m completely unable to proceed. I tried removing the &quot;s&quot; in imap**s** from the configuration properties, but that yields even less progress because the server outright refuses to communicate.\r\n\r\nThe problem is that the code fails not within my implementation, but within javacode itself. This is the failing method: \r\n\r\n    **org.apache.geronimo.javamail .store.imap.connection.IMAPTaggedResponse#isBAD**\r\n\r\nand the failing code is the following:\r\n\r\n    public boolean isBAD() {\r\n        return this.status.equals(&quot;BAD&quot;);\r\n    }\r\nand since the returning status from the **IMAPTaggedResponse** is null, it fails the equals method. \r\n\r\nI do encode the credentials as Base64\r\n\r\nany advice would be apretiated. ","title":"Connecting to IMAPS MIcrosoft Exchange server fails with Cannot invoke &quot;String.equals(Object)&quot; because &quot;this.status&quot; is null","body":"<p>I've been trying and failling to connect to IMAPs server using Javamail. This is my example  implementation:</p>\n<pre><code>public List&lt;Mail&gt; receive() throws MessagingException {\n    IMAPStore emailStore = null;\n    Folder emailFolder = null;\n\n    // Initialize properties for the SMPT receiver\n    Properties properties = new Properties();\n    properties.setProperty(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\n    properties.setProperty(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\n    properties.setProperty(&quot;mail.imaps.ssl.trust&quot;, &quot;*&quot;);\n    properties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n//        properties.put(&quot;mail.&quot; + protocol + &quot;.host&quot;, host);\n    properties.put(&quot;mail.imaps.host&quot;, host);\n//        properties.put(&quot;mail.&quot; + protocol + &quot;.port&quot;, port);\n    properties.put(&quot;mail.imaps.port&quot;, port);\n\n\n\n    //Get the SMTP session\n    Session emailSession = Session.getInstance(properties);\n\n    try {\n        emailStore = (IMAPStore) emailSession.getStore();\n        emailStore.connect(username, password);\n\n        emailFolder = emailStore.getFolder(&quot;INBOX&quot;);\n        emailFolder.open(Folder.READ_WRITE);\n\n        return getNewMails(emailFolder);\n\n    } catch (Exception e) {\n        exception handling logic\n    }\n</code></pre>\n<p>The code fails at connection.</p>\n<p>This is the response of the server upon initial connection. * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+</p>\n<p>Javacode then recognizes that I'm not authenticated and proceeds to authenticate, after which I <strong>get following response</strong></p>\n<pre><code>IMAPTaggedResponse \n  status = null\n  tag = &quot;+&quot; \n  message = &quot;&quot;\n  and 2 bytes in response\n</code></pre>\n<p>I'm completely unable to proceed. I tried removing the &quot;s&quot; in imap<strong>s</strong> from the configuration properties, but that yields even less progress because the server outright refuses to communicate.</p>\n<p>The problem is that the code fails not within my implementation, but within javacode itself. This is the failing method:</p>\n<pre><code>**org.apache.geronimo.javamail .store.imap.connection.IMAPTaggedResponse#isBAD**\n</code></pre>\n<p>and the failing code is the following:</p>\n<pre><code>public boolean isBAD() {\n    return this.status.equals(&quot;BAD&quot;);\n}\n</code></pre>\n<p>and since the returning status from the <strong>IMAPTaggedResponse</strong> is null, it fails the equals method.</p>\n<p>I do encode the credentials as Base64</p>\n<p>any advice would be apretiated.</p>\n"},{"tags":["java","apache-kafka","message-queue"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689606223,"post_id":76703319,"comment_id":135233674,"body_markdown":"1) Please show your code as a [mcve], not as images 2) Unclear where clientId 2 even comes from","body":"1) Please show your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not as images 2) Unclear where clientId 2 even comes from"}],"owner":{"account_id":29032870,"reputation":1,"user_id":22239379,"display_name":"HIKARIZT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689587870,"creation_date":1689587870,"question_id":76703319,"body_markdown":"In Kafka, different producers are configured with different bootstrap servers, and only one producer calls the send() method, but all producers start sending messages.\r\n\r\n[enter image description here](https://i.stack.imgur.com/gQXsp.png)\r\n\r\nmessageQueueList.getQueueList() contain some producers.\r\n[enter image description here](https://i.stack.imgur.com/EqPqK.png)\r\nOnly the producer m called the send() method, but every producer tried to send message\r\n[enter image description here](https://i.stack.imgur.com/ZWv0t.png)\r\n\r\n\r\n\r\nIn my design,  MessageQueue m = messageQueueList.getQueueList().get(index); different index can use different producer to send message, but all the producers send messages no mattter what the index is.","title":"In Kafka, only one producer calls the send() method, but all producers start sending messages, why?","body":"<p>In Kafka, different producers are configured with different bootstrap servers, and only one producer calls the send() method, but all producers start sending messages.</p>\n<p><a href=\"https://i.stack.imgur.com/gQXsp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>messageQueueList.getQueueList() contain some producers.\n<a href=\"https://i.stack.imgur.com/EqPqK.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nOnly the producer m called the send() method, but every producer tried to send message\n<a href=\"https://i.stack.imgur.com/ZWv0t.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In my design,  MessageQueue m = messageQueueList.getQueueList().get(index); different index can use different producer to send message, but all the producers send messages no mattter what the index is.</p>\n"},{"tags":["java","logging","quarkus","elk","gelf"],"owner":{"account_id":27641615,"reputation":3,"user_id":21098469,"display_name":"Degote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689587849,"creation_date":1689587800,"question_id":76703311,"body_markdown":"I would like to log application name and version (from pom.xml file) with quarkus-gelf logging to send logs to logstash. I found a way to use &quot;additional-field&quot;, is there another option to do same, but shorter? Or some way to not duplicate &quot;version&quot; in both application.yml and pom.xml.\r\n\r\nMy application.yml\r\n```\r\n...\r\nquarkus:\r\n  log:\r\n    level: INFO\r\n    handler:\r\n      gelf:\r\n        enabled: true\r\n        host: localhost\r\n        port: 12201\r\n        include-log-message-parameters: false\r\n        additional-field:\r\n          app_name:\r\n            value: &quot;testApp&quot;\r\n            type: string\r\n          app_version:\r\n            value: &quot;1.0.0&quot;\r\n            type: string\r\n...\r\n```\r\nMy pom.xml\r\n```\r\n...\r\n    &lt;groupId&gt;example.org&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testApp&lt;/artifactId&gt;\r\n    &lt;name&gt;Testing application&lt;/name&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n...\r\n```\r\n\r\nAdding\r\n```\r\nquarkus:\r\n  application:\r\n    version: 1.0.0\r\n    name: testApp\r\n```\r\nto application.yml didn&#39;t change a thing","title":"Quarkus gelf logging. How to log application name","body":"<p>I would like to log application name and version (from pom.xml file) with quarkus-gelf logging to send logs to logstash. I found a way to use &quot;additional-field&quot;, is there another option to do same, but shorter? Or some way to not duplicate &quot;version&quot; in both application.yml and pom.xml.</p>\n<p>My application.yml</p>\n<pre><code>...\nquarkus:\n  log:\n    level: INFO\n    handler:\n      gelf:\n        enabled: true\n        host: localhost\n        port: 12201\n        include-log-message-parameters: false\n        additional-field:\n          app_name:\n            value: &quot;testApp&quot;\n            type: string\n          app_version:\n            value: &quot;1.0.0&quot;\n            type: string\n...\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>...\n    &lt;groupId&gt;example.org&lt;/groupId&gt;\n    &lt;artifactId&gt;testApp&lt;/artifactId&gt;\n    &lt;name&gt;Testing application&lt;/name&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n...\n</code></pre>\n<p>Adding</p>\n<pre><code>quarkus:\n  application:\n    version: 1.0.0\n    name: testApp\n</code></pre>\n<p>to application.yml didn't change a thing</p>\n"},{"tags":["java","eclipse","rest","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564756189,"creation_date":1564756189,"answer_id":57328522,"question_id":57185401,"body_markdown":"Annotations aren&#39;t inherited by child classes from parent classes - so the annotations need to be repeated in the child class.","title":"Why can&#39;t I make a webserviceprovider base class?","body":"<p>Annotations aren't inherited by child classes from parent classes - so the annotations need to be repeated in the child class.</p>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57328522,"answer_count":1,"score":0,"last_activity_date":1689587038,"creation_date":1563978782,"question_id":57185401,"body_markdown":"I am trying to make a base class for my various REST APIs to be based on.\r\n\r\nIf I create a class as follows, without a base class, then this works fine (and so is my starting point for the refactoring):\r\n\r\n    @WebServiceProvider\r\n    @ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\r\n    @BindingType(value = HTTPBinding.HTTP_BINDING)\r\n    public class SpecificRestAPI implements Provider&lt;Source&gt;\r\n    {\r\n    \t// arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString url = args[0];\r\n    \t\t// Start\r\n    \t\tEndpoint.publish(url, new SpecificRestAPI());  \t\t\r\n    \t}\r\n    \t\r\n    \t@Resource\r\n    \tprivate WebServiceContext wsContext;\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \t   public Source invoke(Source request)\r\n    \t   {\r\n    \t      if (wsContext == null)\r\n    \t         throw new RuntimeException(&quot;dependency injection failed on wsContext&quot;);\r\n    \t      MessageContext msgContext = wsContext.getMessageContext();\r\n    \t      switch (((String) msgContext.get(MessageContext.HTTP_REQUEST_METHOD)).toUpperCase().trim())\r\n    \t      {\r\n    \t         case &quot;DELETE&quot;: \r\n    \t        \t return processDelete(msgContext);\r\n    //etc...\r\n              }\r\n        }\r\n    }\r\n\r\nHowever, if I make that class extend `BaseRestAPI` and try and move all annotations and annotated-objects and methods into the base class, I get an error:\r\n\r\n    @WebServiceProvider\r\n    @ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\r\n    @BindingType(value = HTTPBinding.HTTP_BINDING)\r\n    public abstract class BaseRestAPI  implements Provider&lt;Source&gt;\r\n    {\r\n        @Resource\r\n    \tprivate WebServiceContext wsContext;\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \t   public Source invoke(Source request)\r\n    \t   {\r\n    //etc...\r\n           }\r\n    }\r\n\r\n    public class SpecificRestAPI extends BaseRestAPI\r\n    {\r\n    \t// arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString url = args[0];\r\n    \t\t// Start\r\n    \t\tEndpoint.publish(url, new SpecificRestAPI());    \t\t\r\n    \t}\r\n\r\nThis gives me no compilation errors, but at run-time:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: class SpecificRestAPI  has neither @WebService nor @WebServiceProvider annotation\r\n\r\nBased on this error, I then tried moving that annotation into the `SpecificRestAPI` class, leaving the rest of the Base class as above; but then I get an eclipse compiler error that I&#39;m not implementing the `Provider` - but I am, just in the base class...\r\n\r\nIs this something anyone&#39;s done before; and if so how?","title":"Why can&#39;t I make a webserviceprovider base class?","body":"<p>I am trying to make a base class for my various REST APIs to be based on.</p>\n<p>If I create a class as follows, without a base class, then this works fine (and so is my starting point for the refactoring):</p>\n<pre><code>@WebServiceProvider\n@ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\n@BindingType(value = HTTPBinding.HTTP_BINDING)\npublic class SpecificRestAPI implements Provider&lt;Source&gt;\n{\n    // arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\n    public static void main(String[] args)\n    {\n        String url = args[0];\n        // Start\n        Endpoint.publish(url, new SpecificRestAPI());       \n    }\n    \n    @Resource\n    private WebServiceContext wsContext;\n    \n    \n    @Override\n       public Source invoke(Source request)\n       {\n          if (wsContext == null)\n             throw new RuntimeException(&quot;dependency injection failed on wsContext&quot;);\n          MessageContext msgContext = wsContext.getMessageContext();\n          switch (((String) msgContext.get(MessageContext.HTTP_REQUEST_METHOD)).toUpperCase().trim())\n          {\n             case &quot;DELETE&quot;: \n                 return processDelete(msgContext);\n//etc...\n          }\n    }\n}\n</code></pre>\n<p>However, if I make that class extend <code>BaseRestAPI</code> and try and move all annotations and annotated-objects and methods into the base class, I get an error:</p>\n<pre><code>@WebServiceProvider\n@ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\n@BindingType(value = HTTPBinding.HTTP_BINDING)\npublic abstract class BaseRestAPI  implements Provider&lt;Source&gt;\n{\n    @Resource\n    private WebServiceContext wsContext;\n    \n    \n    @Override\n       public Source invoke(Source request)\n       {\n//etc...\n       }\n}\n\npublic class SpecificRestAPI extends BaseRestAPI\n{\n    // arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\n    public static void main(String[] args)\n    {\n        String url = args[0];\n        // Start\n        Endpoint.publish(url, new SpecificRestAPI());           \n    }\n</code></pre>\n<p>This gives me no compilation errors, but at run-time:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: class SpecificRestAPI  has neither @WebService nor @WebServiceProvider annotation</p>\n</blockquote>\n<p>Based on this error, I then tried moving that annotation into the <code>SpecificRestAPI</code> class, leaving the rest of the Base class as above; but then I get an eclipse compiler error that I'm not implementing the <code>Provider</code> - but I am, just in the base class...</p>\n<p>Is this something anyone's done before; and if so how?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1689587437,"post_id":76703192,"comment_id":135229409,"body_markdown":"&quot;but the actual image is straight&quot; are you sure about that? I mean, are you sure it&#39;s not the software you&#39;re using to view the image that rotates it for you using EXIF data or something similar?","body":"&quot;but the actual image is straight&quot; are you sure about that? I mean, are you sure it&#39;s not the software you&#39;re using to view the image that rotates it for you using EXIF data or something similar?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689605649,"post_id":76703192,"comment_id":135233539,"body_markdown":"I&#39;d also assume that the original image _is_ sideways as seen in the PDF while image viewers usually use EXIF data to rotate it to an upright position. [This answer](https://stackoverflow.com/a/48568754/1729265) shows a way to use the EXIF data in the context of iText 7. You may be able to port that for iText 5 or earlier which you appear to use","body":"I&#39;d also assume that the original image <i>is</i> sideways as seen in the PDF while image viewers usually use EXIF data to rotate it to an upright position. <a href=\"https://stackoverflow.com/a/48568754/1729265\">This answer</a> shows a way to use the EXIF data in the context of iText 7. You may be able to port that for iText 5 or earlier which you appear to use"}],"owner":{"account_id":29032898,"reputation":1,"user_id":22239405,"display_name":"Swathi Sudarsanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689586836,"creation_date":1689586836,"question_id":76703192,"body_markdown":"URL url = url of an image;\r\nImage img = Image.getInstance(url);\r\n\r\nUsed this code for Java iText pdf.\r\n\r\nBut the img Im getting is rotated.\r\nWhat might be the reason?\r\n\r\nI tried byte code conversion and http methods for accessing the image by url. In all ways it getting rotated, but the actual image is straight.","title":"What might be the reason for Image image = Image.getInstance( returning rotated image?","body":"<p>URL url = url of an image;\nImage img = Image.getInstance(url);</p>\n<p>Used this code for Java iText pdf.</p>\n<p>But the img Im getting is rotated.\nWhat might be the reason?</p>\n<p>I tried byte code conversion and http methods for accessing the image by url. In all ways it getting rotated, but the actual image is straight.</p>\n"},{"tags":["java","android","networking"],"owner":{"account_id":21695440,"reputation":1234,"user_id":16009435,"display_name":"seriously"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689586533,"creation_date":1689505148,"question_id":76697896,"body_markdown":"I am trying to get the network speed on interface ```tun0```. I am currently getting the network speed but I am not sure which network interface it is accessing. What is the correct way to get the network speed on a specific interface on Android using Java? Thanks in advance.\r\n\r\n**Current method**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void networkSpeed() throws Exception {\r\n      Activity currentActivity = getCurrentActivity();\r\n      ConnectivityManager cm = (ConnectivityManager) currentActivity.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n      NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n      //should check null because in airplane mode it will be null\r\n      NetworkCapabilities nc = null;\r\n      if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n        nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\n      }\r\n\r\n      int downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\n      int upSpeed = nc.getLinkUpstreamBandwidthKbps();\r\n      System.out.println(&quot;{\\&quot;downSpeed\\&quot;: \\&quot;&quot; + downSpeed + &quot;\\&quot;, \\&quot;upSpeed\\&quot;: \\&quot;&quot; + upSpeed + &quot;\\&quot;}&quot;);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"get network speed on specific interface","body":"<p>I am trying to get the network speed on interface <code>tun0</code>. I am currently getting the network speed but I am not sure which network interface it is accessing. What is the correct way to get the network speed on a specific interface on Android using Java? Thanks in advance.</p>\n<p><strong>Current method</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public void networkSpeed() throws Exception {\n  Activity currentActivity = getCurrentActivity();\n  ConnectivityManager cm = (ConnectivityManager) currentActivity.getSystemService(Context.CONNECTIVITY_SERVICE);\n  NetworkInfo netInfo = cm.getActiveNetworkInfo();\n  //should check null because in airplane mode it will be null\n  NetworkCapabilities nc = null;\n  if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n    nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\n  }\n\n  int downSpeed = nc.getLinkDownstreamBandwidthKbps();\n  int upSpeed = nc.getLinkUpstreamBandwidthKbps();\n  System.out.println(\"{\\\"downSpeed\\\": \\\"\" + downSpeed + \"\\\", \\\"upSpeed\\\": \\\"\" + upSpeed + \"\\\"}\");\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","open-telemetry","open-telemetry-collector","otel"],"answers":[{"tags":[],"owner":{"account_id":51366,"reputation":401,"user_id":153455,"display_name":"Aneurysm9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689007832,"creation_date":1689007832,"answer_id":76655805,"question_id":76626667,"body_markdown":"There are two errors reported by your application that I can see.  The first: `Server responded with UNIMPLEMENTED` happens when you attempt to use the gRPC exporter with a server expecting HTTP.  Change your collector endpoint in the application to use port `4317` to use gRPC.\r\n\r\nThe second error indicates that the message you are attempting to send to the collector is too large.  Either adjust the settings of your batch span processor in the application to send more frequently, adjust your collector&#39;s OTLP receiver configuration to increase `max_recv_msg_size_mib`, or enable compression on the exporter to reduce the size of the exported payload.","title":"OpenTelemetry SDK: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180","body":"<p>There are two errors reported by your application that I can see.  The first: <code>Server responded with UNIMPLEMENTED</code> happens when you attempt to use the gRPC exporter with a server expecting HTTP.  Change your collector endpoint in the application to use port <code>4317</code> to use gRPC.</p>\n<p>The second error indicates that the message you are attempting to send to the collector is too large.  Either adjust the settings of your batch span processor in the application to send more frequently, adjust your collector's OTLP receiver configuration to increase <code>max_recv_msg_size_mib</code>, or enable compression on the exporter to reduce the size of the exported payload.</p>\n"},{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689586388,"creation_date":1689586388,"answer_id":76703136,"question_id":76626667,"body_markdown":"I think I was pointing to wrong port no. i.e. 4317 (which is internal container port but external port was 4343 that I&#39;ve mentioned in `docker-compose.yaml`\r\n\r\n```\r\nOtlpGrpcSpanExporter otlpGrpcSpanExporter = \r\nOtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4343&quot;).build();\r\n```\r\n\r\nP.S.: http protocol was working previously as well.","title":"OpenTelemetry SDK: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180","body":"<p>I think I was pointing to wrong port no. i.e. 4317 (which is internal container port but external port was 4343 that I've mentioned in <code>docker-compose.yaml</code></p>\n<pre><code>OtlpGrpcSpanExporter otlpGrpcSpanExporter = \nOtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4343&quot;).build();\n</code></pre>\n<p>P.S.: http protocol was working previously as well.</p>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76703136,"answer_count":2,"score":1,"last_activity_date":1689586388,"creation_date":1688630177,"question_id":76626667,"body_markdown":"I&#39;m trying to export the spans to `HoneyComb` through `Otel-Collector`\r\n\r\nUsing below Otel-collector configs I&#39;m able to `POST` test `Trace` to `HoneyComb UI` as below\r\n\r\n```\r\ncurl -i http://localhost:4318/v1/traces -X POST -H &quot;Content-Type: application/json&quot;  -d @span.json\r\n```\r\n\r\nMy `Otel-Collector` versions that I tried are as below\r\n```\r\nreceivers:\r\n  otlp:\r\n    protocols:\r\n      grpc:\r\n      http:\r\n\r\nexporters:\r\n  logging:\r\n   loglevel: debug\r\n  otlphttp:\r\n    endpoint: &quot;https://api.honeycomb.io&quot;\r\n    headers:\r\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\r\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\r\n\r\nprocessors:\r\n  batch:\r\n\r\nservice:\r\n  pipelines:\r\n    traces:\r\n      receivers: [otlp]\r\n      processors: [batch]\r\n      exporters: [logging, otlphttp]\r\n```\r\n\r\nOR\r\n\r\n```\r\nreceivers:\r\n  otlp:\r\n    protocols:\r\n      grpc:\r\n      http:\r\n\r\nexporters:\r\n  logging:\r\n   loglevel: debug\r\n  otlp:\r\n    endpoint: &quot;http://api.honeycomb.io:443&quot; # even simply api.honeycomb.io:443\r\n    headers:\r\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\r\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\r\n\r\nprocessors:\r\n  batch:\r\n\r\nservice:\r\n  pipelines:\r\n    traces:\r\n      receivers: [otlp]\r\n      processors: [batch]\r\n      exporters: [logging, otlp]\r\n```\r\n\r\ndocker-compose.yaml is as below\r\n```\r\nversion: &quot;2&quot;\r\nservices:\r\n\r\n  # Collector\r\n  otel-collector:\r\n    image: otel/opentelemetry-collector-contrib:latest\r\n    restart: always\r\n    command: [&quot;--config=/etc/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot;]\r\n    volumes:\r\n      - ./otel-collector-config.yaml:/etc/otel-collector-config.yaml\r\n    ports:\r\n      - &quot;1888:1888&quot;   # pprof extension\r\n      - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\r\n      - &quot;8889:8889&quot;   # Prometheus exporter metrics\r\n      - &quot;13133:13133&quot; # health_check extension\r\n      - &quot;4343:4317&quot;   # OTLP gRPC receiver\r\n      - &quot;4318:4318&quot;   # OTLP http receiver\r\n```\r\n\r\nOpenTelemetry implementation is \r\n```\r\nResource resource = Resource.getDefault().merge(Resource.builder().put(SERVICE_NAME, MY_SERVICE_NAME).build());\r\n\r\n        OtlpGrpcSpanExporter otlpGrpcSpanExporter = OtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4318&quot;).build();\r\n\r\n        SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\r\n                .addSpanProcessor(BatchSpanProcessor.builder(otlpGrpcSpanExporter).build())\r\n                .setResource(resource)\r\n                .build();\r\n\r\n        openTelemetry = OpenTelemetrySdk.builder().\r\n                .setTracerProvider(sdkTracerProvider)\r\n                .buildAndRegisterGlobal();\r\n\r\nTracer tracer = openTelemetry.getTracer(&quot;My Tracer&quot;);\r\n\r\nspan = tracer.spanBuilder(messageType + &quot; handler span&quot;).startSpan();\r\nspan.setAttribute(&quot;messageType&quot;, messageType);\r\n\r\n//some logic\r\n\r\nspan.end();\r\n```\r\n\r\nI&#39;m seeing below error in my application. Not sure what is I&#39;m missing here?\r\n\r\n```\r\nJul 06, 2023 12:52:04 PM io.opentelemetry.exporter.internal.grpc.GrpcExporterUtil logUnimplemented\r\nSEVERE: Failed to export metrics. Server responded with UNIMPLEMENTED. This usually means that your collector is not configured with an otlp receiver in the &quot;pipelines&quot; section of the configuration. If export is not desired and you are using OpenTelemetry autoconfiguration or the javaagent, disable export by setting OTEL_METRICS_EXPORTER=none. Full error message: unknown service opentelemetry.proto.collector.metrics.v1.MetricsService\r\n\r\n\r\n\r\nJul 06, 2023 12:52:08 PM io.opentelemetry.sdk.internal.ThrottlingLogger doLog\r\nSEVERE: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\r\n```","title":"OpenTelemetry SDK: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180","body":"<p>I'm trying to export the spans to <code>HoneyComb</code> through <code>Otel-Collector</code></p>\n<p>Using below Otel-collector configs I'm able to <code>POST</code> test <code>Trace</code> to <code>HoneyComb UI</code> as below</p>\n<pre><code>curl -i http://localhost:4318/v1/traces -X POST -H &quot;Content-Type: application/json&quot;  -d @span.json\n</code></pre>\n<p>My <code>Otel-Collector</code> versions that I tried are as below</p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n      http:\n\nexporters:\n  logging:\n   loglevel: debug\n  otlphttp:\n    endpoint: &quot;https://api.honeycomb.io&quot;\n    headers:\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\n\nprocessors:\n  batch:\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [logging, otlphttp]\n</code></pre>\n<p>OR</p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n      http:\n\nexporters:\n  logging:\n   loglevel: debug\n  otlp:\n    endpoint: &quot;http://api.honeycomb.io:443&quot; # even simply api.honeycomb.io:443\n    headers:\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\n\nprocessors:\n  batch:\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [logging, otlp]\n</code></pre>\n<p>docker-compose.yaml is as below</p>\n<pre><code>version: &quot;2&quot;\nservices:\n\n  # Collector\n  otel-collector:\n    image: otel/opentelemetry-collector-contrib:latest\n    restart: always\n    command: [&quot;--config=/etc/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot;]\n    volumes:\n      - ./otel-collector-config.yaml:/etc/otel-collector-config.yaml\n    ports:\n      - &quot;1888:1888&quot;   # pprof extension\n      - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\n      - &quot;8889:8889&quot;   # Prometheus exporter metrics\n      - &quot;13133:13133&quot; # health_check extension\n      - &quot;4343:4317&quot;   # OTLP gRPC receiver\n      - &quot;4318:4318&quot;   # OTLP http receiver\n</code></pre>\n<p>OpenTelemetry implementation is</p>\n<pre><code>Resource resource = Resource.getDefault().merge(Resource.builder().put(SERVICE_NAME, MY_SERVICE_NAME).build());\n\n        OtlpGrpcSpanExporter otlpGrpcSpanExporter = OtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4318&quot;).build();\n\n        SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\n                .addSpanProcessor(BatchSpanProcessor.builder(otlpGrpcSpanExporter).build())\n                .setResource(resource)\n                .build();\n\n        openTelemetry = OpenTelemetrySdk.builder().\n                .setTracerProvider(sdkTracerProvider)\n                .buildAndRegisterGlobal();\n\nTracer tracer = openTelemetry.getTracer(&quot;My Tracer&quot;);\n\nspan = tracer.spanBuilder(messageType + &quot; handler span&quot;).startSpan();\nspan.setAttribute(&quot;messageType&quot;, messageType);\n\n//some logic\n\nspan.end();\n</code></pre>\n<p>I'm seeing below error in my application. Not sure what is I'm missing here?</p>\n<pre><code>Jul 06, 2023 12:52:04 PM io.opentelemetry.exporter.internal.grpc.GrpcExporterUtil logUnimplemented\nSEVERE: Failed to export metrics. Server responded with UNIMPLEMENTED. This usually means that your collector is not configured with an otlp receiver in the &quot;pipelines&quot; section of the configuration. If export is not desired and you are using OpenTelemetry autoconfiguration or the javaagent, disable export by setting OTEL_METRICS_EXPORTER=none. Full error message: unknown service opentelemetry.proto.collector.metrics.v1.MetricsService\n\n\n\nJul 06, 2023 12:52:08 PM io.opentelemetry.sdk.internal.ThrottlingLogger doLog\nSEVERE: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\n</code></pre>\n"},{"tags":["java","spring","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689239129,"post_id":76677238,"comment_id":135186139,"body_markdown":"Why not just a `String` and pass that on? Instead of String -&gt; Map -&gt; String? What the returned object is is solely to the implementation in this case Jackson, so will it always be a `LinkedHashMap` could be or couldn&#39;t be. But as mentioned why map it to a `Map` of you are going to turn it into the same JSON anyway, just pass it along.","body":"Why not just a <code>String</code> and pass that on? Instead of String -&gt; Map -&gt; String? What the returned object is is solely to the implementation in this case Jackson, so will it always be a <code>LinkedHashMap</code> could be or couldn&#39;t be. But as mentioned why map it to a <code>Map</code> of you are going to turn it into the same JSON anyway, just pass it along."},{"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"score":0,"creation_date":1689239587,"post_id":76677238,"comment_id":135186231,"body_markdown":"Are you performing any operations on that Map?","body":"Are you performing any operations on that Map?"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1689241888,"post_id":76677238,"comment_id":135186757,"body_markdown":"yes, sometimes i do perform some operation on the response so i need to map it","body":"yes, sometimes i do perform some operation on the response so i need to map it"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1689585159,"post_id":76677238,"comment_id":135228932,"body_markdown":"@M.Deinum actually i tried to convert the response to a String but i get: Error while extracting response for type [class java.lang.String] and content type [application/json] .... here&#39;s my code: return restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);","body":"@M.Deinum actually i tried to convert the response to a String but i get: Error while extracting response for type [class java.lang.String] and content type [application/json] .... here&#39;s my code: return restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689585873,"post_id":76677238,"comment_id":135229084,"body_markdown":"Please don&#39;t provide additional code as comments as that is totally unreadable. Please edit your question and add the full error stacktrace you get.","body":"Please don&#39;t provide additional code as comments as that is totally unreadable. Please edit your question and add the full error stacktrace you get."},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1689586301,"post_id":76677238,"comment_id":135229168,"body_markdown":"@M.Deinum oh i&#39;m sorry, im new to this, actually i have edited my post. Your feedback would be really appreciated!","body":"@M.Deinum oh i&#39;m sorry, im new to this, actually i have edited my post. Your feedback would be really appreciated!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689586389,"post_id":76677238,"comment_id":135229191,"body_markdown":"Do you get a larger stacktrace or just this snippet? I would expect a bit more actually.","body":"Do you get a larger stacktrace or just this snippet? I would expect a bit more actually."}],"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689586246,"creation_date":1689235846,"question_id":76677238,"body_markdown":"In my code, I am using RestTemplate to call an external API and receive a complex JSON response. However, for my specific use case, I only need to return the JSON as-is to the front-end. To achieve this, I have chosen to map the response to a Map&lt;String, Object&gt;.\r\n\r\nCurrently, I have observed that the mapping works well, and during debugging, I can see that it returns a LinkedHashMap, which suits my requirements as I need the values to be ordered. However, I would like to confirm if this behavior is consistent and reliable.\r\n\r\nMy question is: How can I determine if the mapping operation will always return a LinkedHashMap or if it could potentially return a different implementation, such as a HashMap?\r\n\r\nI have searched for relevant documentation but haven&#39;t been able to find any specific information regarding the implementation returned by RestTemplate when mapping JSON responses to a Map.\r\n\r\nAny insights or pointers to relevant documentation would be greatly appreciated. Thank you!\r\n\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; responseType = new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\nreturn restTemplate.exchange(uri, HttpMethod.POST, new HttpEntity&lt;&gt;(request, getHeaders()), responseType).getBody();\r\n```\r\n\r\nEdit:\r\ni tried to convert the response to a String but i got the error:\r\n\r\nError while extracting response for type [class java.lang.String] and content type [application/json]\r\n\r\nHere&#39;s my new code:\r\n\r\n```\r\nreturn restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);\r\n```","title":"How can I determine the implementation returned when mapping a JSON response to a Map with RestTemplate?","body":"<p>In my code, I am using RestTemplate to call an external API and receive a complex JSON response. However, for my specific use case, I only need to return the JSON as-is to the front-end. To achieve this, I have chosen to map the response to a Map&lt;String, Object&gt;.</p>\n<p>Currently, I have observed that the mapping works well, and during debugging, I can see that it returns a LinkedHashMap, which suits my requirements as I need the values to be ordered. However, I would like to confirm if this behavior is consistent and reliable.</p>\n<p>My question is: How can I determine if the mapping operation will always return a LinkedHashMap or if it could potentially return a different implementation, such as a HashMap?</p>\n<p>I have searched for relevant documentation but haven't been able to find any specific information regarding the implementation returned by RestTemplate when mapping JSON responses to a Map.</p>\n<p>Any insights or pointers to relevant documentation would be greatly appreciated. Thank you!</p>\n<p>Here's my code:</p>\n<pre><code>ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; responseType = new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\nreturn restTemplate.exchange(uri, HttpMethod.POST, new HttpEntity&lt;&gt;(request, getHeaders()), responseType).getBody();\n</code></pre>\n<p>Edit:\ni tried to convert the response to a String but i got the error:</p>\n<p>Error while extracting response for type [class java.lang.String] and content type [application/json]</p>\n<p>Here's my new code:</p>\n<pre><code>return restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);\n</code></pre>\n"},{"tags":["java","eclipse","find","grep","package"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319037699,"creation_date":1319037321,"answer_id":7823585,"question_id":7823500,"body_markdown":"Right-click -&gt; References -&gt; (whichever you want). For workspace references, Shift-Ctrl-G (by default, anyway).\r\n\r\nI *think* the default results list is a tree, that can be changed to a list. I *don&#39;t* think it shows line numbers, however, at least in the slightly-dated version of Eclipse I&#39;m using. If you&#39;re *specifically* looking for line numbers, I don&#39;t think the default tools have an export that includes them.\r\n\r\nYou might try the IntelliJ Community Edition; its searches *do* show line numbers, and results are exportable to a text file (fragment below).\r\n\r\n    Class\r\n        server.UDPServer\r\n    Found usages  (44 usages)\r\n        StartThread.java  (6 usages)\r\n            (12: 19) private final UDPServer myserv;\r\n            (14: 17) StartThread(UDPServer server){\r\n            (18: 16) myserv.button1.setEnabled(false);\r\n            (19: 16) myserv.button2.setEnabled(true);\r\n            (30: 32) myserv.area.append(&quot;Server is started\\n&quot;);\r\n            (37: 36) myserv.area.append(&quot; Received &quot;\r\n","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>Right-click -> References -> (whichever you want). For workspace references, Shift-Ctrl-G (by default, anyway).</p>\n\n<p>I <em>think</em> the default results list is a tree, that can be changed to a list. I <em>don't</em> think it shows line numbers, however, at least in the slightly-dated version of Eclipse I'm using. If you're <em>specifically</em> looking for line numbers, I don't think the default tools have an export that includes them.</p>\n\n<p>You might try the IntelliJ Community Edition; its searches <em>do</em> show line numbers, and results are exportable to a text file (fragment below).</p>\n\n<pre><code>Class\n    server.UDPServer\nFound usages  (44 usages)\n    StartThread.java  (6 usages)\n        (12: 19) private final UDPServer myserv;\n        (14: 17) StartThread(UDPServer server){\n        (18: 16) myserv.button1.setEnabled(false);\n        (19: 16) myserv.button2.setEnabled(true);\n        (30: 32) myserv.area.append(\"Server is started\\n\");\n        (37: 36) myserv.area.append(\" Received \"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1319037754,"creation_date":1319037754,"answer_id":7823687,"question_id":7823500,"body_markdown":"Here&#39;s a hack:\r\n\r\nMark the package as deprecated using a package-info.java file:\r\n\r\n\r\n    @Deprecated\r\n    package com.yourcompany.yourpackage;\r\n\r\nNow you should see compiler warnings everywhere you use the package\r\n","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>Here's a hack:</p>\n\n<p>Mark the package as deprecated using a package-info.java file:</p>\n\n<pre><code>@Deprecated\npackage com.yourcompany.yourpackage;\n</code></pre>\n\n<p>Now you should see compiler warnings everywhere you use the package</p>\n"},{"tags":[],"owner":{"account_id":2652663,"reputation":96,"user_id":2293975,"display_name":"mdanaci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372676113,"creation_date":1372676113,"answer_id":17402786,"question_id":7823500,"body_markdown":"You can select class, constructor, method or field and press &quot;ctrl + alt+ h&quot;. This opens the call hierarchy menu.","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>You can select class, constructor, method or field and press \"ctrl + alt+ h\". This opens the call hierarchy menu.</p>\n"},{"tags":[],"owner":{"account_id":15641167,"reputation":113,"user_id":11284467,"display_name":"Hamza Safdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689585135,"creation_date":1689585135,"answer_id":76702986,"question_id":7823500,"body_markdown":"Simply remove the package from your build path and the compiler starts showing error wherever it is used.","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>Simply remove the package from your build path and the compiler starts showing error wherever it is used.</p>\n"}],"owner":{"account_id":41000,"reputation":15012,"user_id":119071,"accept_rate":80,"display_name":"Serafeim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7823687,"answer_count":4,"score":1,"last_activity_date":1689585135,"creation_date":1319036966,"question_id":7823500,"body_markdown":"I have a number of Eclipse projects that are all using classes from a specific package, let&#39;s call it &quot;gr.serafeim&quot;. Now, I want to find where (which line numbers of each file) in all my source files are the members of gr.serafeim are used. The problem is that I am usually using imports and not the fully qualified names of classes, so searching for &quot;gr.serafeim&quot; will only return me the import statements :(\r\n\r\nI don&#39;t want anything fance, just a quick and dirty solution to find out all the lines containing classes of the gr.serafeim package (an eclipse plugin ?). As an added value, I don&#39;t want only the declarations but also the method calls of these function.\r\n\r\nHere&#39;s an example of what I actually wanted:\r\n\r\n    // File main.java   \r\n    import gr.serafeim.*;\r\n    public static void main(String args[]) {\r\n        // Test is a member of gr.serafeim !\r\n        Test t = new Test(5);\r\n        int i=3;\r\n        t.add(i);\r\n    }\r\n\r\nWhat I&#39;d like to get as a return from the previous file would be something like this\r\n\r\n    main.java: 5: Test t = new Test(5); \r\n    main.java: 7: t.add(i); \r\n\r\nIf the previous can&#39;t be done, then I could also go with a way to massively name qualify all my classes. So the statement\r\n\r\n    Test t = new Test(5);\r\n\r\nwould become\r\n\r\n    gr.serafeim.Test t = new gr.serafeim.Test(5);\r\n\r\nand then I&#39;d just grep for gr.serafiem. This of course won&#39;t help in finding the t.add(i) line but would be a good first step and I could go from there checking the code myself ...\r\n\r\n\r\n[This is not the same with this question!][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3734825/find-out-which-classes-of-a-given-api-are-used\r\n","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>I have a number of Eclipse projects that are all using classes from a specific package, let's call it \"gr.serafeim\". Now, I want to find where (which line numbers of each file) in all my source files are the members of gr.serafeim are used. The problem is that I am usually using imports and not the fully qualified names of classes, so searching for \"gr.serafeim\" will only return me the import statements :(</p>\n\n<p>I don't want anything fance, just a quick and dirty solution to find out all the lines containing classes of the gr.serafeim package (an eclipse plugin ?). As an added value, I don't want only the declarations but also the method calls of these function.</p>\n\n<p>Here's an example of what I actually wanted:</p>\n\n<pre><code>// File main.java   \nimport gr.serafeim.*;\npublic static void main(String args[]) {\n    // Test is a member of gr.serafeim !\n    Test t = new Test(5);\n    int i=3;\n    t.add(i);\n}\n</code></pre>\n\n<p>What I'd like to get as a return from the previous file would be something like this</p>\n\n<pre><code>main.java: 5: Test t = new Test(5); \nmain.java: 7: t.add(i); \n</code></pre>\n\n<p>If the previous can't be done, then I could also go with a way to massively name qualify all my classes. So the statement</p>\n\n<pre><code>Test t = new Test(5);\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>gr.serafeim.Test t = new gr.serafeim.Test(5);\n</code></pre>\n\n<p>and then I'd just grep for gr.serafiem. This of course won't help in finding the t.add(i) line but would be a good first step and I could go from there checking the code myself ...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3734825/find-out-which-classes-of-a-given-api-are-used\">This is not the same with this question!</a></p>\n"},{"tags":["java","spring","spring-boot","annotations","swagger"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689586115,"post_id":76702968,"comment_id":135229139,"body_markdown":"Are you sure Swagger supports meta-annotations like that? Can you link to the documentation that explains it?","body":"Are you sure Swagger supports meta-annotations like that? Can you link to the documentation that explains it?"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1689591406,"post_id":76702968,"comment_id":135230215,"body_markdown":"The Spring Framework supports meta-annotations, but this is not a feature that works in general for annotations in Java.","body":"The Spring Framework supports meta-annotations, but this is not a feature that works in general for annotations in Java."},{"owner":{"account_id":26249821,"reputation":17,"user_id":19922772,"display_name":"parsa faraji"},"score":0,"creation_date":1689591533,"post_id":76702968,"comment_id":135230246,"body_markdown":"@jorn\nI didn&#39;t understand what you meant by &#39;meta annotation.&#39; If you&#39;re asking whether a schema annotation can be placed above other annotations, then yes, it can.","body":"@jorn I didn&#39;t understand what you meant by &#39;meta annotation.&#39; If you&#39;re asking whether a schema annotation can be placed above other annotations, then yes, it can."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689594861,"post_id":76702968,"comment_id":135230929,"body_markdown":"@parsafaraji okay, but does Swagger support that? It needs to have explicit support for such a feature, it&#39;s not automatic. And I don&#39;t see any documentation that indicates Swagger does that.","body":"@parsafaraji okay, but does Swagger support that? It needs to have explicit support for such a feature, it&#39;s not automatic. And I don&#39;t see any documentation that indicates Swagger does that."},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1689595440,"post_id":76702968,"comment_id":135231058,"body_markdown":"There are some discussions in the Swagger Core repo ([one](https://github.com/swagger-api/swagger-core/issues/4340#issuecomment-1571847731), [two](https://github.com/swagger-api/swagger-core/issues/3926)) that suggest that meta-annotations should work, but I haven&#39;t tried myself.","body":"There are some discussions in the Swagger Core repo (<a href=\"https://github.com/swagger-api/swagger-core/issues/4340#issuecomment-1571847731\" rel=\"nofollow noreferrer\">one</a>, <a href=\"https://github.com/swagger-api/swagger-core/issues/3926\" rel=\"nofollow noreferrer\">two</a>) that suggest that meta-annotations should work, but I haven&#39;t tried myself."}],"owner":{"account_id":26249821,"reputation":17,"user_id":19922772,"display_name":"parsa faraji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689585016,"creation_date":1689585016,"question_id":76702968,"body_markdown":"I want to combine two annotations for summarization\r\n\r\n    @Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\r\n    @Schema(example = &quot;3021-700-12345567-1&quot;)\r\nSchema annotation is one of the swagger anno\r\n\r\nand this is my new annotation\r\n\r\n    @Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\r\n    @Schema(example = &quot;3021-700-12345567-1&quot;)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface NewAnno {\r\n    }\r\n\r\nIts work:\r\n\r\n    @Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\r\n    @Schema(example = &quot;3021-700-12345567-1&quot;)\r\n    private String depositNumber;\r\n\r\nBut its not:\r\n\r\n    @NewAnno\r\n    private String depositNumber;","title":"How can i combine two annotation into one?","body":"<p>I want to combine two annotations for summarization</p>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\n@Schema(example = &quot;3021-700-12345567-1&quot;)\n</code></pre>\n<p>Schema annotation is one of the swagger anno</p>\n<p>and this is my new annotation</p>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\n@Schema(example = &quot;3021-700-12345567-1&quot;)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NewAnno {\n}\n</code></pre>\n<p>Its work:</p>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\n@Schema(example = &quot;3021-700-12345567-1&quot;)\nprivate String depositNumber;\n</code></pre>\n<p>But its not:</p>\n<pre><code>@NewAnno\nprivate String depositNumber;\n</code></pre>\n"},{"tags":["java","druid"],"owner":{"account_id":6157946,"reputation":123,"user_id":4800384,"display_name":"sidd shadab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689584214,"creation_date":1671540021,"question_id":74863243,"body_markdown":"I have done a basic setup of druid cluster on my local machine with basic auth properties like below \r\n\r\n\r\n\r\n    # Druid basic security\r\n    druid.auth.authenticatorChain=[&quot;MyBasicMetadataAuthenticator&quot;]\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.type=basic\r\n    \r\n    # Default password for &#39;admin&#39; user, should be changed for production.\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.initialAdminPassword=password1\r\n    \r\n    # Default password for internal &#39;druid_system&#39; user, should be changed for production.\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.initialInternalClientPassword=password2\r\n    \r\n    # Uses the metadata store for storing users, you can use authentication API to create new users and grant permissions\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialsValidator.type=metadata\r\n    \r\n    # If true and the request credential doesn&#39;t exists in this credentials store, the request will proceed to next Authenticator in the chain.\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.skipOnFailure=false\r\n    \r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName=MyBasicMetadataAuthorizer\r\n    \r\n    # Escalator\r\n    druid.escalator.type=basic\r\n    druid.escalator.internalClientUsername=druid_system\r\n    druid.escalator.internalClientPassword=password2\r\n    druid.escalator.authorizerName=MyBasicMetadataAuthorizer\r\n    \r\n    druid.auth.authorizers=[&quot;MyBasicMetadataAuthorizer&quot;]\r\n    \r\n    druid.auth.authorizer.MyBasicMetadataAuthorizer.type=basic\r\n\r\n\r\n\r\n and if see my services, all are running like below \r\n\r\n\r\n    &gt; CONTAINER ID   IMAGE                   COMMAND                  CREATED          STATUS                   PORTS                                                      NAMES\r\n    8c16553331b6   apache/druid:24.0.0     &quot;/druid.sh broker&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8082-&gt;8082/tcp                                     broker\r\n    c1a1fc119ee1   apache/druid:24.0.0     &quot;/druid.sh router&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8888-&gt;8888/tcp                                     router\r\n    5a20e7da110c   apache/druid:24.0.0     &quot;/druid.sh middleMan…&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8091-&gt;8091/tcp, 0.0.0.0:8100-8105-&gt;8100-8105/tcp   middlemanager\r\n    ef6e49b0815b   apache/druid:24.0.0     &quot;/druid.sh historical&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8083-&gt;8083/tcp                                     historical\r\n    f2b4008edd8e   apache/druid:24.0.0     &quot;/druid.sh coordinat…&quot;   43 minutes ago   Up 20 seconds            0.0.0.0:8081-&gt;8081/tcp                                     coordinator\r\n    8eff9a6add0e   postgres:latest         &quot;docker-entrypoint.s…&quot;   17 hours ago     Up 21 seconds            0.0.0.0:5433-&gt;5432/tcp                                     postgres\r\n    eecb2afe81e7   zookeeper:3.5           &quot;/docker-entrypoint.…&quot;   17 hours ago     Up 21 seconds            2888/tcp, 3888/tcp, 0.0.0.0:2181-&gt;2181/tcp, 8080/tcp       zookeeper\r\n\r\nand if i am hitting any of api of druid \r\n\r\n    \r\n    $ curl -H &quot;Content-type: application/json&quot; -u admin:password1  -d &quot;{\\&quot;password\\&quot;:\\&quot;password123\\&quot;}&quot; -X POST http://66.94.107.105:8081/druid-ext/basic-security/authentication/db/MyBasicMetadataAuthenticator/users/admin/credentials;\r\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                     Dload  Upload   Total   Spent    Left  Speed\r\n    100   114    0    88  100    26    125     37 --:--:-- --:--:-- --:--:--   162{&quot;error&quot;:&quot;Basic authenticator with name [MyBasicMetadataAuthenticator] does not exist.&quot;}\r\n\r\n\r\n\r\n","title":"Druid {&quot;error&quot;:&quot;Basic authenticator with name [MyBasicMetadataAuthenticator] does not exist.&quot;}","body":"<p>I have done a basic setup of druid cluster on my local machine with basic auth properties like below</p>\n<pre><code># Druid basic security\ndruid.auth.authenticatorChain=[&quot;MyBasicMetadataAuthenticator&quot;]\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.type=basic\n\n# Default password for 'admin' user, should be changed for production.\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.initialAdminPassword=password1\n\n# Default password for internal 'druid_system' user, should be changed for production.\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.initialInternalClientPassword=password2\n\n# Uses the metadata store for storing users, you can use authentication API to create new users and grant permissions\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.credentialsValidator.type=metadata\n\n# If true and the request credential doesn't exists in this credentials store, the request will proceed to next Authenticator in the chain.\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.skipOnFailure=false\n\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName=MyBasicMetadataAuthorizer\n\n# Escalator\ndruid.escalator.type=basic\ndruid.escalator.internalClientUsername=druid_system\ndruid.escalator.internalClientPassword=password2\ndruid.escalator.authorizerName=MyBasicMetadataAuthorizer\n\ndruid.auth.authorizers=[&quot;MyBasicMetadataAuthorizer&quot;]\n\ndruid.auth.authorizer.MyBasicMetadataAuthorizer.type=basic\n</code></pre>\n<p>and if see my services, all are running like below</p>\n<pre><code>&gt; CONTAINER ID   IMAGE                   COMMAND                  CREATED          STATUS                   PORTS                                                      NAMES\n8c16553331b6   apache/druid:24.0.0     &quot;/druid.sh broker&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8082-&gt;8082/tcp                                     broker\nc1a1fc119ee1   apache/druid:24.0.0     &quot;/druid.sh router&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8888-&gt;8888/tcp                                     router\n5a20e7da110c   apache/druid:24.0.0     &quot;/druid.sh middleMan…&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8091-&gt;8091/tcp, 0.0.0.0:8100-8105-&gt;8100-8105/tcp   middlemanager\nef6e49b0815b   apache/druid:24.0.0     &quot;/druid.sh historical&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8083-&gt;8083/tcp                                     historical\nf2b4008edd8e   apache/druid:24.0.0     &quot;/druid.sh coordinat…&quot;   43 minutes ago   Up 20 seconds            0.0.0.0:8081-&gt;8081/tcp                                     coordinator\n8eff9a6add0e   postgres:latest         &quot;docker-entrypoint.s…&quot;   17 hours ago     Up 21 seconds            0.0.0.0:5433-&gt;5432/tcp                                     postgres\neecb2afe81e7   zookeeper:3.5           &quot;/docker-entrypoint.…&quot;   17 hours ago     Up 21 seconds            2888/tcp, 3888/tcp, 0.0.0.0:2181-&gt;2181/tcp, 8080/tcp       zookeeper\n</code></pre>\n<p>and if i am hitting any of api of druid</p>\n<pre><code>$ curl -H &quot;Content-type: application/json&quot; -u admin:password1  -d &quot;{\\&quot;password\\&quot;:\\&quot;password123\\&quot;}&quot; -X POST http://66.94.107.105:8081/druid-ext/basic-security/authentication/db/MyBasicMetadataAuthenticator/users/admin/credentials;\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   114    0    88  100    26    125     37 --:--:-- --:--:-- --:--:--   162{&quot;error&quot;:&quot;Basic authenticator with name [MyBasicMetadataAuthenticator] does not exist.&quot;}\n</code></pre>\n"},{"tags":["java","swing","jlink"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689586641,"post_id":76702855,"comment_id":135229249,"body_markdown":"I guess you might need to include some additional JDK or JavaFX module which provides some different rendering pipeline or something.","body":"I guess you might need to include some additional JDK or JavaFX module which provides some different rendering pipeline or something."},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1689588246,"post_id":76702855,"comment_id":135229593,"body_markdown":"Do you have idea how can I know which to include? I try to compare`-verbose` from 2 different Java (system Java and custom Java image), I do not get much useful information.","body":"Do you have idea how can I know which to include? I try to compare<code>-verbose</code> from 2 different Java (system Java and custom Java image), I do not get much useful information."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689588580,"post_id":76702855,"comment_id":135229662,"body_markdown":"I&#39;ve tried looking for anything obvious, but I don&#39;t know.","body":"I&#39;ve tried looking for anything obvious, but I don&#39;t know."},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1689711530,"post_id":76702855,"comment_id":135251739,"body_markdown":"I would override the `paintComponent(Graphics g)` method of one of the JLabel and print the rendering hints values and compare both. If it&#39;s the same then the `UIDefaults`, then the system properties.","body":"I would override the <code>paintComponent(Graphics g)</code> method of one of the JLabel and print the rendering hints values and compare both. If it&#39;s the same then the <code>UIDefaults</code>, then the system properties."}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689584114,"creation_date":1689584114,"question_id":76702855,"body_markdown":"We are using JDK FX 17 from https://www.azul.com/downloads/#zulu\r\n\r\nWe build a custom Java runtime image using the following command\r\n\r\n    jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path &quot;C:\\Program Files\\Zulu\\zulu-17\\jmods&quot; --add-modules java.base,java.datatransfer,java.desktop,java.logging,java.naming,java.prefs,java.rmi,java.security.sasl,java.sql,java.xml,javafx.base,javafx.controls,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.jsobject,jdk.unsupported,jdk.crypto.ec --output jre\r\n\r\nHowever, I notice I am getting different Swing app display quality, by using custom Java runtime image, and system installed Java.\r\n\r\nThis is how I execute my Java Swing app.\r\n\r\nUsing custom Java runtime image from jlink\r\n------------------------------------------\r\n\r\n    C:\\Users\\yccheok\\Desktop\\jstock&gt;jre\\bin\\java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\r\n\r\nHere is the Swing app result. (You need to download the image in original size, to notice the UI display is blurry)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nUsing system installed Java\r\n------------------------------------------\r\n\r\n    C:\\Users\\yccheok\\Desktop\\jstock&gt;java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you compare both screenshots, you will notice the system installed Java, produce a Swing UI which is sharper and clearer. (You need to download the image in original size, to notice the UI display is sharp and clear)\r\n\r\nDo you know why this is so? How I can fix my jlink output image?\r\n\r\n  [1]: https://i.stack.imgur.com/m0sYk.png\r\n  [2]: https://i.stack.imgur.com/fxVgA.png","title":"Why jlink custom Java runtime image produces blurry Swing app?","body":"<p>We are using JDK FX 17 from <a href=\"https://www.azul.com/downloads/#zulu\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/#zulu</a></p>\n<p>We build a custom Java runtime image using the following command</p>\n<pre><code>jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path &quot;C:\\Program Files\\Zulu\\zulu-17\\jmods&quot; --add-modules java.base,java.datatransfer,java.desktop,java.logging,java.naming,java.prefs,java.rmi,java.security.sasl,java.sql,java.xml,javafx.base,javafx.controls,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.jsobject,jdk.unsupported,jdk.crypto.ec --output jre\n</code></pre>\n<p>However, I notice I am getting different Swing app display quality, by using custom Java runtime image, and system installed Java.</p>\n<p>This is how I execute my Java Swing app.</p>\n<h2>Using custom Java runtime image from jlink</h2>\n<pre><code>C:\\Users\\yccheok\\Desktop\\jstock&gt;jre\\bin\\java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\n</code></pre>\n<p>Here is the Swing app result. (You need to download the image in original size, to notice the UI display is blurry)</p>\n<p><a href=\"https://i.stack.imgur.com/m0sYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m0sYk.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Using system installed Java</h2>\n<pre><code>C:\\Users\\yccheok\\Desktop\\jstock&gt;java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fxVgA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fxVgA.png\" alt=\"enter image description here\" /></a></p>\n<p>If you compare both screenshots, you will notice the system installed Java, produce a Swing UI which is sharper and clearer. (You need to download the image in original size, to notice the UI display is sharp and clear)</p>\n<p>Do you know why this is so? How I can fix my jlink output image?</p>\n"},{"tags":["java","mysql","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689586496,"post_id":76702831,"comment_id":135229216,"body_markdown":"It is not clear what are you after - there is no Update button in the HTML template posted.","body":"It is not clear what are you after - there is no Update button in the HTML template posted."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689586836,"post_id":76702831,"comment_id":135229294,"body_markdown":"For uploading files you will need a HTML element like this: `&lt;input type=&quot;file&quot; name=&quot;files&quot; accept=&quot;*/*&quot;&gt;`","body":"For uploading files you will need a HTML element like this: <code>&lt;input type=&quot;file&quot; name=&quot;files&quot; accept=&quot;*&#47;*&quot;&gt;</code>"},{"owner":{"account_id":25164361,"reputation":11,"user_id":19008103,"display_name":"Muhammet Kaya"},"score":0,"creation_date":1689590653,"post_id":76702831,"comment_id":135230056,"body_markdown":"It is in the announcement.html file.\n\n&lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;","body":"It is in the announcement.html file.  &lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement&zwnj;&#8203;.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689593878,"post_id":76702831,"comment_id":135230719,"body_markdown":"Well. This is an `Edit` button and not `Update` button. Never mind - what is your issue then? Do you want to choose a file for upload?","body":"Well. This is an <code>Edit</code> button and not <code>Update</code> button. Never mind - what is your issue then? Do you want to choose a file for upload?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689617133,"post_id":76702831,"comment_id":135235917,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25164361,"reputation":11,"user_id":19008103,"display_name":"Muhammet Kaya"},"score":0,"creation_date":1689668721,"post_id":76702831,"comment_id":135242591,"body_markdown":"The problem was caused by href&#39;s in &lt;link&gt;&#39;s. Thanks for your help @Mar-Z","body":"The problem was caused by href&#39;s in &lt;link&gt;&#39;s. Thanks for your help @Mar-Z"}],"owner":{"account_id":25164361,"reputation":11,"user_id":19008103,"display_name":"Muhammet Kaya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689583904,"creation_date":1689583904,"question_id":76702831,"body_markdown":"After clicking the update button, files such as img, css, js are not uploaded on the update page that opens. Can you help me?\r\n\r\n[enter image description here](https://i.stack.imgur.com/DKRG9.png)\r\n\r\n\r\n**AdminController:**\r\n\r\nupdate operations are done in the Admin controller.\r\n\r\n\r\n```\r\n@GetMapping(&quot;/admin-update-announcement/{id}&quot;)\r\n    public ModelAndView updateAnnouncement(@PathVariable(&quot;id&quot;) Long id, HttpServletRequest request) {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;view/html/admin/update-announcement&quot;);\r\n\r\n        HttpSession session = request.getSession();\r\n        String sessionId = (String) session.getAttribute(&quot;sessionId&quot;);\r\n        User loggedInUser = userRepo.findBySessionId(sessionId);\r\n\r\n        modelAndView.addObject(&quot;user&quot;, loggedInUser);\r\n\r\n        Announcement announcement = announcementRepo.findById(id)\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid announcement Id: &quot; + id));\r\n\r\n        modelAndView.addObject(&quot;announcement&quot;, announcement);\r\n\r\n        String errorMessage = (String) request.getSession().getAttribute(&quot;errorMessage&quot;);\r\n        if (errorMessage != null) {\r\n            modelAndView.addObject(&quot;errorMessage&quot;, errorMessage);\r\n            request.getSession().removeAttribute(&quot;errorMessage&quot;);\r\n        }\r\n        String message = (String) request.getSession().getAttribute(&quot;message&quot;);\r\n        if (message != null) {\r\n            modelAndView.addObject(&quot;message&quot;, message);\r\n            request.getSession().removeAttribute(&quot;message&quot;);\r\n        }\r\n\r\n        return modelAndView;\r\n    }\r\n```\r\n\r\n\r\n**update-announcement.html:**\r\n\r\nupdate page.\r\n\r\n```\r\n`&lt;div class=&quot;card card-primary mx-5 mb-5&quot;&gt;\r\n            &lt;div class=&quot;card-header&quot;&gt;\r\n                &lt;h3 class=&quot;card-title&quot;&gt;Announcement&lt;/h3&gt;\r\n            &lt;/div&gt;\r\n\r\n\r\n            &lt;form th:action=&quot;@{/update-announcement/{id}(id=${announcement.id})}&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot; th:object=&quot;${announcement}&quot;&gt;\r\n                &lt;div th:if=&quot;${message}&quot; id=&quot;alertMessage&quot; class=&quot;alert alert-success m-2&quot; role=&quot;alert&quot;&gt;\r\n                    &lt;p th:text=&quot;${message}&quot;&gt;&lt;/p&gt;\r\n                &lt;/div&gt;\r\n                &lt;div th:if=&quot;${errorMessage}&quot; id=&quot;errorMessage&quot; class=&quot;alert alert-danger m-2&quot; role=&quot;alert&quot;&gt;\r\n                    &lt;p th:text=&quot;${errorMessage}&quot;&gt;&lt;/p&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;style&gt;\r\n          /* CSS for transparent alert */\r\n          #alertMessage, #errorMessage {\r\n            opacity: 0.7; /* Adjust transparency as desired */\r\n            transition: opacity 0.5s ease-in-out;\r\n          }\r\n        &lt;/style&gt;\r\n\r\n                &lt;script&gt;\r\n          // JavaScript to hide the alert message after 5 seconds\r\n          setTimeout(function() {\r\n            var alertMessage = document.getElementById(&quot;alertMessage&quot;);\r\n            var errorMessage = document.getElementById(&quot;errorMessage&quot;);\r\n            if (alertMessage) {\r\n              alertMessage.style.opacity = 0;\r\n              setTimeout(function() {\r\n                alertMessage.style.display = &quot;none&quot;;\r\n              }, 500);\r\n            }\r\n            if (errorMessage) {\r\n              errorMessage.style.opacity = 0;\r\n              setTimeout(function() {\r\n                errorMessage.style.display = &quot;none&quot;;\r\n              }, 500);\r\n            }\r\n          }, 5000);\r\n        &lt;/script&gt;\r\n\r\n                &lt;div class=&quot;card-body&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;id&quot;&gt;Id&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;id&quot; placeholder=&quot;Enter the id&quot; name=&quot;id&quot; th:field=&quot;${announcement.id}&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;title&quot;&gt;Title&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; placeholder=&quot;Enter the Title&quot; name=&quot;title&quot; th:field=&quot;${announcement.title}&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;content&quot;&gt;Content&lt;/label&gt;\r\n                        &lt;textarea class=&quot;form-control&quot; placeholder=&quot;Enter the Content&quot; name=&quot;content&quot; th:field=&quot;${announcement.content}&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;createdDate&quot;&gt;Created Date&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;createdDate&quot; placeholder=&quot;Enter the Created Date&quot; name=&quot;createdDate&quot; th:field=&quot;${announcement.createdDate}&quot;&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;card-footer&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/form&gt;\r\n\r\n        &lt;/div&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**announcement.html:**\r\n\r\nupdate button in this html file.\r\n\r\n```\r\n&lt;tr th:each=&quot;announcement : ${announcements}&quot;&gt;\r\n                        &lt;td th:text=&quot;${announcement.title}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${announcement.content}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${announcement.createdDate}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;\r\n\r\n                            &lt;form th:action=&quot;@{/admin-announcement-delete/{id}(id=${announcement.id})}&quot; method=&quot;post&quot;&gt;\r\n                                &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\r\n                                &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;Delete&lt;/button&gt;\r\n                            &lt;/form&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n```\r\n\r\n\r\nAfter clicking the Update button, I want files such as css, js, img to appear.","title":"files such as js, css, img do not appear","body":"<p>After clicking the update button, files such as img, css, js are not uploaded on the update page that opens. Can you help me?</p>\n<p><a href=\"https://i.stack.imgur.com/DKRG9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>AdminController:</strong></p>\n<p>update operations are done in the Admin controller.</p>\n<pre><code>@GetMapping(&quot;/admin-update-announcement/{id}&quot;)\n    public ModelAndView updateAnnouncement(@PathVariable(&quot;id&quot;) Long id, HttpServletRequest request) {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;view/html/admin/update-announcement&quot;);\n\n        HttpSession session = request.getSession();\n        String sessionId = (String) session.getAttribute(&quot;sessionId&quot;);\n        User loggedInUser = userRepo.findBySessionId(sessionId);\n\n        modelAndView.addObject(&quot;user&quot;, loggedInUser);\n\n        Announcement announcement = announcementRepo.findById(id)\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid announcement Id: &quot; + id));\n\n        modelAndView.addObject(&quot;announcement&quot;, announcement);\n\n        String errorMessage = (String) request.getSession().getAttribute(&quot;errorMessage&quot;);\n        if (errorMessage != null) {\n            modelAndView.addObject(&quot;errorMessage&quot;, errorMessage);\n            request.getSession().removeAttribute(&quot;errorMessage&quot;);\n        }\n        String message = (String) request.getSession().getAttribute(&quot;message&quot;);\n        if (message != null) {\n            modelAndView.addObject(&quot;message&quot;, message);\n            request.getSession().removeAttribute(&quot;message&quot;);\n        }\n\n        return modelAndView;\n    }\n</code></pre>\n<p><strong>update-announcement.html:</strong></p>\n<p>update page.</p>\n<pre><code>`&lt;div class=&quot;card card-primary mx-5 mb-5&quot;&gt;\n            &lt;div class=&quot;card-header&quot;&gt;\n                &lt;h3 class=&quot;card-title&quot;&gt;Announcement&lt;/h3&gt;\n            &lt;/div&gt;\n\n\n            &lt;form th:action=&quot;@{/update-announcement/{id}(id=${announcement.id})}&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot; th:object=&quot;${announcement}&quot;&gt;\n                &lt;div th:if=&quot;${message}&quot; id=&quot;alertMessage&quot; class=&quot;alert alert-success m-2&quot; role=&quot;alert&quot;&gt;\n                    &lt;p th:text=&quot;${message}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div th:if=&quot;${errorMessage}&quot; id=&quot;errorMessage&quot; class=&quot;alert alert-danger m-2&quot; role=&quot;alert&quot;&gt;\n                    &lt;p th:text=&quot;${errorMessage}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n\n                &lt;style&gt;\n          /* CSS for transparent alert */\n          #alertMessage, #errorMessage {\n            opacity: 0.7; /* Adjust transparency as desired */\n            transition: opacity 0.5s ease-in-out;\n          }\n        &lt;/style&gt;\n\n                &lt;script&gt;\n          // JavaScript to hide the alert message after 5 seconds\n          setTimeout(function() {\n            var alertMessage = document.getElementById(&quot;alertMessage&quot;);\n            var errorMessage = document.getElementById(&quot;errorMessage&quot;);\n            if (alertMessage) {\n              alertMessage.style.opacity = 0;\n              setTimeout(function() {\n                alertMessage.style.display = &quot;none&quot;;\n              }, 500);\n            }\n            if (errorMessage) {\n              errorMessage.style.opacity = 0;\n              setTimeout(function() {\n                errorMessage.style.display = &quot;none&quot;;\n              }, 500);\n            }\n          }, 5000);\n        &lt;/script&gt;\n\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;id&quot;&gt;Id&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;id&quot; placeholder=&quot;Enter the id&quot; name=&quot;id&quot; th:field=&quot;${announcement.id}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;title&quot;&gt;Title&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; placeholder=&quot;Enter the Title&quot; name=&quot;title&quot; th:field=&quot;${announcement.title}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;content&quot;&gt;Content&lt;/label&gt;\n                        &lt;textarea class=&quot;form-control&quot; placeholder=&quot;Enter the Content&quot; name=&quot;content&quot; th:field=&quot;${announcement.content}&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;createdDate&quot;&gt;Created Date&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;createdDate&quot; placeholder=&quot;Enter the Created Date&quot; name=&quot;createdDate&quot; th:field=&quot;${announcement.createdDate}&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;card-footer&quot;&gt;\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n\n        &lt;/div&gt;\n</code></pre>\n<p><strong>announcement.html:</strong></p>\n<p>update button in this html file.</p>\n<pre><code>&lt;tr th:each=&quot;announcement : ${announcements}&quot;&gt;\n                        &lt;td th:text=&quot;${announcement.title}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${announcement.content}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${announcement.createdDate}&quot;&gt;&lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;\n\n                            &lt;form th:action=&quot;@{/admin-announcement-delete/{id}(id=${announcement.id})}&quot; method=&quot;post&quot;&gt;\n                                &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\n                                &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;Delete&lt;/button&gt;\n                            &lt;/form&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n</code></pre>\n<p>After clicking the Update button, I want files such as css, js, img to appear.</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1689585420,"post_id":76702788,"comment_id":135228986,"body_markdown":"I&#39;d recommend you contact IntelliJ platform developers directly as per https://plugins.jetbrains.com/docs/intellij/getting-help.html","body":"I&#39;d recommend you contact IntelliJ platform developers directly as per <a href=\"https://plugins.jetbrains.com/docs/intellij/getting-help.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/getting-help.html</a>"},{"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"score":0,"creation_date":1689750356,"post_id":76702788,"comment_id":135255618,"body_markdown":"You can use the [IntelliJ Platform Explorer](https://plugins.jetbrains.com/intellij-platform-explorer/extensions?extensions=com.intellij.internalFileTemplate) to find out how other plugins use extension points, which can be very helpful.","body":"You can use the <a href=\"https://plugins.jetbrains.com/intellij-platform-explorer/extensions?extensions=com.intellij.internalFileTemplate\" rel=\"nofollow noreferrer\">IntelliJ Platform Explorer</a> to find out how other plugins use extension points, which can be very helpful."}],"owner":{"account_id":20034051,"reputation":11,"user_id":14686188,"display_name":"Necrosis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689583527,"creation_date":1689583527,"question_id":76702788,"body_markdown":"I&#39;m making an Intellij plugin and I want to create file templates from my own menu, not from the &quot;New&quot; menu. However, java and form files with the .ft extension appear when creating new and when creating a class.\r\n\r\nOnly files with known extensions are displayed, probably the java extension is the problem. However, would it be possible that the fileTemplate is not what I need?\r\n\r\nI want to hide all my template from the user.\r\n\r\n`plugin.xml`\r\n```xml\r\n...\r\n    &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\r\n        &lt;!-- I tried a lot of options here, but none of them hid it --&gt;\r\n        &lt;internalFileTemplate name=&quot;Prometis Form&quot;/&gt;\r\n        &lt;internalFileTemplate name=&quot;Prometis Panel&quot;/&gt;\r\n        &lt;internalFileTemplate name=&quot;Prometis VP&quot;/&gt;\r\n    &lt;/extensions&gt;\r\n...\r\n```","title":"In Intellij plugin sdk, how to hide file templates from &quot;New&quot; menu?","body":"<p>I'm making an Intellij plugin and I want to create file templates from my own menu, not from the &quot;New&quot; menu. However, java and form files with the .ft extension appear when creating new and when creating a class.</p>\n<p>Only files with known extensions are displayed, probably the java extension is the problem. However, would it be possible that the fileTemplate is not what I need?</p>\n<p>I want to hide all my template from the user.</p>\n<p><code>plugin.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\n        &lt;!-- I tried a lot of options here, but none of them hid it --&gt;\n        &lt;internalFileTemplate name=&quot;Prometis Form&quot;/&gt;\n        &lt;internalFileTemplate name=&quot;Prometis Panel&quot;/&gt;\n        &lt;internalFileTemplate name=&quot;Prometis VP&quot;/&gt;\n    &lt;/extensions&gt;\n...\n</code></pre>\n"},{"tags":["java","mysql","sqlite","swing"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689095741,"creation_date":1689095741,"answer_id":76664360,"question_id":76664056,"body_markdown":"No need to use db-specific classes. Try the following:\r\n\r\n```\r\nimport com.database.DbConnect;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class mainframe extends javax.swing.JFrame {\r\n\r\n    public mainframe() {\r\n        initComponents();\r\n    }\r\n\r\n    private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\r\n        String name = namebox.getText();\r\n        String sql = &quot;INSERT INTO student(name) VALUES (?)&quot;;\r\n\r\n        try (Connection conn = DbConnect.connect(); PreparedStatement pst = conn.prepareStatement(sql)) {\r\n            pst.setString(1, name);\r\n            pst.executeUpdate();\r\n            JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n    }\r\n}\r\n```","title":"java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)","body":"<p>No need to use db-specific classes. Try the following:</p>\n<pre><code>import com.database.DbConnect;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport javax.swing.JOptionPane;\n\npublic class mainframe extends javax.swing.JFrame {\n\n    public mainframe() {\n        initComponents();\n    }\n\n    private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\n        String name = namebox.getText();\n        String sql = &quot;INSERT INTO student(name) VALUES (?)&quot;;\n\n        try (Connection conn = DbConnect.connect(); PreparedStatement pst = conn.prepareStatement(sql)) {\n            pst.setString(1, name);\n            pst.executeUpdate();\n            JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16340542,"reputation":9,"user_id":11801534,"display_name":"Kely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1689582481,"creation_date":1689093136,"question_id":76664056,"body_markdown":"I got this error:\r\n\r\n&gt; java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)\r\n\r\nI am getting this error when I run:\r\n\r\n    import com.database.DbConnect;\r\n    import java.sql.Connection;\r\n    import com.mysql.jdbc.PreparedStatement;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class mainframe extends javax.swing.JFrame {\r\n        Connection conn = null;\r\n        PreparedStatement pst = null;\r\n\r\n        public mainframe() {\r\n            initComponents();\r\n            conn = DbConnect.connect();\r\n        }\r\n        private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\r\n            String name = namebox.getText();\r\n            String sql = &quot;INSERT INTO student(name)VALUES(&#39;&quot; + name + &quot;&#39;)&quot;;\r\n\r\n            try {\r\n                pst = (PreparedStatement) conn.prepareStatement(sql);\r\n                pst.execute();\r\n                JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\r\n            } catch (Exception e) {\r\n                JOptionPane.showMessageDialog(null, e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYPSz.jpg","title":"java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)","body":"<p>I got this error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)</p>\n</blockquote>\n<p>I am getting this error when I run:</p>\n<pre><code>import com.database.DbConnect;\nimport java.sql.Connection;\nimport com.mysql.jdbc.PreparedStatement;\nimport javax.swing.JOptionPane;\n\npublic class mainframe extends javax.swing.JFrame {\n    Connection conn = null;\n    PreparedStatement pst = null;\n\n    public mainframe() {\n        initComponents();\n        conn = DbConnect.connect();\n    }\n    private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\n        String name = namebox.getText();\n        String sql = &quot;INSERT INTO student(name)VALUES('&quot; + name + &quot;')&quot;;\n\n        try {\n            pst = (PreparedStatement) conn.prepareStatement(sql);\n            pst.execute();\n            JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1689580606,"post_id":76702455,"comment_id":135228021,"body_markdown":"Code could be running on a CPU with multiple cores or hyperthreading active. So really multiple threads can run at the same time","body":"Code could be running on a CPU with multiple cores or hyperthreading active. So really multiple threads can run at the same time"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689580661,"post_id":76702455,"comment_id":135228034,"body_markdown":"Make a thread dump and you can see what is active.","body":"Make a thread dump and you can see what is active."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689581714,"post_id":76702455,"comment_id":135228230,"body_markdown":"short answer: because two threads are estimated to be active. To get all *live* threads you can use [`Thread.getAllStackTraces()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getAllStackTraces()) - you will probably get more than 2 (Finalizer, Attach Listener, Reference Handler, Signal Dispatcher, ... probably more or less depending on system and other details)","body":"short answer: because two threads are estimated to be active. To get all <i>live</i> threads you can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getAllStackTraces()\" rel=\"nofollow noreferrer\"><code>Thread.getAllStackTraces()</code></a> - you will probably get more than 2 (Finalizer, Attach Listener, Reference Handler, Signal Dispatcher, ... probably more or less depending on system and other details)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689584034,"post_id":76702455,"comment_id":135228726,"body_markdown":"What makes you think there should be only one thread? Java has threads for GC, AWT event despatch, RMI listeners, all kinds of things.","body":"What makes you think there should be only one thread? Java has threads for GC, AWT event despatch, RMI listeners, all kinds of things."},{"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"score":0,"creation_date":1689598226,"post_id":76702455,"comment_id":135231726,"body_markdown":"I thought that there should only be one thread since in the tutorial I am following it only shows 1 thread","body":"I thought that there should only be one thread since in the tutorial I am following it only shows 1 thread"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689581448,"creation_date":1689581448,"answer_id":76702567,"question_id":76702455,"body_markdown":"Instead of guessing what threads these could be you can expand your code to write out the threads names:\r\n\r\n    public class ThreadCount {\r\n        public static void main(String[] args) {\r\n            System.out.println(Thread.activeCount() + &quot; threads:&quot;);\r\n            Thread[] allThreads = new Thread[10];\r\n            Thread.enumerate(allThreads);\r\n            for (Thread t: allThreads) {\r\n                if (t != null) {\r\n                    System.out.format(&quot;%d %s%n&quot;, t.getId(), t.getName());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOn my windows machine this outputs:\r\n\r\n&gt;     2 threads:\r\n&gt;     1 main\r\n&gt;     14 Monitor Ctrl-Break\r\n\r\nSo the second thread is a JVM-created thread that seems to exist to monitor the Ctrl-Break key combination. Whether this thread is started or not may depend on your environment (running from console versus running a GUI application, running on Windows versus running on Linux, on Mac, on ....)","title":"Why does the Thread.activeCount() method returns 2?","body":"<p>Instead of guessing what threads these could be you can expand your code to write out the threads names:</p>\n<pre><code>public class ThreadCount {\n    public static void main(String[] args) {\n        System.out.println(Thread.activeCount() + &quot; threads:&quot;);\n        Thread[] allThreads = new Thread[10];\n        Thread.enumerate(allThreads);\n        for (Thread t: allThreads) {\n            if (t != null) {\n                System.out.format(&quot;%d %s%n&quot;, t.getId(), t.getName());\n            }\n        }\n    }\n}\n</code></pre>\n<p>On my windows machine this outputs:</p>\n<blockquote>\n<pre><code>2 threads:\n1 main\n14 Monitor Ctrl-Break\n</code></pre>\n</blockquote>\n<p>So the second thread is a JVM-created thread that seems to exist to monitor the Ctrl-Break key combination. Whether this thread is started or not may depend on your environment (running from console versus running a GUI application, running on Windows versus running on Linux, on Mac, on ....)</p>\n"}],"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76702567,"answer_count":1,"score":-2,"last_activity_date":1689581448,"creation_date":1689580431,"question_id":76702455,"body_markdown":"I am currently learning about Java threads.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        System.out.println(Thread.activeCount());\r\n      }\r\n    }\r\n\r\nCould anyone please tell me why does this method return the value 2? From what I understand, the only thread that is currently running is the &quot;main&quot; thread. I know that `Thread.activeCount()` &quot;Returns an estimate of the number of active threads in the current thread&#39;s thread group and its subgroups&quot;, so is there a subgroup of this thread that has another active thread? \r\n\r\nThank you in advance for taking the time to help me!\r\n","title":"Why does the Thread.activeCount() method returns 2?","body":"<p>I am currently learning about Java threads.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    System.out.println(Thread.activeCount());\n  }\n}\n</code></pre>\n<p>Could anyone please tell me why does this method return the value 2? From what I understand, the only thread that is currently running is the &quot;main&quot; thread. I know that <code>Thread.activeCount()</code> &quot;Returns an estimate of the number of active threads in the current thread's thread group and its subgroups&quot;, so is there a subgroup of this thread that has another active thread?</p>\n<p>Thank you in advance for taking the time to help me!</p>\n"},{"tags":["java","static","initialization"],"comments":[{"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"score":4,"creation_date":1334744635,"post_id":10207388,"comment_id":13108250,"body_markdown":"There are older and fouler things than Orcs in the deep places of the world.","body":"There are older and fouler things than Orcs in the deep places of the world."},{"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"score":0,"creation_date":1334744684,"post_id":10207388,"comment_id":13108264,"body_markdown":"Maybe you should post the problem you are trying to solve.  There will be a better way.","body":"Maybe you should post the problem you are trying to solve.  There will be a better way."},{"owner":{"account_id":749244,"reputation":1115,"user_id":742103,"accept_rate":62,"display_name":"waqas"},"score":0,"creation_date":1334744960,"post_id":10207388,"comment_id":13108395,"body_markdown":"@krock i want to do some mapping in teradata java udfs for which i need to initialize my arrays hardcodeidly","body":"@krock i want to do some mapping in teradata java udfs for which i need to initialize my arrays hardcodeidly"},{"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"score":0,"creation_date":1334745134,"post_id":10207388,"comment_id":13108463,"body_markdown":"It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index.","body":"It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1353388830,"post_id":10207388,"comment_id":18421356,"body_markdown":"I can just see one of the Java guys going: &quot;65KB ought to be enough for anybody&quot;...  one would think people learn from past mistakes... Yay for work-arounds... How lame...","body":"I can just see one of the Java guys going: &quot;65KB ought to be enough for anybody&quot;...  one would think people learn from past mistakes... Yay for work-arounds... How lame..."}],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1334744502,"creation_date":1334744502,"answer_id":10207421,"question_id":10207388,"body_markdown":"Use `for` loops. For example:\r\n\r\n    for (int i = 0; i &lt;= 9; i++)\r\n        array1[i] = String.valueOf(i);","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>Use <code>for</code> loops. For example:</p>\n\n<pre><code>for (int i = 0; i &lt;= 9; i++)\n    array1[i] = String.valueOf(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1334745653,"creation_date":1334745653,"answer_id":10207705,"question_id":10207388,"body_markdown":"Constant array in are initialized in java bytecode by loading each value from the constant pool and assigning it to the corresponding array index. This takes several bytes of code per array element. The size of a jvm method is limited to 65535 bytes since its length is stored in the class file using a 16 bit number.\r\n\r\nIn the case where the values can not be easily calculated in a loop, you could break the initialization into separate static functions:\r\n\r\n    static {\r\n        array1 = getValuesForArray1();\r\n        ...\r\n    }\r\n\r\n    private static String[] getValuesForArray1() {\r\n        ...\r\n    }\r\n\r\nIf there is a pattern to the initialization values its of course better to calculate the values on the fly.","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>Constant array in are initialized in java bytecode by loading each value from the constant pool and assigning it to the corresponding array index. This takes several bytes of code per array element. The size of a jvm method is limited to 65535 bytes since its length is stored in the class file using a 16 bit number.</p>\n\n<p>In the case where the values can not be easily calculated in a loop, you could break the initialization into separate static functions:</p>\n\n<pre><code>static {\n    array1 = getValuesForArray1();\n    ...\n}\n\nprivate static String[] getValuesForArray1() {\n    ...\n}\n</code></pre>\n\n<p>If there is a pattern to the initialization values its of course better to calculate the values on the fly.</p>\n"},{"tags":[],"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334746714,"creation_date":1334746044,"answer_id":10207811,"question_id":10207388,"body_markdown":"It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index.  Here it is using String.format and specifying the left padding length:\r\n\r\n    private static String getValue(int index, int stringLength) {\r\n        return String.format(&quot;%0&quot; + stringLength + &quot;d&quot;, index);\r\n    }","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index.  Here it is using String.format and specifying the left padding length:</p>\n\n<pre><code>private static String getValue(int index, int stringLength) {\n    return String.format(\"%0\" + stringLength + \"d\", index);\n}\n</code></pre>\n"}],"owner":{"account_id":749244,"reputation":1115,"user_id":742103,"accept_rate":62,"display_name":"waqas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12081,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":10207705,"answer_count":3,"score":6,"last_activity_date":1689581406,"creation_date":1334744405,"question_id":10207388,"body_markdown":"Hi I am trying to initialize 4 string arrays of length 10,100,1000,10000 and these arrays are like \r\n\r\n    array1={&quot;0&quot;,&quot;1&quot;,...&quot;9&quot;} \r\n    array2={&quot;00&quot;,&quot;01&quot;,...&quot;99&quot;} \r\n    array3={&quot;000&quot;,&quot;001&quot;,...&quot;999&quot;} \r\n    array4={&quot;0000&quot;,&quot;0001&quot;,...&quot;9999&quot;} \r\n\r\nBut I am getting the error of **The code for the static initializer is exceeding the 65535 bytes limit** \r\n\r\nhow can I initialize my arrays?\r\n\r\nAlso note that loading it from file is not an option for me :(","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>Hi I am trying to initialize 4 string arrays of length 10,100,1000,10000 and these arrays are like </p>\n\n<pre><code>array1={\"0\",\"1\",...\"9\"} \narray2={\"00\",\"01\",...\"99\"} \narray3={\"000\",\"001\",...\"999\"} \narray4={\"0000\",\"0001\",...\"9999\"} \n</code></pre>\n\n<p>But I am getting the error of <strong>The code for the static initializer is exceeding the 65535 bytes limit</strong> </p>\n\n<p>how can I initialize my arrays?</p>\n\n<p>Also note that loading it from file is not an option for me :(</p>\n"},{"tags":["java","performance","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":5838196,"reputation":1292,"user_id":4600588,"accept_rate":60,"display_name":"SDJSK"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1571990198,"creation_date":1571990198,"answer_id":58554426,"question_id":55784185,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nScroll to the end, and watch the line number\r\n\r\n  [1]: https://i.stack.imgur.com/roulh.png\r\n  [2]: https://i.stack.imgur.com/wZQRT.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p><a href=\"https://i.stack.imgur.com/roulh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/roulh.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wZQRT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wZQRT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Scroll to the end, and watch the line number</p>\n"},{"tags":[],"owner":{"account_id":11898682,"reputation":1451,"user_id":8733066,"display_name":"bb1950328"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588167607,"creation_date":1588167607,"answer_id":61503165,"question_id":55784185,"body_markdown":"The approach of DaSqy Stc is good, but it doesn&#39;t work when there are other log messages are printed or if you want to track multiple breakpoints individually.\r\n\r\nSolution is to keep the option &quot;log to console&quot; on and click inside the console, press [Ctrl]+[F] and search after &quot;Breakpoint reached at RemoveFromList.remove(RemoveFromList.java:38)&quot; and it says 1/6. The right number is the one you want.","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>The approach of DaSqy Stc is good, but it doesn't work when there are other log messages are printed or if you want to track multiple breakpoints individually.</p>\n\n<p>Solution is to keep the option \"log to console\" on and click inside the console, press [Ctrl]+[F] and search after \"Breakpoint reached at RemoveFromList.remove(RemoveFromList.java:38)\" and it says 1/6. The right number is the one you want.</p>\n"},{"tags":[],"owner":{"account_id":3916547,"reputation":607,"user_id":6286694,"accept_rate":100,"display_name":"ABika"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1659349405,"creation_date":1634835977,"answer_id":69666091,"question_id":55784185,"body_markdown":"The **Overhead** tab in the Debugger view has a &quot;Hits&quot; column. You don&#39;t even have to have *Suspend* or *Log to Console* being enabled for the breakpoint to be counted. See the help page [Monitor debugger overhead](https://www.jetbrains.com/help/idea/monitor-debugger-overhead.html).\r\n\r\n[![Overhead tab in Intellij IDEA  Debugger][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xLui1.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>The <strong>Overhead</strong> tab in the Debugger view has a &quot;Hits&quot; column. You don't even have to have <em>Suspend</em> or <em>Log to Console</em> being enabled for the breakpoint to be counted. See the help page <a href=\"https://www.jetbrains.com/help/idea/monitor-debugger-overhead.html\" rel=\"noreferrer\">Monitor debugger overhead</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/xLui1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xLui1.png\" alt=\"Overhead tab in Intellij IDEA  Debugger\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5194890,"reputation":4397,"user_id":4156577,"accept_rate":75,"display_name":"DarthGizka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689581194,"creation_date":1689581194,"answer_id":76702545,"question_id":55784185,"body_markdown":"Like ABika said, enabling the debugger pane Overhead view ...\r\n\r\n[![enable debugger Overhead view][1]][1]\r\n\r\n... lets you see the hit counts for your breakpoints. \r\n\r\nHowever, in scenarios like this it can often be useful to set breakpoints to be **non-stopping** if they are merely intended for counting. Simply right-click a breakpoint or select it in the Breakpoints list and remove the tick mark next to Suspend:\r\n\r\n[![Suspend check box in breakpoint options][2]][2]\r\n\r\nThis makes the breakpoint turn yellow:\r\n\r\n[![breakpoint turned yellow][3]][3]\r\n\r\nThen you can run your code in debug mode without having to stop even a single time unless you want to. \r\n\r\nUnlike the Variables or Frames views, the Overhead view remains available even after debugging has ended:\r\n\r\n[![breakpoint hit count in Overhead view][4]][4]\r\n\r\nThis can be a real lifesaver if a breakpoint can get hit hundreds or thousands of times. The configurable breakpoint conditions and filters can also be extremely useful in such scenarios. \r\n\r\n  [1]: https://i.stack.imgur.com/yN49N.png\r\n  [2]: https://i.stack.imgur.com/bXvTU.png\r\n  [3]: https://i.stack.imgur.com/ye3EK.png\r\n  [4]: https://i.stack.imgur.com/lb0i0.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>Like ABika said, enabling the debugger pane Overhead view ...</p>\n<p><a href=\"https://i.stack.imgur.com/yN49N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yN49N.png\" alt=\"enable debugger Overhead view\" /></a></p>\n<p>... lets you see the hit counts for your breakpoints.</p>\n<p>However, in scenarios like this it can often be useful to set breakpoints to be <strong>non-stopping</strong> if they are merely intended for counting. Simply right-click a breakpoint or select it in the Breakpoints list and remove the tick mark next to Suspend:</p>\n<p><a href=\"https://i.stack.imgur.com/bXvTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXvTU.png\" alt=\"Suspend check box in breakpoint options\" /></a></p>\n<p>This makes the breakpoint turn yellow:</p>\n<p><a href=\"https://i.stack.imgur.com/ye3EK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ye3EK.png\" alt=\"breakpoint turned yellow\" /></a></p>\n<p>Then you can run your code in debug mode without having to stop even a single time unless you want to.</p>\n<p>Unlike the Variables or Frames views, the Overhead view remains available even after debugging has ended:</p>\n<p><a href=\"https://i.stack.imgur.com/lb0i0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lb0i0.png\" alt=\"breakpoint hit count in Overhead view\" /></a></p>\n<p>This can be a real lifesaver if a breakpoint can get hit hundreds or thousands of times. The configurable breakpoint conditions and filters can also be extremely useful in such scenarios.</p>\n"}],"owner":{"account_id":2509719,"reputation":651,"user_id":2182500,"display_name":"Laguh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4050,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58554426,"answer_count":4,"score":8,"last_activity_date":1689581194,"creation_date":1555861271,"question_id":55784185,"body_markdown":"I need to count the number of times a given line of code is hit during execution. I want to use it via debugging tool on my IDE and not a code or performance tool solution.\r\n\r\nI am already using YourKit to profile the project, and do not want number of line calls via this tool. \r\n\r\nI also do not want to count hits using code (with System.out.print and a variable) because I will be checking the procedure at different branches.\r\n\r\nI already checked IntelliJ IDEA help.\r\n\r\nAlso checked both this posts:\r\nhttps://stackoverflow.com/questions/9252597/debugging-and-counting-breakpoint-hits\r\nhttps://stackoverflow.com/questions/30486472/counting-breakpoint-hits\r\n\r\nBut none of them replies to what I am looking for.\r\n\r\nI am currently using IntelliJ&#39;s breakpoint options: `Log to console` .\r\n\r\n[![this code snippet is just an example and not the actual code I will use it for][1]][1]\r\n\r\nThe way I am using the breakpoint option in IntelliJ I get a log message every time the breakpoint is hit, and then I have to count the number of messages.\r\n\r\n[![enter image description here][2]][2]\r\nI would like to get an actual number of hits so I do not have to count messages.\r\n\r\nIf anyone knows a simple direct solution to achieving this via IntelliJ I really appreciate. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/65y1P.png\r\n  [2]: https://i.stack.imgur.com/m4bDO.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>I need to count the number of times a given line of code is hit during execution. I want to use it via debugging tool on my IDE and not a code or performance tool solution.</p>\n\n<p>I am already using YourKit to profile the project, and do not want number of line calls via this tool. </p>\n\n<p>I also do not want to count hits using code (with System.out.print and a variable) because I will be checking the procedure at different branches.</p>\n\n<p>I already checked IntelliJ IDEA help.</p>\n\n<p>Also checked both this posts:\n<a href=\"https://stackoverflow.com/questions/9252597/debugging-and-counting-breakpoint-hits\">Debugging and counting breakpoint hits</a>\n<a href=\"https://stackoverflow.com/questions/30486472/counting-breakpoint-hits\">Counting breakpoint hits</a></p>\n\n<p>But none of them replies to what I am looking for.</p>\n\n<p>I am currently using IntelliJ's breakpoint options: <code>Log to console</code> .</p>\n\n<p><a href=\"https://i.stack.imgur.com/65y1P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/65y1P.png\" alt=\"this code snippet is just an example and not the actual code I will use it for\"></a></p>\n\n<p>The way I am using the breakpoint option in IntelliJ I get a log message every time the breakpoint is hit, and then I have to count the number of messages.</p>\n\n<p><a href=\"https://i.stack.imgur.com/m4bDO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m4bDO.png\" alt=\"enter image description here\"></a>\nI would like to get an actual number of hits so I do not have to count messages.</p>\n\n<p>If anyone knows a simple direct solution to achieving this via IntelliJ I really appreciate. Thanks in advance.</p>\n"},{"tags":["java","classloading"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689548312,"post_id":76700724,"comment_id":135225010,"body_markdown":"Does this answer your question? [How do I resolve ClassNotFoundException?](https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\">How do I resolve ClassNotFoundException?</a>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1689549238,"post_id":76700724,"comment_id":135225074,"body_markdown":"Did you `export` the necessary packages in the module declarations? https://www.oracle.com/corporate/features/understanding-java-9-modules.html","body":"Did you <code>export</code> the necessary packages in the module declarations? <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">oracle.com/corporate/features/understanding-java-9-modules.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":22659027,"reputation":23,"user_id":16832449,"display_name":"BrokenStudio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689580705,"creation_date":1689580705,"answer_id":76702485,"question_id":76700724,"body_markdown":"Found the solution myself. My custom ClassLoader used new UrlClassLoader() when I loaded a new Class, but you have to make sure to create One UrlClassLoader and use this one for every time when I use the loadClass method. By doing this, module A can now access the Classes from Module B an the other way arround.","title":"Classes not accessible even after loading them with a class loader","body":"<p>Found the solution myself. My custom ClassLoader used new UrlClassLoader() when I loaded a new Class, but you have to make sure to create One UrlClassLoader and use this one for every time when I use the loadClass method. By doing this, module A can now access the Classes from Module B an the other way arround.</p>\n"}],"owner":{"account_id":22659027,"reputation":23,"user_id":16832449,"display_name":"BrokenStudio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689580705,"creation_date":1689548031,"question_id":76700724,"body_markdown":"I am currently workin on an Application which is able to load modules provided in other jar files by using a custom classLoader \r\n```\r\nMyModule myModule = myModuleClassLoader.loadClass(f.getPath(), \r\n                    moduleConfig.classpath, MyModule.class);\r\n```\r\nThis works perfectly fine, the modules can use all provided methods by the core application, and they can subscribe to events. Now the issues is, that if I have two modules for example, A and B, and I load both modules, they will be loaded as intended, but when I try to access a class from module A in module B, I get a `ClassNotFoundException`. I don&#39;t really have an idea why this is happening, because the CoreApplication is loading both modules, and all interaction from the modules to the core application work as intended.  \r\n","title":"Classes not accessible even after loading them with a class loader","body":"<p>I am currently workin on an Application which is able to load modules provided in other jar files by using a custom classLoader</p>\n<pre><code>MyModule myModule = myModuleClassLoader.loadClass(f.getPath(), \n                    moduleConfig.classpath, MyModule.class);\n</code></pre>\n<p>This works perfectly fine, the modules can use all provided methods by the core application, and they can subscribe to events. Now the issues is, that if I have two modules for example, A and B, and I load both modules, they will be loaded as intended, but when I try to access a class from module A in module B, I get a <code>ClassNotFoundException</code>. I don't really have an idea why this is happening, because the CoreApplication is loading both modules, and all interaction from the modules to the core application work as intended.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689578804,"post_id":76702239,"comment_id":135227686,"body_markdown":"Stop using the outdated class `java.util.Date` move over ti the newer `java.time` API","body":"Stop using the outdated class <code>java.util.Date</code> move over ti the newer <code>java.time</code> API"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689580162,"post_id":76702239,"comment_id":135227937,"body_markdown":"@cokachi I was going to help, but if you&#39;re like that... pass","body":"@cokachi I was going to help, but if you&#39;re like that... pass"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1689582938,"post_id":76702239,"comment_id":135228476,"body_markdown":"@Jens You can change `Date` package or not depending on the size of your project, the agreement of your colleagues, etc. If the question is about `java.util.Date` it&#39;s about this class, and we have to do with it.","body":"@Jens You can change <code>Date</code> package or not depending on the size of your project, the agreement of your colleagues, etc. If the question is about <code>java.util.Date</code> it&#39;s about this class, and we have to do with it."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1689583390,"post_id":76702239,"comment_id":135228577,"body_markdown":"@MarcLeBihan I do not understand what you want to say. The suggestion to not use old outdated classes is always valid in my opinion. Especially if this class is outdated since decades","body":"@MarcLeBihan I do not understand what you want to say. The suggestion to not use old outdated classes is always valid in my opinion. Especially if this class is outdated since decades"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1689587686,"post_id":76702239,"comment_id":135229478,"body_markdown":"@Jens it is out of subject.","body":"@Jens it is out of subject."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689591817,"post_id":76702239,"comment_id":135230301,"body_markdown":"Re, &quot;*give me the code&quot;* -- a somewhat insulting request. -1","body":"Re, &quot;<i>give me the code&quot;</i> -- a somewhat insulting request. -1"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689579618,"creation_date":1689579618,"answer_id":76702375,"question_id":76702239,"body_markdown":"Format of the date does not match the default format for jackson. Use [JsonFormat.pattern()][1] on the property to specify the correct format.\r\n```\r\n@JsonFormat(pattern = &quot;MMM dd, yyyy hh:mm:ss a&quot;)\r\n```\r\nAlso, if possible don&#39;t use the outdated and error prone `Date`, `SimpleDateFormat`, etc. They were supplanted in java **8** by [java.time][2], the modern java date-time API.\r\n\r\n  [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html#pattern--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Exception during date parsing","body":"<p>Format of the date does not match the default format for jackson. Use <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html#pattern--\" rel=\"nofollow noreferrer\">JsonFormat.pattern()</a> on the property to specify the correct format.</p>\n<pre><code>@JsonFormat(pattern = &quot;MMM dd, yyyy hh:mm:ss a&quot;)\n</code></pre>\n<p>Also, if possible don't use the outdated and error prone <code>Date</code>, <code>SimpleDateFormat</code>, etc. They were supplanted in java <strong>8</strong> by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>, the modern java date-time API.</p>\n"}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":76702375,"answer_count":1,"score":-3,"last_activity_date":1689579618,"creation_date":1689578418,"question_id":76702239,"body_markdown":"I have a pojo where during deserilization i was getting the following exception.\r\n\r\n```\r\nCannot deserialize value of type `java.util.Date` from String &quot;Jul 17, 2023 12:01:45 PM&quot;: not a valid representation (error: Failed to parse Date value &#39;Jul 17, 2023 12:01:45 PM&#39;: Cannot parse date &quot;Jul 17, 2023 12:01:45 PM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))\r\n```\r\n\r\n\r\npojo\r\n\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class B implements Serializable {\r\n\r\n@JsonProperty(&quot;alarmtime&quot;)\r\nDate alarmtime = new Date();\r\n}\r\n```\r\n\r\n```\r\nObjectMapper  mapper = new ObjectMapper();\r\nB def = mapper.readValue(doc.toString(), B.class);\r\n```\r\ndoc is the document string present in the database or from other 3rd party api.\r\n\r\ncan anyone please help me.","title":"Exception during date parsing","body":"<p>I have a pojo where during deserilization i was getting the following exception.</p>\n<pre><code>Cannot deserialize value of type `java.util.Date` from String &quot;Jul 17, 2023 12:01:45 PM&quot;: not a valid representation (error: Failed to parse Date value 'Jul 17, 2023 12:01:45 PM': Cannot parse date &quot;Jul 17, 2023 12:01:45 PM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))\n</code></pre>\n<p>pojo</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class B implements Serializable {\n\n@JsonProperty(&quot;alarmtime&quot;)\nDate alarmtime = new Date();\n}\n</code></pre>\n<pre><code>ObjectMapper  mapper = new ObjectMapper();\nB def = mapper.readValue(doc.toString(), B.class);\n</code></pre>\n<p>doc is the document string present in the database or from other 3rd party api.</p>\n<p>can anyone please help me.</p>\n"},{"tags":["java","android","web-services","ksoap2","sap-basis"],"comments":[{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335360482,"post_id":10316689,"comment_id":13280168,"body_markdown":"I used this post to achive but didnt solved http://stackoverflow.com/questions/5613675/how-to-set-soap-header-using-ksoap2-android","body":"I used this post to achive but didnt solved <a href=\"http://stackoverflow.com/questions/5613675/how-to-set-soap-header-using-ksoap2-android\" title=\"how to set soap header using ksoap2 android\">stackoverflow.com/questions/5613675/&hellip;</a>"},{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335362889,"post_id":10316689,"comment_id":13281309,"body_markdown":"and also when i set URL as my WSDL url, i get only anyType{} result","body":"and also when i set URL as my WSDL url, i get only anyType{} result"},{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335363457,"post_id":10316689,"comment_id":13281566,"body_markdown":"and also when i replace Object response.. line SoapObject response = (SoapObject)soaSeria.. i got ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } result :S","body":"and also when i replace Object response.. line SoapObject response = (SoapObject)soaSeria.. i got ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } result :S"},{"owner":{"account_id":4708131,"reputation":374,"user_id":3809570,"display_name":"Vishwa Pratap"},"score":0,"creation_date":1531928902,"post_id":10316689,"comment_id":89783357,"body_markdown":",I had same problem and i find its solution  here https://stackoverflow.com/questions/51255957/soap-request-creation-using-ksoap2-for-multilevel-tags/51340332#51340332\nyou can follow my whole code and get solution..","body":",I had same problem and i find its solution  here <a href=\"https://stackoverflow.com/questions/51255957/soap-request-creation-using-ksoap2-for-multilevel-tags/51340332#51340332\" title=\"soap request creation using ksoap2 for multilevel tags\">stackoverflow.com/questions/51255957/&hellip;</a> you can follow my whole code and get solution.."}],"answers":[{"tags":[],"owner":{"account_id":319775,"reputation":3025,"user_id":637724,"accept_rate":93,"display_name":"Oguz Ozkeroglu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1335363925,"creation_date":1335363925,"answer_id":10317747,"question_id":10316689,"body_markdown":"Try this:\r\n\r\n    final static String NAMESPACE = &quot;urn:sap-com:document:sap:soap:functions:mc-style&quot;;\r\n    \tfinal static String METHOD_NAME = &quot;ZmblHucremalzemelistesi&quot;;\r\n    \tfinal static String SOAP_ACTION = &quot;&quot;;\r\n    \tfinal static String URL = &quot;http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010&quot;;\r\n    \r\n    \tprivate static final String USERNAME = &quot;YOUR_USERNAME&quot;;\r\n    \tprivate static final String PASSWORD = &quot;YOUR_PASSWORD&quot;;\r\n    \r\n    \tprivate void testWS() {\r\n    \t\tSoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\r\n    \t\trequest.addProperty(&quot;ILgort&quot;, &quot;H12&quot;);\r\n    \t\t\r\n    \t\tSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n    \t\tenvelope.setOutputSoapObject(request);\r\n    \r\n    \t\tAuthTransportSE androidHttpTransport = new AuthTransportSE(URL, USERNAME, PASSWORD);\r\n    \t\tandroidHttpTransport.debug = true;\r\n    \r\n    \t    try {\r\n    \t    \tandroidHttpTransport.call(SOAP_ACTION, envelope);\r\n    \t    \tSoapObject response = (SoapObject) envelope.getResponse();\r\n    \t    \t// if it did not work, try this:\r\n    \t\t\t// SoapObject response = (SoapObject) envelope.bodyIn;\r\n    \r\n    \t        tv.setText(response.toString());\r\n    \r\n    \t    } catch (IOException e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t}\r\n\r\nAnd AuthTransportSE class is:\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.ksoap2.transport.HttpTransportSE;\r\n    import org.ksoap2.transport.ServiceConnection;\r\n    import org.ksoap2.transport.ServiceConnectionSE;\r\n    \r\n    public class AuthTransportSE extends HttpTransportSE{\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \t\r\n    \tpublic AuthTransportSE(String url, String username, String password) {\r\n    \t\tsuper(url);\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\t\t\r\n    \t}\r\n    \t\r\n    \tprotected ServiceConnection getServiceConnection() throws IOException {\r\n    \t\tServiceConnection midpConnection = new ServiceConnectionSE(url);\r\n    \t\taddBasicAuthentication(midpConnection);\r\n    \t\treturn midpConnection;\r\n    \t}\r\n    \t\r\n    \tprotected void addBasicAuthentication(ServiceConnection midpConnection) throws IOException {\r\n            if (username != null &amp;&amp; password != null) {\r\n                StringBuffer buf = new StringBuffer(username);\r\n                buf.append(&#39;:&#39;).append(password);\r\n                byte[] raw = buf.toString().getBytes();\r\n                buf.setLength(0);\r\n                buf.append(&quot;Basic &quot;);\r\n                org.kobjects.base64.Base64.encode(raw, 0, raw.length, buf);\r\n                midpConnection.setRequestProperty(&quot;Authorization&quot;, buf.toString());\r\n            }\r\n        }\r\n    }","title":"how to authenticate SAP web service with ksoap2","body":"<p>Try this:</p>\n\n<pre><code>final static String NAMESPACE = \"urn:sap-com:document:sap:soap:functions:mc-style\";\n    final static String METHOD_NAME = \"ZmblHucremalzemelistesi\";\n    final static String SOAP_ACTION = \"\";\n    final static String URL = \"http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010\";\n\n    private static final String USERNAME = \"YOUR_USERNAME\";\n    private static final String PASSWORD = \"YOUR_PASSWORD\";\n\n    private void testWS() {\n        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\n        request.addProperty(\"ILgort\", \"H12\");\n\n        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n        envelope.setOutputSoapObject(request);\n\n        AuthTransportSE androidHttpTransport = new AuthTransportSE(URL, USERNAME, PASSWORD);\n        androidHttpTransport.debug = true;\n\n        try {\n            androidHttpTransport.call(SOAP_ACTION, envelope);\n            SoapObject response = (SoapObject) envelope.getResponse();\n            // if it did not work, try this:\n            // SoapObject response = (SoapObject) envelope.bodyIn;\n\n            tv.setText(response.toString());\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>And AuthTransportSE class is:</p>\n\n<pre><code>import java.io.IOException;\n\nimport org.ksoap2.transport.HttpTransportSE;\nimport org.ksoap2.transport.ServiceConnection;\nimport org.ksoap2.transport.ServiceConnectionSE;\n\npublic class AuthTransportSE extends HttpTransportSE{\n    private String username;\n    private String password;\n\n    public AuthTransportSE(String url, String username, String password) {\n        super(url);\n        this.username = username;\n        this.password = password;       \n    }\n\n    protected ServiceConnection getServiceConnection() throws IOException {\n        ServiceConnection midpConnection = new ServiceConnectionSE(url);\n        addBasicAuthentication(midpConnection);\n        return midpConnection;\n    }\n\n    protected void addBasicAuthentication(ServiceConnection midpConnection) throws IOException {\n        if (username != null &amp;&amp; password != null) {\n            StringBuffer buf = new StringBuffer(username);\n            buf.append(':').append(password);\n            byte[] raw = buf.toString().getBytes();\n            buf.setLength(0);\n            buf.append(\"Basic \");\n            org.kobjects.base64.Base64.encode(raw, 0, raw.length, buf);\n            midpConnection.setRequestProperty(\"Authorization\", buf.toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2834,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10317747,"answer_count":1,"score":4,"last_activity_date":1689579507,"creation_date":1335360423,"question_id":10316689,"body_markdown":"I have to connect a SAP web service. Here is my code but it warns:\r\n&gt;org.xmlpull.v1.XmlPullParserException: expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@1:7 in java.io.InputStreamReader@40e3fe98) \r\n\r\nHere is my full code to connect with username and password. \r\n\r\n    final static String NAMESPACE = &quot;urn:sap-com:document:sap:soap:functions:mc-style&quot;;\r\n\tfinal static String METHOD_NAME = &quot;ZmblHucremalzemelistesi&quot;;\r\n\tfinal static String SOAP_ACTION = &quot;&quot;;\r\n\tfinal static String URL = &quot;http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010&quot;;\r\n\r\n\r\n    private void testWS() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t \r\n\t\tSoapObject reSoapObject = new SoapObject(NAMESPACE, METHOD_NAME);\r\n\t\tSoapSerializationEnvelope soaSerializationEnvelope = new SoapSerializationEnvelope(\r\n\t\t\t\tSoapEnvelope.VER11);\r\n\t\t\r\n\t\treSoapObject.addProperty(&quot;ILgort&quot;, &quot;H12&quot;);\r\n\t\t\r\n\t\tsoaSerializationEnvelope.setOutputSoapObject(reSoapObject);\r\n\t\tsoaSerializationEnvelope.headerOut = new Element[1]; \r\n\t\tsoaSerializationEnvelope.headerOut[0] = buildAuthHeader(); \r\n\t\t\r\n\t\tHttpTransportSE httpTransportSE = new HttpTransportSE(URL);\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\thttpTransportSE.call(SOAP_ACTION, soaSerializationEnvelope);\r\n\r\n\t\t\tObject response = soaSerializationEnvelope.getResponse();\r\n\t\t\t\r\n\t\t\ttv.setText(response.toString());\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (XmlPullParserException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\r\n    private Element buildAuthHeader() { \r\n\t\t\r\n\t    Element h = new Element().createElement(NAMESPACE, &quot;AuthHeader&quot;); \r\n\t    Element username = new Element().createElement(NAMESPACE, &quot;user&quot;); \r\n\t    username.addChild(Node.TEXT, &quot;testuser&quot;); \r\n\t    h.addChild(Node.ELEMENT, username); \r\n\t    Element pass = new Element().createElement(NAMESPACE, &quot;pass&quot;); \r\n\t    pass.addChild(Node.TEXT, &quot;testpwd&quot;); \r\n\t    h.addChild(Node.ELEMENT, pass); \r\n\t \r\n\t    return h; \r\n\t} ","title":"how to authenticate SAP web service with ksoap2","body":"<p>I have to connect a SAP web service. Here is my code but it warns:</p>\n\n<blockquote>\n  <p>org.xmlpull.v1.XmlPullParserException: expected: START_TAG {<a href=\"http://schemas.xmlsoap.org/soap/envelope/\" rel=\"nofollow noreferrer\">http://schemas.xmlsoap.org/soap/envelope/</a>}Envelope (position:START_TAG @1:7 in java.io.InputStreamReader@40e3fe98) </p>\n</blockquote>\n\n<p>Here is my full code to connect with username and password. </p>\n\n<pre><code>final static String NAMESPACE = \"urn:sap-com:document:sap:soap:functions:mc-style\";\nfinal static String METHOD_NAME = \"ZmblHucremalzemelistesi\";\nfinal static String SOAP_ACTION = \"\";\nfinal static String URL = \"http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010\";\n\n\nprivate void testWS() {\n    // TODO Auto-generated method stub\n\n\n    SoapObject reSoapObject = new SoapObject(NAMESPACE, METHOD_NAME);\n    SoapSerializationEnvelope soaSerializationEnvelope = new SoapSerializationEnvelope(\n            SoapEnvelope.VER11);\n\n    reSoapObject.addProperty(\"ILgort\", \"H12\");\n\n    soaSerializationEnvelope.setOutputSoapObject(reSoapObject);\n    soaSerializationEnvelope.headerOut = new Element[1]; \n    soaSerializationEnvelope.headerOut[0] = buildAuthHeader(); \n\n    HttpTransportSE httpTransportSE = new HttpTransportSE(URL);\n\n    try {\n\n        httpTransportSE.call(SOAP_ACTION, soaSerializationEnvelope);\n\n        Object response = soaSerializationEnvelope.getResponse();\n\n        tv.setText(response.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (XmlPullParserException e) {\n        e.printStackTrace();\n    }\n\n\n}\n\nprivate Element buildAuthHeader() { \n\n    Element h = new Element().createElement(NAMESPACE, \"AuthHeader\"); \n    Element username = new Element().createElement(NAMESPACE, \"user\"); \n    username.addChild(Node.TEXT, \"testuser\"); \n    h.addChild(Node.ELEMENT, username); \n    Element pass = new Element().createElement(NAMESPACE, \"pass\"); \n    pass.addChild(Node.TEXT, \"testpwd\"); \n    h.addChild(Node.ELEMENT, pass); \n\n    return h; \n} \n</code></pre>\n"},{"tags":["java","gradle","jboss"],"answers":[{"tags":[],"owner":{"account_id":49908,"reputation":4336,"user_id":148736,"accept_rate":63,"display_name":"Andrew Arrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689428452,"creation_date":1689428452,"answer_id":76694031,"question_id":76694014,"body_markdown":"Upgrade Wildfly: Wildfly 8 is quite old and may not be fully compatible with Java 8. You could upgrade to a newer version of Wildfly that supports Java 8.\r\n\r\nOR, you could downgrade your JVM to earlier version of Java 8.\r\n\r\nIf your application has explicit dependencies on the `jdk.unsupported` module, you should remove or update those dependencies.","title":"Getting jdk.unsupported while running EAR on JBoss which was build using Gradle","body":"<p>Upgrade Wildfly: Wildfly 8 is quite old and may not be fully compatible with Java 8. You could upgrade to a newer version of Wildfly that supports Java 8.</p>\n<p>OR, you could downgrade your JVM to earlier version of Java 8.</p>\n<p>If your application has explicit dependencies on the <code>jdk.unsupported</code> module, you should remove or update those dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689578895,"creation_date":1689578895,"answer_id":76702309,"question_id":76694014,"body_markdown":"You have a manifest file in one of your jar which contains **Dependencies: jdk.unsupported** (could be spring-core). This is what is causing the error. Either create a jdk.unsupported fake module or fix your dependencies or upgrade WildFly (which you should do in any case as a 10 years old out of date software is quite hazardous)\r\nTo create the fake module:\r\n\r\n 1. mkdir- p $JBOSS_PATH/modules/system/layers/base/jdk/unsupported/main\r\n 2. Create a new file under the main folder named module.xml with the following content: `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;module xmlns=&quot;urn:jboss:module:1.5&quot; name=&quot;jdk.unsupported&quot;&gt; &lt;/module&gt;`","title":"Getting jdk.unsupported while running EAR on JBoss which was build using Gradle","body":"<p>You have a manifest file in one of your jar which contains <strong>Dependencies: jdk.unsupported</strong> (could be spring-core). This is what is causing the error. Either create a jdk.unsupported fake module or fix your dependencies or upgrade WildFly (which you should do in any case as a 10 years old out of date software is quite hazardous)\nTo create the fake module:</p>\n<ol>\n<li>mkdir- p $JBOSS_PATH/modules/system/layers/base/jdk/unsupported/main</li>\n<li>Create a new file under the main folder named module.xml with the following content: <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;module xmlns=&quot;urn:jboss:module:1.5&quot; name=&quot;jdk.unsupported&quot;&gt; &lt;/module&gt;</code></li>\n</ol>\n"}],"owner":{"account_id":16757257,"reputation":1,"user_id":12112937,"display_name":"Rishabh Mathe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689578895,"creation_date":1689428218,"question_id":76694014,"body_markdown":"We are trying to run EAR appplication which was built using gradle on Jboss server and getting the ffollowing errro.\r\nJDK version is 8.\r\nWildfly version is 8.\r\n\r\n\r\n\r\n    18:58:04,899 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_342]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_342]\r\n    \tat java.lang.Thread.run(Thread.java:750) [rt.jar:1.8.0_342]\r\n    Caused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main\r\n    \tat org.jboss.modules.Module.addPaths(Module.java:1050) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.modules.Module.link(Module.java:1406) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.modules.Module.relinkIfNecessary(Module.java:1434) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:242) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:70) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\r\n    \t... 5 more\r\n    \r\n    18:58:04,904 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;Dragon6.ear&quot;)]) - failure description: {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\r\n        Caused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main&quot;}}\r\n\r\nChecked Compatability so Java version is 8 and wildfly version is also 8 which seems compatible.","title":"Getting jdk.unsupported while running EAR on JBoss which was build using Gradle","body":"<p>We are trying to run EAR appplication which was built using gradle on Jboss server and getting the ffollowing errro.\nJDK version is 8.\nWildfly version is 8.</p>\n<pre><code>18:58:04,899 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_342]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_342]\n    at java.lang.Thread.run(Thread.java:750) [rt.jar:1.8.0_342]\nCaused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main\n    at org.jboss.modules.Module.addPaths(Module.java:1050) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.modules.Module.link(Module.java:1406) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.modules.Module.relinkIfNecessary(Module.java:1434) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:242) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:70) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\n    ... 5 more\n\n18:58:04,904 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;Dragon6.ear&quot;)]) - failure description: {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\n    Caused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main&quot;}}\n</code></pre>\n<p>Checked Compatability so Java version is 8 and wildfly version is also 8 which seems compatible.</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1689579455,"post_id":76702288,"comment_id":135227804,"body_markdown":"This is answered on the page linked in the question: “the web application class loader will always delegate first for JavaEE API classes for the specifications implemented by Tomcat (Servlet, JSP, EL, WebSocket)”","body":"This is answered on the page linked in the question: “the web application class loader will always delegate first for JavaEE API classes for the specifications implemented by Tomcat (Servlet, JSP, EL, WebSocket)”"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689579751,"post_id":76702288,"comment_id":135227865,"body_markdown":"And since that sentence can be hard to parse: Yes, that means it&#39;ll use the jar from `tomcat/lib` before anything from `WEB-INF`","body":"And since that sentence can be hard to parse: Yes, that means it&#39;ll use the jar from <code>tomcat&#47;lib</code> before anything from <code>WEB-INF</code>"},{"owner":{"account_id":5258901,"reputation":343,"user_id":4200960,"accept_rate":17,"display_name":"vrreddy1234"},"score":0,"creation_date":1689582282,"post_id":76702288,"comment_id":135228341,"body_markdown":"if i want to test if tomcat/lib servlet-api.jar is jar picked at runtime, can you please suggest how to test it. thanks","body":"if i want to test if tomcat/lib servlet-api.jar is jar picked at runtime, can you please suggest how to test it. thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689584541,"post_id":76702288,"comment_id":135228817,"body_markdown":"Two suggestions: set verbose classloading on the container. Examine file handles with tools appropriate for your OS","body":"Two suggestions: set verbose classloading on the container. Examine file handles with tools appropriate for your OS"}],"owner":{"account_id":5258901,"reputation":343,"user_id":4200960,"accept_rate":17,"display_name":"vrreddy1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689592454,"answer_count":0,"score":0,"last_activity_date":1689578749,"creation_date":1689578749,"question_id":76702288,"body_markdown":"I have servlet-api.jar in tomcat/lib folder and WEB-INF/lib/servlet-api 3.1.0 jar (i.e application dependent). I would like to know how to find which version of jar is currently in use when tomcat is running.\r\nhttps://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html from here, i see order of class loading is as follows\r\n\r\n    Bootstrap classes of your JVM\r\n    /WEB-INF/classes of your web application\r\n    /WEB-INF/lib/*.jar of your web application\r\n    System class loader classes (described above)\r\n    Common class loader classes (described above)\r\n\r\n\r\nbut how to know if common class loader overrides the above jar present in WEB-INF/lib folder.\r\ncan someone please answer.","title":"to know the package jar used in tomcat at runtime","body":"<p>I have servlet-api.jar in tomcat/lib folder and WEB-INF/lib/servlet-api 3.1.0 jar (i.e application dependent). I would like to know how to find which version of jar is currently in use when tomcat is running.\n<a href=\"https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html</a> from here, i see order of class loading is as follows</p>\n<pre><code>Bootstrap classes of your JVM\n/WEB-INF/classes of your web application\n/WEB-INF/lib/*.jar of your web application\nSystem class loader classes (described above)\nCommon class loader classes (described above)\n</code></pre>\n<p>but how to know if common class loader overrides the above jar present in WEB-INF/lib folder.\ncan someone please answer.</p>\n"},{"tags":["java","spring","spring-boot","scheduler"],"answers":[{"tags":[],"owner":{"account_id":16135937,"reputation":43,"user_id":11648407,"display_name":"Khaleb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611678429,"creation_date":1611678429,"answer_id":65905206,"question_id":61749805,"body_markdown":"Well, both fixedDelay and initialDelay accepts values in milliseconds.\r\nSo you can either go with:\r\n\r\n    @Scheduled(fixedDelay = 300000, initialDelay = 900000)\r\n\r\nOr:\r\n\r\n    @Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>Well, both fixedDelay and initialDelay accepts values in milliseconds.\nSo you can either go with:</p>\n<pre><code>@Scheduled(fixedDelay = 300000, initialDelay = 900000)\n</code></pre>\n<p>Or:</p>\n<pre><code>@Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128202,"reputation":4382,"user_id":325868,"accept_rate":58,"display_name":"LeO"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1614676027,"creation_date":1614676027,"answer_id":66436361,"question_id":61749805,"body_markdown":"Although little bit late to the party, nevertheless another approach from [Spring][1]\r\n\r\n    @Scheduled(fixedDelayString = &quot;PT15M&quot;, initialDelayString = &quot;PT2H&quot;)\r\n\r\nHere you can find the [details][2] about the syntax.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelayString--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html?is-external=true#parse-java.lang.CharSequence-","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>Although little bit late to the party, nevertheless another approach from <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelayString--\" rel=\"noreferrer\">Spring</a></p>\n<pre><code>@Scheduled(fixedDelayString = &quot;PT15M&quot;, initialDelayString = &quot;PT2H&quot;)\n</code></pre>\n<p>Here you can find the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html?is-external=true#parse-java.lang.CharSequence-\" rel=\"noreferrer\">details</a> about the syntax.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689578356,"creation_date":1689577937,"answer_id":76702192,"question_id":61749805,"body_markdown":"As per the JavaDocs:\r\n\r\n&gt; The time unit is milliseconds by default but can be overridden via\r\n&gt; `timeUnit`.\r\n\r\nSo you can use `java.util.concurrent.TimeUnit` like this:\r\n\r\n```java\r\n// ...\r\n@Scheduled(fixedDelay = 5, initialDelay = 15, timeUnit = TimeUnit.MINUTES)\r\npublic void scheduleFixedRateWithInitialDelayTask() {\r\n    // ...\r\n}\r\n```\r\n\r\nThis also works with `fixedDelayString`.","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>As per the JavaDocs:</p>\n<blockquote>\n<p>The time unit is milliseconds by default but can be overridden via\n<code>timeUnit</code>.</p>\n</blockquote>\n<p>So you can use <code>java.util.concurrent.TimeUnit</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\n@Scheduled(fixedDelay = 5, initialDelay = 15, timeUnit = TimeUnit.MINUTES)\npublic void scheduleFixedRateWithInitialDelayTask() {\n    // ...\n}\n</code></pre>\n<p>This also works with <code>fixedDelayString</code>.</p>\n"}],"owner":{"account_id":2073596,"reputation":2693,"user_id":1847560,"accept_rate":40,"display_name":"vijayk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22961,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1689578356,"creation_date":1589280586,"question_id":61749805,"body_markdown":"I am new for scheduler in spring. I read so many articles on @schedule but in every example they gave time in seconds and milliseconds.\r\n\r\nProblem Statement : As per my requirement, after my program start my scheduler will start after 15 minutes  (initial Delay ) and then it executes the task every after 5 minutes (FixedRate) . To achieve this how can I give time in minutes is their any best way to achieve this problem ?\r\n\r\nCode :\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class ScheduledConfiguration {\r\n    \t@Scheduled(fixedDelay = 300000, initialDelay = 900000)\r\n    \tpublic void scheduleFixedRateWithInitialDelayTask() {\r\n    \r\n    \t\tlong now = System.currentTimeMillis() / 1000;\r\n    \t\tSystem.out.println(&quot;Fixed rate task with one second initial delay - &quot; + now);\r\n    \t}\r\n    }\r\n\r\nBy using above program i will achive but I want to avoid 300000 / 900000 milliseconds .\r\nOther way \r\n\r\n    @Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)\r\n\r\n ","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>I am new for scheduler in spring. I read so many articles on @schedule but in every example they gave time in seconds and milliseconds.</p>\n\n<p>Problem Statement : As per my requirement, after my program start my scheduler will start after 15 minutes  (initial Delay ) and then it executes the task every after 5 minutes (FixedRate) . To achieve this how can I give time in minutes is their any best way to achieve this problem ?</p>\n\n<p>Code :</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class ScheduledConfiguration {\n    @Scheduled(fixedDelay = 300000, initialDelay = 900000)\n    public void scheduleFixedRateWithInitialDelayTask() {\n\n        long now = System.currentTimeMillis() / 1000;\n        System.out.println(\"Fixed rate task with one second initial delay - \" + now);\n    }\n}\n</code></pre>\n\n<p>By using above program i will achive but I want to avoid 300000 / 900000 milliseconds .\nOther way </p>\n\n<pre><code>@Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)\n</code></pre>\n"},{"tags":["java","docker","aws-fargate"],"comments":[{"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"score":0,"creation_date":1518783153,"post_id":48508480,"comment_id":84656564,"body_markdown":"Same problem. Did you find out some solution so far?","body":"Same problem. Did you find out some solution so far?"},{"owner":{"account_id":168045,"reputation":1369,"user_id":393238,"display_name":"djones"},"score":0,"creation_date":1520486886,"post_id":48508480,"comment_id":85337342,"body_markdown":"Same problem here...","body":"Same problem here..."}],"answers":[{"tags":[],"owner":{"account_id":168045,"reputation":1369,"user_id":393238,"display_name":"djones"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520698336,"creation_date":1520489099,"answer_id":49166461,"question_id":48508480,"body_markdown":"Pointing the hostname to 127.0.0.1 by going:\r\n\r\n    echo &quot;127.0.0.1 $HOSTNAME&quot; &gt;&gt; /etc/hosts\r\n\r\nFixed the issue for me.\r\n\r\nI&#39;m using Docker Compose. So I have a `docker-compose.yml` file like this:\r\n\r\n    version: &#39;2&#39;\r\n    \r\n    services:\r\n      myservice:\r\n        command: [&quot;/set-hostname.sh&quot;, &quot;--&quot;, &quot;/run-service.sh&quot;]\r\n\r\nand then the `set-hostname.sh` file looks like this:\r\n\r\n    #!/bin/bash\r\n    \r\n    set -e\r\n    \r\n    shift\r\n    cmd=&quot;$@&quot;\r\n    \r\n    echo &quot;127.0.0.1 $HOSTNAME&quot; &gt;&gt; /etc/hosts\r\n    \r\n    exec $cmd","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>Pointing the hostname to 127.0.0.1 by going:</p>\n\n<pre><code>echo \"127.0.0.1 $HOSTNAME\" &gt;&gt; /etc/hosts\n</code></pre>\n\n<p>Fixed the issue for me.</p>\n\n<p>I'm using Docker Compose. So I have a <code>docker-compose.yml</code> file like this:</p>\n\n<pre><code>version: '2'\n\nservices:\n  myservice:\n    command: [\"/set-hostname.sh\", \"--\", \"/run-service.sh\"]\n</code></pre>\n\n<p>and then the <code>set-hostname.sh</code> file looks like this:</p>\n\n<pre><code>#!/bin/bash\n\nset -e\n\nshift\ncmd=\"$@\"\n\necho \"127.0.0.1 $HOSTNAME\" &gt;&gt; /etc/hosts\n\nexec $cmd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3326691,"reputation":151,"user_id":3485142,"display_name":"user3485142"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524743064,"creation_date":1524743064,"answer_id":50042150,"question_id":48508480,"body_markdown":"So, I came across exactly the same issue and the thing is that as you already mentioned the hostname doesn&#39;t make much of a sense.\r\nThe only way to fetch the actual instance IP which can be seen within the VPC is to use the AWS task metadata API which in my case I did.\r\nhttps://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html\r\n\r\nI have wired the following code to fetch the localhost IP:\r\n\r\n    try {\r\n                final ResponseEntity&lt;String&gt; taskInfoResponse = this.restTemplate.getForEntity(&quot;http://169.254.170.2/v2/metadata&quot;, String.class);\r\n                log.info(&quot;Got AWS task info: {}&quot;, taskInfoResponse);\r\n                log.info(&quot;Got AWS task info: {}&quot;, taskInfoResponse.getBody());\r\n                if (taskInfoResponse.getStatusCode() == HttpStatus.OK) {\r\n                    try {\r\n                        final ObjectNode jsonNodes = this.objectMapper.readValue(taskInfoResponse.getBody(), ObjectNode.class);\r\n                        final JsonNode jsonNode = jsonNodes.get(&quot;Containers&quot;)\r\n                                .get(0).get(&quot;Networks&quot;)\r\n                                .get(0)\r\n                                .get(&quot;IPv4Addresses&quot;).get(0);\r\n                        log.info(&quot;Got IP to use: {}&quot;, jsonNode);\r\n                        if (jsonNode != null) {\r\n                            awsTaskInfo.setTaskAddress(InetAddress.getByName(jsonNode.asText()));\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new IllegalArgumentException(e);\r\n                    }\r\n                } else {\r\n                    awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\r\n                }\r\n            }catch (ResourceAccessException e){\r\n                log.error(&quot;Failed to fetch AWS info&quot;, e);\r\n                awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\r\n            }\r\n\r\n\r\n","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>So, I came across exactly the same issue and the thing is that as you already mentioned the hostname doesn't make much of a sense.\nThe only way to fetch the actual instance IP which can be seen within the VPC is to use the AWS task metadata API which in my case I did.\n<a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html</a></p>\n\n<p>I have wired the following code to fetch the localhost IP:</p>\n\n<pre><code>try {\n            final ResponseEntity&lt;String&gt; taskInfoResponse = this.restTemplate.getForEntity(\"http://169.254.170.2/v2/metadata\", String.class);\n            log.info(\"Got AWS task info: {}\", taskInfoResponse);\n            log.info(\"Got AWS task info: {}\", taskInfoResponse.getBody());\n            if (taskInfoResponse.getStatusCode() == HttpStatus.OK) {\n                try {\n                    final ObjectNode jsonNodes = this.objectMapper.readValue(taskInfoResponse.getBody(), ObjectNode.class);\n                    final JsonNode jsonNode = jsonNodes.get(\"Containers\")\n                            .get(0).get(\"Networks\")\n                            .get(0)\n                            .get(\"IPv4Addresses\").get(0);\n                    log.info(\"Got IP to use: {}\", jsonNode);\n                    if (jsonNode != null) {\n                        awsTaskInfo.setTaskAddress(InetAddress.getByName(jsonNode.asText()));\n                    }\n                } catch (IOException e) {\n                    throw new IllegalArgumentException(e);\n                }\n            } else {\n                awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\n            }\n        }catch (ResourceAccessException e){\n            log.error(\"Failed to fetch AWS info\", e);\n            awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10430723,"reputation":59,"user_id":7690620,"display_name":"harshal bhavsar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555074923,"creation_date":1555074701,"answer_id":55652399,"question_id":48508480,"body_markdown":"Exactly the same issue I was struggling with for a long time. This solution worked for me:\r\n\r\n    ENTRYPOINT [&quot;/bin/sh&quot;, &quot;-c&quot; , &quot;echo 127.0.0.1 $HOSTNAME &gt;&gt; /etc/hosts &amp;&amp; exec mvn spring-boot:run&quot;]","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>Exactly the same issue I was struggling with for a long time. This solution worked for me:</p>\n\n<pre><code>ENTRYPOINT [\"/bin/sh\", \"-c\" , \"echo 127.0.0.1 $HOSTNAME &gt;&gt; /etc/hosts &amp;&amp; exec mvn spring-boot:run\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3189025,"reputation":2094,"user_id":2693851,"accept_rate":65,"display_name":"Leonid Bor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596086001,"creation_date":1596086001,"answer_id":63166584,"question_id":48508480,"body_markdown":"I faced the same issue while trying to access S3 and SQS from a Lambda. The solution was not to specify region while creating client instances, so instead of:\r\n\r\n    SqsAsyncClient.builder()\r\n                    .region(Region.of(region))\r\n                    .build();\r\n\r\nDo this:\r\n\r\n    SqsAsyncClient.create();","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>I faced the same issue while trying to access S3 and SQS from a Lambda. The solution was not to specify region while creating client instances, so instead of:</p>\n<pre><code>SqsAsyncClient.builder()\n                .region(Region.of(region))\n                .build();\n</code></pre>\n<p>Do this:</p>\n<pre><code>SqsAsyncClient.create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2419336,"reputation":197,"user_id":2112710,"display_name":"David Ha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689578069,"creation_date":1689578069,"answer_id":76702212,"question_id":48508480,"body_markdown":"Enabling the &quot;DNS Hostnames&quot; option in the VPC the task uses resolves this issue for me. \r\n","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>Enabling the &quot;DNS Hostnames&quot; option in the VPC the task uses resolves this issue for me.</p>\n"}],"owner":{"account_id":6711041,"reputation":315,"user_id":5174477,"accept_rate":50,"display_name":"Daniel McHenry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9583,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1689578069,"creation_date":1517253574,"question_id":48508480,"body_markdown":"I have a large Java application I&#39;m trying to run on a fargate cluster in AWS. The image runs successfully on my local machine&#39;s docker. When I run it in fargate it starts successfully, but eventually encounters the following error after which the application gets stuck:\r\n\r\n    ! java.net.UnknownHostException: 690bd678bcf4: 690bd678bcf4: Name or service not known\r\n    ! at java.net.InetAddress.getLocalHost(InetAddress.java:1505) ~[na:1.8.0_151]\r\n    ! at tracelink.misc.SingletonTokenDBO$.&lt;init&gt;(SingletonTokenDBO.scala:34) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\r\n    ! at tracelink.misc.SingletonTokenDBO$.&lt;clinit&gt;(SingletonTokenDBO.scala) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\r\n    !... 10 common frames omitted\r\n    Caused by: ! java.net.UnknownHostException: 690bd678bcf4: Name or service not known\r\n    ! at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[na:1.8.0_151]\r\n    ! at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928) ~[na:1.8.0_151]\r\n    ! at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323) ~[na:1.8.0_151]\r\n    ! at java.net.InetAddress.getLocalHost(InetAddress.java:1500) ~[na:1.8.0_151]\r\n    !... 12 common frames omitted\r\n\r\nThe offending line of Scala code is:\r\n\r\n      private val machineName = InetAddress.getLocalHost().getHostName()\r\n\r\nSome initial research suggests the error is related to the contents of the /etc/hosts file in the container. So I created a small test program that exhibits the same behavior as my real application, and also dumps the contents of /etc/hosts to stdout:\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n\r\n    public class NetworkTest {\r\n       public static void main(String[] args) throws InterruptedException, IOException, FileNotFoundException {\r\n          while(true) {\r\n             networkDump();\r\n             Thread.sleep(10000);\r\n          }\r\n       }\r\n\r\n       private static void networkDump() throws IOException, FileNotFoundException {\r\n          System.out.println(&quot;/etc/hosts:&quot;);\r\n          System.out.println(&quot;&quot;);\r\n\r\n          FileReader f = new FileReader(&quot;/etc/hosts&quot;);\r\n          BufferedReader reader = new BufferedReader(f);\r\n          String line = null;\r\n          while((line = reader.readLine()) != null) {\r\n             System.out.println(line);\r\n          }\r\n          System.out.println(&quot;&quot;);\r\n\r\n          dumpHostname();\r\n       }\r\n\r\n       private static void dumpHostname() {\r\n          try {\r\n             String hostname = InetAddress.getLocalHost().getHostName();\r\n             System.out.printf(&quot;Hostname: %s\\n\\n&quot;, hostname);\r\n          } catch(UnknownHostException e) {\r\n             System.out.println(e.getMessage());\r\n          }\r\n       }\r\n    }\r\n\r\nDockerfile:\r\n\r\n    FROM openjdk:8\r\n\r\n    WORKDIR /site\r\n    ADD . /site\r\n\r\n    CMD [&quot;java&quot;, &quot;NetworkTest&quot;]\r\n\r\nThe output I get from this in AWS looks like:\r\n    \r\n    /etc/hosts:\r\n    127.0.0.1 localhost\r\n    ::1 localhost ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\n    3a5a4271a6e3: 3a5a4271a6e3: Name or service not known\r\n\r\nCompared with this output running in docker on my local machine:\r\n\r\n    &gt; docker run networktest\r\n    \r\n    /etc/hosts:\r\n    127.0.0.1\tlocalhost\r\n    ::1\tlocalhost ip6-localhost ip6-loopback\r\n    fe00::0\tip6-localnet\r\n    ff00::0\tip6-mcastprefix\r\n    ff02::1\tip6-allnodes\r\n    ff02::2\tip6-allrouters\r\n    172.17.0.4\t82691e2fb948\r\n\r\n    Hostname: 82691e2fb948\r\n\r\nThe local version that does not get the exception has an entry in /etc/hosts for the hostname, while the AWS hosts file has no entry for the hostname. I&#39;ve tried adding an /etc/rc.local file to manually add the hostname to the end of the localhost line, and just adding a RUN command in the Dockerfile to do the same thing. Neither has had any effect.\r\n\r\nDoes anyone know if there&#39;s a way to configure either the image or the ECS task definition to get the hostname properly configured in AWS?","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>I have a large Java application I'm trying to run on a fargate cluster in AWS. The image runs successfully on my local machine's docker. When I run it in fargate it starts successfully, but eventually encounters the following error after which the application gets stuck:</p>\n\n<pre><code>! java.net.UnknownHostException: 690bd678bcf4: 690bd678bcf4: Name or service not known\n! at java.net.InetAddress.getLocalHost(InetAddress.java:1505) ~[na:1.8.0_151]\n! at tracelink.misc.SingletonTokenDBO$.&lt;init&gt;(SingletonTokenDBO.scala:34) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\n! at tracelink.misc.SingletonTokenDBO$.&lt;clinit&gt;(SingletonTokenDBO.scala) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\n!... 10 common frames omitted\nCaused by: ! java.net.UnknownHostException: 690bd678bcf4: Name or service not known\n! at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[na:1.8.0_151]\n! at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928) ~[na:1.8.0_151]\n! at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323) ~[na:1.8.0_151]\n! at java.net.InetAddress.getLocalHost(InetAddress.java:1500) ~[na:1.8.0_151]\n!... 12 common frames omitted\n</code></pre>\n\n<p>The offending line of Scala code is:</p>\n\n<pre><code>  private val machineName = InetAddress.getLocalHost().getHostName()\n</code></pre>\n\n<p>Some initial research suggests the error is related to the contents of the /etc/hosts file in the container. So I created a small test program that exhibits the same behavior as my real application, and also dumps the contents of /etc/hosts to stdout:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class NetworkTest {\n   public static void main(String[] args) throws InterruptedException, IOException, FileNotFoundException {\n      while(true) {\n         networkDump();\n         Thread.sleep(10000);\n      }\n   }\n\n   private static void networkDump() throws IOException, FileNotFoundException {\n      System.out.println(\"/etc/hosts:\");\n      System.out.println(\"\");\n\n      FileReader f = new FileReader(\"/etc/hosts\");\n      BufferedReader reader = new BufferedReader(f);\n      String line = null;\n      while((line = reader.readLine()) != null) {\n         System.out.println(line);\n      }\n      System.out.println(\"\");\n\n      dumpHostname();\n   }\n\n   private static void dumpHostname() {\n      try {\n         String hostname = InetAddress.getLocalHost().getHostName();\n         System.out.printf(\"Hostname: %s\\n\\n\", hostname);\n      } catch(UnknownHostException e) {\n         System.out.println(e.getMessage());\n      }\n   }\n}\n</code></pre>\n\n<p>Dockerfile:</p>\n\n<pre><code>FROM openjdk:8\n\nWORKDIR /site\nADD . /site\n\nCMD [\"java\", \"NetworkTest\"]\n</code></pre>\n\n<p>The output I get from this in AWS looks like:</p>\n\n<pre><code>/etc/hosts:\n127.0.0.1 localhost\n::1 localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n\n3a5a4271a6e3: 3a5a4271a6e3: Name or service not known\n</code></pre>\n\n<p>Compared with this output running in docker on my local machine:</p>\n\n<pre><code>&gt; docker run networktest\n\n/etc/hosts:\n127.0.0.1   localhost\n::1 localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n172.17.0.4  82691e2fb948\n\nHostname: 82691e2fb948\n</code></pre>\n\n<p>The local version that does not get the exception has an entry in /etc/hosts for the hostname, while the AWS hosts file has no entry for the hostname. I've tried adding an /etc/rc.local file to manually add the hostname to the end of the localhost line, and just adding a RUN command in the Dockerfile to do the same thing. Neither has had any effect.</p>\n\n<p>Does anyone know if there's a way to configure either the image or the ECS task definition to get the hostname properly configured in AWS?</p>\n"},{"tags":["java",".net","customization","sap-erp"],"answers":[{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574555842,"creation_date":1263839487,"answer_id":2088281,"question_id":2086200,"body_markdown":"I can only speak for the Human Resource component, but this is a component where there is a lot of difference between customers, based on a common need.\r\n\r\n* First, most of the time you set the value for a group, and then associate the object (person, location...) with a group depending on one or two values. This is akin to an indirection, and allow for great flexibility, as you can change the association for a given location without changing the others. in a few case, there is a 3 level indirection...\r\n* Second, there is a lot of customization that is nearly programming. Payroll or administrative operations are first class example of this. In the later cas, you get a table with the operation (hiring for example), the event (creation, modification...) a code for the action (I for test, F to call a function, O for a standard operation) and a text field describing the parameters of a function (&quot;C P0001, begda, endda&quot; to create a structure P001 with default values).\r\n* Third, you can also use such a table to indicate a function or class (ABAP-OO), that will be dynamically called. You get a developer to create this function or class, and then indicate this in the table. This is a method to replace a functionality by another one, or extend it. This is used extensively in the ESS/MSS.\r\n* Last, there is also extension point or file that you can modify. this is nearly the same as the previous one, except that you don&#39;t need to indicate the change : the file is always used (ZXPADU01/02 for HR modification of infotype)\r\n\r\nhope this help   \r\nGuillaume PATRY\r\n\r\n","title":"How easily customizable are SAP industry-specific solutions?","body":"<p>I can only speak for the Human Resource component, but this is a component where there is a lot of difference between customers, based on a common need.</p>\n\n<ul>\n<li>First, most of the time you set the value for a group, and then associate the object (person, location...) with a group depending on one or two values. This is akin to an indirection, and allow for great flexibility, as you can change the association for a given location without changing the others. in a few case, there is a 3 level indirection...</li>\n<li>Second, there is a lot of customization that is nearly programming. Payroll or administrative operations are first class example of this. In the later cas, you get a table with the operation (hiring for example), the event (creation, modification...) a code for the action (I for test, F to call a function, O for a standard operation) and a text field describing the parameters of a function (\"C P0001, begda, endda\" to create a structure P001 with default values).</li>\n<li>Third, you can also use such a table to indicate a function or class (ABAP-OO), that will be dynamically called. You get a developer to create this function or class, and then indicate this in the table. This is a method to replace a functionality by another one, or extend it. This is used extensively in the ESS/MSS.</li>\n<li>Last, there is also extension point or file that you can modify. this is nearly the same as the previous one, except that you don't need to indicate the change : the file is always used (ZXPADU01/02 for HR modification of infotype)</li>\n</ul>\n\n<p>hope this help<br>\nGuillaume PATRY</p>\n"},{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1574555660,"creation_date":1263844228,"answer_id":2088759,"question_id":2086200,"body_markdown":"Disclaimer: I&#39;m talking about the ABAP-based part of SAP software only.\r\n\r\nDisclaimer 2, ref PATRYs response: HR is quite a bit different from the rest of the SAP/ABAP world. I do feel rather competent as a general-purpose ABAP developer, but HR programming is so far off my personal beacon that I&#39;ve never even tried to understand what they&#39;re doing there. %-|\r\n\r\n&gt; According to my understanding, they provide a number of industry specific solutions. \r\n\r\nThey do - but be careful when comparing your own programs to these solutions. For example, IS-H (SAP for Healthcare) started off as an extension of the SD (Sales &amp; Distribution) system, but has become very much more since then. While you could technically use all of the techniques they use for their IS, you really should ask a competent technical consultant before you do - there are an awful lot of pits to avoid.\r\n\r\n&gt; The concept seems very interesting and I work on something similar for banking industry.\r\n\r\nNote that a SAP for Banking IS already exists. See [here](https://www.sap.com/industries/banking.html) for the documentation.\r\n\r\n&gt; The biggest challenge we face is how to adapt our products for different clients.\r\n\r\nI&#39;d rather rephrase this as &quot;The biggest challenge is to know where the product is likely to be adapted and to structurally prepare the product for adaption.&quot; The adaption techniques are well researched and easily employed once you know where the customer is likely to deviate from your idea of the perfect solution.\r\n\r\n&gt; How much effort has to be spent in\r\n&gt; order to adapt the product so it\r\n&gt; satisfies specific customer needs?\r\n\r\nThat obviously depends on the deviation of the customer&#39;s needs from the standard path - but that won&#39;t help you. With a SAP-based system, you always have three choices. You can try to *customize* the system within its limits. Customizing basically means tweaking settings (think configuration tables, tens of thousands of them) and adding stuff (program fragments, forms, ...) in places that are intended to do so. Technology - see below. \r\n\r\nSometimes customizing isn&#39;t enough - you can *develop* things additionally. A very frequent requirement is some additional reporting tool. With the SAP system, you get the entire development environment delivered - the very same tools that all the standard applications were written with. Your programs can peacefully coexist with the standard programs and even use common routines and data. Of course you can really screw things up, but show me a real programming environment where you can&#39;t. \r\n\r\nThe third option is to *modify* the standard implementations. Modifications are like a really sharp two-edged kitchen knife - you might be able to cook really cool things in half of the time required by others, but you might hurt yourself really badly if you don&#39;t know what you&#39;re doing. Even if you don&#39;t really intend to modify the standard programs, it&#39;s very comforting to know that you could and that you have full access to the coding.\r\n\r\n(Note that this is about the application programs only - you have no chance whatsoever to tweak the kernel, but fortunately, that&#39;s rarely necessary.)\r\n\r\n&gt; What are the mechanisms used (configuration, programming etc)? \r\n\r\nConfigurations is mostly about configuration tables with more or less sophisticated dialog applications. For the programming part of customizing, there&#39;s the extension framework - see http://help.sap.com/saphelp_nw70ehp1/helpdata/en/35/f9934257a5c86ae10000000a155106/frameset.htm for details. It&#39;s basically a controlled version of dependency injection. As a solution developer, you have to anticipate the extension points, define the interface that has to be implemented by the customer code and then embed the call in your code. As a project developer, you have to create an implementation that adheres to the interface and activate it. The basic runtime system takes care of glueing the two programs together, you don&#39;t have to worry about that.\r\n\r\n&gt; How would this compare to developing custom solution from scratch? \r\n\r\nIMHO this depends on how much of the solution is the same for all customers and how much of it has to be adapted. It&#39;s really hard to be more specific without knowing more about what you want to do.\r\n","title":"How easily customizable are SAP industry-specific solutions?","body":"<p>Disclaimer: I'm talking about the ABAP-based part of SAP software only.</p>\n\n<p>Disclaimer 2, ref PATRYs response: HR is quite a bit different from the rest of the SAP/ABAP world. I do feel rather competent as a general-purpose ABAP developer, but HR programming is so far off my personal beacon that I've never even tried to understand what they're doing there. %-|</p>\n\n<blockquote>\n  <p>According to my understanding, they provide a number of industry specific solutions. </p>\n</blockquote>\n\n<p>They do - but be careful when comparing your own programs to these solutions. For example, IS-H (SAP for Healthcare) started off as an extension of the SD (Sales &amp; Distribution) system, but has become very much more since then. While you could technically use all of the techniques they use for their IS, you really should ask a competent technical consultant before you do - there are an awful lot of pits to avoid.</p>\n\n<blockquote>\n  <p>The concept seems very interesting and I work on something similar for banking industry.</p>\n</blockquote>\n\n<p>Note that a SAP for Banking IS already exists. See <a href=\"https://www.sap.com/industries/banking.html\" rel=\"nofollow noreferrer\">here</a> for the documentation.</p>\n\n<blockquote>\n  <p>The biggest challenge we face is how to adapt our products for different clients.</p>\n</blockquote>\n\n<p>I'd rather rephrase this as \"The biggest challenge is to know where the product is likely to be adapted and to structurally prepare the product for adaption.\" The adaption techniques are well researched and easily employed once you know where the customer is likely to deviate from your idea of the perfect solution.</p>\n\n<blockquote>\n  <p>How much effort has to be spent in\n  order to adapt the product so it\n  satisfies specific customer needs?</p>\n</blockquote>\n\n<p>That obviously depends on the deviation of the customer's needs from the standard path - but that won't help you. With a SAP-based system, you always have three choices. You can try to <em>customize</em> the system within its limits. Customizing basically means tweaking settings (think configuration tables, tens of thousands of them) and adding stuff (program fragments, forms, ...) in places that are intended to do so. Technology - see below. </p>\n\n<p>Sometimes customizing isn't enough - you can <em>develop</em> things additionally. A very frequent requirement is some additional reporting tool. With the SAP system, you get the entire development environment delivered - the very same tools that all the standard applications were written with. Your programs can peacefully coexist with the standard programs and even use common routines and data. Of course you can really screw things up, but show me a real programming environment where you can't. </p>\n\n<p>The third option is to <em>modify</em> the standard implementations. Modifications are like a really sharp two-edged kitchen knife - you might be able to cook really cool things in half of the time required by others, but you might hurt yourself really badly if you don't know what you're doing. Even if you don't really intend to modify the standard programs, it's very comforting to know that you could and that you have full access to the coding.</p>\n\n<p>(Note that this is about the application programs only - you have no chance whatsoever to tweak the kernel, but fortunately, that's rarely necessary.)</p>\n\n<blockquote>\n  <p>What are the mechanisms used (configuration, programming etc)? </p>\n</blockquote>\n\n<p>Configurations is mostly about configuration tables with more or less sophisticated dialog applications. For the programming part of customizing, there's the extension framework - see <a href=\"http://help.sap.com/saphelp_nw70ehp1/helpdata/en/35/f9934257a5c86ae10000000a155106/frameset.htm\" rel=\"nofollow noreferrer\">http://help.sap.com/saphelp_nw70ehp1/helpdata/en/35/f9934257a5c86ae10000000a155106/frameset.htm</a> for details. It's basically a controlled version of dependency injection. As a solution developer, you have to anticipate the extension points, define the interface that has to be implemented by the customer code and then embed the call in your code. As a project developer, you have to create an implementation that adheres to the interface and activate it. The basic runtime system takes care of glueing the two programs together, you don't have to worry about that.</p>\n\n<blockquote>\n  <p>How would this compare to developing custom solution from scratch? </p>\n</blockquote>\n\n<p>IMHO this depends on how much of the solution is the same for all customers and how much of it has to be adapted. It's really hard to be more specific without knowing more about what you want to do.</p>\n"}],"owner":{"account_id":26347,"reputation":11087,"user_id":68473,"accept_rate":89,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":2088759,"answer_count":2,"score":4,"last_activity_date":1689578040,"creation_date":1263820407,"question_id":2086200,"body_markdown":"First of all, I have a very superficial knowledge of SAP. According to my understanding, they provide a number of [industry specific solutions][1]. The concept seems very interesting and I work on something similar for banking industry. The biggest challenge we face is how to adapt our products for different clients. Many concepts are quite similar across enterprises, but there are always some client-specific requirements that have to be resolved through configuration and customization. Often this requires reimplementing and developing customer specific features.\r\n\r\nI wonder how efficient in this sense SAP products are. How much effort has to be spent in order to adapt the product so it satisfies specific customer needs? What are the mechanisms used (configuration, programming etc)? How would this compare to developing custom solution from scratch? Are they capable of leveraging and promoting best practices?\r\n\r\n\r\n  [1]: https://www.sap.com/industries.html","title":"How easily customizable are SAP industry-specific solutions?","body":"<p>First of all, I have a very superficial knowledge of SAP. According to my understanding, they provide a number of <a href=\"https://www.sap.com/industries.html\" rel=\"nofollow noreferrer\">industry specific solutions</a>. The concept seems very interesting and I work on something similar for banking industry. The biggest challenge we face is how to adapt our products for different clients. Many concepts are quite similar across enterprises, but there are always some client-specific requirements that have to be resolved through configuration and customization. Often this requires reimplementing and developing customer specific features.</p>\n\n<p>I wonder how efficient in this sense SAP products are. How much effort has to be spent in order to adapt the product so it satisfies specific customer needs? What are the mechanisms used (configuration, programming etc)? How would this compare to developing custom solution from scratch? Are they capable of leveraging and promoting best practices?</p>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":3666261,"reputation":614,"user_id":7038554,"accept_rate":75,"display_name":"Rico"},"score":0,"creation_date":1689576673,"post_id":76688381,"comment_id":135227358,"body_markdown":"Add least I found the reason it doesn&#39;t work: documentation is in Groovy, and I am using Kotlin. No clue how I can convert this to Kotlin.","body":"Add least I found the reason it doesn&#39;t work: documentation is in Groovy, and I am using Kotlin. No clue how I can convert this to Kotlin."}],"answers":[{"tags":[],"owner":{"account_id":3666261,"reputation":614,"user_id":7038554,"accept_rate":75,"display_name":"Rico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689577981,"creation_date":1689577981,"answer_id":76702204,"question_id":76688381,"body_markdown":"The documentation is in Groovy, and you have to convert it to Kotlin. I don&#39;t know what is a &quot;proper&quot; way to do it, but this worked for me:\r\n\r\n```\r\nimport io.freefair.gradle.plugins.maven.war.WarOverlay\r\n\r\ntasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\r\n    val extension: NamedDomainObjectContainer&lt;WarOverlay&gt; = extensions[&quot;overlays&quot;] as NamedDomainObjectContainer&lt;WarOverlay&gt;\r\n    extension.create(&quot;foo&quot;) {\r\n        from(&quot;&lt;dependency&gt;@war&quot;)\r\n        enabled = true\r\n        provided(false)\r\n    }\r\n}\r\n```","title":"Extension method is not detected (Unresolved reference: overlays)","body":"<p>The documentation is in Groovy, and you have to convert it to Kotlin. I don't know what is a &quot;proper&quot; way to do it, but this worked for me:</p>\n<pre><code>import io.freefair.gradle.plugins.maven.war.WarOverlay\n\ntasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\n    val extension: NamedDomainObjectContainer&lt;WarOverlay&gt; = extensions[&quot;overlays&quot;] as NamedDomainObjectContainer&lt;WarOverlay&gt;\n    extension.create(&quot;foo&quot;) {\n        from(&quot;&lt;dependency&gt;@war&quot;)\n        enabled = true\n        provided(false)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3666261,"reputation":614,"user_id":7038554,"accept_rate":75,"display_name":"Rico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76702204,"answer_count":1,"score":0,"last_activity_date":1689577981,"creation_date":1689343124,"question_id":76688381,"body_markdown":"**Problem**&lt;br&gt;\r\nI am trying to get the plugin &quot;io.freefair.war-overlay&quot; to work. Based on the documentation, it should work, but it doesn&#39;t.\r\n\r\nI created an empty Gradle project (wrapper version 8.0) and used the following `build.gradle.kts`:\r\n```\r\nimport io.freefair.gradle.plugins.maven.war.WarOverlay\r\n\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;io.freefair.war-overlay&quot;) version &quot;8.0.1&quot;\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nwar {\r\n    overlays {}\r\n}\r\n```\r\n\r\nThe documentation (https://docs.freefair.io/gradle-plugins/current/reference/#_io_freefair_war_overlay) states that this should work. But now Gradle gives the error: &quot;Unresolved reference: overlays&quot;.\r\n\r\n**Debugging**&lt;br&gt;\r\nI looked at the plugin source code, which can be found here: https://github.com/freefair/gradle-plugins/blob/master/maven-plugin/src/main/java/io/freefair/gradle/plugins/maven/war/WarOverlayPlugin.java. You can clearly see this:\r\n```\r\n            NamedDomainObjectContainer&lt;WarOverlay&gt; warOverlays = project.container(WarOverlay.class, name -&gt; new WarOverlay(name, warTask));\r\n            warTask.getExtensions().add(&quot;overlays&quot;, warOverlays);\r\n```\r\n\r\nThis leads me to believe that the &quot;overlays&quot; is indeed added as an extension to the war task. If I try to debug this, you can see it sort of works:\r\n\r\n```\r\ntasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\r\n    println(extensions[&quot;overlays&quot;])\r\n    // Adding &quot;overlays {}&quot; here also fails.\r\n}\r\n\r\n// Prints: WarOverlay container\r\n```\r\n\r\nStrangely enough, the following doesn&#39;t work:\r\n```\r\nwar {\r\n    println(extensions[&quot;overlays&quot;])\r\n}\r\n\r\n// Prints error: Extension with name &#39;overlays&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing]\r\n```\r\n\r\nSo apparently there is something different between &quot;war&quot; and grabbing the related task. Also in the related task.\r\n\r\nWhat am I doing wrong? It seems that it should work, and I cannot see my mistake.","title":"Extension method is not detected (Unresolved reference: overlays)","body":"<p><strong>Problem</strong><br>\nI am trying to get the plugin &quot;io.freefair.war-overlay&quot; to work. Based on the documentation, it should work, but it doesn't.</p>\n<p>I created an empty Gradle project (wrapper version 8.0) and used the following <code>build.gradle.kts</code>:</p>\n<pre><code>import io.freefair.gradle.plugins.maven.war.WarOverlay\n\nplugins {\n    id(&quot;java&quot;)\n    id(&quot;io.freefair.war-overlay&quot;) version &quot;8.0.1&quot;\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nwar {\n    overlays {}\n}\n</code></pre>\n<p>The documentation (<a href=\"https://docs.freefair.io/gradle-plugins/current/reference/#_io_freefair_war_overlay\" rel=\"nofollow noreferrer\">https://docs.freefair.io/gradle-plugins/current/reference/#_io_freefair_war_overlay</a>) states that this should work. But now Gradle gives the error: &quot;Unresolved reference: overlays&quot;.</p>\n<p><strong>Debugging</strong><br>\nI looked at the plugin source code, which can be found here: <a href=\"https://github.com/freefair/gradle-plugins/blob/master/maven-plugin/src/main/java/io/freefair/gradle/plugins/maven/war/WarOverlayPlugin.java\" rel=\"nofollow noreferrer\">https://github.com/freefair/gradle-plugins/blob/master/maven-plugin/src/main/java/io/freefair/gradle/plugins/maven/war/WarOverlayPlugin.java</a>. You can clearly see this:</p>\n<pre><code>            NamedDomainObjectContainer&lt;WarOverlay&gt; warOverlays = project.container(WarOverlay.class, name -&gt; new WarOverlay(name, warTask));\n            warTask.getExtensions().add(&quot;overlays&quot;, warOverlays);\n</code></pre>\n<p>This leads me to believe that the &quot;overlays&quot; is indeed added as an extension to the war task. If I try to debug this, you can see it sort of works:</p>\n<pre><code>tasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\n    println(extensions[&quot;overlays&quot;])\n    // Adding &quot;overlays {}&quot; here also fails.\n}\n\n// Prints: WarOverlay container\n</code></pre>\n<p>Strangely enough, the following doesn't work:</p>\n<pre><code>war {\n    println(extensions[&quot;overlays&quot;])\n}\n\n// Prints error: Extension with name 'overlays' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing]\n</code></pre>\n<p>So apparently there is something different between &quot;war&quot; and grabbing the related task. Also in the related task.</p>\n<p>What am I doing wrong? It seems that it should work, and I cannot see my mistake.</p>\n"},{"tags":["java","security","pkcs#7","sap-basis"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1370952806,"post_id":17043569,"comment_id":24639563,"body_markdown":"And `sc` is? What you&#39;re verifying?","body":"And <code>sc</code> is? What you&#39;re verifying?"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370953274,"post_id":17043569,"comment_id":24639856,"body_markdown":"String sc is the data with was signed with PKCS#7 in Base64. I want to verify the digital signature","body":"String sc is the data with was signed with PKCS#7 in Base64. I want to verify the digital signature"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370953644,"post_id":17043569,"comment_id":24640082,"body_markdown":"Later i will generate a hash from the real data. This should be then compared against the hash of the sc-data which i get also from the signature?","body":"Later i will generate a hash from the real data. This should be then compared against the hash of the sc-data which i get also from the signature?"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370953681,"post_id":17043569,"comment_id":24640110,"body_markdown":"For better understanding, this was signed by PKCS7: \n\n\nA1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601,OU%3DSAPWebAS,O%3DSAPTrustCommunity,C%3DDE20130611102236\n\n\nThe string sc is the result of signing above String by PKCS7 in SAP.\n\n\nI have now to create a hash value of the above string and compare to the hash value of the sc which i should get via the public key?!\n\n\nThe public key is stored in the certificate which i have stored in a file","body":"For better understanding, this was signed by PKCS7:    A1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601&zwnj;&#8203;,OU%3DSAPWebAS,O%3DS&zwnj;&#8203;APTrustCommunity,C%3&zwnj;&#8203;DDE20130611102236   The string sc is the result of signing above String by PKCS7 in SAP.   I have now to create a hash value of the above string and compare to the hash value of the sc which i should get via the public key?!   The public key is stored in the certificate which i have stored in a file"},{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1370956479,"post_id":17043569,"comment_id":24641829,"body_markdown":"Oh, i see. It required detailed explanation, but i haven&#39;t time right now. In short if you want to use PKCS#7 signature - use library with CMS http://en.wikipedia.org/wiki/Cryptographic_Message_Syntax support, for example, BouncyCastle. http://www.bouncycastle.org/docs/pkixdocs1.4/org/bouncycastle/cms/CMSSignedDataGenerator.html","body":"Oh, i see. It required detailed explanation, but i haven&#39;t time right now. In short if you want to use PKCS#7 signature - use library with CMS <a href=\"http://en.wikipedia.org/wiki/Cryptographic_Message_Syntax\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cryptographic_Message_Syntax</a> support, for example, BouncyCastle. <a href=\"http://www.bouncycastle.org/docs/pkixdocs1.4/org/bouncycastle/cms/CMSSignedDataGenerator.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/pkixdocs1.4/org/bouncycastle/cms/&hellip;</a>"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370956803,"post_id":17043569,"comment_id":24642042,"body_markdown":"I have tried it already with CMS, but it doesn&#180;t work, i got the info &quot;message-digest attribute value does not match calculated value&quot;. But i am not sure if I made the correct steps!\n\nCreated CMSSignedData, Get signer information, get Certificate, Call signer.verify Method\n\n\nDo i have to generate a SignedData (the String which was signed)?","body":"I have tried it already with CMS, but it doesn&#180;t work, i got the info &quot;message-digest attribute value does not match calculated value&quot;. But i am not sure if I made the correct steps!  Created CMSSignedData, Get signer information, get Certificate, Call signer.verify Method   Do i have to generate a SignedData (the String which was signed)?"}],"answers":[{"tags":[],"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1371020479,"creation_date":1371020479,"answer_id":17059469,"question_id":17043569,"body_markdown":"Finally i got it with help of this: https://stackoverflow.com/questions/8243566/verifying-detached-signature-with-bc\r\n\r\n\t\tString toVerify = &quot;A1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601,OU%3DSAPWebAS,O%3DSAPTrustCommunity,C%3DDE20130611102236&quot;;\r\n\t\tString signed = &quot;MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=&quot;;\r\n\t\tbyte[] signedByte = Base64.decode(signed);\r\n\r\n\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n\r\n\t\tCMSSignedData s = new CMSSignedData(new CMSProcessableByteArray(toVerify.getBytes()), signedByte);\r\n\t\tSignerInformationStore signers = s.getSignerInfos();\r\n\t\tSignerInformation signerInfo = (SignerInformation)signers.getSigners().iterator().next();\r\n\t\t\t\t\r\n\t\tFileInputStream fis = new FileInputStream(&quot;c:\\\\sap.cer&quot;);\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\tX509Certificate cert = (X509Certificate)cf.generateCertificates(fis).iterator().next();\r\n\t\t\r\n\t\tboolean result = signerInfo.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(&quot;SUN&quot;).build(cert.getPublicKey())); \r\n\t\tSystem.out.println(&quot;Verified: &quot;+result);","title":"PKCS7 Verify digital signature in Java","body":"<p>Finally i got it with help of this: <a href=\"https://stackoverflow.com/questions/8243566/verifying-detached-signature-with-bc\">verifying detached signature with BC</a></p>\n\n<pre><code>    String toVerify = \"A1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601,OU%3DSAPWebAS,O%3DSAPTrustCommunity,C%3DDE20130611102236\";\n    String signed = \"MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=\";\n    byte[] signedByte = Base64.decode(signed);\n\n    Security.addProvider(new BouncyCastleProvider());\n\n    CMSSignedData s = new CMSSignedData(new CMSProcessableByteArray(toVerify.getBytes()), signedByte);\n    SignerInformationStore signers = s.getSignerInfos();\n    SignerInformation signerInfo = (SignerInformation)signers.getSigners().iterator().next();\n\n    FileInputStream fis = new FileInputStream(\"c:\\\\sap.cer\");\n    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n    X509Certificate cert = (X509Certificate)cf.generateCertificates(fis).iterator().next();\n\n    boolean result = signerInfo.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(\"SUN\").build(cert.getPublicKey())); \n    System.out.println(\"Verified: \"+result);\n</code></pre>\n"}],"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15079,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":17059469,"answer_count":1,"score":4,"last_activity_date":1689577942,"creation_date":1370951999,"question_id":17043569,"body_markdown":"The situation is that I have to check a digital signature:\r\n\r\nString1 &quot;`A1005056807CE11EE2B4CE0025305725CFrCN=KED,OU=I0020266601,OU=SAPWebAS,O=SAPTrustCommunity,C=DE20130611102236`&quot; \r\nis signed via PKCS#7 and send over HTTP-URL to me.\r\n\r\nI get the signed content in BASE64 (look in code String sc).\r\n\r\nNow I have to check, if the Hash of String1 which I will reproduce later in my code, is the same as from the signed content. Therefore I have to use the public key which I have from a certificate.\r\n\r\nI have a file with a X.509 certificate. This file I load into a X509Certificate instance. I got this file by copy and paste the bytes out from SAP- so I am not sure if the certificate is correct. But I can load it into the instance - I have putted the output of this certificate below.\r\n\r\nNow I get this when I run my code:\r\n&gt; message-digest attribute value does not match calculated value\r\n\r\nI don&#39;t know if these steps are right and is this message is correct, or am I doing something false!?\r\n\r\nHere my code:\r\n\r\n    String sc = &quot;MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=&quot;;\r\n\tbyte[] secKey = Base64.decode(sc);\r\n\r\n\t\t\t\r\n\tCMSSignedData s = new CMSSignedData(secKey);\r\n\t\t\r\n\tSignerInformationStore signers = s.getSignerInfos();\r\n\tIterator&lt;SignerInformation&gt; it = signers.getSigners().iterator();\r\n\t\t\t\t\t\r\n\tFileInputStream fis = new FileInputStream(&quot;c:\\\\sap.cer&quot;);\r\n\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\tCollection&lt;X509Certificate&gt; c = (Collection&lt;X509Certificate&gt;)cf.generateCertificates(fis);\r\n\tIterator&lt;X509Certificate&gt; i = c.iterator();\r\n\r\n\twhile(it.hasNext()){\r\n\t\tSignerInformation signer = it.next();\r\n\t\twhile (i.hasNext()) {\r\n\t\t\tX509Certificate cert = i.next();\r\n\t\t\tcert.checkValidity();\r\n\t\t\tcert.verify(cert.getPublicKey());\t\t\t\r\n\t\t\tsigner.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(&quot;SUN&quot;).build(cert));\r\n\t\t}\r\n\t}\r\n\r\n\r\nCertificate Output:\r\n\r\n\t[\r\n\t[\r\n\t  Version: V1\r\n\t  Subject: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\r\n\t  Signature Algorithm: SHA1withDSA, OID = 1.2.840.10040.4.3\r\n\r\n\t  Key:  Sun DSA Public Key\r\n\t\tParameters:DSA\r\n\t\tp:     ffd22469 8c53aa90 7585c3ee b65ffd9a cde5b230 53041af9 969e69c8 22093f5a\r\n\t\t477740c5 d398084f 3830ea33 8dbd8505 d6cce42b 135794b1 a971e670 f896eee2\r\n\t\t17acf3f8 48c67d35 434768d7 9c30567f abeb0d86 5674ef2b d391d530 26cbd9ba\r\n\t\t647414ba ff6e2f5b 9f468df7 3e266bd5 b330058d e64cfd69 75065322 11c43237\r\n\t\tq:     cd1ac6c7 d55ae243 cd5bbb0c 0f0789b4 233786b1\r\n\t\tg:     0945535b 061de39c 995832d2 03d3c2a0 c352cad9 2a524886 7c681962 ca94e5e3\r\n\t\tf23cc4c0 7891bc0d 0abc85fe 4f575334 b8e02d02 176d7534 ec7080c3 a46ccba3\r\n\t\t776a1b2f fa6f3586 e4e90e40 558e779a 6d90c9c0 c788592f 5d8ffe16 801e2c9e\r\n\t\tb3305ed3 c4035015 a246b7fc 2d2dda7f e6431fe3 d3b291fe 58082643 49d9bac1\r\n\r\n\t  y:\r\n\t\tcab5984a d0254277 fd4aab43 799d8120 35f7725b 313b87a2 ca092c91 96236e44\r\n\t\t8ad7c157 d000395b 1ce37da2 a9c18113 c34067e8 c917752b 9604049d 70b92bb0\r\n\t\t6aa65d45 d5fde439 bbcbaa21 7520542a baac4e64 75fabc57 56a91856 178d8fc4\r\n\t\t6aa34d71 5a06b59f 6c89ae81 3571d4ce 89bbeb49 dedfc68c 4fa8a6d1 9aefcdcf\r\n\r\n\t  Validity: [From: Sun Dec 02 14:32:56 CET 2012,\r\n\t\t\t\t   To: Fri Jan 01 01:00:01 CET 2038]\r\n\t  Issuer: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\r\n\t  SerialNumber: [    20121202 133256]\r\n\r\n\t]\r\n\t  Algorithm: [SHA1withDSA]\r\n\t  Signature:\r\n\t0000: 30 2D 02 14 15 BE 80 34   1A 6F 02 F4 C8 5A 9A 6A  0-.....4.o...Z.j\r\n\t0010: 3E 5A A8 66 C2 A2 AD 3C   02 15 00 C9 53 A6 D9 85  &gt;Z.f...&lt;....S...\r\n\t0020: 3F 22 FB 12 5C E9 9D B7   77 29 03 62 81 EA 17     ?&quot;..\\...w).b...\r\n\r\n\t]\r\n\t","title":"PKCS7 Verify digital signature in Java","body":"<p>The situation is that I have to check a digital signature:</p>\n<p>String1 &quot;<code>A1005056807CE11EE2B4CE0025305725CFrCN=KED,OU=I0020266601,OU=SAPWebAS,O=SAPTrustCommunity,C=DE20130611102236</code>&quot;\nis signed via PKCS#7 and send over HTTP-URL to me.</p>\n<p>I get the signed content in BASE64 (look in code String sc).</p>\n<p>Now I have to check, if the Hash of String1 which I will reproduce later in my code, is the same as from the signed content. Therefore I have to use the public key which I have from a certificate.</p>\n<p>I have a file with a X.509 certificate. This file I load into a X509Certificate instance. I got this file by copy and paste the bytes out from SAP- so I am not sure if the certificate is correct. But I can load it into the instance - I have putted the output of this certificate below.</p>\n<p>Now I get this when I run my code:</p>\n<blockquote>\n<p>message-digest attribute value does not match calculated value</p>\n</blockquote>\n<p>I don't know if these steps are right and is this message is correct, or am I doing something false!?</p>\n<p>Here my code:</p>\n<pre><code>String sc = &quot;MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=&quot;;\nbyte[] secKey = Base64.decode(sc);\n\n        \nCMSSignedData s = new CMSSignedData(secKey);\n    \nSignerInformationStore signers = s.getSignerInfos();\nIterator&lt;SignerInformation&gt; it = signers.getSigners().iterator();\n                \nFileInputStream fis = new FileInputStream(&quot;c:\\\\sap.cer&quot;);\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\nCollection&lt;X509Certificate&gt; c = (Collection&lt;X509Certificate&gt;)cf.generateCertificates(fis);\nIterator&lt;X509Certificate&gt; i = c.iterator();\n\nwhile(it.hasNext()){\n    SignerInformation signer = it.next();\n    while (i.hasNext()) {\n        X509Certificate cert = i.next();\n        cert.checkValidity();\n        cert.verify(cert.getPublicKey());           \n        signer.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(&quot;SUN&quot;).build(cert));\n    }\n}\n</code></pre>\n<p>Certificate Output:</p>\n<pre><code>[\n[\n  Version: V1\n  Subject: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\n  Signature Algorithm: SHA1withDSA, OID = 1.2.840.10040.4.3\n\n  Key:  Sun DSA Public Key\n    Parameters:DSA\n    p:     ffd22469 8c53aa90 7585c3ee b65ffd9a cde5b230 53041af9 969e69c8 22093f5a\n    477740c5 d398084f 3830ea33 8dbd8505 d6cce42b 135794b1 a971e670 f896eee2\n    17acf3f8 48c67d35 434768d7 9c30567f abeb0d86 5674ef2b d391d530 26cbd9ba\n    647414ba ff6e2f5b 9f468df7 3e266bd5 b330058d e64cfd69 75065322 11c43237\n    q:     cd1ac6c7 d55ae243 cd5bbb0c 0f0789b4 233786b1\n    g:     0945535b 061de39c 995832d2 03d3c2a0 c352cad9 2a524886 7c681962 ca94e5e3\n    f23cc4c0 7891bc0d 0abc85fe 4f575334 b8e02d02 176d7534 ec7080c3 a46ccba3\n    776a1b2f fa6f3586 e4e90e40 558e779a 6d90c9c0 c788592f 5d8ffe16 801e2c9e\n    b3305ed3 c4035015 a246b7fc 2d2dda7f e6431fe3 d3b291fe 58082643 49d9bac1\n\n  y:\n    cab5984a d0254277 fd4aab43 799d8120 35f7725b 313b87a2 ca092c91 96236e44\n    8ad7c157 d000395b 1ce37da2 a9c18113 c34067e8 c917752b 9604049d 70b92bb0\n    6aa65d45 d5fde439 bbcbaa21 7520542a baac4e64 75fabc57 56a91856 178d8fc4\n    6aa34d71 5a06b59f 6c89ae81 3571d4ce 89bbeb49 dedfc68c 4fa8a6d1 9aefcdcf\n\n  Validity: [From: Sun Dec 02 14:32:56 CET 2012,\n               To: Fri Jan 01 01:00:01 CET 2038]\n  Issuer: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\n  SerialNumber: [    20121202 133256]\n\n]\n  Algorithm: [SHA1withDSA]\n  Signature:\n0000: 30 2D 02 14 15 BE 80 34   1A 6F 02 F4 C8 5A 9A 6A  0-.....4.o...Z.j\n0010: 3E 5A A8 66 C2 A2 AD 3C   02 15 00 C9 53 A6 D9 85  &gt;Z.f...&lt;....S...\n0020: 3F 22 FB 12 5C E9 9D B7   77 29 03 62 81 EA 17     ?&quot;..\\...w).b...\n\n]\n</code></pre>\n"},{"tags":["java","xml","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":10026302,"reputation":865,"user_id":7414389,"accept_rate":92,"display_name":"DMC19"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1689577760,"creation_date":1502955198,"answer_id":45729112,"question_id":45714224,"body_markdown":"I have solved it using \r\n\r\n`marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);`\r\n\r\nand adding `(name = &quot;element&quot;)` to the `@XmlRootElement` annotation.\r\n\r\nThe right method:\r\n\r\n    public String marshal() {\r\n    \tJAXBContext context;\r\n    \ttry {\r\n    \t\tcontext = JAXBContext.newInstance(FormElement.class);\r\n    \t\tMarshaller marshaller = context.createMarshaller();\r\n    \t\tStringWriter stringWriter = new StringWriter();\r\n    \t\tmarshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);\r\n    \t\tmarshaller.marshal(this, stringWriter);\r\n    \t\treturn stringWriter.toString();\r\n    \t} catch (JAXBException e) {\r\n    \t\tString mess = &quot;Error marshalling FormElement &quot; + e.getMessage()\r\n    \t\t\t\t+ (e.getCause() != null ? &quot;. &quot; + e.getCause() : &quot; &quot;);\r\n    \t\tSystem.out.println(mess);\r\n    \t}\r\n    \treturn null;\r\n    }\r\nAnd the right annotation:\r\n\r\n    @XmlRootElement(name = &quot;element&quot;)","title":"JAXB - How to marshal java object without header","body":"<p>I have solved it using</p>\n<p><code>marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);</code></p>\n<p>and adding <code>(name = &quot;element&quot;)</code> to the <code>@XmlRootElement</code> annotation.</p>\n<p>The right method:</p>\n<pre><code>public String marshal() {\n    JAXBContext context;\n    try {\n        context = JAXBContext.newInstance(FormElement.class);\n        Marshaller marshaller = context.createMarshaller();\n        StringWriter stringWriter = new StringWriter();\n        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);\n        marshaller.marshal(this, stringWriter);\n        return stringWriter.toString();\n    } catch (JAXBException e) {\n        String mess = &quot;Error marshalling FormElement &quot; + e.getMessage()\n                + (e.getCause() != null ? &quot;. &quot; + e.getCause() : &quot; &quot;);\n        System.out.println(mess);\n    }\n    return null;\n}\n</code></pre>\n<p>And the right annotation:</p>\n<pre><code>@XmlRootElement(name = &quot;element&quot;)\n</code></pre>\n"}],"owner":{"account_id":10026302,"reputation":865,"user_id":7414389,"accept_rate":92,"display_name":"DMC19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12951,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45729112,"answer_count":1,"score":9,"last_activity_date":1689577760,"creation_date":1502888358,"question_id":45714224,"body_markdown":"I&#39;m trying to marshal a java object but I want to remove the header that Jaxb is introducing.\r\n\r\n**Object:**\r\n\r\n    @XmlRootElement\r\n    public class FormElement implements Serializable {\r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \tprivate Integer order;\r\n    }\r\n\r\n**Expected output:**\r\n\r\n    &lt;element&gt;\r\n        &lt;id&gt;asd&lt;/id&gt;\r\n        &lt;name&gt;asd&lt;/name&gt;\r\n        &lt;order&gt;1&lt;/order&gt;\r\n    &lt;/element&gt;\r\n\r\n**My output:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;formElement&gt;\r\n      &lt;id&gt;asd&lt;/id&gt;\r\n      &lt;name&gt;asd&lt;/name&gt;\r\n      &lt;order&gt;1&lt;/order&gt;\r\n    &lt;/formElement&gt;\r\n\r\n**My marshal method:**\r\n\r\n    public String marshal() {\r\n    \t\tJAXBContext context;\r\n    \t\ttry {\r\n    \t\t\tcontext = JAXBContext.newInstance(FormElement.class);\r\n    \t\t\tMarshaller marshaller = context.createMarshaller();\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\tmarshaller.marshal(this, stringWriter);\r\n    \t\t\treturn stringWriter.toString();\r\n    \t\t} catch (JAXBException e) {\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\nHow can I remove it?\r\n\r\nThanks in advance.","title":"JAXB - How to marshal java object without header","body":"<p>I'm trying to marshal a java object but I want to remove the header that Jaxb is introducing.</p>\n\n<p><strong>Object:</strong></p>\n\n<pre><code>@XmlRootElement\npublic class FormElement implements Serializable {\n    private String id;\n    private String name;\n    private Integer order;\n}\n</code></pre>\n\n<p><strong>Expected output:</strong></p>\n\n<pre><code>&lt;element&gt;\n    &lt;id&gt;asd&lt;/id&gt;\n    &lt;name&gt;asd&lt;/name&gt;\n    &lt;order&gt;1&lt;/order&gt;\n&lt;/element&gt;\n</code></pre>\n\n<p><strong>My output:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;formElement&gt;\n  &lt;id&gt;asd&lt;/id&gt;\n  &lt;name&gt;asd&lt;/name&gt;\n  &lt;order&gt;1&lt;/order&gt;\n&lt;/formElement&gt;\n</code></pre>\n\n<p><strong>My marshal method:</strong></p>\n\n<pre><code>public String marshal() {\n        JAXBContext context;\n        try {\n            context = JAXBContext.newInstance(FormElement.class);\n            Marshaller marshaller = context.createMarshaller();\n            StringWriter stringWriter = new StringWriter();\n            marshaller.marshal(this, stringWriter);\n            return stringWriter.toString();\n        } catch (JAXBException e) {\n        }\n        return null;\n    }\n</code></pre>\n\n<p>How can I remove it?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675297759,"creation_date":1675297759,"answer_id":75317572,"question_id":75181017,"body_markdown":"Spring Cloud AWS 2.x is only compatible with Spring Boot 2.x, for Spring Boot 3.x, Spring Cloud AWS 3.0 is necessary.\r\n\r\nSee compatibility [here](https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions).\r\n\r\nThe 3.0 RC version has just been released, feel free to try it out and provide feedback!","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>Spring Cloud AWS 2.x is only compatible with Spring Boot 2.x, for Spring Boot 3.x, Spring Cloud AWS 3.0 is necessary.</p>\n<p>See compatibility <a href=\"https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The 3.0 RC version has just been released, feel free to try it out and provide feedback!</p>\n"},{"tags":[],"owner":{"account_id":27052966,"reputation":77,"user_id":20606083,"display_name":"KVSVK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675362961,"creation_date":1675361787,"answer_id":75327349,"question_id":75181017,"body_markdown":"Spring Boot 3.0x requires Spring Cloud AWS 3.0x and AWS Java SDK 2.x \r\n\r\nVisit this [link][1] for info &lt;br&gt;\r\n\r\n\r\nIn order to create a Consumer in Spring Boot 3.0, you need to use `@EnableScheduling` Bean in your main application. Then you need to use `@Scheduled(fixedDelay = 5000)` above the *receive* method. **@Scheduled** bean replaces the **@SqsListener** here. You can visit this [link][2] for more info.\r\n\r\n\r\n  [1]: https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\r\n  [2]: https://javatodev.com/how-to-use-amazon-sqs-with-spring-boot/","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>Spring Boot 3.0x requires Spring Cloud AWS 3.0x and AWS Java SDK 2.x</p>\n<p>Visit this <a href=\"https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">link</a> for info <br></p>\n<p>In order to create a Consumer in Spring Boot 3.0, you need to use <code>@EnableScheduling</code> Bean in your main application. Then you need to use <code>@Scheduled(fixedDelay = 5000)</code> above the <em>receive</em> method. <strong>@Scheduled</strong> bean replaces the <strong>@SqsListener</strong> here. You can visit this <a href=\"https://javatodev.com/how-to-use-amazon-sqs-with-spring-boot/\" rel=\"nofollow noreferrer\">link</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":13915924,"reputation":11,"user_id":10047760,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676904281,"creation_date":1676904281,"answer_id":75510719,"question_id":75181017,"body_markdown":"In order for the `@SqsListener` annotation to work, the dependency [spring-cloud-aws-autoconfigure][1] is required - this autowires the containers etc. needed for the annotation to function. [You can see the extra stuff it autowires here][2].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.awspring.cloud/spring-cloud-aws-autoconfigure\r\n  [2]: https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-autoconfigure/src/main/java/io/awspring/cloud/autoconfigure/sqs/SqsAutoConfiguration.java","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>In order for the <code>@SqsListener</code> annotation to work, the dependency <a href=\"https://mvnrepository.com/artifact/io.awspring.cloud/spring-cloud-aws-autoconfigure\" rel=\"nofollow noreferrer\">spring-cloud-aws-autoconfigure</a> is required - this autowires the containers etc. needed for the annotation to function. <a href=\"https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-autoconfigure/src/main/java/io/awspring/cloud/autoconfigure/sqs/SqsAutoConfiguration.java\" rel=\"nofollow noreferrer\">You can see the extra stuff it autowires here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11423432,"reputation":723,"user_id":8374202,"accept_rate":60,"display_name":"Vikash Yadav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685535359,"creation_date":1685535359,"answer_id":76373419,"question_id":75181017,"body_markdown":"**SQS message listener with spring boot 3**\r\n\r\nAdd following in pom.xml\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-aws-starter-sqs&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Use BOM provided by spring for version managament --&gt;\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n* Use io.awspring.cloud.sqs.annotation.SqsListener to listen the messages instead of io.awspring.cloud.messaging.listener.annotation.SqsListener\r\n* If &quot;Visibility timeout&quot; of SQS is less than listener&#39;s processing time then message needs to be deleted explicitly from the queue, otherwise same message could be processed multiple times.\r\n\r\nWorking example: https://github.com/raovikash/sqs-listener-spring-boot3","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p><strong>SQS message listener with spring boot 3</strong></p>\n<p>Add following in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-aws-starter-sqs&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Use BOM provided by spring for version managament --&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<ul>\n<li>Use io.awspring.cloud.sqs.annotation.SqsListener to listen the messages instead of io.awspring.cloud.messaging.listener.annotation.SqsListener</li>\n<li>If &quot;Visibility timeout&quot; of SQS is less than listener's processing time then message needs to be deleted explicitly from the queue, otherwise same message could be processed multiple times.</li>\n</ul>\n<p>Working example: <a href=\"https://github.com/raovikash/sqs-listener-spring-boot3\" rel=\"nofollow noreferrer\">https://github.com/raovikash/sqs-listener-spring-boot3</a></p>\n"},{"tags":[],"owner":{"account_id":29007197,"reputation":9,"user_id":22219432,"display_name":"user22219432"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689577294,"creation_date":1689228453,"answer_id":76676375,"question_id":75181017,"body_markdown":"\r\n    @EnableSqs\r\n\r\nadd this annotation in the class where you are using `@SqsListener` in spring boot 3","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<pre><code>@EnableSqs\n</code></pre>\n<p>add this annotation in the class where you are using <code>@SqsListener</code> in spring boot 3</p>\n"}],"owner":{"account_id":6061762,"reputation":85,"user_id":4733312,"display_name":"Eddie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6606,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1689577294,"creation_date":1674200184,"question_id":75181017,"body_markdown":"Currently, we have an SQS client configured using an IAM Role that is picked up on the cluster. However, migrating over to Springboot 3 the @SqsListener is no longer consuming the messages. \r\n\r\nNOTE: Same code, works on Springboot 2, but not on Springboot 3 is there something else that needs to be configured or am I missing something?\r\n\r\nAnyone else run into this issue?","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>Currently, we have an SQS client configured using an IAM Role that is picked up on the cluster. However, migrating over to Springboot 3 the @SqsListener is no longer consuming the messages.</p>\n<p>NOTE: Same code, works on Springboot 2, but not on Springboot 3 is there something else that needs to be configured or am I missing something?</p>\n<p>Anyone else run into this issue?</p>\n"},{"tags":["java","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397165158,"creation_date":1397165158,"answer_id":22999332,"question_id":22999265,"body_markdown":"As [this Java EE tutorial][1] states\r\n\r\n&gt; The @Produces annotation is used to specify the MIME media types or\r\n&gt; representations a resource can produce and send back to the client.\r\n\r\nso it doesn&#39;t actually tell JAX-RS to produce two content types in the response. It initially acts as an indicator for determining which handler method to use. If you had two `GET`s for the same path, the `@Produces` would help choosing the most appropriate. \r\n\r\nIn your cast, the method can produce both content type. Which one it eventually produces depends on the `Accept` header in the request.\r\n\r\nFrom the same tutorial\r\n\r\n&gt; If a resource class is capable of producing more that one MIME media\r\n&gt; type, the resource method chosen will correspond to the most\r\n&gt; acceptable media type as declared by the client. More specifically,\r\n&gt; the Accept header of the HTTP request declared what is most\r\n&gt; acceptable.\r\n\r\nThe fact that you are returning a `String` kind of shows that it&#39;s up to your implementation to produce the right content. If instead you returned a Pojo of some sort, I do believe Jersey would use the appropriate conversion tool to produce XML (maybe with JAXB) or JSON (maybe with Jackson).\r\n\r\n  [1]: http://docs.oracle.com/cd/E19226-01/820-7627/gipxf/index.html","title":"How can a resource method produce or consume two different MIME types?","body":"<p>As <a href=\"http://docs.oracle.com/cd/E19226-01/820-7627/gipxf/index.html\" rel=\"nofollow\">this Java EE tutorial</a> states</p>\n\n<blockquote>\n  <p>The @Produces annotation is used to specify the MIME media types or\n  representations a resource can produce and send back to the client.</p>\n</blockquote>\n\n<p>so it doesn't actually tell JAX-RS to produce two content types in the response. It initially acts as an indicator for determining which handler method to use. If you had two <code>GET</code>s for the same path, the <code>@Produces</code> would help choosing the most appropriate. </p>\n\n<p>In your cast, the method can produce both content type. Which one it eventually produces depends on the <code>Accept</code> header in the request.</p>\n\n<p>From the same tutorial</p>\n\n<blockquote>\n  <p>If a resource class is capable of producing more that one MIME media\n  type, the resource method chosen will correspond to the most\n  acceptable media type as declared by the client. More specifically,\n  the Accept header of the HTTP request declared what is most\n  acceptable.</p>\n</blockquote>\n\n<p>The fact that you are returning a <code>String</code> kind of shows that it's up to your implementation to produce the right content. If instead you returned a Pojo of some sort, I do believe Jersey would use the appropriate conversion tool to produce XML (maybe with JAXB) or JSON (maybe with Jackson).</p>\n"},{"tags":[],"owner":{"account_id":29001719,"reputation":1,"user_id":22215149,"display_name":"Mohamed Anwar H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689577280,"creation_date":1689158714,"answer_id":76669722,"question_id":22999265,"body_markdown":"    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n\r\ntry this\r\n","title":"How can a resource method produce or consume two different MIME types?","body":"<pre><code>@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n</code></pre>\n<p>try this</p>\n"}],"owner":{"account_id":1134985,"reputation":25165,"user_id":1120221,"accept_rate":91,"display_name":"Salah Eddine Taouririt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22999332,"answer_count":2,"score":0,"last_activity_date":1689577280,"creation_date":1397164975,"question_id":22999265,"body_markdown":"How can this resource method produce `json` or `xml` results ?\r\n\r\nShould I parse the request accept header and make an `if/else` branch, or [tag:jersey] will do that \r\nfor me  ? \r\n\r\n    @GET\r\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot;})\r\n    public String doGetAsXmlOrJson() {\r\n        ...\r\n    }\r\n\r\nAn example of how `doGetAsXmlOrJson()` may implemented will nice.","title":"How can a resource method produce or consume two different MIME types?","body":"<p>How can this resource method produce <code>json</code> or <code>xml</code> results ?</p>\n\n<p>Should I parse the request accept header and make an <code>if/else</code> branch, or <a href=\"/questions/tagged/jersey\" class=\"post-tag\" title=\"show questions tagged &#39;jersey&#39;\" rel=\"tag\">jersey</a> will do that \nfor me  ? </p>\n\n<pre><code>@GET\n@Produces({\"application/xml\", \"application/json\"})\npublic String doGetAsXmlOrJson() {\n    ...\n}\n</code></pre>\n\n<p>An example of how <code>doGetAsXmlOrJson()</code> may implemented will nice.</p>\n"},{"tags":["java","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":9305717,"reputation":47,"user_id":6909544,"display_name":"Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689576949,"creation_date":1689576949,"answer_id":76702099,"question_id":76663886,"body_markdown":"Add the following plugin to your pom.xml file to configure the JavaFX runtime:\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.xxx.hellojavafx.Main&lt;/mainClass&gt;\r\n                        &lt;options&gt;\r\n                            &lt;option&gt;-XX:+UseG1GC&lt;/option&gt;\r\n                            &lt;option&gt;--add-exports&lt;/option&gt;\r\n                            &lt;option&gt;javafx.base/com.sun.javafx.event=org.controlsfx.controls&lt;/option&gt;\r\n                        &lt;/options&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;","title":"IllegalAccessError when using ControlsFX AutoCompletionBinding","body":"<p>Add the following plugin to your pom.xml file to configure the JavaFX runtime:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.xxx.hellojavafx.Main&lt;/mainClass&gt;\n                    &lt;options&gt;\n                        &lt;option&gt;-XX:+UseG1GC&lt;/option&gt;\n                        &lt;option&gt;--add-exports&lt;/option&gt;\n                        &lt;option&gt;javafx.base/com.sun.javafx.event=org.controlsfx.controls&lt;/option&gt;\n                    &lt;/options&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":9305717,"reputation":47,"user_id":6909544,"display_name":"Marko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76702099,"answer_count":1,"score":0,"last_activity_date":1689576949,"creation_date":1689091702,"question_id":76663886,"body_markdown":"I am getting an IllegalAccessError\r\n\r\n    class org.controlsfx.control.textfield.AutoCompletionBinding (in module org.controlsfx.controls) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to module org.controlsfx.controls\r\n\r\nwhen using ControlsFX AutoCompletionBinding with\r\n\r\n    try {\r\n    \r\n                        SearchSession searchSession = Search.session(JpaUtil.getEntityManager());\r\n    \r\n                        SearchResult&lt;Student&gt; result = searchSession.search(Student.class)\r\n                                .where(f -&gt; f.match()\r\n                                        .field(&quot;firstName&quot;)\r\n                                        .matching(search))\r\n                                .fetch(20);\r\n    \r\n                        List&lt;Student&gt; list = result.hits();\r\n                        TextFields.bindAutoCompletion(searchField, list);\r\n    \r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\nI am trying to implement an autosuggestion search field (searching in the DB as you type). I am using JDK17. It is related to the modularity of Java but how can I fix that? Thanks.\r\n","title":"IllegalAccessError when using ControlsFX AutoCompletionBinding","body":"<p>I am getting an IllegalAccessError</p>\n<pre><code>class org.controlsfx.control.textfield.AutoCompletionBinding (in module org.controlsfx.controls) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to module org.controlsfx.controls\n</code></pre>\n<p>when using ControlsFX AutoCompletionBinding with</p>\n<pre><code>try {\n\n                    SearchSession searchSession = Search.session(JpaUtil.getEntityManager());\n\n                    SearchResult&lt;Student&gt; result = searchSession.search(Student.class)\n                            .where(f -&gt; f.match()\n                                    .field(&quot;firstName&quot;)\n                                    .matching(search))\n                            .fetch(20);\n\n                    List&lt;Student&gt; list = result.hits();\n                    TextFields.bindAutoCompletion(searchField, list);\n\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n</code></pre>\n<p>I am trying to implement an autosuggestion search field (searching in the DB as you type). I am using JDK17. It is related to the modularity of Java but how can I fix that? Thanks.</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux","mdc"],"comments":[{"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"score":0,"creation_date":1667917487,"post_id":74362254,"comment_id":131278733,"body_markdown":"Does this answer your question? [How to correctly use slf4j MDC in spring-webflux WebFilter](https://stackoverflow.com/questions/51738140/how-to-correctly-use-slf4j-mdc-in-spring-webflux-webfilter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51738140/how-to-correctly-use-slf4j-mdc-in-spring-webflux-webfilter\">How to correctly use slf4j MDC in spring-webflux WebFilter</a>"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1667917500,"post_id":74362254,"comment_id":131278739,"body_markdown":"I&#39;ve seen above. There is no answear to my question.","body":"I&#39;ve seen above. There is no answear to my question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667918226,"post_id":74362254,"comment_id":131279045,"body_markdown":"There is an answer to your question, you need to store it in the context and when logging copy it to the MDC (which should by in a try-with-resources block). Else it won&#39;t work as the MDC is a ThreadLocal and in a reactive pipeline there might be multiple threads and thus you need to copy it around.","body":"There is an answer to your question, you need to store it in the context and when logging copy it to the MDC (which should by in a try-with-resources block). Else it won&#39;t work as the MDC is a ThreadLocal and in a reactive pipeline there might be multiple threads and thus you need to copy it around."},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1668083929,"post_id":74362254,"comment_id":131323802,"body_markdown":"OK, so it will work but only for logs specified explicitly by me in the code in the chain. I assume there is no option to do that for all logs like Jackson encoder, WebHandlerAdapter etc. In the non-reactive world it is enough to place MDC.put(&quot;&quot;) in the filter and it gets to any logs which is really what I am after.","body":"OK, so it will work but only for logs specified explicitly by me in the code in the chain. I assume there is no option to do that for all logs like Jackson encoder, WebHandlerAdapter etc. In the non-reactive world it is enough to place MDC.put(&quot;&quot;) in the filter and it gets to any logs which is really what I am after."}],"answers":[{"tags":[],"owner":{"account_id":11979025,"reputation":123,"user_id":8765371,"display_name":"Michal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689576484,"creation_date":1689319876,"answer_id":76685577,"question_id":74362254,"body_markdown":"You can use https://github.com/Numichi/reactive-logger library that solves the problem with MDC in WebFlux applications.\r\n\r\nThe following snippet stores the username to MDC so you can log it. It gets executed right after the user is authenticated, so there are cases when the username is not yet set in logs, or when there is no user interaction, therefore a meaningful default value in your logging pattern might be a good idea, e.g. `[%boldYellow(%X{username:-SYSTEM})]`.\r\n\r\n&lt;!-- begin snippet: kotlin hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    import io.github.numichi.reactive.logger.reactor.MDCContext.modify\r\n    import org.springframework.boot.web.reactive.filter.OrderedWebFilter\r\n    import org.springframework.security.config.web.server.SecurityWebFiltersOrder.AUTHENTICATION\r\n    import org.springframework.security.core.Authentication\r\n    import org.springframework.security.core.context.ReactiveSecurityContextHolder\r\n    import org.springframework.stereotype.Component\r\n    import org.springframework.web.server.ServerWebExchange\r\n    import org.springframework.web.server.WebFilterChain\r\n    import reactor.core.publisher.Mono\r\n    import reactor.util.context.Context\r\n\r\n    @Component\r\n    class UsernameMdcWebFilter : OrderedWebFilter {\r\n\r\n        override fun getOrder() = AUTHENTICATION.order + 1\r\n\r\n        override fun filter(\r\n            exchange: ServerWebExchange,\r\n            chain: WebFilterChain\r\n        ): Mono&lt;Void&gt; = ReactiveSecurityContextHolder.getContext()\r\n            .mapNotNull { it.authentication }\r\n            .flatMap { authentication -&gt;\r\n                chain.filter(exchange)\r\n                    .contextWrite { addUsernameToMdc(it, authentication) }\r\n            }\r\n\r\n        private fun addUsernameToMdc(\r\n            context: Context,\r\n            authentication: Authentication\r\n        ) = modify(context, &quot;username&quot; to authentication.user)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nOnce you introduce this mechanism, you must make sure that you use an appropriate logger from the library, which serves as an adapter that extends standard logging libraries like LOG4J or KLogger. To do this, create your Logger using `io.github.numichi.reactive.logger.LoggerFactory`, which has a similar usage as `org.slf4j.LoggerFactory`.","title":"Spring WebFlux - WebFilter add name from Authentication to MDC","body":"<p>You can use <a href=\"https://github.com/Numichi/reactive-logger\" rel=\"nofollow noreferrer\">https://github.com/Numichi/reactive-logger</a> library that solves the problem with MDC in WebFlux applications.</p>\n<p>The following snippet stores the username to MDC so you can log it. It gets executed right after the user is authenticated, so there are cases when the username is not yet set in logs, or when there is no user interaction, therefore a meaningful default value in your logging pattern might be a good idea, e.g. <code>[%boldYellow(%X{username:-SYSTEM})]</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.github.numichi.reactive.logger.reactor.MDCContext.modify\nimport org.springframework.boot.web.reactive.filter.OrderedWebFilter\nimport org.springframework.security.config.web.server.SecurityWebFiltersOrder.AUTHENTICATION\nimport org.springframework.security.core.Authentication\nimport org.springframework.security.core.context.ReactiveSecurityContextHolder\nimport org.springframework.stereotype.Component\nimport org.springframework.web.server.ServerWebExchange\nimport org.springframework.web.server.WebFilterChain\nimport reactor.core.publisher.Mono\nimport reactor.util.context.Context\n\n@Component\nclass UsernameMdcWebFilter : OrderedWebFilter {\n\n    override fun getOrder() = AUTHENTICATION.order + 1\n\n    override fun filter(\n        exchange: ServerWebExchange,\n        chain: WebFilterChain\n    ): Mono&lt;Void&gt; = ReactiveSecurityContextHolder.getContext()\n        .mapNotNull { it.authentication }\n        .flatMap { authentication -&gt;\n            chain.filter(exchange)\n                .contextWrite { addUsernameToMdc(it, authentication) }\n        }\n\n    private fun addUsernameToMdc(\n        context: Context,\n        authentication: Authentication\n    ) = modify(context, &quot;username&quot; to authentication.user)\n}\n</code></pre>\n<p>Once you introduce this mechanism, you must make sure that you use an appropriate logger from the library, which serves as an adapter that extends standard logging libraries like LOG4J or KLogger. To do this, create your Logger using <code>io.github.numichi.reactive.logger.LoggerFactory</code>, which has a similar usage as <code>org.slf4j.LoggerFactory</code>.</p>\n"}],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689576484,"creation_date":1667916983,"question_id":74362254,"body_markdown":"I have a Spring boot WebFlux application.\r\nI have to add name hidden in Authentication object into MDC so all the logs can be enhanced with it.\r\n\r\nMy code looks like this:\r\n\r\nController:\r\n\r\n``` java\r\n@RestController\r\nclass MobileController {\r\n\r\n  @PostMapping(&quot;/&quot;)\r\n  @ResponseStatus(HttpStatus.CREATED)\r\n  public Mono&lt;Response&gt; initializePayment(BearerTokenAuthentication authentication, Request request) {\r\n    String userId = String.valueOf(authentication.getTokenAttributes().get(&quot;username&quot;));\r\n\r\n    log.info(&quot;[initializePayment] Initializing payment process for user: {}, with request: {}&quot;,\r\n            userId, request);\r\n    // my logic here\r\n```\r\n\r\nWebFilter:\r\n\r\n``` java\r\n@Component\r\nclass LogFilter implements WebFilter {\r\n    \r\n  @Override\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    return ReactiveSecurityContextHolder.getContext()\r\n        .doOnNext((sc) -&gt; {\r\n          if (sc.getAuthentication() != null) {\r\n            MDC.put(&quot;user_id&quot;, sc.getAuthentication().getName());\r\n          }\r\n        })\r\n        .then(chain.filter(exchange));\r\n  }\r\n```\r\n\r\nBut with this code I only have `&quot;user_id&quot;` logged in in some &quot;parallel threads&quot; - not in the reactor one, see the logs below::\r\n\r\n```\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] HTTP POST &quot;/api/v1/&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] HTTP POST https://server-host/oauth/token/introspect&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] Writing form fields [token] (content masked)&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1, Response 200 OK&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1,  Decoded [{active=true, scope=USER, client_id=0d46cc1c-3062-11e9-8c56-3b7c3075f9de, username=ada5bc12-4518-419 (truncated)...]&quot;}\r\n{&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;Created new WebSession.&quot;}\r\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Mapped to )&quot;}\r\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Content-Type:application/json&quot;}\r\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] 0..1 []&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] Decoded &quot;}\r\n```\r\n\r\nI have also tried adding `MDC.put()` in the controller and then I get `&quot;user_id&quot;` in each log but only after the controller has been reached, meaning that I will be unable to match the incoming server call with the user.\r\n\r\n","title":"Spring WebFlux - WebFilter add name from Authentication to MDC","body":"<p>I have a Spring boot WebFlux application.\nI have to add name hidden in Authentication object into MDC so all the logs can be enhanced with it.</p>\n<p>My code looks like this:</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\nclass MobileController {\n\n  @PostMapping(&quot;/&quot;)\n  @ResponseStatus(HttpStatus.CREATED)\n  public Mono&lt;Response&gt; initializePayment(BearerTokenAuthentication authentication, Request request) {\n    String userId = String.valueOf(authentication.getTokenAttributes().get(&quot;username&quot;));\n\n    log.info(&quot;[initializePayment] Initializing payment process for user: {}, with request: {}&quot;,\n            userId, request);\n    // my logic here\n</code></pre>\n<p>WebFilter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass LogFilter implements WebFilter {\n    \n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return ReactiveSecurityContextHolder.getContext()\n        .doOnNext((sc) -&gt; {\n          if (sc.getAuthentication() != null) {\n            MDC.put(&quot;user_id&quot;, sc.getAuthentication().getName());\n          }\n        })\n        .then(chain.filter(exchange));\n  }\n</code></pre>\n<p>But with this code I only have <code>&quot;user_id&quot;</code> logged in in some &quot;parallel threads&quot; - not in the reactor one, see the logs below::</p>\n<pre><code>{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] HTTP POST &quot;/api/v1/&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] HTTP POST https://server-host/oauth/token/introspect&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] Writing form fields [token] (content masked)&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1, Response 200 OK&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1,  Decoded [{active=true, scope=USER, client_id=0d46cc1c-3062-11e9-8c56-3b7c3075f9de, username=ada5bc12-4518-419 (truncated)...]&quot;}\n{&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;Created new WebSession.&quot;}\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Mapped to )&quot;}\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Content-Type:application/json&quot;}\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] 0..1 []&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] Decoded &quot;}\n</code></pre>\n<p>I have also tried adding <code>MDC.put()</code> in the controller and then I get <code>&quot;user_id&quot;</code> in each log but only after the controller has been reached, meaning that I will be unable to match the incoming server call with the user.</p>\n"},{"tags":["java","authentication","tomcat","web-applications","web.xml"],"owner":{"account_id":17324638,"reputation":21,"user_id":12549136,"display_name":"7575 mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689576471,"creation_date":1689576471,"question_id":76702059,"body_markdown":"i have below login configuration in my web-app/WEB-INF/web.xml\r\n\r\n    &lt;login-config&gt;\r\n    \t    &lt;auth-method&gt;CUSTOMFORM856&lt;/auth-method&gt;\r\n        \t&lt;form-login-config&gt;\r\n    \t    \t&lt;form-login-page&gt;/myAuthenticator&lt;/form-login-page&gt;\r\n    \t\t    &lt;form-error-page&gt;/myAuthenticator&lt;/form-error-page&gt;\r\n        \t&lt;/form-login-config&gt;\r\n        &lt;/login-config&gt;\r\n\r\ni have the case that after session expired user tries to click on UI(reloads widget in web-app) then request (/loadWidget?method=&quot;loadLayout&quot;) send to tomcat server since session expired this request forwarded to (/myAuthenticator)as per web.xml login-config\r\n\r\nwhile forwarding (/loadWidget?method=&quot;loadLayout&quot;) to (/myAuthenticator) query string param(method=&quot;loadLayout&quot;) also passed to (/myAuthenticator) request\r\n\r\nis there any way to avoid passing previous request query param to authentication forward call ?","title":"Is there any way to avoid passing previous request query string parameters to authentication forward call in tomcat?","body":"<p>i have below login configuration in my web-app/WEB-INF/web.xml</p>\n<pre><code>&lt;login-config&gt;\n        &lt;auth-method&gt;CUSTOMFORM856&lt;/auth-method&gt;\n        &lt;form-login-config&gt;\n            &lt;form-login-page&gt;/myAuthenticator&lt;/form-login-page&gt;\n            &lt;form-error-page&gt;/myAuthenticator&lt;/form-error-page&gt;\n        &lt;/form-login-config&gt;\n    &lt;/login-config&gt;\n</code></pre>\n<p>i have the case that after session expired user tries to click on UI(reloads widget in web-app) then request (/loadWidget?method=&quot;loadLayout&quot;) send to tomcat server since session expired this request forwarded to (/myAuthenticator)as per web.xml login-config</p>\n<p>while forwarding (/loadWidget?method=&quot;loadLayout&quot;) to (/myAuthenticator) query string param(method=&quot;loadLayout&quot;) also passed to (/myAuthenticator) request</p>\n<p>is there any way to avoid passing previous request query param to authentication forward call ?</p>\n"},{"tags":["java","serialization","platform-independent"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689294127,"post_id":76683503,"comment_id":135196788,"body_markdown":"It seems inconceivable that anyone, let alone Java language designers, would *not* make it platform independent.","body":"It seems inconceivable that anyone, let alone Java language designers, would <i>not</i> make it platform independent."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689296269,"post_id":76683503,"comment_id":135196932,"body_markdown":"@Bohemian I don&#39;t know how you *could* make Java Serialization platform-dependent unless you used NIO or native code, but that&#39;s not the question here.","body":"@Bohemian I don&#39;t know how you <i>could</i> make Java Serialization platform-dependent unless you used NIO or native code, but that&#39;s not the question here."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689335297,"post_id":76683503,"comment_id":135202360,"body_markdown":"@user207421 object serialisation contains no line endings. It&#39;s just raw bytes. I think you&#39;d have to work hard to *make* it platform-dependent","body":"@user207421 object serialisation contains no line endings. It&#39;s just raw bytes. I think you&#39;d have to work hard to <i>make</i> it platform-dependent"}],"answers":[{"tags":[],"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689285965,"creation_date":1689285965,"answer_id":76683527,"question_id":76683503,"body_markdown":"**Nope.**\r\n\r\nWhat makes Java platform-independent is the existence of Java-compatible runtimes on many different platforms.  More specifically, the existence of Java runtimes for your platform of choice that are capable of executing [Java bytecode](https://en.wikipedia.org/wiki/Java_bytecode), the common intermediate language that the Java compiler outputs.\r\n\r\nWhat Serialization/Deserialization does is give you *a platform-independent way of communicating between different systems.*  All you need is serialization/deserialization software on each system that speaks the same communication protocol.  Using Java on each side is not required.","title":"Does serialization in java make it platform independent?","body":"<p><strong>Nope.</strong></p>\n<p>What makes Java platform-independent is the existence of Java-compatible runtimes on many different platforms.  More specifically, the existence of Java runtimes for your platform of choice that are capable of executing <a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"nofollow noreferrer\">Java bytecode</a>, the common intermediate language that the Java compiler outputs.</p>\n<p>What Serialization/Deserialization does is give you <em>a platform-independent way of communicating between different systems.</em>  All you need is serialization/deserialization software on each system that speaks the same communication protocol.  Using Java on each side is not required.</p>\n"},{"tags":[],"owner":{"account_id":1411309,"reputation":158,"user_id":1337827,"accept_rate":100,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689290631,"creation_date":1689286332,"answer_id":76683562,"question_id":76683503,"body_markdown":"Serialization/deserialization is about data moving in and out of your running program. At this point, because your program is already running, platform dependence/independence has already happened.\r\n\r\nPlatform independence happens because of compilation of a Java program to a bytecode format. This bytecode is same for all platforms which is then executed by a **platform dependent** engine. The platform dependent engine/runtime is installed on your machine when you install the JVM/JRE. So the Java code goes: \r\n\r\nJava code -&gt; Bytecode -&gt; platform dependent runtime","title":"Does serialization in java make it platform independent?","body":"<p>Serialization/deserialization is about data moving in and out of your running program. At this point, because your program is already running, platform dependence/independence has already happened.</p>\n<p>Platform independence happens because of compilation of a Java program to a bytecode format. This bytecode is same for all platforms which is then executed by a <strong>platform dependent</strong> engine. The platform dependent engine/runtime is installed on your machine when you install the JVM/JRE. So the Java code goes:</p>\n<p>Java code -&gt; Bytecode -&gt; platform dependent runtime</p>\n"},{"tags":[],"owner":{"account_id":2463651,"reputation":7805,"user_id":2147218,"display_name":"bazza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689576414,"creation_date":1689576414,"answer_id":76702055,"question_id":76683503,"body_markdown":"I&#39;d say that, at one level, for Java to be platform independent, a built-in serialisation technology (such as it has) is an essential component. There&#39;s no point having portable applications unless their data is also portable, which is what a standardised serialisation achieves. \r\n\r\n**Platform Dependence**\r\n\r\nI&#39;ll now go down a rabit hole of a discussion, where I may be being too pedanctic on what true platform independence really means!\r\n\r\nWhere things go a bit wrong with Java I think is that (like a lot of other languages) the serialisation is code-first; you decorate or otherwise annotate the source code for a class to indicate how (or if) it should be serialisable. That&#39;s fine, but then the Java language is what I call closed; it&#39;s difficult or at least inconvenient for a Java application&#39;s data to be portable to all other languages. They have to develop equivalent classes, even if there is library support (e.g. an XML library) to navitgate the data. If you have a bunch of data serialised this way, and later it has to be accessible in, say, C, some developer has a lot of work to do! \r\n\r\nAlso, if you&#39;re wanting to change a class in some way, the change has also to be folded into the C source code to. This is a recipe for confusion, duplicate work and error, and no one single implementation (your Java, their C code) is &quot;the one source of truth&quot; as to what the data should be. This then generates the need for things like Interface Control Documents, which become a nightmare to maintain, adhere to, etc. \r\n\r\n**True Platform Independence?**\r\n\r\nA more flexible approach is schema-first - where data is described in a language independent way - and language-specific classes&#39; source code generated from it. This is what one does with things like Google Protocol Buffers, ASN.1 (unless one is using the Python libs which have made it code-first again), dBus. \r\n\r\n**Does it Really Matter?**\r\n\r\nPossibly not. Whether or not the &quot;closed&quot; nature of built in code-first serialisation matters or not is a project by project matter. Some can be written in all Java, some not. The attraction of using schema-first serialisation is that, if one is uncertain as to what must be able to read data, the schema makes it easy if language / platorm interop become a requirement later on. And it&#39;s noticable how often interop does emerge as a requirement.\r\n\r\n**Summary**\r\n\r\nSo I&#39;d argue that Java alone is not *completely* platform independent, because it encourages non-portable data definitions, (if by &quot;platform independent&quot; one includes other languages). \r\n","title":"Does serialization in java make it platform independent?","body":"<p>I'd say that, at one level, for Java to be platform independent, a built-in serialisation technology (such as it has) is an essential component. There's no point having portable applications unless their data is also portable, which is what a standardised serialisation achieves.</p>\n<p><strong>Platform Dependence</strong></p>\n<p>I'll now go down a rabit hole of a discussion, where I may be being too pedanctic on what true platform independence really means!</p>\n<p>Where things go a bit wrong with Java I think is that (like a lot of other languages) the serialisation is code-first; you decorate or otherwise annotate the source code for a class to indicate how (or if) it should be serialisable. That's fine, but then the Java language is what I call closed; it's difficult or at least inconvenient for a Java application's data to be portable to all other languages. They have to develop equivalent classes, even if there is library support (e.g. an XML library) to navitgate the data. If you have a bunch of data serialised this way, and later it has to be accessible in, say, C, some developer has a lot of work to do!</p>\n<p>Also, if you're wanting to change a class in some way, the change has also to be folded into the C source code to. This is a recipe for confusion, duplicate work and error, and no one single implementation (your Java, their C code) is &quot;the one source of truth&quot; as to what the data should be. This then generates the need for things like Interface Control Documents, which become a nightmare to maintain, adhere to, etc.</p>\n<p><strong>True Platform Independence?</strong></p>\n<p>A more flexible approach is schema-first - where data is described in a language independent way - and language-specific classes' source code generated from it. This is what one does with things like Google Protocol Buffers, ASN.1 (unless one is using the Python libs which have made it code-first again), dBus.</p>\n<p><strong>Does it Really Matter?</strong></p>\n<p>Possibly not. Whether or not the &quot;closed&quot; nature of built in code-first serialisation matters or not is a project by project matter. Some can be written in all Java, some not. The attraction of using schema-first serialisation is that, if one is uncertain as to what must be able to read data, the schema makes it easy if language / platorm interop become a requirement later on. And it's noticable how often interop does emerge as a requirement.</p>\n<p><strong>Summary</strong></p>\n<p>So I'd argue that Java alone is not <em>completely</em> platform independent, because it encourages non-portable data definitions, (if by &quot;platform independent&quot; one includes other languages).</p>\n"}],"owner":{"account_id":26253687,"reputation":3,"user_id":19926082,"display_name":"Bajrang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76683562,"answer_count":3,"score":0,"last_activity_date":1689576414,"creation_date":1689285699,"question_id":76683503,"body_markdown":"Since &quot;Serialization in Java is a mechanism of writing the state of an object into a byte-stream and Deserialization is vice versa of this&quot;. So it got me thinking that is it Serialization that makes Java platform independent?","title":"Does serialization in java make it platform independent?","body":"<p>Since &quot;Serialization in Java is a mechanism of writing the state of an object into a byte-stream and Deserialization is vice versa of this&quot;. So it got me thinking that is it Serialization that makes Java platform independent?</p>\n"},{"tags":["java","algorithm","time-complexity","big-o","depth-first-search"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1689570230,"post_id":76701605,"comment_id":135226528,"body_markdown":"If rows and columns are fixed at a &quot;small number&quot; (6 is small), then the time complexity is considered constant ie O(1). If rows and columns may vary, then it&#39;s O(n^2)","body":"If rows and columns are fixed at a &quot;small number&quot; (6 is small), then the time complexity is considered constant ie O(1). If rows and columns may vary, then it&#39;s O(n^2)"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689570386,"creation_date":1689570386,"answer_id":76701620,"question_id":76701605,"body_markdown":"Considering the loop iterations are constant 6*6, even though the loop is nested.\r\n\r\nBy general rule for nested loop of size i and j, the complexity would be O(i*j). Now due to constant size the iterations are finite, so the complexity would be O(6*6), which if O(1).\r\n\r\nSo resulting for constant iterations, it will be always O(1).\r\n\r\nIf your row and column size are varying but same, then it would be O(n^2), where n is number of rows/columns.\r\n\r\nIf your row and column size are varying, but not same, then it would be O(m*n), when m is number of rows and n is number of columns.","title":"How can I find the time complexity?","body":"<p>Considering the loop iterations are constant 6*6, even though the loop is nested.</p>\n<p>By general rule for nested loop of size i and j, the complexity would be O(i<em>j). Now due to constant size the iterations are finite, so the complexity would be O(6</em>6), which if O(1).</p>\n<p>So resulting for constant iterations, it will be always O(1).</p>\n<p>If your row and column size are varying but same, then it would be O(n^2), where n is number of rows/columns.</p>\n<p>If your row and column size are varying, but not same, then it would be O(m*n), when m is number of rows and n is number of columns.</p>\n"},{"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689575993,"creation_date":1689575668,"answer_id":76702001,"question_id":76701605,"body_markdown":"The time complexity in all cases is based on your line `int currentSize = matrixGrid.dfs(i, j);`. Since there is not metion on it, we assume the time complexity of `matrixGrid.dfs(i, j)` is `O(1)`.\r\n\r\nThen the time complexity of `main` is `O(n)` when we assign `n = size(grid) = rows * cols`, or `O(n^2)` when we assign `n = rows = cols`; both options are correct.\r\n\r\nFinally, considering the constant time complexity, you should define your data constraints. If you define the constraints as `rows = 6, cols = 6`, then there is constant time complexity `O(1)`. Otherwise, if the constraints are more like `rows = n, cols = n, 0 &lt;= n &lt;= 10^4`, then the time complexity is `O(n^2)`, similar to the examples mentioned above.\r\n\r\nSo, the key to calculating time complexity is &quot;the constraints of the data&quot;.","title":"How can I find the time complexity?","body":"<p>The time complexity in all cases is based on your line <code>int currentSize = matrixGrid.dfs(i, j);</code>. Since there is not metion on it, we assume the time complexity of <code>matrixGrid.dfs(i, j)</code> is <code>O(1)</code>.</p>\n<p>Then the time complexity of <code>main</code> is <code>O(n)</code> when we assign <code>n = size(grid) = rows * cols</code>, or <code>O(n^2)</code> when we assign <code>n = rows = cols</code>; both options are correct.</p>\n<p>Finally, considering the constant time complexity, you should define your data constraints. If you define the constraints as <code>rows = 6, cols = 6</code>, then there is constant time complexity <code>O(1)</code>. Otherwise, if the constraints are more like <code>rows = n, cols = n, 0 &lt;= n &lt;= 10^4</code>, then the time complexity is <code>O(n^2)</code>, similar to the examples mentioned above.</p>\n<p>So, the key to calculating time complexity is &quot;the constraints of the data&quot;.</p>\n"},{"tags":[],"owner":{"display_name":"user21508463"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689576181,"creation_date":1689576181,"answer_id":76702033,"question_id":76701605,"body_markdown":"The complexity cannot be a function of `n` for the simple reason that there is no `n` in your code.\r\n\r\nUnderstand that O(n&#178;) is not a informal expression to say that the time &quot;grows faster than the size of the input&quot;. It really is a mathematical expression depending on the argument.","title":"How can I find the time complexity?","body":"<p>The complexity cannot be a function of <code>n</code> for the simple reason that there is no <code>n</code> in your code.</p>\n<p>Understand that O(n²) is not a informal expression to say that the time &quot;grows faster than the size of the input&quot;. It really is a mathematical expression depending on the argument.</p>\n"}],"owner":{"account_id":26672838,"reputation":3,"user_id":20284037,"display_name":"acha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76702001,"answer_count":3,"score":-2,"last_activity_date":1689576181,"creation_date":1689570061,"question_id":76701605,"body_markdown":"The main is to get a 6*6grid from user. The input will be stored in a 2d array. Is the time complexity should be O(n^2)? Since, I have a nested loop. But the code operates in a fixed 6 rows and 6 cols that are static. Or the time complexity should be O(n)? as the number of row and column are constant and set equals to 6.\r\n\r\n```\r\npublic class MatrixGrid {\r\n    private static char[][] grid = new char[6][6];\r\n    private static int rows = 6;\r\n    private static int cols = 6;\r\n\r\n    public static void main(String[] args) {\r\n        MatrixGrid matrixGrid = new MatrixGrid ();\r\n        matrixGrid.getGridFromUser();  //get user input\r\n        int totalHomeAreas = 0;\r\n        int maxHomeAreaSize = 0;\r\n\r\n        for (int i = 0; i &lt; rows; i++) {  //---n\r\n            for (int j = 0; j &lt; cols; j++) {  //--n\r\n                if (grid[i][j] == &#39;H&#39;) {\r\n                    int currentSize = matrixGrid.dfs(i, j);\r\n                    totalAreas++;\r\n                    maxAreaSize= Math.max(maxAreaSize, currentSize );\r\n                }\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n\r\n\r\nWhat&#39;s the correct time complexity? ","title":"How can I find the time complexity?","body":"<p>The main is to get a 6*6grid from user. The input will be stored in a 2d array. Is the time complexity should be O(n^2)? Since, I have a nested loop. But the code operates in a fixed 6 rows and 6 cols that are static. Or the time complexity should be O(n)? as the number of row and column are constant and set equals to 6.</p>\n<pre><code>public class MatrixGrid {\n    private static char[][] grid = new char[6][6];\n    private static int rows = 6;\n    private static int cols = 6;\n\n    public static void main(String[] args) {\n        MatrixGrid matrixGrid = new MatrixGrid ();\n        matrixGrid.getGridFromUser();  //get user input\n        int totalHomeAreas = 0;\n        int maxHomeAreaSize = 0;\n\n        for (int i = 0; i &lt; rows; i++) {  //---n\n            for (int j = 0; j &lt; cols; j++) {  //--n\n                if (grid[i][j] == 'H') {\n                    int currentSize = matrixGrid.dfs(i, j);\n                    totalAreas++;\n                    maxAreaSize= Math.max(maxAreaSize, currentSize );\n                }\n            }\n        }\n}\n</code></pre>\n<p>What's the correct time complexity?</p>\n"},{"tags":["java","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1689259616,"post_id":76678890,"comment_id":135190972,"body_markdown":"Current GeoTools is 28.4 not 18. I can&#39;t see where you call `CRS.decode(&quot;epsg:4326&quot;)` in the code you&#39;ve posted so it&#39;s hard to tell. Did you include one of the EPSG jars in your project? I&#39;m also not at all sure that the CRS factories are thread safe","body":"Current GeoTools is 28.4 not 18. I can&#39;t see where you call <code>CRS.decode(&quot;epsg:4326&quot;)</code> in the code you&#39;ve posted so it&#39;s hard to tell. Did you include one of the EPSG jars in your project? I&#39;m also not at all sure that the CRS factories are thread safe"},{"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"score":0,"creation_date":1689484716,"post_id":76678890,"comment_id":135218490,"body_markdown":"tnx @IanTurton updated code to clarify the decode, and added the dependencies.\ntried the same version in stand alone project worked fine.","body":"tnx @IanTurton updated code to clarify the decode, and added the dependencies. tried the same version in stand alone project worked fine."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1689503045,"post_id":76678890,"comment_id":135220011,"body_markdown":"You&#39;ll need to do a thread dump to find out what is deadlocking, or move the lookup to a single threaded part of your code.","body":"You&#39;ll need to do a thread dump to find out what is deadlocking, or move the lookup to a single threaded part of your code."},{"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"score":0,"creation_date":1689575321,"post_id":76678890,"comment_id":135227136,"body_markdown":"tnx @IanTurton , tried the single thread , did not work.\nit was solved by adding adding gt-referencing artifact, even tho it is part of gt-epsg-hsql","body":"tnx @IanTurton , tried the single thread , did not work. it was solved by adding adding gt-referencing artifact, even tho it is part of gt-epsg-hsql"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1689579505,"post_id":76678890,"comment_id":135227813,"body_markdown":"I thought you were using Maven to control your dependencies? Maybe this tutorial will help - https://docs.geotools.org/latest/userguide/tutorial/geometry/geometrycrs.html","body":"I thought you were using Maven to control your dependencies? Maybe this tutorial will help - <a href=\"https://docs.geotools.org/latest/userguide/tutorial/geometry/geometrycrs.html\" rel=\"nofollow noreferrer\">docs.geotools.org/latest/userguide/tutorial/geometry/&hellip;</a>"},{"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"score":0,"creation_date":1689589490,"post_id":76678890,"comment_id":135229846,"body_markdown":"i am using maven. tnx for the tutorial.","body":"i am using maven. tnx for the tutorial."}],"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689575378,"creation_date":1689247877,"question_id":76678890,"body_markdown":"using maven version 11\r\n\r\nHi , running\r\n ``` \r\n   CRS.decode(&quot;epsg:4326&quot;)\r\n ```\r\nis getting stuck , probably a deadlock.\r\n\r\ntried upgrading geotools to version 18 , did not help.\r\n\r\ntried running it in a thread with timeout \r\n\r\n```\r\nExecutorService executorService = Executors.newSingleThreadExecutor();\r\nwhile(systemCrs == null) {\r\n\tCallable&lt;CoordinateReferenceSystem&gt; task = new CRSDecoderTask();\r\n\tFuture&lt;CoordinateReferenceSystem&gt; submit = executorService.submit(task);\r\n\ttry {\r\n          CoordinateReferenceSystem coordinateReferenceSystem =\r\n                                                    submit.get(5, TimeUnit.SECONDS);\r\n\t\t  if (coordinateReferenceSystem != null) {\r\n\t\t\t executorService.shutdown();\r\n\t\t\t systemCrs = coordinateReferenceSystem;\r\n\t\t  }\r\n\t} catch (TimeoutException e) {\r\n\t  logger.debug(&quot;crs timeout&quot;, e);\r\n\t  submit.cancel(true);\r\n    }\r\n  }\r\n```\r\n\r\n```\r\n private class CRSDecoderTask implements Callable&lt;CoordinateReferenceSystem&gt; {\r\n\t\t@Override\r\n\t\tpublic CoordinateReferenceSystem call() throws Exception {\r\n\t\t\treturn CRS.decode(&quot;espg-4326&quot;);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nany ideas ?\r\n\r\n\r\n\r\ngeo-tools dependencies\r\n\r\ngeotools.version -&gt;  18.4\r\n\r\n\r\n\r\n    &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\r\n    &lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-geometry&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-epsg-wkt&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-referencing&lt;/artifactId&gt; //added and solved the issue\r\n\r\n\r\n\r\n\r\n\r\n","title":"geotools CRS.decode(&quot;EPSG:4326&quot;) stuck","body":"<p>using maven version 11</p>\n<p>Hi , running</p>\n<pre><code>  CRS.decode(&quot;epsg:4326&quot;)\n</code></pre>\n<p>is getting stuck , probably a deadlock.</p>\n<p>tried upgrading geotools to version 18 , did not help.</p>\n<p>tried running it in a thread with timeout</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\nwhile(systemCrs == null) {\n    Callable&lt;CoordinateReferenceSystem&gt; task = new CRSDecoderTask();\n    Future&lt;CoordinateReferenceSystem&gt; submit = executorService.submit(task);\n    try {\n          CoordinateReferenceSystem coordinateReferenceSystem =\n                                                    submit.get(5, TimeUnit.SECONDS);\n          if (coordinateReferenceSystem != null) {\n             executorService.shutdown();\n             systemCrs = coordinateReferenceSystem;\n          }\n    } catch (TimeoutException e) {\n      logger.debug(&quot;crs timeout&quot;, e);\n      submit.cancel(true);\n    }\n  }\n</code></pre>\n<pre><code> private class CRSDecoderTask implements Callable&lt;CoordinateReferenceSystem&gt; {\n        @Override\n        public CoordinateReferenceSystem call() throws Exception {\n            return CRS.decode(&quot;espg-4326&quot;);\n        }\n    }\n</code></pre>\n<p>any ideas ?</p>\n<p>geo-tools dependencies</p>\n<p>geotools.version -&gt;  18.4</p>\n<pre><code>&lt;artifactId&gt;gt-main&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-geometry&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-epsg-wkt&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-referencing&lt;/artifactId&gt; //added and solved the issue\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":0,"creation_date":1294326605,"post_id":4616282,"comment_id":5075395,"body_markdown":"What is synchronization?  Knowing that should give a good clue on why it is useful for collections, or any object for that matter.","body":"What is synchronization?  Knowing that should give a good clue on why it is useful for collections, or any object for that matter."},{"owner":{"account_id":266215,"reputation":30407,"user_id":553670,"accept_rate":37,"display_name":"satheesh.droid"},"score":0,"creation_date":1294326922,"post_id":4616282,"comment_id":5075456,"body_markdown":"I have got a clue but I don&#39;t want to assume it.","body":"I have got a clue but I don&#39;t want to assume it."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294326493,"creation_date":1294326177,"answer_id":4616300,"question_id":4616282,"body_markdown":"Synchronization of a list is necessary if multiple threads may access it concurrently. Synchronization is an unnecessary (but not necessarily significant) cost if only a single thread can access the list.\r\n\r\nI personally tend to use ArrayList by default, and synchronize access to it if required.\r\n\r\nUsing the common List&lt;&gt; interface to refer to instances of Vector or ArrayList allows you to switch implementations more easily.","title":"Why is it useful to have a synchronized collection in Java","body":"<p>Synchronization of a list is necessary if multiple threads may access it concurrently. Synchronization is an unnecessary (but not necessarily significant) cost if only a single thread can access the list.</p>\n\n<p>I personally tend to use ArrayList by default, and synchronize access to it if required.</p>\n\n<p>Using the common List&lt;> interface to refer to instances of Vector or ArrayList allows you to switch implementations more easily.</p>\n"},{"tags":[],"owner":{"account_id":74910,"reputation":24557,"user_id":215030,"accept_rate":85,"display_name":"Aaron McIver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294326525,"creation_date":1294326525,"answer_id":4616349,"question_id":4616282,"body_markdown":"`ArrayList` was meant to replace `Vector` however it is not thread safe by design. I would suggest only using `ArrayList` and not making use of `Vector` since it was not designed ground up to be part of the Collections. If you need thread safety on your `ArrayList` you can do...\r\n\r\n    List list = Collections.synchronizedList(new ArrayList(...));","title":"Why is it useful to have a synchronized collection in Java","body":"<p><code>ArrayList</code> was meant to replace <code>Vector</code> however it is not thread safe by design. I would suggest only using <code>ArrayList</code> and not making use of <code>Vector</code> since it was not designed ground up to be part of the Collections. If you need thread safety on your <code>ArrayList</code> you can do...</p>\n\n<pre><code>List list = Collections.synchronizedList(new ArrayList(...));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1294328648,"creation_date":1294326529,"answer_id":4616352,"question_id":4616282,"body_markdown":"    public class ThreadSafeExample {\n        private Vector&lt;String&gt; names = new Vector&lt;String&gt;();\n    \n        public void addName(String name) {\n           names.add(name);\n        }\n    }\n\nThis class will work fine even if multiple threads call the `addName(..)` method. With `ArrayList`, it won&#39;t - you will have missing values.\n\nThe performance of `Vector`, `ArrayList` is [benchmarked here][1]. Note that there also exists `Collections.synchornizedList(..)` which makes any list synchronized.\n\n\nNote that this applies when the collection is used as an instance field. If  the vector is declared within a method, then you gain nothing with the synchornization (no other thread can use it anyway). In fact, there is something called &quot;escape analysis&quot;, which in this case removes the synchornization if it is not needed. But I think it is not on by default.\n\n  [1]: http://java-persistence-performance.blogspot.com/2010/12/what-is-faster-jvm-performance.html","title":"Why is it useful to have a synchronized collection in Java","body":"<pre><code>public class ThreadSafeExample {\n    private Vector&lt;String&gt; names = new Vector&lt;String&gt;();\n\n    public void addName(String name) {\n       names.add(name);\n    }\n}\n</code></pre>\n<p>This class will work fine even if multiple threads call the <code>addName(..)</code> method. With <code>ArrayList</code>, it won't - you will have missing values.</p>\n<p>The performance of <code>Vector</code>, <code>ArrayList</code> is <a href=\"http://java-persistence-performance.blogspot.com/2010/12/what-is-faster-jvm-performance.html\" rel=\"nofollow noreferrer\">benchmarked here</a>. Note that there also exists <code>Collections.synchornizedList(..)</code> which makes any list synchronized.</p>\n<p>Note that this applies when the collection is used as an instance field. If  the vector is declared within a method, then you gain nothing with the synchornization (no other thread can use it anyway). In fact, there is something called &quot;escape analysis&quot;, which in this case removes the synchornization if it is not needed. But I think it is not on by default.</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294326597,"creation_date":1294326597,"answer_id":4616359,"question_id":4616282,"body_markdown":"I did not wanted to redirect you, but I have the same thing to say as here: http://manikandanmv.wordpress.com/2009/03/21/vector-vs-arraylist/\r\n\r\n\r\n&gt;**Vector**\r\n&gt;\r\n    &gt;- Vector is thread safe, because vector objects are synchronized which means you can access vector objects from any number of threads at the same time without affecting its data.\r\n    &gt;- Due to the above reason, In performance wise Vector is slightly slower than ArrayList\r\n    &gt;- Double the size of its internal array when it runs out of space.\r\n&gt;\r\n**ArrayList**\r\n&gt;\r\n    &gt;- ArrayList is just opposite of Vector class. Its not thread safe, suppose if you are using ArrayList instances in multiple threads surely which leads to create some problems while accessing.\r\n    &gt;- ArrayList comes from Collection Framework family. So its easy to developers to convert in to any other datastructure formats.\r\n    &gt;- Increases its array size by 50 percent.\r\n\r\n\r\nArrayList are more preffered and you can externally synchronize them by `Collections.syncronizedList(..)`","title":"Why is it useful to have a synchronized collection in Java","body":"<p>I did not wanted to redirect you, but I have the same thing to say as here: <a href=\"http://manikandanmv.wordpress.com/2009/03/21/vector-vs-arraylist/\" rel=\"nofollow\">http://manikandanmv.wordpress.com/2009/03/21/vector-vs-arraylist/</a></p>\n\n<blockquote>\n  <p><strong>Vector</strong></p>\n  \n  <ul>\n  <li>Vector is thread safe, because vector objects are synchronized which means you can access vector objects from any number of threads at the same time without affecting its data.</li>\n  <li>Due to the above reason, In performance wise Vector is slightly slower than ArrayList</li>\n  <li>Double the size of its internal array when it runs out of space.</li>\n  </ul>\n  \n  <p><strong>ArrayList</strong></p>\n  \n  <ul>\n  <li>ArrayList is just opposite of Vector class. Its not thread safe, suppose if you are using ArrayList instances in multiple threads surely which leads to create some problems while accessing.</li>\n  <li>ArrayList comes from Collection Framework family. So its easy to developers to convert in to any other datastructure formats.</li>\n  <li>Increases its array size by 50 percent.</li>\n  </ul>\n</blockquote>\n\n<p>ArrayList are more preffered and you can externally synchronize them by <code>Collections.syncronizedList(..)</code></p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294326614,"creation_date":1294326614,"answer_id":4616364,"question_id":4616282,"body_markdown":"Synchronization is used in the context of [Concurrency][1]. [This][2] clearly explains why synchronization is essential:\r\n\r\n&gt; Threads communicate primarily by\r\n&gt; sharing access to fields and the\r\n&gt; objects reference fields refer to.\r\n&gt; This form of communication is\r\n&gt; extremely efficient, but makes two\r\n&gt; kinds of errors possible: *thread\r\n&gt; interference* and *memory consistency\r\n&gt; errors*. The tool needed to prevent\r\n&gt; these errors is *synchronization*.\r\n\r\nSynchronized class/method/instance/statement variables prevents concurrent usage of the synchronized class/method/instance/statement. \r\n\r\n&gt; When one thread is executing a\r\n&gt; synchronized method for an object, all\r\n&gt; other threads that invoke synchronized\r\n&gt; methods for the same object block\r\n&gt; (suspend execution) until the first\r\n&gt; thread is done with the object.&#39;\r\n\r\n[Source][3].\r\n\r\nVectors are thread-safe (meaning synchronized) while ArrayList aren&#39;t. You can allow thread safety by using `Collections.synchronizedList(...)`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Concurrency_%28computer_science%29\r\n  [2]: http://download.oracle.com/javase/tutorial/essential/concurrency/sync.html\r\n  [3]: http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"Why is it useful to have a synchronized collection in Java","body":"<p>Synchronization is used in the context of <a href=\"http://en.wikipedia.org/wiki/Concurrency_%28computer_science%29\" rel=\"nofollow\">Concurrency</a>. <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"nofollow\">This</a> clearly explains why synchronization is essential:</p>\n\n<blockquote>\n  <p>Threads communicate primarily by\n  sharing access to fields and the\n  objects reference fields refer to.\n  This form of communication is\n  extremely efficient, but makes two\n  kinds of errors possible: <em>thread\n  interference</em> and <em>memory consistency\n  errors</em>. The tool needed to prevent\n  these errors is <em>synchronization</em>.</p>\n</blockquote>\n\n<p>Synchronized class/method/instance/statement variables prevents concurrent usage of the synchronized class/method/instance/statement. </p>\n\n<blockquote>\n  <p>When one thread is executing a\n  synchronized method for an object, all\n  other threads that invoke synchronized\n  methods for the same object block\n  (suspend execution) until the first\n  thread is done with the object.'</p>\n</blockquote>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow\">Source</a>.</p>\n\n<p>Vectors are thread-safe (meaning synchronized) while ArrayList aren't. You can allow thread safety by using <code>Collections.synchronizedList(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294328429,"creation_date":1294328429,"answer_id":4616664,"question_id":4616282,"body_markdown":"You ask what synchronization is useful for? You might enjoy Doug Lea&#39;s book [Concurrent Programming in Java][^1].  Although it is slightly dated, it gave a good academic treatment of the issues inherent in multiple threads of execution accessing the same data structures.  For actual application and a more up-to-date treatment, you would read [Java Concurrency in Practice][^2].\r\n\r\nAs Doug Lea would put it, you want threads of execution to make progress.  But you also want to preserve the integrity of data structures.  \r\n\r\nIn the case of Vector and ArrayList, suppose two threads went to add an item &#39;at the same time&#39;.  One of the things that needs to be done is that the count of items in the  needs to be incremented.  This is something hidden from you, but is nonetheless important to the collection itself.  It would not do for ThreadA to see that before it added the item, the count was 3, and tried to write 4, but meanwhile ThreadB had already incremented it to 4 and it should now be 5!\r\n\r\nSynchronisation is one approach to solving this problem.  Essentially, when two threads attempt to access the same object and it encounters a &#39;synchronized block&#39; (which sometimes may be an entire method), ThreadB has to wait until ThreadA is finished and &#39;releases the lock&#39;.  That way, there is no chance of the two threads reading the count and then two threads writing the count.  By forcing an order on the operations of the threads (synchronizing them), there is a read/write followed by another read/write.\r\n\r\n\r\n[^1]: http://my.safaribooksonline.com/book/programming/java/0201310090\r\n[^2]: http://my.safaribooksonline.com/book/programming/java/0321349601","title":"Why is it useful to have a synchronized collection in Java","body":"<p>You ask what synchronization is useful for? You might enjoy Doug Lea's book <a href=\"http://my.safaribooksonline.com/book/programming/java/0201310090\" rel=\"nofollow\">Concurrent Programming in Java</a>.  Although it is slightly dated, it gave a good academic treatment of the issues inherent in multiple threads of execution accessing the same data structures.  For actual application and a more up-to-date treatment, you would read <a href=\"http://my.safaribooksonline.com/book/programming/java/0321349601\" rel=\"nofollow\">Java Concurrency in Practice</a>.</p>\n\n<p>As Doug Lea would put it, you want threads of execution to make progress.  But you also want to preserve the integrity of data structures.  </p>\n\n<p>In the case of Vector and ArrayList, suppose two threads went to add an item 'at the same time'.  One of the things that needs to be done is that the count of items in the  needs to be incremented.  This is something hidden from you, but is nonetheless important to the collection itself.  It would not do for ThreadA to see that before it added the item, the count was 3, and tried to write 4, but meanwhile ThreadB had already incremented it to 4 and it should now be 5!</p>\n\n<p>Synchronisation is one approach to solving this problem.  Essentially, when two threads attempt to access the same object and it encounters a 'synchronized block' (which sometimes may be an entire method), ThreadB has to wait until ThreadA is finished and 'releases the lock'.  That way, there is no chance of the two threads reading the count and then two threads writing the count.  By forcing an order on the operations of the threads (synchronizing them), there is a read/write followed by another read/write.</p>\n"}],"owner":{"account_id":266215,"reputation":30407,"user_id":553670,"accept_rate":37,"display_name":"satheesh.droid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4616352,"answer_count":6,"score":1,"last_activity_date":1689575337,"creation_date":1294326044,"question_id":4616282,"body_markdown":"I have came know that the difference between ArrayList and Vector class is that Vector class is synchronised whereas the ArrayList is not. I know what is synchronization, **but can anyone explain how it is useful in this context?** ","title":"Why is it useful to have a synchronized collection in Java","body":"<p>I have came know that the difference between ArrayList and Vector class is that Vector class is synchronised whereas the ArrayList is not. I know what is synchronization, <strong>but can anyone explain how it is useful in this context?</strong> </p>\n"},{"tags":["java","exception","javafx"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1689574496,"post_id":76701865,"comment_id":135227010,"body_markdown":"You already get that exception from calling `YearMonth.of(year,month)`, before you even check the month.","body":"You already get that exception from calling <code>YearMonth.of(year,month)</code>, before you even check the month."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689574563,"post_id":76701865,"comment_id":135227021,"body_markdown":"Because [`YearMonth#of(int,int)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html#of(int,int)) is defined to throw a `DateTimeException` &quot;_if either field value is invalid_&quot;.","body":"Because <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html#of(int,int)\" rel=\"nofollow noreferrer\"><code>YearMonth#of(int,int)</code></a> is defined to throw a <code>DateTimeException</code> &quot;<i>if either field value is invalid</i>&quot;."},{"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"score":0,"creation_date":1689574792,"post_id":76701865,"comment_id":135227052,"body_markdown":"how can i change that so my exception message will show instead?","body":"how can i change that so my exception message will show instead?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689574858,"post_id":76701865,"comment_id":135227061,"body_markdown":"Create the `YearMonth` _after_ you&#39;ve checked the `year` and `month` values yourself?","body":"Create the <code>YearMonth</code> <i>after</i> you&#39;ve checked the <code>year</code> and <code>month</code> values yourself?"},{"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"score":0,"creation_date":1689574909,"post_id":76701865,"comment_id":135227069,"body_markdown":"okay thank you so much","body":"okay thank you so much"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689575326,"post_id":76701865,"comment_id":135227137,"body_markdown":"Personally, I would just try to parse the text into a `LocalDate` using a `DateTimeFormatter` with the pattern `d/M/uuuu`, and if that threw a `DateTimeParseException` then just alert the user they input an invalid date and tell them the format they need to use. That loses some specificity in the error message, but it means you don&#39;t have to implement the parsing yourself. After you have the `LocalDate` you can check the year to make sure it&#39;s in the range you want.","body":"Personally, I would just try to parse the text into a <code>LocalDate</code> using a <code>DateTimeFormatter</code> with the pattern <code>d&#47;M&#47;uuuu</code>, and if that threw a <code>DateTimeParseException</code> then just alert the user they input an invalid date and tell them the format they need to use. That loses some specificity in the error message, but it means you don&#39;t have to implement the parsing yourself. After you have the <code>LocalDate</code> you can check the year to make sure it&#39;s in the range you want."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689575693,"post_id":76701865,"comment_id":135227194,"body_markdown":"As an aside, given you&#39;re using JavaFX, consider if using a [`DatePicker`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/DatePicker.html) would better fit your needs.","body":"As an aside, given you&#39;re using JavaFX, consider if using a <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/DatePicker.html\" rel=\"nofollow noreferrer\"><code>DatePicker</code></a> would better fit your needs."},{"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"score":0,"creation_date":1689576142,"post_id":76701865,"comment_id":135227270,"body_markdown":"Thank you for the suggestion and idea. I think DatePicker would be a good addition to the program.","body":"Thank you for the suggestion and idea. I think DatePicker would be a good addition to the program."}],"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689575039,"creation_date":1689574015,"question_id":76701865,"body_markdown":"I am creating a gui for calculating the time between two dates and handling and exceptions that may occur. When handling days and years exceptions I am getting the desired exception handling message but when handling months it gives me the default message despite passing a string in the constructor.\r\n\r\nMain file code:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Modality;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.time.DateTimeException;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.Period;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\n\r\npublic class Lab9 extends Application {\r\n    private Pane display;\r\n    private TextField startDate;\r\n    private TextField endDate;\r\n    private Button countButton;\r\n    int years;\r\n    int months;\r\n    int days;\r\n    long numberOfDays;\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage){\r\n        display = new Pane(dates());\r\n\r\n        CountClick countClick = new CountClick();\r\n        countButton.setOnAction(countClick);\r\n\r\n        Scene scene = new Scene(display);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    private HBox startDate(){\r\n        Label label = new Label(&quot;Start Date:&quot;);\r\n        Font font = new Font(&quot;arial&quot;,13);\r\n        label.setFont(font);\r\n        startDate = new TextField(&quot;1/1/2000&quot;);\r\n        HBox sBox = new HBox(5,label,startDate);\r\n        sBox.setPadding(new Insets(5));\r\n        sBox.setAlignment(Pos.CENTER);\r\n        return sBox;\r\n    }\r\n\r\n    private HBox endDate(){\r\n        String day = &quot;&quot;+LocalDateTime.now().getDayOfMonth();\r\n        String month = &quot;&quot;+LocalDateTime.now().getMonthValue();\r\n        String year = &quot;&quot;+LocalDateTime.now().getYear();\r\n        Label label = new Label(&quot;End Date:&quot;);\r\n        Font font = new Font(&quot;arial&quot;,13);\r\n        label.setFont(font);\r\n        endDate = new TextField(day + &quot;/&quot; + month + &quot;/&quot; + year);\r\n        HBox eBox = new HBox(5,label,endDate);\r\n        eBox.setPadding(new Insets(5));\r\n        eBox.setAlignment(Pos.CENTER);\r\n        return eBox;\r\n    }\r\n\r\n    private Button countButton(){\r\n        countButton = new Button(&quot;Count&quot;);\r\n        return countButton;\r\n    }\r\n\r\n    private VBox dates(){\r\n        VBox dates = new VBox(10, startDate(),endDate(),countButton());\r\n        dates.setAlignment(Pos.CENTER);\r\n        dates.setPadding(new Insets(5));\r\n        return dates;\r\n    }\r\n\r\n    private void getInfo(){\r\n        try {\r\n\r\n            DataVerifier dv = new DataVerifier();\r\n            dv.check(&quot;Start Date: &quot;, startDate.getText());\r\n            dv.check(&quot;End Date: &quot;, endDate.getText());\r\n\r\n            String[] startDates = startDate.getText().split(&quot;/&quot;);\r\n            int startDay = Integer.parseInt(startDates[0]);\r\n            int startMonth = Integer.parseInt(startDates[1]);\r\n            int startYear = Integer.parseInt(startDates[2]);\r\n\r\n            String[] endDates = endDate.getText().split(&quot;/&quot;);\r\n            int endDay = Integer.parseInt(endDates[0]);\r\n            int endMonth = Integer.parseInt(endDates[1]);\r\n            int endYear = Integer.parseInt(endDates[2]);\r\n\r\n\r\n            LocalDate start = LocalDate.of(startYear, startMonth, startDay);\r\n            LocalDate end = LocalDate.of(endYear, endMonth, endDay);\r\n\r\n            Period duration = Period.between(start, end);\r\n            years = duration.getYears();\r\n            months = duration.getMonths();\r\n            days = duration.getDays();\r\n\r\n            numberOfDays = ChronoUnit.DAYS.between(start, end);\r\n\r\n            String times = days + &quot; days\\n&quot;;\r\n            times = times + months + &quot; months\\n&quot;;\r\n            times = times + years + &quot; years\\n&quot;;\r\n            times = times + numberOfDays + &quot; total days&quot;;\r\n\r\n            createPopup(times);\r\n        }\r\n        catch (DateTimeException de){\r\n            createPopup(de.getMessage());\r\n        }\r\n        catch (CPSC1181Exception ce){\r\n            createPopup(ce.getMessage());\r\n        }\r\n    }\r\n\r\n    private void createPopup(String message){\r\n        Stage stage = new Stage();\r\n        VBox popup = new VBox();\r\n        popup.getChildren().add(new Text(message));\r\n        Scene scene = new Scene(popup,300,200);\r\n        stage.setScene(scene);\r\n        stage.initModality(Modality.APPLICATION_MODAL);\r\n        stage.show();\r\n    }\r\n\r\n    private class CountClick implements EventHandler&lt;ActionEvent&gt; {\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            getInfo();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nException Handler Class Code:\r\n\r\n```\r\nimport java.time.DateTimeException;\r\nimport java.time.YearMonth;\r\n\r\npublic class DataVerifier {\r\n\r\n    public void check (String type, String date) throws DateTimeException,CPSC1181Exception {\r\n\r\n        // Get Dates\r\n        String[] dates = date.split(&quot;/&quot;);\r\n        int day = Integer.parseInt(dates[0]);\r\n        int month = Integer.parseInt(dates[1]);\r\n        int year = Integer.parseInt(dates[2]);\r\n\r\n        YearMonth startYearMonth = YearMonth.of(year,month);\r\n\r\n        // Check if length of input is too short or too long\r\n        if (date.length() &lt; &quot;D/M/YYYY&quot;.length() || date.length() &gt; &quot;DD/MM/YYY&quot;.length()){\r\n            throw new CPSC1181Exception(type + &quot;not the right number of characters\\nuse the following format\\n&quot; + &quot;DD/MM/YYYY&quot;);\r\n        }\r\n\r\n        // Check if year is under 1000 or over 3000\r\n        if (year &lt; 1000 || year &gt; 3000){\r\n            throw new DateTimeException(type + &quot;incorrect \\&quot;year digits\\&quot; of &quot; + year);\r\n        }\r\n\r\n        // Check if month is under 1 or over 12\r\n        if (month &lt; 1 || month &gt; 12){\r\n            throw new DateTimeException(type + &quot;incorrect \\&quot;month digits\\&quot; of &quot; + month);\r\n        }\r\n\r\n        // Check if day is valid day in month\r\n        if (day &lt; 1 || day &gt; startYearMonth.lengthOfMonth()){\r\n            throw new DateTimeException(type + &quot;incorrect \\&quot;day digits\\&quot; of &quot; + day);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat is being outputted:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nDesired Output:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/11qiB.png\r\n  [2]: https://i.stack.imgur.com/u3gpy.png","title":"Why is the exception message for the wrong month being printed out differently than for my days and years?","body":"<p>I am creating a gui for calculating the time between two dates and handling and exceptions that may occur. When handling days and years exceptions I am getting the desired exception handling message but when handling months it gives me the default message despite passing a string in the constructor.</p>\n<p>Main file code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.time.DateTimeException;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.Period;\nimport java.time.temporal.ChronoUnit;\n\n\npublic class Lab9 extends Application {\n    private Pane display;\n    private TextField startDate;\n    private TextField endDate;\n    private Button countButton;\n    int years;\n    int months;\n    int days;\n    long numberOfDays;\n\n\n    @Override\n    public void start(Stage stage){\n        display = new Pane(dates());\n\n        CountClick countClick = new CountClick();\n        countButton.setOnAction(countClick);\n\n        Scene scene = new Scene(display);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n    private HBox startDate(){\n        Label label = new Label(&quot;Start Date:&quot;);\n        Font font = new Font(&quot;arial&quot;,13);\n        label.setFont(font);\n        startDate = new TextField(&quot;1/1/2000&quot;);\n        HBox sBox = new HBox(5,label,startDate);\n        sBox.setPadding(new Insets(5));\n        sBox.setAlignment(Pos.CENTER);\n        return sBox;\n    }\n\n    private HBox endDate(){\n        String day = &quot;&quot;+LocalDateTime.now().getDayOfMonth();\n        String month = &quot;&quot;+LocalDateTime.now().getMonthValue();\n        String year = &quot;&quot;+LocalDateTime.now().getYear();\n        Label label = new Label(&quot;End Date:&quot;);\n        Font font = new Font(&quot;arial&quot;,13);\n        label.setFont(font);\n        endDate = new TextField(day + &quot;/&quot; + month + &quot;/&quot; + year);\n        HBox eBox = new HBox(5,label,endDate);\n        eBox.setPadding(new Insets(5));\n        eBox.setAlignment(Pos.CENTER);\n        return eBox;\n    }\n\n    private Button countButton(){\n        countButton = new Button(&quot;Count&quot;);\n        return countButton;\n    }\n\n    private VBox dates(){\n        VBox dates = new VBox(10, startDate(),endDate(),countButton());\n        dates.setAlignment(Pos.CENTER);\n        dates.setPadding(new Insets(5));\n        return dates;\n    }\n\n    private void getInfo(){\n        try {\n\n            DataVerifier dv = new DataVerifier();\n            dv.check(&quot;Start Date: &quot;, startDate.getText());\n            dv.check(&quot;End Date: &quot;, endDate.getText());\n\n            String[] startDates = startDate.getText().split(&quot;/&quot;);\n            int startDay = Integer.parseInt(startDates[0]);\n            int startMonth = Integer.parseInt(startDates[1]);\n            int startYear = Integer.parseInt(startDates[2]);\n\n            String[] endDates = endDate.getText().split(&quot;/&quot;);\n            int endDay = Integer.parseInt(endDates[0]);\n            int endMonth = Integer.parseInt(endDates[1]);\n            int endYear = Integer.parseInt(endDates[2]);\n\n\n            LocalDate start = LocalDate.of(startYear, startMonth, startDay);\n            LocalDate end = LocalDate.of(endYear, endMonth, endDay);\n\n            Period duration = Period.between(start, end);\n            years = duration.getYears();\n            months = duration.getMonths();\n            days = duration.getDays();\n\n            numberOfDays = ChronoUnit.DAYS.between(start, end);\n\n            String times = days + &quot; days\\n&quot;;\n            times = times + months + &quot; months\\n&quot;;\n            times = times + years + &quot; years\\n&quot;;\n            times = times + numberOfDays + &quot; total days&quot;;\n\n            createPopup(times);\n        }\n        catch (DateTimeException de){\n            createPopup(de.getMessage());\n        }\n        catch (CPSC1181Exception ce){\n            createPopup(ce.getMessage());\n        }\n    }\n\n    private void createPopup(String message){\n        Stage stage = new Stage();\n        VBox popup = new VBox();\n        popup.getChildren().add(new Text(message));\n        Scene scene = new Scene(popup,300,200);\n        stage.setScene(scene);\n        stage.initModality(Modality.APPLICATION_MODAL);\n        stage.show();\n    }\n\n    private class CountClick implements EventHandler&lt;ActionEvent&gt; {\n        @Override\n        public void handle(ActionEvent e) {\n            getInfo();\n        }\n    }\n}\n</code></pre>\n<p>Exception Handler Class Code:</p>\n<pre><code>import java.time.DateTimeException;\nimport java.time.YearMonth;\n\npublic class DataVerifier {\n\n    public void check (String type, String date) throws DateTimeException,CPSC1181Exception {\n\n        // Get Dates\n        String[] dates = date.split(&quot;/&quot;);\n        int day = Integer.parseInt(dates[0]);\n        int month = Integer.parseInt(dates[1]);\n        int year = Integer.parseInt(dates[2]);\n\n        YearMonth startYearMonth = YearMonth.of(year,month);\n\n        // Check if length of input is too short or too long\n        if (date.length() &lt; &quot;D/M/YYYY&quot;.length() || date.length() &gt; &quot;DD/MM/YYY&quot;.length()){\n            throw new CPSC1181Exception(type + &quot;not the right number of characters\\nuse the following format\\n&quot; + &quot;DD/MM/YYYY&quot;);\n        }\n\n        // Check if year is under 1000 or over 3000\n        if (year &lt; 1000 || year &gt; 3000){\n            throw new DateTimeException(type + &quot;incorrect \\&quot;year digits\\&quot; of &quot; + year);\n        }\n\n        // Check if month is under 1 or over 12\n        if (month &lt; 1 || month &gt; 12){\n            throw new DateTimeException(type + &quot;incorrect \\&quot;month digits\\&quot; of &quot; + month);\n        }\n\n        // Check if day is valid day in month\n        if (day &lt; 1 || day &gt; startYearMonth.lengthOfMonth()){\n            throw new DateTimeException(type + &quot;incorrect \\&quot;day digits\\&quot; of &quot; + day);\n        }\n    }\n}\n</code></pre>\n<p>What is being outputted:</p>\n<p><a href=\"https://i.stack.imgur.com/11qiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/11qiB.png\" alt=\"enter image description here\" /></a></p>\n<p>Desired Output:</p>\n<p><a href=\"https://i.stack.imgur.com/u3gpy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3gpy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","flutter"],"owner":{"account_id":25260091,"reputation":71,"user_id":19091106,"display_name":"sarakhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689574595,"creation_date":1689573008,"question_id":76701782,"body_markdown":"I forgot the flutter version of my project in which i developed my project, so i am using  flutter 3.3.5 version to run this project but unfortunately I am getting this error \r\n\r\n\r\n```\r\nError: The non-abstract class &#39;TextOneLineEllipsisWithFade&#39; is missing implementations for these members:\r\ntext_one_line_ellipsis_with_fade.dart:20\r\n - Text.selectionColor\r\nTry to either\r\n - provide an implementation,\r\n - inherit an implementation from a superclass or mixin,\r\n - mark the class as abstract, or\r\n - provide a &#39;noSuchMethod&#39; implementation.\r\n\r\nclass TextOneLineEllipsisWithFade extends StatelessWidget implements Text {\r\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n: Context: &#39;Text.selectionColor&#39; is defined here.\r\ntext.dart:535\r\n  final Color? selectionColor;\r\n               ^^^^^^^^^^^^^^\r\n: Error: The non-abstract class &#39;RenderParagraphX&#39; is missing implementations for these members:\r\ntext_one_line_ellipsis_with_fade.dart:201\r\n - RenderParagraph.registrar\r\n - RenderParagraph.registrar=\r\n - RenderParagraph.selectionColor\r\n - RenderParagraph.selectionColor=\r\n - RenderParagraph.selections\r\nTry to either\r\n - provide an implementation,\r\n - inherit an implementation from a superclass or mixin,\r\n - mark the class as abstract, or\r\n - provide a &#39;noSuchMethod&#39; implementation.\r\n\r\n\r\n             ^^^^^^^^^^^^^^\r\n```\r\n\r\nI have tried to switch flutter version 3.0.0 but issue is still same. I did flutter clean, restart everything but nothing happened.\r\n\r\nPlease help me to fix this issue","title":": Error: The non-abstract class &#39;TextOneLineEllipsisWithFade&#39; is missing implementations for these members:","body":"<p>I forgot the flutter version of my project in which i developed my project, so i am using  flutter 3.3.5 version to run this project but unfortunately I am getting this error</p>\n<pre><code>Error: The non-abstract class 'TextOneLineEllipsisWithFade' is missing implementations for these members:\ntext_one_line_ellipsis_with_fade.dart:20\n - Text.selectionColor\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass TextOneLineEllipsisWithFade extends StatelessWidget implements Text {\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n: Context: 'Text.selectionColor' is defined here.\ntext.dart:535\n  final Color? selectionColor;\n               ^^^^^^^^^^^^^^\n: Error: The non-abstract class 'RenderParagraphX' is missing implementations for these members:\ntext_one_line_ellipsis_with_fade.dart:201\n - RenderParagraph.registrar\n - RenderParagraph.registrar=\n - RenderParagraph.selectionColor\n - RenderParagraph.selectionColor=\n - RenderParagraph.selections\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\n\n             ^^^^^^^^^^^^^^\n</code></pre>\n<p>I have tried to switch flutter version 3.0.0 but issue is still same. I did flutter clean, restart everything but nothing happened.</p>\n<p>Please help me to fix this issue</p>\n"},{"tags":["java","xml","regex"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409339501,"post_id":25574763,"comment_id":39942491,"body_markdown":"why don&#39;t you use any XML parsing API?","body":"why don&#39;t you use any XML parsing API?"},{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":1,"creation_date":1409339542,"post_id":25574763,"comment_id":39942518,"body_markdown":"`;&amp;lt` in char class doesn&#39;t mean the string `;&amp;lt`. It means match ; or &amp; or l or t","body":"<code>;&amp;lt</code> in char class doesn&#39;t mean the string <code>;&amp;lt</code>. It means match ; or &amp; or l or t"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1409339990,"post_id":25574763,"comment_id":39942717,"body_markdown":"The obligatory comment to all posts asking about using regex to parse XML: http://stackoverflow.com/a/1732454/18157","body":"The obligatory comment to all posts asking about using regex to parse XML: <a href=\"http://stackoverflow.com/a/1732454/18157\">stackoverflow.com/a/1732454/18157</a>"},{"owner":{"account_id":4646779,"reputation":50512,"user_id":3764814,"display_name":"Lucas Trzesniewski"},"score":0,"creation_date":1409357129,"post_id":25574763,"comment_id":39948171,"body_markdown":"@JimGarrison He doesn&#39;t want to parse XML with regex, he wants to store the regex pattern in an XML file... Not the same thing at all ;) EDIT: Well that was my first interpretation, now I&#39;m not so sure anymore... the question isn&#39;t particularly clear.","body":"@JimGarrison He doesn&#39;t want to parse XML with regex, he wants to store the regex pattern in an XML file... Not the same thing at all ;) EDIT: Well that was my first interpretation, now I&#39;m not so sure anymore... the question isn&#39;t particularly clear."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409392666,"creation_date":1409392666,"answer_id":25581169,"question_id":25574763,"body_markdown":"Your regular expression shouldn&#39;t match anything: for a start, &quot;^&quot; and &quot;$&quot; are not meta-characters in the XSD regex dialect, they match literal &quot;^&quot; and &quot;$&quot; characters. There are also many other constructs here that XSD regexes don&#39;t allow. However, you may be using a schema processor such as the Microsoft one that does it&#39;s own thing rather than following the W3C specification.\r\n\r\nIt would be easier for us if you described your requirement, rather than asking us to work it out by reverse engineering a complex regular expression. Don&#39;t forget that you can specify more than one pattern. If you just want to require one of the specified extensions, just use \r\n\r\n`.*\\.(txt|rtf|doc|docx|htm|html|pdf)`","title":"Java regex to xml","body":"<p>Your regular expression shouldn't match anything: for a start, \"^\" and \"$\" are not meta-characters in the XSD regex dialect, they match literal \"^\" and \"$\" characters. There are also many other constructs here that XSD regexes don't allow. However, you may be using a schema processor such as the Microsoft one that does it's own thing rather than following the W3C specification.</p>\n\n<p>It would be easier for us if you described your requirement, rather than asking us to work it out by reverse engineering a complex regular expression. Don't forget that you can specify more than one pattern. If you just want to require one of the specified extensions, just use </p>\n\n<p><code>.*\\.(txt|rtf|doc|docx|htm|html|pdf)</code></p>\n"},{"tags":[],"owner":{"account_id":9491636,"reputation":160,"user_id":7056207,"display_name":"Amulya Koppula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689573274,"creation_date":1689573274,"answer_id":76701799,"question_id":25574763,"body_markdown":"Only for .xml files extension matching, I have sent regular expression as a string argument as below,\r\n\r\n    String xmlRegex=new String(&quot;.*\\\\.(xml)&quot;);\r\n\r\nand verifies as below,\r\n\r\n    boolean matched = MatcherUtil.match( xmlRegex, filename );\r\n\r\nIt returns true if matched and false if not.\r\n\r\n\r\n","title":"Java regex to xml","body":"<p>Only for .xml files extension matching, I have sent regular expression as a string argument as below,</p>\n<pre><code>String xmlRegex=new String(&quot;.*\\\\.(xml)&quot;);\n</code></pre>\n<p>and verifies as below,</p>\n<pre><code>boolean matched = MatcherUtil.match( xmlRegex, filename );\n</code></pre>\n<p>It returns true if matched and false if not.</p>\n"}],"owner":{"account_id":4864680,"reputation":57,"user_id":3923338,"accept_rate":80,"display_name":"M&#225;rcio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":25581169,"answer_count":2,"score":1,"last_activity_date":1689573274,"creation_date":1409339422,"question_id":25574763,"body_markdown":"I did the following regular expression in java:\r\n\r\n    (^(?!\\\\s+$).*[^\\\\/:*?\\&quot;&lt;&gt;|]+(\\\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\r\n\r\nBut i need to use it in a xml schema, so i&#39;ve changed for:\r\n\r\n    (^(?!\\s+$).*[^\\/:*?\\&amp;quot;&amp;lt;&amp;gt;|]+(\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\r\n\r\nBut it&#39;s version is accepting files with not listed extensions. What&#39;s wrong? ","title":"Java regex to xml","body":"<p>I did the following regular expression in java:</p>\n\n<pre><code>(^(?!\\\\s+$).*[^\\\\/:*?\\\"&lt;&gt;|]+(\\\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\n</code></pre>\n\n<p>But i need to use it in a xml schema, so i've changed for:</p>\n\n<pre><code>(^(?!\\s+$).*[^\\/:*?\\&amp;quot;&amp;lt;&amp;gt;|]+(\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\n</code></pre>\n\n<p>But it's version is accepting files with not listed extensions. What's wrong? </p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689572746,"creation_date":1689241025,"answer_id":76677954,"question_id":76655712,"body_markdown":"No sure if it&#39;s possible to receive JSON RequestBody and image/file in same request. But you can try approaches below\r\n\r\n1. Convert image to base64 string and add it to json request. This way you will be able to receive request as RequestBody from which you can read base64 image data and convert it to image.\r\n\r\nEg. \r\n\r\n Request\r\n\r\n  \r\n\r\n     {\r\n        &quot;productName&quot; : &quot;Xbox&quot;,\r\n        &quot;description&quot;  : &quot;Xbox&quot;,\r\n        &quot;price&quot; : &quot;500&quot;,\r\n        &quot;imageData&quot; : &quot;image base64 string data here&quot;\r\n       }\r\n\r\nReceive request\r\n\r\n    @PostMapping(&quot;/json&quot;)\r\n    public void readJsonRequest(@RequestBody(required = true) String jsonRequest) {\r\n    \r\n    \tJSONObject object = new JSONObject(jsonRequest);\r\n        String productName = object.getString(&quot;productName&quot;);\r\n        String imageData = object.getString(&quot;imageData&quot;);\r\n            \r\n        //convert imageData from base64 to image\r\n    }\r\n\r\n2. Send request as ContentType: multipart/form-data. This way you can add keys and receive them using RequestParams &amp; MultipartFile\r\n   \r\n  E.g\r\n   Request\r\n\r\n   \r\n\r\n        Key\t\t\t\t\t    value\r\n        \r\n        productName\t\t\t\tXbox\r\n        description\t\t\t\tXbox\r\n        price\t\t\t\t    500\r\n        imageFile\t\t\t\tselected file (.png, .jpg etc)\r\n\r\n Receive request\r\n\r\n \r\n\r\n     @PostMapping(&quot;/request&quot;)\r\n     public void readRequest(@RequestParam(value = &quot;productName&quot;, required = true) String productName,\r\n                @RequestParam(value = &quot;description&quot;, required = true) String description,\r\n    \t    @RequestParam(value = &quot;price&quot;, required = true) String price,\r\n                @RequestParam(value = &quot;imageFile&quot;, required = true) MultipartFile imageFile) {\r\n    \r\n     }\r\n\r\nTo send Json object as entity, ensure keys/properties in json request matches fields names in your entity class. Eg `productName` key in json request should match `private String productName` in Product entity class.\r\n\r\nTo receive it \r\n\r\n    public ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\r\n                BindingResult result) {\r\n    \r\n    }","title":"how to receive an entity with image from requestParam","body":"<p>No sure if it's possible to receive JSON RequestBody and image/file in same request. But you can try approaches below</p>\n<ol>\n<li>Convert image to base64 string and add it to json request. This way you will be able to receive request as RequestBody from which you can read base64 image data and convert it to image.</li>\n</ol>\n<p>Eg.</p>\n<p>Request</p>\n<pre><code> {\n    &quot;productName&quot; : &quot;Xbox&quot;,\n    &quot;description&quot;  : &quot;Xbox&quot;,\n    &quot;price&quot; : &quot;500&quot;,\n    &quot;imageData&quot; : &quot;image base64 string data here&quot;\n   }\n</code></pre>\n<p>Receive request</p>\n<pre><code>@PostMapping(&quot;/json&quot;)\npublic void readJsonRequest(@RequestBody(required = true) String jsonRequest) {\n\n    JSONObject object = new JSONObject(jsonRequest);\n    String productName = object.getString(&quot;productName&quot;);\n    String imageData = object.getString(&quot;imageData&quot;);\n        \n    //convert imageData from base64 to image\n}\n</code></pre>\n<ol start=\"2\">\n<li>Send request as ContentType: multipart/form-data. This way you can add keys and receive them using RequestParams &amp; MultipartFile</li>\n</ol>\n<p>E.g\nRequest</p>\n<pre><code>    Key                     value\n    \n    productName             Xbox\n    description             Xbox\n    price                   500\n    imageFile               selected file (.png, .jpg etc)\n</code></pre>\n<p>Receive request</p>\n<pre><code> @PostMapping(&quot;/request&quot;)\n public void readRequest(@RequestParam(value = &quot;productName&quot;, required = true) String productName,\n            @RequestParam(value = &quot;description&quot;, required = true) String description,\n        @RequestParam(value = &quot;price&quot;, required = true) String price,\n            @RequestParam(value = &quot;imageFile&quot;, required = true) MultipartFile imageFile) {\n\n }\n</code></pre>\n<p>To send Json object as entity, ensure keys/properties in json request matches fields names in your entity class. Eg <code>productName</code> key in json request should match <code>private String productName</code> in Product entity class.</p>\n<p>To receive it</p>\n<pre><code>public ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\n            BindingResult result) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":4585253,"reputation":13,"user_id":3720142,"display_name":"user3720142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76677954,"answer_count":1,"score":1,"last_activity_date":1689572746,"creation_date":1689006975,"question_id":76655712,"body_markdown":"I&#39;m trying to save an entity (Product) with many attributes, one of them , the picture. And I don&#39;t know how to get both (entity and image) in the controller.\r\n\r\n```\r\n@PostMapping\r\npublic ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\r\nBindingResult result, @RequestParam(&quot;imageData&quot;) MultipartFile imageData);\r\n```\r\n\r\nIf i put it this way I get an &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data;boundary=--------------------------889210147211052471233495;charset=UTF-8&#39; is not supported]&quot; error.\r\n\r\nIf I only get the @RequestParam, because I suppose, I cannot use two both Request at the same time, I don&#39;t know how to send both, product and image. \r\nAnd much less, I don&#39;t know yet how to send this information from the front-end in react. \r\n```\r\nexport const ProductForm = ({ productSelected }) =&gt; {\r\n\r\nconst initialProductForm = {\r\n    id: 0,\r\n    productName: &#39;&#39;,\r\n    description: &#39;&#39;,\r\n    image: &quot; &quot;,\r\n    price: 0,\r\n}\r\n\r\n    const { initialProductForm, handlerAddProduct, errors } = useProducts();\r\n\r\n    const [productForm, setProductForm] = useState(initialProductForm);\r\n    let { id, productName, description, image, price } = productForm;\r\n\r\n    const onInputChange = ({ target }) =&gt; {\r\n        const { name, value } = target;\r\n        setProductForm({\r\n            ...productForm,\r\n            [name]: value,\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (event) =&gt; {\r\n        event.preventDefault();\r\n \r\n        imageData.append(&#39;product&#39;,productForm);\r\n        imageData.append(&#39;imageName&#39;, imageName);\r\n        imageData.append(&#39;imageData&#39;, imageData);\r\n        handlerAddProduct(productForm);\r\n    }\r\n\r\n    const handleChange = event =&gt; {\r\n        setImageName(event.target.value)\r\n    };\r\n\r\n    const [imageData, setImageData] = useState(null);\r\n    const [imageName, setImageName] = useState(&quot;&quot;);\r\n\r\nreturn (\r\n        &lt;&gt;\r\n\r\n            &lt;form onSubmit={handleSubmit} method=&quot;POST&quot; encType=&quot;application/json&quot;&gt;\r\n                &lt;input\r\n                    className=&quot;form-control my-3 w-75&quot;\r\n                    placeholder=&quot;ProductName&quot;\r\n                    name=&quot;productName&quot;\r\n                    value={productName}\r\n                    onChange={onInputChange}\r\n                /&gt;\r\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.productName}&lt;/p&gt;\r\n\r\n                &lt;input type=&quot;number&quot;\r\n                    className=&quot;form-control my-3 w-75&quot;\r\n                    placeholder=&quot;Price&quot;\r\n                    name=&quot;price&quot;\r\n                    value={price}\r\n                    onChange={onInputChange}\r\n                /&gt;\r\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.price}&lt;/p&gt;\r\n\r\n                &lt;input\r\n                    className=&quot;form-control my-3 w-75&quot;\r\n                    placeholder=&quot;Description&quot;\r\n                    name=&quot;description&quot;\r\n                    value={description}\r\n                    onChange={onInputChange}\r\n                /&gt;\r\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.description}&lt;/p&gt;\r\n\r\n\r\n                &lt;input\r\n                    accept=&quot;image/*&quot;                 \r\n                    id=&quot;upload-profile-image&quot;\r\n                    name=&quot;image&quot;\r\n                    type=&quot;file&quot;                  \r\n\r\n                    onChange={handleUploadClick}\r\n                /&gt;\r\n\r\n                &lt;label htmlFor=&quot;upload-profile-image&quot;&gt;\r\n                    &lt;Button\r\n                        variant=&quot;contained&quot;\r\n                        color=&quot;primary&quot;\r\n                        component=&quot;span&quot;\r\n                    &gt;\r\n                        Change Image\r\n                    &lt;/Button&gt;\r\n                &lt;/label&gt;\r\n\r\n                &lt;TextField\r\n                    fullWidth\r\n                    label=&quot;Image Name&quot;\r\n                    margin=&quot;dense&quot;\r\n                    name=&quot;name&quot;      \r\n                    onChange={handleChange}\r\n                    required\r\n                    value={imageName}\r\n                    variant=&quot;outlined&quot;\r\n                /&gt;\r\n\r\n                &lt;input\r\n                    type=&quot;hidden&quot;\r\n                    name=&quot;id&quot;\r\n                    value={id}\r\n                /&gt;\r\n\r\n                &lt;button\r\n                    className=&quot;btn btn-primary&quot;\r\n                    type=&quot;submit&quot;&gt;\r\n                    {id &gt; 0 ? &#39;Update&#39; : &#39;Create&#39;}\r\n                &lt;/button&gt;\r\n\r\n            &lt;/form&gt;\r\n        &lt;/&gt;\r\n    )\r\n\r\n}\r\n```\r\nProductService:\r\n\r\n```\r\nexport const save = async (product) =&gt; {\r\n\r\n\r\n\r\n    try {\r\n\r\n        return await usersApi.post(`${BASE_URL}/products/addProduct`, product, imageData);\r\n\r\n    } catch (error) {\r\n        console.log(&quot;errrooorrr &quot; + error);\r\n        throw error;\r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t make the controller work even from Postman. [Postman](https://i.stack.imgur.com/XuVIs.png)\r\n\r\nAnd of course I&#39;m complete lost from React Front-end.\r\n\r\nPlease. Help :)\r\n\r\nThanks a lot.\r\n\r\n\r\n\r\n\r\nTo get the product and the image to do this: product.setImage()= image.getBytes();","title":"how to receive an entity with image from requestParam","body":"<p>I'm trying to save an entity (Product) with many attributes, one of them , the picture. And I don't know how to get both (entity and image) in the controller.</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\nBindingResult result, @RequestParam(&quot;imageData&quot;) MultipartFile imageData);\n</code></pre>\n<p>If i put it this way I get an &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=--------------------------889210147211052471233495;charset=UTF-8' is not supported]&quot; error.</p>\n<p>If I only get the @RequestParam, because I suppose, I cannot use two both Request at the same time, I don't know how to send both, product and image.\nAnd much less, I don't know yet how to send this information from the front-end in react.</p>\n<pre><code>export const ProductForm = ({ productSelected }) =&gt; {\n\nconst initialProductForm = {\n    id: 0,\n    productName: '',\n    description: '',\n    image: &quot; &quot;,\n    price: 0,\n}\n\n    const { initialProductForm, handlerAddProduct, errors } = useProducts();\n\n    const [productForm, setProductForm] = useState(initialProductForm);\n    let { id, productName, description, image, price } = productForm;\n\n    const onInputChange = ({ target }) =&gt; {\n        const { name, value } = target;\n        setProductForm({\n            ...productForm,\n            [name]: value,\n        })\n    }\n\n    const handleSubmit = (event) =&gt; {\n        event.preventDefault();\n \n        imageData.append('product',productForm);\n        imageData.append('imageName', imageName);\n        imageData.append('imageData', imageData);\n        handlerAddProduct(productForm);\n    }\n\n    const handleChange = event =&gt; {\n        setImageName(event.target.value)\n    };\n\n    const [imageData, setImageData] = useState(null);\n    const [imageName, setImageName] = useState(&quot;&quot;);\n\nreturn (\n        &lt;&gt;\n\n            &lt;form onSubmit={handleSubmit} method=&quot;POST&quot; encType=&quot;application/json&quot;&gt;\n                &lt;input\n                    className=&quot;form-control my-3 w-75&quot;\n                    placeholder=&quot;ProductName&quot;\n                    name=&quot;productName&quot;\n                    value={productName}\n                    onChange={onInputChange}\n                /&gt;\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.productName}&lt;/p&gt;\n\n                &lt;input type=&quot;number&quot;\n                    className=&quot;form-control my-3 w-75&quot;\n                    placeholder=&quot;Price&quot;\n                    name=&quot;price&quot;\n                    value={price}\n                    onChange={onInputChange}\n                /&gt;\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.price}&lt;/p&gt;\n\n                &lt;input\n                    className=&quot;form-control my-3 w-75&quot;\n                    placeholder=&quot;Description&quot;\n                    name=&quot;description&quot;\n                    value={description}\n                    onChange={onInputChange}\n                /&gt;\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.description}&lt;/p&gt;\n\n\n                &lt;input\n                    accept=&quot;image/*&quot;                 \n                    id=&quot;upload-profile-image&quot;\n                    name=&quot;image&quot;\n                    type=&quot;file&quot;                  \n\n                    onChange={handleUploadClick}\n                /&gt;\n\n                &lt;label htmlFor=&quot;upload-profile-image&quot;&gt;\n                    &lt;Button\n                        variant=&quot;contained&quot;\n                        color=&quot;primary&quot;\n                        component=&quot;span&quot;\n                    &gt;\n                        Change Image\n                    &lt;/Button&gt;\n                &lt;/label&gt;\n\n                &lt;TextField\n                    fullWidth\n                    label=&quot;Image Name&quot;\n                    margin=&quot;dense&quot;\n                    name=&quot;name&quot;      \n                    onChange={handleChange}\n                    required\n                    value={imageName}\n                    variant=&quot;outlined&quot;\n                /&gt;\n\n                &lt;input\n                    type=&quot;hidden&quot;\n                    name=&quot;id&quot;\n                    value={id}\n                /&gt;\n\n                &lt;button\n                    className=&quot;btn btn-primary&quot;\n                    type=&quot;submit&quot;&gt;\n                    {id &gt; 0 ? 'Update' : 'Create'}\n                &lt;/button&gt;\n\n            &lt;/form&gt;\n        &lt;/&gt;\n    )\n\n}\n</code></pre>\n<p>ProductService:</p>\n<pre><code>export const save = async (product) =&gt; {\n\n\n\n    try {\n\n        return await usersApi.post(`${BASE_URL}/products/addProduct`, product, imageData);\n\n    } catch (error) {\n        console.log(&quot;errrooorrr &quot; + error);\n        throw error;\n    }\n}\n</code></pre>\n<p>I can't make the controller work even from Postman. <a href=\"https://i.stack.imgur.com/XuVIs.png\" rel=\"nofollow noreferrer\">Postman</a></p>\n<p>And of course I'm complete lost from React Front-end.</p>\n<p>Please. Help :)</p>\n<p>Thanks a lot.</p>\n<p>To get the product and the image to do this: product.setImage()= image.getBytes();</p>\n"},{"tags":["java","client","ejb","enterprise"],"comments":[{"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"score":0,"creation_date":1302702747,"post_id":5622385,"comment_id":6443486,"body_markdown":"I redone it but i have another problem now. I now have a single java enterprise application with both the ejb module and the application client. when i deploy the main() method is not being executed. i put a break-point in it, and system.out.printlns and wont get to them. why?","body":"I redone it but i have another problem now. I now have a single java enterprise application with both the ejb module and the application client. when i deploy the main() method is not being executed. i put a break-point in it, and system.out.printlns and wont get to them. why?"}],"answers":[{"tags":[],"owner":{"account_id":281259,"reputation":2071,"user_id":577450,"accept_rate":65,"display_name":"JSS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302533600,"creation_date":1302533600,"answer_id":5623166,"question_id":5622385,"body_markdown":"You can only inject EJB with container managed Beans i.e. Servlet, Session beans etc.\r\n\r\nIn your case you will have to locate Remote Interface through a JNDI lookup.\r\n\r\nExample:\r\n\r\n    Properties props = new Properties();\r\n    \t\tprops.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.enterprise.naming.SerialInitContextFactory&quot;);\r\n    \t\tprops.setProperty(&quot;org.omg.CORBA.ORBInitialHost&quot;, remoteHost);\r\n    \t\tprops.setProperty(&quot;org.omg.CORBA.ORBInitialPort&quot;, remotePort);\r\n    \r\n    \t\tInitialContext ic = new InitialContext(props);\r\n    \t\treturn ic.lookup(remoteInterface);\r\n\r\n","title":"Access EJB from Application Client (project configuration)","body":"<p>You can only inject EJB with container managed Beans i.e. Servlet, Session beans etc.</p>\n\n<p>In your case you will have to locate Remote Interface through a JNDI lookup.</p>\n\n<p>Example:</p>\n\n<pre><code>Properties props = new Properties();\n        props.setProperty(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.enterprise.naming.SerialInitContextFactory\");\n        props.setProperty(\"org.omg.CORBA.ORBInitialHost\", remoteHost);\n        props.setProperty(\"org.omg.CORBA.ORBInitialPort\", remotePort);\n\n        InitialContext ic = new InitialContext(props);\n        return ic.lookup(remoteInterface);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1302781911,"creation_date":1302781911,"answer_id":5662769,"question_id":5622385,"body_markdown":"So what i done is:\r\n\r\n1. Use JNDI\r\n\r\n    \tContext ctx = new InitialContext();\r\n        personService = (PersonApiRemote) ctx.lookup(&quot;api.PersonApiRemote&quot;);\r\n\r\n2. Add all Glassfish jars (which are a lot!) to the Application Client&#39;s build path.","title":"Access EJB from Application Client (project configuration)","body":"<p>So what i done is:</p>\n\n<ol>\n<li><p>Use JNDI</p>\n\n<pre><code>Context ctx = new InitialContext();\npersonService = (PersonApiRemote) ctx.lookup(\"api.PersonApiRemote\");\n</code></pre></li>\n<li><p>Add all Glassfish jars (which are a lot!) to the Application Client's build path.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1354416826,"creation_date":1354416826,"answer_id":13665967,"question_id":5622385,"body_markdown":"Go through these sides\r\n \r\nhttp://javahowto.blogspot.com/2007/06/simple-ejb-3-application-hand-made.html\r\n\r\nhttp://javahowto.blogspot.com/2007/07/simple-ejb-3-servlet-application.html\r\n\r\nhttps://stackoverflow.com/questions/7591056/classes-of-referenced-ejb-project-not-found-in-the-referencing-web-project\r\n\r\n","title":"Access EJB from Application Client (project configuration)","body":"<p>Go through these sides</p>\n\n<p><a href=\"http://javahowto.blogspot.com/2007/06/simple-ejb-3-application-hand-made.html\" rel=\"nofollow noreferrer\">http://javahowto.blogspot.com/2007/06/simple-ejb-3-application-hand-made.html</a></p>\n\n<p><a href=\"http://javahowto.blogspot.com/2007/07/simple-ejb-3-servlet-application.html\" rel=\"nofollow noreferrer\">http://javahowto.blogspot.com/2007/07/simple-ejb-3-servlet-application.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7591056/classes-of-referenced-ejb-project-not-found-in-the-referencing-web-project\">Classes of referenced EJB project not found in (the referencing) Web project</a></p>\n"},{"tags":[],"owner":{"account_id":18493971,"reputation":17,"user_id":13472832,"display_name":"Muhammad Ammar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689572365,"creation_date":1689572365,"answer_id":76701737,"question_id":5622385,"body_markdown":"This occurs usually when you have already deployed a project with the same JNDI name.\r\n\r\nThese are the steps to solve your problem:\r\n\r\n 1. First of all open your Glassfish/Payara server admin console.\r\n 2. Then go to the applications tab on the left sidebar.\r\n 3. Then undeploy the project that is present with the same JNDI Name.\r\n 4. Deploy the project again.\r\n\r\nI hope this process will solve your problem.\r\n\r\nThank you.","title":"Access EJB from Application Client (project configuration)","body":"<p>This occurs usually when you have already deployed a project with the same JNDI name.</p>\n<p>These are the steps to solve your problem:</p>\n<ol>\n<li>First of all open your Glassfish/Payara server admin console.</li>\n<li>Then go to the applications tab on the left sidebar.</li>\n<li>Then undeploy the project that is present with the same JNDI Name.</li>\n<li>Deploy the project again.</li>\n</ol>\n<p>I hope this process will solve your problem.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5662769,"answer_count":4,"score":0,"last_activity_date":1689572365,"creation_date":1302530293,"question_id":5622385,"body_markdown":"I know this has been asked before, but i can&#39;t find a good answer\r\n\r\nSo I want to have an client application that calls remote ejbs.\r\n\r\nFor this i have 2 ear applications.\r\nOne ear with the ejb module, and another ear with the application client module.\r\nIn the client module i am trying to inject in the Main() class the EJB with @EJB annotation.\r\n\r\n**application.xml for the EJB:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;application \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:application=&quot;http://java.sun.com    /xml/ns/javaee/application_5.xsd&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns    /javaee/application_5.xsd&quot; id=&quot;Application_ID&quot; version=&quot;5&quot;&gt;\r\n      &lt;display-name&gt; \r\n          MppL4_SERVER&lt;/display-name&gt;\r\n          &lt;module&gt;\r\n             &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\r\n          &lt;/module&gt;\r\n     &lt;/application&gt;\r\n\r\n**application.xml for the app-client:**\r\n\r\n    &lt;application \r\n      &lt;display-name&gt; \r\n          MppL4_CLIENT\r\n      &lt;/display-name&gt;\r\n      &lt;module&gt;\r\n         &lt;java&gt;MppL4_CLIENTClient.jar&lt;/java&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n         &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n    &lt;/application&gt;\r\n\r\nIf i deploy both ears on the Glassfish server i get:\r\n\r\n    \r\n    EVERE: Exception while invoking class org.glassfish.ejb.startup.EjbDeployer load method\r\n    java.lang.RuntimeException: EJB Container initialization error\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\r\n    \tat org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\r\n    \tat org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:69)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\r\n    \tat com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\r\n    \tat com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\r\n    \t... 32 more\r\n    Caused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\r\n    \tat com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\r\n    \tat javax.naming.InitialContext.bind(InitialContext.java:400)\r\n    \tat com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\r\n    \tat com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\r\n    \t... 35 more\r\n    Caused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\r\n    \tat org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\r\n    \tat org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\r\n    \t... 41 more\r\n    \r\n    SEVERE: Exception while loading the app\r\n    java.lang.RuntimeException: EJB Container initialization error\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\r\n    \tat org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\r\n    \tat org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:69)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\r\n    \tat com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\r\n    \tat com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\r\n    \t... 32 more\r\n    Caused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\r\n    \tat com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\r\n    \tat javax.naming.InitialContext.bind(InitialContext.java:400)\r\n    \tat com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\r\n    \tat com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\r\n    \t... 35 more\r\n    Caused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\r\n    \tat org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\r\n    \tat org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\r\n    \t... 41 more\r\n    \r\n    WARNING: Exception while cleaning module &#39;org.glassfish.internal.data.EngineRef@1e493eb&#39;java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n    \tat org.glassfish.appclient.server.core.AppClientDeployer.clean(AppClientDeployer.java:265)\r\n    \tat org.glassfish.internal.data.EngineInfo.clean(EngineInfo.java:114)\r\n    \tat org.glassfish.internal.data.EngineRef.clean(EngineRef.java:171)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle$1.actOn(ApplicationLifecycle.java:224)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:342)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:69)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n\r\nMy app-client main class:\r\n\r\n    public class Main {\r\n    \t\r\n    \t@EJB\r\n    \tprivate static PersonAPIRemote personApi;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;client started...&quot;);\r\n    \t\t\r\n    \t\t//Person p = new Person(3, &quot;lololol&quot;, 456);\r\n    \t\tpersonApi.service();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;client ended...&quot;);\r\n    \t}\r\n    \r\n    \t/* (non-Java-doc)\r\n    \t * @see java.lang.Object#Object()\r\n    \t */\r\n    \tpublic Main() {\r\n    \t\tsuper();\r\n    \t}\r\n\r\nI am using GlassFish Tools Bundle For Eclipse as an IDE.\r\n","title":"Access EJB from Application Client (project configuration)","body":"<p>I know this has been asked before, but i can't find a good answer</p>\n\n<p>So I want to have an client application that calls remote ejbs.</p>\n\n<p>For this i have 2 ear applications.\nOne ear with the ejb module, and another ear with the application client module.\nIn the client module i am trying to inject in the Main() class the EJB with @EJB annotation.</p>\n\n<p><strong>application.xml for the EJB:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;application \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns=\"http://java.sun.com/xml/ns/javaee\"\nxmlns:application=\"http://java.sun.com    /xml/ns/javaee/application_5.xsd\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns    /javaee/application_5.xsd\" id=\"Application_ID\" version=\"5\"&gt;\n  &lt;display-name&gt; \n      MppL4_SERVER&lt;/display-name&gt;\n      &lt;module&gt;\n         &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\n      &lt;/module&gt;\n &lt;/application&gt;\n</code></pre>\n\n<p><strong>application.xml for the app-client:</strong></p>\n\n<pre><code>&lt;application \n  &lt;display-name&gt; \n      MppL4_CLIENT\n  &lt;/display-name&gt;\n  &lt;module&gt;\n     &lt;java&gt;MppL4_CLIENTClient.jar&lt;/java&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n     &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>If i deploy both ears on the Glassfish server i get:</p>\n\n<pre><code>EVERE: Exception while invoking class org.glassfish.ejb.startup.EjbDeployer load method\njava.lang.RuntimeException: EJB Container initialization error\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\n    at org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\n    at org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\n    at com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\n    at com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\n    ... 32 more\nCaused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\n    at com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\n    at javax.naming.InitialContext.bind(InitialContext.java:400)\n    at com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\n    at com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\n    ... 35 more\nCaused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\n    at org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\n    at org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\n    ... 41 more\n\nSEVERE: Exception while loading the app\njava.lang.RuntimeException: EJB Container initialization error\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\n    at org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\n    at org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\n    at com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\n    at com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\n    ... 32 more\nCaused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\n    at com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\n    at javax.naming.InitialContext.bind(InitialContext.java:400)\n    at com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\n    at com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\n    ... 35 more\nCaused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\n    at org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\n    at org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\n    ... 41 more\n\nWARNING: Exception while cleaning module 'org.glassfish.internal.data.EngineRef@1e493eb'java.lang.NullPointerException\njava.lang.NullPointerException\n    at org.glassfish.appclient.server.core.AppClientDeployer.clean(AppClientDeployer.java:265)\n    at org.glassfish.internal.data.EngineInfo.clean(EngineInfo.java:114)\n    at org.glassfish.internal.data.EngineRef.clean(EngineRef.java:171)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle$1.actOn(ApplicationLifecycle.java:224)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:342)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>My app-client main class:</p>\n\n<pre><code>public class Main {\n\n    @EJB\n    private static PersonAPIRemote personApi;\n\n    public static void main(String[] args) {\n        System.out.println(\"client started...\");\n\n        //Person p = new Person(3, \"lololol\", 456);\n        personApi.service();\n\n        System.out.println(\"client ended...\");\n    }\n\n    /* (non-Java-doc)\n     * @see java.lang.Object#Object()\n     */\n    public Main() {\n        super();\n    }\n</code></pre>\n\n<p>I am using GlassFish Tools Bundle For Eclipse as an IDE.</p>\n"},{"tags":["java","android","kotlin","android-download-manager"],"answers":[{"tags":[],"owner":{"account_id":23090339,"reputation":1,"user_id":17201300,"display_name":"Puneet Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689572021,"creation_date":1689572021,"answer_id":76701708,"question_id":76651695,"body_markdown":"To solve this issue, we have to first get the redirected url and give the final redirected url to donwnload manager to download.\r\nThis is the way to solve this issue.\r\n\r\n    @Throws(IOException::class)\r\n    suspend fun getFinalURL1(url: String, totalTimeOut: Long): String {\r\n        return withContext(Dispatchers.IO) {\r\n            if (totalTimeOut &lt; System.currentTimeMillis()) {\r\n                return@withContext url\r\n            }\r\n\r\n            delay(10)\r\n\r\n            val obj = URL(url)\r\n            val con: HttpURLConnection = obj.openConnection() as HttpURLConnection\r\n            con.instanceFollowRedirects = false\r\n            con.connect()\r\n            con.inputStream\r\n            if (con.responseCode == HttpURLConnection.HTTP_MOVED_PERM || con.responseCode == HttpURLConnection.HTTP_MOVED_TEMP) {\r\n                var redirectUrl: String? = con.getHeaderField(&quot;Location&quot;)\r\n\r\n                if (redirectUrl == null) {\r\n                    return@withContext url\r\n                } else if (redirectUrl.startsWith(&quot;/&quot;)) {\r\n                    redirectUrl = obj.protocol.toString() + &quot;://&quot; + obj.host + redirectUrl\r\n                }\r\n\r\n                if (!redirectUrl.startsWith(startsWith, true)) {\r\n                    return@withContext url\r\n                }\r\n\r\n                return@withContext getFinalURL1(redirectUrl, totalTimeOut)\r\n            }\r\n            return@withContext url\r\n        }\r\n    }","title":"Android DownloadManager failed downloading with reason ERROR_TOO_MANY_REDIRECTS, how can I fix this issue for targeting API level 31 or higher?","body":"<p>To solve this issue, we have to first get the redirected url and give the final redirected url to donwnload manager to download.\nThis is the way to solve this issue.</p>\n<pre><code>@Throws(IOException::class)\nsuspend fun getFinalURL1(url: String, totalTimeOut: Long): String {\n    return withContext(Dispatchers.IO) {\n        if (totalTimeOut &lt; System.currentTimeMillis()) {\n            return@withContext url\n        }\n\n        delay(10)\n\n        val obj = URL(url)\n        val con: HttpURLConnection = obj.openConnection() as HttpURLConnection\n        con.instanceFollowRedirects = false\n        con.connect()\n        con.inputStream\n        if (con.responseCode == HttpURLConnection.HTTP_MOVED_PERM || con.responseCode == HttpURLConnection.HTTP_MOVED_TEMP) {\n            var redirectUrl: String? = con.getHeaderField(&quot;Location&quot;)\n\n            if (redirectUrl == null) {\n                return@withContext url\n            } else if (redirectUrl.startsWith(&quot;/&quot;)) {\n                redirectUrl = obj.protocol.toString() + &quot;://&quot; + obj.host + redirectUrl\n            }\n\n            if (!redirectUrl.startsWith(startsWith, true)) {\n                return@withContext url\n            }\n\n            return@withContext getFinalURL1(redirectUrl, totalTimeOut)\n        }\n        return@withContext url\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23090339,"reputation":1,"user_id":17201300,"display_name":"Puneet Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76701708,"answer_count":1,"score":0,"last_activity_date":1689572021,"creation_date":1688975272,"question_id":76651695,"body_markdown":"I am using android.app.DownloadManager for downloading file, but few files failed download, with reason ERROR_TOO_MANY_REDIRECTS,\r\n\r\nI got the reason to failed from below code:\r\n\r\n\r\n```\r\nval reasonIndex = cursor.getColumnIndex(DownloadManager.COLUMN_REASON)\r\nval reason = cursor.getInt(reasonIndex)\r\n\r\n//public final static int ERROR_TOO_MANY_REDIRECTS = 1005;\r\n\r\n// I got same reason 1005\r\n```\r\n\r\n\r\nIs there any way to increase maxRedirect and what is default redirect count?\r\n\r\nHow can I fixed this too many redirect issue?\r\n\r\n\r\nCurrently I am using similar to below code:\r\n\r\n```\r\nval downloadManager: DownloadManager = context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n\r\nfun downloadFile(url: String, path: String, title: String? = null): Long {\r\n        val downloadUri = Uri.parse(url)\r\n        var downloadId: Long\r\n        try {\r\n            val request = DownloadManager.Request(downloadUri).apply {\r\n                setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or     DownloadManager.Request.NETWORK_MOBILE)\r\n                    .setAllowedOverRoaming(false)\r\n                    .setTitle(title ?: &quot;&quot;)\r\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_HIDDEN)\r\n                    .setDestinationUri(Uri.fromFile(File(path)))\r\n\r\n            }\r\n            downloadId = downloadManager?.enqueue(request) ?: -1\r\n            scanMedia(path)\r\n        } catch (exception: Exception) {\r\n            downloadId = -1\r\n        }\r\n        return downloadId\r\n}\r\n```\r\n\r\n\r\nI want to download file from android.app.DownloadManager even if the url redirect to more then 10, 20 or 30 times","title":"Android DownloadManager failed downloading with reason ERROR_TOO_MANY_REDIRECTS, how can I fix this issue for targeting API level 31 or higher?","body":"<p>I am using android.app.DownloadManager for downloading file, but few files failed download, with reason ERROR_TOO_MANY_REDIRECTS,</p>\n<p>I got the reason to failed from below code:</p>\n<pre><code>val reasonIndex = cursor.getColumnIndex(DownloadManager.COLUMN_REASON)\nval reason = cursor.getInt(reasonIndex)\n\n//public final static int ERROR_TOO_MANY_REDIRECTS = 1005;\n\n// I got same reason 1005\n</code></pre>\n<p>Is there any way to increase maxRedirect and what is default redirect count?</p>\n<p>How can I fixed this too many redirect issue?</p>\n<p>Currently I am using similar to below code:</p>\n<pre><code>val downloadManager: DownloadManager = context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n\nfun downloadFile(url: String, path: String, title: String? = null): Long {\n        val downloadUri = Uri.parse(url)\n        var downloadId: Long\n        try {\n            val request = DownloadManager.Request(downloadUri).apply {\n                setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or     DownloadManager.Request.NETWORK_MOBILE)\n                    .setAllowedOverRoaming(false)\n                    .setTitle(title ?: &quot;&quot;)\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_HIDDEN)\n                    .setDestinationUri(Uri.fromFile(File(path)))\n\n            }\n            downloadId = downloadManager?.enqueue(request) ?: -1\n            scanMedia(path)\n        } catch (exception: Exception) {\n            downloadId = -1\n        }\n        return downloadId\n}\n</code></pre>\n<p>I want to download file from android.app.DownloadManager even if the url redirect to more then 10, 20 or 30 times</p>\n"},{"tags":["java","swing","svg","batik","hidpi"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689584161,"post_id":76701591,"comment_id":135228751,"body_markdown":"Maybe something more like [this](https://stackoverflow.com/questions/56618089/java-swing-hidpi-scaling)","body":"Maybe something more like <a href=\"https://stackoverflow.com/questions/56618089/java-swing-hidpi-scaling\">this</a>"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":1,"creation_date":1689596851,"post_id":76701591,"comment_id":135231406,"body_markdown":"For my applications, I use fonts for icons (like Font Awesome). I have my own library that will create a multi resolution image based on the font name and character.","body":"For my applications, I use fonts for icons (like Font Awesome). I have my own library that will create a multi resolution image based on the font name and character."},{"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"score":0,"creation_date":1689621157,"post_id":76701591,"comment_id":135236795,"body_markdown":"@Anthony Hey, that&#39;s a nice idea! I&#39;ll try that! :) Thank you!","body":"@Anthony Hey, that&#39;s a nice idea! I&#39;ll try that! :) Thank you!"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1689710987,"post_id":76701591,"comment_id":135251646,"body_markdown":"@MrSnrub you can start by looking at https://jiconfont.github.io/","body":"@MrSnrub you can start by looking at <a href=\"https://jiconfont.github.io/\" rel=\"nofollow noreferrer\">jiconfont.github.io</a>"},{"owner":{"account_id":16838121,"reputation":952,"user_id":12174160,"display_name":"weisj"},"score":1,"creation_date":1697977575,"post_id":76701591,"comment_id":136344437,"body_markdown":"For non-interactive svg files there are also more lightweight alternatives to Batik e.g. [jsvg](https://github.com/weisJ/jsvg) (Disclaimer: I’m the author of jsvg)","body":"For non-interactive svg files there are also more lightweight alternatives to Batik e.g. <a href=\"https://github.com/weisJ/jsvg\" rel=\"nofollow noreferrer\">jsvg</a> (Disclaimer: I’m the author of jsvg)"}],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1689571229,"creation_date":1689569890,"question_id":76701591,"body_markdown":"I want to make the graphics (icons, logo etc.) of an existing **Java Swing** application look better on **HiDPI** displays with a scale factor larger than 1.0, e.g. my notebook with 14&quot; display and Windows 10 (scale factor 1.5). At the moment, the application uses PNG images, with one resolution per image, e.g. 16x16 pixels for icons. On JButtons etc. these icons look horrible when they are scaled up by Java. \r\n\r\nMy current idea (**A**) to solve that problem (see [[1]] and [[2]] for credits):\r\n1) Replace PNGs with **SVGs**.\r\n2) Include **Apache Batik** in the Swing desktop application (~ 4 megabytes of new JAR dependencies just for that, ughh).\r\n3) Use Batik to rasterize the SVGs **at runtime** to multiple `BufferedImage`s, one for each scale factor (1.0, 1.25, 1.5, ...) to be supported.\r\n4) Put the `BufferedImage`s (e.g. 16x16, 20x20, 24x24, ...) into a standard `BaseMultiResolutionImage`.\r\n\r\nA slightly different idea (**B**) might be:\r\n\r\n3) and 4.: Instead: Extend `AbstractMultiResolutionImage` and overwrite `getResolutionVariant` to rasterize just the requested `destImageWidth`/`destImageHeight` pixel size using Batik (and cache the result with width/height as cache key). This way, any requested `destImageWidth`/`destImageHeight` could be provided exactly. This might be useful, as there seem to be some rounding effects causing dest width or height to differ by 1 or 2 pixels from what I&#39;d expect. \r\n\r\nBoth approaches above require Batik (and its transitive dependencies) as a runtime dependency / to be included in my client distribution. And I&#39;m like: _Do I really want that just because of some simple icons?!_ (= just eye candy)\r\n\r\nTherefore, idea **C**: On my dev system, I might use `rsvg-convert` or Inkscape to &quot;precompile&quot; different resolution PNGs from a source SVG (e.g. 16x16, 20x20, 24x24, ...). Then I include the PNGs (not the source SVG) in my application and build a `BaseMultiResolutionImage` just from the precompiled PNGs. This approach offers the huge advantage of not needing Batik. But it&#39;s more manual work and not as flexible. \r\n\r\n**Question:** Is there maybe a best practice approach or a pure Java solution (maybe in Java 17..20...?) for this as supporting HiDPI seems to be a very common thing? Or what is your solution for this problem? \r\n\r\n\r\n[1]: https://stackoverflow.com/a/56546454/2052584\r\n[2]: https://stackoverflow.com/a/76175224/2052584","title":"Java Swing HiDPI solution for icons - SVG and runtime scaling with Batik? Precompiled PNGs?","body":"<p>I want to make the graphics (icons, logo etc.) of an existing <strong>Java Swing</strong> application look better on <strong>HiDPI</strong> displays with a scale factor larger than 1.0, e.g. my notebook with 14&quot; display and Windows 10 (scale factor 1.5). At the moment, the application uses PNG images, with one resolution per image, e.g. 16x16 pixels for icons. On JButtons etc. these icons look horrible when they are scaled up by Java.</p>\n<p>My current idea (<strong>A</strong>) to solve that problem (see [<a href=\"https://stackoverflow.com/a/56546454/2052584\">1</a>] and [<a href=\"https://stackoverflow.com/a/76175224/2052584\">2</a>] for credits):</p>\n<ol>\n<li>Replace PNGs with <strong>SVGs</strong>.</li>\n<li>Include <strong>Apache Batik</strong> in the Swing desktop application (~ 4 megabytes of new JAR dependencies just for that, ughh).</li>\n<li>Use Batik to rasterize the SVGs <strong>at runtime</strong> to multiple <code>BufferedImage</code>s, one for each scale factor (1.0, 1.25, 1.5, ...) to be supported.</li>\n<li>Put the <code>BufferedImage</code>s (e.g. 16x16, 20x20, 24x24, ...) into a standard <code>BaseMultiResolutionImage</code>.</li>\n</ol>\n<p>A slightly different idea (<strong>B</strong>) might be:</p>\n<ol start=\"3\">\n<li>and 4.: Instead: Extend <code>AbstractMultiResolutionImage</code> and overwrite <code>getResolutionVariant</code> to rasterize just the requested <code>destImageWidth</code>/<code>destImageHeight</code> pixel size using Batik (and cache the result with width/height as cache key). This way, any requested <code>destImageWidth</code>/<code>destImageHeight</code> could be provided exactly. This might be useful, as there seem to be some rounding effects causing dest width or height to differ by 1 or 2 pixels from what I'd expect.</li>\n</ol>\n<p>Both approaches above require Batik (and its transitive dependencies) as a runtime dependency / to be included in my client distribution. And I'm like: <em>Do I really want that just because of some simple icons?!</em> (= just eye candy)</p>\n<p>Therefore, idea <strong>C</strong>: On my dev system, I might use <code>rsvg-convert</code> or Inkscape to &quot;precompile&quot; different resolution PNGs from a source SVG (e.g. 16x16, 20x20, 24x24, ...). Then I include the PNGs (not the source SVG) in my application and build a <code>BaseMultiResolutionImage</code> just from the precompiled PNGs. This approach offers the huge advantage of not needing Batik. But it's more manual work and not as flexible.</p>\n<p><strong>Question:</strong> Is there maybe a best practice approach or a pure Java solution (maybe in Java 17..20...?) for this as supporting HiDPI seems to be a very common thing? Or what is your solution for this problem?</p>\n"},{"tags":["java","for-loop","boolean-logic","boolean-expression"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689568943,"creation_date":1689568943,"answer_id":76701534,"question_id":76701526,"body_markdown":"The first function returns `true` for a String like `&quot;xaxx&quot;`, where the **second** x is followed by another x, but the first x is not.\r\n\r\nIt keeps checking subsequent characters if the first x is not followed by an x, instead of stopping when the first x is reached.","title":"Boolean Logic and For Loops","body":"<p>The first function returns <code>true</code> for a String like <code>&quot;xaxx&quot;</code>, where the <strong>second</strong> x is followed by another x, but the first x is not.</p>\n<p>It keeps checking subsequent characters if the first x is not followed by an x, instead of stopping when the first x is reached.</p>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689569324,"creation_date":1689569324,"answer_id":76701557,"question_id":76701526,"body_markdown":"You can re-write first code as below:\r\n\r\n    boolean doubleX(String str) {\r\n      for(int i =0; i&lt;str.length()-1; i++){\r\n          if(str.charAt(i)==&#39;x&#39;) {\r\n              if(str.charAt(i+1)==&#39;x&#39;) { \r\n                return true;\r\n              }\r\n          }\r\n      }\r\n      return false;\r\n    }\r\n\r\nNow probably you understand the difference. This first code returns &#39;true&#39; for first occurrence of &#39;x&#39; only if second occurrence of &#39;x&#39; is received immediately at i+1. There is no &#39;false&#39; return there.\r\n\r\nWhile the second code always returns after first occurrence of x&#39; as either `true` or `false`, no matter if another &#39;x&#39; is received at i+1 or not.","title":"Boolean Logic and For Loops","body":"<p>You can re-write first code as below:</p>\n<pre><code>boolean doubleX(String str) {\n  for(int i =0; i&lt;str.length()-1; i++){\n      if(str.charAt(i)=='x') {\n          if(str.charAt(i+1)=='x') { \n            return true;\n          }\n      }\n  }\n  return false;\n}\n</code></pre>\n<p>Now probably you understand the difference. This first code returns 'true' for first occurrence of 'x' only if second occurrence of 'x' is received immediately at i+1. There is no 'false' return there.</p>\n<p>While the second code always returns after first occurrence of x' as either <code>true</code> or <code>false</code>, no matter if another 'x' is received at i+1 or not.</p>\n"}],"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1689571196,"creation_date":1689568841,"question_id":76701526,"body_markdown":"I was wondering if those familiar with codingbat&#39;s problems might be able to help me with understanding the differences between these two solutions and why one doesn&#39;t work.\r\nThe problem:\r\nGiven a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;.\r\n\r\nWhy does the first code exit immediately after evaluating the first condition, while the other continues through the for loop? What is the difference between them?\r\n\r\nI thought the following code would do the trick: \r\n```\r\nboolean doubleX(String str) {\r\n  for(int i =0; i&lt;str.length()-1; i++){\r\n\tif(str.charAt(i)==&#39;x&#39; &amp;&amp; str.charAt(i+1)==&#39;x&#39;)\r\n\treturn true;\r\n  }\r\n  return false;\r\n}\r\n```\r\nHowever this code only evaluates true when the first x is followed by an x. However the following code does solve the problem: \r\n```\r\n boolean doubleX(String str) {\r\n\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\tif (str.charAt(i) == &#39;x&#39;) {\r\n\t\t\tif (str.charAt(i + 1) == &#39;x&#39;) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n\t}\r\n```","title":"Boolean Logic and For Loops","body":"<p>I was wondering if those familiar with codingbat's problems might be able to help me with understanding the differences between these two solutions and why one doesn't work.\nThe problem:\nGiven a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;.</p>\n<p>Why does the first code exit immediately after evaluating the first condition, while the other continues through the for loop? What is the difference between them?</p>\n<p>I thought the following code would do the trick:</p>\n<pre><code>boolean doubleX(String str) {\n  for(int i =0; i&lt;str.length()-1; i++){\n    if(str.charAt(i)=='x' &amp;&amp; str.charAt(i+1)=='x')\n    return true;\n  }\n  return false;\n}\n</code></pre>\n<p>However this code only evaluates true when the first x is followed by an x. However the following code does solve the problem:</p>\n<pre><code> boolean doubleX(String str) {\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if (str.charAt(i) == 'x') {\n            if (str.charAt(i + 1) == 'x') {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    return false;\n    }\n</code></pre>\n"},{"tags":["java","cdi","quarkus","interceptor"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1689514505,"post_id":76698098,"comment_id":135221314,"body_markdown":"This is not possible. In CDI, annotations on methods are never inherited, just like in the Java language itself. This includes annotations on methods of superclasses and superinterfaces, and applies to all cases where annotations on methods are considered by CDI, including interceptors.","body":"This is not possible. In CDI, annotations on methods are never inherited, just like in the Java language itself. This includes annotations on methods of superclasses and superinterfaces, and applies to all cases where annotations on methods are considered by CDI, including interceptors."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689517966,"post_id":76698098,"comment_id":135221742,"body_markdown":"@Ladicek that sounds like a proper answer instead of a comment :)","body":"@Ladicek that sounds like a proper answer instead of a comment :)"},{"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"score":0,"creation_date":1689571258,"post_id":76698098,"comment_id":135226620,"body_markdown":"@Ladicek thanks for your reply, but this approach correctly worked for abstract class. I update my question.","body":"@Ladicek thanks for your reply, but this approach correctly worked for abstract class. I update my question."},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1689587033,"post_id":76698098,"comment_id":135229330,"body_markdown":"My bad, I thought you&#39;re annotating the _method_. Still, the essence of my answer holds. The CDI rules for annotation inheritance [mostly] follow the Java language rules for annotation inheritance. That is: annotations are inherited 1. only on a class declaration (nowhere else), 2. only from superclasses (not from superinterfaces). So your approach with an `abstract` class works, because the annotation is present on a superclass. (We actually intentionally have a bug in Quarkus / ArC where we consider an annotation inherited even if it isn&#39;t `@Inherited`, but we&#39;ll fix that one day.)","body":"My bad, I thought you&#39;re annotating the <i>method</i>. Still, the essence of my answer holds. The CDI rules for annotation inheritance [mostly] follow the Java language rules for annotation inheritance. That is: annotations are inherited 1. only on a class declaration (nowhere else), 2. only from superclasses (not from superinterfaces). So your approach with an <code>abstract</code> class works, because the annotation is present on a superclass. (We actually intentionally have a bug in Quarkus / ArC where we consider an annotation inherited even if it isn&#39;t <code>@Inherited</code>, but we&#39;ll fix that one day.)"},{"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"score":0,"creation_date":1699458862,"post_id":76698098,"comment_id":136534766,"body_markdown":"@Ladicek does this somewhow related to the issued reported in https://github.com/quarkusio/quarkus/issues/23956 ?!","body":"@Ladicek does this somewhow related to the issued reported in <a href=\"https://github.com/quarkusio/quarkus/issues/23956\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/23956</a> ?!"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1699477618,"post_id":76698098,"comment_id":136538278,"body_markdown":"That seems unlikely, JAX-RS implementations do their own discovery and have different annotation inheritance rules than CDI.","body":"That seems unlikely, JAX-RS implementations do their own discovery and have different annotation inheritance rules than CDI."}],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689571165,"creation_date":1689508149,"question_id":76698098,"body_markdown":"In my working on an application using Quarkus and I want to intercept a method of an interface. I tried the following but its not working:\r\n\r\n1. First of all I define an annotation:\r\n\r\n```\r\n@Target({ TYPE, METHOD })\r\n@Retention(RUNTIME)\r\n@Documented\r\n@InterceptorBinding\r\npublic @interface EnableLogging {\r\n}\r\n```\r\n\r\n2. Define the interceptor and annotating it with `EnableLogging`:\r\n \r\n```\r\n@Priority(10)\r\n@Interceptor\r\n@EnableLogging\r\npublic class LogInterceptor {\r\n\r\n    @AroundInvoke\r\n    public Object aroundInvoke(InvocationContext context) throws Exception {\r\n        //do logging\r\n        return context.proceed();\r\n    }\r\n}\r\n```\r\n\r\n3. Create an interface and its implementation which I want to intercept. **My main goal is that I want to annotate the interface not its implementation**. Something like bellow:\r\n\r\n```\r\n@EnableLogging\r\npublic interface DummyService {\r\n\r\n    void successfulCall();\r\n}\r\n```\r\n\r\n    @ApplicationScoped\r\n    public class DummyServiceImpl implement DummyClient  {\r\n    \r\n        void successfulCall(){\r\n             // do something\r\n        }\r\n    }\r\n\r\nhowever, with above implementation, I did not catch `aroundInvoke` method.\r\n\r\n**UPDATE:**\r\n\r\nBased on @Ladicek answer, I take this approach for abstract class and it totally worked!\r\n\r\n    @EnableLogging\r\n    public abstract class DummyService {\r\n    \r\n        public abstract void successfulCall();\r\n    }\r\n\r\nCould someone help me, please?\r\n\r\n","title":"Is it possible to define an interceptor on an interface in Quarkus?","body":"<p>In my working on an application using Quarkus and I want to intercept a method of an interface. I tried the following but its not working:</p>\n<ol>\n<li>First of all I define an annotation:</li>\n</ol>\n<pre><code>@Target({ TYPE, METHOD })\n@Retention(RUNTIME)\n@Documented\n@InterceptorBinding\npublic @interface EnableLogging {\n}\n</code></pre>\n<ol start=\"2\">\n<li>Define the interceptor and annotating it with <code>EnableLogging</code>:</li>\n</ol>\n<pre><code>@Priority(10)\n@Interceptor\n@EnableLogging\npublic class LogInterceptor {\n\n    @AroundInvoke\n    public Object aroundInvoke(InvocationContext context) throws Exception {\n        //do logging\n        return context.proceed();\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Create an interface and its implementation which I want to intercept. <strong>My main goal is that I want to annotate the interface not its implementation</strong>. Something like bellow:</li>\n</ol>\n<pre><code>@EnableLogging\npublic interface DummyService {\n\n    void successfulCall();\n}\n</code></pre>\n<pre><code>@ApplicationScoped\npublic class DummyServiceImpl implement DummyClient  {\n\n    void successfulCall(){\n         // do something\n    }\n}\n</code></pre>\n<p>however, with above implementation, I did not catch <code>aroundInvoke</code> method.</p>\n<p><strong>UPDATE:</strong></p>\n<p>Based on @Ladicek answer, I take this approach for abstract class and it totally worked!</p>\n<pre><code>@EnableLogging\npublic abstract class DummyService {\n\n    public abstract void successfulCall();\n}\n</code></pre>\n<p>Could someone help me, please?</p>\n"},{"tags":["java","xml","xml-serialization","jaxb","xmlunit"],"answers":[{"tags":[],"owner":{"account_id":44204,"reputation":9823,"user_id":129599,"accept_rate":100,"display_name":"Ophidian"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1299686989,"creation_date":1299686989,"answer_id":5248574,"question_id":5248517,"body_markdown":"You can relax some of the constraints used by XMLUnit when comparing to trees by setting properties on the `org.custommonkey.xmlunit.XMLUnit` class.\r\n\r\nIn your case, you probably want:\r\n\r\n    XMLUnit.setIgnoreComments(true);\r\n    XMLUnit.setIgnoreWhitespace(true);\r\n    XMLUnit.setIgnoreDiffBetweenTextAndCDATA(true);\r\n\r\nYou may also find the `setIgnoredAttributeOrder` property helpful as well. ","title":"XMLUnit - Xml file indentation impacts on comparison","body":"<p>You can relax some of the constraints used by XMLUnit when comparing to trees by setting properties on the <code>org.custommonkey.xmlunit.XMLUnit</code> class.</p>\n\n<p>In your case, you probably want:</p>\n\n<pre><code>XMLUnit.setIgnoreComments(true);\nXMLUnit.setIgnoreWhitespace(true);\nXMLUnit.setIgnoreDiffBetweenTextAndCDATA(true);\n</code></pre>\n\n<p>You may also find the <code>setIgnoredAttributeOrder</code> property helpful as well. </p>\n"},{"tags":[],"owner":{"account_id":12610494,"reputation":1,"user_id":9169826,"display_name":"Mahavir Chordiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689569607,"creation_date":1689569607,"answer_id":76701577,"question_id":5248517,"body_markdown":"Below is code to compare xml files\r\n\r\n\r\n    import org.w3c.dom.*;\r\n    import javax.xml.parsers.*;\r\n    import java.io.*;\r\n    public class XMLComparator {\r\n    public static void main(String[] args) {\r\n        String xmlFile1 = &quot;file1.xml&quot;;\r\n        String xmlFile2 = &quot;file2.xml&quot;;\r\n        \r\n        try {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n            // Parse XML files into Document objects\r\n            Document doc1 = builder.parse(new File(xmlFile1));\r\n            Document doc2 = builder.parse(new File(xmlFile2));\r\n\r\n            // Compare the documents\r\n            boolean isEqual = compareXML(doc1.getDocumentElement(), doc2.getDocumentElement());\r\n            \r\n            if (isEqual) {\r\n                System.out.println(&quot;The XML files are equivalent.&quot;);\r\n            } else {\r\n                System.out.println(&quot;The XML files are not equivalent.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static boolean compareXML(Node node1, Node node2) {\r\n        if (node1.getNodeType() != node2.getNodeType()) {\r\n            return false;\r\n        }\r\n\r\n        if (node1.getNodeType() == Node.ELEMENT_NODE) {\r\n            if (!node1.getNodeName().equals(node2.getNodeName())) {\r\n                return false;\r\n            }\r\n\r\n            NamedNodeMap attrs1 = node1.getAttributes();\r\n            NamedNodeMap attrs2 = node2.getAttributes();\r\n            if (attrs1.getLength() != attrs2.getLength()) {\r\n                return false;\r\n            }\r\n\r\n            for (int i = 0; i &lt; attrs1.getLength(); i++) {\r\n                Node attr1 = attrs1.item(i);\r\n                Node attr2 = attrs2.getNamedItem(attr1.getNodeName());\r\n                if (attr2 == null || !attr2.getNodeValue().equals(attr1.getNodeValue())) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        NodeList children1 = node1.getChildNodes();\r\n        NodeList children2 = node2.getChildNodes();\r\n        if (children1.getLength() != children2.getLength()) {\r\n            return false;\r\n        }\r\n\r\n        for (int i = 0; i &lt; children1.getLength(); i++) {\r\n            Node child1 = children1.item(i);\r\n            boolean matched = false;\r\n            for (int j = 0; j &lt; children2.getLength(); j++) {\r\n                Node child2 = children2.item(j);\r\n                if (compareXML(child1, child2)) {\r\n                    matched = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!matched) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n    }\r\n","title":"XMLUnit - Xml file indentation impacts on comparison","body":"<p>Below is code to compare xml files</p>\n<pre><code>import org.w3c.dom.*;\nimport javax.xml.parsers.*;\nimport java.io.*;\npublic class XMLComparator {\npublic static void main(String[] args) {\n    String xmlFile1 = &quot;file1.xml&quot;;\n    String xmlFile2 = &quot;file2.xml&quot;;\n    \n    try {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n\n        // Parse XML files into Document objects\n        Document doc1 = builder.parse(new File(xmlFile1));\n        Document doc2 = builder.parse(new File(xmlFile2));\n\n        // Compare the documents\n        boolean isEqual = compareXML(doc1.getDocumentElement(), doc2.getDocumentElement());\n        \n        if (isEqual) {\n            System.out.println(&quot;The XML files are equivalent.&quot;);\n        } else {\n            System.out.println(&quot;The XML files are not equivalent.&quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static boolean compareXML(Node node1, Node node2) {\n    if (node1.getNodeType() != node2.getNodeType()) {\n        return false;\n    }\n\n    if (node1.getNodeType() == Node.ELEMENT_NODE) {\n        if (!node1.getNodeName().equals(node2.getNodeName())) {\n            return false;\n        }\n\n        NamedNodeMap attrs1 = node1.getAttributes();\n        NamedNodeMap attrs2 = node2.getAttributes();\n        if (attrs1.getLength() != attrs2.getLength()) {\n            return false;\n        }\n\n        for (int i = 0; i &lt; attrs1.getLength(); i++) {\n            Node attr1 = attrs1.item(i);\n            Node attr2 = attrs2.getNamedItem(attr1.getNodeName());\n            if (attr2 == null || !attr2.getNodeValue().equals(attr1.getNodeValue())) {\n                return false;\n            }\n        }\n    }\n\n    NodeList children1 = node1.getChildNodes();\n    NodeList children2 = node2.getChildNodes();\n    if (children1.getLength() != children2.getLength()) {\n        return false;\n    }\n\n    for (int i = 0; i &lt; children1.getLength(); i++) {\n        Node child1 = children1.item(i);\n        boolean matched = false;\n        for (int j = 0; j &lt; children2.getLength(); j++) {\n            Node child2 = children2.item(j);\n            if (compareXML(child1, child2)) {\n                matched = true;\n                break;\n            }\n        }\n        if (!matched) {\n            return false;\n        }\n    }\n\n    return true;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":49768,"reputation":1823,"user_id":148332,"accept_rate":83,"display_name":"reef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4364,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5248574,"answer_count":2,"score":15,"last_activity_date":1689569607,"creation_date":1299686707,"question_id":5248517,"body_markdown":"I am currently trying to use the [XMLUnit][1] library to compare two XML files.\r\nOne of them, the **candidate**, is generated by my code from Java Objects (using JAXB) and the other one is the **reference** (I cannot modify it).\r\nBasically I am trying to prove that given a reference XML file I can unserialize it (using Jaxb and some classes of my own) then serialize it back to another file and still have the same content.\r\n\r\nThe library seems to furnish the services I need but when the generated file is not properly indented (in kind of a &quot;pretty-print&quot; version) the comparison fails and it doesn&#39;t when indentation is OK.\r\nFor example when the **candidate** is generated there is no indentation, the content is a one-liner, if a indent it properly (manually) the comparison is OK.\r\n\r\nHere is the error message generated by XMLUnit:\r\n\r\n&gt; [different] Expected number of child\r\n&gt; nodes &#39;3&#39; but was &#39;1&#39;\r\n\r\nDo you guys have any idea to solve this?\r\nMaybe the solution is to generate a pretty-print version of the **candidate**, in this case do you have an idea to combine it with the JAXB serialiser?\r\n\r\n\r\nBy the way if you now a better solution in Java to compare XML files I&#39;ll be glad to know it ;)\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n\r\n  [1]: http://xmlunit.sourceforge.net/","title":"XMLUnit - Xml file indentation impacts on comparison","body":"<p>I am currently trying to use the <a href=\"http://xmlunit.sourceforge.net/\" rel=\"noreferrer\">XMLUnit</a> library to compare two XML files.\nOne of them, the <strong>candidate</strong>, is generated by my code from Java Objects (using JAXB) and the other one is the <strong>reference</strong> (I cannot modify it).\nBasically I am trying to prove that given a reference XML file I can unserialize it (using Jaxb and some classes of my own) then serialize it back to another file and still have the same content.</p>\n\n<p>The library seems to furnish the services I need but when the generated file is not properly indented (in kind of a \"pretty-print\" version) the comparison fails and it doesn't when indentation is OK.\nFor example when the <strong>candidate</strong> is generated there is no indentation, the content is a one-liner, if a indent it properly (manually) the comparison is OK.</p>\n\n<p>Here is the error message generated by XMLUnit:</p>\n\n<blockquote>\n  <p>[different] Expected number of child\n  nodes '3' but was '1'</p>\n</blockquote>\n\n<p>Do you guys have any idea to solve this?\nMaybe the solution is to generate a pretty-print version of the <strong>candidate</strong>, in this case do you have an idea to combine it with the JAXB serialiser?</p>\n\n<p>By the way if you now a better solution in Java to compare XML files I'll be glad to know it ;)</p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","spring","spring-boot","circular-dependency"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689569040,"creation_date":1689569040,"answer_id":76701542,"question_id":76700839,"body_markdown":"**Problem**\r\n```\r\npublic static ProjectDTO mapProjectToDTO(Project projectToMap) {\r\n    List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\r\n                    .stream()\r\n                    ====&gt;&gt; .map(VolunteerMapper::mapVolunteerToDTO) &lt;&lt;===\r\n                    .collect(Collectors.toList());\r\n}\r\n```\r\n```\r\n public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\r\n     List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\r\n            .stream()\r\n           ====&gt;&gt; .map(ProjectMapper::mapProjectToDTO) &lt;&lt;====\r\n            .collect(Collectors.toList());\r\n}\r\n```\r\nmapProjectToDto calls mapVolunteerToDTO which calls mapProjectToDto again.\r\n\r\nyou can break that circle in different ways depending on your business case\r\n\r\n1- make VolunteerDto without a list of ProjectDto and whenever you need such list you can fetch it using VolunteerDto Id\r\n\r\n2- make ProjectDto without list of VolunteerDto (same like 1)\r\n\r\n3- make VolunteerDto contains list of Project **Ids** intead of list of ProjectDTOs\r\n\r\n4- make ProjectDTO contain list of VolunteerIds instead of VolunteerDtos\r\n\r\nI would prefer 3rd, but it&#39;s all depending on your business case","title":"Mappers&#39; circular dependency","body":"<p><strong>Problem</strong></p>\n<pre><code>public static ProjectDTO mapProjectToDTO(Project projectToMap) {\n    List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\n                    .stream()\n                    ====&gt;&gt; .map(VolunteerMapper::mapVolunteerToDTO) &lt;&lt;===\n                    .collect(Collectors.toList());\n}\n</code></pre>\n<pre><code> public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\n     List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\n            .stream()\n           ====&gt;&gt; .map(ProjectMapper::mapProjectToDTO) &lt;&lt;====\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>mapProjectToDto calls mapVolunteerToDTO which calls mapProjectToDto again.</p>\n<p>you can break that circle in different ways depending on your business case</p>\n<p>1- make VolunteerDto without a list of ProjectDto and whenever you need such list you can fetch it using VolunteerDto Id</p>\n<p>2- make ProjectDto without list of VolunteerDto (same like 1)</p>\n<p>3- make VolunteerDto contains list of Project <strong>Ids</strong> intead of list of ProjectDTOs</p>\n<p>4- make ProjectDTO contain list of VolunteerIds instead of VolunteerDtos</p>\n<p>I would prefer 3rd, but it's all depending on your business case</p>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76701542,"answer_count":1,"score":0,"last_activity_date":1689569040,"creation_date":1689551752,"question_id":76700839,"body_markdown":"I have two classes with two  types of relations - one is ```@ManyToMany``` and the other one is ```@OneToMany``` (one relates to ```Project``` - ```Members of project``` relationship and the other is related with ```Project``` - ```Owner of project``` where owner is the same type as members). I had problem with infinite recursion in controller but soon, I managed to resolve this issue with usage of ```@JsonIdentityInfo```. But then I realized that one of classes shows too much information about client&#39;s data - passwords, usernames, etc., so i created DTO objects and implemented logic for mapping original objects to DTOs. Logic was simple - return DTOs so I control exposed data.\r\n\r\nBut there is a problem - if I create mapper for first class to map its&#39; objects into DTOs, then second class must be mapped to DTOs too. But - regarding to provided example - second class must also expose information about its&#39; owner, so we need to simultaneously map first class and second. It creates circular dependency problem.\r\n\r\nMapper classes:\r\n\r\n```\r\npublic class ProjectMapper {\r\n\r\n    public static ProjectDTO mapProjectToDTO(Project projectToMap) {\r\n\r\n        ProjectDTO newDTO = new ProjectDTO();\r\n\r\n        List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\r\n                        .stream()\r\n                                .map(VolunteerMapper::mapVolunteerToDTO)\r\n                                        .collect(Collectors.toList());\r\n\r\n        newDTO.setProjectName(projectToMap.getProjectName());\r\n        newDTO.setProjectDescription(projectToMap.getProjectDesription());\r\n        newDTO.setProjectLocation(projectToMap.getProjectLocation());\r\n        newDTO.setProjectStatus(projectToMap.isProjectStatus());\r\n        newDTO.setProjectDate(projectToMap.getProjectDate());\r\n        newDTO.setProjectOpinions(projectToMap.getProjectOpinions());\r\n        newDTO.setProjectOwner(VolunteerMapper.mapVolunteerToDTO(projectToMap.getOwnerVolunteer()));\r\n        newDTO.setProjectVolunteers(listOfDTOs);\r\n        newDTO.setTasks(projectToMap.getTasks());\r\n        newDTO.setRequiredSkills(projectToMap.getRequiredSkills());\r\n\r\n        return newDTO;\r\n    }\r\n\r\n    public static void mapPropertiesToProject(Project sourceProject, Project targetProject) {\r\n\r\n        targetProject.setProjectName(sourceProject.getProjectName());\r\n        targetProject.setProjectDate(sourceProject.getProjectDate());\r\n        targetProject.setProjectVolunteers(sourceProject.getProjectVolunteers());\r\n        targetProject.setProjectDesription(sourceProject.getProjectDesription());\r\n        targetProject.setProjectLocation(sourceProject.getProjectLocation());\r\n        targetProject.setProjectOpinions(sourceProject.getProjectOpinions());\r\n        targetProject.setProjectStatus(sourceProject.isProjectStatus());\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class VolunteerMapper {\r\n\r\n    public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\r\n\r\n        VolunteerDTO newDTO = new VolunteerDTO();\r\n\r\n        List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\r\n                .stream()\r\n                .map(ProjectMapper::mapProjectToDTO)\r\n                .collect(Collectors.toList());\r\n\r\n        newDTO.setName(volunteerToMap.getName());\r\n        newDTO.setSurname(volunteerToMap.getSurname());\r\n        newDTO.setDateOfBirth(volunteerToMap.getDateOfBirth());\r\n        newDTO.setContact(volunteerToMap.getContact());\r\n        newDTO.setSkills(volunteerToMap.getSkills());\r\n        newDTO.setProjects(listOfDTOs);\r\n        newDTO.setReputation(volunteerToMap.getReputation());\r\n        newDTO.setInterests(volunteerToMap.getInterests());\r\n\r\n        return newDTO;\r\n    }\r\n\r\n    public static void mapPropertiesToVolunteer(Volunteer sourceVolunteer, Volunteer targetVolunteer) {\r\n\r\n        targetVolunteer.setName(sourceVolunteer.getName());\r\n        targetVolunteer.setSurname(sourceVolunteer.getSurname());\r\n        targetVolunteer.setDateOfBirth(sourceVolunteer.getDateOfBirth());\r\n        targetVolunteer.setContact(sourceVolunteer.getContact());\r\n        targetVolunteer.setSkills(sourceVolunteer.getSkills());\r\n        targetVolunteer.setParticipatingProjects(sourceVolunteer.getParticipatingProjects());\r\n        targetVolunteer.setReputation(sourceVolunteer.getReputation());\r\n        targetVolunteer.setInterests(sourceVolunteer.getInterests());\r\n\r\n    }\r\n}\r\n```\r\n\r\nModel classes:\r\n```\r\n@Data\r\npublic class ProjectDTO {\r\n\r\n    private String projectName;\r\n    private String projectDescription;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate projectDate;\r\n\r\n    private List&lt;VolunteerDTO&gt; projectVolunteers;\r\n    private VolunteerDTO projectOwner;\r\n    private String projectLocation;\r\n    private List&lt;String&gt; requiredSkills;\r\n    private boolean projectStatus;\r\n    private List&lt;Opinion&gt; projectOpinions;\r\n    private List&lt;String&gt; tasks;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\npublic class VolunteerDTO {\r\n\r\n    private String name;\r\n    private String surname;\r\n    private LocalDate dateOfBirth;\r\n    private String contact;\r\n    private List&lt;String&gt; skills;\r\n    private List&lt;ProjectDTO&gt; projects;\r\n    private Integer reputation;\r\n    private List&lt;String&gt; interests;\r\n\r\n}\r\n```","title":"Mappers&#39; circular dependency","body":"<p>I have two classes with two  types of relations - one is <code>@ManyToMany</code> and the other one is <code>@OneToMany</code> (one relates to <code>Project</code> - <code>Members of project</code> relationship and the other is related with <code>Project</code> - <code>Owner of project</code> where owner is the same type as members). I had problem with infinite recursion in controller but soon, I managed to resolve this issue with usage of <code>@JsonIdentityInfo</code>. But then I realized that one of classes shows too much information about client's data - passwords, usernames, etc., so i created DTO objects and implemented logic for mapping original objects to DTOs. Logic was simple - return DTOs so I control exposed data.</p>\n<p>But there is a problem - if I create mapper for first class to map its' objects into DTOs, then second class must be mapped to DTOs too. But - regarding to provided example - second class must also expose information about its' owner, so we need to simultaneously map first class and second. It creates circular dependency problem.</p>\n<p>Mapper classes:</p>\n<pre><code>public class ProjectMapper {\n\n    public static ProjectDTO mapProjectToDTO(Project projectToMap) {\n\n        ProjectDTO newDTO = new ProjectDTO();\n\n        List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\n                        .stream()\n                                .map(VolunteerMapper::mapVolunteerToDTO)\n                                        .collect(Collectors.toList());\n\n        newDTO.setProjectName(projectToMap.getProjectName());\n        newDTO.setProjectDescription(projectToMap.getProjectDesription());\n        newDTO.setProjectLocation(projectToMap.getProjectLocation());\n        newDTO.setProjectStatus(projectToMap.isProjectStatus());\n        newDTO.setProjectDate(projectToMap.getProjectDate());\n        newDTO.setProjectOpinions(projectToMap.getProjectOpinions());\n        newDTO.setProjectOwner(VolunteerMapper.mapVolunteerToDTO(projectToMap.getOwnerVolunteer()));\n        newDTO.setProjectVolunteers(listOfDTOs);\n        newDTO.setTasks(projectToMap.getTasks());\n        newDTO.setRequiredSkills(projectToMap.getRequiredSkills());\n\n        return newDTO;\n    }\n\n    public static void mapPropertiesToProject(Project sourceProject, Project targetProject) {\n\n        targetProject.setProjectName(sourceProject.getProjectName());\n        targetProject.setProjectDate(sourceProject.getProjectDate());\n        targetProject.setProjectVolunteers(sourceProject.getProjectVolunteers());\n        targetProject.setProjectDesription(sourceProject.getProjectDesription());\n        targetProject.setProjectLocation(sourceProject.getProjectLocation());\n        targetProject.setProjectOpinions(sourceProject.getProjectOpinions());\n        targetProject.setProjectStatus(sourceProject.isProjectStatus());\n\n    }\n}\n</code></pre>\n<pre><code>public class VolunteerMapper {\n\n    public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\n\n        VolunteerDTO newDTO = new VolunteerDTO();\n\n        List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\n                .stream()\n                .map(ProjectMapper::mapProjectToDTO)\n                .collect(Collectors.toList());\n\n        newDTO.setName(volunteerToMap.getName());\n        newDTO.setSurname(volunteerToMap.getSurname());\n        newDTO.setDateOfBirth(volunteerToMap.getDateOfBirth());\n        newDTO.setContact(volunteerToMap.getContact());\n        newDTO.setSkills(volunteerToMap.getSkills());\n        newDTO.setProjects(listOfDTOs);\n        newDTO.setReputation(volunteerToMap.getReputation());\n        newDTO.setInterests(volunteerToMap.getInterests());\n\n        return newDTO;\n    }\n\n    public static void mapPropertiesToVolunteer(Volunteer sourceVolunteer, Volunteer targetVolunteer) {\n\n        targetVolunteer.setName(sourceVolunteer.getName());\n        targetVolunteer.setSurname(sourceVolunteer.getSurname());\n        targetVolunteer.setDateOfBirth(sourceVolunteer.getDateOfBirth());\n        targetVolunteer.setContact(sourceVolunteer.getContact());\n        targetVolunteer.setSkills(sourceVolunteer.getSkills());\n        targetVolunteer.setParticipatingProjects(sourceVolunteer.getParticipatingProjects());\n        targetVolunteer.setReputation(sourceVolunteer.getReputation());\n        targetVolunteer.setInterests(sourceVolunteer.getInterests());\n\n    }\n}\n</code></pre>\n<p>Model classes:</p>\n<pre><code>@Data\npublic class ProjectDTO {\n\n    private String projectName;\n    private String projectDescription;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate projectDate;\n\n    private List&lt;VolunteerDTO&gt; projectVolunteers;\n    private VolunteerDTO projectOwner;\n    private String projectLocation;\n    private List&lt;String&gt; requiredSkills;\n    private boolean projectStatus;\n    private List&lt;Opinion&gt; projectOpinions;\n    private List&lt;String&gt; tasks;\n}\n</code></pre>\n<pre><code>@Data\npublic class VolunteerDTO {\n\n    private String name;\n    private String surname;\n    private LocalDate dateOfBirth;\n    private String contact;\n    private List&lt;String&gt; skills;\n    private List&lt;ProjectDTO&gt; projects;\n    private Integer reputation;\n    private List&lt;String&gt; interests;\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-ec2"],"comments":[{"owner":{"account_id":16237014,"reputation":424,"user_id":11724269,"display_name":"Vasyl Herman"},"score":0,"creation_date":1689574212,"post_id":76701487,"comment_id":135226973,"body_markdown":"Hi. What instance type?","body":"Hi. What instance type?"},{"owner":{"account_id":28342004,"reputation":43,"user_id":21674853,"display_name":"Nithin_Kamineni"},"score":0,"creation_date":1689609514,"post_id":76701487,"comment_id":135234394,"body_markdown":"T2 micro, I have chosen all free tier options for launching the instance.","body":"T2 micro, I have chosen all free tier options for launching the instance."},{"owner":{"account_id":16237014,"reputation":424,"user_id":11724269,"display_name":"Vasyl Herman"},"score":0,"creation_date":1689610721,"post_id":76701487,"comment_id":135234633,"body_markdown":"I think `t2.micro` is too slow to run Java and build a typical SPA, that is why you are freezing. I&#39;d recommend stopping instance, changing instance `t2.large` and testing for an hour. You won&#39;t be charged for 1 hour. LMK.","body":"I think <code>t2.micro</code> is too slow to run Java and build a typical SPA, that is why you are freezing. I&#39;d recommend stopping instance, changing instance <code>t2.large</code> and testing for an hour. You won&#39;t be charged for 1 hour. LMK."}],"owner":{"account_id":28342004,"reputation":43,"user_id":21674853,"display_name":"Nithin_Kamineni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689567988,"creation_date":1689567988,"question_id":76701487,"body_markdown":"I am trying to run an application with Spring boot(Java-17) as my back end and React as my front end. Both front end and back files are running smoothly when I run them locally with &#39;docker-compose up&#39;. When I run the same docker file by adjusting small configurations(SSL certificates) which are not the problem, the whole EC2 instance is freezing and not responding(even the front end doesn&#39;t work one the EC2 instances freezes). As soon as I tried to request the backend the whole EC2 instance froze and the only way to start it again was to stop the instance completely and start it again.\r\n\r\n\r\nI used maven to clean package my project using &#39;mvn clean package&#39; which creates a jar file. I am using that jar file to run the docker file for my server-side using that jar file. I think I am not supposed to directly package my Java application to the jar and use it but I am not sure.\r\n\r\nThis my projects github code link:\r\n[https://github.com/Nithin-Kamineni/Book-Wise][1]\r\n\r\nThis is my backend docker file:\r\n```\r\n# Use the official OpenJDK base image with Java 17\r\nFROM openjdk:17-oracle\r\n\r\n# Set the working directory in the container\r\nWORKDIR /usr/src/server\r\n\r\n# Copy the packaged JAR file into the container\r\nCOPY target/spring-boot-library-0.0.1-SNAPSHOT.jar  app.jar\r\n\r\n# Expose the port that your Spring Boot application listens on (if necessary)\r\nEXPOSE 8080\r\n\r\n# Set the entry point command to run your Spring Boot application\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\ndocker-compose.yml:\r\n```\r\nversion: &quot;3.8&quot;\r\n\r\nservices:\r\n  mysql:\r\n    container_name: db12w\r\n    image: mysql:8.0.33\r\n    restart: always\r\n    environment:\r\n        MYSQL_ROOT_PASSWORD: root\r\n        MYSQL_DATABASE: reactlibrarydatabase\r\n        # MYSQL_PORT: 3306\r\n    networks:\r\n      - shared-network\r\n    volumes:\r\n      - mysqlvolume:/var/lib/mysql\r\n      - ./db:/docker-entrypoint-initdb.d\r\n\r\n  # mysql-workbench:\r\n  #   container_name: mysqlwbcontainer\r\n  #   image: linuxserver/mysql-workbench:8.0.33\r\n  #   restart: always\r\n  #   environment:\r\n  #     CUSTOM_USER: abc\r\n  #     PASSWORD: root\r\n  #     CUSTOM_PORT: 5050\r\n  #   ports:\r\n  #     - 5050:5050\r\n  #   networks:\r\n  #     - shared-network\r\n  #   depends_on:\r\n  #     - mysql\r\n    # volumes:\r\n    #   - mysql-workbench-volume:/var/lib/mysql\r\n  \r\n  nginx:\r\n    image: nginx\r\n    # container_name: nginx_container\r\n    restart: always\r\n    volumes:\r\n      - ./default.conf:/etc/nginx/conf.d/default.conf\r\n      - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\r\n      - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\r\n    ports:\r\n      - 80:80\r\n      - 443:443\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - server\r\n      - client\r\n\r\n  server:\r\n    container_name: bookwise_server\r\n    restart: unless-stopped\r\n    image: bookwise-server-image:1.0.0\r\n    build:\r\n      context: Backend\r\n      dockerfile: Dockerfile\r\n    environment:\r\n      # - spring_datasource_driver-class-name=\r\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\r\n      - spring_datasource_username=root\r\n      - spring_datasource_password=root\r\n    ports:  #outside:inside(container) #8443\r\n      - 8080:8080\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - mysql\r\n\r\n  client:\r\n    container_name: bookwise_client\r\n    restart: unless-stopped\r\n    image: bookwise-client-image:1.0.0\r\n    build:\r\n      context: Frontend\r\n      dockerfile: Dockerfile\r\n    # ports:  #outside:inside(container)\r\n    #   - 3000:3000\r\n    # environment:\r\n    #   - REACT_APP_API=https://localhost/api/api/fdfd\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - server\r\nvolumes:\r\n  mysqlvolume:\r\n  # mysql-workbench-volume:\r\nnetworks:\r\n  shared-network:\r\n    driver: bridge\r\n```\r\n\r\nIf you need any additional information on the code I used you can look at my GitHub repository. As for output or error, my EC2 instance is simply freezing at that spot itself as soon as I make a backend request. Until then even the logs of the server service are fine.\r\n\r\n  [1]: https://github.com/Nithin-Kamineni/Book-Wise","title":"Spring boot backend server in Docker Container of AWS EC2","body":"<p>I am trying to run an application with Spring boot(Java-17) as my back end and React as my front end. Both front end and back files are running smoothly when I run them locally with 'docker-compose up'. When I run the same docker file by adjusting small configurations(SSL certificates) which are not the problem, the whole EC2 instance is freezing and not responding(even the front end doesn't work one the EC2 instances freezes). As soon as I tried to request the backend the whole EC2 instance froze and the only way to start it again was to stop the instance completely and start it again.</p>\n<p>I used maven to clean package my project using 'mvn clean package' which creates a jar file. I am using that jar file to run the docker file for my server-side using that jar file. I think I am not supposed to directly package my Java application to the jar and use it but I am not sure.</p>\n<p>This my projects github code link:\n<a href=\"https://github.com/Nithin-Kamineni/Book-Wise\" rel=\"nofollow noreferrer\">https://github.com/Nithin-Kamineni/Book-Wise</a></p>\n<p>This is my backend docker file:</p>\n<pre><code># Use the official OpenJDK base image with Java 17\nFROM openjdk:17-oracle\n\n# Set the working directory in the container\nWORKDIR /usr/src/server\n\n# Copy the packaged JAR file into the container\nCOPY target/spring-boot-library-0.0.1-SNAPSHOT.jar  app.jar\n\n# Expose the port that your Spring Boot application listens on (if necessary)\nEXPOSE 8080\n\n# Set the entry point command to run your Spring Boot application\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>docker-compose.yml:</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n  mysql:\n    container_name: db12w\n    image: mysql:8.0.33\n    restart: always\n    environment:\n        MYSQL_ROOT_PASSWORD: root\n        MYSQL_DATABASE: reactlibrarydatabase\n        # MYSQL_PORT: 3306\n    networks:\n      - shared-network\n    volumes:\n      - mysqlvolume:/var/lib/mysql\n      - ./db:/docker-entrypoint-initdb.d\n\n  # mysql-workbench:\n  #   container_name: mysqlwbcontainer\n  #   image: linuxserver/mysql-workbench:8.0.33\n  #   restart: always\n  #   environment:\n  #     CUSTOM_USER: abc\n  #     PASSWORD: root\n  #     CUSTOM_PORT: 5050\n  #   ports:\n  #     - 5050:5050\n  #   networks:\n  #     - shared-network\n  #   depends_on:\n  #     - mysql\n    # volumes:\n    #   - mysql-workbench-volume:/var/lib/mysql\n  \n  nginx:\n    image: nginx\n    # container_name: nginx_container\n    restart: always\n    volumes:\n      - ./default.conf:/etc/nginx/conf.d/default.conf\n      - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\n      - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\n    ports:\n      - 80:80\n      - 443:443\n    networks:\n      - shared-network\n    depends_on:\n      - server\n      - client\n\n  server:\n    container_name: bookwise_server\n    restart: unless-stopped\n    image: bookwise-server-image:1.0.0\n    build:\n      context: Backend\n      dockerfile: Dockerfile\n    environment:\n      # - spring_datasource_driver-class-name=\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\n      - spring_datasource_username=root\n      - spring_datasource_password=root\n    ports:  #outside:inside(container) #8443\n      - 8080:8080\n    networks:\n      - shared-network\n    depends_on:\n      - mysql\n\n  client:\n    container_name: bookwise_client\n    restart: unless-stopped\n    image: bookwise-client-image:1.0.0\n    build:\n      context: Frontend\n      dockerfile: Dockerfile\n    # ports:  #outside:inside(container)\n    #   - 3000:3000\n    # environment:\n    #   - REACT_APP_API=https://localhost/api/api/fdfd\n    networks:\n      - shared-network\n    depends_on:\n      - server\nvolumes:\n  mysqlvolume:\n  # mysql-workbench-volume:\nnetworks:\n  shared-network:\n    driver: bridge\n</code></pre>\n<p>If you need any additional information on the code I used you can look at my GitHub repository. As for output or error, my EC2 instance is simply freezing at that spot itself as soon as I make a backend request. Until then even the logs of the server service are fine.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689567947,"creation_date":1689567947,"answer_id":76701485,"question_id":76701011,"body_markdown":"There are two possible problems that I see:\r\n1. When you create the table you do: `COLUMN_STARS+&quot;INTEGER)&quot;;`, it must be `COLUMN_STARS+&quot; INTEGER)&quot;;`, I suppose? The space is missing before `INTEGER`\r\n2. Are you sure that the table was created and you see your `created tables` statement in logs? Just to make sure that the table for really created with the last version of the code.\r\n\r\nI hope it helps.","title":"Can&#39;t access a column?","body":"<p>There are two possible problems that I see:</p>\n<ol>\n<li>When you create the table you do: <code>COLUMN_STARS+&quot;INTEGER)&quot;;</code>, it must be <code>COLUMN_STARS+&quot; INTEGER)&quot;;</code>, I suppose? The space is missing before <code>INTEGER</code></li>\n<li>Are you sure that the table was created and you see your <code>created tables</code> statement in logs? Just to make sure that the table for really created with the last version of the code.</li>\n</ol>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":29003332,"reputation":13,"user_id":22216464,"display_name":"CheeChunWaiGabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76701485,"answer_count":1,"score":1,"last_activity_date":1689567947,"creation_date":1689556606,"question_id":76701011,"body_markdown":"My code is meant to retrieve a song from a list with 5 columns (id, title, singers, year (of release) and stars). But I for some reason can&#39;t retrieve that last one.\r\n\r\nSo I made a Song Class:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\npublic class song {\r\n    private int id;\r\n    private String title;\r\n    private String singers;\r\n    private int year;\r\n    private int stars;\r\n\r\n    public song (int id,\r\n    String title,\r\n    String singers,\r\n    int year,\r\n    int stars\r\n    ){\r\n        this.id=id;\r\n        this.title=title;\r\n        this.singers=singers;\r\n        this.year=year;\r\n        this.stars=stars;\r\n    }\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public int getId(){\r\n        return id;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public int getStars() {\r\n        return stars;\r\n    }\r\n\r\n    public String getSingers() {\r\n        return singers;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return id + &quot;\\n&quot; + title+&quot;\\n&quot;+year + &quot;\\n&quot; + stars + &quot;\\n&quot; + singers;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis class is meant to intreact with MainActivity: \r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.ToggleButton;\r\n\r\nimport java.util.ArrayList;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btnInsert, btnGetSongs;\r\n    TextView tvResults;\r\n\r\n    EditText YearInput;\r\n    EditText SongInput;\r\n    EditText SingerInput;\r\n    RadioGroup RadioGroupRating;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnInsert = findViewById(R.id.btnInsert);\r\n        btnGetSongs = findViewById(R.id.btnGetTasks);\r\n        //List View-&gt;\r\n        YearInput=findViewById(R.id.insertYear);\r\n        SongInput=findViewById(R.id.insertTitle);\r\n        SingerInput=findViewById(R.id.insertSingers);\r\n        RadioGroupRating=findViewById(R.id.radio_group);\r\n\r\n\r\n        btnInsert.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                DBHelper db = new DBHelper(MainActivity.this);\r\n                String title=SongInput.getText().toString();\r\n                String singers=SingerInput.getText().toString();\r\n                int year=Integer.parseInt(YearInput.getText().toString());\r\n\r\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\r\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\r\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\r\n                db.insertSong(title,singers,year,rating);\r\n\r\n                SongInput.setText(&quot;&quot;);\r\n                SingerInput.setText(&quot;&quot;);\r\n                YearInput.setText(&quot;&quot;);\r\n                RadioGroupRating.clearCheck();\r\n            }\r\n        });\r\n\r\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Create the DBHelper object, passing in the\r\n                // activity&#39;s Context\r\n                DBHelper db = new DBHelper(MainActivity.this);\r\n\r\n                // Insert a task\r\n                ArrayList&lt;song&gt; data = db.getSongs();\r\n                db.close();\r\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\r\n                //Label the actual editactivity EditActivity2\r\n                startActivity(intent);\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nwhich is supplemented by DBHelper:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\r\n    // increment by 1 whenever db schema changes.\r\n    private static final int DATABASE_VER = 1;\r\n    private static final String TABLE_SONG = &quot;song&quot;;\r\n    private static final String COLUMN_ID = &quot;id&quot;;\r\n    private static final String COLUMN_TITLE = &quot;title&quot;;\r\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\r\n    private static final String COLUMN_YEAR=&quot;year&quot;;\r\n    private static final String COLUMN_STARS=&quot;stars&quot;;\r\n    // Filename of the database\r\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\r\n\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VER);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\r\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\r\n                + COLUMN_TITLE + &quot; TEXT,&quot;\r\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\r\n                + COLUMN_YEAR + &quot; INTEGER,&quot;\r\n                + COLUMN_STARS+&quot;INTEGER)&quot;;\r\n        db.execSQL(createTableSql);\r\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\r\n        // Create table(s) again\r\n        onCreate(db);\r\n\r\n\r\n    }\r\n    public void insertSong(String title, String singers, int year, int stars){\r\n\r\n        // Get an instance of the database for writing\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        // We use ContentValues object to store the values for\r\n        //  the db operation\r\n        ContentValues values = new ContentValues();\r\n        // Store the column name as key and the description as value\r\n        values.put(COLUMN_TITLE, title);\r\n        values.put(COLUMN_SINGERS, singers);\r\n        values.put(COLUMN_YEAR, year);\r\n        values.put(COLUMN_STARS, stars);\r\n\r\n        // Store the column name as key and the date as value\r\n\r\n        // Insert the row into the TABLE_TASK\r\n        db.insert(TABLE_SONG, null, values);\r\n        // Close the database connection\r\n        db.close();\r\n    }\r\n    public ArrayList&lt;song&gt; getSongs() {\r\n        ArrayList&lt;song&gt; tasks = new ArrayList&lt;song&gt;();\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        String[] columns = {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\r\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null, null, null,  null , null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                int id = cursor.getColumnIndex(COLUMN_ID);\r\n                String title= String.valueOf(cursor.getColumnIndex(COLUMN_TITLE));\r\n                String singers= String.valueOf(cursor.getColumnIndex(COLUMN_SINGERS));\r\n                @SuppressLint(&quot;Range&quot;) int year = cursor.getInt(cursor.getColumnIndex(COLUMN_YEAR));\r\n                @SuppressLint(&quot;Range&quot;) int stars = cursor.getInt(cursor.getColumnIndex(COLUMN_STARS));\r\n                song obj = new song(id, title, singers,year,stars);\r\n                tasks.add(obj);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        db.close();\r\n\r\n        return tasks;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnd for good measure, here the xml of my app:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input1&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertTitle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input2&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertSingers&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input3&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertYear&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input4&quot; /&gt;\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.1&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.2&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.3&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.4&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.5&quot; /&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnInsert&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/FinalButton&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnGetTasks&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/ViewListings&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMy intent was pressing btnRetrieve would cause a list to display in a separate activity.\r\n\r\nThe Activity&#39;s xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.EditActivity&quot;&gt;\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nand its java coding\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class EditActivity extends AppCompatActivity {\r\n    ListView lv;\r\n    ArrayList&lt;song&gt; songsList;\r\n    ArrayAdapter&lt;song&gt; adapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit);\r\n        lv=findViewById(R.id.list_view);\r\n        DBHelper dbHelper = new DBHelper(this);\r\n        songsList = dbHelper.getSongs();\r\n        ArrayList&lt;String&gt; songTitles = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; songsList.size(); i++) {\r\n            song song = songsList.get(i);\r\n            songTitles.add(song.getTitle());\r\n        }\r\n        adapter = new ArrayAdapter&lt;&gt;(EditActivity.this,android.R.layout.simple_list_item_1,songsList);\r\n        lv.setAdapter(adapter);\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately it caused this to appear in my logcat:\r\n```\r\n2023-07-17 09:00:34.942  2045-2045  SQLiteLog               com...tiondev.android.songdbmanager  E  (1) no such column: stars in &quot;SELECT id, title, singers, year, stars FROM song&quot;\r\n2023-07-17 09:00:34.945  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  D  Shutting down VM\r\n2023-07-17 09:00:34.988  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.myapplicationdev.android.songdbmanager, PID: 2045\r\n                                                                                                    android.database.sqlite.SQLiteException: no such column: stars (code 1 SQLITE_ERROR): , while compiling: SELECT id, title, singers, year, stars FROM song\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1045)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:652)\r\n                                                                                                    \tat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\r\n                                                                                                    \tat android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:61)\r\n                                                                                                    \tat android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1545)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1392)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1263)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1469)\r\n                                                                                                    \tat com.myapplicationdev.android.songdbmanager.DBHelper.getSongs(DBHelper.java:78)\r\n                                                                                                    \tat com.myapplicationdev.android.songdbmanager.MainActivity$2.onClick(MainActivity.java:73)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7448)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7425)\r\n                                                                                                    \tat android.view.View.access$3600(View.java:810)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:28305)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:223)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```","title":"Can&#39;t access a column?","body":"<p>My code is meant to retrieve a song from a list with 5 columns (id, title, singers, year (of release) and stars). But I for some reason can't retrieve that last one.</p>\n<p>So I made a Song Class:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.annotation.NonNull;\n\npublic class song {\n    private int id;\n    private String title;\n    private String singers;\n    private int year;\n    private int stars;\n\n    public song (int id,\n    String title,\n    String singers,\n    int year,\n    int stars\n    ){\n        this.id=id;\n        this.title=title;\n        this.singers=singers;\n        this.year=year;\n        this.stars=stars;\n    }\n    public String getTitle() {\n        return title;\n    }\n    public int getId(){\n        return id;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public int getStars() {\n        return stars;\n    }\n\n    public String getSingers() {\n        return singers;\n    }\n\n    @NonNull\n    @Override\n    public String toString() {\n        return id + &quot;\\n&quot; + title+&quot;\\n&quot;+year + &quot;\\n&quot; + stars + &quot;\\n&quot; + singers;\n    }\n\n}\n</code></pre>\n<p>This class is meant to intreact with MainActivity:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.ToggleButton;\n\nimport java.util.ArrayList;\npublic class MainActivity extends AppCompatActivity {\n\n    Button btnInsert, btnGetSongs;\n    TextView tvResults;\n\n    EditText YearInput;\n    EditText SongInput;\n    EditText SingerInput;\n    RadioGroup RadioGroupRating;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnInsert = findViewById(R.id.btnInsert);\n        btnGetSongs = findViewById(R.id.btnGetTasks);\n        //List View-&gt;\n        YearInput=findViewById(R.id.insertYear);\n        SongInput=findViewById(R.id.insertTitle);\n        SingerInput=findViewById(R.id.insertSingers);\n        RadioGroupRating=findViewById(R.id.radio_group);\n\n\n        btnInsert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DBHelper db = new DBHelper(MainActivity.this);\n                String title=SongInput.getText().toString();\n                String singers=SingerInput.getText().toString();\n                int year=Integer.parseInt(YearInput.getText().toString());\n\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\n                db.insertSong(title,singers,year,rating);\n\n                SongInput.setText(&quot;&quot;);\n                SingerInput.setText(&quot;&quot;);\n                YearInput.setText(&quot;&quot;);\n                RadioGroupRating.clearCheck();\n            }\n        });\n\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                // Create the DBHelper object, passing in the\n                // activity's Context\n                DBHelper db = new DBHelper(MainActivity.this);\n\n                // Insert a task\n                ArrayList&lt;song&gt; data = db.getSongs();\n                db.close();\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\n                //Label the actual editactivity EditActivity2\n                startActivity(intent);\n\n\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>which is supplemented by DBHelper:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport android.annotation.SuppressLint;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\n\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\n    // increment by 1 whenever db schema changes.\n    private static final int DATABASE_VER = 1;\n    private static final String TABLE_SONG = &quot;song&quot;;\n    private static final String COLUMN_ID = &quot;id&quot;;\n    private static final String COLUMN_TITLE = &quot;title&quot;;\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\n    private static final String COLUMN_YEAR=&quot;year&quot;;\n    private static final String COLUMN_STARS=&quot;stars&quot;;\n    // Filename of the database\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VER);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\n                + COLUMN_TITLE + &quot; TEXT,&quot;\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\n                + COLUMN_YEAR + &quot; INTEGER,&quot;\n                + COLUMN_STARS+&quot;INTEGER)&quot;;\n        db.execSQL(createTableSql);\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\n        // Create table(s) again\n        onCreate(db);\n\n\n    }\n    public void insertSong(String title, String singers, int year, int stars){\n\n        // Get an instance of the database for writing\n        SQLiteDatabase db = this.getWritableDatabase();\n        // We use ContentValues object to store the values for\n        //  the db operation\n        ContentValues values = new ContentValues();\n        // Store the column name as key and the description as value\n        values.put(COLUMN_TITLE, title);\n        values.put(COLUMN_SINGERS, singers);\n        values.put(COLUMN_YEAR, year);\n        values.put(COLUMN_STARS, stars);\n\n        // Store the column name as key and the date as value\n\n        // Insert the row into the TABLE_TASK\n        db.insert(TABLE_SONG, null, values);\n        // Close the database connection\n        db.close();\n    }\n    public ArrayList&lt;song&gt; getSongs() {\n        ArrayList&lt;song&gt; tasks = new ArrayList&lt;song&gt;();\n        SQLiteDatabase db = this.getReadableDatabase();\n        String[] columns = {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null, null, null,  null , null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                int id = cursor.getColumnIndex(COLUMN_ID);\n                String title= String.valueOf(cursor.getColumnIndex(COLUMN_TITLE));\n                String singers= String.valueOf(cursor.getColumnIndex(COLUMN_SINGERS));\n                @SuppressLint(&quot;Range&quot;) int year = cursor.getInt(cursor.getColumnIndex(COLUMN_YEAR));\n                @SuppressLint(&quot;Range&quot;) int stars = cursor.getInt(cursor.getColumnIndex(COLUMN_STARS));\n                song obj = new song(id, title, singers,year,stars);\n                tasks.add(obj);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        db.close();\n\n        return tasks;\n    }\n\n}\n\n\n</code></pre>\n<p>And for good measure, here the xml of my app:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input1&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertTitle&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input2&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertSingers&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input3&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertYear&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input4&quot; /&gt;\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.1&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.2&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.3&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.4&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.5&quot; /&gt;\n\n    &lt;/RadioGroup&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnInsert&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/FinalButton&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnGetTasks&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/ViewListings&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>My intent was pressing btnRetrieve would cause a list to display in a separate activity.</p>\n<p>The Activity's xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.EditActivity&quot;&gt;\n    &lt;ListView\n        android:id=&quot;@+id/list_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and its java coding</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport java.util.ArrayList;\n\npublic class EditActivity extends AppCompatActivity {\n    ListView lv;\n    ArrayList&lt;song&gt; songsList;\n    ArrayAdapter&lt;song&gt; adapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_edit);\n        lv=findViewById(R.id.list_view);\n        DBHelper dbHelper = new DBHelper(this);\n        songsList = dbHelper.getSongs();\n        ArrayList&lt;String&gt; songTitles = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; songsList.size(); i++) {\n            song song = songsList.get(i);\n            songTitles.add(song.getTitle());\n        }\n        adapter = new ArrayAdapter&lt;&gt;(EditActivity.this,android.R.layout.simple_list_item_1,songsList);\n        lv.setAdapter(adapter);\n    }\n}\n</code></pre>\n<p>Unfortunately it caused this to appear in my logcat:</p>\n<pre><code>2023-07-17 09:00:34.942  2045-2045  SQLiteLog               com...tiondev.android.songdbmanager  E  (1) no such column: stars in &quot;SELECT id, title, singers, year, stars FROM song&quot;\n2023-07-17 09:00:34.945  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  D  Shutting down VM\n2023-07-17 09:00:34.988  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  E  FATAL EXCEPTION: main\n                                                                                                    Process: com.myapplicationdev.android.songdbmanager, PID: 2045\n                                                                                                    android.database.sqlite.SQLiteException: no such column: stars (code 1 SQLITE_ERROR): , while compiling: SELECT id, title, singers, year, stars FROM song\n                                                                                                        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n                                                                                                        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1045)\n                                                                                                        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:652)\n                                                                                                        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\n                                                                                                        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:61)\n                                                                                                        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\n                                                                                                        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1545)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1392)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1263)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1469)\n                                                                                                        at com.myapplicationdev.android.songdbmanager.DBHelper.getSongs(DBHelper.java:78)\n                                                                                                        at com.myapplicationdev.android.songdbmanager.MainActivity$2.onClick(MainActivity.java:73)\n                                                                                                        at android.view.View.performClick(View.java:7448)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n                                                                                                        at android.view.View.performClickInternal(View.java:7425)\n                                                                                                        at android.view.View.access$3600(View.java:810)\n                                                                                                        at android.view.View$PerformClick.run(View.java:28305)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loop(Looper.java:223)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7656)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n"},{"tags":["java","command-line-interface","parameter-passing","picocli"],"answers":[{"tags":[],"owner":{"account_id":21089028,"reputation":33,"user_id":15501383,"display_name":"Zainab Lawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670757472,"creation_date":1670757472,"answer_id":74760336,"question_id":74759804,"body_markdown":"I fixed this by adding the arity attribute to the options. Like:\r\n\r\n```\r\n@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;},arity=&quot;1&quot; description = &quot;Count the number of Bytes in the file&quot;)\r\nprivate Boolean countBytes= false;\r\n```","title":"How to Pass params without specifying their index with Picocli","body":"<p>I fixed this by adding the arity attribute to the options. Like:</p>\n<pre><code>@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;},arity=&quot;1&quot; description = &quot;Count the number of Bytes in the file&quot;)\nprivate Boolean countBytes= false;\n</code></pre>\n"}],"owner":{"account_id":21089028,"reputation":33,"user_id":15501383,"display_name":"Zainab Lawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689567703,"creation_date":1670752627,"question_id":74759804,"body_markdown":"I&#39;m trying to create a cli program with Picocli that accepts optional options and params. I want the parameters to be always at the end of the passed arguments, however I do not know how to set that.\r\nWhen I try the following, the options are parsed as filenames too. Is there a way to fix it?\r\n\r\n```\r\npublic class WordCount implements Runnable {\r\n\r\n@Parameters(index=&quot;*&quot;, arity = &quot;1..*&quot;, description= &quot;The file to count&quot;)\r\npublic List&lt;String&gt; filenames;\r\n\r\n@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;}, description = &quot;Count the number of Bytes in the file&quot;)\r\nprivate Boolean countBytes= false;\r\n\r\n@Option(names= {&quot;-w&quot;, &quot;countWords&quot;}, description = &quot;Count the number of Words in the file&quot;)\r\nprivate Boolean countWords = false;\r\n\r\n@Option(names = {&quot;-l&quot;, &quot;--countLines&quot;}, description = &quot;Count the number of lines in the file&quot;)\r\nprivate Boolean countLines =false;\r\n\r\n@Option(names = {&quot;-m&quot;, &quot;--countCharacters&quot;}, description = &quot;Count the number of characters in the file&quot;)\r\nprivate Boolean countCharacters =false;\r\n```","title":"How to Pass params without specifying their index with Picocli","body":"<p>I'm trying to create a cli program with Picocli that accepts optional options and params. I want the parameters to be always at the end of the passed arguments, however I do not know how to set that.\nWhen I try the following, the options are parsed as filenames too. Is there a way to fix it?</p>\n<pre><code>public class WordCount implements Runnable {\n\n@Parameters(index=&quot;*&quot;, arity = &quot;1..*&quot;, description= &quot;The file to count&quot;)\npublic List&lt;String&gt; filenames;\n\n@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;}, description = &quot;Count the number of Bytes in the file&quot;)\nprivate Boolean countBytes= false;\n\n@Option(names= {&quot;-w&quot;, &quot;countWords&quot;}, description = &quot;Count the number of Words in the file&quot;)\nprivate Boolean countWords = false;\n\n@Option(names = {&quot;-l&quot;, &quot;--countLines&quot;}, description = &quot;Count the number of lines in the file&quot;)\nprivate Boolean countLines =false;\n\n@Option(names = {&quot;-m&quot;, &quot;--countCharacters&quot;}, description = &quot;Count the number of characters in the file&quot;)\nprivate Boolean countCharacters =false;\n</code></pre>\n"},{"tags":["java","amazon-web-services","iot"],"answers":[{"tags":[],"owner":{"account_id":28959111,"reputation":9,"user_id":22182000,"display_name":"Joshua S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1689566773,"creation_date":1689566773,"answer_id":76701424,"question_id":76693782,"body_markdown":"If anyone comes across this in the future, this is how I got it working.\r\n\r\nthe command to make the keystore:\r\n\r\n    openssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\r\n\r\nAnd the code:\r\n\r\n\r\n    HttpExecuteResponse response;\r\n                System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/usr/lib/jvm/&lt;distribution&gt;/lib/security/cacerts&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;&lt;password&gt;&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n                KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                keyStore.load(new FileInputStream(&quot;/path/to/keystore.p12&quot;), &quot;password&quot;.toCharArray());\r\n                SSLContext newContext = SSLContexts.custom().loadKeyMaterial(keyStore, &quot;password&quot;.toCharArray()).build();\r\n                ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(newContext, NoopHostnameVerifier.INSTANCE);\r\n                try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\r\n                    SdkHttpFullRequest httpRequest = SdkHttpFullRequest.builder()\r\n                            .method(SdkHttpMethod.GET)\r\n                            .uri(new URI(&quot;https://&lt;prefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;alias&gt;/credentials&quot;))\r\n                            .putHeader(&quot;x-amzn-iot-thingname&quot;, &lt;thingname&gt;)\r\n                            .build();\r\n                    HttpExecuteRequest request = HttpExecuteRequest.builder()\r\n                            .request(httpRequest)\r\n                            .build();\r\n                    response = client.prepareRequest(request).call();\r\n                }\r\n","title":"Getting bad_certificate error when using AWS Java sdk to attain temporary credentials via AWS Credentials Provider with IoT credentials","body":"<p>If anyone comes across this in the future, this is how I got it working.</p>\n<p>the command to make the keystore:</p>\n<pre><code>openssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\n</code></pre>\n<p>And the code:</p>\n<pre><code>HttpExecuteResponse response;\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/usr/lib/jvm/&lt;distribution&gt;/lib/security/cacerts&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;&lt;password&gt;&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keyStore.load(new FileInputStream(&quot;/path/to/keystore.p12&quot;), &quot;password&quot;.toCharArray());\n            SSLContext newContext = SSLContexts.custom().loadKeyMaterial(keyStore, &quot;password&quot;.toCharArray()).build();\n            ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(newContext, NoopHostnameVerifier.INSTANCE);\n            try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\n                SdkHttpFullRequest httpRequest = SdkHttpFullRequest.builder()\n                        .method(SdkHttpMethod.GET)\n                        .uri(new URI(&quot;https://&lt;prefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;alias&gt;/credentials&quot;))\n                        .putHeader(&quot;x-amzn-iot-thingname&quot;, &lt;thingname&gt;)\n                        .build();\n                HttpExecuteRequest request = HttpExecuteRequest.builder()\n                        .request(httpRequest)\n                        .build();\n                response = client.prepareRequest(request).call();\n            }\n</code></pre>\n"}],"owner":{"account_id":28959111,"reputation":9,"user_id":22182000,"display_name":"Joshua S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76701424,"answer_count":1,"score":0,"last_activity_date":1689566773,"creation_date":1689424634,"question_id":76693782,"body_markdown":"I&#39;m trying to do the process outlined in this post: https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/.\r\n\r\nI&#39;ve got everything set up,and am able to get the temporary credentials via curl, but want to do it via the Java sdk. I&#39;ve tried the code mentioned in this post: https://stackoverflow.com/questions/64257498/get-security-token-from-aws-credentials-provider in the comments from jccampanero, but am getting a javax.net.sslhandshakeexception: bad_certificate error at runtime. I&#39;ve verified that the certificate and private key are good, as mentioned above they work in curl form for getting the credentials.\r\n\r\nWhen creating to pkcs12 keystore for the client side stuff I use the following commmand: \r\n\r\n```\r\nopenssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -CAFile AmazonRootCA1.pem -caname root -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\r\n```\r\n\r\nAnd when creating the trust store I use the following code:\r\n```\r\n\r\nprivate void createTrustStore() {\r\n        Path pemPath = Paths.get(&quot;/directory/AmazonRootCA1.pem&quot;);\r\n        try (final InputStream is = Files.newInputStream(pemPath)) {\r\n            CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(is);\r\n            String alias = cert.getSubjectX500Principal().getName();\r\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            keystore.load(null);\r\n            keystore.setCertificateEntry(alias, cert);\r\n            FileOutputStream out = new FileOutputStream(&quot;/directory/CAtrustStore.jks&quot;);\r\n            keystore.store(out, &quot;password&quot;.toCharArray());\r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/directory/CAtrustStore.jks&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n    }\r\n```\r\nI&#39;ve also used keytool to verify both of the stores are being properly created.\r\n\r\nTo make the request I use the following code:\r\n```\r\n\r\npublic void getCredentials() {\r\n        HttpExecuteResponse response;\r\n        Path clientKeyStore = Path.of(&quot;keystore.p12&quot;);\r\n        TlsKeyManagersProvider provider = FileStoreTlsKeyManagersProvider.create(clientKeyStore, &quot;pkcs12&quot;, &quot;password&quot;);\r\n        KeyManager[] keyManagers = provider.keyManagers();\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(keyManagers, null, null);\r\n        ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n        try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\r\n            SdkHttpRequest httpRequest = SdkHttpRequest.builder()\r\n                    .method(SdkHttpMethod.GET)\r\n                    .uri(new URI(&quot;https://&lt;myPrefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;myAlias&gt;/credentials&quot;))\r\n                    .putHeader(&quot;x-amzn-iot-thingname&quot;, &quot;&lt;myThingName&gt;&quot;)\r\n                    .build();\r\n            HttpExecuteRequest request = HttpExecuteRequest.builder()\r\n                    .request(httpRequest)\r\n                    .build();\r\n            response = client.prepareRequest(request).call();\r\n        }\r\n        Log.MainLog().info(response.httpResponse().toString());\r\n        Log.MainLog().info(response.responseBody().toString());\r\n    }\r\n}\r\n```\r\n\r\nEdit: just to clarify, I did try exactly as in that post, using the System.setProperty for the client keystore as well, and got the same error. I also tried feeding the TlsKeyManagersProvider into the builder \r\nwith the .TlsKeyManagerProvider method instead of using the socket factory, but also got the same error. Currently using the socket factory as that is what is outlined in the aws java sdk test linked in jccampanero&#39;s post. Since I&#39;m getting the same error regardless of which method I use, I&#39;m assuming the issue is with the pkcs12 keystore rather than the code.\r\n\r\nEdit2: I&#39;ve now also tried using the cacerts keystore in my usr/lib/jvm/&lt;javadist&gt;/lib/security folder for the trust store as well, since I&#39;ve seen some suggestions of that, but no luck. ","title":"Getting bad_certificate error when using AWS Java sdk to attain temporary credentials via AWS Credentials Provider with IoT credentials","body":"<p>I'm trying to do the process outlined in this post: <a href=\"https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/</a>.</p>\n<p>I've got everything set up,and am able to get the temporary credentials via curl, but want to do it via the Java sdk. I've tried the code mentioned in this post: <a href=\"https://stackoverflow.com/questions/64257498/get-security-token-from-aws-credentials-provider\">Get security token from AWS Credentials Provider</a> in the comments from jccampanero, but am getting a javax.net.sslhandshakeexception: bad_certificate error at runtime. I've verified that the certificate and private key are good, as mentioned above they work in curl form for getting the credentials.</p>\n<p>When creating to pkcs12 keystore for the client side stuff I use the following commmand:</p>\n<pre><code>openssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -CAFile AmazonRootCA1.pem -caname root -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\n</code></pre>\n<p>And when creating the trust store I use the following code:</p>\n<pre><code>\nprivate void createTrustStore() {\n        Path pemPath = Paths.get(&quot;/directory/AmazonRootCA1.pem&quot;);\n        try (final InputStream is = Files.newInputStream(pemPath)) {\n            CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n            X509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(is);\n            String alias = cert.getSubjectX500Principal().getName();\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n            keystore.load(null);\n            keystore.setCertificateEntry(alias, cert);\n            FileOutputStream out = new FileOutputStream(&quot;/directory/CAtrustStore.jks&quot;);\n            keystore.store(out, &quot;password&quot;.toCharArray());\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/directory/CAtrustStore.jks&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n    }\n</code></pre>\n<p>I've also used keytool to verify both of the stores are being properly created.</p>\n<p>To make the request I use the following code:</p>\n<pre><code>\npublic void getCredentials() {\n        HttpExecuteResponse response;\n        Path clientKeyStore = Path.of(&quot;keystore.p12&quot;);\n        TlsKeyManagersProvider provider = FileStoreTlsKeyManagersProvider.create(clientKeyStore, &quot;pkcs12&quot;, &quot;password&quot;);\n        KeyManager[] keyManagers = provider.keyManagers();\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagers, null, null);\n        ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\n        try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\n            SdkHttpRequest httpRequest = SdkHttpRequest.builder()\n                    .method(SdkHttpMethod.GET)\n                    .uri(new URI(&quot;https://&lt;myPrefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;myAlias&gt;/credentials&quot;))\n                    .putHeader(&quot;x-amzn-iot-thingname&quot;, &quot;&lt;myThingName&gt;&quot;)\n                    .build();\n            HttpExecuteRequest request = HttpExecuteRequest.builder()\n                    .request(httpRequest)\n                    .build();\n            response = client.prepareRequest(request).call();\n        }\n        Log.MainLog().info(response.httpResponse().toString());\n        Log.MainLog().info(response.responseBody().toString());\n    }\n}\n</code></pre>\n<p>Edit: just to clarify, I did try exactly as in that post, using the System.setProperty for the client keystore as well, and got the same error. I also tried feeding the TlsKeyManagersProvider into the builder\nwith the .TlsKeyManagerProvider method instead of using the socket factory, but also got the same error. Currently using the socket factory as that is what is outlined in the aws java sdk test linked in jccampanero's post. Since I'm getting the same error regardless of which method I use, I'm assuming the issue is with the pkcs12 keystore rather than the code.</p>\n<p>Edit2: I've now also tried using the cacerts keystore in my usr/lib/jvm//lib/security folder for the trust store as well, since I've seen some suggestions of that, but no luck.</p>\n"},{"tags":["java","ethereum","web3-java"],"owner":{"account_id":29031091,"reputation":1,"user_id":22237985,"display_name":"cv cv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689566553,"creation_date":1689566553,"question_id":76701417,"body_markdown":"```\r\npublic static List&lt;Type&gt; readTx(String inputData, String abi, String methodName){\r\n        ABIUtils abiUtils = new ABIUtils();\r\n        try {\r\n            String abi4Json = abiUtils.getABI4Json(abi);\r\n            ArrayList&lt;TypeReference&lt;Type&gt;&gt; transfer = abiUtils.getInputTypeReferences(methodName, abi4Json);\r\n            return FunctionReturnDecoder.decode(inputData, transfer);\r\n        } catch (FileNotFoundException | JsonProcessingException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public  ArrayList&lt;TypeReference&lt;Type&gt;&gt; getInputTypeReferences(String methodName, String abi) throws ClassNotFoundException, JsonProcessingException {\r\n        ObjectMapper om = new ObjectMapper();\r\n        AbiDefinition[] abiDefinitions = om.readValue(abi, AbiDefinition[].class);\r\n        AbiDefinition function = Arrays.stream(abiDefinitions).filter(abiDefinition -&gt; {\r\n            if (abiDefinition.getType().equals(&quot;function&quot;)) {\r\n                return abiDefinition.getName().equalsIgnoreCase(methodName);\r\n            }\r\n            return false;\r\n        }).findFirst().orElse(null);\r\n\r\n        ArrayList&lt;TypeReference&lt;Type&gt;&gt; functionsRef = new ArrayList&lt;&gt;();\r\n\r\n        for (AbiDefinition.NamedType namedType : function.getInputs()) {\r\n            String type = namedType.getType();\r\n            TypeReference typeReference = TypeReference.makeTypeReference(type);\r\n            functionsRef.add(typeReference);\r\n        }\r\n        return functionsRef;\r\n    }\r\n```\r\nhow to use web3j geting inputparams ,this code ?Here I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed\r\n\r\nHere I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed","title":"how to use web3j geting inputparams","body":"<pre><code>public static List&lt;Type&gt; readTx(String inputData, String abi, String methodName){\n        ABIUtils abiUtils = new ABIUtils();\n        try {\n            String abi4Json = abiUtils.getABI4Json(abi);\n            ArrayList&lt;TypeReference&lt;Type&gt;&gt; transfer = abiUtils.getInputTypeReferences(methodName, abi4Json);\n            return FunctionReturnDecoder.decode(inputData, transfer);\n        } catch (FileNotFoundException | JsonProcessingException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public  ArrayList&lt;TypeReference&lt;Type&gt;&gt; getInputTypeReferences(String methodName, String abi) throws ClassNotFoundException, JsonProcessingException {\n        ObjectMapper om = new ObjectMapper();\n        AbiDefinition[] abiDefinitions = om.readValue(abi, AbiDefinition[].class);\n        AbiDefinition function = Arrays.stream(abiDefinitions).filter(abiDefinition -&gt; {\n            if (abiDefinition.getType().equals(&quot;function&quot;)) {\n                return abiDefinition.getName().equalsIgnoreCase(methodName);\n            }\n            return false;\n        }).findFirst().orElse(null);\n\n        ArrayList&lt;TypeReference&lt;Type&gt;&gt; functionsRef = new ArrayList&lt;&gt;();\n\n        for (AbiDefinition.NamedType namedType : function.getInputs()) {\n            String type = namedType.getType();\n            TypeReference typeReference = TypeReference.makeTypeReference(type);\n            functionsRef.add(typeReference);\n        }\n        return functionsRef;\n    }\n</code></pre>\n<p>how to use web3j geting inputparams ,this code ?Here I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed</p>\n<p>Here I want to use abi to directly obtain the execution parameters of the contract, is there anything that needs to be changed</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1689492854,"post_id":76697003,"comment_id":135219076,"body_markdown":"Can you post all the Classes and methods from where you are initializing and launching the WebDriverManager to launching ChromeDriver() with the framework directory structure?","body":"Can you post all the Classes and methods from where you are initializing and launching the WebDriverManager to launching ChromeDriver() with the framework directory structure?"}],"answers":[{"tags":[],"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689511373,"creation_date":1689511373,"answer_id":76698318,"question_id":76697003,"body_markdown":"There might be many possible reasons.\r\nI recommend you to create a sample project on github that everyone could clone and reproduce the problem. Otherwise it&#39;s rather impossible to say something helpful.","title":"Chrome browser instance spawned from Selenium Chromedriver is slower from my framework as compared to a simple Java project","body":"<p>There might be many possible reasons.\nI recommend you to create a sample project on github that everyone could clone and reproduce the problem. Otherwise it's rather impossible to say something helpful.</p>\n"},{"tags":[],"owner":{"account_id":1408474,"reputation":1578,"user_id":1335594,"accept_rate":68,"display_name":"Abhijeet Vaikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689566482,"creation_date":1689566482,"answer_id":76701411,"question_id":76697003,"body_markdown":"The issue of slowness got resolved after I tried updating the selenium java binding dependency from 3.141.59 to 4.1.1.\r\n\r\nAlthough I am not sure why/how updating the client side library would make a difference in speed of the browser the driver manages.","title":"Chrome browser instance spawned from Selenium Chromedriver is slower from my framework as compared to a simple Java project","body":"<p>The issue of slowness got resolved after I tried updating the selenium java binding dependency from 3.141.59 to 4.1.1.</p>\n<p>Although I am not sure why/how updating the client side library would make a difference in speed of the browser the driver manages.</p>\n"}],"owner":{"account_id":1408474,"reputation":1578,"user_id":1335594,"accept_rate":68,"display_name":"Abhijeet Vaikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689566482,"creation_date":1689489728,"question_id":76697003,"body_markdown":"We have a web UI test automation framework that uses Selenium WebDriver for web UI automation.\r\n\r\n**Type of project**\r\n- Maven based\r\n- CucumberJVM for framework structure and separation of concerns. (Gherkin steps, business layer, page objects)\r\n- We also use Spring DI to manage certain utilities and page objects lifecycle whenever they are used as dependencies in other classes.\r\n- PageFactory for locators.\r\n- Element listeners (via EventFiringWebDriverFactory)\r\n\r\n**Critical dependencies that we are using that will be important to know here**\r\n- Selenium client java binding version: 3.141.59\r\n- Webdriver manager: 3.6.1\r\n\r\n**Options we set for Chrome Driver instantiation**\r\n```\r\noptions.setAcceptInsecureCerts(true);\r\noptions.addArguments(&quot;--disable-quic&quot;);\r\nreturn options;\r\n```\r\n\r\n**How we add driver listeners**\r\n```\r\nprotected void addDriverListeners() {\r\n    // Add event listeners\r\n    List&lt;Listener&gt; listeners = new ArrayList&lt;&gt;();\r\n    listeners.add(new ElementListener());\r\n    driver = EventFiringWebDriverFactory.getEventFiringWebDriver(driver, listeners);\r\n  }\r\n```\r\n\r\n**How we initialise pagefactory elements**\r\n```\r\nprotected void initPageFactoryElements() {\r\n    String[] beanDefinitionNames = applicationContext.getBeanDefinitionNames();\r\n\r\n    for (int i = 0; i &lt; beanDefinitionNames.length; i++) {\r\n      Object page = applicationContext.getBean(beanDefinitionNames[i]);\r\n      if (BasePage.class.isAssignableFrom(page.getClass())) {\r\n        LOG.debug(&quot;Initialising PageFactory elements for page: {}&quot;, page.getClass());\r\n        PageFactory.initElements(new AppiumFieldDecorator(driver), page);\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n**Sequence of initialising chrome driver**&lt;br&gt;\r\n1. Setup driver via WebDriverManager\r\n2. Set Chrome options for insecure certs and disable quic protocol.\r\n3. Initialise Chrome driver with those options.\r\n4. Open website\r\n5. Add element listeners.\r\n6. Initialise pagefactor elements \r\n\r\n**What problem are we facing?**&lt;br&gt;\r\nWhen we run tests via this project, the browser instance responds really really slow.\r\n1. It takes too long to open Chrome browser after driver instantiation.\r\n2. On submitting the URL via `driver.navigate().to(configuration.getBaseUrl());`, the website takes too long to finish loading. I can see that it takes longer to finish any API requests and resources\r\n\r\n**What happens if I run a test from a very simple Java maven project with no setup like above and just the webdriver dependency**&lt;br&gt;\r\nChrome driver and the chrome browser instance are super fast.\r\n\r\n\r\nWhat could be going wrong in the way we are running the tests? Could the problem be because of:&lt;br&gt;\r\n1. Using Spring DI for a lot of classes in the project OR\r\n2. Using PageFactory OR\r\n3. Using Webelement listeners OR\r\n4. Setting those chrome options as mentioned above.\r\n\r\n\r\nHas anyone come across similar problems? Any help is much appreciated.","title":"Chrome browser instance spawned from Selenium Chromedriver is slower from my framework as compared to a simple Java project","body":"<p>We have a web UI test automation framework that uses Selenium WebDriver for web UI automation.</p>\n<p><strong>Type of project</strong></p>\n<ul>\n<li>Maven based</li>\n<li>CucumberJVM for framework structure and separation of concerns. (Gherkin steps, business layer, page objects)</li>\n<li>We also use Spring DI to manage certain utilities and page objects lifecycle whenever they are used as dependencies in other classes.</li>\n<li>PageFactory for locators.</li>\n<li>Element listeners (via EventFiringWebDriverFactory)</li>\n</ul>\n<p><strong>Critical dependencies that we are using that will be important to know here</strong></p>\n<ul>\n<li>Selenium client java binding version: 3.141.59</li>\n<li>Webdriver manager: 3.6.1</li>\n</ul>\n<p><strong>Options we set for Chrome Driver instantiation</strong></p>\n<pre><code>options.setAcceptInsecureCerts(true);\noptions.addArguments(&quot;--disable-quic&quot;);\nreturn options;\n</code></pre>\n<p><strong>How we add driver listeners</strong></p>\n<pre><code>protected void addDriverListeners() {\n    // Add event listeners\n    List&lt;Listener&gt; listeners = new ArrayList&lt;&gt;();\n    listeners.add(new ElementListener());\n    driver = EventFiringWebDriverFactory.getEventFiringWebDriver(driver, listeners);\n  }\n</code></pre>\n<p><strong>How we initialise pagefactory elements</strong></p>\n<pre><code>protected void initPageFactoryElements() {\n    String[] beanDefinitionNames = applicationContext.getBeanDefinitionNames();\n\n    for (int i = 0; i &lt; beanDefinitionNames.length; i++) {\n      Object page = applicationContext.getBean(beanDefinitionNames[i]);\n      if (BasePage.class.isAssignableFrom(page.getClass())) {\n        LOG.debug(&quot;Initialising PageFactory elements for page: {}&quot;, page.getClass());\n        PageFactory.initElements(new AppiumFieldDecorator(driver), page);\n      }\n    }\n  }\n</code></pre>\n<p><strong>Sequence of initialising chrome driver</strong><br></p>\n<ol>\n<li>Setup driver via WebDriverManager</li>\n<li>Set Chrome options for insecure certs and disable quic protocol.</li>\n<li>Initialise Chrome driver with those options.</li>\n<li>Open website</li>\n<li>Add element listeners.</li>\n<li>Initialise pagefactor elements</li>\n</ol>\n<p><strong>What problem are we facing?</strong><br>\nWhen we run tests via this project, the browser instance responds really really slow.</p>\n<ol>\n<li>It takes too long to open Chrome browser after driver instantiation.</li>\n<li>On submitting the URL via <code>driver.navigate().to(configuration.getBaseUrl());</code>, the website takes too long to finish loading. I can see that it takes longer to finish any API requests and resources</li>\n</ol>\n<p><strong>What happens if I run a test from a very simple Java maven project with no setup like above and just the webdriver dependency</strong><br>\nChrome driver and the chrome browser instance are super fast.</p>\n<p>What could be going wrong in the way we are running the tests? Could the problem be because of:<br></p>\n<ol>\n<li>Using Spring DI for a lot of classes in the project OR</li>\n<li>Using PageFactory OR</li>\n<li>Using Webelement listeners OR</li>\n<li>Setting those chrome options as mentioned above.</li>\n</ol>\n<p>Has anyone come across similar problems? Any help is much appreciated.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":6,"creation_date":1689529394,"post_id":76699636,"comment_id":135223074,"body_markdown":"Why would you expect this to work? String and StringBuilder are different classes, Stringbuilder isn&#39;t a subclass of String.","body":"Why would you expect this to work? String and StringBuilder are different classes, Stringbuilder isn&#39;t a subclass of String."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689531995,"post_id":76699636,"comment_id":135223347,"body_markdown":"They are completely different classes, and so why should a StringBuilder object be allowed to be assigned to a String variable? You first need to explain why you think that this even is possible. Does the API suggest that this might be so?","body":"They are completely different classes, and so why should a StringBuilder object be allowed to be assigned to a String variable? You first need to explain why you think that this even is possible. Does the API suggest that this might be so?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689533955,"post_id":76699636,"comment_id":135223576,"body_markdown":"&quot;_I think this is due to immutable String class and mutable StringBuilder class combination._&quot; -- It&#39;s much simpler than that. A `StringBuilder` is not a `String`, and thus can&#39;t be assigned to a variable of type `String`.","body":"&quot;<i>I think this is due to immutable String class and mutable StringBuilder class combination.</i>&quot; -- It&#39;s much simpler than that. A <code>StringBuilder</code> is not a <code>String</code>, and thus can&#39;t be assigned to a variable of type <code>String</code>."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1689535756,"post_id":76699636,"comment_id":135223776,"body_markdown":"You are [assigning apples to oranges](https://poemanalysis.com/idiom/apples-to-oranges)..","body":"You are <a href=\"https://poemanalysis.com/idiom/apples-to-oranges\" rel=\"nofollow noreferrer\">assigning apples to oranges</a>.."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1689553848,"post_id":76699636,"comment_id":135225406,"body_markdown":"A `StringBuilder` is not a `String`, and using a `String` literal with `new` is an **antipattern**. `String s1 = &quot;Hello&quot;;`","body":"A <code>StringBuilder</code> is not a <code>String</code>, and using a <code>String</code> literal with <code>new</code> is an <b>antipattern</b>. <code>String s1 = &quot;Hello&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":7362914,"reputation":74,"user_id":5605615,"display_name":"mgillett"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689533905,"creation_date":1689529673,"answer_id":76699664,"question_id":76699636,"body_markdown":"s1 is a String and you are using a StringBuilder to instantiate it which is a different class. Maybe something like this :\r\n\r\n    StingBuilder temp = new StringBuilder(&quot;Hello&quot;);\r\n    String s1 = temp.toString();","title":"Why can&#39;t we declare string like below?","body":"<p>s1 is a String and you are using a StringBuilder to instantiate it which is a different class. Maybe something like this :</p>\n<pre><code>StingBuilder temp = new StringBuilder(&quot;Hello&quot;);\nString s1 = temp.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689535190,"creation_date":1689535190,"answer_id":76700034,"question_id":76699636,"body_markdown":"It has nothing to do with the mutable / immutable properties. \r\n\r\nCheck out the [String API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) and the [StringBuilder API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html). They each inherit directly from `Object`. Neither is a subclass of the other. So, as far as the compiler is concerned, `String s1 = new StringBuilder(&quot;Hello&quot;);` makes as much sense as `Dog fido = new Circle (4.7);` \r\n\r\nYou could have `String s1 = new StringBuilder (&quot;Hello&quot;).toString ();`. But, that doesn&#39;t really make sense. It creates an anonymous Object, runs its `toString()` method, and then discards the StringBuilder Object. So, why not just have `String s1 = &quot;Hello&quot;;` or `String s1 = new String (&quot;Hello&quot;);` in the first place? \r\n\r\nNote that `String` and `StringBuilder` each implement [`CharSequence`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/CharSequence.html).\r\n\r\nThe following code will compile: \r\n\r\n        String s1 = new StringBuilder (&quot;Hello&quot;).toString ();\r\n        CharSequence s2 = new String (&quot; World!&quot;);\r\n        CharSequence s3 = new StringBuilder (&quot;Bye&quot;);    \r\n        s3 = s2;\r\n        s2 = s3; \r\n        s2 = s1; \r\n  \r\nThat would limit the methods of `s2` and `s3` to the methods available in`CharSequence`. If you wanted to use other methods of `String` or `StringBuilder`, you could verify the class using `instanceof`, and then a class cast. \r\n\r\n\r\n","title":"Why can&#39;t we declare string like below?","body":"<p>It has nothing to do with the mutable / immutable properties.</p>\n<p>Check out the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String API</a> and the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder API</a>. They each inherit directly from <code>Object</code>. Neither is a subclass of the other. So, as far as the compiler is concerned, <code>String s1 = new StringBuilder(&quot;Hello&quot;);</code> makes as much sense as <code>Dog fido = new Circle (4.7);</code></p>\n<p>You could have <code>String s1 = new StringBuilder (&quot;Hello&quot;).toString ();</code>. But, that doesn't really make sense. It creates an anonymous Object, runs its <code>toString()</code> method, and then discards the StringBuilder Object. So, why not just have <code>String s1 = &quot;Hello&quot;;</code> or <code>String s1 = new String (&quot;Hello&quot;);</code> in the first place?</p>\n<p>Note that <code>String</code> and <code>StringBuilder</code> each implement <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\"><code>CharSequence</code></a>.</p>\n<p>The following code will compile:</p>\n<pre><code>    String s1 = new StringBuilder (&quot;Hello&quot;).toString ();\n    CharSequence s2 = new String (&quot; World!&quot;);\n    CharSequence s3 = new StringBuilder (&quot;Bye&quot;);    \n    s3 = s2;\n    s2 = s3; \n    s2 = s1; \n</code></pre>\n<p>That would limit the methods of <code>s2</code> and <code>s3</code> to the methods available in<code>CharSequence</code>. If you wanted to use other methods of <code>String</code> or <code>StringBuilder</code>, you could verify the class using <code>instanceof</code>, and then a class cast.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689565555,"creation_date":1689550528,"answer_id":76700812,"question_id":76699636,"body_markdown":"&gt; _&quot;What&#39;s wrong with this statement and why?_\r\n&gt; \r\n&gt; _String s1 = new StringBuilder(&quot;Hello&quot;); ...&quot;_\r\n\r\nThe reason that doesn&#39;t work is because _StringBuilder_ is not a subclass of _String_.\r\n\r\nYou _could_, just append the _toString_ call to the _StringBuilder_.\r\n\r\n```java\r\nString s1 = new StringBuilder(&quot;Hello&quot;).toString();\r\n```\r\n\r\nConsider the following example.  \r\nThe assignment will cause an error.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    A value = new B();\r\n}\r\n\r\nclass A {\r\n    \r\n}\r\n    \r\nclass B {\r\n    \r\n}\r\n```\r\n\r\nOn the other hand, if the objects were related, it would work.\r\n\r\n```java\r\nclass A {\r\n\r\n}\r\n\r\nclass B extends A {\r\n\r\n}\r\n```\r\n\r\nHere is the _Java_ tutorial on inheritance.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.","title":"Why can&#39;t we declare string like below?","body":"<blockquote>\n<p><em>&quot;What's wrong with this statement and why?</em></p>\n<p><em>String s1 = new StringBuilder(&quot;Hello&quot;); ...&quot;</em></p>\n</blockquote>\n<p>The reason that doesn't work is because <em>StringBuilder</em> is not a subclass of <em>String</em>.</p>\n<p>You <em>could</em>, just append the <em>toString</em> call to the <em>StringBuilder</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s1 = new StringBuilder(&quot;Hello&quot;).toString();\n</code></pre>\n<p>Consider the following example.<br />\nThe assignment will cause an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    A value = new B();\n}\n\nclass A {\n    \n}\n    \nclass B {\n    \n}\n</code></pre>\n<p>On the other hand, if the objects were related, it would work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n\n}\n\nclass B extends A {\n\n}\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on inheritance.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":28948567,"reputation":17,"user_id":22173688,"display_name":"AshishMaha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1689763861,"accepted_answer_id":76700812,"answer_count":3,"score":-3,"last_activity_date":1689565555,"creation_date":1689529153,"question_id":76699636,"body_markdown":"What&#39;s wrong with this statement and why?\r\n\r\n\r\nString s1 = new StringBuilder(&quot;Hello&quot;);\r\n\r\nI think this is due to immutable String class and mutable StringBuilder class combination.\r\nAny new suggestion/insights on this are much appreciated.\r\nThank you.","title":"Why can&#39;t we declare string like below?","body":"<p>What's wrong with this statement and why?</p>\n<p>String s1 = new StringBuilder(&quot;Hello&quot;);</p>\n<p>I think this is due to immutable String class and mutable StringBuilder class combination.\nAny new suggestion/insights on this are much appreciated.\nThank you.</p>\n"},{"tags":["java","spring-boot","reflection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689565990,"post_id":76701358,"comment_id":135226220,"body_markdown":"What happens when you try that?","body":"What happens when you try that?"},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1689567250,"post_id":76701358,"comment_id":135226295,"body_markdown":"You can use Hibernate Validator for the normal validation like above.","body":"You can use Hibernate Validator for the normal validation like above."},{"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"score":0,"creation_date":1689602569,"post_id":76701358,"comment_id":135232795,"body_markdown":"It throws an error about casting the inv field as an integer","body":"It throws an error about casting the inv field as an integer"},{"owner":{"account_id":1263716,"reputation":485,"user_id":1221476,"accept_rate":83,"display_name":"gpr"},"score":0,"creation_date":1689699493,"post_id":76701358,"comment_id":135249643,"body_markdown":"Try changing the variable name &quot;inv&quot;, seems to be present both in the local and in the class attribute.","body":"Try changing the variable name &quot;inv&quot;, seems to be present both in the local and in the class attribute."}],"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689565285,"creation_date":1689565285,"question_id":76701358,"body_markdown":"Hello I am a beginner at SpringBoot and I am having trouble using Java reflection to validate my min and max fields. I have a Part class that with each part object having different min and max values for the inventory and I want to access those values at runtime in the validation part of my SpringBoot application.\r\n\r\nThis is the relevant code for the Part class:\r\n\r\n\r\n```\r\n@ValidInvRange\r\n    int inv;\r\n\r\n    int min;\r\n    int max;\r\n````\r\n\r\nI want to know how I can access the integer values using reflection in a Validation class. I have been unable to figure it out so far.\r\n\r\nSo far I&#39;ve tried for each value to this-\r\n```\r\nField inv = Part.class.getDeclaredField(&quot;inv&quot;);\r\nint inventory = (int) inv.get(inv);\r\n```\r\n\r\n","title":"Having trouble adding fields to a SpringBoot entity","body":"<p>Hello I am a beginner at SpringBoot and I am having trouble using Java reflection to validate my min and max fields. I have a Part class that with each part object having different min and max values for the inventory and I want to access those values at runtime in the validation part of my SpringBoot application.</p>\n<p>This is the relevant code for the Part class:</p>\n<pre><code>@ValidInvRange\n    int inv;\n\n    int min;\n    int max;\n</code></pre>\n<p>I want to know how I can access the integer values using reflection in a Validation class. I have been unable to figure it out so far.</p>\n<p>So far I've tried for each value to this-</p>\n<pre><code>Field inv = Part.class.getDeclaredField(&quot;inv&quot;);\nint inventory = (int) inv.get(inv);\n</code></pre>\n"},{"tags":["java","android","autocompletetextview"],"answers":[{"tags":[],"owner":{"account_id":22301332,"reputation":21,"user_id":16526514,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689564359,"creation_date":1689438442,"answer_id":76694743,"question_id":76691988,"body_markdown":"Here are 2 things you could try:\r\n1. You could try to setup the `clickListener()` Method in the Adapter for each item:\r\n\r\n`convertView.setOnClickListener(v -&gt; {\r\n//Your code here\r\n});`\r\nIn this example we assume that the click method should be triggerd when the `convertView` is pressed.\r\n\r\n2. Also try to make sure that the array `numPlayersArray` isn&#39;t empty, when the ClickListener gets assigned.\r\n\r\nPlease let me know if it helped.\r\n","title":"Android - Issue with AutoCompleteTextView element, setOnItemClickListener not working","body":"<p>Here are 2 things you could try:</p>\n<ol>\n<li>You could try to setup the <code>clickListener()</code> Method in the Adapter for each item:</li>\n</ol>\n<p><code>convertView.setOnClickListener(v -&gt; { //Your code here });</code>\nIn this example we assume that the click method should be triggerd when the <code>convertView</code> is pressed.</p>\n<ol start=\"2\">\n<li>Also try to make sure that the array <code>numPlayersArray</code> isn't empty, when the ClickListener gets assigned.</li>\n</ol>\n<p>Please let me know if it helped.</p>\n"}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689564359,"creation_date":1689387799,"question_id":76691988,"body_markdown":"I have the following Activity code which ref. the R.layout.pool_details_new_layout (code below)\r\n\r\nThe Adapter ref. the number_of_players_dropdown_layout (code below)\r\n\r\n\r\nEverything works fine, the view loads the AutoCompleteTextView dropdown box populates and when i click on it is shows all the entires in it\r\n\r\nBUT \r\n\r\nwhen i select an item, I am expecting for the `numPlayersSelected.setOnItemClickListener` to execute and log to the logcat and show a toast on the screen but nothing happens!?\r\n\r\nDoes anyone know what i am missing!?\r\n\r\n\r\nActivity code:\r\n--------------\r\n\r\n    public class PoolDetailsActivity extends AppCompatActivity {\r\n \r\n        ArrayAdapter&lt;SkuItem&gt; numPlayersAdapter;\r\n        private AutoCompleteTextView numPlayersSelected;\r\n        public static Activity activity = null;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        \r\n            setContentView(R.layout.pool_details_new_layout);\r\n           \r\n            activity = this;\r\n\r\n            numPlayersSelected = (AutoCompleteTextView) findViewById(R.id.numOfPlayersAddSelected);\r\n                        \r\n            numPlayersAdapter = new IAPSkuAdapter(activity, R.layout.number_of_players_dropdown_layout, numPlayersArray);\r\n\r\n            numPlayersSelected.setAdapter(numPlayersAdapter);\r\n\r\n            // NOT WORKING!?   &lt;-------------------------------------\r\n            numPlayersSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                    String selectedItemText = (String) parent.getItemAtPosition(position);\r\n\r\n                    Toast.makeText(getBaseContext(),selectedItemText + &quot; selected!&quot;, Toast.LENGTH_LONG).show();\r\n                    Log.e(TAG, &quot;&lt;&lt; SELECTED &gt;&gt; : &quot; + selectedItemText);\r\n\r\n                }\r\n\r\n            }\r\n                        \r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nnumber_of_players_dropdown_layout code:\r\n---------------------------------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n        app:cardElevation=&quot;10dp&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n        card_view:cardCornerRadius=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/adminLayout&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:text=&quot;Add Players&quot;\r\n                        android:layout_marginStart=&quot;10dp&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:textColor=&quot;#605E5E&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:id=&quot;@+id/numPlayersDropdown&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n     style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n                    android:hint=&quot;Select&quot;\r\n                    android:labelFor=&quot;@+id/numOfPlayersSelected&quot;\r\n                    android:background=&quot;#EAE7E7&quot;&gt;\r\n\r\n                    &lt;AutoCompleteTextView\r\n                        android:id=&quot;@+id/numOfPlayersAddSelected&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:inputType=&quot;none&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:padding=&quot;14dp&quot;\r\n                        android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n        \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n\r\npool_details_new_layout code:\r\n-----------------------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        tools:context=&quot;.PoolDetailsActivity&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fadeScrollbars=&quot;false&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/admin_support_layout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;include layout=&quot;@layout/pool_details_admin_layout&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n-------------- UPDATE ----------------\r\n\r\nAdapter Class Code:\r\n-------------------\r\n\r\n    public class IAPSkuAdapter extends ArrayAdapter&lt;SkuItem&gt; {\r\n  \r\n        public IAPSkuAdapter(@NonNull Context context, int resource, @NonNull List&lt;SkuItem&gt; skuItemList) {\r\n      \r\n            super(context, resource, skuItemList);\r\n\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n            \r\n            if (convertView == null) {\r\n\r\n                convertView = LayoutInflater.from(getContext()).inflate(R.layout.number_of_players_dropdown_layout, parent, false);\r\n\r\n            }\r\n\r\n            TextView skuTitle = convertView.findViewById(R.id.skuTitle);\r\n\r\n            TextView skuPrice = convertView.findViewById(R.id.skuPrice);\r\n\r\n            SkuItem skuItem = getItem(position);\r\n\r\n            skuTitle.setText(skuItem.getSkuTitle());\r\n        \r\n            skuPrice.setText(skuItem.getSkuPrice());\r\n        \r\n\r\n            return convertView;\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"Android - Issue with AutoCompleteTextView element, setOnItemClickListener not working","body":"<p>I have the following Activity code which ref. the R.layout.pool_details_new_layout (code below)</p>\n<p>The Adapter ref. the number_of_players_dropdown_layout (code below)</p>\n<p>Everything works fine, the view loads the AutoCompleteTextView dropdown box populates and when i click on it is shows all the entires in it</p>\n<p>BUT</p>\n<p>when i select an item, I am expecting for the <code>numPlayersSelected.setOnItemClickListener</code> to execute and log to the logcat and show a toast on the screen but nothing happens!?</p>\n<p>Does anyone know what i am missing!?</p>\n<h2>Activity code:</h2>\n<pre><code>public class PoolDetailsActivity extends AppCompatActivity {\n\n    ArrayAdapter&lt;SkuItem&gt; numPlayersAdapter;\n    private AutoCompleteTextView numPlayersSelected;\n    public static Activity activity = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    \n        setContentView(R.layout.pool_details_new_layout);\n       \n        activity = this;\n\n        numPlayersSelected = (AutoCompleteTextView) findViewById(R.id.numOfPlayersAddSelected);\n                    \n        numPlayersAdapter = new IAPSkuAdapter(activity, R.layout.number_of_players_dropdown_layout, numPlayersArray);\n\n        numPlayersSelected.setAdapter(numPlayersAdapter);\n\n        // NOT WORKING!?   &lt;-------------------------------------\n        numPlayersSelected.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                String selectedItemText = (String) parent.getItemAtPosition(position);\n\n                Toast.makeText(getBaseContext(),selectedItemText + &quot; selected!&quot;, Toast.LENGTH_LONG).show();\n                Log.e(TAG, &quot;&lt;&lt; SELECTED &gt;&gt; : &quot; + selectedItemText);\n\n            }\n\n        }\n                    \n    }\n\n}\n</code></pre>\n<h2>number_of_players_dropdown_layout code:</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.cardview.widget.CardView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:cardCornerRadius=&quot;15dp&quot;\n    app:cardElevation=&quot;10dp&quot;\n    app:cardUseCompatPadding=&quot;true&quot;\n    card_view:cardCornerRadius=&quot;5dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/adminLayout&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;LinearLayout\n                android:orientation=&quot;horizontal&quot;\n                android:padding=&quot;3dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;TextView\n                    android:text=&quot;Add Players&quot;\n                    android:layout_marginStart=&quot;10dp&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:textColor=&quot;#605E5E&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=&quot;@+id/numPlayersDropdown&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n                android:hint=&quot;Select&quot;\n                android:labelFor=&quot;@+id/numOfPlayersSelected&quot;\n                android:background=&quot;#EAE7E7&quot;&gt;\n\n                &lt;AutoCompleteTextView\n                    android:id=&quot;@+id/numOfPlayersAddSelected&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:inputType=&quot;none&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:padding=&quot;14dp&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n    \n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<h2>pool_details_new_layout code:</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:background=&quot;@color/black&quot;\n    tools:context=&quot;.PoolDetailsActivity&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fadeScrollbars=&quot;false&quot;&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/admin_support_layout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;include layout=&quot;@layout/pool_details_admin_layout&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>-------------- UPDATE ----------------</p>\n<h2>Adapter Class Code:</h2>\n<pre><code>public class IAPSkuAdapter extends ArrayAdapter&lt;SkuItem&gt; {\n\n    public IAPSkuAdapter(@NonNull Context context, int resource, @NonNull List&lt;SkuItem&gt; skuItemList) {\n  \n        super(context, resource, skuItemList);\n\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        \n        if (convertView == null) {\n\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.number_of_players_dropdown_layout, parent, false);\n\n        }\n\n        TextView skuTitle = convertView.findViewById(R.id.skuTitle);\n\n        TextView skuPrice = convertView.findViewById(R.id.skuPrice);\n\n        SkuItem skuItem = getItem(position);\n\n        skuTitle.setText(skuItem.getSkuTitle());\n    \n        skuPrice.setText(skuItem.getSkuPrice());\n    \n\n        return convertView;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","jpopupmenu"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1329295509,"creation_date":1329295509,"answer_id":9290215,"question_id":9288350,"body_markdown":"May be this\r\nhttp://www.javabeginner.com/java-swing/java-scrollable-popup-menu","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>May be this\n<a href=\"http://www.javabeginner.com/java-swing/java-scrollable-popup-menu\" rel=\"noreferrer\">http://www.javabeginner.com/java-swing/java-scrollable-popup-menu</a></p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1329295857,"creation_date":1329295556,"answer_id":9290225,"question_id":9288350,"body_markdown":"Basically you can add any JComponents to the JPopupMenu, you can add JScrollpane to the JPopup by nesting JPanel / JList with another JComponents, \r\n\r\nNotice but there is rule that swing GUI doesn&#39;t allowing two lightweight popup window in same time, best example is [common Bug in Swing about JComboBox in the JPopup][1]\r\n\r\nyou have look at JWindow, create once time and re_use that for another Action, nothing best around as to check how popup JWindow really works for [JCalendar by Kai Toedter][2] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8511560/714968\r\n  [2]: http://www.toedter.com/en/jcalendar/","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Basically you can add any JComponents to the JPopupMenu, you can add JScrollpane to the JPopup by nesting JPanel / JList with another JComponents, </p>\n\n<p>Notice but there is rule that swing GUI doesn't allowing two lightweight popup window in same time, best example is <a href=\"https://stackoverflow.com/a/8511560/714968\">common Bug in Swing about JComboBox in the JPopup</a></p>\n\n<p>you have look at JWindow, create once time and re_use that for another Action, nothing best around as to check how popup JWindow really works for <a href=\"http://www.toedter.com/en/jcalendar/\" rel=\"nofollow noreferrer\">JCalendar by Kai Toedter</a> </p>\n"},{"tags":[],"owner":{"account_id":2207216,"reputation":461,"user_id":1950115,"display_name":"Riquochet"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1470658990,"creation_date":1357344330,"answer_id":14167008,"question_id":9288350,"body_markdown":"Here is a version I created using a scrollbar. It is just a simple example, so adapt as you see fit:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Insets;\r\n    import java.awt.LayoutManager;\r\n    import java.awt.event.AdjustmentEvent;\r\n    import java.awt.event.AdjustmentListener;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.event.MouseWheelListener;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.JScrollBar;\r\n\r\n    public class JScrollPopupMenu extends JPopupMenu {\r\n        protected int maximumVisibleRows = 10;\r\n\r\n        public JScrollPopupMenu() {\r\n            this(null);\r\n        }\r\n\r\n\r\n        public JScrollPopupMenu(String label) {\r\n            super(label);\r\n            setLayout(new ScrollPopupMenuLayout());\r\n\r\n            super.add(getScrollBar());\r\n            addMouseWheelListener(new MouseWheelListener() {\r\n                @Override public void mouseWheelMoved(MouseWheelEvent event) {\r\n                    JScrollBar scrollBar = getScrollBar();\r\n                    int amount = (event.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\r\n                                 ? event.getUnitsToScroll() * scrollBar.getUnitIncrement()\r\n                                 : (event.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\r\n\r\n                    scrollBar.setValue(scrollBar.getValue() + amount);\r\n                    event.consume();\r\n                }\r\n            });\r\n        }\r\n\r\n        private JScrollBar popupScrollBar;\r\n        protected JScrollBar getScrollBar() {\r\n            if(popupScrollBar == null) {\r\n                popupScrollBar = new JScrollBar(JScrollBar.VERTICAL);\r\n                popupScrollBar.addAdjustmentListener(new AdjustmentListener() {\r\n                    @Override public void adjustmentValueChanged(AdjustmentEvent e) {\r\n                        doLayout();\r\n                        repaint();\r\n                    }\r\n                });\r\n\r\n                popupScrollBar.setVisible(false);\r\n            }\r\n\r\n            return popupScrollBar;\r\n        }\r\n\r\n        public int getMaximumVisibleRows() {\r\n            return maximumVisibleRows;\r\n        }\r\n\r\n        public void setMaximumVisibleRows(int maximumVisibleRows) {\r\n            this.maximumVisibleRows = maximumVisibleRows;\r\n        }\r\n\r\n        public void paintChildren(Graphics g){\r\n            Insets insets = getInsets();\r\n            g.clipRect(insets.left, insets.top, getWidth(), getHeight() - insets.top - insets.bottom);\r\n            super.paintChildren(g);\r\n        }\r\n\r\n        protected void addImpl(Component comp, Object constraints, int index) {\r\n            super.addImpl(comp, constraints, index);\r\n\r\n            if(maximumVisibleRows &lt; getComponentCount()-1) {\r\n                getScrollBar().setVisible(true);\r\n            }\r\n        }\r\n\r\n        public void remove(int index) {\r\n            // can&#39;t remove the scrollbar\r\n            ++index;\r\n\r\n            super.remove(index);\r\n\r\n            if(maximumVisibleRows &gt;= getComponentCount()-1) {\r\n                getScrollBar().setVisible(false);\r\n            }\r\n        }\r\n\r\n        public void show(Component invoker, int x, int y){\r\n            JScrollBar scrollBar = getScrollBar();\r\n            if(scrollBar.isVisible()){\r\n                int extent = 0;\r\n                int max = 0;\r\n                int i = 0;\r\n                int unit = -1;\r\n                int width = 0;\r\n                for(Component comp : getComponents()) {\r\n                    if(!(comp instanceof JScrollBar)) {\r\n                        Dimension preferredSize = comp.getPreferredSize();\r\n                        width = Math.max(width, preferredSize.width);\r\n                        if(unit &lt; 0){\r\n                            unit = preferredSize.height;\r\n                        }\r\n                        if(i++ &lt; maximumVisibleRows) {\r\n                            extent += preferredSize.height;\r\n                        }\r\n                        max += preferredSize.height;\r\n                    }\r\n                }\r\n\r\n                Insets insets = getInsets();\r\n                int widthMargin = insets.left + insets.right;\r\n                int heightMargin = insets.top + insets.bottom;\r\n                scrollBar.setUnitIncrement(unit);\r\n                scrollBar.setBlockIncrement(extent);\r\n                scrollBar.setValues(0, heightMargin + extent, 0, heightMargin + max);\r\n\r\n                width += scrollBar.getPreferredSize().width + widthMargin;\r\n                int height = heightMargin + extent;\r\n\r\n                setPopupSize(new Dimension(width, height));\r\n            }\r\n\r\n            super.show(invoker, x, y);\r\n        }\r\n\r\n        protected static class ScrollPopupMenuLayout implements LayoutManager{\r\n            @Override public void addLayoutComponent(String name, Component comp) {}\r\n            @Override public void removeLayoutComponent(Component comp) {}\r\n\r\n            @Override public Dimension preferredLayoutSize(Container parent) {\r\n                int visibleAmount = Integer.MAX_VALUE;\r\n                Dimension dim = new Dimension();\r\n                for(Component comp :parent.getComponents()){\r\n                    if(comp.isVisible()) {\r\n                        if(comp instanceof JScrollBar){\r\n                            JScrollBar scrollBar = (JScrollBar) comp;\r\n                            visibleAmount = scrollBar.getVisibleAmount();\r\n                        }\r\n                        else {\r\n                            Dimension pref = comp.getPreferredSize();\r\n                            dim.width = Math.max(dim.width, pref.width);\r\n                            dim.height += pref.height;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                Insets insets = parent.getInsets();\r\n                dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\r\n\r\n                return dim;\r\n            }\r\n\r\n            @Override public Dimension minimumLayoutSize(Container parent) {\r\n                int visibleAmount = Integer.MAX_VALUE;\r\n                Dimension dim = new Dimension();\r\n                for(Component comp : parent.getComponents()) {\r\n                    if(comp.isVisible()){\r\n                        if(comp instanceof JScrollBar) {\r\n                            JScrollBar scrollBar = (JScrollBar) comp;\r\n                            visibleAmount = scrollBar.getVisibleAmount();\r\n                        }\r\n                        else {\r\n                            Dimension min = comp.getMinimumSize();\r\n                            dim.width = Math.max(dim.width, min.width);\r\n                            dim.height += min.height;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                Insets insets = parent.getInsets();\r\n                dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\r\n\r\n                return dim;\r\n            }\r\n\r\n            @Override public void layoutContainer(Container parent) {\r\n                Insets insets = parent.getInsets();\r\n\r\n                int width = parent.getWidth() - insets.left - insets.right;\r\n                int height = parent.getHeight() - insets.top - insets.bottom;\r\n\r\n                int x = insets.left;\r\n                int y = insets.top;\r\n                int position = 0;\r\n\r\n                for(Component comp : parent.getComponents()) {\r\n                    if((comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\r\n                        JScrollBar scrollBar = (JScrollBar) comp;\r\n                        Dimension dim = scrollBar.getPreferredSize();\r\n                        scrollBar.setBounds(x + width-dim.width, y, dim.width, height);\r\n                        width -= dim.width;\r\n                        position = scrollBar.getValue();\r\n                    }\r\n                }\r\n\r\n                y -= position;\r\n                for(Component comp : parent.getComponents()) {\r\n                    if(!(comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\r\n                        Dimension pref = comp.getPreferredSize();\r\n                        comp.setBounds(x, y, width, pref.height);\r\n                        y += pref.height;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Here is a version I created using a scrollbar. It is just a simple example, so adapt as you see fit:</p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Insets;\nimport java.awt.LayoutManager;\nimport java.awt.event.AdjustmentEvent;\nimport java.awt.event.AdjustmentListener;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.event.MouseWheelListener;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JScrollBar;\n\npublic class JScrollPopupMenu extends JPopupMenu {\n    protected int maximumVisibleRows = 10;\n\n    public JScrollPopupMenu() {\n        this(null);\n    }\n\n\n    public JScrollPopupMenu(String label) {\n        super(label);\n        setLayout(new ScrollPopupMenuLayout());\n\n        super.add(getScrollBar());\n        addMouseWheelListener(new MouseWheelListener() {\n            @Override public void mouseWheelMoved(MouseWheelEvent event) {\n                JScrollBar scrollBar = getScrollBar();\n                int amount = (event.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\n                             ? event.getUnitsToScroll() * scrollBar.getUnitIncrement()\n                             : (event.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\n\n                scrollBar.setValue(scrollBar.getValue() + amount);\n                event.consume();\n            }\n        });\n    }\n\n    private JScrollBar popupScrollBar;\n    protected JScrollBar getScrollBar() {\n        if(popupScrollBar == null) {\n            popupScrollBar = new JScrollBar(JScrollBar.VERTICAL);\n            popupScrollBar.addAdjustmentListener(new AdjustmentListener() {\n                @Override public void adjustmentValueChanged(AdjustmentEvent e) {\n                    doLayout();\n                    repaint();\n                }\n            });\n\n            popupScrollBar.setVisible(false);\n        }\n\n        return popupScrollBar;\n    }\n\n    public int getMaximumVisibleRows() {\n        return maximumVisibleRows;\n    }\n\n    public void setMaximumVisibleRows(int maximumVisibleRows) {\n        this.maximumVisibleRows = maximumVisibleRows;\n    }\n\n    public void paintChildren(Graphics g){\n        Insets insets = getInsets();\n        g.clipRect(insets.left, insets.top, getWidth(), getHeight() - insets.top - insets.bottom);\n        super.paintChildren(g);\n    }\n\n    protected void addImpl(Component comp, Object constraints, int index) {\n        super.addImpl(comp, constraints, index);\n\n        if(maximumVisibleRows &lt; getComponentCount()-1) {\n            getScrollBar().setVisible(true);\n        }\n    }\n\n    public void remove(int index) {\n        // can't remove the scrollbar\n        ++index;\n\n        super.remove(index);\n\n        if(maximumVisibleRows &gt;= getComponentCount()-1) {\n            getScrollBar().setVisible(false);\n        }\n    }\n\n    public void show(Component invoker, int x, int y){\n        JScrollBar scrollBar = getScrollBar();\n        if(scrollBar.isVisible()){\n            int extent = 0;\n            int max = 0;\n            int i = 0;\n            int unit = -1;\n            int width = 0;\n            for(Component comp : getComponents()) {\n                if(!(comp instanceof JScrollBar)) {\n                    Dimension preferredSize = comp.getPreferredSize();\n                    width = Math.max(width, preferredSize.width);\n                    if(unit &lt; 0){\n                        unit = preferredSize.height;\n                    }\n                    if(i++ &lt; maximumVisibleRows) {\n                        extent += preferredSize.height;\n                    }\n                    max += preferredSize.height;\n                }\n            }\n\n            Insets insets = getInsets();\n            int widthMargin = insets.left + insets.right;\n            int heightMargin = insets.top + insets.bottom;\n            scrollBar.setUnitIncrement(unit);\n            scrollBar.setBlockIncrement(extent);\n            scrollBar.setValues(0, heightMargin + extent, 0, heightMargin + max);\n\n            width += scrollBar.getPreferredSize().width + widthMargin;\n            int height = heightMargin + extent;\n\n            setPopupSize(new Dimension(width, height));\n        }\n\n        super.show(invoker, x, y);\n    }\n\n    protected static class ScrollPopupMenuLayout implements LayoutManager{\n        @Override public void addLayoutComponent(String name, Component comp) {}\n        @Override public void removeLayoutComponent(Component comp) {}\n\n        @Override public Dimension preferredLayoutSize(Container parent) {\n            int visibleAmount = Integer.MAX_VALUE;\n            Dimension dim = new Dimension();\n            for(Component comp :parent.getComponents()){\n                if(comp.isVisible()) {\n                    if(comp instanceof JScrollBar){\n                        JScrollBar scrollBar = (JScrollBar) comp;\n                        visibleAmount = scrollBar.getVisibleAmount();\n                    }\n                    else {\n                        Dimension pref = comp.getPreferredSize();\n                        dim.width = Math.max(dim.width, pref.width);\n                        dim.height += pref.height;\n                    }\n                }\n            }\n\n            Insets insets = parent.getInsets();\n            dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\n\n            return dim;\n        }\n\n        @Override public Dimension minimumLayoutSize(Container parent) {\n            int visibleAmount = Integer.MAX_VALUE;\n            Dimension dim = new Dimension();\n            for(Component comp : parent.getComponents()) {\n                if(comp.isVisible()){\n                    if(comp instanceof JScrollBar) {\n                        JScrollBar scrollBar = (JScrollBar) comp;\n                        visibleAmount = scrollBar.getVisibleAmount();\n                    }\n                    else {\n                        Dimension min = comp.getMinimumSize();\n                        dim.width = Math.max(dim.width, min.width);\n                        dim.height += min.height;\n                    }\n                }\n            }\n\n            Insets insets = parent.getInsets();\n            dim.height = Math.min(dim.height + insets.top + insets.bottom, visibleAmount);\n\n            return dim;\n        }\n\n        @Override public void layoutContainer(Container parent) {\n            Insets insets = parent.getInsets();\n\n            int width = parent.getWidth() - insets.left - insets.right;\n            int height = parent.getHeight() - insets.top - insets.bottom;\n\n            int x = insets.left;\n            int y = insets.top;\n            int position = 0;\n\n            for(Component comp : parent.getComponents()) {\n                if((comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\n                    JScrollBar scrollBar = (JScrollBar) comp;\n                    Dimension dim = scrollBar.getPreferredSize();\n                    scrollBar.setBounds(x + width-dim.width, y, dim.width, height);\n                    width -= dim.width;\n                    position = scrollBar.getValue();\n                }\n            }\n\n            y -= position;\n            for(Component comp : parent.getComponents()) {\n                if(!(comp instanceof JScrollBar) &amp;&amp; comp.isVisible()) {\n                    Dimension pref = comp.getPreferredSize();\n                    comp.setBounds(x, y, width, pref.height);\n                    y += pref.height;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2207216,"reputation":461,"user_id":1950115,"display_name":"Riquochet"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1361994720,"creation_date":1361994720,"answer_id":15121081,"question_id":9288350,"body_markdown":"In addition to the JScrollPopupMenu above, I also needed a a scroll bar in a sub menu (aka a &quot;Pull Right Menu.&quot;) This seems to be a more common case. So I adapted a JMenu to use the JScrollPopupMenu called JScrollMenu:\r\n\r\n    \r\n\r\n\r\n\r\n    import javax.swing.Action;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.MenuElement;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.plaf.MenuItemUI;\r\n    import javax.swing.plaf.PopupMenuUI;\r\n    import java.awt.Component;\r\n    import java.awt.ComponentOrientation;\r\n    \r\n    \r\n    \r\n    public class JScrollMenu extends JMenu {\r\n        // Covers the one in the JMenu because the method that creates it in JMenu is private\r\n        /** The popup menu portion of the menu.*/\r\n        private JPopupMenu popupMenu;\r\n    \r\n    \r\n        /**\r\n         * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with no text.\r\n         */\r\n        public JScrollMenu() {\r\n            this(&quot;&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with the supplied string as its text.\r\n         *\r\n         * @param s the text for the menu label\r\n         */\r\n        public JScrollMenu(String s) {\r\n            super(s);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a menu whose properties are taken from the &lt;code&gt;Action&lt;/code&gt; supplied.\r\n         *\r\n         * @param a an &lt;code&gt;Action&lt;/code&gt;\r\n         */\r\n        public JScrollMenu(Action a) {\r\n            this();\r\n            setAction(a);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Lazily creates the popup menu. This method will create the popup using the &lt;code&gt;JScrollPopupMenu&lt;/code&gt; class. \r\n         */\r\n        protected void ensurePopupMenuCreated() {\r\n            if(popupMenu == null) {\r\n                this.popupMenu = new JScrollPopupMenu();\r\n                popupMenu.setInvoker(this);\r\n                popupListener = createWinListener(popupMenu);\r\n            }\r\n        }\r\n    \r\n    //////////////////////////////\r\n    //// All of these methods are necessary because ensurePopupMenuCreated() is private in JMenu\r\n    //////////////////////////////\r\n        @Override\r\n        public void updateUI() {\r\n            setUI((MenuItemUI) UIManager.getUI(this));\r\n    \r\n            if(popupMenu != null) {\r\n                popupMenu.setUI((PopupMenuUI) UIManager.getUI(popupMenu));\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean isPopupMenuVisible() {\r\n            ensurePopupMenuCreated();\r\n            return popupMenu.isVisible();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void setMenuLocation(int x, int y) {\r\n            super.setMenuLocation(x, y);\r\n            if(popupMenu != null) {\r\n                popupMenu.setLocation(x, y);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public JMenuItem add(JMenuItem menuItem) {\r\n            ensurePopupMenuCreated();\r\n            return popupMenu.add(menuItem);\r\n        }\r\n    \r\n        @Override\r\n        public Component add(Component c) {\r\n            ensurePopupMenuCreated();\r\n            popupMenu.add(c);\r\n            return c;\r\n        }\r\n    \r\n        @Override\r\n        public Component add(Component c, int index) {\r\n            ensurePopupMenuCreated();\r\n            popupMenu.add(c, index);\r\n            return c;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void addSeparator() {\r\n            ensurePopupMenuCreated();\r\n            popupMenu.addSeparator();\r\n        }\r\n    \r\n        @Override\r\n        public void insert(String s, int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n    \r\n            ensurePopupMenuCreated();\r\n            popupMenu.insert(new JMenuItem(s), pos);\r\n        }\r\n    \r\n        @Override\r\n        public JMenuItem insert(JMenuItem mi, int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n            ensurePopupMenuCreated();\r\n            popupMenu.insert(mi, pos);\r\n            return mi;\r\n        }\r\n    \r\n        @Override\r\n        public JMenuItem insert(Action a, int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n    \r\n            ensurePopupMenuCreated();\r\n            JMenuItem mi = new JMenuItem(a);\r\n            mi.setHorizontalTextPosition(JButton.TRAILING);\r\n            mi.setVerticalTextPosition(JButton.CENTER);\r\n            popupMenu.insert(mi, pos);\r\n            return mi;\r\n        }\r\n    \r\n        @Override\r\n        public void insertSeparator(int index) {\r\n            if(index &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n    \r\n            ensurePopupMenuCreated();\r\n            popupMenu.insert(new JPopupMenu.Separator(), index);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void remove(JMenuItem item) {\r\n            if(popupMenu != null){\r\n                popupMenu.remove(item);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void remove(int pos) {\r\n            if(pos &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;index less than zero.&quot;);\r\n            }\r\n            if(pos &gt; getItemCount()) {\r\n                throw new IllegalArgumentException(&quot;index greater than the number of items.&quot;);\r\n            }\r\n            if(popupMenu != null){\r\n                popupMenu.remove(pos);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void remove(Component c) {\r\n            if(popupMenu != null){\r\n                popupMenu.remove(c);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void removeAll() {\r\n            if(popupMenu != null){\r\n                popupMenu.removeAll();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getMenuComponentCount() {\r\n            return (popupMenu == null) ? 0 : popupMenu.getComponentCount();\r\n        }\r\n    \r\n        @Override\r\n        public Component getMenuComponent(int n) {\r\n            return (popupMenu == null) ? null : popupMenu.getComponent(n);\r\n        }\r\n    \r\n        @Override\r\n        public Component[] getMenuComponents() {\r\n            return (popupMenu == null) ? new Component[0] : popupMenu.getComponents();\r\n        }\r\n    \r\n        @Override\r\n        public JPopupMenu getPopupMenu() {\r\n            ensurePopupMenuCreated();\r\n            return popupMenu;\r\n        }\r\n    \r\n        @Override\r\n        public MenuElement[] getSubElements() {\r\n            return popupMenu == null ? new MenuElement[0] : new MenuElement[]{popupMenu};\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void applyComponentOrientation(ComponentOrientation o) {\r\n            super.applyComponentOrientation(o);\r\n    \r\n            if(popupMenu != null) {\r\n                int ncomponents = getMenuComponentCount();\r\n                for(int i = 0; i &lt; ncomponents; ++i) {\r\n                    getMenuComponent(i).applyComponentOrientation(o);\r\n                }\r\n                popupMenu.setComponentOrientation(o);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void setComponentOrientation(ComponentOrientation o) {\r\n            super.setComponentOrientation(o);\r\n            if(popupMenu != null) {\r\n                popupMenu.setComponentOrientation(o);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>In addition to the JScrollPopupMenu above, I also needed a a scroll bar in a sub menu (aka a \"Pull Right Menu.\") This seems to be a more common case. So I adapted a JMenu to use the JScrollPopupMenu called JScrollMenu:</p>\n\n<pre><code>import javax.swing.Action;\nimport javax.swing.JButton;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPopupMenu;\nimport javax.swing.MenuElement;\nimport javax.swing.UIManager;\nimport javax.swing.plaf.MenuItemUI;\nimport javax.swing.plaf.PopupMenuUI;\nimport java.awt.Component;\nimport java.awt.ComponentOrientation;\n\n\n\npublic class JScrollMenu extends JMenu {\n    // Covers the one in the JMenu because the method that creates it in JMenu is private\n    /** The popup menu portion of the menu.*/\n    private JPopupMenu popupMenu;\n\n\n    /**\n     * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with no text.\n     */\n    public JScrollMenu() {\n        this(\"\");\n    }\n\n    /**\n     * Constructs a new &lt;code&gt;JMenu&lt;/code&gt; with the supplied string as its text.\n     *\n     * @param s the text for the menu label\n     */\n    public JScrollMenu(String s) {\n        super(s);\n    }\n\n    /**\n     * Constructs a menu whose properties are taken from the &lt;code&gt;Action&lt;/code&gt; supplied.\n     *\n     * @param a an &lt;code&gt;Action&lt;/code&gt;\n     */\n    public JScrollMenu(Action a) {\n        this();\n        setAction(a);\n    }\n\n\n    /**\n     * Lazily creates the popup menu. This method will create the popup using the &lt;code&gt;JScrollPopupMenu&lt;/code&gt; class. \n     */\n    protected void ensurePopupMenuCreated() {\n        if(popupMenu == null) {\n            this.popupMenu = new JScrollPopupMenu();\n            popupMenu.setInvoker(this);\n            popupListener = createWinListener(popupMenu);\n        }\n    }\n\n//////////////////////////////\n//// All of these methods are necessary because ensurePopupMenuCreated() is private in JMenu\n//////////////////////////////\n    @Override\n    public void updateUI() {\n        setUI((MenuItemUI) UIManager.getUI(this));\n\n        if(popupMenu != null) {\n            popupMenu.setUI((PopupMenuUI) UIManager.getUI(popupMenu));\n        }\n    }\n\n\n    @Override\n    public boolean isPopupMenuVisible() {\n        ensurePopupMenuCreated();\n        return popupMenu.isVisible();\n    }\n\n\n    @Override\n    public void setMenuLocation(int x, int y) {\n        super.setMenuLocation(x, y);\n        if(popupMenu != null) {\n            popupMenu.setLocation(x, y);\n        }\n    }\n\n    @Override\n    public JMenuItem add(JMenuItem menuItem) {\n        ensurePopupMenuCreated();\n        return popupMenu.add(menuItem);\n    }\n\n    @Override\n    public Component add(Component c) {\n        ensurePopupMenuCreated();\n        popupMenu.add(c);\n        return c;\n    }\n\n    @Override\n    public Component add(Component c, int index) {\n        ensurePopupMenuCreated();\n        popupMenu.add(c, index);\n        return c;\n    }\n\n\n    @Override\n    public void addSeparator() {\n        ensurePopupMenuCreated();\n        popupMenu.addSeparator();\n    }\n\n    @Override\n    public void insert(String s, int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n\n        ensurePopupMenuCreated();\n        popupMenu.insert(new JMenuItem(s), pos);\n    }\n\n    @Override\n    public JMenuItem insert(JMenuItem mi, int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n        ensurePopupMenuCreated();\n        popupMenu.insert(mi, pos);\n        return mi;\n    }\n\n    @Override\n    public JMenuItem insert(Action a, int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n\n        ensurePopupMenuCreated();\n        JMenuItem mi = new JMenuItem(a);\n        mi.setHorizontalTextPosition(JButton.TRAILING);\n        mi.setVerticalTextPosition(JButton.CENTER);\n        popupMenu.insert(mi, pos);\n        return mi;\n    }\n\n    @Override\n    public void insertSeparator(int index) {\n        if(index &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n\n        ensurePopupMenuCreated();\n        popupMenu.insert(new JPopupMenu.Separator(), index);\n    }\n\n\n    @Override\n    public void remove(JMenuItem item) {\n        if(popupMenu != null){\n            popupMenu.remove(item);\n        }\n    }\n\n    @Override\n    public void remove(int pos) {\n        if(pos &lt; 0) {\n            throw new IllegalArgumentException(\"index less than zero.\");\n        }\n        if(pos &gt; getItemCount()) {\n            throw new IllegalArgumentException(\"index greater than the number of items.\");\n        }\n        if(popupMenu != null){\n            popupMenu.remove(pos);\n        }\n    }\n\n    @Override\n    public void remove(Component c) {\n        if(popupMenu != null){\n            popupMenu.remove(c);\n        }\n    }\n\n    @Override\n    public void removeAll() {\n        if(popupMenu != null){\n            popupMenu.removeAll();\n        }\n    }\n\n    @Override\n    public int getMenuComponentCount() {\n        return (popupMenu == null) ? 0 : popupMenu.getComponentCount();\n    }\n\n    @Override\n    public Component getMenuComponent(int n) {\n        return (popupMenu == null) ? null : popupMenu.getComponent(n);\n    }\n\n    @Override\n    public Component[] getMenuComponents() {\n        return (popupMenu == null) ? new Component[0] : popupMenu.getComponents();\n    }\n\n    @Override\n    public JPopupMenu getPopupMenu() {\n        ensurePopupMenuCreated();\n        return popupMenu;\n    }\n\n    @Override\n    public MenuElement[] getSubElements() {\n        return popupMenu == null ? new MenuElement[0] : new MenuElement[]{popupMenu};\n    }\n\n\n    @Override\n    public void applyComponentOrientation(ComponentOrientation o) {\n        super.applyComponentOrientation(o);\n\n        if(popupMenu != null) {\n            int ncomponents = getMenuComponentCount();\n            for(int i = 0; i &lt; ncomponents; ++i) {\n                getMenuComponent(i).applyComponentOrientation(o);\n            }\n            popupMenu.setComponentOrientation(o);\n        }\n    }\n\n    @Override\n    public void setComponentOrientation(ComponentOrientation o) {\n        super.setComponentOrientation(o);\n        if(popupMenu != null) {\n            popupMenu.setComponentOrientation(o);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657961,"reputation":47,"user_id":2298256,"display_name":"Markysch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371123795,"creation_date":1371123795,"answer_id":17086211,"question_id":9288350,"body_markdown":"Alternately you may want to consider JidePopupMenu: [Scrollable JPopupMenu][1]\r\n\r\n\r\n  [1]: http://www.jidesoft.com","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Alternately you may want to consider JidePopupMenu: <a href=\"http://www.jidesoft.com\" rel=\"nofollow\">Scrollable JPopupMenu</a></p>\n"},{"tags":[],"owner":{"account_id":2823268,"reputation":124,"user_id":2426490,"display_name":"andronix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468175071,"creation_date":1468175071,"answer_id":38295139,"question_id":9288350,"body_markdown":"As I needed popup menu with Scrollbar, I just reused popup menu from JComboBox.\r\nThe trick was to put JComboBox in a JViewport, so that only arrow button was visible. You may make it just one pixel small or even lesser and use event from JideSplitButton to open popup.\r\n\r\nYou may find code on [github][1].\r\n\r\n\r\n  [1]: https://github.com/andronix3/SwingHacks/blob/master/com/smartg/swing/MultiSelectionBox.java","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>As I needed popup menu with Scrollbar, I just reused popup menu from JComboBox.\nThe trick was to put JComboBox in a JViewport, so that only arrow button was visible. You may make it just one pixel small or even lesser and use event from JideSplitButton to open popup.</p>\n\n<p>You may find code on <a href=\"https://github.com/andronix3/SwingHacks/blob/master/com/smartg/swing/MultiSelectionBox.java\" rel=\"nofollow\">github</a>.</p>\n"},{"tags":[],"owner":{"account_id":1940522,"reputation":310,"user_id":1746808,"display_name":"britulin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490101033,"creation_date":1490101033,"answer_id":42927834,"question_id":9288350,"body_markdown":"Here&#39;s another one I found very useful: https://tips4java.wordpress.com/2009/02/01/menu-scroller/\r\n\r\nIt can be called on JMenu or JPopupMenu like this:\r\n\r\n`MenuScroller.setScrollerFor(menuInstance, 8, 125, 3, 1);`\r\n\r\n[![menu scroller][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TS3ty.gif","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Here's another one I found very useful: <a href=\"https://tips4java.wordpress.com/2009/02/01/menu-scroller/\" rel=\"noreferrer\">https://tips4java.wordpress.com/2009/02/01/menu-scroller/</a></p>\n\n<p>It can be called on JMenu or JPopupMenu like this:</p>\n\n<p><code>MenuScroller.setScrollerFor(menuInstance, 8, 125, 3, 1);</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/TS3ty.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TS3ty.gif\" alt=\"menu scroller\"></a></p>\n"},{"tags":[],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663826903,"creation_date":1663826903,"answer_id":73810031,"question_id":9288350,"body_markdown":"Adding to the [JScrollPopupMenu answer above][1] (I can&#39;t edit it).\r\n\r\nIn order to have it scroll on arrow navigation etc., I added this:\r\n\r\n    @Override public void scrollRectToVisible(Rectangle aRect) {\r\n        final Insets insets = getInsets();\r\n        final int scrollY = popupScrollBar.getValue();\r\n        int y = aRect.y;\r\n        if (y - insets.top &lt; 0)\r\n            popupScrollBar.setValue(scrollY + y - insets.top);\r\n        else {\r\n            y += aRect.height;\r\n            final int bottom = getHeight() - insets.bottom;\r\n            if (y &gt; bottom)\r\n                popupScrollBar.setValue(scrollY + y - bottom);\r\n        }\r\n    }\r\n\r\nWhich then be called like so:\r\n\r\n    popupMenu.scrollRectToVisible(menuItem.getBounds());\r\n\r\n  [1]: https://stackoverflow.com/a/14167008/5082991","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>Adding to the <a href=\"https://stackoverflow.com/a/14167008/5082991\">JScrollPopupMenu answer above</a> (I can't edit it).</p>\n<p>In order to have it scroll on arrow navigation etc., I added this:</p>\n<pre><code>@Override public void scrollRectToVisible(Rectangle aRect) {\n    final Insets insets = getInsets();\n    final int scrollY = popupScrollBar.getValue();\n    int y = aRect.y;\n    if (y - insets.top &lt; 0)\n        popupScrollBar.setValue(scrollY + y - insets.top);\n    else {\n        y += aRect.height;\n        final int bottom = getHeight() - insets.bottom;\n        if (y &gt; bottom)\n            popupScrollBar.setValue(scrollY + y - bottom);\n    }\n}\n</code></pre>\n<p>Which then be called like so:</p>\n<pre><code>popupMenu.scrollRectToVisible(menuItem.getBounds());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689563347,"creation_date":1689563347,"answer_id":76701286,"question_id":9288350,"body_markdown":"For precise scroll (trackpad, copy from com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth):\r\n\r\n\r\n    public JScrollPopupMenu(String label) {\r\n        super(label);\r\n        setLayout(new ScrollPopupMenuLayout());\r\n\r\n        super.add(getScrollBar());\r\n        addMouseWheelListener(e -&gt; {\r\n            if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL &amp;&amp;\r\n                    e.getPreciseWheelRotation() != 0 &amp;&amp;\r\n                    e.getPreciseWheelRotation() != e.getWheelRotation()) {\r\n                mouseWheelMovedSmooth(e);\r\n            } else {\r\n                JScrollBar scrollBar = getScrollBar();\r\n                int amount = (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\r\n                        ? e.getUnitsToScroll() * scrollBar.getUnitIncrement()\r\n                        : (e.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\r\n\r\n                scrollBar.setValue(scrollBar.getValue() + amount);\r\n                e.consume();\r\n            }\r\n        });\r\n    }\r\n    \r\n    ...\r\n    \r\n    // com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth\r\n    private void mouseWheelMovedSmooth(MouseWheelEvent e) {\r\n        // find scrollbar to scroll\r\n        JScrollBar scrollbar = popupScrollBar;\r\n\r\n        // consume event\r\n        e.consume();\r\n\r\n        // get precise wheel rotation\r\n        double rotation = e.getPreciseWheelRotation();\r\n\r\n        // get unit increment\r\n        int orientation = scrollbar.getOrientation();\r\n        int direction = rotation &lt; 0 ? -1 : 1;\r\n        int unitIncrement = scrollbar.getUnitIncrement(direction);\r\n\r\n        // get viewport width/height (the visible width/height)\r\n        int viewportWH = (orientation == SwingConstants.VERTICAL)\r\n                ? this.getHeight()\r\n                : this.getWidth();\r\n\r\n        // limit scroll increment to viewport width/height\r\n        // - if scroll amount is set to a large value in OS settings\r\n        // - for large unit increments in small viewports (e.g. horizontal scrolling in file chooser)\r\n        int scrollIncrement = Math.min(unitIncrement * e.getScrollAmount(), viewportWH);\r\n\r\n        // compute relative delta\r\n        double delta = rotation * scrollIncrement;\r\n        int idelta = (int) Math.round(delta);\r\n\r\n        // scroll at least one pixel to avoid &quot;hanging&quot;\r\n        // - for &quot;super-low-speed&quot; scrolling (move fingers very slowly on trackpad)\r\n        // - if unit increment is very small (e.g. 1 if scroll view does not implement\r\n        //   javax.swing.Scrollable interface)\r\n        if (idelta == 0) {\r\n            if (rotation &gt; 0) {\r\n                idelta = 1;\r\n            } else if (rotation &lt; 0) {\r\n                idelta = -1;\r\n            }\r\n        }\r\n\r\n        // compute new value\r\n        int value = scrollbar.getValue();\r\n        int minValue = scrollbar.getMinimum();\r\n        int maxValue = scrollbar.getMaximum() - scrollbar.getModel().getExtent();\r\n        int newValue = Math.max(minValue, Math.min(value + idelta, maxValue));\r\n\r\n        // set new value\r\n        if (newValue != value) {\r\n            scrollbar.setValue(newValue);\r\n        }\r\n    }","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>For precise scroll (trackpad, copy from com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth):</p>\n<pre><code>public JScrollPopupMenu(String label) {\n    super(label);\n    setLayout(new ScrollPopupMenuLayout());\n\n    super.add(getScrollBar());\n    addMouseWheelListener(e -&gt; {\n        if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL &amp;&amp;\n                e.getPreciseWheelRotation() != 0 &amp;&amp;\n                e.getPreciseWheelRotation() != e.getWheelRotation()) {\n            mouseWheelMovedSmooth(e);\n        } else {\n            JScrollBar scrollBar = getScrollBar();\n            int amount = (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL)\n                    ? e.getUnitsToScroll() * scrollBar.getUnitIncrement()\n                    : (e.getWheelRotation() &lt; 0 ? -1 : 1) * scrollBar.getBlockIncrement();\n\n            scrollBar.setValue(scrollBar.getValue() + amount);\n            e.consume();\n        }\n    });\n}\n\n...\n\n// com.formdev.flatlaf.ui.FlatScrollPaneUI.mouseWheelMovedSmooth\nprivate void mouseWheelMovedSmooth(MouseWheelEvent e) {\n    // find scrollbar to scroll\n    JScrollBar scrollbar = popupScrollBar;\n\n    // consume event\n    e.consume();\n\n    // get precise wheel rotation\n    double rotation = e.getPreciseWheelRotation();\n\n    // get unit increment\n    int orientation = scrollbar.getOrientation();\n    int direction = rotation &lt; 0 ? -1 : 1;\n    int unitIncrement = scrollbar.getUnitIncrement(direction);\n\n    // get viewport width/height (the visible width/height)\n    int viewportWH = (orientation == SwingConstants.VERTICAL)\n            ? this.getHeight()\n            : this.getWidth();\n\n    // limit scroll increment to viewport width/height\n    // - if scroll amount is set to a large value in OS settings\n    // - for large unit increments in small viewports (e.g. horizontal scrolling in file chooser)\n    int scrollIncrement = Math.min(unitIncrement * e.getScrollAmount(), viewportWH);\n\n    // compute relative delta\n    double delta = rotation * scrollIncrement;\n    int idelta = (int) Math.round(delta);\n\n    // scroll at least one pixel to avoid &quot;hanging&quot;\n    // - for &quot;super-low-speed&quot; scrolling (move fingers very slowly on trackpad)\n    // - if unit increment is very small (e.g. 1 if scroll view does not implement\n    //   javax.swing.Scrollable interface)\n    if (idelta == 0) {\n        if (rotation &gt; 0) {\n            idelta = 1;\n        } else if (rotation &lt; 0) {\n            idelta = -1;\n        }\n    }\n\n    // compute new value\n    int value = scrollbar.getValue();\n    int minValue = scrollbar.getMinimum();\n    int maxValue = scrollbar.getMaximum() - scrollbar.getModel().getExtent();\n    int newValue = Math.max(minValue, Math.min(value + idelta, maxValue));\n\n    // set new value\n    if (newValue != value) {\n        scrollbar.setValue(newValue);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383494,"reputation":5234,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13213,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":9290215,"answer_count":9,"score":18,"last_activity_date":1689563347,"creation_date":1329284054,"question_id":9288350,"body_markdown":"I would like to add a way to scroll through menu items in a `JPopupMenu`, much like scrolling through a list of items in a `JComboBox`.\r\n\r\nLet&#39;s say I have 10 menu items. I would like to display only 5 menu items at a time, and I would use a vertical scroll button at the bottom or top of the `JPopupMenu` to show the menu items that are not listed and hide the ones that I just saw.\r\n\r\nIs it possible? I am using JIDE Software&#39;s `JideSplitButton`, which displays a `JPopupMenu` when clicked. I am trying to keep the look and feel of the command bar on which I placed the `JideSplitButton`, so I don&#39;t want to replace it with a `JComboBox` unless I really have to.","title":"Adding vertical scroll to a JPopupMenu?","body":"<p>I would like to add a way to scroll through menu items in a <code>JPopupMenu</code>, much like scrolling through a list of items in a <code>JComboBox</code>.</p>\n\n<p>Let's say I have 10 menu items. I would like to display only 5 menu items at a time, and I would use a vertical scroll button at the bottom or top of the <code>JPopupMenu</code> to show the menu items that are not listed and hide the ones that I just saw.</p>\n\n<p>Is it possible? I am using JIDE Software's <code>JideSplitButton</code>, which displays a <code>JPopupMenu</code> when clicked. I am trying to keep the look and feel of the command bar on which I placed the <code>JideSplitButton</code>, so I don't want to replace it with a <code>JComboBox</code> unless I really have to.</p>\n"},{"tags":["java","sql","oracle","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1689585589,"post_id":76701271,"comment_id":135229016,"body_markdown":"Comparing generated SQL really is not a good testing strategy, IMHO. Oracle provides an official [docker image](https://github.com/oracle/docker-images). For unit testing, [Testcontainers](https://testcontainers.com/modules/oracle-xe/) (which internally uses the docker image) seems to be quite popular.","body":"Comparing generated SQL really is not a good testing strategy, IMHO. Oracle provides an official <a href=\"https://github.com/oracle/docker-images\" rel=\"nofollow noreferrer\">docker image</a>. For unit testing, <a href=\"https://testcontainers.com/modules/oracle-xe/\" rel=\"nofollow noreferrer\">Testcontainers</a> (which internally uses the docker image) seems to be quite popular."},{"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"score":0,"creation_date":1689637218,"post_id":76701271,"comment_id":135239016,"body_markdown":"Can&#39;t use Docker. Has to be in the code itself of in mem only. Thank you for your response. I have looked at Testcontainers and it seems like a very good idea for integrating test envs. Unfortunately, docker integration is not possible. Do let me know if there are any approaches to this. Is testing the SQL even possible in this situation?","body":"Can&#39;t use Docker. Has to be in the code itself of in mem only. Thank you for your response. I have looked at Testcontainers and it seems like a very good idea for integrating test envs. Unfortunately, docker integration is not possible. Do let me know if there are any approaches to this. Is testing the SQL even possible in this situation?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1689693577,"post_id":76701271,"comment_id":135248390,"body_markdown":"Not really. You can get a SQL string with placeholders i.e. `?`, but asserting that string is not particularly valuable as a test. Are you using the latest version of H2? There seems to be some [&#39;fix&#39;](https://github.com/h2database/h2database/pull/3396) regarding `SYSTIMESTAMP` recently. If there is an issue with the compat-mode, you should file a report on their [tracker](https://github.com/h2database/h2database/issues).  My recommendation, baed on my experience, still is to use an actual Oracle DB (on Docker or otherwise).","body":"Not really. You can get a SQL string with placeholders i.e. <code>?</code>, but asserting that string is not particularly valuable as a test. Are you using the latest version of H2? There seems to be some <a href=\"https://github.com/h2database/h2database/pull/3396\" rel=\"nofollow noreferrer\">&#39;fix&#39;</a> regarding <code>SYSTIMESTAMP</code> recently. If there is an issue with the compat-mode, you should file a report on their <a href=\"https://github.com/h2database/h2database/issues\" rel=\"nofollow noreferrer\">tracker</a>.  My recommendation, baed on my experience, still is to use an actual Oracle DB (on Docker or otherwise)."}],"owner":{"account_id":29030834,"reputation":1,"user_id":22237801,"display_name":"Avinash B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689563132,"creation_date":1689563132,"question_id":76701271,"body_markdown":"I have a Spring boot application that uses myBatis to perform CRUD operations. Now in order to test these DB calls, I can write unit test cases using h2 in memory database. Problem is even if h2 database with dialect is set to Oracle SQL, you still have to make changes to the query statement to make it work, this is not preferred (have to additionally work on translating and maintaining). So now instead of using h2, can I directly test the SQL generated by myBatis during runtime? This way I&#39;m testing the DB call on a command level rather than an execution level. SQL queries that I&#39;m using are SELECT, UPDATE\r\n\r\nIf this is a bad idea, please enlighten me. For now checking the query syntax seems to the most efficient way of testing this. If there is a way to test full extent of Oracle SQL dialect, do let me know.\r\n\r\n\r\n\r\nThe queries which I&#39;m using\r\n```\r\nSELECT COLUMN_1, COLUMN_2, COLUMN_2 FROM TABLE1 WHERE COLUMN_1=VALUE1 AND COLUMN2 BETWEEN TIMESTAMP1 AND TIMESTAMP2 DESC FETCH FIRST 1 ROW ONLY\r\n```\r\nIssue at &#39;DESC FIRST FIRST 1 ROW ONLY&#39;\r\n```\r\nINSERT INTO TABLE2 (COLUMN_1, COLUMN_2) VALUES(123, SYSTIMESTAMP)\r\n```\r\nSYSTIMESTAMP has different syntax in H2\r\n\r\nUsual queries would work fine with H2 in mem, but using some of these commands have led to errors in h2 like ArrayIndexOutOfBounds exception etc.","title":"How to test SQL queries by checking the syntax of the command (with the arg values) that gets generated by the library (myBatis)?","body":"<p>I have a Spring boot application that uses myBatis to perform CRUD operations. Now in order to test these DB calls, I can write unit test cases using h2 in memory database. Problem is even if h2 database with dialect is set to Oracle SQL, you still have to make changes to the query statement to make it work, this is not preferred (have to additionally work on translating and maintaining). So now instead of using h2, can I directly test the SQL generated by myBatis during runtime? This way I'm testing the DB call on a command level rather than an execution level. SQL queries that I'm using are SELECT, UPDATE</p>\n<p>If this is a bad idea, please enlighten me. For now checking the query syntax seems to the most efficient way of testing this. If there is a way to test full extent of Oracle SQL dialect, do let me know.</p>\n<p>The queries which I'm using</p>\n<pre><code>SELECT COLUMN_1, COLUMN_2, COLUMN_2 FROM TABLE1 WHERE COLUMN_1=VALUE1 AND COLUMN2 BETWEEN TIMESTAMP1 AND TIMESTAMP2 DESC FETCH FIRST 1 ROW ONLY\n</code></pre>\n<p>Issue at 'DESC FIRST FIRST 1 ROW ONLY'</p>\n<pre><code>INSERT INTO TABLE2 (COLUMN_1, COLUMN_2) VALUES(123, SYSTIMESTAMP)\n</code></pre>\n<p>SYSTIMESTAMP has different syntax in H2</p>\n<p>Usual queries would work fine with H2 in mem, but using some of these commands have led to errors in h2 like ArrayIndexOutOfBounds exception etc.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689559793,"post_id":76701128,"comment_id":135225761,"body_markdown":"Please don&#39;t post text as images. Edit your question to include the text as text.","body":"Please don&#39;t post text as images. Edit your question to include the text as text."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689560671,"post_id":76701128,"comment_id":135225823,"body_markdown":"And I don&#39;t mean nice links to the images -- copy and paste the text from your log files into your question, please.","body":"And I don&#39;t mean nice links to the images -- copy and paste the text from your log files into your question, please."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689560707,"post_id":76701128,"comment_id":135225828,"body_markdown":"Also what do you mean by destroying part of a bean?","body":"Also what do you mean by destroying part of a bean?"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689560728,"post_id":76701128,"comment_id":135225831,"body_markdown":"There is some config wrong in your nacos ,   This line  ```failover switch is not found  ... ```  and others behind is occur by the package path com.alibaba.nacos, checkoout  your  nacos config and version , may  be some potential conflict with other dependency","body":"There is some config wrong in your nacos ,   This line  <code>failover switch is not found  ... </code>  and others behind is occur by the package path com.alibaba.nacos, checkoout  your  nacos config and version , may  be some potential conflict with other dependency"},{"owner":{"account_id":19034226,"reputation":1,"user_id":13895654,"display_name":"George"},"score":0,"creation_date":1689563556,"post_id":76701128,"comment_id":135226043,"body_markdown":"thank you advise , i dont often post question on here,","body":"thank you advise , i dont often post question on here,"},{"owner":{"account_id":19034226,"reputation":1,"user_id":13895654,"display_name":"George"},"score":1,"creation_date":1689563901,"post_id":76701128,"comment_id":135226072,"body_markdown":"sorry for my stupid question , i configured pod name in my &quot;logback.xml&quot; , and found out the shudtown log and other log come from different pod","body":"sorry for my stupid question , i configured pod name in my &quot;logback.xml&quot; , and found out the shudtown log and other log come from different pod"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689602576,"post_id":76701128,"comment_id":135232799,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19034226,"reputation":1,"user_id":13895654,"display_name":"George"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689560585,"creation_date":1689559677,"question_id":76701128,"body_markdown":"the application started successful \r\n[vm log](https://i.stack.imgur.com/sWgUN.png),\r\nand after a while the shudownhook was triggered\r\n[shutdown thread.1](https://i.stack.imgur.com/CzLEG.png)\r\n[shutdown thread.2](https://i.stack.imgur.com/tpU3s.png),\r\ni don&#39;t know what cause this problem , it didn&#39;t show any excetpion or something, and the strangest thing is the http service still can call.\r\n[call log](https://i.stack.imgur.com/LjLfg.png) \r\n\r\nhow do i find out what cause this issue ?? and fix it . many thanks","title":"Why Spring destory parts of bean(not all)?","body":"<p>the application started successful\n<a href=\"https://i.stack.imgur.com/sWgUN.png\" rel=\"nofollow noreferrer\">vm log</a>,\nand after a while the shudownhook was triggered\n<a href=\"https://i.stack.imgur.com/CzLEG.png\" rel=\"nofollow noreferrer\">shutdown thread.1</a>\n<a href=\"https://i.stack.imgur.com/tpU3s.png\" rel=\"nofollow noreferrer\">shutdown thread.2</a>,\ni don't know what cause this problem , it didn't show any excetpion or something, and the strangest thing is the http service still can call.\n<a href=\"https://i.stack.imgur.com/LjLfg.png\" rel=\"nofollow noreferrer\">call log</a></p>\n<p>how do i find out what cause this issue ?? and fix it . many thanks</p>\n"},{"tags":["java","oop","optimization","methods","overriding"],"comments":[{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":3,"creation_date":1266886767,"post_id":2315445,"comment_id":2283341,"body_markdown":"How about just don&#39;t optimize it? It sounds like the optimization isn&#39;t significant enough to really matter.","body":"How about just don&#39;t optimize it? It sounds like the optimization isn&#39;t significant enough to really matter."},{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266887305,"post_id":2315445,"comment_id":2283381,"body_markdown":"Anon: The method is called hundreds of times per second.","body":"Anon: The method is called hundreds of times per second."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1266887714,"post_id":2315445,"comment_id":2283404,"body_markdown":"Then go for reflection, and cache the result in a private field.","body":"Then go for reflection, and cache the result in a private field."},{"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"score":0,"creation_date":1266888891,"post_id":2315445,"comment_id":2283503,"body_markdown":"Anon: A possibility, just a little unclean.","body":"Anon: A possibility, just a little unclean."}],"answers":[{"tags":[],"owner":{"account_id":51271,"reputation":4093,"user_id":153149,"display_name":"TheJacobTaylor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266886782,"creation_date":1266886782,"answer_id":2315454,"question_id":2315445,"body_markdown":"How many times do you expect the function to be called during the lifetime of the program? Reflection for a specific single method should not be too bad. If it is not worth that much time over the lifetime of the program my recommendation is to keep it simple, and don&#39;t include the small optimization.\r\n\r\nJacob","title":"How to quickly determine if a method is overridden in Java","body":"<p>How many times do you expect the function to be called during the lifetime of the program? Reflection for a specific single method should not be too bad. If it is not worth that much time over the lifetime of the program my recommendation is to keep it simple, and don't include the small optimization.</p>\n\n<p>Jacob</p>\n"},{"tags":[],"owner":{"account_id":28214,"reputation":305260,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1266887887,"creation_date":1266886950,"answer_id":2315467,"question_id":2315445,"body_markdown":"I wouldn&#39;t do this. It violates encapsulation and changes the contract of what your class is supposed to do without implementers knowing about it.\r\n\r\nIf you must do it, though, the best way is to invoke\r\n\r\n    class.getMethod(&quot;myMethod&quot;).getDeclaringClass();\r\n\r\nIf the class that&#39;s returned is your own, then it&#39;s not overridden; if it&#39;s something else, that subclass has overridden it. Yes, this is reflection, but it&#39;s still pretty cheap.\r\n\r\nI do like your protected-method approach, though. That would look something like this:\r\n\r\n    public class ExpensiveStrategy {\r\n      public void expensiveMethod() {\r\n        // ...\r\n        if (employOptimization()) {\r\n          // take a shortcut\r\n        }\r\n      }\r\n    \r\n      protected boolean employOptimization() {\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    public class TargetedStrategy extends ExpensiveStrategy {\r\n      @Override\r\n      protected boolean employOptimization() {\r\n        return true; // Now we can shortcut ExpensiveStrategy.\r\n      }\r\n    }","title":"How to quickly determine if a method is overridden in Java","body":"<p>I wouldn't do this. It violates encapsulation and changes the contract of what your class is supposed to do without implementers knowing about it.</p>\n\n<p>If you must do it, though, the best way is to invoke</p>\n\n<pre><code>class.getMethod(\"myMethod\").getDeclaringClass();\n</code></pre>\n\n<p>If the class that's returned is your own, then it's not overridden; if it's something else, that subclass has overridden it. Yes, this is reflection, but it's still pretty cheap.</p>\n\n<p>I do like your protected-method approach, though. That would look something like this:</p>\n\n<pre><code>public class ExpensiveStrategy {\n  public void expensiveMethod() {\n    // ...\n    if (employOptimization()) {\n      // take a shortcut\n    }\n  }\n\n  protected boolean employOptimization() {\n    return false;\n  }\n}\n\npublic class TargetedStrategy extends ExpensiveStrategy {\n  @Override\n  protected boolean employOptimization() {\n    return true; // Now we can shortcut ExpensiveStrategy.\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266887892,"creation_date":1266887892,"answer_id":2315516,"question_id":2315445,"body_markdown":"Reflection can be used to determine if a method is overridden. The code is a little bit tricky. For instance, you need to be aware that you have a runtime class that is a subclass of the class that overrides the method.\r\n\r\nYou are going to see the same runtime classes over and over again. So you can save the results of the check in a `WeakHashMap` keyed on the `Class`.\r\n\r\nSee my code in `java.awt.Component` dealing with `coalesceEvents` for an example.","title":"How to quickly determine if a method is overridden in Java","body":"<p>Reflection can be used to determine if a method is overridden. The code is a little bit tricky. For instance, you need to be aware that you have a runtime class that is a subclass of the class that overrides the method.</p>\n\n<p>You are going to see the same runtime classes over and over again. So you can save the results of the check in a <code>WeakHashMap</code> keyed on the <code>Class</code>.</p>\n\n<p>See my code in <code>java.awt.Component</code> dealing with <code>coalesceEvents</code> for an example.</p>\n"},{"tags":[],"owner":{"account_id":69502,"reputation":4999,"user_id":202160,"display_name":"Noel Ang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266888071,"creation_date":1266888071,"answer_id":2315526,"question_id":2315445,"body_markdown":"Annotate subclasses that overrides the particular method.  @OverridesMethodX.\r\n\r\nPerform the necessary reflective work on class load (i.e., in a `static` block) so that you publish the information via a final boolean flag.  Then, query the flag where and when you need it.\r\n\r\n\r\n","title":"How to quickly determine if a method is overridden in Java","body":"<p>Annotate subclasses that overrides the particular method.  @OverridesMethodX.</p>\n\n<p>Perform the necessary reflective work on class load (i.e., in a <code>static</code> block) so that you publish the information via a final boolean flag.  Then, query the flag where and when you need it.</p>\n"},{"tags":[],"owner":{"account_id":16881,"reputation":12006,"user_id":37231,"accept_rate":83,"display_name":"jdigital"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1266891366,"creation_date":1266891366,"answer_id":2315716,"question_id":2315445,"body_markdown":"&gt; Well, my optimization is a small yield on a case-by-case basis, and it only speeds things a lot because it is called hundreds of times per second.\r\n\r\nYou might want to see just what the Java optimizer can do.  Your hand-coded optimization might not be necessary.\r\n\r\nIf you decide that hand-coded optimization is necessary, the protected method approach you described is not a good idea because it exposes the details of your implementation.","title":"How to quickly determine if a method is overridden in Java","body":"<blockquote>\n  <p>Well, my optimization is a small yield on a case-by-case basis, and it only speeds things a lot because it is called hundreds of times per second.</p>\n</blockquote>\n\n<p>You might want to see just what the Java optimizer can do.  Your hand-coded optimization might not be necessary.</p>\n\n<p>If you decide that hand-coded optimization is necessary, the protected method approach you described is not a good idea because it exposes the details of your implementation.</p>\n"},{"tags":[],"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266892360,"creation_date":1266892360,"answer_id":2315775,"question_id":2315445,"body_markdown":"maybe there is a cleaner way to do this via the [Strategy Pattern][1], though I do not know how the rest of your application and data are modeled but it seem like it might fit.\r\n\r\nIt did to me anyhow when I was faced with a similar problem.  You could have a heuristic that decides which strategy to use depending on the data that is to be processed.\r\n\r\nAgain, I do not have enough information on your specific usage to see if this is overkill or not.  However I would refrain from changing the class signature for such specific optimization.  Usually when I feel the urge to go against the current I take it as a sing that I had not forseen a corner case when I designed the thing and that I should refactor it to a cleaner more comprehensive solution.\r\n\r\nhowever beware, such refactoring when done solely on optimization grounds almost inevitably lead to disaster.  If this is the case I would take the reflecive approach suggested above.  It does not alter the inheritance contract, and when done properly needs be done once only per subclass that requires it for the runtime life of the application.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"How to quickly determine if a method is overridden in Java","body":"<p>maybe there is a cleaner way to do this via the <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy Pattern</a>, though I do not know how the rest of your application and data are modeled but it seem like it might fit.</p>\n\n<p>It did to me anyhow when I was faced with a similar problem.  You could have a heuristic that decides which strategy to use depending on the data that is to be processed.</p>\n\n<p>Again, I do not have enough information on your specific usage to see if this is overkill or not.  However I would refrain from changing the class signature for such specific optimization.  Usually when I feel the urge to go against the current I take it as a sing that I had not forseen a corner case when I designed the thing and that I should refactor it to a cleaner more comprehensive solution.</p>\n\n<p>however beware, such refactoring when done solely on optimization grounds almost inevitably lead to disaster.  If this is the case I would take the reflecive approach suggested above.  It does not alter the inheritance contract, and when done properly needs be done once only per subclass that requires it for the runtime life of the application.</p>\n"},{"tags":[],"owner":{"account_id":2557991,"reputation":166,"user_id":2219589,"display_name":"SimonPe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364472736,"creation_date":1364472736,"answer_id":15681490,"question_id":2315445,"body_markdown":"I know this is a slightly old question, but for the sake of other googlers:\r\n\r\nI came up with a different solution using interfaces.\r\n\r\n    class FastSub extends Super {}\r\n    class SlowSub extends Super implements Super.LetMeHandleThis {\r\n        void doSomethingSlow() {\r\n            //not optimized\r\n        }\r\n    }\r\n    class Super {\r\n        static interface LetMeHandleThis {\r\n            void doSomethingSlow();\r\n        }\r\n        void doSomething() {\r\n            if (this instanceof LetMeHandleThis)\r\n                ((LetMeHandleThis) this).doSomethingSlow();\r\n            else\r\n                doSomethingFast();\r\n        }\r\n        private final void doSomethingFast() {\r\n            //optimized\r\n        }\r\n    }\r\n\r\nor the other way around:\r\n\r\n    class FastSub extends Super implements Super.OptimizeMe {}\r\n    class SlowSub extends Super {\r\n        void doSomethingSlow() {\r\n            //not optimized\r\n        }\r\n    }\r\n    class Super {\r\n        static interface OptimizeMe {}\r\n        void doSomething() {\r\n            if (this instanceof OptimizeMe)\r\n                doSomethingFast();\r\n            else\r\n                doSomethingSlow();\r\n        }\r\n        private final void doSomethingFast() {\r\n            //optimized\r\n        }\r\n        void doSomethingSlow(){}\r\n    }\r\n","title":"How to quickly determine if a method is overridden in Java","body":"<p>I know this is a slightly old question, but for the sake of other googlers:</p>\n\n<p>I came up with a different solution using interfaces.</p>\n\n<pre><code>class FastSub extends Super {}\nclass SlowSub extends Super implements Super.LetMeHandleThis {\n    void doSomethingSlow() {\n        //not optimized\n    }\n}\nclass Super {\n    static interface LetMeHandleThis {\n        void doSomethingSlow();\n    }\n    void doSomething() {\n        if (this instanceof LetMeHandleThis)\n            ((LetMeHandleThis) this).doSomethingSlow();\n        else\n            doSomethingFast();\n    }\n    private final void doSomethingFast() {\n        //optimized\n    }\n}\n</code></pre>\n\n<p>or the other way around:</p>\n\n<pre><code>class FastSub extends Super implements Super.OptimizeMe {}\nclass SlowSub extends Super {\n    void doSomethingSlow() {\n        //not optimized\n    }\n}\nclass Super {\n    static interface OptimizeMe {}\n    void doSomething() {\n        if (this instanceof OptimizeMe)\n            doSomethingFast();\n        else\n            doSomethingSlow();\n    }\n    private final void doSomethingFast() {\n        //optimized\n    }\n    void doSomethingSlow(){}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382973894,"creation_date":1382973894,"answer_id":19638714,"question_id":2315445,"body_markdown":"\tprivate static boolean isMethodImplemented(Object obj, String name)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tClass&lt;? extends Object&gt; clazz = obj.getClass();\r\n\r\n\t\t\treturn clazz.getMethod(name).getDeclaringClass().equals(clazz);\r\n\t\t}\r\n\t\tcatch (SecurityException e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;{}&quot;, e);\r\n\t\t}\r\n\t\tcatch (NoSuchMethodException e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;{}&quot;, e);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}","title":"How to quickly determine if a method is overridden in Java","body":"<pre><code>private static boolean isMethodImplemented(Object obj, String name)\n{\n    try\n    {\n        Class&lt;? extends Object&gt; clazz = obj.getClass();\n\n        return clazz.getMethod(name).getDeclaringClass().equals(clazz);\n    }\n    catch (SecurityException e)\n    {\n        log.error(\"{}\", e);\n    }\n    catch (NoSuchMethodException e)\n    {\n        log.error(\"{}\", e);\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713391,"reputation":7677,"user_id":1570996,"display_name":"Ramy Feteha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592308364,"creation_date":1592308364,"answer_id":62407799,"question_id":2315445,"body_markdown":"it might be another workaround which is similar to override another protected method returns true/false \r\n\r\nI would suggest creating an empty interface, markup interface, then make the subclass implements this interface and inside the superclass check that this instance is `instanceof` this interface before calling the overridden expensive method.","title":"How to quickly determine if a method is overridden in Java","body":"<p>it might be another workaround which is similar to override another protected method returns true/false </p>\n\n<p>I would suggest creating an empty interface, markup interface, then make the subclass implements this interface and inside the superclass check that this instance is <code>instanceof</code> this interface before calling the overridden expensive method.</p>\n"},{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689560042,"creation_date":1689554575,"answer_id":76700948,"question_id":2315445,"body_markdown":"This is a lambda&#39;s solution with synthetic introspection as in:\r\n\r\n       private Component mComponent = new Component(this::overriddenMethod);\r\n       protected void overriddenMethod() {}\r\n\r\n-------------------------\r\nMethod:\r\n\r\n    void read(Runnable lambda) {\r\n       try {\r\n          Field f = lambda.getClass().getDeclaredFields()[0]; //No more indices\r\n          f.setAccessible(true); //For some reason appears as &quot;private final&quot; so this is required.\r\n          String canonName = f.get(lambda).getClass().getCanonicalName();\r\n          //                  ^ I am not sure if this is a bit hyperbolic, please improve if possible, and report back!!\r\n          System.out.println(&quot;class is = &quot; + canonName);\r\n       } catch (IllegalAccessException e) {\r\n          throw new RuntimeException(e);\r\n       }\r\n    }\r\n\r\nLet&#39;s assume you have something like:\r\n\r\n    class EnclosingClass {\r\n       private Component mComponent = new Component(this::overriddenMethod);\r\n       protected void overriddenMethod() {}\r\n    \r\n       public static EnclosingClass giveMeOverridden(Runnable runnable) {\r\n          return new EnclosingClass() {\r\n             @Override\r\n             protected void overriddenMethod() {\r\n                runnable.run();\r\n             }\r\n         }\r\n       }\r\n    }\r\n-------------\r\n\r\n    class SubClass extends EnclosingClass {\r\n       @Override\r\n       protected void overriddenMethod() {\r\n          //I&#39;ve been overridden!!!\r\n       }\r\n    }\r\n--------------\r\n\r\n    public class Test {\r\n       public static void main(String[] args) {\r\n          EnclosingClass nonOveridden = new EnclosingClass();\r\n          EnclosingClass overridden = new EnclosingClass() {\r\n             @Override\r\n             protected void overriddenMethod() {\r\n                //I&#39;ve been overridden!!!\r\n             }\r\n          }\r\n          EnclosingClass factoryOverridden = EnclosingCLass.giveMeOverridden(\r\n             () -&gt; {\r\n                //I&#39;ve been overridden!!!\r\n             }\r\n          );\r\n          SubClass subClass = new SubClass();\r\n       }\r\n    }\r\n\r\n--------------\r\n\r\n    class Component {\r\n       Component(Runnable lambda) {\r\n          read(lambda);\r\n       }\r\n    }\r\n--------------\r\nResults:\r\n=========\r\n\r\n    class is = path.EnclosingClass //NON overridden!\r\n    class is = null // Overridden!!\r\n    class is = null // Overridden!!\r\n    class is = path.SubClass //not EnclosingClass?? Overridden!!!","title":"How to quickly determine if a method is overridden in Java","body":"<p>This is a lambda's solution with synthetic introspection as in:</p>\n<pre><code>   private Component mComponent = new Component(this::overriddenMethod);\n   protected void overriddenMethod() {}\n</code></pre>\n<hr />\n<p>Method:</p>\n<pre><code>void read(Runnable lambda) {\n   try {\n      Field f = lambda.getClass().getDeclaredFields()[0]; //No more indices\n      f.setAccessible(true); //For some reason appears as &quot;private final&quot; so this is required.\n      String canonName = f.get(lambda).getClass().getCanonicalName();\n      //                  ^ I am not sure if this is a bit hyperbolic, please improve if possible, and report back!!\n      System.out.println(&quot;class is = &quot; + canonName);\n   } catch (IllegalAccessException e) {\n      throw new RuntimeException(e);\n   }\n}\n</code></pre>\n<p>Let's assume you have something like:</p>\n<pre><code>class EnclosingClass {\n   private Component mComponent = new Component(this::overriddenMethod);\n   protected void overriddenMethod() {}\n\n   public static EnclosingClass giveMeOverridden(Runnable runnable) {\n      return new EnclosingClass() {\n         @Override\n         protected void overriddenMethod() {\n            runnable.run();\n         }\n     }\n   }\n}\n</code></pre>\n<hr />\n<pre><code>class SubClass extends EnclosingClass {\n   @Override\n   protected void overriddenMethod() {\n      //I've been overridden!!!\n   }\n}\n</code></pre>\n<hr />\n<pre><code>public class Test {\n   public static void main(String[] args) {\n      EnclosingClass nonOveridden = new EnclosingClass();\n      EnclosingClass overridden = new EnclosingClass() {\n         @Override\n         protected void overriddenMethod() {\n            //I've been overridden!!!\n         }\n      }\n      EnclosingClass factoryOverridden = EnclosingCLass.giveMeOverridden(\n         () -&gt; {\n            //I've been overridden!!!\n         }\n      );\n      SubClass subClass = new SubClass();\n   }\n}\n</code></pre>\n<hr />\n<pre><code>class Component {\n   Component(Runnable lambda) {\n      read(lambda);\n   }\n}\n</code></pre>\n<hr />\n<h1>Results:</h1>\n<pre><code>class is = path.EnclosingClass //NON overridden!\nclass is = null // Overridden!!\nclass is = null // Overridden!!\nclass is = path.SubClass //not EnclosingClass?? Overridden!!!\n</code></pre>\n"}],"owner":{"account_id":44479,"reputation":2046,"user_id":130598,"accept_rate":100,"display_name":"bgw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24484,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":2315467,"answer_count":10,"score":24,"last_activity_date":1689560042,"creation_date":1266886647,"question_id":2315445,"body_markdown":"There is a possible optimization I could apply to one of my methods, if I can determine that another method in the same class is not overridden. It is only a slight optimization, so reflection is out of the question. Should I just make a protected method that returns whether or not the method in question is overridden, such that a subclass can make it return true?","title":"How to quickly determine if a method is overridden in Java","body":"<p>There is a possible optimization I could apply to one of my methods, if I can determine that another method in the same class is not overridden. It is only a slight optimization, so reflection is out of the question. Should I just make a protected method that returns whether or not the method in question is overridden, such that a subclass can make it return true?</p>\n"},{"tags":["java","maven","selenium-webdriver","debugging","browserstack"],"comments":[{"owner":{"account_id":2003879,"reputation":386,"user_id":1794271,"display_name":"A P"},"score":0,"creation_date":1689561377,"post_id":76692019,"comment_id":135225890,"body_markdown":"Could you share with us any error/exception message received during test execution?","body":"Could you share with us any error/exception message received during test execution?"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039491,"post_id":76692019,"comment_id":135298826,"body_markdown":"Yes sure. Please help to have a look\n\n[ERROR] The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstack\\browserstack-java-sdk\\1.8.6\\browserstack-java-sdk-1.8.6.jar -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005 -jar","body":"Yes sure. Please help to have a look  [ERROR] The forked VM terminated without properly saying goodbye. VM crash or System.exit called? [ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstac&zwnj;&#8203;k\\browserstack-java-&zwnj;&#8203;sdk\\1.8.6\\browsersta&zwnj;&#8203;ck-java-sdk-1.8.6.ja&zwnj;&#8203;r -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=500&zwnj;&#8203;5 -jar"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039521,"post_id":76692019,"comment_id":135298832,"body_markdown":"C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320\\surefirebooter7152078299922823454.jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot;\n[ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 1\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?","body":"C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320\\surefirebooter&zwnj;&#8203;7152078299922823454.&zwnj;&#8203;jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot; [ERROR] Error occurred in starting fork, check output in log [ERROR] Process Exit Code: 1 [ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException&zwnj;&#8203;: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039545,"post_id":76692019,"comment_id":135298840,"body_markdown":"[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstack\\browserstack-java-sdk\\1.8.6\\browserstack-java-sdk-1.8.6.jar -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005 -jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320\\surefirebooter7152078299922823454.jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire8824677851888095320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot;","body":"[ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.372.7-hotspot\\jre\\bin\\java&quot; -javaagent:C:\\Users\\myaccount\\.m2\\repository\\com\\browserstac&zwnj;&#8203;k\\browserstack-java-&zwnj;&#8203;sdk\\1.8.6\\browsersta&zwnj;&#8203;ck-java-sdk-1.8.6.ja&zwnj;&#8203;r -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=500&zwnj;&#8203;5 -jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320\\surefirebooter&zwnj;&#8203;7152078299922823454.&zwnj;&#8203;jar C:\\Users\\myaccount\\AppData\\Local\\Temp\\surefire88246778518880&zwnj;&#8203;95320 2023-07-22T22-19-55_265-jvmRun1 surefire4886343855642447611tmp surefire_0854870395964311220tmp&quot;"},{"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"score":0,"creation_date":1690039566,"post_id":76692019,"comment_id":135298845,"body_markdown":"[ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 1\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:748)\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:305)\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:265)\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1314)","body":"[ERROR] Error occurred in starting fork, check output in log [ERROR] Process Exit Code: 1 [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fo&zwnj;&#8203;rk(ForkStarter.java:&zwnj;&#8203;748) [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.ru&zwnj;&#8203;n(ForkStarter.java:3&zwnj;&#8203;05) [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.ru&zwnj;&#8203;n(ForkStarter.java:2&zwnj;&#8203;65) [ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execut&zwnj;&#8203;eProvider(AbstractSu&zwnj;&#8203;refireMojo.java:1314&zwnj;&#8203;)"}],"answers":[{"tags":[],"owner":{"account_id":25686400,"reputation":83,"user_id":19448419,"display_name":"HomeLander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689559727,"creation_date":1689559727,"answer_id":76701131,"question_id":76692019,"body_markdown":"This looks more specific to BrowserStack SDK you are using, I would kindly suggest you to please reach out to BrowserStack support team for further help on this.","title":"IntelliJ IDEA cannot debug after Browserstack SDK integration to selenium test framework using Cucumber Serenity (maven build)","body":"<p>This looks more specific to BrowserStack SDK you are using, I would kindly suggest you to please reach out to BrowserStack support team for further help on this.</p>\n"}],"owner":{"account_id":29020646,"reputation":1,"user_id":22230123,"display_name":"cco102"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689559727,"creation_date":1689388666,"question_id":76692019,"body_markdown":"I&#39;m facing an issue with debugging after integrate my current selenium test framework with Browserstack.\r\nBefore integration, it stops at break point in java code to debug. However, even I run the same test scenario and same checkpoint, \r\n**browserstack.yml file:**\r\n```\r\nuserName: MYUSERNAME\r\naccessKey: MYACCESSKEY\r\nprojectName: MY PROJECT\r\nbuildName: THE BUILD\r\nbuildIdentifier: &#39;#${BUILD_NUMBER}&#39; # Supports strings along with either/both ${expression}\r\nframework: cucumber\r\nplatforms:\r\n  - deviceName: Samsung Galaxy S22 Ultra\r\n    browserName: chrome # Try &#39;samsung&#39; for Samsung browser\r\n    osVersion: 12.0\r\nparallelsPerPlatform: 1\r\nsource: cucumber:intellij:v1.1.2\r\nbrowserstackLocal: true # &lt;boolean&gt; (Default false)\r\ndebug: true # &lt;boolean&gt; # Set to true if you need screenshots for every selenium command ran\r\nnetworkLogs: true # &lt;boolean&gt; Set to true to enable HAR logs capturing\r\nconsoleLogs: errors # &lt;string&gt; Remote browser&#39;s console debug levels to be printed (Default: errors)\r\ninteractiveDebugging: true\r\nseleniumLogs: true\r\n```\r\n\r\n**Sample in feature file:**\r\n```\r\n  @tag\r\n  Scenario: As a customer, I want to verify ABC\r\n    Given User go to page &quot;&lt;URL&gt;&quot;\r\n    When User input phone number\r\n\tAnd User click on button submit\r\n\tThen User should see &quot;XYZ&quot;\r\n```\r\n\r\n**POM.xml file**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;vn.auto&lt;/groupId&gt;\r\n    &lt;artifactId&gt;auto-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;auto.version&gt;4.0.29&lt;/auto.version&gt;\r\n        &lt;serenity.maven.version&gt;2.0.70&lt;/serenity.maven.version&gt;\r\n        &lt;serenity.version&gt;2.0.70&lt;/serenity.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;surefire.plugin.version&gt;3.0.0-M5&lt;/surefire.plugin.version&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;sonar.sources&gt;pom.xml,src/main/java,features&lt;/sonar.sources&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.auto&lt;/groupId&gt;\r\n            &lt;artifactId&gt;auto-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${auto.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-cucumber&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-serenity&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-mobile&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-sql&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-report&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hoselato-tool-integration&lt;/artifactId&gt;\r\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-cucumber4 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber4&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;com.browserstack&lt;/groupId&gt;\r\n      &lt;artifactId&gt;browserstack-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;LATEST&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;include&gt;**/*TestSuite.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;\r\n-Xmx1024m&lt;/argLine&gt;\r\n                    &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\r\n                    &lt;!--&lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\r\n                    &lt;!--&lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;--&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\r\n                    &lt;reports&gt;email&lt;/reports&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;getClasspathFilenames&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;properties&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;object_repositories/**&lt;/include&gt;\r\n                    &lt;include&gt;config/**&lt;/include&gt;\r\n                    &lt;include&gt;data/**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n•\t**Maven command line**: clean verify serenity:aggregate -Dmaven.surefire.debug -DforkCount=1 &quot;-Dcucumber.options=--tags  @tag\r\n\r\n**Actual Result:**\r\nWhen I click on button Debug of IntelliJ, a new build displays on Browserstack Dashboard, I click on &quot;Interactive Debugging&quot;, then test steps start and end. It doesn&#39;t stop in my Java code to debug.\r\nDo you have any experience about this?\r\nI&#39;ve asked support from Browserstack but the issue is still there.\r\nPlease help me to give your idea/suggestion. Thanks a lot!\r\n\r\nI&#39;ve tried to increase -DforkCount=0 but it doesn&#39;t work.","title":"IntelliJ IDEA cannot debug after Browserstack SDK integration to selenium test framework using Cucumber Serenity (maven build)","body":"<p>I'm facing an issue with debugging after integrate my current selenium test framework with Browserstack.\nBefore integration, it stops at break point in java code to debug. However, even I run the same test scenario and same checkpoint,\n<strong>browserstack.yml file:</strong></p>\n<pre><code>userName: MYUSERNAME\naccessKey: MYACCESSKEY\nprojectName: MY PROJECT\nbuildName: THE BUILD\nbuildIdentifier: '#${BUILD_NUMBER}' # Supports strings along with either/both ${expression}\nframework: cucumber\nplatforms:\n  - deviceName: Samsung Galaxy S22 Ultra\n    browserName: chrome # Try 'samsung' for Samsung browser\n    osVersion: 12.0\nparallelsPerPlatform: 1\nsource: cucumber:intellij:v1.1.2\nbrowserstackLocal: true # &lt;boolean&gt; (Default false)\ndebug: true # &lt;boolean&gt; # Set to true if you need screenshots for every selenium command ran\nnetworkLogs: true # &lt;boolean&gt; Set to true to enable HAR logs capturing\nconsoleLogs: errors # &lt;string&gt; Remote browser's console debug levels to be printed (Default: errors)\ninteractiveDebugging: true\nseleniumLogs: true\n</code></pre>\n<p><strong>Sample in feature file:</strong></p>\n<pre><code>  @tag\n  Scenario: As a customer, I want to verify ABC\n    Given User go to page &quot;&lt;URL&gt;&quot;\n    When User input phone number\n    And User click on button submit\n    Then User should see &quot;XYZ&quot;\n</code></pre>\n<p><strong>POM.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;vn.auto&lt;/groupId&gt;\n    &lt;artifactId&gt;auto-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;auto.version&gt;4.0.29&lt;/auto.version&gt;\n        &lt;serenity.maven.version&gt;2.0.70&lt;/serenity.maven.version&gt;\n        &lt;serenity.version&gt;2.0.70&lt;/serenity.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;surefire.plugin.version&gt;3.0.0-M5&lt;/surefire.plugin.version&gt;\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm&lt;/maven.build.timestamp.format&gt;\n        &lt;sonar.sources&gt;pom.xml,src/main/java,features&lt;/sonar.sources&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.auto&lt;/groupId&gt;\n            &lt;artifactId&gt;auto-core&lt;/artifactId&gt;\n            &lt;version&gt;${auto.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-cucumber&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-serenity&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-web&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-mobile&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-api&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-sql&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-report&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;vn.hoselato&lt;/groupId&gt;\n            &lt;artifactId&gt;hoselato-tool-integration&lt;/artifactId&gt;\n            &lt;version&gt;${hoselato.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-cucumber4 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber4&lt;/artifactId&gt;\n            &lt;version&gt;1.0.21&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n      &lt;groupId&gt;com.browserstack&lt;/groupId&gt;\n      &lt;artifactId&gt;browserstack-java-sdk&lt;/artifactId&gt;\n      &lt;version&gt;LATEST&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                        &lt;include&gt;**/*TestSuite.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;argLine&gt;-javaagent:&quot;${com.browserstack:browserstack-java-sdk:jar}&quot;\n-Xmx1024m&lt;/argLine&gt;\n                    &lt;!--&lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\n                    &lt;!--&lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\n                    &lt;!--&lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;--&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\n                    &lt;reports&gt;email&lt;/reports&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                        &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                        &lt;artifactId&gt;serenity-emailer&lt;/artifactId&gt;\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;getClasspathFilenames&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;properties&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;object_repositories/**&lt;/include&gt;\n                    &lt;include&gt;config/**&lt;/include&gt;\n                    &lt;include&gt;data/**&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>•   <strong>Maven command line</strong>: clean verify serenity:aggregate -Dmaven.surefire.debug -DforkCount=1 &quot;-Dcucumber.options=--tags  @tag</p>\n<p><strong>Actual Result:</strong>\nWhen I click on button Debug of IntelliJ, a new build displays on Browserstack Dashboard, I click on &quot;Interactive Debugging&quot;, then test steps start and end. It doesn't stop in my Java code to debug.\nDo you have any experience about this?\nI've asked support from Browserstack but the issue is still there.\nPlease help me to give your idea/suggestion. Thanks a lot!</p>\n<p>I've tried to increase -DforkCount=0 but it doesn't work.</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":7864640,"reputation":2014,"user_id":10109704,"display_name":"Hadi Ahmadi"},"score":1,"creation_date":1567338671,"post_id":57745355,"comment_id":101929374,"body_markdown":"check this https://stackoverflow.com/questions/48604914/flutter-run-error-you-have-not-accepted-the-license-agreements","body":"check this <a href=\"https://stackoverflow.com/questions/48604914/flutter-run-error-you-have-not-accepted-the-license-agreements\" title=\"flutter run error you have not accepted the license agreements\">stackoverflow.com/questions/48604914/&hellip;</a>"},{"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"score":0,"creation_date":1567340217,"post_id":57745355,"comment_id":101929638,"body_markdown":"Thank you very much, that helped as I ran `(your android_sdk folder exact path)\\tools\\bin\\sdkmanager --licenses`","body":"Thank you very much, that helped as I ran <code>(your android_sdk folder exact path)\\tools\\bin\\sdkmanager --licenses</code>"}],"answers":[{"tags":[],"owner":{"account_id":1338718,"reputation":9,"user_id":1280870,"accept_rate":0,"display_name":"Varun Vimal Sharan M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567335806,"creation_date":1567335806,"answer_id":57745435,"question_id":57745355,"body_markdown":"Check if the flutter path is added.\r\nRestart your system \r\nThen run `flutter doctor --android-licenses`\r\naccept all the licenses that appear \r\nagain run `flutter doctor`\r\nand check if the issue persists ","title":"Android license status unknown and a weird problem","body":"<p>Check if the flutter path is added.\nRestart your system \nThen run <code>flutter doctor --android-licenses</code>\naccept all the licenses that appear \nagain run <code>flutter doctor</code>\nand check if the issue persists </p>\n"},{"tags":[],"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567447925,"creation_date":1567447925,"answer_id":57761214,"question_id":57745355,"body_markdown":"Actually, the problem got solved after installing jdk 8 and setting JAVA_HOME accordingly this new jdk. Also in the sdkmanager.bat file, located in C:\\Users\\username\\AppData\\Local\\Android\\Sdk\\tools\\bin\r\nI added the line `set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_221&quot;`\r\n\r\nNo need to uninstall java 10. That solved the whole problem!","title":"Android license status unknown and a weird problem","body":"<p>Actually, the problem got solved after installing jdk 8 and setting JAVA_HOME accordingly this new jdk. Also in the sdkmanager.bat file, located in C:\\Users\\username\\AppData\\Local\\Android\\Sdk\\tools\\bin\nI added the line <code>set JAVA_HOME=\"C:\\Program Files\\Java\\jdk1.8.0_221\"</code></p>\n\n<p>No need to uninstall java 10. That solved the whole problem!</p>\n"},{"tags":[],"owner":{"account_id":16767678,"reputation":1,"user_id":12120955,"display_name":"Shivam Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581863609,"creation_date":1581863609,"answer_id":60249551,"question_id":57745355,"body_markdown":"I uninstall the java jdk from my system and then let my flutter doctor arise that error of &quot; [!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)&quot;\r\nand then followed the solution that flutter doctor was giving as it says to run the command &quot; flutter doctor --android-licenses &quot; and then type &quot; y &quot; as it says you to accept the licenses provided to solve this problem of &quot;[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)&quot; and then I again ran flutter doctor and the problem was resolved.","title":"Android license status unknown and a weird problem","body":"<p>I uninstall the java jdk from my system and then let my flutter doctor arise that error of \" [!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)\"\nand then followed the solution that flutter doctor was giving as it says to run the command \" flutter doctor --android-licenses \" and then type \" y \" as it says you to accept the licenses provided to solve this problem of \"[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)\" and then I again ran flutter doctor and the problem was resolved.</p>\n"},{"tags":[],"owner":{"account_id":22242780,"reputation":31,"user_id":16476966,"display_name":"Barzy Yasin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689557913,"creation_date":1689557913,"answer_id":76701061,"question_id":57745355,"body_markdown":"I had the same problem on windows, and solved by removing &quot;\\bin&quot; from the JAVA_HOME value in system variables like this: &quot;C:\\Program Files\\Java\\jdk&quot;","title":"Android license status unknown and a weird problem","body":"<p>I had the same problem on windows, and solved by removing &quot;\\bin&quot; from the JAVA_HOME value in system variables like this: &quot;C:\\Program Files\\Java\\jdk&quot;</p>\n"}],"owner":{"account_id":12648675,"reputation":193,"user_id":10288369,"display_name":"fpaekoaij"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57761214,"answer_count":4,"score":0,"last_activity_date":1689557913,"creation_date":1567335184,"question_id":57745355,"body_markdown":"## Steps to Reproduce\r\n**I am running** flutter in windows 10. I previously had a running android setup. After cloning the flutter repo and updating path, I ran flutter doctor -v. The logs are below. Now after searching a bit for solving the problem, I came across to this solution from various stackoverflow answers: https://stackoverflow.com/questions/49758849/flutter-io-android-license-status-unknown\r\nI at first executed this:\r\n`set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\r\n`\r\nThough I don&#39;t know how to make it permanent. Then after running flutter doctor again, I came with another message, see log ###2\r\n\r\nSo it says Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\r\n[!] Android Studio (version 3.4). So I ran `flutter doctor --android-licenses` accordingly. And it gives another error, that is: \r\n`A newer version of the Android SDK is required. To update, run:\r\nC:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update`\r\n\r\nWell, so I ran `C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update` to update it. And it kinda updated successfully outputting `[=======================================] 100% Computing updates...`\r\n\r\nSo I thought the issue is solved and ran `flutter doctor` again but it seems that nothing has been changed the problem still remains. It is like a loop. I do everything and the problem remains as it is. The output of the last `flutter doctor` is in log ### 3\r\n\r\nMy java version is: \r\n    \r\n`10.0.2 2018-07-17`    \r\n`Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13)`\r\n\r\n`Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)`\r\n\r\nPlease help. \r\n\r\n\r\n!! also opened a github issue here: https://github.com/flutter/flutter/issues/39637\r\n## Logs\r\n### 1 flutter doctor -v\r\n\r\n`O:\\Flutter installation&gt;flutter doctor -v`\r\n\r\n     [&#226;ˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\r\n     Microsoft Windows [Version 10.0.18362.295], locale en-US)\r\n    \r\n    &#226;€&#162; Flutter version 1.7.8+hotfix.4 at O:\\Work_Anon\\Flutter installation\\flutter\r\n    &#226;€&#162; Framework revision 20e59316b8 (6 weeks ago), 2019-07-18 20:04:33 -0700    \r\n    &#226;€&#162; Engine revision fee001c93f\r\n    &#226;€&#162; Dart version 2.4.0\r\n    \r\n\r\n`[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)`\r\n\r\n \r\n```\r\n\r\n    **&#226;€&#162; Android SDK at C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\r\n    &#226;€&#162; Android NDK location not configured (optional; useful for native profiling support)\r\n    &#226;€&#162; Platform android-29, build-tools 29.0.1\r\n    &#226;€&#162; Java binary at: O:\\Work_Anon\\Android Studio\\jre\\bin\\java\r\n    &#226;€&#162; Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\r\n    **X Android license status unknown.\r\n      Try re-installing or updating your Android SDK Manager.\r\n      See https://developer.android.com/studio/#downloads or visit\r\n      https://flutter.dev/setup/#android-setup for detailed instructions.****\r\n```\r\n`[!] Android Studio (version 3.4)`\r\n\r\n    &#226;€&#162; Android Studio at O:\\Work_Anon\\Android Studio\r\n    X Flutter plugin not installed; this adds Flutter specific functionality.\r\n    X Dart plugin not installed; this adds Dart specific functionality.\r\n    &#226;€&#162; Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\r\n\r\n\r\n`[!] Connected device`\r\n\r\n    ! No devices available\r\n\r\n### 2 flutter doctor after `set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee`\r\n\r\n[&#226;ˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\r\n\r\nMicrosoft Windows [Version 10.0.18362.295], locale en-US)\r\n\r\n`[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)` \r\n       ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\r\n`[!] Android Studio (version 3.4)` \r\n       X Flutter plugin not installed; this adds Flutter specific functionality.\r\n       X   Dart plugin not installed; this adds Dart specific functionality.\r\n`[!] Connected device` \r\n       ! No devices available\r\n\r\n### 3 last flutter doctor\r\n\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n[&#226;ˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\r\n\r\nMicrosoft Windows [Version 10.0.18362.295], locale en-US)\r\n`[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)`)\r\n    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\r\n`[!] Android Studio (version 3.4)`\r\n    X Flutter plugin not installed; this adds Flutter specific functionality.\r\n    X Dart plugin not installed; this adds Dart specific functionality.\r\n\r\n`[!] Connected device`\r\n    ! No devices available","title":"Android license status unknown and a weird problem","body":"<h2>Steps to Reproduce</h2>\n\n<p><strong>I am running</strong> flutter in windows 10. I previously had a running android setup. After cloning the flutter repo and updating path, I ran flutter doctor -v. The logs are below. Now after searching a bit for solving the problem, I came across to this solution from various stackoverflow answers: <a href=\"https://stackoverflow.com/questions/49758849/flutter-io-android-license-status-unknown\">Flutter.io Android License Status Unknown</a>\nI at first executed this:\n<code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\n</code>\nThough I don't know how to make it permanent. Then after running flutter doctor again, I came with another message, see log ###2</p>\n\n<p>So it says Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n[!] Android Studio (version 3.4). So I ran <code>flutter doctor --android-licenses</code> accordingly. And it gives another error, that is: \n<code>A newer version of the Android SDK is required. To update, run:\nC:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update</code></p>\n\n<p>Well, so I ran <code>C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\\tools\\bin\\sdkmanager --update</code> to update it. And it kinda updated successfully outputting <code>[=======================================] 100% Computing updates...</code></p>\n\n<p>So I thought the issue is solved and ran <code>flutter doctor</code> again but it seems that nothing has been changed the problem still remains. It is like a loop. I do everything and the problem remains as it is. The output of the last <code>flutter doctor</code> is in log ### 3</p>\n\n<p>My java version is: </p>\n\n<p><code>10.0.2 2018-07-17</code><br>\n<code>Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13)</code></p>\n\n<p><code>Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)</code></p>\n\n<p>Please help. </p>\n\n<p>!! also opened a github issue here: <a href=\"https://github.com/flutter/flutter/issues/39637\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/39637</a></p>\n\n<h2>Logs</h2>\n\n<h3>1 flutter doctor -v</h3>\n\n<p><code>O:\\Flutter installation&gt;flutter doctor -v</code></p>\n\n<pre><code> [âˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252\n Microsoft Windows [Version 10.0.18362.295], locale en-US)\n\nâ€¢ Flutter version 1.7.8+hotfix.4 at O:\\Work_Anon\\Flutter installation\\flutter\nâ€¢ Framework revision 20e59316b8 (6 weeks ago), 2019-07-18 20:04:33 -0700    \nâ€¢ Engine revision fee001c93f\nâ€¢ Dart version 2.4.0\n</code></pre>\n\n<p><code>[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)</code></p>\n\n<pre><code>\n    **â€¢ Android SDK at C:\\Users\\imazi\\AppData\\Local\\Android\\sdk\n    â€¢ Android NDK location not configured (optional; useful for native profiling support)\n    â€¢ Platform android-29, build-tools 29.0.1\n    â€¢ Java binary at: O:\\Work_Anon\\Android Studio\\jre\\bin\\java\n    â€¢ Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n    **X Android license status unknown.\n      Try re-installing or updating your Android SDK Manager.\n      See https://developer.android.com/studio/#downloads or visit\n      https://flutter.dev/setup/#android-setup for detailed instructions.****\n</code></pre>\n\n<p><code>[!] Android Studio (version 3.4)</code></p>\n\n<pre><code>â€¢ Android Studio at O:\\Work_Anon\\Android Studio\nX Flutter plugin not installed; this adds Flutter specific functionality.\nX Dart plugin not installed; this adds Dart specific functionality.\nâ€¢ Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n</code></pre>\n\n<p><code>[!] Connected device</code></p>\n\n<pre><code>! No devices available\n</code></pre>\n\n<h3>2 flutter doctor after <code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee</code></h3>\n\n<p>[âˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252</p>\n\n<p>Microsoft Windows [Version 10.0.18362.295], locale en-US)</p>\n\n<p><code>[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)</code> \n       ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n<code>[!] Android Studio (version 3.4)</code> \n       X Flutter plugin not installed; this adds Flutter specific functionality.\n       X   Dart plugin not installed; this adds Dart specific functionality.\n<code>[!] Connected device</code> \n       ! No devices available</p>\n\n<h3>3 last flutter doctor</h3>\n\n<p>Doctor summary (to see all details, run flutter doctor -v):\n[âˆš] Flutter (Channel stable, v1.7.8+hotfix.4, on Active code page: 1252</p>\n\n<p>Microsoft Windows [Version 10.0.18362.295], locale en-US)\n<code>[!] Android toolchain - develop for Android devices (Android SDK version 29.0.1)</code>)\n    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses\n<code>[!] Android Studio (version 3.4)</code>\n    X Flutter plugin not installed; this adds Flutter specific functionality.\n    X Dart plugin not installed; this adds Dart specific functionality.</p>\n\n<p><code>[!] Connected device</code>\n    ! No devices available</p>\n"},{"tags":["java","graphics","awt","bufferedimage"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689533739,"post_id":76699899,"comment_id":135223555,"body_markdown":"You could do just that: add a shape with a color that has an alpha value of 0. But be sure that the BufferedImage is of type that understands alpha.","body":"You could do just that: add a shape with a color that has an alpha value of 0. But be sure that the BufferedImage is of type that understands alpha."},{"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"score":0,"creation_date":1689533987,"post_id":76699899,"comment_id":135223580,"body_markdown":"I would do that, but if I just draw a shape with a 0 alpha value, it won&#39;t show up. At least I&#39;m pretty sure not. When I use a value between 0-1, it will just draw over it. Do you know if java.awt.Graphics works that way when the color has an alpha value of 0?","body":"I would do that, but if I just draw a shape with a 0 alpha value, it won&#39;t show up. At least I&#39;m pretty sure not. When I use a value between 0-1, it will just draw over it. Do you know if java.awt.Graphics works that way when the color has an alpha value of 0?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689534563,"post_id":76699899,"comment_id":135223652,"body_markdown":"? It would show up if the image is first filled with a dark background. Otherwise, what use is a 0 alpha? But also note that there are some issues with Swing displaying semi-transparent things.","body":"? It would show up if the image is first filled with a dark background. Otherwise, what use is a 0 alpha? But also note that there are some issues with Swing displaying semi-transparent things."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1689535013,"post_id":76699899,"comment_id":135223704,"body_markdown":"Maybe you should draw an illustration of what you mean and add it to your question. I&#39;m not sure I follow. What does erasing pixels have to do with light? Is the buffered image overlayed on top of some other image? Is the light coming from behind the image? How?","body":"Maybe you should draw an illustration of what you mean and add it to your question. I&#39;m not sure I follow. What does erasing pixels have to do with light? Is the buffered image overlayed on top of some other image? Is the light coming from behind the image? How?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689542840,"post_id":76699899,"comment_id":135224593,"body_markdown":"In general, this is something that you tend to want to &quot;fake&quot;, for [example](https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299), [example](https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674); [example](https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591); [example](https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770)","body":"In general, this is something that you tend to want to &quot;fake&quot;, for <a href=\"https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299\">example</a>, <a href=\"https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674\">example</a>; <a href=\"https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591\">example</a>; <a href=\"https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770\">example</a>"},{"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"score":0,"creation_date":1689552436,"post_id":76699899,"comment_id":135225300,"body_markdown":"Ok, I made a super basic drawing to try and show what I&#39;m trying to say, does that help clear things up at all? Side note, the darkness image would be the same size as the window, though that&#39;s not super important. Also I tried just setting the color to a color with 0 alpha, but it didn&#39;t do anything.","body":"Ok, I made a super basic drawing to try and show what I&#39;m trying to say, does that help clear things up at all? Side note, the darkness image would be the same size as the window, though that&#39;s not super important. Also I tried just setting the color to a color with 0 alpha, but it didn&#39;t do anything."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689556126,"creation_date":1689556126,"answer_id":76700996,"question_id":76699899,"body_markdown":"There are a number of ways you might be able to achieve this.  Since you seem to have a number of possible light sources, making use of `Area` might be the simpler solution.  \r\n\r\nThis would allow you to simply &quot;subtract&quot; the light source area from a pre-existing area, which would &quot;cut out&quot; the area and allow the background to show through.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Area;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage lightOverlay;\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/Poster.png&quot;));\r\n                // Baseline darkness\r\n                lightOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = lightOverlay.createGraphics();\r\n                g2d.setColor(Color.BLACK);\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\r\n                g2d.fillRect(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight());\r\n                g2d.dispose();\r\n\r\n                addMouseMotionListener(new MouseAdapter() {\r\n                    private Color transparentColor = new Color(0, 0, 0, 0);\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        Point p = e.getPoint();\r\n\r\n                        Graphics2D g2d = lightOverlay.createGraphics();\r\n                        // This is a little trick which will clear the graphics\r\n                        // using a transparent color, otherwise any additional\r\n                        // painting operations will accumalte over the top of \r\n                        // what was previously painted ... this way we can reduce\r\n                        // the GC overhead by not creating so many short lived\r\n                        // objects\r\n                        g2d.setBackground(transparentColor);\r\n                        g2d.clearRect(0, 0, lightOverlay.getWidth(), lightOverlay.getWidth());\r\n\r\n                        // You &quot;could&quot; cache this area and simply subtract the areas\r\n                        // you want to expose as needed.  Removing light sources\r\n                        // would simply be a process of &quot;adding&quot; the area back in\r\n                        Area spotLight = new Area(new Rectangle2D.Double(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight()));\r\n                        // You could cache Area&#39;s you want exposed, cutting them out\r\n                        // only once.  When you want to remove the light source, you&#39;d\r\n                        // just &quot;add&quot; that Area back in to the spotLight, further\r\n                        // reducing the GC overhead associated with short lived\r\n                        // objects\r\n                        spotLight.subtract(new Area(new Ellipse2D.Double(p.x - 80, p.y - 80, 160, 160)));\r\n\r\n                        // Make it look pretty\r\n                        applyRenderHints(g2d);\r\n\r\n                        g2d.setColor(Color.BLACK);\r\n                        g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\r\n                        g2d.fill(spotLight);\r\n                        // After this would could use a series of RadialGradientPaints\r\n                        // to make the effect look more &quot;pretty&quot;\r\n                        g2d.dispose();\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected void applyRenderHints(Graphics2D g2d) {\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return master == null ? new Dimension(200, 200) : new Dimension(master.getWidth(), master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = (getWidth() - master.getWidth()) / 2;\r\n                int y = (getHeight() - master.getHeight()) / 2;\r\n                g2d.drawImage(master, x, y, this);\r\n                g2d.drawImage(lightOverlay, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nPlease, beware, this is just a proof of concept, how you implement in your code is entirely up to you.  I&#39;ve tried to apply some basic optimisation, but how you manage your light sources may effect how you update the &quot;darkness&quot; overlay.\r\n\r\nYou also consider having a look at:\r\n\r\n * https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299\r\n * https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674\r\n * https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591\r\n * https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770\r\n\r\nto get some more ideas\r\n\r\n  [1]: https://i.stack.imgur.com/kdt65.gif","title":"How to delete pixels on a BufferedImage (or other components using Graphics)?","body":"<p>There are a number of ways you might be able to achieve this.  Since you seem to have a number of possible light sources, making use of <code>Area</code> might be the simpler solution.</p>\n<p>This would allow you to simply &quot;subtract&quot; the light source area from a pre-existing area, which would &quot;cut out&quot; the area and allow the background to show through.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/kdt65.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kdt65.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.RenderingHints;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Area;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage lightOverlay;\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/Poster.png&quot;));\n            // Baseline darkness\n            lightOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = lightOverlay.createGraphics();\n            g2d.setColor(Color.BLACK);\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\n            g2d.fillRect(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight());\n            g2d.dispose();\n\n            addMouseMotionListener(new MouseAdapter() {\n                private Color transparentColor = new Color(0, 0, 0, 0);\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    Point p = e.getPoint();\n\n                    Graphics2D g2d = lightOverlay.createGraphics();\n                    // This is a little trick which will clear the graphics\n                    // using a transparent color, otherwise any additional\n                    // painting operations will accumalte over the top of \n                    // what was previously painted ... this way we can reduce\n                    // the GC overhead by not creating so many short lived\n                    // objects\n                    g2d.setBackground(transparentColor);\n                    g2d.clearRect(0, 0, lightOverlay.getWidth(), lightOverlay.getWidth());\n\n                    // You &quot;could&quot; cache this area and simply subtract the areas\n                    // you want to expose as needed.  Removing light sources\n                    // would simply be a process of &quot;adding&quot; the area back in\n                    Area spotLight = new Area(new Rectangle2D.Double(0, 0, lightOverlay.getWidth(), lightOverlay.getHeight()));\n                    // You could cache Area's you want exposed, cutting them out\n                    // only once.  When you want to remove the light source, you'd\n                    // just &quot;add&quot; that Area back in to the spotLight, further\n                    // reducing the GC overhead associated with short lived\n                    // objects\n                    spotLight.subtract(new Area(new Ellipse2D.Double(p.x - 80, p.y - 80, 160, 160)));\n\n                    // Make it look pretty\n                    applyRenderHints(g2d);\n\n                    g2d.setColor(Color.BLACK);\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(0.9f));\n                    g2d.fill(spotLight);\n                    // After this would could use a series of RadialGradientPaints\n                    // to make the effect look more &quot;pretty&quot;\n                    g2d.dispose();\n\n                    repaint();\n                }\n            });\n        }\n\n        protected void applyRenderHints(Graphics2D g2d) {\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return master == null ? new Dimension(200, 200) : new Dimension(master.getWidth(), master.getHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = (getWidth() - master.getWidth()) / 2;\n            int y = (getHeight() - master.getHeight()) / 2;\n            g2d.drawImage(master, x, y, this);\n            g2d.drawImage(lightOverlay, x, y, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Please, beware, this is just a proof of concept, how you implement in your code is entirely up to you.  I've tried to apply some basic optimisation, but how you manage your light sources may effect how you update the &quot;darkness&quot; overlay.</p>\n<p>You also consider having a look at:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15488853/java-mouse-flashlight-effect/15489299#15489299\">Java Mouse &quot;Flashlight&quot; effect?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18388942/clear-portion-of-graphics-with-underlying-image/18392674#18392674\">Clear portion of graphics with underlying image</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50698351/how-to-create-a-transparent-shape-in-the-image/50699591#50699591\">How to create a transparent shape in the image</a></li>\n<li><a href=\"https://stackoverflow.com/questions/73283500/making-a-part-of-an-image-transparent-in-java-swing/73284770#73284770\">Making a part of an image transparent in java swing</a></li>\n</ul>\n<p>to get some more ideas</p>\n"}],"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700996,"answer_count":1,"score":0,"last_activity_date":1689556126,"creation_date":1689533286,"question_id":76699899,"body_markdown":"So I want to make a super basic lighting system for my games. And how I want to do that is draw the overall darkness on a BufferedImage, and then use ovals to remove pixels in the BufferedImage to fake a light. So how can I do something similar to Graphics.drawOval() but instead of adding color, setting the pixel to a color with an alpha value of 0?\r\n\r\nDrawing I made really quick to try to show what I mean:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b98Nu.png","title":"How to delete pixels on a BufferedImage (or other components using Graphics)?","body":"<p>So I want to make a super basic lighting system for my games. And how I want to do that is draw the overall darkness on a BufferedImage, and then use ovals to remove pixels in the BufferedImage to fake a light. So how can I do something similar to Graphics.drawOval() but instead of adding color, setting the pixel to a color with an alpha value of 0?</p>\n<p>Drawing I made really quick to try to show what I mean:</p>\n<p><a href=\"https://i.stack.imgur.com/b98Nu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b98Nu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","data-structures","merge","linked-list","mergesort"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1689529166,"post_id":76699608,"comment_id":135223040,"body_markdown":"The key is understanding what `ListNode prev = root` actually does.  It assigns `prev` (a reference variable) to the contents of the reference variable `root`.  Therefore, the first manipulation of `prev` (as in `prev.next = ...`) is also manipulating what `root` references.  Then the `prev` reference variable is advanced to the next reference (`prev = prev.next`) and `root` remains the same, original reference.  Thus `root` retains its original reference.  Notice also `root` reference variable can never be reassigned because it is `final`.","body":"The key is understanding what <code>ListNode prev = root</code> actually does.  It assigns <code>prev</code> (a reference variable) to the contents of the reference variable <code>root</code>.  Therefore, the first manipulation of <code>prev</code> (as in <code>prev.next = ...</code>) is also manipulating what <code>root</code> references.  Then the <code>prev</code> reference variable is advanced to the next reference (<code>prev = prev.next</code>) and <code>root</code> remains the same, original reference.  Thus <code>root</code> retains its original reference.  Notice also <code>root</code> reference variable can never be reassigned because it is <code>final</code>."},{"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"score":0,"creation_date":1689529843,"post_id":76699608,"comment_id":135223115,"body_markdown":"@Computable oh wow thanks so much, this paints a clearer and more vivid picture. I&#39;ll try to solve this again to be sure I understand it well now. Thank you.","body":"@Computable oh wow thanks so much, this paints a clearer and more vivid picture. I&#39;ll try to solve this again to be sure I understand it well now. Thank you."},{"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"score":0,"creation_date":1689531499,"post_id":76699608,"comment_id":135223295,"body_markdown":"@Computable can you please explain why in SolutionTwo &#39;prev.next&#39; returns the head of the newly merged Linked List as well ?","body":"@Computable can you please explain why in SolutionTwo &#39;prev.next&#39; returns the head of the newly merged Linked List as well ?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1689534412,"post_id":76699608,"comment_id":135223630,"body_markdown":"Its actually an identical solution - just the names of the variables are switched and the initial assignment (which is equivalent) is done on the &quot;working&quot; variable not the final variable.   Note that `prev` in the 2nd solution could have been `final`.","body":"Its actually an identical solution - just the names of the variables are switched and the initial assignment (which is equivalent) is done on the &quot;working&quot; variable not the final variable.   Note that <code>prev</code> in the 2nd solution could have been <code>final</code>."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1689539661,"post_id":76699608,"comment_id":135224225,"body_markdown":"[Here](https://stackoverflow.com/a/76559710/5459839) is a visualisation that may help (note that the variable names are different, but the algorithm is the same).","body":"<a href=\"https://stackoverflow.com/a/76559710/5459839\">Here</a> is a visualisation that may help (note that the variable names are different, but the algorithm is the same)."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689529960,"creation_date":1689529960,"answer_id":76699694,"question_id":76699608,"body_markdown":"`root` is a dummy node used with `prev` to simplify the code. The merged list will start with `root.next`. If both lists are empty, then `root.next` will be set to null on the next to last line of code. `root` will be automatically freed when the merge function returns.\r\n","title":"Merging two sorted Linked List in Java","body":"<p><code>root</code> is a dummy node used with <code>prev</code> to simplify the code. The merged list will start with <code>root.next</code>. If both lists are empty, then <code>root.next</code> will be set to null on the next to last line of code. <code>root</code> will be automatically freed when the merge function returns.</p>\n"},{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689553745,"creation_date":1689553745,"answer_id":76700919,"question_id":76699608,"body_markdown":"The two solutions are doing the same logic, but the only difference is that the variable that is moving over the `LinkedList`\r\n\r\nThe logic of the `while` is to check if any pointers, either `list1` or `list2`, are not null, then will compare the value of the current node and put the smallest value into the new `Linkedlist` then move the pointer to point the newly added node.\r\n\r\nAfter `while` the code check where the pointer is not null to add the remaining node value.\r\n\r\nNote: this code assumes that  two  LinkedList have  the same size\r\n\r\nHere is the flow of the `First Solution`\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\n, and here is the flow of the `Second Solution\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sp0E5.png\r\n  [2]: https://i.stack.imgur.com/Pfsso.png","title":"Merging two sorted Linked List in Java","body":"<p>The two solutions are doing the same logic, but the only difference is that the variable that is moving over the <code>LinkedList</code></p>\n<p>The logic of the <code>while</code> is to check if any pointers, either <code>list1</code> or <code>list2</code>, are not null, then will compare the value of the current node and put the smallest value into the new <code>Linkedlist</code> then move the pointer to point the newly added node.</p>\n<p>After <code>while</code> the code check where the pointer is not null to add the remaining node value.</p>\n<p>Note: this code assumes that  two  LinkedList have  the same size</p>\n<p>Here is the flow of the <code>First Solution</code></p>\n<p><a href=\"https://i.stack.imgur.com/sp0E5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sp0E5.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>, and here is the flow of the `Second Solution</p>\n<p><a href=\"https://i.stack.imgur.com/Pfsso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pfsso.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689553745,"creation_date":1689528838,"question_id":76699608,"body_markdown":"Below is the Java Code solution to Merging two sorted Linked List, giving only the Heads of the two Sorted Linked List; list1 and list2. \r\n\r\nMy question is this; 1. even though the  solution is correct and passes all the Tests on the websites&#39;s Ide (Neetcode.com) successfully. I am confused about how the &#39;root.next&#39; isn&#39;t null, how is the `root.next` value somehow the head of the merged lists. I have seen alot of videos online explaining it, but I still don&#39;t get it, somehow everyone expects that i should know that at the end of the code `root.next` is the head but clearly `root.next` was never assigned any value. Is there something i am missing?\r\n\r\n2. In SolutionTwo how does &#39;prev.next&#39; also return the head of the merged Linked List?\r\n\r\n\r\n\r\nPlease anyone with a very concise clear explanation?\r\n\r\n\r\n```java\r\nclass Solution {\r\n\r\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\r\n        final ListNode root = new ListNode();\r\n        ListNode prev = root;\r\n        while (list1 != null &amp;&amp; list2 != null) {\r\n            if (list1.val &lt; list2.val) {\r\n                prev.next = list1;\r\n                list1 = list1.next;\r\n            } else {\r\n                prev.next = list2;\r\n                list2 = list2.next;\r\n            }\r\n            prev = prev.next;\r\n        }\r\n        prev.next = list1 != null ? list1 : list2;\r\n        return root.next;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```java\r\nclass SolutionTwo {\r\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\r\n        ListNode root = new ListNode();\r\n        ListNode prev = root;\r\n\r\n        while (list1 != null &amp;&amp; list2 != null) {\r\n            if (list1.val &lt; list2.val) {\r\n                root.next = list1;\r\n                list1 = list1.next;\r\n            } else {\r\n                root.next = list2;\r\n                list2 = list2.next;\r\n            }\r\n            root = root.next;\r\n        }\r\n\r\n        root.next = list1 != null ? list1 : list2;\r\n       \r\n\r\n        return prev.next;  // Return the head of the merged list\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI watched videos on youTube, neetcode.io and algoexperts.io","title":"Merging two sorted Linked List in Java","body":"<p>Below is the Java Code solution to Merging two sorted Linked List, giving only the Heads of the two Sorted Linked List; list1 and list2.</p>\n<p>My question is this; 1. even though the  solution is correct and passes all the Tests on the websites's Ide (Neetcode.com) successfully. I am confused about how the 'root.next' isn't null, how is the <code>root.next</code> value somehow the head of the merged lists. I have seen alot of videos online explaining it, but I still don't get it, somehow everyone expects that i should know that at the end of the code <code>root.next</code> is the head but clearly <code>root.next</code> was never assigned any value. Is there something i am missing?</p>\n<ol start=\"2\">\n<li>In SolutionTwo how does 'prev.next' also return the head of the merged Linked List?</li>\n</ol>\n<p>Please anyone with a very concise clear explanation?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\n        final ListNode root = new ListNode();\n        ListNode prev = root;\n        while (list1 != null &amp;&amp; list2 != null) {\n            if (list1.val &lt; list2.val) {\n                prev.next = list1;\n                list1 = list1.next;\n            } else {\n                prev.next = list2;\n                list2 = list2.next;\n            }\n            prev = prev.next;\n        }\n        prev.next = list1 != null ? list1 : list2;\n        return root.next;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class SolutionTwo {\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\n        ListNode root = new ListNode();\n        ListNode prev = root;\n\n        while (list1 != null &amp;&amp; list2 != null) {\n            if (list1.val &lt; list2.val) {\n                root.next = list1;\n                list1 = list1.next;\n            } else {\n                root.next = list2;\n                list2 = list2.next;\n            }\n            root = root.next;\n        }\n\n        root.next = list1 != null ? list1 : list2;\n       \n\n        return prev.next;  // Return the head of the merged list\n    }\n}\n</code></pre>\n<p>I watched videos on youTube, neetcode.io and algoexperts.io</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":15211392,"reputation":1754,"user_id":10976088,"display_name":"Ghasem Sadeghi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689552755,"creation_date":1579524789,"answer_id":59823717,"question_id":56129912,"body_markdown":"\r\nBelow is a sample code that works fine in my spring boot project.&lt;br&gt;\r\n\r\n**Step 1:**\r\nCreate a custom class that extends the ``PageImpl&lt;&gt;``. because the ``PageImpl&lt;&gt;`` does not have empty constructor and therefore can not be used in deserialization. Also note that the below annotations will be used by jackson.\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class JacksonPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n    private static final long serialVersionUID = 1230183330548294567L;\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public JacksonPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n                           @JsonProperty(&quot;number&quot;) int number,\r\n                           @JsonProperty(&quot;size&quot;) int size,\r\n                           @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                           @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n                           @JsonProperty(&quot;last&quot;) boolean last,\r\n                           @JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n                           @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                           @JsonProperty(&quot;first&quot;) boolean first,\r\n                           @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n\r\n    public JacksonPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public JacksonPageImpl(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public JacksonPageImpl() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n}\r\n\r\n```\r\n**Step 2:**\r\nNow call a method like as the below.&lt;br&gt;\r\n**Note:** You can directly use ``WrapperRestResponse.class`` in the last argument of the ``exchange`` method. but in this case, the ``JacksonPageImpl.getContent()`` gives you a ``List&lt;LinkedHashMap&gt;`` instead of ``List&lt;T&gt;``, becuase Jackson by default deserializes a JSON object into a LinkedHashMap. So in the below I used the ``ParameterizedTypeReference`` to have ``List&lt;T&gt;`` in the result.\r\n```\r\nprivate String getPages(int pageNumber, int pageSize, ...){\r\n    String url = &quot;https://example.com/your_endpoint?page=&quot; + pageNumber + &quot;&amp;size=&quot;+pageSize;\r\n    //for example here: your_endpoint = endpoint1/endpoint2\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    //if you have authorization (basic,oauth,...) in server side:\r\n    //headers.add(&quot;Authorization&quot;, ...);\r\n\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\r\n \r\n    RestTemplate restTemplate = new RestTemplate();   \r\n    ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt; typeRef = new ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt;(){};\r\n\r\n    ResponseEntity&lt;WrapperRestResponse&gt; rsp = restTemplate.exchange(url, HttpMethod.GET, request, typeRef);\r\n    if(rsp.getStatusCodeValue() == 200){\r\n        WrapperRestResponse&lt;T&gt; pojoAnswer = rsp.getBody();\r\n        JacksonPageImpl&lt;T&gt; page = pojoAnswer.getPage();\r\n        List&lt;T&gt; contents = page.getContent();\r\n        //continue your logic...\r\n    }\r\n    //...\r\n}\r\n\r\n```\r\n**Step 3:** I used a ``WrapperRestResponse`` as the below, so that you can pass other properties simply in addition to ``Page&lt;&gt;``:\r\n```\r\npublic class WrapperRestResponse&lt;T&gt; {\r\n    \r\n    private JacksonPageImpl&lt;T&gt; page;\r\n    //you can have other fields too\r\n\r\n    public WrapperRestResponse() {\r\n    }\r\n    public WrapperRestResponse(JacksonPageImpl&lt;T&gt; page, ...) {\r\n         this.page = page;\r\n         //other fields...\r\n    }\r\n\r\n    public JacksonPageImpl&lt;T&gt; getPage() {\r\n        return page;\r\n    }\r\n\r\n    //other fileds getter &amp; setters\r\n\r\n}\r\n```\r\n\r\n**Step 4:** here is my endpoint :\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/endpoint1&quot;, produces = &quot;application/json&quot;)\r\npublic class ResourceController {\r\n    \r\n    //...\r\n\r\n    @GetMapping(&quot;/endpoint2&quot;)\r\n    public ResponseEntity getPages(Pageable pageable, ...){\r\n        Page&lt;T&gt; pages = ...;//get it by your logic\r\n        //...\r\n        return ResponseEntity.ok(new WrapperRestResponse(pages, ...));\r\n    }\r\n}\r\n```\r\n","title":"RestTemplate mapping Page &#39;Page size must not be less than one&#39;","body":"<p>Below is a sample code that works fine in my spring boot project.<br></p>\n<p><strong>Step 1:</strong>\nCreate a custom class that extends the <code>PageImpl&lt;&gt;</code>. because the <code>PageImpl&lt;&gt;</code> does not have empty constructor and therefore can not be used in deserialization. Also note that the below annotations will be used by jackson.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JacksonPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    private static final long serialVersionUID = 1230183330548294567L;\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public JacksonPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n                           @JsonProperty(&quot;number&quot;) int number,\n                           @JsonProperty(&quot;size&quot;) int size,\n                           @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                           @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n                           @JsonProperty(&quot;last&quot;) boolean last,\n                           @JsonProperty(&quot;totalPages&quot;) int totalPages,\n                           @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                           @JsonProperty(&quot;first&quot;) boolean first,\n                           @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n\n    public JacksonPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public JacksonPageImpl(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public JacksonPageImpl() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n}\n\n</code></pre>\n<p><strong>Step 2:</strong>\nNow call a method like as the below.<br>\n<strong>Note:</strong> You can directly use <code>WrapperRestResponse.class</code> in the last argument of the <code>exchange</code> method. but in this case, the <code>JacksonPageImpl.getContent()</code> gives you a <code>List&lt;LinkedHashMap&gt;</code> instead of <code>List&lt;T&gt;</code>, becuase Jackson by default deserializes a JSON object into a LinkedHashMap. So in the below I used the <code>ParameterizedTypeReference</code> to have <code>List&lt;T&gt;</code> in the result.</p>\n<pre><code>private String getPages(int pageNumber, int pageSize, ...){\n    String url = &quot;https://example.com/your_endpoint?page=&quot; + pageNumber + &quot;&amp;size=&quot;+pageSize;\n    //for example here: your_endpoint = endpoint1/endpoint2\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    //if you have authorization (basic,oauth,...) in server side:\n    //headers.add(&quot;Authorization&quot;, ...);\n\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\n \n    RestTemplate restTemplate = new RestTemplate();   \n    ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt; typeRef = new ParameterizedTypeReference&lt;WrapperRestResponse&lt;T&gt;&gt;(){};\n\n    ResponseEntity&lt;WrapperRestResponse&gt; rsp = restTemplate.exchange(url, HttpMethod.GET, request, typeRef);\n    if(rsp.getStatusCodeValue() == 200){\n        WrapperRestResponse&lt;T&gt; pojoAnswer = rsp.getBody();\n        JacksonPageImpl&lt;T&gt; page = pojoAnswer.getPage();\n        List&lt;T&gt; contents = page.getContent();\n        //continue your logic...\n    }\n    //...\n}\n\n</code></pre>\n<p><strong>Step 3:</strong> I used a <code>WrapperRestResponse</code> as the below, so that you can pass other properties simply in addition to <code>Page&lt;&gt;</code>:</p>\n<pre><code>public class WrapperRestResponse&lt;T&gt; {\n    \n    private JacksonPageImpl&lt;T&gt; page;\n    //you can have other fields too\n\n    public WrapperRestResponse() {\n    }\n    public WrapperRestResponse(JacksonPageImpl&lt;T&gt; page, ...) {\n         this.page = page;\n         //other fields...\n    }\n\n    public JacksonPageImpl&lt;T&gt; getPage() {\n        return page;\n    }\n\n    //other fileds getter &amp; setters\n\n}\n</code></pre>\n<p><strong>Step 4:</strong> here is my endpoint :</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/endpoint1&quot;, produces = &quot;application/json&quot;)\npublic class ResourceController {\n    \n    //...\n\n    @GetMapping(&quot;/endpoint2&quot;)\n    public ResponseEntity getPages(Pageable pageable, ...){\n        Page&lt;T&gt; pages = ...;//get it by your logic\n        //...\n        return ResponseEntity.ok(new WrapperRestResponse(pages, ...));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9698158,"reputation":328,"user_id":7193940,"accept_rate":90,"display_name":"MagicLegend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11240,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1689552796,"creation_date":1557835077,"question_id":56129912,"body_markdown":"I have a REST API endpoint that will return a `Page&lt;User&gt;`. I want to provide some tests for this endpoint, and I found [this](https://stackoverflow.com/a/35238863) question, of which I could use [this](https://stackoverflow.com/a/44895867) answer (The accepted answer is outdated). When I tried to implement this, I noticed that [another answer](https://stackoverflow.com/a/53221890) had another implementation, which was [supposedly](https://stackoverflow.com/a/52160387/7193940) for spring 2.0.\r\n\r\nHowever, when using this (code below); I get an exception from the mapper. I noticed that in Wireshark the `Page` is returned correctly, and filled. When I use a tool like Postman to manually make the request, I also correctly get the `Page`.\r\n\r\nController:\r\n```java\r\n@GetMapping(&quot;/&quot;)\r\nPage&lt;User&gt; findAll(@RequestParam(&quot;page&quot;) int page, @RequestParam(&quot;size&quot;) int size);\r\n```\r\n\r\nRestResponsePage (as found [here](https://stackoverflow.com/a/53221890)):\r\n```java\r\npackage org.company.product.userservice.helpers;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RestResponsePage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public RestResponsePage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n                            @JsonProperty(&quot;number&quot;) int number,\r\n                            @JsonProperty(&quot;size&quot;) int size,\r\n                            @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                            @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n                            @JsonProperty(&quot;last&quot;) boolean last,\r\n                            @JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n                            @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                            @JsonProperty(&quot;first&quot;) boolean first,\r\n                            @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n\r\n    public RestResponsePage(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public RestResponsePage(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public RestResponsePage() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n```java\r\nprivate OAuth2RestTemplate template;\r\n\r\n/** template init code, retrieving token **/\r\n\r\nUriComponentsBuilder uri = UriComponentsBuilder.fromHttpUrl(ZUUL_URI + &quot;/api/users&quot;)\r\n        .queryParam(&quot;page&quot;, 0)\r\n        .queryParam(&quot;size&quot;, 10);\r\nResponseEntity&lt;RestResponsePage&lt;User&gt;&gt; user = template.exchange(uri.build().encode().toUri(), HttpMethod.GET, null, new ParameterizedTypeReference&lt;RestResponsePage&lt;User&gt;&gt;(){});\r\n```\r\n\r\nRunning this gives the following stacktrace:\r\n\r\n```\r\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.company.project.userservice.helpers.RestResponsePage]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of &#39;org.company.project.userservice.helpers.RestResponsePage;&#39;, problem: Page size must not be less than one!\r\n at [Source: (PushbackInputStream); line: 63, column: 1]\r\n\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:242)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:227)\r\n\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:102)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:994)\r\n\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:977)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:709)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:627)\r\n\tat org.company.project.userservice.api.OAuthMvcTest.testAddingAddressToUser(OAuthMvcTest.java:134)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of &#39;org.company.project.userservice.helpers.RestResponsePage&#39;, problem: Page size must not be less than one!\r\n at [Source: (PushbackInputStream); line: 63, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1608)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.wrapAsJsonMappingException(StdValueInstantiator.java:484)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.rewrapCtorProblem(StdValueInstantiator.java:503)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:285)\r\n\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromObjectWith(ValueInstantiator.java:229)\r\n\tat com.fasterxml.jackson.databind.deser.impl.PropertyBasedCreator.build(PropertyBasedCreator.java:195)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:488)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:239)\r\n\t... 48 more\r\nCaused by: java.lang.IllegalArgumentException: Page size must not be less than one!\r\n\tat org.springframework.data.domain.AbstractPageRequest.&lt;init&gt;(AbstractPageRequest.java:50)\r\n\tat org.springframework.data.domain.PageRequest.&lt;init&gt;(PageRequest.java:71)\r\n\tat org.springframework.data.domain.PageRequest.of(PageRequest.java:96)\r\n\tat org.springframework.data.domain.PageRequest.of(PageRequest.java:84)\r\n\tat org.company.project.userservice.helpers.RestResponsePage.&lt;init&gt;(RestResponsePage.java:28)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call(AnnotatedConstructor.java:124)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:283)\r\n\t... 57 more\r\n```\r\n\r\nI noticed that when tracing back the used objects by Jackson, that there are null values and zero values used. However, in the `BeanDeserializer._deserializeUsingPropertyBased()` the function I found that the correct User objects are in fact present:\r\n\r\n[![][1]][1]\r\n\r\nWhat I should change in the helper class to fix this behaviour and correctly map the response to a `Page&lt;User&gt;`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CRzfv.png","title":"RestTemplate mapping Page &#39;Page size must not be less than one&#39;","body":"<p>I have a REST API endpoint that will return a <code>Page&lt;User&gt;</code>. I want to provide some tests for this endpoint, and I found <a href=\"https://stackoverflow.com/a/35238863\">this</a> question, of which I could use <a href=\"https://stackoverflow.com/a/44895867\">this</a> answer (The accepted answer is outdated). When I tried to implement this, I noticed that <a href=\"https://stackoverflow.com/a/53221890\">another answer</a> had another implementation, which was <a href=\"https://stackoverflow.com/a/52160387/7193940\">supposedly</a> for spring 2.0.</p>\n<p>However, when using this (code below); I get an exception from the mapper. I noticed that in Wireshark the <code>Page</code> is returned correctly, and filled. When I use a tool like Postman to manually make the request, I also correctly get the <code>Page</code>.</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/&quot;)\nPage&lt;User&gt; findAll(@RequestParam(&quot;page&quot;) int page, @RequestParam(&quot;size&quot;) int size);\n</code></pre>\n<p>RestResponsePage (as found <a href=\"https://stackoverflow.com/a/53221890\">here</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.company.product.userservice.helpers;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RestResponsePage&lt;T&gt; extends PageImpl&lt;T&gt; {\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public RestResponsePage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n                            @JsonProperty(&quot;number&quot;) int number,\n                            @JsonProperty(&quot;size&quot;) int size,\n                            @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                            @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n                            @JsonProperty(&quot;last&quot;) boolean last,\n                            @JsonProperty(&quot;totalPages&quot;) int totalPages,\n                            @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                            @JsonProperty(&quot;first&quot;) boolean first,\n                            @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n\n    public RestResponsePage(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public RestResponsePage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public RestResponsePage() {\n        super(new ArrayList&lt;&gt;());\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private OAuth2RestTemplate template;\n\n/** template init code, retrieving token **/\n\nUriComponentsBuilder uri = UriComponentsBuilder.fromHttpUrl(ZUUL_URI + &quot;/api/users&quot;)\n        .queryParam(&quot;page&quot;, 0)\n        .queryParam(&quot;size&quot;, 10);\nResponseEntity&lt;RestResponsePage&lt;User&gt;&gt; user = template.exchange(uri.build().encode().toUri(), HttpMethod.GET, null, new ParameterizedTypeReference&lt;RestResponsePage&lt;User&gt;&gt;(){});\n</code></pre>\n<p>Running this gives the following stacktrace:</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.company.project.userservice.helpers.RestResponsePage]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of 'org.company.project.userservice.helpers.RestResponsePage;', problem: Page size must not be less than one!\n at [Source: (PushbackInputStream); line: 63, column: 1]\n\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:242)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:227)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:102)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:994)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:977)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)\n    at org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:709)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:627)\n    at org.company.project.userservice.api.OAuthMvcTest.testAddingAddressToUser(OAuthMvcTest.java:134)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.base/java.util.ArrayList.forEach(Unknown Source)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.base/java.util.ArrayList.forEach(Unknown Source)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of 'org.company.project.userservice.helpers.RestResponsePage', problem: Page size must not be less than one!\n at [Source: (PushbackInputStream); line: 63, column: 1]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1608)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.wrapAsJsonMappingException(StdValueInstantiator.java:484)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.rewrapCtorProblem(StdValueInstantiator.java:503)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:285)\n    at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromObjectWith(ValueInstantiator.java:229)\n    at com.fasterxml.jackson.databind.deser.impl.PropertyBasedCreator.build(PropertyBasedCreator.java:195)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:488)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1287)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:239)\n    ... 48 more\nCaused by: java.lang.IllegalArgumentException: Page size must not be less than one!\n    at org.springframework.data.domain.AbstractPageRequest.&lt;init&gt;(AbstractPageRequest.java:50)\n    at org.springframework.data.domain.PageRequest.&lt;init&gt;(PageRequest.java:71)\n    at org.springframework.data.domain.PageRequest.of(PageRequest.java:96)\n    at org.springframework.data.domain.PageRequest.of(PageRequest.java:84)\n    at org.company.project.userservice.helpers.RestResponsePage.&lt;init&gt;(RestResponsePage.java:28)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call(AnnotatedConstructor.java:124)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromObjectWith(StdValueInstantiator.java:283)\n    ... 57 more\n</code></pre>\n<p>I noticed that when tracing back the used objects by Jackson, that there are null values and zero values used. However, in the <code>BeanDeserializer._deserializeUsingPropertyBased()</code> the function I found that the correct User objects are in fact present:</p>\n<p><a href=\"https://i.stack.imgur.com/CRzfv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRzfv.png\" alt=\"\" /></a></p>\n<p>What I should change in the helper class to fix this behaviour and correctly map the response to a <code>Page&lt;User&gt;</code>?</p>\n"},{"tags":["java","multithreading","concurrency","threadpool","java.util.concurrent"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689311257,"post_id":76684733,"comment_id":135198193,"body_markdown":"You can&#39;t assume that HTTP transmission will only take one second, and you can&#39;t assume that HTTP is the only form of I/O in the system. Too broad.","body":"You can&#39;t assume that HTTP transmission will only take one second, and you can&#39;t assume that HTTP is the only form of I/O in the system. Too broad."},{"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"score":0,"creation_date":1689359716,"post_id":76684733,"comment_id":135207742,"body_markdown":"the duration of HTTP transmission in the case is just for example purpose, the purpose of question is NOT looking for an EXACT number in answer. In case to make the question more complex I&#39;ve simply it without those noise info","body":"the duration of HTTP transmission in the case is just for example purpose, the purpose of question is NOT looking for an EXACT number in answer. In case to make the question more complex I&#39;ve simply it without those noise info"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1689375728,"post_id":76684733,"comment_id":135209913,"body_markdown":"It’s important to consider why each thread pool exists. The question doesn’t discuss the purpose of creating a thread pool for each of these tasks instead of using one thread pool for all CPU-bound work.","body":"It’s important to consider why each thread pool exists. The question doesn’t discuss the purpose of creating a thread pool for each of these tasks instead of using one thread pool for all CPU-bound work."},{"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"score":0,"creation_date":1689480028,"post_id":76684733,"comment_id":135218299,"body_markdown":"We know one thread pool may do the same concurrent job, creating each thread pool is just for better task management, we&#39;re more curious about if there is anything to address for JVM to manage 4 thread pools vs 1 thread pool, any pro/con when setting the core thread size, more scenario (CPU-bound, I/O bound work are welcome to discuss) etc (Updated the post with sample requests)","body":"We know one thread pool may do the same concurrent job, creating each thread pool is just for better task management, we&#39;re more curious about if there is anything to address for JVM to manage 4 thread pools vs 1 thread pool, any pro/con when setting the core thread size, more scenario (CPU-bound, I/O bound work are welcome to discuss) etc (Updated the post with sample requests)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689483014,"post_id":76684733,"comment_id":135218416,"body_markdown":"Thanks for the update. Maybe you can expand a bit on the benefits for task management you get by using separate pools for each type of task. There may be a more optimal way to get the same benefits.","body":"Thanks for the update. Maybe you can expand a bit on the benefits for task management you get by using separate pools for each type of task. There may be a more optimal way to get the same benefits."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689550668,"creation_date":1689550668,"answer_id":76700814,"question_id":76684733,"body_markdown":"With a single thread pool, this rule of thumb is intended to make the best use of available computing resources. If you consider CPU-bound work (work that spends effectively no time waiting) there is no benefit to having more threads than CPU cores, as no work can be done by threads that are waiting to be scheduled on a core. Having more threads than cores will only waste memory and cause context-switching overhead. As the time each thread spends waiting increases (for I/O or lock acquisition, for example) it becomes more beneficial to have a greater number of threads, as another thread can be scheduled on a core while the currently-scheduled thread waits.\r\n\r\nWhen you have multiple thread pools, sizing them gets more complex, because you also have to consider the distribution of work between the pools.\r\n\r\nConsider an example where you have entirely CPU-bound tasks (wait time/service time = 0). If you size _each_ pool according to this formula on your 8 core machine, you&#39;ll give each pool a size of 8, with 32 threads in total between the 4 pools. However, only 8 of those will be able to run at a time. If you have 8 concurrent tasks of type A, all of pool A&#39;s threads will be running and all of the threads from other pools will be waiting for CPU. If you have 2 of _each_ task type running concurrently, then 2 threads from each pool will be running while 6 threads from each pool will have to wait. Those waiting threads provide no benefit to overall application throughput.\r\n\r\nSo you might think to use this formula to calculate the _total_ number of threads, and divide them between the pools. With 8 threads and 4 pools, that gives each pool a thread size of 2. This guarantees that all threads will have access to a CPU core when needed, but this is _only_ optimal if the workload is evenly distributed between each pool at all times. In a realistic application, this may be unlikely. If you were to suddenly get 8 requests of type A, only 2 of them would be handled concurrently while the other thread pools wait for incoming work.\r\n\r\nIf you have a very predictable workload, you can weight the size of each pool by the proportion of requests that will use it, however this may still not use resources optimally at all times. For CPU-bound work, it will generally be more efficient to use a single thread pool, where each thread can handle any type of task.\r\n\r\nOne possible reason to use separate pools for different task types would be to ensure fairness between different types of tasks, or to ensure that higher priority requests can be handled immediately. Maybe you _want_ to have idle threads ready to take on a task of type B even if pool A is inundated with work. This isn&#39;t common—most applications would prefer to operate under a &quot;first in, first out&quot; (FIFO) model—but it does apply in some use cases. Still, there are sometimes more optimal ways to achieve this. If each task can be processed quickly, you could have work scheduled using a priority queue or a round-robin approach to ensure that a single thread pool gives time to different task types in something other than FIFO order. If tasks may take a long (or highly variable) time to complete, having threads ready and waiting for tasks of type B may still provide a responsiveness benefit, as using a single thread pool may mean that all of the threads are busy handling long-running tasks. Implementing a mechanism to interrupt those tasks is possible but more complex than using a separate thread pool to handle the high-priority tasks.\r\n\r\nIt can sometimes be beneficial to use task-specific thread pools when certain tasks require the use of special resources. Imagine an application with two task types A and B, both CPU-intensive and under high load, but where A always requires a holding a specific mutually-exclusive lock for its duration and B does not. It might make sense to devote one thread/core to task A and 7 to task B. That way, each pool can proceed with its workload without blocking. If you were to use a shared thread pool for both tasks, whenever a thread took a request of type A, it would need to wait to acquire that lock, necessitating a larger number of threads in total in order to maintain high CPU utilisation.\r\n\r\nThe bottom line is that you have to take application-specific considerations into account when optimising, including what specific constraints your application needs to optimise. As a default, using a single thread pool sized according to a typical workload is a simple approach that often provides a suitable result.","title":"How to determine coreThreadSize if having multiple threadpools in application","body":"<p>With a single thread pool, this rule of thumb is intended to make the best use of available computing resources. If you consider CPU-bound work (work that spends effectively no time waiting) there is no benefit to having more threads than CPU cores, as no work can be done by threads that are waiting to be scheduled on a core. Having more threads than cores will only waste memory and cause context-switching overhead. As the time each thread spends waiting increases (for I/O or lock acquisition, for example) it becomes more beneficial to have a greater number of threads, as another thread can be scheduled on a core while the currently-scheduled thread waits.</p>\n<p>When you have multiple thread pools, sizing them gets more complex, because you also have to consider the distribution of work between the pools.</p>\n<p>Consider an example where you have entirely CPU-bound tasks (wait time/service time = 0). If you size <em>each</em> pool according to this formula on your 8 core machine, you'll give each pool a size of 8, with 32 threads in total between the 4 pools. However, only 8 of those will be able to run at a time. If you have 8 concurrent tasks of type A, all of pool A's threads will be running and all of the threads from other pools will be waiting for CPU. If you have 2 of <em>each</em> task type running concurrently, then 2 threads from each pool will be running while 6 threads from each pool will have to wait. Those waiting threads provide no benefit to overall application throughput.</p>\n<p>So you might think to use this formula to calculate the <em>total</em> number of threads, and divide them between the pools. With 8 threads and 4 pools, that gives each pool a thread size of 2. This guarantees that all threads will have access to a CPU core when needed, but this is <em>only</em> optimal if the workload is evenly distributed between each pool at all times. In a realistic application, this may be unlikely. If you were to suddenly get 8 requests of type A, only 2 of them would be handled concurrently while the other thread pools wait for incoming work.</p>\n<p>If you have a very predictable workload, you can weight the size of each pool by the proportion of requests that will use it, however this may still not use resources optimally at all times. For CPU-bound work, it will generally be more efficient to use a single thread pool, where each thread can handle any type of task.</p>\n<p>One possible reason to use separate pools for different task types would be to ensure fairness between different types of tasks, or to ensure that higher priority requests can be handled immediately. Maybe you <em>want</em> to have idle threads ready to take on a task of type B even if pool A is inundated with work. This isn't common—most applications would prefer to operate under a &quot;first in, first out&quot; (FIFO) model—but it does apply in some use cases. Still, there are sometimes more optimal ways to achieve this. If each task can be processed quickly, you could have work scheduled using a priority queue or a round-robin approach to ensure that a single thread pool gives time to different task types in something other than FIFO order. If tasks may take a long (or highly variable) time to complete, having threads ready and waiting for tasks of type B may still provide a responsiveness benefit, as using a single thread pool may mean that all of the threads are busy handling long-running tasks. Implementing a mechanism to interrupt those tasks is possible but more complex than using a separate thread pool to handle the high-priority tasks.</p>\n<p>It can sometimes be beneficial to use task-specific thread pools when certain tasks require the use of special resources. Imagine an application with two task types A and B, both CPU-intensive and under high load, but where A always requires a holding a specific mutually-exclusive lock for its duration and B does not. It might make sense to devote one thread/core to task A and 7 to task B. That way, each pool can proceed with its workload without blocking. If you were to use a shared thread pool for both tasks, whenever a thread took a request of type A, it would need to wait to acquire that lock, necessitating a larger number of threads in total in order to maintain high CPU utilisation.</p>\n<p>The bottom line is that you have to take application-specific considerations into account when optimising, including what specific constraints your application needs to optimise. As a default, using a single thread pool sized according to a typical workload is a simple approach that often provides a suitable result.</p>\n"}],"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700814,"answer_count":1,"score":0,"last_activity_date":1689550668,"creation_date":1689309061,"question_id":76684733,"body_markdown":"There are a lot of online resources showing how to determine best coreThreadSize when working with a SINGLE threadpool.Brian Goetz in his famous book &quot;Java Concurrency in Practice&quot; recommends the following formula:\r\n```\r\n Number of threads = Number of Available Cores * (1 + Wait time / Service time)\r\n```\r\nHowever, in real world often cases are we might have introduced multiple threadpools for better arranging different tasks instead of putting all tasks into a single thread pool (even though single thread pool might also work). \r\n\r\nTake an example:\r\n- we have a machine with 8 cores and only run 1 instance of our application (no container env involved)\r\n- we have 4 different time consuming tasks whenever we receive a request, for now just assuming all 4 tasks has a P999 of same duration that its (Wait time / Service time = 1)\r\n- we declared 4 thread pools in our application instead of only single thread pool so we&#39;d consider putting each task into an individual thread pool for task management, e.g.\r\n- Original Request\r\n  - Client A -&gt; Task A -&gt; submit to Threadpool A\r\n  - Client B -&gt; Task B -&gt; submit to Threadpool B\r\n  - Client C -&gt; Task C -&gt; submit to Threadpool C\r\n  - Client D -&gt; Task D -&gt; submit to Threadpool D\r\n  - Do all 4 tasks concurrently\r\n\r\n\r\nQuestion: \r\n- Is there any pro/con when working with a single thread pool VS multiple pools for the same thread tasks? (Pro/Con with different situations are welcome!) \r\n- How should we calculate core thread size now if using multiple pools? like by dividing the number of thread pools? \r\n\r\ne.g., with a single thread pool we might set thread size as 4 according to the formula (8/(1+1) = 4), with 4 thread pools do we have to only put 1 core thread size for each thread pool (4/4 = 1)? If so, can we not introduce more than 4 thread pools in our application?","title":"How to determine coreThreadSize if having multiple threadpools in application","body":"<p>There are a lot of online resources showing how to determine best coreThreadSize when working with a SINGLE threadpool.Brian Goetz in his famous book &quot;Java Concurrency in Practice&quot; recommends the following formula:</p>\n<pre><code> Number of threads = Number of Available Cores * (1 + Wait time / Service time)\n</code></pre>\n<p>However, in real world often cases are we might have introduced multiple threadpools for better arranging different tasks instead of putting all tasks into a single thread pool (even though single thread pool might also work).</p>\n<p>Take an example:</p>\n<ul>\n<li>we have a machine with 8 cores and only run 1 instance of our application (no container env involved)</li>\n<li>we have 4 different time consuming tasks whenever we receive a request, for now just assuming all 4 tasks has a P999 of same duration that its (Wait time / Service time = 1)</li>\n<li>we declared 4 thread pools in our application instead of only single thread pool so we'd consider putting each task into an individual thread pool for task management, e.g.</li>\n<li>Original Request\n<ul>\n<li>Client A -&gt; Task A -&gt; submit to Threadpool A</li>\n<li>Client B -&gt; Task B -&gt; submit to Threadpool B</li>\n<li>Client C -&gt; Task C -&gt; submit to Threadpool C</li>\n<li>Client D -&gt; Task D -&gt; submit to Threadpool D</li>\n<li>Do all 4 tasks concurrently</li>\n</ul>\n</li>\n</ul>\n<p>Question:</p>\n<ul>\n<li>Is there any pro/con when working with a single thread pool VS multiple pools for the same thread tasks? (Pro/Con with different situations are welcome!)</li>\n<li>How should we calculate core thread size now if using multiple pools? like by dividing the number of thread pools?</li>\n</ul>\n<p>e.g., with a single thread pool we might set thread size as 4 according to the formula (8/(1+1) = 4), with 4 thread pools do we have to only put 1 core thread size for each thread pool (4/4 = 1)? If so, can we not introduce more than 4 thread pools in our application?</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1689530794,"post_id":76699734,"comment_id":135223236,"body_markdown":"Welcome to SO! What do you expect the command &quot;continue&quot; to do? What does your book tell?","body":"Welcome to SO! What do you expect the command &quot;continue&quot; to do? What does your book tell?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689532500,"post_id":76699734,"comment_id":135223408,"body_markdown":"Debugging is a good skill to have. If you want to become a professional software developer, or otherwise regularly develop software, it will be necessary.  Try running the code in a debugger. Set a breakpoint at `int i = 1;`. Then, follow the code step-by-step. Monitor the value of `i`.","body":"Debugging is a good skill to have. If you want to become a professional software developer, or otherwise regularly develop software, it will be necessary.  Try running the code in a debugger. Set a breakpoint at <code>int i = 1;</code>. Then, follow the code step-by-step. Monitor the value of <code>i</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1689536575,"post_id":76699734,"comment_id":135223898,"body_markdown":"Your program never terminates. When i reaches 3, none of the remaining code in your loop is ever executed, only the `continue` loops over and over.","body":"Your program never terminates. When i reaches 3, none of the remaining code in your loop is ever executed, only the <code>continue</code> loops over and over."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689538118,"post_id":76699734,"comment_id":135224081,"body_markdown":"i..e, the conclusion that &#39;continue&#39; is breaking out of the loop has no basis in fact.","body":"i..e, the conclusion that &#39;continue&#39; is breaking out of the loop has no basis in fact."}],"answers":[{"tags":[],"owner":{"account_id":41525,"reputation":12415,"user_id":120753,"accept_rate":89,"display_name":"Babak Naffas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689530695,"creation_date":1689530695,"answer_id":76699738,"question_id":76699734,"body_markdown":"Your output is \r\n&gt; 1 2\r\n\r\nbut is your code ever completing? The continue statement occurs before your increment so the value of `i` remains as 3 indefinitely. You&#39;re looking at an infinite loop.\r\n\r\nMake sure all code paths are incrementing your counter. For example\r\n\r\n       if (i==3){\r\n         i++;\r\n         continue;\r\n       }\r\n       \r\n       System.out.print(i);\r\n       i++;","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>Your output is</p>\n<blockquote>\n<p>1 2</p>\n</blockquote>\n<p>but is your code ever completing? The continue statement occurs before your increment so the value of <code>i</code> remains as 3 indefinitely. You're looking at an infinite loop.</p>\n<p>Make sure all code paths are incrementing your counter. For example</p>\n<pre><code>   if (i==3){\n     i++;\n     continue;\n   }\n   \n   System.out.print(i);\n   i++;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1689531349,"creation_date":1689531349,"answer_id":76699782,"question_id":76699734,"body_markdown":"The issue is your loop condition and increment operation are seperated in your `while` loop. You could combine them. And I would recommend you start at `0`. Like,\r\n\r\n\tint i = 0;\r\n\twhile (++i &lt; 10) {\r\n\t\tif (i == 3) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tSystem.out.print(i);\r\n\t}\r\n\r\nOr, do it without the `continue`. Like,\r\n\r\n\tint i = 0;\r\n\twhile (i &lt; 10) {\r\n\t\tif (i != 3) {\r\n\t\t\tSystem.out.print(i);\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n\r\nOr with an `IntStream`. Like,\r\n\r\n    IntStream.range(1, 10).filter(x -&gt; x != 3).forEach(System.out::print);","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>The issue is your loop condition and increment operation are seperated in your <code>while</code> loop. You could combine them. And I would recommend you start at <code>0</code>. Like,</p>\n<pre><code>int i = 0;\nwhile (++i &lt; 10) {\n    if (i == 3) {\n        continue;\n    }\n    System.out.print(i);\n}\n</code></pre>\n<p>Or, do it without the <code>continue</code>. Like,</p>\n<pre><code>int i = 0;\nwhile (i &lt; 10) {\n    if (i != 3) {\n        System.out.print(i);\n    }\n    i++;\n}\n</code></pre>\n<p>Or with an <code>IntStream</code>. Like,</p>\n<pre><code>IntStream.range(1, 10).filter(x -&gt; x != 3).forEach(System.out::print);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689541991,"creation_date":1689541991,"answer_id":76700436,"question_id":76699734,"body_markdown":"When you encounter something like this, your should put in some print statements to see what is happening.  You can also slow down the process with a sleep statement.\r\n```\r\npublic class Loops {\r\n    public static void main(String args[]) {\r\n        int i = 1;\r\n        while (i&lt;=9){\r\n            try {\r\n              Thread.sleep(1000); // sleep for 1 second between iterations.\r\n            } catch(InterruptedException e) {}\r\n        \r\n            System.out.printf(&quot;Checking if %d == 3%n&quot;, i); \r\n           \r\n            if (i==3){\r\n                continue;\r\n            }\r\n            \r\n            System.out.println(i);\r\n            i++;\r\n            \r\n        }\r\n}\r\n```\r\nprints\r\n```\r\nChecking if 1 == 3\r\n1\r\nChecking if 2 == 3\r\n2\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\nChecking if 3 == 3\r\n...\r\n...\r\n...\r\n\r\n```\r\nNotice that `i` will increment until it reaches `3`. Then since `i` now equals `3` it skips to the end of the loop, stuck at `3` forever.  So only `1` and `2` are printed.","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>When you encounter something like this, your should put in some print statements to see what is happening.  You can also slow down the process with a sleep statement.</p>\n<pre><code>public class Loops {\n    public static void main(String args[]) {\n        int i = 1;\n        while (i&lt;=9){\n            try {\n              Thread.sleep(1000); // sleep for 1 second between iterations.\n            } catch(InterruptedException e) {}\n        \n            System.out.printf(&quot;Checking if %d == 3%n&quot;, i); \n           \n            if (i==3){\n                continue;\n            }\n            \n            System.out.println(i);\n            i++;\n            \n        }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Checking if 1 == 3\n1\nChecking if 2 == 3\n2\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\nChecking if 3 == 3\n...\n...\n...\n\n</code></pre>\n<p>Notice that <code>i</code> will increment until it reaches <code>3</code>. Then since <code>i</code> now equals <code>3</code> it skips to the end of the loop, stuck at <code>3</code> forever.  So only <code>1</code> and <code>2</code> are printed.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689549838,"creation_date":1689548792,"answer_id":76700754,"question_id":76699734,"body_markdown":"Your program enters an _infinite-loop_ when _i_ equals _3_.\r\n\r\nIncrement _i_ prior to the _continue_ statement.\r\n\r\n```java\r\nint i = 1;\r\nwhile (i&lt;=9){\r\n    if (i==3){\r\n        i++;\r\n        continue;\r\n    }\r\n    System.out.print(i);\r\n    i++;\r\n\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n12456789\r\n```\r\n\r\nAs a recommendation, if you plan on using _continue_, consider using the _[iterative for-loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_.  \r\nHaving _i_ increment at one location can prove helpful as you build your _loop_ code.\r\n\r\nYou could, also, use a _[do-while](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)_ loop, and increment _i_ during the conditional statement.\r\n\r\n```java\r\nint i = 1;\r\ndo {\r\n    if (i == 3) continue;\r\n    System.out.print(i);\r\n} while (++i &lt;= 9);\r\n```\r\n\r\nOn a final note, here is an example using a _[closure](https://en.wikipedia.org/wiki/Closure_(computer_programming))_.\r\n\r\n```java\r\nIntStream.range(1, 10).forEach(value -&gt; {\r\n    if (value != 3) System.out.print(value);\r\n});\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n12456789\r\n```","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>Your program enters an <em>infinite-loop</em> when <em>i</em> equals <em>3</em>.</p>\n<p>Increment <em>i</em> prior to the <em>continue</em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nwhile (i&lt;=9){\n    if (i==3){\n        i++;\n        continue;\n    }\n    System.out.print(i);\n    i++;\n\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>12456789\n</code></pre>\n<p>As a recommendation, if you plan on using <em>continue</em>, consider using the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">iterative for-loop</a></em>.<br />\nHaving <em>i</em> increment at one location can prove helpful as you build your <em>loop</em> code.</p>\n<p>You could, also, use a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">do-while</a></em> loop, and increment <em>i</em> during the conditional statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\ndo {\n    if (i == 3) continue;\n    System.out.print(i);\n} while (++i &lt;= 9);\n</code></pre>\n<p>On a final note, here is an example using a <em><a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">closure</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(1, 10).forEach(value -&gt; {\n    if (value != 3) System.out.print(value);\n});\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>12456789\n</code></pre>\n"}],"owner":{"account_id":29029221,"reputation":13,"user_id":22236618,"display_name":"ByteStorm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76699738,"answer_count":4,"score":0,"last_activity_date":1689549838,"creation_date":1689530537,"question_id":76699734,"body_markdown":"Task was to obtain the following output using loops\r\n12456789\r\n\r\n**My code**\r\n\r\n```\r\npublic class Loops {\r\n    public static void main(String args[]) {\r\n       int i = 1;\r\n       while (i&lt;=9){ \r\n           if (i==3){\r\n               continue;\r\n       }\r\n            System.out.print(i);\r\n            i++;\r\n\r\n       }\r\n    }\r\n}\r\n```\r\n\r\n**Actual output**-\r\n12\r\n**Expected Output**-\r\n12456789\r\n\r\nWhy is the output stopping at 2?\r\nBesides, I know alternate codes for the same problem using for(:::) statement but what is the issue with this code??\r\nYour assistance will greatly benefit me!\r\n\r\n","title":"Why is continue; statement acting as break; in my code in java?","body":"<p>Task was to obtain the following output using loops\n12456789</p>\n<p><strong>My code</strong></p>\n<pre><code>public class Loops {\n    public static void main(String args[]) {\n       int i = 1;\n       while (i&lt;=9){ \n           if (i==3){\n               continue;\n       }\n            System.out.print(i);\n            i++;\n\n       }\n    }\n}\n</code></pre>\n<p><strong>Actual output</strong>-\n12\n<strong>Expected Output</strong>-\n12456789</p>\n<p>Why is the output stopping at 2?\nBesides, I know alternate codes for the same problem using for(:::) statement but what is the issue with this code??\nYour assistance will greatly benefit me!</p>\n"},{"tags":["java","orm","activejdbc"],"comments":[{"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"score":0,"creation_date":1689606915,"post_id":76700660,"comment_id":135233846,"body_markdown":"Can you please post your table structure?","body":"Can you please post your table structure?"},{"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"score":0,"creation_date":1689627154,"post_id":76700660,"comment_id":135237814,"body_markdown":"ClassSession is 1:* to ClassSessionLessonTime. ClassSessionLessonTime is 1:1 to ClassSessionLessonInstructor.","body":"ClassSession is 1:* to ClassSessionLessonTime. ClassSessionLessonTime is 1:1 to ClassSessionLessonInstructor."}],"answers":[{"tags":[],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689547665,"creation_date":1689547665,"answer_id":76700705,"question_id":76700660,"body_markdown":"I have found a workaround:\r\n\r\n```java\r\nList&lt;ClassSession&gt; classSessions = Base.findAll(&quot;&quot;&quot;\r\n    select class_sessions.*\r\n    from class_sessions\r\n             join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\r\n             join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\r\n    where class_session_lesson_instructors.instructor_id = ?\r\n    order by class_session_lesson_times.lesson_time_epochms desc\r\n    &quot;&quot;&quot;, user.getPersonId())\r\n.stream()\r\n.map(row -&gt; (ClassSession) new ClassSession().fromMap(row))\r\n.toList();\r\n```\r\n\r\nThe original issue seems like a gotcha but this solution works for me. Open to better solutions.","title":"ActiveJDBC: Joined rows of findBySQL with join are empty","body":"<p>I have found a workaround:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ClassSession&gt; classSessions = Base.findAll(&quot;&quot;&quot;\n    select class_sessions.*\n    from class_sessions\n             join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\n             join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\n    where class_session_lesson_instructors.instructor_id = ?\n    order by class_session_lesson_times.lesson_time_epochms desc\n    &quot;&quot;&quot;, user.getPersonId())\n.stream()\n.map(row -&gt; (ClassSession) new ClassSession().fromMap(row))\n.toList();\n</code></pre>\n<p>The original issue seems like a gotcha but this solution works for me. Open to better solutions.</p>\n"}],"owner":{"account_id":105578,"reputation":4431,"user_id":281657,"accept_rate":93,"display_name":"Malcolm Crum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689547665,"creation_date":1689546706,"question_id":76700660,"body_markdown":"I am performing a mildly complex query in a `findBySQL` call with ActiveJDBC. I receive results as expected, but when I query joind rows with `getAll`, the results are empty. \r\n\r\n```\r\nList&lt;ClassSession&gt; classSessions = ClassSession.findBySQL(&quot;&quot;&quot;\r\n        select class_sessions.*\r\n        from class_sessions\r\n                 join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\r\n                 join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\r\n        where class_session_lesson_instructors.instructor_id = ?\r\n        order by class_session_lesson_times.lesson_time_epochms desc\r\n        &quot;&quot;&quot;, user.getPersonId()).include(ClassSessionLessonTime.class);\r\nList&lt;ClassSessionLessonTime&gt; lts = classSessions.get(0).getAll(ClassSessionLessonTime.class);\r\nList&lt;ClassSessionLessonTime&gt; lts2 = ClassSession.findBySessionSerialized(classSessions.get(0).getSessionSerialized()).getAll(ClassSessionLessonTime.class);\r\n```\r\n\r\nWhen this finishes, `lts` is empty, and `lts2` has 18 elements (which is what I expected).\r\n\r\nI think the presence of the `join`s in the `findBySQL` query interferes with the population of the `cachedChildren` field in `Model.java`, but I don&#39;t know how resolve this. I know I could make a `Base.find()` call and parse results by hand but this seems like a lot of work I&#39;d like to avoid.","title":"ActiveJDBC: Joined rows of findBySQL with join are empty","body":"<p>I am performing a mildly complex query in a <code>findBySQL</code> call with ActiveJDBC. I receive results as expected, but when I query joind rows with <code>getAll</code>, the results are empty.</p>\n<pre><code>List&lt;ClassSession&gt; classSessions = ClassSession.findBySQL(&quot;&quot;&quot;\n        select class_sessions.*\n        from class_sessions\n                 join class_session_lesson_times on class_sessions.id = class_session_lesson_times.class_session_id\n                 join class_session_lesson_instructors on class_session_lesson_times.id = class_session_lesson_instructors.class_session_lesson_time_id\n        where class_session_lesson_instructors.instructor_id = ?\n        order by class_session_lesson_times.lesson_time_epochms desc\n        &quot;&quot;&quot;, user.getPersonId()).include(ClassSessionLessonTime.class);\nList&lt;ClassSessionLessonTime&gt; lts = classSessions.get(0).getAll(ClassSessionLessonTime.class);\nList&lt;ClassSessionLessonTime&gt; lts2 = ClassSession.findBySessionSerialized(classSessions.get(0).getSessionSerialized()).getAll(ClassSessionLessonTime.class);\n</code></pre>\n<p>When this finishes, <code>lts</code> is empty, and <code>lts2</code> has 18 elements (which is what I expected).</p>\n<p>I think the presence of the <code>join</code>s in the <code>findBySQL</code> query interferes with the population of the <code>cachedChildren</code> field in <code>Model.java</code>, but I don't know how resolve this. I know I could make a <code>Base.find()</code> call and parse results by hand but this seems like a lot of work I'd like to avoid.</p>\n"},{"tags":["java","spring","spring-boot","caching","thread-safety"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1689555442,"post_id":76700687,"comment_id":135225495,"body_markdown":"The return value should be immutable or unmodifiable, as it can be shared across threads. That is unrelated to the `sync` flag, which determines if the method is invoked atomically. When false then Spring performs a lookup, calls the method if missed, and inserts the value. This could allow multiple threads to race so that the key is computed redundantly (a cache stampede). The flag instead performs this work under a lock scoped by the entry, e.g using `computeIfAbsent` from `ConcurrentHashMap`.","body":"The return value should be immutable or unmodifiable, as it can be shared across threads. That is unrelated to the <code>sync</code> flag, which determines if the method is invoked atomically. When false then Spring performs a lookup, calls the method if missed, and inserts the value. This could allow multiple threads to race so that the key is computed redundantly (a cache stampede). The flag instead performs this work under a lock scoped by the entry, e.g using <code>computeIfAbsent</code> from <code>ConcurrentHashMap</code>."},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1689617814,"post_id":76700687,"comment_id":135236046,"body_markdown":"&quot;`The return value should be immutable or unmodifiable`&quot;, isn&#39;t happens-before relationship important? I couldn&#39;t get it. Let&#39;s think multiple threads trying to get data and `sync` is `true`, even the returned value is immutable it&#39;s doesn&#39;t follow happens-before since data could be created in one of any threads.","body":"&quot;<code>The return value should be immutable or unmodifiable</code>&quot;, isn&#39;t happens-before relationship important? I couldn&#39;t get it. Let&#39;s think multiple threads trying to get data and <code>sync</code> is <code>true</code>, even the returned value is immutable it&#39;s doesn&#39;t follow happens-before since data could be created in one of any threads."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1689640378,"post_id":76700687,"comment_id":135239330,"body_markdown":"When the newly created value is published into the cache and made visible to other threads, this is done by a volatile write. Happens-before would force all preceding writes (like setting constructor fields) must also be visible. That would be true regardless of sync, which performs the work under an entry lock to avoid redundant computations. It is less risky to use an immutable, unmodifiable, or copy-on-write value to avoid accidentally mutating a non-concurrent cached value in an unsafe way. In your question `HashMap` is enough, but I might store an immutable `Map.copyOf` version instead.","body":"When the newly created value is published into the cache and made visible to other threads, this is done by a volatile write. Happens-before would force all preceding writes (like setting constructor fields) must also be visible. That would be true regardless of sync, which performs the work under an entry lock to avoid redundant computations. It is less risky to use an immutable, unmodifiable, or copy-on-write value to avoid accidentally mutating a non-concurrent cached value in an unsafe way. In your question <code>HashMap</code> is enough, but I might store an immutable <code>Map.copyOf</code> version instead."}],"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689547386,"creation_date":1689547386,"question_id":76700687,"body_markdown":"I&#39;m trying to understand thread safety. `@Cachable` annotation has `sync` element since 4.3 and it says in document:\r\n\r\n&gt; Synchronize the invocation of the underlying method if several threads\r\n&gt; are attempting to load a value for the same key.\r\n\r\nSo does it matter what `@Cachable` annotated method returns to reach all thread to use same cached value and not calculate it again? I mean like what if we return `HashMap&lt;String, MyDTO&gt;` does it do the job or I have to use ConcurrentMap to achieve it? Since `@Cachable` annotation (which I use default configuration) use `ConcurrentHashMap` and content of it will not change during process, I believe `HashMap` can be enough. Am I wrong?","title":"Is Cachable annotated method that returns HashMap is thread safe?","body":"<p>I'm trying to understand thread safety. <code>@Cachable</code> annotation has <code>sync</code> element since 4.3 and it says in document:</p>\n<blockquote>\n<p>Synchronize the invocation of the underlying method if several threads\nare attempting to load a value for the same key.</p>\n</blockquote>\n<p>So does it matter what <code>@Cachable</code> annotated method returns to reach all thread to use same cached value and not calculate it again? I mean like what if we return <code>HashMap&lt;String, MyDTO&gt;</code> does it do the job or I have to use ConcurrentMap to achieve it? Since <code>@Cachable</code> annotation (which I use default configuration) use <code>ConcurrentHashMap</code> and content of it will not change during process, I believe <code>HashMap</code> can be enough. Am I wrong?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"score":1,"creation_date":1470045380,"post_id":38695886,"comment_id":64770191,"body_markdown":"looks like a version mismatch. check the dependencies.","body":"looks like a version mismatch. check the dependencies."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1470045393,"creation_date":1470045393,"answer_id":38695927,"question_id":38695886,"body_markdown":"Looks like your Client and Server has two different class Versions:\r\n\r\n    incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n        at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\r\n","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Looks like your Client and Server has two different class Versions:</p>\n\n<pre><code>incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1470046218,"creation_date":1470046218,"answer_id":38696205,"question_id":38695886,"body_markdown":"Seems like SpringSecurityContextImpl can&#39;t be deserialized correctly. 410 and 400 means Spring 4.0 and Spring 4.1. There&#39;s a similar question for mismatch between Spring 3.2 and Spring 4.2 https://stackoverflow.com/questions/35535765/redis-session-serializer-mismatch-between-3-2-and-4-2. That&#39;s a bit tricky, because I can see you&#39;re just trying to run an example, I think the most straightforward way to fix this is to not store session data in Redis (e.g. remove @EnableRedisHttpSession). Perhaps, also verify that the Spring 4.1 is used everywhere, and Spring 4 is not pulled in by some transitive dependency.","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Seems like SpringSecurityContextImpl can't be deserialized correctly. 410 and 400 means Spring 4.0 and Spring 4.1. There's a similar question for mismatch between Spring 3.2 and Spring 4.2 <a href=\"https://stackoverflow.com/questions/35535765/redis-session-serializer-mismatch-between-3-2-and-4-2\">Redis Session Serializer mismatch between 3.2 and 4.2</a>. That's a bit tricky, because I can see you're just trying to run an example, I think the most straightforward way to fix this is to not store session data in Redis (e.g. remove @EnableRedisHttpSession). Perhaps, also verify that the Spring 4.1 is used everywhere, and Spring 4 is not pulled in by some transitive dependency.</p>\n"},{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625391554,"creation_date":1622861058,"answer_id":67845813,"question_id":38695886,"body_markdown":"Context : Spring boot app + redis local db (Saving an Employee class object which implements Serializable interface)\r\n\r\nWorked perfectly fine but, then I renamed the package name using eclipse refactor and that&#39;s when I started getting this issue.\r\n\r\nTried everything by cleaning,building,clearing .m2 repo etc. But nothing helped.\r\n\r\nI got little hint by one of the answers here that it is a redis issue and started debugging on redis end.\r\n\r\nAnd found that there was a file named dump.rdb file in which there was a reference with the old package fully qualified name and that&#39;s what the problem was.\r\n\r\nJust deleted the dump.rdb file from redis and boom, the error was gone.\r\n\r\nIt took around 2,3 hours and I hope it might help someone and save some time.\r\n\r\n","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Context : Spring boot app + redis local db (Saving an Employee class object which implements Serializable interface)</p>\n<p>Worked perfectly fine but, then I renamed the package name using eclipse refactor and that's when I started getting this issue.</p>\n<p>Tried everything by cleaning,building,clearing .m2 repo etc. But nothing helped.</p>\n<p>I got little hint by one of the answers here that it is a redis issue and started debugging on redis end.</p>\n<p>And found that there was a file named dump.rdb file in which there was a reference with the old package fully qualified name and that's what the problem was.</p>\n<p>Just deleted the dump.rdb file from redis and boom, the error was gone.</p>\n<p>It took around 2,3 hours and I hope it might help someone and save some time.</p>\n"},{"tags":[],"owner":{"account_id":13756795,"reputation":51,"user_id":9927535,"display_name":"Aniefiok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626209326,"creation_date":1626209326,"answer_id":68369150,"question_id":38695886,"body_markdown":"For me, all i did to resolve this error was to delete all redis key using the Redis client ```redis-cli FLUSHALL```","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>For me, all i did to resolve this error was to delete all redis key using the Redis client <code>redis-cli FLUSHALL</code></p>\n"},{"tags":[],"owner":{"account_id":3683767,"reputation":21,"user_id":3068043,"display_name":"botmonster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668206783,"creation_date":1668203094,"answer_id":74408439,"question_id":38695886,"body_markdown":"Objects stored in session were serialized by previous version of the app. When new application was deployed some classes changed signatures and now deserializer is unable to unwrap due to conflicted versions. \r\n\r\nThe best way is to tell deserializer to igonre this value by providing `springSessionDefaultRedisSerializer` which will output null value:\r\n\r\n```java\r\n@Configuration\r\npublic class RedisConfig implements BeanClassLoaderAware {\r\n    \r\n    private ClassLoader classLoader;\r\n\r\n    @Bean(&quot;springSessionDefaultRedisSerializer&quot;)\r\n    public RedisSerializer&lt;Object&gt; getRedisSerializer() {\r\n        return new JdkSerializationRedisSerializer(classLoader) {\r\n            @Override\r\n            public Object deserialize(@Nullable byte[] bytes) {\r\n                try {\r\n                    return super.deserialize(bytes);\r\n                } catch (SerializationException ex) {\r\n                    log.warn(ex.getMessage());\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n    \r\n    @Override\r\n    public void setBeanClassLoader(@NotNull ClassLoader classLoader) {\r\n        this.classLoader = classLoader;\r\n    }\r\n}\r\n```","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Objects stored in session were serialized by previous version of the app. When new application was deployed some classes changed signatures and now deserializer is unable to unwrap due to conflicted versions.</p>\n<p>The best way is to tell deserializer to igonre this value by providing <code>springSessionDefaultRedisSerializer</code> which will output null value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RedisConfig implements BeanClassLoaderAware {\n    \n    private ClassLoader classLoader;\n\n    @Bean(&quot;springSessionDefaultRedisSerializer&quot;)\n    public RedisSerializer&lt;Object&gt; getRedisSerializer() {\n        return new JdkSerializationRedisSerializer(classLoader) {\n            @Override\n            public Object deserialize(@Nullable byte[] bytes) {\n                try {\n                    return super.deserialize(bytes);\n                } catch (SerializationException ex) {\n                    log.warn(ex.getMessage());\n                }\n                return null;\n            }\n        };\n    }\n    \n    @Override\n    public void setBeanClassLoader(@NotNull ClassLoader classLoader) {\n        this.classLoader = classLoader;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689546907,"creation_date":1689546907,"answer_id":76700668,"question_id":38695886,"body_markdown":"Clearing redis cache hekped in my case:\r\n```sh\r\ndocker exec -it redis redis-cli -a redis-password FLUSHALL\r\n```","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>Clearing redis cache hekped in my case:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker exec -it redis redis-cli -a redis-password FLUSHALL\n</code></pre>\n"}],"owner":{"account_id":7371946,"reputation":704,"user_id":5611861,"accept_rate":60,"display_name":"hamid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41217,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38696205,"answer_count":6,"score":9,"last_activity_date":1689546907,"creation_date":1470045277,"question_id":38695886,"body_markdown":"I am using `eclipse marse jee`, `spring 4`, `redis 3`.\r\n\r\nI downloaded a `spring` example from [here][1]. This example has 4 applications:\r\n\r\n`admin` - `gateway` - `resource` - `ui`.\r\n\r\nI have ran all of these program. I tested `http://localhost:8080/ui/` and log in with username:admin, password:admin. I got this error in `ui` application.\r\n\r\n    \r\n    org.springframework.data.redis.serializer.SerializationException: Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n\t    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.AbstractOperations.deserializeHashValue(AbstractOperations.java:316) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.AbstractOperations.deserializeHashMap(AbstractOperations.java:277) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.DefaultHashOperations.entries(DefaultHashOperations.java:227) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.data.redis.core.DefaultBoundHashOperations.entries(DefaultBoundHashOperations.java:101) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:233) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:220) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:141) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:276) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.web.context.request.ServletRequestAttributes.updateAccessedSessionAttributes(ServletRequestAttributes.java:255) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.context.request.AbstractRequestAttributes.requestCompleted(AbstractRequestAttributes.java:48) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:106) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:125) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:65) ~[spring-session-1.0.2.RELEASE.jar:na]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\r\n\t    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\r\n\t    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.33.jar:8.0.33]\r\n\t    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\r\n    Caused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n\t    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:39) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\r\n\t... 45 common frames omitted\r\n    Caused by: java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\r\n\t    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:621) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1623) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1518) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1774) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351) ~[na:1.8.0_05]\r\n\t    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371) ~[na:1.8.0_05]\r\n\t    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:70) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n\t    ... 47 common frames omitted\r\n\r\nCan anyone help me?\r\n\r\n  [1]: https://github.com/hmiri/tut-spring-security-and-angular-js/tree/master/double","title":"Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload","body":"<p>I am using <code>eclipse marse jee</code>, <code>spring 4</code>, <code>redis 3</code>.</p>\n\n<p>I downloaded a <code>spring</code> example from <a href=\"https://github.com/hmiri/tut-spring-security-and-angular-js/tree/master/double\" rel=\"noreferrer\">here</a>. This example has 4 applications:</p>\n\n<p><code>admin</code> - <code>gateway</code> - <code>resource</code> - <code>ui</code>.</p>\n\n<p>I have ran all of these program. I tested <code>http://localhost:8080/ui/</code> and log in with username:admin, password:admin. I got this error in <code>ui</code> application.</p>\n\n<pre><code>org.springframework.data.redis.serializer.SerializationException: Cannot deserialize; nested exception is org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:41) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.AbstractOperations.deserializeHashValue(AbstractOperations.java:316) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.AbstractOperations.deserializeHashMap(AbstractOperations.java:277) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.DefaultHashOperations.entries(DefaultHashOperations.java:227) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.data.redis.core.DefaultBoundHashOperations.entries(DefaultBoundHashOperations.java:101) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:233) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:220) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.data.redis.RedisOperationsSessionRepository.getSession(RedisOperationsSessionRepository.java:141) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper.getSession(SessionRepositoryFilter.java:276) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.web.context.request.ServletRequestAttributes.updateAccessedSessionAttributes(ServletRequestAttributes.java:255) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.context.request.AbstractRequestAttributes.requestCompleted(AbstractRequestAttributes.java:48) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:106) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:125) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:65) ~[spring-session-1.0.2.RELEASE.jar:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) ~[tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.33.jar:8.0.33]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?; nested exception is java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:39) ~[spring-data-redis-1.6.4.RELEASE.jar:na]\n... 45 common frames omitted\nCaused by: java.io.InvalidClassException: org.springframework.security.core.context.SecurityContextImpl; local class incompatible: stream classdesc serialVersionUID = 410, local class serialVersionUID = 400\n    at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:621) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1623) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1518) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1774) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351) ~[na:1.8.0_05]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371) ~[na:1.8.0_05]\n    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:70) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73) ~[spring-core-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n    ... 47 common frames omitted\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java","http","feign"],"answers":[{"tags":[],"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1494390892,"creation_date":1494390892,"answer_id":43883656,"question_id":43868680,"body_markdown":"It seems to be caused by a bug that is already opened - https://github.com/OpenFeign/feign/issues/424\r\n\r\nLike in comments, you can define your own `Param.Expander` something like below as a workaround.\r\n\r\n\r\n    @RequestLine(&quot;GET /Groups?filter={roleName}&quot;)\r\n    String isValidRole(@Param(value = &quot;roleName&quot;, expander = PrefixExpander.class) String roleName);\r\n\r\n    static final class PrefixExpander implements Param.Expander {\r\n        @Override\r\n        public String expand(Object value) {\r\n            return &quot;displayName+Eq+&quot; + value;\r\n        }\r\n    }\r\n\r\n","title":"Feign Client does not resolve Query parameter","body":"<p>It seems to be caused by a bug that is already opened - <a href=\"https://github.com/OpenFeign/feign/issues/424\" rel=\"noreferrer\">https://github.com/OpenFeign/feign/issues/424</a></p>\n\n<p>Like in comments, you can define your own <code>Param.Expander</code> something like below as a workaround.</p>\n\n<pre><code>@RequestLine(\"GET /Groups?filter={roleName}\")\nString isValidRole(@Param(value = \"roleName\", expander = PrefixExpander.class) String roleName);\n\nstatic final class PrefixExpander implements Param.Expander {\n    @Override\n    public String expand(Object value) {\n        return \"displayName+Eq+\" + value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11014299,"reputation":893,"user_id":8090608,"display_name":"Frank.Chang"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1556621770,"creation_date":1556621770,"answer_id":55919448,"question_id":43868680,"body_markdown":"As the recent(2019.04) [open feign issue](https://github.com/OpenFeign/feign/pull/667) and [spring doc](https://cloud.spring.io/spring-cloud-static/spring-cloud-openfeign/2.1.0.RELEASE/multi/multi_spring-cloud-feign.html#_feign_querymap_support) say：\n&gt;The OpenFeign @QueryMap annotation provides support for POJOs to be used as GET parameter maps.\n&gt;\n&gt;Spring Cloud OpenFeign provides an equivalent @SpringQueryMap annotation, which is used to annotate a POJO or Map parameter as a query parameter map since 2.1.0.\n\nYou can use it like this:\n```\n    @GetMapping(&quot;user&quot;)\n    String getUser(@SpringQueryMap User user);\n```\n```\npublic class User {\n    private String name;\n    private int age;\n    ...\n}\n```","title":"Feign Client does not resolve Query parameter","body":"<p>As the recent(2019.04) <a href=\"https://github.com/OpenFeign/feign/pull/667\" rel=\"noreferrer\">open feign issue</a> and <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-openfeign/2.1.0.RELEASE/multi/multi_spring-cloud-feign.html#_feign_querymap_support\" rel=\"noreferrer\">spring doc</a> say：</p>\n<blockquote>\n<p>The OpenFeign @QueryMap annotation provides support for POJOs to be used as GET parameter maps.</p>\n<p>Spring Cloud OpenFeign provides an equivalent @SpringQueryMap annotation, which is used to annotate a POJO or Map parameter as a query parameter map since 2.1.0.</p>\n</blockquote>\n<p>You can use it like this:</p>\n<pre><code>    @GetMapping(&quot;user&quot;)\n    String getUser(@SpringQueryMap User user);\n</code></pre>\n<pre><code>public class User {\n    private String name;\n    private int age;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1600244274,"creation_date":1578051713,"answer_id":59578013,"question_id":43868680,"body_markdown":"Working fine using `@QueryMap`\r\n\r\nURL: **/api/v1/task/search?status=PENDING&amp;size=20&amp;page=0**\r\n\r\n    Map&lt;String, String&gt; parameters = new LinkedHashMap&lt;&gt;()\r\n            parameters.put(&quot;status&quot;, &quot;PENDING&quot;)\r\n            parameters.put(&quot;size&quot;, &quot;20&quot;)\r\n            parameters.put(&quot;page&quot;, &quot;0&quot;)\r\n            def tasks = restClientFactory.taskApiClient.searchTasks(parameters)\r\n\r\nInside Client Interface\r\n\r\n    @RequestLine(&quot;GET /api/v1/task/search?{parameters}&quot;)\r\n    List&lt;Task&gt; searchTasks(@QueryMap Map&lt;String, String&gt; parameters)\r\n\r\n\r\n","title":"Feign Client does not resolve Query parameter","body":"<p>Working fine using <code>@QueryMap</code></p>\n<p>URL: <strong>/api/v1/task/search?status=PENDING&amp;size=20&amp;page=0</strong></p>\n<pre><code>Map&lt;String, String&gt; parameters = new LinkedHashMap&lt;&gt;()\n        parameters.put(&quot;status&quot;, &quot;PENDING&quot;)\n        parameters.put(&quot;size&quot;, &quot;20&quot;)\n        parameters.put(&quot;page&quot;, &quot;0&quot;)\n        def tasks = restClientFactory.taskApiClient.searchTasks(parameters)\n</code></pre>\n<p>Inside Client Interface</p>\n<pre><code>@RequestLine(&quot;GET /api/v1/task/search?{parameters}&quot;)\nList&lt;Task&gt; searchTasks(@QueryMap Map&lt;String, String&gt; parameters)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683205755,"creation_date":1628685013,"answer_id":68742062,"question_id":43868680,"body_markdown":"With Spring feign client below works fine: \r\n```\r\n@GetMapping(&quot;/Groups?filter=displayName+Eq+{roleName}&quot;)\r\nSCIMGroup isValidRole(@PathVariable(value = &quot;roleName&quot;) String roleName);\r\n```","title":"Feign Client does not resolve Query parameter","body":"<p>With Spring feign client below works fine:</p>\n<pre><code>@GetMapping(&quot;/Groups?filter=displayName+Eq+{roleName}&quot;)\nSCIMGroup isValidRole(@PathVariable(value = &quot;roleName&quot;) String roleName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603922,"reputation":31,"user_id":6444615,"display_name":"Rahul Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689545898,"creation_date":1689545898,"answer_id":76700625,"question_id":43868680,"body_markdown":"Well, as suggested by @Frank.Chang you can use @SpringQueryMap for this:\r\n\r\n\r\n    @GetMapping(&quot;user&quot;)\r\n    String getUser(@SpringQueryMap User user);\r\n```\r\npublic class User {\r\n    @JsonProperty(&quot;na-me&quot;)  // json property won&#39;t work\r\n    private String name;\r\n    private int age;\r\n    ...\r\n}\r\n```\r\n\r\nBut remember, in this case @JsonProperty(&quot;na-me&quot;), won&#39;t work for you. For that you will have to create a getter for the field and add @Param annotation from feign package on the getter. like this.\r\n\r\n```\r\npublic class User {\r\n    private String name;\r\n    private int age;\r\n    ...\r\n    @Param(&quot;na-me&quot;)\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Feign Client does not resolve Query parameter","body":"<p>Well, as suggested by @Frank.Chang you can use @SpringQueryMap for this:</p>\n<pre><code>@GetMapping(&quot;user&quot;)\nString getUser(@SpringQueryMap User user);\n</code></pre>\n<pre><code>public class User {\n    @JsonProperty(&quot;na-me&quot;)  // json property won't work\n    private String name;\n    private int age;\n    ...\n}\n</code></pre>\n<p>But remember, in this case @JsonProperty(&quot;na-me&quot;), won't work for you. For that you will have to create a getter for the field and add @Param annotation from feign package on the getter. like this.</p>\n<pre><code>public class User {\n    private String name;\n    private int age;\n    ...\n    @Param(&quot;na-me&quot;)\n    public String getName() {\n        return this.name;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":425139,"reputation":12301,"user_id":805563,"accept_rate":87,"display_name":"Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55930,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43883656,"answer_count":5,"score":15,"last_activity_date":1689545898,"creation_date":1494329540,"question_id":43868680,"body_markdown":"Here is my interface:\r\n\r\n    public interface SCIMServiceStub {\r\n        @RequestLine(&quot;GET /Users/{id}&quot;)\r\n        SCIMUser getUser(@Param(&quot;id&quot;) String id);\r\n\r\n        @RequestLine(&quot;GET /Groups?filter=displayName+Eq+{roleName}&quot;)\r\n        SCIMGroup isValidRole(@Param(&quot;roleName&quot;) String roleName);\r\n    }\r\n\r\nHere `getUser` call works fine.\r\n\r\nBut `isValidRole` is not working properly as the request is eventually sent like this.\r\n\r\n    /Groups?filter=displayName+Eq+{roleName}\r\n\r\nHere `{roleName}` is not resolved.\r\n\r\nWhat am I missing here? Appreciate some help, as I&#39;m clueless at this point.\r\n\r\n**Edit**: One more question: Is there a way to avoid automatic url encoding of query parameters?","title":"Feign Client does not resolve Query parameter","body":"<p>Here is my interface:</p>\n<pre><code>public interface SCIMServiceStub {\n    @RequestLine(&quot;GET /Users/{id}&quot;)\n    SCIMUser getUser(@Param(&quot;id&quot;) String id);\n\n    @RequestLine(&quot;GET /Groups?filter=displayName+Eq+{roleName}&quot;)\n    SCIMGroup isValidRole(@Param(&quot;roleName&quot;) String roleName);\n}\n</code></pre>\n<p>Here <code>getUser</code> call works fine.</p>\n<p>But <code>isValidRole</code> is not working properly as the request is eventually sent like this.</p>\n<pre><code>/Groups?filter=displayName+Eq+{roleName}\n</code></pre>\n<p>Here <code>{roleName}</code> is not resolved.</p>\n<p>What am I missing here? Appreciate some help, as I'm clueless at this point.</p>\n<p><strong>Edit</strong>: One more question: Is there a way to avoid automatic url encoding of query parameters?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1689544989,"post_id":76700438,"comment_id":135224786,"body_markdown":"It&#39;s coincidental and related to the Integer hashCode calculation.  Change your `HashMap` to `HashMap&lt;Integer,Integer&gt; occurrences = new HashMap&lt;&gt;(2, 3.0f);` and see the difference.","body":"It&#39;s coincidental and related to the Integer hashCode calculation.  Change your <code>HashMap</code> to <code>HashMap&lt;Integer,Integer&gt; occurrences = new HashMap&lt;&gt;(2, 3.0f);</code> and see the difference."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689545472,"post_id":76700438,"comment_id":135224829,"body_markdown":"Try some variations; for example, maybe keys 7 and 17 (in a default-capacity hashmap)","body":"Try some variations; for example, maybe keys 7 and 17 (in a default-capacity hashmap)"}],"owner":{"account_id":1021473,"reputation":305,"user_id":1031702,"display_name":"Gregory Ray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689542261,"answer_count":0,"score":0,"last_activity_date":1689542277,"creation_date":1689542004,"question_id":76700438,"body_markdown":"Here is my code, being ran on LeetCode:\r\n\r\n```\r\nclass Solution {\r\n    private int[] nums;\r\n    private HashMap&lt;Integer, Integer&gt; memo = new HashMap&lt;Integer, Integer&gt;();\r\n    private HashMap&lt;Integer, Integer&gt; occurances = new HashMap&lt;Integer, Integer&gt;();\r\n    private int dp(int current) {\r\n        //System.out.println(current);\r\n        return 0;\r\n    }\r\n    \r\n    public int deleteAndEarn(int[] nums) {\r\n        for(var i = 0; i &lt; nums.length; i++) {\r\n            var n = nums[i];\r\n            var o = occurances.getOrDefault(n, 0);\r\n            o++;\r\n            occurances.put(n, o);\r\n        }\r\n        \r\n        int max = 0;\r\n        for(Integer i: occurances.keySet()) {\r\n            System.out.println(i);\r\n            max = Math.max(dp(i), max);\r\n        }\r\n        \r\n        return max;\r\n    }\r\n}\r\n```\r\n\r\nand here is the stdout:\r\n```\r\n2\r\n3\r\n4\r\n5\r\n9\r\n```\r\nwhere nums = &#39;[3,4,2,9,2,4,3,2,4,5]&#39;\r\n\r\nI have tried multiple combinations of nums and it is always ordered. As far as I understand HashMap put and HashMap keySet are both constant time operations and not n log(n). So what is happening under the hood that is causing to always be sorted? Is it safe to assume the time complexity of my simple algorithm of printing numbers is still o(n)? Is it safe to assume at some point these will stop being ordered? \r\n","title":"Why when I use HashMap put and HashMap keySet I am getting back my Integer keys ordered?","body":"<p>Here is my code, being ran on LeetCode:</p>\n<pre><code>class Solution {\n    private int[] nums;\n    private HashMap&lt;Integer, Integer&gt; memo = new HashMap&lt;Integer, Integer&gt;();\n    private HashMap&lt;Integer, Integer&gt; occurances = new HashMap&lt;Integer, Integer&gt;();\n    private int dp(int current) {\n        //System.out.println(current);\n        return 0;\n    }\n    \n    public int deleteAndEarn(int[] nums) {\n        for(var i = 0; i &lt; nums.length; i++) {\n            var n = nums[i];\n            var o = occurances.getOrDefault(n, 0);\n            o++;\n            occurances.put(n, o);\n        }\n        \n        int max = 0;\n        for(Integer i: occurances.keySet()) {\n            System.out.println(i);\n            max = Math.max(dp(i), max);\n        }\n        \n        return max;\n    }\n}\n</code></pre>\n<p>and here is the stdout:</p>\n<pre><code>2\n3\n4\n5\n9\n</code></pre>\n<p>where nums = '[3,4,2,9,2,4,3,2,4,5]'</p>\n<p>I have tried multiple combinations of nums and it is always ordered. As far as I understand HashMap put and HashMap keySet are both constant time operations and not n log(n). So what is happening under the hood that is causing to always be sorted? Is it safe to assume the time complexity of my simple algorithm of printing numbers is still o(n)? Is it safe to assume at some point these will stop being ordered?</p>\n"},{"tags":["java","lambda","java-17","functional-interface"],"comments":[{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1689217140,"post_id":76675571,"comment_id":135182948,"body_markdown":"not a &#39;good&#39; approach, but if you make your `CustomObject implements Supplier&lt;CustomObject&gt;`, in the `get` method `return this` .. then  `CustomObject object = new CustomObject(); Supplier&lt;CustomObject&gt; supplier = object;`","body":"not a &#39;good&#39; approach, but if you make your <code>CustomObject implements Supplier&lt;CustomObject&gt;</code>, in the <code>get</code> method <code>return this</code> .. then  <code>CustomObject object = new CustomObject(); Supplier&lt;CustomObject&gt; supplier = object;</code>"},{"owner":{"account_id":25271612,"reputation":13,"user_id":19100861,"display_name":"mullair"},"score":0,"creation_date":1689222052,"post_id":76675571,"comment_id":135183342,"body_markdown":"I also found this solution:\n`() -&gt; customObject.getClass().getDeclaredConstructor().newInstance()`","body":"I also found this solution: <code>() -&gt; customObject.getClass().getDeclaredConstructor().newInstance&zwnj;&#8203;()</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689224597,"post_id":76675571,"comment_id":135183615,"body_markdown":"Err, `Supplier&lt;CustomObject&gt; supplier = existingObject::get;`? or whatever the method name in `existingObject` is. Or perhaps `Supplier&lt;CustomObject&gt; supplier = () -&gt; existingObject`? It&#39;s hard to know exactly what you mean here.","body":"Err, <code>Supplier&lt;CustomObject&gt; supplier = existingObject::get;</code>? or whatever the method name in <code>existingObject</code> is. Or perhaps <code>Supplier&lt;CustomObject&gt; supplier = () -&gt; existingObject</code>? It&#39;s hard to know exactly what you mean here."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1689224880,"post_id":76675571,"comment_id":135183646,"body_markdown":"Please clarify: do you want a new instance? with same data/field content? Or do you just want the `Supplier` to return the already existing (same) instance (that is `() -&gt; customObject`)?","body":"Please clarify: do you want a new instance? with same data/field content? Or do you just want the <code>Supplier</code> to return the already existing (same) instance (that is <code>() -&gt; customObject</code>)?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689245776,"post_id":76675571,"comment_id":135187552,"body_markdown":"Your question does not make sense, please edit it as you&#39;ve contradicted yourself by saying &quot;I want to create a Java Supplier from an existing instantiated Java object. &quot; and then &quot;I also found this solution: () -&gt; customObject.getClass().getDeclaredConstructor().newInstance()&quot; which is creating a new instance.","body":"Your question does not make sense, please edit it as you&#39;ve contradicted yourself by saying &quot;I want to create a Java Supplier from an existing instantiated Java object. &quot; and then &quot;I also found this solution: () -&gt; customObject.getClass().getDeclaredConstructor().newInstance&zwnj;&#8203;()&quot; which is creating a new instance."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689246710,"post_id":76675571,"comment_id":135187776,"body_markdown":"@DuncG I believe they did not mean &quot;I want to create a Supplier that returns the given instance&quot; but &quot;a Supplier that returns a new instance from an existing instance&quot;, that is not &quot;Supplier from existing instance&quot; but &quot;given an instance, create a Supplier&quot;  (but just my opinion - based on the 3 code snippets posted by OP) ((not all people are native English speakers/writers/...))","body":"@DuncG I believe they did not mean &quot;I want to create a Supplier that returns the given instance&quot; but &quot;a Supplier that returns a new instance from an existing instance&quot;, that is not &quot;Supplier from existing instance&quot; but &quot;given an instance, create a Supplier&quot;  (but just my opinion - based on the 3 code snippets posted by OP) ((not all people are native English speakers/writers/...))"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689247652,"post_id":76675571,"comment_id":135187968,"body_markdown":"@user16320675 They certainly aren&#39;t. The three code snippets are followed by the words &#39;***however*** [my emphasis], in my use-case, I want to take the `Supplier` from an existing custom object.&#39; In other words the snippets don&#39;t do what he wants. I don&#39;t see how this could possibly be more clear.","body":"@user16320675 They certainly aren&#39;t. The three code snippets are followed by the words &#39;<b><i>however</i></b> [my emphasis], in my use-case, I want to take the <code>Supplier</code> from an existing custom object.&#39; In other words the snippets don&#39;t do what he wants. I don&#39;t see how this could possibly be more clear."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689247833,"post_id":76675571,"comment_id":135188009,"body_markdown":"@user207421 (i) the third is &quot;I also found this solution:&quot; and not &quot;however&quot;; (ii) they *apparently* meant that the two first snippets only create an instance of a FIXED class, a class given at compile time;  they (*apparently*) want the new instance to be from the same class as the given instance (like from a template)","body":"@user207421 (i) the third is &quot;I also found this solution:&quot; and not &quot;however&quot;; (ii) they <i>apparently</i> meant that the two first snippets only create an instance of a FIXED class, a class given at compile time;  they (<i>apparently</i>) want the new instance to be from the same class as the given instance (like from a template)"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689217581,"creation_date":1689217011,"answer_id":76675602,"question_id":76675571,"body_markdown":"Suppliers are not created that way. There is no static method `Supplier#of(...)` in the standard JDK.\r\n\r\nIf you want to create a `Supplier` supplying a previously created instance, do this:\r\n\r\n```java\r\nCustomObject customObject = new CustomObject();\r\nSupplier&lt;CustomObject&gt; supplier = () -&gt; customObject;\r\n```\r\nThough doing this, you lose the benefits of lazy instantiation as the instance becomes always instantiated before and regardless of whether the `supplier` is called or not.\r\n\r\nFinally, remember the instance `customObject` must be marked as `final` or stay &quot;effectively final&quot;, i.e. you can&#39;t reassign to it anything else.","title":"Java: Creating a Supplier for a new instance of an Object from an instantiated Object","body":"<p>Suppliers are not created that way. There is no static method <code>Supplier#of(...)</code> in the standard JDK.</p>\n<p>If you want to create a <code>Supplier</code> supplying a previously created instance, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CustomObject customObject = new CustomObject();\nSupplier&lt;CustomObject&gt; supplier = () -&gt; customObject;\n</code></pre>\n<p>Though doing this, you lose the benefits of lazy instantiation as the instance becomes always instantiated before and regardless of whether the <code>supplier</code> is called or not.</p>\n<p>Finally, remember the instance <code>customObject</code> must be marked as <code>final</code> or stay &quot;effectively final&quot;, i.e. you can't reassign to it anything else.</p>\n"}],"owner":{"account_id":25271612,"reputation":13,"user_id":19100861,"display_name":"mullair"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1689245786,"answer_count":1,"score":-2,"last_activity_date":1689542136,"creation_date":1689216422,"question_id":76675571,"body_markdown":"I want to create a Java `Supplier` from an existing instantiated Java object. Something like this would do:\r\n\r\n```\r\nCustomObject customObject = new CustomObject();\r\nSupplier&lt;CustomObject&gt; newInstanceSupplier = Supplier.of(customObject)\r\n```\r\nThis syntax for `Supplier` however does not exist for Java and I am wondering whether there is a convenient solution to this one. \r\n\r\nI know I could easily create a supplier like this:\r\n\r\n```\r\nSupplier&lt;CustomObject&gt; supplier = ()-&gt; new CustomObject()\r\n```\r\nor\r\n```\r\nSupplier&lt;CustomObject&gt; supplier = CustomObject::new\r\n```\r\n\r\nHowever, in my use-case, I want to take the `Supplier` from an existing custom object to allow for abstraction.\r\n\r\nIs there a convenient way to do so?\r\n\r\nThis [question](https://stackoverflow.com/questions/45142151/how-to-get-a-supplier-from-an-instance) tackles a slightly different approach.","title":"Java: Creating a Supplier for a new instance of an Object from an instantiated Object","body":"<p>I want to create a Java <code>Supplier</code> from an existing instantiated Java object. Something like this would do:</p>\n<pre><code>CustomObject customObject = new CustomObject();\nSupplier&lt;CustomObject&gt; newInstanceSupplier = Supplier.of(customObject)\n</code></pre>\n<p>This syntax for <code>Supplier</code> however does not exist for Java and I am wondering whether there is a convenient solution to this one.</p>\n<p>I know I could easily create a supplier like this:</p>\n<pre><code>Supplier&lt;CustomObject&gt; supplier = ()-&gt; new CustomObject()\n</code></pre>\n<p>or</p>\n<pre><code>Supplier&lt;CustomObject&gt; supplier = CustomObject::new\n</code></pre>\n<p>However, in my use-case, I want to take the <code>Supplier</code> from an existing custom object to allow for abstraction.</p>\n<p>Is there a convenient way to do so?</p>\n<p>This <a href=\"https://stackoverflow.com/questions/45142151/how-to-get-a-supplier-from-an-instance\">question</a> tackles a slightly different approach.</p>\n"},{"tags":["java","android","kotlin","gradle","build.gradle"],"comments":[{"owner":{"account_id":18059881,"reputation":111,"user_id":14193948,"display_name":"Aakash Kumar"},"score":0,"creation_date":1691577678,"post_id":76700432,"comment_id":135509610,"body_markdown":"change your gradle version also when you are changed the jdk version because some time its issue is also occur due to that","body":"change your gradle version also when you are changed the jdk version because some time its issue is also occur due to that"}],"owner":{"account_id":19110310,"reputation":25,"user_id":16650691,"display_name":"Ankit Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689541921,"creation_date":1689541921,"question_id":76700432,"body_markdown":"I am Trying to Solve this Error, which is encountered while building my application\r\n\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.io.path.DirectoryEntriesReader found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.FileVisitorBuilder found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.FileVisitorImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.LinkFollowing found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathNode found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalk found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathTreeWalkKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathWalkOption found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    \r\n**I tried solving this error while changing the version of my JDK and various other solutions provided on stack overflow but nothing worked, can someone solve it please..**","title":"How to solve this Error Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;","body":"<p>I am Trying to Solve this Error, which is encountered while building my application</p>\n<p>Execution failed for task ':app:checkDebugDuplicateClasses'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.io.path.DirectoryEntriesReader found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilder found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorImpl found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.LinkFollowing found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathNode found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalkKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathWalkOption found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and jetified-kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)</p>\n</blockquote>\n<p><strong>I tried solving this error while changing the version of my JDK and various other solutions provided on stack overflow but nothing worked, can someone solve it please..</strong></p>\n"},{"tags":["java","user-interface","intellij-idea"],"comments":[{"owner":{"account_id":15356640,"reputation":821,"user_id":11078764,"display_name":"nissim abehcera"},"score":0,"creation_date":1618088389,"post_id":67039105,"comment_id":118498004,"body_markdown":"The empty string doesn&#39;t contains integer, so the exception raised. Add a try catch block that wraps integer.parseInt.","body":"The empty string doesn&#39;t contains integer, so the exception raised. Add a try catch block that wraps integer.parseInt."},{"owner":{"account_id":21212558,"reputation":56,"user_id":15600858,"display_name":"emmavie"},"score":0,"creation_date":1618089325,"post_id":67039105,"comment_id":118498190,"body_markdown":"Alright , thank you so much I&#39;ll try that!!","body":"Alright , thank you so much I&#39;ll try that!!"}],"owner":{"account_id":21212558,"reputation":56,"user_id":15600858,"display_name":"emmavie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689541442,"creation_date":1618087737,"question_id":67039105,"body_markdown":"I&#39;m a beginner to java and I&#39;ve been trying to solve this problem for a while now. The program is a sleep calculator that uses a GUI in IntelliJ.\r\n\r\n    at SleepCalculator$1.&lt;init&gt;(SleepCalculator.java:32)\r\n\tat SleepCalculator.&lt;init&gt;(SleepCalculator.java:31)\r\n\tat SleepCalculator.main(SleepCalculator.java:131)\r\n\r\nThe errors show up here and the code for them is this:\r\n\r\n    31-&gt;  BtnCalc.addActionListener(new ActionListener() {\r\n    32-&gt;     int one = Integer.parseInt(TxtYear.getText());\r\n            int two = Integer.parseInt(TxtYearB.getText());\r\n\r\n      public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;SleepCalculator&quot;);\r\n    131-&gt;   frame.setContentPane(new SleepCalculator().Sleep);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\nThis problem has been showing up on my other programs and nothing I have tried has fixed it.","title":"Fixing : Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;","body":"<p>I'm a beginner to java and I've been trying to solve this problem for a while now. The program is a sleep calculator that uses a GUI in IntelliJ.</p>\n<pre><code>at SleepCalculator$1.&lt;init&gt;(SleepCalculator.java:32)\nat SleepCalculator.&lt;init&gt;(SleepCalculator.java:31)\nat SleepCalculator.main(SleepCalculator.java:131)\n</code></pre>\n<p>The errors show up here and the code for them is this:</p>\n<pre><code>31-&gt;  BtnCalc.addActionListener(new ActionListener() {\n32-&gt;     int one = Integer.parseInt(TxtYear.getText());\n        int two = Integer.parseInt(TxtYearB.getText());\n\n  public static void main(String[] args) {\n    JFrame frame = new JFrame(&quot;SleepCalculator&quot;);\n131-&gt;   frame.setContentPane(new SleepCalculator().Sleep);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n}\n</code></pre>\n<p>This problem has been showing up on my other programs and nothing I have tried has fixed it.</p>\n"},{"tags":["java","docker","maven"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689541343,"creation_date":1689541343,"answer_id":76700402,"question_id":76698145,"body_markdown":"You&#39;re missing a `--from=build` option in the second-stage `COPY`.\r\n\r\n```sh\r\nFROM maven:3.9.3-amazoncorretto-20 AS build\r\n...\r\n\r\nFROM amazoncorretto:20-alpine-jdk\r\nWORKDIR /app\r\nCOPY --from=build /usr/src/app/target ./\r\nCOPY entrypoint.sh ./\r\nCMD [&quot;./entrypoint.sh&quot;]\r\n```\r\n\r\nEach `FROM` line starts the build over from the named base image.  As you have it, you are trying to copy the `target` directory from your host system.  This might work (especially in Java) but it does mean the build from the first stage is completely ignored.  Changing it to `COPY --from=build` and specifying the absolute path in the build stage as the source will get the built jar file from the first stage.\r\n\r\nIf you&#39;re using the current BuildKit Docker build backend, it can figure out that the `build` stage isn&#39;t used at all in your current Dockerfile, and it&#39;s in fact possible that the `RUN mvn package` step is simply not run.","title":"target folder is missing after running docker build","body":"<p>You're missing a <code>--from=build</code> option in the second-stage <code>COPY</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM maven:3.9.3-amazoncorretto-20 AS build\n...\n\nFROM amazoncorretto:20-alpine-jdk\nWORKDIR /app\nCOPY --from=build /usr/src/app/target ./\nCOPY entrypoint.sh ./\nCMD [&quot;./entrypoint.sh&quot;]\n</code></pre>\n<p>Each <code>FROM</code> line starts the build over from the named base image.  As you have it, you are trying to copy the <code>target</code> directory from your host system.  This might work (especially in Java) but it does mean the build from the first stage is completely ignored.  Changing it to <code>COPY --from=build</code> and specifying the absolute path in the build stage as the source will get the built jar file from the first stage.</p>\n<p>If you're using the current BuildKit Docker build backend, it can figure out that the <code>build</code> stage isn't used at all in your current Dockerfile, and it's in fact possible that the <code>RUN mvn package</code> step is simply not run.</p>\n"}],"owner":{"account_id":8474404,"reputation":1045,"user_id":6356090,"accept_rate":71,"display_name":"Itzik.B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700402,"answer_count":1,"score":0,"last_activity_date":1689541343,"creation_date":1689508876,"question_id":76698145,"body_markdown":"I have created this `Dockerfile` which suppose to build the Java project and then run it using the `ENTRYPOINT` script.\r\n\r\n```\r\nFROM maven:3.9.3-amazoncorretto-20 AS build\r\nCOPY src /usr/src/app/src\r\nCOPY pom.xml /usr/src/app\r\nRUN mvn -f /usr/src/app/pom.xml clean package\r\n\r\nFROM amazoncorretto:20-alpine-jdk\r\nCOPY ./target ./\r\nCOPY entrypoint.sh .\r\nENTRYPOINT &quot;sh&quot; &quot;entrypoint.sh&quot;\r\n```\r\n\r\nfor some reason, the command `RUN mvn -f /usr/src/app/pom.xml clean package` is not running or it&#39;s not generating the jar file.\r\n\r\n\r\nwhat am I missing here?\r\n","title":"target folder is missing after running docker build","body":"<p>I have created this <code>Dockerfile</code> which suppose to build the Java project and then run it using the <code>ENTRYPOINT</code> script.</p>\n<pre><code>FROM maven:3.9.3-amazoncorretto-20 AS build\nCOPY src /usr/src/app/src\nCOPY pom.xml /usr/src/app\nRUN mvn -f /usr/src/app/pom.xml clean package\n\nFROM amazoncorretto:20-alpine-jdk\nCOPY ./target ./\nCOPY entrypoint.sh .\nENTRYPOINT &quot;sh&quot; &quot;entrypoint.sh&quot;\n</code></pre>\n<p>for some reason, the command <code>RUN mvn -f /usr/src/app/pom.xml clean package</code> is not running or it's not generating the jar file.</p>\n<p>what am I missing here?</p>\n"},{"tags":["java","android","css","objectanimator"],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689541262,"creation_date":1689541262,"question_id":76700395,"body_markdown":"I&#39;m trying to convert this CSS animation code to java: \r\n\r\n    @keyframes sideViewKF {\r\n        to {\r\n            transform: \r\n            perspective(58vw) \r\n            translate(-16vw, 8vw) \r\n            rotateX(-6deg) \r\n            rotateZ(-18deg) \r\n            rotateY(-36deg)\r\n        }\r\n    }\r\n\r\nJava version : \r\n\r\n    private void playAnimation() {\r\n            long durationInMillis = (long) (0.5 * 1000);\r\n    \r\n            float translationX = -16f;\r\n            float translationY = 8f;\r\n    \r\n            float rotationX = -6f;\r\n            float rotationZ = -18f;\r\n            float rotationY = -36f;\r\n    \r\n            PropertyValuesHolder translationXHolder = PropertyValuesHolder.ofFloat(&quot;translationX&quot;, translationX);\r\n            PropertyValuesHolder translationYHolder = PropertyValuesHolder.ofFloat(&quot;translationY&quot;, translationY);\r\n            PropertyValuesHolder rotationXHolder = PropertyValuesHolder.ofFloat(&quot;rotationX&quot;, rotationX);\r\n            PropertyValuesHolder rotationZHolder = PropertyValuesHolder.ofFloat(&quot;rotation&quot;, rotationZ);\r\n            PropertyValuesHolder rotationYHolder = PropertyValuesHolder.ofFloat(&quot;rotationY&quot;, rotationY);\r\n    \r\n            ObjectAnimator animator = ObjectAnimator.ofPropertyValuesHolder(currentTimeImage,\r\n                    translationXHolder, translationYHolder, rotationXHolder, rotationZHolder, rotationYHolder);\r\n            animator.setDuration(durationInMillis);\r\n            animator.start();\r\n        }\r\n\r\n**The issue:** \r\n\r\n***Note: the red layout is a fixed aspect ratio layout 16:9***\r\n\r\nIn **Nexus 4 (768 x 1280)**, the `currentTimeImage` is positioned in the right place\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd in the **POCO X3 NFC (1080 x 2400)**, it&#39;s showing in different position :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g5e5T.png\r\n  [2]: https://i.stack.imgur.com/oLimW.jpg","title":"Converting CSS animations to Android Java gives different results on different device screens","body":"<p>I'm trying to convert this CSS animation code to java:</p>\n<pre><code>@keyframes sideViewKF {\n    to {\n        transform: \n        perspective(58vw) \n        translate(-16vw, 8vw) \n        rotateX(-6deg) \n        rotateZ(-18deg) \n        rotateY(-36deg)\n    }\n}\n</code></pre>\n<p>Java version :</p>\n<pre><code>private void playAnimation() {\n        long durationInMillis = (long) (0.5 * 1000);\n\n        float translationX = -16f;\n        float translationY = 8f;\n\n        float rotationX = -6f;\n        float rotationZ = -18f;\n        float rotationY = -36f;\n\n        PropertyValuesHolder translationXHolder = PropertyValuesHolder.ofFloat(&quot;translationX&quot;, translationX);\n        PropertyValuesHolder translationYHolder = PropertyValuesHolder.ofFloat(&quot;translationY&quot;, translationY);\n        PropertyValuesHolder rotationXHolder = PropertyValuesHolder.ofFloat(&quot;rotationX&quot;, rotationX);\n        PropertyValuesHolder rotationZHolder = PropertyValuesHolder.ofFloat(&quot;rotation&quot;, rotationZ);\n        PropertyValuesHolder rotationYHolder = PropertyValuesHolder.ofFloat(&quot;rotationY&quot;, rotationY);\n\n        ObjectAnimator animator = ObjectAnimator.ofPropertyValuesHolder(currentTimeImage,\n                translationXHolder, translationYHolder, rotationXHolder, rotationZHolder, rotationYHolder);\n        animator.setDuration(durationInMillis);\n        animator.start();\n    }\n</code></pre>\n<p><strong>The issue:</strong></p>\n<p><em><strong>Note: the red layout is a fixed aspect ratio layout 16:9</strong></em></p>\n<p>In <strong>Nexus 4 (768 x 1280)</strong>, the <code>currentTimeImage</code> is positioned in the right place</p>\n<p><a href=\"https://i.stack.imgur.com/g5e5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g5e5T.png\" alt=\"enter image description here\" /></a></p>\n<p>And in the <strong>POCO X3 NFC (1080 x 2400)</strong>, it's showing in different position :</p>\n<p><a href=\"https://i.stack.imgur.com/oLimW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oLimW.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","properties","config","environment"],"comments":[{"owner":{"account_id":10957844,"reputation":2124,"user_id":8052043,"display_name":"CodeMatrix"},"score":0,"creation_date":1689517558,"post_id":76698627,"comment_id":135221701,"body_markdown":"Have you tried using `spring.config.import` which would import the values from the given file(s)","body":"Have you tried using <code>spring.config.import</code> which would import the values from the given file(s)"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689520380,"post_id":76698627,"comment_id":135222003,"body_markdown":"may be there is some conflict with keyword ```file```  in spring  ,try to use another keywork , not  ```file```  ,just   use ```credentials.file.path``` instead ,","body":"may be there is some conflict with keyword <code>file</code>  in spring  ,try to use another keywork , not  <code>file</code>  ,just   use <code>credentials.file.path</code> instead ,"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689520551,"post_id":76698627,"comment_id":135222025,"body_markdown":"Alternatively, you can  try add  java application start vm optition ```java -jar myapp.jar --file=/custom/path```","body":"Alternatively, you can  try add  java application start vm optition <code>java -jar myapp.jar --file=&#47;custom&#47;path</code>"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689521008,"post_id":76698627,"comment_id":135222098,"body_markdown":"oh  , if it is  necessary that define double : in your value string ,you can store it  in a file  and  configure the file path in spring ,then  read the file  to get the defaultvalue ```/path/to/file.properties:onevalue```","body":"oh  , if it is  necessary that define double : in your value string ,you can store it  in a file  and  configure the file path in spring ,then  read the file  to get the defaultvalue <code>&#47;path&#47;to&#47;file.properties:onevalue</code>"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1689540794,"post_id":76698627,"comment_id":135224344,"body_markdown":"@CodeMatrix That was something I hadn&#39;t tried. I tried it, and it worked perfectly, thank you! I import all property values from all files on the machine using `spring.config.import` and then access them just like I did before with no code change. Extremely nice, thank you again!","body":"@CodeMatrix That was something I hadn&#39;t tried. I tried it, and it worked perfectly, thank you! I import all property values from all files on the machine using <code>spring.config.import</code> and then access them just like I did before with no code change. Extremely nice, thank you again!"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1689540805,"post_id":76698627,"comment_id":135224346,"body_markdown":"Take a look at how spring is loading properties. It supports external application.properties out of the box.","body":"Take a look at how spring is loading properties. It supports external application.properties out of the box."}],"answers":[{"tags":[],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689541046,"creation_date":1689541046,"answer_id":76700376,"question_id":76698627,"body_markdown":"For me it fixed by adding another property value to my `application.properties` being `spring.config.import`.\r\n\r\nUsing `spring.config.import` it&#39;s possible to import the files stored on the target machine and the properties in those files. For example like this: `spring.config.import=file:/path/to/file.properties,file:/path/to/anotherfile.properties`. \r\n\r\nAfter that, it&#39;s possible to use the same `org.springframework.core.env.Environment#getProperty(key)` code and get the values from the imported config files: `Environment#getProperty(&quot;onevalue&quot;)` and `Environment#getProperty(&quot;another.value&quot;)`.","title":"Spring - Getting config values from another file","body":"<p>For me it fixed by adding another property value to my <code>application.properties</code> being <code>spring.config.import</code>.</p>\n<p>Using <code>spring.config.import</code> it's possible to import the files stored on the target machine and the properties in those files. For example like this: <code>spring.config.import=file:/path/to/file.properties,file:/path/to/anotherfile.properties</code>.</p>\n<p>After that, it's possible to use the same <code>org.springframework.core.env.Environment#getProperty(key)</code> code and get the values from the imported config files: <code>Environment#getProperty(&quot;onevalue&quot;)</code> and <code>Environment#getProperty(&quot;another.value&quot;)</code>.</p>\n"}],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700376,"answer_count":1,"score":0,"last_activity_date":1689541046,"creation_date":1689515728,"question_id":76698627,"body_markdown":"I have a Spring application where in I need to access certain credentials. To keep them stored secretly, in my `application.properties` I only declare the path to the file where the credentials are stored. The file with the credentials themselves are stored on the machine that the application will be running on.\r\n\r\nI somewhere, at sometime, read that it could be possible to use the following to get property values:\r\n\r\n    *(from the application.properties file...)*\r\n    example.setting1=${file:/path/to/file.properties:onevalue}\r\n    example.setting2=${file:/path/to/file.properties:another.value}\r\n    example.setting3=${file:/path/to/file.properties:a.third.value}\r\n\r\n\r\nIn code I then use `org.springframework.core.env.Environment#getProperty(key)` to get the property values from my application.properties. I thought this would work and return the value that is stored in the `/path/to/file.properties` file, but instead it returns the actual value in my application.properties, being this: `example.setting1=${file:/path/to/file.properties:onevalue}`. \r\n\r\nHow can I solve this and have the program return the actual credential (*for example an IP &quot;0.0.0.0&quot;*) that is stored in the target file the Spring app config has the path to?\r\nAny help is very appreciated!","title":"Spring - Getting config values from another file","body":"<p>I have a Spring application where in I need to access certain credentials. To keep them stored secretly, in my <code>application.properties</code> I only declare the path to the file where the credentials are stored. The file with the credentials themselves are stored on the machine that the application will be running on.</p>\n<p>I somewhere, at sometime, read that it could be possible to use the following to get property values:</p>\n<pre><code>*(from the application.properties file...)*\nexample.setting1=${file:/path/to/file.properties:onevalue}\nexample.setting2=${file:/path/to/file.properties:another.value}\nexample.setting3=${file:/path/to/file.properties:a.third.value}\n</code></pre>\n<p>In code I then use <code>org.springframework.core.env.Environment#getProperty(key)</code> to get the property values from my application.properties. I thought this would work and return the value that is stored in the <code>/path/to/file.properties</code> file, but instead it returns the actual value in my application.properties, being this: <code>example.setting1=${file:/path/to/file.properties:onevalue}</code>.</p>\n<p>How can I solve this and have the program return the actual credential (<em>for example an IP &quot;0.0.0.0&quot;</em>) that is stored in the target file the Spring app config has the path to?\nAny help is very appreciated!</p>\n"},{"tags":["java","arrays","matrix","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540520,"post_id":76700324,"comment_id":135224314,"body_markdown":"You make a &quot;deep copy&quot; of a 2D array, and then use it.","body":"You make a &quot;deep copy&quot; of a 2D array, and then use it."},{"owner":{"account_id":28936304,"reputation":1,"user_id":22163813,"display_name":"Aidan K"},"score":0,"creation_date":1689540683,"post_id":76700324,"comment_id":135224332,"body_markdown":"@HovercraftFullOfEels Does using `a.clone()` not do that? I thought the whole point of it was to make a new version without reference to the old? Or does it only work correctly on 1D arrays?","body":"@HovercraftFullOfEels Does using <code>a.clone()</code> not do that? I thought the whole point of it was to make a new version without reference to the old? Or does it only work correctly on 1D arrays?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540799,"post_id":76700324,"comment_id":135224345,"body_markdown":"Your use of clone creates a &quot;shallow&quot; copy, not a deep one. Please Google the difference, since the behavioral differences are significant, as you are finding out -- essentially, you want to create copies of nested objects, which clone by itself, is not doing. Also, in general it is best to avoid use of clone.","body":"Your use of clone creates a &quot;shallow&quot; copy, not a deep one. Please Google the difference, since the behavioral differences are significant, as you are finding out -- essentially, you want to create copies of nested objects, which clone by itself, is not doing. Also, in general it is best to avoid use of clone."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540939,"post_id":76700324,"comment_id":135224360,"body_markdown":"Please have a look at what Stephen C has to say about this topic [here](https://stackoverflow.com/a/6183597/).","body":"Please have a look at what Stephen C has to say about this topic <a href=\"https://stackoverflow.com/a/6183597/\">here</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689541039,"post_id":76700324,"comment_id":135224369,"body_markdown":"Semantic note: Java is &quot;pass-by-value&quot; always. Please see: [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Semantic note: Java is &quot;pass-by-value&quot; always. Please see: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"}],"owner":{"account_id":28936304,"reputation":1,"user_id":22163813,"display_name":"Aidan K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689540489,"answer_count":0,"score":0,"last_activity_date":1689540498,"creation_date":1689540101,"question_id":76700324,"body_markdown":"I&#39;m making my own Java matrix program for a linear algebra class and can&#39;t seem to stop passing my arrays by reference. I want each method to return a matrix (thus performing calculations based on the original) without altering the original matrix values. Here are some bits from my program below:\r\n\r\n\r\n\r\n```java\r\npublic class Matrix{\r\n    private Double[][] data;\r\n    private String name;\r\n\r\n    public Matrix(Double[][] newdata){\r\n        this.data = newdata.clone();\r\n        this.name = &quot;default&quot;;\r\n    }\r\n\r\n    public Matrix scalarMultiply(Double scale){\r\n        Matrix output = new Matrix(this.data.clone());\r\n        output.name = scale + &quot;(&quot; + output.name + &quot;)&quot;;\r\n        for(int i = 0; i &lt; output.data.length; i++){\r\n            for(int j = 0; j &lt; output.data[i].length; j++){\r\n                output.data[i][j] *= scale;\r\n            }\r\n        }\r\n\r\n        return output;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception{\r\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n\r\n        Matrix testMatrix = new Matrix(new Double[][]{{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}, {7.0, 8.0, 9.0}, {100.0, 101.0, 102.0}});\r\n        testMatrix.printSpacedAuto();\r\n        breakLine();\r\n\r\n        Matrix testMatrixRestult = testMatrix.scalarMultiply(2.0);\r\n        testMatrixRestult.printSpacedAuto();\r\n        breakLine();\r\n\r\n        testMatrix.printSpacedAuto();\r\n        testMatrixRestult.printSpacedAuto();\r\n        breakLine();\r\n    }\r\n\r\n    public static void breakLine(){\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried using `a.clone()` in a few different spots but my results seem the same; can anyone see what I am misunderstanding?","title":"How to avoid passing by reference inside of method (Java)?","body":"<p>I'm making my own Java matrix program for a linear algebra class and can't seem to stop passing my arrays by reference. I want each method to return a matrix (thus performing calculations based on the original) without altering the original matrix values. Here are some bits from my program below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Matrix{\n    private Double[][] data;\n    private String name;\n\n    public Matrix(Double[][] newdata){\n        this.data = newdata.clone();\n        this.name = &quot;default&quot;;\n    }\n\n    public Matrix scalarMultiply(Double scale){\n        Matrix output = new Matrix(this.data.clone());\n        output.name = scale + &quot;(&quot; + output.name + &quot;)&quot;;\n        for(int i = 0; i &lt; output.data.length; i++){\n            for(int j = 0; j &lt; output.data[i].length; j++){\n                output.data[i][j] *= scale;\n            }\n        }\n\n        return output;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws Exception{\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\n\n        Matrix testMatrix = new Matrix(new Double[][]{{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}, {7.0, 8.0, 9.0}, {100.0, 101.0, 102.0}});\n        testMatrix.printSpacedAuto();\n        breakLine();\n\n        Matrix testMatrixRestult = testMatrix.scalarMultiply(2.0);\n        testMatrixRestult.printSpacedAuto();\n        breakLine();\n\n        testMatrix.printSpacedAuto();\n        testMatrixRestult.printSpacedAuto();\n        breakLine();\n    }\n\n    public static void breakLine(){\n        System.out.println();\n    }\n}\n</code></pre>\n<p>I tried using <code>a.clone()</code> in a few different spots but my results seem the same; can anyone see what I am misunderstanding?</p>\n"},{"tags":["java","excel","csv","xlsx"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1689539882,"post_id":76700242,"comment_id":135224245,"body_markdown":"How about aligning the formats before comparison? That would boil down to simple import/export filter (make up your mind which of the formats you prefer to compare) and then stay in the preferred format, just comparing the values. There are two excellent java libs Apache POI and Apache commons CSV.","body":"How about aligning the formats before comparison? That would boil down to simple import/export filter (make up your mind which of the formats you prefer to compare) and then stay in the preferred format, just comparing the values. There are two excellent java libs Apache POI and Apache commons CSV."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689540009,"post_id":76700242,"comment_id":135224255,"body_markdown":"Please check out the [ask] link as well as the [question editing help](https://stackoverflow.com/editing-help) link.","body":"Please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link as well as the <a href=\"https://stackoverflow.com/editing-help\">question editing help</a> link."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689540415,"post_id":76700242,"comment_id":135224301,"body_markdown":"I have just now tried to format your code, but in the future, this is something that you should be doing yourself.","body":"I have just now tried to format your code, but in the future, this is something that you should be doing yourself."},{"owner":{"account_id":28982795,"reputation":1,"user_id":22200267,"display_name":"f105thud"},"score":0,"creation_date":1689545570,"post_id":76700242,"comment_id":135224835,"body_markdown":"@Queeg So your suggestion is to convert one of the two documents into the other&#39;s format?  I agree that is probably a much easier way to go about this script.  I just wanted to see if there was a method for direct comparison.","body":"@Queeg So your suggestion is to convert one of the two documents into the other&#39;s format?  I agree that is probably a much easier way to go about this script.  I just wanted to see if there was a method for direct comparison."},{"owner":{"account_id":28982795,"reputation":1,"user_id":22200267,"display_name":"f105thud"},"score":0,"creation_date":1689553052,"post_id":76700242,"comment_id":135225351,"body_markdown":"@Queeg What actions are you referring to when you say import/export filter.  Are there any other JARs I will have to download/packages to import?","body":"@Queeg What actions are you referring to when you say import/export filter.  Are there any other JARs I will have to download/packages to import?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689629908,"post_id":76700242,"comment_id":135238172,"body_markdown":"I am not aware these filters already exist in the libraries I named - however I was referring to architecture. Creating an import or export filter is generic, so chances of finding an implementation is easier. If you cannot find one, writing one is still more reusable than implementing your intended comparison of XLSX to CSV.","body":"I am not aware these filters already exist in the libraries I named - however I was referring to architecture. Creating an import or export filter is generic, so chances of finding an implementation is easier. If you cannot find one, writing one is still more reusable than implementing your intended comparison of XLSX to CSV."}],"owner":{"account_id":28982795,"reputation":1,"user_id":22200267,"display_name":"f105thud"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689540359,"creation_date":1689538640,"question_id":76700242,"body_markdown":"I am writing a Java program that will read data from a .xlsx file and a .csv file, and compare the respective values for each cell between the two sheets to find differences.  I have been able to successfully write a script that compares the sizes of the two files, then iterates through each cell and prints the values to the console.  That code is as follows:\r\n\r\n```\r\npackage sodapackage;\r\n\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\nimport java.util.Iterator;\r\nimport java.util.Scanner;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\n\r\npublic class CompareCSVandXLSX {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n            //Retrieves .xlsx Workbook and sheet\r\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\r\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\r\n            System.out.println(&quot;.xlsx file found&quot;);\r\n\r\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\r\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\r\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\r\n\r\n            //Retrieves .csv Workbook\r\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\r\n            System.out.println(&quot;.csv file found&quot;);\r\n\r\n            //Parses each line in .csv file to find the number of rows and columns\r\n            int CSVCols = 0;\r\n            int CSVRows = 0;\r\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\r\n            while (CSVWorkbook.hasNextLine()) {\r\n                String CSVline = CSVWorkbook.nextLine();\r\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\r\n                CSVRows++;\r\n                CSVCols = CSVArray.length;\r\n            }\r\n\r\n            //Verifies both files have same number of rows\r\n            if (CSVRows == XLSXRows) {\r\n                System.out.println(&quot;Rows match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Rows do not match&quot;);\r\n            }\r\n\r\n            //Verifies both files have same number of columns\r\n            if (CSVCols == XLSXCols) {\r\n                System.out.println(&quot;Columns match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Columns do not match&quot;);\r\n            }\r\n\r\n            //Reads each cell in .xlsx sheet\r\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\r\n            while (XLSXRowIterator.hasNext()) {\r\n                //Sets row to be read\r\n                Row XLSXRow = XLSXRowIterator.next();\r\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\r\n\r\n                //Reads each cell in current row and prints cell value\r\n                while (XLSXCellIterator.hasNext()) {\r\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\r\n                    String XLSXCell = Cell.getStringCellValue();\r\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n\r\n            //Re-establishes .csv filepath for CSVReader\r\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\r\n\r\n            String CSVCell[];\r\n\r\n            //Reads and prints out each .csv cell value\r\n            while ((CSVCell = reader.readNext()) != null) {\r\n\r\n                for (int i = 0; i &lt; CSVCell.length; i++) {\r\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n\r\n        } catch (CsvValidationException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\t\t\t\r\nHowever, I want the script to directly compare cell values across files (i.e. XLSX Cell A1 = CSV Cell A1) and print the results to the console.  I am not sure how to achieve this.\r\n\r\nI tried to insert a block of code after the CSVReader portion of the script that compares the XLSX Cell and CSVCell values.  The resulting code looks like this:\r\n\r\n```\r\npackage sodapackage;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\nimport java.util.Iterator;\r\nimport java.util.Scanner;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\n\r\npublic class CompareCSVandXLSX {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try {\r\n\r\n            //Retrieves .xlsx Workbook and sheet\r\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\r\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\r\n            System.out.println(&quot;.xlsx file found&quot;);\r\n\r\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\r\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\r\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\r\n\r\n            //Retrieves .csv Workbook\r\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\r\n            System.out.println(&quot;.csv file found&quot;);\r\n\r\n            //Parses each line in .csv file to find the number of rows and columns\r\n            int CSVCols = 0;\r\n            int CSVRows = 0;\r\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\r\n            while (CSVWorkbook.hasNextLine()) {\r\n                String CSVline = CSVWorkbook.nextLine();\r\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\r\n                CSVRows++;\r\n                CSVCols = CSVArray.length;\r\n            }\r\n\r\n            //Verifies both files have same number of rows\r\n            if (CSVRows == XLSXRows) {\r\n                System.out.println(&quot;Rows match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Rows do not match&quot;);\r\n            }\r\n\r\n            //Verifies both files have same number of columns\r\n            if (CSVCols == XLSXCols) {\r\n                System.out.println(&quot;Columns match&quot;);\r\n            } else {\r\n                System.out.println(&quot;Columns do not match&quot;);\r\n            }\r\n\r\n            //Reads each cell in .xlsx sheet\r\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\r\n            while (XLSXRowIterator.hasNext()) {\r\n                //Sets row to be read\r\n                Row XLSXRow = XLSXRowIterator.next();\r\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\r\n\r\n                //Reads each cell in current row and prints cell value\r\n                while (XLSXCellIterator.hasNext()) {\r\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\r\n                    String XLSXCell = Cell.getStringCellValue();\r\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n\r\n            //Re-establishes .csv filepath for CSVReader\r\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\r\n\r\n            String CSVCell[];\r\n\r\n            //Reads and prints out each .csv cell value\r\n            while ((CSVCell = reader.readNext()) != null) {\r\n\r\n                for (int i = 0; i &lt; CSVCell.length; i++) {\r\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n\r\n            //Compares cell values and determines if they match or not\r\n            if (XLSXCell == CSVCell) {\r\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells match&quot;);\r\n            } else {\r\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells do not match&quot;);\r\n            }\r\n\r\n        } catch (CsvValidationException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the system does not seem to recognize the XLSXCell variable in the part where cell values are compared. I think it would make sense for the code from the row iterator to the cell comparison be part of one loop, but I am unsure of how to accomplish this.  What is the best way to compare cell values in .xlsx and .csv files?","title":"I am writing a Java program that compares a .xlsx file and a .csv file, unsure how to directly compare cell values between the two files","body":"<p>I am writing a Java program that will read data from a .xlsx file and a .csv file, and compare the respective values for each cell between the two sheets to find differences.  I have been able to successfully write a script that compares the sizes of the two files, then iterates through each cell and prints the values to the console.  That code is as follows:</p>\n<pre><code>package sodapackage;\n\nimport java.io.FileReader;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport com.opencsv.CSVReader;\nimport com.opencsv.exceptions.CsvValidationException;\nimport java.util.Iterator;\nimport java.util.Scanner;\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\n\npublic class CompareCSVandXLSX {\n\n    public static void main(String[] args) throws IOException {\n        try {\n            //Retrieves .xlsx Workbook and sheet\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\n            System.out.println(&quot;.xlsx file found&quot;);\n\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\n\n            //Retrieves .csv Workbook\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\n            System.out.println(&quot;.csv file found&quot;);\n\n            //Parses each line in .csv file to find the number of rows and columns\n            int CSVCols = 0;\n            int CSVRows = 0;\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\n            while (CSVWorkbook.hasNextLine()) {\n                String CSVline = CSVWorkbook.nextLine();\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\n                CSVRows++;\n                CSVCols = CSVArray.length;\n            }\n\n            //Verifies both files have same number of rows\n            if (CSVRows == XLSXRows) {\n                System.out.println(&quot;Rows match&quot;);\n            } else {\n                System.out.println(&quot;Rows do not match&quot;);\n            }\n\n            //Verifies both files have same number of columns\n            if (CSVCols == XLSXCols) {\n                System.out.println(&quot;Columns match&quot;);\n            } else {\n                System.out.println(&quot;Columns do not match&quot;);\n            }\n\n            //Reads each cell in .xlsx sheet\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\n            while (XLSXRowIterator.hasNext()) {\n                //Sets row to be read\n                Row XLSXRow = XLSXRowIterator.next();\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\n\n                //Reads each cell in current row and prints cell value\n                while (XLSXCellIterator.hasNext()) {\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\n                    String XLSXCell = Cell.getStringCellValue();\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\n                }\n            }\n            System.out.println(&quot;&quot;);\n\n            //Re-establishes .csv filepath for CSVReader\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\n\n            String CSVCell[];\n\n            //Reads and prints out each .csv cell value\n            while ((CSVCell = reader.readNext()) != null) {\n\n                for (int i = 0; i &lt; CSVCell.length; i++) {\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\n                }\n                System.out.println(&quot; &quot;);\n            }\n\n        } catch (CsvValidationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>However, I want the script to directly compare cell values across files (i.e. XLSX Cell A1 = CSV Cell A1) and print the results to the console.  I am not sure how to achieve this.</p>\n<p>I tried to insert a block of code after the CSVReader portion of the script that compares the XLSX Cell and CSVCell values.  The resulting code looks like this:</p>\n<pre><code>package sodapackage;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport com.opencsv.CSVReader;\nimport com.opencsv.exceptions.CsvValidationException;\nimport java.util.Iterator;\nimport java.util.Scanner;\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\n\npublic class CompareCSVandXLSX {\n\n    public static void main(String[] args) throws IOException {\n        try {\n\n            //Retrieves .xlsx Workbook and sheet\n            XSSFWorkbook XLSXWorkbook = new XSSFWorkbook(new FileInputStream(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data.xlsx&quot;));\n            XSSFSheet XLSXSheet = XLSXWorkbook.getSheet(&quot;Test Data&quot;);\n            System.out.println(&quot;.xlsx file found&quot;);\n\n            //Finds the last row and column in .xlsx sheet to determine number of rows and columns\n            int XLSXRows = XLSXSheet.getLastRowNum() + 1;\n            int XLSXCols = XLSXSheet.getRow(0).getLastCellNum();\n\n            //Retrieves .csv Workbook\n            Scanner CSVWorkbook = new Scanner(new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;)));\n            System.out.println(&quot;.csv file found&quot;);\n\n            //Parses each line in .csv file to find the number of rows and columns\n            int CSVCols = 0;\n            int CSVRows = 0;\n            CSVWorkbook.useDelimiter(&quot;,&quot;);\n            while (CSVWorkbook.hasNextLine()) {\n                String CSVline = CSVWorkbook.nextLine();\n                String[] CSVArray = CSVline.split(&quot;,&quot;);\n                CSVRows++;\n                CSVCols = CSVArray.length;\n            }\n\n            //Verifies both files have same number of rows\n            if (CSVRows == XLSXRows) {\n                System.out.println(&quot;Rows match&quot;);\n            } else {\n                System.out.println(&quot;Rows do not match&quot;);\n            }\n\n            //Verifies both files have same number of columns\n            if (CSVCols == XLSXCols) {\n                System.out.println(&quot;Columns match&quot;);\n            } else {\n                System.out.println(&quot;Columns do not match&quot;);\n            }\n\n            //Reads each cell in .xlsx sheet\n            Iterator &lt; Row &gt; XLSXRowIterator = XLSXSheet.iterator();\n            while (XLSXRowIterator.hasNext()) {\n                //Sets row to be read\n                Row XLSXRow = XLSXRowIterator.next();\n                Iterator &lt; org.apache.poi.ss.usermodel.Cell &gt; XLSXCellIterator = XLSXRow.cellIterator();\n\n                //Reads each cell in current row and prints cell value\n                while (XLSXCellIterator.hasNext()) {\n                    org.apache.poi.ss.usermodel.Cell Cell = XLSXCellIterator.next();\n                    String XLSXCell = Cell.getStringCellValue();\n                    System.out.println(XLSXCell + &quot;\\t&quot;);\n                }\n            }\n            System.out.println(&quot;&quot;);\n\n            //Re-establishes .csv filepath for CSVReader\n            CSVReader reader = new CSVReader(new FileReader(&quot;C:\\\\Users\\\\Owner\\\\OneDrive - Computer Aid, Inc\\\\Desktop\\\\Test Data_1.csv&quot;));\n\n            String CSVCell[];\n\n            //Reads and prints out each .csv cell value\n            while ((CSVCell = reader.readNext()) != null) {\n\n                for (int i = 0; i &lt; CSVCell.length; i++) {\n                    System.out.print(CSVCell[i] + &quot;\\t&quot;);\n                }\n                System.out.println(&quot; &quot;);\n            }\n\n            //Compares cell values and determines if they match or not\n            if (XLSXCell == CSVCell) {\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells match&quot;);\n            } else {\n                System.out.printIn(XLSXCell, CSVCell, &quot;Cells do not match&quot;);\n            }\n\n        } catch (CsvValidationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>However, the system does not seem to recognize the XLSXCell variable in the part where cell values are compared. I think it would make sense for the code from the row iterator to the cell comparison be part of one loop, but I am unsure of how to accomplish this.  What is the best way to compare cell values in .xlsx and .csv files?</p>\n"},{"tags":["java","android","android-permissions","java-threads"],"comments":[{"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"score":0,"creation_date":1501085338,"post_id":45332044,"comment_id":77626318,"body_markdown":"From what I&#39;ve seend the JNI is not part of the problem, if i just do that without the jni part happens the same.","body":"From what I&#39;ve seend the JNI is not part of the problem, if i just do that without the jni part happens the same."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1501085447,"post_id":45332044,"comment_id":77626407,"body_markdown":"`while (true) {try { Thread.sleep(100); } catch(Exception e) {}}` doesn&#39;t &quot;Wait until onRequestPermissionsResult ended&quot;. It blocks **forever**.","body":"<code>while (true) {try { Thread.sleep(100); } catch(Exception e) {}}</code> doesn&#39;t &quot;Wait until onRequestPermissionsResult ended&quot;. It blocks <b>forever</b>."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1501086671,"post_id":45332044,"comment_id":77627282,"body_markdown":"@talex Whoops. I thought the try-catch was around the while loop.","body":"@talex Whoops. I thought the try-catch was around the while loop."},{"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"score":0,"creation_date":1501104178,"post_id":45332044,"comment_id":77637360,"body_markdown":"Ok what about now?","body":"Ok what about now?"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1501134841,"post_id":45332044,"comment_id":77646139,"body_markdown":"Do you get the callback if you remove the `while` loop? Why can&#39;t you signal to the native code that you have a result when you get the result, instead of blocking that thread for the whole duration? Also, the assignment to `myActivityStoredInAStaticVariable` looks like it should go before `mThread.start()`.","body":"Do you get the callback if you remove the <code>while</code> loop? Why can&#39;t you signal to the native code that you have a result when you get the result, instead of blocking that thread for the whole duration? Also, the assignment to <code>myActivityStoredInAStaticVariable</code> looks like it should go before <code>mThread.start()</code>."},{"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"score":0,"creation_date":1501139545,"post_id":45332044,"comment_id":77648782,"body_markdown":"Yes, I get the callback if I remove the while loop, but I want the call to that function to be syncronous.","body":"Yes, I get the callback if I remove the while loop, but I want the call to that function to be syncronous."},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1501146818,"post_id":45332044,"comment_id":77653768,"body_markdown":"Strange... this setup works for me on Nexus 5 with API 23. Having said this, I must remind you that you have potential memory leaks in your code: **myActivityStoredInAStaticVariable** should be a weak reference, and **MyThread** inner class should be static.","body":"Strange... this setup works for me on Nexus 5 with API 23. Having said this, I must remind you that you have potential memory leaks in your code: <b>myActivityStoredInAStaticVariable</b> should be a weak reference, and <b>MyThread</b> inner class should be static."}],"answers":[{"tags":[],"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501151957,"creation_date":1501151957,"answer_id":45348409,"question_id":45332044,"body_markdown":"I&#39;ve finally managed to handle this running the request permission inside the main loop the following way:\r\n\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        myActivityStoredInAStaticVariable.requestPermissions(new String[]{&quot;android.permission.GET_ACCOUNTS&quot;}, 1234);\r\n                    }\r\n                }\r\n            });","title":"Calling from a Java thread to JNI and back to a requestPermissions","body":"<p>I've finally managed to handle this running the request permission inside the main loop the following way:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n            @Override\n            public void run() {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    myActivityStoredInAStaticVariable.requestPermissions(new String[]{\"android.permission.GET_ACCOUNTS\"}, 1234);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":2134797,"reputation":587,"user_id":1894850,"accept_rate":82,"display_name":"Hug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689539551,"creation_date":1501084804,"question_id":45332044,"body_markdown":"I have the following problem.\r\nI have a Java function inside a thread that loops forever, then a JNI API which eventually calls a static function in another class.\r\nThis static function is trying to make a call to requestPermissions in order to show the request permission popup, and while the user accepts or rejects, this thread sleeps. The popup is showing up and the user cand respond to it, but the function **onRequestPermissionsResult** is never called.\r\nIs there any way to sort this issue?\r\n\r\nWhat am I doing wrong?\r\n\r\nI mean if I don&#39;t sleep on the UI thread this should not block it am I right?\r\nThe popup is showing up, but the answer never arrives.\r\n\r\nThis is the **MainActivity.java**\r\n\r\n    public class MainActivity extends FragmentActivity implements ActivityCompat.OnRequestPermissionsResultCallback {\r\n        \r\n        class MyThread extends Thread {\r\n            @Override\r\n            public void run() {\r\n                //JNI_CALL();\r\n                MainActivity.AskForPermissionsFromJNI();\r\n            }\r\n        }\r\n\r\n        static FragmentActivity myActivityStoredInAStaticVariable;\r\n        static boolean OnRequestPermission=false;\r\n        MyThread mThread;\r\n        @Override\r\n        protected void onCreate(Bundle aSavedInstanceState) {\r\n            mThread = new MyThread();\r\n            myActivityStoredInAStaticVariable = this;\r\n            mThread.start();\r\n        }\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults)\r\n        {\r\n             //This function is never called WHY?\r\n             //Do what you need to do\r\n             OnRequestPermission=true;\r\n        }\r\n\r\n        public static void AskForPermissionsFromJNI()\r\n        {\r\n            ActivityCompat.requestPermissions(myActivityStoredInAStaticVariable, new String[]{&quot;android.permission.GET_ACCOUNTS&quot;} , 1234);\r\n            \r\n            //Wait until onRequestPermissionsResult ended\r\n            while (!OnRequestPermission) {try { Thread.sleep(100); } catch(Exception e) {}}\r\n        }\r\n    }\r\n\r\n**UPDATE:**\r\nThe JNI is not part of the problem, if I just replace the JNI call on the static function happen the same\r\n&lt;strike&gt;This is the **JNI.cpp**\r\n\r\n    extern &quot;C&quot; JNIEXPORT void JNICALL Java_com_dle_application_MainActivity_JNI_CALL( JNIEnv* env )\r\n    {\r\n        //Call Back to Java\r\n        ...\r\n        dispatch_java_method(AskForPermissionsFromJNI);\r\n        ...\r\n    }\r\n&lt;/strike&gt;\r\n","title":"Calling from a Java thread to JNI and back to a requestPermissions","body":"<p>I have the following problem.\nI have a Java function inside a thread that loops forever, then a JNI API which eventually calls a static function in another class.\nThis static function is trying to make a call to requestPermissions in order to show the request permission popup, and while the user accepts or rejects, this thread sleeps. The popup is showing up and the user cand respond to it, but the function <strong>onRequestPermissionsResult</strong> is never called.\nIs there any way to sort this issue?</p>\n<p>What am I doing wrong?</p>\n<p>I mean if I don't sleep on the UI thread this should not block it am I right?\nThe popup is showing up, but the answer never arrives.</p>\n<p>This is the <strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends FragmentActivity implements ActivityCompat.OnRequestPermissionsResultCallback {\n    \n    class MyThread extends Thread {\n        @Override\n        public void run() {\n            //JNI_CALL();\n            MainActivity.AskForPermissionsFromJNI();\n        }\n    }\n\n    static FragmentActivity myActivityStoredInAStaticVariable;\n    static boolean OnRequestPermission=false;\n    MyThread mThread;\n    @Override\n    protected void onCreate(Bundle aSavedInstanceState) {\n        mThread = new MyThread();\n        myActivityStoredInAStaticVariable = this;\n        mThread.start();\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults)\n    {\n         //This function is never called WHY?\n         //Do what you need to do\n         OnRequestPermission=true;\n    }\n\n    public static void AskForPermissionsFromJNI()\n    {\n        ActivityCompat.requestPermissions(myActivityStoredInAStaticVariable, new String[]{&quot;android.permission.GET_ACCOUNTS&quot;} , 1234);\n        \n        //Wait until onRequestPermissionsResult ended\n        while (!OnRequestPermission) {try { Thread.sleep(100); } catch(Exception e) {}}\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\nThe JNI is not part of the problem, if I just replace the JNI call on the static function happen the same\n<strike>This is the <strong>JNI.cpp</strong></p>\n<pre><code>extern &quot;C&quot; JNIEXPORT void JNICALL Java_com_dle_application_MainActivity_JNI_CALL( JNIEnv* env )\n{\n    //Call Back to Java\n    ...\n    dispatch_java_method(AskForPermissionsFromJNI);\n    ...\n}\n</code></pre>\n</strike>\n"},{"tags":["java","spring","spotify"],"answers":[{"tags":[],"owner":{"account_id":20626554,"reputation":310,"user_id":16202819,"display_name":"ocean moist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689539373,"creation_date":1689539373,"answer_id":76700283,"question_id":76700235,"body_markdown":"The [Spotify Web API javadocs][1] say that `Paging&lt;T&gt;` has a method `.getItems()` which in your case would return an array of `Tracks`. \r\n\r\nFor example, \r\n```java\r\n    public static void main(String[] args) {\r\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\r\n        Track[] tracks = test.getItems();\r\n        System.out.println(Arrays.toString(tracks));\r\n    }\r\n```\r\nwould print out all the tracks.\r\n\r\n  [1]: https://spotify-web-api-java.github.io/spotify-web-api-java/se/michaelthelin/spotify/model_objects/specification/Paging.html","title":"How do I use Paging&lt;&gt; objects with the Spotify API in Java?","body":"<p>The <a href=\"https://spotify-web-api-java.github.io/spotify-web-api-java/se/michaelthelin/spotify/model_objects/specification/Paging.html\" rel=\"nofollow noreferrer\">Spotify Web API javadocs</a> say that <code>Paging&lt;T&gt;</code> has a method <code>.getItems()</code> which in your case would return an array of <code>Tracks</code>.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\n        Track[] tracks = test.getItems();\n        System.out.println(Arrays.toString(tracks));\n    }\n</code></pre>\n<p>would print out all the tracks.</p>\n"}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76700283,"answer_count":1,"score":0,"last_activity_date":1689539373,"creation_date":1689538489,"question_id":76700235,"body_markdown":"Apologies if this question is easily figured out, I&#39;m quite new to Java and working with the Spotify API. I am using [this](https://github.com/spotify-web-api-java/spotify-web-api-java.git) Spotify Web API Java Package for a web application and am trying to implement a simplified Track Search method. I&#39;m having trouble trying to figure out how to get the information I want after calling the method, which returns a Paging&lt;Track&gt; object. The Paging object is a container that holds a set of Track objects. The package I&#39;m using gives a link to Paging&lt;&gt; objects in the Spotify API Documentation, but the Object Model Specifications page has apparently been removed and makes the link useless. \r\n\r\nHere&#39;s the class I made (the client ID and secret have been omitted of course and the class does work with other methods that just return a float, int or String):\r\n\r\n```\r\npackage trackour.trackour.views.api;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.apache.hc.core5.http.ParseException;\r\n\r\nimport com.neovisionaries.i18n.CountryCode;\r\n\r\nimport se.michaelthelin.spotify.SpotifyApi;\r\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\r\nimport se.michaelthelin.spotify.model_objects.credentials.ClientCredentials;\r\nimport se.michaelthelin.spotify.model_objects.specification.Paging;\r\nimport se.michaelthelin.spotify.model_objects.specification.Track;\r\nimport se.michaelthelin.spotify.requests.authorization.client_credentials.ClientCredentialsRequest;\r\nimport se.michaelthelin.spotify.requests.data.search.simplified.SearchTracksRequest;\r\n\r\n// Class to control the Spotify API and access its endpoints by using the Spotify Web API Java package\r\n// Each method is public and static to easily use them throughout the application.\r\n// ex. APIController.getAcousticness(&quot;ID GOES HERE&quot;);\r\npublic class APIController {\r\n\r\n    // create a SpotifyApi Builder object and set the Client ID and Client Secret\r\n    private static final SpotifyApi spotifyAPI = new SpotifyApi.Builder()\r\n        .setClientId(CLIENT_ID)\r\n        .setClientSecret(CLIENT_SECRET)\r\n        .build();\r\n\r\n    // create a ClientCredentialsRequest object which allows access to access tokens\r\n    private static final ClientCredentialsRequest clientCredentialsRequest = spotifyAPI.clientCredentials()\r\n        .build();\r\n\r\n    public static Paging&lt;Track&gt; searchTracks(String title) {\r\n        try {\r\n            final ClientCredentials clientCredentials = clientCredentialsRequest.execute();\r\n\r\n            spotifyAPI.setAccessToken(clientCredentials.getAccessToken());\r\n\r\n            final SearchTracksRequest searchTracksRequest = spotifyAPI.searchTracks(title)\r\n                .market(CountryCode.CA)\r\n                .limit(5)\r\n                .offset(0)\r\n                .build();\r\n\r\n            final Paging&lt;Track&gt; trackPaging = searchTracksRequest.execute();\r\n\r\n            return trackPaging;\r\n            \r\n        } catch (IOException | SpotifyWebApiException | ParseException e) {\r\n            System.out.println(e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // TESTING\r\n    public static void main(String[] args) {\r\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\r\n        System.out.println(test.getTotal());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe code I have in the main function works and returns a Paging object which I can then get the total items the object has, but I can&#39;t get the information from each individual item. I&#39;ve tried looking up the problem or a solution but I can&#39;t seem to find anything that would help me.","title":"How do I use Paging&lt;&gt; objects with the Spotify API in Java?","body":"<p>Apologies if this question is easily figured out, I'm quite new to Java and working with the Spotify API. I am using <a href=\"https://github.com/spotify-web-api-java/spotify-web-api-java.git\" rel=\"nofollow noreferrer\">this</a> Spotify Web API Java Package for a web application and am trying to implement a simplified Track Search method. I'm having trouble trying to figure out how to get the information I want after calling the method, which returns a Paging object. The Paging object is a container that holds a set of Track objects. The package I'm using gives a link to Paging&lt;&gt; objects in the Spotify API Documentation, but the Object Model Specifications page has apparently been removed and makes the link useless.</p>\n<p>Here's the class I made (the client ID and secret have been omitted of course and the class does work with other methods that just return a float, int or String):</p>\n<pre><code>package trackour.trackour.views.api;\n\nimport java.io.IOException;\n\nimport org.apache.hc.core5.http.ParseException;\n\nimport com.neovisionaries.i18n.CountryCode;\n\nimport se.michaelthelin.spotify.SpotifyApi;\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\nimport se.michaelthelin.spotify.model_objects.credentials.ClientCredentials;\nimport se.michaelthelin.spotify.model_objects.specification.Paging;\nimport se.michaelthelin.spotify.model_objects.specification.Track;\nimport se.michaelthelin.spotify.requests.authorization.client_credentials.ClientCredentialsRequest;\nimport se.michaelthelin.spotify.requests.data.search.simplified.SearchTracksRequest;\n\n// Class to control the Spotify API and access its endpoints by using the Spotify Web API Java package\n// Each method is public and static to easily use them throughout the application.\n// ex. APIController.getAcousticness(&quot;ID GOES HERE&quot;);\npublic class APIController {\n\n    // create a SpotifyApi Builder object and set the Client ID and Client Secret\n    private static final SpotifyApi spotifyAPI = new SpotifyApi.Builder()\n        .setClientId(CLIENT_ID)\n        .setClientSecret(CLIENT_SECRET)\n        .build();\n\n    // create a ClientCredentialsRequest object which allows access to access tokens\n    private static final ClientCredentialsRequest clientCredentialsRequest = spotifyAPI.clientCredentials()\n        .build();\n\n    public static Paging&lt;Track&gt; searchTracks(String title) {\n        try {\n            final ClientCredentials clientCredentials = clientCredentialsRequest.execute();\n\n            spotifyAPI.setAccessToken(clientCredentials.getAccessToken());\n\n            final SearchTracksRequest searchTracksRequest = spotifyAPI.searchTracks(title)\n                .market(CountryCode.CA)\n                .limit(5)\n                .offset(0)\n                .build();\n\n            final Paging&lt;Track&gt; trackPaging = searchTracksRequest.execute();\n\n            return trackPaging;\n            \n        } catch (IOException | SpotifyWebApiException | ParseException e) {\n            System.out.println(e.getMessage());\n            return null;\n        }\n    }\n\n    // TESTING\n    public static void main(String[] args) {\n        Paging&lt;Track&gt; test = searchTracks(&quot;Abba&quot;);\n        System.out.println(test.getTotal());\n    }\n}\n\n</code></pre>\n<p>The code I have in the main function works and returns a Paging object which I can then get the total items the object has, but I can't get the information from each individual item. I've tried looking up the problem or a solution but I can't seem to find anything that would help me.</p>\n"},{"tags":["java","android","firebase","flutter","dart"],"comments":[{"owner":{"account_id":18150675,"reputation":1240,"user_id":13203445,"display_name":"Shahryar Rafique"},"score":2,"creation_date":1634664437,"post_id":69634853,"comment_id":123084586,"body_markdown":"Do you added the firebase_core pugin because it is essential and if you did everything according to the documentation then ```flutter clean```  after that ```pub cache repair ``` will do the the work. then again run","body":"Do you added the firebase_core pugin because it is essential and if you did everything according to the documentation then <code>flutter clean</code>  after that <code>pub cache repair </code> will do the the work. then again run"},{"owner":{"account_id":23081869,"reputation":11,"user_id":17194029,"display_name":"AbsolutelyNot"},"score":0,"creation_date":1634798302,"post_id":69634853,"comment_id":123123410,"body_markdown":"That worked! Thank you!","body":"That worked! Thank you!"},{"owner":{"account_id":18150675,"reputation":1240,"user_id":13203445,"display_name":"Shahryar Rafique"},"score":0,"creation_date":1634799628,"post_id":69634853,"comment_id":123123895,"body_markdown":"@your welcome. Kindly marked my answer as a solution so, other can get benefit.","body":"@your welcome. Kindly marked my answer as a solution so, other can get benefit."}],"answers":[{"tags":[],"owner":{"account_id":11586699,"reputation":2375,"user_id":8593424,"display_name":"Shailendra Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634668234,"creation_date":1634668234,"answer_id":69636039,"question_id":69634853,"body_markdown":"I think you haven&#39;t added Firebase core in your pubspec.yaml file. Try to add `firebase_core 1.7.0` in your pubspec.yaml and then clean your project using this command `flutter clean`\r\n\r\nalso Checkout this [installation guide][1]\r\n\r\n\r\n  [1]: https://firebase.flutter.dev/docs/auth/overview/","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>I think you haven't added Firebase core in your pubspec.yaml file. Try to add <code>firebase_core 1.7.0</code> in your pubspec.yaml and then clean your project using this command <code>flutter clean</code></p>\n<p>also Checkout this <a href=\"https://firebase.flutter.dev/docs/auth/overview/\" rel=\"nofollow noreferrer\">installation guide</a></p>\n"},{"tags":[],"owner":{"account_id":18150675,"reputation":1240,"user_id":13203445,"display_name":"Shahryar Rafique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634799552,"creation_date":1634799552,"answer_id":69657294,"question_id":69634853,"body_markdown":"Add the firebase_core pugin because it is essential and if you did everything according to the documentation then flutter clean after that pub cache repair  will do the the work. then again run.","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>Add the firebase_core pugin because it is essential and if you did everything according to the documentation then flutter clean after that pub cache repair  will do the the work. then again run.</p>\n"},{"tags":[],"owner":{"account_id":27386185,"reputation":1,"user_id":20889937,"display_name":"Rishi Jagariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689539056,"creation_date":1689539056,"answer_id":76700271,"question_id":69634853,"body_markdown":"for issues like \r\n&quot;The plugin `X` doesn&#39;t have a main class defined in...&quot;\r\n\r\nSteps:\r\n1. Delete pubspec.lock\r\n2. Delete C:\\Users\\Username\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\.cache folder\r\n3. Delete packages liked with plugin &#39;X&#39; under above directory \r\n4. Run &#39;flutter clean&#39;\r\n5. Run &#39;flutter pub get&#39;\r\n\r\nDone","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>for issues like\n&quot;The plugin <code>X</code> doesn't have a main class defined in...&quot;</p>\n<p>Steps:</p>\n<ol>\n<li>Delete pubspec.lock</li>\n<li>Delete C:\\Users\\Username\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev.cache folder</li>\n<li>Delete packages liked with plugin 'X' under above directory</li>\n<li>Run 'flutter clean'</li>\n<li>Run 'flutter pub get'</li>\n</ol>\n<p>Done</p>\n"}],"owner":{"account_id":23081869,"reputation":11,"user_id":17194029,"display_name":"AbsolutelyNot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689539056,"creation_date":1634662188,"question_id":69634853,"body_markdown":"When adding firebase_auth to dependencies (pubspec.yaml) to my flutter project I&#39;m getting this error:\r\n\r\nThe plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.java or C:\\Users\\(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\kotlin\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.kt. This is likely to due to an incorrect `androidPackage: io.flutter.plugins.firebase.auth` or `mainClass` entry in the plugin&#39;s pubspec.yaml.\r\nIf you are the author of this plugin, fix the `androidPackage` entry or move the main class to any of locations used above. Otherwise, please contact the author of this plugin and consider using a different plugin in the meanwhile. \r\n\r\n\r\nMy code is just the dummy code created by android studio and the only thing i added is firebase_auth: ^3.1.3 in pubsbec.yaml , the .json file in the android/app directory and registered the app on Firebase website.\r\n\r\nI get the same issue in VS Code, so Android Studio is not the problem.\r\n\r\nI would really appreciate any help!","title":"The plugin `firebase_auth` doesn&#39;t have a main class defined in C:\\Users\\","body":"<p>When adding firebase_auth to dependencies (pubspec.yaml) to my flutter project I'm getting this error:</p>\n<p>The plugin <code>firebase_auth</code> doesn't have a main class defined in C:\\Users(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.java or C:\\Users(username)\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dartlang.org\\firebase_auth-3.1.3\\android\\src\\main\\kotlin\\io\\flutter\\plugins\\firebase\\auth\\FlutterFirebaseAuthPlugin.kt. This is likely to due to an incorrect <code>androidPackage: io.flutter.plugins.firebase.auth</code> or <code>mainClass</code> entry in the plugin's pubspec.yaml.\nIf you are the author of this plugin, fix the <code>androidPackage</code> entry or move the main class to any of locations used above. Otherwise, please contact the author of this plugin and consider using a different plugin in the meanwhile.</p>\n<p>My code is just the dummy code created by android studio and the only thing i added is firebase_auth: ^3.1.3 in pubsbec.yaml , the .json file in the android/app directory and registered the app on Firebase website.</p>\n<p>I get the same issue in VS Code, so Android Studio is not the problem.</p>\n<p>I would really appreciate any help!</p>\n"},{"tags":["java","spring","blockchain","netty","project-reactor"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689410986,"post_id":76692746,"comment_id":135212023,"body_markdown":"if you want to  `broadcastAll` at server side  , it is necessary that build a context  store  all client connections，","body":"if you want to  <code>broadcastAll</code> at server side  , it is necessary that build a context  store  all client connections，"},{"owner":{"account_id":17364850,"reputation":1,"user_id":17892112,"display_name":"Andrei.R"},"score":0,"creation_date":1689420845,"post_id":76692746,"comment_id":135212970,"body_markdown":"So I could store all new connection in a list and when I want to broadcast to all, I can simply loop that list and call ```connection.outbound().send()``` with the specific message?","body":"So I could store all new connection in a list and when I want to broadcast to all, I can simply loop that list and call <code>connection.outbound().send()</code> with the specific message?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689424981,"post_id":76692746,"comment_id":135213445,"body_markdown":"When asking a question, please use a title that summarizes your actual question. A title like _&quot;Project reactor Netty&quot;_ is not a good question title.","body":"When asking a question, please use a title that summarizes your actual question. A title like <i>&quot;Project reactor Netty&quot;</i> is not a good question title."},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1689487867,"post_id":76692746,"comment_id":135218704,"body_markdown":"yes , correctly , just store every connection and loop  when it is needed","body":"yes , correctly , just store every connection and loop  when it is needed"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1689525765,"post_id":76692746,"comment_id":135222636,"body_markdown":"You usually don&#39;t loop through connections. It&#39;s easier and more Reactive-friendly to merge multiple Publishers, one of which could be a Sink used to broadcast. Btw, how do you close/handle the connection since you return `Flux.never()`?","body":"You usually don&#39;t loop through connections. It&#39;s easier and more Reactive-friendly to merge multiple Publishers, one of which could be a Sink used to broadcast. Btw, how do you close/handle the connection since you return <code>Flux.never()</code>?"},{"owner":{"account_id":17364850,"reputation":1,"user_id":17892112,"display_name":"Andrei.R"},"score":0,"creation_date":1690965443,"post_id":76692746,"comment_id":135424914,"body_markdown":"I dont need to close the connection, since I need to keep it persistent, like in a peer to peer, so I need to always listen process the request and respond either to one or all clients.","body":"I dont need to close the connection, since I need to keep it persistent, like in a peer to peer, so I need to always listen process the request and respond either to one or all clients."}],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689538853,"creation_date":1689538853,"answer_id":76700252,"question_id":76692746,"body_markdown":"In general, it&#39;s better to use Reactor components here instead of manual loping through connections. For broadcasting it provides `Sinks` with multicast capability.\r\n\r\nCreate a shared variable (could be withing a separate bean):\r\n    \r\n    val sink = Sinks.many().multicast().onBackpressureBuffer()\r\n\r\nThen when you want to broadcast from any connection you just:\r\n\r\n    sink.emitNext(msg) { s, r -&gt;\r\n        // process error\r\n    }\r\n\r\n(take a look at javadoc https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/FluxSink.html how to handle NON_SERIALIZABLE which you&#39;ll probably have)\r\n\r\nAnd then you connect this sink output to other fluxes to make your outbound. I&#39;m not sure how you can make it with your current bean which just returns a never completing flux, but assume that&#39;s just a temp draft and then the real code would be something like:\r\n\r\n\r\n    public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\r\n        Flux responses = inbound.flatMap { \r\n            // your main logic, response to incoming requests, produce new, etc.\r\n        };\r\n        // you would probably want a takeUntil / takeWhile to make sure it doesn&#39;t keep half-closed connections, though I guess Netty takes care of it too\r\n        Flux broadcast = sink.asFlux();\r\n\r\n        outbound.send(Flux.merge(responses, broadcast))\r\n                    .then();\r\n    }\r\n    \r\n\r\n\r\n    ","title":"Project reactor Netty","body":"<p>In general, it's better to use Reactor components here instead of manual loping through connections. For broadcasting it provides <code>Sinks</code> with multicast capability.</p>\n<p>Create a shared variable (could be withing a separate bean):</p>\n<pre><code>val sink = Sinks.many().multicast().onBackpressureBuffer()\n</code></pre>\n<p>Then when you want to broadcast from any connection you just:</p>\n<pre><code>sink.emitNext(msg) { s, r -&gt;\n    // process error\n}\n</code></pre>\n<p>(take a look at javadoc <a href=\"https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/FluxSink.html\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/FluxSink.html</a> how to handle NON_SERIALIZABLE which you'll probably have)</p>\n<p>And then you connect this sink output to other fluxes to make your outbound. I'm not sure how you can make it with your current bean which just returns a never completing flux, but assume that's just a temp draft and then the real code would be something like:</p>\n<pre><code>public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\n    Flux responses = inbound.flatMap { \n        // your main logic, response to incoming requests, produce new, etc.\n    };\n    // you would probably want a takeUntil / takeWhile to make sure it doesn't keep half-closed connections, though I guess Netty takes care of it too\n    Flux broadcast = sink.asFlux();\n\n    outbound.send(Flux.merge(responses, broadcast))\n                .then();\n}\n</code></pre>\n"}],"owner":{"account_id":17364850,"reputation":1,"user_id":17892112,"display_name":"Andrei.R"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689538853,"creation_date":1689407178,"question_id":76692746,"body_markdown":"I am working on a java blockchain project and I have a question regarding inbound and outbound connections.\r\n\r\nI have this server setup:\r\n\r\n```\r\n@Bean\r\n    public Mono&lt;Void&gt; startServer() throws RocksDBException {\r\n        return TcpServer.create()\r\n                .doOnConnection(c -&gt; log.info(&quot;Peer connected!&quot;))\r\n                .option(ChannelOption.SO_KEEPALIVE, true)\r\n                .handle(transmissionHandler())\r\n                .port(7331)\r\n                .doOnBound(server -&gt; log.info(&quot;Server started on address:{} and port:{}&quot;, server.address(), server.port()))\r\n                .doOnUnbound(server -&gt; log.info(&quot;Server stopped!&quot;))\r\n                .bindNow()\r\n                .onDispose();\r\n    }\r\n\r\n@Bean\r\n    public TransmissionHandler transmissionHandler() {\r\n        return new TransmissionHandler();\r\n    }\r\n```\r\n\r\nAnd for TransmissionHandler method\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class TransmissionHandler implements BiFunction&lt;NettyInbound, NettyOutbound, Flux&lt;Void&gt;&gt; {\r\n    @Autowired\r\n    private Processor messageProcessor;\r\n    private NettyOutbound outbound;\r\n\r\n    private NettyInbound inbound;\r\n\r\n    @Override\r\n    public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\r\n        this.outbound = outbound;\r\n        this.inbound = inbound;\r\n\r\n        return Flux.never();\r\n    }\r\n\r\n    public NettyInbound getInbound() {\r\n        return inbound;\r\n    }\r\n\r\n    public NettyOutbound getOutbound() {\r\n        return outbound;\r\n    }\r\n}\r\n```\r\n\r\nIf multiple clients(A,B,C) connects to the server, A send a message and wait a response, B send a message to server, if the server receives a message with instruction &#39;broadcastAll&#39; it means that ti should broadcast that message to all connected clients.\r\n\r\nMy question is in the ```.handle(transmissionHandler())``` will handle each connection one by one, so for example one client will send a message the server will &#39;talk&#39; with that client only?\r\n\r\nAs a potential solution I am thinking to create a new @Bean that will take care of the all connection clients, if the server receives a message with instruction &#39;broadcastAll&#39; then loop to each connection and send a message to each connected client.\r\n\r\n\r\nIt is a bit hard to try tcp connection on a single machine, I am thinking of deploying them on a kubernetes env and a pod = a machine.","title":"Project reactor Netty","body":"<p>I am working on a java blockchain project and I have a question regarding inbound and outbound connections.</p>\n<p>I have this server setup:</p>\n<pre><code>@Bean\n    public Mono&lt;Void&gt; startServer() throws RocksDBException {\n        return TcpServer.create()\n                .doOnConnection(c -&gt; log.info(&quot;Peer connected!&quot;))\n                .option(ChannelOption.SO_KEEPALIVE, true)\n                .handle(transmissionHandler())\n                .port(7331)\n                .doOnBound(server -&gt; log.info(&quot;Server started on address:{} and port:{}&quot;, server.address(), server.port()))\n                .doOnUnbound(server -&gt; log.info(&quot;Server stopped!&quot;))\n                .bindNow()\n                .onDispose();\n    }\n\n@Bean\n    public TransmissionHandler transmissionHandler() {\n        return new TransmissionHandler();\n    }\n</code></pre>\n<p>And for TransmissionHandler method</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\npublic class TransmissionHandler implements BiFunction&lt;NettyInbound, NettyOutbound, Flux&lt;Void&gt;&gt; {\n    @Autowired\n    private Processor messageProcessor;\n    private NettyOutbound outbound;\n\n    private NettyInbound inbound;\n\n    @Override\n    public Flux&lt;Void&gt; apply(NettyInbound inbound, NettyOutbound outbound) {\n        this.outbound = outbound;\n        this.inbound = inbound;\n\n        return Flux.never();\n    }\n\n    public NettyInbound getInbound() {\n        return inbound;\n    }\n\n    public NettyOutbound getOutbound() {\n        return outbound;\n    }\n}\n</code></pre>\n<p>If multiple clients(A,B,C) connects to the server, A send a message and wait a response, B send a message to server, if the server receives a message with instruction 'broadcastAll' it means that ti should broadcast that message to all connected clients.</p>\n<p>My question is in the <code>.handle(transmissionHandler())</code> will handle each connection one by one, so for example one client will send a message the server will 'talk' with that client only?</p>\n<p>As a potential solution I am thinking to create a new @Bean that will take care of the all connection clients, if the server receives a message with instruction 'broadcastAll' then loop to each connection and send a message to each connected client.</p>\n<p>It is a bit hard to try tcp connection on a single machine, I am thinking of deploying them on a kubernetes env and a pod = a machine.</p>\n"},{"tags":["java","performance","jmeter","performance-testing","gatling"],"comments":[{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1689724689,"post_id":76700140,"comment_id":135253210,"body_markdown":"This question has already been answered multiple times on the official Gatling community forum, eg https://community.gatling.io/t/able-to-refresh-token-but-running-refresh-token-scenario-in-sequential-scenarios-is-not-working/7998/3","body":"This question has already been answered multiple times on the official Gatling community forum, eg <a href=\"https://community.gatling.io/t/able-to-refresh-token-but-running-refresh-token-scenario-in-sequential-scenarios-is-not-working/7998/3\" rel=\"nofollow noreferrer\">community.gatling.io/t/&hellip;</a>"}],"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689536801,"creation_date":1689536801,"question_id":76700140,"body_markdown":"I am utilizing Gatling in Java to measure the API&#39;s performance. The objective is to measure the performance of the user API, which requires a token. This token expires every 10 minutes. Is it feasible to obtain the token only once every 10 minutes and reset ? Below scenario executes both the API together but I want to execute /token only once every 10 minutes and update access token.    \r\n\r\n```\r\npublic class GetTokenAndUserSimulation extends Simulation {\r\n\r\n    HttpProtocolBuilder httpProtocol = http.baseUrl(BASE_URL)\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .header(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)\r\n            .check(status().is(200));\r\n\r\n    ScenarioBuilder scn = scenario(&quot;OAuth Token and User Request&quot;)\r\n        .exec(http(&quot;OAuth Token Request&quot;)\r\n            .post(&quot;/token&quot;)\r\n            .header(&quot;Authorization&quot;, &quot;Basic &quot;+TOKEN)\r\n            .check(status().is(200))\r\n            .check(jsonPath(&quot;$.access_token&quot;).saveAs(&quot;accessToken&quot;)))\r\n        .exec(http(&quot;User Request&quot;)\r\n            .get(&quot;/user&quot;)\r\n            .header(&quot;Authorization&quot;, &quot;Bearer ${accessToken}&quot;)\r\n            .check(status().is(200)));\r\n\r\n    {\r\n        setUp(scn.injectOpen(constantUsersPerSec(REQUEST_PER_SECOND).during(Duration.ofMinutes(DURATION_MIN))))\r\n                .protocols(httpProtocol)\r\n                .assertions(global().responseTime().percentile3().lt(P95_RESPONSE_TIME_MS),\r\n                        global().successfulRequests().percent().gt(95.0));\r\n    }\r\n} ","title":"Gatling Java Performance Testing With Token Renewal Every 10 Minutes","body":"<p>I am utilizing Gatling in Java to measure the API's performance. The objective is to measure the performance of the user API, which requires a token. This token expires every 10 minutes. Is it feasible to obtain the token only once every 10 minutes and reset ? Below scenario executes both the API together but I want to execute /token only once every 10 minutes and update access token.</p>\n<pre><code>public class GetTokenAndUserSimulation extends Simulation {\n\n    HttpProtocolBuilder httpProtocol = http.baseUrl(BASE_URL)\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .header(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)\n            .check(status().is(200));\n\n    ScenarioBuilder scn = scenario(&quot;OAuth Token and User Request&quot;)\n        .exec(http(&quot;OAuth Token Request&quot;)\n            .post(&quot;/token&quot;)\n            .header(&quot;Authorization&quot;, &quot;Basic &quot;+TOKEN)\n            .check(status().is(200))\n            .check(jsonPath(&quot;$.access_token&quot;).saveAs(&quot;accessToken&quot;)))\n        .exec(http(&quot;User Request&quot;)\n            .get(&quot;/user&quot;)\n            .header(&quot;Authorization&quot;, &quot;Bearer ${accessToken}&quot;)\n            .check(status().is(200)));\n\n    {\n        setUp(scn.injectOpen(constantUsersPerSec(REQUEST_PER_SECOND).during(Duration.ofMinutes(DURATION_MIN))))\n                .protocols(httpProtocol)\n                .assertions(global().responseTime().percentile3().lt(P95_RESPONSE_TIME_MS),\n                        global().successfulRequests().percent().gt(95.0));\n    }\n} \n</code></pre>\n"},{"tags":["java","graphql","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689534664,"creation_date":1689534664,"answer_id":76699995,"question_id":76698184,"body_markdown":"Your mutation wants a variable called `documentInput` but you are passing `id`, `name`, and `desc`\r\n\r\n`id`, `name`, and `desc` are the expected fields in the *result* of the mutation, not inputs.\r\n\r\nLook at your server&#39;s GraphQL schema to understand what the shape of `documentInput` is.","title":"Why this mutation GraphQL query does not pass data through?","body":"<p>Your mutation wants a variable called <code>documentInput</code> but you are passing <code>id</code>, <code>name</code>, and <code>desc</code></p>\n<p><code>id</code>, <code>name</code>, and <code>desc</code> are the expected fields in the <em>result</em> of the mutation, not inputs.</p>\n<p>Look at your server's GraphQL schema to understand what the shape of <code>documentInput</code> is.</p>\n"}],"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689534664,"creation_date":1689509319,"question_id":76698184,"body_markdown":"I have the Mutation below and I&#39;d like to test it with the script below, but I don&#39;t know what is the problem with it.\r\n\r\nI already checked the documentation, at least 10 tutorials and according to those it should work, but it doesn&#39;t:\r\n- when remove the NonNull from the Mutation the code breaks at server side at validations with the same error, the passed object is null\r\n- I also ensured that the `DocumentDto` class has a public zero args constructor\r\n- the error is reproducable via GraphiQL too\r\n\r\nMutation\r\n\r\n```lang-gql\r\ntype Mutation {\r\n    createDocument(documentInput: DocumentInput!): Document\r\n}\r\n```\r\n\r\n\r\nJava test code:\r\n\r\n```lang-java\r\n\r\n@Test\r\npublic void shouldCreateDocument_andReturnIt() {\r\n\r\n    // Arrange\r\n\r\n    // Act\r\n    DocumentDto result = httpGraphQlTester.document(&quot;&quot;&quot;\r\n               mutation createDocument($documentInput: DocumentInput!) {\r\n                 createDocument(documentInput: $documentInput) {\r\n                   id\r\n                   name\r\n                   desc\r\n                 }\r\n               }\r\n            &quot;&quot;&quot;)\r\n        .variable(&quot;id&quot;, 0L)\r\n        .variable(&quot;name&quot;, &quot;named&quot;)\r\n        .variable(&quot;desc&quot;, &quot;descd&quot;)\r\n        .execute()\r\n        .path(&quot;data&quot;)\r\n        .entity(DocumentDto.class)\r\n        .get();\r\n\r\n    System.out.println(result);\r\n}\r\n\r\n```\r\n\r\nError:\r\n\r\n&gt; java.lang.AssertionError: Response has 1 unexpected error(s) of 1\r\n&gt; total. If expected, please filter them out: [{message=Variable\r\n&gt; &#39;documentInput&#39; has an invalid value: Variable &#39;documentInput&#39; has\r\n&gt; coerced Null value for NonNull type &#39;DocumentInput!&#39;,\r\n&gt; locations=[{line=1, column=28}],\r\n&gt; extensions={classification=ValidationError}}] Request: document=&#39;  \r\n&gt; mutation createDocument($documentInput: DocumentInput!) {\r\n&gt;      createDocument(documentInput: $documentInput) {\r\n&gt;        id\r\n&gt;        name\r\n&gt;        desc\r\n&gt;      }    } &#39;, variables={id=0, name=named, desc=descd}\r\n&gt; \r\n&gt; \tat\r\n&gt; org.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultRequest.lambda$assertDecorator$3(DefaultGraphQlTester.java:183)\r\n&gt; \tat\r\n&gt; org.springframework.graphql.test.tester.DefaultGraphQlTester$ResponseDelegate.verifyErrors(DefaultGraphQlTester.java:266)\r\n&gt; \tat\r\n&gt; org.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultResponse.path(DefaultGraphQlTester.java:293)\r\n&gt; \tat\r\n&gt; com.encyclopediagalactica.document.e2e.CreateDocumentE2ETest.shouldCreateDocument_andReturnIt(CreateDocumentE2ETest.java:36)\r\n\r\n","title":"Why this mutation GraphQL query does not pass data through?","body":"<p>I have the Mutation below and I'd like to test it with the script below, but I don't know what is the problem with it.</p>\n<p>I already checked the documentation, at least 10 tutorials and according to those it should work, but it doesn't:</p>\n<ul>\n<li>when remove the NonNull from the Mutation the code breaks at server side at validations with the same error, the passed object is null</li>\n<li>I also ensured that the <code>DocumentDto</code> class has a public zero args constructor</li>\n<li>the error is reproducable via GraphiQL too</li>\n</ul>\n<p>Mutation</p>\n<pre class=\"lang-gql prettyprint-override\"><code>type Mutation {\n    createDocument(documentInput: DocumentInput!): Document\n}\n</code></pre>\n<p>Java test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Test\npublic void shouldCreateDocument_andReturnIt() {\n\n    // Arrange\n\n    // Act\n    DocumentDto result = httpGraphQlTester.document(&quot;&quot;&quot;\n               mutation createDocument($documentInput: DocumentInput!) {\n                 createDocument(documentInput: $documentInput) {\n                   id\n                   name\n                   desc\n                 }\n               }\n            &quot;&quot;&quot;)\n        .variable(&quot;id&quot;, 0L)\n        .variable(&quot;name&quot;, &quot;named&quot;)\n        .variable(&quot;desc&quot;, &quot;descd&quot;)\n        .execute()\n        .path(&quot;data&quot;)\n        .entity(DocumentDto.class)\n        .get();\n\n    System.out.println(result);\n}\n\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>java.lang.AssertionError: Response has 1 unexpected error(s) of 1\ntotal. If expected, please filter them out: [{message=Variable\n'documentInput' has an invalid value: Variable 'documentInput' has\ncoerced Null value for NonNull type 'DocumentInput!',\nlocations=[{line=1, column=28}],\nextensions={classification=ValidationError}}] Request: document='<br />\nmutation createDocument($documentInput: DocumentInput!) {\ncreateDocument(documentInput: $documentInput) {\nid\nname\ndesc\n}    } ', variables={id=0, name=named, desc=descd}</p>\n<p>at\norg.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultRequest.lambda$assertDecorator$3(DefaultGraphQlTester.java:183)\nat\norg.springframework.graphql.test.tester.DefaultGraphQlTester$ResponseDelegate.verifyErrors(DefaultGraphQlTester.java:266)\nat\norg.springframework.graphql.test.tester.DefaultGraphQlTester$DefaultResponse.path(DefaultGraphQlTester.java:293)\nat\ncom.encyclopediagalactica.document.e2e.CreateDocumentE2ETest.shouldCreateDocument_andReturnIt(CreateDocumentE2ETest.java:36)</p>\n</blockquote>\n"},{"tags":["java","internet-explorer-11","servlet-filters"],"comments":[{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":1,"creation_date":1426754739,"post_id":29139862,"comment_id":46504114,"body_markdown":"Check http://stackoverflow.com/questions/28659450/object-doesnt-support-property-or-method-attachevent-internetexplorer-11","body":"Check <a href=\"http://stackoverflow.com/questions/28659450/object-doesnt-support-property-or-method-attachevent-internetexplorer-11\" title=\"object doesnt support property or method attachevent internetexplorer 11\">stackoverflow.com/questions/28659450/&hellip;</a>"},{"owner":{"account_id":3779206,"reputation":1465,"user_id":3139153,"accept_rate":73,"display_name":"Naitik"},"score":0,"creation_date":1426756134,"post_id":29139862,"comment_id":46504808,"body_markdown":"@EvanKnowles i checked it and but they give update jquery for solved it problem at end of their conversation but i am using updated jquery already.","body":"@EvanKnowles i checked it and but they give update jquery for solved it problem at end of their conversation but i am using updated jquery already."},{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":1,"creation_date":1426756305,"post_id":29139862,"comment_id":46504886,"body_markdown":"We&#39;re going to need to see more code then.","body":"We&#39;re going to need to see more code then."}],"answers":[{"tags":[],"owner":{"account_id":4714021,"reputation":6570,"user_id":3813733,"accept_rate":60,"display_name":"Arkantos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1426756414,"creation_date":1426756414,"answer_id":29140649,"question_id":29139862,"body_markdown":"In older versions of IE, `attachEvent` is used to attach an event handler for some event on some element. But as per the update [here][1], starting with IE11, `attachEvent` is deprecated and you should use `addEventListener` instead. \r\n\r\nIE has included support for `addEventListener` from IE9 and above only. So if you still need to support IE8, I suggest you use some cross-browser library like jQuery to bind event handlers instead of vanilla javascript.\r\n\r\nAs you&#39;re already using jQuery, you can bind events like below\r\n\r\n    $(&#39;#yourElement&#39;).on(&#39;click&#39;, function(){\r\n       // do something when you click on yourElement\r\n    }); \r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/ie/ms536343(v=vs.85).aspx","title":"Getting Error &quot;Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; in IE11 but work in IE8, IE9, IE10","body":"<p>In older versions of IE, <code>attachEvent</code> is used to attach an event handler for some event on some element. But as per the update <a href=\"https://msdn.microsoft.com/en-us/library/ie/ms536343(v=vs.85).aspx\" rel=\"nofollow\">here</a>, starting with IE11, <code>attachEvent</code> is deprecated and you should use <code>addEventListener</code> instead. </p>\n\n<p>IE has included support for <code>addEventListener</code> from IE9 and above only. So if you still need to support IE8, I suggest you use some cross-browser library like jQuery to bind event handlers instead of vanilla javascript.</p>\n\n<p>As you're already using jQuery, you can bind events like below</p>\n\n<pre><code>$('#yourElement').on('click', function(){\n   // do something when you click on yourElement\n}); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6553325,"reputation":606,"user_id":5066922,"display_name":"Alpesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476107963,"creation_date":1476107253,"answer_id":39959829,"question_id":29139862,"body_markdown":"A hack. You may check for IE11 before doing this. I am targeting IE11 only so not doing any checks.\r\n\r\n    &lt;script lang=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;\r\n            Element.prototype.attachEvent = function(ename, e) {\r\n                this.addEventListener(ename, e);\r\n            }\r\n    \r\n            Element.prototype.detachEvent = function(ename, e) {\r\n                this.removeEventListener(ename, e);\r\n            }\r\n    &lt;/script&gt;","title":"Getting Error &quot;Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; in IE11 but work in IE8, IE9, IE10","body":"<p>A hack. You may check for IE11 before doing this. I am targeting IE11 only so not doing any checks.</p>\n\n<pre><code>&lt;script lang=\"javascript\" type=\"text/javascript\"&gt;\n        Element.prototype.attachEvent = function(ename, e) {\n            this.addEventListener(ename, e);\n        }\n\n        Element.prototype.detachEvent = function(ename, e) {\n            this.removeEventListener(ename, e);\n        }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":3779206,"reputation":1465,"user_id":3139153,"accept_rate":73,"display_name":"Naitik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29140649,"answer_count":2,"score":1,"last_activity_date":1689534336,"creation_date":1426753449,"question_id":29139862,"body_markdown":"I am working on Java `doFilter` Popup and open iFrame jQuery popup with URL which called SAP. \r\n\r\nMy code is working for Chrome, Mozilla firefox, IE8, IE9 and IE10 but I am getting a: \r\n\r\n&gt; Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; Error in\r\n&gt; IE11.\r\n\r\nIs there any issue with IE11 ? \r\n\r\nAny help is deeply appreciated. \r\n\r\nThanks.","title":"Getting Error &quot;Object doesn&#39;t support property or method &#39;attachEvent&#39;&quot; in IE11 but work in IE8, IE9, IE10","body":"<p>I am working on Java <code>doFilter</code> Popup and open iFrame jQuery popup with URL which called SAP.</p>\n<p>My code is working for Chrome, Mozilla firefox, IE8, IE9 and IE10 but I am getting a:</p>\n<blockquote>\n<p>Object doesn't support property or method 'attachEvent'&quot; Error in\nIE11.</p>\n</blockquote>\n<p>Is there any issue with IE11 ?</p>\n<p>Any help is deeply appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689534305,"creation_date":1689533671,"answer_id":76699926,"question_id":76699879,"body_markdown":"The problem is in the way kafka works with advertised listeners.\r\n\r\nWhenever a connection request comes into kafka, this is what happens inside:\r\n\r\n1. It takes a look at where it receives the request\r\n2. This incoming request is mapped to a connection:  \r\n\r\n       KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\r\n\r\n3. It then knows the name of your connection: In your case the &quot;EXTERNAL&quot; connection is used\r\n4. It uses this name to return the ADVERTISED_LISTENER, **which then is used for the application to actually send/receive data**. \r\n\r\n       KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\r\n\r\n5. In your case this is returned:  \r\n\r\n       EXTERNAL://kafka1:39092\r\n\r\nYou see exactly this also in your error message: \r\n\r\n    UnknownHostException: kafka1\r\n\r\nAnd this makes totally sense: Your application is **outside** of the docker network, it doesnt know the host &quot;kafka1&quot;, but this is what the kafka broker returns to actually send data to.\r\n\r\nSo to fix your issue you have to change the &quot;ADVERTISED_LISTENER&quot; variable to this:\r\n\r\n      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://127.0.0.1:39092\r\n","title":"Java docker kafka kraft simple connection","body":"<p>The problem is in the way kafka works with advertised listeners.</p>\n<p>Whenever a connection request comes into kafka, this is what happens inside:</p>\n<ol>\n<li><p>It takes a look at where it receives the request</p>\n</li>\n<li><p>This incoming request is mapped to a connection:</p>\n<pre><code>KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\n</code></pre>\n</li>\n<li><p>It then knows the name of your connection: In your case the &quot;EXTERNAL&quot; connection is used</p>\n</li>\n<li><p>It uses this name to return the ADVERTISED_LISTENER, <strong>which then is used for the application to actually send/receive data</strong>.</p>\n<pre><code>KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\n</code></pre>\n</li>\n<li><p>In your case this is returned:</p>\n<pre><code>EXTERNAL://kafka1:39092\n</code></pre>\n</li>\n</ol>\n<p>You see exactly this also in your error message:</p>\n<pre><code>UnknownHostException: kafka1\n</code></pre>\n<p>And this makes totally sense: Your application is <strong>outside</strong> of the docker network, it doesnt know the host &quot;kafka1&quot;, but this is what the kafka broker returns to actually send data to.</p>\n<p>So to fix your issue you have to change the &quot;ADVERTISED_LISTENER&quot; variable to this:</p>\n<pre><code>  KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://127.0.0.1:39092\n</code></pre>\n"}],"owner":{"account_id":77197,"reputation":5536,"user_id":220503,"accept_rate":85,"display_name":"Marco Aviles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689605691,"accepted_answer_id":76699926,"answer_count":1,"score":0,"last_activity_date":1689534305,"creation_date":1689532987,"question_id":76699879,"body_markdown":"Hi I&#39;m using docker to host a local kafka kraft server. I&#39;m trying to make a simple connection using java\r\n\r\nMy docker `docker-compose.yml` looks like this\r\n\r\n    version: &quot;3.5&quot;\r\n    services:\r\n    \r\n      kafka-gen:\r\n        image: confluentinc/cp-kafka:7.3.3\r\n        hostname: kafka-gen\r\n        container_name: kafka-gen\r\n        volumes:\r\n          - ./scripts/create_cluster_id.sh:/tmp/create_cluster_id.sh\r\n          - ./clusterID:/tmp/clusterID\r\n        command: &quot;bash -c &#39;/tmp/create_cluster_id.sh&#39;&quot;\r\n    \r\n      kafka1:\r\n        image: confluentinc/cp-kafka:7.3.3\r\n        hostname: kafka1\r\n        container_name: kafka1\r\n        ports:\r\n          - &quot;39092:39092&quot;\r\n        environment:\r\n          KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\r\n          KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: BROKER\r\n          KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT\r\n          KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n          KAFKA_PROCESS_ROLES: &#39;controller,broker&#39;\r\n          KAFKA_NODE_ID: 1\r\n          KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@kafka1:9093&#39;\r\n          KAFKA_METADATA_LOG_SEGMENT_MS: 15000\r\n          KAFKA_METADATA_MAX_RETENTION_MS: 1200000\r\n          KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800\r\n          KAFKA_LOG_DIRS: &#39;/tmp/kraft-combined-logs&#39;\r\n        volumes:\r\n          - kafka1-data:/var/lib/kafka/data\r\n          - ./scripts/update_run.sh:/tmp/update_run.sh\r\n          - ./clusterID:/tmp/clusterID\r\n        command: &quot;bash -c &#39;/tmp/update_run.sh &amp;&amp; /etc/confluent/docker/run&#39;&quot;\r\n    \r\n    volumes:\r\n      kafka1-data:\r\n\r\nand my java code(using `org.apache.kafka:kafka-clients:3.4.0`)\r\n\r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:39092&quot;);\r\n    properties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\r\n    properties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\r\n\r\n    KafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;&gt;(properties);\r\n    ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(\r\n            &quot;first_topic&quot;, &quot;testm&quot;\r\n    );\r\n    kafkaProducer.send(producerRecord);\r\n\r\n    kafkaProducer.flush();\r\n\r\n    kafkaProducer.close();\r\n    \r\nI&#39;m getting \r\n\r\n     WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error connecting to node kafka1:39092 (id: 1 rack: null)\r\n    java.net.UnknownHostException: kafka1\r\n\r\nand the message is never pushed. Could you help me figure out either of my docker or the java connector have a problem?\r\n\r\nthanks in advance","title":"Java docker kafka kraft simple connection","body":"<p>Hi I'm using docker to host a local kafka kraft server. I'm trying to make a simple connection using java</p>\n<p>My docker <code>docker-compose.yml</code> looks like this</p>\n<pre><code>version: &quot;3.5&quot;\nservices:\n\n  kafka-gen:\n    image: confluentinc/cp-kafka:7.3.3\n    hostname: kafka-gen\n    container_name: kafka-gen\n    volumes:\n      - ./scripts/create_cluster_id.sh:/tmp/create_cluster_id.sh\n      - ./clusterID:/tmp/clusterID\n    command: &quot;bash -c '/tmp/create_cluster_id.sh'&quot;\n\n  kafka1:\n    image: confluentinc/cp-kafka:7.3.3\n    hostname: kafka1\n    container_name: kafka1\n    ports:\n      - &quot;39092:39092&quot;\n    environment:\n      KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093\n      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092\n      KAFKA_INTER_BROKER_LISTENER_NAME: BROKER\n      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      KAFKA_PROCESS_ROLES: 'controller,broker'\n      KAFKA_NODE_ID: 1\n      KAFKA_CONTROLLER_QUORUM_VOTERS: '1@kafka1:9093'\n      KAFKA_METADATA_LOG_SEGMENT_MS: 15000\n      KAFKA_METADATA_MAX_RETENTION_MS: 1200000\n      KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800\n      KAFKA_LOG_DIRS: '/tmp/kraft-combined-logs'\n    volumes:\n      - kafka1-data:/var/lib/kafka/data\n      - ./scripts/update_run.sh:/tmp/update_run.sh\n      - ./clusterID:/tmp/clusterID\n    command: &quot;bash -c '/tmp/update_run.sh &amp;&amp; /etc/confluent/docker/run'&quot;\n\nvolumes:\n  kafka1-data:\n</code></pre>\n<p>and my java code(using <code>org.apache.kafka:kafka-clients:3.4.0</code>)</p>\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(&quot;bootstrap.servers&quot;, &quot;127.0.0.1:39092&quot;);\nproperties.setProperty(&quot;key.serializer&quot;, StringSerializer.class.getName());\nproperties.setProperty(&quot;value.serializer&quot;, StringSerializer.class.getName());\n\nKafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;&gt;(properties);\nProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(\n        &quot;first_topic&quot;, &quot;testm&quot;\n);\nkafkaProducer.send(producerRecord);\n\nkafkaProducer.flush();\n\nkafkaProducer.close();\n</code></pre>\n<p>I'm getting</p>\n<pre><code> WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error connecting to node kafka1:39092 (id: 1 rack: null)\njava.net.UnknownHostException: kafka1\n</code></pre>\n<p>and the message is never pushed. Could you help me figure out either of my docker or the java connector have a problem?</p>\n<p>thanks in advance</p>\n"},{"tags":["java","tomcat","basic-authentication","netweaver"],"comments":[{"owner":{"account_id":4964872,"reputation":1022,"user_id":3994580,"display_name":"DaniEll"},"score":0,"creation_date":1436517231,"post_id":31335719,"comment_id":50656603,"body_markdown":"Maybe there is a problem on the Tomcat side?","body":"Maybe there is a problem on the Tomcat side?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436517934,"post_id":31335719,"comment_id":50656997,"body_markdown":"I thought so as well, but wouldn’t the restart of the Tomcat let the problem occur after the first request to the Tomcat after the restart?\nBut if you could point me into a direction, I would gladly look into it.","body":"I thought so as well, but wouldn’t the restart of the Tomcat let the problem occur after the first request to the Tomcat after the restart? But if you could point me into a direction, I would gladly look into it."},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518230,"post_id":31335719,"comment_id":50657200,"body_markdown":"Do your requests contain some sort of cookies?","body":"Do your requests contain some sort of cookies?"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518279,"post_id":31335719,"comment_id":50657228,"body_markdown":"@user3513092 regarding restart: Does your tomcate dispose session infos on restart?","body":"@user3513092 regarding restart: Does your tomcate dispose session infos on restart?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436518784,"post_id":31335719,"comment_id":50657523,"body_markdown":"No cookies; which flag need to be set to dispose the session infos?","body":"No cookies; which flag need to be set to dispose the session infos?"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1436518906,"post_id":31335719,"comment_id":50657592,"body_markdown":"see https://tomcat.apache.org/tomcat-7.0-doc/config/manager.html - it is the saveOnRestart attribute. It defaults to true. You may try to set it to false. How do you configure the basic auth at tomcat?","body":"see <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/manager.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/config/manager.html</a> - it is the saveOnRestart attribute. It defaults to true. You may try to set it to false. How do you configure the basic auth at tomcat?"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1436617674,"post_id":31335719,"comment_id":50695797,"body_markdown":"You were right. It is the tomcat. Even a request with Postman or Soap Ui are failing, if they are sending the first request of the day. I have to check, why Tomcat is behaving like this :-/","body":"You were right. It is the tomcat. Even a request with Postman or Soap Ui are failing, if they are sending the first request of the day. I have to check, why Tomcat is behaving like this :-/"},{"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"score":0,"creation_date":1454506068,"post_id":31335719,"comment_id":58073624,"body_markdown":"Just wanted to add, we never figured out why the first call of the day failed. We just add a retry into the software to try it twice","body":"Just wanted to add, we never figured out why the first call of the day failed. We just add a retry into the software to try it twice"}],"owner":{"account_id":4298864,"reputation":502,"user_id":3513092,"display_name":"ben"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689532964,"creation_date":1436516066,"question_id":31335719,"body_markdown":"I am completely lost. I try to authenticate using HTTP Basic Auth to a Tomcat 7.0.54 to get a resource.\r\n\r\nThe first time of a day that I try to connect I get a 401. The rest of the day I will get the resource. Even if I restart the Tomcat, I will get the resource with the first request. I can not restart the client...\r\n\r\nI have the following code:\r\n\r\n    URL urlObject = new URL(url);\r\n    String userPassword = username + &quot;:&quot; + password;\r\n    String encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());\r\n     \r\n    HttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\r\n     \r\n    connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\r\n     \r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n     \r\n    String postParameters = &quot;X=&#39;xyz&#39;&quot;;\r\n    connection.setDoOutput(true);\r\n    \r\n    connection.connect();\r\n    DataOutputStream outputStreamToConnection = new DataOutputStream(\r\n    connection.getOutputStream());\r\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStreamToConnection, &quot;ISO-8859-1&quot;));\r\n    writer.write(postParameters);\r\n    writer.close();\r\n    outputStreamToConnection.flush();\r\n    outputStreamToConnection.close();\r\n    \r\n    int responseCode = connection.getResponseCode();\r\n\r\nAnyone any idea what causes the first reject of the Tomcat? I logged my header-requests and the headers are the same for first and second request...\r\n\r\nIt looks like the client would cache something. It is running on an SAP AS Java server. Hope anybody experienced the same problem. :)\r\nThanks \r\nBen","title":"HTTP Basic Auth using HttpURLConnection - Fails the first time","body":"<p>I am completely lost. I try to authenticate using HTTP Basic Auth to a Tomcat 7.0.54 to get a resource.</p>\n<p>The first time of a day that I try to connect I get a 401. The rest of the day I will get the resource. Even if I restart the Tomcat, I will get the resource with the first request. I can not restart the client...</p>\n<p>I have the following code:</p>\n<pre><code>URL urlObject = new URL(url);\nString userPassword = username + &quot;:&quot; + password;\nString encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());\n \nHttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\n \nconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\n \nconnection.setRequestMethod(&quot;POST&quot;);\n \nString postParameters = &quot;X='xyz'&quot;;\nconnection.setDoOutput(true);\n\nconnection.connect();\nDataOutputStream outputStreamToConnection = new DataOutputStream(\nconnection.getOutputStream());\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStreamToConnection, &quot;ISO-8859-1&quot;));\nwriter.write(postParameters);\nwriter.close();\noutputStreamToConnection.flush();\noutputStreamToConnection.close();\n\nint responseCode = connection.getResponseCode();\n</code></pre>\n<p>Anyone any idea what causes the first reject of the Tomcat? I logged my header-requests and the headers are the same for first and second request...</p>\n<p>It looks like the client would cache something. It is running on an SAP AS Java server. Hope anybody experienced the same problem. :)\nThanks\nBen</p>\n"},{"tags":["java","image","graphics","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1585866042,"post_id":61002012,"comment_id":107923225,"body_markdown":"Create a new `BufferedImage`, fill it&#39;s background with the desired color and then draw the image over the top of it","body":"Create a new <code>BufferedImage</code>, fill it&#39;s background with the desired color and then draw the image over the top of it"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1585866080,"post_id":61002012,"comment_id":107923236,"body_markdown":"Oh, I&#39;d use `setColor` and `fillRect` instead, personally","body":"Oh, I&#39;d use <code>setColor</code> and <code>fillRect</code> instead, personally"},{"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"score":0,"creation_date":1585866805,"post_id":61002012,"comment_id":107923477,"body_markdown":"Should I use the drawImage() method to draw my image on top of the background?","body":"Should I use the drawImage() method to draw my image on top of the background?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689532876,"creation_date":1585866519,"answer_id":61002166,"question_id":61002012,"body_markdown":"1- Load your image\r\n\r\n    image = ImageIO.read(url) ;\r\n\r\n2- Create a new `BufferedImage` of the same size\r\n\r\n    BufferedImage background =\r\n        new BufferedImage(\r\n            image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_RGB\r\n        );\r\n\r\n3- Fill the `background` image with the desired color\r\n\r\n    Graphics2D g2d = background.createGraphics();\r\n    g2d.setColor(Color.WHITE);\r\n    g2d.fillRect(0, 0, background.getWidth(), background.getHeight());\r\n\r\n4- Draw the original image onto the background...\r\n\r\n    g2d.drawImage(image, 0, 0, null);\r\n    g2d.dispose();\r\n\r\n`background` is now filled with the desired color and has the image painted on top o it.","title":"Java change background color png image","body":"<p>1- Load your image</p>\n<pre><code>image = ImageIO.read(url) ;\n</code></pre>\n<p>2- Create a new <code>BufferedImage</code> of the same size</p>\n<pre><code>BufferedImage background =\n    new BufferedImage(\n        image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_RGB\n    );\n</code></pre>\n<p>3- Fill the <code>background</code> image with the desired color</p>\n<pre><code>Graphics2D g2d = background.createGraphics();\ng2d.setColor(Color.WHITE);\ng2d.fillRect(0, 0, background.getWidth(), background.getHeight());\n</code></pre>\n<p>4- Draw the original image onto the background...</p>\n<pre><code>g2d.drawImage(image, 0, 0, null);\ng2d.dispose();\n</code></pre>\n<p><code>background</code> is now filled with the desired color and has the image painted on top o it.</p>\n"}],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61002166,"answer_count":1,"score":0,"last_activity_date":1689532876,"creation_date":1585865681,"question_id":61002012,"body_markdown":"I have been following some StackOverflow links using Graphics2D to change the background color of a BufferedImage. \r\n\r\nThe project I am working on requires that I read in a png image from a given url; the png image retrieved has a transparent background, and I would like to set it to white.\r\n\r\nHere is what I have:\r\n```\r\nString u = this.format() ;\r\n        BufferedImage image = null ;\r\n        try{\r\n            URL url = new URL(u) ;\r\n            image = ImageIO.read(url) ;\r\n            Graphics2D graphics = image.createGraphics() ;\r\n            graphics.setBackground(Color.WHITE) ;\r\n            graphics.clearRect(0, 0, image.getWidth(), image.getHeight()) ;\r\n            \r\n            \r\n            ImageIO.write(image, &quot;png&quot;, new File(outPath + fileName)) ;\r\n            graphics.dispose() ;\r\n\r\n        }\r\n        catch(IOException e){\r\n            e.printStackTrace() ;\r\n        }\r\n```\r\n\r\nThe problem I am running into is that when I view the image, the image appears as a solid white box. Apparently I have overlaid a white background on top of the existing image that I retrieved. \r\n\r\nHow can I preserve the original image and only change the background? Or set the background first and then overlay the retrieved image?","title":"Java change background color png image","body":"<p>I have been following some StackOverflow links using Graphics2D to change the background color of a BufferedImage. </p>\n\n<p>The project I am working on requires that I read in a png image from a given url; the png image retrieved has a transparent background, and I would like to set it to white.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>String u = this.format() ;\n        BufferedImage image = null ;\n        try{\n            URL url = new URL(u) ;\n            image = ImageIO.read(url) ;\n            Graphics2D graphics = image.createGraphics() ;\n            graphics.setBackground(Color.WHITE) ;\n            graphics.clearRect(0, 0, image.getWidth(), image.getHeight()) ;\n\n\n            ImageIO.write(image, \"png\", new File(outPath + fileName)) ;\n            graphics.dispose() ;\n\n        }\n        catch(IOException e){\n            e.printStackTrace() ;\n        }\n</code></pre>\n\n<p>The problem I am running into is that when I view the image, the image appears as a solid white box. Apparently I have overlaid a white background on top of the existing image that I retrieved. </p>\n\n<p>How can I preserve the original image and only change the background? Or set the background first and then overlay the retrieved image?</p>\n"},{"tags":["java","eclipse","junit","junit4","module-info"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689534768,"post_id":76699824,"comment_id":135223677,"body_markdown":"See [&quot;The package java.sql is not accessible.&quot; in eclipse](https://stackoverflow.com/q/65273632). You need to `require` the modules you are using in your `module-info.java`. You cannot use any modules you don&#39;t `require`. See also https://dev.java/learn/modules/ for in-depth information about modules.","body":"See <a href=\"https://stackoverflow.com/q/65273632\">&quot;The package java.sql is not accessible.&quot; in eclipse</a>. You need to <code>require</code> the modules you are using in your <code>module-info.java</code>. You cannot use any modules you don&#39;t <code>require</code>. See also <a href=\"https://dev.java/learn/modules/\" rel=\"nofollow noreferrer\">dev.java/learn/modules</a> for in-depth information about modules."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1689590244,"post_id":76699824,"comment_id":135229983,"body_markdown":"No, this is not an Eclipse bug but how [`module-info.java`](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) works. In the mentioned question there is not even a `module-info.java` file. I guess you referring to [this wrong answer](https://stackoverflow.com/a/72731049/6505250). As long as you don&#39;t know what `module-info.java` does, delete it, if needed you can recreate it later via right-click on the project _Configure &gt; Create module-info.java_. I also recommend to use JUnit 5 rather than JUnit 4 when you start from scratch. Consider also to use Maven.","body":"No, this is not an Eclipse bug but how <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\"><code>module-info.java</code></a> works. In the mentioned question there is not even a <code>module-info.java</code> file. I guess you referring to <a href=\"https://stackoverflow.com/a/72731049/6505250\">this wrong answer</a>. As long as you don&#39;t know what <code>module-info.java</code> does, delete it, if needed you can recreate it later via right-click on the project <i>Configure &gt; Create module-info.java</i>. I also recommend to use JUnit 5 rather than JUnit 4 when you start from scratch. Consider also to use Maven."}],"owner":{"account_id":28897559,"reputation":1,"user_id":22133250,"display_name":"Signor Pizza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689532120,"creation_date":1689532120,"question_id":76699824,"body_markdown":"After a combination of Google / Stack Overflow searches I landed on this post which describes my exact problem:\r\n[StackOverflowQuestion](https://stackoverflow.com/questions/70071471/org-junit-test-is-not-accessible-in-eclipse)\r\n\r\nThe post defines this issue is an eclipse bug of version &#39;2022-06&#39;: my version, as you can see in the &#39;Details&#39; tab, comes exactly 1 year later, so I&#39;m wondering if there&#39;s something I&#39;m doing wrong, rather than there still being the same bug.\r\n\r\n**Details:**\r\n\r\n\\-MacOS Ventura on M2 Air\r\n\\-Using &#39;Eclipse IDE&#39;: &#39;About Eclipse&#39;:\r\n\r\nVersion: 2023-06 (4.28.0)\r\n\r\nBuild id: 20230608-1333\r\n\r\n**Steps to reproduce** (default preferences used)\r\n\r\nNew Java Project \\&gt; Finish (Project Name: &#39;TestProject&#39;)\r\n\r\n\\[selected+right-clicked &#39;src&#39; in &#39;Package Explorer&#39; view\\]: New \\&gt; Package (Name: &#39;test&#39;)\r\n\r\n\\[selected+right-clicked package &#39;test&#39;\\]: New \\&gt; Class (Name: &#39;CoolClass&#39;)\r\n\r\n\\[initial modified &#39;CoolClass&#39; code\\]:\r\n\r\n```\r\npackage test;\r\n\r\nimport org.junit.Assert;\r\n\r\npublic class CoolClass {\r\n\t@Test\r\n\tpublic void testMethod() {\r\n\t\tint i = 1;\r\n\t\tAssert.assertTrue(i == 1);\r\n\t}\r\n}\r\n```\r\n\r\nAs expected, there were errors since I hadn&#39;t added the &#39;Junit 4 Library&#39; to the build path.\r\nI then proceeded to do this by clicking the lightbulb icon which appeared next to the &#39;@Test&#39; snippet in the editor (as shown here: [Image](https://i.stack.imgur.com/W2Ik4.png)) and clicked on &#39;add JUnit 4 Library to the build path&#39;.\r\n\r\nDespite this, I continued to get these errors:[Errors](https://i.stack.imgur.com/h3eEd.png)\r\n\r\nAs stated in the Stack Overflow post I linked above, upon deleting the &#39;module-info.java&#39; file, these errors totally disappeared.\r\n\r\nMy questions are:\r\n\r\nIs this still a bug or am I missing something? (Surely it can&#39;t be since it&#39;s been roughly a year right?)\r\n\r\nIs having to delete the &#39;module-info.java&#39; file to use JUnit a problem when coding in java? (I&#39;m still learning to code in Java through the use of Eclipse, so don&#39;t have any experience on making a fully fledged &#39;Project&#39; yet with modules and everything)\r\n\r\nWhy does removing the &#39;module-info.java&#39; file tend to resolve certain issues? (I came across this phenomenon whilst reviewing possible duplicate questions proposed by Stack Overflow)","title":"Eclipse bug with JUnit and &#39;module-info.java&#39;?","body":"<p>After a combination of Google / Stack Overflow searches I landed on this post which describes my exact problem:\n<a href=\"https://stackoverflow.com/questions/70071471/org-junit-test-is-not-accessible-in-eclipse\">StackOverflowQuestion</a></p>\n<p>The post defines this issue is an eclipse bug of version '2022-06': my version, as you can see in the 'Details' tab, comes exactly 1 year later, so I'm wondering if there's something I'm doing wrong, rather than there still being the same bug.</p>\n<p><strong>Details:</strong></p>\n<p>-MacOS Ventura on M2 Air\n-Using 'Eclipse IDE': 'About Eclipse':</p>\n<p>Version: 2023-06 (4.28.0)</p>\n<p>Build id: 20230608-1333</p>\n<p><strong>Steps to reproduce</strong> (default preferences used)</p>\n<p>New Java Project &gt; Finish (Project Name: 'TestProject')</p>\n<p>[selected+right-clicked 'src' in 'Package Explorer' view]: New &gt; Package (Name: 'test')</p>\n<p>[selected+right-clicked package 'test']: New &gt; Class (Name: 'CoolClass')</p>\n<p>[initial modified 'CoolClass' code]:</p>\n<pre><code>package test;\n\nimport org.junit.Assert;\n\npublic class CoolClass {\n    @Test\n    public void testMethod() {\n        int i = 1;\n        Assert.assertTrue(i == 1);\n    }\n}\n</code></pre>\n<p>As expected, there were errors since I hadn't added the 'Junit 4 Library' to the build path.\nI then proceeded to do this by clicking the lightbulb icon which appeared next to the '@Test' snippet in the editor (as shown here: <a href=\"https://i.stack.imgur.com/W2Ik4.png\" rel=\"nofollow noreferrer\">Image</a>) and clicked on 'add JUnit 4 Library to the build path'.</p>\n<p>Despite this, I continued to get these errors:<a href=\"https://i.stack.imgur.com/h3eEd.png\" rel=\"nofollow noreferrer\">Errors</a></p>\n<p>As stated in the Stack Overflow post I linked above, upon deleting the 'module-info.java' file, these errors totally disappeared.</p>\n<p>My questions are:</p>\n<p>Is this still a bug or am I missing something? (Surely it can't be since it's been roughly a year right?)</p>\n<p>Is having to delete the 'module-info.java' file to use JUnit a problem when coding in java? (I'm still learning to code in Java through the use of Eclipse, so don't have any experience on making a fully fledged 'Project' yet with modules and everything)</p>\n<p>Why does removing the 'module-info.java' file tend to resolve certain issues? (I came across this phenomenon whilst reviewing possible duplicate questions proposed by Stack Overflow)</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":11091407,"reputation":152,"user_id":8143136,"display_name":"Sidnio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687517924,"creation_date":1687517924,"answer_id":76539446,"question_id":76539028,"body_markdown":" \r\n\r\n   **I didn&#39;t get any null exceptions when I ran it**\r\n    \r\n\r\n\r\n    import android.content.Context\r\n    import android.os.Build\r\n    import android.os.Build.VERSION_CODES.M\r\n    import android.os.Bundle\r\n    import android.telephony.SmsManager\r\n    import android.util.Log\r\n    import android.widget.TextView\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val textView = TextView(applicationContext)\r\n    \r\n            getSmsManagerForSubscriptionId(applicationContext, 1)\r\n            Log.d(&quot;smsManager1 &quot;, &quot;succeed&quot;)\r\n            getSmsManagerForSubscriptionId(textView.context, 2)\r\n            Log.d(&quot;smsManager2&quot;, &quot;succeed&quot;)\r\n    \r\n        }\r\n        \r\n        private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\r\n            val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\r\n                context.getSystemService(SmsManager::class.java) as SmsManager\r\n            } else {\r\n                TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\r\n            }\r\n            val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                smsManager.createForSubscriptionId(subsId)\r\n            } else {\r\n                TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\r\n            }\r\n            return smsManagerInstanceForSubsId\r\n        }\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Xrty.png\r\n  [2]: https://i.stack.imgur.com/LHDWS.png","title":"How to create an instance of smsManager in kotlin with the given context of an activity?","body":"<p><strong>I didn't get any null exceptions when I ran it</strong></p>\n<pre><code>import android.content.Context\nimport android.os.Build\nimport android.os.Build.VERSION_CODES.M\nimport android.os.Bundle\nimport android.telephony.SmsManager\nimport android.util.Log\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val textView = TextView(applicationContext)\n\n        getSmsManagerForSubscriptionId(applicationContext, 1)\n        Log.d(&quot;smsManager1 &quot;, &quot;succeed&quot;)\n        getSmsManagerForSubscriptionId(textView.context, 2)\n        Log.d(&quot;smsManager2&quot;, &quot;succeed&quot;)\n\n    }\n    \n    private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\n            context.getSystemService(SmsManager::class.java) as SmsManager\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\n        }\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            smsManager.createForSubscriptionId(subsId)\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\n        }\n        return smsManagerInstanceForSubsId\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8Xrty.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Xrty.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LHDWS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LHDWS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19350269,"reputation":1,"user_id":14147867,"display_name":"Harsh Vardhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689531709,"creation_date":1687514448,"question_id":76539028,"body_markdown":"```\r\nprivate fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\r\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\r\n            context.getSystemService(SmsManager::class.java) as SmsManager\r\n        } else {\r\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\r\n        }\r\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            smsManager.createForSubscriptionId(subsId)\r\n        } else {\r\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\r\n        }\r\n        return smsManagerInstanceForSubsId\r\n    }\r\n```\r\n\r\n I am using above code to create an smsManager Instance but the code is showing error at \r\n\r\n```\r\ncontext.getSystemService(SmsManager::class.java) as SmsManager\r\n```\r\n\r\nbelow is the error it is showing \r\n\r\nCannot cast null object to non-null object.","title":"How to create an instance of smsManager in kotlin with the given context of an activity?","body":"<pre><code>private fun getSmsManagerForSubscriptionId(context: Context, subsId: Int): SmsManager {\n        val smsManager = if (Build.VERSION.SDK_INT &gt;= M) {\n            context.getSystemService(SmsManager::class.java) as SmsManager\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; M&quot;)\n        }\n        val smsManagerInstanceForSubsId = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            smsManager.createForSubscriptionId(subsId)\n        } else {\n            TODO(&quot;VERSION.SDK_INT &lt; S&quot;)\n        }\n        return smsManagerInstanceForSubsId\n    }\n</code></pre>\n<p>I am using above code to create an smsManager Instance but the code is showing error at</p>\n<pre><code>context.getSystemService(SmsManager::class.java) as SmsManager\n</code></pre>\n<p>below is the error it is showing</p>\n<p>Cannot cast null object to non-null object.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9687,"page":305,"page_size":100}
