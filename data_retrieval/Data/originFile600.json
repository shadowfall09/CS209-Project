{"items":[{"tags":["java","eclipse","openfire"],"comments":[{"owner":{"account_id":1254231,"reputation":2707,"user_id":1214055,"accept_rate":25,"display_name":"bsd"},"score":0,"creation_date":1393085537,"post_id":21884378,"comment_id":33266282,"body_markdown":"When you hit the breakpoint, Eclipse probably shows a .class file. You can attach the source directory(provided you have imported the source as another eclipse project).","body":"When you hit the breakpoint, Eclipse probably shows a .class file. You can attach the source directory(provided you have imported the source as another eclipse project)."}],"answers":[{"comments":[{"owner":{"account_id":121164,"reputation":1761,"user_id":314051,"accept_rate":82,"display_name":"stdout"},"score":0,"creation_date":1393420936,"post_id":21960252,"comment_id":33419208,"body_markdown":"Excellent response. Although these suggestions didn&#39;t resolve my issue it helped me to understand how Eclipse works in this regard.","body":"Excellent response. Although these suggestions didn&#39;t resolve my issue it helped me to understand how Eclipse works in this regard."}],"tags":[],"owner":{"account_id":3964157,"reputation":8643,"user_id":3270595,"accept_rate":75,"display_name":"Balder"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1393134921,"creation_date":1393101669,"answer_id":21960252,"question_id":21884378,"body_markdown":"Personally, I have no good experience in Eclipse JDT, when adding a source folder at the time it hits a break point. What I always prefer to do, is adding the source folder before debugging:\r\n\r\n 1. Select Project/Properties/Libraries\r\n 2. Select your library and &quot;edit...&quot; the [source attachment][1]\r\n 3. Select either the corresponding source folder or the zip/jar containing the package\r\n\r\nAfter that, **you should be able to open the source files** in the virtual &quot;Referenced Libraries&quot; folder (directly below the &quot;JRE System Library&quot; folder inside the project), or when opening a reference to a linked class file from within the JDT editor. If you are able to access the source, then you should also be able to at least stop at the break point and see the corresponding source.\r\n\r\nElse, you will have to check again, if the source folder is really valid: The source folder or source archive must contain the folder with the name of the root package of the library (e.g. the default Java  &quot;src.zip&quot; inside the JDK folder also includes a corresponding &quot;java&quot; folder at its root). When in doubt, **extract the archive and select the parent folder** of the package you are interested in - sometimes source archives might be a mess or incompatible to JDT.\r\n\r\nIf this has been assured and it still doesn&#39;t work, chances are, that your linked source folder does not correspond to the compiled version of the library. Usually JDT will handle such inconsistencies fine, but if you try to open a source file, that is entirely different than the corresponding class file, you will encounter problems. In this case I would suggest either downloading the correct source version of the library, or **recompiling the library from the source**, if all else fails.\r\n\r\nIf opening a referenced source file from withing the JDT editor does work fine, and you are still unable to open the source files when a break point is entered during debugging, then most likely the class files are [missing the line numbers][2] of the corresponding source file. Again, you will have to recompile the library from the source in this case.\r\n\r\nFinally, it is also possible to overwrite the default source lookup by specifying source folders or archives in the source tab of the launch configuration. But you should normally not need to do this, when your build path is configured correctly. From the [Eclipse Help][3]:\r\n\r\n&gt; The Source tab defines the location of source files used to display source when debugging a Java application. By default, these settings are derived from the associated project&#39;s build path. You may override these settings here.\r\n\r\n\r\n  [1]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-properties-source-attachment.htm\r\n  [2]: https://stackoverflow.com/questions/957822/eclipse-unable-to-install-breakpoint-due-to-missing-line-number-attributes\r\n  [3]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-java-local-configuration.htm","title":"Eclipse - Source not found","body":"<p>Personally, I have no good experience in Eclipse JDT, when adding a source folder at the time it hits a break point. What I always prefer to do, is adding the source folder before debugging:</p>\n\n<ol>\n<li>Select Project/Properties/Libraries</li>\n<li>Select your library and \"edit...\" the <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-properties-source-attachment.htm\" rel=\"nofollow noreferrer\">source attachment</a></li>\n<li>Select either the corresponding source folder or the zip/jar containing the package</li>\n</ol>\n\n<p>After that, <strong>you should be able to open the source files</strong> in the virtual \"Referenced Libraries\" folder (directly below the \"JRE System Library\" folder inside the project), or when opening a reference to a linked class file from within the JDT editor. If you are able to access the source, then you should also be able to at least stop at the break point and see the corresponding source.</p>\n\n<p>Else, you will have to check again, if the source folder is really valid: The source folder or source archive must contain the folder with the name of the root package of the library (e.g. the default Java  \"src.zip\" inside the JDK folder also includes a corresponding \"java\" folder at its root). When in doubt, <strong>extract the archive and select the parent folder</strong> of the package you are interested in - sometimes source archives might be a mess or incompatible to JDT.</p>\n\n<p>If this has been assured and it still doesn't work, chances are, that your linked source folder does not correspond to the compiled version of the library. Usually JDT will handle such inconsistencies fine, but if you try to open a source file, that is entirely different than the corresponding class file, you will encounter problems. In this case I would suggest either downloading the correct source version of the library, or <strong>recompiling the library from the source</strong>, if all else fails.</p>\n\n<p>If opening a referenced source file from withing the JDT editor does work fine, and you are still unable to open the source files when a break point is entered during debugging, then most likely the class files are <a href=\"https://stackoverflow.com/questions/957822/eclipse-unable-to-install-breakpoint-due-to-missing-line-number-attributes\">missing the line numbers</a> of the corresponding source file. Again, you will have to recompile the library from the source in this case.</p>\n\n<p>Finally, it is also possible to overwrite the default source lookup by specifying source folders or archives in the source tab of the launch configuration. But you should normally not need to do this, when your build path is configured correctly. From the <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-java-local-configuration.htm\" rel=\"nofollow noreferrer\">Eclipse Help</a>:</p>\n\n<blockquote>\n  <p>The Source tab defines the location of source files used to display source when debugging a Java application. By default, these settings are derived from the associated project's build path. You may override these settings here.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3920722,"reputation":5994,"user_id":3242978,"accept_rate":100,"display_name":"jmail"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568322813,"creation_date":1393405203,"answer_id":22036329,"question_id":21884378,"body_markdown":"I had this very annoying problem for a long time but was finally able to solve it. In my case, a null pointer exception was being thrown somewhere in Java&#39;s Transformer.IsRuntimeCode(ProtectionDomain) function.\r\n\r\nI didn&#39;t really need to know about this since the exception was being caught and handled, but eclipse would pause debugging every time this happened and tell me that the source wasn&#39;t available. As a result, I constantly had to keep pressing the button to continue code execution.\r\n\r\nIn order to prevent this from happening, I:\r\n\r\n     1. Clicked on the &quot;Breakpoints&quot; window at the bottom of the debugging\r\n        screen\r\n     2. Right clicked &quot;NullPointerException&quot;\r\n     3. Unchecked &quot;Caught&quot;\r\n\r\nThis prevented the debugger from pausing program flow during a caught NullPointerException.alt text\r\n\r\n\r\n[![alt text][1]][1]  \n&lt;sub&gt;(source: [SharpDetail.com](http://www.SharpDetail.com/p/so_breakpoint.gif))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HkkeD.gif\r\n\r\nAnd this another one as:\r\n\r\nEclipse doesn&#39;t crash. You&#39;re trying to step into a method, where eclipse doesn&#39;t know where to find the source (*.java) files and informs you about this. Here is how to tell eclipse where to look. Go to\r\n\r\n    Window-&gt;Preferences-&gt;Java-&gt;Installed JREs,select the JRE you are using and click Edit.\r\n\r\nThere, select all of the jar files in the list you see and and click Source Attachment....\r\n\r\nIn the window that shows up, select the fille src.zip, which is in your JDK folder (if you didn&#39;t uncheck it while installing the JDK). On the machine I&#39;m on right now, that is\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_07\\src.zip.\r\n\r\nSave all your changes (possibly restart eclipse) and you won&#39;t see that error again. \r\n\r\n\r\n\r\n","title":"Eclipse - Source not found","body":"<p>I had this very annoying problem for a long time but was finally able to solve it. In my case, a null pointer exception was being thrown somewhere in Java's Transformer.IsRuntimeCode(ProtectionDomain) function.</p>\n\n<p>I didn't really need to know about this since the exception was being caught and handled, but eclipse would pause debugging every time this happened and tell me that the source wasn't available. As a result, I constantly had to keep pressing the button to continue code execution.</p>\n\n<p>In order to prevent this from happening, I:</p>\n\n<pre><code> 1. Clicked on the \"Breakpoints\" window at the bottom of the debugging\n    screen\n 2. Right clicked \"NullPointerException\"\n 3. Unchecked \"Caught\"\n</code></pre>\n\n<p>This prevented the debugger from pausing program flow during a caught NullPointerException.alt text</p>\n\n<p><a href=\"https://i.stack.imgur.com/HkkeD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HkkeD.gif\" alt=\"alt text\"></a><br>\n<sub>(source: <a href=\"http://www.SharpDetail.com/p/so_breakpoint.gif\" rel=\"nofollow noreferrer\">SharpDetail.com</a>)</sub>  </p>\n\n<p>And this another one as:</p>\n\n<p>Eclipse doesn't crash. You're trying to step into a method, where eclipse doesn't know where to find the source (*.java) files and informs you about this. Here is how to tell eclipse where to look. Go to</p>\n\n<pre><code>Window-&gt;Preferences-&gt;Java-&gt;Installed JREs,select the JRE you are using and click Edit.\n</code></pre>\n\n<p>There, select all of the jar files in the list you see and and click Source Attachment....</p>\n\n<p>In the window that shows up, select the fille src.zip, which is in your JDK folder (if you didn't uncheck it while installing the JDK). On the machine I'm on right now, that is</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_07\\src.zip.\n</code></pre>\n\n<p>Save all your changes (possibly restart eclipse) and you won't see that error again. </p>\n"},{"tags":[],"owner":{"account_id":121164,"reputation":1761,"user_id":314051,"accept_rate":82,"display_name":"stdout"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1393420772,"creation_date":1393420772,"answer_id":22042656,"question_id":21884378,"body_markdown":"Well it turns out the solution was anticlimactic. When Balder&#39;s recommendations did not work I tried debugging one of the stock OpenFire plugins and it worked just fine. I then created a new plugin from scratch, and by doing nothing other than adding the source to the project (Right-click on the project -&gt; New -&gt; Source Folder)  it also worked just fine. I have no idea why Eclipse refuses to see the source for my original plugin, but I moved all my code and libraries over to the new plugin and debugging is working as expected. ","title":"Eclipse - Source not found","body":"<p>Well it turns out the solution was anticlimactic. When Balder's recommendations did not work I tried debugging one of the stock OpenFire plugins and it worked just fine. I then created a new plugin from scratch, and by doing nothing other than adding the source to the project (Right-click on the project -> New -> Source Folder)  it also worked just fine. I have no idea why Eclipse refuses to see the source for my original plugin, but I moved all my code and libraries over to the new plugin and debugging is working as expected. </p>\n"},{"tags":[],"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415182216,"creation_date":1415182216,"answer_id":26754438,"question_id":21884378,"body_markdown":"Many times you put jar files in eclipse IDE as referenced libraries when binary version of application was downloaded. Usually done so by configuring the build path. But the binary does not have the source files. You have Binary version and source version of application.\r\n\r\nOne simple way is to download the source libraries that you also use maven to build the project. \r\nKeep somehwere, may be inside your project workspace. \r\n\r\nNow while seeing the class file (from eclipse, jar exploded) you may see the source not found, fine.... there is a button below and click on that, a new window opens and there select add external folder.\r\n\r\nReference it to the src folder of the source you downloaded(not the binary one) and kept somewhere as said above and it will show the class details from that.","title":"Eclipse - Source not found","body":"<p>Many times you put jar files in eclipse IDE as referenced libraries when binary version of application was downloaded. Usually done so by configuring the build path. But the binary does not have the source files. You have Binary version and source version of application.</p>\n\n<p>One simple way is to download the source libraries that you also use maven to build the project. \nKeep somehwere, may be inside your project workspace. </p>\n\n<p>Now while seeing the class file (from eclipse, jar exploded) you may see the source not found, fine.... there is a button below and click on that, a new window opens and there select add external folder.</p>\n\n<p>Reference it to the src folder of the source you downloaded(not the binary one) and kept somewhere as said above and it will show the class details from that.</p>\n"},{"tags":[],"owner":{"account_id":12650049,"reputation":1,"user_id":9194528,"display_name":"fr0g88"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563879006,"creation_date":1563878653,"answer_id":57162321,"question_id":21884378,"body_markdown":"I fixed this issue with doing the following:\r\n\r\nClick at the menu Window - Preferences - Debug - Step Filtering And check all the packages like the following image.\r\n\r\n[(Step Filtering)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CD2Rv.png\r\n\r\nThen, debug again your project and thats it.\r\n\r\nBest regards,","title":"Eclipse - Source not found","body":"<p>I fixed this issue with doing the following:</p>\n\n<p>Click at the menu Window - Preferences - Debug - Step Filtering And check all the packages like the following image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CD2Rv.png\" rel=\"nofollow noreferrer\">(Step Filtering)</a></p>\n\n<p>Then, debug again your project and thats it.</p>\n\n<p>Best regards,</p>\n"},{"tags":[],"owner":{"account_id":13830191,"reputation":1,"user_id":10105849,"display_name":"Leonel L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583411145,"creation_date":1583410826,"answer_id":60545295,"question_id":21884378,"body_markdown":"In my case, I had a breakpoint in the class declaration. I mean in the next line. \r\n\r\n[public class GenerateInterface implements JavaCall {][1]\r\n\r\nSo, the debugger stopped in that line and showed the following message:\r\n\r\nSource not found\r\n\r\nI think unconsciously activate the breakpoint in that line.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RwPdX.png","title":"Eclipse - Source not found","body":"<p>In my case, I had a breakpoint in the class declaration. I mean in the next line. </p>\n\n<p><a href=\"https://i.stack.imgur.com/RwPdX.png\" rel=\"nofollow noreferrer\">public class GenerateInterface implements JavaCall {</a></p>\n\n<p>So, the debugger stopped in that line and showed the following message:</p>\n\n<p>Source not found</p>\n\n<p>I think unconsciously activate the breakpoint in that line.</p>\n"},{"tags":[],"owner":{"account_id":8953429,"reputation":101,"user_id":6678690,"display_name":"PhuocThua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678091896,"creation_date":1678091896,"answer_id":75648639,"question_id":21884378,"body_markdown":"In my case, I got source not found when debug using TestNG and Selenium Java. The testcase with @Test method failed to find element but can&#39;t find exception to throw and tell me &quot;source not found&quot; at TextInvoker.invokeMethod.\r\n\r\nI fixed by downgraded TestNG from 6.14.3 to 6.11\r\nThen I added two more libraries that are Maven dependencies and TestNG.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mhbhP.jpg\r\n\r\nThen I restart Eclipse and debug again. This time, the debugging stops at some TestNG method. I kept pressing F7 until it&#39;s over. Then I check in TestNG report and found the error (element not interatable).\r\n\r\nHope this can help you in your case!","title":"Eclipse - Source not found","body":"<p>In my case, I got source not found when debug using TestNG and Selenium Java. The testcase with @Test method failed to find element but can't find exception to throw and tell me &quot;source not found&quot; at TextInvoker.invokeMethod.</p>\n<p>I fixed by downgraded TestNG from 6.14.3 to 6.11\nThen I added two more libraries that are Maven dependencies and TestNG.\n<a href=\"https://i.stack.imgur.com/mhbhP.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Then I restart Eclipse and debug again. This time, the debugging stops at some TestNG method. I kept pressing F7 until it's over. Then I check in TestNG report and found the error (element not interatable).</p>\n<p>Hope this can help you in your case!</p>\n"}],"owner":{"account_id":121164,"reputation":1761,"user_id":314051,"accept_rate":82,"display_name":"stdout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30743,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22042656,"answer_count":7,"score":10,"last_activity_date":1678091896,"creation_date":1392822294,"question_id":21884378,"body_markdown":"I know this question has been asked many times before, but none of the proposed solutions resolve my issue (or I&#39;m not implementing them correctly). \r\n\r\nI&#39;m developing a plugin for OpenFire, and when I set a breakpoint in my plugin source Eclipse reports &quot;Source not found&quot;. The JAR is built separate from the build of the OpenFire server. I&#39;ve tried adding the JAR and specifying the source code directory, but no dice. \r\n\r\nHere&#39;s the process I&#39;m following: When I hit my breakpoint I&#39;m clicking &quot;Edit Source Lookup Path&quot;, clicking &quot;Add&quot;, Java Library, User Library, click User Libraries, adding my library (tried both &quot;Add JARs&quot; and &quot;Add External JARs&quot;), and then specifying the folder that contains the source code. I&#39;ve also tried:\r\n\r\n- Adding the source by selecting &quot;File System Directory&quot; instead of &quot;Java Library&quot;\r\n- Adding it by selecting &quot;Workspace Folder&quot;\r\n- In the Project Explorer, adding the source for my plugin to the Java Build Path\r\n- In the Project Explorer, adding my JAR as a Library and specifying the Source attachment\r\n\r\nThanks in advance for any suggestions.\r\n","title":"Eclipse - Source not found","body":"<p>I know this question has been asked many times before, but none of the proposed solutions resolve my issue (or I'm not implementing them correctly). </p>\n\n<p>I'm developing a plugin for OpenFire, and when I set a breakpoint in my plugin source Eclipse reports \"Source not found\". The JAR is built separate from the build of the OpenFire server. I've tried adding the JAR and specifying the source code directory, but no dice. </p>\n\n<p>Here's the process I'm following: When I hit my breakpoint I'm clicking \"Edit Source Lookup Path\", clicking \"Add\", Java Library, User Library, click User Libraries, adding my library (tried both \"Add JARs\" and \"Add External JARs\"), and then specifying the folder that contains the source code. I've also tried:</p>\n\n<ul>\n<li>Adding the source by selecting \"File System Directory\" instead of \"Java Library\"</li>\n<li>Adding it by selecting \"Workspace Folder\"</li>\n<li>In the Project Explorer, adding the source for my plugin to the Java Build Path</li>\n<li>In the Project Explorer, adding my JAR as a Library and specifying the Source attachment</li>\n</ul>\n\n<p>Thanks in advance for any suggestions.</p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":14353975,"reputation":1297,"user_id":10368507,"display_name":"Priyak Dey"},"score":0,"creation_date":1678091328,"post_id":75648416,"comment_id":133459259,"body_markdown":"Hey, this is a very open question. A good question always is about what you have tried and what did not work. A reference can be found here : https://stackoverflow.com/help/how-to-ask","body":"Hey, this is a very open question. A good question always is about what you have tried and what did not work. A reference can be found here : <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":27428753,"reputation":7,"user_id":20925806,"display_name":"V.T"},"score":0,"creation_date":1678091751,"post_id":75648416,"comment_id":133459368,"body_markdown":"Hello, yes I understand. Somehow I got an answer right away since the question was for a particular problem but not broad.","body":"Hello, yes I understand. Somehow I got an answer right away since the question was for a particular problem but not broad."}],"answers":[{"comments":[{"owner":{"account_id":27428753,"reputation":7,"user_id":20925806,"display_name":"V.T"},"score":0,"creation_date":1678091040,"post_id":75648474,"comment_id":133459180,"body_markdown":"Can it be a class instead of a record?","body":"Can it be a class instead of a record?"},{"owner":{"account_id":17161337,"reputation":606,"user_id":12420917,"display_name":"Tamzid Ahmed"},"score":0,"creation_date":1678091061,"post_id":75648474,"comment_id":133459186,"body_markdown":"yes. of course.","body":"yes. of course."}],"tags":[],"owner":{"account_id":17161337,"reputation":606,"user_id":12420917,"display_name":"Tamzid Ahmed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678091111,"creation_date":1678090583,"answer_id":75648474,"question_id":75648416,"body_markdown":"You can use ApplicationReadyEvent listener. Whenever the application will start it will execute one time. Make sure the record / class should be a component.\r\n\r\n    @Component\r\n    public record AppStartupRunner() {\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void init() throws IOException {\r\n           // call your post method here\r\n        }\r\n    }","title":"RESTful POST method when Spring Boot application starts","body":"<p>You can use ApplicationReadyEvent listener. Whenever the application will start it will execute one time. Make sure the record / class should be a component.</p>\n<pre><code>@Component\npublic record AppStartupRunner() {\n    @EventListener(ApplicationReadyEvent.class)\n    public void init() throws IOException {\n       // call your post method here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14353975,"reputation":1297,"user_id":10368507,"display_name":"Priyak Dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678091755,"creation_date":1678091755,"answer_id":75648621,"question_id":75648416,"body_markdown":"You can do this in a couple of ways:\r\n - Use an `EventListner` Handler (this is what I prefer)\r\n - Create a `Configuration` with a `@PostConstruct` which has the logic - this is something I don&#39;t prefer cause it might not always be the one to run post-startup, and in this case, we need `RestTemplate` so we need to think of `Order` of our configuration class, which I think we should tend to avoid as much as possible.\r\n\r\nFor `EventListener`, you can have the below Component which executes on the `ApplicationStartedEvent`.\r\n\r\n```java\r\n@Component\r\npublic class AppStartupEventHandler {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AppStartupEventHandler.class);\r\n\r\n    @EventListener\r\n    public void onApplicationStartUp(ApplicationStartedEvent event) {\r\n        // Have your start business here - or better delegate\r\n        LOGGER.info(&quot;This is triggered post startup&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMore details can be found [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-events-and-listeners) in the official docs","title":"RESTful POST method when Spring Boot application starts","body":"<p>You can do this in a couple of ways:</p>\n<ul>\n<li>Use an <code>EventListner</code> Handler (this is what I prefer)</li>\n<li>Create a <code>Configuration</code> with a <code>@PostConstruct</code> which has the logic - this is something I don't prefer cause it might not always be the one to run post-startup, and in this case, we need <code>RestTemplate</code> so we need to think of <code>Order</code> of our configuration class, which I think we should tend to avoid as much as possible.</li>\n</ul>\n<p>For <code>EventListener</code>, you can have the below Component which executes on the <code>ApplicationStartedEvent</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AppStartupEventHandler {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AppStartupEventHandler.class);\n\n    @EventListener\n    public void onApplicationStartUp(ApplicationStartedEvent event) {\n        // Have your start business here - or better delegate\n        LOGGER.info(&quot;This is triggered post startup&quot;);\n    }\n\n}\n</code></pre>\n<p>More details can be found <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-events-and-listeners\" rel=\"nofollow noreferrer\">here</a> in the official docs</p>\n"}],"owner":{"account_id":27428753,"reputation":7,"user_id":20925806,"display_name":"V.T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75648621,"answer_count":2,"score":-2,"last_activity_date":1678091755,"creation_date":1678090218,"question_id":75648416,"body_markdown":"I need to send a JSON file to API that receives it and processes further. The main issue I&#39;m having is initializing that POST method at application startup. I&#39;ve created the JSON files, so only that is left over is to activate POST method when the application starts.\r\nI know this is for demonstrating purposes but still haven&#39;t found anything like that in Springs documentation. \r\n\r\nBasically when the SpringBoot application is run, the first thing that it does is call a post method and sends those JSON files to API. Any ideas?","title":"RESTful POST method when Spring Boot application starts","body":"<p>I need to send a JSON file to API that receives it and processes further. The main issue I'm having is initializing that POST method at application startup. I've created the JSON files, so only that is left over is to activate POST method when the application starts.\nI know this is for demonstrating purposes but still haven't found anything like that in Springs documentation.</p>\n<p>Basically when the SpringBoot application is run, the first thing that it does is call a post method and sends those JSON files to API. Any ideas?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18086583,"reputation":61,"user_id":13147352,"display_name":"Kudret Batuhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678087530,"creation_date":1678087407,"answer_id":75648084,"question_id":75648018,"body_markdown":"    public String replaceText(String input, String replacement) {\r\n        String patternString = &quot;\\\\s*&quot; + Pattern.quote(replacement) + &quot;\\\\s*&quot;;\r\n        return input.replaceAll(patternString, &quot; &quot;).trim();\r\n    }","title":"Replace a term in a text without leaving a whitespace","body":"<pre><code>public String replaceText(String input, String replacement) {\n    String patternString = &quot;\\\\s*&quot; + Pattern.quote(replacement) + &quot;\\\\s*&quot;;\n    return input.replaceAll(patternString, &quot; &quot;).trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16852728,"reputation":1,"user_id":21335093,"display_name":"Vlad Lavrovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678090039,"creation_date":1678090039,"answer_id":75648401,"question_id":75648018,"body_markdown":"You can chain replaceAll&#39;s. It is often easier to read when they are fragmented. \r\n    \r\nString result = &quot;Hello (A) World&quot;.replaceAll(&quot;\\\\(A\\\\)&quot;, &quot;&quot;).replaceAll(&quot;  &quot;, &quot; &quot;);","title":"Replace a term in a text without leaving a whitespace","body":"<p>You can chain replaceAll's. It is often easier to read when they are fragmented.</p>\n<p>String result = &quot;Hello (A) World&quot;.replaceAll(&quot;\\(A\\)&quot;, &quot;&quot;).replaceAll(&quot;  &quot;, &quot; &quot;);</p>\n"},{"tags":[],"owner":{"account_id":27945097,"reputation":1,"user_id":21340257,"display_name":"AZoG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678091634,"creation_date":1678091461,"answer_id":75648579,"question_id":75648018,"body_markdown":"```\r\npublic String replaceText(String input, String replacement) {\r\n        return input.replace(input.contains(replacement + &quot; &quot;) ? replacement + &quot; &quot; : replacement, &quot;&quot;);\r\n}","title":"Replace a term in a text without leaving a whitespace","body":"<pre><code>public String replaceText(String input, String replacement) {\n        return input.replace(input.contains(replacement + &quot; &quot;) ? replacement + &quot; &quot; : replacement, &quot;&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678118343,"accepted_answer_id":75648084,"answer_count":3,"score":0,"last_activity_date":1678091634,"creation_date":1678086932,"question_id":75648018,"body_markdown":"I have an input text and a searchterm.\r\n\r\nintput = &quot;Hello (A) World&quot;\r\nsearchTerm = &quot;(A)&quot;;\r\n\r\nI want to write a method that remove the searchTerm from input.\r\n\r\nMy code.\r\n\r\n        public String replaceText(String input, String replacement) {\r\n          return input.replaceAll(Pattern.quote(replacement), &quot;&quot;);\r\n         }\r\n\r\n        String result = replaceText(&quot;Hello (A) World&quot;, &quot;(A)&quot;);\r\n        System.out.println(result);\r\n\r\nThe result here is &quot;Hello__World&quot; with two whitespace. How I can modify my method to have a result &quot;Hello World&quot;. With no extra whitespace left at the position of replacement?","title":"Replace a term in a text without leaving a whitespace","body":"<p>I have an input text and a searchterm.</p>\n<p>intput = &quot;Hello (A) World&quot;\nsearchTerm = &quot;(A)&quot;;</p>\n<p>I want to write a method that remove the searchTerm from input.</p>\n<p>My code.</p>\n<pre><code>    public String replaceText(String input, String replacement) {\n      return input.replaceAll(Pattern.quote(replacement), &quot;&quot;);\n     }\n\n    String result = replaceText(&quot;Hello (A) World&quot;, &quot;(A)&quot;);\n    System.out.println(result);\n</code></pre>\n<p>The result here is &quot;Hello__World&quot; with two whitespace. How I can modify my method to have a result &quot;Hello World&quot;. With no extra whitespace left at the position of replacement?</p>\n"},{"tags":["java","postgresql","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652354035,"post_id":72214244,"comment_id":127588428,"body_markdown":"You have to check which postgres configuration you are using (i.e. 2 vCore CPU, 8 vCore CPUs etc.). Because this configuration also help you understand why your connections are getting exhausted. Mostly it has nothing to do with Hikari CP.","body":"You have to check which postgres configuration you are using (i.e. 2 vCore CPU, 8 vCore CPUs etc.). Because this configuration also help you understand why your connections are getting exhausted. Mostly it has nothing to do with Hikari CP."},{"owner":{"account_id":24513707,"reputation":3,"user_id":18427742,"display_name":"Vaishali Agarwal"},"score":0,"creation_date":1652357129,"post_id":72214244,"comment_id":127589545,"body_markdown":"It has 32 cpu cores and cpu usage doesn&#39;t go more than 4%.\nWe are firing 3 query per connection and as the qps increasing the query execution time starts to increase","body":"It has 32 cpu cores and cpu usage doesn&#39;t go more than 4%. We are firing 3 query per connection and as the qps increasing the query execution time starts to increase"},{"owner":{"account_id":24513707,"reputation":3,"user_id":18427742,"display_name":"Vaishali Agarwal"},"score":0,"creation_date":1652357154,"post_id":72214244,"comment_id":127589552,"body_markdown":"it is db.m6g.8xlarge instance of RDS","body":"it is db.m6g.8xlarge instance of RDS"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652370351,"post_id":72214244,"comment_id":127595025,"body_markdown":"As you mentioned, you have increased qps to 20 &amp; requests took 10 secs. 10 secs is leak detection &amp; timeout value in your code , meaning query execution would have timeout or logged leak detection error .     Also, your max pool size is 200 means 20 * 10= 200 is eventually got used as soon as you increase qps.  Since your vCore CPU is 32 (Max allowed connections are 1495 in this case), so you can try to increase max pool size to somewhat 500 &amp; see if you still getting this kind of exception","body":"As you mentioned, you have increased qps to 20 &amp; requests took 10 secs. 10 secs is leak detection &amp; timeout value in your code , meaning query execution would have timeout or logged leak detection error .     Also, your max pool size is 200 means 20 * 10= 200 is eventually got used as soon as you increase qps.  Since your vCore CPU is 32 (Max allowed connections are 1495 in this case), so you can try to increase max pool size to somewhat 500 &amp; see if you still getting this kind of exception"}],"answers":[{"tags":[],"owner":{"account_id":3567931,"reputation":1427,"user_id":2979003,"accept_rate":100,"display_name":"FreeMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678091601,"creation_date":1678091601,"answer_id":75648600,"question_id":72214244,"body_markdown":"You have to be careful when setting Hikari props like pool size and minimum idle. Increasing those values doesn&#39;t necessarily mean that you will get better throughputs or performance outcomes.\r\nPlease check this.\r\nhttps://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing","title":"Hikari connection pool exhausted","body":"<p>You have to be careful when setting Hikari props like pool size and minimum idle. Increasing those values doesn't necessarily mean that you will get better throughputs or performance outcomes.\nPlease check this.\n<a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing</a></p>\n"}],"owner":{"account_id":24513707,"reputation":3,"user_id":18427742,"display_name":"Vaishali Agarwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678091601,"creation_date":1652352561,"question_id":72214244,"body_markdown":"I have spring boot application which use hikari pool to create connection pool.\r\nwe are using postgres sql for db. when I hit the system with low qps the request takes around 200 ms to execute. When One pod is deployed and the qps is 15 things remain in good state. but as soon as I increase the qps to 20 the request starts taking ~10 sec to process and connection pool becomes empty(\r\njava.sql.SQLTransientConnectionException: phoenix - Connection is not available, request timed out after 30183ms).\r\n\r\nI am using this configuration.\r\n\r\n    spring.datasource.hikari.maximum-pool-size=200\r\n    spring.datasource.hikari.connectionTimeout=10000\r\n    spring.datasource.hikari.minimum-idle=50\r\n    spring.datasource.hikari.idle-timeout=0\r\n    spring.datasource.hikari.max-lifetime=30000\r\n    spring.datasource.TYPE=com.zaxxer.hikari.HikariDataSource\r\n    spring.datasource.hikari.leak-detection-threshold=10000\r\n\r\nThe pod cpu usage goes max till 30% and memory usage is also under control. I am using an aws hosted postgress which can have 10000 parallel connection to the db. \r\nCan someone please help me here?\r\n ","title":"Hikari connection pool exhausted","body":"<p>I have spring boot application which use hikari pool to create connection pool.\nwe are using postgres sql for db. when I hit the system with low qps the request takes around 200 ms to execute. When One pod is deployed and the qps is 15 things remain in good state. but as soon as I increase the qps to 20 the request starts taking ~10 sec to process and connection pool becomes empty(\njava.sql.SQLTransientConnectionException: phoenix - Connection is not available, request timed out after 30183ms).</p>\n<p>I am using this configuration.</p>\n<pre><code>spring.datasource.hikari.maximum-pool-size=200\nspring.datasource.hikari.connectionTimeout=10000\nspring.datasource.hikari.minimum-idle=50\nspring.datasource.hikari.idle-timeout=0\nspring.datasource.hikari.max-lifetime=30000\nspring.datasource.TYPE=com.zaxxer.hikari.HikariDataSource\nspring.datasource.hikari.leak-detection-threshold=10000\n</code></pre>\n<p>The pod cpu usage goes max till 30% and memory usage is also under control. I am using an aws hosted postgress which can have 10000 parallel connection to the db.\nCan someone please help me here?</p>\n"},{"tags":["java","api","rest","file"],"answers":[{"comments":[{"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"score":0,"creation_date":1678217449,"post_id":75648558,"comment_id":133489580,"body_markdown":"this works if I provide a String path to the file, but if I send the file itself, it does not work.","body":"this works if I provide a String path to the file, but if I send the file itself, it does not work."}],"tags":[],"owner":{"account_id":18086583,"reputation":61,"user_id":13147352,"display_name":"Kudret Batuhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678091352,"creation_date":1678091352,"answer_id":75648558,"question_id":75648439,"body_markdown":"    @GetMapping(value = &quot;/try&quot;)\r\n    @ResponseBody\r\n    public String getText(@RequestParam(&quot;filePath&quot;) String filePath) throws \r\n    IOException {\r\n    File file = new File(filePath);\r\n    BufferedReader reader = new BufferedReader(new FileReader(file));\r\n    String line = reader.readLine();\r\n    StringBuilder builder = new StringBuilder();\r\n    while (line != null) {\r\n        builder.append(line);\r\n        line = reader.readLine();\r\n    }\r\n    reader.close();\r\n    return modified(builder.toString());\r\n}","title":"Java receiving text file inputs in REST","body":"<pre><code>@GetMapping(value = &quot;/try&quot;)\n@ResponseBody\npublic String getText(@RequestParam(&quot;filePath&quot;) String filePath) throws \nIOException {\nFile file = new File(filePath);\nBufferedReader reader = new BufferedReader(new FileReader(file));\nString line = reader.readLine();\nStringBuilder builder = new StringBuilder();\nwhile (line != null) {\n    builder.append(line);\n    line = reader.readLine();\n}\nreader.close();\nreturn modified(builder.toString());\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75648558,"answer_count":1,"score":0,"last_activity_date":1678091352,"creation_date":1678090369,"question_id":75648439,"body_markdown":"Let&#39;s say I have a GET endpoint which receives a String (&quot;this is a string&quot;) and returns a modified version of it (&quot;This is a string!&quot;):\r\n\r\n    @GetMapping(value = &quot;/test&quot;)\r\n    @ResponseBody\r\n    public String getText(@RequestParam String text) {\r\n        return modified(text);\r\n    }\r\n\r\n\r\n\r\nHow would I adjust this code for it to receive the same piece of text in a .txt file?","title":"Java receiving text file inputs in REST","body":"<p>Let's say I have a GET endpoint which receives a String (&quot;this is a string&quot;) and returns a modified version of it (&quot;This is a string!&quot;):</p>\n<pre><code>@GetMapping(value = &quot;/test&quot;)\n@ResponseBody\npublic String getText(@RequestParam String text) {\n    return modified(text);\n}\n</code></pre>\n<p>How would I adjust this code for it to receive the same piece of text in a .txt file?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678189636,"post_id":75648388,"comment_id":133481520,"body_markdown":"Hey ploxo. Have you tried my solution above, does it work?","body":"Hey ploxo. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678089945,"creation_date":1678089945,"answer_id":75648388,"question_id":75623685,"body_markdown":"When you are using the following reference:\r\n\r\n    users.child(userID).child(&quot;coins&quot;)\r\n\r\n\r\nAnd you attach a ValueEventListener to it, it means you&#39;re listening for real-time updates. This means that every change that takes place in the Realtime Database that corresponds to the above reference, will always trigger the `onDataChange()` method. Since you are updating data inside the callback using:\r\n\r\n    users.child(userID).updateChildren(hashMap)\r\n\r\nTo the exact exact same reference you are listening to, your data gets written again. So this mechanism is happening over and over again, hence the behavior of an &quot;unstoppable operation&quot;.\r\n\r\nTo solve this, simply change the above method call to [Query#addListenerForSingleValueEvent()][2]:\r\n\r\n&gt; Add a listener for a single change in the data at this location.\r\n\r\nThis means that it will listen for changes **only** once.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)","title":"Why does the execution of the expression not stop (FireBase)","body":"<p>When you are using the following reference:</p>\n<pre><code>users.child(userID).child(&quot;coins&quot;)\n</code></pre>\n<p>And you attach a ValueEventListener to it, it means you're listening for real-time updates. This means that every change that takes place in the Realtime Database that corresponds to the above reference, will always trigger the <code>onDataChange()</code> method. Since you are updating data inside the callback using:</p>\n<pre><code>users.child(userID).updateChildren(hashMap)\n</code></pre>\n<p>To the exact exact same reference you are listening to, your data gets written again. So this mechanism is happening over and over again, hence the behavior of an &quot;unstoppable operation&quot;.</p>\n<p>To solve this, simply change the above method call to <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addListenerForSingleValueEvent()</a>:</p>\n<blockquote>\n<p>Add a listener for a single change in the data at this location.</p>\n</blockquote>\n<p>This means that it will listen for changes <strong>only</strong> once.</p>\n"}],"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678091185,"creation_date":1677823627,"question_id":75623685,"body_markdown":"I registered a code that indicates that the user has points on the balance that he can write to Reset. When writing to Reset, the number of points specified by the user is subtracted from the total number and recorded. Faced with the fact that the specified number of coins is written off without stopping.\r\n\r\nHere is my code:\r\n\r\n    Button btn_res = (Button) findViewById(R.id.btn_res);\r\n        btn_res.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int coins = Integer.parseInt(edCoins.getText().toString());\r\n                if(coins &lt; 1){\r\n                    Toast.makeText(MainActivity2.this,&quot;Минимум 5000&quot;, Toast.LENGTH_SHORT).show();\r\n                    // Handle error: minimum conversion amount is 5000 coins\r\n                    return;\r\n                } else {\r\n                    users.child(userID).child(&quot;coins&quot;).addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            ucoins = snapshot.getValue(Integer.class);\r\n                            HashMap hashMap = new HashMap();\r\n                            hashMap.put(&quot;coins&quot;,ucoins - coins);\r\n                            users.child(userID).updateChildren(hashMap).addOnSuccessListener(new OnSuccessListener() {\r\n                                @Override\r\n                                public void onSuccess(Object o) {\r\n                                    Toast.makeText(MainActivity2.this, &quot;Заявка записана&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                    \r\n                    Reset newReset = new Reset(coins);\r\n                    mDataBase.push().setValue(newReset);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n","title":"Why does the execution of the expression not stop (FireBase)","body":"<p>I registered a code that indicates that the user has points on the balance that he can write to Reset. When writing to Reset, the number of points specified by the user is subtracted from the total number and recorded. Faced with the fact that the specified number of coins is written off without stopping.</p>\n<p>Here is my code:</p>\n<pre><code>Button btn_res = (Button) findViewById(R.id.btn_res);\n    btn_res.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            int coins = Integer.parseInt(edCoins.getText().toString());\n            if(coins &lt; 1){\n                Toast.makeText(MainActivity2.this,&quot;Минимум 5000&quot;, Toast.LENGTH_SHORT).show();\n                // Handle error: minimum conversion amount is 5000 coins\n                return;\n            } else {\n                users.child(userID).child(&quot;coins&quot;).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        ucoins = snapshot.getValue(Integer.class);\n                        HashMap hashMap = new HashMap();\n                        hashMap.put(&quot;coins&quot;,ucoins - coins);\n                        users.child(userID).updateChildren(hashMap).addOnSuccessListener(new OnSuccessListener() {\n                            @Override\n                            public void onSuccess(Object o) {\n                                Toast.makeText(MainActivity2.this, &quot;Заявка записана&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n                \n                Reset newReset = new Reset(coins);\n                mDataBase.push().setValue(newReset);\n            }\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","hoverfly"],"answers":[{"tags":[],"owner":{"account_id":110410,"reputation":37243,"user_id":292166,"accept_rate":77,"display_name":"JosephH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678091099,"creation_date":1678091099,"answer_id":75648530,"question_id":75648529,"body_markdown":"Looking further in the log file you&#39;ll find:\r\n\r\n`io.specto.hoverfly.junit.core.TempFileManager - Selecting the following binary based on the current operating system: hoverfly_OSX_amd64`\r\n\r\ni.e. it&#39;s trying to run the Intel binary rather than the arm64 one, and failing.\r\n\r\nThis happens on an M1/M2 Mac, and it would have be fine if Rosetta2 was installed.\r\n\r\nhoverfly-java [only recently had support for a native arm64 binary added][1]; if you upgrade to 0.14.4 that will fix the issue and it will work without Rosetta.\r\n\r\n  [1]: https://github.com/SpectoLabs/hoverfly-java/pull/280","title":"junit tests using hoverfly failing on arm macos with IllegalState","body":"<p>Looking further in the log file you'll find:</p>\n<p><code>io.specto.hoverfly.junit.core.TempFileManager - Selecting the following binary based on the current operating system: hoverfly_OSX_amd64</code></p>\n<p>i.e. it's trying to run the Intel binary rather than the arm64 one, and failing.</p>\n<p>This happens on an M1/M2 Mac, and it would have be fine if Rosetta2 was installed.</p>\n<p>hoverfly-java <a href=\"https://github.com/SpectoLabs/hoverfly-java/pull/280\" rel=\"nofollow noreferrer\">only recently had support for a native arm64 binary added</a>; if you upgrade to 0.14.4 that will fix the issue and it will work without Rosetta.</p>\n"}],"owner":{"account_id":110410,"reputation":37243,"user_id":292166,"accept_rate":77,"display_name":"JosephH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678091099,"creation_date":1678091099,"question_id":75648529,"body_markdown":"Trying to run my unit tests after migrating to an M2 MacBook I&#39;m seeing this:\r\n\r\n`IllegalState Could not start Hoverfly process`\r\n\r\n\r\nand searching further in the log I find more info:\r\n\r\n```\r\n[ERROR] net.openid.conformance.condition.client.FetchServerKeys_UnitTest  Time elapsed: 0.061 s  &lt;&lt;&lt; ERROR!\r\njava.lang.IllegalStateException: Could not start Hoverfly process\r\nCaused by: org.zeroturnaround.exec.ProcessInitException: Could not execute [/var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338/hoverfly_OSX_amd64, -pp, 51942, -ap, 51943, -logs, json] in /var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338. Error=86, Bad CPU type in executable\r\nCaused by: java.io.IOException: Cannot run program &quot;/var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338/hoverfly_OSX_amd64&quot; (in directory &quot;/var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338&quot;): error=86, Bad CPU type in executable\r\nCaused by: java.io.IOException: error=86, Bad CPU type in executable\r\n```\r\n\r\nHowever googling doesn&#39;t show anyone else getting this error.\r\n","title":"junit tests using hoverfly failing on arm macos with IllegalState","body":"<p>Trying to run my unit tests after migrating to an M2 MacBook I'm seeing this:</p>\n<p><code>IllegalState Could not start Hoverfly process</code></p>\n<p>and searching further in the log I find more info:</p>\n<pre><code>[ERROR] net.openid.conformance.condition.client.FetchServerKeys_UnitTest  Time elapsed: 0.061 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Could not start Hoverfly process\nCaused by: org.zeroturnaround.exec.ProcessInitException: Could not execute [/var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338/hoverfly_OSX_amd64, -pp, 51942, -ap, 51943, -logs, json] in /var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338. Error=86, Bad CPU type in executable\nCaused by: java.io.IOException: Cannot run program &quot;/var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338/hoverfly_OSX_amd64&quot; (in directory &quot;/var/folders/dq/x26v4s_15nz6mqx739h9lw4h0000gn/T/hoverfly.14116433907436916338&quot;): error=86, Bad CPU type in executable\nCaused by: java.io.IOException: error=86, Bad CPU type in executable\n</code></pre>\n<p>However googling doesn't show anyone else getting this error.</p>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":2,"creation_date":1677652043,"post_id":75600155,"comment_id":133378006,"body_markdown":"You need to choose a Log implementation of SLF4J, such as Log4J or Logback. Then according to the Log implementation you use, please configure the corresponding configuration file (log4j.xml or logback.xml).","body":"You need to choose a Log implementation of SLF4J, such as Log4J or Logback. Then according to the Log implementation you use, please configure the corresponding configuration file (log4j.xml or logback.xml)."}],"answers":[{"tags":[],"owner":{"account_id":2370663,"reputation":339,"user_id":2075365,"accept_rate":60,"display_name":"Shashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678091080,"creation_date":1678091080,"answer_id":75648527,"question_id":75600155,"body_markdown":"Agree with @life888888. It depends on the log implementation framework. In Log4j2, you can specify the location to which the logs should go to by mentioning the appender in the logger specification.\r\n\r\n    &lt;logger name=&quot;SYSTEM_OUT&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n       &lt;appender-ref ref=&quot;Default&quot; /&gt;\r\n       &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/logger&gt;","title":"How to make slf4j log to different outputs","body":"<p>Agree with @life888888. It depends on the log implementation framework. In Log4j2, you can specify the location to which the logs should go to by mentioning the appender in the logger specification.</p>\n<pre><code>&lt;logger name=&quot;SYSTEM_OUT&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n   &lt;appender-ref ref=&quot;Default&quot; /&gt;\n   &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678091080,"creation_date":1677651371,"question_id":75600155,"body_markdown":"I am performing logging using Slf4J (slf4j-simple), and I would like to be able to output logs to both standard output and to a log file. I also want to be able to log different events to different log files.\r\n\r\nFor example: I would like to be able to log one &quot;class&quot; of events to a &quot;mainevents.log&quot; file, while another class of events can go to &quot;messages.log&quot;. \r\n\r\nI know that the closest thing that slf4j has to the ability to classify events is the Marker. Unfortunately, it is unclear if there is any way to send logs to different files based on markers. It is also unclear how to configure slf4j so that it can output logs to more than one output at the same time. There appears to be a dearth of documentation on how to configure slf4j logging.\r\n\r\nDoes anyone know how to make slf4j log to more than one output at the same time? Also: can someone tell how to log to different log files based on different markers?\r\n","title":"How to make slf4j log to different outputs","body":"<p>I am performing logging using Slf4J (slf4j-simple), and I would like to be able to output logs to both standard output and to a log file. I also want to be able to log different events to different log files.</p>\n<p>For example: I would like to be able to log one &quot;class&quot; of events to a &quot;mainevents.log&quot; file, while another class of events can go to &quot;messages.log&quot;.</p>\n<p>I know that the closest thing that slf4j has to the ability to classify events is the Marker. Unfortunately, it is unclear if there is any way to send logs to different files based on markers. It is also unclear how to configure slf4j so that it can output logs to more than one output at the same time. There appears to be a dearth of documentation on how to configure slf4j logging.</p>\n<p>Does anyone know how to make slf4j log to more than one output at the same time? Also: can someone tell how to log to different log files based on different markers?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","snapshot"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678189595,"post_id":75648515,"comment_id":133481507,"body_markdown":"Hey Ratnadeep. Have you tried my solution above, does it work?","body":"Hey Ratnadeep. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678090964,"creation_date":1678090964,"answer_id":75648515,"question_id":75630749,"body_markdown":"To be able to delete a specific value from the Realtime Database, you have to call [DatabaseReference#removeValue()][1]. Since inside the callback, you don&#39;t have an object of type [DatabaseReference][2] but an object of type [DataSnapshot][3], then you have to call first [DataSnapshot#getRef()][4] first. In code it should look like this:\r\n\r\n    postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName()).getRef().removeValue();\r\n\r\nI also recommend you attach a listener to the remove operation, so you can see if something goes wrong.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getRef()","title":"Want to delete Firebase postSnapshot Value","body":"<p>To be able to delete a specific value from the Realtime Database, you have to call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()\" rel=\"nofollow noreferrer\">DatabaseReference#removeValue()</a>. Since inside the callback, you don't have an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\" rel=\"nofollow noreferrer\">DatabaseReference</a> but an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot\" rel=\"nofollow noreferrer\">DataSnapshot</a>, then you have to call first <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getRef()\" rel=\"nofollow noreferrer\">DataSnapshot#getRef()</a> first. In code it should look like this:</p>\n<pre><code>postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName()).getRef().removeValue();\n</code></pre>\n<p>I also recommend you attach a listener to the remove operation, so you can see if something goes wrong.</p>\n"}],"owner":{"account_id":18118213,"reputation":1,"user_id":13174621,"display_name":"Ratnadeep Parya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678090995,"creation_date":1677868808,"question_id":75630749,"body_markdown":"How to delete `postSnapshot` value in Realtime Database?\r\n\r\n\r\n```\r\nFirebaseDatabase.getInstance()\r\n\t.getReference()\r\n        .child(&quot;users&quot;)\r\n        .addValueEventListener(new ValueEventListener() {\r\n             @Override\r\n             public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                 for (DataSnapshot postSnapshot : snapshot.getChildren()){\r\n                      if (postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName()).exists()){\r\n\r\n                          // Want to delete postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName())\r\n\r\n                       }\r\n                 }\r\n          }\r\n\r\n           \t@Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n});\r\n```\r\n\r\n\r\npostSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName()).removeValue(); not working.","title":"Want to delete Firebase postSnapshot Value","body":"<p>How to delete <code>postSnapshot</code> value in Realtime Database?</p>\n<pre><code>FirebaseDatabase.getInstance()\n    .getReference()\n        .child(&quot;users&quot;)\n        .addValueEventListener(new ValueEventListener() {\n             @Override\n             public void onDataChange(@NonNull DataSnapshot snapshot) {\n                 for (DataSnapshot postSnapshot : snapshot.getChildren()){\n                      if (postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName()).exists()){\n\n                          // Want to delete postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName())\n\n                       }\n                 }\n          }\n\n            @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n});\n</code></pre>\n<p>postSnapshot.child(&quot;cart&quot;).child(items.getItemSearchableName()).removeValue(); not working.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8743780,"reputation":966,"user_id":6540008,"accept_rate":43,"display_name":"Ali Akbarpour"},"score":0,"creation_date":1513176401,"post_id":47795758,"comment_id":82552388,"body_markdown":"do you select the related folder as a source root?","body":"do you select the related folder as a source root?"},{"owner":{"account_id":4647709,"reputation":823,"user_id":3765428,"display_name":"Gorazd Rebolj"},"score":0,"creation_date":1513176696,"post_id":47795758,"comment_id":82552601,"body_markdown":"Idea will also check that the class has a valid main method. It also needs to be within the selected module.","body":"Idea will also check that the class has a valid main method. It also needs to be within the selected module."},{"owner":{"account_id":12359442,"reputation":533,"user_id":9014161,"accept_rate":33,"display_name":"matchi"},"score":0,"creation_date":1513176780,"post_id":47795758,"comment_id":82552661,"body_markdown":"@Generic yes, I set the parent folder of the spring boot application as the content root.","body":"@Generic yes, I set the parent folder of the spring boot application as the content root."},{"owner":{"account_id":6807110,"reputation":4072,"user_id":5238522,"display_name":"Rakesh"},"score":0,"creation_date":1513176829,"post_id":47795758,"comment_id":82552702,"body_markdown":"Do you have the Spring Boot plugin installed? Also check if you have the classpath of modules set as your project in Run Configuration.","body":"Do you have the Spring Boot plugin installed? Also check if you have the classpath of modules set as your project in Run Configuration."},{"owner":{"account_id":12359442,"reputation":533,"user_id":9014161,"accept_rate":33,"display_name":"matchi"},"score":0,"creation_date":1513177071,"post_id":47795758,"comment_id":82552889,"body_markdown":"@Rakesh I do have SpingBoot plugin, but I do not have classpath of modules set. It does not let me set the classpath of modules - there are no options in the dropdown.","body":"@Rakesh I do have SpingBoot plugin, but I do not have classpath of modules set. It does not let me set the classpath of modules - there are no options in the dropdown."}],"answers":[{"comments":[{"owner":{"account_id":7906965,"reputation":82,"user_id":5972142,"display_name":"Aditya Purandare"},"score":2,"creation_date":1609342985,"post_id":47796459,"comment_id":115818306,"body_markdown":"When I tried this on spring boot project, IntelliJ didn&#39;t fix itself and was unable to locate the spring boot main class","body":"When I tried this on spring boot project, IntelliJ didn&#39;t fix itself and was unable to locate the spring boot main class"}],"tags":[],"owner":{"account_id":9832691,"reputation":95,"user_id":7283949,"display_name":"AlminaS"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513178139,"creation_date":1513178139,"answer_id":47796459,"question_id":47795758,"body_markdown":"I had similar problem. Try `File -&gt; Project Structure -&gt; Modules` in the middle column click on your project&#39;s name and in the right make sure that `src` folder is marked as `Source Folders` (blue folder icon and blue text on the right).","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>I had similar problem. Try <code>File -&gt; Project Structure -&gt; Modules</code> in the middle column click on your project's name and in the right make sure that <code>src</code> folder is marked as <code>Source Folders</code> (blue folder icon and blue text on the right).</p>\n"},{"tags":[],"owner":{"account_id":3155676,"reputation":632,"user_id":2668141,"display_name":"Gi1ber7"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565726153,"creation_date":1565726153,"answer_id":57484520,"question_id":47795758,"body_markdown":"I had the similar issue. But I solved by going to File -&gt; Project Structure, then select Modules and delete the content on the right pane(Sources tab). After save it, I was able to add the Spring Boot configuration as usual. Thanks @AlminaS for the lead.","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>I had the similar issue. But I solved by going to File -> Project Structure, then select Modules and delete the content on the right pane(Sources tab). After save it, I was able to add the Spring Boot configuration as usual. Thanks @AlminaS for the lead.</p>\n"},{"comments":[{"owner":{"account_id":7906965,"reputation":82,"user_id":5972142,"display_name":"Aditya Purandare"},"score":0,"creation_date":1609343004,"post_id":58281563,"comment_id":115818319,"body_markdown":"Solved the problem like a charm... :)","body":"Solved the problem like a charm... :)"},{"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"score":0,"creation_date":1672924777,"post_id":58281563,"comment_id":132385462,"body_markdown":"be aware that ths also deletes all your run configurations, db connections etc. maybe better go into the folder .idea and delete the files that are not in the folders runConfigurations, dbConnections, shelf, etc.","body":"be aware that ths also deletes all your run configurations, db connections etc. maybe better go into the folder .idea and delete the files that are not in the folders runConfigurations, dbConnections, shelf, etc."}],"tags":[],"owner":{"account_id":296413,"reputation":1436,"user_id":601362,"display_name":"MarekM"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1570518191,"creation_date":1570518191,"answer_id":58281563,"question_id":47795758,"body_markdown":"Problem may be that you have badly configured IDEA project files. \r\n\r\nClose IDEA, delete all .idea files and reimport project.","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>Problem may be that you have badly configured IDEA project files. </p>\n\n<p>Close IDEA, delete all .idea files and reimport project.</p>\n"},{"comments":[{"owner":{"account_id":9730738,"reputation":2303,"user_id":7215856,"display_name":"Saiful Islam Sajib"},"score":0,"creation_date":1670005833,"post_id":60670710,"comment_id":131780117,"body_markdown":"Solved the problem","body":"Solved the problem"},{"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"score":0,"creation_date":1694594970,"post_id":60670710,"comment_id":135910488,"body_markdown":"Does not solve the problem for me","body":"Does not solve the problem for me"}],"tags":[],"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1584103449,"creation_date":1584103449,"answer_id":60670710,"question_id":47795758,"body_markdown":"The same issue occured to me. In my case, it was the project JDK that was not set. The module JDK was set, but not the project one.\r\n\r\nGo to File &gt; Project Structure &gt; Project &gt; Project SDK to solve the issue.","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>The same issue occured to me. In my case, it was the project JDK that was not set. The module JDK was set, but not the project one.</p>\n\n<p>Go to File > Project Structure > Project > Project SDK to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":18710326,"reputation":11,"user_id":13640554,"display_name":"Jaivardhan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595759693,"creation_date":1595759693,"answer_id":63098981,"question_id":47795758,"body_markdown":"I had the same issue.\r\nI solved it by going to &quot;src-&gt;main-&gt;java&quot; and then right-click on java and select the option &quot;mark directory as&quot; source root.\r\nThen rebuild the pom.xml file to solve the issue..","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>I had the same issue.\nI solved it by going to &quot;src-&gt;main-&gt;java&quot; and then right-click on java and select the option &quot;mark directory as&quot; source root.\nThen rebuild the pom.xml file to solve the issue..</p>\n"},{"tags":[],"owner":{"account_id":1610749,"reputation":1043,"user_id":1489751,"display_name":"Phillip Fleischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602617474,"creation_date":1602617474,"answer_id":64341963,"question_id":47795758,"body_markdown":"\r\n**It could be a bad plugin**: check your IDEA log through the menu `Help\r\n-&gt; Show log in... ` and if your log is full of errors, try disabling that plugin.\r\n\r\nThe other answers here are correct too, but many folks have posted a problem with &quot;X&quot; plugin cause further plugins to fail to load (I needed spring boot plugin).  I&#39;ve read about various plugin issues including docker, python, php, etc.. This was the case for me, but in my case it was a &quot;toml&quot; plug-in.  I can&#39;t be sure when I installed/enabled it, but I certainly didn&#39;t need it and I found out by reading the log. The other answers here are valid but if someone suggested to just check the log it&#39;d have saved me a couple hours...  \r\n","title":"intellij run configuration can&#39;t find spring boot class","body":"<p><strong>It could be a bad plugin</strong>: check your IDEA log through the menu <code>Help -&gt; Show log in... </code> and if your log is full of errors, try disabling that plugin.</p>\n<p>The other answers here are correct too, but many folks have posted a problem with &quot;X&quot; plugin cause further plugins to fail to load (I needed spring boot plugin).  I've read about various plugin issues including docker, python, php, etc.. This was the case for me, but in my case it was a &quot;toml&quot; plug-in.  I can't be sure when I installed/enabled it, but I certainly didn't need it and I found out by reading the log. The other answers here are valid but if someone suggested to just check the log it'd have saved me a couple hours...</p>\n"},{"tags":[],"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603955715,"creation_date":1603955715,"answer_id":64586538,"question_id":47795758,"body_markdown":"What solved the issue for me is to mark the resources folder as `Resources Root`.\r\n\r\nRight click on `src/main/resources` -&gt; `mark directory as` -&gt; `Resources Root`.\r\n\r\nThis was in addition to that that `src/main/kotlin` was already marked at `Sources Root`.\r\n","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>What solved the issue for me is to mark the resources folder as <code>Resources Root</code>.</p>\n<p>Right click on <code>src/main/resources</code> -&gt; <code>mark directory as</code> -&gt; <code>Resources Root</code>.</p>\n<p>This was in addition to that that <code>src/main/kotlin</code> was already marked at <code>Sources Root</code>.</p>\n"},{"tags":[],"owner":{"account_id":9260859,"reputation":91,"user_id":6878003,"display_name":"Alptekin T."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620384211,"creation_date":1620384211,"answer_id":67433462,"question_id":47795758,"body_markdown":"Java SDK and Tomcat server versions must be compatible.","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>Java SDK and Tomcat server versions must be compatible.</p>\n"},{"tags":[],"owner":{"account_id":13493493,"reputation":21,"user_id":9734987,"display_name":"Teodora "},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678090854,"creation_date":1678090854,"answer_id":75648502,"question_id":47795758,"body_markdown":"In my case, the problem was the version of IntelliJ. For **Community Edition** the *Spring Boot* is not present on the **Add new configurations** list from **Run/Debug Configuration**. \r\n\r\nI used **Ultimate** version and all things are works as expected.\r\n\r\n[Add new configurations image from Ultimate Edition][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/siq7i.png","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>In my case, the problem was the version of IntelliJ. For <strong>Community Edition</strong> the <em>Spring Boot</em> is not present on the <strong>Add new configurations</strong> list from <strong>Run/Debug Configuration</strong>.</p>\n<p>I used <strong>Ultimate</strong> version and all things are works as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/siq7i.png\" rel=\"nofollow noreferrer\">Add new configurations image from Ultimate Edition</a></p>\n"}],"owner":{"account_id":12359442,"reputation":533,"user_id":9014161,"accept_rate":33,"display_name":"matchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54351,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":9,"score":8,"last_activity_date":1678090854,"creation_date":1513176256,"question_id":47795758,"body_markdown":"I am trying to create a run configuration for a spring boot app, but Intellij can&#39;t find the main class of the spring boot app (Usually it is automatically populated). I tried adding the class by searching the project structure, but Intellij won&#39;t let me add that application&#39;s main file to &#39;Main class&#39; of the configuration. How can I make Intellij detect the class?\r\n\r\nProject Directory:\r\n\r\n    rootfolder\r\n       &gt; springBootBackEnd\r\n       &gt; angularUI\r\nI have the module set to &#39;rootfolder&#39; and the content root is the rootfolder","title":"intellij run configuration can&#39;t find spring boot class","body":"<p>I am trying to create a run configuration for a spring boot app, but Intellij can't find the main class of the spring boot app (Usually it is automatically populated). I tried adding the class by searching the project structure, but Intellij won't let me add that application's main file to 'Main class' of the configuration. How can I make Intellij detect the class?</p>\n\n<p>Project Directory:</p>\n\n<pre><code>rootfolder\n   &gt; springBootBackEnd\n   &gt; angularUI\n</code></pre>\n\n<p>I have the module set to 'rootfolder' and the content root is the rootfolder</p>\n"},{"tags":["java","spring-boot","redis","session-management"],"owner":{"account_id":8673539,"reputation":171,"user_id":6491617,"accept_rate":25,"display_name":"Tobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678090830,"creation_date":1678090830,"question_id":75648498,"body_markdown":"I have spring boot application that runs in 4 instances. I used 1 Redis as centralized session management. Currently, the session was successfully stored in Redis. In my custom `WebSecurityConfigurerAdapter` I set the following by overriding `configure` function.\r\n```http.sessionManagement().maximumSessions(1).maxSessionsPreventsLogin(false).sessionRegistry(sessionRegistry);\r\n\r\n....\r\n\r\n@Bean\r\n  public SessionRegistry sessionRegistry() {\r\n    return new SessionRegistryImpl();\r\n  }\r\n```\r\n\r\nHowever, this configuration only works in single instance (by using normal and incognito mode). When, I accessed different instances (for example instance A and B) with same credential, the sessions were appended and none of them was invalidated. I followed some post by changing the bean of sessionRegistry\r\n```\r\n@Autowired\r\n  private FindByIndexNameSessionRepository&lt;? extends Session&gt; sessionRepository;\r\n  @Bean\r\n  public SessionRegistry sessionRegistry() {\r\n    return new SpringSessionBackedSessionRegistry&lt;&gt;(sessionRepository);\r\n  }\r\n```\r\nInstead of the app runs, I got an exception regarding bean creation of sessionRegistry.\r\n\r\nAnyone has a suggestion to achieve how to ensure 1 user have only 1 active session?\r\nThank you","title":"Ensure 1 session per user for multiple instance BE in Springboot using Redis","body":"<p>I have spring boot application that runs in 4 instances. I used 1 Redis as centralized session management. Currently, the session was successfully stored in Redis. In my custom <code>WebSecurityConfigurerAdapter</code> I set the following by overriding <code>configure</code> function.</p>\n<pre><code>\n....\n\n@Bean\n  public SessionRegistry sessionRegistry() {\n    return new SessionRegistryImpl();\n  }\n</code></pre>\n<p>However, this configuration only works in single instance (by using normal and incognito mode). When, I accessed different instances (for example instance A and B) with same credential, the sessions were appended and none of them was invalidated. I followed some post by changing the bean of sessionRegistry</p>\n<pre><code>@Autowired\n  private FindByIndexNameSessionRepository&lt;? extends Session&gt; sessionRepository;\n  @Bean\n  public SessionRegistry sessionRegistry() {\n    return new SpringSessionBackedSessionRegistry&lt;&gt;(sessionRepository);\n  }\n</code></pre>\n<p>Instead of the app runs, I got an exception regarding bean creation of sessionRegistry.</p>\n<p>Anyone has a suggestion to achieve how to ensure 1 user have only 1 active session?\nThank you</p>\n"},{"tags":["java","spring-boot","hibernate","sql-server-2014"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678088164,"post_id":75648025,"comment_id":133458534,"body_markdown":"If you want to use sequence, better define it directly. That way you can also create your own sequence in the database. I am not sure if `spring.jpa.hibernate.ddl-auto=update` does also create tables, which seems what you are relying on","body":"If you want to use sequence, better define it directly. That way you can also create your own sequence in the database. I am not sure if <code>spring.jpa.hibernate.ddl-auto=update</code> does also create tables, which seems what you are relying on"},{"owner":{"account_id":27945109,"reputation":11,"user_id":21340266,"display_name":"Semih.Toprak"},"score":0,"creation_date":1678088256,"post_id":75648025,"comment_id":133458547,"body_markdown":"Update option did create the tables for the entities, so I would assume it should create sequence tables. That said, the tables still do not exist in the database. I will see how to define a sequence and update my question.","body":"Update option did create the tables for the entities, so I would assume it should create sequence tables. That said, the tables still do not exist in the database. I will see how to define a sequence and update my question."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678088899,"post_id":75648025,"comment_id":133458710,"body_markdown":"You can check [this link](https://www.baeldung.com/hibernate-identifiers#3-sequence-generation) for sequence mapping.","body":"You can check <a href=\"https://www.baeldung.com/hibernate-identifiers#3-sequence-generation\" rel=\"nofollow noreferrer\">this link</a> for sequence mapping."}],"answers":[{"tags":[],"owner":{"account_id":27945109,"reputation":11,"user_id":21340266,"display_name":"Semih.Toprak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678090776,"creation_date":1678089732,"answer_id":75648358,"question_id":75648025,"body_markdown":"It would seem the `spring.jpa.hibernate.ddl-auto=update` config does not create sequence tables. After some research, I have decided to disable the auto configuration and created each sequence with the following code:\r\n\r\n    create sequence TABLENAME_SEQ\r\n\r\nI also had to update the entity as follows:\r\n\r\n    @Id\r\n    @Getter\r\n    @Setter\r\n    @GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;tableNameSeq&quot;)\r\n    @SequenceGenerator(name = &quot;tableNameSeq&quot;, sequenceName = &quot;TABLENAME_SEQ&quot;)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id = 1L;\r\n\r\nI have also read that auto update is risky to use, so if anyone has a similar problem, this looks to be the recommended solution.","title":"Hibernate &quot;Invalid object name &#39;TABLENAME_SEQ&#39;. &quot; when inserting","body":"<p>It would seem the <code>spring.jpa.hibernate.ddl-auto=update</code> config does not create sequence tables. After some research, I have decided to disable the auto configuration and created each sequence with the following code:</p>\n<pre><code>create sequence TABLENAME_SEQ\n</code></pre>\n<p>I also had to update the entity as follows:</p>\n<pre><code>@Id\n@Getter\n@Setter\n@GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;tableNameSeq&quot;)\n@SequenceGenerator(name = &quot;tableNameSeq&quot;, sequenceName = &quot;TABLENAME_SEQ&quot;)\n@Column(name = &quot;ID&quot;)\nprivate Long id = 1L;\n</code></pre>\n<p>I have also read that auto update is risky to use, so if anyone has a similar problem, this looks to be the recommended solution.</p>\n"}],"owner":{"account_id":27945109,"reputation":11,"user_id":21340266,"display_name":"Semih.Toprak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75648358,"answer_count":1,"score":1,"last_activity_date":1678090776,"creation_date":1678086978,"question_id":75648025,"body_markdown":"I am writing a spring-boot application with hibernate. The application connects to a MSSQL 2014 database.  I have used this tutorial for the basic architecture:\r\n\r\nhttps://www.baeldung.com/spring-boot-hibernate\r\n\r\nWhen I do a save() operation using the JpaRepository implementation for the entity, I am getting the following error:\r\n\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\r\n[More stack trace]\r\n\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name &#39;TABLENAME_SEQ&#39;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1695) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n...\r\n```\r\n\r\nHere is the logs for the sql generated by Hibernate:\r\n\r\n\r\n```\r\nHibernate: \r\n    select\r\n        next value for TABLENAME_SEQ\r\n```\r\n\r\n\r\nI have checked the database and the sequence table indeed does not exist. For reference here is an abstraction of my entity:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TABLENAME&quot;)\r\npublic class EntTableName {\r\n\r\n    @Id\r\n    @Getter\r\n    @Setter\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Getter\r\n    @Setter\r\n    @Column(name = &quot;COLUMN_1&quot;)\r\n    private String column1;\r\n\r\n// More columns here\r\n\r\n}\r\n\r\n```\r\n\r\nAlso the application.properties:\r\n\r\n\r\n```\r\n#database:\r\nspring.datasource.url=jdbc:sqlserver://****\r\nspring.datasource.username=****\r\nspring.datasource.password=***\r\n#mssql driver\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n```\r\n\r\n\r\n\r\n\r\nI have tried changing the dialect to org.hibernate.dialect.SQLServer2012Dialect but it did not change the error. I think changing the ID generation strategy to TABLE could fix this but it also disables batch updates, so I left it as a last resort.\r\n\r\nI have also seen this as the same error but it uses an hbm configuration, which I don&#39;t use:\r\n\r\nhttps://stackoverflow.com/questions/28234366/invalid-object-name-for-hibernate-sequence-generator","title":"Hibernate &quot;Invalid object name &#39;TABLENAME_SEQ&#39;. &quot; when inserting","body":"<p>I am writing a spring-boot application with hibernate. The application connects to a MSSQL 2014 database.  I have used this tutorial for the basic architecture:</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-hibernate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-hibernate</a></p>\n<p>When I do a save() operation using the JpaRepository implementation for the entity, I am getting the following error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-6.0.4.jar:6.0.4]\n\n[More stack trace]\n\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid object name 'TABLENAME_SEQ'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-12.2.0.jre11.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1695) ~[mssql-jdbc-12.2.0.jre11.jar:na]\n...\n</code></pre>\n<p>Here is the logs for the sql generated by Hibernate:</p>\n<pre><code>Hibernate: \n    select\n        next value for TABLENAME_SEQ\n</code></pre>\n<p>I have checked the database and the sequence table indeed does not exist. For reference here is an abstraction of my entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;TABLENAME&quot;)\npublic class EntTableName {\n\n    @Id\n    @Getter\n    @Setter\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Getter\n    @Setter\n    @Column(name = &quot;COLUMN_1&quot;)\n    private String column1;\n\n// More columns here\n\n}\n\n</code></pre>\n<p>Also the application.properties:</p>\n<pre><code>#database:\nspring.datasource.url=jdbc:sqlserver://****\nspring.datasource.username=****\nspring.datasource.password=***\n#mssql driver\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>I have tried changing the dialect to org.hibernate.dialect.SQLServer2012Dialect but it did not change the error. I think changing the ID generation strategy to TABLE could fix this but it also disables batch updates, so I left it as a last resort.</p>\n<p>I have also seen this as the same error but it uses an hbm configuration, which I don't use:</p>\n<p><a href=\"https://stackoverflow.com/questions/28234366/invalid-object-name-for-hibernate-sequence-generator\">Invalid Object Name for Hibernate Sequence Generator</a></p>\n"},{"tags":["java","string","unicode","encoding"],"answers":[{"comments":[{"owner":{"account_id":10325434,"reputation":15,"user_id":7617040,"display_name":"3x_m"},"score":0,"creation_date":1488578654,"post_id":42589121,"comment_id":72310705,"body_markdown":"`System.out.println(Character.toChars(codepoint));` works! thank you!","body":"<code>System.out.println(Character.toChars(codepoint));</code> works! thank you!"}],"tags":[],"owner":{"account_id":280890,"reputation":5871,"user_id":576857,"accept_rate":88,"display_name":"Al Kepp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1488578191,"creation_date":1488578191,"answer_id":42589121,"question_id":42588961,"body_markdown":"Your problem is caused by the fact that you try to convert `int` to `char` (4 bytes to 2 bytes). The value in the `codepoint` variable cannot fit in one `char` in case of surrogate pair. Look, it is called **pair**, because it is a pair of chars. I think the simplest way how you can print it is by using `String.Substring()` method. Or you can convert it to array of char&#39;s this way: `char[] ch = Character.toChars(codepoint);` and you can convert this array back to string by simple `new String(ch)`.","title":"Java: How do I loop through characters in a string that have a surrogate pair and print them?","body":"<p>Your problem is caused by the fact that you try to convert <code>int</code> to <code>char</code> (4 bytes to 2 bytes). The value in the <code>codepoint</code> variable cannot fit in one <code>char</code> in case of surrogate pair. Look, it is called <strong>pair</strong>, because it is a pair of chars. I think the simplest way how you can print it is by using <code>String.Substring()</code> method. Or you can convert it to array of char's this way: <code>char[] ch = Character.toChars(codepoint);</code> and you can convert this array back to string by simple <code>new String(ch)</code>.</p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678090412,"creation_date":1678090412,"answer_id":75648450,"question_id":42588961,"body_markdown":"There is a simpler way to do this:\r\n\r\n    String s = &quot;h&#148321;y&#66560;\\u0500&quot;;\r\n    System.out.println(s);\r\n    s.codePoints().forEach(i -&gt; System.out.printf(&quot;%c&quot;, i));\r\n    // or:\r\n    //s.codePoints().forEach(i -&gt; System.out.print(Character.toChars(i)));","title":"Java: How do I loop through characters in a string that have a surrogate pair and print them?","body":"<p>There is a simpler way to do this:</p>\n<pre><code>String s = &quot;h𤍡y𐐀\\u0500&quot;;\nSystem.out.println(s);\ns.codePoints().forEach(i -&gt; System.out.printf(&quot;%c&quot;, i));\n// or:\n//s.codePoints().forEach(i -&gt; System.out.print(Character.toChars(i)));\n</code></pre>\n"}],"owner":{"account_id":10325434,"reputation":15,"user_id":7617040,"display_name":"3x_m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42589121,"answer_count":2,"score":0,"last_activity_date":1678090412,"creation_date":1488577534,"question_id":42588961,"body_markdown":"I tried this to loop through the characters in my string and print them. All of them are printing fine except the Deseret Long I (&#66560;). I have no idea if there are other ways to do this so that the &#66560; is printed correctly. Here is my code:\r\n\r\n    package javaapplication13;\r\n    public class JavaApplication13 {\r\n        public static void main(String[] args) {\r\n            String s = &quot;h&#148321;y&#66560;\\u0500&quot;;\r\n            System.out.println(s);\r\n            final int length = s.length();\r\n            for (int offset = 0; offset &lt; length;) {\r\n                final int codepoint = s.codePointAt(offset);\r\n                System.out.println((char) (codepoint));\r\n                offset += Character.charCount(codepoint);\r\n            }\r\n        }\r\n    }\r\n\r\nThe output looks like this (Netbeans):\r\n\r\n    run:\r\n    h&#148321;y&#66560;Ԁ\r\n    h\r\n    䍡\r\n    y\r\n    Ѐ\r\n    Ԁ\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n\r\n","title":"Java: How do I loop through characters in a string that have a surrogate pair and print them?","body":"<p>I tried this to loop through the characters in my string and print them. All of them are printing fine except the Deseret Long I (𐐀). I have no idea if there are other ways to do this so that the 𐐀 is printed correctly. Here is my code:</p>\n\n<pre><code>package javaapplication13;\npublic class JavaApplication13 {\n    public static void main(String[] args) {\n        String s = \"h𤍡y𐐀\\u0500\";\n        System.out.println(s);\n        final int length = s.length();\n        for (int offset = 0; offset &lt; length;) {\n            final int codepoint = s.codePointAt(offset);\n            System.out.println((char) (codepoint));\n            offset += Character.charCount(codepoint);\n        }\n    }\n}\n</code></pre>\n\n<p>The output looks like this (Netbeans):</p>\n\n<pre><code>run:\nh𤍡y𐐀Ԁ\nh\n䍡\ny\nЀ\nԀ\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","postgresql","kotlin","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"score":0,"creation_date":1678019542,"post_id":75642109,"comment_id":133448372,"body_markdown":"I&#39;ve fixed it by changing the Some type field to the generated one, but I don&#39;t think this is a good solution","body":"I&#39;ve fixed it by changing the Some type field to the generated one, but I don&#39;t think this is a good solution"}],"answers":[{"comments":[{"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"score":0,"creation_date":1678109169,"post_id":75648382,"comment_id":133464064,"body_markdown":"Thank you for your answer! I really love using JOOQ, it&#39;s a great product","body":"Thank you for your answer! I really love using JOOQ, it&#39;s a great product"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678089926,"creation_date":1678089926,"answer_id":75648382,"question_id":75642109,"body_markdown":"## Why doesn&#39;t it work\r\n\r\njOOQ can only auto-map `EnumType` enums to a PostgreSQL `enum` type out of the box, not custom enum types. The main reasons include:\r\n\r\n- The type name is relevant in many types of queries, where a bind variable has to be cast to the correct type, e.g. `cast(? as users.some_type)` or when using arrays: `cast(? as users.some_type[])`. It just wouldn&#39;t work, otherwise, with pgjdbc.\r\n- Some PostgreSQL enum values may be illegal identifiers in Java/kotlin/the JVM, so there needs to be a definition of `EnumType.getLiteral()` for each value, even if in many cases, that&#39;s the same value as the Java/kotlin literal for the enum.\r\n\r\nAs such, you cannot expect your own user defined type to &quot;just work&quot;. The fact that it is an `enum` doesn&#39;t change that. It&#39;s no different from e.g. a `BIGINT` column in PostgreSQL being mapped to something like `MyType`. jOOQ can&#39;t just assume any mapping.\r\n\r\n## How to get it to work\r\n\r\nYou can easily attach an [`enumConverter`][1] (or [any other type of converter][2]) to your generated column. Behind the scenes, jOOQ will still use the generated converter for variable binding, but at least in your user code, you&#39;ll only see your own type now.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/","title":"Why doesn&#39;t Jooq recognise the type?","body":"<h2>Why doesn't it work</h2>\n<p>jOOQ can only auto-map <code>EnumType</code> enums to a PostgreSQL <code>enum</code> type out of the box, not custom enum types. The main reasons include:</p>\n<ul>\n<li>The type name is relevant in many types of queries, where a bind variable has to be cast to the correct type, e.g. <code>cast(? as users.some_type)</code> or when using arrays: <code>cast(? as users.some_type[])</code>. It just wouldn't work, otherwise, with pgjdbc.</li>\n<li>Some PostgreSQL enum values may be illegal identifiers in Java/kotlin/the JVM, so there needs to be a definition of <code>EnumType.getLiteral()</code> for each value, even if in many cases, that's the same value as the Java/kotlin literal for the enum.</li>\n</ul>\n<p>As such, you cannot expect your own user defined type to &quot;just work&quot;. The fact that it is an <code>enum</code> doesn't change that. It's no different from e.g. a <code>BIGINT</code> column in PostgreSQL being mapped to something like <code>MyType</code>. jOOQ can't just assume any mapping.</p>\n<h2>How to get it to work</h2>\n<p>You can easily attach an <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\" rel=\"nofollow noreferrer\"><code>enumConverter</code></a> (or <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/\" rel=\"nofollow noreferrer\">any other type of converter</a>) to your generated column. Behind the scenes, jOOQ will still use the generated converter for variable binding, but at least in your user code, you'll only see your own type now.</p>\n"}],"owner":{"account_id":25851178,"reputation":93,"user_id":19585145,"display_name":"razzledazzle88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75648382,"answer_count":1,"score":2,"last_activity_date":1678089926,"creation_date":1678018138,"question_id":75642109,"body_markdown":"I have an enum SomeType with following structure:\r\n```\r\nenum class SomeType {\r\n\tType1, \r\n    Type2\r\n}\r\n```\r\n\r\nI also have a table with that enum:\r\n```\r\ncreate type users.some_type as enum (&#39;Type1&#39;,&#39;Type2&#39;);\r\ncreate table users.some\r\n(\r\n    id   bigint default nextval(&#39;users.some_seq&#39;),\r\n    type users.some_type not null,\r\n    primary key (id)\r\n);\r\n```\r\nThe enum is generated as:\r\n```\r\n@Suppress(&quot;UNCHECKED_CAST&quot;)\r\nenum class SomeType(@get:JvmName(&quot;literal&quot;) public val literal: String) : EnumType {\r\n    Type1(&quot;Type1&quot;),\r\n    Type2(&quot;Type2&quot;);\r\n    override fun getCatalog(): Catalog? = schema.catalog\r\n    override fun getSchema(): Schema = Users.USERS\r\n    override fun getName(): String = &quot;some_type&quot;\r\n    override fun getLiteral(): String = literal\r\n}\r\n```\r\nHowever, when I try to write an insert method for that table, it doesn&#39;t recognise the enum type:\r\n```\r\n@Transactional\r\n\tfun save(some: Some) =\r\n\t\tdslContext.insertInto(\r\n\t\t\tSOME,SOME.TYPE,\r\n\t\t).values(some.someType)\r\n```\r\nI&#39;m using Kotlin and Postgres, however I don&#39;t think that this problem is Kotlin-specific","title":"Why doesn&#39;t Jooq recognise the type?","body":"<p>I have an enum SomeType with following structure:</p>\n<pre><code>enum class SomeType {\n    Type1, \n    Type2\n}\n</code></pre>\n<p>I also have a table with that enum:</p>\n<pre><code>create type users.some_type as enum ('Type1','Type2');\ncreate table users.some\n(\n    id   bigint default nextval('users.some_seq'),\n    type users.some_type not null,\n    primary key (id)\n);\n</code></pre>\n<p>The enum is generated as:</p>\n<pre><code>@Suppress(&quot;UNCHECKED_CAST&quot;)\nenum class SomeType(@get:JvmName(&quot;literal&quot;) public val literal: String) : EnumType {\n    Type1(&quot;Type1&quot;),\n    Type2(&quot;Type2&quot;);\n    override fun getCatalog(): Catalog? = schema.catalog\n    override fun getSchema(): Schema = Users.USERS\n    override fun getName(): String = &quot;some_type&quot;\n    override fun getLiteral(): String = literal\n}\n</code></pre>\n<p>However, when I try to write an insert method for that table, it doesn't recognise the enum type:</p>\n<pre><code>@Transactional\n    fun save(some: Some) =\n        dslContext.insertInto(\n            SOME,SOME.TYPE,\n        ).values(some.someType)\n</code></pre>\n<p>I'm using Kotlin and Postgres, however I don't think that this problem is Kotlin-specific</p>\n"},{"tags":["java","apache-spark","jvm","out-of-memory","sigterm"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1678092243,"post_id":75637696,"comment_id":133459511,"body_markdown":"You don&#39;t call System.gc() inside of methods?","body":"You don&#39;t call System.gc() inside of methods?"}],"answers":[{"comments":[{"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"score":0,"creation_date":1677955285,"post_id":75637809,"comment_id":133440895,"body_markdown":"No it&#39;s not kubernetes. It&#39;s a vm.","body":"No it&#39;s not kubernetes. It&#39;s a vm."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1677955828,"post_id":75637809,"comment_id":133440998,"body_markdown":"Maybe `-Xmx1000m` isn&#39;t enough then :-)","body":"Maybe <code>-Xmx1000m</code> isn&#39;t enough then :-)"},{"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"score":0,"creation_date":1677956036,"post_id":75637809,"comment_id":133441041,"body_markdown":"Yes it seems because the executor process which worker is submitting is failing repeatedly and this might lead to growing heap space. But which process is sending SIGTERM and why is jvm not exiting . Why does it face outofmemory again while handling SIGTERM? \nIs it possible that it requires some heap space to handle SIGTERM too?","body":"Yes it seems because the executor process which worker is submitting is failing repeatedly and this might lead to growing heap space. But which process is sending SIGTERM and why is jvm not exiting . Why does it face outofmemory again while handling SIGTERM?  Is it possible that it requires some heap space to handle SIGTERM too?"},{"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"score":0,"creation_date":1677956231,"post_id":75637809,"comment_id":133441080,"body_markdown":"My main concern is that I am trying to find the root cause of why the worker process  is still up but it&#39;s not processing anything, it is not sending heartbeat to master. Why is jvm stuck . Normally when OOM occurs, jvm just exits.","body":"My main concern is that I am trying to find the root cause of why the worker process  is still up but it&#39;s not processing anything, it is not sending heartbeat to master. Why is jvm stuck . Normally when OOM occurs, jvm just exits."},{"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"score":0,"creation_date":1677956314,"post_id":75637809,"comment_id":133441105,"body_markdown":"Saw the edit now. VM has 100GB memory.","body":"Saw the edit now. VM has 100GB memory."},{"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"score":0,"creation_date":1677959097,"post_id":75637809,"comment_id":133441603,"body_markdown":"No I didn&#39;t  try by increasing heap memory.","body":"No I didn&#39;t  try by increasing heap memory."},{"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"score":0,"creation_date":1677959602,"post_id":75637809,"comment_id":133441675,"body_markdown":"While by increasing heap memory I will be able to mitigate but not find the root cause like which process has sent SIGTERM , why  did jvm get stuck,etc. Although on trying to reproduce it with 1gb heap size only , this time it called shutdown hook manager and logged RECEIVED SIGNAL TWRM. So the difference this time is that when heap size increased and out of memory occurred , it was still able to gracefully handle the SIGTERM instead of throwing error while handling it.","body":"While by increasing heap memory I will be able to mitigate but not find the root cause like which process has sent SIGTERM , why  did jvm get stuck,etc. Although on trying to reproduce it with 1gb heap size only , this time it called shutdown hook manager and logged RECEIVED SIGNAL TWRM. So the difference this time is that when heap size increased and out of memory occurred , it was still able to gracefully handle the SIGTERM instead of throwing error while handling it."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1677969236,"post_id":75637809,"comment_id":133443222,"body_markdown":"I think you have to look at you System Journal and find out if the image that you have selected has process limits at the operating system that you are violating and adjust them accordingly. The Linux OOMKiller just doesn&#39;t go around randomly killing processes.\n\nHow much data are you trying to process? Does it even realistically fit into 100GB? Is that where your MX limit has to be?","body":"I think you have to look at you System Journal and find out if the image that you have selected has process limits at the operating system that you are violating and adjust them accordingly. The Linux OOMKiller just doesn&#39;t go around randomly killing processes.  How much data are you trying to process? Does it even realistically fit into 100GB? Is that where your MX limit has to be?"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677957027,"creation_date":1677954891,"answer_id":75637809,"question_id":75637696,"body_markdown":"OP confirmed that it isn&#39;t Kubernetes but a VM.\r\n\r\n*Total RAM on worker node = 100GB*\r\n\r\n*worker node* is the VM.\r\n\r\nHave you tried upping the may heap size `-Xmx3000m` ?","title":"OutOfMemoryError in Spark worker process leaves jvm in hanging state","body":"<p>OP confirmed that it isn't Kubernetes but a VM.</p>\n<p><em>Total RAM on worker node = 100GB</em></p>\n<p><em>worker node</em> is the VM.</p>\n<p>Have you tried upping the may heap size <code>-Xmx3000m</code> ?</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678089651,"creation_date":1677966244,"answer_id":75638854,"question_id":75637696,"body_markdown":"**1. Which process could have sent SIGTERM?**\r\n\r\nTheoretically any process within user scope can send the signal. That is the same user running the JVM or the root user. It could be a daemon you use to watch over the responsiveness of the JVM (something like [Apache Commons Daemon][1]). How to trace where a signal came from is probably better asked on [ServerFault][2] or [SuperUser][3], but there have been questions like https://stackoverflow.com/questions/8400530/how-can-i-tell-in-linux-which-process-sent-my-process-a-signal.\r\n\r\n**2. Since there was enough system memory available why did OS or whichever process send the signal , shouldn&#39;t jvm exit by itself in case of OutOFMemory issue ?**\r\n\r\nWe cannot tell why a SIGTERM was sent. But that signal is a request to shutdown, the JVM would respond by running the shutdown hooks and exit on it&#39;s own. Something that is difficult if it went into OutOfMemory already.\r\nThe next thing you would usually send is a SIGKILL, which tells the OS to remove the process.\r\n\r\nYou can have an automatic trigger of that SIGKILL by following https://serverfault.com/a/826779\r\n\r\n\r\n**3. When jvm was handling SIGTERM why did OutOfMemory occur ?**\r\n\r\nThat exact reason is to be found in the application you are running, combined with the events and data it needs to process. For server applications it is common to run shutdown code when they are going down.\r\n\r\nOften the JVM - after hitting an OutOfMemoryError is in an invalid state.\r\nThe reason is that some object could no longer be allocated, and while throwing the Error (and processing it in various catch closes, logging it to disk etc) it again needs to allocate memory which can easily fail as well.\r\n\r\n**4. Why is the process still up?**\r\nThe request to shutdown was not successfully processed by the JVM as it is in a nonhealthy state. So the process did not terminate itself, and the OS has no reason to force termination.\r\n\r\n**Next Steps**\r\n\r\nFor operations it may be suitable to increase the total JVM memory and perform sanity reboots. The tricky part is that the code that needs memory often is not the culprit that has not released memory in time, so the error&#39;s stack trace may be misleading. You will have to analyze the memory usage, which works https://stackoverflow.com/questions/542979/using-heapdumponoutofmemoryerror-parameter-for-heap-dump-for-jboss. Also consider activating https://serverfault.com/questions/826735/how-to-restart-java-app-managed-by-systemd-on-outofmemory-errors\r\n\r\nFor developers it may make sense to reduce total JVM memory to easily reproduce the situation and also analyze the logs and heap dumps from operations.\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-daemon/\r\n  [2]: https://serverfault.com/\r\n  [3]: https://stackexchange.com/sites#","title":"OutOfMemoryError in Spark worker process leaves jvm in hanging state","body":"<p><strong>1. Which process could have sent SIGTERM?</strong></p>\n<p>Theoretically any process within user scope can send the signal. That is the same user running the JVM or the root user. It could be a daemon you use to watch over the responsiveness of the JVM (something like <a href=\"https://commons.apache.org/proper/commons-daemon/\" rel=\"nofollow noreferrer\">Apache Commons Daemon</a>). How to trace where a signal came from is probably better asked on <a href=\"https://serverfault.com/\">ServerFault</a> or <a href=\"https://stackexchange.com/sites#\">SuperUser</a>, but there have been questions like <a href=\"https://stackoverflow.com/questions/8400530/how-can-i-tell-in-linux-which-process-sent-my-process-a-signal\">How can I tell in Linux which process sent my process a signal</a>.</p>\n<p><strong>2. Since there was enough system memory available why did OS or whichever process send the signal , shouldn't jvm exit by itself in case of OutOFMemory issue ?</strong></p>\n<p>We cannot tell why a SIGTERM was sent. But that signal is a request to shutdown, the JVM would respond by running the shutdown hooks and exit on it's own. Something that is difficult if it went into OutOfMemory already.\nThe next thing you would usually send is a SIGKILL, which tells the OS to remove the process.</p>\n<p>You can have an automatic trigger of that SIGKILL by following <a href=\"https://serverfault.com/a/826779\">https://serverfault.com/a/826779</a></p>\n<p><strong>3. When jvm was handling SIGTERM why did OutOfMemory occur ?</strong></p>\n<p>That exact reason is to be found in the application you are running, combined with the events and data it needs to process. For server applications it is common to run shutdown code when they are going down.</p>\n<p>Often the JVM - after hitting an OutOfMemoryError is in an invalid state.\nThe reason is that some object could no longer be allocated, and while throwing the Error (and processing it in various catch closes, logging it to disk etc) it again needs to allocate memory which can easily fail as well.</p>\n<p><strong>4. Why is the process still up?</strong>\nThe request to shutdown was not successfully processed by the JVM as it is in a nonhealthy state. So the process did not terminate itself, and the OS has no reason to force termination.</p>\n<p><strong>Next Steps</strong></p>\n<p>For operations it may be suitable to increase the total JVM memory and perform sanity reboots. The tricky part is that the code that needs memory often is not the culprit that has not released memory in time, so the error's stack trace may be misleading. You will have to analyze the memory usage, which works <a href=\"https://stackoverflow.com/questions/542979/using-heapdumponoutofmemoryerror-parameter-for-heap-dump-for-jboss\">Using HeapDumpOnOutOfMemoryError parameter for heap dump for JBoss</a>. Also consider activating <a href=\"https://serverfault.com/questions/826735/how-to-restart-java-app-managed-by-systemd-on-outofmemory-errors\">https://serverfault.com/questions/826735/how-to-restart-java-app-managed-by-systemd-on-outofmemory-errors</a></p>\n<p>For developers it may make sense to reduce total JVM memory to easily reproduce the situation and also analyze the logs and heap dumps from operations.</p>\n"}],"owner":{"account_id":17872206,"reputation":63,"user_id":12983195,"display_name":"Calypso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678089651,"creation_date":1677953862,"question_id":75637696,"body_markdown":"I faced this exception in spark worker node \r\n\r\n        Exception in thread &quot;dispatcher-event-loop-14&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n        at java.util.HashMap.newNode(HashMap.java:1747)\r\n        at java.util.HashMap.putVal(HashMap.java:631)\r\n        at java.util.HashMap.put(HashMap.java:612)\r\n        at java.util.HashSet.add(HashSet.java:220)\r\n        at java.io.ObjectStreamClass.getClassDataLayout0(ObjectStreamClass.java:1317)\r\n        at java.io.ObjectStreamClass.getClassDataLayout(ObjectStreamClass.java:1295)\r\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1480)\r\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n        at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:43)\r\n        at org.apache.spark.rpc.netty.RequestMessage.serialize(NettyRpcEnv.scala:557)\r\n        at org.apache.spark.rpc.netty.NettyRpcEnv.send(NettyRpcEnv.scala:192)\r\n        at org.apache.spark.rpc.netty.NettyRpcEndpointRef.send(NettyRpcEnv.scala:520)\r\n        at org.apache.spark.deploy.worker.Worker.org$apache$spark$deploy$worker$Worker$$sendToMaster(Worker.scala:638)\r\n        at org.apache.spark.deploy.worker.Worker$$anonfun$receive$1.applyOrElse(Worker.scala:524)\r\n        at org.apache.spark.rpc.netty.Inbox$$anonfun$process$1.apply$mcV$sp(Inbox.scala:117)\r\n        at org.apache.spark.rpc.netty.Inbox.safelyCall(Inbox.scala:205)\r\n        at org.apache.spark.rpc.netty.Inbox.process(Inbox.scala:101)\r\n        at org.apache.spark.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:216)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Exception java.lang.OutOfMemoryError occurred dispatching signal SIGTERM to handler- the VM may need to be forcibly terminated.\r\n\r\nJust before this exception worker was repeatedly launching an executor as executor was exiting :-\r\n\r\n    EXITING with Code 1 and exitStatus 1\r\n\r\nConfigs:-\r\n\r\n - -Xmx for worker process = 1GB\r\n - Total RAM on worker node = 100GB\r\n - Java 8\r\n - Spark 2.2.1\r\n\r\nWhen this exception occurred , 90% of system memory was free.\r\nAfter this expection the process is still up but this worker is disassociated with the master and is not processing anything.\r\n\r\nNow as per https://stackoverflow.com/a/48743757 thread , what I understand is that worker process was facing OutOFMemory issue due to repeated submission of the executor.\r\nAt this point some process sent SIGTERM to worker jvm and while handling this jvm faced OutOfMemory issue.\r\n\r\n 1. Which process could have sent SIGTERM? \r\n 2. Since there was enough system memory available why did OS or whichever process send the signal , shouldn&#39;t jvm exit by itself in case of OutOFMemory issue ?\r\n 3. When jvm was handling SIGTERM why did OutOfMemory occur ?\r\n 4. Why is the process still up?\r\n\r\n","title":"OutOfMemoryError in Spark worker process leaves jvm in hanging state","body":"<p>I faced this exception in spark worker node</p>\n<pre><code>    Exception in thread &quot;dispatcher-event-loop-14&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\n    at java.util.HashMap.newNode(HashMap.java:1747)\n    at java.util.HashMap.putVal(HashMap.java:631)\n    at java.util.HashMap.put(HashMap.java:612)\n    at java.util.HashSet.add(HashSet.java:220)\n    at java.io.ObjectStreamClass.getClassDataLayout0(ObjectStreamClass.java:1317)\n    at java.io.ObjectStreamClass.getClassDataLayout(ObjectStreamClass.java:1295)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1480)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:43)\n    at org.apache.spark.rpc.netty.RequestMessage.serialize(NettyRpcEnv.scala:557)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.send(NettyRpcEnv.scala:192)\n    at org.apache.spark.rpc.netty.NettyRpcEndpointRef.send(NettyRpcEnv.scala:520)\n    at org.apache.spark.deploy.worker.Worker.org$apache$spark$deploy$worker$Worker$$sendToMaster(Worker.scala:638)\n    at org.apache.spark.deploy.worker.Worker$$anonfun$receive$1.applyOrElse(Worker.scala:524)\n    at org.apache.spark.rpc.netty.Inbox$$anonfun$process$1.apply$mcV$sp(Inbox.scala:117)\n    at org.apache.spark.rpc.netty.Inbox.safelyCall(Inbox.scala:205)\n    at org.apache.spark.rpc.netty.Inbox.process(Inbox.scala:101)\n    at org.apache.spark.rpc.netty.Dispatcher$MessageLoop.run(Dispatcher.scala:216)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nJava HotSpot(TM) 64-Bit Server VM warning: Exception java.lang.OutOfMemoryError occurred dispatching signal SIGTERM to handler- the VM may need to be forcibly terminated.\n</code></pre>\n<p>Just before this exception worker was repeatedly launching an executor as executor was exiting :-</p>\n<pre><code>EXITING with Code 1 and exitStatus 1\n</code></pre>\n<p>Configs:-</p>\n<ul>\n<li>-Xmx for worker process = 1GB</li>\n<li>Total RAM on worker node = 100GB</li>\n<li>Java 8</li>\n<li>Spark 2.2.1</li>\n</ul>\n<p>When this exception occurred , 90% of system memory was free.\nAfter this expection the process is still up but this worker is disassociated with the master and is not processing anything.</p>\n<p>Now as per <a href=\"https://stackoverflow.com/a/48743757\">https://stackoverflow.com/a/48743757</a> thread , what I understand is that worker process was facing OutOFMemory issue due to repeated submission of the executor.\nAt this point some process sent SIGTERM to worker jvm and while handling this jvm faced OutOfMemory issue.</p>\n<ol>\n<li>Which process could have sent SIGTERM?</li>\n<li>Since there was enough system memory available why did OS or whichever process send the signal , shouldn't jvm exit by itself in case of OutOFMemory issue ?</li>\n<li>When jvm was handling SIGTERM why did OutOfMemory occur ?</li>\n<li>Why is the process still up?</li>\n</ol>\n"},{"tags":["java","spring","redis"],"answers":[{"comments":[{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1617973312,"post_id":67018133,"comment_id":118467707,"body_markdown":"doesn&#39;t work for me as I don&#39;t have a &quot;RedisTemplate&quot; to autowire","body":"doesn&#39;t work for me as I don&#39;t have a &quot;RedisTemplate&quot; to autowire"},{"owner":{"account_id":319487,"reputation":252,"user_id":637278,"display_name":"Razeen"},"score":0,"creation_date":1617978801,"post_id":67018133,"comment_id":118470451,"body_markdown":"Spring boot docs says it is available: https://docs.spring.io/spring-data/redis/docs/1.4.0.RELEASE/api/org/springframework/data/redis/core/RedisTemplate.html","body":"Spring boot docs says it is available: <a href=\"https://docs.spring.io/spring-data/redis/docs/1.4.0.RELEASE/api/org/springframework/data/redis/core/RedisTemplate.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/redis/docs/1.4.0.RELEASE/api/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1617988152,"post_id":67018133,"comment_id":118474783,"body_markdown":"that&#39;s for 1.x I&#39;m on spring-data-redis-2.3.5.  The one I linked to also uses 1.x, hence why I created this one and titlled it explicitly for 2.x","body":"that&#39;s for 1.x I&#39;m on spring-data-redis-2.3.5.  The one I linked to also uses 1.x, hence why I created this one and titlled it explicitly for 2.x"},{"owner":{"account_id":319487,"reputation":252,"user_id":637278,"display_name":"Razeen"},"score":1,"creation_date":1618209128,"post_id":67018133,"comment_id":118522744,"body_markdown":"This code is for all versions. Notice that I did state &quot;spring boot 2&quot; in my post with the code. I originally wrote that code against v2.1.0 You just need to configure your redistemplate/cachemanager objects as annotated beans.","body":"This code is for all versions. Notice that I did state &quot;spring boot 2&quot; in my post with the code. I originally wrote that code against v2.1.0 You just need to configure your redistemplate/cachemanager objects as annotated beans."}],"tags":[],"owner":{"account_id":319487,"reputation":252,"user_id":637278,"display_name":"Razeen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617958902,"creation_date":1617958902,"answer_id":67018133,"question_id":67012624,"body_markdown":"I did this several years ago with spring boot 2 (so not sure if this&#39;ll work for you with v1), but what I remember is that the Redis cache is actually built upon a number of caches, each having a name. This is typically setup in a `@Configuration` class. Each cache is then just a map of key-value pairs, which is what the application would supply.\r\n\r\nThis is just an example for this use-case (where the developer fully controls the caching), as I wasn&#39;t really interested in the Spring-annotated methods for caching method responses.\r\n\r\nIn my configuration class, I create a `CacheManager` object which is configured with the various caches I intend to use within my application, and those would include the names and their TTL values supplied in a hashmap.\r\n\r\nHere&#39;s some code (untested, so you may need to tweak it):\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n    \r\n    @Autowired\r\n    private RedisTemplate redisTemplate;\r\n    \r\n    \r\n    public String getValue(String cacheName, String key) {\r\n      cacheManager.getCache(cacheName).get(key);\r\n    }\r\n    \r\n    public Map&lt;String, String&gt; getCache(String cacheName) {\r\n    \treturn redisTemplate\r\n    \t  .keys(cacheName+&quot;*&quot;)\r\n    \t  .parallelStream()\r\n    \t  .map(key -&gt; {\r\n    \t\t  Map&lt;String, String&gt; cacheEntries = new HashMap&lt;&gt;();\r\n    \t\t  cacheEntries.put(key, getValue(cacheName, key));\r\n    \t\t  return cacheEntries;\r\n    \t\t}\r\n    \t  )\r\n    \t  .collect(Collectors.toList());\r\n    }\r\n    \r\n    public void getAllCaches() {\r\n      cacheManager.getCacheNames().forEach(cacheName -&gt; {\r\n        Map&lt;String, String&gt; cacheObject = getCache(cacheName);\r\n    \tcacheObject.entrySet().stream().peek(entry -&gt; {\r\n    \t  System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\r\n    \t});\r\n      }\r\n    }\r\n\r\n","title":"How do I get all the keys from a redis cache via Spring Boot with Spring Data Redis 2.x?","body":"<p>I did this several years ago with spring boot 2 (so not sure if this'll work for you with v1), but what I remember is that the Redis cache is actually built upon a number of caches, each having a name. This is typically setup in a <code>@Configuration</code> class. Each cache is then just a map of key-value pairs, which is what the application would supply.</p>\n<p>This is just an example for this use-case (where the developer fully controls the caching), as I wasn't really interested in the Spring-annotated methods for caching method responses.</p>\n<p>In my configuration class, I create a <code>CacheManager</code> object which is configured with the various caches I intend to use within my application, and those would include the names and their TTL values supplied in a hashmap.</p>\n<p>Here's some code (untested, so you may need to tweak it):</p>\n<pre><code>@Autowired\nprivate CacheManager cacheManager;\n\n@Autowired\nprivate RedisTemplate redisTemplate;\n\n\npublic String getValue(String cacheName, String key) {\n  cacheManager.getCache(cacheName).get(key);\n}\n\npublic Map&lt;String, String&gt; getCache(String cacheName) {\n    return redisTemplate\n      .keys(cacheName+&quot;*&quot;)\n      .parallelStream()\n      .map(key -&gt; {\n          Map&lt;String, String&gt; cacheEntries = new HashMap&lt;&gt;();\n          cacheEntries.put(key, getValue(cacheName, key));\n          return cacheEntries;\n        }\n      )\n      .collect(Collectors.toList());\n}\n\npublic void getAllCaches() {\n  cacheManager.getCacheNames().forEach(cacheName -&gt; {\n    Map&lt;String, String&gt; cacheObject = getCache(cacheName);\n    cacheObject.entrySet().stream().peek(entry -&gt; {\n      System.out.println(entry.getKey() + &quot; = &quot; + entry.getValue());\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678089636,"creation_date":1678089636,"answer_id":75648341,"question_id":67012624,"body_markdown":"Quite late for op but in case it helps any visitor. I&#39;d a similar requirement:\r\n\r\n    public StringBuffer getAllKeys() {\r\n\r\n     \r\n       StringBuffer sb = new StringBuffer();\r\n\r\n       Set&lt;byte[]&gt; keys = redisTemplate.getConnectionFactory().getConnection().keys(&quot;*&quot;.getBytes());\r\n\r\n       Iterator&lt;byte[]&gt; it = keys.iterator();\r\n\r\n       while(it.hasNext()){\r\n\r\n           byte[] data = (byte[])it.next();\r\n           sb.append(new String(data, 0, data.length));\r\n              }\r\n\r\n       return sb;\r\n    }","title":"How do I get all the keys from a redis cache via Spring Boot with Spring Data Redis 2.x?","body":"<p>Quite late for op but in case it helps any visitor. I'd a similar requirement:</p>\n<pre><code>public StringBuffer getAllKeys() {\n\n \n   StringBuffer sb = new StringBuffer();\n\n   Set&lt;byte[]&gt; keys = redisTemplate.getConnectionFactory().getConnection().keys(&quot;*&quot;.getBytes());\n\n   Iterator&lt;byte[]&gt; it = keys.iterator();\n\n   while(it.hasNext()){\n\n       byte[] data = (byte[])it.next();\n       sb.append(new String(data, 0, data.length));\n          }\n\n   return sb;\n}\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7775,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678089636,"creation_date":1617920431,"question_id":67012624,"body_markdown":"I am trying to get the entries in a Spring Boot Cache backed by Redis https://stackoverflow.com/questions/48473404/how-do-i-get-all-the-keys-from-a-redis-cache-via-spring-boot uses 1.x of Spring-Data-Redis and the current version uses `DefaultRedisCacheWriter` for the native cache.\r\n","title":"How do I get all the keys from a redis cache via Spring Boot with Spring Data Redis 2.x?","body":"<p>I am trying to get the entries in a Spring Boot Cache backed by Redis <a href=\"https://stackoverflow.com/questions/48473404/how-do-i-get-all-the-keys-from-a-redis-cache-via-spring-boot\">How do I get all the keys from a redis cache via Spring Boot?</a> uses 1.x of Spring-Data-Redis and the current version uses <code>DefaultRedisCacheWriter</code> for the native cache.</p>\n"},{"tags":["java","mysql","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678089539,"creation_date":1678089539,"answer_id":75648331,"question_id":75634880,"body_markdown":"## Why this works as &quot;expected&quot;:\r\n\r\nThat&#39;s a very interesting case, and looking only at the API usage, it at first seems like a bug where the rows from the second `UNION ALL` subquery should be mapped to `B`, but are instead mapped to `A`.\r\n\r\nBut jOOQ cannot possibly discriminate between rows produced from the first subquery and the second one. Only the database server might know about the origin of each row. Think of how jOOQ works behind the scenes:\r\n\r\n- The query is being generated the way you wrote it ([ad-hoc converters][1] don&#39;t play a role in this, being completely client side mapping implementations)\r\n- The JDBC driver returns rows via `ResultSet`\r\n- jOOQ maps those rows to your custom data type `A`, which is the type of the query for all `UNION ALL` subqueries (just like the names of the columns are derived only from the first `UNION ALL` subquery)\r\n\r\nIn your particular case, you tell the compiler to infer `List&lt;Something&gt;` as the result type via your explicit declaration. That&#39;s why you can still compile your `mapping(B::new)` from the second subquery, but what you&#39;re really getting is a `List&lt;A&gt;`, because jOOQ will only use the first `UNION ALL` subquery&#39;s row type for the actual results, given that it cannot discriminate between the two.\r\n\r\nSince this issue came up on the issue tracker a few times, there&#39;s now a section in the manual explaining this, as well as a blog post:\r\n\r\n- https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/set-operations/set-operation-rowtype/\r\n- https://blog.jooq.org/how-to-use-jooqs-converters-with-union-operations/\r\n\r\nNote, this isn&#39;t limited to [ad-hoc converters][1]. It works this way for any type of converter or binding.\r\n\r\n## A workaround using an explicit discriminator\r\n\r\nYou can always implement a discriminator aware converter yourself:\r\n\r\n```java\r\nFunction3&lt;String, Integer, String, Something&gt; converter = \r\n    (discriminator, id, name) -&gt; {\r\n        switch (discriminator) {\r\n            case &quot;A&quot;: return new A(id, name);\r\n            case &quot;B&quot;: return new B(id, name);\r\n            default: throw new IllegalArgumentException();\r\n        }\r\n    };\r\n\r\nList&lt;Something&gt; records = db.select(\r\n  row(inline(&quot;A&quot;), TABLE_A.ID, TABLE_A.NAME).mapping(converter)\r\n)\r\n.from(TABLE_A)\r\n.unionAll(\r\n   select( \r\n       row(inline(&quot;B&quot;), TABLE_A.ID, TABLE_A.NAME).mapping(converter)\r\n   ).from(TABLE_B)\r\n).fetch(Record1::component1);\r\n```\r\n\r\nThis is a bit more verbose, but now it does exactly what you&#39;re expecting. Note that the second `UNION ALL` subquery still needs a reference to the `converter` in order to compile.\r\n\r\n## Mapping only globally\r\n\r\nMaybe even easier in this particular case, map things globally instead of per `UNION ALL` subquery (the actual query might be more complicated, of course):\r\n\r\n\r\n```java\r\nList&lt;Something&gt; records = db.select(inline(&quot;A&quot;), TABLE_A.ID, TABLE_A.NAME)\r\n.from(TABLE_A)\r\n.unionAll(\r\n   select(inline(&quot;B&quot;), TABLE_A.ID,TABLE_A.NAME)\r\n  .from(TABLE_B)\r\n).fetch((discriminator, id, name) -&gt; {\r\n    switch (discriminator) {\r\n        case &quot;A&quot;: return new A(id, name);\r\n        case &quot;B&quot;: return new B(id, name);\r\n        default: throw new IllegalArgumentException();\r\n    }\r\n});\r\n```\r\n\r\nNow, it is a bit less confusing, as you don&#39;t have to map the two subqueries twice anymore, only the global result, once.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"JOOQ: ad-hoc converters ignored in union query with multiple converters","body":"<h2>Why this works as &quot;expected&quot;:</h2>\n<p>That's a very interesting case, and looking only at the API usage, it at first seems like a bug where the rows from the second <code>UNION ALL</code> subquery should be mapped to <code>B</code>, but are instead mapped to <code>A</code>.</p>\n<p>But jOOQ cannot possibly discriminate between rows produced from the first subquery and the second one. Only the database server might know about the origin of each row. Think of how jOOQ works behind the scenes:</p>\n<ul>\n<li>The query is being generated the way you wrote it (<a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a> don't play a role in this, being completely client side mapping implementations)</li>\n<li>The JDBC driver returns rows via <code>ResultSet</code></li>\n<li>jOOQ maps those rows to your custom data type <code>A</code>, which is the type of the query for all <code>UNION ALL</code> subqueries (just like the names of the columns are derived only from the first <code>UNION ALL</code> subquery)</li>\n</ul>\n<p>In your particular case, you tell the compiler to infer <code>List&lt;Something&gt;</code> as the result type via your explicit declaration. That's why you can still compile your <code>mapping(B::new)</code> from the second subquery, but what you're really getting is a <code>List&lt;A&gt;</code>, because jOOQ will only use the first <code>UNION ALL</code> subquery's row type for the actual results, given that it cannot discriminate between the two.</p>\n<p>Since this issue came up on the issue tracker a few times, there's now a section in the manual explaining this, as well as a blog post:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/set-operations/set-operation-rowtype/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/set-operations/set-operation-rowtype/</a></li>\n<li><a href=\"https://blog.jooq.org/how-to-use-jooqs-converters-with-union-operations/\" rel=\"nofollow noreferrer\">https://blog.jooq.org/how-to-use-jooqs-converters-with-union-operations/</a></li>\n</ul>\n<p>Note, this isn't limited to <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a>. It works this way for any type of converter or binding.</p>\n<h2>A workaround using an explicit discriminator</h2>\n<p>You can always implement a discriminator aware converter yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function3&lt;String, Integer, String, Something&gt; converter = \n    (discriminator, id, name) -&gt; {\n        switch (discriminator) {\n            case &quot;A&quot;: return new A(id, name);\n            case &quot;B&quot;: return new B(id, name);\n            default: throw new IllegalArgumentException();\n        }\n    };\n\nList&lt;Something&gt; records = db.select(\n  row(inline(&quot;A&quot;), TABLE_A.ID, TABLE_A.NAME).mapping(converter)\n)\n.from(TABLE_A)\n.unionAll(\n   select( \n       row(inline(&quot;B&quot;), TABLE_A.ID, TABLE_A.NAME).mapping(converter)\n   ).from(TABLE_B)\n).fetch(Record1::component1);\n</code></pre>\n<p>This is a bit more verbose, but now it does exactly what you're expecting. Note that the second <code>UNION ALL</code> subquery still needs a reference to the <code>converter</code> in order to compile.</p>\n<h2>Mapping only globally</h2>\n<p>Maybe even easier in this particular case, map things globally instead of per <code>UNION ALL</code> subquery (the actual query might be more complicated, of course):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Something&gt; records = db.select(inline(&quot;A&quot;), TABLE_A.ID, TABLE_A.NAME)\n.from(TABLE_A)\n.unionAll(\n   select(inline(&quot;B&quot;), TABLE_A.ID,TABLE_A.NAME)\n  .from(TABLE_B)\n).fetch((discriminator, id, name) -&gt; {\n    switch (discriminator) {\n        case &quot;A&quot;: return new A(id, name);\n        case &quot;B&quot;: return new B(id, name);\n        default: throw new IllegalArgumentException();\n    }\n});\n</code></pre>\n<p>Now, it is a bit less confusing, as you don't have to map the two subqueries twice anymore, only the global result, once.</p>\n"}],"owner":{"account_id":27926021,"reputation":35,"user_id":21325123,"display_name":"Matt Snider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75648331,"answer_count":1,"score":2,"last_activity_date":1678089539,"creation_date":1677923662,"question_id":75634880,"body_markdown":"It seems when running a union query with multiple converters, the second ad-hoc converter is ignored. \r\n\r\nFor example:\r\n\r\n```java\r\nrecord A(UInteger id, String name) implements Something { };\r\nrecord B(UInteger id, String name) implements Something { };\r\n\r\n// ... \r\nList&lt;Something&gt; record = db.select(\r\n  row(TABLE_A.ID,TABLE_A.NAME).mapping(A::new)\r\n)\r\n.from(TABLE_A)\r\n.unionAll(\r\n   select(\r\n       row(TABLE_A.ID,TABLE_A.NAME).mapping(B::new)\r\n   ).from(TABLE_B)\r\n).fetch(Record1::component1);\r\n```\r\n\r\nAll results end up as `A` and the second ad-hoc converter gets ignored.","title":"JOOQ: ad-hoc converters ignored in union query with multiple converters","body":"<p>It seems when running a union query with multiple converters, the second ad-hoc converter is ignored.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record A(UInteger id, String name) implements Something { };\nrecord B(UInteger id, String name) implements Something { };\n\n// ... \nList&lt;Something&gt; record = db.select(\n  row(TABLE_A.ID,TABLE_A.NAME).mapping(A::new)\n)\n.from(TABLE_A)\n.unionAll(\n   select(\n       row(TABLE_A.ID,TABLE_A.NAME).mapping(B::new)\n   ).from(TABLE_B)\n).fetch(Record1::component1);\n</code></pre>\n<p>All results end up as <code>A</code> and the second ad-hoc converter gets ignored.</p>\n"},{"tags":["java","android","firebase","google-maps"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678097891,"post_id":75648268,"comment_id":133460995,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped. Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped. Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."}],"owner":{"account_id":27945099,"reputation":11,"user_id":21340259,"display_name":"Yuga Ganesh Vasaikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678089058,"creation_date":1678089058,"question_id":75648268,"body_markdown":"My fragment contains map and a searchView where user enters product name. After selecting the product name from suggestions, I want to add the markers to the map. Since there are multiple requests being sent to firebase, I receive product locations multiple times asynchronously (since it is a network call). I want to add markers asynchronously to my map in the fragment.\r\n\r\n\r\n\r\nInside `onMapReady` I have already stored the `googleMap` inside another variable `map` outside the function. After receiving locations from firebase I tried adding those markers using `map` variable but it didn&#39;t display new markers and app didn&#39;t crash either.\r\n\r\nI&#39;m using this function to add the new markers to my `map` variable.\r\n\r\n    private void addShopsLatnLong(List&lt;String&gt; shopsList) {\r\n        newPoints = true;\r\n        if (shopsList.size() &gt; 0) {\r\n            Log.d(TAG, &quot;addshops called&quot;);\r\n            FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n\r\n            for (String shopId : shopsList) {\r\n                firestore.collection(constants.getOwner()).document(shopId)\r\n                        .get()\r\n                        .addOnSuccessListener(documentSnapshot -&gt; {\r\n                            Profile profile = documentSnapshot.toObject(Profile.class);\r\n                            map.addMarker(new MarkerOptions().position(new LatLng(profile.getLatitude(),profile.getLongitude())));\r\n                            Log.d(TAG, &quot;points &quot; + profile.getLatitude() + &quot; &quot; + profile.getLongitude());\r\n                        })\r\n                        .addOnFailureListener(e -&gt; Log.d(TAG, &quot;error: &quot; + e.getMessage()));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere I&#39;m assigning value to my `map` variable.\r\n\r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n            map = googleMap;\r\n            Log.d(TAG, &quot;onMapReady called&quot;);\r\n            runnable= () -&gt; {\r\n                for (LatLng latLng : locationArrayList) {\r\n                    map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\r\n                    map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                }\r\n            };\r\n            if (newPoints) {\r\n                Log.d(TAG, &quot;size for new points - &quot; + locationArrayList.size());\r\n                for (LatLng latLng : locationArrayList) {\r\n                    map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\r\n                    map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                }\r\n            } else {\r\n                firebaseAuth = FirebaseAuth.getInstance();\r\n                firebaseFirestore = FirebaseFirestore.getInstance();\r\n                constants = new FiresStoreTableConstants();\r\n                final String email = firebaseAuth.getCurrentUser().getEmail();\r\n                firebaseFirestore.collection(constants.getCustomer()).document(email)\r\n                        .get()\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                Profile profile = documentSnapshot.toObject(Profile.class);\r\n                                Log.d(TAG, &quot;profile:&quot; + profile);\r\n                                LatLng you = new LatLng(profile.getLatitude(), profile.getLongitude());\r\n                                map.addMarker(new MarkerOptions().position(you).title(&quot;You!!&quot;));\r\n                                map.moveCamera(CameraUpdateFactory.newLatLng(you));\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(e -&gt; e.printStackTrace());\r\n            }\r\n        }\r\n\r\n\r\n# What I tried -\r\n\r\n- I created a runnable which would be responsible for adding new markers and then assigned it&#39;s value inside `onMapReady`.(Since that didn&#39;t work I tried other options and hence the entire logic isn&#39;t present here.\r\n- I tried using LiveData to assign markers that didn&#39;t work either.\r\n\r\n# Just in case you want the entire code here it is -\r\n```\r\npackage com.example.ec_geocustomer;\r\n\r\nimport static androidx.constraintlayout.helper.widget.MotionEffect.TAG;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.SearchManager;\r\nimport android.database.Cursor;\r\nimport android.database.MatrixCursor;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.provider.BaseColumns;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.cursoradapter.widget.CursorAdapter;\r\nimport androidx.cursoradapter.widget.SimpleCursorAdapter;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\nimport com.example.ec_geocustomer.data.FiresStoreTableConstants;\r\nimport com.example.ec_geocustomer.data.Profile;\r\nimport com.example.ec_geocustomer.databinding.FragmentSearchViewBinding;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\npublic class SearchViewFragment extends Fragment {\r\n\r\n    private static String barcode;\r\n    FragmentSearchViewBinding binding;\r\n    boolean newPoints = false;\r\n    ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;&gt;();\r\n//    MutableLiveData&lt;ArrayList&lt;LatLng&gt;&gt; testLive = new MutableLiveData&lt;&gt;(new ArrayList&lt;&gt;());\r\n    LatLng sydney = new LatLng(-34, 151);\r\n    LatLng TamWorth = new LatLng(-31.083332, 150.916672);\r\n    LatLng NewCastle = new LatLng(-32.916668, 151.750000);\r\n    LatLng Brisbane = new LatLng(-27.470125, 153.021072);\r\n    HashMap&lt;String, String&gt; list = new HashMap&lt;&gt;();\r\n    SimpleCursorAdapter cursorAdapter;\r\n    FirebaseFirestore firebaseFirestore, fStore;\r\n    FirebaseAuth firebaseAuth;\r\n    FiresStoreTableConstants constants;\r\n    List&lt;String&gt; ShopsList;\r\n    String itemBarcodeSearched = null;\r\n\r\n    SupportMapFragment mapFragment;\r\n    GoogleMap map;\r\n\r\n    Runnable runnable;\r\n    private final OnMapReadyCallback callback = new OnMapReadyCallback() {\r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n            map = googleMap;\r\n            Log.d(TAG, &quot;onMapReady called&quot;);\r\n            runnable= () -&gt; {\r\n                for (LatLng latLng : locationArrayList) {\r\n                    map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\r\n                    map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                }\r\n            };\r\n            if (newPoints) {\r\n                Log.d(TAG, &quot;size for new points - &quot; + locationArrayList.size());\r\n                for (LatLng latLng : locationArrayList) {\r\n                    map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\r\n                    map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                }\r\n            } else {\r\n                firebaseAuth = FirebaseAuth.getInstance();\r\n                firebaseFirestore = FirebaseFirestore.getInstance();\r\n                constants = new FiresStoreTableConstants();\r\n                final String email = firebaseAuth.getCurrentUser().getEmail();\r\n                firebaseFirestore.collection(constants.getCustomer()).document(email)\r\n                        .get()\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                Profile profile = documentSnapshot.toObject(Profile.class);\r\n                                Log.d(TAG, &quot;profile:&quot; + profile);\r\n                                LatLng you = new LatLng(profile.getLatitude(), profile.getLongitude());\r\n                                map.addMarker(new MarkerOptions().position(you).title(&quot;You!!&quot;));\r\n                                map.moveCamera(CameraUpdateFactory.newLatLng(you));\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(e -&gt; e.printStackTrace());\r\n            }\r\n        }\r\n    };\r\n    private boolean isSuggestionClicked = false;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n//        testLive.observe(getViewLifecycleOwner(), latLngs -&gt; {\r\n//            try{\r\n//                runnable.run();\r\n//                Log.d(TAG,&quot;runnable executed&quot;);\r\n//            }catch(Exception e){\r\n//                e.printStackTrace();\r\n//            };\r\n//\r\n//        });\r\n        binding = FragmentSearchViewBinding.bind(inflater.inflate(R.layout.fragment_search_view, container, false));\r\n        // get itemnames\r\n        FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\r\n        FiresStoreTableConstants constants = new FiresStoreTableConstants();\r\n        firebaseFirestore.collection(constants.getBarcode())\r\n                .get()\r\n                .addOnSuccessListener(queryDocumentSnapshots -&gt; {\r\n                    List&lt;DocumentSnapshot&gt; documents = queryDocumentSnapshots.getDocuments();\r\n                    for (DocumentSnapshot documentSnapshot : documents) {\r\n                        list.put(documentSnapshot.getId(), documentSnapshot.getString(constants.getBarcodeName()));\r\n                    }\r\n                });\r\n        //set suggestion adapter\r\n        int[] to = new int[]{R.id.searchItemID};\r\n        String[] from = new String[]{SearchManager.SUGGEST_COLUMN_TEXT_1};\r\n        cursorAdapter = new SimpleCursorAdapter(getActivity(), R.layout.suggestion_list, null, from, to, CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER);\r\n        binding.searchView.setSuggestionsAdapter(cursorAdapter);\r\n        binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                if (isSuggestionClicked) {\r\n                    // get barcode of item clicked\r\n                    Log.d(TAG, &quot;isSuggestion clicked !&quot;);\r\n                    barcode = getBarcode(query);\r\n                    if (barcode != null) {\r\n                        fStore = FirebaseFirestore.getInstance();\r\n                        ShopsList = new ArrayList&lt;&gt;();\r\n                        fStore.collection(constants.getOwner())\r\n                                .get()\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                        //TODO: 23-02-2023 get list of shops\r\n                                        List&lt;DocumentSnapshot&gt; ids = queryDocumentSnapshots.getDocuments();\r\n                                        Log.d(TAG, &quot;OWNER IDS &quot; + ids.size());\r\n                                        for (DocumentSnapshot id : ids) {\r\n                                            fStore.collection(constants.getOwner()).document(id.getId()).collection(constants.getOwnerAvailability())\r\n                                                    .whereGreaterThan(constants.getOwnerQuantity(), 0)\r\n                                                    .get()\r\n                                                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                                                        @Override\r\n                                                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                                            List&lt;DocumentSnapshot&gt; barcodeList = queryDocumentSnapshots.getDocuments();\r\n                                                            for (DocumentSnapshot documentSnapshot : barcodeList) {\r\n                                                                if (documentSnapshot.getId().equals(barcode)) {\r\n                                                                    ShopsList.add(id.getId());\r\n                                                                }\r\n                                                            }\r\n                                                            addShopsLatnLong(ShopsList);\r\n                                                            Log.d(TAG, &quot;List of shops:&quot; + ShopsList);\r\n                                                        }\r\n                                                    })\r\n                                                    .addOnFailureListener(new OnFailureListener() {\r\n                                                        @Override\r\n                                                        public void onFailure(@NonNull Exception e) {\r\n                                                            Log.d(TAG, &quot;Error: &quot; + e.getMessage());\r\n                                                        }\r\n                                                    });\r\n                                        }\r\n                                    }\r\n                                })\r\n                                .addOnFailureListener(e -&gt; e.printStackTrace());\r\n                        newPoints = true;\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getActivity(), &quot;Select products from suggestion&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                binding.searchView.clearFocus();\r\n                onViewCreated(binding.getRoot(), savedInstanceState);\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                // suggestions from firebase\r\n                MatrixCursor cursor = new MatrixCursor(new String[]{\r\n                        BaseColumns._ID, SearchManager.SUGGEST_COLUMN_TEXT_1\r\n                });\r\n                ArrayList&lt;String&gt; valueList = new ArrayList&lt;String&gt;(list.values());\r\n                for (int j = 0; j &lt; valueList.size(); j++) {\r\n                    if (valueList.get(j).toLowerCase().startsWith(newText.toLowerCase()))\r\n                        cursor.addRow(new Object[]{j, valueList.get(j)});\r\n                }\r\n                cursorAdapter.changeCursor(cursor);\r\n                return false;\r\n            }\r\n        });\r\n\r\n        binding.searchView.setOnSuggestionListener(new SearchView.OnSuggestionListener() {\r\n            @Override\r\n            public boolean onSuggestionSelect(int position) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onSuggestionClick(int position) {\r\n                Cursor cursor1 = (Cursor) cursorAdapter.getItem(position);\r\n                @SuppressLint(&quot;Range&quot;) String item = cursor1.getString(cursor1.getColumnIndex(SearchManager.SUGGEST_COLUMN_TEXT_1));\r\n                isSuggestionClicked = true;\r\n                binding.searchView.setQuery(item, true);\r\n                return true;\r\n            }\r\n        });\r\n        return binding.getRoot();\r\n    }\r\n\r\n    private void addShopsLatnLong(List&lt;String&gt; shopsList) {\r\n        newPoints = true;\r\n        if (shopsList.size() &gt; 0) {\r\n            Log.d(TAG, &quot;addshops called&quot;);\r\n            FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n\r\n            for (String shopId : shopsList) {\r\n                firestore.collection(constants.getOwner()).document(shopId)\r\n                        .get()\r\n                        .addOnSuccessListener(documentSnapshot -&gt; {\r\n                            Profile profile = documentSnapshot.toObject(Profile.class);\r\n//                            ArrayList&lt;LatLng&gt; temp = testLive.getValue();\r\n//                            temp.add(new LatLng(profile.getLatitude(), profile.getLongitude()));\r\n//                            testLive.setValue(temp);\r\n                            map.addMarker(new MarkerOptions().position(new LatLng(profile.getLatitude(),profile.getLongitude())));\r\n                            Log.d(TAG, &quot;points &quot; + profile.getLatitude() + &quot; &quot; + profile.getLongitude());\r\n                        })\r\n                        .addOnFailureListener(e -&gt; Log.d(TAG, &quot;error: &quot; + e.getMessage()));\r\n            }\r\n        }\r\n    }\r\n\r\n    private String getBarcode(String query) {\r\n        //get barcode\r\n        for (Map.Entry&lt;String, String&gt; entry : list.entrySet()) {\r\n            if (entry.getValue().trim().equals(query.trim())) {\r\n                itemBarcodeSearched = entry.getKey();\r\n                return itemBarcodeSearched;\r\n            }\r\n        }\r\n        return itemBarcodeSearched;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        mapFragment =\r\n                (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\r\n        if (mapFragment != null) {\r\n            mapFragment.getMapAsync(callback);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"I tried adding markers to google maps after receiving points from firebase. The code runs but new markers don&#39;t get displayed","body":"<p>My fragment contains map and a searchView where user enters product name. After selecting the product name from suggestions, I want to add the markers to the map. Since there are multiple requests being sent to firebase, I receive product locations multiple times asynchronously (since it is a network call). I want to add markers asynchronously to my map in the fragment.</p>\n<p>Inside <code>onMapReady</code> I have already stored the <code>googleMap</code> inside another variable <code>map</code> outside the function. After receiving locations from firebase I tried adding those markers using <code>map</code> variable but it didn't display new markers and app didn't crash either.</p>\n<p>I'm using this function to add the new markers to my <code>map</code> variable.</p>\n<pre><code>private void addShopsLatnLong(List&lt;String&gt; shopsList) {\n    newPoints = true;\n    if (shopsList.size() &gt; 0) {\n        Log.d(TAG, &quot;addshops called&quot;);\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n\n        for (String shopId : shopsList) {\n            firestore.collection(constants.getOwner()).document(shopId)\n                    .get()\n                    .addOnSuccessListener(documentSnapshot -&gt; {\n                        Profile profile = documentSnapshot.toObject(Profile.class);\n                        map.addMarker(new MarkerOptions().position(new LatLng(profile.getLatitude(),profile.getLongitude())));\n                        Log.d(TAG, &quot;points &quot; + profile.getLatitude() + &quot; &quot; + profile.getLongitude());\n                    })\n                    .addOnFailureListener(e -&gt; Log.d(TAG, &quot;error: &quot; + e.getMessage()));\n        }\n    }\n}\n</code></pre>\n<p>Here I'm assigning value to my <code>map</code> variable.</p>\n<pre><code>    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        map = googleMap;\n        Log.d(TAG, &quot;onMapReady called&quot;);\n        runnable= () -&gt; {\n            for (LatLng latLng : locationArrayList) {\n                map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\n                map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n            }\n        };\n        if (newPoints) {\n            Log.d(TAG, &quot;size for new points - &quot; + locationArrayList.size());\n            for (LatLng latLng : locationArrayList) {\n                map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\n                map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n            }\n        } else {\n            firebaseAuth = FirebaseAuth.getInstance();\n            firebaseFirestore = FirebaseFirestore.getInstance();\n            constants = new FiresStoreTableConstants();\n            final String email = firebaseAuth.getCurrentUser().getEmail();\n            firebaseFirestore.collection(constants.getCustomer()).document(email)\n                    .get()\n                    .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n                            Profile profile = documentSnapshot.toObject(Profile.class);\n                            Log.d(TAG, &quot;profile:&quot; + profile);\n                            LatLng you = new LatLng(profile.getLatitude(), profile.getLongitude());\n                            map.addMarker(new MarkerOptions().position(you).title(&quot;You!!&quot;));\n                            map.moveCamera(CameraUpdateFactory.newLatLng(you));\n                        }\n                    })\n                    .addOnFailureListener(e -&gt; e.printStackTrace());\n        }\n    }\n</code></pre>\n<h1>What I tried -</h1>\n<ul>\n<li>I created a runnable which would be responsible for adding new markers and then assigned it's value inside <code>onMapReady</code>.(Since that didn't work I tried other options and hence the entire logic isn't present here.</li>\n<li>I tried using LiveData to assign markers that didn't work either.</li>\n</ul>\n<h1>Just in case you want the entire code here it is -</h1>\n<pre><code>package com.example.ec_geocustomer;\n\nimport static androidx.constraintlayout.helper.widget.MotionEffect.TAG;\n\nimport android.annotation.SuppressLint;\nimport android.app.SearchManager;\nimport android.database.Cursor;\nimport android.database.MatrixCursor;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.provider.BaseColumns;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.widget.SearchView;\nimport androidx.cursoradapter.widget.CursorAdapter;\nimport androidx.cursoradapter.widget.SimpleCursorAdapter;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.MutableLiveData;\n\nimport com.example.ec_geocustomer.data.FiresStoreTableConstants;\nimport com.example.ec_geocustomer.data.Profile;\nimport com.example.ec_geocustomer.databinding.FragmentSearchViewBinding;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class SearchViewFragment extends Fragment {\n\n    private static String barcode;\n    FragmentSearchViewBinding binding;\n    boolean newPoints = false;\n    ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;&gt;();\n//    MutableLiveData&lt;ArrayList&lt;LatLng&gt;&gt; testLive = new MutableLiveData&lt;&gt;(new ArrayList&lt;&gt;());\n    LatLng sydney = new LatLng(-34, 151);\n    LatLng TamWorth = new LatLng(-31.083332, 150.916672);\n    LatLng NewCastle = new LatLng(-32.916668, 151.750000);\n    LatLng Brisbane = new LatLng(-27.470125, 153.021072);\n    HashMap&lt;String, String&gt; list = new HashMap&lt;&gt;();\n    SimpleCursorAdapter cursorAdapter;\n    FirebaseFirestore firebaseFirestore, fStore;\n    FirebaseAuth firebaseAuth;\n    FiresStoreTableConstants constants;\n    List&lt;String&gt; ShopsList;\n    String itemBarcodeSearched = null;\n\n    SupportMapFragment mapFragment;\n    GoogleMap map;\n\n    Runnable runnable;\n    private final OnMapReadyCallback callback = new OnMapReadyCallback() {\n        @Override\n        public void onMapReady(@NonNull GoogleMap googleMap) {\n            map = googleMap;\n            Log.d(TAG, &quot;onMapReady called&quot;);\n            runnable= () -&gt; {\n                for (LatLng latLng : locationArrayList) {\n                    map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\n                    map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n                }\n            };\n            if (newPoints) {\n                Log.d(TAG, &quot;size for new points - &quot; + locationArrayList.size());\n                for (LatLng latLng : locationArrayList) {\n                    map.addMarker(new MarkerOptions().position(latLng).title(&quot;new!!&quot;));\n                    map.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n                }\n            } else {\n                firebaseAuth = FirebaseAuth.getInstance();\n                firebaseFirestore = FirebaseFirestore.getInstance();\n                constants = new FiresStoreTableConstants();\n                final String email = firebaseAuth.getCurrentUser().getEmail();\n                firebaseFirestore.collection(constants.getCustomer()).document(email)\n                        .get()\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                                Profile profile = documentSnapshot.toObject(Profile.class);\n                                Log.d(TAG, &quot;profile:&quot; + profile);\n                                LatLng you = new LatLng(profile.getLatitude(), profile.getLongitude());\n                                map.addMarker(new MarkerOptions().position(you).title(&quot;You!!&quot;));\n                                map.moveCamera(CameraUpdateFactory.newLatLng(you));\n                            }\n                        })\n                        .addOnFailureListener(e -&gt; e.printStackTrace());\n            }\n        }\n    };\n    private boolean isSuggestionClicked = false;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n//        testLive.observe(getViewLifecycleOwner(), latLngs -&gt; {\n//            try{\n//                runnable.run();\n//                Log.d(TAG,&quot;runnable executed&quot;);\n//            }catch(Exception e){\n//                e.printStackTrace();\n//            };\n//\n//        });\n        binding = FragmentSearchViewBinding.bind(inflater.inflate(R.layout.fragment_search_view, container, false));\n        // get itemnames\n        FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\n        FiresStoreTableConstants constants = new FiresStoreTableConstants();\n        firebaseFirestore.collection(constants.getBarcode())\n                .get()\n                .addOnSuccessListener(queryDocumentSnapshots -&gt; {\n                    List&lt;DocumentSnapshot&gt; documents = queryDocumentSnapshots.getDocuments();\n                    for (DocumentSnapshot documentSnapshot : documents) {\n                        list.put(documentSnapshot.getId(), documentSnapshot.getString(constants.getBarcodeName()));\n                    }\n                });\n        //set suggestion adapter\n        int[] to = new int[]{R.id.searchItemID};\n        String[] from = new String[]{SearchManager.SUGGEST_COLUMN_TEXT_1};\n        cursorAdapter = new SimpleCursorAdapter(getActivity(), R.layout.suggestion_list, null, from, to, CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER);\n        binding.searchView.setSuggestionsAdapter(cursorAdapter);\n        binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                if (isSuggestionClicked) {\n                    // get barcode of item clicked\n                    Log.d(TAG, &quot;isSuggestion clicked !&quot;);\n                    barcode = getBarcode(query);\n                    if (barcode != null) {\n                        fStore = FirebaseFirestore.getInstance();\n                        ShopsList = new ArrayList&lt;&gt;();\n                        fStore.collection(constants.getOwner())\n                                .get()\n                                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                                    @Override\n                                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                                        //TODO: 23-02-2023 get list of shops\n                                        List&lt;DocumentSnapshot&gt; ids = queryDocumentSnapshots.getDocuments();\n                                        Log.d(TAG, &quot;OWNER IDS &quot; + ids.size());\n                                        for (DocumentSnapshot id : ids) {\n                                            fStore.collection(constants.getOwner()).document(id.getId()).collection(constants.getOwnerAvailability())\n                                                    .whereGreaterThan(constants.getOwnerQuantity(), 0)\n                                                    .get()\n                                                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                                                        @Override\n                                                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                                                            List&lt;DocumentSnapshot&gt; barcodeList = queryDocumentSnapshots.getDocuments();\n                                                            for (DocumentSnapshot documentSnapshot : barcodeList) {\n                                                                if (documentSnapshot.getId().equals(barcode)) {\n                                                                    ShopsList.add(id.getId());\n                                                                }\n                                                            }\n                                                            addShopsLatnLong(ShopsList);\n                                                            Log.d(TAG, &quot;List of shops:&quot; + ShopsList);\n                                                        }\n                                                    })\n                                                    .addOnFailureListener(new OnFailureListener() {\n                                                        @Override\n                                                        public void onFailure(@NonNull Exception e) {\n                                                            Log.d(TAG, &quot;Error: &quot; + e.getMessage());\n                                                        }\n                                                    });\n                                        }\n                                    }\n                                })\n                                .addOnFailureListener(e -&gt; e.printStackTrace());\n                        newPoints = true;\n                    }\n                } else {\n                    Toast.makeText(getActivity(), &quot;Select products from suggestion&quot;, Toast.LENGTH_SHORT).show();\n                }\n                binding.searchView.clearFocus();\n                onViewCreated(binding.getRoot(), savedInstanceState);\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                // suggestions from firebase\n                MatrixCursor cursor = new MatrixCursor(new String[]{\n                        BaseColumns._ID, SearchManager.SUGGEST_COLUMN_TEXT_1\n                });\n                ArrayList&lt;String&gt; valueList = new ArrayList&lt;String&gt;(list.values());\n                for (int j = 0; j &lt; valueList.size(); j++) {\n                    if (valueList.get(j).toLowerCase().startsWith(newText.toLowerCase()))\n                        cursor.addRow(new Object[]{j, valueList.get(j)});\n                }\n                cursorAdapter.changeCursor(cursor);\n                return false;\n            }\n        });\n\n        binding.searchView.setOnSuggestionListener(new SearchView.OnSuggestionListener() {\n            @Override\n            public boolean onSuggestionSelect(int position) {\n                return false;\n            }\n\n            @Override\n            public boolean onSuggestionClick(int position) {\n                Cursor cursor1 = (Cursor) cursorAdapter.getItem(position);\n                @SuppressLint(&quot;Range&quot;) String item = cursor1.getString(cursor1.getColumnIndex(SearchManager.SUGGEST_COLUMN_TEXT_1));\n                isSuggestionClicked = true;\n                binding.searchView.setQuery(item, true);\n                return true;\n            }\n        });\n        return binding.getRoot();\n    }\n\n    private void addShopsLatnLong(List&lt;String&gt; shopsList) {\n        newPoints = true;\n        if (shopsList.size() &gt; 0) {\n            Log.d(TAG, &quot;addshops called&quot;);\n            FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n\n            for (String shopId : shopsList) {\n                firestore.collection(constants.getOwner()).document(shopId)\n                        .get()\n                        .addOnSuccessListener(documentSnapshot -&gt; {\n                            Profile profile = documentSnapshot.toObject(Profile.class);\n//                            ArrayList&lt;LatLng&gt; temp = testLive.getValue();\n//                            temp.add(new LatLng(profile.getLatitude(), profile.getLongitude()));\n//                            testLive.setValue(temp);\n                            map.addMarker(new MarkerOptions().position(new LatLng(profile.getLatitude(),profile.getLongitude())));\n                            Log.d(TAG, &quot;points &quot; + profile.getLatitude() + &quot; &quot; + profile.getLongitude());\n                        })\n                        .addOnFailureListener(e -&gt; Log.d(TAG, &quot;error: &quot; + e.getMessage()));\n            }\n        }\n    }\n\n    private String getBarcode(String query) {\n        //get barcode\n        for (Map.Entry&lt;String, String&gt; entry : list.entrySet()) {\n            if (entry.getValue().trim().equals(query.trim())) {\n                itemBarcodeSearched = entry.getKey();\n                return itemBarcodeSearched;\n            }\n        }\n        return itemBarcodeSearched;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        mapFragment =\n                (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\n        if (mapFragment != null) {\n            mapFragment.getMapAsync(callback);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1674859942,"post_id":75263998,"comment_id":132810998,"body_markdown":"100% a bug or limitation in VSCode. The actual compiler is authoritative. Your tooltips are not.","body":"100% a bug or limitation in VSCode. The actual compiler is authoritative. Your tooltips are not."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1674860054,"post_id":75263998,"comment_id":132811011,"body_markdown":"My advice is don&#39;t use VSCode as your java IDE; use IntelliJ.","body":"My advice is don&#39;t use VSCode as your java IDE; use IntelliJ."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1677657251,"post_id":75263998,"comment_id":133379006,"body_markdown":"I have reported this on GitHub and got a response, it should be fixed soon.   Here is the [link](https://github.com/redhat-developer/vscode-java/issues/2966#) so you can check it out anytime.","body":"I have reported this on GitHub and got a response, it should be fixed soon.   Here is the <a href=\"https://github.com/redhat-developer/vscode-java/issues/2966#\" rel=\"nofollow noreferrer\">link</a> so you can check it out anytime."},{"owner":{"account_id":10674552,"reputation":166,"user_id":7858537,"display_name":"RJohnson"},"score":0,"creation_date":1677711404,"post_id":75263998,"comment_id":133394423,"body_markdown":"Thanks @JialeDu! I hadn&#39;t had a chance to create the issue, so I&#39;m glad it got into the pipeline.","body":"Thanks @JialeDu! I hadn&#39;t had a chance to create the issue, so I&#39;m glad it got into the pipeline."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678088704,"creation_date":1678088704,"answer_id":75648238,"question_id":75263998,"body_markdown":"The problem will soon be fixed.\r\n\r\nSteps to quickly verify the fix:\r\n- download [com.microsoft.jdtls.intellicode.core-0.7.0-fix.zip](https://github.com/redhat-developer/vscode-java/files/10895163/com.microsoft.jdtls.intellicode.core-0.7.0-fix.zip)\r\n- **rename** it to `com.microsoft.jdtls.intellicode.core-0.7.0-fix.jar`. (do not extract)\r\n- copy it into folder `~/.vscode/extensions/visualstudioexptteam.vscodeintellicode-1.2.30/dist/`\r\n- open file `~/.vscode/extensions/visualstudioexptteam.vscodeintellicode-1.2.30/package.json`, search for &quot;core-0.7.0.jar&quot;, change it to &quot;core-0.7.0-fix.jar&quot; accordingly, save the file.\r\n- reload/re-open your Java project, try the code comletion.\r\n\r\n_Originally posted by @Eskibear in https://github.com/redhat-developer/vscode-java/issues/2966#issuecomment-1455553830_\r\n            ","title":"toString() affecting original object type?","body":"<p>The problem will soon be fixed.</p>\n<p>Steps to quickly verify the fix:</p>\n<ul>\n<li>download <a href=\"https://github.com/redhat-developer/vscode-java/files/10895163/com.microsoft.jdtls.intellicode.core-0.7.0-fix.zip\" rel=\"nofollow noreferrer\">com.microsoft.jdtls.intellicode.core-0.7.0-fix.zip</a></li>\n<li><strong>rename</strong> it to <code>com.microsoft.jdtls.intellicode.core-0.7.0-fix.jar</code>. (do not extract)</li>\n<li>copy it into folder <code>~/.vscode/extensions/visualstudioexptteam.vscodeintellicode-1.2.30/dist/</code></li>\n<li>open file <code>~/.vscode/extensions/visualstudioexptteam.vscodeintellicode-1.2.30/package.json</code>, search for &quot;core-0.7.0.jar&quot;, change it to &quot;core-0.7.0-fix.jar&quot; accordingly, save the file.</li>\n<li>reload/re-open your Java project, try the code comletion.</li>\n</ul>\n<p><em>Originally posted by @Eskibear in <a href=\"https://github.com/redhat-developer/vscode-java/issues/2966#issuecomment-1455553830\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/2966#issuecomment-1455553830</a></em></p>\n"}],"owner":{"account_id":10674552,"reputation":166,"user_id":7858537,"display_name":"RJohnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678088704,"creation_date":1674859177,"question_id":75263998,"body_markdown":"I&#39;m not quite sure if this is a Java question, or a VS Code question: \r\n\r\nI have a JSONObject using org.json, and I&#39;m outputting it to string:\r\n```\r\n JSONObject obj = new JSONObject(); \r\n System.out.print(obj.toString());\r\n```\r\nat this point, when using the &quot;intellisense&quot; for VSCode, if I use obj, I get the appropriate intellisense options:\r\n```\r\nJSONObject obj = new JSONObject(); \r\nSystem.out.print(obj.toString());\r\nint len  = obj.length();\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, when I attempt to iterate over it using a for loop, when I&#39;m getting the length of the object, the intellisense never shows, and I get an error that \r\n&quot;obj cannot be resolved to a type&quot;. \r\n```\r\nJSONObject obj = new JSONObject(); \r\nSystem.out.print(obj.toString());\r\nfor (int i = 0; i &lt; obj.; i++) {\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nInterestingly, if I do something else with the object before using it within the for loop, or comment out `System.out.print(obj.toString());` , the intellisense works as expected.\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nAt this point, I don&#39;t know if this is something to do with the print and toString() methods somehow affecting the original `obj` object? Or if it&#39;s some bug or limitation in VSCode.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OxtAe.png\r\n  [2]: https://i.stack.imgur.com/86cD8.png\r\n  [3]: https://i.stack.imgur.com/HlfdB.png\r\n  [4]: https://i.stack.imgur.com/QWrUu.png","title":"toString() affecting original object type?","body":"<p>I'm not quite sure if this is a Java question, or a VS Code question:</p>\n<p>I have a JSONObject using org.json, and I'm outputting it to string:</p>\n<pre><code> JSONObject obj = new JSONObject(); \n System.out.print(obj.toString());\n</code></pre>\n<p>at this point, when using the &quot;intellisense&quot; for VSCode, if I use obj, I get the appropriate intellisense options:</p>\n<pre><code>JSONObject obj = new JSONObject(); \nSystem.out.print(obj.toString());\nint len  = obj.length();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OxtAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OxtAe.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I attempt to iterate over it using a for loop, when I'm getting the length of the object, the intellisense never shows, and I get an error that\n&quot;obj cannot be resolved to a type&quot;.</p>\n<pre><code>JSONObject obj = new JSONObject(); \nSystem.out.print(obj.toString());\nfor (int i = 0; i &lt; obj.; i++) {\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/86cD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/86cD8.png\" alt=\"enter image description here\" /></a></p>\n<p>Interestingly, if I do something else with the object before using it within the for loop, or comment out <code>System.out.print(obj.toString());</code> , the intellisense works as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/HlfdB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HlfdB.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/QWrUu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QWrUu.png\" alt=\"enter image description here\" /></a></p>\n<p>At this point, I don't know if this is something to do with the print and toString() methods somehow affecting the original <code>obj</code> object? Or if it's some bug or limitation in VSCode.</p>\n"},{"tags":["java","filewriter"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678068137,"post_id":75646495,"comment_id":133455970,"body_markdown":"You don&#39;t write any newlines into your file, except the newline which is between the comma after `student1`, and `student2` in your original file. You haven&#39;t shown `loadusers`, but presumably it doesn&#39;t strip the newlines from the names.","body":"You don&#39;t write any newlines into your file, except the newline which is between the comma after <code>student1</code>, and <code>student2</code> in your original file. You haven&#39;t shown <code>loadusers</code>, but presumably it doesn&#39;t strip the newlines from the names."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678068262,"post_id":75646495,"comment_id":133455985,"body_markdown":"Try `System.out.println(&quot;&#39;&quot; + users.get(i).getUsername() + &quot;&#39;&quot;);` in your loop to see what I mean.","body":"Try <code>System.out.println(&quot;&#39;&quot; + users.get(i).getUsername() + &quot;&#39;&quot;);</code> in your loop to see what I mean."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678068909,"post_id":75646495,"comment_id":133456054,"body_markdown":"@MaartenBodewes 1 and 2 are in the original version of the file, I think.","body":"@MaartenBodewes 1 and 2 are in the original version of the file, I think."},{"owner":{"account_id":19603747,"reputation":11,"user_id":14347937,"display_name":"Edwin Ryerson"},"score":0,"creation_date":1678069700,"post_id":75646495,"comment_id":133456142,"body_markdown":"@tgdavies I added the loadUsers method. Is there some method I need to call on line to strip the newlines?","body":"@tgdavies I added the loadUsers method. Is there some method I need to call on line to strip the newlines?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678069859,"post_id":75646495,"comment_id":133456160,"body_markdown":"As Maarten said: you haven&#39;t described what you want your program to do.","body":"As Maarten said: you haven&#39;t described what you want your program to do."},{"owner":{"account_id":19603747,"reputation":11,"user_id":14347937,"display_name":"Edwin Ryerson"},"score":0,"creation_date":1678070183,"post_id":75646495,"comment_id":133456190,"body_markdown":"It is a simple library application without a database, but I understand that it won&#39;t run indefinitely, so I want to read data, use it, and then save it to the CSV file to read again when the program is ran again.","body":"It is a simple library application without a database, but I understand that it won&#39;t run indefinitely, so I want to read data, use it, and then save it to the CSV file to read again when the program is ran again."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678071240,"post_id":75646495,"comment_id":133456308,"body_markdown":"But what do you expect the format of your csv file to be?","body":"But what do you expect the format of your csv file to be?"}],"owner":{"account_id":19603747,"reputation":11,"user_id":14347937,"display_name":"Edwin Ryerson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678088620,"creation_date":1678067914,"question_id":75646495,"body_markdown":"I am making an application to act as a simple classroom library with books and users. There are teacher and student user types. I have no database and understand that the program can&#39;t run at all times, so the changed/added information while it is running should be saved when the program ends. The problem I am facing is that it is writing the information to the csv file in a manner I don&#39;t understand.\r\n\r\nMain.java File\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        Library library = new Library();\r\n        User teacher = new Teacher(&quot;admin&quot;, &quot;password&quot;);\r\n        library.addUser(teacher);\r\n        library.loadUsers(&quot;/path/to/users.csv&quot;);\r\n        library.addUser(new Student(&quot;student3&quot;));\r\n        //library.loadBooks(&quot;/path/to/books.csv&quot;);\r\n        //library.loginTeacher(&quot;admin&quot;, &quot;password&quot;);\r\n        \r\n        //library.addBook(new Book(&quot;hhg&quot;, &quot;hhg&quot;, &quot;hjhjf&quot;, 40));\r\n        //library.printBooks();\r\n        //library.saveBooks(&quot;/path/to/books.csv&quot;);\r\n\r\n        library.saveUsers(&quot;/path/to/users.csv&quot;);\r\n\r\n    }\r\n```\r\nusers.csv \r\n```\r\nstudent1,\r\nstudent2,\r\n```\r\nLibrary.java\r\n```\r\npublic void loadUsers(String userDir) {\r\n\r\n        File myFile1 = new File(userDir);\r\n        Scanner scanner = null;\r\n        try {\r\n            scanner = new Scanner(myFile1);\r\n            scanner.useDelimiter(&quot;,&quot;);\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;file not found&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        ArrayList&lt;String[]&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        while (scanner.hasNext()) {\r\n\r\n            String line = scanner.next();\r\n\r\n            String[] r = line.split(&quot;,&quot;);\r\n            data.add(r);\r\n        }\r\n\r\n        for(int i = 0; i &lt; data.size(); i++) {\r\n            User user = new Student(data.get(i)[0]);\r\n            addUser(user);\r\n        }\r\n}\r\n\r\npublic void saveUsers(String usersDir) throws IOException {\r\n        File myFile = new File(usersDir);\r\n\r\n        FileWriter fw = null;\r\n        try {\r\n            fw = new FileWriter(myFile);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        for(int i = 0; i &lt; users.size(); i++){\r\n            if(users.get(i) != null) {\r\n                try {\r\n                    if(users.get(i) instanceof Student) {\r\n                        fw.write(String.format(&quot;%s,&quot;, users.get(i).getUsername()));\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        fw.close();\r\n    }\r\n```\r\nResulting users.csv\r\n```\r\nstudent1,\r\nstudent2,student3,\r\n```","title":"Why does my FileWriter add some data to its own line and other data to ends of other lines?","body":"<p>I am making an application to act as a simple classroom library with books and users. There are teacher and student user types. I have no database and understand that the program can't run at all times, so the changed/added information while it is running should be saved when the program ends. The problem I am facing is that it is writing the information to the csv file in a manner I don't understand.</p>\n<p>Main.java File</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        Library library = new Library();\n        User teacher = new Teacher(&quot;admin&quot;, &quot;password&quot;);\n        library.addUser(teacher);\n        library.loadUsers(&quot;/path/to/users.csv&quot;);\n        library.addUser(new Student(&quot;student3&quot;));\n        //library.loadBooks(&quot;/path/to/books.csv&quot;);\n        //library.loginTeacher(&quot;admin&quot;, &quot;password&quot;);\n        \n        //library.addBook(new Book(&quot;hhg&quot;, &quot;hhg&quot;, &quot;hjhjf&quot;, 40));\n        //library.printBooks();\n        //library.saveBooks(&quot;/path/to/books.csv&quot;);\n\n        library.saveUsers(&quot;/path/to/users.csv&quot;);\n\n    }\n</code></pre>\n<p>users.csv</p>\n<pre><code>student1,\nstudent2,\n</code></pre>\n<p>Library.java</p>\n<pre><code>public void loadUsers(String userDir) {\n\n        File myFile1 = new File(userDir);\n        Scanner scanner = null;\n        try {\n            scanner = new Scanner(myFile1);\n            scanner.useDelimiter(&quot;,&quot;);\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;file not found&quot;);\n            e.printStackTrace();\n        }\n\n        ArrayList&lt;String[]&gt; data = new ArrayList&lt;&gt;();\n\n        while (scanner.hasNext()) {\n\n            String line = scanner.next();\n\n            String[] r = line.split(&quot;,&quot;);\n            data.add(r);\n        }\n\n        for(int i = 0; i &lt; data.size(); i++) {\n            User user = new Student(data.get(i)[0]);\n            addUser(user);\n        }\n}\n\npublic void saveUsers(String usersDir) throws IOException {\n        File myFile = new File(usersDir);\n\n        FileWriter fw = null;\n        try {\n            fw = new FileWriter(myFile);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        for(int i = 0; i &lt; users.size(); i++){\n            if(users.get(i) != null) {\n                try {\n                    if(users.get(i) instanceof Student) {\n                        fw.write(String.format(&quot;%s,&quot;, users.get(i).getUsername()));\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        fw.close();\n    }\n</code></pre>\n<p>Resulting users.csv</p>\n<pre><code>student1,\nstudent2,student3,\n</code></pre>\n"},{"tags":["java","android","kotlin","android-intent"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678088377,"post_id":75647574,"comment_id":133458579,"body_markdown":"One of the values is null, which your code (or the receiving code) expects to be non-null.","body":"One of the values is null, which your code (or the receiving code) expects to be non-null."}],"owner":{"account_id":9334839,"reputation":175,"user_id":6929380,"display_name":"SonOfEl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678088348,"answer_count":0,"score":0,"last_activity_date":1678088304,"creation_date":1678083235,"question_id":75647574,"body_markdown":"My Kotlin activity logic requires me passing a few ```ArrayList&lt;String&gt;``` and ```ArrayList&lt;Drawable&gt;``` variables between activities.\r\n\r\nI tried the following approach:\r\n```kotlin\r\nval intent = Intent(this, ServicesActivity::class.java)\r\nintent.putStringArrayListExtra(&quot;names&quot;, providerNamesArray)\r\nintent.putStringArrayListExtra(&quot;emails&quot;, providerEmailsArray)\r\nintent.putStringArrayListExtra(&quot;addresses&quot;, providerAddressesArray)\r\nintent.putStringArrayListExtra(&quot;tags&quot;, providerTagsArray)\r\nintent.putStringArrayListExtra(&quot;descriptions&quot;, providerDescriptionArray)\r\nintent.putExtra(&quot;images&quot;, providerImageArray)\r\nstartActivity(intent)\r\n```\r\n\r\nReading in other activity:\r\n```kotlin\r\nproviderNamesArray = intent.extras?.getStringArrayList(&quot;names&quot;) as ArrayList&lt;String&gt;\r\nproviderEmailsArray = intent.getSerializableExtra(&quot;emails&quot;) as ArrayList&lt;String&gt;\r\nproviderAddressesArray = intent.getSerializableExtra(&quot;addresses&quot;) as ArrayList&lt;String&gt;\r\nproviderTagsArray = intent.getSerializableExtra(&quot;tags&quot;) as ArrayList&lt;String&gt;\r\nproviderDescriptionArray = intent.getSerializableExtra(&quot;descriptions&quot;) as ArrayList&lt;String&gt;\r\nproviderImageArray = intent.getSerializableExtra(&quot;images&quot;) as ArrayList&lt;Drawable&gt;\r\n```\r\n\r\nI used both ```intent.extras?.getStringArrayList``` and ```getSerializableExtra``` to see if there is any difference with resepct to the error I get. However, both give me the same error:\r\n\r\n```none\r\njava.lang.NullPointerException: null cannot be cast to non-null type java.util.ArrayList&lt;kotlin.String&gt;{ kotlin.collections.TypeAliasesKt.ArrayList&lt;kotlin.String&gt; }\r\n```\r\n\r\nIf I don&#39;t typecast using ```as ArrayList&lt;&gt;``` while reading intent extras, the IDE throws the following error:\r\n```none\r\nType mismatch.\r\nRequired:\r\nkotlin.collections.ArrayList&lt;String&gt; /* = java.util.ArrayList&lt;String&gt; */\r\nFound:\r\njava.util.ArrayList&lt;String!&gt;?\r\n```\r\nand suggests that I typecast.\r\n\r\nHow can/should I pass my data between activities without error?","title":"Bundled extras in intent causing Java-Kotlin type mismatch issue","body":"<p>My Kotlin activity logic requires me passing a few <code>ArrayList&lt;String&gt;</code> and <code>ArrayList&lt;Drawable&gt;</code> variables between activities.</p>\n<p>I tried the following approach:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val intent = Intent(this, ServicesActivity::class.java)\nintent.putStringArrayListExtra(&quot;names&quot;, providerNamesArray)\nintent.putStringArrayListExtra(&quot;emails&quot;, providerEmailsArray)\nintent.putStringArrayListExtra(&quot;addresses&quot;, providerAddressesArray)\nintent.putStringArrayListExtra(&quot;tags&quot;, providerTagsArray)\nintent.putStringArrayListExtra(&quot;descriptions&quot;, providerDescriptionArray)\nintent.putExtra(&quot;images&quot;, providerImageArray)\nstartActivity(intent)\n</code></pre>\n<p>Reading in other activity:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>providerNamesArray = intent.extras?.getStringArrayList(&quot;names&quot;) as ArrayList&lt;String&gt;\nproviderEmailsArray = intent.getSerializableExtra(&quot;emails&quot;) as ArrayList&lt;String&gt;\nproviderAddressesArray = intent.getSerializableExtra(&quot;addresses&quot;) as ArrayList&lt;String&gt;\nproviderTagsArray = intent.getSerializableExtra(&quot;tags&quot;) as ArrayList&lt;String&gt;\nproviderDescriptionArray = intent.getSerializableExtra(&quot;descriptions&quot;) as ArrayList&lt;String&gt;\nproviderImageArray = intent.getSerializableExtra(&quot;images&quot;) as ArrayList&lt;Drawable&gt;\n</code></pre>\n<p>I used both <code>intent.extras?.getStringArrayList</code> and <code>getSerializableExtra</code> to see if there is any difference with resepct to the error I get. However, both give me the same error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException: null cannot be cast to non-null type java.util.ArrayList&lt;kotlin.String&gt;{ kotlin.collections.TypeAliasesKt.ArrayList&lt;kotlin.String&gt; }\n</code></pre>\n<p>If I don't typecast using <code>as ArrayList&lt;&gt;</code> while reading intent extras, the IDE throws the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Type mismatch.\nRequired:\nkotlin.collections.ArrayList&lt;String&gt; /* = java.util.ArrayList&lt;String&gt; */\nFound:\njava.util.ArrayList&lt;String!&gt;?\n</code></pre>\n<p>and suggests that I typecast.</p>\n<p>How can/should I pass my data between activities without error?</p>\n"},{"tags":["java","spring-batch","spring-batch-tasklet"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1678103151,"post_id":75648177,"comment_id":133462456,"body_markdown":"I have never seen this behaviour. If you provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue, I can debug the case.","body":"I have never seen this behaviour. If you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue, I can debug the case."},{"owner":{"account_id":7534125,"reputation":61,"user_id":5721117,"display_name":"projectile"},"score":0,"creation_date":1678187091,"post_id":75648177,"comment_id":133480937,"body_markdown":"Thanks for responding @MahmoudBenHassine. Am not able to reproduce this locally. Curious to know can this be a design issue ? we use a master-slave architecture for processing jobs. Master instances partitions the file and and sends them over queue (rabbitmq). Slaves pick these messages and process. Both masters and slaves refer a common nfs mount storage where the data files are located.","body":"Thanks for responding @MahmoudBenHassine. Am not able to reproduce this locally. Curious to know can this be a design issue ? we use a master-slave architecture for processing jobs. Master instances partitions the file and and sends them over queue (rabbitmq). Slaves pick these messages and process. Both masters and slaves refer a common nfs mount storage where the data files are located."}],"owner":{"account_id":7534125,"reputation":61,"user_id":5721117,"display_name":"projectile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678088222,"creation_date":1678088222,"question_id":75648177,"body_markdown":"I have this weird case where spring batch chunk processing is going into infinite loop when encountered an exception during item read/write. When checked the stack trace there is an IOException. It happened for other runtime errors as well.\r\n\r\n**Step Configurations :**\r\n\r\n    listener(new CustomStepExecutionListener(jobId))\r\n        .chunk(chunkSize)\r\n        .reader(csvReader(file))\r\n        .processor(processor())\r\n        .writer(writer(successRecordsWriter, failedRecordsWriter))\r\n        .listener(new CustomWriteListener())\r\n        .faultTolerant()\r\n        .skip(FlatFileParseException.class)\r\n        .skipLimit(Integer.MAX_VALUE)\r\n        .listener(new CustomSkipListener(failedRecordsWriter))\r\n        .listener(new CustomChunkListener())\r\n        .stream(failedRecordsWriter)\r\n        .build();\r\n\r\n**CustomChunkListener**\r\n\r\n      public class CustomChunkListener implements ChunkListener {\r\n    \r\n      private static final Logger LOGGER = LoggerFactory.getLogger(CustomChunkListener.class);\r\n      private static final String CHUNK_NO = &quot;CHUNK_NO&quot;;\r\n      private int chunkCount = 0;\r\n    \r\n      public CustomChunkListener() {\r\n\r\n      }\r\n    \r\n      @Override\r\n      public void beforeChunk(ChunkContext context) {\r\n        MDCContext.put(CHUNK_NO, String.valueOf(++chunkCount));\r\n        context.setAttribute(CHUNK_NO, chunkCount);\r\n        LOGGER.info(&quot;Chunk processing started. context = {}&quot;, context);\r\n      }\r\n    \r\n      @Override\r\n      public void afterChunk(ChunkContext context) {\r\n        stopTheWatch();\r\n        LOGGER.info(&quot;Chunk processing completed. context = {}&quot;, context);\r\n        MDCContext.remove(CHUNK_NO);\r\n        context.removeAttribute(CHUNK_NO);\r\n      }\r\n    \r\n      @Override\r\n      public void afterChunkError(ChunkContext context) {\r\n        stopTheWatch();\r\n        LOGGER.info(&quot;Chunk processing failed. context = {}&quot;, context);\r\n        MDCContext.remove(CHUNK_NO);\r\n        context.removeAttribute(CHUNK_NO);\r\n      }\r\n    \r\n    }\r\n\r\n**Exception :**\r\n\r\n        java.io.IOException: Stale file handle\r\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n        at sun.nio.ch.FileDispatcherImpl.read(FileDispatcherImpl.java:46)\r\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n        at sun.nio.ch.IOUtil.read(IOUtil.java:197)\r\n        at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:159)\r\n        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:65)\r\n        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:109)\r\n        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103)\r\n        at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n        at java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n        at java.io.BufferedReader.fill(BufferedReader.java:161)\r\n        at java.io.BufferedReader.readLine(BufferedReader.java:324)\r\n        at java.io.BufferedReader.readLine(BufferedReader.java:389)\r\n        at org.springframework.batch.item.file.FlatFileItemReader.readLine(FlatFileItemReader.java:201)\r\n        ... 58 common frames omitted\r\n    Wrapped by: org.springframework.batch.item.file.NonTransientFlatFileException: Unable to read from resource: [file [/src/input.csv]]\r\n        at org.springframework.batch.item.file.FlatFileItemReader.readLine(FlatFileItemReader.java:220)\r\n        at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:173)\r\n        at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:89)\r\n        at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:91)\r\n        at org.springframework.batch.core.step.item.FaultTolerantChunkProvider.read(FaultTolerantChunkProvider.java:87)\r\n        ... 54 common frames omitted\r\n    Wrapped by: org.springframework.batch.core.step.skip.NonSkippableReadException: Non-skippable exception during read\r\n        at org.springframework.batch.core.step.item.FaultTolerantChunkProvider.read(FaultTolerantChunkProvider.java:105)\r\n        at org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:116)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n        at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:110)\r\n        at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\r\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\r\n        at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n        at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n        at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\r\n        at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\r\n        at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\r\n        at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:394)\r\n        at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:135)\r\n        at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:308)\r\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)\r\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:134)\r\n        at sun.reflect.GeneratedMethodAccessor244.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)\r\n\r\n**Failure Logs**\r\n\r\nThe log lines from CustomChunkListener class are getting printed endlessly without actually reaching the writer class and CHUNK_NO is increased to a million whereas it should be ideally 1 or 2 based on our logic.\r\n\r\n    Chunk processing started. context = ChunkContext: attributes=[CHUNK_NO], complete=false, stepContext=SynchronizedAttributeAccessor: [], stepExecutionContext={FlatFileItemWriter.current.count=0, FlatFileItemWriter.written=0, batch.taskletType=org.springframework.batch.core.step.item.ChunkOrientedTasklet, FlatFileItemReader.read.count=0, batch.stepType=org.springframework.batch.core.step.tasklet.TaskletStep}, jobExecutionContext={}, jobParameters={BATCH_ID=c8aad01f-7779-4574-b15c-337fbd0f32d6}\r\n    \r\n    Chunk processing failed. context = ChunkContext: attributes=[CHUNK_NO], complete=true, stepContext=SynchronizedAttributeAccessor: [], stepExecutionContext={FlatFileItemWriter.current.count=0, FlatFileItemWriter.written=0, batch.taskletType=org.springframework.batch.core.step.item.ChunkOrientedTasklet, FlatFileItemReader.read.count=0, batch.stepType=org.springframework.batch.core.step.tasklet.TaskletStep}, jobExecutionContext={}, jobParameters={BATCH_ID=c8aad01f-7779-4574-b15c-337fbd0f32d6}, Time Taken = 0 SECONDS\r\n\r\nWhy is the same chunk starting &amp; failing multiple times even after the first failure ? How to avoid this behaviour when these kind of runtime errors occur ?","title":"Spring batch chunk processing is going into infinite loop","body":"<p>I have this weird case where spring batch chunk processing is going into infinite loop when encountered an exception during item read/write. When checked the stack trace there is an IOException. It happened for other runtime errors as well.</p>\n<p><strong>Step Configurations :</strong></p>\n<pre><code>listener(new CustomStepExecutionListener(jobId))\n    .chunk(chunkSize)\n    .reader(csvReader(file))\n    .processor(processor())\n    .writer(writer(successRecordsWriter, failedRecordsWriter))\n    .listener(new CustomWriteListener())\n    .faultTolerant()\n    .skip(FlatFileParseException.class)\n    .skipLimit(Integer.MAX_VALUE)\n    .listener(new CustomSkipListener(failedRecordsWriter))\n    .listener(new CustomChunkListener())\n    .stream(failedRecordsWriter)\n    .build();\n</code></pre>\n<p><strong>CustomChunkListener</strong></p>\n<pre><code>  public class CustomChunkListener implements ChunkListener {\n\n  private static final Logger LOGGER = LoggerFactory.getLogger(CustomChunkListener.class);\n  private static final String CHUNK_NO = &quot;CHUNK_NO&quot;;\n  private int chunkCount = 0;\n\n  public CustomChunkListener() {\n\n  }\n\n  @Override\n  public void beforeChunk(ChunkContext context) {\n    MDCContext.put(CHUNK_NO, String.valueOf(++chunkCount));\n    context.setAttribute(CHUNK_NO, chunkCount);\n    LOGGER.info(&quot;Chunk processing started. context = {}&quot;, context);\n  }\n\n  @Override\n  public void afterChunk(ChunkContext context) {\n    stopTheWatch();\n    LOGGER.info(&quot;Chunk processing completed. context = {}&quot;, context);\n    MDCContext.remove(CHUNK_NO);\n    context.removeAttribute(CHUNK_NO);\n  }\n\n  @Override\n  public void afterChunkError(ChunkContext context) {\n    stopTheWatch();\n    LOGGER.info(&quot;Chunk processing failed. context = {}&quot;, context);\n    MDCContext.remove(CHUNK_NO);\n    context.removeAttribute(CHUNK_NO);\n  }\n\n}\n</code></pre>\n<p><strong>Exception :</strong></p>\n<pre><code>    java.io.IOException: Stale file handle\n    at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n    at sun.nio.ch.FileDispatcherImpl.read(FileDispatcherImpl.java:46)\n    at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\n    at sun.nio.ch.IOUtil.read(IOUtil.java:197)\n    at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:159)\n    at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:65)\n    at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:109)\n    at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103)\n    at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\n    at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\n    at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n    at java.io.InputStreamReader.read(InputStreamReader.java:184)\n    at java.io.BufferedReader.fill(BufferedReader.java:161)\n    at java.io.BufferedReader.readLine(BufferedReader.java:324)\n    at java.io.BufferedReader.readLine(BufferedReader.java:389)\n    at org.springframework.batch.item.file.FlatFileItemReader.readLine(FlatFileItemReader.java:201)\n    ... 58 common frames omitted\nWrapped by: org.springframework.batch.item.file.NonTransientFlatFileException: Unable to read from resource: [file [/src/input.csv]]\n    at org.springframework.batch.item.file.FlatFileItemReader.readLine(FlatFileItemReader.java:220)\n    at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:173)\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:89)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:91)\n    at org.springframework.batch.core.step.item.FaultTolerantChunkProvider.read(FaultTolerantChunkProvider.java:87)\n    ... 54 common frames omitted\nWrapped by: org.springframework.batch.core.step.skip.NonSkippableReadException: Non-skippable exception during read\n    at org.springframework.batch.core.step.item.FaultTolerantChunkProvider.read(FaultTolerantChunkProvider.java:105)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:116)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:110)\n    at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:394)\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:135)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:308)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:141)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:134)\n    at sun.reflect.GeneratedMethodAccessor244.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:197)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)\n</code></pre>\n<p><strong>Failure Logs</strong></p>\n<p>The log lines from CustomChunkListener class are getting printed endlessly without actually reaching the writer class and CHUNK_NO is increased to a million whereas it should be ideally 1 or 2 based on our logic.</p>\n<pre><code>Chunk processing started. context = ChunkContext: attributes=[CHUNK_NO], complete=false, stepContext=SynchronizedAttributeAccessor: [], stepExecutionContext={FlatFileItemWriter.current.count=0, FlatFileItemWriter.written=0, batch.taskletType=org.springframework.batch.core.step.item.ChunkOrientedTasklet, FlatFileItemReader.read.count=0, batch.stepType=org.springframework.batch.core.step.tasklet.TaskletStep}, jobExecutionContext={}, jobParameters={BATCH_ID=c8aad01f-7779-4574-b15c-337fbd0f32d6}\n\nChunk processing failed. context = ChunkContext: attributes=[CHUNK_NO], complete=true, stepContext=SynchronizedAttributeAccessor: [], stepExecutionContext={FlatFileItemWriter.current.count=0, FlatFileItemWriter.written=0, batch.taskletType=org.springframework.batch.core.step.item.ChunkOrientedTasklet, FlatFileItemReader.read.count=0, batch.stepType=org.springframework.batch.core.step.tasklet.TaskletStep}, jobExecutionContext={}, jobParameters={BATCH_ID=c8aad01f-7779-4574-b15c-337fbd0f32d6}, Time Taken = 0 SECONDS\n</code></pre>\n<p>Why is the same chunk starting &amp; failing multiple times even after the first failure ? How to avoid this behaviour when these kind of runtime errors occur ?</p>\n"},{"tags":["java","graalvm"],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627023342,"creation_date":1627023342,"answer_id":68495180,"question_id":68480334,"body_markdown":"You can run `gu upgrade` and it&#39;ll download the new GraalVM and place nearby for you: https://www.graalvm.org/reference-manual/graalvm-updater/#upgrade-graalvm\r\nIt doesn&#39;t overwrite the existing installation, but you can switch the `$GRAALVM_HOME` to point to the new location. ","title":"How to update GraalVM?","body":"<p>You can run <code>gu upgrade</code> and it'll download the new GraalVM and place nearby for you: <a href=\"https://www.graalvm.org/reference-manual/graalvm-updater/#upgrade-graalvm\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/graalvm-updater/#upgrade-graalvm</a>\nIt doesn't overwrite the existing installation, but you can switch the <code>$GRAALVM_HOME</code> to point to the new location.</p>\n"}],"owner":{"account_id":223484,"reputation":61196,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68495180,"answer_count":1,"score":0,"last_activity_date":1678087864,"creation_date":1626936510,"question_id":68480334,"body_markdown":"GraalVM 21.2 is released https://www.graalvm.org/release-notes/21_2/\r\n\r\nI have `graalvm-ce-java11-21.1.0` instance\r\n\r\n    export GRAALVM_HOME=/Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\r\n\r\nCan I update it to 21.2 without manually downloading/installing new instance?","title":"How to update GraalVM?","body":"<p>GraalVM 21.2 is released <a href=\"https://www.graalvm.org/release-notes/21_2/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/release-notes/21_2/</a></p>\n<p>I have <code>graalvm-ce-java11-21.1.0</code> instance</p>\n<pre><code>export GRAALVM_HOME=/Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\n</code></pre>\n<p>Can I update it to 21.2 without manually downloading/installing new instance?</p>\n"},{"tags":["java","rest","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":944837,"reputation":2993,"user_id":972276,"accept_rate":72,"display_name":"user972276"},"score":0,"creation_date":1678201144,"post_id":75648140,"comment_id":133484831,"body_markdown":"Thanks for the explanation!  That clears it up for me.  I understand why someone would want to split them as it fall in line with separation of concern, but I also feel like a lot of endpoints are very straightforward and not reusable.  This causes a lot more overhead for those use cases and imho makes the code harder to read","body":"Thanks for the explanation!  That clears it up for me.  I understand why someone would want to split them as it fall in line with separation of concern, but I also feel like a lot of endpoints are very straightforward and not reusable.  This causes a lot more overhead for those use cases and imho makes the code harder to read"}],"tags":[],"owner":{"account_id":11777559,"reputation":1172,"user_id":8627215,"display_name":"James Netherton"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678087859,"creation_date":1678087859,"answer_id":75648140,"question_id":75629686,"body_markdown":"Since Camel 3.16.0, you cannot embed routes into the REST DSL. The change was documented in the upgrade guide here:\r\n\r\nhttps://camel.apache.org/manual/camel-3x-upgrade-guide-3_16.html#_removed_support_for_embedded_routes\r\n\r\nThere&#39;s some brief background to the change in a Jira ticket:\r\n\r\nhttps://issues.apache.org/jira/browse/CAMEL-17675\r\n\r\nThe correct way to configure things is as per your code example where you link the REST DSL to a route via `direct` etc. E.g.\r\n\r\n    rest().post().to(&quot;direct:start&quot;);\r\n\r\n    from(&quot;direct:start&quot;).log(&quot;Got body: ${body}&quot;);","title":"Camel 2.X to 3.X REST Migration","body":"<p>Since Camel 3.16.0, you cannot embed routes into the REST DSL. The change was documented in the upgrade guide here:</p>\n<p><a href=\"https://camel.apache.org/manual/camel-3x-upgrade-guide-3_16.html#_removed_support_for_embedded_routes\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/camel-3x-upgrade-guide-3_16.html#_removed_support_for_embedded_routes</a></p>\n<p>There's some brief background to the change in a Jira ticket:</p>\n<p><a href=\"https://issues.apache.org/jira/browse/CAMEL-17675\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-17675</a></p>\n<p>The correct way to configure things is as per your code example where you link the REST DSL to a route via <code>direct</code> etc. E.g.</p>\n<pre><code>rest().post().to(&quot;direct:start&quot;);\n\nfrom(&quot;direct:start&quot;).log(&quot;Got body: ${body}&quot;);\n</code></pre>\n"}],"owner":{"account_id":944837,"reputation":2993,"user_id":972276,"accept_rate":72,"display_name":"user972276"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75648140,"answer_count":1,"score":0,"last_activity_date":1678087859,"creation_date":1677861438,"question_id":75629686,"body_markdown":"I am migrating from Camel 2.X to 3.x.  Before, I used to do the following in Java DSL:\r\n\r\n\r\n    rest().post().route().log().convertBodyTo().process().endRest();\r\n\r\n\r\nEssentially I can do anything I would normally do in a from, in a rest.  In Camel 3, I have to split the above into two configs: one rest and one from:\r\n\r\n\r\n    rest().post().to(“fromRoute”);\r\n    from(“fromRoute”).log().convertBodyTo().process();\r\n\r\n\r\nI was having trouble finding documentation on this change and the migration page camel gives does not mention this to my knowledge.\r\n\r\nIs the former REST route definition done in Camel 2 just not a best practice? Is splitting the routes like I did the way forward in Camel 3?  Any insight on best practices here or just the correct way to define REST endpoints in camel 3 would be greatly appreciated","title":"Camel 2.X to 3.X REST Migration","body":"<p>I am migrating from Camel 2.X to 3.x.  Before, I used to do the following in Java DSL:</p>\n<pre><code>rest().post().route().log().convertBodyTo().process().endRest();\n</code></pre>\n<p>Essentially I can do anything I would normally do in a from, in a rest.  In Camel 3, I have to split the above into two configs: one rest and one from:</p>\n<pre><code>rest().post().to(“fromRoute”);\nfrom(“fromRoute”).log().convertBodyTo().process();\n</code></pre>\n<p>I was having trouble finding documentation on this change and the migration page camel gives does not mention this to my knowledge.</p>\n<p>Is the former REST route definition done in Camel 2 just not a best practice? Is splitting the routes like I did the way forward in Camel 3?  Any insight on best practices here or just the correct way to define REST endpoints in camel 3 would be greatly appreciated</p>\n"},{"tags":["java","kotlin","rendering","android-jetpack","state-management"],"comments":[{"owner":{"account_id":23773873,"reputation":1125,"user_id":17787605,"display_name":"bylazy"},"score":0,"creation_date":1678089411,"post_id":75647960,"comment_id":133458797,"body_markdown":"You need to avoid using mutable objects as state. So instead of an array of arrays use `mutableStateListOf&lt;List&lt;Int&gt;&gt;`","body":"You need to avoid using mutable objects as state. So instead of an array of arrays use <code>mutableStateListOf&lt;List&lt;Int&gt;&gt;</code>"},{"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"score":0,"creation_date":1678090143,"post_id":75647960,"comment_id":133458950,"body_markdown":"@bylazy ok but why though","body":"@bylazy ok but why though"},{"owner":{"account_id":23773873,"reputation":1125,"user_id":17787605,"display_name":"bylazy"},"score":0,"creation_date":1678098105,"post_id":75647960,"comment_id":133461048,"body_markdown":"As stated [here](https://developer.android.com/jetpack/compose/state): Using mutable objects such as ArrayList&lt;T&gt; or mutableListOf() as state in Compose causes your users to see incorrect or stale data in your app. Mutable objects that are not observable, such as ArrayList or a mutable data class, are not observable by Compose and don&#39;t trigger a recomposition when they change. Instead of using non-observable mutable objects, the recommendation is to use an observable data holder such as State&lt;List&lt;T&gt;&gt; and the immutable listOf().","body":"As stated <a href=\"https://developer.android.com/jetpack/compose/state\" rel=\"nofollow noreferrer\">here</a>: Using mutable objects such as ArrayList&lt;T&gt; or mutableListOf() as state in Compose causes your users to see incorrect or stale data in your app. Mutable objects that are not observable, such as ArrayList or a mutable data class, are not observable by Compose and don&#39;t trigger a recomposition when they change. Instead of using non-observable mutable objects, the recommendation is to use an observable data holder such as State&lt;List&lt;T&gt;&gt; and the immutable listOf()."},{"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"score":0,"creation_date":1678171614,"post_id":75647960,"comment_id":133476946,"body_markdown":"@bylazy though you are correct, that would require a vast change on existing architecture.\nI was able to solve it by initialising as:\n        var gameBoardBox: MutableState&lt;Array&lt;IntArray&gt;&gt; = mutableStateOf(gameBoard.playingArea)\n\nand updating the value like this:\n                    gameBoardBox.value = gameBoard.playingArea\n\nthe window gets rerendered once I started using an array of integer arrays and not custom GameBoard object.","body":"@bylazy though you are correct, that would require a vast change on existing architecture. I was able to solve it by initialising as:         var gameBoardBox: MutableState&lt;Array&lt;IntArray&gt;&gt; = mutableStateOf(gameBoard.playingArea)  and updating the value like this:                     gameBoardBox.value = gameBoard.playingArea  the window gets rerendered once I started using an array of integer arrays and not custom GameBoard object."}],"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678087635,"creation_date":1678086505,"question_id":75647960,"body_markdown":"In Jetpack Compose Desktop the following code renders a 4 rows and 4 columns of text fields with a number as value.\r\nI want to trigger re-rendering on user input from keyboard. When debugging the code gets inside the body of the onKeyEvent and updates the mutable variable gameBoardBox. I would expect that the playingBoard method gets called again and rerendered, however, it does not happen, even though the I see that the gameBoardBox variable` s values were updated.\r\nHow could I trigger rerender in my case?\r\nThe gameboard is an object with an array of intarrays as property. \r\n\r\nFollowing the example [in docs][1] does not bring desired results\r\n\r\n```\r\n    @Composable\r\n    fun tile(color: Color, value: Int) =\r\n        Box(modifier = Modifier.size(Dp(100F), Dp(100F)).border(Dp(2f), Color.Black).background(color)) {\r\n            Text(\r\n                value.toString(),\r\n                modifier = Modifier.align(Alignment.Center)\r\n            )\r\n        }\r\n\r\n    @OptIn(ExperimentalComposeUiApi::class)\r\n    @Composable\r\n    fun playingBoard() = Row(\r\n        modifier = Modifier.fillMaxSize()\r\n            .background(Color(100, 100, 100)),\r\n        verticalAlignment = Alignment.CenterVertically,\r\n        horizontalArrangement = Arrangement.Center\r\n    ) {\r\n\r\n        var gameBoardBox by remember { mutableStateOf(gameBoard) }\r\n\r\n        Row(Modifier.focusable()\r\n            .onKeyEvent {\r\n\r\n                if (it.key == Key.K) {\r\n                    movementService.shift(Direction.RIGHT) // this line makes a new object of gameBoard, so the variable gets updated\r\n                    gameBoardBox = gameBoard \r\n                    true\r\n                }\r\n                println(&quot;hi&quot;)\r\n                false\r\n\r\n            }) {\r\n            repeat(4) { column -&gt;\r\n                Column {\r\n                    repeat(4) { row -&gt;\r\n                        Row {\r\n                            tile(Color.Gray, gameBoardBox.playingArea[row][column])\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://www.jetpackcompose.net/state-in-jetpack-compose","title":"Composable Component does not re-render after updating mutable value (Jetpack Compose)","body":"<p>In Jetpack Compose Desktop the following code renders a 4 rows and 4 columns of text fields with a number as value.\nI want to trigger re-rendering on user input from keyboard. When debugging the code gets inside the body of the onKeyEvent and updates the mutable variable gameBoardBox. I would expect that the playingBoard method gets called again and rerendered, however, it does not happen, even though the I see that the gameBoardBox variable` s values were updated.\nHow could I trigger rerender in my case?\nThe gameboard is an object with an array of intarrays as property.</p>\n<p>Following the example <a href=\"https://www.jetpackcompose.net/state-in-jetpack-compose\" rel=\"nofollow noreferrer\">in docs</a> does not bring desired results</p>\n<pre><code>    @Composable\n    fun tile(color: Color, value: Int) =\n        Box(modifier = Modifier.size(Dp(100F), Dp(100F)).border(Dp(2f), Color.Black).background(color)) {\n            Text(\n                value.toString(),\n                modifier = Modifier.align(Alignment.Center)\n            )\n        }\n\n    @OptIn(ExperimentalComposeUiApi::class)\n    @Composable\n    fun playingBoard() = Row(\n        modifier = Modifier.fillMaxSize()\n            .background(Color(100, 100, 100)),\n        verticalAlignment = Alignment.CenterVertically,\n        horizontalArrangement = Arrangement.Center\n    ) {\n\n        var gameBoardBox by remember { mutableStateOf(gameBoard) }\n\n        Row(Modifier.focusable()\n            .onKeyEvent {\n\n                if (it.key == Key.K) {\n                    movementService.shift(Direction.RIGHT) // this line makes a new object of gameBoard, so the variable gets updated\n                    gameBoardBox = gameBoard \n                    true\n                }\n                println(&quot;hi&quot;)\n                false\n\n            }) {\n            repeat(4) { column -&gt;\n                Column {\n                    repeat(4) { row -&gt;\n                        Row {\n                            tile(Color.Gray, gameBoardBox.playingArea[row][column])\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","simd"],"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1678086918,"post_id":75647873,"comment_id":133458255,"body_markdown":"I don&#39;t know the Java API, but the optimal strategy is very different for x86 vs. ARM, and even 32-bit ARM and NEON are different enough that I think a different strategy is optimal.   On x86 with SSE4.1 `ptest xmm0,xmm0` to set ZF in FLAGS, i.e. `_mm_test_all_zeros` or AVX `_mm256_testz_si256`.  Or in your case, you&#39;re testing a bitwise AND, so you&#39;d just use `ptest` directly between two different inputs.  Without SSE4.1, SSE2 `pcmpeqb` against a zeroed register then `pmovmskb eax, xmm0` to get a scalar integer bitmap of the packed-compare result.","body":"I don&#39;t know the Java API, but the optimal strategy is very different for x86 vs. ARM, and even 32-bit ARM and NEON are different enough that I think a different strategy is optimal.   On x86 with SSE4.1 <code>ptest xmm0,xmm0</code> to set ZF in FLAGS, i.e. <code>_mm_test_all_zeros</code> or AVX <code>_mm256_testz_si256</code>.  Or in your case, you&#39;re testing a bitwise AND, so you&#39;d just use <code>ptest</code> directly between two different inputs.  Without SSE4.1, SSE2 <code>pcmpeqb</code> against a zeroed register then <code>pmovmskb eax, xmm0</code> to get a scalar integer bitmap of the packed-compare result."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1678087006,"post_id":75647873,"comment_id":133458272,"body_markdown":"ARM SIMD doesn&#39;t have a `pmovmskb` equivalent or a way to set condition-codes for branching based on vector instructions.  But AArch64 has a right-shift-and-insert or something that can narrow a packed-compare result from 128 to 64 bits, same width as an integer register.  And I think most ARMv8 CPUs don&#39;t stall when moving data from SIMD to integer regs, unlike some 32-bit ARM CPUs.  For 32-bit, IIRC your best bet could be to OR the two `d` registers that make up a 128-bit `q` register, then reduce to 32-bit with a horizontal add or OR or something.","body":"ARM SIMD doesn&#39;t have a <code>pmovmskb</code> equivalent or a way to set condition-codes for branching based on vector instructions.  But AArch64 has a right-shift-and-insert or something that can narrow a packed-compare result from 128 to 64 bits, same width as an integer register.  And I think most ARMv8 CPUs don&#39;t stall when moving data from SIMD to integer regs, unlike some 32-bit ARM CPUs.  For 32-bit, IIRC your best bet could be to OR the two <code>d</code> registers that make up a 128-bit <code>q</code> register, then reduce to 32-bit with a horizontal add or OR or something."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1678087292,"post_id":75647873,"comment_id":133458347,"body_markdown":"So anyway, to JIT to efficient code on different ISAs, the Java API hopefully can do something high-enough level that you don&#39;t have to pick one of those strategies and try to express the details in a portable API, because the horizontal reduction down to 32-bit would be a lot less efficient on x86-64.","body":"So anyway, to JIT to efficient code on different ISAs, the Java API hopefully can do something high-enough level that you don&#39;t have to pick one of those strategies and try to express the details in a portable API, because the horizontal reduction down to 32-bit would be a lot less efficient on x86-64."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1678087777,"post_id":75647873,"comment_id":133458447,"body_markdown":"I am new to SIMD. Java&#39;s `Vector` API (of course still in incubator stage) aims to provide architecture independent abstractions, so using the lower level or CPU specific API (e.g., `NEON` or `AVX`) is not my option.","body":"I am new to SIMD. Java&#39;s <code>Vector</code> API (of course still in incubator stage) aims to provide architecture independent abstractions, so using the lower level or CPU specific API (e.g., <code>NEON</code> or <code>AVX</code>) is not my option."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1678087955,"post_id":75647873,"comment_id":133458487,"body_markdown":"I wasn&#39;t suggesting writing Java source using CPU-specific intrinsics.  See my last comment for the point of all that, that if there wasn&#39;t a high-level thing like `.allTrue()`, you would have been forced to implement that yourself out of whatever other operations it provides.  So you&#39;d have had to pick an implementation strategy.  So it&#39;s a good thing there is a `.allTrue()` to let the JIT use a good strategy for the ISA it&#39;s running on.  And it&#39;s important to use it instead of rolling your own, since there *are* ISA-specific tricks that a good JIT will use.","body":"I wasn&#39;t suggesting writing Java source using CPU-specific intrinsics.  See my last comment for the point of all that, that if there wasn&#39;t a high-level thing like <code>.allTrue()</code>, you would have been forced to implement that yourself out of whatever other operations it provides.  So you&#39;d have had to pick an implementation strategy.  So it&#39;s a good thing there is a <code>.allTrue()</code> to let the JIT use a good strategy for the ISA it&#39;s running on.  And it&#39;s important to use it instead of rolling your own, since there <i>are</i> ISA-specific tricks that a good JIT will use."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1678088032,"post_id":75647873,"comment_id":133458504,"body_markdown":"@PeterCordes Thanks. Your comments are very inspiring for me :)","body":"@PeterCordes Thanks. Your comments are very inspiring for me :)"}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678087578,"creation_date":1678087578,"answer_id":75648105,"question_id":75647873,"body_markdown":"After some search on Java Doc, I found a feasible solution through `eq()` which produces a `VectorMask`:\r\n\r\n&gt; A VectorMask represents an ordered immutable sequence of boolean values.\r\n\r\n```java\r\nvar result = buffer.and(markVector);\r\n\r\nif (result.eq((byte) 0x00).allTrue())\r\n   System.out.println(&quot;All Zeros&quot;);\r\n```","title":"How to check whether all bits of ByteVector are 0?","body":"<p>After some search on Java Doc, I found a feasible solution through <code>eq()</code> which produces a <code>VectorMask</code>:</p>\n<blockquote>\n<p>A VectorMask represents an ordered immutable sequence of boolean values.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>var result = buffer.and(markVector);\n\nif (result.eq((byte) 0x00).allTrue())\n   System.out.println(&quot;All Zeros&quot;);\n</code></pre>\n"}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678087578,"creation_date":1678085829,"question_id":75647873,"body_markdown":"I am using the SIMD api in Java:\r\n\r\n```java\r\n// both `buffer` and `markVector` are ByteVector\r\nvar result = buffer.and(markVector);\r\n```\r\n\r\nMy requirement is to check whether all bits in `result` are 0 efficiently.\r\n\r\nA workaround way is to convert it to `byte[]`, and then covert every individual byte to `int`, and finally check whether it is 0 one by one. But this method does not leverage the SIMD feature.\r\n\r\nAny idea about how to check whether all bits of ByteVector are 0 in SIMD?","title":"How to check whether all bits of ByteVector are 0?","body":"<p>I am using the SIMD api in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// both `buffer` and `markVector` are ByteVector\nvar result = buffer.and(markVector);\n</code></pre>\n<p>My requirement is to check whether all bits in <code>result</code> are 0 efficiently.</p>\n<p>A workaround way is to convert it to <code>byte[]</code>, and then covert every individual byte to <code>int</code>, and finally check whether it is 0 one by one. But this method does not leverage the SIMD feature.</p>\n<p>Any idea about how to check whether all bits of ByteVector are 0 in SIMD?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1217812,"reputation":777,"user_id":3887392,"display_name":"Andy Preston"},"score":0,"creation_date":1678123555,"post_id":75647515,"comment_id":133468566,"body_markdown":"Please read [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-ot-upload-images-of-code-data-errors) to see how you can improve your question.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-ot-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a> to see how you can improve your question."},{"owner":{"account_id":2246591,"reputation":545,"user_id":1979791,"accept_rate":50,"display_name":"Bazardshoxer"},"score":0,"creation_date":1678268670,"post_id":75647515,"comment_id":133498414,"body_markdown":"I think you need `int processComplete1 = runtimeProcess1.waitFor();` (wait for runtimeProcess1 instead of runtimeProcess)","body":"I think you need <code>int processComplete1 = runtimeProcess1.waitFor();</code> (wait for runtimeProcess1 instead of runtimeProcess)"}],"owner":{"account_id":27899269,"reputation":3,"user_id":21303898,"display_name":"Java_Prog_Ideas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678087512,"creation_date":1678082673,"question_id":75647515,"body_markdown":"[Table 1][1]I need to get selected table backup using java code with where condition for multiple tables. I have tryed somecode block and added below. Have to use same backup.sql file for two different table backup.\r\n\r\n[Table 2][2]\r\n```\r\ntry {\r\n\t\t\t\tString dbName = &quot;gcc_db&quot;;\r\n\t\t\t\tString dbTable = &quot;course&quot;;\r\n\t\t\t\tString dbTable_1 = &quot;course_grade&quot;;\r\n\t\t\t\tString whereStatement = &quot;\\&quot;&quot; + 3 + &quot;\\&quot;&quot;;\r\n\t\t\t\tString dbUser = &quot;root&quot;;\r\n\t\t\t\tString dbPass = &quot;admin&quot;;\r\n\r\n\t\t\t\t/***********************************************************/\r\n\t\t\t\t// Execute Shell Command\r\n\t\t\t\t/***********************************************************/\r\n\t\t\t\tString executeCmd1 = &quot;&quot;;\r\n\t\t\t\tString executeCmd2 = &quot;&quot;;\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\texecuteCmd1 = &quot;C:/wamp64/bin/mysql/mysql5.7.14/bin/mysqldump -u &quot;+dbUser+&quot; -p&quot;+dbPass+&quot; &quot;+dbName+&quot; &quot;+dbTable+&quot; --where=id=&quot;+whereStatement+&quot; --single-transaction --skip-lock-tables --no-create-info -r D:/backup.sql&quot;;\r\n\t\t\t\texecuteCmd2 = &quot;C:/wamp64/bin/mysql/mysql5.7.14/bin/mysqldump -u &quot;+dbUser+&quot; -p&quot;+dbPass+&quot; &quot;+dbName+&quot; &quot;+dbTable_1+&quot; --where=course_id=&quot;+whereStatement+&quot; --single-transaction --skip-lock-tables --no-create-info &gt;&gt; D:/backup.sql&quot;;\r\n\t\t\t\tSystem.out.println(executeCmd1);\r\n\t\t\t\tSystem.out.println(executeCmd2);\r\n\t\t\t\tProcess runtimeProcess =Runtime.getRuntime().exec(executeCmd1);\r\n\t\t\t\tint processComplete = runtimeProcess.waitFor();\r\n\t\t\t\tif(processComplete == 0){\r\n\r\n\t\t\t\tSystem.out.println(&quot;Backup taken successfully&quot;);\r\n\t\t\t\tProcess runtimeProcess1 =Runtime.getRuntime().exec(executeCmd2);\r\n\t\t\t\tint processComplete1 = runtimeProcess.waitFor();\r\n\t\t\t\tif(processComplete1 == 0){\r\n\t\t\t\t\tSystem.out.println(&quot;Backup taken successfully&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Could not take mysql backup:::::::::::2&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;Could not take mysql backup:::::::::::1&quot;);\r\n\r\n\t\t\t\t}\r\n\t\t    \t} catch (IOException | InterruptedException ex) {\r\n\t\t    \t\tex.printStackTrace();\t\t            \r\n\t\t        }\r\n```\r\n\r\nwhen i run the code only the first backup is running and got the output the second process is not writting the backup in file.\r\n\r\n\r\n```\r\n-- MySQL dump 10.13  Distrib 5.7.14, for Win64 (x86_64)\r\n--\r\n-- Host: localhost    Database: db\r\n-- ------------------------------------------------------\r\n-- Server version\t5.7.14\r\n\r\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n/*!40101 SET NAMES utf8 */;\r\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\r\n/*!40103 SET TIME_ZONE=&#39;+00:00&#39; */;\r\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\r\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;NO_AUTO_VALUE_ON_ZERO&#39; */;\r\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n\r\n--\r\n-- Dumping data for table `course`\r\n--\r\n-- WHERE:  id=3\r\n\r\nLOCK TABLES `course` WRITE;\r\n/*!40000 ALTER TABLE `course` DISABLE KEYS */;\r\nINSERT INTO `course` VALUES (3,&#39;C0003&#39;,&#39;test-sample&#39;,2,&#39;Test Sample&#39;);\r\n/*!40000 ALTER TABLE `course` ENABLE KEYS */;\r\nUNLOCK TABLES;\r\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\r\n\r\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\r\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n\r\n-- Dump completed on 2023-03-06 11:17:55\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eaJmp.png\r\n  [2]: https://i.stack.imgur.com/pv4X1.png","title":"How to get MySQL multiple table backup with where condition in same backup file from java code?","body":"<p><a href=\"https://i.stack.imgur.com/eaJmp.png\" rel=\"nofollow noreferrer\">Table 1</a>I need to get selected table backup using java code with where condition for multiple tables. I have tryed somecode block and added below. Have to use same backup.sql file for two different table backup.</p>\n<p><a href=\"https://i.stack.imgur.com/pv4X1.png\" rel=\"nofollow noreferrer\">Table 2</a></p>\n<pre><code>try {\n                String dbName = &quot;gcc_db&quot;;\n                String dbTable = &quot;course&quot;;\n                String dbTable_1 = &quot;course_grade&quot;;\n                String whereStatement = &quot;\\&quot;&quot; + 3 + &quot;\\&quot;&quot;;\n                String dbUser = &quot;root&quot;;\n                String dbPass = &quot;admin&quot;;\n\n                /***********************************************************/\n                // Execute Shell Command\n                /***********************************************************/\n                String executeCmd1 = &quot;&quot;;\n                String executeCmd2 = &quot;&quot;;                \n                \n                executeCmd1 = &quot;C:/wamp64/bin/mysql/mysql5.7.14/bin/mysqldump -u &quot;+dbUser+&quot; -p&quot;+dbPass+&quot; &quot;+dbName+&quot; &quot;+dbTable+&quot; --where=id=&quot;+whereStatement+&quot; --single-transaction --skip-lock-tables --no-create-info -r D:/backup.sql&quot;;\n                executeCmd2 = &quot;C:/wamp64/bin/mysql/mysql5.7.14/bin/mysqldump -u &quot;+dbUser+&quot; -p&quot;+dbPass+&quot; &quot;+dbName+&quot; &quot;+dbTable_1+&quot; --where=course_id=&quot;+whereStatement+&quot; --single-transaction --skip-lock-tables --no-create-info &gt;&gt; D:/backup.sql&quot;;\n                System.out.println(executeCmd1);\n                System.out.println(executeCmd2);\n                Process runtimeProcess =Runtime.getRuntime().exec(executeCmd1);\n                int processComplete = runtimeProcess.waitFor();\n                if(processComplete == 0){\n\n                System.out.println(&quot;Backup taken successfully&quot;);\n                Process runtimeProcess1 =Runtime.getRuntime().exec(executeCmd2);\n                int processComplete1 = runtimeProcess.waitFor();\n                if(processComplete1 == 0){\n                    System.out.println(&quot;Backup taken successfully&quot;);\n                } else {\n                    System.out.println(&quot;Could not take mysql backup:::::::::::2&quot;);\n                }\n\n                } else {\n\n                    System.out.println(&quot;Could not take mysql backup:::::::::::1&quot;);\n\n                }\n                } catch (IOException | InterruptedException ex) {\n                    ex.printStackTrace();                   \n                }\n</code></pre>\n<p>when i run the code only the first backup is running and got the output the second process is not writting the backup in file.</p>\n<pre><code>-- MySQL dump 10.13  Distrib 5.7.14, for Win64 (x86_64)\n--\n-- Host: localhost    Database: db\n-- ------------------------------------------------------\n-- Server version   5.7.14\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8 */;\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\n/*!40103 SET TIME_ZONE='+00:00' */;\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n\n--\n-- Dumping data for table `course`\n--\n-- WHERE:  id=3\n\nLOCK TABLES `course` WRITE;\n/*!40000 ALTER TABLE `course` DISABLE KEYS */;\nINSERT INTO `course` VALUES (3,'C0003','test-sample',2,'Test Sample');\n/*!40000 ALTER TABLE `course` ENABLE KEYS */;\nUNLOCK TABLES;\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\n\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\n\n-- Dump completed on 2023-03-06 11:17:55\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","repository"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1678060590,"post_id":75645904,"comment_id":133455076,"body_markdown":"presumably you need an `=` between `S.pass` and `?2`.","body":"presumably you need an <code>=</code> between <code>S.pass</code> and <code>?2</code>."},{"owner":{"account_id":26253878,"reputation":1,"user_id":19926239,"display_name":"Matthew Hinson"},"score":0,"creation_date":1678584239,"post_id":75645904,"comment_id":133561939,"body_markdown":"This was an error but it wasnt catching it yet. When i run the native spring successfully builds but when i sent info i get an: java.sql.SQLSyntaxErrorException: Unknown column &#39;S&#39; in &#39;field list&#39;. My saved repository is using a very similar query but it works.","body":"This was an error but it wasnt catching it yet. When i run the native spring successfully builds but when i sent info i get an: java.sql.SQLSyntaxErrorException: Unknown column &#39;S&#39; in &#39;field list&#39;. My saved repository is using a very similar query but it works."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678585246,"post_id":75645904,"comment_id":133562021,"body_markdown":"Please read some SQL tutorials. Presumably the `User` table doesn&#39;t have a field named `S`. List the fields you want to retrieve (or use `*`) in your query.","body":"Please read some SQL tutorials. Presumably the <code>User</code> table doesn&#39;t have a field named <code>S</code>. List the fields you want to retrieve (or use <code>*</code>) in your query."},{"owner":{"account_id":26253878,"reputation":1,"user_id":19926239,"display_name":"Matthew Hinson"},"score":0,"creation_date":1678587131,"post_id":75645904,"comment_id":133562187,"body_markdown":"using spring jpa with queries it is required to have the &quot;S&quot; or another placeholder in there. With nativeQuery=true i guess i didnt need it. My problem ended up being in my User @Entity class. It was confused with my naming assignments.","body":"using spring jpa with queries it is required to have the &quot;S&quot; or another placeholder in there. With nativeQuery=true i guess i didnt need it. My problem ended up being in my User @Entity class. It was confused with my naming assignments."}],"answers":[{"comments":[{"owner":{"account_id":26253878,"reputation":1,"user_id":19926239,"display_name":"Matthew Hinson"},"score":0,"creation_date":1678584557,"post_id":75648090,"comment_id":133561967,"body_markdown":"No shot on that. im getting a error code of : org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: Error creating bean with name &#39;userRepository&#39; defined in com.repository.UserRepository defined in @EnableJpaRepositories declared on ApplicationConfig: Could not create query for public abstract com.entity.User com.repository.","body":"No shot on that. im getting a error code of : org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: Error creating bean with name &#39;userRepository&#39; defined in com.repository.UserRepository defined in @EnableJpaRepositories declared on ApplicationConfig: Could not create query for public abstract com.entity.User com.repository."},{"owner":{"account_id":26253878,"reputation":1,"user_id":19926239,"display_name":"Matthew Hinson"},"score":0,"creation_date":1678584561,"post_id":75648090,"comment_id":133561969,"body_markdown":"UserRepository.findByEmailAndPass(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.entity.User com.repository.UserRepository.findByEmailAndPass(java.lang.String,java.lang.String); No property &#39;email&#39; found for type &#39;User&#39;","body":"UserRepository.findByEmailAndPass(java.lang.String,java.lang&zwnj;&#8203;.String); Reason: Failed to create query for method public abstract com.entity.User com.repository.UserRepository.findByEmailAndPass(java.lang.S&zwnj;&#8203;tring,java.lang.Stri&zwnj;&#8203;ng); No property &#39;email&#39; found for type &#39;User&#39;"},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678618585,"post_id":75648090,"comment_id":133565188,"body_markdown":"Can you share your User entity?","body":"Can you share your User entity?"}],"tags":[],"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678087444,"creation_date":1678087444,"answer_id":75648090,"question_id":75645904,"body_markdown":"Instead of using native query you can opt for custom methods that you can create in Spring Data JPA. \r\nSimply add below code in your UserRepository\r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\r\n   User findByEmailAndPass(String email, String password);\r\n}\r\n```\r\n\r\nYou can get more details: https://javatute.com/jpa/how-to-write-custom-method-in-repository-in-spring-data-jpa/\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details","title":"Im getting errors in spring boot when i try to login but i am able to save to my db using the same repository?","body":"<p>Instead of using native query you can opt for custom methods that you can create in Spring Data JPA.\nSimply add below code in your UserRepository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\n   User findByEmailAndPass(String email, String password);\n}\n</code></pre>\n<p>You can get more details: <a href=\"https://javatute.com/jpa/how-to-write-custom-method-in-repository-in-spring-data-jpa/\" rel=\"nofollow noreferrer\">https://javatute.com/jpa/how-to-write-custom-method-in-repository-in-spring-data-jpa/</a>\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details</a></p>\n"}],"owner":{"account_id":26253878,"reputation":1,"user_id":19926239,"display_name":"Matthew Hinson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678087444,"creation_date":1678057634,"question_id":75645904,"body_markdown":"I am able to /save users to the MYSQL database using the UserRepository but when I try to /login with the same information I am getting a error which I cant figure out.\r\n\r\njava.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;123!@#&#39;&#39; at line 1\r\n\r\nRepository\r\n\r\n```\r\npackage com.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.entity.User;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\r\n\r\n\t///builds successfully but crashes saying sql syntax error, look up manual. Will allow me to save users to db\r\n\t@Query(value = &quot;Select S from User S where S.email = ?1 and S.pass  ?2&quot;, nativeQuery = true)\r\n\tUser login( String user, String pass);\r\n\t\r\n\t//doesnt build correct but is like my other repository\r\n//\t@Query(&quot;Select S from User S where S.email = ?1 and S.pass  ?2&quot;)\r\n//\tUser login( String user, String pass);\r\n}\r\n```\r\n\r\nUser Controller\r\n\r\n```\r\npackage com.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.entity.Saved;\r\nimport com.entity.User;\r\nimport com.repository.SavedRepository;\r\nimport com.repository.UserRepository;\r\n\r\n@CrossOrigin\r\n@RestController\r\npublic class UserController {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t@Autowired\r\n\tSavedRepository savedRepository;\r\n\t\r\n\t//~~~~~~~~~~~~~~~~~~user details group ~~~~~~~~~~~~\r\n\t\r\n\t//saving user details from new user login page\r\n\t@RequestMapping(value = &quot;/save&quot;,\r\n\t\t\tconsumes=MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tproduces=MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tmethod=RequestMethod.POST\r\n\t\t\t)\r\n\tpublic void submitUserDetails(@RequestBody User user) {\r\n\t\tuserRepository.save(user);\r\n\t}\r\n\t\r\n\t//finds user details \r\n\t@RequestMapping(value=&quot;/findUser&quot;,\r\n\t\t\tproduces=MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tmethod=RequestMethod.GET\r\n\t\t\t)\r\n\tprivate ResponseEntity&lt;Optional&lt;User&gt;&gt;findUser(String email){\r\n\t\tOptional&lt;User&gt; user = userRepository.findById(email);\r\n\t\treturn new ResponseEntity&lt;&gt;(user,HttpStatus.OK);\r\n\t}\r\n\t\r\n\t//user Login details\r\n\t@RequestMapping(value=&quot;/login&quot;,\r\n\t\t\tproduces=MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tmethod=RequestMethod.POST\r\n\t\t\t)\r\n\tpublic ResponseEntity&lt;User&gt;login(@RequestBody User user){\r\n\t\tUser userLogin = userRepository.login(user.getUser(), user.getPass());\r\n\t\tif(userLogin != null) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(userLogin, HttpStatus.OK);\r\n\t\t}else {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n\t\t}\r\n\t}\r\n\t\r\n```\r\n\r\nI have tried using native vs Jpla queries and parametrized them. I&#39;m not exactly sure what else to do.","title":"Im getting errors in spring boot when i try to login but i am able to save to my db using the same repository?","body":"<p>I am able to /save users to the MYSQL database using the UserRepository but when I try to /login with the same information I am getting a error which I cant figure out.</p>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''123!@#'' at line 1</p>\n<p>Repository</p>\n<pre><code>package com.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport com.entity.User;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {\n\n    ///builds successfully but crashes saying sql syntax error, look up manual. Will allow me to save users to db\n    @Query(value = &quot;Select S from User S where S.email = ?1 and S.pass  ?2&quot;, nativeQuery = true)\n    User login( String user, String pass);\n    \n    //doesnt build correct but is like my other repository\n//  @Query(&quot;Select S from User S where S.email = ?1 and S.pass  ?2&quot;)\n//  User login( String user, String pass);\n}\n</code></pre>\n<p>User Controller</p>\n<pre><code>package com.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.entity.Saved;\nimport com.entity.User;\nimport com.repository.SavedRepository;\nimport com.repository.UserRepository;\n\n@CrossOrigin\n@RestController\npublic class UserController {\n\n    @Autowired\n    UserRepository userRepository;\n    @Autowired\n    SavedRepository savedRepository;\n    \n    //~~~~~~~~~~~~~~~~~~user details group ~~~~~~~~~~~~\n    \n    //saving user details from new user login page\n    @RequestMapping(value = &quot;/save&quot;,\n            consumes=MediaType.APPLICATION_JSON_VALUE,\n            produces=MediaType.APPLICATION_JSON_VALUE,\n            method=RequestMethod.POST\n            )\n    public void submitUserDetails(@RequestBody User user) {\n        userRepository.save(user);\n    }\n    \n    //finds user details \n    @RequestMapping(value=&quot;/findUser&quot;,\n            produces=MediaType.APPLICATION_JSON_VALUE,\n            method=RequestMethod.GET\n            )\n    private ResponseEntity&lt;Optional&lt;User&gt;&gt;findUser(String email){\n        Optional&lt;User&gt; user = userRepository.findById(email);\n        return new ResponseEntity&lt;&gt;(user,HttpStatus.OK);\n    }\n    \n    //user Login details\n    @RequestMapping(value=&quot;/login&quot;,\n            produces=MediaType.APPLICATION_JSON_VALUE,\n            method=RequestMethod.POST\n            )\n    public ResponseEntity&lt;User&gt;login(@RequestBody User user){\n        User userLogin = userRepository.login(user.getUser(), user.getPass());\n        if(userLogin != null) {\n            return new ResponseEntity&lt;&gt;(userLogin, HttpStatus.OK);\n        }else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n        }\n    }\n    \n</code></pre>\n<p>I have tried using native vs Jpla queries and parametrized them. I'm not exactly sure what else to do.</p>\n"},{"tags":["java","servlets","jdbc","jndi","tomcat8"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1677537691,"post_id":75564773,"comment_id":133354154,"body_markdown":"Please, consider read [this related SO question](https://stackoverflow.com/questions/129160/how-to-avoid-storing-passwords-in-the-clear-for-tomcats-server-xml-resource-def), I think it describes and address your problem.","body":"Please, consider read <a href=\"https://stackoverflow.com/questions/129160/how-to-avoid-storing-passwords-in-the-clear-for-tomcats-server-xml-resource-def\">this related SO question</a>, I think it describes and address your problem."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1677628122,"post_id":75564773,"comment_id":133374991,"body_markdown":"isn&#39;t the problem that your find function crashes? You need to provide whole exception trace","body":"isn&#39;t the problem that your find function crashes? You need to provide whole exception trace"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1678028295,"post_id":75564773,"comment_id":133449779,"body_markdown":"Why do you want to encrypt that data at all?","body":"Why do you want to encrypt that data at all?"}],"answers":[{"tags":[],"owner":{"account_id":6528460,"reputation":391,"user_id":8641435,"display_name":"linuxgx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677526479,"creation_date":1677526479,"answer_id":75584812,"question_id":75564773,"body_markdown":"You&#39;re not actually implementing the javax.sql.DataSource interface as part of your decrptAndReplace class. Fix that and it should get rid of your error.  ","title":"Using encrypted password in database connection java ( jdbc / jndi )","body":"<p>You're not actually implementing the javax.sql.DataSource interface as part of your decrptAndReplace class. Fix that and it should get rid of your error.</p>\n"}],"owner":{"account_id":5825925,"reputation":307,"user_id":6673721,"accept_rate":71,"display_name":"R K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678087006,"creation_date":1677320998,"question_id":75564773,"body_markdown":"I am using java 1.8, tomcat 8.5 and mysql 8\r\n\r\nMy aim to replace plain username and password with encrypted username and password for database connection.\r\n\r\nThe following is the database connection string:\r\n\r\n``` lang-xml\r\n&lt;Resource name=&quot;jdbc/db&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; maxTotal=&quot;100&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot; username=&quot;encrypted_username&quot; password=&quot;encrypted_password&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost:3306/rdbms&quot; factory=&quot;abc.decrptAndReplace&quot; /&gt;\r\n```\r\nThe above works when I remove `factory` attribute and use plain username and password.\r\n\r\nThe below code is for `decrptAndReplace` Class\r\n\r\n``` lang-java\r\npackage abc;\r\n\r\nimport java.util.Enumeration;\r\nimport java.util.Hashtable;\r\nimport javax.naming.Context;\r\nimport javax.naming.Name;\r\nimport javax.naming.RefAddr;\r\nimport javax.naming.Reference;\r\nimport javax.naming.StringRefAddr;\r\nimport javax.naming.spi.ObjectFactory;\r\n\r\npublic class decrptAndReplace implements ObjectFactory {\r\n\r\n    public decrptAndReplace() {}\r\n\r\n    @Override\r\n    public Object getObjectInstance(final Object obj, final Name name, final Context nameCtx, final Hashtable environment) throws Exception {\r\n        if (obj instanceof Reference) {\r\n            setUsername((Reference) obj);\r\n            setPassword((Reference) obj);\r\n        }\r\n        return this.getObjectInstance(obj, name, nameCtx, environment);\r\n    }\r\n\r\n    private void setUsername(final Reference ref) throws Exception {\r\n        findDecryptAndReplace(&quot;username&quot;, ref);\r\n    }\r\n\r\n    private void setPassword(final Reference ref) throws Exception {\r\n        findDecryptAndReplace(&quot;password&quot;, ref);\r\n    }\r\n\r\n    private void findDecryptAndReplace(final String refType, final Reference ref) throws Exception {\r\n        final int idx = find(refType, ref);\r\n        final String decrypted = decrypt(idx, ref);\r\n        replace(idx, refType, decrypted, ref);\r\n    }\r\n\r\n    private void replace(final int idx, final String refType, final String newValue, final Reference ref) throws Exception {\r\n        ref.remove(idx);\r\n        ref.add(idx, new StringRefAddr(refType, newValue));\r\n    }\r\n\r\n    private String decrypt(final int idx, final Reference ref) throws Exception {\r\n        return &quot;plain_password/plain_username&quot;;\r\n    }\r\n\r\n    private int find(final String addrType, final Reference ref) throws Exception {\r\n        final Enumeration enu = ref.getAll();\r\n        for (int i = 0; enu.hasMoreElements(); i++) {\r\n            final RefAddr addr = (RefAddr) enu.nextElement();\r\n            if (addr.getType().compareTo(addrType) == 0) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        throw new Exception(ref.toString());\r\n    }\r\n}\r\n```\r\nAnd I am using receiving below error.\r\n\r\n    Unexpected exception resolving reference\r\n\r\nI have read official documentation from below, but was disappointed.\r\n\r\nhttps://tomcat.apache.org/tomcat-8.5-doc/jndi-resources-howto.html#Generic_JavaBean_Resources","title":"Using encrypted password in database connection java ( jdbc / jndi )","body":"<p>I am using java 1.8, tomcat 8.5 and mysql 8</p>\n<p>My aim to replace plain username and password with encrypted username and password for database connection.</p>\n<p>The following is the database connection string:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Resource name=&quot;jdbc/db&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; maxTotal=&quot;100&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot; username=&quot;encrypted_username&quot; password=&quot;encrypted_password&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost:3306/rdbms&quot; factory=&quot;abc.decrptAndReplace&quot; /&gt;\n</code></pre>\n<p>The above works when I remove <code>factory</code> attribute and use plain username and password.</p>\n<p>The below code is for <code>decrptAndReplace</code> Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package abc;\n\nimport java.util.Enumeration;\nimport java.util.Hashtable;\nimport javax.naming.Context;\nimport javax.naming.Name;\nimport javax.naming.RefAddr;\nimport javax.naming.Reference;\nimport javax.naming.StringRefAddr;\nimport javax.naming.spi.ObjectFactory;\n\npublic class decrptAndReplace implements ObjectFactory {\n\n    public decrptAndReplace() {}\n\n    @Override\n    public Object getObjectInstance(final Object obj, final Name name, final Context nameCtx, final Hashtable environment) throws Exception {\n        if (obj instanceof Reference) {\n            setUsername((Reference) obj);\n            setPassword((Reference) obj);\n        }\n        return this.getObjectInstance(obj, name, nameCtx, environment);\n    }\n\n    private void setUsername(final Reference ref) throws Exception {\n        findDecryptAndReplace(&quot;username&quot;, ref);\n    }\n\n    private void setPassword(final Reference ref) throws Exception {\n        findDecryptAndReplace(&quot;password&quot;, ref);\n    }\n\n    private void findDecryptAndReplace(final String refType, final Reference ref) throws Exception {\n        final int idx = find(refType, ref);\n        final String decrypted = decrypt(idx, ref);\n        replace(idx, refType, decrypted, ref);\n    }\n\n    private void replace(final int idx, final String refType, final String newValue, final Reference ref) throws Exception {\n        ref.remove(idx);\n        ref.add(idx, new StringRefAddr(refType, newValue));\n    }\n\n    private String decrypt(final int idx, final Reference ref) throws Exception {\n        return &quot;plain_password/plain_username&quot;;\n    }\n\n    private int find(final String addrType, final Reference ref) throws Exception {\n        final Enumeration enu = ref.getAll();\n        for (int i = 0; enu.hasMoreElements(); i++) {\n            final RefAddr addr = (RefAddr) enu.nextElement();\n            if (addr.getType().compareTo(addrType) == 0) {\n                return i;\n            }\n        }\n\n        throw new Exception(ref.toString());\n    }\n}\n</code></pre>\n<p>And I am using receiving below error.</p>\n<pre><code>Unexpected exception resolving reference\n</code></pre>\n<p>I have read official documentation from below, but was disappointed.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-8.5-doc/jndi-resources-howto.html#Generic_JavaBean_Resources\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/jndi-resources-howto.html#Generic_JavaBean_Resources</a></p>\n"},{"tags":["java","udp","netty","nio"],"answers":[{"comments":[{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1678086156,"post_id":75627220,"comment_id":133458089,"body_markdown":"Hey thanks for trying to help, I realised that this wasnt the issue. I revisited some of the other SO posts and tried reading Netty in Action, and I found that while I tried to copy paste then modify a supposed &quot;working&quot; example, I might have removed the sync() on `b.bind(port).sync()`  &lt;--","body":"Hey thanks for trying to help, I realised that this wasnt the issue. I revisited some of the other SO posts and tried reading Netty in Action, and I found that while I tried to copy paste then modify a supposed &quot;working&quot; example, I might have removed the sync() on <code>b.bind(port).sync()</code>  &lt;--"}],"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677847371,"creation_date":1677847371,"answer_id":75627220,"question_id":75625062,"body_markdown":"I&#39;m not sure but I think you have to add the pipeline to the Channelhandler like follows:\r\n\r\n    class MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt; {\r\n        private final ChannelPipeline pipeline;\r\n    \r\n        public MulticastHandler(ChannelPipeline pipeline) {\r\n            this.pipeline = pipeline;\r\n        }\r\n    \r\n        @Override\r\n        public void channelRegistered(ChannelHandlerContext ctx) throws Exception {\r\n            ctx.pipeline().addLast(pipeline);\r\n            super.channelRegistered(ctx);\r\n        }\r\n    \r\n        @Override\r\n        protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\r\n            System.out.println(&quot;receive&quot;);\r\n        }\r\n    }\r\n\r\nYou could also do that outside the cts.pipeline().addLast outside of the method -&gt; in your run method.","title":"Why does this Netty basic example not work?","body":"<p>I'm not sure but I think you have to add the pipeline to the Channelhandler like follows:</p>\n<pre><code>class MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt; {\n    private final ChannelPipeline pipeline;\n\n    public MulticastHandler(ChannelPipeline pipeline) {\n        this.pipeline = pipeline;\n    }\n\n    @Override\n    public void channelRegistered(ChannelHandlerContext ctx) throws Exception {\n        ctx.pipeline().addLast(pipeline);\n        super.channelRegistered(ctx);\n    }\n\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\n        System.out.println(&quot;receive&quot;);\n    }\n}\n</code></pre>\n<p>You could also do that outside the cts.pipeline().addLast outside of the method -&gt; in your run method.</p>\n"}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678086198,"creation_date":1677834135,"question_id":75625062,"body_markdown":"I am trying to learn netty to implement a multicast udp server that is able to listen to multiple multicast groups (and potentially in the future multiplex channels that are listening to separate groups) because the Java NIO Selector in Java 8 is not performant enough. I am referring to provided example [here](https://github.com/netty/netty/tree/4.0/example/src/main/java/io/netty/example/qotm)\r\n\r\nBased on that example, I tried writing the following:\r\n\r\n\r\n```\r\npublic class NettyTest implements Runnable {\r\n    public static void main(String[] args){\r\n        new NettyTest().run();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        EventLoopGroup group = new NioEventLoopGroup();\r\n        Bootstrap b = new Bootstrap();\r\n\r\n        b.group(group);\r\n        b.channel(NioDatagramChannel.class);\r\n        b.option(ChannelOption.SO_REUSEADDR, true);\r\n        b.option(ChannelOption.SO_RCVBUF, 1500 * 200);\r\n        b.handler(new MulticastHandler());\r\n\r\n        try {\r\n            NetworkInterface nic = NetworkInterface.getByName(&quot;eth0&quot;);\r\n            ChannelFuture ch = b.bind(new InetSocketAddress(5555));\r\n            NioDatagramChannel ch1 = (NioDatagramChannel) ch.channel();\r\n\r\n            ChannelFuture f1 = ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5555), nic).sync();\r\n            ChannelFuture f2 = ch1.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), nic).sync();\r\n            ch1.closeFuture().await();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass MulticastHandler extends  SimpleChannelInboundHandler&lt;DatagramPacket&gt; {\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\r\n        System.out.println(&quot;receive&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI then ran my Client tester class from my previously implemented project that is using the Java NIO package which would send out messages to the multicast groups. However, it does not do anything. Even though I am not doing anything with the received packets, I still expect it to at least print received upon receiving a packet. What is the error here?\r\n\r\nedit: now working\r\n\r\n    public class NettyTest implements Runnable {\r\n        public static void main(String[] args){\r\n            new NettyTest().run();\r\n        }\r\n        @Override\r\n        public void run() {\r\n            MulticastHandler handler = new MulticastHandler();\r\n            EventLoopGroup group = new NioEventLoopGroup();\r\n            try{\r\n                Bootstrap b = new Bootstrap();\r\n                NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\r\n                b.group(group)\r\n                        .channel(NioDatagramChannel.class)\r\n                        .option(ChannelOption.SO_REUSEADDR, true)\r\n                        .option(ChannelOption.IP_MULTICAST_IF, ni)\r\n                        .option(ChannelOption.SO_RCVBUF, 1500 * 200)\r\n                        .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\r\n                    @Override\r\n                    protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\r\n                        nioDatagramChannel.pipeline().addLast(handler);\r\n                    }\r\n                });\r\n    \r\n                NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\r\n                ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\r\n                ch.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5555), ni).sync();\r\n                ch.closeFuture().await();\r\n            } catch (InterruptedException | SocketException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    class MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\r\n        private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\r\n        @Override\r\n        protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\r\n            System.out.print(&quot;read: &quot;);\r\n            moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\r\n            System.out.println(moldUdpHeader.getSeqNum());\r\n        }\r\n    }","title":"Why does this Netty basic example not work?","body":"<p>I am trying to learn netty to implement a multicast udp server that is able to listen to multiple multicast groups (and potentially in the future multiplex channels that are listening to separate groups) because the Java NIO Selector in Java 8 is not performant enough. I am referring to provided example <a href=\"https://github.com/netty/netty/tree/4.0/example/src/main/java/io/netty/example/qotm\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Based on that example, I tried writing the following:</p>\n<pre><code>public class NettyTest implements Runnable {\n    public static void main(String[] args){\n        new NettyTest().run();\n    }\n\n    @Override\n    public void run() {\n        EventLoopGroup group = new NioEventLoopGroup();\n        Bootstrap b = new Bootstrap();\n\n        b.group(group);\n        b.channel(NioDatagramChannel.class);\n        b.option(ChannelOption.SO_REUSEADDR, true);\n        b.option(ChannelOption.SO_RCVBUF, 1500 * 200);\n        b.handler(new MulticastHandler());\n\n        try {\n            NetworkInterface nic = NetworkInterface.getByName(&quot;eth0&quot;);\n            ChannelFuture ch = b.bind(new InetSocketAddress(5555));\n            NioDatagramChannel ch1 = (NioDatagramChannel) ch.channel();\n\n            ChannelFuture f1 = ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5555), nic).sync();\n            ChannelFuture f2 = ch1.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), nic).sync();\n            ch1.closeFuture().await();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass MulticastHandler extends  SimpleChannelInboundHandler&lt;DatagramPacket&gt; {\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\n        System.out.println(&quot;receive&quot;);\n    }\n}\n</code></pre>\n<p>I then ran my Client tester class from my previously implemented project that is using the Java NIO package which would send out messages to the multicast groups. However, it does not do anything. Even though I am not doing anything with the received packets, I still expect it to at least print received upon receiving a packet. What is the error here?</p>\n<p>edit: now working</p>\n<pre><code>public class NettyTest implements Runnable {\n    public static void main(String[] args){\n        new NettyTest().run();\n    }\n    @Override\n    public void run() {\n        MulticastHandler handler = new MulticastHandler();\n        EventLoopGroup group = new NioEventLoopGroup();\n        try{\n            Bootstrap b = new Bootstrap();\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\n            b.group(group)\n                    .channel(NioDatagramChannel.class)\n                    .option(ChannelOption.SO_REUSEADDR, true)\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\n                @Override\n                protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\n                    nioDatagramChannel.pipeline().addLast(handler);\n                }\n            });\n\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\n            ch.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5555), ni).sync();\n            ch.closeFuture().await();\n        } catch (InterruptedException | SocketException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\n    @Override\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\n        System.out.print(&quot;read: &quot;);\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\n        System.out.println(moldUdpHeader.getSeqNum());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data","spring-data-elasticsearch","elasticsearch-5","elasticsearch-plugin"],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678085769,"creation_date":1678084211,"question_id":75647683,"body_markdown":"We have a global search functionality that takes time to query data from elastic search so we need to measure time it would take from elasticsearch pod to elasticsearch itself. Our technology uses java spring elastic search + elasticsearch. Can somebody share any ideas how to accomplish it?","title":"How to measure time it takes from elasticsearch pod to elasticsearch?","body":"<p>We have a global search functionality that takes time to query data from elastic search so we need to measure time it would take from elasticsearch pod to elasticsearch itself. Our technology uses java spring elastic search + elasticsearch. Can somebody share any ideas how to accomplish it?</p>\n"},{"tags":["java","maven","spring-data-jpa","java-module"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668953484,"post_id":74500011,"comment_id":131526170,"body_markdown":"Seems to be [the same issue](https://stackoverflow.com/questions/74079553/java-lang-classnotfoundexception-java-lang-instrument-illegalclassformatexcepti) what you addressed weeks ago. It is all about the `ClassNotFoundException` i.e. the class `java.lang.instrument.IllegalClassFormatException` could not be found. This class is actually in the module `java.base` which is implicit so I assume you have an issue with a mix of different JDK versions.","body":"Seems to be <a href=\"https://stackoverflow.com/questions/74079553/java-lang-classnotfoundexception-java-lang-instrument-illegalclassformatexcepti\">the same issue</a> what you addressed weeks ago. It is all about the <code>ClassNotFoundException</code> i.e. the class <code>java.lang.instrument.IllegalClassFormatException</code> could not be found. This class is actually in the module <code>java.base</code> which is implicit so I assume you have an issue with a mix of different JDK versions."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668954317,"post_id":74500011,"comment_id":131526355,"body_markdown":"First approach should be to let it run without the Java Module System, i.e. delete the `module-info.java` stuff and not before this works smoothly consider to modularize it.","body":"First approach should be to let it run without the Java Module System, i.e. delete the <code>module-info.java</code> stuff and not before this works smoothly consider to modularize it."},{"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"score":0,"creation_date":1668962040,"post_id":74500011,"comment_id":131528028,"body_markdown":"Thanks kladderradatsch, That&#39;s exactly what I did. I push the modularization forward in time. Now it works. For some reason I can no longer run javafx application directly from eclipse and have to use the maven plugin. :( Now I have a new challenge, how to debug this app :(","body":"Thanks kladderradatsch, That&#39;s exactly what I did. I push the modularization forward in time. Now it works. For some reason I can no longer run javafx application directly from eclipse and have to use the maven plugin. :( Now I have a new challenge, how to debug this app :("},{"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"score":0,"creation_date":1668964517,"post_id":74500011,"comment_id":131528592,"body_markdown":"Actually found the solution here https://edencoding.com/runtime-components-error/. I&#39;ll keep this path and get back to the modularization later on. This is not really a fix, so not setting this as selected answer.","body":"Actually found the solution here <a href=\"https://edencoding.com/runtime-components-error/\" rel=\"nofollow noreferrer\">edencoding.com/runtime-components-error</a>. I&#39;ll keep this path and get back to the modularization later on. This is not really a fix, so not setting this as selected answer."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668965602,"post_id":74500011,"comment_id":131528837,"body_markdown":"You have to build *test-persistence* first via `$&gt;mvn clean install` so this artifact is stored/installed into your local maven repository (~/.m2/repository). Then it can be found by your *test* artifact which depends on *test-persistence*.","body":"You have to build <i>test-persistence</i> first via <code>$&gt;mvn clean install</code> so this artifact is stored/installed into your local maven repository (~/.m2/repository). Then it can be found by your <i>test</i> artifact which depends on <i>test-persistence</i>."}],"answers":[{"tags":[],"owner":{"account_id":20057883,"reputation":43,"user_id":14705194,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678085702,"creation_date":1678085702,"answer_id":75647863,"question_id":74500011,"body_markdown":"I have like the same problem as you and I strongly think that the problem is that one &quot;thing&quot; (probably something in one module) want to have access to another &quot;thing&quot; (also probably something in another module). Because of the module strategy (what is declared by using module-info.java) -*what is an access restriction to have access between the imported modules*- you get the `ClassNotFoundException`.\r\n\r\nFor this the solution is to give &quot;access&quot; one module to the other module. Actually I didn&#39;t found a way to find out what module want to have access to what.\r\n\r\nIn your case I think something want to have access to `java.lang.instrument.IllegalClassFormatException` what means in the `module-info.java` file you need an `opens ... to ...` or `export ... to ...` (or probably only a `requires ...`) within `java.instrument`-module.","title":"java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException on multi module Spring jpa project","body":"<p>I have like the same problem as you and I strongly think that the problem is that one &quot;thing&quot; (probably something in one module) want to have access to another &quot;thing&quot; (also probably something in another module). Because of the module strategy (what is declared by using module-info.java) -<em>what is an access restriction to have access between the imported modules</em>- you get the <code>ClassNotFoundException</code>.</p>\n<p>For this the solution is to give &quot;access&quot; one module to the other module. Actually I didn't found a way to find out what module want to have access to what.</p>\n<p>In your case I think something want to have access to <code>java.lang.instrument.IllegalClassFormatException</code> what means in the <code>module-info.java</code> file you need an <code>opens ... to ...</code> or <code>export ... to ...</code> (or probably only a <code>requires ...</code>) within <code>java.instrument</code>-module.</p>\n"}],"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678085702,"creation_date":1668861098,"question_id":74500011,"body_markdown":"I started with a simple project using spring jpa and a simple maven class just to test this basic behavior. Everything worked fine. My next step was to divide this single project into two projects in order to have a persistence project responsible for data access and another one to be enriched with business logic. This is where everything breaks. The proof that this is related to java modules is that If I delete module-info.java on both projects everything works fine. \r\nIf I simply run the application I get\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/lang/instrument/IllegalClassFormatException\r\n\tat spring.data.jpa@2.7.3/org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension.getConfigurationInspectionClassLoader(JpaRepositoryConfigExtension.java:239)\r\n\tat spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:97)\r\n\tat spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159)\r\n\tat spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:106)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n\tat spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n\tat spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n\tat spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\tat spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\tat spring.context@5.3.23/org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n\tat test/org.test.Main.main(Main.java:15)\r\nCaused by: java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 17 more\r\n```\r\n\r\n\r\nIf I debug it, it starts complaining about missing classes (Derby, hibernate, etc).\r\nAll this leads me to believe that the problem is on java module declaration, but I don&#39;t know how can I solve this.. \r\n\r\n\r\nThis is my file structure:\r\n\r\n```\r\n- test\r\n-- src.main.java\r\n--- org.test\r\n---- Config.java\r\n---- Main.java\r\n--- module-info.java\r\n--- src.main.resources\r\n---- org/test/application.properties\r\n-- pom.xml\r\n```\r\n\r\n```\r\n- test-persistence\r\n-- src.main.java\r\n--- org.test.persistence\r\n---- CustomRepository.java\r\n---- CustomRepositoryImpl.java\r\n---- Entity.java\r\n---- MyRepository.java\r\n---- PersistenceConfiguration.java\r\n--- module-info.java\r\n-- pom.xml\r\n```\r\n\r\nAnd here are the files:\r\n\r\ntest pom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\n\t\t&lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\r\n\t\t&lt;spring-data.version&gt;2.7.3&lt;/spring-data.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;test&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;test-persistence&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.23&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\ntest module-info:\r\n\r\n\r\n```\r\nmodule test {\r\n\r\n\trequires testPersistence;\r\n\r\n\trequires spring.context;\r\n\trequires spring.beans;\r\n\trequires spring.core;\r\n\trequires spring.instrument;\r\n\topens org.test;\r\n}\r\n```\r\n\r\nConfig.java:\r\n\r\n```\r\npackage org.test;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Import;\r\nimport org.test.persistence.PersistenceConfiguration;\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;org.test&quot;)\r\n@Import(PersistenceConfiguration.class)\r\npublic class Config {\r\n\r\n}\r\n```\r\n\r\nMain.java\r\n\r\n\r\n```\r\npackage org.test;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.test.persistence.Entity;\r\nimport org.test.persistence.MyRepository;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;Running java &quot; + Runtime.version().feature());\r\n\r\n\t\tAnnotationConfigApplicationContext appCtx = new AnnotationConfigApplicationContext(Config.class);\r\n\t\tMyRepository repo = appCtx.getBean(MyRepository.class);\r\n\t\tList&lt;Entity&gt; result = repo.findOrderedByLastUsedLimitedTo(2);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.jpa.generate-ddl=true\r\n\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.DerbyDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.driverClassName=org.apache.derby.iapi.jdbc.AutoloadedDriver\r\nspring.datasource.url=jdbc:derby:eTimer;create=true\r\n\r\n```\r\n\r\ntest-persistence pom.xml:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;test&lt;/groupId&gt;\r\n  &lt;artifactId&gt;test-persistence&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n  &lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\r\n\t\t&lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\r\n\t\t&lt;spring-data.version&gt;2.7.3&lt;/spring-data.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-data.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\ntest-persistence module-info.java:\r\n\r\n\r\n```\r\nmodule testPersistence {\r\n\t\r\n\trequires java.persistence;\r\n\trequires java.sql;\r\n\trequires spring.data.commons;\r\n\trequires spring.data.jpa;\r\n\trequires spring.orm;\r\n\trequires spring.jdbc;\r\n\trequires spring.tx;\r\n\trequires spring.context;\r\n\r\n\topens org.test.persistence;\r\n\r\n\texports org.test.persistence to test;\r\n}\r\n```\r\n\r\nCustomRepository.java:\r\n\r\n\r\n```\r\npackage org.test.persistence;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface CustomRepository {\r\n\r\n\tList&lt;Entity&gt; findOrderedByDescriptionLimitedTo(int maxItems);\r\n}\r\n\r\n```\r\n\r\nCustomRepositoryImpl.java:\r\n\r\n\r\n```\r\npackage org.test.persistence;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\n\r\npublic class CustomRepositoryImpl implements CustomRepository {\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n\r\n\t@Override\r\n\tpublic List&lt;Entity&gt; findOrderedByDescriptionLimitedTo(int limit) {\r\n\t\treturn entityManager.createQuery(&quot;SELECT p FROM Entity p ORDER BY p.description&quot;, Entity.class)\r\n\t\t\t\t.setMaxResults(limit).getResultList();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nEntity.java:\r\n\r\n\r\n```\r\npackage org.test.persistence;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@javax.persistence.Entity\r\n@Table(name = &quot;Entity&quot;)\r\npublic class Entity {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\r\n\t@Column\r\n\tprivate String description;\r\n\r\n\tpublic Entity() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Entity(Long id, String description) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.description = description;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMyRepository.java:\r\n\r\n\r\n```\r\npackage org.test.persistence;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;Entity, Long&gt;, CustomRepository {\r\n\r\n\tEntity save(Entity task);\r\n}\r\n\r\n```\r\n\r\nPersistenceConfiguration.java:\r\n\r\n\r\n```\r\npackage org.test.persistence;\r\n\r\nimport java.io.File;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.Database;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(&quot;org.test.persistence&quot;)\r\n@PropertySource(&quot;org/test/application.properties&quot;)\r\npublic class PersistenceConfiguration {\r\n\r\n\tprivate static final String DRIVER_CLASS_NAME = &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot;;\r\n\tprivate static final String DATA_SOURCE_DRIVER_URL = &quot;jdbc:derby:test;create=true&quot;;\r\n\tprivate static final String DATA_SOURCE_USER = null;\r\n\tprivate static final String DATA_SOURCE_PASSWORD = null;\r\n\r\n\t@Bean(&quot;entityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t\t\r\n\t\tSystem.setProperty(&quot;derby.system.home&quot;, System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;test&quot;);\r\n\t\t\r\n\t\tLocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\t\tentityManagerFactoryBean.setPackagesToScan(&quot;org.test&quot;);\r\n\t\tentityManagerFactoryBean.setPersistenceUnitName(&quot;system&quot;);\r\n\t\tentityManagerFactoryBean.setDataSource(systemDataSource());\r\n\r\n\t\tHibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n\t\tadapter.setDatabase(Database.DERBY);\r\n\t\tadapter.setShowSql(true);\r\n\t\tadapter.setGenerateDdl(true);\r\n\r\n\t\tentityManagerFactoryBean.setJpaVendorAdapter(adapter);\r\n\r\n\t\treturn entityManagerFactoryBean;\r\n\t}\r\n\r\n\t@Bean\r\n\tDataSource systemDataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(DRIVER_CLASS_NAME);\r\n\t\tdataSource.setUrl(DATA_SOURCE_DRIVER_URL);\r\n\t\tdataSource.setUsername(DATA_SOURCE_USER);\r\n\t\tdataSource.setPassword(DATA_SOURCE_PASSWORD);\r\n\r\n\t\treturn dataSource;\r\n\t}\r\n\r\n\t@Bean(name=&quot;transactionManager&quot;)\r\n\tpublic PlatformTransactionManager systemTransactionManager() {\r\n\t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t\ttransactionManager.setEntityManagerFactory((entityManagerFactory().getObject()));\r\n\r\n\t\treturn transactionManager;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nhelp please?","title":"java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException on multi module Spring jpa project","body":"<p>I started with a simple project using spring jpa and a simple maven class just to test this basic behavior. Everything worked fine. My next step was to divide this single project into two projects in order to have a persistence project responsible for data access and another one to be enriched with business logic. This is where everything breaks. The proof that this is related to java modules is that If I delete module-info.java on both projects everything works fine.\nIf I simply run the application I get</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/lang/instrument/IllegalClassFormatException\n    at spring.data.jpa@2.7.3/org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension.getConfigurationInspectionClassLoader(JpaRepositoryConfigExtension.java:239)\n    at spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:97)\n    at spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159)\n    at spring.data.commons@2.7.3/org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:106)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n    at spring.context@5.3.23/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n    at spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n    at spring.context@5.3.23/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n    at spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at spring.context@5.3.23/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at spring.context@5.3.23/org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n    at test/org.test.Main.main(Main.java:15)\nCaused by: java.lang.ClassNotFoundException: java.lang.instrument.IllegalClassFormatException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 17 more\n</code></pre>\n<p>If I debug it, it starts complaining about missing classes (Derby, hibernate, etc).\nAll this leads me to believe that the problem is on java module declaration, but I don't know how can I solve this..</p>\n<p>This is my file structure:</p>\n<pre><code>- test\n-- src.main.java\n--- org.test\n---- Config.java\n---- Main.java\n--- module-info.java\n--- src.main.resources\n---- org/test/application.properties\n-- pom.xml\n</code></pre>\n<pre><code>- test-persistence\n-- src.main.java\n--- org.test.persistence\n---- CustomRepository.java\n---- CustomRepositoryImpl.java\n---- Entity.java\n---- MyRepository.java\n---- PersistenceConfiguration.java\n--- module-info.java\n-- pom.xml\n</code></pre>\n<p>And here are the files:</p>\n<p>test pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n        &lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\n        &lt;spring-data.version&gt;2.7.3&lt;/spring-data.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;test&lt;/groupId&gt;\n            &lt;artifactId&gt;test-persistence&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.3.23&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>test module-info:</p>\n<pre><code>module test {\n\n    requires testPersistence;\n\n    requires spring.context;\n    requires spring.beans;\n    requires spring.core;\n    requires spring.instrument;\n    opens org.test;\n}\n</code></pre>\n<p>Config.java:</p>\n<pre><code>package org.test;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.test.persistence.PersistenceConfiguration;\n\n@Configuration\n@ComponentScan(basePackages = &quot;org.test&quot;)\n@Import(PersistenceConfiguration.class)\npublic class Config {\n\n}\n</code></pre>\n<p>Main.java</p>\n<pre><code>package org.test;\n\nimport java.util.List;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.test.persistence.Entity;\nimport org.test.persistence.MyRepository;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Running java &quot; + Runtime.version().feature());\n\n        AnnotationConfigApplicationContext appCtx = new AnnotationConfigApplicationContext(Config.class);\n        MyRepository repo = appCtx.getBean(MyRepository.class);\n        List&lt;Entity&gt; result = repo.findOrderedByLastUsedLimitedTo(2);\n    }\n\n}\n\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.jpa.generate-ddl=true\n\nspring.jpa.defer-datasource-initialization=true\n\nspring.jpa.database-platform=org.hibernate.dialect.DerbyDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=org.apache.derby.iapi.jdbc.AutoloadedDriver\nspring.datasource.url=jdbc:derby:eTimer;create=true\n\n</code></pre>\n<p>test-persistence pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;test-persistence&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n  &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n\n        &lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\n        &lt;spring-data.version&gt;2.7.3&lt;/spring-data.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring-data.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>test-persistence module-info.java:</p>\n<pre><code>module testPersistence {\n    \n    requires java.persistence;\n    requires java.sql;\n    requires spring.data.commons;\n    requires spring.data.jpa;\n    requires spring.orm;\n    requires spring.jdbc;\n    requires spring.tx;\n    requires spring.context;\n\n    opens org.test.persistence;\n\n    exports org.test.persistence to test;\n}\n</code></pre>\n<p>CustomRepository.java:</p>\n<pre><code>package org.test.persistence;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CustomRepository {\n\n    List&lt;Entity&gt; findOrderedByDescriptionLimitedTo(int maxItems);\n}\n\n</code></pre>\n<p>CustomRepositoryImpl.java:</p>\n<pre><code>package org.test.persistence;\n\nimport java.util.List;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\npublic class CustomRepositoryImpl implements CustomRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public List&lt;Entity&gt; findOrderedByDescriptionLimitedTo(int limit) {\n        return entityManager.createQuery(&quot;SELECT p FROM Entity p ORDER BY p.description&quot;, Entity.class)\n                .setMaxResults(limit).getResultList();\n    }\n}\n\n</code></pre>\n<p>Entity.java:</p>\n<pre><code>package org.test.persistence;\n\nimport javax.persistence.Column;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@javax.persistence.Entity\n@Table(name = &quot;Entity&quot;)\npublic class Entity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column\n    private String description;\n\n    public Entity() {\n        super();\n    }\n\n    public Entity(Long id, String description) {\n        super();\n        this.id = id;\n        this.description = description;\n    }\n}\n\n</code></pre>\n<p>MyRepository.java:</p>\n<pre><code>package org.test.persistence;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface MyRepository extends JpaRepository&lt;Entity, Long&gt;, CustomRepository {\n\n    Entity save(Entity task);\n}\n\n</code></pre>\n<p>PersistenceConfiguration.java:</p>\n<pre><code>package org.test.persistence;\n\nimport java.io.File;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\n@Configuration\n@EnableJpaRepositories(&quot;org.test.persistence&quot;)\n@PropertySource(&quot;org/test/application.properties&quot;)\npublic class PersistenceConfiguration {\n\n    private static final String DRIVER_CLASS_NAME = &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot;;\n    private static final String DATA_SOURCE_DRIVER_URL = &quot;jdbc:derby:test;create=true&quot;;\n    private static final String DATA_SOURCE_USER = null;\n    private static final String DATA_SOURCE_PASSWORD = null;\n\n    @Bean(&quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        \n        System.setProperty(&quot;derby.system.home&quot;, System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;test&quot;);\n        \n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setPackagesToScan(&quot;org.test&quot;);\n        entityManagerFactoryBean.setPersistenceUnitName(&quot;system&quot;);\n        entityManagerFactoryBean.setDataSource(systemDataSource());\n\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\n        adapter.setDatabase(Database.DERBY);\n        adapter.setShowSql(true);\n        adapter.setGenerateDdl(true);\n\n        entityManagerFactoryBean.setJpaVendorAdapter(adapter);\n\n        return entityManagerFactoryBean;\n    }\n\n    @Bean\n    DataSource systemDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(DRIVER_CLASS_NAME);\n        dataSource.setUrl(DATA_SOURCE_DRIVER_URL);\n        dataSource.setUsername(DATA_SOURCE_USER);\n        dataSource.setPassword(DATA_SOURCE_PASSWORD);\n\n        return dataSource;\n    }\n\n    @Bean(name=&quot;transactionManager&quot;)\n    public PlatformTransactionManager systemTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory((entityManagerFactory().getObject()));\n\n        return transactionManager;\n    }\n}\n\n</code></pre>\n<p>help please?</p>\n"},{"tags":["java","if-statement","nullpointerexception","switch-statement"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677899204,"post_id":75633180,"comment_id":133433719,"body_markdown":"The evidence suggests that `switch (status)` is giving an NPE because `status` is `null`.  You switch on `null`.","body":"The evidence suggests that <code>switch (status)</code> is giving an NPE because <code>status</code> is <code>null</code>.  You switch on <code>null</code>."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677900265,"post_id":75633180,"comment_id":133433798,"body_markdown":"The switch statement is just a long-winded way of writing `return status.getURL` anyway.  Or, with the bug fixed, `return status != null ? status.getURL : null`.","body":"The switch statement is just a long-winded way of writing <code>return status.getURL</code> anyway.  Or, with the bug fixed, <code>return status != null ? status.getURL : null</code>."},{"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"score":0,"creation_date":1677901789,"post_id":75633180,"comment_id":133433925,"body_markdown":"However, when I use the above mentioned if statement I&#39;m not encountering a null pointer exception. It is just with switch case where the status is not able to set a value. Why is it?","body":"However, when I use the above mentioned if statement I&#39;m not encountering a null pointer exception. It is just with switch case where the status is not able to set a value. Why is it?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677903663,"post_id":75633180,"comment_id":133434062,"body_markdown":"The switch case is 100% code noise. It does nothing more than `return status.getUrl();`. Try this: `return Optional.ofNullable(status).map(Status::getUrl).orElse(null);`","body":"The switch case is 100% code noise. It does nothing more than <code>return status.getUrl();</code>. Try this: <code>return Optional.ofNullable(status).map(Status::getUrl).orElse(null)&zwnj;&#8203;;</code>"},{"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"score":0,"creation_date":1677905216,"post_id":75633180,"comment_id":133434171,"body_markdown":"@Bohemian -Thank you for sharing!\nI&#39;m trying to use this. However, I&#39;m getting an error at getUrl part says &quot;Cannot resolve method &#39;getLink&#39; &quot;","body":"@Bohemian -Thank you for sharing! I&#39;m trying to use this. However, I&#39;m getting an error at getUrl part says &quot;Cannot resolve method &#39;getLink&#39; &quot;"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677924723,"post_id":75633180,"comment_id":133436153,"body_markdown":"@jjl sorry; I thought it was a method. Try this: `return status.getUrl();. Try this: return Optional.ofNullable(status).map(s -&gt; s.getURL).orElse(null);`","body":"@jjl sorry; I thought it was a method. Try this: <code>return status.getUrl();. Try this: return Optional.ofNullable(status).map(s -&gt; s.getURL).orElse(null);</code>"},{"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"score":0,"creation_date":1677955421,"post_id":75633180,"comment_id":133440908,"body_markdown":"@Bohemian The later solution worked like a gem! -&gt;``` return Optional.ofNullable(status).map(s -&gt; s.getURL).orElse(null);``` Can you please explain it if you don&#39;t mind? Thank you very much!","body":"@Bohemian The later solution worked like a gem! -&gt;``` return Optional.ofNullable(status).map(s -&gt; s.getURL).orElse(null);``` Can you please explain it if you don&#39;t mind? Thank you very much!"},{"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"score":0,"creation_date":1677956335,"post_id":75633180,"comment_id":133441110,"body_markdown":"@Bohemian Also, trying out just ```return status.getUrl();``` complains that method call is required.","body":"@Bohemian Also, trying out just <code>return status.getUrl();</code> complains that method call is required."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678085700,"creation_date":1677968833,"answer_id":75639056,"question_id":75633180,"body_markdown":"This is an ideal use case for [`Optional`][1]:\r\n\r\n```java\r\npublic String viewURL() {\r\n    return Optional.ofNullable(status)\r\n      .map(s -&gt; s.getUrl) // only executes if previous step returns non-null\r\n      .orElse(null);      // executes if any step returns null\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Optional.html","title":"Java switch case throwing nullPointer Exception","body":"<p>This is an ideal use case for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String viewURL() {\n    return Optional.ofNullable(status)\n      .map(s -&gt; s.getUrl) // only executes if previous step returns non-null\n      .orElse(null);      // executes if any step returns null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677971526,"creation_date":1677971526,"answer_id":75639242,"question_id":75633180,"body_markdown":"If the viewURL method has access to the status variable, you can use this code:\r\n\r\n    public String viewURL() {\r\n        if (status != null)\r\n            return status.getURL;\r\n        return null;\r\n    }\r\n\r\nI don&#39;t think you have to use a switch statement because we end up using the same code in every case. That is, we return status.getURL in every case.\r\n\r\nThe only requirement here is that every instance of the Status enum has a URL.","title":"Java switch case throwing nullPointer Exception","body":"<p>If the viewURL method has access to the status variable, you can use this code:</p>\n<pre><code>public String viewURL() {\n    if (status != null)\n        return status.getURL;\n    return null;\n}\n</code></pre>\n<p>I don't think you have to use a switch statement because we end up using the same code in every case. That is, we return status.getURL in every case.</p>\n<p>The only requirement here is that every instance of the Status enum has a URL.</p>\n"}],"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75639056,"answer_count":2,"score":0,"last_activity_date":1678085700,"creation_date":1677894450,"question_id":75633180,"body_markdown":"I have an enum declared as follows - \r\n\r\n    public enum Status {\r\n        REQ (&quot;URL1&quot;),\r\n        NOT (&quot;URL2&quot;),\r\n        GET (&quot;URL3&quot;);\r\n\r\n        String getURL;\r\n\r\n        Status(String getURL) {\r\n            this.getURL = getURL;\r\n\r\n        }\r\n    }\r\n\r\nAnd a field in my class:\r\n\r\n```\r\nprivate Status status;\r\n```\r\n\r\nI have a function in order to retrieve the URL based on the enum type as follows -\r\n\r\n```\r\npublic String viewURL() {\r\n    switch (status) {\r\n        case REQ:\r\n            return REQ.getURL;\r\n        case NOT:\r\n            return NOT.getURL;\r\n        case GET:\r\n            return GET.getURL;\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nI&#39;m encountering a `NullPointerException` in this method when `status` is `null`.\r\n\r\n\r\nHowever when I implement the same functionality using if-statements it works fine -\r\n\r\n```\r\npublic String viewURL() {\r\n    if (status == REQ) {\r\n        return REQ.getURL;\r\n    }\r\n    if (status == NOT) {\r\n        return NOT.getURL;\r\n    }\r\n    if (status == GET) {\r\n        return GET.getURL;\r\n    }\r\n    return null;\r\n}\r\n\r\n```\r\n\r\nNot able to understand where I&#39;m going wrong. Any help would be really appreciated!\r\n\r\nAny help on re-factoring also is appreciated!","title":"Java switch case throwing nullPointer Exception","body":"<p>I have an enum declared as follows -</p>\n<pre><code>public enum Status {\n    REQ (&quot;URL1&quot;),\n    NOT (&quot;URL2&quot;),\n    GET (&quot;URL3&quot;);\n\n    String getURL;\n\n    Status(String getURL) {\n        this.getURL = getURL;\n\n    }\n}\n</code></pre>\n<p>And a field in my class:</p>\n<pre><code>private Status status;\n</code></pre>\n<p>I have a function in order to retrieve the URL based on the enum type as follows -</p>\n<pre><code>public String viewURL() {\n    switch (status) {\n        case REQ:\n            return REQ.getURL;\n        case NOT:\n            return NOT.getURL;\n        case GET:\n            return GET.getURL;\n    }\n    return null;\n}\n</code></pre>\n<p>I'm encountering a <code>NullPointerException</code> in this method when <code>status</code> is <code>null</code>.</p>\n<p>However when I implement the same functionality using if-statements it works fine -</p>\n<pre><code>public String viewURL() {\n    if (status == REQ) {\n        return REQ.getURL;\n    }\n    if (status == NOT) {\n        return NOT.getURL;\n    }\n    if (status == GET) {\n        return GET.getURL;\n    }\n    return null;\n}\n\n</code></pre>\n<p>Not able to understand where I'm going wrong. Any help would be really appreciated!</p>\n<p>Any help on re-factoring also is appreciated!</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1677885978,"post_id":75630362,"comment_id":133432463,"body_markdown":"_automation test in ebay using Selenium_: Update the question with the text based relevant HTML.","body":"<i>automation test in ebay using Selenium</i>: Update the question with the text based relevant HTML."}],"answers":[{"tags":[],"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678085462,"creation_date":1678085462,"answer_id":75647834,"question_id":75630362,"body_markdown":"It&#39;s possible that the password field is taking longer to load than the email field. Try adding a wait before entering the password to ensure that the field is fully loaded. You can use the WebDriverWait class to wait for an element to become visible, clickable, or have a certain attribute value.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement passwordField = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#pass&quot;)));\r\n\r\n","title":"How to log in using webDriver in Chrome","body":"<p>It's possible that the password field is taking longer to load than the email field. Try adding a wait before entering the password to ensure that the field is fully loaded. You can use the WebDriverWait class to wait for an element to become visible, clickable, or have a certain attribute value.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement passwordField = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#pass&quot;)));\n</code></pre>\n"}],"owner":{"account_id":27929329,"reputation":1,"user_id":21327758,"display_name":"Noam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678085462,"creation_date":1677865950,"question_id":75630362,"body_markdown":"I&#39;m doing an automation test in ebay using Selenium.\r\nI want to log in. I managed to put the email, but I&#39;m having a problem with the password.\r\nthe code is :\r\n\r\n          // put email address and press &quot;continue&quot; bottom          \r\n          driver.findElement(By.cssSelector(&quot;#userid&quot;)).sendKeys(&quot;1234@gmail.com&quot;);\r\n          driver.findElement(By.cssSelector(&quot;#signin-continue-btn&quot;)).click();\r\n          \r\n          // put password and press &quot;sign in&quot; bottom\r\n          driver.findElement(By.cssSelector(&quot;#pass&quot;)).sendKeys(&quot;1234&quot;);\r\n          driver.findElement(By.cssSelector(&quot;#sgnBt&quot;)).click();\r\n","title":"How to log in using webDriver in Chrome","body":"<p>I'm doing an automation test in ebay using Selenium.\nI want to log in. I managed to put the email, but I'm having a problem with the password.\nthe code is :</p>\n<pre><code>      // put email address and press &quot;continue&quot; bottom          \n      driver.findElement(By.cssSelector(&quot;#userid&quot;)).sendKeys(&quot;1234@gmail.com&quot;);\n      driver.findElement(By.cssSelector(&quot;#signin-continue-btn&quot;)).click();\n      \n      // put password and press &quot;sign in&quot; bottom\n      driver.findElement(By.cssSelector(&quot;#pass&quot;)).sendKeys(&quot;1234&quot;);\n      driver.findElement(By.cssSelector(&quot;#sgnBt&quot;)).click();\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4532473,"reputation":3004,"user_id":3682535,"accept_rate":92,"display_name":"rupinderjeet"},"score":0,"creation_date":1513679556,"post_id":47884925,"comment_id":82735567,"body_markdown":"Are you reading information using Cursors, somewhere?","body":"Are you reading information using Cursors, somewhere?"},{"owner":{"account_id":2839943,"reputation":2551,"user_id":2439755,"accept_rate":88,"display_name":"user755"},"score":0,"creation_date":1513679683,"post_id":47884925,"comment_id":82735661,"body_markdown":"No, no cursors involved.","body":"No, no cursors involved."}],"owner":{"account_id":2839943,"reputation":2551,"user_id":2439755,"accept_rate":88,"display_name":"user755"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678085090,"creation_date":1513679415,"question_id":47884925,"body_markdown":"\r\nMy app works on android kitkat and android 7.0. however, the app crashes randomly stating &quot;illegalstateexception: parcel has been finalized&quot; on android Lollipop 5.0.2.\r\n\r\nSometimes the same type of crash occurs with textview.settext() method. \r\n\r\nany idea, if this behavior is valid on 5.0.2?\r\n\r\n\r\nHere is the logcat dump.\r\n\r\n\r\n  \t\tProcess: de.bla.test, PID: 11766\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   java.lang.IllegalStateException: Parcel has been finalized!\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   at android.os.BinderProxy.transactNative(Native Method)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   at android.os.BinderProxy.transact(Binder.java:496)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   at android.app.usage.IUsageStatsManager$Stub$Proxy.queryEvents(IUsageStatsManager.java:263)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   at android.app.usage.UsageStatsManager.queryEvents(UsageStatsManager.java:196)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   at de.bla.test.mainActivity$2.run(Unknown Source)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   at java.lang.Thread.run(Thread.java:818)\r\n\t\t12-19 11:01:55.238 271-271/? I/DEBUG: pid: 11766, tid: 14081, name: Thread-1694  &gt;&gt;&gt; de.bla.test &lt;&lt;&lt;\r\n\t\t12-19 11:01:55.938 1065-1439/? I/WindowState: WIN DEATH: Window{3f4cc3e5 u0 de.bla.test/de.bla.test.mainActivity}\r\n\t\t12-19 11:01:55.948 1065-1080/? I/WindowState: WIN DEATH: Window{5d9d744 u0 de.bla.test}\r\n\t\t12-19 11:01:55.968 1065-1602/? I/ActivityManager: Process de.bla.test (pid 11766)(adj 1) has died(114,897)\r\n\t\t12-19 11:01:55.968 1065-1602/? W/ActivityManager: Scheduling restart of crashed service de.bla.test/.txtOverlay in 1000ms\r\n\t\t12-19 11:01:55.968 1065-1602/? W/ActivityManager: Scheduling restart of crashed service de.bla.test/.AccessibilityService in 10999ms\r\n\t\t12-19 11:01:56.048 1065-1065/? D/CrashAnrDetector: Build: samsung/gt510ltexx/gt510lte:5.0.2/LRX22G/T555XXU1AOJ1:user/release-keys\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Hardware: msm8916\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Revision: 8\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Bootloader: T555XXU1AOJ1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Radio: unknown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Kernel: Linux version 3.10.49-5975984 (dpi@SWHD8906) (gcc version 4.8 (GCC) ) #1 SMP PREEMPT Thu Oct 8 17:23:40 KST 2015\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Build fingerprint: &#39;samsung/gt510ltexx/gt510lte:5.0.2/LRX22G/T555XXU1AOJ1:user/release-keys&#39;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   Revision: &#39;8&#39;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   ABI: &#39;arm&#39;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   pid: 11766, tid: 14081, name: Thread-1694  &gt;&gt;&gt; de.bla.test &lt;&lt;&lt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   r0 00000000  r1 fffffffe  r2 00000000  r3 00000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   r4 a295d6ec  r5 fffffffe  r6 00000000  r7 22ccba80\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   r8 fffffffe  r9 b88f3100  sl 720b5898  fp 22ccba80\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   ip b6edebf8  sp a295d6b0  lr b6e7628d  pc b6c0b614  cpsr 600f0030\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d0  22d0a54022d0a4e0  d1  22d0a64022d0a5a6\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d2  00000000000000d0  d3  0000000000000022\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d4  ffffffffffff0000  d5  0000000000000001\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d6  ffffffffffff0000  d7  40000000ffffffff\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d8  0000000000000000  d9  0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d10 0000000000000000  d11 0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d12 0000000000000000  d13 0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d14 0000000000000000  d15 0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d16 0000000000000000  d17 ffffffffffffffff\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d18 0001000100010001  d19 0001000100010001\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d20 0000000000000001  d21 0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d22 0000000000000000  d23 0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d24 0000000000000000  d25 0000000000000000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d26 0002000200020001  d27 0002000200020002\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d28 0080008000800080  d29 0080008000800080\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   d30 0800080008000800  d31 0800080008000800\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   scr 80000010\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   backtrace:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   #00 pc 00020614  /system/lib/libbinder.so (int android::Parcel::writeAligned&lt;int&gt;(int)+3)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   #01 pc 00083289  /system/lib/libandroid_runtime.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   #02 pc 000b23bf  /system/framework/arm/boot.oat\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   stack:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d630  b6f69de4  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d634  00000001  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d638  00000030  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d63c  b51144dc  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d640  b5113d74  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d644  b5113d4c  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d648  b51144dc  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d64c  b5113c94  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d650  b5113ca8  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d654  a295d688  [stack:14081]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d658  22c8b610  /dev/ashmem/dalvik-main space (deleted)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d65c  b51144dc  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d660  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d664  b5113d4c  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d668  b51144dc  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d66c  00550000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d670  00430000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d674  00550000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d678  a295d688  [stack:14081]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d67c  b51144dc  /system/lib/libart.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d680  00000001  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d684  efde5f73  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d688  00430000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d68c  b88f3100  [heap]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d690  00000001  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d694  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d698  00430000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d69c  00550000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6a0  b88f3100  [heap]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6a4  00430000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6a8  22ccba80  /dev/ashmem/dalvik-main space (deleted)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6ac  0000032b  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   #00  a295d6b0  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6b4  a295d6ec  [stack:14081]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6b8  b84e17f0  [heap]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6bc  b6e7628d  /system/lib/libandroid_runtime.so\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   #01  a295d6c0  0000032b  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6c4  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6c8  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6cc  761583c1  /system/framework/arm/boot.oat\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   #02  a295d6d0  fffffffe  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6d4  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6d8  00000002  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6dc  720b2020  /data/dalvik-cache/arm/system@framework@boot.art\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6e0  720b3048  /data/dalvik-cache/arm/system@framework@boot.art\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6e4  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6e8  00000001  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6ec  720b2020  /data/dalvik-cache/arm/system@framework@boot.art\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6f0  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6f4  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6f8  00000000  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d6fc  22ccba80  /dev/ashmem/dalvik-main space (deleted)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d700  fffffffe  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta295d704  720b5898  /data/dalvik-cache/arm/system@framework\r\n\t\t12-19 11:01:56.048 1065-1065/? D/CrashAnrDetector: processName:de.bla.test\r\n\t\t12-19 11:01:56.058 1065-1065/? D/CrashAnrDetector: broadcastEvent : de.bla.test SYSTEM_TOMBSTONE\r\n","title":"SIGSEGV singal 11, java.lang.IllegalStateException: Parcel has been finalized","body":"<p>My app works on android kitkat and android 7.0. however, the app crashes randomly stating \"illegalstateexception: parcel has been finalized\" on android Lollipop 5.0.2.</p>\n\n<p>Sometimes the same type of crash occurs with textview.settext() method. </p>\n\n<p>any idea, if this behavior is valid on 5.0.2?</p>\n\n<p>Here is the logcat dump.</p>\n\n<pre><code>    Process: de.bla.test, PID: 11766\n                                                       java.lang.IllegalStateException: Parcel has been finalized!\n                                                           at android.os.BinderProxy.transactNative(Native Method)\n                                                           at android.os.BinderProxy.transact(Binder.java:496)\n                                                           at android.app.usage.IUsageStatsManager$Stub$Proxy.queryEvents(IUsageStatsManager.java:263)\n                                                           at android.app.usage.UsageStatsManager.queryEvents(UsageStatsManager.java:196)\n                                                           at de.bla.test.mainActivity$2.run(Unknown Source)\n                                                           at java.lang.Thread.run(Thread.java:818)\n    12-19 11:01:55.238 271-271/? I/DEBUG: pid: 11766, tid: 14081, name: Thread-1694  &gt;&gt;&gt; de.bla.test &lt;&lt;&lt;\n    12-19 11:01:55.938 1065-1439/? I/WindowState: WIN DEATH: Window{3f4cc3e5 u0 de.bla.test/de.bla.test.mainActivity}\n    12-19 11:01:55.948 1065-1080/? I/WindowState: WIN DEATH: Window{5d9d744 u0 de.bla.test}\n    12-19 11:01:55.968 1065-1602/? I/ActivityManager: Process de.bla.test (pid 11766)(adj 1) has died(114,897)\n    12-19 11:01:55.968 1065-1602/? W/ActivityManager: Scheduling restart of crashed service de.bla.test/.txtOverlay in 1000ms\n    12-19 11:01:55.968 1065-1602/? W/ActivityManager: Scheduling restart of crashed service de.bla.test/.AccessibilityService in 10999ms\n    12-19 11:01:56.048 1065-1065/? D/CrashAnrDetector: Build: samsung/gt510ltexx/gt510lte:5.0.2/LRX22G/T555XXU1AOJ1:user/release-keys\n                                                       Hardware: msm8916\n                                                       Revision: 8\n                                                       Bootloader: T555XXU1AOJ1\n                                                       Radio: unknown\n                                                       Kernel: Linux version 3.10.49-5975984 (dpi@SWHD8906) (gcc version 4.8 (GCC) ) #1 SMP PREEMPT Thu Oct 8 17:23:40 KST 2015\n\n                                                       *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n                                                       Build fingerprint: 'samsung/gt510ltexx/gt510lte:5.0.2/LRX22G/T555XXU1AOJ1:user/release-keys'\n                                                       Revision: '8'\n                                                       ABI: 'arm'\n                                                       pid: 11766, tid: 14081, name: Thread-1694  &gt;&gt;&gt; de.bla.test &lt;&lt;&lt;\n                                                       signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x10\n                                                           r0 00000000  r1 fffffffe  r2 00000000  r3 00000000\n                                                           r4 a295d6ec  r5 fffffffe  r6 00000000  r7 22ccba80\n                                                           r8 fffffffe  r9 b88f3100  sl 720b5898  fp 22ccba80\n                                                           ip b6edebf8  sp a295d6b0  lr b6e7628d  pc b6c0b614  cpsr 600f0030\n                                                           d0  22d0a54022d0a4e0  d1  22d0a64022d0a5a6\n                                                           d2  00000000000000d0  d3  0000000000000022\n                                                           d4  ffffffffffff0000  d5  0000000000000001\n                                                           d6  ffffffffffff0000  d7  40000000ffffffff\n                                                           d8  0000000000000000  d9  0000000000000000\n                                                           d10 0000000000000000  d11 0000000000000000\n                                                           d12 0000000000000000  d13 0000000000000000\n                                                           d14 0000000000000000  d15 0000000000000000\n                                                           d16 0000000000000000  d17 ffffffffffffffff\n                                                           d18 0001000100010001  d19 0001000100010001\n                                                           d20 0000000000000001  d21 0000000000000000\n                                                           d22 0000000000000000  d23 0000000000000000\n                                                           d24 0000000000000000  d25 0000000000000000\n                                                           d26 0002000200020001  d27 0002000200020002\n                                                           d28 0080008000800080  d29 0080008000800080\n                                                           d30 0800080008000800  d31 0800080008000800\n                                                           scr 80000010\n\n                                                       backtrace:\n                                                           #00 pc 00020614  /system/lib/libbinder.so (int android::Parcel::writeAligned&lt;int&gt;(int)+3)\n                                                           #01 pc 00083289  /system/lib/libandroid_runtime.so\n                                                           #02 pc 000b23bf  /system/framework/arm/boot.oat\n\n                                                       stack:\n                                                                a295d630  b6f69de4  \n                                                                a295d634  00000001  \n                                                                a295d638  00000030  \n                                                                a295d63c  b51144dc  /system/lib/libart.so\n                                                                a295d640  b5113d74  /system/lib/libart.so\n                                                                a295d644  b5113d4c  /system/lib/libart.so\n                                                                a295d648  b51144dc  /system/lib/libart.so\n                                                                a295d64c  b5113c94  /system/lib/libart.so\n                                                                a295d650  b5113ca8  /system/lib/libart.so\n                                                                a295d654  a295d688  [stack:14081]\n                                                                a295d658  22c8b610  /dev/ashmem/dalvik-main space (deleted)\n                                                                a295d65c  b51144dc  /system/lib/libart.so\n                                                                a295d660  00000000  \n                                                                a295d664  b5113d4c  /system/lib/libart.so\n                                                                a295d668  b51144dc  /system/lib/libart.so\n                                                                a295d66c  00550000  \n                                                                a295d670  00430000  \n                                                                a295d674  00550000  \n                                                                a295d678  a295d688  [stack:14081]\n                                                                a295d67c  b51144dc  /system/lib/libart.so\n                                                                a295d680  00000001  \n                                                                a295d684  efde5f73  \n                                                                a295d688  00430000  \n                                                                a295d68c  b88f3100  [heap]\n                                                                a295d690  00000001  \n                                                                a295d694  00000000  \n                                                                a295d698  00430000  \n                                                                a295d69c  00550000  \n                                                                a295d6a0  b88f3100  [heap]\n                                                                a295d6a4  00430000  \n                                                                a295d6a8  22ccba80  /dev/ashmem/dalvik-main space (deleted)\n                                                                a295d6ac  0000032b  \n                                                           #00  a295d6b0  00000000  \n                                                                a295d6b4  a295d6ec  [stack:14081]\n                                                                a295d6b8  b84e17f0  [heap]\n                                                                a295d6bc  b6e7628d  /system/lib/libandroid_runtime.so\n                                                           #01  a295d6c0  0000032b  \n                                                                a295d6c4  00000000  \n                                                                a295d6c8  00000000  \n                                                                a295d6cc  761583c1  /system/framework/arm/boot.oat\n                                                           #02  a295d6d0  fffffffe  \n                                                                a295d6d4  00000000  \n                                                                a295d6d8  00000002  \n                                                                a295d6dc  720b2020  /data/dalvik-cache/arm/system@framework@boot.art\n                                                                a295d6e0  720b3048  /data/dalvik-cache/arm/system@framework@boot.art\n                                                                a295d6e4  00000000  \n                                                                a295d6e8  00000001  \n                                                                a295d6ec  720b2020  /data/dalvik-cache/arm/system@framework@boot.art\n                                                                a295d6f0  00000000  \n                                                                a295d6f4  00000000  \n                                                                a295d6f8  00000000  \n                                                                a295d6fc  22ccba80  /dev/ashmem/dalvik-main space (deleted)\n                                                                a295d700  fffffffe  \n                                                                a295d704  720b5898  /data/dalvik-cache/arm/system@framework\n    12-19 11:01:56.048 1065-1065/? D/CrashAnrDetector: processName:de.bla.test\n    12-19 11:01:56.058 1065-1065/? D/CrashAnrDetector: broadcastEvent : de.bla.test SYSTEM_TOMBSTONE\n</code></pre>\n"},{"tags":["java","maven","google-api","google-cloud-storage","google-apis-explorer"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1665306378,"post_id":73973435,"comment_id":130665288,"body_markdown":"Do you understand the error message?","body":"Do you understand the error message?"},{"owner":{"account_id":4354675,"reputation":11,"user_id":3553733,"display_name":"Mahmoud Alsheikh"},"score":0,"creation_date":1665399153,"post_id":73973435,"comment_id":130683442,"body_markdown":"I guess missing dependancy... I tried to add","body":"I guess missing dependancy... I tried to add"},{"owner":{"account_id":4354675,"reputation":11,"user_id":3553733,"display_name":"Mahmoud Alsheikh"},"score":0,"creation_date":1665400242,"post_id":73973435,"comment_id":130683777,"body_markdown":"I tried to add the below but it didn&#39;t work:\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;failureaccess&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;","body":"I tried to add the below but it didn&#39;t work: &lt;dependency&gt;     &lt;groupId&gt;com.google.guava&lt;/groupId&gt;     &lt;artifactId&gt;failureaccess&lt;/artifactId&gt;     &lt;version&gt;1.0&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":3205120,"reputation":2135,"user_id":2706300,"accept_rate":75,"display_name":"Crickcoder"},"score":0,"creation_date":1666372944,"post_id":73973435,"comment_id":130929731,"body_markdown":"Check this out http://javareferencegv.blogspot.com/2013/10/debugging-javalangnoclassdeffounderror.html","body":"Check this out <a href=\"http://javareferencegv.blogspot.com/2013/10/debugging-javalangnoclassdeffounderror.html\" rel=\"nofollow noreferrer\">javareferencegv.blogspot.com/2013/10/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665061279,"creation_date":1665061279,"answer_id":73974274,"question_id":73973435,"body_markdown":"I googled `google util InternalFutureFailureAccess maven artifact` and found this\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;failureaccess&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMaybe adding it to your pom will solve the problem","title":"NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess","body":"<p>I googled <code>google util InternalFutureFailureAccess maven artifact</code> and found this</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;failureaccess&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maybe adding it to your pom will solve the problem</p>\n"},{"tags":[],"owner":{"account_id":10877739,"reputation":31,"user_id":7997679,"display_name":"Ember319"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678084831,"creation_date":1678084539,"answer_id":75647719,"question_id":73973435,"body_markdown":"I encountered the same problem and resolved it by placing the failureaccess-1.0.1.jar file in \r\n\r\n&gt; [xxxxx]/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars\r\n\r\n and modifying the \r\n\r\n&gt; [xxxxx]/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/META-INF/MANIFEST.MF\r\n\r\n file to include the &quot;failureaccess-1.0.1.jar&quot; in the path. This allowed Maven to run properly. \r\n\r\n[MANIFEST.MF]:\r\n\r\n&gt; Bundle-ClassPath: ******,jars/failureaccess-1.0.1.jar","title":"NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess","body":"<p>I encountered the same problem and resolved it by placing the failureaccess-1.0.1.jar file in</p>\n<blockquote>\n<p>[xxxxx]/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars</p>\n</blockquote>\n<p>and modifying the</p>\n<blockquote>\n<p>[xxxxx]/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/META-INF/MANIFEST.MF</p>\n</blockquote>\n<p>file to include the &quot;failureaccess-1.0.1.jar&quot; in the path. This allowed Maven to run properly.</p>\n<p>[MANIFEST.MF]:</p>\n<blockquote>\n<p>Bundle-ClassPath: ******,jars/failureaccess-1.0.1.jar</p>\n</blockquote>\n"}],"owner":{"account_id":4354675,"reputation":11,"user_id":3553733,"display_name":"Mahmoud Alsheikh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678084831,"creation_date":1665057680,"question_id":73973435,"body_markdown":"I have a maven project which downloads files from the google storage bucket, and\r\nI am getting this error: \r\n\r\n&gt; java.lang.NoClassDefFoundError:\r\n&gt; com/google/common/util/concurrent/internal/InternalFutureFailureAccess\r\n\r\nwhen the program is trying to use:\r\n\r\n&gt; Blob blob = cloudStorage.get(BlobId.of(bucketName, file.getName()));\r\n\r\nbelow is the pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;artifactId&gt;autotest_cloud_installation&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;autotest_general_utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-bundle&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.466&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.threeten/threetenbp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.threeten&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;threetenbp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;google-api-services-deploymentmanager&lt;/artifactId&gt;\r\n\t      &lt;version&gt;v2beta-rev20220908-2.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-compute --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-api-services-compute&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;v1-rev235-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-compute --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-api-services-compute&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;v1-rev20220918-2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-storage --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\r\n\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings \r\n\t\t\t\t\tonly. It has no influence on the Maven build itself. --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t\t\t&lt;pluginExecutions&gt;\r\n\t\t\t\t\t\t\t\t&lt;pluginExecution&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;com.jcabi&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;jcabi-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;versionRange&gt;[0.0,)&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;ajc&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;action&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;ignore /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/action&gt;\r\n\t\t\t\t\t\t\t\t&lt;/pluginExecution&gt;\r\n\t\t\t\t\t\t\t&lt;/pluginExecutions&gt;\r\n\t\t\t\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.jcabi&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jcabi-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;0.12&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;ajc&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n","title":"NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess","body":"<p>I have a maven project which downloads files from the google storage bucket, and\nI am getting this error:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError:\ncom/google/common/util/concurrent/internal/InternalFutureFailureAccess</p>\n</blockquote>\n<p>when the program is trying to use:</p>\n<blockquote>\n<p>Blob blob = cloudStorage.get(BlobId.of(bucketName, file.getName()));</p>\n</blockquote>\n<p>below is the pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;autotest_cloud_installation&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;autotest_general_utils&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-bundle&lt;/artifactId&gt;\n        &lt;version&gt;1.11.466&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.threeten/threetenbp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.threeten&lt;/groupId&gt;\n        &lt;artifactId&gt;threetenbp&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-services-deploymentmanager&lt;/artifactId&gt;\n      &lt;version&gt;v2beta-rev20220908-2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-compute --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-compute&lt;/artifactId&gt;\n        &lt;version&gt;v1-rev235-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-compute --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-compute&lt;/artifactId&gt;\n        &lt;version&gt;v1-rev20220918-2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.cloud/google-cloud-storage --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n        &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;!--This plugin's configuration is used to store Eclipse m2e settings \n                only. It has no influence on the Maven build itself. --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;lifecycleMappingMetadata&gt;\n                        &lt;pluginExecutions&gt;\n                            &lt;pluginExecution&gt;\n                                &lt;pluginExecutionFilter&gt;\n                                    &lt;groupId&gt;com.jcabi&lt;/groupId&gt;\n                                    &lt;artifactId&gt;jcabi-maven-plugin&lt;/artifactId&gt;\n                                    &lt;versionRange&gt;[0.0,)&lt;/versionRange&gt;\n                                    &lt;goals&gt;\n                                        &lt;goal&gt;ajc&lt;/goal&gt;\n                                    &lt;/goals&gt;\n                                &lt;/pluginExecutionFilter&gt;\n                                &lt;action&gt;\n                                    &lt;ignore /&gt;\n                                &lt;/action&gt;\n                            &lt;/pluginExecution&gt;\n                        &lt;/pluginExecutions&gt;\n                    &lt;/lifecycleMappingMetadata&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.jcabi&lt;/groupId&gt;\n                &lt;artifactId&gt;jcabi-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.12&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;ajc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","selenium-webdriver","screenshot","capture","takesscreenshot"],"comments":[{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":1,"creation_date":1678081407,"post_id":75647253,"comment_id":133457394,"body_markdown":"This is complicated because it depends on the font size and font type of the font.  Once you know that, it might be possible to find an API (in Java or whatever language) that handles both.  You need to either find an optical character recognition (OCR) program or API that does this for you or develop one on your own.  The only way to write your own is to go through each pixel and make sense out of each character once a range of pixels of input.  This is common in manufacturing.  Taking a screen shot in Selenium is the easy task, which would precede the challenging OCR task.","body":"This is complicated because it depends on the font size and font type of the font.  Once you know that, it might be possible to find an API (in Java or whatever language) that handles both.  You need to either find an optical character recognition (OCR) program or API that does this for you or develop one on your own.  The only way to write your own is to go through each pixel and make sense out of each character once a range of pixels of input.  This is common in manufacturing.  Taking a screen shot in Selenium is the easy task, which would precede the challenging OCR task."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1678081750,"post_id":75647253,"comment_id":133457440,"body_markdown":"https://www.guru99.com/take-screenshot-selenium-webdriver.html","body":"<a href=\"https://www.guru99.com/take-screenshot-selenium-webdriver.html\" rel=\"nofollow noreferrer\">guru99.com/take-screenshot-selenium-webdriver.html</a>"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1678085069,"post_id":75647253,"comment_id":133457928,"body_markdown":"https://stackoverflow.com/questions/3422262/how-can-i-take-a-screenshot-with-selenium-webdriver","body":"<a href=\"https://stackoverflow.com/questions/3422262/how-can-i-take-a-screenshot-with-selenium-webdriver\" title=\"how can i take a screenshot with selenium webdriver\">stackoverflow.com/questions/3422262/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678084823,"creation_date":1678084823,"answer_id":75647758,"question_id":75647253,"body_markdown":"[![We can take a screenshot of the WebElement][1]][1]\r\n\r\nWe can take a screenshot of the WebElement (an **img** tag in the given example) which is a captcha and to read the text on the taken screenshot, we can use the library **ddddocr**.\r\n\r\nHere is the solution, \r\n\r\n    from selenium import webdriver\r\n    from selenium.webdriver.common.by import By\r\n\r\n    import ddddocr\r\n\r\n    driver = webdriver.Chrome()\r\n\r\n    driver.get(&#39;https://ma.mohw.gov.tw/masearch/&#39;)\r\n\r\n    captcha = driver.find_element(By.ID, &quot;ctl00_ContentPlaceHolder1_ImageCheck&quot;)\r\n    captcha.screenshot(f&#39;captcha.png&#39;)\r\n\r\n    ocr = ddddocr.DdddOcr()\r\n    # open and read the image\r\n    with open(f&#39;captcha.png&#39;, &#39;rb&#39;) as f:\r\n        img_bytes = f.read()\r\n\r\n    res = ocr.classification(img_bytes)\r\n    print(res.upper())\r\n    &gt;&gt; PUT7\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y6ySh.jpg","title":"How to take a screenshot of a web element and compare its text content?","body":"<p><a href=\"https://i.stack.imgur.com/y6ySh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y6ySh.jpg\" alt=\"We can take a screenshot of the WebElement\" /></a></p>\n<p>We can take a screenshot of the WebElement (an <strong>img</strong> tag in the given example) which is a captcha and to read the text on the taken screenshot, we can use the library <strong>ddddocr</strong>.</p>\n<p>Here is the solution,</p>\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\n\nimport ddddocr\n\ndriver = webdriver.Chrome()\n\ndriver.get('https://ma.mohw.gov.tw/masearch/')\n\ncaptcha = driver.find_element(By.ID, &quot;ctl00_ContentPlaceHolder1_ImageCheck&quot;)\ncaptcha.screenshot(f'captcha.png')\n\nocr = ddddocr.DdddOcr()\n# open and read the image\nwith open(f'captcha.png', 'rb') as f:\n    img_bytes = f.read()\n\nres = ocr.classification(img_bytes)\nprint(res.upper())\n&gt;&gt; PUT7\n</code></pre>\n"}],"owner":{"display_name":"anon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678084823,"creation_date":1678079563,"question_id":75647253,"body_markdown":"I want to capture a **screenshot of a specific web element** using Selenium WebDriver and compare its text content with the existing text data. So, how can I **access the text content of the screenshot** once it has been captured? And, I would like to use either an XPath or any other selector method as the element does not have an ID. Thank you. ","title":"How to take a screenshot of a web element and compare its text content?","body":"<p>I want to capture a <strong>screenshot of a specific web element</strong> using Selenium WebDriver and compare its text content with the existing text data. So, how can I <strong>access the text content of the screenshot</strong> once it has been captured? And, I would like to use either an XPath or any other selector method as the element does not have an ID. Thank you.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678069231,"post_id":75645664,"comment_id":133456103,"body_markdown":"How do you pass the ```Context``` to your CSV reader function? You can edit the question and share your attempted code so that we can help and figure out what is wrong with it.","body":"How do you pass the <code>Context</code> to your CSV reader function? You can edit the question and share your attempted code so that we can help and figure out what is wrong with it."},{"owner":{"account_id":27942915,"reputation":1,"user_id":21338556,"display_name":"ADAL SERNA"},"score":0,"creation_date":1678084610,"post_id":75645664,"comment_id":133457860,"body_markdown":"Sorry about that @Enowneb this is my first post I thought I included an image","body":"Sorry about that @Enowneb this is my first post I thought I included an image"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678150333,"post_id":75645664,"comment_id":133474307,"body_markdown":"It&#39;s ok. Can you also show how you initialize ```Team(Context)``` class and call ```loadAvenger()```?","body":"It&#39;s ok. Can you also show how you initialize <code>Team(Context)</code> class and call <code>loadAvenger()</code>?"}],"owner":{"account_id":27942915,"reputation":1,"user_id":21338556,"display_name":"ADAL SERNA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678084812,"creation_date":1678054311,"question_id":75645664,"body_markdown":"I am trying to read a CSV file outside of main activity but I Keep getting this error can someone tell me what I am doing wrong?\r\n\r\nI keep seeing other people say that you need to have the context for getAssets() but I have context there I&#39;m not sure what to do\r\n\r\n        package com.xnb569_lab3.Model;\r\n    \r\n    \r\n        import android.content.Context;\r\n        import android.content.res.AssetManager;\r\n        import android.util.Log;\r\n    \r\n        import java.io.IOException;\r\n        import java.io.InputStream;\r\n        import java.util.ArrayList;\r\n        import java.util.Scanner;\r\n    \r\n        public class Team {\r\n        ArrayList&lt;Avenger&gt; avengers = new ArrayList&lt;&gt;();\r\n        Context context;\r\n    \r\n        public Team(Context context){this.context=context;};\r\n        public void loadAvenger() throws IOException {\r\n    \r\n            AssetManager am = context.getAssets();\r\n            InputStream inStream = am.open(&quot;data.csv&quot;);\r\n            Scanner scan = new Scanner(inStream);\r\n    \r\n            while(scan.hasNext()){\r\n                String line = scan.nextLine();\r\n                String cont[] =line.split(&quot;,&quot;);\r\n                Avenger temp = new Avenger(cont[0],cont[1],cont[2],cont[3],cont[4],cont[5],cont[6],cont[7]);\r\n                avengers.add(temp);\r\n            }\r\n    \r\n    \r\n        }\r\n            public Avenger getAvenger(String alias){\r\n    \r\n        for( Avenger avenger: avengers){\r\n            if(avenger.getAlias().equals(alias))\r\n                return avenger;\r\n        }\r\n        return null;\r\n        }\r\n    }\r\n\r\n","title":"&#39;android.content.res.AssetManager android.content.Context.getAssets()&#39; on a null object reference","body":"<p>I am trying to read a CSV file outside of main activity but I Keep getting this error can someone tell me what I am doing wrong?</p>\n<p>I keep seeing other people say that you need to have the context for getAssets() but I have context there I'm not sure what to do</p>\n<pre><code>    package com.xnb569_lab3.Model;\n\n\n    import android.content.Context;\n    import android.content.res.AssetManager;\n    import android.util.Log;\n\n    import java.io.IOException;\n    import java.io.InputStream;\n    import java.util.ArrayList;\n    import java.util.Scanner;\n\n    public class Team {\n    ArrayList&lt;Avenger&gt; avengers = new ArrayList&lt;&gt;();\n    Context context;\n\n    public Team(Context context){this.context=context;};\n    public void loadAvenger() throws IOException {\n\n        AssetManager am = context.getAssets();\n        InputStream inStream = am.open(&quot;data.csv&quot;);\n        Scanner scan = new Scanner(inStream);\n\n        while(scan.hasNext()){\n            String line = scan.nextLine();\n            String cont[] =line.split(&quot;,&quot;);\n            Avenger temp = new Avenger(cont[0],cont[1],cont[2],cont[3],cont[4],cont[5],cont[6],cont[7]);\n            avengers.add(temp);\n        }\n\n\n    }\n        public Avenger getAvenger(String alias){\n\n    for( Avenger avenger: avengers){\n        if(avenger.getAlias().equals(alias))\n            return avenger;\n    }\n    return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","api","elasticsearch","elasticsearch-rest-client"],"comments":[{"owner":{"account_id":19449472,"reputation":110,"user_id":14226243,"display_name":"Pash0002"},"score":0,"creation_date":1678085162,"post_id":75647696,"comment_id":133457942,"body_markdown":"It would be helpful if you add the stack trace.","body":"It would be helpful if you add the stack trace."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1678394556,"post_id":75647696,"comment_id":133528968,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/21157466/all-shards-failed","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/21157466/all-shards-failed\">stackoverflow.com/questions/21157466/all-shards-failed</a>"}],"owner":{"account_id":27944770,"reputation":1,"user_id":21339993,"display_name":"Dragneel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678084357,"creation_date":1678084357,"question_id":75647696,"body_markdown":"i am new to elasticSearch, looking for the fix \r\n\r\n```\r\n@Document(indexName = &quot;user_filters&quot;)\r\npublic class UserFilter {\r\n\r\n    // Maps to _id field of ElasticSearch doc\r\n    @Id\r\n    private Long userId;\r\n\r\n    @Field(type = FieldType.Nested, includeInParent = true)\r\n    private List&lt;Filters&gt; filters;\r\n\r\n    //\r\n}\r\n\r\npublic class Filters extend FilterMeta data{\r\n\r\n   //\r\n}\r\n\r\npublic class FilterMetaData{\r\n      Private Long id;\r\n      //\r\n\r\n}\r\n```\r\n\r\ni want to find filter using userId and FilterId, i am using elasticSearchRestTemplate and build query as such\r\n\r\n```\r\nQuery query = new NativeSearchQueryBuilder()\r\n                .withQuery(QueryBuilders.boolQuery()\r\n                        .must(QueryBuilders.matchQuery(&quot;userId&quot;, userId))\r\n                        .must(QueryBuilders.nestedQuery(&quot;filters&quot;, QueryBuilders.matchQuery(&quot;filters.id&quot;, filterId), ScoreMode.None)))\r\n                .withSourceFilter(new FetchSourceFilter(new String[]{&quot;filters&quot;}, null))\r\n                .build();\r\n\r\n        SearchHits&lt;UserFilter&gt; searchHits = elasticsearchRestTemplate.search(query, UserFilter.class);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nwhile hitting the api, i am getting this error &quot;Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]&quot;\r\n\r\nany fix for this?","title":"Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed] error","body":"<p>i am new to elasticSearch, looking for the fix</p>\n<pre><code>@Document(indexName = &quot;user_filters&quot;)\npublic class UserFilter {\n\n    // Maps to _id field of ElasticSearch doc\n    @Id\n    private Long userId;\n\n    @Field(type = FieldType.Nested, includeInParent = true)\n    private List&lt;Filters&gt; filters;\n\n    //\n}\n\npublic class Filters extend FilterMeta data{\n\n   //\n}\n\npublic class FilterMetaData{\n      Private Long id;\n      //\n\n}\n</code></pre>\n<p>i want to find filter using userId and FilterId, i am using elasticSearchRestTemplate and build query as such</p>\n<pre><code>Query query = new NativeSearchQueryBuilder()\n                .withQuery(QueryBuilders.boolQuery()\n                        .must(QueryBuilders.matchQuery(&quot;userId&quot;, userId))\n                        .must(QueryBuilders.nestedQuery(&quot;filters&quot;, QueryBuilders.matchQuery(&quot;filters.id&quot;, filterId), ScoreMode.None)))\n                .withSourceFilter(new FetchSourceFilter(new String[]{&quot;filters&quot;}, null))\n                .build();\n\n        SearchHits&lt;UserFilter&gt; searchHits = elasticsearchRestTemplate.search(query, UserFilter.class);\n</code></pre>\n<p>while hitting the api, i am getting this error &quot;Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]&quot;</p>\n<p>any fix for this?</p>\n"},{"tags":["java","selenium-webdriver","css-selectors"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677966086,"post_id":75637236,"comment_id":133442754,"body_markdown":"The `#` sign is generally indicative of id in html/css. Have you tried `By.id` when selecting the second element?","body":"The <code>#</code> sign is generally indicative of id in html/css. Have you tried <code>By.id</code> when selecting the second element?"}],"answers":[{"tags":[],"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678084060,"creation_date":1678084060,"answer_id":75647665,"question_id":75637236,"body_markdown":"looks like there might be an issue with the CSS selector for the input field where you are trying to enter the value &quot;50&quot;.\r\n\r\ninstead of using the CSS selector &quot;#s0-1-17-5[2]-@range-comp[]-@range-textbox[]-textbox&quot;, try using a different selector such as the id of the input field or its name attribute.\r\n\r\nexample:\r\n\r\n    driver.findElement(By.id(&quot;s0-1-17-5[2]-@range-comp[]-@range-textbox[]-textbox&quot;)).sendKeys(&quot;50&quot;);\r\n\r\nor\r\n\r\n    driver.findElement(By.name(&quot;MinPrice&quot;)).sendKeys(&quot;50&quot;);\r\n\r\nand the issue with selecting the category, try using a different selector for the dropdown menu. you can try using the ID or the name attribute of the select element.\r\n\r\nexample:\r\n\r\n    Select sc = new Select(driver.findElement(By.id(&quot;e1-1&quot;)));\r\n    sc.selectByVisibleText(&quot;Musical Instruments &amp; Gear&quot;);\r\n\r\nor\r\n\r\n    Select sc = new Select(driver.findElement(By.name(&quot;_sacat&quot;)));\r\n    sc.selectByVisibleText(&quot;Musical Instruments &amp; Gear&quot;);","title":"Selenium SendKeys works only on one textbox in the page","body":"<p>looks like there might be an issue with the CSS selector for the input field where you are trying to enter the value &quot;50&quot;.</p>\n<p>instead of using the CSS selector &quot;#s0-1-17-5[2]-@range-comp[]-@range-textbox[]-textbox&quot;, try using a different selector such as the id of the input field or its name attribute.</p>\n<p>example:</p>\n<pre><code>driver.findElement(By.id(&quot;s0-1-17-5[2]-@range-comp[]-@range-textbox[]-textbox&quot;)).sendKeys(&quot;50&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>driver.findElement(By.name(&quot;MinPrice&quot;)).sendKeys(&quot;50&quot;);\n</code></pre>\n<p>and the issue with selecting the category, try using a different selector for the dropdown menu. you can try using the ID or the name attribute of the select element.</p>\n<p>example:</p>\n<pre><code>Select sc = new Select(driver.findElement(By.id(&quot;e1-1&quot;)));\nsc.selectByVisibleText(&quot;Musical Instruments &amp; Gear&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>Select sc = new Select(driver.findElement(By.name(&quot;_sacat&quot;)));\nsc.selectByVisibleText(&quot;Musical Instruments &amp; Gear&quot;);\n</code></pre>\n"}],"owner":{"account_id":4701276,"reputation":23,"user_id":3804781,"display_name":"user3804781"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678084060,"creation_date":1677949529,"question_id":75637236,"body_markdown":"This code is working:\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.ebay.com/sch/ebayadvsearch&quot;);\r\ndriver.findElement(By.cssSelector(&quot;#_nkw&quot;)).sendKeys(&quot;guitar&quot;);\r\nThread.sleep(2000);\r\n````\r\n\r\nAnd this code is not:\r\n````\r\nSelect sc = new Select(driver.findElement(By.cssSelector(&quot;#s0-1-17-4[0]-7[3]-_sacat&quot;)));\r\nsc.selectByVisibleText(&quot;Musical Instruments &amp; Gear&quot;);\r\ndriver.findElement(By.cssSelector(&quot;#s0-1-17-5[2]-@range-comp[]-@range-textbox[]-textbox&quot;)).sendKeys(&quot;50&quot;);\r\n````\r\n\r\nI am using Selenium and cssSelectors to automatically fill fields.\r\nThe value &#39;guitar&#39; shows in &quot;Enter keywords or item number&quot;.\r\nI expect to see &quot;50&quot; in the min price, and &quot;Musical Instruments &amp; Gear&quot; in &quot;this category&quot;.\r\nDon&#39;t show up.","title":"Selenium SendKeys works only on one textbox in the page","body":"<p>This code is working:</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.ebay.com/sch/ebayadvsearch&quot;);\ndriver.findElement(By.cssSelector(&quot;#_nkw&quot;)).sendKeys(&quot;guitar&quot;);\nThread.sleep(2000);\n</code></pre>\n<p>And this code is not:</p>\n<pre><code>Select sc = new Select(driver.findElement(By.cssSelector(&quot;#s0-1-17-4[0]-7[3]-_sacat&quot;)));\nsc.selectByVisibleText(&quot;Musical Instruments &amp; Gear&quot;);\ndriver.findElement(By.cssSelector(&quot;#s0-1-17-5[2]-@range-comp[]-@range-textbox[]-textbox&quot;)).sendKeys(&quot;50&quot;);\n</code></pre>\n<p>I am using Selenium and cssSelectors to automatically fill fields.\nThe value 'guitar' shows in &quot;Enter keywords or item number&quot;.\nI expect to see &quot;50&quot; in the min price, and &quot;Musical Instruments &amp; Gear&quot; in &quot;this category&quot;.\nDon't show up.</p>\n"},{"tags":["java","spring","log4j"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1249944450,"creation_date":1249944450,"answer_id":1257656,"question_id":1257641,"body_markdown":"From the docs for [PropertyConfigurator][1]:\r\n\r\n&gt; The PropertyConfigurator does not\r\n&gt; handle the advanced configuration\r\n&gt; features supported by the\r\n&gt; DOMConfigurator such as support for\r\n&gt; Filters, custom ErrorHandlers, nested\r\n&gt; appenders such as the AsyncAppender,\r\n&gt; etc.\r\n\r\nI suggest you use an XML file to set it up instead.\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PropertyConfigurator.html","title":"Can&#39;t set LevelRangeFilter for log4j","body":"<p>From the docs for <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PropertyConfigurator.html\" rel=\"noreferrer\">PropertyConfigurator</a>:</p>\n\n<blockquote>\n  <p>The PropertyConfigurator does not\n  handle the advanced configuration\n  features supported by the\n  DOMConfigurator such as support for\n  Filters, custom ErrorHandlers, nested\n  appenders such as the AsyncAppender,\n  etc.</p>\n</blockquote>\n\n<p>I suggest you use an XML file to set it up instead.</p>\n"},{"comments":[{"owner":{"account_id":1202941,"reputation":1603,"user_id":1173227,"accept_rate":67,"display_name":"Vinit Prajapati"},"score":0,"creation_date":1399026118,"post_id":1504642,"comment_id":35900352,"body_markdown":"Threshold is not working with log4j version log4j-1.2.16.jar. Any help","body":"Threshold is not working with log4j version log4j-1.2.16.jar. Any help"}],"tags":[],"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254410932,"creation_date":1254410932,"answer_id":1504642,"question_id":1257641,"body_markdown":"You don&#39;t need a filter for this.\r\n\r\nlog4j.appender.EMAIL.Threshold=FATAL","title":"Can&#39;t set LevelRangeFilter for log4j","body":"<p>You don't need a filter for this.</p>\n\n<p>log4j.appender.EMAIL.Threshold=FATAL</p>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678083407,"creation_date":1678083407,"answer_id":75647586,"question_id":1257641,"body_markdown":"Presuming you added the apache log4j extras to your project. Try adding a numeric after filter, like this: \r\n\r\n`log4j.appender.EMAIL.filter.1=org.apache.log4j.varia.LevelRangeFilter`\r\n\r\nNot sure if/where this is documented but I saw this somewhere gave it a shot and it worked. \r\n\r\nIf you don&#39;t have apache log4j extras and you&#39;re using maven just get the snippet from mvnrepository and add it to your pom.xml then rebuild maven (mvn eclipse:eclipse). ","title":"Can&#39;t set LevelRangeFilter for log4j","body":"<p>Presuming you added the apache log4j extras to your project. Try adding a numeric after filter, like this:</p>\n<p><code>log4j.appender.EMAIL.filter.1=org.apache.log4j.varia.LevelRangeFilter</code></p>\n<p>Not sure if/where this is documented but I saw this somewhere gave it a shot and it worked.</p>\n<p>If you don't have apache log4j extras and you're using maven just get the snippet from mvnrepository and add it to your pom.xml then rebuild maven (mvn eclipse:eclipse).</p>\n"}],"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1257656,"answer_count":3,"score":2,"last_activity_date":1678083407,"creation_date":1249944089,"question_id":1257641,"body_markdown":"I am using this property file to setup log4j in Spring:\r\n\r\n    log4j.appender.EMAIL=org.apache.log4j.net.SMTPAppender\r\n    log4j.appender.EMAIL.filter=org.apache.log4j.varia.LevelRangeFilter\r\n    log4j.appender.EMAIL.filter.levelMin=FATAL\r\n\r\nbut getting:\r\n\r\n    log4j:WARN Failed to set property [filter] to value &quot;org.apache.log4j.varia.LevelRangeFilter&quot;. \r\n\r\nAny ideas?","title":"Can&#39;t set LevelRangeFilter for log4j","body":"<p>I am using this property file to setup log4j in Spring:</p>\n\n<pre><code>log4j.appender.EMAIL=org.apache.log4j.net.SMTPAppender\nlog4j.appender.EMAIL.filter=org.apache.log4j.varia.LevelRangeFilter\nlog4j.appender.EMAIL.filter.levelMin=FATAL\n</code></pre>\n\n<p>but getting:</p>\n\n<pre><code>log4j:WARN Failed to set property [filter] to value \"org.apache.log4j.varia.LevelRangeFilter\". \n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","swing","graphics","awt"],"answers":[{"tags":[],"owner":{"account_id":41443,"reputation":24989,"user_id":120444,"accept_rate":53,"display_name":"Brandon E Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1246682545,"creation_date":1246681818,"answer_id":1081491,"question_id":1081486,"body_markdown":"Retrieve the content pane for the frame and use the [setBackground()][1] method inherited from [Component][2] to change the color.\r\n\r\nExample:\r\n\r\n    myJFrame.getContentPane().setBackground( desiredColor );\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html#setBackground(java.awt.Color)\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html\r\n","title":"Setting background color for a JFrame","body":"<p>Retrieve the content pane for the frame and use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html#setBackground(java.awt.Color)\" rel=\"noreferrer\">setBackground()</a> method inherited from <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html\" rel=\"noreferrer\">Component</a> to change the color.</p>\n\n<p>Example:</p>\n\n<pre><code>myJFrame.getContentPane().setBackground( desiredColor );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16631,"reputation":23825,"user_id":36457,"accept_rate":60,"display_name":"John T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353172954,"creation_date":1246681953,"answer_id":1081494,"question_id":1081486,"body_markdown":"You can use a container like so:\r\n\r\n    Container c = JFrame.getContentPane();\r\n    c.setBackground(Color.red); \r\n\r\nYou must of course import `java.awt.Color` for the **red** color constant.","title":"Setting background color for a JFrame","body":"<p>You can use a container like so:</p>\n\n<pre><code>Container c = JFrame.getContentPane();\nc.setBackground(Color.red); \n</code></pre>\n\n<p>You must of course import <code>java.awt.Color</code> for the <strong>red</strong> color constant.</p>\n"},{"tags":[],"owner":{"account_id":41761,"reputation":551,"user_id":121452,"accept_rate":100,"display_name":"iwanttoprogram"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1246721600,"creation_date":1246682029,"answer_id":1081496,"question_id":1081486,"body_markdown":"To set the background color for JFrame:\r\n\r\n\r\n    getContentPane().setBackground(Color.YELLOW);  //Whatever color\r\n\r\n","title":"Setting background color for a JFrame","body":"<p>To set the background color for JFrame:</p>\n\n<pre><code>getContentPane().setBackground(Color.YELLOW);  //Whatever color\n</code></pre>\n"},{"tags":[],"owner":{"account_id":571198,"reputation":29,"user_id":218265,"display_name":"Abdullah"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1389036749,"creation_date":1259115069,"answer_id":1794238,"question_id":1081486,"body_markdown":"Here&#39;s another method:\r\n\r\n    private void RenkMouseClicked(java.awt.event.MouseEvent evt) {\r\n    \trenk = JColorChooser.showDialog(null, &quot;Select the background color&quot;,\r\n    \t\t\trenk);\r\n    \tContainer a = this.getContentPane();\r\n    \ta.setBackground(renk);\r\n    }\r\n\r\nI&#39;m using netbeans ide. For me, `JFrame.getContentPane()` didn&#39;t run. I used `JFrame.getContentPane()`&#39;s class equivalent `this.getContentPane`.\r\n","title":"Setting background color for a JFrame","body":"<p>Here's another method:</p>\n\n<pre><code>private void RenkMouseClicked(java.awt.event.MouseEvent evt) {\n    renk = JColorChooser.showDialog(null, \"Select the background color\",\n            renk);\n    Container a = this.getContentPane();\n    a.setBackground(renk);\n}\n</code></pre>\n\n<p>I'm using netbeans ide. For me, <code>JFrame.getContentPane()</code> didn't run. I used <code>JFrame.getContentPane()</code>'s class equivalent <code>this.getContentPane</code>.</p>\n"},{"tags":[],"owner":{"account_id":5746365,"reputation":126,"user_id":4537501,"display_name":"Mahdi Hasanpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425793684,"creation_date":1425793684,"answer_id":28923521,"question_id":1081486,"body_markdown":"you can override the paint method of JFrame and then fill that by your favorite color like this:\r\n\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        g.setColor(Color.red);\r\n        g.fillRect(0, 0, this.getWidth(), this.getHeight());\r\n    }","title":"Setting background color for a JFrame","body":"<p>you can override the paint method of JFrame and then fill that by your favorite color like this:</p>\n\n<pre><code>@Override\npublic void paint(Graphics g) {\n    g.setColor(Color.red);\n    g.fillRect(0, 0, this.getWidth(), this.getHeight());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4423722,"reputation":12877,"user_id":4374291,"accept_rate":80,"display_name":"T04435"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1439605217,"creation_date":1439605217,"answer_id":32020868,"question_id":1081486,"body_markdown":"Hello There I did have the same problem and after many attempts I found that the problem is that you need a **Graphics Object** to be able to draw, paint(setBackgroundColor).\r\n\r\nMy code usually goes like this:\r\n\r\n     \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n\r\n    public class DrawGraphics extends JFrame{\r\n\r\n        public DrawGraphics(String title) throws HeadlessException {\r\n          super(title);\r\n          InitialElements();\r\n        }\r\n\r\n        private void InitialElements(){\r\n          setSize(300, 250);\r\n          setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          setVisible(true);\r\n          // This one does not work\r\n          // getContentPane().setBackground(new Color(70, 80, 70));\r\n\r\n        }\r\n\r\n        public void paint(Graphics draw){\r\n          //Here you can perform any drawing like an oval...\r\n          draw.fillOval(40, 40, 60, 50);\r\n          \r\n          getContentPane().setBackground(new Color(70,80,70));\r\n        }\r\n    }\r\n\r\nThe missing part on almost all other answers is where to place the code.\r\nThen now you know it goes in ***paint(Graphics G)***","title":"Setting background color for a JFrame","body":"<p>Hello There I did have the same problem and after many attempts I found that the problem is that you need a <strong>Graphics Object</strong> to be able to draw, paint(setBackgroundColor).</p>\n\n<p>My code usually goes like this:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n\npublic class DrawGraphics extends JFrame{\n\n    public DrawGraphics(String title) throws HeadlessException {\n      super(title);\n      InitialElements();\n    }\n\n    private void InitialElements(){\n      setSize(300, 250);\n      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      setVisible(true);\n      // This one does not work\n      // getContentPane().setBackground(new Color(70, 80, 70));\n\n    }\n\n    public void paint(Graphics draw){\n      //Here you can perform any drawing like an oval...\n      draw.fillOval(40, 40, 60, 50);\n\n      getContentPane().setBackground(new Color(70,80,70));\n    }\n}\n</code></pre>\n\n<p>The missing part on almost all other answers is where to place the code.\nThen now you know it goes in <strong><em>paint(Graphics G)</em></strong></p>\n"},{"comments":[{"owner":{"account_id":6077354,"reputation":5409,"user_id":4744263,"accept_rate":25,"display_name":"Filipe Brito"},"score":5,"creation_date":1442544822,"post_id":32536620,"comment_id":53134289,"body_markdown":"Why to answer if there is already the same answer made by other users?","body":"Why to answer if there is already the same answer made by other users?"},{"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"score":0,"creation_date":1456851352,"post_id":32536620,"comment_id":59132506,"body_markdown":"his first statement makes sense i.e setBackGround doesn&#39;t work properly.","body":"his first statement makes sense i.e setBackGround doesn&#39;t work properly."}],"tags":[],"owner":{"account_id":6941872,"reputation":149,"user_id":5327900,"display_name":"darx"},"comment_count":2,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1442049475,"creation_date":1442045229,"answer_id":32536620,"question_id":1081486,"body_markdown":"using:\r\n\r\n    setBackground(Color.red);\r\n\r\ndoesn&#39;t work properly.\r\n\r\n\r\nuse\r\n\r\n    Container c = JFrame.getContentPane();\r\n    \r\n    c.setBackground(Color.red);\r\n\r\nor\r\n\r\n    myJFrame.getContentPane().setBackground( Color.red );\r\n\r\n","title":"Setting background color for a JFrame","body":"<p>using:</p>\n\n<pre><code>setBackground(Color.red);\n</code></pre>\n\n<p>doesn't work properly.</p>\n\n<p>use</p>\n\n<pre><code>Container c = JFrame.getContentPane();\n\nc.setBackground(Color.red);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>myJFrame.getContentPane().setBackground( Color.red );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"score":0,"creation_date":1484142852,"post_id":41588263,"comment_id":70388530,"body_markdown":"I feel this is a suggestion for a solution which may or may not be the answer. If the OP tries this and finds it to be working, they can ask you to add as answer to mark it so. This is how I usually work.","body":"I feel this is a suggestion for a solution which may or may not be the answer. If the OP tries this and finds it to be working, they can ask you to add as answer to mark it so. This is how I usually work."},{"owner":{"account_id":9278605,"reputation":338,"user_id":6890481,"accept_rate":40,"display_name":"Ahm23"},"score":0,"creation_date":1552842418,"post_id":41588263,"comment_id":97155350,"body_markdown":"Thanks for this great solution. It seems that the &quot;C&quot; in Color is case-sensitive.","body":"Thanks for this great solution. It seems that the &quot;C&quot; in Color is case-sensitive."}],"tags":[],"owner":{"account_id":9884991,"reputation":71,"user_id":7319745,"display_name":"Mr. J"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1613944439,"creation_date":1484130284,"answer_id":41588263,"question_id":1081486,"body_markdown":"To set the background color for the JFrame try this:\r\n\r\n    this.getContentPane().setBackground(Color.white);","title":"Setting background color for a JFrame","body":"<p>To set the background color for the JFrame try this:</p>\n<pre><code>this.getContentPane().setBackground(Color.white);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9950284,"reputation":1455,"user_id":7363234,"accept_rate":75,"display_name":"Cristian Babarusi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500677345,"creation_date":1500677345,"answer_id":45247799,"question_id":1081486,"body_markdown":"This is the simplest and the correct method. All you have to do is to add this code after initComponents();\r\n\r\n    getContentPane().setBackground(new java.awt.Color(204, 166, 166));\r\n\r\nThat is an example RGB color, you can replace that with your desired color. If you dont know the codes of RGB colors, please search on internet... there are a lot of sites that provide custom colors like this.","title":"Setting background color for a JFrame","body":"<p>This is the simplest and the correct method. All you have to do is to add this code after initComponents();</p>\n\n<pre><code>getContentPane().setBackground(new java.awt.Color(204, 166, 166));\n</code></pre>\n\n<p>That is an example RGB color, you can replace that with your desired color. If you dont know the codes of RGB colors, please search on internet... there are a lot of sites that provide custom colors like this.</p>\n"},{"tags":[],"owner":{"account_id":19078881,"reputation":19,"user_id":13931576,"display_name":"Debra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595965378,"creation_date":1595965378,"answer_id":63141669,"question_id":1081486,"body_markdown":"I had trouble with changing the JFrame background as well and the above responses did not solve it entirely.  I am using Eclipse.  Adding a layout fixed the issue.\r\n\r\n    public class SampleProgram extends JFrame {\r\n    \tpublic SampleProgram() {\r\n    \t\tsetSize(400,400);\r\n    \t\tsetTitle(&quot;Sample&quot;);\r\n    \t\tgetContentPane().setLayout(new FlowLayout());//specify a layout manager\r\n    \t\tgetContentPane().setBackground(Color.red);\r\n            setVisible(true);\r\n    }","title":"Setting background color for a JFrame","body":"<p>I had trouble with changing the JFrame background as well and the above responses did not solve it entirely.  I am using Eclipse.  Adding a layout fixed the issue.</p>\n<pre><code>public class SampleProgram extends JFrame {\n    public SampleProgram() {\n        setSize(400,400);\n        setTitle(&quot;Sample&quot;);\n        getContentPane().setLayout(new FlowLayout());//specify a layout manager\n        getContentPane().setBackground(Color.red);\n        setVisible(true);\n}\n</code></pre>\n"}],"owner":{"display_name":"Raji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528368,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"answer_count":10,"score":69,"last_activity_date":1678082659,"creation_date":1246681599,"question_id":1081486,"body_markdown":"How do you set the background color for a `JFrame`?","title":"Setting background color for a JFrame","body":"<p>How do you set the background color for a <code>JFrame</code>?</p>\n"},{"tags":["java","html","thymeleaf"],"comments":[{"owner":{"account_id":1804208,"reputation":4187,"user_id":1641714,"display_name":"Sunil B N"},"score":1,"creation_date":1678079882,"post_id":75647256,"comment_id":133457210,"body_markdown":"can you try something like this? You can add min value instead\nhttps://stackoverflow.com/questions/64626633/validating-dates-using-html5-and-thymeleaf","body":"can you try something like this? You can add min value instead <a href=\"https://stackoverflow.com/questions/64626633/validating-dates-using-html5-and-thymeleaf\" title=\"validating dates using html5 and thymeleaf\">stackoverflow.com/questions/64626633/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21833019,"reputation":734,"user_id":16127735,"display_name":"Alon Alush"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678082167,"creation_date":1678082167,"answer_id":75647469,"question_id":75647256,"body_markdown":"Use Thymeleaf&#39;s conditional expressions along with the th:if attribute\r\n\r\n    &lt;!-- Your date picker input element --&gt;\r\n    &lt;input type=&quot;date&quot; th:field=&quot;*{selectedDate}&quot; /&gt;\r\n    \r\n    &lt;!-- Display an error message if the selected date is smaller than the current date --&gt;\r\n    &lt;div th:if=&quot;${yourJavaFunction(*{selectedDate})}&quot;&gt;\r\n      &lt;span style=&quot;color: red;&quot;&gt;Error: Selected date cannot be in the past.&lt;/span&gt;\r\n    &lt;/div&gt;\r\n\r\n","title":"Custom form validation HTML","body":"<p>Use Thymeleaf's conditional expressions along with the th:if attribute</p>\n<pre><code>&lt;!-- Your date picker input element --&gt;\n&lt;input type=&quot;date&quot; th:field=&quot;*{selectedDate}&quot; /&gt;\n\n&lt;!-- Display an error message if the selected date is smaller than the current date --&gt;\n&lt;div th:if=&quot;${yourJavaFunction(*{selectedDate})}&quot;&gt;\n  &lt;span style=&quot;color: red;&quot;&gt;Error: Selected date cannot be in the past.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":17905624,"reputation":23,"user_id":13008861,"display_name":"Appley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678130905,"accepted_answer_id":75647469,"answer_count":1,"score":-1,"last_activity_date":1678082167,"creation_date":1678079580,"question_id":75647256,"body_markdown":"I have made a HTML/thymeleaf form where one of the elements is a date picker, and I have made a java function to check if the date picked is smaller or greater than the current date. If it&#39;s smaller it should return the error, if it&#39;s greater it should submit the form. The function currently returns true/false respectively\r\n\r\nI am unsure how to use this java function in the html to show an error if the function returns true? Where would that go in the &lt;input&gt; element?","title":"Custom form validation HTML","body":"<p>I have made a HTML/thymeleaf form where one of the elements is a date picker, and I have made a java function to check if the date picked is smaller or greater than the current date. If it's smaller it should return the error, if it's greater it should submit the form. The function currently returns true/false respectively</p>\n<p>I am unsure how to use this java function in the html to show an error if the function returns true? Where would that go in the  element?</p>\n"},{"tags":["java","c#","android","android-13"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1678082263,"post_id":75647457,"comment_id":133457510,"body_markdown":"You&#39;ll have to ask them to fix their `PendingIntent` code, if they haven&#39;t already.","body":"You&#39;ll have to ask them to fix their <code>PendingIntent</code> code, if they haven&#39;t already."},{"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"score":0,"creation_date":1678082398,"post_id":75647457,"comment_id":133457528,"body_markdown":"@uncle_scroge you can try to use reflect to modify it, if the third party libraries not fix that","body":"@uncle_scroge you can try to use reflect to modify it, if the third party libraries not fix that"},{"owner":{"account_id":2731786,"reputation":409,"user_id":2355408,"accept_rate":40,"display_name":"uncle_scrooge"},"score":0,"creation_date":1678082421,"post_id":75647457,"comment_id":133457533,"body_markdown":"is there no other way ,i mean any workaround to force al intents globally","body":"is there no other way ,i mean any workaround to force al intents globally"},{"owner":{"account_id":2731786,"reputation":409,"user_id":2355408,"accept_rate":40,"display_name":"uncle_scrooge"},"score":0,"creation_date":1678082465,"post_id":75647457,"comment_id":133457541,"body_markdown":"@Lenoarod,Could you please explain more...i know about reflection,but how to modify the intents","body":"@Lenoarod,Could you please explain more...i know about reflection,but how to modify the intents"},{"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"score":0,"creation_date":1678084197,"post_id":75647457,"comment_id":133457798,"body_markdown":"think it like general object, modify it property before you call that.","body":"think it like general object, modify it property before you call that."},{"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"score":0,"creation_date":1678084235,"post_id":75647457,"comment_id":133457808,"body_markdown":"see this link:https://stackoverflow.com/questions/15966726/how-to-change-method-behaviour-through-reflection","body":"see this link:<a href=\"https://stackoverflow.com/questions/15966726/how-to-change-method-behaviour-through-reflection\" title=\"how to change method behaviour through reflection\">stackoverflow.com/questions/15966726/&hellip;</a>"}],"owner":{"account_id":2731786,"reputation":409,"user_id":2355408,"accept_rate":40,"display_name":"uncle_scrooge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678082061,"creation_date":1678082061,"question_id":75647457,"body_markdown":"\r\nI have a project where we have to use third party libraries,\r\nbut in one of the libraries ,its showing error-\r\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the Pending Intent being mutable\r\n\r\nI am aware of this issue, but to solve it I have to edit the library codes which i am not able to do as codes are not available publicly.\r\n\r\nSo question is, Is there any workaround for this,\r\nForce all intents used by third party libraries to be FLAG_IMMUTABLE android. \r\n\r\n","title":"Force all intents used by third party libraries to be FLAG_IMMUTABLE android","body":"<p>I have a project where we have to use third party libraries,\nbut in one of the libraries ,its showing error-\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the Pending Intent being mutable</p>\n<p>I am aware of this issue, but to solve it I have to edit the library codes which i am not able to do as codes are not available publicly.</p>\n<p>So question is, Is there any workaround for this,\nForce all intents used by third party libraries to be FLAG_IMMUTABLE android.</p>\n"},{"tags":["java","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678061709,"creation_date":1678060904,"answer_id":75646127,"question_id":75644364,"body_markdown":"First thing first, I don&#39;t see any error/issue as such in your code block.\r\n\r\nAs per the spec [**Element Click**](https://w3c.github.io/webdriver/#element-click) by default [scrolls into view](https://w3c.github.io/webdriver/#dfn-scrolls-into-view). So from a generic perspective using [Actions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html) seems to me a overhead.\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nAs a best attempt, I would prefer the folling lines of code:\r\n\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId))).click();\r\n\t\r\nIncase the attempt fails, using _Actions_ and clicking within the chain as:\r\n\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\r\n\tWebElement button2 = new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\r\n\tnew Actions(driver).moveToElement(button2).click(button2).build().perform();\r\n\t\r\nIncase the _Actions_ attempt fails, then using the [`executeScript()`](https://stackoverflow.com/a/55394803/7429447) method from [JavascriptExecutor](https://stackoverflow.com/a/52698089/7429447) as follows:\r\n\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\r\n\tWebElement button2 = new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, button2);","title":"How to wait until div layer is hidden","body":"<p>First thing first, I don't see any error/issue as such in your code block.</p>\n<p>As per the spec <a href=\"https://w3c.github.io/webdriver/#element-click\" rel=\"nofollow noreferrer\"><strong>Element Click</strong></a> by default <a href=\"https://w3c.github.io/webdriver/#dfn-scrolls-into-view\" rel=\"nofollow noreferrer\">scrolls into view</a>. So from a generic perspective using <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html\" rel=\"nofollow noreferrer\">Actions</a> seems to me a overhead.</p>\n<hr />\n<h2>This usecase</h2>\n<p>As a best attempt, I would prefer the folling lines of code:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\nnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId))).click();\n</code></pre>\n<p>Incase the attempt fails, using <em>Actions</em> and clicking within the chain as:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\nWebElement button2 = new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\nnew Actions(driver).moveToElement(button2).click(button2).build().perform();\n</code></pre>\n<p>Incase the <em>Actions</em> attempt fails, then using the <a href=\"https://stackoverflow.com/a/55394803/7429447\"><code>executeScript()</code></a> method from <a href=\"https://stackoverflow.com/a/52698089/7429447\">JavascriptExecutor</a> as follows:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\nWebElement button2 = new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, button2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678081959,"creation_date":1678081959,"answer_id":75647450,"question_id":75644364,"body_markdown":"you can just wait until the overlay div layer is hidden using the ExpectedConditions class and the invisibilityOfElementLocated method. \r\n\r\nthe below code will first wait for the overlay div layer to be hidden using the invisibilityOfElementLocated method. Once the overlay is hidden, it will click on the dropdown button. This should help avoid the ElementClickInterceptedException caused by the overlay layer intercepting the click.\r\n\r\n    // Wait for overlay to be hidden\r\n    new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\r\n    \r\n    // Click on dropdown button\r\n    Thread.sleep(4000);\r\n    WebDriverWait button2Wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));\r\n    WebElement button2 = button2Wait.until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\r\n    new Actions(driver).moveToElement(button2).build().perform();\r\n    button2.click();","title":"How to wait until div layer is hidden","body":"<p>you can just wait until the overlay div layer is hidden using the ExpectedConditions class and the invisibilityOfElementLocated method.</p>\n<p>the below code will first wait for the overlay div layer to be hidden using the invisibilityOfElementLocated method. Once the overlay is hidden, it will click on the dropdown button. This should help avoid the ElementClickInterceptedException caused by the overlay layer intercepting the click.</p>\n<pre><code>// Wait for overlay to be hidden\nnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\n\n// Click on dropdown button\nThread.sleep(4000);\nWebDriverWait button2Wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));\nWebElement button2 = button2Wait.until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\nnew Actions(driver).moveToElement(button2).build().perform();\nbutton2.click();\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678081959,"creation_date":1678040143,"question_id":75644364,"body_markdown":"I have this code which is used to click on a dropdown button:\r\n\r\nWait until is hidden:\r\n\r\n    new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//div[contains(@class, &#39;ngx-spinner-overlay&#39;)]&quot;)));\r\n    new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\r\n\r\nCode to click on a button:\r\n\r\n    Thread.sleep(4000);\r\n    WebDriverWait button2Wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));\r\n    WebElement button2 = button2Wait.until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\r\n    new Actions(driver).moveToElement(button2).build().perform();\r\n    button2.click();\r\n\r\n\r\nBut from time to time I get exception:\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;mobileweb-value-selector _ngcontent-jkb-c228=&quot;&quot; id=&quot;equipment&quot; selectorskin=&quot;component&quot; property.id=&quot;equipmentId&quot; property.name=&quot;equipmentLookupCode&quot; _nghost-jkb-c212=&quot;&quot; class=&quot;ng-star-inserted&quot;&gt;...&lt;/mobileweb-value-selector&gt; is not clickable at point (694, 368). Other element would receive the click: &lt;div _ngcontent-jkb-c171=&quot;&quot; class=&quot;ngx-spinner-overlay ng-tns-c171-0 ng-trigger ng-trigger-fadeIn ng-star-inserted ng-animating&quot; style=&quot;background-color: rgba(255, 255, 255, 0.75); z-index: 99999; position: fixed;&quot;&gt;...&lt;/div&gt;\r\n      (Session info: chrome=110.0.5481.177)\r\n\r\nDo you know how I can implement a code which waits until this div layer is hidden?\r\n\r\n","title":"How to wait until div layer is hidden","body":"<p>I have this code which is used to click on a dropdown button:</p>\n<p>Wait until is hidden:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//div[contains(@class, 'ngx-spinner-overlay')]&quot;)));\nnew WebDriverWait(driver, Duration.ofSeconds(timeout)).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.ngx-spinner-overlay&quot;)));\n</code></pre>\n<p>Code to click on a button:</p>\n<pre><code>Thread.sleep(4000);\nWebDriverWait button2Wait = new WebDriverWait(driver, Duration.ofSeconds(timeout));\nWebElement button2 = button2Wait.until(ExpectedConditions.elementToBeClickable(By.xpath(dropDownId)));\nnew Actions(driver).moveToElement(button2).build().perform();\nbutton2.click();\n</code></pre>\n<p>But from time to time I get exception:</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;mobileweb-value-selector _ngcontent-jkb-c228=&quot;&quot; id=&quot;equipment&quot; selectorskin=&quot;component&quot; property.id=&quot;equipmentId&quot; property.name=&quot;equipmentLookupCode&quot; _nghost-jkb-c212=&quot;&quot; class=&quot;ng-star-inserted&quot;&gt;...&lt;/mobileweb-value-selector&gt; is not clickable at point (694, 368). Other element would receive the click: &lt;div _ngcontent-jkb-c171=&quot;&quot; class=&quot;ngx-spinner-overlay ng-tns-c171-0 ng-trigger ng-trigger-fadeIn ng-star-inserted ng-animating&quot; style=&quot;background-color: rgba(255, 255, 255, 0.75); z-index: 99999; position: fixed;&quot;&gt;...&lt;/div&gt;\n  (Session info: chrome=110.0.5481.177)\n</code></pre>\n<p>Do you know how I can implement a code which waits until this div layer is hidden?</p>\n"},{"tags":["java","printing","output","newline"],"comments":[{"owner":{"account_id":15467626,"reputation":51,"user_id":11158542,"display_name":"Cheatr01"},"score":0,"creation_date":1677970131,"post_id":75639124,"comment_id":133443340,"body_markdown":"But this line is the problem: System.out.println(); This is make the new line.","body":"But this line is the problem: System.out.println(); This is make the new line."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677970509,"post_id":75639124,"comment_id":133443391,"body_markdown":"What do you mean with the output getting messed up?","body":"What do you mean with the output getting messed up?"},{"owner":{"account_id":27814047,"reputation":1,"user_id":21235853,"display_name":"abboud"},"score":0,"creation_date":1677970728,"post_id":75639124,"comment_id":133443425,"body_markdown":"I tried removing it as I said but the output got messed up like times will go in different lines","body":"I tried removing it as I said but the output got messed up like times will go in different lines"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677998664,"post_id":75639124,"comment_id":133445814,"body_markdown":"Two ways come to mind: First the nice and manageable way. Get hold of your data. Make a complete list of show times for each movie before printing anything. This will allow you to print movie title, rating and times on one line and a newline at the end. You may use a `Movie` object containing a list of show times or a `Map&lt;Movie, List&lt;LocalTime&gt;&gt;` or similar. –","body":"Two ways come to mind: First the nice and manageable way. Get hold of your data. Make a complete list of show times for each movie before printing anything. This will allow you to print movie title, rating and times on one line and a newline at the end. You may use a <code>Movie</code> object containing a list of show times or a <code>Map&lt;Movie, List&lt;LocalTime&gt;&gt;</code> or similar. –"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677998668,"post_id":75639124,"comment_id":133445815,"body_markdown":"– Second the algorithmic approach: I assume you are doing this in a loop. Print the first movie (with no newline) before the loop and set `frqName` and `frqRating` correspondingly. Keep your code in the loop as it is. Add a `System.out.println()` after the loop to terminate the last line.","body":"– Second the algorithmic approach: I assume you are doing this in a loop. Print the first movie (with no newline) before the loop and set <code>frqName</code> and <code>frqRating</code> correspondingly. Keep your code in the loop as it is. Add a <code>System.out.println()</code> after the loop to terminate the last line."}],"answers":[{"comments":[{"owner":{"account_id":27814047,"reputation":1,"user_id":21235853,"display_name":"abboud"},"score":0,"creation_date":1677971142,"post_id":75639196,"comment_id":133443478,"body_markdown":"I tried that but the output times got in different lanes","body":"I tried that but the output times got in different lanes"},{"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"score":0,"creation_date":1677972161,"post_id":75639196,"comment_id":133443597,"body_markdown":"Then just add `%n` or `\\n` (`n` for *new line*) into the `System.out.printf()`","body":"Then just add <code>%n</code> or <code>\\n</code> (<code>n</code> for <i>new line</i>) into the <code>System.out.printf()</code>"},{"owner":{"account_id":27814047,"reputation":1,"user_id":21235853,"display_name":"abboud"},"score":0,"creation_date":1677972460,"post_id":75639196,"comment_id":133443633,"body_markdown":"I tried that also but got the same thing, I edited the post to show the full code I think the problem is caused by another print statement but don&#39;t know how to solve it.","body":"I tried that also but got the same thing, I edited the post to show the full code I think the problem is caused by another print statement but don&#39;t know how to solve it."},{"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"score":0,"creation_date":1678129248,"post_id":75639196,"comment_id":133470131,"body_markdown":"If `frqName.equals(movieName) &amp;&amp; frqRating.equals(movieRating)` arrives, then you only print `System.out.print(&quot; &quot; + movieTime);`. Because there is a `...print()` and no `...println()` the `movieTime` from this movie will printing to the end of the line from the previous movie. Add there a `System.out.println(&quot; &quot; + movieTime);`!","body":"If <code>frqName.equals(movieName) &amp;&amp; frqRating.equals(movieRating)</code> arrives, then you only print <code>System.out.print(&quot; &quot; + movieTime);</code>. Because there is a <code>...print()</code> and no <code>...println()</code> the <code>movieTime</code> from this movie will printing to the end of the line from the previous movie. Add there a <code>System.out.println(&quot; &quot; + movieTime);</code>!"}],"tags":[],"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678081523,"creation_date":1677970795,"answer_id":75639196,"question_id":75639124,"body_markdown":"Just write:\r\n\r\n```\r\nif (frqName.equals(movieName) &amp;&amp; frqRating.equals(movieRating)) {\r\n    System.out.println(&quot; &quot; + movieTime);\r\n} else {\r\n    System.out.printf(&quot;%-44s | %5s | %s \\n&quot;, movieName, movieRating, movieTime);\r\n}\r\n```\r\n\r\n… and your output will not begin with an empty line.\r\n\r\nI would also (although I don&#39;t know your intentions) remove the `&quot; &quot; +` before `movieTime` in the new `System.out.println()`\r\n\r\n    System.out.println(movieTime);","title":"My code is printing a new line in front of the output","body":"<p>Just write:</p>\n<pre><code>if (frqName.equals(movieName) &amp;&amp; frqRating.equals(movieRating)) {\n    System.out.println(&quot; &quot; + movieTime);\n} else {\n    System.out.printf(&quot;%-44s | %5s | %s \\n&quot;, movieName, movieRating, movieTime);\n}\n</code></pre>\n<p>… and your output will not begin with an empty line.</p>\n<p>I would also (although I don't know your intentions) remove the <code>&quot; &quot; +</code> before <code>movieTime</code> in the new <code>System.out.println()</code></p>\n<pre><code>System.out.println(movieTime);\n</code></pre>\n"}],"owner":{"account_id":27814047,"reputation":1,"user_id":21235853,"display_name":"abboud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1678021112,"answer_count":1,"score":-3,"last_activity_date":1678081523,"creation_date":1677969717,"question_id":75639124,"body_markdown":"I&#39;m writing a code and I got a problem, my code is printing a new line in front of the output. I want to avoid that.\r\n\r\nHere is my code\r\n\r\n```\r\n\t\t\t\tif (movieName.length() &gt; 44)\r\n\t\t\t\t{\r\n\t\t\t\t\tmovieName = movieName.substring(0, 44);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(frqName.equals(movieName) &amp;&amp; frqRating.equals(movieRating)) \r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.print(&quot; &quot; + movieTime);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\tSystem.out.printf(&quot;%-44s | %5s | %s&quot;, movieName, movieRating, movieTime);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfrqName = movieName;\r\n\t\t\t\tfrqRating = movieRating;\r\n\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nand here is my output — with the undesired empty line first:\r\n\r\n```\r\n\r\nWonders of the World                         |     G | 16:40 20:00\r\nJourney to Space                             | PG-13 | 19:00\r\nBuffalo Bill And The Indians or Sitting Bull |    PG | 12:45 15:00 19:30\r\nAdventure of Lewis and Clark                 | PG-13 | 10:00 14:30\r\nHalloween                                    |     R | 19:00\r\n```\r\n\r\nI think the problem is from the first print statement; but how do I fix it properly?\r\n\r\nI already tried deleting `System.out.println();` from the `else` part and appending a newline to the format string in the following line. But then the further show times for the same move are printing on the following line, which is still worse.\r\n","title":"My code is printing a new line in front of the output","body":"<p>I'm writing a code and I got a problem, my code is printing a new line in front of the output. I want to avoid that.</p>\n<p>Here is my code</p>\n<pre><code>                if (movieName.length() &gt; 44)\n                {\n                    movieName = movieName.substring(0, 44);\n                }\n                \n                if(frqName.equals(movieName) &amp;&amp; frqRating.equals(movieRating)) \n                {\n                    \n                    System.out.print(&quot; &quot; + movieTime);\n                    \n                }\n                    \n                else \n                {\n                    System.out.println();\n                    System.out.printf(&quot;%-44s | %5s | %s&quot;, movieName, movieRating, movieTime);\n                    \n                }\n                \n                frqName = movieName;\n                frqRating = movieRating;\n\n            }\n        \n        }\n        \n    }\n\n</code></pre>\n<p>and here is my output — with the undesired empty line first:</p>\n<pre><code>\nWonders of the World                         |     G | 16:40 20:00\nJourney to Space                             | PG-13 | 19:00\nBuffalo Bill And The Indians or Sitting Bull |    PG | 12:45 15:00 19:30\nAdventure of Lewis and Clark                 | PG-13 | 10:00 14:30\nHalloween                                    |     R | 19:00\n</code></pre>\n<p>I think the problem is from the first print statement; but how do I fix it properly?</p>\n<p>I already tried deleting <code>System.out.println();</code> from the <code>else</code> part and appending a newline to the format string in the following line. But then the further show times for the same move are printing on the following line, which is still worse.</p>\n"},{"tags":["java","sql","configuration","flyway"],"comments":[{"owner":{"account_id":8021235,"reputation":491,"user_id":6049836,"accept_rate":25,"display_name":"Ythalo Rossy"},"score":0,"creation_date":1623876166,"post_id":68009579,"comment_id":120206003,"body_markdown":"Did you try the set up the configuration on the application.yml file?\nI found very some explanation in this article:\nhttps://www.baeldung.com/database-migrations-with-flyway","body":"Did you try the set up the configuration on the application.yml file? I found very some explanation in this article: <a href=\"https://www.baeldung.com/database-migrations-with-flyway\" rel=\"nofollow noreferrer\">baeldung.com/database-migrations-with-flyway</a>"},{"owner":{"account_id":8021235,"reputation":491,"user_id":6049836,"accept_rate":25,"display_name":"Ythalo Rossy"},"score":0,"creation_date":1623876475,"post_id":68009579,"comment_id":120206069,"body_markdown":"I guess that the migration will happen only if you trigger it. \n`mvn clean flyway:migrate`","body":"I guess that the migration will happen only if you trigger it.  <code>mvn clean flyway:migrate</code>"}],"answers":[{"tags":[],"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Kołacz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1623877117,"creation_date":1623877117,"answer_id":68009927,"question_id":68009579,"body_markdown":"I fixed bug. I just had to change &#39;enabled&#39; to true:\r\n\r\n     enabled: true","title":"Flyway does not insert values to database","body":"<p>I fixed bug. I just had to change 'enabled' to true:</p>\n<pre><code> enabled: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7640564,"reputation":548,"user_id":5792801,"display_name":"Cristian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678080933,"creation_date":1678080933,"answer_id":75647362,"question_id":68009579,"body_markdown":"you should create 2 files:\r\n\r\n1. schema\r\n2. new data\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3sKSh.png","title":"Flyway does not insert values to database","body":"<p>you should create 2 files:</p>\n<ol>\n<li>schema</li>\n<li>new data</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/3sKSh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3sKSh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Kołacz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68009927,"answer_count":2,"score":-1,"last_activity_date":1678080933,"creation_date":1623875040,"question_id":68009579,"body_markdown":"I added flyway library to my spring project. I configurated it and wrote some instuctions, project compiles but flyway does not insert values provided into data base.\r\nConfig of application.yml:\r\n\r\n     flyway:\r\n      baseline-on-migrate: true\r\n      enabled: false\r\n\r\nImpl:\r\n[ressource folder]\r\n\r\n![1]\r\n\r\nSQL instructions that must be insert:\r\n\r\n     insert role(name) values (&#39;ROLE_USER&#39;);\r\n     insert role(name) values (&#39;ROLE_ADMIN&#39;);\r\n\r\nBut after running application, they dont figure in database. The table is being created but fields are null.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HGYkw.png","title":"Flyway does not insert values to database","body":"<p>I added flyway library to my spring project. I configurated it and wrote some instuctions, project compiles but flyway does not insert values provided into data base.\nConfig of application.yml:</p>\n<pre><code> flyway:\n  baseline-on-migrate: true\n  enabled: false\n</code></pre>\n<p>Impl:\n[ressource folder]</p>\n<p><img src=\"https://i.stack.imgur.com/HGYkw.png\" alt=\"1\" /></p>\n<p>SQL instructions that must be insert:</p>\n<pre><code> insert role(name) values ('ROLE_USER');\n insert role(name) values ('ROLE_ADMIN');\n</code></pre>\n<p>But after running application, they dont figure in database. The table is being created but fields are null.</p>\n"},{"tags":["java","spring","spring-boot","maven","configuration"],"answers":[{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678079101,"creation_date":1678079101,"answer_id":75647221,"question_id":75646792,"body_markdown":"In the main class you can add this annotation for custom properties. \r\n```\r\n@PropertySource({&quot;classpath:application.properties&quot;,&quot;file:${MY_PATH}/application.properties&quot;})\r\n```\r\n\r\nI am not sure, but you can probably change properties file name in your jar and pass like this\r\n```\r\n@PropertySource({&quot;classpath:application.properties&quot;,&quot;classpath:jar-application.properties&quot;})\r\n```","title":"Resource files in the dependency project are not copied to the main spring boot project","body":"<p>In the main class you can add this annotation for custom properties.</p>\n<pre><code>@PropertySource({&quot;classpath:application.properties&quot;,&quot;file:${MY_PATH}/application.properties&quot;})\n</code></pre>\n<p>I am not sure, but you can probably change properties file name in your jar and pass like this</p>\n<pre><code>@PropertySource({&quot;classpath:application.properties&quot;,&quot;classpath:jar-application.properties&quot;})\n</code></pre>\n"}],"owner":{"account_id":3340442,"reputation":67,"user_id":2806844,"display_name":"Danushka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678079101,"creation_date":1678072694,"question_id":75646792,"body_markdown":"I have two maven spring boot projects.\r\n\r\n 1. jwt-auth(dependency project)\r\n 2. ws-main(main project)\r\n\r\nThe jwt-auth project has been added as a dependency to a main project and finally build the main project as an executable jar. Each project has its own configuration and is stored in a resource folder.\r\n\r\n**jwt-auth project**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**ws-main project**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo, my problem is after building the executable jar, configuration files in the dependency project are not copied to the main project&#39;s classpath. because of that some settings that are configured in application.properties and logback.xml in jwt-auth project are not working.\r\n\r\n*For ex:- the application.properties file in jwt-auth project does not copy to the main project classpath and because of that, I have to copy all the properties in the dependency project to the main project application.properties file before building the main project.*\r\n\r\nSo, I need to know if is this possible and if possible how can I configure both projects without missing any configuration file in the final build.\r\n\r\n\r\n**jwt-auth project&#39;s pom file**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.dakd.ws.auth&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jwt-auth&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;JWT Authentication&lt;/name&gt;\r\n    \t&lt;description&gt;Handle JWT authentication&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;lombok-maven-plugin&gt;1.18.26&lt;/lombok-maven-plugin&gt;\r\n    \t\t&lt;jjwt-maven-plugin&gt;0.11.5&lt;/jjwt-maven-plugin&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${lombok-maven-plugin}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jjwt-maven-plugin}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jjwt-maven-plugin}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jjwt-maven-plugin}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.html&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.dakd.ws.auth.jwt.JwtAuthenticationApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**ws-main project&#39;s pom file**\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.dakd.ws.main&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ws-main&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ws-main&lt;/name&gt;\r\n    \t&lt;description&gt;Handle basic authentication&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.dakd.ws.auth&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jwt-auth&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;ws-main&lt;/finalName&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;repackage&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;finalName&gt;ws-main&lt;/finalName&gt;\r\n    \t\t\t\t\t&lt;!--&lt;finalName&gt;tax-customer-ws-${build.profile.id}&lt;/finalName&gt;--&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dOnsg.jpg\r\n  [2]: https://i.stack.imgur.com/HvR9F.jpg","title":"Resource files in the dependency project are not copied to the main spring boot project","body":"<p>I have two maven spring boot projects.</p>\n<ol>\n<li>jwt-auth(dependency project)</li>\n<li>ws-main(main project)</li>\n</ol>\n<p>The jwt-auth project has been added as a dependency to a main project and finally build the main project as an executable jar. Each project has its own configuration and is stored in a resource folder.</p>\n<p><strong>jwt-auth project</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dOnsg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dOnsg.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>ws-main project</strong></p>\n<p><a href=\"https://i.stack.imgur.com/HvR9F.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HvR9F.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So, my problem is after building the executable jar, configuration files in the dependency project are not copied to the main project's classpath. because of that some settings that are configured in application.properties and logback.xml in jwt-auth project are not working.</p>\n<p><em>For ex:- the application.properties file in jwt-auth project does not copy to the main project classpath and because of that, I have to copy all the properties in the dependency project to the main project application.properties file before building the main project.</em></p>\n<p>So, I need to know if is this possible and if possible how can I configure both projects without missing any configuration file in the final build.</p>\n<p><strong>jwt-auth project's pom file</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dakd.ws.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;jwt-auth&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JWT Authentication&lt;/name&gt;\n    &lt;description&gt;Handle JWT authentication&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;lombok-maven-plugin&gt;1.18.26&lt;/lombok-maven-plugin&gt;\n        &lt;jjwt-maven-plugin&gt;0.11.5&lt;/jjwt-maven-plugin&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok-maven-plugin}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt-maven-plugin}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt-maven-plugin}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt-maven-plugin}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;include&gt;**/*.html&lt;/include&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.dakd.ws.auth.jwt.JwtAuthenticationApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>ws-main project's pom file</strong></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dakd.ws.main&lt;/groupId&gt;\n    &lt;artifactId&gt;ws-main&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ws-main&lt;/name&gt;\n    &lt;description&gt;Handle basic authentication&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dakd.ws.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;jwt-auth&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;ws-main&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;repackage&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;ws-main&lt;/finalName&gt;\n                    &lt;!--&lt;finalName&gt;tax-customer-ws-${build.profile.id}&lt;/finalName&gt;--&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1630535508,"post_id":69021055,"comment_id":121985783,"body_markdown":"Check your imports: `java.awt.Color` has such a constructor, but `javafx.scene.paint.Color` does not. This [example](https://stackoverflow.com/a/31761362/230513) uses `Color.hsb()`.","body":"Check your imports: <code>java.awt.Color</code> has such a constructor, but <code>javafx.scene.paint.Color</code> does not. This <a href=\"https://stackoverflow.com/a/31761362/230513\">example</a> uses <code>Color.hsb()</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1630536096,"post_id":69021055,"comment_id":121985892,"body_markdown":"[mcve] please .. and get your technical vocabulary right: there is no _javafx frame_","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. and get your technical vocabulary right: there is no <i>javafx frame</i>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1630557000,"post_id":69021055,"comment_id":121989830,"body_markdown":"You’ll probably find the [documentation of Color](https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/paint/Color.html) helpful.","body":"You’ll probably find the <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/paint/Color.html\" rel=\"nofollow noreferrer\">documentation of Color</a> helpful."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1630588361,"post_id":69021055,"comment_id":122002087,"body_markdown":"*&quot;How do I get the background to change color instead of the menuBar?&quot;* `root.setStyle(...)` instead of `menuBar.setStyle(...)`? (Obviously you&#39;ll need to reorder the code slightly.)","body":"<i>&quot;How do I get the background to change color instead of the menuBar?&quot;</i> <code>root.setStyle(...)</code> instead of <code>menuBar.setStyle(...)</code>? (Obviously you&#39;ll need to reorder the code slightly.)"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630699965,"creation_date":1630628933,"answer_id":69038295,"question_id":69021055,"body_markdown":"*Sample code*\r\n\r\nThis code allows the user to trigger setting a random background color (a shade of green) after selecting a menu item.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class ColorSelector extends Application {\r\n        private final Random random = new Random(42);\r\n    \r\n        private final ColorGenerator colorGenerator = new ColorGenerator();\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            MenuItem colorItem = new MenuItem(&quot;Random Color&quot;);\r\n            Menu colorMenu = new Menu(&quot;Change Color&quot;, null, colorItem);\r\n            MenuBar menuBar = new MenuBar(colorMenu);\r\n    \r\n            BorderPane root = new BorderPane();\r\n            root.setTop(menuBar);\r\n            setRandomBackgroundColor(root);\r\n            colorMenu.setOnAction(event -&gt; setRandomBackgroundColor(root));\r\n    \r\n            Scene scene = new Scene(root, 400, 200);\r\n            stage.setScene(scene);\r\n    \r\n            stage.show();\r\n        }\r\n    \r\n        private void setRandomBackgroundColor(Region region) {\r\n            Color color = colorGenerator.generateRandomShadeOfGreen();\r\n    \r\n            // option 1: set the fill on the root via a background color.\r\n            region.setBackground(\r\n                    new Background(\r\n                            new BackgroundFill(color, null, null)\r\n                    )\r\n            );\r\n    \r\n            // option 2: set the fill on the root via a css style.\r\n            // region.setStyle(&quot;-fx-background-color: #&quot; + colorToString(color));\r\n        }\r\n    \r\n        private String colorToString(Color color) {\r\n            int r = (int)Math.round(color.getRed() * 255.0);\r\n            int g = (int)Math.round(color.getGreen() * 255.0);\r\n            int b = (int)Math.round(color.getBlue() * 255.0);\r\n            int o = (int)Math.round(color.getOpacity() * 255.0);\r\n    \r\n            return String.format(&quot;%02x%02x%02x%02x&quot; , r, g, b, o);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    \r\n        private class ColorGenerator {\r\n            private int curColorIndex = 0;\r\n    \r\n            private final Color[] colorTable = {\r\n                    Color.rgb(0, 50, 0),\r\n                    Color.rgb(0, 100, 0),\r\n                    Color.rgb(0, 150, 0),\r\n                    Color.rgb(0, 250, 0),\r\n            };\r\n    \r\n            private Color generateRandomShadeOfGreen() {\r\n                int nextColorIndex = curColorIndex;\r\n    \r\n                while (nextColorIndex == curColorIndex) {\r\n                    nextColorIndex = random.nextInt(colorTable.length);\r\n                }\r\n    \r\n                curColorIndex = nextColorIndex;\r\n    \r\n                return colorTable[nextColorIndex];\r\n            }\r\n        }\r\n    }\r\n\r\n*Advice on the usage of this solution*\r\n\r\nI know this is your homework, but here is a sample solution anyway, I don&#39;t advise just copy and pasting it and handing it in, you can use it to check your implementation if you run into issues.  \r\n\r\nFor bonus points try to understand the meaning of `Random(42)` (read the javadoc for `Random`).  Also, read the relevant [`Background`][1] and [`Color`][2] API javadoc and the [color section of the JavaFX CSS reference guide](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#typecolor).\r\n\r\n*Implementation notes*\r\n\r\nFor the color lookup, it uses a pre-defined color table, which would seem to me to be a good solution to the problem.  \r\n\r\nThe table could be defined externally in CSS rather than inline, doing so is out of scope for this answer.  If interested, search the JavaFX source code base for usages of CHART_COLOR_ in the `moderna.css` file to see how this is done.\r\n\r\nInstead of using a lookup table, you could just create a random g value for the RGB specifier if you wanted.\r\n\r\nThe code demonstrates setting a color via either a `BackgroundFill` or an inline CSS style.\r\n\r\n*Other issues with your color randomization function*\r\n\r\n 1. The arguments (even for the correct color constructor) will have a range for RGB values (e.g. 0-255), so you can&#39;t just use any random int value.\r\n 2. You probably don&#39;t want an RGB value which is too low, otherwise, it will just look black to the naked eye. \r\n 3. You can&#39;t just take a Java variable and write its name in a String to have the variable value in the string. \r\n 4. If you only want a green RGB color, then set the r and b values to 0. \r\n 5. Reuse the random number generator, don&#39;t create one on every click, that is expensive.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/layout/Background.html\r\n  [2]: https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/paint/Color.html","title":"JavaFX frame background random color changes","body":"<p><em>Sample code</em></p>\n<p>This code allows the user to trigger setting a random background color (a shade of green) after selecting a menu item.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.util.Random;\n\npublic class ColorSelector extends Application {\n    private final Random random = new Random(42);\n\n    private final ColorGenerator colorGenerator = new ColorGenerator();\n\n    @Override\n    public void start(Stage stage) {\n        MenuItem colorItem = new MenuItem(&quot;Random Color&quot;);\n        Menu colorMenu = new Menu(&quot;Change Color&quot;, null, colorItem);\n        MenuBar menuBar = new MenuBar(colorMenu);\n\n        BorderPane root = new BorderPane();\n        root.setTop(menuBar);\n        setRandomBackgroundColor(root);\n        colorMenu.setOnAction(event -&gt; setRandomBackgroundColor(root));\n\n        Scene scene = new Scene(root, 400, 200);\n        stage.setScene(scene);\n\n        stage.show();\n    }\n\n    private void setRandomBackgroundColor(Region region) {\n        Color color = colorGenerator.generateRandomShadeOfGreen();\n\n        // option 1: set the fill on the root via a background color.\n        region.setBackground(\n                new Background(\n                        new BackgroundFill(color, null, null)\n                )\n        );\n\n        // option 2: set the fill on the root via a css style.\n        // region.setStyle(&quot;-fx-background-color: #&quot; + colorToString(color));\n    }\n\n    private String colorToString(Color color) {\n        int r = (int)Math.round(color.getRed() * 255.0);\n        int g = (int)Math.round(color.getGreen() * 255.0);\n        int b = (int)Math.round(color.getBlue() * 255.0);\n        int o = (int)Math.round(color.getOpacity() * 255.0);\n\n        return String.format(&quot;%02x%02x%02x%02x&quot; , r, g, b, o);\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n\n    private class ColorGenerator {\n        private int curColorIndex = 0;\n\n        private final Color[] colorTable = {\n                Color.rgb(0, 50, 0),\n                Color.rgb(0, 100, 0),\n                Color.rgb(0, 150, 0),\n                Color.rgb(0, 250, 0),\n        };\n\n        private Color generateRandomShadeOfGreen() {\n            int nextColorIndex = curColorIndex;\n\n            while (nextColorIndex == curColorIndex) {\n                nextColorIndex = random.nextInt(colorTable.length);\n            }\n\n            curColorIndex = nextColorIndex;\n\n            return colorTable[nextColorIndex];\n        }\n    }\n}\n</code></pre>\n<p><em>Advice on the usage of this solution</em></p>\n<p>I know this is your homework, but here is a sample solution anyway, I don't advise just copy and pasting it and handing it in, you can use it to check your implementation if you run into issues.</p>\n<p>For bonus points try to understand the meaning of <code>Random(42)</code> (read the javadoc for <code>Random</code>).  Also, read the relevant <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/layout/Background.html\" rel=\"nofollow noreferrer\"><code>Background</code></a> and <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/paint/Color.html\" rel=\"nofollow noreferrer\"><code>Color</code></a> API javadoc and the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#typecolor\" rel=\"nofollow noreferrer\">color section of the JavaFX CSS reference guide</a>.</p>\n<p><em>Implementation notes</em></p>\n<p>For the color lookup, it uses a pre-defined color table, which would seem to me to be a good solution to the problem.</p>\n<p>The table could be defined externally in CSS rather than inline, doing so is out of scope for this answer.  If interested, search the JavaFX source code base for usages of CHART_COLOR_ in the <code>moderna.css</code> file to see how this is done.</p>\n<p>Instead of using a lookup table, you could just create a random g value for the RGB specifier if you wanted.</p>\n<p>The code demonstrates setting a color via either a <code>BackgroundFill</code> or an inline CSS style.</p>\n<p><em>Other issues with your color randomization function</em></p>\n<ol>\n<li>The arguments (even for the correct color constructor) will have a range for RGB values (e.g. 0-255), so you can't just use any random int value.</li>\n<li>You probably don't want an RGB value which is too low, otherwise, it will just look black to the naked eye.</li>\n<li>You can't just take a Java variable and write its name in a String to have the variable value in the string.</li>\n<li>If you only want a green RGB color, then set the r and b values to 0.</li>\n<li>Reuse the random number generator, don't create one on every click, that is expensive.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25155850,"reputation":1,"user_id":19000691,"display_name":"user19000691"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678078459,"creation_date":1678078459,"answer_id":75647168,"question_id":69021055,"body_markdown":"I can drop a hint or two; but I&#39;ve run this program because I wrote my first CTA3 with code that is almost identical to yours (with a few differences). \r\nThe instructions don&#39;t say that you have to write this program in JavaFX. ","title":"JavaFX frame background random color changes","body":"<p>I can drop a hint or two; but I've run this program because I wrote my first CTA3 with code that is almost identical to yours (with a few differences).\nThe instructions don't say that you have to write this program in JavaFX.</p>\n"}],"owner":{"account_id":22209922,"reputation":1,"user_id":16449303,"display_name":"CSUSC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678078459,"creation_date":1630534040,"question_id":69021055,"body_markdown":"Tasked with creating a user interface that has a top bar which includes a menu. The menu should have four items. First prints the date to a dialog box, second writes that date to a .txt file, third changes the frame background color to random color hue of the color green, fourth exits. \r\n\r\nI have everything working except number 3. I have it set up so that the menuBar changes to a predetermined color green when you select the colorItem MenuItem. \r\n\r\n```\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport java.util.Random;\r\nimport javafx.scene.control.Menu;\r\nimport javafx.scene.control.MenuBar;\r\nimport javafx.scene.control.MenuItem;\r\nimport javafx.scene.input.KeyCombination;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\nimport java.time.LocalDate;\r\n\r\n\r\npublic class Main extends Application {\r\n\t@Override\r\n    public void start(Stage stage) {\r\n \r\n        // Create MenuBar\r\n        MenuBar menuBar = new MenuBar();\r\n        \r\n        // Create menus\r\n        Menu dateMenu = new Menu(&quot;Print&quot;);\r\n        Menu textMenu = new Menu(&quot;Write&quot;);\r\n        Menu colorMenu = new Menu(&quot;Change Color&quot;);\r\n        Menu exitMenu = new Menu(&quot;Options&quot;);\r\n        \r\n        // Create MenuItems\r\n        MenuItem dateItem = new MenuItem(&quot;Date/Time&quot;);\r\n        MenuItem textItem = new MenuItem(&quot;Save To Text File&quot;);\r\n        MenuItem colorItem = new MenuItem(&quot;Random Color&quot;);\r\n        MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\r\n        \r\n        // Add menuItems to the Menus\r\n        dateMenu.getItems().addAll(dateItem);\r\n        textMenu.getItems().addAll(textItem);\r\n        colorMenu.getItems().addAll(colorItem);\r\n        exitMenu.getItems().addAll(exitItem);\r\n        \r\n        // Add Menus to the MenuBar\r\n        menuBar.getMenus().addAll(dateMenu, textMenu, colorMenu, exitMenu);\r\n        \r\n       \r\n        // When user clicks on Date/Time MenuItem\r\n        dateMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()\t{\r\n\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n            \tLocalDate today = LocalDate.now();\r\n            \tAlert alert = new Alert(AlertType.INFORMATION);\r\n            \talert.setTitle(&quot;Date Printer&quot;);\r\n            \talert.setHeaderText(null);\r\n            \talert.setContentText(&quot;Today&#39;s Date is: &quot; + today);\r\n            \talert.showAndWait();\r\n                            }\r\n        });\r\n        \r\n        // When user clicks on Save to Text File MenuItem\r\n        textMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()\t{\r\n\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n            \tLocalDate today = LocalDate.now();\r\n                try {\r\n                \t\r\n                \t// Log message created\r\n                    String content = &quot;Button clicked on: &quot; + today;\r\n\r\n                    File file = new  File(&quot;C:\\\\Users\\\\stca\\\\OneDrive - Episerver\\\\Desktop\\\\Week3.txt&quot;);\r\n\r\n                    // File already created on desktop\r\n                    if (!file.exists()) {\r\n                        file.createNewFile();\r\n                    }\r\n\r\n                    FileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n                    BufferedWriter bw = new BufferedWriter(fw);\r\n                    bw.write(content);\r\n                    bw.close();\r\n\r\n                    System.out.println(&quot;Done&quot;);\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                            }\r\n        });\r\n        \r\n        // When user clicks on Change Color MenuItem\r\n        colorMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()\t{\r\n\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                menuBar.setStyle(&quot;-fx-background-color: #33cc33;&quot;);\r\n                            }\r\n        });\r\n        \r\n        // Set Accelerator for Exit MenuItem.\r\n        exitItem.setAccelerator(KeyCombination.keyCombination(&quot;Ctrl+X&quot;));\r\n         \r\n        // When user clicks on the Exit MenuItem\r\n        exitItem.setOnAction((EventHandler&lt;ActionEvent&gt;) new EventHandler&lt;ActionEvent&gt;() {\r\n         \r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n        \r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setTop(menuBar);\r\n        Scene scene = new Scene(root, 400, 200);\r\n        \r\n        stage.setTitle(&quot;JavaFX Menu for CSC372&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n \r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n \r\n}\r\n```\r\nHow do I get the background to change color instead of the menuBar? Also, how can I invoke some randomization of different hues of green? I tried this: \r\n```\r\n        // When user clicks on Change Color MenuItem\r\n        colorMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()\t{\r\n\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                Random random = new Random(); \r\n                int r = random.nextInt(); \r\n                int g = random.nextInt(); \r\n                int b = random.nextInt(); \r\n                Color randomColor = new Color(r, g, b);\r\n                menuBar.setStyle(&quot;-fx-background-color: randomColor&quot;);\r\n                            }\r\n        });\r\n```\r\nBut my IDE is telling me that the constructor is not visible. ","title":"JavaFX frame background random color changes","body":"<p>Tasked with creating a user interface that has a top bar which includes a menu. The menu should have four items. First prints the date to a dialog box, second writes that date to a .txt file, third changes the frame background color to random color hue of the color green, fourth exits.</p>\n<p>I have everything working except number 3. I have it set up so that the menuBar changes to a predetermined color green when you select the colorItem MenuItem.</p>\n<pre><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport java.util.Random;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.input.KeyCombination;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport java.time.LocalDate;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) {\n \n        // Create MenuBar\n        MenuBar menuBar = new MenuBar();\n        \n        // Create menus\n        Menu dateMenu = new Menu(&quot;Print&quot;);\n        Menu textMenu = new Menu(&quot;Write&quot;);\n        Menu colorMenu = new Menu(&quot;Change Color&quot;);\n        Menu exitMenu = new Menu(&quot;Options&quot;);\n        \n        // Create MenuItems\n        MenuItem dateItem = new MenuItem(&quot;Date/Time&quot;);\n        MenuItem textItem = new MenuItem(&quot;Save To Text File&quot;);\n        MenuItem colorItem = new MenuItem(&quot;Random Color&quot;);\n        MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\n        \n        // Add menuItems to the Menus\n        dateMenu.getItems().addAll(dateItem);\n        textMenu.getItems().addAll(textItem);\n        colorMenu.getItems().addAll(colorItem);\n        exitMenu.getItems().addAll(exitItem);\n        \n        // Add Menus to the MenuBar\n        menuBar.getMenus().addAll(dateMenu, textMenu, colorMenu, exitMenu);\n        \n       \n        // When user clicks on Date/Time MenuItem\n        dateMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()    {\n\n            @Override\n            public void handle(ActionEvent event) {\n                LocalDate today = LocalDate.now();\n                Alert alert = new Alert(AlertType.INFORMATION);\n                alert.setTitle(&quot;Date Printer&quot;);\n                alert.setHeaderText(null);\n                alert.setContentText(&quot;Today's Date is: &quot; + today);\n                alert.showAndWait();\n                            }\n        });\n        \n        // When user clicks on Save to Text File MenuItem\n        textMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()    {\n\n            @Override\n            public void handle(ActionEvent event) {\n                LocalDate today = LocalDate.now();\n                try {\n                    \n                    // Log message created\n                    String content = &quot;Button clicked on: &quot; + today;\n\n                    File file = new  File(&quot;C:\\\\Users\\\\stca\\\\OneDrive - Episerver\\\\Desktop\\\\Week3.txt&quot;);\n\n                    // File already created on desktop\n                    if (!file.exists()) {\n                        file.createNewFile();\n                    }\n\n                    FileWriter fw = new FileWriter(file.getAbsoluteFile());\n                    BufferedWriter bw = new BufferedWriter(fw);\n                    bw.write(content);\n                    bw.close();\n\n                    System.out.println(&quot;Done&quot;);\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                            }\n        });\n        \n        // When user clicks on Change Color MenuItem\n        colorMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()   {\n\n            @Override\n            public void handle(ActionEvent event) {\n                menuBar.setStyle(&quot;-fx-background-color: #33cc33;&quot;);\n                            }\n        });\n        \n        // Set Accelerator for Exit MenuItem.\n        exitItem.setAccelerator(KeyCombination.keyCombination(&quot;Ctrl+X&quot;));\n         \n        // When user clicks on the Exit MenuItem\n        exitItem.setOnAction((EventHandler&lt;ActionEvent&gt;) new EventHandler&lt;ActionEvent&gt;() {\n         \n            @Override\n            public void handle(ActionEvent event) {\n                System.exit(0);\n            }\n        });\n        \n\n        BorderPane root = new BorderPane();\n        root.setTop(menuBar);\n        Scene scene = new Scene(root, 400, 200);\n        \n        stage.setTitle(&quot;JavaFX Menu for CSC372&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n \n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n \n}\n</code></pre>\n<p>How do I get the background to change color instead of the menuBar? Also, how can I invoke some randomization of different hues of green? I tried this:</p>\n<pre><code>        // When user clicks on Change Color MenuItem\n        colorMenu.setOnAction(new EventHandler&lt;ActionEvent&gt;()   {\n\n            @Override\n            public void handle(ActionEvent event) {\n                Random random = new Random(); \n                int r = random.nextInt(); \n                int g = random.nextInt(); \n                int b = random.nextInt(); \n                Color randomColor = new Color(r, g, b);\n                menuBar.setStyle(&quot;-fx-background-color: randomColor&quot;);\n                            }\n        });\n</code></pre>\n<p>But my IDE is telling me that the constructor is not visible.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678089991,"post_id":75647153,"comment_id":133458918,"body_markdown":"From what I could find so far, there shouldn&#39;t be an issue with that case. I do however think that you should probably rethink your implementation design if you need to rely on these techniques","body":"From what I could find so far, there shouldn&#39;t be an issue with that case. I do however think that you should probably rethink your implementation design if you need to rely on these techniques"}],"owner":{"account_id":10271774,"reputation":111,"user_id":7579924,"display_name":"Kawsar Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678078270,"creation_date":1678078270,"question_id":75647153,"body_markdown":"We can use Hibernate.initialize() to initialize a lazy-loaded collection. But instead of doing it, we can enable OpenSessionInViewInterceptor and then the lazy-loaded collection can be initialized in the view layer. I know that OpenSessionInViewInterceptor is an anti-pattern. But my question is, can there be any scenario where we must use Hibernate.initialize(), a scenario where enabling OpenSessionInViewInterceptor will not help us in getting rid of LazyInitializationException?\r\n\r\nI think if we fetch an entity which has a lazy-loaded collection in it and then use it for a new GET request, OpenSessionInViewInterceptor won&#39;t be able to initialize the collection. ","title":"Can there be any scenario where we must use Hibernate.initialize() instead of OpenSessionInViewInterceptor to overcome LazyInitializationException?","body":"<p>We can use Hibernate.initialize() to initialize a lazy-loaded collection. But instead of doing it, we can enable OpenSessionInViewInterceptor and then the lazy-loaded collection can be initialized in the view layer. I know that OpenSessionInViewInterceptor is an anti-pattern. But my question is, can there be any scenario where we must use Hibernate.initialize(), a scenario where enabling OpenSessionInViewInterceptor will not help us in getting rid of LazyInitializationException?</p>\n<p>I think if we fetch an entity which has a lazy-loaded collection in it and then use it for a new GET request, OpenSessionInViewInterceptor won't be able to initialize the collection.</p>\n"},{"tags":["java","spring","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1678077209,"post_id":75647011,"comment_id":133456899,"body_markdown":"What happens if you change the `.all` to `.eq` (or whatever is syntactically correct for Java)? Do you plan to pass more than one value? I also think the `exists` is redundant","body":"What happens if you change the <code>.all</code> to <code>.eq</code> (or whatever is syntactically correct for Java)? Do you plan to pass more than one value? I also think the <code>exists</code> is redundant"},{"owner":{"account_id":26320036,"reputation":43,"user_id":19982166,"display_name":"gantodagee"},"score":0,"creation_date":1678078419,"post_id":75647011,"comment_id":133457023,"body_markdown":"@user20042973 Since I remove `exists`, it works fine! but I don&#39;t understand why result changes.\n\nit&#39;s an `and` condition, and it&#39;s &quot;redundant&quot;, so I don&#39;t think it should have any effect whether or not I remove. so confusing..","body":"@user20042973 Since I remove <code>exists</code>, it works fine! but I don&#39;t understand why result changes.  it&#39;s an <code>and</code> condition, and it&#39;s &quot;redundant&quot;, so I don&#39;t think it should have any effect whether or not I remove. so confusing.."}],"owner":{"account_id":26320036,"reputation":43,"user_id":19982166,"display_name":"gantodagee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678076274,"creation_date":1678076274,"question_id":75647011,"body_markdown":"original documents :\r\n\r\n```lang-json\r\n{\r\n  _id: &#39;test1&#39;,\r\n  arr: [ &#39;111&#39;, &#39;222&#39;, &#39;333&#39;, &#39;333&#39; ]\r\n},\r\n{\r\n  _id: &#39;test2,\r\n  arr: [ &#39;111&#39;, &#39;222&#39;, &#39;333&#39; ]\r\n}\r\n```\r\n\r\nexecuted java code :\r\n\r\n```lang-java\r\nBson filter = Filters.and(Filters.exists(&quot;arr&quot;), Filters.all(&quot;arr&quot;, &quot;333&quot;));\r\nBson bson = Updates.set(&quot;arr.$&quot;, &quot;999&quot;);\r\nUpdateResult result = collection.updateMany(filter, bson);\r\n```\r\n\r\nthe result I expected (even chatGPT responded like this. so more confused) :\r\n\r\n```lang-json\r\n{\r\n  _id: &#39;test1&#39;,\r\n  arr: [ &#39;111&#39;, &#39;222&#39;, &#39;999&#39;, &#39;333&#39; ]\r\n},\r\n{\r\n  _id: &#39;test2,\r\n  arr: [ &#39;111&#39;, &#39;222&#39;, &#39;999&#39; ]\r\n}\r\n```\r\n\r\nactual result :\r\n\r\n```lang-json\r\n{\r\n  _id: &#39;test1&#39;,\r\n  arr: [ &#39;999&#39;, &#39;222&#39;, &#39;333&#39;, &#39;333&#39; ]\r\n},\r\n{\r\n  _id: &#39;test2,\r\n  arr: [ &#39;999&#39;, &#39;222&#39;, &#39;333&#39; ]\r\n}\r\n```\r\n\r\n1. Since filter is only used to specify documents, it has nothing to do with array elements.\r\n   Therefore, regardless of the filter, the first index of the array is changed.\r\n   \\-\\&gt; Do I understand correctly?\r\n\r\n2. So arr.$ always points to the 1st index? then, what&#39;s different from arr.0?\r\n\r\n3. How can I change the element as I expect? of course, reply using mongodb queries instead of java are also welcome.\r\n\r\nMany thanks.","title":"How to update specific element of array at once in MongoDB + Java?","body":"<p>original documents :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  _id: 'test1',\n  arr: [ '111', '222', '333', '333' ]\n},\n{\n  _id: 'test2,\n  arr: [ '111', '222', '333' ]\n}\n</code></pre>\n<p>executed java code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bson filter = Filters.and(Filters.exists(&quot;arr&quot;), Filters.all(&quot;arr&quot;, &quot;333&quot;));\nBson bson = Updates.set(&quot;arr.$&quot;, &quot;999&quot;);\nUpdateResult result = collection.updateMany(filter, bson);\n</code></pre>\n<p>the result I expected (even chatGPT responded like this. so more confused) :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  _id: 'test1',\n  arr: [ '111', '222', '999', '333' ]\n},\n{\n  _id: 'test2,\n  arr: [ '111', '222', '999' ]\n}\n</code></pre>\n<p>actual result :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  _id: 'test1',\n  arr: [ '999', '222', '333', '333' ]\n},\n{\n  _id: 'test2,\n  arr: [ '999', '222', '333' ]\n}\n</code></pre>\n<ol>\n<li><p>Since filter is only used to specify documents, it has nothing to do with array elements.\nTherefore, regardless of the filter, the first index of the array is changed.\n-&gt; Do I understand correctly?</p>\n</li>\n<li><p>So arr.$ always points to the 1st index? then, what's different from arr.0?</p>\n</li>\n<li><p>How can I change the element as I expect? of course, reply using mongodb queries instead of java are also welcome.</p>\n</li>\n</ol>\n<p>Many thanks.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"score":0,"creation_date":1472597099,"post_id":39237978,"comment_id":65813518,"body_markdown":"put some code would be helpful","body":"put some code would be helpful"},{"owner":{"account_id":7484500,"reputation":13,"user_id":5688233,"display_name":"dzoniBravo"},"score":0,"creation_date":1472597492,"post_id":39237978,"comment_id":65813637,"body_markdown":"What code could I put? I think that this is enough for my problem. I cannot import classes from spring framework library. That&#39;s my whole pom.xml, I don&#39;t think that my main class body has to do something with the error because it&#39;s empty...","body":"What code could I put? I think that this is enough for my problem. I cannot import classes from spring framework library. That&#39;s my whole pom.xml, I don&#39;t think that my main class body has to do something with the error because it&#39;s empty..."}],"answers":[{"comments":[{"owner":{"account_id":7484500,"reputation":13,"user_id":5688233,"display_name":"dzoniBravo"},"score":0,"creation_date":1472600100,"post_id":39238491,"comment_id":65814371,"body_markdown":"Thank you! I solved it by deleting maven repository and than running `mvn clean install`.","body":"Thank you! I solved it by deleting maven repository and than running <code>mvn clean install</code>."}],"tags":[],"owner":{"account_id":8751701,"reputation":3543,"user_id":6544712,"accept_rate":50,"display_name":"UserF40"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1472599170,"creation_date":1472599170,"answer_id":39238491,"question_id":39237978,"body_markdown":"[ApplicationContext][1] resides in that package. \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/ApplicationContext.java.\r\n\r\nIn your IDE if you control click on the import statement it should show you which jar it is resolving to. If it isnt run `mvn clean install` which will build and pull dependencies you need\r\n\r\nYour project may not be auto importing maven dependencies so it doesn&#39;t yet resolve.","title":"Can&#39;t import org.springframework.context.ApplicationContext?","body":"<p><a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/ApplicationContext.java.\" rel=\"nofollow\">ApplicationContext</a> resides in that package. </p>\n\n<p>In your IDE if you control click on the import statement it should show you which jar it is resolving to. If it isnt run <code>mvn clean install</code> which will build and pull dependencies you need</p>\n\n<p>Your project may not be auto importing maven dependencies so it doesn't yet resolve.</p>\n"},{"tags":[],"owner":{"account_id":11209676,"reputation":1,"user_id":9491416,"display_name":"Sai Chakradhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617734426,"creation_date":1617734426,"answer_id":66974612,"question_id":39237978,"body_markdown":"Just do maven clean and mavin install and also check for proper dependency","title":"Can&#39;t import org.springframework.context.ApplicationContext?","body":"<p>Just do maven clean and mavin install and also check for proper dependency</p>\n"}],"owner":{"account_id":7484500,"reputation":13,"user_id":5688233,"display_name":"dzoniBravo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39238491,"answer_count":2,"score":1,"last_activity_date":1678074246,"creation_date":1472595714,"question_id":39237978,"body_markdown":"I just started learning Spring and I have problem importing Classes from Spring, please help! I tried almost everything what I found as a solutions, but it was a failure... \r\n\r\n&gt; Error:\r\n&gt; \r\n&gt; The import org.springframework.context.ApplicationContext cannot be\r\n&gt; resolved.\r\n\r\nHere&#39;s my code\r\n\r\n    import org.springframework.context.*; //I can import this\r\n    import org.springframework.context.ApplicationContext; //But I can&#39;t import this\r\n\r\nor\r\n\r\n    import org.springframework.stereotype.*; //I can import this\r\n    import org.springframework.stereotype.Controller; //But I can&#39;t import this\r\n\r\nthis is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        \r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;groupId&gt;helloworld&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hello-world&lt;/artifactId&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      \r\n      \r\n      \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n","title":"Can&#39;t import org.springframework.context.ApplicationContext?","body":"<p>I just started learning Spring and I have problem importing Classes from Spring, please help! I tried almost everything what I found as a solutions, but it was a failure... </p>\n\n<blockquote>\n  <p>Error:</p>\n  \n  <p>The import org.springframework.context.ApplicationContext cannot be\n  resolved.</p>\n</blockquote>\n\n<p>Here's my code</p>\n\n<pre><code>import org.springframework.context.*; //I can import this\nimport org.springframework.context.ApplicationContext; //But I can't import this\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import org.springframework.stereotype.*; //I can import this\nimport org.springframework.stereotype.Controller; //But I can't import this\n</code></pre>\n\n<p>this is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;groupId&gt;helloworld&lt;/groupId&gt;\n  &lt;artifactId&gt;hello-world&lt;/artifactId&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;4.3.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["javascript","java","gwt","gwt-jsinterop","gwt-elemental"],"answers":[{"comments":[{"owner":{"account_id":5796728,"reputation":120,"user_id":4572300,"display_name":"Sandro"},"score":0,"creation_date":1678295763,"post_id":75646870,"comment_id":133506409,"body_markdown":"Perfect! Thank you so much. The Tabulator is a great example (I might even switch to that) and the JsPropertyMap also works like a charm. Complex structures can be built easily by also using JsArray objects. I also found the JsMap class - not quite sure what the difference between it and the JsPropertyMap is though.  I also found this useful: https://vuegwt.github.io/vue-gwt/guide/gwt-integration/js-interop.html","body":"Perfect! Thank you so much. The Tabulator is a great example (I might even switch to that) and the JsPropertyMap also works like a charm. Complex structures can be built easily by also using JsArray objects. I also found the JsMap class - not quite sure what the difference between it and the JsPropertyMap is though.  I also found this useful: <a href=\"https://vuegwt.github.io/vue-gwt/guide/gwt-integration/js-interop.html\" rel=\"nofollow noreferrer\">vuegwt.github.io/vue-gwt/guide/gwt-integration/js-interop.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"score":0,"creation_date":1678403786,"post_id":75646870,"comment_id":133530888,"body_markdown":"The gwt-tabulator project is abandoned.  I am using a local copy where I fixed a few minor things.  It works for tabulator 4.x .  They are on 5 now which is quite different.","body":"The gwt-tabulator project is abandoned.  I am using a local copy where I fixed a few minor things.  It works for tabulator 4.x .  They are on 5 now which is quite different."},{"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"score":0,"creation_date":1678404111,"post_id":75646870,"comment_id":133530930,"body_markdown":"@Sandro Yes I had found that VueGWT page useful also.  I hadn&#39;t heard of JsMap.  Like JsArray it represents the javascript map/array in Java (from the elemental2-core library).  I&#39;m not sure of the pros/cons of JsMap versus JsPropertyMap (from jsinterop-base library)","body":"@Sandro Yes I had found that VueGWT page useful also.  I hadn&#39;t heard of JsMap.  Like JsArray it represents the javascript map/array in Java (from the elemental2-core library).  I&#39;m not sure of the pros/cons of JsMap versus JsPropertyMap (from jsinterop-base library)"}],"tags":[],"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678073954,"creation_date":1678073954,"answer_id":75646870,"question_id":75626462,"body_markdown":"There is a JS library called Tabulator,\r\n\r\nhttps://tabulator.info/docs/4.9/columns\r\n\r\nthat has fairly complex configuration options, and someone did a GWT JsInterop interface for it here:\r\n\r\nhttps://github.com/peruncs/gwt/tree/master/gwt-tabulator/src/main/java/com/peruncs/gwt/tabulator\r\n\r\nHow that was done may have similarities to what you need to do.\r\n\r\nAnother approach is to use ```JsPropertyMap``` objects:  https://github.com/google/jsinterop-base/blob/master/java/jsinterop/base/JsPropertyMap.java","title":"Problem efficiently mapping a native JavaScript library variable parameter API with Elemental2 / GWT?","body":"<p>There is a JS library called Tabulator,</p>\n<p><a href=\"https://tabulator.info/docs/4.9/columns\" rel=\"nofollow noreferrer\">https://tabulator.info/docs/4.9/columns</a></p>\n<p>that has fairly complex configuration options, and someone did a GWT JsInterop interface for it here:</p>\n<p><a href=\"https://github.com/peruncs/gwt/tree/master/gwt-tabulator/src/main/java/com/peruncs/gwt/tabulator\" rel=\"nofollow noreferrer\">https://github.com/peruncs/gwt/tree/master/gwt-tabulator/src/main/java/com/peruncs/gwt/tabulator</a></p>\n<p>How that was done may have similarities to what you need to do.</p>\n<p>Another approach is to use <code>JsPropertyMap</code> objects:  <a href=\"https://github.com/google/jsinterop-base/blob/master/java/jsinterop/base/JsPropertyMap.java\" rel=\"nofollow noreferrer\">https://github.com/google/jsinterop-base/blob/master/java/jsinterop/base/JsPropertyMap.java</a></p>\n"}],"owner":{"account_id":5796728,"reputation":120,"user_id":4572300,"display_name":"Sandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75646870,"answer_count":1,"score":0,"last_activity_date":1678073954,"creation_date":1677842633,"question_id":75626462,"body_markdown":"I want to use a specific native JavaScript library (DataTables) from GWT using Elemental2.\r\nThe initialization API for the library is of the type:\r\n\r\n```\r\n$(&#39;#example&#39;).DataTable({\r\n        paging: false,\r\n        ordering: false,\r\n        info: false,\r\n        columnDefs:\r\n                [\r\n                    { targets: [2,3], orderable: false },\r\n                    { targets: [0], width : &quot;150px&quot; },\r\n                    { targets: [3], width : &quot;90px&quot;}\r\n                ]\r\n    });\r\n```\r\nThe accepted initialisation parameters are quite variable, extensive and optional. \r\n\r\n\r\nThis is how I initially tried to map it - it worked but is quite tedious to implement.\r\n```\r\n@JsType(isNative = true,name = &quot;DataTable&quot;, namespace = JsPackage.GLOBAL)\r\npublic class DataTable\r\n{\r\n    public DataTable(String selector, FeatureOptions options){}\r\n    public native Api clear();\r\n    public native Api draw();\r\n    // and so on...\r\n}\r\n\r\n\r\n@JsType(isNative = true, name = &quot;Object&quot;, namespace = JsPackage.GLOBAL)\r\npublic class FeatureOptions\r\n{\r\n    public String  scrollY;\r\n    public boolean scrollCollapse;\r\n    public boolean paging;\r\n    public boolean searching;\r\n    // and so on...\r\n}\r\n\r\n```\r\n\r\nAt some point I ended up reverting to JSNI.... especially because of the complex type &quot;columnDefs&quot; (it would have required a lot of additional classes).\r\n\r\n```\r\npublic native void drawTable(String tableID)/*-{\r\n        var table = $wnd.$(&#39;#&#39;+tableID).DataTable({\r\n                searching : false,\r\n                &quot;columnDefs&quot;:\r\n                [\r\n                    { targets: [2,3], orderable: false },\r\n                    { targets: [0], &quot;width&quot; : &quot;150px&quot; },\r\n                    { targets: [3], &quot;width&quot; : &quot;90px&quot;}\r\n                ]\r\n            });\r\n    }-*/;\r\n```\r\n\r\nAm I missing an obvious simple and efficient way to generate pure Elemental2 based Java code to implement such native interfaces? E.g. could I use some sort of Map to populate just the parameters I need and pass it as a JSON String or something?\r\n\r\nFor reference some useful question/answers - none that fit though:\r\n(https://stackoverflow.com/questions/60062698/gwt-using-a-java-bean-parameter-directly-in-a-native-method)\r\n(https://stackoverflow.com/questions/32905027/use-third-party-javascript-library-with-window-references-in-gwt)\r\n\r\n","title":"Problem efficiently mapping a native JavaScript library variable parameter API with Elemental2 / GWT?","body":"<p>I want to use a specific native JavaScript library (DataTables) from GWT using Elemental2.\nThe initialization API for the library is of the type:</p>\n<pre><code>$('#example').DataTable({\n        paging: false,\n        ordering: false,\n        info: false,\n        columnDefs:\n                [\n                    { targets: [2,3], orderable: false },\n                    { targets: [0], width : &quot;150px&quot; },\n                    { targets: [3], width : &quot;90px&quot;}\n                ]\n    });\n</code></pre>\n<p>The accepted initialisation parameters are quite variable, extensive and optional.</p>\n<p>This is how I initially tried to map it - it worked but is quite tedious to implement.</p>\n<pre><code>@JsType(isNative = true,name = &quot;DataTable&quot;, namespace = JsPackage.GLOBAL)\npublic class DataTable\n{\n    public DataTable(String selector, FeatureOptions options){}\n    public native Api clear();\n    public native Api draw();\n    // and so on...\n}\n\n\n@JsType(isNative = true, name = &quot;Object&quot;, namespace = JsPackage.GLOBAL)\npublic class FeatureOptions\n{\n    public String  scrollY;\n    public boolean scrollCollapse;\n    public boolean paging;\n    public boolean searching;\n    // and so on...\n}\n\n</code></pre>\n<p>At some point I ended up reverting to JSNI.... especially because of the complex type &quot;columnDefs&quot; (it would have required a lot of additional classes).</p>\n<pre><code>public native void drawTable(String tableID)/*-{\n        var table = $wnd.$('#'+tableID).DataTable({\n                searching : false,\n                &quot;columnDefs&quot;:\n                [\n                    { targets: [2,3], orderable: false },\n                    { targets: [0], &quot;width&quot; : &quot;150px&quot; },\n                    { targets: [3], &quot;width&quot; : &quot;90px&quot;}\n                ]\n            });\n    }-*/;\n</code></pre>\n<p>Am I missing an obvious simple and efficient way to generate pure Elemental2 based Java code to implement such native interfaces? E.g. could I use some sort of Map to populate just the parameters I need and pass it as a JSON String or something?</p>\n<p>For reference some useful question/answers - none that fit though:\n(<a href=\"https://stackoverflow.com/questions/60062698/gwt-using-a-java-bean-parameter-directly-in-a-native-method\">GWT - Using a java bean parameter directly in a native method</a>)\n(<a href=\"https://stackoverflow.com/questions/32905027/use-third-party-javascript-library-with-window-references-in-gwt\">Use third party javascript library (with window references) in GWT</a>)</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"score":0,"creation_date":1678159828,"post_id":75646789,"comment_id":133475413,"body_markdown":"Thank you very much. That solved part of my problem.\nBy the way, just a little observation. Instead of \n`{\n    &quot;Items&quot;: {\n        &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]\n    }\n`}\n\nI am getting\n\n`{\n    {\n        &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]\n    },\n\t{\n        &quot;456&quot;: [&quot;ITEM4&quot;, &quot;ITEM5&quot;, &quot;ITEM6&quot;]\n    },\n`}","body":"Thank you very much. That solved part of my problem. By the way, just a little observation. Instead of  <code>{     &quot;Items&quot;: {         &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]     } </code>}  I am getting  <code>{     {         &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]     }, \t{         &quot;456&quot;: [&quot;ITEM4&quot;, &quot;ITEM5&quot;, &quot;ITEM6&quot;]     }, </code>}"},{"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"score":0,"creation_date":1678159988,"post_id":75646789,"comment_id":133475429,"body_markdown":"How do I format it with expected response shown in question details?","body":"How do I format it with expected response shown in question details?"}],"tags":[],"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678073302,"creation_date":1678072656,"answer_id":75646789,"question_id":75646680,"body_markdown":"I don&#39;t believe you need to block or subscribe; you&#39;re constructing a data pipe; you can let your controller receive and forward a Mono or Flux.\r\n\r\nThe block() function explicitly locks the main thread until the publisher is finished. By the time it&#39;s finished, the call has been executed, resulting in the value being printed.\r\n\r\nThe subscribe() method, on the other hand, executes Mono asynchronously on a separate scheduler, leaving your main thread to finish. Because the default scheduler uses daemon threads to execute your subscription, your program will not wait for it to finish before terminating.\r\n\r\nBecause the WebClient request is non-blocking and returns a Mono that completes asynchronously, the map is empty. As a result, when the method returns the Map, the Mono may not yet be finished.\r\n\r\nYou can have something like this:\r\n```\r\npublic Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; getShipment(List&lt;String&gt; orderNums) {\r\n    final String endpointUrl = &quot;/the-path&quot;;\r\n    final String queryParameter = &quot;thequeryparam&quot;;\r\n\r\n    return Flux.fromIterable(orderNums)\r\n            .flatMap(orderNo -&gt; this.client.get()\r\n                    .uri(uriBuilder -&gt; uriBuilder.path(endpointUrl).queryParam(queryParameter, orderNo).build())\r\n                    .retrieve().bodyToMono(new ParameterizedTypeReference&lt;List&lt;String&gt;&gt;() {})\r\n                    .map(items -&gt; Map.of(orderNo, items)));\r\n}\r\n```\r\n\r\nThat is collected by a controller:\r\n```\r\n@RestController\r\npublic class ShipmentController {\r\n\r\n    private final ShipmentService shipmentService;\r\n\r\n    public ShipmentController(ShipmentService shipmentService) {\r\n        this.shipmentService = shipmentService;\r\n    }\r\n\r\n    @GetMapping(&quot;/shipments&quot;)\r\n    public Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; getShipments(@RequestParam List&lt;String&gt; orderNums) {\r\n        return this.shipmentService.getShipment(orderNums);\r\n    }\r\n}\r\n```\r\n\r\nThe controller simply returns this Flux to the client, which subscribes to the stream and receives the maps as they become available.\r\n","title":"Spring WebFlux When populating Mono List&lt;String&gt; to a Map, map is always empty","body":"<p>I don't believe you need to block or subscribe; you're constructing a data pipe; you can let your controller receive and forward a Mono or Flux.</p>\n<p>The block() function explicitly locks the main thread until the publisher is finished. By the time it's finished, the call has been executed, resulting in the value being printed.</p>\n<p>The subscribe() method, on the other hand, executes Mono asynchronously on a separate scheduler, leaving your main thread to finish. Because the default scheduler uses daemon threads to execute your subscription, your program will not wait for it to finish before terminating.</p>\n<p>Because the WebClient request is non-blocking and returns a Mono that completes asynchronously, the map is empty. As a result, when the method returns the Map, the Mono may not yet be finished.</p>\n<p>You can have something like this:</p>\n<pre><code>public Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; getShipment(List&lt;String&gt; orderNums) {\n    final String endpointUrl = &quot;/the-path&quot;;\n    final String queryParameter = &quot;thequeryparam&quot;;\n\n    return Flux.fromIterable(orderNums)\n            .flatMap(orderNo -&gt; this.client.get()\n                    .uri(uriBuilder -&gt; uriBuilder.path(endpointUrl).queryParam(queryParameter, orderNo).build())\n                    .retrieve().bodyToMono(new ParameterizedTypeReference&lt;List&lt;String&gt;&gt;() {})\n                    .map(items -&gt; Map.of(orderNo, items)));\n}\n</code></pre>\n<p>That is collected by a controller:</p>\n<pre><code>@RestController\npublic class ShipmentController {\n\n    private final ShipmentService shipmentService;\n\n    public ShipmentController(ShipmentService shipmentService) {\n        this.shipmentService = shipmentService;\n    }\n\n    @GetMapping(&quot;/shipments&quot;)\n    public Flux&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; getShipments(@RequestParam List&lt;String&gt; orderNums) {\n        return this.shipmentService.getShipment(orderNums);\n    }\n}\n</code></pre>\n<p>The controller simply returns this Flux to the client, which subscribes to the stream and receives the maps as they become available.</p>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75646789,"answer_count":1,"score":1,"last_activity_date":1678073302,"creation_date":1678070792,"question_id":75646680,"body_markdown":"I am new to Spring Web Flux. I read online that eventually, `WebClient` will be used over `RestTemplate`.\r\n\r\nI am trying to populate the contents of a List that is returned by `WebClient` to a `Map`. \r\nHowever, it is always blank or empty.\r\n\r\nI saw some posts which talks about not using `block()` method. So, I use `subscribe()`\r\n\r\nWhat is the correct way of doing this? I am certain that the endpoint should return a response because I tested it.\r\n\r\n\tpublic Map&lt;String, List&lt;String&gt;&gt; getShipment(List&lt;String&gt; orderNums) {\r\n\t\tParameterizedTypeReference&lt;List&lt;String&gt;&gt; MAP_TYPE_REF = new ParameterizedTypeReference&lt;&gt;() {\r\n\t\t};\r\n\t\tfinal String endpointUrl = &quot;/the-path&quot;;\r\n\t\tfinal String queryParameter = &quot;thequeryparam&quot;;\r\n\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (String orderNo : orderNums) {\r\n\t\t\tMono&lt;List&lt;String&gt;&gt; monoList = this.client.get()\r\n\t\t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(endpointUrl).queryParam(queryParameter, orderNo).build())\r\n\t\t\t\t\t.retrieve().bodyToMono(MAP_TYPE_REF);\r\n\t\t\tmonoList.subscribe(list -&gt; map.put(orderNo, list));\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t}\r\n\r\nThe method expects a list of order numbers `List&lt;String&gt; orderNums` where I need to loop through.\r\n\r\nResponse expected is \r\n\r\n    {\r\n \t\t&quot;Items&quot;: {\r\n \t\t\t&quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]\r\n   \t\t}\r\n   \t}\r\n\r\nThank you.","title":"Spring WebFlux When populating Mono List&lt;String&gt; to a Map, map is always empty","body":"<p>I am new to Spring Web Flux. I read online that eventually, <code>WebClient</code> will be used over <code>RestTemplate</code>.</p>\n<p>I am trying to populate the contents of a List that is returned by <code>WebClient</code> to a <code>Map</code>.\nHowever, it is always blank or empty.</p>\n<p>I saw some posts which talks about not using <code>block()</code> method. So, I use <code>subscribe()</code></p>\n<p>What is the correct way of doing this? I am certain that the endpoint should return a response because I tested it.</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; getShipment(List&lt;String&gt; orderNums) {\n    ParameterizedTypeReference&lt;List&lt;String&gt;&gt; MAP_TYPE_REF = new ParameterizedTypeReference&lt;&gt;() {\n    };\n    final String endpointUrl = &quot;/the-path&quot;;\n    final String queryParameter = &quot;thequeryparam&quot;;\n\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n    for (String orderNo : orderNums) {\n        Mono&lt;List&lt;String&gt;&gt; monoList = this.client.get()\n                .uri(uriBuilder -&gt; uriBuilder.path(endpointUrl).queryParam(queryParameter, orderNo).build())\n                .retrieve().bodyToMono(MAP_TYPE_REF);\n        monoList.subscribe(list -&gt; map.put(orderNo, list));\n    }\n\n    return map;\n}\n</code></pre>\n<p>The method expects a list of order numbers <code>List&lt;String&gt; orderNums</code> where I need to loop through.</p>\n<p>Response expected is</p>\n<pre><code>{\n    &quot;Items&quot;: {\n        &quot;123&quot;: [&quot;ITEM1&quot;, &quot;ITEM2&quot;, &quot;ITEM3&quot;]\n    }\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677664597,"post_id":75601841,"comment_id":133380850,"body_markdown":"There’s no sense in inserting `.collect(Collectors.toList()).stream()` in the middle of a Stream. Remove it and the code still does the same, except for not wasting resources to fill an ephemeral list. The second `.collect(Collectors.toList())` also leads to nowhere. You do not want a list but summing an int, so why are so obsessed with collecting into a list?","body":"There’s no sense in inserting <code>.collect(Collectors.toList()).stream()</code> in the middle of a Stream. Remove it and the code still does the same, except for not wasting resources to fill an ephemeral list. The second <code>.collect(Collectors.toList())</code> also leads to nowhere. You do not want a list but summing an int, so why are so obsessed with collecting into a list?"},{"owner":{"account_id":8067887,"reputation":696,"user_id":6081475,"display_name":"emish89"},"score":0,"creation_date":1677666395,"post_id":75601841,"comment_id":133381349,"body_markdown":"Hi @Holger, you are totally right. I am aware that this was not the right direction and thats why I asked here :)","body":"Hi @Holger, you are totally right. I am aware that this was not the right direction and thats why I asked here :)"}],"answers":[{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677664544,"creation_date":1677664544,"answer_id":75602079,"question_id":75601841,"body_markdown":"You can try it like this:\r\n\r\n\tstatic class ClassC {\r\n\t  Map&lt;String, ClassB&gt; content;\r\n\t}\r\n\tstatic class ClassB {\r\n\t  Map&lt;String, ClassA&gt; content;\r\n\t}\r\n\tstatic class ClassA {\r\n\t int value;\r\n\t}\r\n\r\n\t\r\n\tpublic static void main (String[] args){\r\n\r\n\t\tList&lt;ClassC&gt; listC = null; // needs to be initialized properly\r\n\r\n\t\tint sumOfValues = listC.stream().flatMap(c -&gt; c.content.values().stream()).flatMap(b -&gt; b.content.values().stream()).mapToInt(a -&gt; a.value).sum();\r\n\t}","title":"Java 8+ streams - from Map&lt;String, Object&gt; that contains other maps to count of total objects","body":"<p>You can try it like this:</p>\n<pre><code>static class ClassC {\n  Map&lt;String, ClassB&gt; content;\n}\nstatic class ClassB {\n  Map&lt;String, ClassA&gt; content;\n}\nstatic class ClassA {\n int value;\n}\n\n\npublic static void main (String[] args){\n\n    List&lt;ClassC&gt; listC = null; // needs to be initialized properly\n\n    int sumOfValues = listC.stream().flatMap(c -&gt; c.content.values().stream()).flatMap(b -&gt; b.content.values().stream()).mapToInt(a -&gt; a.value).sum();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677664953,"post_id":75602129,"comment_id":133380953,"body_markdown":"&quot;*A Stream is not a collection, you can&#39;t iterate it*&quot; I don&#39;t agree with this. It&#39;s still iteration. It&#39;s just declarative rather than imperative. You can even create a Stream with a method *called* iterate.","body":"&quot;<i>A Stream is not a collection, you can&#39;t iterate it</i>&quot; I don&#39;t agree with this. It&#39;s still iteration. It&#39;s just declarative rather than imperative. You can even create a Stream with a method <i>called</i> iterate."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1677665909,"post_id":75602129,"comment_id":133381223,"body_markdown":"@Michael Even then it&#39;s not a collection and you are not iterating it. The docs for `Stream.iterate()` state - `Returns a ... Stream produced by iterative application of the given next function to an initial element ...`. The next function is applied iteratively on the previous element to **generate** the next one.","body":"@Michael Even then it&#39;s not a collection and you are not iterating it. The docs for <code>Stream.iterate()</code> state - <code>Returns a ... Stream produced by iterative application of the given next function to an initial element ...</code>. The next function is applied iteratively on the previous element to <b>generate</b> the next one."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677666149,"post_id":75602129,"comment_id":133381281,"body_markdown":"If you want get into semantics, a Collection is not the only thing you can iterate. An Iterable is. In any case, you *are* iterating the elements when you use a stream. You are just not necessarily iterating *all* of the elements, depending on the terminal operation. What is your definition of &quot;iterate&quot;? Because it seems non-standard.","body":"If you want get into semantics, a Collection is not the only thing you can iterate. An Iterable is. In any case, you <i>are</i> iterating the elements when you use a stream. You are just not necessarily iterating <i>all</i> of the elements, depending on the terminal operation. What is your definition of &quot;iterate&quot;? Because it seems non-standard."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1677668181,"post_id":75602129,"comment_id":133381853,"body_markdown":"But a Stream is not an Iterable. I am not trying to get into semantics war, but probably can&#39;t express my thought correctly. What i was trying to say is this - `No storage. A stream is not a data structure that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.` Quoted from the package summary. In my understanding that&#39;s not exactly an iteration, at least not in the same way an Iterable is iterated. Might be wrong though.","body":"But a Stream is not an Iterable. I am not trying to get into semantics war, but probably can&#39;t express my thought correctly. What i was trying to say is this - <code>No storage. A stream is not a data structure that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I&#47;O channel, through a pipeline of computational operations.</code> Quoted from the package summary. In my understanding that&#39;s not exactly an iteration, at least not in the same way an Iterable is iterated. Might be wrong though."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677668857,"post_id":75602129,"comment_id":133382015,"body_markdown":"It&#39;s certainly not something which stores elements, but then neither is an Iterator (at least for most practical implementations, it&#39;s a pointer). Would you say &quot;An Iterator is not a collection, you can&#39;t iterate it&quot;? I&#39;d say &quot;[conveyance] through a pipeline of computational operations&quot; is basically what iteration is.","body":"It&#39;s certainly not something which stores elements, but then neither is an Iterator (at least for most practical implementations, it&#39;s a pointer). Would you say &quot;An Iterator is not a collection, you can&#39;t iterate it&quot;? I&#39;d say &quot;[conveyance] through a pipeline of computational operations&quot; is basically what iteration is."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677669437,"post_id":75602129,"comment_id":133382168,"body_markdown":"&quot;*I am not trying to get into semantics war*&quot; No, me neither. Mainly what I&#39;m trying to express is that I think your first sentence is bad advice, at least for how I personally think of streams. I do think of them as a form of iteration. The main difference compared with a traditional for-loop, as far as I&#39;m concerned, is how you express how the iteration will happen: declaratively vs imperatively.","body":"&quot;<i>I am not trying to get into semantics war</i>&quot; No, me neither. Mainly what I&#39;m trying to express is that I think your first sentence is bad advice, at least for how I personally think of streams. I do think of them as a form of iteration. The main difference compared with a traditional for-loop, as far as I&#39;m concerned, is how you express how the iteration will happen: declaratively vs imperatively."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677682909,"creation_date":1677664802,"answer_id":75602129,"question_id":75601841,"body_markdown":"It looks to me you are looking for [Stream.flatMap()][2]:\r\n\r\n&gt; Returns a stream consisting of the results of replacing each element of this stream with the contents of a mapped stream produced by applying the provided mapping function to each element.\r\n\r\n&gt; The flatMap() operation has the effect of applying a one-to-many transformation to the elements of the stream, and then flattening the resulting elements into a new stream.\r\n\r\nExample:\r\n```\r\nint sum = list.stream()\r\n            .flatMap(c -&gt; c.getMap().values().stream()) //map to stream of B&#39;s\r\n            .flatMap(b -&gt; b.getMap().values().stream()) //map to stream of A&#39;s\r\n            .mapToInt(A::getValue) //map to IntStream of the values\r\n            .sum();\r\n```\r\n\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-","title":"Java 8+ streams - from Map&lt;String, Object&gt; that contains other maps to count of total objects","body":"<p>It looks to me you are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">Stream.flatMap()</a>:</p>\n<blockquote>\n<p>Returns a stream consisting of the results of replacing each element of this stream with the contents of a mapped stream produced by applying the provided mapping function to each element.</p>\n</blockquote>\n<blockquote>\n<p>The flatMap() operation has the effect of applying a one-to-many transformation to the elements of the stream, and then flattening the resulting elements into a new stream.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>int sum = list.stream()\n            .flatMap(c -&gt; c.getMap().values().stream()) //map to stream of B's\n            .flatMap(b -&gt; b.getMap().values().stream()) //map to stream of A's\n            .mapToInt(A::getValue) //map to IntStream of the values\n            .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7338958,"reputation":1,"user_id":5589300,"display_name":"user2015"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678036697,"creation_date":1678036595,"answer_id":75644019,"question_id":75601841,"body_markdown":"As others have suggested, we can use flatMap and solve this in a easy way.\r\n\r\n\r\n    int sumOfValues = listC.stream() // Stream&lt;C&gt;\r\n                .flatMap(c -&gt; c.map.values().stream()) // Stream&lt;B&gt;\r\n                .flatMap(b -&gt; b.map.values().stream()) // Stream&lt;A&gt;\r\n                .mapToInt(a -&gt; a.value) // stream of map to IntStream \r\n                .sum();\r\n\r\n\r\nThe other way to write the last two step which seems more readable for a beginner \r\n\r\n                listC.stream()\r\n                .flatMap(c1 -&gt; c1.map.values().stream())\r\n                .flatMap(b1 -&gt; b1.map.values().stream())\r\n                .collect(Collectors.summingInt(a -&gt; a.value))","title":"Java 8+ streams - from Map&lt;String, Object&gt; that contains other maps to count of total objects","body":"<p>As others have suggested, we can use flatMap and solve this in a easy way.</p>\n<pre><code>int sumOfValues = listC.stream() // Stream&lt;C&gt;\n            .flatMap(c -&gt; c.map.values().stream()) // Stream&lt;B&gt;\n            .flatMap(b -&gt; b.map.values().stream()) // Stream&lt;A&gt;\n            .mapToInt(a -&gt; a.value) // stream of map to IntStream \n            .sum();\n</code></pre>\n<p>The other way to write the last two step which seems more readable for a beginner</p>\n<pre><code>            listC.stream()\n            .flatMap(c1 -&gt; c1.map.values().stream())\n            .flatMap(b1 -&gt; b1.map.values().stream())\n            .collect(Collectors.summingInt(a -&gt; a.value))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27868102,"reputation":34,"user_id":21279235,"display_name":"LQF-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678072018,"creation_date":1678071942,"answer_id":75646744,"question_id":75601841,"body_markdown":"  Here is my answer:\r\n   \r\n    Integer result = C_list.stream()\r\n       .flatMap(s -&gt; s.getC_map().values().stream()) \r\n       .flatMap(s -&gt; s.getB_map().values().stream())\r\n       .map(A -&gt; A.getValue())\r\n       .reduce(0, Integer::sum);","title":"Java 8+ streams - from Map&lt;String, Object&gt; that contains other maps to count of total objects","body":"<p>Here is my answer:</p>\n<pre><code>Integer result = C_list.stream()\n   .flatMap(s -&gt; s.getC_map().values().stream()) \n   .flatMap(s -&gt; s.getB_map().values().stream())\n   .map(A -&gt; A.getValue())\n   .reduce(0, Integer::sum);\n</code></pre>\n"}],"owner":{"account_id":8067887,"reputation":696,"user_id":6081475,"display_name":"emish89"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75602129,"answer_count":4,"score":1,"last_activity_date":1678072018,"creation_date":1677663324,"question_id":75601841,"body_markdown":"I&#39;m here to ask a question related to streams. \r\nI have a list of ```class C```  in a structure like that:\r\n``` \r\nlist&lt;C&gt; listC \r\n\r\nclass C {\r\n  Map&lt;String, ClassB&gt;\r\n}\r\nclassB {\r\n  Map&lt;String, ClassA&gt;\r\n}\r\nclassA {\r\n int value;\r\n}\r\n\r\nint sumOfValues = ?\r\n``` \r\n\r\nMy aim is to understand the best way possible to have the sum of all the values, iterating maps with streams.\r\n\r\nI know how to do it with a normal loop or a forEach structure, but I&#39;m not totally sure on how to best perform this operation through streams.\r\n\r\nI tried something like :\r\n```\r\nlistC.stream().map(C::getMap).collect(Collectors.toList()).stream()\r\n\t\t\t\t\t.map(m -&gt; m.values().stream().collect(Collectors.toList()))\r\n```\r\nBut I don&#39;t think is the right path...\r\n\r\nCan someone help me understanding the best way to iterate list of Map structures?\r\nThanks a lot","title":"Java 8+ streams - from Map&lt;String, Object&gt; that contains other maps to count of total objects","body":"<p>I'm here to ask a question related to streams.\nI have a list of <code>class C</code>  in a structure like that:</p>\n<pre><code>list&lt;C&gt; listC \n\nclass C {\n  Map&lt;String, ClassB&gt;\n}\nclassB {\n  Map&lt;String, ClassA&gt;\n}\nclassA {\n int value;\n}\n\nint sumOfValues = ?\n</code></pre>\n<p>My aim is to understand the best way possible to have the sum of all the values, iterating maps with streams.</p>\n<p>I know how to do it with a normal loop or a forEach structure, but I'm not totally sure on how to best perform this operation through streams.</p>\n<p>I tried something like :</p>\n<pre><code>listC.stream().map(C::getMap).collect(Collectors.toList()).stream()\n                    .map(m -&gt; m.values().stream().collect(Collectors.toList()))\n</code></pre>\n<p>But I don't think is the right path...</p>\n<p>Can someone help me understanding the best way to iterate list of Map structures?\nThanks a lot</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","http-status-code-404"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677596547,"post_id":75593590,"comment_id":133366855,"body_markdown":"please post your full debug logs from the startup of the service and a request","body":"please post your full debug logs from the startup of the service and a request"},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677596677,"post_id":75593590,"comment_id":133366895,"body_markdown":"@Toerktumlare added the screen run view","body":"@Toerktumlare added the screen run view"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677603993,"post_id":75593590,"comment_id":133369293,"body_markdown":"The answer by Paul_K is correct. `name` is not the appropriate annotation element to set the path. Either use `value` or `path`, which are synonyms.","body":"The answer by Paul_K is correct. <code>name</code> is not the appropriate annotation element to set the path. Either use <code>value</code> or <code>path</code>, which are synonyms."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1677612358,"post_id":75593590,"comment_id":133371517,"body_markdown":"for future questions @GianniSpear i asked for full logs, not just a selected section by you. i dont want your interpretation of the logs. For instance, i wanted to see in your logs if your endpoints where registered during startup, but you decided to just post what you thought was relevant, which does not contain what i wanted to read. So when we ask for full logs, we want full logs.","body":"for future questions @GianniSpear i asked for full logs, not just a selected section by you. i dont want your interpretation of the logs. For instance, i wanted to see in your logs if your endpoints where registered during startup, but you decided to just post what you thought was relevant, which does not contain what i wanted to read. So when we ask for full logs, we want full logs."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1678036619,"post_id":75593590,"comment_id":133451209,"body_markdown":"After fixing the `name` vs `path` element issue, you&#39;&#39;re likely dealing with https://stackoverflow.com/questions/75573888/whitelabel-error-page-when-making-get-request","body":"After fixing the <code>name</code> vs <code>path</code> element issue, you&#39;&#39;re likely dealing with <a href=\"https://stackoverflow.com/questions/75573888/whitelabel-error-page-when-making-get-request\" title=\"whitelabel error page when making get request\">stackoverflow.com/questions/75573888/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"score":0,"creation_date":1692575428,"post_id":75595550,"comment_id":135638022,"body_markdown":"Thank you, it indeed was the problem, because I forgot to write `path` in the `@GetMapping`, which led to a 404 error.","body":"Thank you, it indeed was the problem, because I forgot to write <code>path</code> in the <code>@GetMapping</code>, which led to a 404 error."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677606092,"creation_date":1677606092,"answer_id":75595550,"question_id":75593590,"body_markdown":"The `name` attribute in both `@RequestMapping` and `@GetMapping` just configure the name of the mapping. It is nothing related to the API path. You should use `path` or `value` instead : \r\n\r\n``` java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class ModelMockerController {\r\n\r\n    @GetMapping(&quot;/mock&quot;)\r\n    public String hello(){\r\n        return &quot;Hello&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nor \r\n\r\n``` java\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1&quot;)\r\npublic class ModelMockerController {\r\n\r\n    @GetMapping(path = &quot;/mock&quot;)\r\n    public String hello(){\r\n        return &quot;Hello&quot;;\r\n    }\r\n}\r\n\r\n```","title":"REST Controller Not found in Spring Boot 3.0.3 applications. I did not find any good solutions","body":"<p>The <code>name</code> attribute in both <code>@RequestMapping</code> and <code>@GetMapping</code> just configure the name of the mapping. It is nothing related to the API path. You should use <code>path</code> or <code>value</code> instead :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class ModelMockerController {\n\n    @GetMapping(&quot;/mock&quot;)\n    public String hello(){\n        return &quot;Hello&quot;;\n    }\n}\n\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(path = &quot;/api/v1&quot;)\npublic class ModelMockerController {\n\n    @GetMapping(path = &quot;/mock&quot;)\n    public String hello(){\n        return &quot;Hello&quot;;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22960251,"reputation":1,"user_id":17090235,"display_name":"Mohamed Rostom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677928048,"creation_date":1677928048,"answer_id":75635247,"question_id":75593590,"body_markdown":"Try initializing the project with Spring version 3.0.4.\r\n\r\nI had the same problem for 2 days, and it worked when I used Spring version 3.0.4, so I guess Spring version 3.0.3 has a bug or something.\r\n\r\nI hope it works out for you.","title":"REST Controller Not found in Spring Boot 3.0.3 applications. I did not find any good solutions","body":"<p>Try initializing the project with Spring version 3.0.4.</p>\n<p>I had the same problem for 2 days, and it worked when I used Spring version 3.0.4, so I guess Spring version 3.0.3 has a bug or something.</p>\n<p>I hope it works out for you.</p>\n"}],"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1774,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1678068722,"creation_date":1677595626,"question_id":75593590,"body_markdown":"I have a small toy example with spring boot 3.0.3. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThese are my two simple classes:\r\n\r\n    package org.crea.water4agrifoodmock;\r\n    \r\n    import org.crea.water4agrifoodmock.controller.ModelMockerController;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    // added this @SpringBootApplication(scanBasePackages = {&quot;org.crea.water4agrifoodmock&quot;, &quot;org.crea.water4agrifoodmock.controller&quot;}) but without valid result\r\n    @SpringBootApplication\r\n    public class Water4AgriFoodMockApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(\r\n    \t\t\t\tWater4AgriFoodMockApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nand the controller:\r\n\r\n    package org.crea.water4agrifoodmock.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(name = &quot;/api/v1&quot;)\r\n    public class ModelMockerController {\r\n    \r\n        @GetMapping(name = &quot;/mock&quot;)\r\n        public String hello(){\r\n            return &quot;Hello&quot;;\r\n        }\r\n    }\r\n\r\nThe best practice is to place the Main Application class at the root of your project. This way, it will automatically scan and find the Controller class which are available in a sub-package. For example, here is a package structure that works in this [page][2]:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI got this error message in Postman:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nmy pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;org.crea&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;water4agrifood-mock&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;water4agrifood-mock&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project water4agrifood-mockSpring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis the run view\r\n\r\n \r\n\r\n    .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.3)\r\n    \r\n    2023-02-28T16:17:47.705+01:00  INFO 15268 --- [           main] o.c.w.Water4AgriFoodMockApplication      : Starting Water4AgriFoodMockApplication using Java 19.0.1 with PID 15268 (C:\\Users\\*****\\spring-boot-water4agrifood-model-mocker\\water4agrifood-mock\\target\\classes started by ***** in C:\\Users\\*****\\spring-boot-water4agrifood-model-mocker\\water4agrifood-mock)\r\n    2023-02-28T16:17:47.708+01:00  INFO 15268 --- [           main] o.c.w.Water4AgriFoodMockApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-02-28T16:17:48.409+01:00  INFO 15268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-02-28T16:17:48.416+01:00  INFO 15268 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-02-28T16:17:48.416+01:00  INFO 15268 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n    2023-02-28T16:17:48.489+01:00  INFO 15268 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-02-28T16:17:48.490+01:00  INFO 15268 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 737 ms\r\n    2023-02-28T16:17:48.658+01:00 DEBUG 15268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\r\n    2023-02-28T16:17:48.721+01:00 DEBUG 15268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in &#39;requestMappingHandlerMapping&#39;\r\n    2023-02-28T16:17:48.733+01:00 DEBUG 15268 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in &#39;resourceHandlerMapping&#39;\r\n    2023-02-28T16:17:48.738+01:00 DEBUG 15268 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\r\n    2023-02-28T16:17:48.792+01:00  INFO 15268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-02-28T16:17:48.799+01:00  INFO 15268 --- [           main] o.c.w.Water4AgriFoodMockApplication      : Started Water4AgriFoodMockApplication in 1.427 seconds (process running for 1.927)\r\n    2023-02-28T16:17:53.490+01:00  INFO 15268 --- [nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-02-28T16:17:53.490+01:00  INFO 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n    2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n    2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n    2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6deaf644\r\n    2023-02-28T16:17:53.491+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@57d613cd\r\n    2023-02-28T16:17:53.491+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n    2023-02-28T16:17:53.491+01:00  INFO 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2023-02-28T16:17:53.497+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/mock&quot;, parameters={}\r\n    2023-02-28T16:17:53.508+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2023-02-28T16:17:53.515+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2023-02-28T16:17:53.516+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2023-02-28T16:17:53.520+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2023-02-28T16:17:53.521+01:00 DEBUG 15268 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    2023-02-28T16:17:53.541+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json]\r\n    2023-02-28T16:17:53.543+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Feb 28 16:17:53 CET 2023, status=404, error=Not Found, path=/api/v1/mock}]\r\n    2023-02-28T16:17:53.571+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\n  [1]: https://i.stack.imgur.com/ZsRWa.png\r\n  [2]: http://www.masterspringboot.com/web/rest-services/rest-controller-not-found-in-spring-boot-applications-how-to-solve-it/\r\n  [3]: https://i.stack.imgur.com/otnX1.png\r\n  [4]: https://i.stack.imgur.com/XOfJk.png\r\n\r\nAfter adding `logging.level.root=DEBUG` (just some parts)\r\n\r\n    javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1079) ~[na:na]\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:637) ~[na:na]\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:679) ~[na:na]\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1449) ~[na:na]\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[na:na]\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[na:na]\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.getAttribute(RMIConnectionImpl.java:639) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399) ~[na:na]\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n\r\n\r\n    2023-02-28T16:44:36.181+01:00 DEBUG 14952 --- [           main] _.s.web.servlet.HandlerMapping.Mappings  : \r\n    \to.s.b.a.w.s.e.BasicErrorController:\r\n    \t{ [/error]}: error(HttpServletRequest)\r\n    \t{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"REST Controller Not found in Spring Boot 3.0.3 applications. I did not find any good solutions","body":"<p>I have a small toy example with spring boot 3.0.3.</p>\n<p><a href=\"https://i.stack.imgur.com/ZsRWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZsRWa.png\" alt=\"enter image description here\" /></a></p>\n<p>These are my two simple classes:</p>\n<pre><code>package org.crea.water4agrifoodmock;\n\nimport org.crea.water4agrifoodmock.controller.ModelMockerController;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n// added this @SpringBootApplication(scanBasePackages = {&quot;org.crea.water4agrifoodmock&quot;, &quot;org.crea.water4agrifoodmock.controller&quot;}) but without valid result\n@SpringBootApplication\npublic class Water4AgriFoodMockApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(\n                Water4AgriFoodMockApplication.class, args);\n    }\n}\n</code></pre>\n<p>and the controller:</p>\n<pre><code>package org.crea.water4agrifoodmock.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(name = &quot;/api/v1&quot;)\npublic class ModelMockerController {\n\n    @GetMapping(name = &quot;/mock&quot;)\n    public String hello(){\n        return &quot;Hello&quot;;\n    }\n}\n</code></pre>\n<p>The best practice is to place the Main Application class at the root of your project. This way, it will automatically scan and find the Controller class which are available in a sub-package. For example, here is a package structure that works in this <a href=\"http://www.masterspringboot.com/web/rest-services/rest-controller-not-found-in-spring-boot-applications-how-to-solve-it/\" rel=\"nofollow noreferrer\">page</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/otnX1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/otnX1.png\" alt=\"enter image description here\" /></a></p>\n<p>I got this error message in Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/XOfJk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XOfJk.png\" alt=\"enter image description here\" /></a></p>\n<p>my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.crea&lt;/groupId&gt;\n    &lt;artifactId&gt;water4agrifood-mock&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;water4agrifood-mock&lt;/name&gt;\n    &lt;description&gt;Demo project water4agrifood-mockSpring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This the run view</p>\n<pre><code>.   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.3)\n\n2023-02-28T16:17:47.705+01:00  INFO 15268 --- [           main] o.c.w.Water4AgriFoodMockApplication      : Starting Water4AgriFoodMockApplication using Java 19.0.1 with PID 15268 (C:\\Users\\*****\\spring-boot-water4agrifood-model-mocker\\water4agrifood-mock\\target\\classes started by ***** in C:\\Users\\*****\\spring-boot-water4agrifood-model-mocker\\water4agrifood-mock)\n2023-02-28T16:17:47.708+01:00  INFO 15268 --- [           main] o.c.w.Water4AgriFoodMockApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-02-28T16:17:48.409+01:00  INFO 15268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-02-28T16:17:48.416+01:00  INFO 15268 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-02-28T16:17:48.416+01:00  INFO 15268 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-02-28T16:17:48.489+01:00  INFO 15268 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-02-28T16:17:48.490+01:00  INFO 15268 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 737 ms\n2023-02-28T16:17:48.658+01:00 DEBUG 15268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\n2023-02-28T16:17:48.721+01:00 DEBUG 15268 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'\n2023-02-28T16:17:48.733+01:00 DEBUG 15268 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'\n2023-02-28T16:17:48.738+01:00 DEBUG 15268 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\n2023-02-28T16:17:48.792+01:00  INFO 15268 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-02-28T16:17:48.799+01:00  INFO 15268 --- [           main] o.c.w.Water4AgriFoodMockApplication      : Started Water4AgriFoodMockApplication in 1.427 seconds (process running for 1.927)\n2023-02-28T16:17:53.490+01:00  INFO 15268 --- [nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-02-28T16:17:53.490+01:00  INFO 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-02-28T16:17:53.490+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6deaf644\n2023-02-28T16:17:53.491+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@57d613cd\n2023-02-28T16:17:53.491+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-02-28T16:17:53.491+01:00  INFO 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-02-28T16:17:53.497+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/mock&quot;, parameters={}\n2023-02-28T16:17:53.508+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-02-28T16:17:53.515+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2023-02-28T16:17:53.516+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2023-02-28T16:17:53.520+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2023-02-28T16:17:53.521+01:00 DEBUG 15268 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-02-28T16:17:53.541+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]\n2023-02-28T16:17:53.543+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Feb 28 16:17:53 CET 2023, status=404, error=Not Found, path=/api/v1/mock}]\n2023-02-28T16:17:53.571+01:00 DEBUG 15268 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>After adding <code>logging.level.root=DEBUG</code> (just some parts)</p>\n<pre><code>javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1079) ~[na:na]\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:637) ~[na:na]\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:679) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1449) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[na:na]\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.getAttribute(RMIConnectionImpl.java:639) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[na:na]\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200) ~[na:na]\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399) ~[na:na]\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n\n\n2023-02-28T16:44:36.181+01:00 DEBUG 14952 --- [           main] _.s.web.servlet.HandlerMapping.Mappings  : \n    o.s.b.a.w.s.e.BasicErrorController:\n    { [/error]}: error(HttpServletRequest)\n    { [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)\n</code></pre>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1587620366,"post_id":61378827,"comment_id":108583321,"body_markdown":"Are you asking for a library to use here?","body":"Are you asking for a library to use here?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1587620827,"post_id":61378827,"comment_id":108583484,"body_markdown":"Actually, [Records](https://openjdk.java.net/jeps/359) is a preview feature in Java 14. You must enable that feature, off by default. The specification is subject to change or withdrawal.","body":"Actually, <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">Records</a> is a preview feature in Java 14. You must enable that feature, off by default. The specification is subject to change or withdrawal."},{"owner":{"account_id":9219687,"reputation":2996,"user_id":6849612,"display_name":"Thar"},"score":0,"creation_date":1587650390,"post_id":61378827,"comment_id":108599344,"body_markdown":"@Naman A lib or some custom code is what I was looking for. Thank you! The solutions below look promising.","body":"@Naman A lib or some custom code is what I was looking for. Thank you! The solutions below look promising."}],"answers":[{"tags":[],"owner":{"account_id":38105,"reputation":3451,"user_id":109163,"accept_rate":88,"display_name":"LeffeBrune"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1587612544,"creation_date":1587612544,"answer_id":61378862,"question_id":61378827,"body_markdown":"You can use code generation. It&#39;s not as concise as Java 14, but better than nothing. [AutoValue][1] is pretty amazing.\r\n\r\n```\r\nimport com.google.auto.value.AutoValue;\r\n\r\n@AutoValue\r\nabstract class Animal {\r\n  static Animal create(String name, int numberOfLegs) {\r\n    return new AutoValue_Animal(name, numberOfLegs);\r\n  }\r\n\r\n  abstract String name();\r\n  abstract int numberOfLegs();\r\n}\r\n```\r\n\r\n[1]: https://github.com/google/auto/tree/master/value","title":"How to implement java jdk14 record in jdk11?","body":"<p>You can use code generation. It's not as concise as Java 14, but better than nothing. <a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow noreferrer\">AutoValue</a> is pretty amazing.</p>\n\n<pre><code>import com.google.auto.value.AutoValue;\n\n@AutoValue\nabstract class Animal {\n  static Animal create(String name, int numberOfLegs) {\n    return new AutoValue_Animal(name, numberOfLegs);\n  }\n\n  abstract String name();\n  abstract int numberOfLegs();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":38105,"reputation":3451,"user_id":109163,"accept_rate":88,"display_name":"LeffeBrune"},"score":0,"creation_date":1587617923,"post_id":61378938,"comment_id":108582650,"body_markdown":"Java 14 records are immutable, so are autovalue objects.Lombox doesn&#39;t seem to offer that option.","body":"Java 14 records are immutable, so are autovalue objects.Lombox doesn&#39;t seem to offer that option."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":3,"creation_date":1587620507,"post_id":61378938,"comment_id":108583379,"body_markdown":"I believe [`@Value` gets you closest to Records](https://stackoverflow.com/questions/61306802/lombok-getter-setter-vs-java-14-record).","body":"I believe <a href=\"https://stackoverflow.com/questions/61306802/lombok-getter-setter-vs-java-14-record\"><code>@Value</code> gets you closest to Records</a>."},{"owner":{"account_id":5637453,"reputation":1270,"user_id":4462517,"display_name":"Josh Ghiloni"},"score":0,"creation_date":1587691572,"post_id":61378938,"comment_id":108617370,"body_markdown":"You actually could, @LeffeBrune. You could replace the `@Data` annotation and replace it with `@Constructor @Getters`, which would make them immutable.","body":"You actually could, @LeffeBrune. You could replace the <code>@Data</code> annotation and replace it with <code>@Constructor @Getters</code>, which would make them immutable."},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1677099956,"post_id":61378938,"comment_id":133273358,"body_markdown":"what is `lombox` in imports ? and why is there `()` in class name `Person()` ?\nIt doesn&#39;t work for me.","body":"what is <code>lombox</code> in imports ? and why is there <code>()</code> in class name <code>Person()</code> ? It doesn&#39;t work for me."},{"owner":{"account_id":5637453,"reputation":1270,"user_id":4462517,"display_name":"Josh Ghiloni"},"score":0,"creation_date":1678068465,"post_id":61378938,"comment_id":133456006,"body_markdown":"@shubham `lombok` is a tool that generates methods at compile time. In the case of this example, it adds a constructor with `name`, `gender`, and `age` arguments, as well as `getX` methods for each, effectively allowing a user to set the values at construction time only. The `()` after `Person` are a typo. I&#39;ll fix, thanks for pointing it out","body":"@shubham <code>lombok</code> is a tool that generates methods at compile time. In the case of this example, it adds a constructor with <code>name</code>, <code>gender</code>, and <code>age</code> arguments, as well as <code>getX</code> methods for each, effectively allowing a user to set the values at construction time only. The <code>()</code> after <code>Person</code> are a typo. I&#39;ll fix, thanks for pointing it out"},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1678093258,"post_id":61378938,"comment_id":133459799,"body_markdown":"@Josh thanks i am familiar with Lombok and have used it extensively but I saw imports as `lombox` which got me confused. But now answer seems updated.","body":"@Josh thanks i am familiar with Lombok and have used it extensively but I saw imports as <code>lombox</code> which got me confused. But now answer seems updated."},{"owner":{"account_id":5637453,"reputation":1270,"user_id":4462517,"display_name":"Josh Ghiloni"},"score":0,"creation_date":1678193220,"post_id":61378938,"comment_id":133482413,"body_markdown":"@shubham yep, just typos!","body":"@shubham yep, just typos!"}],"tags":[],"owner":{"account_id":5637453,"reputation":1270,"user_id":4462517,"display_name":"Josh Ghiloni"},"comment_count":7,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1678068535,"creation_date":1587613073,"answer_id":61378938,"question_id":61378827,"body_markdown":"I highly recommend Project Lombok (site here https://projectlombok.org/). From the example you listed\r\n\r\n     public record Person(String name, String gender, int age) {}\r\n\r\nThat can be done via Lombok like this\r\n\r\n    import lombok.Data\r\n\r\n    @Data\r\n    public class Person {\r\n        private String name;\r\n        private String gender;\r\n        private int age;\r\n    }\r\n\r\nLombox creates getters and setters, `toString`, `hashCode`, and a default constructor, as well as one with all the orgs.\r\n\r\nUPDATE: It was pointed out in the comments that records are immutable. You can easily achieve this with lombok in a couple of ways. Option 1:\r\n\r\n    import lombok.Data\r\n\r\n    @Data\r\n    public class Person {\r\n        private final String name;\r\n        private final String gender;\r\n        private final int age;\r\n    }\r\n\r\nThat will add, again, the required-args constructor. `@Data` does not, for relatively obvious reasons, create setters for `final` fields. \r\n\r\nOption 2 is a little more explicit:\r\n\r\n    import lombok.*;\r\n\r\n    @RequiredArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Getter\r\n    public class Person {\r\n        private String name;\r\n        private String gender;\r\n        private int age;\r\n    }\r\n","title":"How to implement java jdk14 record in jdk11?","body":"<p>I highly recommend Project Lombok (site here <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a>). From the example you listed</p>\n<pre><code> public record Person(String name, String gender, int age) {}\n</code></pre>\n<p>That can be done via Lombok like this</p>\n<pre><code>import lombok.Data\n\n@Data\npublic class Person {\n    private String name;\n    private String gender;\n    private int age;\n}\n</code></pre>\n<p>Lombox creates getters and setters, <code>toString</code>, <code>hashCode</code>, and a default constructor, as well as one with all the orgs.</p>\n<p>UPDATE: It was pointed out in the comments that records are immutable. You can easily achieve this with lombok in a couple of ways. Option 1:</p>\n<pre><code>import lombok.Data\n\n@Data\npublic class Person {\n    private final String name;\n    private final String gender;\n    private final int age;\n}\n</code></pre>\n<p>That will add, again, the required-args constructor. <code>@Data</code> does not, for relatively obvious reasons, create setters for <code>final</code> fields.</p>\n<p>Option 2 is a little more explicit:</p>\n<pre><code>import lombok.*;\n\n@RequiredArgsConstructor\n@EqualsAndHashCode\n@Getter\npublic class Person {\n    private String name;\n    private String gender;\n    private int age;\n}\n</code></pre>\n"}],"owner":{"account_id":9219687,"reputation":2996,"user_id":6849612,"display_name":"Thar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5019,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1587779513,"answer_count":2,"score":1,"last_activity_date":1678068535,"creation_date":1587612293,"question_id":61378827,"body_markdown":"I am looking to avoid some boilerplate code. I see that jdk14 has Records as shown in the example below.\r\n\r\n[https://www.logicbig.com/tutorials/core-java-tutorial/java-14-changes/records.html][1]\r\n\r\nHow can I do something similar to Records in jdk11 ?\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/core-java-tutorial/java-14-changes/records.html","title":"How to implement java jdk14 record in jdk11?","body":"<p>I am looking to avoid some boilerplate code. I see that jdk14 has Records as shown in the example below.</p>\n\n<p><a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-14-changes/records.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/core-java-tutorial/java-14-changes/records.html</a></p>\n\n<p>How can I do something similar to Records in jdk11 ?</p>\n"},{"tags":["java","java-8","functional-programming"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1615955522,"post_id":66667017,"comment_id":117849789,"body_markdown":"Different functions, different return values, I&#39;m not sure we can make your code any more concise.","body":"Different functions, different return values, I&#39;m not sure we can make your code any more concise."},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1615955715,"post_id":66667017,"comment_id":117849827,"body_markdown":"@TimBiegeleisen return values and arguments are the same actually in all functions called from if clauses in mainFunction().","body":"@TimBiegeleisen return values and arguments are the same actually in all functions called from if clauses in mainFunction()."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1615956005,"post_id":66667017,"comment_id":117849869,"body_markdown":"The return values are different.  (If they were the same, you wouldn&#39;t need to call the 2nd, 3rd, etc function.).  But I agree with Tim that there doesn&#39;t look like there is any scope for making this more concise.","body":"The return values are different.  (If they were the same, you wouldn&#39;t need to call the 2nd, 3rd, etc function.).  But I agree with Tim that there doesn&#39;t look like there is any scope for making this more concise."},{"owner":{"account_id":2637091,"reputation":433,"user_id":2281493,"accept_rate":62,"display_name":"Anupam Alok"},"score":0,"creation_date":1615956077,"post_id":66667017,"comment_id":117849879,"body_markdown":"Why would you not consider Chain of responsibility for this Design?","body":"Why would you not consider Chain of responsibility for this Design?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1615956112,"post_id":66667017,"comment_id":117849885,"body_markdown":"I would point out that `catch (Exception e) { return false; }` is a really bad idea.  It is going to *hide* bugs.","body":"I would point out that <code>catch (Exception e) { return false; }</code> is a really bad idea.  It is going to <i>hide</i> bugs."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1615956154,"post_id":66667017,"comment_id":117849891,"body_markdown":"@AnupamAlok - I think it is unlikely to make the code more concise ... overall.  But if you think it would help, write an Answer, showing how to applying CoR to the OP&#39;s example.  (So that we can &gt;&gt;see&lt;&lt; if it is more concise.)","body":"@AnupamAlok - I think it is unlikely to make the code more concise ... overall.  But if you think it would help, write an Answer, showing how to applying CoR to the OP&#39;s example.  (So that we can &gt;&gt;see&lt;&lt; if it is more concise.)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1615973178,"post_id":66667017,"comment_id":117854883,"body_markdown":"Don’t call actions that modify the incoming objects “function”. Don’t use anti-patterns like `catch(Exception e) { return false; }`. If you clean up your code, the problem may already disappear.","body":"Don’t call actions that modify the incoming objects “function”. Don’t use anti-patterns like <code>catch(Exception e) { return false; }</code>. If you clean up your code, the problem may already disappear."},{"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"score":0,"creation_date":1616068112,"post_id":66667017,"comment_id":117890252,"body_markdown":"It Completely depends on real use case. Give me a accurate situation and I will try to give you the most compact code as possible","body":"It Completely depends on real use case. Give me a accurate situation and I will try to give you the most compact code as possible"}],"answers":[{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1622461336,"post_id":67772879,"comment_id":119791805,"body_markdown":"Author never mentioned using JavaFX, so please, don&#39;t make them import JavaFX as it can lead to several issues.","body":"Author never mentioned using JavaFX, so please, don&#39;t make them import JavaFX as it can lead to several issues."},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1622462200,"post_id":67772879,"comment_id":119792130,"body_markdown":"Yes right, custom pair class can be created","body":"Yes right, custom pair class can be created"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678075064,"post_id":67772879,"comment_id":133456697,"body_markdown":"OK ... so in the OP&#39;s actual example, it looks like you would have replace N `if` statements with code that makes N `Validation` objects. Plus a bunch of extra boilerplate to unpick the resulting pairs. I don&#39;t see how that is an actual improvement ... unless the `Validation` objects are being used in lots of places. (And even then ... there is a different problem ... which is having the declarations of the `Validation` objects separated from their use(s).)","body":"OK ... so in the OP&#39;s actual example, it looks like you would have replace N <code>if</code> statements with code that makes N <code>Validation</code> objects. Plus a bunch of extra boilerplate to unpick the resulting pairs. I don&#39;t see how that is an actual improvement ... unless the <code>Validation</code> objects are being used in lots of places. (And even then ... there is a different problem ... which is having the declarations of the <code>Validation</code> objects separated from their use(s).)"},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1694229260,"post_id":67772879,"comment_id":135867679,"body_markdown":"@StephenC: Those validation objects can be reused and avoid code duplicacy. Removing and adding validation is easy. There are multiple such advantages. Boilerplate is everywhere, just that its hidden in libraries. Try using any existing validator implementation if you want to avoid boilerplate. Its code once and leave.","body":"@StephenC: Those validation objects can be reused and avoid code duplicacy. Removing and adding validation is easy. There are multiple such advantages. Boilerplate is everywhere, just that its hidden in libraries. Try using any existing validator implementation if you want to avoid boilerplate. Its code once and leave."}],"tags":[],"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622462504,"creation_date":1622460506,"answer_id":67772879,"question_id":66667017,"body_markdown":"There can me multiple ways to do it.\r\nI tried to create a Validator interface which can do this kind of validation chaining.\r\nAlthough its not a perfect solution but it may give you an idea to start with. Its a much generic solution (can be more generic with ? super and ? extends - you can try on your own)\r\n\r\nCode: \r\n\r\n    package pecs;\r\n    \r\n    import javafx.util.Pair;\r\n    \r\n    public class Chaining {\r\n    \r\n        public static void main(String[] args) {\r\n            Validation&lt;Integer, String, Message&gt; validation = (a, b, c) -&gt; {\r\n                return new Pair(a &gt; 30, new Message(&quot;a should not be greater than 30&quot;));\r\n            };\r\n            Validation&lt;Integer, String, Message&gt; validation2 = (a, b, c) -&gt; {\r\n                return new Pair(a &gt; 20, new Message(&quot;a should not be greater than 20&quot;));\r\n            };\r\n            Validation&lt;Integer, String, Message&gt; validation3 = (a, b, c) -&gt; {\r\n                return new Pair(a &gt; 10, new Message(&quot;a should not be greater than 10&quot;));\r\n            };\r\n            Validation&lt;Integer, String, Message&gt; validation4 = (a, b, c) -&gt; {\r\n                return new Pair(a &gt; 5, new Message(&quot;a should not be greater than 5&quot;));\r\n            };\r\n    \r\n            //One way to call\r\n            Validation&lt;Integer, String, Message&gt; validator = validation\r\n                    .and(validation2)\r\n                    .and(validation3)\r\n                    .and(validation4);\r\n    \r\n            System.out.println(validator.validate(4, &quot;A00&quot;, 0));\r\n            System.out.println(validator.validate(9, &quot;A00&quot;, 0));\r\n            System.out.println(validator.validate(11, &quot;A00&quot;, 0));\r\n            System.out.println(validator.validate(21, &quot;A00&quot;, 0));\r\n            System.out.println(validator.validate(31, &quot;A00&quot;, 0));\r\n    \r\n            //Another way to call\r\n            Pair&lt;Boolean, Message&gt; pair = validation\r\n                    .and(validation2)\r\n                    .and(validation3)\r\n                    .and(validation4)\r\n                    .validate(4, &quot;String&quot;, 0);\r\n            if(pair.getKey() == false) {\r\n                System.out.println(&quot;All Validation successful&quot;);\r\n            } else {\r\n                System.out.println(pair);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe validator interface used in the code:\r\n\r\n    package pecs;\r\n    \r\n    import javafx.util.Pair;\r\n    import java.util.Objects;\r\n    \r\n    @FunctionalInterface\r\n    public interface Validation&lt;A, B, C&gt; {\r\n        Pair&lt;Boolean, C&gt; validate(A a, B b, int count);\r\n    \r\n        default Validation&lt;A, B, C&gt; and(Validation&lt;A, B, C&gt; other) {\r\n            Objects.requireNonNull(other);\r\n            return (a, b, c) -&gt; {\r\n    //            System.out.println(&quot;c=&quot; + c);\r\n                Pair&lt;Boolean, C&gt; validate = validate(a, b, c+1);\r\n                if (validate.getKey() == true) {\r\n                    return validate;\r\n                } else {\r\n                    //Termination condition.\r\n                    if(c == 0) {\r\n                        Pair&lt;Boolean, C&gt; pair = other.validate(a, b, c);\r\n                        if(pair.getKey() == false) {\r\n                            return new Pair&lt;&gt;(false, null);\r\n                        } else {\r\n                            return pair;\r\n                        }\r\n                    } else {\r\n                        return other.validate(a, b, c);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nPlease have a look and suggest if any improvements.\r\nThere are many other ways to do validation. Say for example, check this link:\r\nhttps://dzone.com/articles/server-side-validator-using-functional-interfaces\r\n\r\n","title":"Compacting too many if clauses using Java 8","body":"<p>There can me multiple ways to do it.\nI tried to create a Validator interface which can do this kind of validation chaining.\nAlthough its not a perfect solution but it may give you an idea to start with. Its a much generic solution (can be more generic with ? super and ? extends - you can try on your own)</p>\n<p>Code:</p>\n<pre><code>package pecs;\n\nimport javafx.util.Pair;\n\npublic class Chaining {\n\n    public static void main(String[] args) {\n        Validation&lt;Integer, String, Message&gt; validation = (a, b, c) -&gt; {\n            return new Pair(a &gt; 30, new Message(&quot;a should not be greater than 30&quot;));\n        };\n        Validation&lt;Integer, String, Message&gt; validation2 = (a, b, c) -&gt; {\n            return new Pair(a &gt; 20, new Message(&quot;a should not be greater than 20&quot;));\n        };\n        Validation&lt;Integer, String, Message&gt; validation3 = (a, b, c) -&gt; {\n            return new Pair(a &gt; 10, new Message(&quot;a should not be greater than 10&quot;));\n        };\n        Validation&lt;Integer, String, Message&gt; validation4 = (a, b, c) -&gt; {\n            return new Pair(a &gt; 5, new Message(&quot;a should not be greater than 5&quot;));\n        };\n\n        //One way to call\n        Validation&lt;Integer, String, Message&gt; validator = validation\n                .and(validation2)\n                .and(validation3)\n                .and(validation4);\n\n        System.out.println(validator.validate(4, &quot;A00&quot;, 0));\n        System.out.println(validator.validate(9, &quot;A00&quot;, 0));\n        System.out.println(validator.validate(11, &quot;A00&quot;, 0));\n        System.out.println(validator.validate(21, &quot;A00&quot;, 0));\n        System.out.println(validator.validate(31, &quot;A00&quot;, 0));\n\n        //Another way to call\n        Pair&lt;Boolean, Message&gt; pair = validation\n                .and(validation2)\n                .and(validation3)\n                .and(validation4)\n                .validate(4, &quot;String&quot;, 0);\n        if(pair.getKey() == false) {\n            System.out.println(&quot;All Validation successful&quot;);\n        } else {\n            System.out.println(pair);\n        }\n\n    }\n}\n</code></pre>\n<p>The validator interface used in the code:</p>\n<pre><code>package pecs;\n\nimport javafx.util.Pair;\nimport java.util.Objects;\n\n@FunctionalInterface\npublic interface Validation&lt;A, B, C&gt; {\n    Pair&lt;Boolean, C&gt; validate(A a, B b, int count);\n\n    default Validation&lt;A, B, C&gt; and(Validation&lt;A, B, C&gt; other) {\n        Objects.requireNonNull(other);\n        return (a, b, c) -&gt; {\n//            System.out.println(&quot;c=&quot; + c);\n            Pair&lt;Boolean, C&gt; validate = validate(a, b, c+1);\n            if (validate.getKey() == true) {\n                return validate;\n            } else {\n                //Termination condition.\n                if(c == 0) {\n                    Pair&lt;Boolean, C&gt; pair = other.validate(a, b, c);\n                    if(pair.getKey() == false) {\n                        return new Pair&lt;&gt;(false, null);\n                    } else {\n                        return pair;\n                    }\n                } else {\n                    return other.validate(a, b, c);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>Please have a look and suggest if any improvements.\nThere are many other ways to do validation. Say for example, check this link:\n<a href=\"https://dzone.com/articles/server-side-validator-using-functional-interfaces\" rel=\"nofollow noreferrer\">https://dzone.com/articles/server-side-validator-using-functional-interfaces</a></p>\n"},{"tags":[],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678067927,"creation_date":1678067927,"answer_id":75646496,"question_id":66667017,"body_markdown":"You can make a map of the type `Map&lt;BiPredicate&lt;Data1, Data2&gt;, Left&lt;?&gt;&gt;` using the `Map.of` function, where the predicates are aligned to the corresponding results, and then stream over the `entrySet` of the map.\r\n\r\nSomething like:\r\n\r\n    Map.&lt;BiPredicate&lt;Data1, Data2&gt;of( (data1,data2)-&gt;{return\r\n    !functionA(data1, data2)},  new Left&lt;&gt;(Reason.INVALID_RULE))\r\netc..., then\r\n\r\n    .entrySet().stream()\r\nthen `.map` or `.forEach` over the entries.","title":"Compacting too many if clauses using Java 8","body":"<p>You can make a map of the type <code>Map&lt;BiPredicate&lt;Data1, Data2&gt;, Left&lt;?&gt;&gt;</code> using the <code>Map.of</code> function, where the predicates are aligned to the corresponding results, and then stream over the <code>entrySet</code> of the map.</p>\n<p>Something like:</p>\n<pre><code>Map.&lt;BiPredicate&lt;Data1, Data2&gt;of( (data1,data2)-&gt;{return\n!functionA(data1, data2)},  new Left&lt;&gt;(Reason.INVALID_RULE))\n</code></pre>\n<p>etc..., then</p>\n<pre><code>.entrySet().stream()\n</code></pre>\n<p>then <code>.map</code> or <code>.forEach</code> over the entries.</p>\n"}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678067927,"creation_date":1615955423,"question_id":66667017,"body_markdown":"I have written following code block in Java:\r\n\r\n\r\n    public mainFunction() {\r\n    \r\n    ...\r\n    \r\n    if (!functionA(data1, data2)) {\r\n      return new Left&lt;&gt;(Reason.INVALID_RULE);\r\n    }\r\n    \r\n    if (!functionB(data1, data2)) {\r\n      return new Left&lt;&gt;(FAILURE.INVALID_ID);\r\n    }\r\n    \r\n     ...there are a few if clauses like above...\r\n    }\r\n\r\n\r\n    private boolean functionA(Data1 data1, Data2 data2) {\r\n        if(StringUtils.isNotBlank(data1.getAttr1)) {\r\n           data2.setAttr1(data1.getAttr1);\r\n           return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean functionA(Data1 data1, Data2 data2) {\r\n        try{\r\n           data2.setAttr1(Attr2Enum.fromValue(data1.getAttr1));\r\n           return true;\r\n        } catch (Exception e) {\r\n        return false;\r\n        }\r\n    }\r\n\r\nNow, my question is can I compact them using Java8?","title":"Compacting too many if clauses using Java 8","body":"<p>I have written following code block in Java:</p>\n<pre><code>public mainFunction() {\n\n...\n\nif (!functionA(data1, data2)) {\n  return new Left&lt;&gt;(Reason.INVALID_RULE);\n}\n\nif (!functionB(data1, data2)) {\n  return new Left&lt;&gt;(FAILURE.INVALID_ID);\n}\n\n ...there are a few if clauses like above...\n}\n\n\nprivate boolean functionA(Data1 data1, Data2 data2) {\n    if(StringUtils.isNotBlank(data1.getAttr1)) {\n       data2.setAttr1(data1.getAttr1);\n       return true;\n    }\n    return false;\n}\n\nprivate boolean functionA(Data1 data1, Data2 data2) {\n    try{\n       data2.setAttr1(Attr2Enum.fromValue(data1.getAttr1));\n       return true;\n    } catch (Exception e) {\n    return false;\n    }\n}\n</code></pre>\n<p>Now, my question is can I compact them using Java8?</p>\n"},{"tags":["java","visual-studio-code","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1677832899,"post_id":75624540,"comment_id":133418854,"body_markdown":"_Is it possible that I run the feature files on vs code?_ Yes.","body":"<i>Is it possible that I run the feature files on vs code?</i> Yes."}],"answers":[{"comments":[{"owner":{"account_id":18371789,"reputation":1,"user_id":13381737,"display_name":"Pauline-momanyi"},"score":0,"creation_date":1679560250,"post_id":75646474,"comment_id":133744296,"body_markdown":"I have both extensions but they did not help. I guess in the mean time I will use IntelliJ because  it did help and is easy to use.","body":"I have both extensions but they did not help. I guess in the mean time I will use IntelliJ because  it did help and is easy to use."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678067584,"creation_date":1678067584,"answer_id":75646474,"question_id":75624540,"body_markdown":"Vscode requires different extensions to implement functions in different languages. The following two extensions may help you. You can also search for more extensions that may be useful to you in the [extension panel][1].\r\n\r\n\r\n**[Cucumber (Gherkin) Full Support][2]**\r\n\r\n\r\n**[Cucumber Quick][3]**\r\n\r\n&gt; - If Run Feature is selected, the complete feature file will be executed\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/extension-marketplace\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=alexkrechik.cucumberautocomplete\r\n  [3]: https://marketplace.visualstudio.com/items?itemName=AbhinabaGhosh.cucumberquick","title":"Running Cucumber feature files on VS code","body":"<p>Vscode requires different extensions to implement functions in different languages. The following two extensions may help you. You can also search for more extensions that may be useful to you in the <a href=\"https://code.visualstudio.com/docs/editor/extension-marketplace\" rel=\"nofollow noreferrer\">extension panel</a>.</p>\n<p><strong><a href=\"https://marketplace.visualstudio.com/items?itemName=alexkrechik.cucumberautocomplete\" rel=\"nofollow noreferrer\">Cucumber (Gherkin) Full Support</a></strong></p>\n<p><strong><a href=\"https://marketplace.visualstudio.com/items?itemName=AbhinabaGhosh.cucumberquick\" rel=\"nofollow noreferrer\">Cucumber Quick</a></strong></p>\n<blockquote>\n<ul>\n<li>If Run Feature is selected, the complete feature file will be executed</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":18371789,"reputation":1,"user_id":13381737,"display_name":"Pauline-momanyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678067584,"creation_date":1677830516,"question_id":75624540,"body_markdown":"I have a cloned project on web automation with cucumber in java, I have opened it in VS Code and I want to run the .feature files but I do not seem to get the way around it. I wanted to try the same on eclipse but opening the files on eclipse gives so many errors that are not seen on VS Code. Is it possible that I run the feature files on vs code?\r\n\r\nI tried using the test on the left panel but it didn&#39;t work.","title":"Running Cucumber feature files on VS code","body":"<p>I have a cloned project on web automation with cucumber in java, I have opened it in VS Code and I want to run the .feature files but I do not seem to get the way around it. I wanted to try the same on eclipse but opening the files on eclipse gives so many errors that are not seen on VS Code. Is it possible that I run the feature files on vs code?</p>\n<p>I tried using the test on the left panel but it didn't work.</p>\n"},{"tags":["java","arrays","string","bcd"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1421878091,"post_id":28077671,"comment_id":44534434,"body_markdown":"There are two BCD digits per byte.  One in the upper 4 bits and one in the lower four bits.  So four decimal digits fit exact into two bytes when using BCD.","body":"There are two BCD digits per byte.  One in the upper 4 bits and one in the lower four bits.  So four decimal digits fit exact into two bytes when using BCD."},{"owner":{"account_id":5591728,"reputation":374,"user_id":4430725,"accept_rate":71,"display_name":"Nico"},"score":0,"creation_date":1421878408,"post_id":28077671,"comment_id":44534555,"body_markdown":"@genisage The string has only numbers between 0 and 9.","body":"@genisage The string has only numbers between 0 and 9."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1421878484,"post_id":28077671,"comment_id":44534600,"body_markdown":"Hint: you&#39;ll need to use bitwise operators, like shift and or.","body":"Hint: you&#39;ll need to use bitwise operators, like shift and or."},{"owner":{"account_id":5591728,"reputation":374,"user_id":4430725,"accept_rate":71,"display_name":"Nico"},"score":0,"creation_date":1421878499,"post_id":28077671,"comment_id":44534610,"body_markdown":"@markspace Yes, but how do i save this four BCD digits into a byte[2]?","body":"@markspace Yes, but how do i save this four BCD digits into a byte[2]?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1421878690,"post_id":28077671,"comment_id":44534682,"body_markdown":"Break it down into smaller pieces. How to put two digits into a byte, and how to put two bytes into a `byte[2].`","body":"Break it down into smaller pieces. How to put two digits into a byte, and how to put two bytes into a <code>byte[2].</code>"},{"owner":{"account_id":232145,"reputation":1695,"user_id":496792,"accept_rate":74,"display_name":"pakman"},"score":0,"creation_date":1455202977,"post_id":28077671,"comment_id":58392688,"body_markdown":"I&#39;m a little late to the party, but it seems you are dealing with iso messages. Have you looked at https://github.com/chochos/j8583","body":"I&#39;m a little late to the party, but it seems you are dealing with iso messages. Have you looked at <a href=\"https://github.com/chochos/j8583\" rel=\"nofollow noreferrer\">github.com/chochos/j8583</a>"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421878588,"creation_date":1421878588,"answer_id":28077873,"question_id":28077671,"body_markdown":"The first step would be to parse the string into an int so that you have the numeric value of it. Then, get the individual digits using division and modulus, and pack each pair of digits into a byte using shift and add (or shift and or).\r\n\r\nAlternatively, you could parse each character of the string into an int individually, and avoid using division and modulus to get the numbers, but I would prefer to parse the entire string up front so that you discover right away if the string is invalid. (If you get a NumberFormatException, or if the value is less than 0 or greater than 9999 then it is invalid.)\r\n\r\nFinally, once you have assembled the two individual bytes, you can put them into the `byte[2].`","title":"Algorithm to convert a String of decimal digits to BCD","body":"<p>The first step would be to parse the string into an int so that you have the numeric value of it. Then, get the individual digits using division and modulus, and pack each pair of digits into a byte using shift and add (or shift and or).</p>\n\n<p>Alternatively, you could parse each character of the string into an int individually, and avoid using division and modulus to get the numbers, but I would prefer to parse the entire string up front so that you discover right away if the string is invalid. (If you get a NumberFormatException, or if the value is less than 0 or greater than 9999 then it is invalid.)</p>\n\n<p>Finally, once you have assembled the two individual bytes, you can put them into the <code>byte[2].</code></p>\n"},{"comments":[{"owner":{"account_id":5591728,"reputation":374,"user_id":4430725,"accept_rate":71,"display_name":"Nico"},"score":0,"creation_date":1421934939,"post_id":28077928,"comment_id":44557534,"body_markdown":"Thanks for your answer @gknicker but further the code i was trying to understand what must i do","body":"Thanks for your answer @gknicker but further the code i was trying to understand what must i do"},{"owner":{"account_id":1857506,"reputation":805,"user_id":1682781,"display_name":"neuro_sys"},"score":0,"creation_date":1444938386,"post_id":28077928,"comment_id":54123348,"body_markdown":"Haha, I&#39;m so happy that my long forgotten gist snippet has sneaked around to SO. And I just included a main test method for convenience in response to a comment in the gist file.","body":"Haha, I&#39;m so happy that my long forgotten gist snippet has sneaked around to SO. And I just included a main test method for convenience in response to a comment in the gist file."},{"owner":{"account_id":197676,"reputation":588,"user_id":441893,"accept_rate":53,"display_name":"InterestedDev"},"score":0,"creation_date":1508377209,"post_id":28077928,"comment_id":80590721,"body_markdown":"This code produces a leading zero if the number of digits supplied it 3 or 5 or 7 and works well if the number is divided by 2. Does it need a leading zero? Why? Is there a version that produces BCD byte array without a leading zero regardless whether 3 or 4 digits are supplied as input?","body":"This code produces a leading zero if the number of digits supplied it 3 or 5 or 7 and works well if the number is divided by 2. Does it need a leading zero? Why? Is there a version that produces BCD byte array without a leading zero regardless whether 3 or 4 digits are supplied as input?"}],"tags":[],"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1421878896,"creation_date":1421878896,"answer_id":28077928,"question_id":28077671,"body_markdown":"Find a utility class to do this for you. Surely someone out there has written a BCD conversion utility for Java.\r\n\r\nHere you go. I Googled &quot;BCD Java&quot; and got [this as the first result][1]. Copying code here for future reference.\r\n\r\n    public class BCD {\r\n     \r\n    \t/*\r\n    \t * long number to bcd byte array e.g. 123 --&gt; (0000) 0001 0010 0011\r\n    \t * e.g. 12 ---&gt; 0001 0010\r\n    \t */\r\n    \tpublic static byte[] DecToBCDArray(long num) {\r\n    \t\tint digits = 0;\r\n     \r\n    \t\tlong temp = num;\r\n    \t\twhile (temp != 0) {\r\n    \t\t\tdigits++;\r\n    \t\t\ttemp /= 10;\r\n    \t\t}\r\n     \r\n    \t\tint byteLen = digits % 2 == 0 ? digits / 2 : (digits + 1) / 2;\r\n    \t\tboolean isOdd = digits % 2 != 0;\r\n     \r\n    \t\tbyte bcd[] = new byte[byteLen];\r\n     \r\n    \t\tfor (int i = 0; i &lt; digits; i++) {\r\n    \t\t\tbyte tmp = (byte) (num % 10);\r\n     \r\n    \t\t\tif (i == digits - 1 &amp;&amp; isOdd)\r\n    \t\t\t\tbcd[i / 2] = tmp;\r\n    \t\t\telse if (i % 2 == 0)\r\n    \t\t\t\tbcd[i / 2] = tmp;\r\n    \t\t\telse {\r\n    \t\t\t\tbyte foo = (byte) (tmp &lt;&lt; 4);\r\n    \t\t\t\tbcd[i / 2] |= foo;\r\n    \t\t\t}\r\n     \r\n    \t\t\tnum /= 10;\r\n    \t\t}\r\n     \r\n    \t\tfor (int i = 0; i &lt; byteLen / 2; i++) {\r\n    \t\t\tbyte tmp = bcd[i];\r\n    \t\t\tbcd[i] = bcd[byteLen - i - 1];\r\n    \t\t\tbcd[byteLen - i - 1] = tmp;\r\n    \t\t}\r\n     \r\n    \t\treturn bcd;\r\n    \t}\r\n     \r\n    \tpublic static String BCDtoString(byte bcd) {\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \t\t\r\n    \t\tbyte high = (byte) (bcd &amp; 0xf0);\r\n    \t\thigh &gt;&gt;&gt;= (byte) 4;\t\r\n    \t\thigh = (byte) (high &amp; 0x0f);\r\n    \t\tbyte low = (byte) (bcd &amp; 0x0f);\r\n    \t\t\r\n    \t\tsb.append(high);\r\n    \t\tsb.append(low);\r\n    \t\t\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String BCDtoString(byte[] bcd) {\r\n     \r\n        \tStringBuffer sb = new StringBuffer();\r\n     \r\n        \tfor (int i = 0; i &lt; bcd.length; i++) {\r\n        \t\tsb.append(BCDtoString(bcd[i]));\r\n        \t}\r\n     \r\n        \treturn sb.toString();\r\n    \t}\r\n    }\r\n\r\nThere&#39;s also this question: https://stackoverflow.com/questions/471253/java-code-or-lib-to-decode-a-binary-coded-decimal-bcd-from-a-string.\r\n  [1]: https://gist.github.com/neuro-sys/953548","title":"Algorithm to convert a String of decimal digits to BCD","body":"<p>Find a utility class to do this for you. Surely someone out there has written a BCD conversion utility for Java.</p>\n\n<p>Here you go. I Googled \"BCD Java\" and got <a href=\"https://gist.github.com/neuro-sys/953548\" rel=\"nofollow noreferrer\">this as the first result</a>. Copying code here for future reference.</p>\n\n<pre><code>public class BCD {\n\n    /*\n     * long number to bcd byte array e.g. 123 --&gt; (0000) 0001 0010 0011\n     * e.g. 12 ---&gt; 0001 0010\n     */\n    public static byte[] DecToBCDArray(long num) {\n        int digits = 0;\n\n        long temp = num;\n        while (temp != 0) {\n            digits++;\n            temp /= 10;\n        }\n\n        int byteLen = digits % 2 == 0 ? digits / 2 : (digits + 1) / 2;\n        boolean isOdd = digits % 2 != 0;\n\n        byte bcd[] = new byte[byteLen];\n\n        for (int i = 0; i &lt; digits; i++) {\n            byte tmp = (byte) (num % 10);\n\n            if (i == digits - 1 &amp;&amp; isOdd)\n                bcd[i / 2] = tmp;\n            else if (i % 2 == 0)\n                bcd[i / 2] = tmp;\n            else {\n                byte foo = (byte) (tmp &lt;&lt; 4);\n                bcd[i / 2] |= foo;\n            }\n\n            num /= 10;\n        }\n\n        for (int i = 0; i &lt; byteLen / 2; i++) {\n            byte tmp = bcd[i];\n            bcd[i] = bcd[byteLen - i - 1];\n            bcd[byteLen - i - 1] = tmp;\n        }\n\n        return bcd;\n    }\n\n    public static String BCDtoString(byte bcd) {\n        StringBuffer sb = new StringBuffer();\n\n        byte high = (byte) (bcd &amp; 0xf0);\n        high &gt;&gt;&gt;= (byte) 4; \n        high = (byte) (high &amp; 0x0f);\n        byte low = (byte) (bcd &amp; 0x0f);\n\n        sb.append(high);\n        sb.append(low);\n\n        return sb.toString();\n    }\n\n    public static String BCDtoString(byte[] bcd) {\n\n        StringBuffer sb = new StringBuffer();\n\n        for (int i = 0; i &lt; bcd.length; i++) {\n            sb.append(BCDtoString(bcd[i]));\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n\n<p>There's also this question: <a href=\"https://stackoverflow.com/questions/471253/java-code-or-lib-to-decode-a-binary-coded-decimal-bcd-from-a-string\">Java code or lib to decode a binary-coded decimal (BCD) from a String</a>.</p>\n"},{"comments":[{"owner":{"account_id":442741,"reputation":6643,"user_id":833529,"display_name":"BlueM"},"score":1,"creation_date":1628673529,"post_id":50578853,"comment_id":121481746,"body_markdown":"Your code is wrong. The result is not BCD. Byte.parseByte(sByte) does not parse hex but decimal. Byte.parseByte(sByte, 16) should fix it.","body":"Your code is wrong. The result is not BCD. Byte.parseByte(sByte) does not parse hex but decimal. Byte.parseByte(sByte, 16) should fix it."}],"tags":[],"owner":{"account_id":1800972,"reputation":4909,"user_id":1639347,"display_name":"cahit beyaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634658449,"creation_date":1527579435,"answer_id":50578853,"question_id":28077671,"body_markdown":"You can use following:\r\n\r\n    //Convert BCD String to byte array\r\n\tpublic static byte[] String2Bcd(java.lang.String bcdString) {\r\n\r\n\t\tbyte[] binBcd = new byte[bcdString.length() / 2];\r\n\r\n\t\tfor (int i = 0; i &lt; binBcd.length; i++) {\r\n\t\t\tString sByte = bcdString.substring(i*2, i*2+2);\r\n\t\t\tbinBcd[i] = Byte.parseByte(sByte, 16);\r\n\t\t}\r\n\t\treturn binBcd;\r\n\t}","title":"Algorithm to convert a String of decimal digits to BCD","body":"<p>You can use following:</p>\n<pre><code>//Convert BCD String to byte array\npublic static byte[] String2Bcd(java.lang.String bcdString) {\n\n    byte[] binBcd = new byte[bcdString.length() / 2];\n\n    for (int i = 0; i &lt; binBcd.length; i++) {\n        String sByte = bcdString.substring(i*2, i*2+2);\n        binBcd[i] = Byte.parseByte(sByte, 16);\n    }\n    return binBcd;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9311291,"reputation":2035,"user_id":6913021,"display_name":"HaroldSer"},"score":1,"creation_date":1635926085,"post_id":69820768,"comment_id":123419135,"body_markdown":"Please avoid just giving an answer and provide proper explanation of your answer.","body":"Please avoid just giving an answer and provide proper explanation of your answer."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635926090,"post_id":69820768,"comment_id":123419138,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69820768/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2911589,"reputation":11,"user_id":2495655,"display_name":"Zach Liu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678065818,"creation_date":1635922623,"answer_id":69820768,"question_id":28077671,"body_markdown":"You can try the following code to convert String to a byte array first:\r\n\r\n    public static byte[] hex2Bytes(String str) {\r\n        byte[] b = new byte[str.length() / 2];\r\n        int j = 0;\r\n        for (int i = 0; i &lt; b.length; i++) {\r\n            char c0 = str.charAt(j++);\r\n            char c1 = str.charAt(j++);\r\n            b[i] = ((byte) (parse(c0) &lt;&lt; 4 | parse(c1)));\r\n        }\r\n        return b;\r\n    }\r\n\r\n    private static int parse(char c) {\r\n        if (c &gt;= &#39;a&#39;)\r\n            return c - &#39;a&#39; + 10 &amp; 0xF;\r\n        if (c &gt;= &#39;A&#39;)\r\n            return c - &#39;A&#39; + 10 &amp; 0xF;\r\n        return c - &#39;0&#39; &amp; 0xF;\r\n    }\r\n\r\nThis is a method that converts a hexadecimal string to a byte array. It does this by looping through each pair of characters in the input string, parsing them as nibbles (half-bytes), and then combining them into a byte using bitwise operations. The resulting bytes are stored in an output byte array, which is returned by the method.","title":"Algorithm to convert a String of decimal digits to BCD","body":"<p>You can try the following code to convert String to a byte array first:</p>\n<pre><code>public static byte[] hex2Bytes(String str) {\n    byte[] b = new byte[str.length() / 2];\n    int j = 0;\n    for (int i = 0; i &lt; b.length; i++) {\n        char c0 = str.charAt(j++);\n        char c1 = str.charAt(j++);\n        b[i] = ((byte) (parse(c0) &lt;&lt; 4 | parse(c1)));\n    }\n    return b;\n}\n\nprivate static int parse(char c) {\n    if (c &gt;= 'a')\n        return c - 'a' + 10 &amp; 0xF;\n    if (c &gt;= 'A')\n        return c - 'A' + 10 &amp; 0xF;\n    return c - '0' &amp; 0xF;\n}\n</code></pre>\n<p>This is a method that converts a hexadecimal string to a byte array. It does this by looping through each pair of characters in the input string, parsing them as nibbles (half-bytes), and then combining them into a byte using bitwise operations. The resulting bytes are stored in an output byte array, which is returned by the method.</p>\n"}],"owner":{"account_id":5591728,"reputation":374,"user_id":4430725,"accept_rate":71,"display_name":"Nico"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20576,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28077928,"answer_count":4,"score":4,"last_activity_date":1678065818,"creation_date":1421877678,"question_id":28077671,"body_markdown":"I am looking a way to convert a string to BCD equivalent. I use Java, but it is not a question of the language indeed. I am trying to understand step by step how to convert a string to BCD.\r\n\r\nFor example, suppose I have the following string;\r\n\r\n    &quot;0200&quot; (This string has four ASCII characters, if we were in java this string had been contained in a byte[4] where byte[0] = 48, byte[1] = 50, byte[2] = 48 and byte[3] = 48)\r\n\r\nIn BCD (according this page: http://es.wikipedia.org/wiki/Decimal_codificado_en_binario):\r\n\r\n    0 = 0000\r\n    2 = 0010\r\n    0 = 0000\r\n    0 = 0000\r\n\r\nOk, I think the conversion is correct but I have to save this in a byte[2]. What Should I have to do? After, I have to read the BCD and convert it to the original string &quot;0200&quot; but first I have to resolve String to BCD.\r\n","title":"Algorithm to convert a String of decimal digits to BCD","body":"<p>I am looking a way to convert a string to BCD equivalent. I use Java, but it is not a question of the language indeed. I am trying to understand step by step how to convert a string to BCD.</p>\n<p>For example, suppose I have the following string;</p>\n<pre><code>&quot;0200&quot; (This string has four ASCII characters, if we were in java this string had been contained in a byte[4] where byte[0] = 48, byte[1] = 50, byte[2] = 48 and byte[3] = 48)\n</code></pre>\n<p>In BCD (according this page: <a href=\"http://es.wikipedia.org/wiki/Decimal_codificado_en_binario\" rel=\"nofollow noreferrer\">http://es.wikipedia.org/wiki/Decimal_codificado_en_binario</a>):</p>\n<pre><code>0 = 0000\n2 = 0010\n0 = 0000\n0 = 0000\n</code></pre>\n<p>Ok, I think the conversion is correct but I have to save this in a byte[2]. What Should I have to do? After, I have to read the BCD and convert it to the original string &quot;0200&quot; but first I have to resolve String to BCD.</p>\n"},{"tags":["java","dependency-injection","annotations","guice"],"owner":{"account_id":17136159,"reputation":23,"user_id":12401139,"display_name":"Oue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678065056,"creation_date":1678064675,"question_id":75646330,"body_markdown":"I have 3 packages with a dependency graph as follows\r\n\r\n    InterfacePkg -&gt; AuthPkg -&gt; ServicePkg\r\n    \r\n         |_______________________^\r\n\r\n**InterfacePkg**\r\n\r\nWill contain annotation definitions and Api resources\r\n\r\nThere is an annotation called `@InvokeSecurityFilter` which looks like this\r\n\r\n```java\r\npublic @interface InvokeSecurityFilter {\r\n\r\n        Class&lt;? extends SecurityFilterConfig&gt; securityFilterConfig();\r\n\r\n}\r\n```\r\n\r\nAnd the `SecurityFilterConfig` which looks like this\r\n\r\n```java\r\npublic interface SecurityFilterConfig {\r\n        \r\n        //returns true if action is allowed\r\n        boolean doFilter(SecurityContext securityContext);\r\n        \r\n}\r\n```\r\n\r\nAnd the controller definitions\r\n\r\n```java\r\n@RestController\r\n    public class MyController {\r\n\r\n        @GetMapping\r\n        @InvokeSecurityFilter(Api1FilterConfig.class) &lt;-----\r\n        public void myApi1() {};\r\n\r\n        @GetMapping\r\n        @InvokeSecurityFilter(Api2FilterConfig.class) &lt;-----\r\n        public void myApi2() {};\r\n        \r\n}\r\n```\r\n\r\nWhere Api1FilterConfig and Api2FilterConfig look like this\r\n\r\n```java\r\npublic interface Api(1 or 2)FilterConfig extends SecurityFilterConfig {\r\n\r\n    //    \r\n}\r\n```\r\n\r\n\r\n**AuthPkg**\r\n\r\nAuthPkg would implement the `@InvokeSecurityFilter(ApiXFilterConfig.class)` annotation and would invoke `securityFilterConfig.doFilter()` which would be implement in the service because I want to be able to pass in additional security params from there\r\n\r\n**ServicePkg**\r\n\r\nWill have the implementation of my controllers\r\n\r\n--&gt; I want to be able to provide an implementation of the `ApiXFilterConfig` interface which would be use by `SecurityPkg`\r\n\r\n\r\nA solution to my issue would be to move the `@InvokeSecurityFilter(ApiXFilterConfig.class)` to the ServicePkg and pass the implementing class as a parameter but that is not possible in my specific case\r\n\r\nSorry if this problem is messy and too specific. \r\nFeel free to ask me for clarifying questions\r\nThanks\r\n\r\n\r\nI tried to make the class that implements `ApiXFilterConfig` interface a bean in `ServicePkg` and then retrieve it SecurityPkg but that didnt work","title":"Retrieving implementing class from child package","body":"<p>I have 3 packages with a dependency graph as follows</p>\n<pre><code>InterfacePkg -&gt; AuthPkg -&gt; ServicePkg\n\n     |_______________________^\n</code></pre>\n<p><strong>InterfacePkg</strong></p>\n<p>Will contain annotation definitions and Api resources</p>\n<p>There is an annotation called <code>@InvokeSecurityFilter</code> which looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public @interface InvokeSecurityFilter {\n\n        Class&lt;? extends SecurityFilterConfig&gt; securityFilterConfig();\n\n}\n</code></pre>\n<p>And the <code>SecurityFilterConfig</code> which looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface SecurityFilterConfig {\n        \n        //returns true if action is allowed\n        boolean doFilter(SecurityContext securityContext);\n        \n}\n</code></pre>\n<p>And the controller definitions</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n    public class MyController {\n\n        @GetMapping\n        @InvokeSecurityFilter(Api1FilterConfig.class) &lt;-----\n        public void myApi1() {};\n\n        @GetMapping\n        @InvokeSecurityFilter(Api2FilterConfig.class) &lt;-----\n        public void myApi2() {};\n        \n}\n</code></pre>\n<p>Where Api1FilterConfig and Api2FilterConfig look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Api(1 or 2)FilterConfig extends SecurityFilterConfig {\n\n    //    \n}\n</code></pre>\n<p><strong>AuthPkg</strong></p>\n<p>AuthPkg would implement the <code>@InvokeSecurityFilter(ApiXFilterConfig.class)</code> annotation and would invoke <code>securityFilterConfig.doFilter()</code> which would be implement in the service because I want to be able to pass in additional security params from there</p>\n<p><strong>ServicePkg</strong></p>\n<p>Will have the implementation of my controllers</p>\n<p>--&gt; I want to be able to provide an implementation of the <code>ApiXFilterConfig</code> interface which would be use by <code>SecurityPkg</code></p>\n<p>A solution to my issue would be to move the <code>@InvokeSecurityFilter(ApiXFilterConfig.class)</code> to the ServicePkg and pass the implementing class as a parameter but that is not possible in my specific case</p>\n<p>Sorry if this problem is messy and too specific.\nFeel free to ask me for clarifying questions\nThanks</p>\n<p>I tried to make the class that implements <code>ApiXFilterConfig</code> interface a bean in <code>ServicePkg</code> and then retrieve it SecurityPkg but that didnt work</p>\n"},{"tags":["java","spring-boot","maven","spring-mvc","swagger"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678064058,"post_id":75646282,"comment_id":133455468,"body_markdown":"Does this answer your question? [I can&#39;t initialize my project with Swagger2](https://stackoverflow.com/questions/75575477/i-cant-initialize-my-project-with-swagger2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75575477/i-cant-initialize-my-project-with-swagger2\">I can&#39;t initialize my project with Swagger2</a>"},{"owner":{"account_id":24087635,"reputation":113,"user_id":18061379,"display_name":"fsaa"},"score":0,"creation_date":1678064288,"post_id":75646282,"comment_id":133455488,"body_markdown":"Not really, there isn&#39;t any information on how to resolve the issue, adding the dependencies in the link did not resolve my error.","body":"Not really, there isn&#39;t any information on how to resolve the issue, adding the dependencies in the link did not resolve my error."},{"owner":{"account_id":1776863,"reputation":373,"user_id":1620484,"accept_rate":33,"display_name":"Ragu"},"score":0,"creation_date":1678064394,"post_id":75646282,"comment_id":133455497,"body_markdown":"check dependency webflux and web, tomcat (you can remove web and tomcat if you using webflux api). and check your swagger configuration did you use path selector?","body":"check dependency webflux and web, tomcat (you can remove web and tomcat if you using webflux api). and check your swagger configuration did you use path selector?"},{"owner":{"account_id":24087635,"reputation":113,"user_id":18061379,"display_name":"fsaa"},"score":0,"creation_date":1678064933,"post_id":75646282,"comment_id":133455563,"body_markdown":"If I remove the web and tomcat dependency I get the error `java: cannot access jakarta.servlet.ServletException   class file for jakarta.servlet.ServletException not found` It could be becuase of Java version 17 but not sure. Also, I did use path selector for Get, put mappings","body":"If I remove the web and tomcat dependency I get the error <code>java: cannot access jakarta.servlet.ServletException   class file for jakarta.servlet.ServletException not found</code> It could be becuase of Java version 17 but not sure. Also, I did use path selector for Get, put mappings"},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":2,"creation_date":1678095094,"post_id":75646282,"comment_id":133460233,"body_markdown":"This is version compatibility issues between Spring and Springfox libraries. Springfox libraries were not updated to use latest version of Spring. As @tgdavies suggested the SpringDoc is the solution. Please have a look at the Documentation https://springdoc.org/v2/#getting-started . One of old my project that is using Spring Boot version &quot;2.2.6.RELEASE&quot; is working fine with springfox-swagger2 version &quot;2.9.2&quot;. So, if you want to stick to springfox-swagger2 version &quot;2.9.2&quot;, you might have to downgrade Spring Boot version.","body":"This is version compatibility issues between Spring and Springfox libraries. Springfox libraries were not updated to use latest version of Spring. As @tgdavies suggested the SpringDoc is the solution. Please have a look at the Documentation <a href=\"https://springdoc.org/v2/#getting-started\" rel=\"nofollow noreferrer\">springdoc.org/v2/#getting-started</a> . One of old my project that is using Spring Boot version &quot;2.2.6.RELEASE&quot; is working fine with springfox-swagger2 version &quot;2.9.2&quot;. So, if you want to stick to springfox-swagger2 version &quot;2.9.2&quot;, you might have to downgrade Spring Boot version."}],"owner":{"account_id":24087635,"reputation":113,"user_id":18061379,"display_name":"fsaa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678063793,"creation_date":1678063793,"question_id":75646282,"body_markdown":"I tried adding swagger into my dependencies in pom.xml file for api testing purposes and I got an error the full stack trace is:\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-03-05T19:43:47.852-05:00 ERROR 46269 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiDocumentationScanner&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDocumentationScanner.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;apiListingScanner&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiDescriptionReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.example.myPhotoAppp.MyPhotoApppApplication.main(MyPhotoApppApplication.java:12) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiListingScanner&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiDescriptionReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 24 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiDescriptionReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 38 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 52 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 66 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 80 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:154) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:90) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1823) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1265) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:336) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 95 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/comparator/InvertibleComparator\r\n\tat org.springframework.plugin.core.OrderAwarePluginRegistry.&lt;clinit&gt;(OrderAwarePluginRegistry.java:45) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\r\n\tat org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:36) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\r\n\tat org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:28) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:148) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 104 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.comparator.InvertibleComparator\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 108 common frames omitted\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:36241&#39;, transport: &#39;socket&#39;\r\n\r\n```\r\n\r\nThe list of dependencies i used are:\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\nMy application file has Swagger 2 enabled and imported as shown below in the code:\r\n\r\n```\r\npackage com.example.myPhotoAppp;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@SpringBootApplication\r\n@EnableSwagger2\r\npublic class MyPhotoApppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyPhotoApppApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI tried using 3.0.0 instead of 2.9.2 and it had same effect, I&#39;m assuming the issue is with the dependency of spring web and any advice is highly appreciated thanks!","title":"Error running Spring Boot with Swagger error message- &#39;org.springframework.beans.factory.UnsatisfiedDependencyException:&#39;","body":"<p>I tried adding swagger into my dependencies in pom.xml file for api testing purposes and I got an error the full stack trace is:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-03-05T19:43:47.852-05:00 ERROR 46269 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiDocumentationScanner' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDocumentationScanner.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'apiListingScanner' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiDescriptionReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.example.myPhotoAppp.MyPhotoApppApplication.main(MyPhotoApppApplication.java:12) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiListingScanner' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiDescriptionReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiDescriptionReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 52 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/home/fahim/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 66 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 80 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:154) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:90) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1823) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1265) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:336) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 95 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/comparator/InvertibleComparator\n    at org.springframework.plugin.core.OrderAwarePluginRegistry.&lt;clinit&gt;(OrderAwarePluginRegistry.java:45) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\n    at org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:36) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\n    at org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:28) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:148) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 104 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.comparator.InvertibleComparator\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 108 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:36241', transport: 'socket'\n\n</code></pre>\n<p>The list of dependencies i used are:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.firebase/firebase-admin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;6.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>My application file has Swagger 2 enabled and imported as shown below in the code:</p>\n<pre><code>package com.example.myPhotoAppp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@SpringBootApplication\n@EnableSwagger2\npublic class MyPhotoApppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyPhotoApppApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>I tried using 3.0.0 instead of 2.9.2 and it had same effect, I'm assuming the issue is with the dependency of spring web and any advice is highly appreciated thanks!</p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1677909575,"post_id":75633291,"comment_id":133434566,"body_markdown":"`search.maven.org` no longer responds to plaintext HTTP requests; use `https`.","body":"<code>search.maven.org</code> no longer responds to plaintext HTTP requests; use <code>https</code>."},{"owner":{"account_id":233824,"reputation":45501,"user_id":499581,"accept_rate":92,"display_name":"l&#39;L&#39;l"},"score":0,"creation_date":1677909746,"post_id":75633291,"comment_id":133434594,"body_markdown":"@Joe, the `cmdrunner` is requesting the url, or the repo (`org.jmeterplugins.repository.PluginManagerCMD`).","body":"@Joe, the <code>cmdrunner</code> is requesting the url, or the repo (<code>org.jmeterplugins.repository.PluginManagerCMD</code>)."},{"owner":{"account_id":16527823,"reputation":645,"user_id":11941998,"display_name":"Lagot"},"score":0,"creation_date":1677912343,"post_id":75633291,"comment_id":133434812,"body_markdown":"I see the files from my browser when trying to access HTTPS = https://repo1.maven.org/maven2/net/sf/json-lib/json-lib/2.4/ , while getting error 501 response from HTTP = http://repo1.maven.org/maven2/net/sf/json-lib/json-lib/2.4/ . May I ask on from which section can I correct this?","body":"I see the files from my browser when trying to access HTTPS = <a href=\"https://repo1.maven.org/maven2/net/sf/json-lib/json-lib/2.4/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/net/sf/json-lib/json-lib/2.4</a> , while getting error 501 response from HTTP = <a href=\"http://repo1.maven.org/maven2/net/sf/json-lib/json-lib/2.4/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/net/sf/json-lib/json-lib/2.4</a> . May I ask on from which section can I correct this?"},{"owner":{"account_id":233824,"reputation":45501,"user_id":499581,"accept_rate":92,"display_name":"l&#39;L&#39;l"},"score":1,"creation_date":1677917868,"post_id":75633291,"comment_id":133435339,"body_markdown":"@Legon, it appears they know of this issue, but [haven&#39;t fixed it.](https://github.com/undera/jmeter-plugins/pull/572)","body":"@Legon, it appears they know of this issue, but <a href=\"https://github.com/undera/jmeter-plugins/pull/572\" rel=\"nofollow noreferrer\">haven&#39;t fixed it.</a>"},{"owner":{"account_id":16527823,"reputation":645,"user_id":11941998,"display_name":"Lagot"},"score":0,"creation_date":1677937927,"post_id":75633291,"comment_id":133437878,"body_markdown":"@l&#39;L&#39;l  - thanks for sharing this, seems like is already a known issue from developers side. I&#39;ll track their progress too","body":"@l&#39;L&#39;l  - thanks for sharing this, seems like is already a known issue from developers side. I&#39;ll track their progress too"}],"answers":[{"comments":[{"owner":{"account_id":16527823,"reputation":645,"user_id":11941998,"display_name":"Lagot"},"score":0,"creation_date":1677897852,"post_id":75633315,"comment_id":133433637,"body_markdown":"is it the plugins manager that needs to be modified or the cmdrunner? sorry I&#39;m just new to this","body":"is it the plugins manager that needs to be modified or the cmdrunner? sorry I&#39;m just new to this"},{"owner":{"account_id":233824,"reputation":45501,"user_id":499581,"accept_rate":92,"display_name":"l&#39;L&#39;l"},"score":0,"creation_date":1677906354,"post_id":75633315,"comment_id":133434257,"body_markdown":"@Lagot: No, it&#39;s the tutorial that needs fixed. They are telling you to download a file from a url that times out or doesn&#39;t exist.","body":"@Lagot: No, it&#39;s the tutorial that needs fixed. They are telling you to download a file from a url that times out or doesn&#39;t exist."},{"owner":{"account_id":233824,"reputation":45501,"user_id":499581,"accept_rate":92,"display_name":"l&#39;L&#39;l"},"score":0,"creation_date":1677908740,"post_id":75633315,"comment_id":133434485,"body_markdown":"@Lagot: I edited my answer to include the steps with updated versions of what was attempting to be installed, so give it a try.","body":"@Lagot: I edited my answer to include the steps with updated versions of what was attempting to be installed, so give it a try."},{"owner":{"account_id":16527823,"reputation":645,"user_id":11941998,"display_name":"Lagot"},"score":0,"creation_date":1677913466,"post_id":75633315,"comment_id":133434895,"body_markdown":"@Il&#39;L&#39;l - tried your steps, still it get stuck on downloading the file from non-https maven url","body":"@Il&#39;L&#39;l - tried your steps, still it get stuck on downloading the file from non-https maven url"},{"owner":{"account_id":233824,"reputation":45501,"user_id":499581,"accept_rate":92,"display_name":"l&#39;L&#39;l"},"score":0,"creation_date":1677917596,"post_id":75633315,"comment_id":133435306,"body_markdown":"In your configuration files look for `jmeter.json`. You can do `find . -name &#39;jmeter.json&#39; -exec echo {} \\&#39;;` to search recursively. Once you find it look at the `json` for any `http://` and try changing it to `https://`.","body":"In your configuration files look for <code>jmeter.json</code>. You can do <code>find . -name &#39;jmeter.json&#39; -exec echo {} \\&#39;;</code> to search recursively. Once you find it look at the <code>json</code> for any <code>http:&#47;&#47;</code> and try changing it to <code>https:&#47;&#47;</code>."}],"tags":[],"owner":{"account_id":233824,"reputation":45501,"user_id":499581,"accept_rate":92,"display_name":"l&#39;L&#39;l"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677909351,"creation_date":1677897450,"answer_id":75633315,"question_id":75633291,"body_markdown":"The problem is that the url it&#39;s trying to download from is timing out.\r\n\r\n    2023-03-04 02:02:43,339 INFO o.j.r.JARSourceHTTP: Downloading: http://search.maven.org/remotecontent?filepath=net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar\r\n    ...\r\n    java.net.ConnectException: Connection timed out (Connection timed out)\r\n\r\npinging `search.maven.org` comes back with:\r\n \r\n    % ping search.maven.org -c 5\r\n    PING search-maven-org-prod-env.us-east-1.elasticbeanstalk.com (34.195.195.141): 56 data bytes\r\n    Request timeout for icmp_seq 0\r\n    Request timeout for icmp_seq 1\r\n    Request timeout for icmp_seq 2\r\n    Request timeout for icmp_seq 3\r\n\r\n    --- search-maven-org-prod-env.us-east-1.elasticbeanstalk.com ping statistics ---\r\n    5 packets transmitted, 0 packets received, 100.0% packet loss\r\n\r\nObviously the url mentioned in step 7 is no longer valid, or it&#39;s temporarily down. Whatever the case, that&#39;s the problem, and you&#39;ll need to find an alternate download url for the file `json-lib-2.4-jdk15.jar`.\r\n\r\nMaybe try these steps instead (starting from step #2):\r\n\r\n2. ```curl -O https://archive.apache.org/dist/jmeter/binaries/apache-jmeter-5.5.zip```\r\n\r\n3. ```tar -xvf apache-jmeter-5.5.tgz```\r\n\r\n4. ```rm -rf apache-jmeter-5.5/docs apache-jmeter-5.5/printable_docs```\r\n \r\n5. ```cd apache-jmeter-5.5/lib ; curl -O https://repo1.maven.org/maven2/kg/apc/cmdrunner/2.3/cmdrunner-2.3.jar```\r\n\r\n6. ```cd ext/ ; curl -O https://repo1.maven.org/maven2/kg/apc/jmeter-plugins-manager/1.8/jmeter-plugins-manager-1.8.jar```\r\n\r\n7. ```cd .. ; java -jar cmdrunner-2.3.jar --tool org.jmeterplugins.repository.PluginManagerCMD install-all-except jpgc-hadoop,jpgc-oauth,ulp-jmeter-autocorrelator-plugin,ulp-jmeter-videostreaming-plugin,ulp-jmeter-gwt-plugin,tilln-iso8583```\r\n\r\n8. ```cd apache-jmeter-5.5/bin ; ./jmeter.sh --version```\r\n\r\n9. ```cp -r apache-jmeter-5.5 /opt/```\r\n\r\n10. ```nano .profile```\r\n\r\n    Add Jmeter Home variable at the end of the line\r\n\r\n    ```JMETER_HOME=&quot;/opt/apache-jmeter-5.5&quot;```\r\n\r\n    Modify PATH variable at the end of the line\r\n\r\n    ```PATH=&quot;$JMETER_HOME/bin:$PATH&quot;```\r\n\r\n    Reload your bash profile\r\n\r\n    ```source ~/.profile```\r\n\r\nThe steps above simply follow those of article you linked, although swapping the older version of the managers and plug-in with the newest. It could simply be that url (mentioned above) `cmdrunner` is trying to install the `json-lib-2.4-jdk15.jar` from is down. \r\n","title":"JAVA - Failed to download json-lib","body":"<p>The problem is that the url it's trying to download from is timing out.</p>\n<pre><code>2023-03-04 02:02:43,339 INFO o.j.r.JARSourceHTTP: Downloading: http://search.maven.org/remotecontent?filepath=net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar\n...\njava.net.ConnectException: Connection timed out (Connection timed out)\n</code></pre>\n<p>pinging <code>search.maven.org</code> comes back with:</p>\n<pre><code>% ping search.maven.org -c 5\nPING search-maven-org-prod-env.us-east-1.elasticbeanstalk.com (34.195.195.141): 56 data bytes\nRequest timeout for icmp_seq 0\nRequest timeout for icmp_seq 1\nRequest timeout for icmp_seq 2\nRequest timeout for icmp_seq 3\n\n--- search-maven-org-prod-env.us-east-1.elasticbeanstalk.com ping statistics ---\n5 packets transmitted, 0 packets received, 100.0% packet loss\n</code></pre>\n<p>Obviously the url mentioned in step 7 is no longer valid, or it's temporarily down. Whatever the case, that's the problem, and you'll need to find an alternate download url for the file <code>json-lib-2.4-jdk15.jar</code>.</p>\n<p>Maybe try these steps instead (starting from step #2):</p>\n<ol start=\"2\">\n<li><p><code>curl -O https://archive.apache.org/dist/jmeter/binaries/apache-jmeter-5.5.zip</code></p>\n</li>\n<li><p><code>tar -xvf apache-jmeter-5.5.tgz</code></p>\n</li>\n<li><p><code>rm -rf apache-jmeter-5.5/docs apache-jmeter-5.5/printable_docs</code></p>\n</li>\n<li><p><code>cd apache-jmeter-5.5/lib ; curl -O https://repo1.maven.org/maven2/kg/apc/cmdrunner/2.3/cmdrunner-2.3.jar</code></p>\n</li>\n<li><p><code>cd ext/ ; curl -O https://repo1.maven.org/maven2/kg/apc/jmeter-plugins-manager/1.8/jmeter-plugins-manager-1.8.jar</code></p>\n</li>\n<li><p><code>cd .. ; java -jar cmdrunner-2.3.jar --tool org.jmeterplugins.repository.PluginManagerCMD install-all-except jpgc-hadoop,jpgc-oauth,ulp-jmeter-autocorrelator-plugin,ulp-jmeter-videostreaming-plugin,ulp-jmeter-gwt-plugin,tilln-iso8583</code></p>\n</li>\n<li><p><code>cd apache-jmeter-5.5/bin ; ./jmeter.sh --version</code></p>\n</li>\n<li><p><code>cp -r apache-jmeter-5.5 /opt/</code></p>\n</li>\n<li><p><code>nano .profile</code></p>\n<p>Add Jmeter Home variable at the end of the line</p>\n<p><code>JMETER_HOME=&quot;/opt/apache-jmeter-5.5&quot;</code></p>\n<p>Modify PATH variable at the end of the line</p>\n<p><code>PATH=&quot;$JMETER_HOME/bin:$PATH&quot;</code></p>\n<p>Reload your bash profile</p>\n<p><code>source ~/.profile</code></p>\n</li>\n</ol>\n<p>The steps above simply follow those of article you linked, although swapping the older version of the managers and plug-in with the newest. It could simply be that url (mentioned above) <code>cmdrunner</code> is trying to install the <code>json-lib-2.4-jdk15.jar</code> from is down.</p>\n"},{"tags":[],"owner":{"account_id":16527823,"reputation":645,"user_id":11941998,"display_name":"Lagot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678063192,"creation_date":1678062230,"answer_id":75646200,"question_id":75633291,"body_markdown":"I am able to download the json-lib now, it appears that it still pulls from via http and able to get the file. Seems like changes under this [discussion][1] fixed the issue. \r\n\r\n    2023-03-06 00:25:39,507 INFO o.j.r.JARSourceHTTP: Downloading: http://search.maven.org/remotecontent?filepath=net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar\r\n    2023-03-06 00:25:39,507 INFO o.j.r.PluginManagerCMD: Downloading json-lib...\r\n    023-03-06 00:25:40,548 INFO o.j.r.PluginManagerCMD: Downloaded json-lib...\r\n\r\n  [1]: https://github.com/undera/jmeter-plugins/pull/572","title":"JAVA - Failed to download json-lib","body":"<p>I am able to download the json-lib now, it appears that it still pulls from via http and able to get the file. Seems like changes under this <a href=\"https://github.com/undera/jmeter-plugins/pull/572\" rel=\"nofollow noreferrer\">discussion</a> fixed the issue.</p>\n<pre><code>2023-03-06 00:25:39,507 INFO o.j.r.JARSourceHTTP: Downloading: http://search.maven.org/remotecontent?filepath=net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar\n2023-03-06 00:25:39,507 INFO o.j.r.PluginManagerCMD: Downloading json-lib...\n023-03-06 00:25:40,548 INFO o.j.r.PluginManagerCMD: Downloaded json-lib...\n</code></pre>\n"}],"owner":{"account_id":16527823,"reputation":645,"user_id":11941998,"display_name":"Lagot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678063192,"creation_date":1677896937,"question_id":75633291,"body_markdown":"Trying to install JMeter5.5 and followed this [article][1] , I&#39;m with step 7 to download the plugins using cmdrunner-2.3.jar however I got issue on downloading json-lib. Please advise on how to resolve it.\r\n\r\nThis is the error message I&#39;m gettiung when executed the step 7:\r\n\r\n    2023-03-04 02:02:43,339 INFO o.j.r.JARSourceHTTP: Downloading: http://search.maven.org/remotecontent?filepath=net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar\r\n    2023-03-04 02:02:43,339 INFO o.j.r.PluginManagerCMD: Downloading json-lib...\r\n    2023-03-04 02:07:04,309 ERROR o.j.r.PluginManager: Failed to download json-lib\r\n    java.net.ConnectException: Connection timed out (Connection timed out)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[?:?]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[?:?]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[?:?]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:?]\r\n    \tat java.net.Socket.connect(Socket.java:609) ~[?:?]\r\n    \tat org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.jmeterplugins.repository.JARSourceHTTP.execute(JARSourceHTTP.java:499) ~[plugins-manager.jar:?]\r\n    \tat org.jmeterplugins.repository.JARSourceHTTP.getJAR(JARSourceHTTP.java:389) ~[plugins-manager.jar:?]\r\n    \tat org.jmeterplugins.repository.PluginManager.applyChanges(PluginManager.java:167) ~[plugins-manager.jar:?]\r\n    \tat org.jmeterplugins.repository.PluginManagerCMD.installAll(PluginManagerCMD.java:146) ~[plugins-manager.jar:?]\r\n    \tat org.jmeterplugins.repository.PluginManagerCMD.processParams(PluginManagerCMD.java:78) ~[plugins-manager.jar:?]\r\n    \tat kg.apc.cmdtools.PluginsCMD.processParams(PluginsCMD.java:62) ~[cmdrunner-2.3.jar:?]\r\n    \tat kg.apc.cmdtools.PluginsCMD.processParams(PluginsCMD.java:21) ~[cmdrunner-2.3.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat kg.apc.cmd.UniversalRunner.main(UniversalRunner.java:117) ~[cmdrunner-2.3.jar:?]\r\n\r\n\r\n  [1]: https://sarkershantonu.github.io/2021/01/06/install-jmeter-plugins-cli/\r\n","title":"JAVA - Failed to download json-lib","body":"<p>Trying to install JMeter5.5 and followed this <a href=\"https://sarkershantonu.github.io/2021/01/06/install-jmeter-plugins-cli/\" rel=\"nofollow noreferrer\">article</a> , I'm with step 7 to download the plugins using cmdrunner-2.3.jar however I got issue on downloading json-lib. Please advise on how to resolve it.</p>\n<p>This is the error message I'm gettiung when executed the step 7:</p>\n<pre><code>2023-03-04 02:02:43,339 INFO o.j.r.JARSourceHTTP: Downloading: http://search.maven.org/remotecontent?filepath=net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar\n2023-03-04 02:02:43,339 INFO o.j.r.PluginManagerCMD: Downloading json-lib...\n2023-03-04 02:07:04,309 ERROR o.j.r.PluginManager: Failed to download json-lib\njava.net.ConnectException: Connection timed out (Connection timed out)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[?:?]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[?:?]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[?:?]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:?]\n    at java.net.Socket.connect(Socket.java:609) ~[?:?]\n    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.jmeterplugins.repository.JARSourceHTTP.execute(JARSourceHTTP.java:499) ~[plugins-manager.jar:?]\n    at org.jmeterplugins.repository.JARSourceHTTP.getJAR(JARSourceHTTP.java:389) ~[plugins-manager.jar:?]\n    at org.jmeterplugins.repository.PluginManager.applyChanges(PluginManager.java:167) ~[plugins-manager.jar:?]\n    at org.jmeterplugins.repository.PluginManagerCMD.installAll(PluginManagerCMD.java:146) ~[plugins-manager.jar:?]\n    at org.jmeterplugins.repository.PluginManagerCMD.processParams(PluginManagerCMD.java:78) ~[plugins-manager.jar:?]\n    at kg.apc.cmdtools.PluginsCMD.processParams(PluginsCMD.java:62) ~[cmdrunner-2.3.jar:?]\n    at kg.apc.cmdtools.PluginsCMD.processParams(PluginsCMD.java:21) ~[cmdrunner-2.3.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at kg.apc.cmd.UniversalRunner.main(UniversalRunner.java:117) ~[cmdrunner-2.3.jar:?]\n</code></pre>\n"},{"tags":["java","jar","bar-chart","jbutton","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678063219,"post_id":75645461,"comment_id":133455384,"body_markdown":"Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html), then please [edit] your question to include a [mre] that shows your revised approach.","body":"Construct and manipulate Swing GUI objects <i>only</i> on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a>, then please <a href=\"https://stackoverflow.com/posts/75645461/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":26857166,"reputation":1,"user_id":20441300,"display_name":"Alejandro"},"score":0,"creation_date":1678634624,"post_id":75645461,"comment_id":133567602,"body_markdown":"Thank you. I realized that other computers could not see the button function for plotting due to the system origin that set the decimal separators as commas, therefore the JFree Chart could not display the plot (no number). Then, I had to specify the Locale.US to keep the decimals with dots instead of commas.","body":"Thank you. I realized that other computers could not see the button function for plotting due to the system origin that set the decimal separators as commas, therefore the JFree Chart could not display the plot (no number). Then, I had to specify the Locale.US to keep the decimals with dots instead of commas."}],"owner":{"account_id":26857166,"reputation":1,"user_id":20441300,"display_name":"Alejandro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678063084,"creation_date":1678051743,"question_id":75645461,"body_markdown":"I have exported an application as runnable JAR file. The window contain three buttons that make specific actions: clear data selection, plot data as bar chart, and plot data as line chart. When I run this file in my computer, both plotting buttons work properly with absolute paths to the respective files (I call the data from .txt files). However, when the runnable JAR file is open in another computer (using the same location in Desktop), the line chart is displayed properly, but the bar chart isn&#39;t. The charts are generated using the JFreeChart library.\r\n\r\nWhat could be the reasons for this failure?\r\n\r\nThe bar chart button retrieves the values selected from a table and placed in text fields. Here is a brief part of the code:\r\n\r\n```\r\npublic class MainWindow extends JFrame implements MouseListener {\r\n\r\n\tprivate JPanel contentPane;\r\n\tpublic static JTable table;\r\n\tboolean isFirstClick = true;\r\n\tprivate JTextField textFieldYear1;\t\r\n\tprivate JTextField textFieldValue1;\r\n\tprivate JButton btnbarChart;\t\r\n\r\n\tpublic MainWindow() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetTitle(&quot;Application&quot;);\r\n\t\tsetSize(1500, 800);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\t\r\n\t\t// Methods\r\n\t\tStartComponents();\r\n\t}\r\n\r\n\tpublic void StartComponents() {\r\n\r\n\t\tIcon barChartIcon = new ImageIcon(pathCombined+&quot;barChartIcon.png&quot;);\r\n\t\tbtnbarChart = new JButton(&quot;BarChart&quot;,barChartIcon);\r\n\t\tbtnbarChart.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent evt1) {\r\n\t\t\t\tString year1 = textFieldYear1.getText();\r\n\t\t\t\tString Value1 = textFieldValue1.getText();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tDefaultCategoryDataset dataset = new DefaultCategoryDataset();\r\n\t\t\t\tdataset.setValue(Double.parseDouble(Value1), &quot;Values&quot;, year1);\r\n\t\t\t\t\r\n\t\t        JFreeChart BarChartWindow = ChartFactory.createBarChart(\r\n\t\t\t\t\t&quot;Application for Plotting Data&quot;,\r\n\t\t\t\t\t&quot;Year&quot;,\r\n\t\t\t\t\t&quot;Values [m&#179;]&quot;,\r\n\t\t\t\t\tdataset,\r\n\t\t\t\t\tPlotOrientation.VERTICAL,\r\n\t\t\t\t\tfalse, true, false);\r\n\t\t        ChartFrame barFrame = new ChartFrame(&quot;BarChart&quot;, BarChartWindow);\r\n\t\t        barFrame.setVisible(true);\r\n\t\t        barFrame.setSize(500,500);\r\n\r\n\t\t        CategoryPlot cplot = (CategoryPlot)BarChartWindow.getPlot();\r\n\t\t        cplot.setBackgroundPaint(SystemColor.inactiveCaption);\r\n\r\n\t\t        ((BarRenderer)cplot.getRenderer()).setBarPainter(new StandardBarPainter());\r\n\t\t        BarRenderer r = (BarRenderer)BarChartWindow.getCategoryPlot().getRenderer();\r\n\t\t        r.setSeriesPaint(0, Color.BLUE);\r\n\t\t\t}\t\t\t\r\n\t\t});\r\n\t\tbtnbarChart.setBounds(810, 732, 160, 21);\r\n\t\tcontentPane.add(btnbarChart);\r\n\t}\r\n\r\n\tpublic void mouseClicked(MouseEvent evt1) {\r\n\t\tDecimalFormat df1 = new DecimalFormat(&quot;#0.00&quot;);\r\n\t\tif (isFirstClick) { \r\n\t\t\tint row = table.getSelectedRow();\r\n\t\t\tString year1 = table.getModel().getValueAt(row, 0).toString();\r\n\t\t\tString Value1 = table.getModel().getValueAt(row, 14).toString();\r\n\t\t\ttextFieldYear1.setText(year1);\t\r\n\t\t\ttextFieldValue1.setText(df1.format(Double.parseDouble(Value1)));\r\n\t\t\tisFirstClick = false;\r\n\t\t}\t\r\n\t}\r\n}\r\n```","title":"The application buttons of a runnable JAR file do not work in other computers; one of them does not display the chart","body":"<p>I have exported an application as runnable JAR file. The window contain three buttons that make specific actions: clear data selection, plot data as bar chart, and plot data as line chart. When I run this file in my computer, both plotting buttons work properly with absolute paths to the respective files (I call the data from .txt files). However, when the runnable JAR file is open in another computer (using the same location in Desktop), the line chart is displayed properly, but the bar chart isn't. The charts are generated using the JFreeChart library.</p>\n<p>What could be the reasons for this failure?</p>\n<p>The bar chart button retrieves the values selected from a table and placed in text fields. Here is a brief part of the code:</p>\n<pre><code>public class MainWindow extends JFrame implements MouseListener {\n\n    private JPanel contentPane;\n    public static JTable table;\n    boolean isFirstClick = true;\n    private JTextField textFieldYear1;  \n    private JTextField textFieldValue1;\n    private JButton btnbarChart;    \n\n    public MainWindow() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(&quot;Application&quot;);\n        setSize(1500, 800);\n        setLocationRelativeTo(null);\n        \n        // Methods\n        StartComponents();\n    }\n\n    public void StartComponents() {\n\n        Icon barChartIcon = new ImageIcon(pathCombined+&quot;barChartIcon.png&quot;);\n        btnbarChart = new JButton(&quot;BarChart&quot;,barChartIcon);\n        btnbarChart.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent evt1) {\n                String year1 = textFieldYear1.getText();\n                String Value1 = textFieldValue1.getText();\n                                        \n                DefaultCategoryDataset dataset = new DefaultCategoryDataset();\n                dataset.setValue(Double.parseDouble(Value1), &quot;Values&quot;, year1);\n                \n                JFreeChart BarChartWindow = ChartFactory.createBarChart(\n                    &quot;Application for Plotting Data&quot;,\n                    &quot;Year&quot;,\n                    &quot;Values [m³]&quot;,\n                    dataset,\n                    PlotOrientation.VERTICAL,\n                    false, true, false);\n                ChartFrame barFrame = new ChartFrame(&quot;BarChart&quot;, BarChartWindow);\n                barFrame.setVisible(true);\n                barFrame.setSize(500,500);\n\n                CategoryPlot cplot = (CategoryPlot)BarChartWindow.getPlot();\n                cplot.setBackgroundPaint(SystemColor.inactiveCaption);\n\n                ((BarRenderer)cplot.getRenderer()).setBarPainter(new StandardBarPainter());\n                BarRenderer r = (BarRenderer)BarChartWindow.getCategoryPlot().getRenderer();\n                r.setSeriesPaint(0, Color.BLUE);\n            }           \n        });\n        btnbarChart.setBounds(810, 732, 160, 21);\n        contentPane.add(btnbarChart);\n    }\n\n    public void mouseClicked(MouseEvent evt1) {\n        DecimalFormat df1 = new DecimalFormat(&quot;#0.00&quot;);\n        if (isFirstClick) { \n            int row = table.getSelectedRow();\n            String year1 = table.getModel().getValueAt(row, 0).toString();\n            String Value1 = table.getModel().getValueAt(row, 14).toString();\n            textFieldYear1.setText(year1);  \n            textFieldValue1.setText(df1.format(Double.parseDouble(Value1)));\n            isFirstClick = false;\n        }   \n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":15269583,"reputation":369,"user_id":11017183,"display_name":"Fatema Khuzaima Sagar"},"score":0,"creation_date":1578551810,"post_id":59658058,"comment_id":105476876,"body_markdown":"Can you share the schema and the commands of producing and consuming the data produced for the topic ?","body":"Can you share the schema and the commands of producing and consuming the data produced for the topic ?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1578583728,"creation_date":1578558284,"answer_id":59659787,"question_id":59658058,"body_markdown":"It&#39;s not possible to use different Registry urls in a producer and be able to consume them consistently. \r\n\r\nThe reason is that a different ID will be placed in the topic. \r\n\r\nThe Schema ID lookup cannot be skipped\r\n\r\nIf you had the used same registry, the same schema payload would always generate the same ID, which the consumer would then be able to use consistently to read messages ","title":"How can I configure Confluent Registry to use a different Avro schema source?","body":"<p>It's not possible to use different Registry urls in a producer and be able to consume them consistently. </p>\n\n<p>The reason is that a different ID will be placed in the topic. </p>\n\n<p>The Schema ID lookup cannot be skipped</p>\n\n<p>If you had the used same registry, the same schema payload would always generate the same ID, which the consumer would then be able to use consistently to read messages </p>\n"}],"owner":{"account_id":9983500,"reputation":65,"user_id":7385599,"display_name":"OldCPW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59659787,"answer_count":1,"score":0,"last_activity_date":1678063035,"creation_date":1578549830,"question_id":59658058,"body_markdown":"I produce the same Avro schema to one topic use different Confluent Registry sources. I get the error when I consume this topic:\r\n\r\n```\r\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition XXXXX_XXXX_XXX-0 at offset 0. If needed, please seek past the record to continue consumption.\r\n\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 7\r\n\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Could not find class XXXXX_XXXX_XXX specified in writer&#39;s schema whilst finding reader&#39;s schema for a SpecificRecord.\r\n```\r\n\r\nHow to ignore differently Avro message-id? \r\n\r\n---\r\n\r\nSchema:  \r\n \r\n     {\r\n          &quot;type&quot;: &quot;record&quot;,\r\n          &quot;name&quot;: &quot;XXXXX_XXXX_XXX&quot;,\r\n          &quot;namespace&quot;: &quot;aa.bb.cc.dd&quot;,\r\n          &quot;fields&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;ACTION&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;:null,\r\n              &quot;doc&quot;:&quot;action&quot;\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;EMAIL&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;:null,\r\n              &quot;doc&quot;:&quot;email address&quot;\r\n            }\r\n          ]\r\n        }\r\nProduced command\r\n\r\n    {&quot;Action&quot;: &quot;A&quot;, &quot;EMAIL&quot;: &quot;xxxx@xxx.com&quot;}","title":"How can I configure Confluent Registry to use a different Avro schema source?","body":"<p>I produce the same Avro schema to one topic use different Confluent Registry sources. I get the error when I consume this topic:</p>\n\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition XXXXX_XXXX_XXX-0 at offset 0. If needed, please seek past the record to continue consumption.\n\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing Avro message for id 7\n\nCaused by: org.apache.kafka.common.errors.SerializationException: Could not find class XXXXX_XXXX_XXX specified in writer's schema whilst finding reader's schema for a SpecificRecord.\n</code></pre>\n\n<p>How to ignore differently Avro message-id? </p>\n\n<hr>\n\n<p>Schema:  </p>\n\n<pre><code> {\n      \"type\": \"record\",\n      \"name\": \"XXXXX_XXXX_XXX\",\n      \"namespace\": \"aa.bb.cc.dd\",\n      \"fields\": [\n        {\n          \"name\": \"ACTION\",\n          \"type\": [\n            \"null\",\n            \"string\"\n          ],\n          \"default\":null,\n          \"doc\":\"action\"\n        },\n        {\n          \"name\": \"EMAIL\",\n          \"type\": [\n            \"null\",\n            \"string\"\n          ],\n          \"default\":null,\n          \"doc\":\"email address\"\n        }\n      ]\n    }\n</code></pre>\n\n<p>Produced command</p>\n\n<pre><code>{\"Action\": \"A\", \"EMAIL\": \"xxxx@xxx.com\"}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","cors"],"answers":[{"comments":[{"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"score":0,"creation_date":1392108159,"post_id":21696715,"comment_id":32803399,"body_markdown":"But I guess we cant have some thing like  `&lt;intercept-url pattern=&quot;/client/edit&quot; access=&quot;hasRole(&#39;EDITOR&#39;)&quot; method=&quot;POST, OPTIONS&quot; /&gt;` . Right ?","body":"But I guess we cant have some thing like  <code>&lt;intercept-url pattern=&quot;&#47;client&#47;edit&quot; access=&quot;hasRole(&#39;EDITOR&#39;)&quot; method=&quot;POST, OPTIONS&quot; &#47;&gt;</code> . Right ?"},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1392108683,"post_id":21696715,"comment_id":32803674,"body_markdown":"According to http://www.springframework.org/schema/security/spring-security-3.1.xsd, I dont think so","body":"According to <a href=\"http://www.springframework.org/schema/security/spring-security-3.1.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/security/spring-security-3.1.xsd</a>, I dont think so"},{"owner":{"account_id":4343401,"reputation":469,"user_id":3546089,"accept_rate":60,"display_name":"Dipanshu Verma"},"score":1,"creation_date":1446913629,"post_id":21696715,"comment_id":54946214,"body_markdown":"How would this work in case of @PreAuthorize annotation, I want Put methods to have Admin access and Post methods to have User access","body":"How would this work in case of @PreAuthorize annotation, I want Put methods to have Admin access and Post methods to have User access"},{"owner":{"account_id":1566746,"reputation":993,"user_id":1455360,"accept_rate":58,"display_name":"Ravi Kumar"},"score":1,"creation_date":1449294671,"post_id":21696715,"comment_id":55955257,"body_markdown":"What will be it&#39;s equivalent in java config","body":"What will be it&#39;s equivalent in java config"},{"owner":{"account_id":8540178,"reputation":191,"user_id":6400572,"accept_rate":62,"display_name":"dnvsp"},"score":0,"creation_date":1527593528,"post_id":21696715,"comment_id":88175717,"body_markdown":"please have a look on my problem. https://stackoverflow.com/questions/50579277/no-access-control-allow-origin-header-is-present-on-the-requested-resource-th","body":"please have a look on my problem. <a href=\"https://stackoverflow.com/questions/50579277/no-access-control-allow-origin-header-is-present-on-the-requested-resource-th\" title=\"no access control allow origin header is present on the requested resource th\">stackoverflow.com/questions/50579277/&hellip;</a>"}],"tags":[],"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"comment_count":5,"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1392107540,"creation_date":1392107540,"answer_id":21696715,"question_id":21696592,"body_markdown":"Have you tried this \r\n\r\n&gt; You can use multiple &lt;intercept-url&gt; elements to define different\r\n&gt; access requirements for different sets of URLs, but they will be\r\n&gt; evaluated in the order listed and the first match will be used. So you\r\n&gt; must put the most specific matches at the top. You can also add a\r\n&gt; method attribute to limit the match to a particular HTTP method (GET,\r\n&gt; POST, PUT etc.).\r\n\r\n    &lt;http auto-config=&quot;true&quot;&gt;\r\n        &lt;intercept-url pattern=&quot;/client/edit&quot; access=&quot;isAuthenticated&quot; method=&quot;GET&quot; /&gt;\r\n        &lt;intercept-url pattern=&quot;/client/edit&quot; access=&quot;hasRole(&#39;EDITOR&#39;)&quot; method=&quot;POST&quot; /&gt;\r\n    &lt;/http&gt;\r\n\r\nAbove means you need to select the url pattern to intercept and what methods you want ","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>Have you tried this </p>\n\n<blockquote>\n  <p>You can use multiple  elements to define different\n  access requirements for different sets of URLs, but they will be\n  evaluated in the order listed and the first match will be used. So you\n  must put the most specific matches at the top. You can also add a\n  method attribute to limit the match to a particular HTTP method (GET,\n  POST, PUT etc.).</p>\n</blockquote>\n\n<pre><code>&lt;http auto-config=\"true\"&gt;\n    &lt;intercept-url pattern=\"/client/edit\" access=\"isAuthenticated\" method=\"GET\" /&gt;\n    &lt;intercept-url pattern=\"/client/edit\" access=\"hasRole('EDITOR')\" method=\"POST\" /&gt;\n&lt;/http&gt;\n</code></pre>\n\n<p>Above means you need to select the url pattern to intercept and what methods you want </p>\n"},{"comments":[{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":4,"creation_date":1415787328,"post_id":26848692,"comment_id":42323937,"body_markdown":"+1 Exactly what we did to enable CORS OPTIONS requests.","body":"+1 Exactly what we did to enable CORS OPTIONS requests."},{"owner":{"account_id":5788636,"reputation":381,"user_id":4566958,"display_name":"Saurav Wahid"},"score":0,"creation_date":1453282681,"post_id":26848692,"comment_id":57529385,"body_markdown":"it&#39;s works fine Thanks for your tips i searching and debug lot but can&#39;t fixed now i fixed it to use this tips","body":"it&#39;s works fine Thanks for your tips i searching and debug lot but can&#39;t fixed now i fixed it to use this tips"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1461022854,"post_id":26848692,"comment_id":61000016,"body_markdown":"I found your answer while researching a similar problem which does not yet respond to your solution in its present form.  Are you willing to take a look?  Here is the link:  http://stackoverflow.com/questions/36705874/request-options-logout-doesnt-match-post-logout","body":"I found your answer while researching a similar problem which does not yet respond to your solution in its present form.  Are you willing to take a look?  Here is the link:  <a href=\"http://stackoverflow.com/questions/36705874/request-options-logout-doesnt-match-post-logout\" title=\"request options logout doesnt match post logout\">stackoverflow.com/questions/36705874/&hellip;</a>"},{"owner":{"account_id":3747452,"reputation":421,"user_id":3115798,"accept_rate":100,"display_name":"Dr4gon"},"score":0,"creation_date":1476052265,"post_id":26848692,"comment_id":67178652,"body_markdown":"This might help for a general understanding: http://docs.spring.io/spring-security/site/docs/4.1.3.RELEASE/reference/htmlsingle/#multiple-httpsecurity","body":"This might help for a general understanding: <a href=\"http://docs.spring.io/spring-security/site/docs/4.1.3.RELEASE/reference/htmlsingle/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/4.1.3.RELEASE/&hellip;</a>"},{"owner":{"account_id":7091801,"reputation":8189,"user_id":5426743,"accept_rate":99,"display_name":"Kunok"},"score":0,"creation_date":1516752696,"post_id":26848692,"comment_id":83815690,"body_markdown":"I am not Java Spring user myself, I am having same issue on my end using different language on backend. Does Java/Spring bring any additional abstraction in security or it is mostly safe to ignore authentication middleware method for all OPTIONS requests?","body":"I am not Java Spring user myself, I am having same issue on my end using different language on backend. Does Java/Spring bring any additional abstraction in security or it is mostly safe to ignore authentication middleware method for all OPTIONS requests?"},{"owner":{"account_id":8540178,"reputation":191,"user_id":6400572,"accept_rate":62,"display_name":"dnvsp"},"score":0,"creation_date":1527593417,"post_id":26848692,"comment_id":88175654,"body_markdown":"Not working for me. Here is my problem, could you please have a look.","body":"Not working for me. Here is my problem, could you please have a look."},{"owner":{"account_id":8540178,"reputation":191,"user_id":6400572,"accept_rate":62,"display_name":"dnvsp"},"score":0,"creation_date":1527593459,"post_id":26848692,"comment_id":88175675,"body_markdown":"https://stackoverflow.com/questions/50579277/no-access-control-allow-origin-header-is-present-on-the-requested-resource-th","body":"<a href=\"https://stackoverflow.com/questions/50579277/no-access-control-allow-origin-header-is-present-on-the-requested-resource-th\" title=\"no access control allow origin header is present on the requested resource th\">stackoverflow.com/questions/50579277/&hellip;</a>"},{"owner":{"account_id":2859255,"reputation":824,"user_id":2454823,"accept_rate":100,"display_name":"Angelo"},"score":0,"creation_date":1533546983,"post_id":26848692,"comment_id":90369255,"body_markdown":"That works for me.\nRemember the difference from one asterisk and double asterisk regards to paths. \n\nantMatchers(HttpMethod.OPTIONS,&quot;/rest/auth/**&quot;).permitAll()\nhttps://stackoverflow.com/questions/12569308/spring-difference-of-and-with-regards-to-paths","body":"That works for me. Remember the difference from one asterisk and double asterisk regards to paths.   antMatchers(HttpMethod.OPTIONS,&quot;/rest/auth/**&quot;).permitAll() <a href=\"https://stackoverflow.com/questions/12569308/spring-difference-of-and-with-regards-to-paths\" title=\"spring difference of and with regards to paths\">stackoverflow.com/questions/12569308/&hellip;</a>"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1557504245,"post_id":26848692,"comment_id":98800544,"body_markdown":"In order to open a POST endpoint for client requests it is available the following security configuration: .antMatchers(HttpMethod.POST,&quot;/path/to/post/request&quot;)","body":"In order to open a POST endpoint for client requests it is available the following security configuration: .antMatchers(HttpMethod.POST,&quot;/path/to/post/request&quot;)"},{"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"score":0,"creation_date":1612318616,"post_id":26848692,"comment_id":116727423,"body_markdown":"This is not recommended and don&#39;t do this.","body":"This is not recommended and don&#39;t do this."},{"owner":{"account_id":3477351,"reputation":1633,"user_id":2910233,"display_name":"singhpradeep"},"score":0,"creation_date":1646098062,"post_id":26848692,"comment_id":126035569,"body_markdown":"Simple solution in spring security just add http.cors(). You are done.","body":"Simple solution in spring security just add http.cors(). You are done."},{"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"score":0,"creation_date":1694685332,"post_id":26848692,"comment_id":135924875,"body_markdown":"A small note: .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;) should be the first on the list of matchers, othervice a preceeding matcher with a more detailed path pattern can be triggered.","body":"A small note: .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;) should be the first on the list of matchers, othervice a preceeding matcher with a more detailed path pattern can be triggered."}],"tags":[],"owner":{"account_id":437470,"reputation":4085,"user_id":825185,"display_name":"Felby"},"comment_count":12,"down_vote_count":1,"up_vote_count":153,"is_accepted":false,"score":152,"last_activity_date":1545314487,"creation_date":1415637916,"answer_id":26848692,"question_id":21696592,"body_markdown":"If you&#39;re using an annotation based security config file (`@EnableWebSecurity` &amp; `@Configuration`) you can do something like the following in the `configure()` method to allow for the `OPTION` requests to be permitted by Spring Security without authentication for a given path:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n         http\r\n    \t.csrf().disable()\r\n    \t.authorizeRequests()\r\n    \t  .antMatchers(HttpMethod.OPTIONS,&quot;/path/to/allow&quot;).permitAll()//allow CORS option calls\r\n    \t  .antMatchers(&quot;/resources/**&quot;).permitAll()\r\n    \t  .anyRequest().authenticated()\r\n    \t.and()\r\n    \t.formLogin()\r\n    \t.and()\r\n    \t.httpBasic();\r\n    }","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>If you're using an annotation based security config file (<code>@EnableWebSecurity</code> &amp; <code>@Configuration</code>) you can do something like the following in the <code>configure()</code> method to allow for the <code>OPTION</code> requests to be permitted by Spring Security without authentication for a given path:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception\n{\n     http\n    .csrf().disable()\n    .authorizeRequests()\n      .antMatchers(HttpMethod.OPTIONS,\"/path/to/allow\").permitAll()//allow CORS option calls\n      .antMatchers(\"/resources/**\").permitAll()\n      .anyRequest().authenticated()\n    .and()\n    .formLogin()\n    .and()\n    .httpBasic();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2442031,"reputation":281,"user_id":2130256,"display_name":"jaseeey"},"score":3,"creation_date":1456285839,"post_id":32722871,"comment_id":58871933,"body_markdown":"This seemed to be the only way to allow OPTIONS requests without requiring auhorization.","body":"This seemed to be the only way to allow OPTIONS requests without requiring auhorization."},{"owner":{"account_id":4560957,"reputation":2276,"user_id":3703307,"accept_rate":25,"display_name":"Tim"},"score":0,"creation_date":1518017956,"post_id":32722871,"comment_id":84333041,"body_markdown":"If you then create an Options endpoint you want to secure, you&#39;ll forget about the exclusion in your config and everyone can access it. You should consider using the filter to allow cors option requests to be excluded from spring-security: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/cors.html","body":"If you then create an Options endpoint you want to secure, you&#39;ll forget about the exclusion in your config and everyone can access it. You should consider using the filter to allow cors option requests to be excluded from spring-security: <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/cors.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/4.2.x/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":926610,"reputation":3521,"user_id":957286,"display_name":"Ena"},"score":1,"creation_date":1524216510,"post_id":32722871,"comment_id":86892423,"body_markdown":"With HttpSecurity is http.authorizeRequests()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/registrybrain/**&quot;).permitAll()","body":"With HttpSecurity is http.authorizeRequests()                 .antMatchers(HttpMethod.OPTIONS, &quot;/registrybrain/**&quot;).permitAll()"},{"owner":{"account_id":191602,"reputation":6822,"user_id":455814,"accept_rate":71,"display_name":"Waqas"},"score":0,"creation_date":1534683513,"post_id":32722871,"comment_id":90785534,"body_markdown":"Spent more than 2 hours trying and finding solution- only this worked.","body":"Spent more than 2 hours trying and finding solution- only this worked."},{"owner":{"account_id":5116062,"reputation":642,"user_id":4101144,"accept_rate":47,"display_name":"Maksim Gumerov"},"score":1,"creation_date":1548761848,"post_id":32722871,"comment_id":95650011,"body_markdown":"&quot;If you then create an Options endpoint you want to secure&quot; @Tim why would anyone need that?","body":"&quot;If you then create an Options endpoint you want to secure&quot; @Tim why would anyone need that?"},{"owner":{"account_id":6455226,"reputation":387,"user_id":5842415,"accept_rate":22,"display_name":"Mukarram Ali"},"score":0,"creation_date":1551679485,"post_id":32722871,"comment_id":96713468,"body_markdown":"Dude you saved me. Thanks a ton","body":"Dude you saved me. Thanks a ton"}],"tags":[],"owner":{"account_id":1335366,"reputation":1164,"user_id":1278263,"display_name":"Luc S."},"comment_count":6,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1442941838,"creation_date":1442941838,"answer_id":32722871,"question_id":21696592,"body_markdown":"Allow all OPTIONS in context:\r\n\r\n\t\t@Override\r\n\t\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\t\tweb.ignoring().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\r\n\t\t}\r\n\t\r\n","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>Allow all OPTIONS in context:</p>\n\n<pre><code>    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(HttpMethod.OPTIONS, \"/**\");\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1592840920,"post_id":45012207,"comment_id":110562571,"body_markdown":"`IgnoredRequestCustomizer` is deprecated since spring boot 2.","body":"<code>IgnoredRequestCustomizer</code> is deprecated since spring boot 2."}],"tags":[],"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499764564,"creation_date":1499690037,"answer_id":45012207,"question_id":21696592,"body_markdown":"In case someone is looking for an easy solution using Spring Boot. Just add an additional bean:\r\n\r\n       @Bean\r\n       public IgnoredRequestCustomizer optionsIgnoredRequestsCustomizer() {\r\n          return configurer -&gt; {\r\n             List&lt;RequestMatcher&gt; matchers = new ArrayList&lt;&gt;();\r\n             matchers.add(new AntPathRequestMatcher(&quot;/**&quot;, &quot;OPTIONS&quot;));\r\n             configurer.requestMatchers(new OrRequestMatcher(matchers));\r\n          };\r\n       }\r\n\r\nPlease note that depending on your application this may open it for potential exploits.\r\n\r\nOpened issue for a better solution: https://github.com/spring-projects/spring-security/issues/4448","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>In case someone is looking for an easy solution using Spring Boot. Just add an additional bean:</p>\n\n<pre><code>   @Bean\n   public IgnoredRequestCustomizer optionsIgnoredRequestsCustomizer() {\n      return configurer -&gt; {\n         List&lt;RequestMatcher&gt; matchers = new ArrayList&lt;&gt;();\n         matchers.add(new AntPathRequestMatcher(\"/**\", \"OPTIONS\"));\n         configurer.requestMatchers(new OrRequestMatcher(matchers));\n      };\n   }\n</code></pre>\n\n<p>Please note that depending on your application this may open it for potential exploits.</p>\n\n<p>Opened issue for a better solution: <a href=\"https://github.com/spring-projects/spring-security/issues/4448\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/4448</a></p>\n"},{"tags":[],"owner":{"account_id":1681857,"reputation":2822,"user_id":1545939,"accept_rate":45,"display_name":"FabianoLothor"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550008655,"creation_date":1550008655,"answer_id":54659255,"question_id":21696592,"body_markdown":"In some cases, it is needed add `configuration.setAllowedHeaders(Arrays.asList(&quot;Content-Type&quot;));` to `corsConfigurationSource()` when using `WebSecurityConfigurerAdapter` to solve the cors problem.","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>In some cases, it is needed add <code>configuration.setAllowedHeaders(Arrays.asList(\"Content-Type\"));</code> to <code>corsConfigurationSource()</code> when using <code>WebSecurityConfigurerAdapter</code> to solve the cors problem.</p>\n"},{"tags":[],"owner":{"account_id":94277,"reputation":597,"user_id":257484,"accept_rate":60,"display_name":"Meysam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589634142,"creation_date":1589634142,"answer_id":61837189,"question_id":21696592,"body_markdown":"If you&#39;re using annotation-based security config then you should add spring&#39;s `CorsFilter` to the application context by calling `.cors()` in your config, something like this:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n         http\r\n        .csrf().disable()\r\n        .authorizeRequests()\r\n          .antMatchers(&quot;/resources/**&quot;).permitAll()\r\n          .anyRequest().authenticated()\r\n        .and()\r\n        .formLogin()\r\n        .and()\r\n        .httpBasic()\r\n        .and()\r\n        .cors();\r\n    }","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>If you're using annotation-based security config then you should add spring's <code>CorsFilter</code> to the application context by calling <code>.cors()</code> in your config, something like this:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception\n{\n     http\n    .csrf().disable()\n    .authorizeRequests()\n      .antMatchers(\"/resources/**\").permitAll()\n      .anyRequest().authenticated()\n    .and()\n    .formLogin()\n    .and()\n    .httpBasic()\n    .and()\n    .cors();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1678062984,"creation_date":1612319303,"answer_id":66020402,"question_id":21696592,"body_markdown":"The accepted answer is not recommended and you shold not do that.  \r\nBelow is the correct way for CORS setup of Spring Security and jQuery&#39;s ajax.   \r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n       \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.authenticationProvider(userAuthenticationProvider);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n                .cors() // &lt;-- This let it use &quot;corsConfigurationSource&quot; bean.\r\n                    .and()\r\n    \t\t\t.authorizeRequests()\r\n    \t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n                ...\r\n    \t}\r\n\r\n        @Bean\r\n        protected CorsConfigurationSource corsConfigurationSource() {\r\n            final CorsConfiguration configuration = new CorsConfiguration();\r\n    \r\n            configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:3000&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;HEAD&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n    \r\n            // NOTE: setAllowCredentials(true) is important,\r\n            // otherwise, the value of the &#39;Access-Control-Allow-Origin&#39; header in the response\r\n            // must not be the wildcard &#39;*&#39; when the request&#39;s credentials mode is &#39;include&#39;.\r\n            configuration.setAllowCredentials(true);\r\n    \r\n            // NOTE: setAllowedHeaders is important!\r\n            // Without it, OPTIONS preflight request will fail with 403 Invalid CORS request\r\n            configuration.setAllowedHeaders(Arrays.asList(\r\n                    &quot;Authorization&quot;,\r\n                    &quot;Accept&quot;,\r\n                    &quot;Cache-Control&quot;,\r\n                    &quot;Content-Type&quot;,\r\n                    &quot;Origin&quot;,\r\n                    &quot;x-csrf-token&quot;,\r\n                    &quot;x-requested-with&quot;\r\n            ));\r\n    \r\n            final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }\r\n\r\nAnd from jQuery side. \r\n\r\n\r\n    $.ajaxSetup({\r\n        // NOTE: Necessary for CORS\r\n        crossDomain: true,\r\n        xhrFields: {\r\n            withCredentials: true\r\n        }\r\n    });","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>The accepted answer is not recommended and you shold not do that.<br />\nBelow is the correct way for CORS setup of Spring Security and jQuery's ajax.</p>\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n   \n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(userAuthenticationProvider);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors() // &lt;-- This let it use &quot;corsConfigurationSource&quot; bean.\n                .and()\n            .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n            ...\n    }\n\n    @Bean\n    protected CorsConfigurationSource corsConfigurationSource() {\n        final CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:3000&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;HEAD&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n\n        // NOTE: setAllowCredentials(true) is important,\n        // otherwise, the value of the 'Access-Control-Allow-Origin' header in the response\n        // must not be the wildcard '*' when the request's credentials mode is 'include'.\n        configuration.setAllowCredentials(true);\n\n        // NOTE: setAllowedHeaders is important!\n        // Without it, OPTIONS preflight request will fail with 403 Invalid CORS request\n        configuration.setAllowedHeaders(Arrays.asList(\n                &quot;Authorization&quot;,\n                &quot;Accept&quot;,\n                &quot;Cache-Control&quot;,\n                &quot;Content-Type&quot;,\n                &quot;Origin&quot;,\n                &quot;x-csrf-token&quot;,\n                &quot;x-requested-with&quot;\n        ));\n\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p>And from jQuery side.</p>\n<pre><code>$.ajaxSetup({\n    // NOTE: Necessary for CORS\n    crossDomain: true,\n    xhrFields: {\n        withCredentials: true\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105956,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":21696715,"answer_count":7,"score":83,"last_activity_date":1678062984,"creation_date":1392107017,"question_id":21696592,"body_markdown":"Is it possible to disable Spring Security for a type of HTTP Method? \r\n\r\nWe have a Spring REST application with services that require Authorization token to be attached in the header of http request. I am writing a JS client for it and using JQuery to send the GET/POST requests. The application is CORS enabled with this filter code.\r\n\r\n    doFilter(....) {\r\n\r\n\t  HttpServletResponse httpResp = (HttpServletResponse) response;\r\n\t  httpResp.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\t  httpResp.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n\t  httpResp.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t  Enumeration&lt;String&gt; headersEnum = ((HttpServletRequest) request).getHeaders(&quot;Access-Control-Request-Headers&quot;);\r\n\t  StringBuilder headers = new StringBuilder();\r\n\t  String delim = &quot;&quot;;\r\n\t  while (headersEnum.hasMoreElements()) {\r\n\t    headers.append(delim).append(headersEnum.nextElement());\r\n\t\tdelim = &quot;, &quot;;\r\n\t  }\r\n\t  httpResp.setHeader(&quot;Access-Control-Allow-Headers&quot;, headers.toString());\r\n    }\r\n\r\nBut when JQuery sends in the OPTIONS request for CORS, the server responds with Authorization Failed token. Clearly the OPTIONS request, lacks Authorization token. So is it possible to let the OPTIONS escape the Security Layer from the Spring Security Configuration?","title":"Disable Spring Security for OPTIONS Http Method","body":"<p>Is it possible to disable Spring Security for a type of HTTP Method? </p>\n\n<p>We have a Spring REST application with services that require Authorization token to be attached in the header of http request. I am writing a JS client for it and using JQuery to send the GET/POST requests. The application is CORS enabled with this filter code.</p>\n\n<pre><code>doFilter(....) {\n\n  HttpServletResponse httpResp = (HttpServletResponse) response;\n  httpResp.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n  httpResp.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n  httpResp.setHeader(\"Access-Control-Max-Age\", \"3600\");\n  Enumeration&lt;String&gt; headersEnum = ((HttpServletRequest) request).getHeaders(\"Access-Control-Request-Headers\");\n  StringBuilder headers = new StringBuilder();\n  String delim = \"\";\n  while (headersEnum.hasMoreElements()) {\n    headers.append(delim).append(headersEnum.nextElement());\n    delim = \", \";\n  }\n  httpResp.setHeader(\"Access-Control-Allow-Headers\", headers.toString());\n}\n</code></pre>\n\n<p>But when JQuery sends in the OPTIONS request for CORS, the server responds with Authorization Failed token. Clearly the OPTIONS request, lacks Authorization token. So is it possible to let the OPTIONS escape the Security Layer from the Spring Security Configuration?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1589952776,"post_id":61904701,"comment_id":109493129,"body_markdown":"This should be tagged `apache poi` because `apache poi` is used, shouldn&#39;t it? What version of `apache poi`is used? And what application are the screenshots from? Seems not to be `Microsoft Excel`, is it?","body":"This should be tagged <code>apache poi</code> because <code>apache poi</code> is used, shouldn&#39;t it? What version of <code>apache poi</code>is used? And what application are the screenshots from? Seems not to be <code>Microsoft Excel</code>, is it?"},{"owner":{"account_id":9983500,"reputation":65,"user_id":7385599,"display_name":"OldCPW"},"score":0,"creation_date":1589953873,"post_id":61904701,"comment_id":109493504,"body_markdown":"thx for your reply, I use 4.1.2 version. Yes, it is Microsft Excel.","body":"thx for your reply, I use 4.1.2 version. Yes, it is Microsft Excel."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1589960552,"creation_date":1589959055,"answer_id":61907219,"question_id":61904701,"body_markdown":"Images are not cell contents but hover over the sheet in a separate layer called drawing. They are anchored to the cells. A `ClientAnchor` provides following settings:\r\n\r\n`col1` = column index where left edge of picture is anchored on. So left edge of picture is anchored on left column edge of `col1`.\r\n\r\n`dx1` = difference in x direction. So left edge of picture is anchored on left column edge of `col1` + `dx1`.\r\n\r\n`row1` = row index where top edge of picture is anchored on. So top edge of picture is anchored on top row edge of `row1`.\r\n\r\n`dy1` = difference in y direction. So top edge of picture is anchored on top row edge of `row1` + `dy1`.\r\n\r\n`col2` = column index where right edge of picture is anchored on. So right edge of picture is anchored on left column edge of `col2`.\r\n\r\n`dx2` = difference in x direction. So right edge of picture is anchored on left column edge of `col1` + `dx2`.\r\n\r\n`row2` = row index where bottom edge of picture is anchored on. So bottom edge of picture is anchored on top row edge of `row2`.\r\n\r\n`dy2` = difference in y direction. So bottom edge of picture is anchored on top row edge of `row2` + `dy2`.\r\n\r\nThus, given a full two-cell-anchor, this determines the position of picture well as it&#39;s size.\r\n\r\nIf size of picture shall be it&#39;s native size, then only one-cell-anchor is needed. There `col1`+`dx1` and `row1`+`dy1` determines the position of top left edge of picture. The size is given by the native size of the picture.\r\n\r\nIf only `col1` and `row1` is set without `dx1` and `dy1`, then top left edge of picture always is anchored to left edge of `col1` and top edge of `row1`.  So if centering over a cell is needed, then `dx1` and `dy1` needs to be calculated. To calculate  `dx1` and `dy1`  one needs to know the width and height of the picture as well as the width and height of the cell. Sounds simple but there are multiple different measurement units used for width and height of the cell and there are big differences between binary `BIFF` (`*.xls`) file system and `Office Open XML` (`*.xlsx`)  file system.\r\n\r\nThe following code provides `putPictureCentered` method which puts a picture in sheet&#39;s drawing anchored to a cell given by `colIdx` and `rowIdx`. If possible, it calculates `dx1` and `dy1` so that the picture is anchored centered over the cell. It uses pixels as the common measurement unit. It considers differences between binary `BIFF` (`*.xls`) file system and `Office Open XML` (`*.xlsx`)  file system. So it works for `Sheet`, may it be `XSSFSheet` or `HSSFSheet`.\r\n\r\n\r\n\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    \r\n    import org.apache.poi.util.IOUtils;\r\n    import org.apache.poi.util.Units;\r\n    \r\n    import java.io.InputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    class CenterImageOverCell {\r\n    \r\n     static void putPictureCentered(Sheet sheet, String picturePath, int pictureType, int colIdx, int rowIdx) throws Exception {\r\n      Workbook wb = sheet.getWorkbook();\r\n    \r\n      //load the picture\r\n      InputStream inputStream = new FileInputStream(picturePath);\r\n      byte[] bytes = IOUtils.toByteArray(inputStream);\r\n      int pictureIdx = wb.addPicture(bytes, pictureType);\r\n      inputStream.close();\r\n    \r\n      //create an anchor with upper left cell colIdx/rowIdx, only one cell anchor since bottom right depends on resizing\r\n      CreationHelper helper = wb.getCreationHelper();\r\n      ClientAnchor anchor = helper.createClientAnchor();\r\n      anchor.setCol1(colIdx);\r\n      anchor.setRow1(rowIdx);\r\n    \r\n      //create a picture anchored to colIdx and rowIdx\r\n      Drawing drawing = sheet.createDrawingPatriarch();\r\n      Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n     \r\n      //get the picture width in px\r\n      int pictWidthPx = pict.getImageDimension().width;\r\n      //get the picture height in px\r\n      int pictHeightPx = pict.getImageDimension().height;\r\n    \r\n      //get column width of column in px\r\n      float columnWidthPx = sheet.getColumnWidthInPixels(colIdx);\r\n    \r\n      //get the height of row in px\r\n      Row row = sheet.getRow(rowIdx);\r\n      float rowHeightPt = row.getHeightInPoints();\r\n      float rowHeightPx = rowHeightPt * Units.PIXEL_DPI / Units.POINT_DPI;\r\n    \r\n      //is horizontal centering possible?\r\n      if (pictWidthPx &lt;= columnWidthPx) {\r\n    \r\n       //calculate the horizontal center position\r\n       int horCenterPosPx = Math.round(columnWidthPx/2f - pictWidthPx/2f);\r\n       //set the horizontal center position as Dx1 of anchor\r\n       if (wb instanceof XSSFWorkbook) {\r\n        anchor.setDx1(horCenterPosPx * Units.EMU_PER_PIXEL); //in unit EMU for XSSF\r\n       } else if (wb instanceof HSSFWorkbook) {\r\n        //see https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117 for HSSF\r\n        int DEFAULT_COL_WIDTH = 10 * 256;\r\n        anchor.setDx1(Math.round(horCenterPosPx * Units.DEFAULT_CHARACTER_WIDTH / 256f * 14.75f * DEFAULT_COL_WIDTH / columnWidthPx));\r\n       }\r\n    \r\n      } else {\r\n       System.out.println(&quot;Picture is too width. Horizontal centering is not possible.&quot;);\r\n       //TODO: Log instead of System.out.println\r\n      }\r\n    \r\n      //is vertical centering possible?\r\n      if (pictHeightPx &lt;= rowHeightPx) {\r\n    \r\n       //calculate the vertical center position\r\n       int vertCenterPosPx = Math.round(rowHeightPx/2f - pictHeightPx/2f);\r\n       //set the vertical center position as Dy1 of anchor\r\n       if (wb instanceof XSSFWorkbook) {\r\n        anchor.setDy1(Math.round(vertCenterPosPx * Units.EMU_PER_PIXEL)); //in unit EMU for XSSF\r\n       } else if (wb instanceof HSSFWorkbook) {\r\n        //see https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117 for HSSF\r\n        float DEFAULT_ROW_HEIGHT = 12.75f;\r\n        anchor.setDy1(Math.round(vertCenterPosPx * Units.PIXEL_DPI / Units.POINT_DPI * 14.75f * DEFAULT_ROW_HEIGHT / rowHeightPx));\r\n       }\r\n    \r\n      } else {\r\n       System.out.println(&quot;Picture is too height. Vertical centering is not possible.&quot;);\r\n       //TODO: Log instead of System.out.println\r\n      }\r\n    \r\n      //resize the picture to it&#39;s native size\r\n      pict.resize();\r\n    \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //Workbook wb = new HSSFWorkbook(); String resultName = &quot;CenterImageTest.xls&quot;;\r\n      Workbook wb = new XSSFWorkbook(); String resultName = &quot;CenterImageTest.xlsx&quot;;\r\n      Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n    \r\n      int colIdx = 1;\r\n      int colWidth = 20; //in default character widths\r\n      int rowIdx = 1;\r\n      float rowHeight = 100; //in points\r\n    \r\n      //========================prepare sheet\r\n      //create cell\r\n      Row row = sheet.createRow(rowIdx);\r\n      Cell cell = row.createCell(colIdx);\r\n      //set column width of colIdx in default character widths\r\n      sheet.setColumnWidth(colIdx, colWidth * 256);\r\n      //set row height of rowIdx in points\r\n      row.setHeightInPoints(rowHeight);\r\n      //========================end prepare sheet\r\n    \r\n      //put image centered\r\n      String picturePath = &quot;./pict100x100.png&quot;; // small image\r\n      //String picturePath = &quot;./pict100x200.png&quot;; // image too height\r\n      //String picturePath = &quot;./pict200x100.png&quot;; // image too width\r\n      //String picturePath = &quot;./pict200x200.png&quot;; // image too big\r\n      putPictureCentered(sheet, picturePath, Workbook.PICTURE_TYPE_PNG, colIdx, rowIdx);\r\n     \r\n      FileOutputStream fileOut = new FileOutputStream(&quot;./&quot; + resultName);\r\n      wb.write(fileOut);\r\n      fileOut.close();\r\n      wb.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"Java: How to center an image in an Excel cell?","body":"<p>Images are not cell contents but hover over the sheet in a separate layer called drawing. They are anchored to the cells. A <code>ClientAnchor</code> provides following settings:</p>\n\n<p><code>col1</code> = column index where left edge of picture is anchored on. So left edge of picture is anchored on left column edge of <code>col1</code>.</p>\n\n<p><code>dx1</code> = difference in x direction. So left edge of picture is anchored on left column edge of <code>col1</code> + <code>dx1</code>.</p>\n\n<p><code>row1</code> = row index where top edge of picture is anchored on. So top edge of picture is anchored on top row edge of <code>row1</code>.</p>\n\n<p><code>dy1</code> = difference in y direction. So top edge of picture is anchored on top row edge of <code>row1</code> + <code>dy1</code>.</p>\n\n<p><code>col2</code> = column index where right edge of picture is anchored on. So right edge of picture is anchored on left column edge of <code>col2</code>.</p>\n\n<p><code>dx2</code> = difference in x direction. So right edge of picture is anchored on left column edge of <code>col1</code> + <code>dx2</code>.</p>\n\n<p><code>row2</code> = row index where bottom edge of picture is anchored on. So bottom edge of picture is anchored on top row edge of <code>row2</code>.</p>\n\n<p><code>dy2</code> = difference in y direction. So bottom edge of picture is anchored on top row edge of <code>row2</code> + <code>dy2</code>.</p>\n\n<p>Thus, given a full two-cell-anchor, this determines the position of picture well as it's size.</p>\n\n<p>If size of picture shall be it's native size, then only one-cell-anchor is needed. There <code>col1</code>+<code>dx1</code> and <code>row1</code>+<code>dy1</code> determines the position of top left edge of picture. The size is given by the native size of the picture.</p>\n\n<p>If only <code>col1</code> and <code>row1</code> is set without <code>dx1</code> and <code>dy1</code>, then top left edge of picture always is anchored to left edge of <code>col1</code> and top edge of <code>row1</code>.  So if centering over a cell is needed, then <code>dx1</code> and <code>dy1</code> needs to be calculated. To calculate  <code>dx1</code> and <code>dy1</code>  one needs to know the width and height of the picture as well as the width and height of the cell. Sounds simple but there are multiple different measurement units used for width and height of the cell and there are big differences between binary <code>BIFF</code> (<code>*.xls</code>) file system and <code>Office Open XML</code> (<code>*.xlsx</code>)  file system.</p>\n\n<p>The following code provides <code>putPictureCentered</code> method which puts a picture in sheet's drawing anchored to a cell given by <code>colIdx</code> and <code>rowIdx</code>. If possible, it calculates <code>dx1</code> and <code>dy1</code> so that the picture is anchored centered over the cell. It uses pixels as the common measurement unit. It considers differences between binary <code>BIFF</code> (<code>*.xls</code>) file system and <code>Office Open XML</code> (<code>*.xlsx</code>)  file system. So it works for <code>Sheet</code>, may it be <code>XSSFSheet</code> or <code>HSSFSheet</code>.</p>\n\n<pre><code>import org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\n\nimport org.apache.poi.util.IOUtils;\nimport org.apache.poi.util.Units;\n\nimport java.io.InputStream;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nclass CenterImageOverCell {\n\n static void putPictureCentered(Sheet sheet, String picturePath, int pictureType, int colIdx, int rowIdx) throws Exception {\n  Workbook wb = sheet.getWorkbook();\n\n  //load the picture\n  InputStream inputStream = new FileInputStream(picturePath);\n  byte[] bytes = IOUtils.toByteArray(inputStream);\n  int pictureIdx = wb.addPicture(bytes, pictureType);\n  inputStream.close();\n\n  //create an anchor with upper left cell colIdx/rowIdx, only one cell anchor since bottom right depends on resizing\n  CreationHelper helper = wb.getCreationHelper();\n  ClientAnchor anchor = helper.createClientAnchor();\n  anchor.setCol1(colIdx);\n  anchor.setRow1(rowIdx);\n\n  //create a picture anchored to colIdx and rowIdx\n  Drawing drawing = sheet.createDrawingPatriarch();\n  Picture pict = drawing.createPicture(anchor, pictureIdx);\n\n  //get the picture width in px\n  int pictWidthPx = pict.getImageDimension().width;\n  //get the picture height in px\n  int pictHeightPx = pict.getImageDimension().height;\n\n  //get column width of column in px\n  float columnWidthPx = sheet.getColumnWidthInPixels(colIdx);\n\n  //get the height of row in px\n  Row row = sheet.getRow(rowIdx);\n  float rowHeightPt = row.getHeightInPoints();\n  float rowHeightPx = rowHeightPt * Units.PIXEL_DPI / Units.POINT_DPI;\n\n  //is horizontal centering possible?\n  if (pictWidthPx &lt;= columnWidthPx) {\n\n   //calculate the horizontal center position\n   int horCenterPosPx = Math.round(columnWidthPx/2f - pictWidthPx/2f);\n   //set the horizontal center position as Dx1 of anchor\n   if (wb instanceof XSSFWorkbook) {\n    anchor.setDx1(horCenterPosPx * Units.EMU_PER_PIXEL); //in unit EMU for XSSF\n   } else if (wb instanceof HSSFWorkbook) {\n    //see https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117 for HSSF\n    int DEFAULT_COL_WIDTH = 10 * 256;\n    anchor.setDx1(Math.round(horCenterPosPx * Units.DEFAULT_CHARACTER_WIDTH / 256f * 14.75f * DEFAULT_COL_WIDTH / columnWidthPx));\n   }\n\n  } else {\n   System.out.println(\"Picture is too width. Horizontal centering is not possible.\");\n   //TODO: Log instead of System.out.println\n  }\n\n  //is vertical centering possible?\n  if (pictHeightPx &lt;= rowHeightPx) {\n\n   //calculate the vertical center position\n   int vertCenterPosPx = Math.round(rowHeightPx/2f - pictHeightPx/2f);\n   //set the vertical center position as Dy1 of anchor\n   if (wb instanceof XSSFWorkbook) {\n    anchor.setDy1(Math.round(vertCenterPosPx * Units.EMU_PER_PIXEL)); //in unit EMU for XSSF\n   } else if (wb instanceof HSSFWorkbook) {\n    //see https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117 for HSSF\n    float DEFAULT_ROW_HEIGHT = 12.75f;\n    anchor.setDy1(Math.round(vertCenterPosPx * Units.PIXEL_DPI / Units.POINT_DPI * 14.75f * DEFAULT_ROW_HEIGHT / rowHeightPx));\n   }\n\n  } else {\n   System.out.println(\"Picture is too height. Vertical centering is not possible.\");\n   //TODO: Log instead of System.out.println\n  }\n\n  //resize the picture to it's native size\n  pict.resize();\n\n }\n\n public static void main(String[] args) throws Exception {\n\n  //Workbook wb = new HSSFWorkbook(); String resultName = \"CenterImageTest.xls\";\n  Workbook wb = new XSSFWorkbook(); String resultName = \"CenterImageTest.xlsx\";\n  Sheet sheet = wb.createSheet(\"Sheet1\");\n\n  int colIdx = 1;\n  int colWidth = 20; //in default character widths\n  int rowIdx = 1;\n  float rowHeight = 100; //in points\n\n  //========================prepare sheet\n  //create cell\n  Row row = sheet.createRow(rowIdx);\n  Cell cell = row.createCell(colIdx);\n  //set column width of colIdx in default character widths\n  sheet.setColumnWidth(colIdx, colWidth * 256);\n  //set row height of rowIdx in points\n  row.setHeightInPoints(rowHeight);\n  //========================end prepare sheet\n\n  //put image centered\n  String picturePath = \"./pict100x100.png\"; // small image\n  //String picturePath = \"./pict100x200.png\"; // image too height\n  //String picturePath = \"./pict200x100.png\"; // image too width\n  //String picturePath = \"./pict200x200.png\"; // image too big\n  putPictureCentered(sheet, picturePath, Workbook.PICTURE_TYPE_PNG, colIdx, rowIdx);\n\n  FileOutputStream fileOut = new FileOutputStream(\"./\" + resultName);\n  wb.write(fileOut);\n  fileOut.close();\n  wb.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":9983500,"reputation":65,"user_id":7385599,"display_name":"OldCPW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2946,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61907219,"answer_count":1,"score":3,"last_activity_date":1678062873,"creation_date":1589946178,"question_id":61904701,"body_markdown":"I want to put an image set in the center of a cell of excel, I use XSSFClientAnchor to anchor the picture position, but still not working like in picture 1. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow to set the image in the center of a cell, like in picture 2. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qdvfI.png\r\n  [2]: https://i.stack.imgur.com/55OdR.png\r\n\r\n    InputStream iStream = new FileInputStream(iList.get(q.getProductID()));\r\n    byte[] bytes = IOUtils.toByteArray(iStream);\r\n    int pictureIdx = wb.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\r\n    XSSFDrawing patriarch = sheet.createDrawingPatriarch();\r\n    XSSFClientAnchor anchor = new XSSFClientAnchor();\r\n    anchor.setCol1(1);\r\n    anchor.setRow1(row);\r\n    anchor.setCol2(2);\r\n    anchor.setRow2(row + 1);\r\n    Picture pic = patriarch.createPicture(anchor, pictureIdx);\r\n    pic.resize();","title":"Java: How to center an image in an Excel cell?","body":"<p>I want to put an image set in the center of a cell of excel, I use XSSFClientAnchor to anchor the picture position, but still not working like in picture 1.</p>\n<p><a href=\"https://i.stack.imgur.com/qdvfI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qdvfI.png\" alt=\"enter image description here\" /></a></p>\n<p>How to set the image in the center of a cell, like in picture 2.</p>\n<p><a href=\"https://i.stack.imgur.com/55OdR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/55OdR.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>InputStream iStream = new FileInputStream(iList.get(q.getProductID()));\nbyte[] bytes = IOUtils.toByteArray(iStream);\nint pictureIdx = wb.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\nXSSFDrawing patriarch = sheet.createDrawingPatriarch();\nXSSFClientAnchor anchor = new XSSFClientAnchor();\nanchor.setCol1(1);\nanchor.setRow1(row);\nanchor.setCol2(2);\nanchor.setRow2(row + 1);\nPicture pic = patriarch.createPicture(anchor, pictureIdx);\npic.resize();\n</code></pre>\n"},{"tags":["java","generics","java-17","lower-bound","unbounded-wildcard"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678056498,"post_id":75645737,"comment_id":133454567,"body_markdown":"Two types can have _more than one_ common ancestor.  `Box&lt;?&gt;` is a subtype of `Object`.  (`Box&lt;?&gt;` _is_ also a common super type of `Box&lt;Number&gt;` and `Box&lt;Integer&gt;`, even if not shown in the diagram.)","body":"Two types can have <i>more than one</i> common ancestor.  <code>Box&lt;?&gt;</code> is a subtype of <code>Object</code>.  (<code>Box&lt;?&gt;</code> <i>is</i> also a common super type of <code>Box&lt;Number&gt;</code> and <code>Box&lt;Integer&gt;</code>, even if not shown in the diagram.)"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678056638,"post_id":75645737,"comment_id":133454582,"body_markdown":"Thank you, But why am I getting AbstractList as a super class ?","body":"Thank you, But why am I getting AbstractList as a super class ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678056672,"post_id":75645737,"comment_id":133454588,"body_markdown":"That&#39;s also a super type of several List implementations, including ArrayList.  The diagrams you have leave out a lot, and also deal with List instead of ArrayList.","body":"That&#39;s also a super type of several List implementations, including ArrayList.  The diagrams you have leave out a lot, and also deal with List instead of ArrayList."},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678056790,"post_id":75645737,"comment_id":133454609,"body_markdown":"Oh okay, I just pulled it from the Oracle documentation, This might be a very dumb question, if there isnt any multiple inheritance, how can a class have many immediate super types ? Im sorry, my bad, I need to see the full heirarchy, But with my own Generic class, the parent is straight away object, but with list, there seems to be a complex list, why this difference ?","body":"Oh okay, I just pulled it from the Oracle documentation, This might be a very dumb question, if there isnt any multiple inheritance, how can a class have many immediate super types ? Im sorry, my bad, I need to see the full heirarchy, But with my own Generic class, the parent is straight away object, but with list, there seems to be a complex list, why this difference ?"}],"answers":[{"comments":[{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678057797,"post_id":75645856,"comment_id":133454730,"body_markdown":"Oh Okay, but wouldn&#39;t Box&lt;Object&gt; be a subtype of Box&lt;?&gt; ?","body":"Oh Okay, but wouldn&#39;t Box&lt;Object&gt; be a subtype of Box&lt;?&gt; ?"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678058312,"post_id":75645856,"comment_id":133454799,"body_markdown":"What do you mean by inside in your first sentence ? So the first Common ancestor for all Generic classes is that class&lt;?&gt; ? Where does AbstractList come into it ? Why didn&#39;t it show List&lt;?&gt;, Is there any info anywhere that shows this comprehensively ? As it might be helpful to know whats going on exactly, Thanks","body":"What do you mean by inside in your first sentence ? So the first Common ancestor for all Generic classes is that class&lt;?&gt; ? Where does AbstractList come into it ? Why didn&#39;t it show List&lt;?&gt;, Is there any info anywhere that shows this comprehensively ? As it might be helpful to know whats going on exactly, Thanks"}],"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678056907,"creation_date":1678056907,"answer_id":75645856,"question_id":75645737,"body_markdown":"The first screenshot (with Box(Number) and Box(Integer)) is there to show that inheritance is not applied to generic type (that is inside).\r\n\r\nMaybe it would be easier if this example would have additional diagram, where it would show that both Box&lt;Number&gt; and Box&lt;Integer&gt; actually have common parent Box&lt;?&gt;.\r\n\r\nYour testing idea with TempFruitHolder is actually right in terms of subclasses - but issue is that examples (Box and List screenshorts) are generalised not by superclasses, but by the class itself - as Box holding an Orange and Box holding an BloodOrange are still a Box - and that is what was referred to in the screenshots.\r\n\r\nI suppose tutorial does this so it would be easier to say about type erasure a bit later (as in Java runtime there are actually a Box of objects (same as ?))","title":"Java Generics supertypes Wildcard ? VS Object VS AbstractList","body":"<p>The first screenshot (with Box(Number) and Box(Integer)) is there to show that inheritance is not applied to generic type (that is inside).</p>\n<p>Maybe it would be easier if this example would have additional diagram, where it would show that both Box and Box actually have common parent Box&lt;?&gt;.</p>\n<p>Your testing idea with TempFruitHolder is actually right in terms of subclasses - but issue is that examples (Box and List screenshorts) are generalised not by superclasses, but by the class itself - as Box holding an Orange and Box holding an BloodOrange are still a Box - and that is what was referred to in the screenshots.</p>\n<p>I suppose tutorial does this so it would be easier to say about type erasure a bit later (as in Java runtime there are actually a Box of objects (same as ?))</p>\n"},{"comments":[{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678065206,"post_id":75646168,"comment_id":133455593,"body_markdown":"Thanks, Thats helpful. My only response to this is, why is List&lt;Orange&gt; giving a different parent type AbstractList when the documentation says List&lt;?&gt;, when TempFruitHolder&lt;Orange&gt; is object ? I just wanted to get clarity on all these inconsistencies, When I see the interface List&lt;E&gt; in the documentation, i dont see any specific code that would indicate what it is bound too after erasure","body":"Thanks, Thats helpful. My only response to this is, why is List&lt;Orange&gt; giving a different parent type AbstractList when the documentation says List&lt;?&gt;, when TempFruitHolder&lt;Orange&gt; is object ? I just wanted to get clarity on all these inconsistencies, When I see the interface List&lt;E&gt; in the documentation, i dont see any specific code that would indicate what it is bound too after erasure"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1678067531,"post_id":75646168,"comment_id":133455909,"body_markdown":"List is an interface, not a class, so you will never see List as a parent type.  ArrayList is a concrete type that implements List and it derives from AbstractList.  The inheritance chart is right under the classname in the documentation. https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","body":"List is an interface, not a class, so you will never see List as a parent type.  ArrayList is a concrete type that implements List and it derives from AbstractList.  The inheritance chart is right under the classname in the documentation. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html</a>"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678110378,"post_id":75646168,"comment_id":133464457,"body_markdown":"Thanks, I have got it now, Just one question if I may, i have researched and researched for days and I cant understand one thing about generics. I know what &lt;? super T&gt; is supposed to do, but I can&#39;t think of a single use case for this ? Why would this be needed ?","body":"Thanks, I have got it now, Just one question if I may, i have researched and researched for days and I cant understand one thing about generics. I know what &lt;? super T&gt; is supposed to do, but I can&#39;t think of a single use case for this ? Why would this be needed ?"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":2,"creation_date":1678116573,"post_id":75646168,"comment_id":133466435,"body_markdown":"Good question!  In general, extends is used for &#39;in&#39; variables (that are sources of data) and super is used for &#39;out&#39; variables (that are destinations of data).  In the example, `void copy(List&lt;? extends Fruit&gt; src, List&lt;? super Fruit&gt; dest)` I want to be able to copy Fruit-like objects from one list to another.  The source must be a List&lt;Fruit&gt;, List&lt;Orange&gt; or some subclass but the destination list can be any list that will accept a Fruit, which includes a List&lt;Object&gt; or any other superclass of Fruit.","body":"Good question!  In general, extends is used for &#39;in&#39; variables (that are sources of data) and super is used for &#39;out&#39; variables (that are destinations of data).  In the example, <code>void copy(List&lt;? extends Fruit&gt; src, List&lt;? super Fruit&gt; dest)</code> I want to be able to copy Fruit-like objects from one list to another.  The source must be a List&lt;Fruit&gt;, List&lt;Orange&gt; or some subclass but the destination list can be any list that will accept a Fruit, which includes a List&lt;Object&gt; or any other superclass of Fruit."},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678127927,"post_id":75646168,"comment_id":133469799,"body_markdown":"Thanks, Oracle docs here say exactly what you did about IN/OUT, but Kotlin&#39;s docs are the opposite. Only question I have with that is I have never encountered a situation in inheritance where Im working from subtype to super type in the opposite direction so Im more confused about why, If &lt;? super Fruit&gt; takes fruit like objects, whats the difference between that and doing &lt;? extends Object&gt; ? But I want to thank you for taking the time to explain, it helps so much","body":"Thanks, Oracle docs here say exactly what you did about IN/OUT, but Kotlin&#39;s docs are the opposite. Only question I have with that is I have never encountered a situation in inheritance where Im working from subtype to super type in the opposite direction so Im more confused about why, If &lt;? super Fruit&gt; takes fruit like objects, whats the difference between that and doing &lt;? extends Object&gt; ? But I want to thank you for taking the time to explain, it helps so much"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":1,"creation_date":1678138820,"post_id":75646168,"comment_id":133472377,"body_markdown":"&lt;? extends Object&gt; - everything extends Object so this would take List&lt;Warehouse&gt; or List&lt;Car&gt;!  List&lt;? super Fruit&gt; takes any list that you can add Fruit to.  So List&lt;Object&gt; would be accepted but not List&lt;Car&gt; because you can&#39;t add a Fruit to it.","body":"&lt;? extends Object&gt; - everything extends Object so this would take List&lt;Warehouse&gt; or List&lt;Car&gt;!  List&lt;? super Fruit&gt; takes any list that you can add Fruit to.  So List&lt;Object&gt; would be accepted but not List&lt;Car&gt; because you can&#39;t add a Fruit to it."},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1678139576,"post_id":75646168,"comment_id":133472549,"body_markdown":"Aah! That starts to make sense now, It took me a long time to get this, I never thought about it this way. Thank you","body":"Aah! That starts to make sense now, It took me a long time to get this, I never thought about it this way. Thank you"}],"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678062168,"creation_date":1678061665,"answer_id":75646168,"question_id":75645737,"body_markdown":"Java generics are a developer convenience feature that exists during compilation but *does not* at runtime.  A process called called [type erasure][1] is applied by the compiler on generics that removes all type parameters and replaces them with their bounds **or with Object if the type parameter is unbounded**.\r\n\r\nThe bound of `TempFruitHolder&lt;T&gt;` is `Object` because there are no constraints on what class the type parameter T may be.\r\n\r\n`TempFruitHolder&lt;T extends Fruit&gt;`, on the other hand, has a bound of `Fruit` because the compiler can enforce the contract that `T` is a subtype of `Fruit`.  Type erasure will replace `T` with `Fruit` at compile time.\r\n\r\nWildcards are useful when you don&#39;t need to use the generic type elsewhere, just handle an unknown type.\r\n\r\n    public static void doSomethingWithFruit(List&lt;? extends Fruit&gt; fruit) { ... }\r\n\r\nThis translates to *give me a list of **any** type that subclasses Fruit*.  It&#39;s valid to pass a `List&lt;Orange&gt;` or `List&lt;BloodOrange&gt;` but not `List&lt;Potato&gt;` or `List&lt;Customer&gt;`.\r\n\r\nThe wildcard is necessary because `List&lt;Orange&gt;` does not descend from `List&lt;Fruit&gt;` - type erasure will reduce both to `List&lt;Object&gt;` at runtime.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Java Generics supertypes Wildcard ? VS Object VS AbstractList","body":"<p>Java generics are a developer convenience feature that exists during compilation but <em>does not</em> at runtime.  A process called called <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a> is applied by the compiler on generics that removes all type parameters and replaces them with their bounds <strong>or with Object if the type parameter is unbounded</strong>.</p>\n<p>The bound of <code>TempFruitHolder&lt;T&gt;</code> is <code>Object</code> because there are no constraints on what class the type parameter T may be.</p>\n<p><code>TempFruitHolder&lt;T extends Fruit&gt;</code>, on the other hand, has a bound of <code>Fruit</code> because the compiler can enforce the contract that <code>T</code> is a subtype of <code>Fruit</code>.  Type erasure will replace <code>T</code> with <code>Fruit</code> at compile time.</p>\n<p>Wildcards are useful when you don't need to use the generic type elsewhere, just handle an unknown type.</p>\n<pre><code>public static void doSomethingWithFruit(List&lt;? extends Fruit&gt; fruit) { ... }\n</code></pre>\n<p>This translates to <em>give me a list of <strong>any</strong> type that subclasses Fruit</em>.  It's valid to pass a <code>List&lt;Orange&gt;</code> or <code>List&lt;BloodOrange&gt;</code> but not <code>List&lt;Potato&gt;</code> or <code>List&lt;Customer&gt;</code>.</p>\n<p>The wildcard is necessary because <code>List&lt;Orange&gt;</code> does not descend from <code>List&lt;Fruit&gt;</code> - type erasure will reduce both to <code>List&lt;Object&gt;</code> at runtime.</p>\n"}],"owner":{"display_name":"user16422658"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75646168,"answer_count":2,"score":0,"last_activity_date":1678062168,"creation_date":1678055178,"question_id":75645737,"body_markdown":"I have been trying to get a deep understanding of Java Generics, because I felt I needed to know how this works.\r\n\r\nI have been going through the Oracle documentation and one thing confuses me.\r\n\r\nIn the Generics, Inheritance and Subtypes here: https://docs.oracle.com/javase/tutorial/java/generics/inheritance.html\r\n\r\nIt says the Common super type for any two Generic classes is the Object\r\n\r\nScreenshot:\r\n\r\n[![Generics, Inheritance and Subtypes in Java Generics][1]][1]\r\n\r\nBut later on when I read Wildcard and Subtyping here: https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html \r\n\r\nI see that the common super type between List&lt;Integer&gt; and List&lt;Number&gt; is List&lt;?&gt; as can be seen below:\r\n\r\n[![Common ancestor here is List&lt;?&gt;][2]][2]\r\n\r\nSo why is the common ancestor in the above example just Object, and in the example below a wildcard ?\r\n\r\nIs it because it&#39;s a collection ? Or is there some other reason for this ?\r\n\r\nI have used my examples to see what i get and I am getting something different.\r\n\r\nI am building a dummy project to learn and here is the code:\r\n\r\n    abstract class Fruit implements PlantEatable {\r\n    \r\n        private boolean isRipe;\r\n    \r\n        private boolean isEatable;\r\n    \r\n        public boolean isRipe() {\r\n            return isRipe;\r\n        }\r\n    \r\n        public void setRipe(boolean ripe) {\r\n            isRipe = ripe;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEatable() {\r\n            return isEatable;\r\n        }\r\n    \r\n        public void setEatable(boolean eatable) {\r\n            isEatable = eatable;\r\n        }\r\n    }\r\n\r\n    public class Orange extends Fruit{\r\n    \r\n    }\r\n\r\n    public class BloodOrange extends Orange{\r\n    \r\n    }\r\n\r\n    class TempFruitHolder&lt;T&gt; {\r\n        private T fruit;\r\n    \r\n        public TempFruitHolder setFruit(T t) {\r\n            fruit = t;\r\n            return this;\r\n        }\r\n    \r\n        public T getFruit() {\r\n            return fruit;\r\n        }\r\n    \r\n    }\r\n\r\nRunning the program:\r\n\r\n    public class WildCardSubtypes {\r\n    \r\n        public static void main(String[] args) {\r\n            BloodOrange bloodOrange = new BloodOrange();\r\n            Orange bloodOrange2 = new BloodOrange();\r\n            Orange orange = new Orange();\r\n    \r\n            TempFruitHolder&lt;Orange&gt; orangeTempFruitHolder = new TempFruitHolder&lt;&gt;();\r\n            TempFruitHolder&lt;BloodOrange&gt; bloodOrangeTempFruitHolder = new TempFruitHolder&lt;&gt;();\r\n    \r\n            List&lt;Orange&gt; oranges = new ArrayList&lt;&gt;();\r\n            List&lt;BloodOrange&gt; bloodOranges = new ArrayList&lt;&gt;();\r\n    \r\n            System.out.println(&quot;TempFruitHolder&lt;Orange&gt;&#39;s super class: &quot; +\r\n                    orangeTempFruitHolder.getClass().getSuperclass()\r\n            );\r\n    \r\n            System.out.println(&quot;TempFruitHolder&lt;BloodOrange&gt;&#39;s super class: &quot; +\r\n                    bloodOrangeTempFruitHolder.getClass().getSuperclass()\r\n            );\r\n    \r\n            System.out.println(&quot;List&lt;Orange&gt;&#39;s super class: &quot; +\r\n                oranges.getClass().getSuperclass()\r\n            );\r\n    \r\n            System.out.println(&quot;List&lt;BloodOrange&gt;&#39;s super class: &quot; +\r\n                bloodOranges.getClass().getSuperclass()\r\n            );\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nResult 1:\r\n\r\n[![Result of finding the Super Class:][3]][3]\r\n\r\nI try to create a class level upper bound to see if the super class is different:\r\n\r\n    class TempFruitHolder&lt;T extends Eatable&gt; {\r\n        private T fruit;\r\n    \r\n        public TempFruitHolder setFruit(T t) {\r\n            fruit = t;\r\n            return this;\r\n        }\r\n    \r\n        public T getFruit() {\r\n            return fruit;\r\n        }\r\n    \r\n    }\r\n\r\nResult 2:\r\n\r\n[![Same result][4]][4]\r\n\r\nI apologise, maybe Im missing something straight forward or maybe i am looking at outdated documentation, but I am not sure what the super class is.\r\n\r\nI even watched videos that said super class with Generics is always object.\r\n\r\nAny advice would be much appreciated\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hamqt.png\r\n  [2]: https://i.stack.imgur.com/6nQkV.png\r\n  [3]: https://i.stack.imgur.com/dmWrz.png\r\n  [4]: https://i.stack.imgur.com/1QEC8.png","title":"Java Generics supertypes Wildcard ? VS Object VS AbstractList","body":"<p>I have been trying to get a deep understanding of Java Generics, because I felt I needed to know how this works.</p>\n<p>I have been going through the Oracle documentation and one thing confuses me.</p>\n<p>In the Generics, Inheritance and Subtypes here: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/inheritance.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/inheritance.html</a></p>\n<p>It says the Common super type for any two Generic classes is the Object</p>\n<p>Screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/Hamqt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hamqt.png\" alt=\"Generics, Inheritance and Subtypes in Java Generics\" /></a></p>\n<p>But later on when I read Wildcard and Subtyping here: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html</a></p>\n<p>I see that the common super type between List and List is List&lt;?&gt; as can be seen below:</p>\n<p><a href=\"https://i.stack.imgur.com/6nQkV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6nQkV.png\" alt=\"Common ancestor here is List&lt;?&gt;\" /></a></p>\n<p>So why is the common ancestor in the above example just Object, and in the example below a wildcard ?</p>\n<p>Is it because it's a collection ? Or is there some other reason for this ?</p>\n<p>I have used my examples to see what i get and I am getting something different.</p>\n<p>I am building a dummy project to learn and here is the code:</p>\n<pre><code>abstract class Fruit implements PlantEatable {\n\n    private boolean isRipe;\n\n    private boolean isEatable;\n\n    public boolean isRipe() {\n        return isRipe;\n    }\n\n    public void setRipe(boolean ripe) {\n        isRipe = ripe;\n    }\n\n    @Override\n    public boolean isEatable() {\n        return isEatable;\n    }\n\n    public void setEatable(boolean eatable) {\n        isEatable = eatable;\n    }\n}\n\npublic class Orange extends Fruit{\n\n}\n\npublic class BloodOrange extends Orange{\n\n}\n\nclass TempFruitHolder&lt;T&gt; {\n    private T fruit;\n\n    public TempFruitHolder setFruit(T t) {\n        fruit = t;\n        return this;\n    }\n\n    public T getFruit() {\n        return fruit;\n    }\n\n}\n</code></pre>\n<p>Running the program:</p>\n<pre><code>public class WildCardSubtypes {\n\n    public static void main(String[] args) {\n        BloodOrange bloodOrange = new BloodOrange();\n        Orange bloodOrange2 = new BloodOrange();\n        Orange orange = new Orange();\n\n        TempFruitHolder&lt;Orange&gt; orangeTempFruitHolder = new TempFruitHolder&lt;&gt;();\n        TempFruitHolder&lt;BloodOrange&gt; bloodOrangeTempFruitHolder = new TempFruitHolder&lt;&gt;();\n\n        List&lt;Orange&gt; oranges = new ArrayList&lt;&gt;();\n        List&lt;BloodOrange&gt; bloodOranges = new ArrayList&lt;&gt;();\n\n        System.out.println(&quot;TempFruitHolder&lt;Orange&gt;'s super class: &quot; +\n                orangeTempFruitHolder.getClass().getSuperclass()\n        );\n\n        System.out.println(&quot;TempFruitHolder&lt;BloodOrange&gt;'s super class: &quot; +\n                bloodOrangeTempFruitHolder.getClass().getSuperclass()\n        );\n\n        System.out.println(&quot;List&lt;Orange&gt;'s super class: &quot; +\n            oranges.getClass().getSuperclass()\n        );\n\n        System.out.println(&quot;List&lt;BloodOrange&gt;'s super class: &quot; +\n            bloodOranges.getClass().getSuperclass()\n        );\n\n    }\n\n}\n</code></pre>\n<p>Result 1:</p>\n<p><a href=\"https://i.stack.imgur.com/dmWrz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dmWrz.png\" alt=\"Result of finding the Super Class:\" /></a></p>\n<p>I try to create a class level upper bound to see if the super class is different:</p>\n<pre><code>class TempFruitHolder&lt;T extends Eatable&gt; {\n    private T fruit;\n\n    public TempFruitHolder setFruit(T t) {\n        fruit = t;\n        return this;\n    }\n\n    public T getFruit() {\n        return fruit;\n    }\n\n}\n</code></pre>\n<p>Result 2:</p>\n<p><a href=\"https://i.stack.imgur.com/1QEC8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1QEC8.png\" alt=\"Same result\" /></a></p>\n<p>I apologise, maybe Im missing something straight forward or maybe i am looking at outdated documentation, but I am not sure what the super class is.</p>\n<p>I even watched videos that said super class with Generics is always object.</p>\n<p>Any advice would be much appreciated</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","server-sent-events"],"comments":[{"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"score":0,"creation_date":1678060883,"post_id":75645942,"comment_id":133455120,"body_markdown":"What&#39;s the http error code you are seeing in the browser? Are you seeing any errors in the server logs? If not, try increasing the logging verbosity in the server and seeing what&#39;s happening there.","body":"What&#39;s the http error code you are seeing in the browser? Are you seeing any errors in the server logs? If not, try increasing the logging verbosity in the server and seeing what&#39;s happening there."}],"owner":{"account_id":17798173,"reputation":11,"user_id":15672405,"display_name":"ninakuup21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678058169,"creation_date":1678058169,"question_id":75645942,"body_markdown":"I&#39;ve been trying to send real-time messages to an http client using SSEs using the following class:\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.servlet.mvc.method.annotation.SseEmitter;\r\n\r\n@RestController\r\npublic class SSETestController {\r\n    private List&lt;SseEmitter&gt; sseEmitters = new ArrayList&lt;&gt;();\r\n\r\n    @GetMapping(&quot;/message&quot;)\r\n    public SseEmitter eventEmitter() throws IOException {\r\n\tSseEmitter sseEmitter = new SseEmitter(Long.MAX_VALUE);\r\n\tsseEmitters.add(sseEmitter);\r\n\treturn sseEmitter;\r\n\t}\r\n}\r\n```\r\n\r\nand the html file looks like this:\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n&lt;h1&gt;My First Heading&lt;/h1&gt;\r\n&lt;p&gt;My first paragraph.&lt;/p&gt;\r\n\r\n&lt;script&gt;\r\n    window.onload = function() {\r\n        const eventSource = new EventSource(&quot;/message&quot;);\r\n        eventSource.addEventListener(&quot;message&quot;, (event) =&gt; {\r\n            const message = JSON.parse(event.data);\r\n            console.log(message);\r\n        });\r\n\r\n        eventSource.onerror = function (e) {\r\n            console.log(&quot;error&quot;);\r\n        }\r\n\r\n        eventSource.addEventListener(&quot;open&quot;, (event) =&gt; {\r\n        console.log(&#39;connection is live&#39;);\r\n        });\r\n\r\n\r\n    }\r\n&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt; \r\n```\r\n\r\nBut when I load the page I get the following error on Firefox&#39; console : `Firefox can’t establish a connection to the server at http://localhost:8080/message.` I&#39;ve also tried it with different browsers but I get similar results.\r\n\r\nNearly all the tutorials I followed use this method to establish an SSE connection but I somehow cannot seem to get it to work, is there maybe something I am missing?\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\nI&#39;ve tried doing `sseEmitter.complete()` before returning the emitter but it just causes the connection to be succesful briefly and then it breaks down again. Then the client tries to reconnect to the server.","title":"Can&#39;t keep an SSE connection open in Spring","body":"<p>I've been trying to send real-time messages to an http client using SSEs using the following class:</p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.mvc.method.annotation.SseEmitter;\n\n@RestController\npublic class SSETestController {\n    private List&lt;SseEmitter&gt; sseEmitters = new ArrayList&lt;&gt;();\n\n    @GetMapping(&quot;/message&quot;)\n    public SseEmitter eventEmitter() throws IOException {\n    SseEmitter sseEmitter = new SseEmitter(Long.MAX_VALUE);\n    sseEmitters.add(sseEmitter);\n    return sseEmitter;\n    }\n}\n</code></pre>\n<p>and the html file looks like this:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;h1&gt;My First Heading&lt;/h1&gt;\n&lt;p&gt;My first paragraph.&lt;/p&gt;\n\n&lt;script&gt;\n    window.onload = function() {\n        const eventSource = new EventSource(&quot;/message&quot;);\n        eventSource.addEventListener(&quot;message&quot;, (event) =&gt; {\n            const message = JSON.parse(event.data);\n            console.log(message);\n        });\n\n        eventSource.onerror = function (e) {\n            console.log(&quot;error&quot;);\n        }\n\n        eventSource.addEventListener(&quot;open&quot;, (event) =&gt; {\n        console.log('connection is live');\n        });\n\n\n    }\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n<p>But when I load the page I get the following error on Firefox' console : <code>Firefox can’t establish a connection to the server at http://localhost:8080/message.</code> I've also tried it with different browsers but I get similar results.</p>\n<p>Nearly all the tutorials I followed use this method to establish an SSE connection but I somehow cannot seem to get it to work, is there maybe something I am missing?</p>\n<p>Thanks in advance.</p>\n<p>I've tried doing <code>sseEmitter.complete()</code> before returning the emitter but it just causes the connection to be succesful briefly and then it breaks down again. Then the client tries to reconnect to the server.</p>\n"},{"tags":["java","android-intent","installation","apk","android-fileprovider"],"answers":[{"tags":[],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544202081,"creation_date":1544202081,"answer_id":53673918,"question_id":53548579,"body_markdown":"think the answer was simpler than i thought. alls i had to was add a line in my manifest stating this permission\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n\r\nits a new security measure that came out in Oreo i believe ","title":"Why don&#39;t apks auto-install on Samsung devices","body":"<p>think the answer was simpler than i thought. alls i had to was add a line in my manifest stating this permission</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.REQUEST_INSTALL_PACKAGES\" /&gt;\n</code></pre>\n\n<p>its a new security measure that came out in Oreo i believe </p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53673918,"answer_count":1,"score":1,"last_activity_date":1678057794,"creation_date":1543530785,"question_id":53548579,"body_markdown":"I&#39;ve come across a problem with my own third-party app store. When users download an item from our app it downloads then tries to install automatically using\r\n\r\n    File toInstall = new File(mFilePath);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            Uri contentUri = FileProvider.getUriForFile(context, &quot;package_name.fileprovider&quot;, toInstall);\r\n            Intent intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\r\n            intent.setData(contentUri);\r\n            intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            context.startActivity(intent);\r\n        } else {\r\n            Uri apkUri = Uri.fromFile(toInstall);\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(intent);\r\n        }\r\n\r\n    }\r\n\r\nAll works great on most devices, apart from mainly Samsung devices: the file downloads but does not install. Why?\r\n\r\nEdit 1\r\n---\r\n\r\nMy file provider xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path path=&quot;Android/data/package_name/&quot; name=&quot;files_root&quot; /&gt;\r\n    &lt;external-path path=&quot;.&quot; name=&quot;external_storage_root&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nEdit 2\r\n---\r\n\r\nDo I need any permissions in my manifest such as INSTALL_PACKAGE, or perhaps a runtime permission?\r\n\r\nI just find it strange that it&#39;s only Samsung-based devices.\r\n","title":"Why don&#39;t apks auto-install on Samsung devices","body":"<p>I've come across a problem with my own third-party app store. When users download an item from our app it downloads then tries to install automatically using</p>\n<pre><code>File toInstall = new File(mFilePath);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        Uri contentUri = FileProvider.getUriForFile(context, &quot;package_name.fileprovider&quot;, toInstall);\n        Intent intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\n        intent.setData(contentUri);\n        intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        context.startActivity(intent);\n    } else {\n        Uri apkUri = Uri.fromFile(toInstall);\n        Intent intent = new Intent(Intent.ACTION_VIEW);\n        intent.setDataAndType(apkUri, &quot;application/vnd.android.package-archive&quot;);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(intent);\n    }\n\n}\n</code></pre>\n<p>All works great on most devices, apart from mainly Samsung devices: the file downloads but does not install. Why?</p>\n<h2>Edit 1</h2>\n<p>My file provider xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;external-path path=&quot;Android/data/package_name/&quot; name=&quot;files_root&quot; /&gt;\n&lt;external-path path=&quot;.&quot; name=&quot;external_storage_root&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<h2>Edit 2</h2>\n<p>Do I need any permissions in my manifest such as INSTALL_PACKAGE, or perhaps a runtime permission?</p>\n<p>I just find it strange that it's only Samsung-based devices.</p>\n"},{"tags":["java","android","android-activity","screen"],"comments":[{"owner":{"account_id":259637,"reputation":4095,"user_id":542659,"display_name":"woodshy"},"score":0,"creation_date":1307967791,"post_id":6330260,"comment_id":7403368,"body_markdown":"Do you run your nested activities using startActivityForResult?","body":"Do you run your nested activities using startActivityForResult?"},{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":0,"creation_date":1307970903,"post_id":6330260,"comment_id":7404217,"body_markdown":"no.All the activities are started with startActivity.","body":"no.All the activities are started with startActivity."},{"owner":{"account_id":2149429,"reputation":562,"user_id":1906258,"accept_rate":50,"display_name":"Ripal Tamboli"},"score":0,"creation_date":1432193928,"post_id":6330260,"comment_id":48825531,"body_markdown":"I am using nested activities while cod runs finishaffinitytask() in nested activity. does it change the behaviour? as sometimes i am getting Failure delivering result ResultInfo when finishaffinitytask runs.","body":"I am using nested activities while cod runs finishaffinitytask() in nested activity. does it change the behaviour? as sometimes i am getting Failure delivering result ResultInfo when finishaffinitytask runs."},{"owner":{"account_id":3239175,"reputation":2249,"user_id":2732632,"display_name":"Kimmi Dhingra"},"score":0,"creation_date":1447053544,"post_id":6330260,"comment_id":54982985,"body_markdown":"Please check this answer, It will surely help you\nhttp://stackoverflow.com/a/25159180/2732632","body":"Please check this answer, It will surely help you <a href=\"http://stackoverflow.com/a/25159180/2732632\">stackoverflow.com/a/25159180/2732632</a>"},{"owner":{"account_id":137447,"reputation":7245,"user_id":341631,"accept_rate":77,"display_name":"Jo Jo"},"score":4,"creation_date":1455749931,"post_id":6330260,"comment_id":58634466,"body_markdown":"Android 21 introduced Activity.finishAndRemoveTask().","body":"Android 21 introduced Activity.finishAndRemoveTask()."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1526038783,"post_id":6330260,"comment_id":87599113,"body_markdown":"Only with this flags  work for  me:  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);","body":"Only with this flags  work for  me:  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);"}],"answers":[{"comments":[{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":2,"creation_date":1307971156,"post_id":6330317,"comment_id":7404293,"body_markdown":"When I pressing back button all the previous activities are show in the order they were .those activities need to be closed, when the logout button clicked there will be only one activity in the stack and that will be the login activity.And there is no login screen.User starts from home screen.","body":"When I pressing back button all the previous activities are show in the order they were .those activities need to be closed, when the logout button clicked there will be only one activity in the stack and that will be the login activity.And there is no login screen.User starts from home screen."}],"tags":[],"owner":{"account_id":309003,"reputation":4187,"user_id":621220,"accept_rate":44,"display_name":"Plamen Nikolov"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364391229,"creation_date":1307967599,"answer_id":6330317,"question_id":6330260,"body_markdown":"Log in-&gt;Home-&gt;screen 1-&gt;screen 2-&gt;screen 3-&gt;screen 4-&gt;screen 5\r\n\r\non screen 4 (or any other) -&gt; &lt;pre&gt;StartActivity(Log in)&lt;/pre&gt; with &lt;pre&gt;FLAG_ACTIVITY_CLEAR_TOP&lt;/pre&gt;","title":"Finish all previous activities","body":"<p>Log in->Home->screen 1->screen 2->screen 3->screen 4->screen 5</p>\n\n<p>on screen 4 (or any other) -> <pre>StartActivity(Log in)</pre> with <pre>FLAG_ACTIVITY_CLEAR_TOP</pre></p>\n"},{"comments":[{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":0,"creation_date":1307971163,"post_id":6330356,"comment_id":7404297,"body_markdown":"When I  pressing back button all the previous activities are show in the order they were .those activities need to be closed, when the logout button clicked there will be only one activity in the stack and that will be the login activity.","body":"When I  pressing back button all the previous activities are show in the order they were .those activities need to be closed, when the logout button clicked there will be only one activity in the stack and that will be the login activity."},{"owner":{"account_id":307760,"reputation":13890,"user_id":619252,"display_name":"Gabriel Negut"},"score":0,"creation_date":1307971616,"post_id":6330356,"comment_id":7404432,"body_markdown":"If you want this behavior, you have to override `onKeyDown` and `onBackPressed` (or `onKeyDown`, if you want to support Android versions &lt; 2.0) in each one of your activities (except the login one), and `startActivity(login)` there as shown above.","body":"If you want this behavior, you have to override <code>onKeyDown</code> and <code>onBackPressed</code> (or <code>onKeyDown</code>, if you want to support Android versions &lt; 2.0) in each one of your activities (except the login one), and <code>startActivity(login)</code> there as shown above."},{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":0,"creation_date":1307971880,"post_id":6330356,"comment_id":7404509,"body_markdown":"I have a button which will take me to the login screen finishing all activities in the stack.Is it possible?","body":"I have a button which will take me to the login screen finishing all activities in the stack.Is it possible?"}],"tags":[],"owner":{"account_id":307760,"reputation":13890,"user_id":619252,"display_name":"Gabriel Negut"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1307967816,"creation_date":1307967816,"answer_id":6330356,"question_id":6330260,"body_markdown":"If you log in the user in `screen 1` and from there you go to the other screens, use \r\n\r\n    Intent intent = new Intent(this, Screen1.class);\r\n    intent.addFlags(FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(intent);\r\n\r\n","title":"Finish all previous activities","body":"<p>If you log in the user in <code>screen 1</code> and from there you go to the other screens, use </p>\n\n<pre><code>Intent intent = new Intent(this, Screen1.class);\nintent.addFlags(FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":0,"creation_date":1307971343,"post_id":6330376,"comment_id":7404350,"body_markdown":"No, I am using `startActivity` only.","body":"No, I am using <code>startActivity</code> only."},{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":0,"creation_date":1308037867,"post_id":6330376,"comment_id":7417904,"body_markdown":"It will be difficult to maintain `onActivityResult` on each activity.I have implemeted DArkO &#39;s suggestion and achieved my goal and thanks for the help.","body":"It will be difficult to maintain <code>onActivityResult</code> on each activity.I have implemeted DArkO &#39;s suggestion and achieved my goal and thanks for the help."}],"tags":[],"owner":{"account_id":388024,"reputation":13478,"user_id":746710,"accept_rate":88,"display_name":"ngesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1347084164,"creation_date":1307967921,"answer_id":6330376,"question_id":6330260,"body_markdown":"If you are using `startActivityForResult()` in your previous activities, just override `OnActivityResult()` and call the `finish();` method inside it in all activities.. This will do the job...\r\n","title":"Finish all previous activities","body":"<p>If you are using <code>startActivityForResult()</code> in your previous activities, just override <code>OnActivityResult()</code> and call the <code>finish();</code> method inside it in all activities.. This will do the job...</p>\n"},{"comments":[{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":1,"creation_date":1307971309,"post_id":6330456,"comment_id":7404335,"body_markdown":"User is showing his first screen as home screen,thats the main issue.","body":"User is showing his first screen as home screen,thats the main issue."},{"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"score":0,"creation_date":1307972214,"post_id":6330456,"comment_id":7404634,"body_markdown":"well as i have it my response you need to get back to the home screen and finish that one. so the process call the intent above from any screen. receive the intent on the Home screen and instantly lauch a intent towards login and finish home after the startActivity method. you can also override the pending animation to null for in and out so that it doesn&#39;t show the transition ( i do that because it feels kinda quicker).so that should be working fine for the thing you need.","body":"well as i have it my response you need to get back to the home screen and finish that one. so the process call the intent above from any screen. receive the intent on the Home screen and instantly lauch a intent towards login and finish home after the startActivity method. you can also override the pending animation to null for in and out so that it doesn&#39;t show the transition ( i do that because it feels kinda quicker).so that should be working fine for the thing you need."},{"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"score":0,"creation_date":1307972410,"post_id":6330456,"comment_id":7404686,"body_markdown":"Clear top will work for clearing everything above the activity you are calling with the intent. so this means since activities are stacking above home they will be cleared. its just a matter of starting the login activity afterwards. i have been using it like that and i had no issues with it. also you need to declare the activity to have a single instance so you dont accidently launch another instance of the home activity (which then would be on top and wont clear things below)","body":"Clear top will work for clearing everything above the activity you are calling with the intent. so this means since activities are stacking above home they will be cleared. its just a matter of starting the login activity afterwards. i have been using it like that and i had no issues with it. also you need to declare the activity to have a single instance so you dont accidently launch another instance of the home activity (which then would be on top and wont clear things below)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":12,"creation_date":1307973923,"post_id":6330456,"comment_id":7405141,"body_markdown":"Rather than declare the activity as `singleInstance`, consider using `FLAG_ACTIVITY_CLEAR_TOP|FLAG_ACTIVITY_SINGLE_TOP` as the flags for the Intent. This will finish intervening activities and start (or bring back to the foreground) the desired activity.","body":"Rather than declare the activity as <code>singleInstance</code>, consider using <code>FLAG_ACTIVITY_CLEAR_TOP|FLAG_ACTIVITY_SINGLE_TOP</code> as the flags for the Intent. This will finish intervening activities and start (or bring back to the foreground) the desired activity."},{"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"score":0,"creation_date":1307975420,"post_id":6330456,"comment_id":7405577,"body_markdown":"Yeah @CommonsWare is right. i didn&#39;t think of that. but still as a discussion maybe: why not actually declare the activity singleTop/singleInstance? its the home activity. i don&#39;t think there would be a reason at any point to have 2 instances of that one right?","body":"Yeah @CommonsWare is right. i didn&#39;t think of that. but still as a discussion maybe: why not actually declare the activity singleTop/singleInstance? its the home activity. i don&#39;t think there would be a reason at any point to have 2 instances of that one right?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1307975889,"post_id":6330456,"comment_id":7405712,"body_markdown":"@DArkO: Few apps need a `singleInstance` activity -- that&#39;s mostly for home screens. You can declare `singleTop` if you want; I personally prefer to manage that at the `Intent` level.","body":"@DArkO: Few apps need a <code>singleInstance</code> activity -- that&#39;s mostly for home screens. You can declare <code>singleTop</code> if you want; I personally prefer to manage that at the <code>Intent</code> level."},{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":14,"creation_date":1307976695,"post_id":6330456,"comment_id":7405990,"body_markdown":"@ CommonsWare  Adding `intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_SINGLE_TOP);` to my activity did not help me.It did not finish the intervening  activities.When I press back from the Login screen I can see the previous activities.Here is my code `Intent  intent=new Intent(BaseActivity.this, Login.class);intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_SINGLE_TOP);startActivity(intent);`.","body":"@ CommonsWare  Adding <code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_A&zwnj;&#8203;CTIVITY_SINGLE_TOP);</code> to my activity did not help me.It did not finish the intervening  activities.When I press back from the Login screen I can see the previous activities.Here is my code <code>Intent  intent=new Intent(BaseActivity.this, Login.class);intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|&zwnj;&#8203;Intent.FLAG_ACTIVITY&zwnj;&#8203;_SINGLE_TOP);startAc&zwnj;&#8203;tivity(intent);</code>."},{"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"score":0,"creation_date":1307977096,"post_id":6330456,"comment_id":7406101,"body_markdown":"@CommonsWare ok that seems reasonable. but from my experience singleTop solves some cases where you forget to add the Single top flag and also when working in a team than its more of a coding convention whether to use the flag or the manifest declaration. nvm lets get back to this question. @Tanmay Mandal you shouldnt launch the login activity because it will launch it on top of the others since it is created from scratch when you call the intent. what i said was to actually launch the home activity and from it launch the Login and finish the home. that will clear the Top activities.","body":"@CommonsWare ok that seems reasonable. but from my experience singleTop solves some cases where you forget to add the Single top flag and also when working in a team than its more of a coding convention whether to use the flag or the manifest declaration. nvm lets get back to this question. @Tanmay Mandal you shouldnt launch the login activity because it will launch it on top of the others since it is created from scratch when you call the intent. what i said was to actually launch the home activity and from it launch the Login and finish the home. that will clear the Top activities."},{"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"score":0,"creation_date":1307977237,"post_id":6330456,"comment_id":7406143,"body_markdown":"@DArkO I think thats the solution I need to implement.calling the home and then finish it and call the login.let me try it.","body":"@DArkO I think thats the solution I need to implement.calling the home and then finish it and call the login.let me try it."},{"owner":{"account_id":1258912,"reputation":934,"user_id":1217764,"accept_rate":33,"display_name":"Umesh Suryawanshi"},"score":0,"creation_date":1351592736,"post_id":6330456,"comment_id":17866883,"body_markdown":"This is great one, for which I am searching. This code will be always useful for me. Thanks a lot.","body":"This is great one, for which I am searching. This code will be always useful for me. Thanks a lot."},{"owner":{"account_id":134693,"reputation":11106,"user_id":2624806,"accept_rate":32,"display_name":"CoDe"},"score":0,"creation_date":1407235397,"post_id":6330456,"comment_id":39126590,"body_markdown":"It still keep open current activity, getActivity().finishAffinity() worled in my case.","body":"It still keep open current activity, getActivity().finishAffinity() worled in my case."},{"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"score":0,"creation_date":1407235712,"post_id":6330456,"comment_id":39126783,"body_markdown":"No it wont keep the current activity alive, in your case this means that your old activity doesn&#39;t exist and a new one is opened on top instead of going back down through the stack.","body":"No it wont keep the current activity alive, in your case this means that your old activity doesn&#39;t exist and a new one is opened on top instead of going back down through the stack."},{"owner":{"account_id":5010669,"reputation":1562,"user_id":4027042,"accept_rate":20,"display_name":"Ajay Venugopal"},"score":37,"creation_date":1459503521,"post_id":6330456,"comment_id":60325920,"body_markdown":"this code only clear the top activity stack, for clearing all activities\n\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);","body":"this code only clear the top activity stack, for clearing all activities  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);"},{"owner":{"account_id":199386,"reputation":17510,"user_id":444668,"accept_rate":51,"display_name":"Jono"},"score":0,"creation_date":1498745392,"post_id":6330456,"comment_id":76635258,"body_markdown":"Not sure this is acceptable as it relaunches an activity again iinstead of just removing and finishing all activities","body":"Not sure this is acceptable as it relaunches an activity again iinstead of just removing and finishing all activities"},{"owner":{"account_id":5712472,"reputation":2772,"user_id":4513962,"display_name":"Amit Tumkur"},"score":0,"creation_date":1507028815,"post_id":6330456,"comment_id":80040122,"body_markdown":"For me it wasn&#39;t working initially because i was doing &#39;setFlags&#39; instead of &#39;addFlags&#39;.","body":"For me it wasn&#39;t working initially because i was doing &#39;setFlags&#39; instead of &#39;addFlags&#39;."}],"tags":[],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"comment_count":15,"down_vote_count":10,"up_vote_count":613,"is_accepted":true,"score":603,"last_activity_date":1644864541,"creation_date":1307968432,"answer_id":6330456,"question_id":6330260,"body_markdown":"Use: \r\n\r\n    Intent intent = new Intent(getApplicationContext(), Home.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(intent);\r\n\r\nThis will clear all the activities on top of home. \r\n\r\nAssuming you are finishing the login screen when the user logs in and home is created and afterward all the screens from 1 to 5 on top of that one. The code I posted will return you to home screen finishing all the other activities. You can add an extra in the intent and read that in the home screen activity and finish it also (maybe launch login screen again from there or something).\r\n\r\nI am not sure but you can also try going to login with this flag. I don&#39;t know how the activities will be ordered in that case. So don&#39;t know if it will clear the ones below the screen you are on including the one you are currently on but it&#39;s definitely the way to go.\r\n","title":"Finish all previous activities","body":"<p>Use:</p>\n<pre><code>Intent intent = new Intent(getApplicationContext(), Home.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n<p>This will clear all the activities on top of home.</p>\n<p>Assuming you are finishing the login screen when the user logs in and home is created and afterward all the screens from 1 to 5 on top of that one. The code I posted will return you to home screen finishing all the other activities. You can add an extra in the intent and read that in the home screen activity and finish it also (maybe launch login screen again from there or something).</p>\n<p>I am not sure but you can also try going to login with this flag. I don't know how the activities will be ordered in that case. So don't know if it will clear the ones below the screen you are on including the one you are currently on but it's definitely the way to go.</p>\n"},{"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":3,"creation_date":1362781803,"post_id":7524977,"comment_id":21601696,"body_markdown":"That&#39;s usually a very bad idea, tho it may work, it introduces a point of contact that may break in the future and it will be hard to debug. I&#39;m telling you from experience :)","body":"That&#39;s usually a very bad idea, tho it may work, it introduces a point of contact that may break in the future and it will be hard to debug. I&#39;m telling you from experience :)"}],"tags":[],"owner":{"account_id":472943,"reputation":6949,"user_id":881736,"display_name":"Andy"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1347084836,"creation_date":1316758429,"answer_id":7524977,"question_id":6330260,"body_markdown":"A solution I implemented for this (I think I found it on Stack&amp;nbsp;Overflow somewhere, but I don&#39;t remember, so thanks to whoever did that in the first place):\r\n\r\nFrom any of your activities do this:\r\n\r\n    // Clear your session, remove preferences, etc.\r\n    Intent intent  = new Intent(getBaseContext(), LoginActivity.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(intent);\r\n\r\nThen in your LoginActivity, overwrite onKeyDown:\r\n\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n            moveTaskToBack(true);\r\n            return true;\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n","title":"Finish all previous activities","body":"<p>A solution I implemented for this (I think I found it on Stack&nbsp;Overflow somewhere, but I don't remember, so thanks to whoever did that in the first place):</p>\n\n<p>From any of your activities do this:</p>\n\n<pre><code>// Clear your session, remove preferences, etc.\nIntent intent  = new Intent(getBaseContext(), LoginActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>Then in your LoginActivity, overwrite onKeyDown:</p>\n\n<pre><code>public boolean onKeyDown(int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        moveTaskToBack(true);\n        return true;\n    }\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454683,"reputation":3190,"user_id":852406,"display_name":"Asad Rao"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1347084894,"creation_date":1327412183,"answer_id":8987735,"question_id":6330260,"body_markdown":"Simply, when you go from the login screen, not when finishing the login screen.\r\n\r\nAnd then in all forward activities, use this for logout:\r\n\r\n    final Intent intent = new Intent(getBaseContext(), LoginScreen.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    context.startActivity(intent);\r\n\r\nIt works perfectly.\r\n","title":"Finish all previous activities","body":"<p>Simply, when you go from the login screen, not when finishing the login screen.</p>\n\n<p>And then in all forward activities, use this for logout:</p>\n\n<pre><code>final Intent intent = new Intent(getBaseContext(), LoginScreen.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\ncontext.startActivity(intent);\n</code></pre>\n\n<p>It works perfectly.</p>\n"},{"tags":[],"owner":{"account_id":990832,"reputation":3248,"user_id":1008203,"accept_rate":83,"display_name":"nikki"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1344343381,"creation_date":1332935322,"answer_id":9906871,"question_id":6330260,"body_markdown":"When user click on the logout button then write the following code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Intent intent = new Intent(this, LoginActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(intent);\r\n    \r\nAnd also when after login if you call new activity do not use finish();\r\n\r\n\r\n","title":"Finish all previous activities","body":"<p>When user click on the logout button then write the following code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(this, LoginActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>And also when after login if you call new activity do not use finish();</p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1347084471,"creation_date":1335932396,"answer_id":10407660,"question_id":6330260,"body_markdown":"**When the user wishes to exit all open activities**, they should press a button which loads the first Activity that runs when your application starts, clear all the other activities, then have the last remaining activity finish. Have the following code run when the user presses the exit button. In my case, `LoginActivity` is the first activity in my program to run.\r\n\r\n    Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    intent.putExtra(&quot;EXIT&quot;, true);\r\n    startActivity(intent);\r\n\r\nThe above code clears all the activities except for `LoginActivity`. Then put the following code inside the `LoginActivity`&#39;s `onCreate(...)`, to listen for when `LoginActivity` is recreated and the &#39;EXIT&#39; signal was passed:\r\n\t\t\r\n    if (getIntent().getBooleanExtra(&quot;EXIT&quot;, false)) {\r\n        finish();  \r\n    }\r\n\r\n**Why is making an exit button in Android so hard?**\r\n\r\nAndroid tries hard to discourage you from having an &quot;exit&quot; button in your application, because they want the user to never care about whether or not the programs they use are running in the background or not. \r\n\r\nThe Android OS developers want your program to be able to survive an unexpected shutdown and power off of the phone, and when the user restarts the program, they pick up right where they left off. So the user can receive a phone call while they use your application, and open maps which requires your application to be freed for more resources. \r\n\r\nWhen the user resumes your application, they pick up right where they left off with no interruption. This exit button is usurping power from the activity manager, potentially causing problems with the automatically managed android program life cycle.\r\n","title":"Finish all previous activities","body":"<p><strong>When the user wishes to exit all open activities</strong>, they should press a button which loads the first Activity that runs when your application starts, clear all the other activities, then have the last remaining activity finish. Have the following code run when the user presses the exit button. In my case, <code>LoginActivity</code> is the first activity in my program to run.</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nintent.putExtra(\"EXIT\", true);\nstartActivity(intent);\n</code></pre>\n\n<p>The above code clears all the activities except for <code>LoginActivity</code>. Then put the following code inside the <code>LoginActivity</code>'s <code>onCreate(...)</code>, to listen for when <code>LoginActivity</code> is recreated and the 'EXIT' signal was passed:</p>\n\n<pre><code>if (getIntent().getBooleanExtra(\"EXIT\", false)) {\n    finish();  \n}\n</code></pre>\n\n<p><strong>Why is making an exit button in Android so hard?</strong></p>\n\n<p>Android tries hard to discourage you from having an \"exit\" button in your application, because they want the user to never care about whether or not the programs they use are running in the background or not. </p>\n\n<p>The Android OS developers want your program to be able to survive an unexpected shutdown and power off of the phone, and when the user restarts the program, they pick up right where they left off. So the user can receive a phone call while they use your application, and open maps which requires your application to be freed for more resources. </p>\n\n<p>When the user resumes your application, they pick up right where they left off with no interruption. This exit button is usurping power from the activity manager, potentially causing problems with the automatically managed android program life cycle.</p>\n"},{"comments":[{"owner":{"account_id":962088,"reputation":8170,"user_id":986216,"display_name":"riwnodennyk"},"score":11,"creation_date":1389633368,"post_id":13468685,"comment_id":31736631,"body_markdown":"The proper solution, but only API 11+","body":"The proper solution, but only API 11+"},{"owner":{"account_id":92987,"reputation":4149,"user_id":254598,"accept_rate":70,"display_name":"Maurizio"},"score":0,"creation_date":1401032125,"post_id":13468685,"comment_id":36716987,"body_markdown":"I ended up using this extra flag as it doesn&#39;t cause a delay when showing the main activity (it won&#39;t restart it so it&#39;s much faster).","body":"I ended up using this extra flag as it doesn&#39;t cause a delay when showing the main activity (it won&#39;t restart it so it&#39;s much faster)."},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":2,"creation_date":1402036272,"post_id":13468685,"comment_id":37127327,"body_markdown":"@riwnodennyk why API 11+?","body":"@riwnodennyk why API 11+?"},{"owner":{"account_id":962088,"reputation":8170,"user_id":986216,"display_name":"riwnodennyk"},"score":0,"creation_date":1402047370,"post_id":13468685,"comment_id":37132853,"body_markdown":"@MuhammadBabar cause it looks like FLAG_ACTIVITY_CLEAR_TASK was introduced only in API 11 http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TASK","body":"@MuhammadBabar cause it looks like FLAG_ACTIVITY_CLEAR_TASK was introduced only in API 11 <a href=\"http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TASK\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/&hellip;</a>"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1402054222,"post_id":13468685,"comment_id":37136493,"body_markdown":"@riwnodennyk my bad i thought you are talking about `Intent.FLAG_ACTIVITY_NEW_TASK`","body":"@riwnodennyk my bad i thought you are talking about <code>Intent.FLAG_ACTIVITY_NEW_TASK</code>"},{"owner":{"account_id":93910,"reputation":1178,"user_id":256716,"display_name":"Steven Pena"},"score":17,"creation_date":1407184847,"post_id":13468685,"comment_id":39109294,"body_markdown":"Use IntentCompat.FLAG_ACTIVITY_CLEAR_TASK for pre 11 versions","body":"Use IntentCompat.FLAG_ACTIVITY_CLEAR_TASK for pre 11 versions"},{"owner":{"account_id":3484522,"reputation":6667,"user_id":2915785,"accept_rate":82,"display_name":"Naveed Ahmad"},"score":0,"creation_date":1433358582,"post_id":13468685,"comment_id":49323137,"body_markdown":"I will edit this answer for more convenient solution for newbies.","body":"I will edit this answer for more convenient solution for newbies."},{"owner":{"account_id":975941,"reputation":939,"user_id":997147,"accept_rate":78,"display_name":"Saifur Rahman Mohsin"},"score":0,"creation_date":1435173590,"post_id":13468685,"comment_id":50094642,"body_markdown":"Thanks. This is exactly what I needed. Can’t believe it’s not the accepted solution as the current accepted one didn’t work!","body":"Thanks. This is exactly what I needed. Can’t believe it’s not the accepted solution as the current accepted one didn’t work!"},{"owner":{"account_id":4950049,"reputation":574,"user_id":3984316,"display_name":"Marcio Granzotto"},"score":0,"creation_date":1445875974,"post_id":13468685,"comment_id":54496280,"body_markdown":"intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP| IntentCompat.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK); working for me, thanks!","body":"intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP| IntentCompat.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_N&zwnj;&#8203;EW_TASK); working for me, thanks!"},{"owner":{"account_id":1813975,"reputation":3034,"user_id":1649472,"accept_rate":64,"display_name":"ono"},"score":0,"creation_date":1452897678,"post_id":13468685,"comment_id":57384727,"body_markdown":"@StevenPena i can&#39;t get that flag to work for pre-11. is that the only flag you&#39;re adding? I&#39;m doing this `intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);`","body":"@StevenPena i can&#39;t get that flag to work for pre-11. is that the only flag you&#39;re adding? I&#39;m doing this <code>intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);</code>"},{"owner":{"account_id":93910,"reputation":1178,"user_id":256716,"display_name":"Steven Pena"},"score":2,"creation_date":1453200491,"post_id":13468685,"comment_id":57487417,"body_markdown":"@ono Yes. That should be all you need. Make sure your target activity&#39;s launch mode is set as as &quot;singleTask&quot; in the manifest.","body":"@ono Yes. That should be all you need. Make sure your target activity&#39;s launch mode is set as as &quot;singleTask&quot; in the manifest."},{"owner":{"account_id":1813975,"reputation":3034,"user_id":1649472,"accept_rate":64,"display_name":"ono"},"score":0,"creation_date":1453234054,"post_id":13468685,"comment_id":57509842,"body_markdown":"@StevenPena just not working, even with singleTask. back always takes me to a previous activity","body":"@StevenPena just not working, even with singleTask. back always takes me to a previous activity"},{"owner":{"account_id":93910,"reputation":1178,"user_id":256716,"display_name":"Steven Pena"},"score":0,"creation_date":1453235109,"post_id":13468685,"comment_id":57510510,"body_markdown":"@ono Not sure then. I&#39;m only using that one flag and that&#39;s the only change to the activity I had to make. The only other thing I&#39;ve set up is that my initial screen has &quot;alwaysRetainTaskState=false&quot; in the manifest. Maybe that&#39;ll fix whatever issue you are having.","body":"@ono Not sure then. I&#39;m only using that one flag and that&#39;s the only change to the activity I had to make. The only other thing I&#39;ve set up is that my initial screen has &quot;alwaysRetainTaskState=false&quot; in the manifest. Maybe that&#39;ll fix whatever issue you are having."},{"owner":{"account_id":1813975,"reputation":3034,"user_id":1649472,"accept_rate":64,"display_name":"ono"},"score":0,"creation_date":1453235927,"post_id":13468685,"comment_id":57511024,"body_markdown":"@StevenPena ok i think i got it. the solution is to NOT finish the initial activity. missed that somewhere","body":"@StevenPena ok i think i got it. the solution is to NOT finish the initial activity. missed that somewhere"},{"owner":{"account_id":1813975,"reputation":3034,"user_id":1649472,"accept_rate":64,"display_name":"ono"},"score":0,"creation_date":1453236154,"post_id":13468685,"comment_id":57511193,"body_markdown":"@StevenPena but now hitting back the 2nd activity takes you back to the initial instead of closing the app. the struggles.....","body":"@StevenPena but now hitting back the 2nd activity takes you back to the initial instead of closing the app. the struggles....."},{"owner":{"account_id":3398878,"reputation":10368,"user_id":2851687,"accept_rate":82,"display_name":"ralphgabb"},"score":0,"creation_date":1568189762,"post_id":13468685,"comment_id":102192135,"body_markdown":"This should be the accepted answer. All works without finish() or finishAffinity(), just intent flags.","body":"This should be the accepted answer. All works without finish() or finishAffinity(), just intent flags."}],"tags":[],"owner":{"account_id":2060985,"reputation":3859,"user_id":1837521,"display_name":"Kong Ken"},"comment_count":16,"down_vote_count":0,"up_vote_count":342,"is_accepted":false,"score":342,"last_activity_date":1353398930,"creation_date":1353397649,"answer_id":13468685,"question_id":6330260,"body_markdown":"You may try `Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK`. It will totally clears all previous activity(s) and start new activity. \r\n","title":"Finish all previous activities","body":"<p>You may try <code>Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK</code>. It will totally clears all previous activity(s) and start new activity. </p>\n"},{"tags":[],"owner":{"account_id":2089644,"reputation":221,"user_id":1859770,"display_name":"gmrl"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1354105504,"creation_date":1354104279,"answer_id":13604666,"question_id":6330260,"body_markdown":"From [developer.android.com](http://developer.android.com/reference/android/app/Activity.html#finishAffinity()):\r\n\r\n&gt;     public void finishAffinity ()\r\n&gt; Added in API level 16\r\n\r\nFinish this activity as well as all activities immediately below it in the current task that have the same affinity. This is typically used when an application can be launched on to another task (such as from an ACTION_VIEW of a content type it understands) and the user has used the up navigation to switch out of the current task and in to its own task. In this case, if the user has navigated down into any other activities of the second application, all of those should be removed from the original task as part of the task switch.\r\n\r\nNote that this finish does not allow you to deliver results to the previous activity, and an exception will be thrown if you are trying to do so.","title":"Finish all previous activities","body":"<p>From <a href=\"http://developer.android.com/reference/android/app/Activity.html#finishAffinity()\" rel=\"noreferrer\">developer.android.com</a>:</p>\n\n<blockquote>\n<pre><code>public void finishAffinity ()\n</code></pre>\n  \n  <p>Added in API level 16</p>\n</blockquote>\n\n<p>Finish this activity as well as all activities immediately below it in the current task that have the same affinity. This is typically used when an application can be launched on to another task (such as from an ACTION_VIEW of a content type it understands) and the user has used the up navigation to switch out of the current task and in to its own task. In this case, if the user has navigated down into any other activities of the second application, all of those should be removed from the original task as part of the task switch.</p>\n\n<p>Note that this finish does not allow you to deliver results to the previous activity, and an exception will be thrown if you are trying to do so.</p>\n"},{"tags":[],"owner":{"account_id":3600315,"reputation":339,"user_id":3003759,"display_name":"Amrit"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1385462687,"creation_date":1385462687,"answer_id":20214851,"question_id":6330260,"body_markdown":"For logout button on last screen of app, use this code on logout button listener to finish all open previous activities, and your problem is solved. \t\r\n        \r\n    {\r\n    Intent intent = new Intent(this, loginScreen.class);\r\n    ntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity(intent);\r\n    }","title":"Finish all previous activities","body":"<p>For logout button on last screen of app, use this code on logout button listener to finish all open previous activities, and your problem is solved.    </p>\n\n<pre><code>{\nIntent intent = new Intent(this, loginScreen.class);\nntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(intent);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1540829950,"post_id":23824210,"comment_id":92999191,"body_markdown":"`IntentCompat.FLAG_ACTIVITY_CLEAR_TASK` is not recognised, use `Intent` instead of `IntentCompat`.","body":"<code>IntentCompat.FLAG_ACTIVITY_CLEAR_TASK</code> is not recognised, use <code>Intent</code> instead of <code>IntentCompat</code>."}],"tags":[],"owner":{"account_id":455412,"reputation":1526,"user_id":853567,"display_name":"Gem"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1400833016,"creation_date":1400833016,"answer_id":23824210,"question_id":6330260,"body_markdown":"    Intent intent = new Intent(this, classObject);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity(intent);\r\n\r\nThis Will work for all Android versions. Where `IntentCompat` the class added in Android Support library. ","title":"Finish all previous activities","body":"<pre><code>Intent intent = new Intent(this, classObject);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(intent);\n</code></pre>\n\n<p>This Will work for all Android versions. Where <code>IntentCompat</code> the class added in Android Support library. </p>\n"},{"comments":[{"owner":{"account_id":1374197,"reputation":848,"user_id":1308530,"display_name":"Aamir Abro"},"score":12,"creation_date":1416213188,"post_id":25016158,"comment_id":42473377,"body_markdown":"ActivityCompat.finishAffinity(this); calls activity.finish() for api &lt; 16. So it won&#39;t work.","body":"ActivityCompat.finishAffinity(this); calls activity.finish() for api &lt; 16. So it won&#39;t work."},{"owner":{"account_id":4888356,"reputation":2983,"user_id":3940133,"accept_rate":100,"display_name":"HendraWD"},"score":1,"creation_date":1465199166,"post_id":25016158,"comment_id":62783686,"body_markdown":"@Beto Caldas, I have confirmed the source code myself, it will not work for API &lt; 16 as AamirAbro mentioned. It will just finish the activity that you passing on API &lt; 16.","body":"@Beto Caldas, I have confirmed the source code myself, it will not work for API &lt; 16 as AamirAbro mentioned. It will just finish the activity that you passing on API &lt; 16."},{"owner":{"account_id":6316453,"reputation":139,"user_id":4906220,"display_name":"al kaj"},"score":2,"creation_date":1660990417,"post_id":25016158,"comment_id":129667373,"body_markdown":"This remains the best solution to date for API &gt; 16 as other solutions create a lag when clearing or recreating a task","body":"This remains the best solution to date for API &gt; 16 as other solutions create a lag when clearing or recreating a task"}],"tags":[],"owner":{"account_id":919831,"reputation":4951,"user_id":951722,"accept_rate":61,"display_name":"Henrique"},"comment_count":3,"down_vote_count":1,"up_vote_count":158,"is_accepted":false,"score":157,"last_activity_date":1406639465,"creation_date":1406639465,"answer_id":25016158,"question_id":6330260,"body_markdown":"Before launching your new Activity, simply add the following code:\r\n\r\n    finishAffinity();\r\n\r\nOr if you want it to work in previous versions of Android:\r\n\r\n    ActivityCompat.finishAffinity(this);","title":"Finish all previous activities","body":"<p>Before launching your new Activity, simply add the following code:</p>\n\n<pre><code>finishAffinity();\n</code></pre>\n\n<p>Or if you want it to work in previous versions of Android:</p>\n\n<pre><code>ActivityCompat.finishAffinity(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622411,"reputation":2166,"user_id":1498699,"accept_rate":26,"display_name":"Aristo Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1425552857,"creation_date":1425552857,"answer_id":28876153,"question_id":6330260,"body_markdown":"Use the following for activity\r\n\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\nremove CLEAR_TASK flag for fragment use.\r\n\r\nI hope this may use for some people.","title":"Finish all previous activities","body":"<p>Use the following for activity</p>\n\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n</code></pre>\n\n<p>remove CLEAR_TASK flag for fragment use.</p>\n\n<p>I hope this may use for some people.</p>\n"},{"tags":[],"owner":{"account_id":1450165,"reputation":4348,"user_id":1367344,"accept_rate":83,"display_name":"Adnan Abdollah Zaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1448564965,"creation_date":1425556653,"answer_id":28877345,"question_id":6330260,"body_markdown":"i have same problem\r\nyou can use `IntentCompat` , like this :\r\n\r\n    import android.support.v4.content.IntentCompat;\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\r\n\r\n\r\n________________\r\nthis code work for me .\r\n\r\nAndroid api **17**\r\n","title":"Finish all previous activities","body":"<p>i have same problem\nyou can use <code>IntentCompat</code> , like this :</p>\n\n<pre><code>import android.support.v4.content.IntentCompat;\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\n</code></pre>\n\n<hr>\n\n<p>this code work for me .</p>\n\n<p>Android api <strong>17</strong></p>\n"},{"comments":[{"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"score":6,"creation_date":1443800935,"post_id":30796412,"comment_id":53650053,"body_markdown":"why **FLAG_ACTIVITY_CLEAR_TASK** twice?","body":"why <b>FLAG_ACTIVITY_CLEAR_TASK</b> twice?"},{"owner":{"account_id":1765886,"reputation":2876,"user_id":1611779,"accept_rate":92,"display_name":"iOSAndroidWindowsMobileAppsDev"},"score":1,"creation_date":1457966678,"post_id":30796412,"comment_id":59633622,"body_markdown":"From what I understand, .setFlags replaces the previous flags and does not append any flags. .addFlags is what you wanted to use I presume? Cause all the code above i1.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK); gets wiped out","body":"From what I understand, .setFlags replaces the previous flags and does not append any flags. .addFlags is what you wanted to use I presume? Cause all the code above i1.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK); gets wiped out"},{"owner":{"account_id":4262453,"reputation":5497,"user_id":3486462,"display_name":"Jamil"},"score":0,"creation_date":1481616514,"post_id":30796412,"comment_id":69436470,"body_markdown":"addFlags Works for me","body":"addFlags Works for me"},{"owner":{"account_id":5006676,"reputation":6240,"user_id":4024146,"display_name":"mtrakal"},"score":1,"creation_date":1526031162,"post_id":30796412,"comment_id":87594526,"body_markdown":"`setFlags` will replace all previous, so last `setFlags` is only valid, previous are replaced. So you don&#39;t need to call `i1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); i1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);`","body":"<code>setFlags</code> will replace all previous, so last <code>setFlags</code> is only valid, previous are replaced. So you don&#39;t need to call <code>i1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); i1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);</code>"}],"tags":[],"owner":{"account_id":1631668,"reputation":419,"user_id":1506061,"display_name":"Prashant Kumar"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1434089708,"creation_date":1434089708,"answer_id":30796412,"question_id":6330260,"body_markdown":"        Intent i1=new Intent(getApplicationContext(),StartUp_Page.class);\r\n    i1.setAction(Intent.ACTION_MAIN);\r\n    i1.addCategory(Intent.CATEGORY_HOME);\r\n    i1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    i1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    i1.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity(i1);\r\n    finish();\r\n\r\n\r\n","title":"Finish all previous activities","body":"<pre><code>    Intent i1=new Intent(getApplicationContext(),StartUp_Page.class);\ni1.setAction(Intent.ACTION_MAIN);\ni1.addCategory(Intent.CATEGORY_HOME);\ni1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\ni1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\ni1.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(i1);\nfinish();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4107236,"reputation":5820,"user_id":4173071,"accept_rate":62,"display_name":"priyankvex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465114976,"creation_date":1465114976,"answer_id":37639858,"question_id":6330260,"body_markdown":"I found this solution to work on every device despite API level (even for &lt; 11)\r\n\r\n    Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n    ComponentName cn = intent.getComponent();\r\n    Intent mainIntent = IntentCompat.makeRestartActivityTask(cn);\r\n    startActivity(mainIntent);","title":"Finish all previous activities","body":"<p>I found this solution to work on every device despite API level (even for &lt; 11)</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nComponentName cn = intent.getComponent();\nIntent mainIntent = IntentCompat.makeRestartActivityTask(cn);\nstartActivity(mainIntent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1367294,"reputation":1556,"user_id":1303477,"display_name":"Jaydeep purohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1467539417,"creation_date":1467539417,"answer_id":38168720,"question_id":6330260,"body_markdown":"If your application has minimum sdk version 16 then you can use **finishAffinity()**\r\n\r\nFinish this activity as well as all activities immediately below it in the current task that have the same affinity.\r\n\r\nThis is work for me In Top Payment screen remove all back-stack activits,\r\n\r\n \r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n             finishAffinity();\r\n            startActivity(new Intent(PaymentDoneActivity.this,Home.class));\r\n        } \r\n\r\nhttp://developer.android.com/reference/android/app/Activity.html#finishAffinity%28%29","title":"Finish all previous activities","body":"<p>If your application has minimum sdk version 16 then you can use <strong>finishAffinity()</strong></p>\n\n<p>Finish this activity as well as all activities immediately below it in the current task that have the same affinity.</p>\n\n<p>This is work for me In Top Payment screen remove all back-stack activits,</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n         finishAffinity();\n        startActivity(new Intent(PaymentDoneActivity.this,Home.class));\n    } \n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/app/Activity.html#finishAffinity%28%29\" rel=\"noreferrer\">http://developer.android.com/reference/android/app/Activity.html#finishAffinity%28%29</a></p>\n"},{"comments":[{"owner":{"account_id":2744323,"reputation":3748,"user_id":2365052,"display_name":"Shubhamoy"},"score":0,"creation_date":1478283285,"post_id":40428960,"comment_id":68107011,"body_markdown":"Elaborate your answer so that everyone can benefit from it.","body":"Elaborate your answer so that everyone can benefit from it."}],"tags":[],"owner":{"account_id":1366299,"reputation":1384,"user_id":1302648,"accept_rate":0,"display_name":"Kamal Bunkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478281943,"creation_date":1478281943,"answer_id":40428960,"question_id":6330260,"body_markdown":"for API &gt;= 15 to API 23\r\nsimple solution.\r\n \r\n\r\n     Intent nextScreen = new Intent(currentActivity.this, MainActivity.class);\r\n     nextScreen.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\r\n     startActivity(nextScreen);\r\n     ActivityCompat.finishAffinity(currentActivity.this);\r\n\r\n","title":"Finish all previous activities","body":"<p>for API >= 15 to API 23\nsimple solution.</p>\n\n<pre><code> Intent nextScreen = new Intent(currentActivity.this, MainActivity.class);\n nextScreen.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\n startActivity(nextScreen);\n ActivityCompat.finishAffinity(currentActivity.this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7376244,"reputation":486,"user_id":7277647,"display_name":"Pirooz Jenabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481397400,"creation_date":1481396612,"answer_id":41079201,"question_id":6330260,"body_markdown":"I found this way, it&#39;ll clear all history and exit\r\n\r\n    Intent startMain = new Intent(Intent.ACTION_MAIN);\r\n    startMain.addCategory(Intent.CATEGORY_HOME);\r\n    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(startMain);\r\n    Intent intent = new Intent(getApplicationContext(), SplashScreen.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(intent);\r\n\r\n    finish();\r\n    System.exit(0);","title":"Finish all previous activities","body":"<p>I found this way, it'll clear all history and exit</p>\n\n<pre><code>Intent startMain = new Intent(Intent.ACTION_MAIN);\nstartMain.addCategory(Intent.CATEGORY_HOME);\nstartMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(startMain);\nIntent intent = new Intent(getApplicationContext(), SplashScreen.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n\nfinish();\nSystem.exit(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1226958,"reputation":3451,"user_id":1192333,"accept_rate":75,"display_name":"Pelanes"},"score":1,"creation_date":1516627871,"post_id":43693044,"comment_id":83752180,"body_markdown":"Great explanation about the difference between setFlag vs addFlag, thank you","body":"Great explanation about the difference between setFlag vs addFlag, thank you"}],"tags":[],"owner":{"account_id":9460462,"reputation":475,"user_id":7034327,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1493451237,"creation_date":1493451237,"answer_id":43693044,"question_id":6330260,"body_markdown":"On a side note, good to know  \r\nThis answer works (https://stackoverflow.com/a/13468685/7034327)\r\n\r\n    Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n    this.finish();\r\n\r\nwhereas this doesn&#39;t work\r\n\r\n    Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n\r\n`.setFlags()` **replaces any previous flags** and doesn&#39;t append any new flags while `.addFlags()` does.\r\n\r\n\r\nSo this will also work\r\n\r\n    Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);","title":"Finish all previous activities","body":"<p>On a side note, good to know<br>\nThis answer works (<a href=\"https://stackoverflow.com/a/13468685/7034327\">https://stackoverflow.com/a/13468685/7034327</a>)</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\nthis.finish();\n</code></pre>\n\n<p>whereas this doesn't work</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\n</code></pre>\n\n<p><code>.setFlags()</code> <strong>replaces any previous flags</strong> and doesn't append any new flags while <code>.addFlags()</code> does.</p>\n\n<p>So this will also work</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1583517,"reputation":2941,"user_id":1468354,"accept_rate":80,"display_name":"AkshayT"},"score":1,"creation_date":1527404213,"post_id":50422019,"comment_id":88110355,"body_markdown":"Good answer but requires API 16","body":"Good answer but requires API 16"}],"tags":[],"owner":{"account_id":8592490,"reputation":1361,"user_id":6436629,"display_name":"Hitesh Kushwah"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1526709645,"creation_date":1526707004,"answer_id":50422019,"question_id":6330260,"body_markdown":"instead of using `finish()` just use `finishAffinity();`","title":"Finish all previous activities","body":"<p>instead of using <code>finish()</code> just use <code>finishAffinity();</code></p>\n"},{"comments":[{"owner":{"account_id":7941961,"reputation":1508,"user_id":5995648,"display_name":"Arbaz.in"},"score":0,"creation_date":1676954658,"post_id":50550188,"comment_id":133235971,"body_markdown":"Nice and simple answer","body":"Nice and simple answer"}],"tags":[],"owner":{"account_id":1583517,"reputation":2941,"user_id":1468354,"accept_rate":80,"display_name":"AkshayT"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1527408188,"creation_date":1527408188,"answer_id":50550188,"question_id":6330260,"body_markdown":"I guess I am late but there is simple and short answer.\r\nThere is a finishAffinity() method in Activity that will finish the current activity and all parent activities, but it works only in Android 4.1 or higher.\r\n\r\nFor API 16+, use\r\n\r\n`finishAffinity();`\r\n\r\nFor below 16, use\r\n\r\n`ActivityCompat.finishAffinity(YourActivity.this);`\r\n\r\nHope it helps!\r\n","title":"Finish all previous activities","body":"<p>I guess I am late but there is simple and short answer.\nThere is a finishAffinity() method in Activity that will finish the current activity and all parent activities, but it works only in Android 4.1 or higher.</p>\n\n<p>For API 16+, use</p>\n\n<p><code>finishAffinity();</code></p>\n\n<p>For below 16, use</p>\n\n<p><code>ActivityCompat.finishAffinity(YourActivity.this);</code></p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":2880172,"reputation":1430,"user_id":2471275,"display_name":"Djek-Grif"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1542925082,"creation_date":1542925082,"answer_id":53438580,"question_id":6330260,"body_markdown":"In my case I use `finishAffinity()` function in last activity like:\r\n\r\n    finishAffinity()\r\n    startHomeActivity()\r\n\r\nHope it&#39;ll be useful.","title":"Finish all previous activities","body":"<p>In my case I use <code>finishAffinity()</code> function in last activity like:</p>\n\n<pre><code>finishAffinity()\nstartHomeActivity()\n</code></pre>\n\n<p>Hope it'll be useful.</p>\n"},{"tags":[],"owner":{"account_id":14096237,"reputation":638,"user_id":10182932,"display_name":"Shivam Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583489056,"creation_date":1583489056,"answer_id":60561736,"question_id":6330260,"body_markdown":"**Best way to close all the previous activities and clear the memory**\r\n\r\n    finishAffinity()\r\n    System.exit(0);","title":"Finish all previous activities","body":"<p><strong>Best way to close all the previous activities and clear the memory</strong></p>\n\n<pre><code>finishAffinity()\nSystem.exit(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654900,"reputation":301,"user_id":5802201,"display_name":"Samuel Quiroz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585177904,"creation_date":1585177904,"answer_id":60858706,"question_id":6330260,"body_markdown":"I guess I am late but there is simple and short answer. There is a finishAffinity() method in Activity that will finish the current activity and all parent activities, but it works only in Android 4.1 or higher.\r\n\r\nFor API 16+, use\r\n\r\nfinishAffinity();\r\n\r\nFor below 16, use\r\n\r\nActivityCompat.finishAffinity(YourActivity.this);\r\n\r\nHope it helps!\r\n\r\nshareedit\r\nanswered May 27 &#39;18 at 8:03\r\n\r\nAkshay Taru","title":"Finish all previous activities","body":"<p>I guess I am late but there is simple and short answer. There is a finishAffinity() method in Activity that will finish the current activity and all parent activities, but it works only in Android 4.1 or higher.</p>\n\n<p>For API 16+, use</p>\n\n<p>finishAffinity();</p>\n\n<p>For below 16, use</p>\n\n<p>ActivityCompat.finishAffinity(YourActivity.this);</p>\n\n<p>Hope it helps!</p>\n\n<p>shareedit\nanswered May 27 '18 at 8:03</p>\n\n<p>Akshay Taru</p>\n"},{"tags":[],"owner":{"account_id":15850629,"reputation":359,"user_id":11436590,"display_name":"MosesK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623069304,"creation_date":1623068872,"answer_id":67871610,"question_id":6330260,"body_markdown":"I have tried the flags on my end and still haven&#39;t worked. I have an application with a very similar design and I have a possible solution in terms of logic. I have built my Login and Logout using shared preferences. \r\n\r\nIf I logout, data in my shared preferences is destroyed/deleted. \r\n\r\nFrom any of my activities such as Home.java I check whether shared preferences has data and in this case it won&#39;t because I destroyed it when I logged out from one of the screens. Therefore logic destroys/finishes that activity and takes me back to the Login activity. You can replicate this logic in all your other activities. \r\n\r\nHowever remember to perform this check inside onPostResume() because this is what is called when you go back to Home.java  \r\n\r\nCode Sample Below:\r\n\r\n    @Override\r\n    protected void onPostResume() {\r\n        SharedPreferences pref = this.getSharedPreferences(&quot;user_details&quot;, Context.MODE_PRIVATE);\r\n        if (pref.getAll().isEmpty()){\r\n            //Shared Preferences has no data.\r\n            //The data has been deleted\r\n            Intent intent = new Intent(getApplicationContext(), Login.class);\r\n            startActivity(intent);\r\n            finish();\r\n            //Finish destroys that activity which in our case is the Home.java\r\n        }\r\n    \r\n    \r\n        super.onPostResume();\r\n    }\r\n\r\n  ","title":"Finish all previous activities","body":"<p>I have tried the flags on my end and still haven't worked. I have an application with a very similar design and I have a possible solution in terms of logic. I have built my Login and Logout using shared preferences.</p>\n<p>If I logout, data in my shared preferences is destroyed/deleted.</p>\n<p>From any of my activities such as Home.java I check whether shared preferences has data and in this case it won't because I destroyed it when I logged out from one of the screens. Therefore logic destroys/finishes that activity and takes me back to the Login activity. You can replicate this logic in all your other activities.</p>\n<p>However remember to perform this check inside onPostResume() because this is what is called when you go back to Home.java</p>\n<p>Code Sample Below:</p>\n<pre><code>@Override\nprotected void onPostResume() {\n    SharedPreferences pref = this.getSharedPreferences(&quot;user_details&quot;, Context.MODE_PRIVATE);\n    if (pref.getAll().isEmpty()){\n        //Shared Preferences has no data.\n        //The data has been deleted\n        Intent intent = new Intent(getApplicationContext(), Login.class);\n        startActivity(intent);\n        finish();\n        //Finish destroys that activity which in our case is the Home.java\n    }\n\n\n    super.onPostResume();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651741034,"creation_date":1651741034,"answer_id":72124506,"question_id":6330260,"body_markdown":"In **Kotlin** this way:\r\n\r\nin Another Activity (with some classes), under `Imports`\r\n\r\n    var activity:Activity?=null\r\n        get() = field\r\n        set(value) {\r\n            field = value\r\n        }\r\nThen, under `onCreate`\r\n \r\n\r\n    activity=this\r\n\r\nin MainActivity now:\r\n\r\n    activity?.finish()","title":"Finish all previous activities","body":"<p>In <strong>Kotlin</strong> this way:</p>\n<p>in Another Activity (with some classes), under <code>Imports</code></p>\n<pre><code>var activity:Activity?=null\n    get() = field\n    set(value) {\n        field = value\n    }\n</code></pre>\n<p>Then, under <code>onCreate</code></p>\n<pre><code>activity=this\n</code></pre>\n<p>in MainActivity now:</p>\n<pre><code>activity?.finish()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":0,"creation_date":1681471854,"post_id":75645878,"comment_id":134065646,"body_markdown":"You might want to give more details, while leaving a reference is good, link only answers are discouraged","body":"You might want to give more details, while leaving a reference is good, link only answers are discouraged"},{"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"score":0,"creation_date":1682123588,"post_id":75645878,"comment_id":134171196,"body_markdown":"Assuming that Activity A wants to close activity B, then setup a broadcast receiver in Activity B, and the action will be finish();. when calling from the activity A then if activity B is working it will be killed. otherwise nothing will happen","body":"Assuming that Activity A wants to close activity B, then setup a broadcast receiver in Activity B, and the action will be finish();. when calling from the activity A then if activity B is working it will be killed. otherwise nothing will happen"}],"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678057240,"creation_date":1678057240,"answer_id":75645878,"question_id":6330260,"body_markdown":"If you know the activity you want to finish then, use broadcast receiver. [this][1] solution describe how to do it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10379275/2828651","title":"Finish all previous activities","body":"<p>If you know the activity you want to finish then, use broadcast receiver. <a href=\"https://stackoverflow.com/a/10379275/2828651\">this</a> solution describe how to do it.</p>\n"}],"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362503,"favorite_count":0,"down_vote_count":0,"up_vote_count":421,"accepted_answer_id":6330456,"answer_count":29,"score":421,"last_activity_date":1678057240,"creation_date":1307967224,"question_id":6330260,"body_markdown":"My application  has the following flow screens :\r\n\r\n`Home-&gt;screen 1-&gt;screen 2-&gt;screen 3-&gt;screen 4-&gt;screen 5`\r\n\r\nNow I have a common `log out`  button in each screens\r\n\r\n(`Home/ screen 1 / screen 2 /screen 3/ screen 4 / screen 5`) \r\n\r\nI want that when user clicks on the log out button(from any screen), all the screens will be finished and a new screen `Log in` will open . \r\n\r\nI have tried nearly all `FLAG_ACTIVITY` to achieve this.\r\nI also go through some answers in stackoverflow, but not being able to solve the problem.\r\nMy application is on Android 1.6 so not being able to use `FLAG_ACTIVITY_CLEAR_TASK` \r\n\r\nIs there any way to solve the issue ?\r\n\r\n\r\n","title":"Finish all previous activities","body":"<p>My application  has the following flow screens :</p>\n\n<p><code>Home-&gt;screen 1-&gt;screen 2-&gt;screen 3-&gt;screen 4-&gt;screen 5</code></p>\n\n<p>Now I have a common <code>log out</code>  button in each screens</p>\n\n<p>(<code>Home/ screen 1 / screen 2 /screen 3/ screen 4 / screen 5</code>) </p>\n\n<p>I want that when user clicks on the log out button(from any screen), all the screens will be finished and a new screen <code>Log in</code> will open . </p>\n\n<p>I have tried nearly all <code>FLAG_ACTIVITY</code> to achieve this.\nI also go through some answers in stackoverflow, but not being able to solve the problem.\nMy application is on Android 1.6 so not being able to use <code>FLAG_ACTIVITY_CLEAR_TASK</code> </p>\n\n<p>Is there any way to solve the issue ?</p>\n"},{"tags":["java","boolean","boolean-operations"],"comments":[{"owner":{"account_id":1174544,"reputation":2369,"user_id":1150863,"accept_rate":53,"display_name":"andy"},"score":0,"creation_date":1364384399,"post_id":15657876,"comment_id":22221082,"body_markdown":"The suggested usage is this: `$name = isGirl()? &#39;Lauren&#39; : &#39;Bob&#39;`","body":"The suggested usage is this: <code>$name = isGirl()? &#39;Lauren&#39; : &#39;Bob&#39;</code>"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1364384423,"post_id":15657876,"comment_id":22221090,"body_markdown":"It&#39;s difficult to tell without an error message but my guess is that both these methods have a `void` return type. That&#39;s not how `?:` works, both statements on the RHS of `?` should evaluate to a non-void value.","body":"It&#39;s difficult to tell without an error message but my guess is that both these methods have a <code>void</code> return type. That&#39;s not how <code>?:</code> works, both statements on the RHS of <code>?</code> should evaluate to a non-void value."}],"answers":[{"comments":[{"owner":{"account_id":1811487,"reputation":19971,"user_id":1647457,"accept_rate":91,"display_name":"Marc Rasmussen"},"score":1,"creation_date":1364385165,"post_id":15657908,"comment_id":22221428,"body_markdown":"Thank you i understand it now :P so the left hand side is a condition and then the right hand side decides what the variable needs to be","body":"Thank you i understand it now :P so the left hand side is a condition and then the right hand side decides what the variable needs to be"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1364384327,"creation_date":1364384327,"answer_id":15657908,"question_id":15657876,"body_markdown":"You&#39;re trying to use the [conditional `? :` operator][1] to decide which *statement* to execute. That&#39;s not its intention. The conditional operator can&#39;t be used as a statement - it&#39;s only to choose which *expression* to use as the overall result.\r\n\r\nSo this is fine:\r\n\r\n    foo(condition ? nonVoidMethod1() : nonVoidMethod2());\r\n\r\nbut this isn&#39;t:\r\n\r\n    condition ? voidMethod1() : voidMethod2();\r\n\r\nYou should just use an `if` statement here:\r\n\r\n    if (getSelection().equalsIgnoreCase(&quot;M&#229;ned&quot;)) {\r\n        calendarView.currentlyViewing.set(Calendar.Year);\r\n    } else {\r\n        showPopup();\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25","title":"The ? boolean zen operator","body":"<p>You're trying to use the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\">conditional <code>? :</code> operator</a> to decide which <em>statement</em> to execute. That's not its intention. The conditional operator can't be used as a statement - it's only to choose which <em>expression</em> to use as the overall result.</p>\n\n<p>So this is fine:</p>\n\n<pre><code>foo(condition ? nonVoidMethod1() : nonVoidMethod2());\n</code></pre>\n\n<p>but this isn't:</p>\n\n<pre><code>condition ? voidMethod1() : voidMethod2();\n</code></pre>\n\n<p>You should just use an <code>if</code> statement here:</p>\n\n<pre><code>if (getSelection().equalsIgnoreCase(\"Måned\")) {\n    calendarView.currentlyViewing.set(Calendar.Year);\n} else {\n    showPopup();\n}\n</code></pre>\n"}],"owner":{"account_id":1811487,"reputation":19971,"user_id":1647457,"accept_rate":91,"display_name":"Marc Rasmussen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2357,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1364394003,"accepted_answer_id":15657908,"answer_count":1,"score":0,"last_activity_date":1678056779,"creation_date":1364384218,"question_id":15657876,"body_markdown":"I&#39;ve never used the `?` operator before and I&#39;m trying to figure out how it works.\r\n\r\nI have been reading countless pages and decided to try for myself.\r\n\r\nI have the following statement:\r\n\r\n     getSelection().equalsIgnoreCase(&quot;M&#229;ned&quot;) ? calendarView.currentlyViewing.set(Calendar.Year) : showPopup();\r\n\r\nAs far as I can understand, if the left hand side (boolean) is true it will set my calendarView.to year and if not (getSelection is not equal to m&#229;ned) it will call the method `showPopup()`.\r\n\r\nBut when I type this into Eclipse I get a syntax error.\r\n\r\nWhat am I doing wrong?\r\n","title":"The ? boolean zen operator","body":"<p>I've never used the <code>?</code> operator before and I'm trying to figure out how it works.</p>\n<p>I have been reading countless pages and decided to try for myself.</p>\n<p>I have the following statement:</p>\n<pre><code> getSelection().equalsIgnoreCase(&quot;Måned&quot;) ? calendarView.currentlyViewing.set(Calendar.Year) : showPopup();\n</code></pre>\n<p>As far as I can understand, if the left hand side (boolean) is true it will set my calendarView.to year and if not (getSelection is not equal to måned) it will call the method <code>showPopup()</code>.</p>\n<p>But when I type this into Eclipse I get a syntax error.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","tensorflow","machine-learning","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":119394,"reputation":1101,"user_id":311060,"accept_rate":75,"display_name":"Kurovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678056429,"creation_date":1678055924,"answer_id":75645783,"question_id":73258930,"body_markdown":"I have encountered the same issue, but seems to be resolved after adding additional dependencies...\r\n\r\n\r\n  \r\n\r\n        implementation &#39;com.google.mlkit:image-labeling:17.0.7&#39;\r\n        implementation &#39;com.google.mlkit:image-labeling-custom:17.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-mlkit-text-recognition:18.0.2&#39;\r\n        implementation &quot;com.google.android.odml:image:1.0.0-beta1&quot;\r\n\r\n\r\nAlso, make sure that noCompress is set in module build.gradle file, in its `android {}` section.\r\n\r\n    aaptOptions {\r\n        noCompress &quot;tflite&quot;\r\n    }","title":"ImageLabeler getting NullPointerException but no arguments null","body":"<p>I have encountered the same issue, but seems to be resolved after adding additional dependencies...</p>\n<pre><code>    implementation 'com.google.mlkit:image-labeling:17.0.7'\n    implementation 'com.google.mlkit:image-labeling-custom:17.0.1'\n    implementation 'com.google.android.gms:play-services-mlkit-text-recognition:18.0.2'\n    implementation &quot;com.google.android.odml:image:1.0.0-beta1&quot;\n</code></pre>\n<p>Also, make sure that noCompress is set in module build.gradle file, in its <code>android {}</code> section.</p>\n<pre><code>aaptOptions {\n    noCompress &quot;tflite&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":7127472,"reputation":79,"user_id":5449923,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678056429,"creation_date":1659781357,"question_id":73258930,"body_markdown":"I&#39;ve been trying to build an ML image classifier. When I try to instansiate it, I get a NullPointerException:\r\n\r\n    private void processImage(Bitmap image) {\r\n        LocalModel localModel = new LocalModel.Builder().setAssetFilePath(&quot;model.tflite&quot;).build();\r\n        CustomImageLabelerOptions customImageLabelerOptions = new CustomImageLabelerOptions.Builder(localModel)\r\n                .setConfidenceThreshold(0.5f)\r\n                .setMaxResultCount(5)\r\n                .build();\r\n        try {\r\n            ImageLabeler imageLabeler = ImageLabeling.getClient(customImageLabelerOptions);\r\n        } catch (NullPointerException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nStack trace shows this:\r\n\r\n    java.lang.NullPointerException: null reference\r\n      at com.google.android.gms.common.internal.Preconditions.checkNotNull(com.google.android.gms:play-services-basement@@18.0.0:1)\r\n      at com.google.mlkit.vision.common.internal.MultiFlavorDetectorCreator.create(com.google.mlkit:vision-common@@17.0.0:1)\r\n      at com.google.mlkit.vision.label.ImageLabeling.getClient(com.google.mlkit:image-labeling-common@@18.0.0:2)\r\n\r\nI can&#39;t find out anything about Preconditions.checkNotNull. I added \r\n\r\n    implementation &#39;com.google.android.gms:play-services-basement:18.1.0&#39;\r\n\r\n(whatever the heck this is) to my gradle just to make sure, but no effect.\r\n\r\n","title":"ImageLabeler getting NullPointerException but no arguments null","body":"<p>I've been trying to build an ML image classifier. When I try to instansiate it, I get a NullPointerException:</p>\n<pre><code>private void processImage(Bitmap image) {\n    LocalModel localModel = new LocalModel.Builder().setAssetFilePath(&quot;model.tflite&quot;).build();\n    CustomImageLabelerOptions customImageLabelerOptions = new CustomImageLabelerOptions.Builder(localModel)\n            .setConfidenceThreshold(0.5f)\n            .setMaxResultCount(5)\n            .build();\n    try {\n        ImageLabeler imageLabeler = ImageLabeling.getClient(customImageLabelerOptions);\n    } catch (NullPointerException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Stack trace shows this:</p>\n<pre><code>java.lang.NullPointerException: null reference\n  at com.google.android.gms.common.internal.Preconditions.checkNotNull(com.google.android.gms:play-services-basement@@18.0.0:1)\n  at com.google.mlkit.vision.common.internal.MultiFlavorDetectorCreator.create(com.google.mlkit:vision-common@@17.0.0:1)\n  at com.google.mlkit.vision.label.ImageLabeling.getClient(com.google.mlkit:image-labeling-common@@18.0.0:2)\n</code></pre>\n<p>I can't find out anything about Preconditions.checkNotNull. I added</p>\n<pre><code>implementation 'com.google.android.gms:play-services-basement:18.1.0'\n</code></pre>\n<p>(whatever the heck this is) to my gradle just to make sure, but no effect.</p>\n"},{"tags":["java","image","blob"],"comments":[{"owner":{"account_id":5770284,"reputation":595,"user_id":4553898,"accept_rate":83,"display_name":"thaveethu gce"},"score":0,"creation_date":1526748841,"post_id":50427495,"comment_id":87869731,"body_markdown":"refer https://stackoverflow.com/questions/27846062/convert-blob-to-jpg-and-update-blob","body":"refer <a href=\"https://stackoverflow.com/questions/27846062/convert-blob-to-jpg-and-update-blob\" title=\"convert blob to jpg and update blob\">stackoverflow.com/questions/27846062/&hellip;</a>"},{"owner":{"account_id":258187,"reputation":1540,"user_id":540195,"accept_rate":18,"display_name":"Amit"},"score":0,"creation_date":1526748850,"post_id":50427495,"comment_id":87869737,"body_markdown":"First convert Blob to BufferedImage then BufferedImage to Image...","body":"First convert Blob to BufferedImage then BufferedImage to Image..."}],"answers":[{"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":2,"creation_date":1526749652,"post_id":50427548,"comment_id":87869968,"body_markdown":"This is unnecessarily complicated, it&#39;s just a bunch of bytes which can be written to disk.","body":"This is unnecessarily complicated, it&#39;s just a bunch of bytes which can be written to disk."},{"owner":{"account_id":258187,"reputation":1540,"user_id":540195,"accept_rate":18,"display_name":"Amit"},"score":0,"creation_date":1526749923,"post_id":50427548,"comment_id":87870048,"body_markdown":"@RobinGreen, I know its not a good solution but its workable.","body":"@RobinGreen, I know its not a good solution but its workable."}],"tags":[],"owner":{"account_id":258187,"reputation":1540,"user_id":540195,"accept_rate":18,"display_name":"Amit"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666705772,"creation_date":1526748932,"answer_id":50427548,"question_id":50427495,"body_markdown":"First convert the Blob to BuffededImage:\r\n\r\n    Blob aBlob = rs.getBlob(&quot;Photo&quot;);\r\n    InputStream is = aBlob.getBinaryStream(1, aBlob.length());\r\n    BufferedImage image=ImageIO.read(is);\r\n\r\nThen BufferedImage to Image:\r\n\r\n    try {\r\n        // Retrieve Image\r\n        File outputfile = new File(&quot;saved.png&quot;);\r\n        ImageIO.write(image, &quot;png&quot;, outputfile); // Write the Buffered Image into an output file\r\n        Image image  = ImageIO.read(new File(&quot;saved.png&quot;)); // Opening again as an Image\r\n    } catch (IOException e) {\r\n        ...\r\n    }","title":"Java BLOB to image file","body":"<p>First convert the Blob to BuffededImage:</p>\n<pre><code>Blob aBlob = rs.getBlob(&quot;Photo&quot;);\nInputStream is = aBlob.getBinaryStream(1, aBlob.length());\nBufferedImage image=ImageIO.read(is);\n</code></pre>\n<p>Then BufferedImage to Image:</p>\n<pre><code>try {\n    // Retrieve Image\n    File outputfile = new File(&quot;saved.png&quot;);\n    ImageIO.write(image, &quot;png&quot;, outputfile); // Write the Buffered Image into an output file\n    Image image  = ImageIO.read(new File(&quot;saved.png&quot;)); // Opening again as an Image\n} catch (IOException e) {\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12178513,"reputation":258,"user_id":8890821,"display_name":"Deyan koba"},"score":1,"creation_date":1526750310,"post_id":50427686,"comment_id":87870153,"body_markdown":"works perfectly and easy to understand, thank you so much!","body":"works perfectly and easy to understand, thank you so much!"}],"tags":[],"owner":{"account_id":1344877,"reputation":845,"user_id":1285830,"display_name":"pulkit-singhal"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1526749840,"creation_date":1526749840,"answer_id":50427686,"question_id":50427495,"body_markdown":"`imageBlob` is storing the base64 representation of your image data. For storing that onto your disk you need to decode that base64 representation into the original binary format representation.\r\n\r\n    // Imports required\r\n    import java.util.Base64\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n\r\n    String imageData = &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhE....&quot;;\r\n    String base64Data = imageData.split(&quot;,&quot;)[1]\r\n\r\n    byte[] decodedBytes = Base64.getDecoder().decode(base64Data);\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(decodedBytes);\r\n    BufferedImage image = ImageIO.read(bis);\r\n\r\n    File outputFile = new File(&quot;output.png&quot;);\r\n    ImageIO.write(image, &quot;png&quot;, outputFile);    \r\n\r\n\r\n","title":"Java BLOB to image file","body":"<p><code>imageBlob</code> is storing the base64 representation of your image data. For storing that onto your disk you need to decode that base64 representation into the original binary format representation.</p>\n\n<pre><code>// Imports required\nimport java.util.Base64\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\nString imageData = \"data:image/png;base64,iVBORw0KGgoAAAANSUhE....\";\nString base64Data = imageData.split(\",\")[1]\n\nbyte[] decodedBytes = Base64.getDecoder().decode(base64Data);\nByteArrayInputStream bis = new ByteArrayInputStream(decodedBytes);\nBufferedImage image = ImageIO.read(bis);\n\nFile outputFile = new File(\"output.png\");\nImageIO.write(image, \"png\", outputFile);    \n</code></pre>\n"}],"owner":{"account_id":12178513,"reputation":258,"user_id":8890821,"display_name":"Deyan koba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15613,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":50427686,"answer_count":2,"score":1,"last_activity_date":1678055803,"creation_date":1526748603,"question_id":50427495,"body_markdown":"I have a [`Blob`][1] object retrieved from a MySQL database by calling [`ResultSet.getBlob`][2].\r\n\r\n    Blob imageBlob;\r\n    while (rs.next()) {\r\n        imageBlob= rs.getBlob(&quot;face&quot;);\r\n    }\r\n\r\nafter that my `imageBlob` is something like this: `data:image/png;base64,iVBORw0KGgoAAAANSUhE................`\r\n\r\nI&#39;ve been googling around but I haven&#39;t found any solution to my problem: how do I create an image file and save it on the disk from this BLOB?\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(int)","title":"Java BLOB to image file","body":"<p>I have a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\" rel=\"nofollow noreferrer\"><code>Blob</code></a> object retrieved from a MySQL database by calling <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(int)\" rel=\"nofollow noreferrer\"><code>ResultSet.getBlob</code></a>.</p>\n<pre><code>Blob imageBlob;\nwhile (rs.next()) {\n    imageBlob= rs.getBlob(&quot;face&quot;);\n}\n</code></pre>\n<p>after that my <code>imageBlob</code> is something like this: <code>data:image/png;base64,iVBORw0KGgoAAAANSUhE................</code></p>\n<p>I've been googling around but I haven't found any solution to my problem: how do I create an image file and save it on the disk from this BLOB?</p>\n"},{"tags":["java","windows","shell","android-studio","command"],"answers":[{"comments":[{"owner":{"account_id":19231342,"reputation":391,"user_id":14053128,"display_name":"Web Development Labs"},"score":0,"creation_date":1606253263,"post_id":52014605,"comment_id":114907363,"body_markdown":"I tried this, but it then says &quot;&#39;keytool&#39; is not recognized as an internal or external command,\noperable program or batch file.&quot;","body":"I tried this, but it then says &quot;&#39;keytool&#39; is not recognized as an internal or external command, operable program or batch file.&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1606254300,"post_id":52014605,"comment_id":114907748,"body_markdown":"@WebDevelopmentLabs that means that `keytool` is not on your path. You can work around it by supplying the full path to the keytool executable (something like `&quot;C:\\Program Files\\Java\\jdk-11\\bin\\keytool.exe&quot;`","body":"@WebDevelopmentLabs that means that <code>keytool</code> is not on your path. You can work around it by supplying the full path to the keytool executable (something like <code>&quot;C:\\Program Files\\Java\\jdk-11\\bin\\keytool.exe&quot;</code>"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1535178257,"creation_date":1535178257,"answer_id":52014605,"question_id":52014464,"body_markdown":"Your command should be on one line without the backslash:\r\n\r\n    keytool -exportcert -list -v -alias &lt;your-key-name&gt; -keystore &lt;path-to-production-keystore&gt;\r\n","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>Your command should be on one line without the backslash:</p>\n\n<pre><code>keytool -exportcert -list -v -alias &lt;your-key-name&gt; -keystore &lt;path-to-production-keystore&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13532377,"reputation":41,"user_id":9762461,"display_name":"Vachan Nagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613737763,"creation_date":1613482882,"answer_id":66225476,"question_id":52014464,"body_markdown":"    keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n\r\nAfter that\r\n\r\n**Password: android**","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>After that</p>\n<p><strong>Password: android</strong></p>\n"},{"tags":[],"owner":{"account_id":26089447,"reputation":1,"user_id":19786554,"display_name":"Anas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660902980,"creation_date":1660886748,"answer_id":73412177,"question_id":52014464,"body_markdown":"~~~\r\nkeytool -list -v -alias androiddebugkey -keystore &quot;%USERPROFILE%/.android/debug.keystore&quot;\r\n~~~\r\nTry this","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<pre><code>keytool -list -v -alias androiddebugkey -keystore &quot;%USERPROFILE%/.android/debug.keystore&quot;\n</code></pre>\n<p>Try this</p>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1667763029,"post_id":74306641,"comment_id":131239331,"body_markdown":"Remember that Stack Overflow isn&#39;t just intended to solve the immediate problem, but also to help future readers find solutions to similar problems, which requires understanding the underlying code. This is especially important for members of our community who are beginners, and not familiar with the syntax. Given that, **can you [edit] your answer to include an explanation of what you&#39;re doing** and why you believe it is the best approach?","body":"Remember that Stack Overflow isn&#39;t just intended to solve the immediate problem, but also to help future readers find solutions to similar problems, which requires understanding the underlying code. This is especially important for members of our community who are beginners, and not familiar with the syntax. Given that, <b>can you <a href=\"https://stackoverflow.com/posts/74306641/edit\">edit</a> your answer to include an explanation of what you&#39;re doing</b> and why you believe it is the best approach?"},{"owner":{"account_id":26162619,"reputation":9,"user_id":19848889,"display_name":"Anselem Chijioke"},"score":0,"creation_date":1667767839,"post_id":74306641,"comment_id":131240368,"body_markdown":"Whether you use either of the code it will still work I have been stocked with that issue but when I use the code I was able to generate the key","body":"Whether you use either of the code it will still work I have been stocked with that issue but when I use the code I was able to generate the key"}],"tags":[],"owner":{"account_id":26162619,"reputation":9,"user_id":19848889,"display_name":"Anselem Chijioke"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667768006,"creation_date":1667493567,"answer_id":74306641,"question_id":52014464,"body_markdown":"**I used this code and it works for me you can also try it for fast resolution or keep on trying the formal thank you**\r\n\r\n    keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore \r\n    -alias androiddebugkey","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p><strong>I used this code and it works for me you can also try it for fast resolution or keep on trying the formal thank you</strong></p>\n<pre><code>keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore \n-alias androiddebugkey\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27595799,"reputation":199,"user_id":21062064,"display_name":"Ebuzer SARIYERLİOĞLU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678055599,"creation_date":1678055599,"answer_id":75645766,"question_id":52014464,"body_markdown":"2023 solution..\r\n\r\n\r\n    cd C:\\Program Files\\Java\\jdk-19\\bin\r\n\r\nand\r\n\r\n    keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore -alias androiddebugkey -storepass android -keypass android\r\n\r\n\r\nthats all..","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>2023 solution..</p>\n<pre><code>cd C:\\Program Files\\Java\\jdk-19\\bin\n</code></pre>\n<p>and</p>\n<pre><code>keytool -list -v -keystore %USERPROFILE%\\.android\\debug.keystore -alias androiddebugkey -storepass android -keypass android\n</code></pre>\n<p>thats all..</p>\n"}],"owner":{"account_id":14219471,"reputation":13,"user_id":10272256,"display_name":"N Wani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52014605,"answer_count":5,"score":1,"last_activity_date":1678055599,"creation_date":1535176696,"question_id":52014464,"body_markdown":"I am trying to run this command on terminal -\r\nkeytool -exportcert -list -v \\\r\n-alias &amp;lt;your-key-name&gt; -keystore &amp;lt;path-to-production-keystore&gt;\r\n\r\nafter putting keyname and key path I am getting this error -\r\n&#39;-alias&#39; is not recognized as an internal or external command,\r\noperable program or batch file.","title":"&#39;-alias&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>I am trying to run this command on terminal -\nkeytool -exportcert -list -v \\\n-alias &lt;your-key-name> -keystore &lt;path-to-production-keystore></p>\n\n<p>after putting keyname and key path I am getting this error -\n'-alias' is not recognized as an internal or external command,\noperable program or batch file.</p>\n"},{"tags":["java","gradle","intellij-idea","junit5"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1581691486,"post_id":60228404,"comment_id":106532336,"body_markdown":"What&#39;s your Gradle version, and can you run the test from the command line?","body":"What&#39;s your Gradle version, and can you run the test from the command line?"},{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":2,"creation_date":1581691701,"post_id":60228404,"comment_id":106532450,"body_markdown":"And have you tried adding `testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.6.0&quot;)`","body":"And have you tried adding <code>testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.6.&zwnj;&#8203;0&quot;)</code>"},{"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"score":1,"creation_date":1581694432,"post_id":60228404,"comment_id":106533771,"body_markdown":"@BenWatson thanks for help! I read more about JUnit5 last versions and find out that from 5.4.0 it has aggregated artifact &quot;junit-jupiter&quot; (it is more suitable for me) which included both api and engine. It seems that &quot;engine&quot; has been loaded from some other dependency in my main project.","body":"@BenWatson thanks for help! I read more about JUnit5 last versions and find out that from 5.4.0 it has aggregated artifact &quot;junit-jupiter&quot; (it is more suitable for me) which included both api and engine. It seems that &quot;engine&quot; has been loaded from some other dependency in my main project."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1581753093,"post_id":60228404,"comment_id":106548308,"body_markdown":"So does it work with the aggregate artefact?","body":"So does it work with the aggregate artefact?"},{"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"score":0,"creation_date":1581931493,"post_id":60228404,"comment_id":106588288,"body_markdown":"@johanneslink Yes, I can run my tests with aggregate artifact. I&#39;ve added and accepted answer to this question.","body":"@johanneslink Yes, I can run my tests with aggregate artifact. I&#39;ve added and accepted answer to this question."},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1628173489,"post_id":60228404,"comment_id":121354904,"body_markdown":"@BenWatson I am using Junit 4.13.1, how to resolve this","body":"@BenWatson I am using Junit 4.13.1, how to resolve this"},{"owner":{"account_id":9942973,"reputation":2671,"user_id":7389315,"accept_rate":73,"display_name":"jjoselon"},"score":0,"creation_date":1676842529,"post_id":60228404,"comment_id":133214122,"body_markdown":"https://www.positioniseverything.net/no-tests-found-for-given-includes/","body":"<a href=\"https://www.positioniseverything.net/no-tests-found-for-given-includes/\" rel=\"nofollow noreferrer\">positioniseverything.net/no-tests-found-for-given-includes</a>"}],"answers":[{"comments":[{"owner":{"account_id":1431609,"reputation":189,"user_id":1353912,"display_name":"Georgi"},"score":1,"creation_date":1586449366,"post_id":60259274,"comment_id":108138313,"body_markdown":"Strangely, your solution didn&#39;t work for me and I have quite similar setup to yours. As a work-around I created manually a JUnit IntelliJ configuration ... but is not cool :/","body":"Strangely, your solution didn&#39;t work for me and I have quite similar setup to yours. As a work-around I created manually a JUnit IntelliJ configuration ... but is not cool :/"},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1594371456,"post_id":60259274,"comment_id":111108408,"body_markdown":"I had to reopen the project. Intellij has loads of caching bugs that require stuff like this. Basically the gradle sync did not fix the project setup until it reopened the project.","body":"I had to reopen the project. Intellij has loads of caching bugs that require stuff like this. Basically the gradle sync did not fix the project setup until it reopened the project."}],"tags":[],"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1581931390,"creation_date":1581931390,"answer_id":60259274,"question_id":60228404,"body_markdown":"Thanks to [Ben Watson][1] I&#39;ve found solution. Since JUnit 5.4.0 there is aggregate artifact with both api and engine dependencies. So just adding one dependency to build.gradle resolved this issue.\r\n\r\n```java\r\ntestCompile (&#39;org.junit.jupiter:junit-jupiter:5.6.0&#39;)\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/729819/ben-watson","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/729819/ben-watson\">Ben Watson</a> I've found solution. Since JUnit 5.4.0 there is aggregate artifact with both api and engine dependencies. So just adding one dependency to build.gradle resolved this issue.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>testCompile ('org.junit.jupiter:junit-jupiter:5.6.0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18255178,"reputation":11,"user_id":13289290,"display_name":"mrwwhitney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586633805,"creation_date":1586633805,"answer_id":61162637,"question_id":60228404,"body_markdown":"Gradle is case sensitive in choosing its selector. [See here][1] You may need to change &quot;GradleTests&quot; to &quot;gradleTests&quot;\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/blob/master/subprojects/testing-base/src/main/java/org/gradle/api/internal/tasks/testing/filter/TestSelectionMatcher.java#L152","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Gradle is case sensitive in choosing its selector. <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/testing-base/src/main/java/org/gradle/api/internal/tasks/testing/filter/TestSelectionMatcher.java#L152\" rel=\"nofollow noreferrer\">See here</a> You may need to change \"GradleTests\" to \"gradleTests\"</p>\n"},{"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":6,"creation_date":1592831630,"post_id":61357918,"comment_id":110557040,"body_markdown":"The only solution that worked for me. I guess gradle plugin is broken","body":"The only solution that worked for me. I guess gradle plugin is broken"},{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":0,"creation_date":1618962328,"post_id":61357918,"comment_id":118760061,"body_markdown":"3. Run tests using Intellij IDEA  -- and run the test -- your &quot;problem&quot; will still be there and the test will fail.  But Intellij will give you more &quot;output&quot;.  In my case, the stupid test author (me) forgot to give the test a void return type.","body":"3. Run tests using Intellij IDEA  -- and run the test -- your &quot;problem&quot; will still be there and the test will fail.  But Intellij will give you more &quot;output&quot;.  In my case, the stupid test author (me) forgot to give the test a void return type."},{"owner":{"account_id":2373968,"reputation":940,"user_id":2077866,"accept_rate":44,"display_name":"Anton Balashov"},"score":15,"creation_date":1631187054,"post_id":61357918,"comment_id":122158108,"body_markdown":"Seems fresh versions of Android Studio don&#39;t have this parameter there anymore. Any idea?","body":"Seems fresh versions of Android Studio don&#39;t have this parameter there anymore. Any idea?"},{"owner":{"account_id":225440,"reputation":16145,"user_id":485918,"accept_rate":83,"display_name":"Ray"},"score":0,"creation_date":1692971992,"post_id":61357918,"comment_id":135701782,"body_markdown":"This works for me, the default was using Gradle. However why using Gradle does not work? Anyone knows how to make it work using Gradle?","body":"This works for me, the default was using Gradle. However why using Gradle does not work? Anyone knows how to make it work using Gradle?"},{"owner":{"account_id":225440,"reputation":16145,"user_id":485918,"accept_rate":83,"display_name":"Ray"},"score":0,"creation_date":1692972373,"post_id":61357918,"comment_id":135701859,"body_markdown":"To make it work with using Gradle, the answer by Siamak works fine for me, just specify  useJUnitPlatform(), the gradle file was using useJunit()","body":"To make it work with using Gradle, the answer by Siamak works fine for me, just specify  useJUnitPlatform(), the gradle file was using useJunit()"}],"tags":[],"owner":{"account_id":18092031,"reputation":1352,"user_id":13151296,"display_name":"Jonathan Lee"},"comment_count":5,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1587533490,"creation_date":1587533490,"answer_id":61357918,"question_id":60228404,"body_markdown":"I had this error with a similar setup, but couldn&#39;t solve it with the previous answers. Resolved it by doing this. \r\n\r\n 1. File &gt; Setting (Ctrl+Alt+S)\r\n 2. Build, Execution, Deployment &gt; Build Tools &gt; gradle\r\n 3. Run Tests using: Intellij IDEA\r\n\r\nAll credit to: https://linked2ev.github.io/devsub/2019/09/30/Intellij-junit4-gradle-issue/. \r\n\r\n","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I had this error with a similar setup, but couldn't solve it with the previous answers. Resolved it by doing this. </p>\n\n<ol>\n<li>File > Setting (Ctrl+Alt+S)</li>\n<li>Build, Execution, Deployment > Build Tools > gradle</li>\n<li>Run Tests using: Intellij IDEA</li>\n</ol>\n\n<p>All credit to: <a href=\"https://linked2ev.github.io/devsub/2019/09/30/Intellij-junit4-gradle-issue/\" rel=\"noreferrer\">https://linked2ev.github.io/devsub/2019/09/30/Intellij-junit4-gradle-issue/</a>. </p>\n"},{"tags":[],"owner":{"account_id":136578,"reputation":3188,"user_id":340175,"display_name":"JulianHarty"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614421543,"creation_date":1614421543,"answer_id":66397788,"question_id":60228404,"body_markdown":"Another cause of this behaviour when using IntelliJ to edit a Kotlin project is the folders used for the tests, Java classes need to be in a subfolder of java and Kotlin classes in a subfolder of kotlin. \r\n\r\nHere&#39;s an example of a mini-project I created which demonstrates the folder structure https://github.com/znsio/AutomatedTestingWithKotlin/tree/main/src/test\r\n\r\nI found the explanation which is quoted below together with the link to the source:\r\n\r\n&quot;*My problem was in single path to kotlin and java tests. So kotlin tests are in `root/src/test/kotlin/package` and they are running fine with `gradle :cleanTest :test` and java tests must be in `root/src/test/java/package`. Otherwise neither `compileTestKotlin` nor `compileTestJava` will not find java tests to compile.*&quot; \r\nhttps://discuss.kotlinlang.org/t/not-able-to-run-unit-tests-on-kotlin-multiplatform-project/15779/7\r\n","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Another cause of this behaviour when using IntelliJ to edit a Kotlin project is the folders used for the tests, Java classes need to be in a subfolder of java and Kotlin classes in a subfolder of kotlin.</p>\n<p>Here's an example of a mini-project I created which demonstrates the folder structure <a href=\"https://github.com/znsio/AutomatedTestingWithKotlin/tree/main/src/test\" rel=\"nofollow noreferrer\">https://github.com/znsio/AutomatedTestingWithKotlin/tree/main/src/test</a></p>\n<p>I found the explanation which is quoted below together with the link to the source:</p>\n<p>&quot;<em>My problem was in single path to kotlin and java tests. So kotlin tests are in <code>root/src/test/kotlin/package</code> and they are running fine with <code>gradle :cleanTest :test</code> and java tests must be in <code>root/src/test/java/package</code>. Otherwise neither <code>compileTestKotlin</code> nor <code>compileTestJava</code> will not find java tests to compile.</em>&quot;\n<a href=\"https://discuss.kotlinlang.org/t/not-able-to-run-unit-tests-on-kotlin-multiplatform-project/15779/7\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/not-able-to-run-unit-tests-on-kotlin-multiplatform-project/15779/7</a></p>\n"},{"comments":[{"owner":{"account_id":16211805,"reputation":565,"user_id":11705601,"display_name":"Zach"},"score":1,"creation_date":1635729355,"post_id":68933133,"comment_id":123365249,"body_markdown":"Thanks Man - I had to switch out to use `useTestNG` in `build.gradle`","body":"Thanks Man - I had to switch out to use <code>useTestNG</code> in <code>build.gradle</code>"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1671204930,"post_id":68933133,"comment_id":132055677,"body_markdown":"why isnt this a standard gradle feature?!","body":"why isnt this a standard gradle feature?!"}],"tags":[],"owner":{"account_id":6156906,"reputation":1709,"user_id":4799599,"accept_rate":100,"display_name":"Siamak"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1629956937,"creation_date":1629956937,"answer_id":68933133,"question_id":60228404,"body_markdown":"Gradle has no idea where to look for tests. Add this to your app build.gradle file root(Not inside android or dependencies closure):\r\n```\r\ntasks.withType(Test) {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {     // This is for logging and can be removed.\r\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\r\n    }\r\n}\r\n```","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Gradle has no idea where to look for tests. Add this to your app build.gradle file root(Not inside android or dependencies closure):</p>\n<pre><code>tasks.withType(Test) {\n    useJUnitPlatform()\n\n    testLogging {     // This is for logging and can be removed.\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17690391,"reputation":159,"user_id":12842294,"display_name":"Alan Kurniadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1639470131,"creation_date":1639470131,"answer_id":70345755,"question_id":60228404,"body_markdown":"/app/build.gradle\r\n\r\n    android {\r\n      testOptions {\r\n        unitTests.all {\r\n          useJUnitPlatform()\r\n        }\r\n      }\r\n    }","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>/app/build.gradle</p>\n<pre><code>android {\n  testOptions {\n    unitTests.all {\n      useJUnitPlatform()\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6910880,"reputation":504,"user_id":9578492,"display_name":"Yaroslav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639728626,"creation_date":1639728626,"answer_id":70390102,"question_id":60228404,"body_markdown":"I&#39;ve got an Error: No tests found for given includes: ... (filter.includeTestsMatching).\r\n\r\nAfter I checked JUnit dependency I discovered junit-4.13.1 version.\r\n\r\nFixed with replacing this dependency to org.junit.jupiter.api-5.7.0.","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I've got an Error: No tests found for given includes: ... (filter.includeTestsMatching).</p>\n<p>After I checked JUnit dependency I discovered junit-4.13.1 version.</p>\n<p>Fixed with replacing this dependency to org.junit.jupiter.api-5.7.0.</p>\n"},{"tags":[],"owner":{"account_id":5722825,"reputation":39,"user_id":4520769,"display_name":"Tiago Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647950844,"creation_date":1647950687,"answer_id":71571780,"question_id":60228404,"body_markdown":"Make sure that the test method is granted public access.","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>Make sure that the test method is granted public access.</p>\n"},{"tags":[],"owner":{"account_id":4083413,"reputation":522,"user_id":3353323,"display_name":"inder_gt"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1662238978,"creation_date":1662238978,"answer_id":73595393,"question_id":60228404,"body_markdown":"In my case, **I had the wrong import**.\r\n\r\nI needed `import org.junit.jupiter.api.Test;` instead of `import org.junit.Test;`","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>In my case, <strong>I had the wrong import</strong>.</p>\n<p>I needed <code>import org.junit.jupiter.api.Test;</code> instead of <code>import org.junit.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":4812389,"reputation":1100,"user_id":3885491,"accept_rate":76,"display_name":"Falco Winkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668080426,"creation_date":1668080426,"answer_id":74388413,"question_id":60228404,"body_markdown":"After going through all configurations and finding nothing, a simple gradle clean fixed this very persistent issue for me, and i could keep using &quot;run tests with gradle&quot;.\r\n\r\n    ./gradlew :domain:test --tests &quot;...&quot;\r\n    \r\n    \r\n    &gt; Task :domain:test FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:domain:test&#39;.\r\n    \r\n    &gt; No tests found for given includes: ...\r\n\r\n    ./gradlew clean\r\n    ./gradlew :domain:test --tests &quot;...&quot;\r\n    \r\n    \r\n    BUILD SUCCESSFUL in 8s\r\n\r\n","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>After going through all configurations and finding nothing, a simple gradle clean fixed this very persistent issue for me, and i could keep using &quot;run tests with gradle&quot;.</p>\n<pre><code>./gradlew :domain:test --tests &quot;...&quot;\n\n\n&gt; Task :domain:test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':domain:test'.\n\n&gt; No tests found for given includes: ...\n\n./gradlew clean\n./gradlew :domain:test --tests &quot;...&quot;\n\n\nBUILD SUCCESSFUL in 8s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436363,"reputation":1434,"user_id":823483,"accept_rate":67,"display_name":"bompf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674639072,"creation_date":1674639072,"answer_id":75231955,"question_id":60228404,"body_markdown":"My problem was the filename that contained the test class did not match the class name. So I had `AppRepositoryTest.kt` with `FetchDataUseCaseTest` test  class inside. Apparently Junit 4 does not like that, so once I made both names the same it started working.","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>My problem was the filename that contained the test class did not match the class name. So I had <code>AppRepositoryTest.kt</code> with <code>FetchDataUseCaseTest</code> test  class inside. Apparently Junit 4 does not like that, so once I made both names the same it started working.</p>\n"},{"tags":[],"owner":{"account_id":13551922,"reputation":3,"user_id":9776561,"display_name":"hockey_dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678054813,"creation_date":1678054813,"answer_id":75645704,"question_id":60228404,"body_markdown":"I accidentally put a .java test file into a kotlin folder and get this same error.  Once I moved the file from src/test/kotlin to src/test/java folder the error went away.  Doh!","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I accidentally put a .java test file into a kotlin folder and get this same error.  Once I moved the file from src/test/kotlin to src/test/java folder the error went away.  Doh!</p>\n"}],"owner":{"account_id":4308345,"reputation":885,"user_id":3520153,"accept_rate":50,"display_name":"Arrovil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60914,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":60259274,"answer_count":12,"score":49,"last_activity_date":1678054813,"creation_date":1581691029,"question_id":60228404,"body_markdown":"I cannot run tests via Gradle in IntelliJ IDEA because of &quot;No tests found for given includes&quot; error.\r\n\r\nHow can I fix it?\r\n\r\nGradleTests\r\n\r\n``` java\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\npublic class GradleTests {\r\n    @Test\r\n    public void initTest() {\r\n        assertTrue(true);\r\n    }\r\n}\r\n```\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        //testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\n        testCompile group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.6.0&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nError:\r\n\r\n    &gt; Task :test FAILED\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; No tests found for given includes: [GradleTests.initTest](filter.includeTestsMatching)\r\n\r\n\r\nSome notes:\r\n\r\n - Issue is reproduced with both JUnit 4 and 5\r\n - IntelliJ IDEA 2019.3.3 (Community Edition), Build #IC-193.6494.35, built on February 11, 2020\r\n - Test is in `src/test/java`\r\n - changing runner like [Intelij 2019.1 update breaks JUnit tests][1] didn&#39;t help\r\n - without `useJUnitPlatform()` result is the same\r\n\r\n  [1]: https://stackoverflow.com/a/55417140/3520153","title":"&quot;No tests found for given includes&quot; when running Gradle tests in IntelliJ IDEA","body":"<p>I cannot run tests via Gradle in IntelliJ IDEA because of \"No tests found for given includes\" error.</p>\n\n<p>How can I fix it?</p>\n\n<p>GradleTests</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class GradleTests {\n    @Test\n    public void initTest() {\n        assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    //testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\n    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.6.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>&gt; Task :test FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; No tests found for given includes: [GradleTests.initTest](filter.includeTestsMatching)\n</code></pre>\n\n<p>Some notes:</p>\n\n<ul>\n<li>Issue is reproduced with both JUnit 4 and 5</li>\n<li>IntelliJ IDEA 2019.3.3 (Community Edition), Build #IC-193.6494.35, built on February 11, 2020</li>\n<li>Test is in <code>src/test/java</code></li>\n<li>changing runner like <a href=\"https://stackoverflow.com/a/55417140/3520153\">Intelij 2019.1 update breaks JUnit tests</a> didn't help</li>\n<li>without <code>useJUnitPlatform()</code> result is the same</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","generics"],"owner":{"account_id":20426331,"reputation":13,"user_id":14986254,"display_name":"ekiauhce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678054329,"creation_date":1678054329,"question_id":75645666,"body_markdown":"I have a set of classes FooX, FooZ, FooY, each with a separate spring component. They all implement the same Foo interface.  \r\n\r\nAnd there is one class `Bar&lt;T extends Foo&gt;` which takes a T type object in the constructor. And the logic of Bar depends only on parameters of the Foo object inside it.\r\n\r\nI want `Bar` to be a bean and be able to inject it into other components like this - `Bar&lt;FooX&gt;`.\r\n\r\nBut what I don&#39;t want - to create for each class `Foo` separate subclass Bar (like `class BarX extends Bar&lt;FooX&gt;`), because it&#39;ll be just copypaste for the sake of copypaste. \r\n\r\nSo the problem: I need to create a bean `Bar&lt;...&gt;` for all existing compents `? extends Foo` and register it in the app context so I can inject by generic type. \r\n\r\nWhat I&#39;ve tried and it didn&#39;t work:\r\n\r\n1.\r\n```\r\n@Configuration\r\nclass Conf {\r\n  @Bean public List&lt;? extends Bar&lt;? extends Foo&gt;&gt; bars(List&lt;? extends Foo&gt; foos) {\r\n    return foos.stream().map(Bar::new).toList();\r\n  }\r\n}\r\n```\r\ncan&#39;t inject something like `Bar&lt;FooX&gt;&gt;` - says bean not found \r\n\r\n2.\r\nTo add this to the first item \r\n```\r\n@Bean &lt;T extends Foo&gt; Bar&lt;T&gt; bar(T foo) { return new Bar&lt;&gt;(foo); }\r\n```\r\nAnd replace with `this::bar` in the map. App context failing with error that there are too many candidates to inject in place of `T foo`.","title":"How to dynamically register spring beans with generic target type","body":"<p>I have a set of classes FooX, FooZ, FooY, each with a separate spring component. They all implement the same Foo interface.</p>\n<p>And there is one class <code>Bar&lt;T extends Foo&gt;</code> which takes a T type object in the constructor. And the logic of Bar depends only on parameters of the Foo object inside it.</p>\n<p>I want <code>Bar</code> to be a bean and be able to inject it into other components like this - <code>Bar&lt;FooX&gt;</code>.</p>\n<p>But what I don't want - to create for each class <code>Foo</code> separate subclass Bar (like <code>class BarX extends Bar&lt;FooX&gt;</code>), because it'll be just copypaste for the sake of copypaste.</p>\n<p>So the problem: I need to create a bean <code>Bar&lt;...&gt;</code> for all existing compents <code>? extends Foo</code> and register it in the app context so I can inject by generic type.</p>\n<p>What I've tried and it didn't work:</p>\n<p>1.</p>\n<pre><code>@Configuration\nclass Conf {\n  @Bean public List&lt;? extends Bar&lt;? extends Foo&gt;&gt; bars(List&lt;? extends Foo&gt; foos) {\n    return foos.stream().map(Bar::new).toList();\n  }\n}\n</code></pre>\n<p>can't inject something like <code>Bar&lt;FooX&gt;&gt;</code> - says bean not found</p>\n<p>2.\nTo add this to the first item</p>\n<pre><code>@Bean &lt;T extends Foo&gt; Bar&lt;T&gt; bar(T foo) { return new Bar&lt;&gt;(foo); }\n</code></pre>\n<p>And replace with <code>this::bar</code> in the map. App context failing with error that there are too many candidates to inject in place of <code>T foo</code>.</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678047256,"post_id":75645023,"comment_id":133453186,"body_markdown":"Could you post bigger part of the stacktrace?","body":"Could you post bigger part of the stacktrace?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678047377,"post_id":75645023,"comment_id":133453199,"body_markdown":"@fascynacja I already shared all required code.","body":"@fascynacja I already shared all required code."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678047457,"post_id":75645023,"comment_id":133453217,"body_markdown":"What line is the error from?","body":"What line is the error from?"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678047494,"post_id":75645023,"comment_id":133453224,"body_markdown":"I meant error stacktrace from the logs.","body":"I meant error stacktrace from the logs."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678047623,"post_id":75645023,"comment_id":133453244,"body_markdown":"@Unmitigated I shared the error line.","body":"@Unmitigated I shared the error line."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1678048217,"post_id":75645023,"comment_id":133453325,"body_markdown":"Usually there is more than one line.  By reading whole stack it is easier to understand the root cause","body":"Usually there is more than one line.  By reading whole stack it is easier to understand the root cause"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678048233,"post_id":75645023,"comment_id":133453327,"body_markdown":"@fascynacja I shared the error line.","body":"@fascynacja I shared the error line."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678048317,"post_id":75645023,"comment_id":133453340,"body_markdown":"@fascynacja I get this error message at this line which I already shared.","body":"@fascynacja I get this error message at this line which I already shared."},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1678048988,"post_id":75645023,"comment_id":133453438,"body_markdown":"The error line is not enough to know where the exception happens. It says it happens in Objects.requireNonNull, but the code you pasted does not use that method. Please include the full stack trace.","body":"The error line is not enough to know where the exception happens. It says it happens in Objects.requireNonNull, but the code you pasted does not use that method. Please include the full stack trace."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1678049275,"post_id":75645023,"comment_id":133453479,"body_markdown":"@Rick I also shared the junit service test regarding the code","body":"@Rick I also shared the junit service test regarding the code"}],"answers":[{"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1678053994,"post_id":75645430,"comment_id":133454237,"body_markdown":"as UserServiceImpl has both Service and RequiredArgsConstructor (and this is the only constructor) - it is not required to add constructor manually. \nThis is valid for Spring 4.3+: https://docs.spring.io/spring-framework/docs/4.3.23.RELEASE/spring-framework-reference/htmlsingle/#new-in-4.3\n\nIt is no longer necessary to specify the @Autowired annotation if the target bean only defines one constructor.\n\nSo second part of answer could actually be skipped","body":"as UserServiceImpl has both Service and RequiredArgsConstructor (and this is the only constructor) - it is not required to add constructor manually.  This is valid for Spring 4.3+: <a href=\"https://docs.spring.io/spring-framework/docs/4.3.23.RELEASE/spring-framework-reference/htmlsingle/#new-in-4.3\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/4.3.23.RELEASE/&hellip;</a>  It is no longer necessary to specify the @Autowired annotation if the target bean only defines one constructor.  So second part of answer could actually be skipped"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1678054173,"post_id":75645430,"comment_id":133454267,"body_markdown":"Thanks Daniel! Have not seen the RequiredArgsConstructor annotation. Have updated answer","body":"Thanks Daniel! Have not seen the RequiredArgsConstructor annotation. Have updated answer"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678054188,"creation_date":1678051420,"answer_id":75645430,"question_id":75645023,"body_markdown":"In order for your MapStruct to be available for injection in spring context you need to use\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserMapper {\r\n","title":"Mapstruct throws Null Pointer Exception in Spring Boot. How can I fix it?","body":"<p>In order for your MapStruct to be available for injection in spring context you need to use</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserMapper {\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678118732,"accepted_answer_id":75645430,"answer_count":1,"score":0,"last_activity_date":1678054188,"creation_date":1678046662,"question_id":75645023,"body_markdown":"I get null pointer exemption in mapstruct in Spring Boot as it couldn&#39;t be initialized.\r\n\r\nHere is the error shown below\r\n\r\n    java.lang.NullPointerException\r\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n\r\nHow can I fix it?\r\n\r\n\r\nHere is the service class shown below\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        private final UserMapper userMapper;\r\n    \r\n        public Page&lt;UserDTO&gt; getAllUsers(Pageable pageable) {\r\n            return userRepository.findAll(pageable).map(\r\n                    userMapper::mapUsertoUserDTO  // HERE IS THE ERROR\r\n            );\r\n        }\r\n\r\nHere is the mapper shown below\r\n\r\n    import org.mapstruct.Mapper;\r\n    \r\n    @Mapper\r\n    public interface UserMapper {\r\n    \r\n        User mapUserDTOtoUser(UserDTO userDTO);\r\n    \r\n        UserDTO mapUsertoUserDTO(User user);\r\n    }\r\n\r\n\r\nHere is the mapstruct in pom.xml\r\n\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    \t\t&lt;org.projectlombok.version&gt;1.18.20&lt;/org.projectlombok.version&gt;\r\n    \t\t&lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nHere is my service test shown below\r\n\r\n@Test\r\npublic void userDtoById() {\r\n\r\n        // given\r\n        User user = new User();\r\n        // setter\r\n\r\n        // when\r\n        when(userRepository.findById(1L)).thenReturn(Optional.of(user));\r\n\r\n        UserDTO userDto = userService.getUserById(1L);  // Here is the error\r\n\r\n        ...\r\n\r\n}\r\n\r\n","title":"Mapstruct throws Null Pointer Exception in Spring Boot. How can I fix it?","body":"<p>I get null pointer exemption in mapstruct in Spring Boot as it couldn't be initialized.</p>\n<p>Here is the error shown below</p>\n<pre><code>java.lang.NullPointerException\nat java.base/java.util.Objects.requireNonNull(Objects.java:233)\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the service class shown below</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n\n    private final UserMapper userMapper;\n\n    public Page&lt;UserDTO&gt; getAllUsers(Pageable pageable) {\n        return userRepository.findAll(pageable).map(\n                userMapper::mapUsertoUserDTO  // HERE IS THE ERROR\n        );\n    }\n</code></pre>\n<p>Here is the mapper shown below</p>\n<pre><code>import org.mapstruct.Mapper;\n\n@Mapper\npublic interface UserMapper {\n\n    User mapUserDTOtoUser(UserDTO userDTO);\n\n    UserDTO mapUsertoUserDTO(User user);\n}\n</code></pre>\n<p>Here is the mapstruct in pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n        &lt;org.projectlombok.version&gt;1.18.20&lt;/org.projectlombok.version&gt;\n        &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n    &lt;/properties&gt;\n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Here is my service test shown below</p>\n<p>@Test\npublic void userDtoById() {</p>\n<pre><code>    // given\n    User user = new User();\n    // setter\n\n    // when\n    when(userRepository.findById(1L)).thenReturn(Optional.of(user));\n\n    UserDTO userDto = userService.getUserById(1L);  // Here is the error\n\n    ...\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven","jsp","tomcat"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1648655937,"post_id":71680405,"comment_id":126681501,"body_markdown":"What&#39;s the URL of the request? how is the app deployed, as ROOT.war?","body":"What&#39;s the URL of the request? how is the app deployed, as ROOT.war?"},{"owner":{"account_id":15580305,"reputation":75,"user_id":11240296,"display_name":"brecho"},"score":0,"creation_date":1648656267,"post_id":71680405,"comment_id":126681647,"body_markdown":"@LMC the URL is &#39;http://localhost:8080/blog_db-1.0-SNAPSHOT/&#39; and app is deployed on Tomcat server as &#39;blog_db-1.0-SNAPSHOT.war&#39;","body":"@LMC the URL is &#39;<a href=\"http://localhost:8080/blog_db-1.0-SNAPSHOT/\" rel=\"nofollow noreferrer\">localhost:8080/blog_db-1.0-SNAPSHOT</a>&#39; and app is deployed on Tomcat server as &#39;blog_db-1.0-SNAPSHOT.war&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648656491,"creation_date":1648656491,"answer_id":71680600,"question_id":71680405,"body_markdown":"This is a common problem with application servers across the full spectrum. If you are encountering 404s or other issues, the way to debug the issue is to incrementally step backwards and forwards. The first thing you should do is look at your server logs to make sure the server has started right. If it has, you should try creating a index.html file and testing that. And so on and so on. On a failed test, you step back to see what&#39;s wrong in the previous steps. On a successful test, you step forward to see if the next thing works","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>This is a common problem with application servers across the full spectrum. If you are encountering 404s or other issues, the way to debug the issue is to incrementally step backwards and forwards. The first thing you should do is look at your server logs to make sure the server has started right. If it has, you should try creating a index.html file and testing that. And so on and so on. On a failed test, you step back to see what's wrong in the previous steps. On a successful test, you step forward to see if the next thing works</p>\n"},{"tags":[],"owner":{"account_id":25064438,"reputation":1,"user_id":18918922,"display_name":"ValGarcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678053818,"creation_date":1666461529,"answer_id":74165874,"question_id":71680405,"body_markdown":"After creating a new dynamic web project on Eclipse and try to run it, I encountered the same error message. I couldn&#39;t find the solution on similar questions of StackOverflow. Projects I have created two years ago using an older version of Eclipse were imported to the newest  version of Eclipse I&#39;m using nowadays and they did not present the error message. That gave the hint that the problem was related to the project itself rather than the IDE. After comparing an older project with the new one, I changed the build class path order of the build path (on &quot;Order and Export&quot; tab) moving the src/main/java up to the first place. It worked. ","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>After creating a new dynamic web project on Eclipse and try to run it, I encountered the same error message. I couldn't find the solution on similar questions of StackOverflow. Projects I have created two years ago using an older version of Eclipse were imported to the newest  version of Eclipse I'm using nowadays and they did not present the error message. That gave the hint that the problem was related to the project itself rather than the IDE. After comparing an older project with the new one, I changed the build class path order of the build path (on &quot;Order and Export&quot; tab) moving the src/main/java up to the first place. It worked.</p>\n"},{"tags":[],"owner":{"account_id":12734721,"reputation":41,"user_id":9250014,"display_name":"Ankita Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670432388,"creation_date":1670432388,"answer_id":74720313,"question_id":71680405,"body_markdown":"I faced the same issue, I was on eclipse version 4.25.0 which was using JDK 17.\r\nI was using Tomcat 8. The server was starting fine (as shown in Eclipse) but when url was hit, it gave this error. Then I checked the server log.\r\n\r\nChecked the server log following this- [https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse][1]\r\nFound the following error in server log -\r\n&gt; java.lang.ClassNotFoundException: jakarta.servlet.Filter \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)\r\n\r\nSee - [How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat][2]\r\n\r\nTomcat 10.x was the first version to be Jakartified, not Tomcat 9.x.\r\nSo I installed Tomcat 10.x, used that server to run my application, got no error in the server log-- and application ran fine!\r\n\r\nGood luck.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse\r\n  [2]: https://stackoverflow.com/a/65704617","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>I faced the same issue, I was on eclipse version 4.25.0 which was using JDK 17.\nI was using Tomcat 8. The server was starting fine (as shown in Eclipse) but when url was hit, it gave this error. Then I checked the server log.</p>\n<p>Checked the server log following this- <a href=\"https://stackoverflow.com/questions/2233053/where-can-i-view-tomcat-log-files-in-eclipse\">Where can I view Tomcat log files in Eclipse?</a>\nFound the following error in server log -</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: jakarta.servlet.Filter  at\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)</p>\n</blockquote>\n<p>See - <a href=\"https://stackoverflow.com/a/65704617\">How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat</a></p>\n<p>Tomcat 10.x was the first version to be Jakartified, not Tomcat 9.x.\nSo I installed Tomcat 10.x, used that server to run my application, got no error in the server log-- and application ran fine!</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":15580305,"reputation":75,"user_id":11240296,"display_name":"brecho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20603,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71680600,"answer_count":3,"score":3,"last_activity_date":1678053818,"creation_date":1648655695,"question_id":71680405,"body_markdown":"When I try to run my web app project on Tomcat server I&#39;m getting the following error.\r\n\r\n&gt;    Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\nI have really no idea what is wrong with my code below. I&#39;ve read similar questions on StackOverflow but I can&#39;t find any answer that I could implement into my project. I appreciate any help.\r\n\r\n**index.jsp**\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib prefix = &quot;c&quot; uri = &quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    \r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;$Title$&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;h1&gt;Hello&lt;/h1&gt;\r\n        &lt;ul&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/register&quot;&gt;Register&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/login&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/panel&quot;&gt;Panel&lt;/a&gt; &lt;/li&gt;\r\n          &lt;li&gt;&lt;a href=&quot;/logout&quot;&gt;Logout&lt;/a&gt; &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n        &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;\r\n          &lt;p&gt;\r\n          &lt;h4&gt;&lt;c:out value=&quot;${post.title} ${post.author}&quot;/&gt;&lt;br /&gt;&lt;/h4&gt;\r\n            &lt;c:out value=&quot;${post.text}&quot;/&gt;\r\n            &lt;a href=&quot;/post/${post.id}&quot;&gt;Read more&lt;/a&gt;\r\n          &lt;/p&gt;\r\n        &lt;/c:forEach&gt;\r\n    \r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**HomePage.java**\r\n\r\n    import Database.DBAdminConnector; import Database.DBUserConnector;\r\n    \r\n    import javax.servlet.*; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; import java.sql.*; import java.util.ArrayList; import java.util.List;\r\n    \r\n    @WebServlet(name = &quot;HomePage&quot;, urlPatterns = &quot;/&quot;) public class HomePage extends HttpServlet {\r\n        Statement statement = null;\r\n    \r\n        @Override\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n            DBUserConnector dbConnector = DBUserConnector.INSTANCE;\r\n            Connection connection = dbConnector.getConnection();\r\n            resp.setContentType(&quot;text/html&quot;);\r\n            try {\r\n                statement = connection.createStatement();\r\n                String getPosts = &quot;SELECT * FROM latest LIMIT 10&quot;;\r\n                ResultSet posts = statement.executeQuery(getPosts);\r\n    \r\n                List&lt;Post&gt; postList = new ArrayList&lt;&gt;();\r\n                while(posts.next()) {\r\n                    int id = posts.getInt(&quot;id&quot;);\r\n                    String title = posts.getString(&quot;title&quot;);\r\n                    String author = posts.getString(&quot;nickname&quot;);\r\n                    Date date = posts.getDate(&quot;time_created&quot;);\r\n                    String text = posts.getString(&quot;text&quot;);\r\n                    Post p = new Post(id, title, author, date, text);\r\n                    //System.out.println(p);\r\n                    postList.add(p);\r\n                }\r\n                req.setAttribute(&quot;posts&quot;, postList);\r\n                RequestDispatcher view = req.getRequestDispatcher(&quot;index.jsp&quot;);\r\n                view.forward(req,resp);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } }\r\n\r\n**web.xml**\r\n\r\n    &lt;web-app version=&quot;3.1&quot;\r\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             metadata-complete=&quot;false&quot;&gt;\r\n    \r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;HomePage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;PostPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/post/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;RegisterPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/register&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;LoginPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;PanelPage&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/panel&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Logout&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;BackupRestoreDB&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/backup&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;","title":"&quot;404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot; with Tomcat","body":"<p>When I try to run my web app project on Tomcat server I'm getting the following error.</p>\n<blockquote>\n<p>Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</p>\n</blockquote>\n<p>I have really no idea what is wrong with my code below. I've read similar questions on StackOverflow but I can't find any answer that I could implement into my project. I appreciate any help.</p>\n<p><strong>index.jsp</strong></p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix = &quot;c&quot; uri = &quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n    &lt;title&gt;$Title$&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello&lt;/h1&gt;\n    &lt;ul&gt;\n      &lt;li&gt;&lt;a href=&quot;/register&quot;&gt;Register&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=&quot;/login&quot;&gt;Login&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=&quot;/panel&quot;&gt;Panel&lt;/a&gt; &lt;/li&gt;\n      &lt;li&gt;&lt;a href=&quot;/logout&quot;&gt;Logout&lt;/a&gt; &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;c:forEach items=&quot;${posts}&quot; var=&quot;post&quot;&gt;\n      &lt;p&gt;\n      &lt;h4&gt;&lt;c:out value=&quot;${post.title} ${post.author}&quot;/&gt;&lt;br /&gt;&lt;/h4&gt;\n        &lt;c:out value=&quot;${post.text}&quot;/&gt;\n        &lt;a href=&quot;/post/${post.id}&quot;&gt;Read more&lt;/a&gt;\n      &lt;/p&gt;\n    &lt;/c:forEach&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>HomePage.java</strong></p>\n<pre><code>import Database.DBAdminConnector; import Database.DBUserConnector;\n\nimport javax.servlet.*; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; import java.sql.*; import java.util.ArrayList; import java.util.List;\n\n@WebServlet(name = &quot;HomePage&quot;, urlPatterns = &quot;/&quot;) public class HomePage extends HttpServlet {\n    Statement statement = null;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        DBUserConnector dbConnector = DBUserConnector.INSTANCE;\n        Connection connection = dbConnector.getConnection();\n        resp.setContentType(&quot;text/html&quot;);\n        try {\n            statement = connection.createStatement();\n            String getPosts = &quot;SELECT * FROM latest LIMIT 10&quot;;\n            ResultSet posts = statement.executeQuery(getPosts);\n\n            List&lt;Post&gt; postList = new ArrayList&lt;&gt;();\n            while(posts.next()) {\n                int id = posts.getInt(&quot;id&quot;);\n                String title = posts.getString(&quot;title&quot;);\n                String author = posts.getString(&quot;nickname&quot;);\n                Date date = posts.getDate(&quot;time_created&quot;);\n                String text = posts.getString(&quot;text&quot;);\n                Post p = new Post(id, title, author, date, text);\n                //System.out.println(p);\n                postList.add(p);\n            }\n            req.setAttribute(&quot;posts&quot;, postList);\n            RequestDispatcher view = req.getRequestDispatcher(&quot;index.jsp&quot;);\n            view.forward(req,resp);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    } }\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;web-app version=&quot;3.1&quot;\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         metadata-complete=&quot;false&quot;&gt;\n\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;HomePage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;PostPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/post/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RegisterPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/register&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;PanelPage&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/panel&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Logout&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;BackupRestoreDB&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/backup&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","rest","post","spring-data-jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678053690,"creation_date":1678053690,"answer_id":75645625,"question_id":75645384,"body_markdown":"First approach (passing just a trainer id) seems more appropriate here.\r\n\r\nAs both approaches would need to check if provided Trainer id (or whole Trainer object) are actually referring to an existing Trainer in DB - passings id is universal. It won&#39;t be a good thing when Trainer would have multiple fields to also pass them when you just need to reference a Trainer (which could be done by using id only).\r\n\r\nAlso, you could use [#getReferenceById method][1] to simplify mapping of id to entity in a bit more efficient way (however will still require handling of exception in case when Trainer was not found).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)","title":"Post request with another entity as a field - use id or pass full object?","body":"<p>First approach (passing just a trainer id) seems more appropriate here.</p>\n<p>As both approaches would need to check if provided Trainer id (or whole Trainer object) are actually referring to an existing Trainer in DB - passings id is universal. It won't be a good thing when Trainer would have multiple fields to also pass them when you just need to reference a Trainer (which could be done by using id only).</p>\n<p>Also, you could use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)\" rel=\"nofollow noreferrer\">#getReferenceById method</a> to simplify mapping of id to entity in a bit more efficient way (however will still require handling of exception in case when Trainer was not found).</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75645625,"answer_count":1,"score":0,"last_activity_date":1678053690,"creation_date":1678050789,"question_id":75645384,"body_markdown":"I have the following entity `Client`, each client only can have one `Trainer` :\r\n\r\n    @Entity\r\n    @Table(name = &quot;Client&quot;)\r\n    public class Client {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    \r\n    @ManyToOne\r\n    private Trainer trainer;\r\n    \r\n    // getters and setters\r\n    \r\n    }\r\n\r\nA client can only be created with an *existing* trainer, I.e. I will not be passing a new trainer to be persisted.\r\n\r\nShould my post request `dto` to create a `client` be e.g. as follows, then get the `trainer` by id and add it to my entity to be persisted?\r\n\r\n    {\r\n      &quot;id&quot;: 123\r\n      &quot;trainerId&quot;: 456\r\n    }\r\n\r\nThe only other option I can think of is to pass a full existing trainer object in the post request as such?\r\n\r\n    {\r\n      &quot;id&quot;: 123\r\n      &quot;trainer&quot;: {&quot;id&quot;:456} // + other existing trainer fields\r\n    }\r\n\r\n\r\n\r\n","title":"Post request with another entity as a field - use id or pass full object?","body":"<p>I have the following entity <code>Client</code>, each client only can have one <code>Trainer</code> :</p>\n<pre><code>@Entity\n@Table(name = &quot;Client&quot;)\npublic class Client {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@ManyToOne\nprivate Trainer trainer;\n\n// getters and setters\n\n}\n</code></pre>\n<p>A client can only be created with an <em>existing</em> trainer, I.e. I will not be passing a new trainer to be persisted.</p>\n<p>Should my post request <code>dto</code> to create a <code>client</code> be e.g. as follows, then get the <code>trainer</code> by id and add it to my entity to be persisted?</p>\n<pre><code>{\n  &quot;id&quot;: 123\n  &quot;trainerId&quot;: 456\n}\n</code></pre>\n<p>The only other option I can think of is to pass a full existing trainer object in the post request as such?</p>\n<pre><code>{\n  &quot;id&quot;: 123\n  &quot;trainer&quot;: {&quot;id&quot;:456} // + other existing trainer fields\n}\n</code></pre>\n"},{"tags":["java","unit-testing","nullpointerexception","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":1678093,"reputation":573,"user_id":1543129,"accept_rate":43,"display_name":"Peter C. Glade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678053442,"creation_date":1678053442,"answer_id":75645611,"question_id":75644412,"body_markdown":"Found the solution: \r\nI couldn&#39;t found the `KeyedTwoInputStreamOperatorTestHarness` because `flink-streaming-java` needs to be added again but with  `&lt;classifier&gt;tests&lt;/classifier&gt;`.\r\n\r\nAfter adding this to my `pom.xml` it works fine:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;classifier&gt;tests&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Flink keyed TestHarness not using keyed Streams","body":"<p>Found the solution:\nI couldn't found the <code>KeyedTwoInputStreamOperatorTestHarness</code> because <code>flink-streaming-java</code> needs to be added again but with  <code>&lt;classifier&gt;tests&lt;/classifier&gt;</code>.</p>\n<p>After adding this to my <code>pom.xml</code> it works fine:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;classifier&gt;tests&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1678093,"reputation":573,"user_id":1543129,"accept_rate":43,"display_name":"Peter C. Glade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678053442,"creation_date":1678040613,"question_id":75644412,"body_markdown":"im struggling writing unit tests with the test harness. \r\n\r\nWithin my test class I am initialising a `KeyedTwoInputStreamOperatorTestHarness` to test a `KeyedCoProcessFunction`\r\n\r\nBut when I setup and open the test harness it throws: \r\n\r\n```java\r\njava.lang.NullPointerException: Keyed state can only be used on a &#39;keyed stream&#39;, i.e., after a &#39;keyBy()&#39; operation.\r\n```\r\n\r\nI don&#39;t know what&#39;s wrong here?\r\nOne guess is a dependency problem, because I couldn&#39;t find the Harnesses within `flink-streaming-java:1.16.1` i have additionally `flink-streaming-java_2.11:1.14.1` package here. Could this be the problem? \r\nIf yes, what is the correct package for flink 1.16.1 Test Harnesses?\r\n\r\n\r\nTestclass: \r\n```java\r\npublic class BuildAssetNodeContextTest extends TestBase {\r\n \r\n    private KeyedTwoInputStreamOperatorTestHarness testHarness;\r\n    private BuildAssetNodeContext buildAssetNodeContext; // &lt;-- function to test \r\n\r\n    @BeforeEach\r\n    public void setupTestHarness() throws Exception {\r\n        buildAssetNodeContext = new BuildAssetNodeContext&lt;&gt;();\r\n\r\n        testHarness = new KeyedTwoInputStreamOperatorTestHarness&lt;&gt;(\r\n            new KeyedCoProcessOperator&lt;&gt;(buildAssetNodeContext),\r\n            new OperationalDataAssetNodeIdKeySelector&lt;&gt;(),\r\n            new AssetNodeParameterIdKeySelector(),\r\n            BasicTypeInfo.STRING_TYPE_INFO\r\n        );\r\n\r\n        testHarness.setup();\r\n        testHarness.open();\r\n    }\r\n}\r\n```\r\n\r\nFunction to Test: \r\n```java\r\npublic class BuildAssetNodeContext&lt;ANDPayloadType extends OperationalDataPayload&gt; extends KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt; {\r\n\r\n    private ValueState&lt;AssetNodeContext&gt; currentAssetNodeContext;\r\n\r\n    @Override\r\n    public void open(Configuration parameters) {\r\n        currentAssetNodeContext = getRuntimeContext().getState(\r\n            new ValueStateDescriptor&lt;&gt;(&quot;currentAssetNodeContext&quot;, AssetNodeContext.class)\r\n        ); // &lt;-- `NullPointerException` throws here \r\n    }\r\n\r\n    @Override\r\n    public void processElement1(ANDBusinessObject&lt;ANDPayloadType&gt; operationalData, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\r\n        log.info(String.format(&quot;received operational data event: %s&quot;, operationalData));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void processElement2(ParaBusinessObject&lt;AssetNodeParameterPayload&gt; assetNodeParameter, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\r\n        log.info(String.format(&quot;received asset node parameter event: %s&quot;, assetNodeParameter));\r\n    }\r\n}\r\n```\r\n\r\nProject POM:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;...&lt;/groupId&gt;\r\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- Flink --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!-- Configuration --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.smallrye.config&lt;/groupId&gt;\r\n            &lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- necessary for smallrye config to work properly, without you will get an --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Code generation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- (De-)Serialisation --&gt;\r\n\r\n        &lt;!-- Logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- TESTING --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-test-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-test-utils-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt;\r\n            &lt;!--\r\n            TODO: Challenge version\r\n                Where are the Stream Operators (like &#39;KeyedTwoInputStreamOperatorTestHarness&#39;) for 1.16 located\r\n            --&gt;\r\n            &lt;version&gt;1.14.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;classifier&gt;tests&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;!--\r\n            Build a fat jar to include all necessary dependencies in the jar-file\r\n            See: https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/maven/#template-for-creating-an-uberfat-jar-with-dependencies\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;!-- Do not copy the signatures in the META-INF folder.\r\n                                    Otherwise, this might cause SecurityExceptions when using the JAR. --&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;!-- Replace this with the main class of your job --&gt;\r\n                                    &lt;mainClass&gt;...&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Flink keyed TestHarness not using keyed Streams","body":"<p>im struggling writing unit tests with the test harness.</p>\n<p>Within my test class I am initialising a <code>KeyedTwoInputStreamOperatorTestHarness</code> to test a <code>KeyedCoProcessFunction</code></p>\n<p>But when I setup and open the test harness it throws:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Keyed state can only be used on a 'keyed stream', i.e., after a 'keyBy()' operation.\n</code></pre>\n<p>I don't know what's wrong here?\nOne guess is a dependency problem, because I couldn't find the Harnesses within <code>flink-streaming-java:1.16.1</code> i have additionally <code>flink-streaming-java_2.11:1.14.1</code> package here. Could this be the problem?\nIf yes, what is the correct package for flink 1.16.1 Test Harnesses?</p>\n<p>Testclass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BuildAssetNodeContextTest extends TestBase {\n \n    private KeyedTwoInputStreamOperatorTestHarness testHarness;\n    private BuildAssetNodeContext buildAssetNodeContext; // &lt;-- function to test \n\n    @BeforeEach\n    public void setupTestHarness() throws Exception {\n        buildAssetNodeContext = new BuildAssetNodeContext&lt;&gt;();\n\n        testHarness = new KeyedTwoInputStreamOperatorTestHarness&lt;&gt;(\n            new KeyedCoProcessOperator&lt;&gt;(buildAssetNodeContext),\n            new OperationalDataAssetNodeIdKeySelector&lt;&gt;(),\n            new AssetNodeParameterIdKeySelector(),\n            BasicTypeInfo.STRING_TYPE_INFO\n        );\n\n        testHarness.setup();\n        testHarness.open();\n    }\n}\n</code></pre>\n<p>Function to Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BuildAssetNodeContext&lt;ANDPayloadType extends OperationalDataPayload&gt; extends KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt; {\n\n    private ValueState&lt;AssetNodeContext&gt; currentAssetNodeContext;\n\n    @Override\n    public void open(Configuration parameters) {\n        currentAssetNodeContext = getRuntimeContext().getState(\n            new ValueStateDescriptor&lt;&gt;(&quot;currentAssetNodeContext&quot;, AssetNodeContext.class)\n        ); // &lt;-- `NullPointerException` throws here \n    }\n\n    @Override\n    public void processElement1(ANDBusinessObject&lt;ANDPayloadType&gt; operationalData, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\n        log.info(String.format(&quot;received operational data event: %s&quot;, operationalData));\n\n    }\n\n    @Override\n    public void processElement2(ParaBusinessObject&lt;AssetNodeParameterPayload&gt; assetNodeParameter, KeyedCoProcessFunction&lt;String, ANDBusinessObject&lt;ANDPayloadType&gt;, ParaBusinessObject&lt;AssetNodeParameterPayload&gt;, AssetNodeContext&gt;.Context ctx, Collector&lt;AssetNodeContext&gt; out) throws Exception {\n        log.info(String.format(&quot;received asset node parameter event: %s&quot;, assetNodeParameter));\n    }\n}\n</code></pre>\n<p>Project POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Flink --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Configuration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye.config&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- necessary for smallrye config to work properly, without you will get an --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Code generation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- (De-)Serialisation --&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TESTING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-test-utils&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-test-utils-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt;\n            &lt;!--\n            TODO: Challenge version\n                Where are the Stream Operators (like 'KeyedTwoInputStreamOperatorTestHarness') for 1.16 located\n            --&gt;\n            &lt;version&gt;1.14.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;classifier&gt;tests&lt;/classifier&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;!--\n            Build a fat jar to include all necessary dependencies in the jar-file\n            See: https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/maven/#template-for-creating-an-uberfat-jar-with-dependencies\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;!-- Do not copy the signatures in the META-INF folder.\n                                    Otherwise, this might cause SecurityExceptions when using the JAR. --&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;!-- Replace this with the main class of your job --&gt;\n                                    &lt;mainClass&gt;...&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["javascript","java","spring","redirect","spring-security"],"comments":[{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":1,"creation_date":1678053301,"post_id":75637306,"comment_id":133454133,"body_markdown":"I host it on a second tomcat server (port 8080) and call the localhost:9000 URL\nI would prefer to host it on the Spring integrated Tomcat but I don&#39;t know how","body":"I host it on a second tomcat server (port 8080) and call the localhost:9000 URL I would prefer to host it on the Spring integrated Tomcat but I don&#39;t know how"}],"answers":[{"comments":[{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1678013020,"post_id":75637589,"comment_id":133447438,"body_markdown":"My custom login page runs on a Tomcat with port 8080, and my back end API runs on the Tomcat integrated inside SpringBoot with port 9000. \nDo you think hosting both on the same server could be a solution ?","body":"My custom login page runs on a Tomcat with port 8080, and my back end API runs on the Tomcat integrated inside SpringBoot with port 9000.  Do you think hosting both on the same server could be a solution ?"},{"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"score":0,"creation_date":1678030523,"post_id":75637589,"comment_id":133450140,"body_markdown":"Have them on same port 8080 if both are in single application.  And let me know if you still see http status 302. \nIf both are sitting in different applications then use nginx or other HTTP server for routing.","body":"Have them on same port 8080 if both are in single application.  And let me know if you still see http status 302.  If both are sitting in different applications then use nginx or other HTTP server for routing."},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1678038463,"post_id":75637589,"comment_id":133451522,"body_markdown":"I think I don&#39;t know how to set-up both applications on the same port without creating a conflict, because of the Spring-integrated Tomcat.","body":"I think I don&#39;t know how to set-up both applications on the same port without creating a conflict, because of the Spring-integrated Tomcat."},{"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"score":0,"creation_date":1678054052,"post_id":75637589,"comment_id":133454250,"body_markdown":"Since there are two applications then you can use Nginx infront of each app and use the routing accordingly.","body":"Since there are two applications then you can use Nginx infront of each app and use the routing accordingly."},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1678054239,"post_id":75637589,"comment_id":133454274,"body_markdown":"Then I have to say I have not understood how I am supposed to configurate nginx. I tried adding the proxy but it seems not to be acknowledged by the front-end","body":"Then I have to say I have not understood how I am supposed to configurate nginx. I tried adding the proxy but it seems not to be acknowledged by the front-end"},{"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"score":0,"creation_date":1678060522,"post_id":75637589,"comment_id":133455069,"body_markdown":"When you say you tried using proxy. is it httpd.conf you are updating?\nIf yes, that should also solve the issue.\nWhat is the error on UI? \nNginx can be installed by following link- https://www.nginx.com/resources/wiki/start/topics/tutorials/install/\nIts one of the ways to solve it.","body":"When you say you tried using proxy. is it httpd.conf you are updating? If yes, that should also solve the issue. What is the error on UI?  Nginx can be installed by following link- <a href=\"https://www.nginx.com/resources/wiki/start/topics/tutorials/install/\" rel=\"nofollow noreferrer\">nginx.com/resources/wiki/start/topics/tutorials/install</a> Its one of the ways to solve it."}],"tags":[],"owner":{"account_id":27935211,"reputation":1,"user_id":21332372,"display_name":"MrVinChi01"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677952889,"creation_date":1677952889,"answer_id":75637589,"question_id":75637306,"body_markdown":"What are you using to host the Custom Login page? \r\n\r\nWhen we run application locally and use front-end which access at browser url (default : port 80).\r\nWhen UI makes calls to loacalhost on different port as 9000 then usually you experience these kind of errors.\r\n\r\nIf thats the case you can add an nginx application and define routes in the same.\r\n\r\nSuch that your browser will think that you are making requests to same application but nginx will be routing it to Spring Application.\r\n\r\nhttps://nginx.org/en/docs/beginners_guide.html\r\n\r\nConfig for your nginx will look like :\r\n\r\nserver {\r\n\r\n    location /perform_login {\r\n        proxy_pass http://localhost:9000/perform_login;\r\n    } \r\n\r\n}\r\n\r\nand Front end fetch will make just localhost call:\r\n\r\n  fetch(&quot;http://localhost/perform_login&quot; ....\r\n\r\nAlso check on following links:\r\n\r\n\r\nhttps://stackoverflow.com/questions/37057772/spring-boot-and-nginx-integration\r\n\r\nhttps://www.nginx.com/blog/running-spring-boot-applications-zero-trust-environment-nginx-unit/","title":"How to fix my authentication and redirection problem?","body":"<p>What are you using to host the Custom Login page?</p>\n<p>When we run application locally and use front-end which access at browser url (default : port 80).\nWhen UI makes calls to loacalhost on different port as 9000 then usually you experience these kind of errors.</p>\n<p>If thats the case you can add an nginx application and define routes in the same.</p>\n<p>Such that your browser will think that you are making requests to same application but nginx will be routing it to Spring Application.</p>\n<p><a href=\"https://nginx.org/en/docs/beginners_guide.html\" rel=\"nofollow noreferrer\">https://nginx.org/en/docs/beginners_guide.html</a></p>\n<p>Config for your nginx will look like :</p>\n<p>server {</p>\n<pre><code>location /perform_login {\n    proxy_pass http://localhost:9000/perform_login;\n} \n</code></pre>\n<p>}</p>\n<p>and Front end fetch will make just localhost call:</p>\n<p>fetch(&quot;http://localhost/perform_login&quot; ....</p>\n<p>Also check on following links:</p>\n<p><a href=\"https://stackoverflow.com/questions/37057772/spring-boot-and-nginx-integration\">Spring Boot and Nginx integration</a></p>\n<p><a href=\"https://www.nginx.com/blog/running-spring-boot-applications-zero-trust-environment-nginx-unit/\" rel=\"nofollow noreferrer\">https://www.nginx.com/blog/running-spring-boot-applications-zero-trust-environment-nginx-unit/</a></p>\n"}],"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678053165,"creation_date":1677950140,"question_id":75637306,"body_markdown":"I am trying to build a Spring application for a school project and I am facing a few problems configuring Spring Security.\r\n\r\nIn fact, I have configured Spring Security so that I have two types of users : Employee and &quot;Commercant&quot; (Merchant in French). When I try to log in using the nav bar of my browser, everything goes fine: I can go to the default login page of Spring Security, log in, have access only to the `@GetMapping` and `@PostMapping` requests I am supposed to use, and I can logout. \r\n\r\nHowever, things get complicated when I try to use a custom login page (which is closer to real life cases). I have a JS page with a button, which sends a `POST` request to the `loginProcessingURL` with valid credentials. I know that the authentication is validated because the network tab of the inspector shows I am redirected to `/valide`, the `defaultSuccessUrl`. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut as you can see, I can&#39;t reach `/valide` because I am instantly redirected to `/login`, just as if my user was not really identified, and my API wanted me to log in to access `/valide`. The 302 code validates that hypothesis because it shows I am immediately redirected when I try to acceed to `/valide`. Do you have any ideas of where it could come from? \r\n\r\nSecurity config: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.configuration;\r\n\r\n    import java.util.Arrays;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.Customizer;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.logout.LogoutHandler;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\n    import com.openclassrooms.api.service.CommercantService;\r\n    import com.openclassrooms.api.service.EmployeeService;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity (prePostEnabled = true)\r\n    public class SpringSecurityConfig {\r\n\r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n\r\n        @Autowired\r\n        private CommercantService commercantService;\r\n        \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n\r\n            http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/login/**&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/perform_login/**&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/erreur&quot;)).permitAll()\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;)).permitAll()\r\n                    .anyRequest().authenticated())\r\n                .userDetailsService(employeeService)\r\n                .userDetailsService(commercantService)\r\n                .headers(headers -&gt; headers.frameOptions().sameOrigin())\r\n                .formLogin()\r\n                    // .loginPage(&quot;/index.html&quot;)\r\n                    .loginProcessingUrl(&quot;/perform_login&quot;)\r\n                    .defaultSuccessUrl(&quot;/valide&quot;)\r\n                    .failureUrl(&quot;/erreur&quot;)\r\n                    .and()\r\n                .sessionManagement(session -&gt; session\r\n                    .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                    \r\n                    .maximumSessions(1)\r\n                    .expiredUrl(&quot;/sessionExpired&quot;))\r\n                .logout(logout -&gt; logout\r\n                    .logoutSuccessUrl(&quot;/&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .clearAuthentication(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;));\r\n\r\n            return http.build();\r\n        }\r\n\r\n        @Bean\r\n        PasswordEncoder passwordEncoder (){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        \r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n            configuration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n\r\n    }\r\n\r\n`CommercantService`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.service;\r\n\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import com.openclassrooms.api.models.Commercant;\r\n    import com.openclassrooms.api.repository.CommercantRepository;\r\n\r\n    @Service\r\n    public class CommercantService implements UserDetailsService {\r\n\r\n        @Autowired\r\n        CommercantRepository commercantRepository;\r\n\r\n        public Optional&lt;Commercant&gt; getCommercantById(final Long id) {\r\n            return commercantRepository.findById(id);         \r\n        }\r\n\r\n        public Optional&lt;Commercant&gt; getCommercantByMail(final String mail) {\r\n            return commercantRepository.findCommercantByMail(mail);         \r\n        }\r\n\r\n        public Commercant saveCommercant(Commercant commercant) {\r\n            Commercant savedCommercant = commercantRepository.save(commercant);\r\n            return savedCommercant;\r\n        }\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException{\r\n            Optional&lt;Commercant&gt; com = commercantRepository.findCommercantByMail(mail);\r\n            if (com.isEmpty()){\r\n                throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\r\n            }else {\r\n                Commercant commercant = com.get();\r\n                UserDetails user = User.withUsername(commercant.getMail()).password(commercant.getPassword()).roles(commercant.getRole()).build();\r\n                return user;\r\n            } \r\n        }\r\n    }\r\n\r\n`EmployeeService`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.service;\r\n\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    import com.openclassrooms.api.models.Employee;\r\n    import com.openclassrooms.api.repository.EmployeeRepository;\r\n\r\n    @Service\r\n    public class EmployeeService implements UserDetailsService {\r\n\r\n        @Autowired\r\n        private EmployeeRepository employeeRepository;   //On cr&#233;e un EmployeeRepository pour se connecter &#224; la BDD\r\n\r\n        public Optional&lt;Employee&gt; getEmployeeById(final Long id) {\r\n            //M&#233;thode qui renvoie un employ&#233; selon son identifiant\r\n            return employeeRepository.findById(id);         \r\n        }\r\n\r\n        public Optional&lt;Employee&gt; getEmployeeByMail(final String mail) {\r\n            //M&#233;thode qui renvoie un employ&#233; selon son identifiant\r\n            return employeeRepository.findEmployeeByMail(mail);         \r\n        }\r\n\r\n        public Iterable&lt;Employee&gt; getEmployees() {\r\n            //M&#233;thode qui renvoie la liste de tous les employ&#233;s\r\n            return employeeRepository.findAll();\r\n        }\r\n\r\n        public void deleteEmployee(final Long id) {\r\n            //M&#233;thode qui supprime un employ&#233; en BDD selon son ID\r\n            employeeRepository.deleteById(id);\r\n        }\r\n\r\n        public Employee saveEmployee(Employee employee) {\r\n            //M&#233;thode qui enregistre un nouvel employ&#233; en BDD\r\n            Employee savedEmployee = employeeRepository.save(employee);\r\n            return savedEmployee; //Renvoie l&#39;employ&#233; enregistr&#233; avec son identifiant mis &#224; jour selon la base de donn&#233;es\r\n        }\r\n\r\n        @Override\r\n        public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException {\r\n            Optional&lt;Employee&gt; emp = employeeRepository.findEmployeeByMail(mail);\r\n            if (emp.isEmpty()){\r\n                throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\r\n            }else {\r\n                Employee employee = emp.get();\r\n                UserDetails user = User.withUsername(employee.getMail()).password(employee.getPassword()).roles(employee.getRole()).build();\r\n                return user;\r\n            } \r\n        }\r\n\r\n    }\r\n\r\n`HomeController`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.controller;\r\n\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.openclassrooms.api.models.Commercant;\r\n    import com.openclassrooms.api.models.Employee;\r\n    import com.openclassrooms.api.service.CommercantService;\r\n    import com.openclassrooms.api.service.EmployeeService;\r\n\r\n    @RestController\r\n    public class HomeController {\r\n\r\n        @Autowired\r\n        EmployeeService employeeService;\r\n\r\n        @Autowired\r\n        CommercantService commercantService;\r\n        \r\n\r\n        @GetMapping(&quot;/&quot;)\r\n        public Employee Home(){\r\n            return employeeService.getEmployeeById(3L).get();\r\n        }\r\n\r\n        @GetMapping(&quot;/valide&quot;)\r\n        public Employee valide (){\r\n            System.out.println(&quot;Authentication validated !&quot;);\r\n            return employeeService.getEmployeeById(2L).get();\r\n        }\r\n\r\n        @GetMapping(&quot;/sessionExpired&quot;)\r\n        public String expire (){\r\n            return &quot;Session Expir&#233;e&quot;;\r\n        }\r\n\r\n        @GetMapping(&quot;/erreur&quot;)\r\n        public Employee erreur (){\r\n            System.out.println(&quot;Authentication error!&quot;);\r\n            return employeeService.getEmployeeById(1L).get();\r\n        }\r\n\r\n\r\n    }\r\n\r\n`CommercantController`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.controller;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.openclassrooms.api.models.Commercant;\r\n    import com.openclassrooms.api.service.CommercantService;\r\n\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n\r\n    @RestController\r\n    @RequestMapping (&quot;/commercant&quot;)\r\n    @PreAuthorize (&quot;hasRole(&#39;ROLE_COMMERCANT&#39;)&quot;)\r\n    public class CommercantController {\r\n\r\n    @Autowired\r\n    CommercantService commercantService;\r\n\r\n        @GetMapping\r\n        public Commercant commercant(HttpServletRequest request){\r\n                return commercantService.getCommercantById(1L).get();       \r\n        }  \r\n\r\n    }\r\n\r\n`EmployeeController`: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.openclassrooms.api.controller;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.openclassrooms.api.models.Employee;\r\n    import com.openclassrooms.api.service.EmployeeService;\r\n\r\n    @RestController\r\n    @RequestMapping (&quot;/employee&quot;)\r\n    @PreAuthorize (&quot;hasRole(&#39;ROLE_EMPLOYEE&#39;)&quot;)\r\n    public class EmployeeController {\r\n\r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n\r\n        \r\n        @GetMapping(&quot;/{id}&quot;)  //m&#234;me structure qu&#39;au dessus, sauf qu&#39;on rajoute un identifiant : http://localhost:9000/employee/1 ou /2 ou /3\r\n        public Optional&lt;Employee&gt; getEmployee(@PathVariable(&quot;id&quot;) final Long id) {\r\n            Optional&lt;Employee&gt; emp = employeeService.getEmployeeById(id);\r\n\r\n            if (emp.isPresent()) {\r\n                System.out.println(emp.get().getFirstName());\r\n                return emp;   //ici on renvoie un seul employ&#233; au front-end\r\n            } else {\r\n                System.out.println(&quot;ABSENT&quot;);\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        @GetMapping(&quot;/all&quot;)\r\n        public List&lt;Employee&gt; getEmployees(@RequestParam(&quot;ids&quot;) List&lt;Long&gt; ids) {\r\n            List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i&lt; ids.size(); i++){\r\n                list.add(employeeService.getEmployeeById(ids.get(i)).get());\r\n            }\r\n            return list;\r\n        }\r\n\r\n        @PostMapping (&quot;/auth&quot;)\r\n        public void employeeAuth (@RequestBody String requestBody){\r\n            JSONObject json = new JSONObject(requestBody);\r\n            String string1 = json.getString(&quot;email&quot;);\r\n            String string2 = json.getString(&quot;password&quot;);\r\n\r\n            System.out.println(string1 + &quot; &quot; + string2);\r\n        }\r\n    }\r\n\r\nJavaScript function: \r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    const button = document.getElementById(&quot;service-button&quot;);\r\n    const dataContainer = document.getElementById(&quot;service-data&quot;);\r\n\r\n    const url = &#39;http://localhost:9000/perform_login&#39;;\r\n    const data = &quot;username=otacos%40mail.com&amp;password=otacos&quot;;\r\n\r\n    button.addEventListener(&quot;click&quot;, function() {\r\n      fetch(&quot;http://localhost:9000/perform_login&quot;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {\r\n                &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;,\r\n              },\r\n        body: data,\r\n      })\r\n      .then((response) =&gt; response.json())\r\n      .then((response) =&gt; console.log(response))\r\n      .catch((error) =&gt; console.error(error));\r\n    });\r\n\r\n\r\nEDIT : here are the logs of Spring Security. \r\n\r\nFirst, the log for a classic authentication + logout done by writing HTTP requests directly in the browser, which works fine : \r\n\r\n&lt;!-- language : java --&gt; \r\n\r\n    2023-03-05T15:43:09.018+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /\r\n    2023-03-05T15:43:09.026+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-03-05T15:43:09.027+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /\r\n    2023-03-05T15:43:12.441+01:00 DEBUG 11016 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n    2023-03-05T15:43:17.610+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\r\n    2023-03-05T15:43:17.796+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;otacos@mail.com&#39;\r\n    2023-03-05T15:43:17.905+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n    2023-03-05T15:43:17.928+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 68E825E98F1B6C3982E5A413440676CF, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:43:17.929+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5b8fc6fd]\r\n    2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\r\n    2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /valide\r\n    2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \r\n    2023-03-05T15:43:17.936+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /valide\r\n    Authentication validated !\r\n    2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout\r\n    2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \r\n    2023-03-05T15:43:22.306+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]\r\n    2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 68E825E98F1B6C3982E5A413440676CF\r\n    2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /\r\n    2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /\r\n    2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-03-05T15:43:22.312+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /\r\n\r\nAnd the trace for an authentication done using the button shown above : \r\n\r\n    2023-03-05T15:48:53.736+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\r\n    2023-03-05T15:48:53.964+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;otacos@mail.com&#39;\r\n    2023-03-05T15:48:54.080+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n    2023-03-05T15:48:54.106+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session FD94F1CC9DF62780F8D31E362BC7AB09, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:48:54.108+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@ba2827]\r\n    2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\r\n    2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\r\n    2023-03-05T15:48:54.113+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /valide\r\n    2023-03-05T15:48:54.116+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:9000/valide?continue to session\r\n    2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:9000/login\r\n    2023-03-05T15:48:54.124+01:00 DEBUG 18004 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n\r\n  [1]: https://i.stack.imgur.com/1HorH.png","title":"How to fix my authentication and redirection problem?","body":"<p>I am trying to build a Spring application for a school project and I am facing a few problems configuring Spring Security.</p>\n<p>In fact, I have configured Spring Security so that I have two types of users : Employee and &quot;Commercant&quot; (Merchant in French). When I try to log in using the nav bar of my browser, everything goes fine: I can go to the default login page of Spring Security, log in, have access only to the <code>@GetMapping</code> and <code>@PostMapping</code> requests I am supposed to use, and I can logout.</p>\n<p>However, things get complicated when I try to use a custom login page (which is closer to real life cases). I have a JS page with a button, which sends a <code>POST</code> request to the <code>loginProcessingURL</code> with valid credentials. I know that the authentication is validated because the network tab of the inspector shows I am redirected to <code>/valide</code>, the <code>defaultSuccessUrl</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/1HorH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HorH.png\" alt=\"enter image description here\" /></a></p>\n<p>But as you can see, I can't reach <code>/valide</code> because I am instantly redirected to <code>/login</code>, just as if my user was not really identified, and my API wanted me to log in to access <code>/valide</code>. The 302 code validates that hypothesis because it shows I am immediately redirected when I try to acceed to <code>/valide</code>. Do you have any ideas of where it could come from?</p>\n<p>Security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.configuration;\n\nimport java.util.Arrays;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport com.openclassrooms.api.service.CommercantService;\nimport com.openclassrooms.api.service.EmployeeService;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity (prePostEnabled = true)\npublic class SpringSecurityConfig {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @Autowired\n    private CommercantService commercantService;\n    \n    @Bean\n    SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n\n        http\n            .cors().and()\n            .csrf().disable()\n            .authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/login/**&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/perform_login/**&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/erreur&quot;)).permitAll()\n                .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/&quot;)).permitAll()\n                .anyRequest().authenticated())\n            .userDetailsService(employeeService)\n            .userDetailsService(commercantService)\n            .headers(headers -&gt; headers.frameOptions().sameOrigin())\n            .formLogin()\n                // .loginPage(&quot;/index.html&quot;)\n                .loginProcessingUrl(&quot;/perform_login&quot;)\n                .defaultSuccessUrl(&quot;/valide&quot;)\n                .failureUrl(&quot;/erreur&quot;)\n                .and()\n            .sessionManagement(session -&gt; session\n                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                \n                .maximumSessions(1)\n                .expiredUrl(&quot;/sessionExpired&quot;))\n            .logout(logout -&gt; logout\n                .logoutSuccessUrl(&quot;/&quot;)\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .deleteCookies(&quot;JSESSIONID&quot;));\n\n        return http.build();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder (){\n        return new BCryptPasswordEncoder();\n    }\n\n    \n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n}\n</code></pre>\n<p><code>CommercantService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.service;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.openclassrooms.api.models.Commercant;\nimport com.openclassrooms.api.repository.CommercantRepository;\n\n@Service\npublic class CommercantService implements UserDetailsService {\n\n    @Autowired\n    CommercantRepository commercantRepository;\n\n    public Optional&lt;Commercant&gt; getCommercantById(final Long id) {\n        return commercantRepository.findById(id);         \n    }\n\n    public Optional&lt;Commercant&gt; getCommercantByMail(final String mail) {\n        return commercantRepository.findCommercantByMail(mail);         \n    }\n\n    public Commercant saveCommercant(Commercant commercant) {\n        Commercant savedCommercant = commercantRepository.save(commercant);\n        return savedCommercant;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException{\n        Optional&lt;Commercant&gt; com = commercantRepository.findCommercantByMail(mail);\n        if (com.isEmpty()){\n            throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\n        }else {\n            Commercant commercant = com.get();\n            UserDetails user = User.withUsername(commercant.getMail()).password(commercant.getPassword()).roles(commercant.getRole()).build();\n            return user;\n        } \n    }\n}\n</code></pre>\n<p><code>EmployeeService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.service;\n\nimport java.util.Optional;\n\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport com.openclassrooms.api.models.Employee;\nimport com.openclassrooms.api.repository.EmployeeRepository;\n\n@Service\npublic class EmployeeService implements UserDetailsService {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;   //On crée un EmployeeRepository pour se connecter à la BDD\n\n    public Optional&lt;Employee&gt; getEmployeeById(final Long id) {\n        //Méthode qui renvoie un employé selon son identifiant\n        return employeeRepository.findById(id);         \n    }\n\n    public Optional&lt;Employee&gt; getEmployeeByMail(final String mail) {\n        //Méthode qui renvoie un employé selon son identifiant\n        return employeeRepository.findEmployeeByMail(mail);         \n    }\n\n    public Iterable&lt;Employee&gt; getEmployees() {\n        //Méthode qui renvoie la liste de tous les employés\n        return employeeRepository.findAll();\n    }\n\n    public void deleteEmployee(final Long id) {\n        //Méthode qui supprime un employé en BDD selon son ID\n        employeeRepository.deleteById(id);\n    }\n\n    public Employee saveEmployee(Employee employee) {\n        //Méthode qui enregistre un nouvel employé en BDD\n        Employee savedEmployee = employeeRepository.save(employee);\n        return savedEmployee; //Renvoie l'employé enregistré avec son identifiant mis à jour selon la base de données\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String mail) throws UsernameNotFoundException {\n        Optional&lt;Employee&gt; emp = employeeRepository.findEmployeeByMail(mail);\n        if (emp.isEmpty()){\n            throw new UsernameNotFoundException(&quot;Mail invalide &quot;+mail);\n        }else {\n            Employee employee = emp.get();\n            UserDetails user = User.withUsername(employee.getMail()).password(employee.getPassword()).roles(employee.getRole()).build();\n            return user;\n        } \n    }\n\n}\n</code></pre>\n<p><code>HomeController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.controller;\n\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.openclassrooms.api.models.Commercant;\nimport com.openclassrooms.api.models.Employee;\nimport com.openclassrooms.api.service.CommercantService;\nimport com.openclassrooms.api.service.EmployeeService;\n\n@RestController\npublic class HomeController {\n\n    @Autowired\n    EmployeeService employeeService;\n\n    @Autowired\n    CommercantService commercantService;\n    \n\n    @GetMapping(&quot;/&quot;)\n    public Employee Home(){\n        return employeeService.getEmployeeById(3L).get();\n    }\n\n    @GetMapping(&quot;/valide&quot;)\n    public Employee valide (){\n        System.out.println(&quot;Authentication validated !&quot;);\n        return employeeService.getEmployeeById(2L).get();\n    }\n\n    @GetMapping(&quot;/sessionExpired&quot;)\n    public String expire (){\n        return &quot;Session Expirée&quot;;\n    }\n\n    @GetMapping(&quot;/erreur&quot;)\n    public Employee erreur (){\n        System.out.println(&quot;Authentication error!&quot;);\n        return employeeService.getEmployeeById(1L).get();\n    }\n\n\n}\n</code></pre>\n<p><code>CommercantController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.openclassrooms.api.models.Commercant;\nimport com.openclassrooms.api.service.CommercantService;\n\nimport jakarta.servlet.http.HttpServletRequest;\n\n@RestController\n@RequestMapping (&quot;/commercant&quot;)\n@PreAuthorize (&quot;hasRole('ROLE_COMMERCANT')&quot;)\npublic class CommercantController {\n\n@Autowired\nCommercantService commercantService;\n\n    @GetMapping\n    public Commercant commercant(HttpServletRequest request){\n            return commercantService.getCommercantById(1L).get();       \n    }  \n\n}\n</code></pre>\n<p><code>EmployeeController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.openclassrooms.api.controller;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.openclassrooms.api.models.Employee;\nimport com.openclassrooms.api.service.EmployeeService;\n\n@RestController\n@RequestMapping (&quot;/employee&quot;)\n@PreAuthorize (&quot;hasRole('ROLE_EMPLOYEE')&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    \n    @GetMapping(&quot;/{id}&quot;)  //même structure qu'au dessus, sauf qu'on rajoute un identifiant : http://localhost:9000/employee/1 ou /2 ou /3\n    public Optional&lt;Employee&gt; getEmployee(@PathVariable(&quot;id&quot;) final Long id) {\n        Optional&lt;Employee&gt; emp = employeeService.getEmployeeById(id);\n\n        if (emp.isPresent()) {\n            System.out.println(emp.get().getFirstName());\n            return emp;   //ici on renvoie un seul employé au front-end\n        } else {\n            System.out.println(&quot;ABSENT&quot;);\n            return null;\n        }\n    }\n    \n    @GetMapping(&quot;/all&quot;)\n    public List&lt;Employee&gt; getEmployees(@RequestParam(&quot;ids&quot;) List&lt;Long&gt; ids) {\n        List&lt;Employee&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i&lt; ids.size(); i++){\n            list.add(employeeService.getEmployeeById(ids.get(i)).get());\n        }\n        return list;\n    }\n\n    @PostMapping (&quot;/auth&quot;)\n    public void employeeAuth (@RequestBody String requestBody){\n        JSONObject json = new JSONObject(requestBody);\n        String string1 = json.getString(&quot;email&quot;);\n        String string2 = json.getString(&quot;password&quot;);\n\n        System.out.println(string1 + &quot; &quot; + string2);\n    }\n}\n</code></pre>\n<p>JavaScript function:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const button = document.getElementById(&quot;service-button&quot;);\nconst dataContainer = document.getElementById(&quot;service-data&quot;);\n\nconst url = 'http://localhost:9000/perform_login';\nconst data = &quot;username=otacos%40mail.com&amp;password=otacos&quot;;\n\nbutton.addEventListener(&quot;click&quot;, function() {\n  fetch(&quot;http://localhost:9000/perform_login&quot;, {\n    method: 'POST',\n    headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n    body: data,\n  })\n  .then((response) =&gt; response.json())\n  .then((response) =&gt; console.log(response))\n  .catch((error) =&gt; console.error(error));\n});\n</code></pre>\n<p>EDIT : here are the logs of Spring Security.</p>\n<p>First, the log for a classic authentication + logout done by writing HTTP requests directly in the browser, which works fine :</p>\n \n<pre><code>2023-03-05T15:43:09.018+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /\n2023-03-05T15:43:09.026+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-03-05T15:43:09.027+01:00 DEBUG 11016 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /\n2023-03-05T15:43:12.441+01:00 DEBUG 11016 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-03-05T15:43:17.610+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\n2023-03-05T15:43:17.796+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'otacos@mail.com'\n2023-03-05T15:43:17.905+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-03-05T15:43:17.928+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 68E825E98F1B6C3982E5A413440676CF, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:43:17.929+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5b8fc6fd]\n2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:43:17.930+01:00 DEBUG 11016 --- [nio-9000-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\n2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /valide\n2023-03-05T15:43:17.935+01:00 DEBUG 11016 --- [nio-9000-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \n2023-03-05T15:43:17.936+01:00 DEBUG 11016 --- [nio-9000-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /valide\nAuthentication validated !\n2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout\n2023-03-05T15:43:22.305+01:00 DEBUG 11016 --- [nio-9000-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]       \n2023-03-05T15:43:22.306+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]]\n2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 68E825E98F1B6C3982E5A413440676CF\n2023-03-05T15:43:22.307+01:00 DEBUG 11016 --- [nio-9000-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /\n2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /\n2023-03-05T15:43:22.311+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-03-05T15:43:22.312+01:00 DEBUG 11016 --- [nio-9000-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /\n</code></pre>\n<p>And the trace for an authentication done using the button shown above :</p>\n<pre><code>2023-03-05T15:48:53.736+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /perform_login\n2023-03-05T15:48:53.964+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'otacos@mail.com'\n2023-03-05T15:48:54.080+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-03-05T15:48:54.106+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session FD94F1CC9DF62780F8D31E362BC7AB09, for principal org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:48:54.108+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@ba2827]\n2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=otacos@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_COMMERCANT]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_COMMERCANT]]\n2023-03-05T15:48:54.109+01:00 DEBUG 18004 --- [nio-9000-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /valide\n2023-03-05T15:48:54.113+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /valide\n2023-03-05T15:48:54.116+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:9000/valide?continue to session\n2023-03-05T15:48:54.120+01:00 DEBUG 18004 --- [nio-9000-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:9000/login\n2023-03-05T15:48:54.124+01:00 DEBUG 18004 --- [nio-9000-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login\n</code></pre>\n"},{"tags":["python","java","pyspark","jupyter-notebook"],"answers":[{"tags":[],"owner":{"account_id":8320707,"reputation":5885,"user_id":6252525,"display_name":"JGC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678052484,"creation_date":1678052484,"answer_id":75645523,"question_id":73532109,"body_markdown":"If you have the correct version of Java installed, but it&#39;s not the default version for your operating system, you can update your system `PATH` environment variable dynamically, or set the `JAVA_HOME` environment variable within Python before creating your Spark context.\r\n\r\nYour two options would look like this:\r\n\r\n# Set JAVA_HOME\r\n\r\n```python\r\nimport os\r\n\r\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\r\nos.environ[&quot;JAVA_HOME&quot;] = JAVA_HOME\r\n\r\nfrom pyspark.sql import SparkSession\r\nspark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n```\r\n\r\n# Add Java bin to PATH\r\n\r\n```python\r\nimport os\r\n\r\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\r\nos.environ[&quot;PATH&quot;] = f&quot;{JAVA_HOME}/bin:{os.environ[&#39;PATH&#39;]}&quot;  # Note /bin is added to JAVA_HOME path.\r\n\r\nfrom pyspark.sql import SparkSession\r\nspark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n```","title":"Setting up Java Version to be used by PySpark in Jupyter Notebook","body":"<p>If you have the correct version of Java installed, but it's not the default version for your operating system, you can update your system <code>PATH</code> environment variable dynamically, or set the <code>JAVA_HOME</code> environment variable within Python before creating your Spark context.</p>\n<p>Your two options would look like this:</p>\n<h1>Set JAVA_HOME</h1>\n<pre class=\"lang-py prettyprint-override\"><code>import os\n\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\nos.environ[&quot;JAVA_HOME&quot;] = JAVA_HOME\n\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n<h1>Add Java bin to PATH</h1>\n<pre class=\"lang-py prettyprint-override\"><code>import os\n\nJAVA_HOME = &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\nos.environ[&quot;PATH&quot;] = f&quot;{JAVA_HOME}/bin:{os.environ['PATH']}&quot;  # Note /bin is added to JAVA_HOME path.\n\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n"}],"owner":{"account_id":21512248,"reputation":51,"user_id":19288442,"display_name":"Morgan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1696,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678052484,"creation_date":1661791881,"question_id":73532109,"body_markdown":"When trying to run PySpark in my Jupyter Notebook in VSCode I run into the following error message after the following lines of code:\r\n```\r\nimport pyspark\r\n\r\nfrom pyspark.sql import SparkSession\r\n\r\nimport findspark # part of my google work on the problem - didn&#39;t help...\r\n\r\nspark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n```\r\n\r\n\r\n\r\n&gt; ```&quot;name&quot;: &quot;Py4JJavaError&quot;, \t&quot;message&quot;: &quot;An error occurred while\r\n&gt; calling None.org.apache.spark.api.java.JavaSparkContext.\\n:\r\n&gt; java.lang.IllegalAccessError: class\r\n&gt; org.apache.spark.storage.StorageUtils$ (in unnamed module @0x34d2e626)\r\n&gt; cannot access class sun.nio.ch.DirectBuffer (in module java.base)\r\n&gt; because module java.base does not export sun.nio.ch to unnamed module\r\n&gt; @0x34d2e626\\n\\tat\r\n&gt; org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\\n\\tat\r\n&gt; org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\\n\\tat\r\n&gt; org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\\n\\tat\r\n&gt; org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\\n\\tat\r\n&gt; org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\\n\\tat\r\n&gt; org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\\n\\tat\r\n&gt; org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\\n\\tat\r\n&gt; java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\\n\\tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\\n\\tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\\n\\tat\r\n&gt; py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\\n\\tat\r\n&gt; py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\\n\\tat\r\n&gt; py4j.Gateway.invoke(Gateway.java:238)\\n\\tat\r\n&gt; py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\\n\\tat\r\n&gt; py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\\n\\tat\r\n&gt; py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\\n\\tat\r\n&gt; py4j.ClientServerConnection.run(ClientServerConnection.java:106)\\n\\tat\r\n&gt; java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;, ```\r\n\r\nThe error message goes on but I think this is the relevant part. By doing some google work I found that this probably hints that the wrong version of Java is used (if not I might&#39;ve to change the headline of this thread). On my Mac I got Java 18 and 8 installed. In my Terminal I can switch between versions like this:\r\n\r\n```\r\nJAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk-18.0.1.1.jdk/Contents/Home&#39;\r\nJAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home&#39;\r\n```\r\n\r\nHowever, in my notebook this does not seem to work:\r\n\r\n```\r\n!export JAVA_HOME=&#39;/Users/_______/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home&#39;\r\n!java -version\r\n```\r\nOutput is still:\r\n\r\n```\r\njava version &quot;18.0.1.1&quot; 2022-04-22\r\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\r\n```\r\n\r\nIs there a solution other than completely removing the newer Java-Version from my Mac (or is the problem actually a completely different one)?\r\n","title":"Setting up Java Version to be used by PySpark in Jupyter Notebook","body":"<p>When trying to run PySpark in my Jupyter Notebook in VSCode I run into the following error message after the following lines of code:</p>\n<pre><code>import pyspark\n\nfrom pyspark.sql import SparkSession\n\nimport findspark # part of my google work on the problem - didn't help...\n\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n<blockquote>\n<pre><code>calling None.org.apache.spark.api.java.JavaSparkContext.\\n:\njava.lang.IllegalAccessError: class\norg.apache.spark.storage.StorageUtils$ (in unnamed module @0x34d2e626)\ncannot access class sun.nio.ch.DirectBuffer (in module java.base)\nbecause module java.base does not export sun.nio.ch to unnamed module\n@0x34d2e626\\n\\tat\norg.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\\n\\tat\norg.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\\n\\tat\norg.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\\n\\tat\norg.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\\n\\tat\norg.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\\n\\tat\norg.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\\n\\tat\norg.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\\n\\tat\norg.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\\n\\tat\norg.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\\n\\tat\norg.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\\n\\tat\njava.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\\n\\tat\njava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\\n\\tat\njava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\\n\\tat\npy4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\\n\\tat\npy4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\\n\\tat\npy4j.Gateway.invoke(Gateway.java:238)\\n\\tat\npy4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\\n\\tat\npy4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\\n\\tat\npy4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\\n\\tat\npy4j.ClientServerConnection.run(ClientServerConnection.java:106)\\n\\tat\njava.base/java.lang.Thread.run(Thread.java:833)\\n&quot;, ```\n</code></pre>\n</blockquote>\n<p>The error message goes on but I think this is the relevant part. By doing some google work I found that this probably hints that the wrong version of Java is used (if not I might've to change the headline of this thread). On my Mac I got Java 18 and 8 installed. In my Terminal I can switch between versions like this:</p>\n<pre><code>JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk-18.0.1.1.jdk/Contents/Home'\nJAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home'\n</code></pre>\n<p>However, in my notebook this does not seem to work:</p>\n<pre><code>!export JAVA_HOME='/Users/_______/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home'\n!java -version\n</code></pre>\n<p>Output is still:</p>\n<pre><code>java version &quot;18.0.1.1&quot; 2022-04-22\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\n</code></pre>\n<p>Is there a solution other than completely removing the newer Java-Version from my Mac (or is the problem actually a completely different one)?</p>\n"},{"tags":["java","spring-boot","jdbc","spring-jdbc","simplejdbccall"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1678055826,"post_id":75645512,"comment_id":133454467,"body_markdown":"Have you looked at [JDBI](https://jdbi.org) or [JOOQ](https://jooq.org)?","body":"Have you looked at <a href=\"https://jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a> or <a href=\"https://jooq.org\" rel=\"nofollow noreferrer\">JOOQ</a>?"},{"owner":{"account_id":1612919,"reputation":1711,"user_id":1491384,"accept_rate":83,"display_name":"Taylor Brown"},"score":0,"creation_date":1678056636,"post_id":75645512,"comment_id":133454580,"body_markdown":"@rzwitserloot No I have not yet... Still getting my feet wet and more exploration is still needed... I will look into those, thanks for recommending some alternatives.","body":"@rzwitserloot No I have not yet... Still getting my feet wet and more exploration is still needed... I will look into those, thanks for recommending some alternatives."}],"owner":{"account_id":1612919,"reputation":1711,"user_id":1491384,"accept_rate":83,"display_name":"Taylor Brown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678052316,"creation_date":1678052316,"question_id":75645512,"body_markdown":"I am coming from .NET to Java Spring Boot.\r\n\r\nIn .NET, I prefer to use ADO and stored procedures for my data access layers.\r\n\r\nThe closest Java equivalent I have found so far seems to be SimpleJdbcCall.\r\n\r\nIn .NET I can declare my params AND values going to the stored procedure all in one easy line:\r\n\r\n    cmd.Parameters.Add(new SqlParameter(&quot;@ParamName&quot;, ParamValue));\r\n\r\nHowever, I am hard pressed to find an equivalent of this in Java Spring Boot. \r\n\r\nI am forced to maintain 2 separate &quot;lists&quot; of params, and then their values, like this:\r\n\r\n    .declareParameters\r\n    (\r\n        new SqlParameter(&quot;@ParamName&quot;, Types.INTEGER)\r\n    )\r\n\r\n    MapSqlParameterSource inParams = new MapSqlParameterSource();\r\n\r\n    inParams.addValue(&quot;@ParamName&quot;, 1);\r\n\r\n\r\nDoes anyone have a way to simplify this into one line like in .NET?","title":"SimpleJdbcCall declareParameters and values in one line","body":"<p>I am coming from .NET to Java Spring Boot.</p>\n<p>In .NET, I prefer to use ADO and stored procedures for my data access layers.</p>\n<p>The closest Java equivalent I have found so far seems to be SimpleJdbcCall.</p>\n<p>In .NET I can declare my params AND values going to the stored procedure all in one easy line:</p>\n<pre><code>cmd.Parameters.Add(new SqlParameter(&quot;@ParamName&quot;, ParamValue));\n</code></pre>\n<p>However, I am hard pressed to find an equivalent of this in Java Spring Boot.</p>\n<p>I am forced to maintain 2 separate &quot;lists&quot; of params, and then their values, like this:</p>\n<pre><code>.declareParameters\n(\n    new SqlParameter(&quot;@ParamName&quot;, Types.INTEGER)\n)\n\nMapSqlParameterSource inParams = new MapSqlParameterSource();\n\ninParams.addValue(&quot;@ParamName&quot;, 1);\n</code></pre>\n<p>Does anyone have a way to simplify this into one line like in .NET?</p>\n"},{"tags":["java","android","kotlin","webrtc","screensharing"],"answers":[{"tags":[],"owner":{"account_id":10858383,"reputation":361,"user_id":7983969,"display_name":"Gv Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678052194,"creation_date":1610472715,"answer_id":65688990,"question_id":64998619,"body_markdown":"I think you are using two video tracks. Why don&#39;t you try with only one video track.\r\n\r\nLike for camera sharing, assign video track as\r\n\r\n    mLiveSessionViewModel!!.localParticipant?.mediaStream.videotraks[0] = cameraVideoTrack\r\n\r\nTo switch to screen share, remove existing video track and add the respective videotrack\r\n\r\n    mLiveSessionViewModel!!.localParticipant?.mediaStream.videotrakcs[0].removeTrack(cameraVideoTrack)\r\n    mLiveSessionViewModel!!.localParticipant?.mediaStream.videotracks[0].addTrack(screenShareVideoTrack)\r\n\r\n","title":"Android unable to switch from camera to screen sharing webrtc in middle of communication","body":"<p>I think you are using two video tracks. Why don't you try with only one video track.</p>\n<p>Like for camera sharing, assign video track as</p>\n<pre><code>mLiveSessionViewModel!!.localParticipant?.mediaStream.videotraks[0] = cameraVideoTrack\n</code></pre>\n<p>To switch to screen share, remove existing video track and add the respective videotrack</p>\n<pre><code>mLiveSessionViewModel!!.localParticipant?.mediaStream.videotrakcs[0].removeTrack(cameraVideoTrack)\nmLiveSessionViewModel!!.localParticipant?.mediaStream.videotracks[0].addTrack(screenShareVideoTrack)\n</code></pre>\n"}],"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678052194,"creation_date":1606279088,"question_id":64998619,"body_markdown":"I&#39;m working on android app and using webrtc with openvidu. I got screen sharing and camera sharing working. But only either of those works in one peerconnection. I&#39;m unable to switch between them. By default when connection is established, the camera will be shared and on click of a button I should be able to share screen without disconnecting existing connection. However that is not happening in my case. It doesn&#39;t publish the screen on click of button. It goes blank.\r\n\r\nIf anyone has worked on switching between camera to sharescreen and vice versa, please help me with this. \r\nThanks in advance.\r\n\r\n        public VideoTrack MakeCameraSettingsReady() {\r\n                final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\r\n                PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\r\n        \r\n                // create AudioSource\r\n                AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n                this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\r\n        \r\n                surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\r\n                // create VideoCapturer\r\n                videoCapturer = createVideoCapturer();\r\n        \r\n                //MediaConstraints constraints = new MediaConstraints();\r\n        \r\n                VideoSource videoSource = peerConnectionFactory.createVideoSource(videoCapturer.isScreencast());\r\n                localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\r\n                videoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\r\n                videoCapturer.startCapture(720, 1280, 30);\r\n        \r\n                return localVideoTrack;\r\n            }\r\n        \r\n            public VideoTrack MakeScreenCaptureReady() {\r\n                final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\r\n                PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\r\n        \r\n                // create AudioSource\r\n                AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n                this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\r\n        \r\n                surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\r\n                // create VideoCapturer\r\n                screenCapturerAndroid = (ScreenCapturerAndroid) createScreenCapturer();\r\n        \r\n                //MediaConstraints constraints = new MediaConstraints();\r\n        \r\n                VideoSource videoSource = peerConnectionFactory.createVideoSource(screenCapturerAndroid.isScreencast());\r\n                localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\r\n                screenCapturerAndroid.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\r\n                screenCapturerAndroid.startCapture(720, 1280, 30);\r\n    \r\n                return localVideoTrack;\r\n            }\r\n\r\nWhen I click button to share screen, I use below code:\r\n\r\n  \r\n\r\n      private fun stopCameraShare(){\r\n                videoCapturerAndroid?.stopCapture()\r\n                localRenderer.dispose()\r\n                localVideoView.release()\r\n                localVideoView.clearImage()\r\n                stream?.removeTrack(localVideoTrack)\r\n                localVideoTrack.dispose()\r\n            }\r\n    \r\n        private fun shareScreen(){\r\n                stopCameraShare()\r\n                val mediaProjectionManager = activity!!.getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\r\n                startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), 29)\r\n            }\r\n    \r\n        override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n            super.onActivityResult(requestCode, resultCode, data)\r\n            if (requestCode == SCREEN_RECORD_REQUEST_CODE) {\r\n                if (resultCode == RESULT_OK) {\r\n                    //Start screen recording\r\n                    mResultCode = resultCode\r\n                    mResultData = data\r\n    \r\n                    runOnUiThread {\r\n                        screenCaptureVideoTrack = mLiveSessionViewModel!!.localParticipant?.MakeScreenCaptureReady()\r\n                        mLiveSessionViewModel!!.localParticipant?.screenCaptureVideoTrack = screenCaptureVideoTrack\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nReferences that I tried:\r\n[https://stackoverflow.com/questions/54690592/how-to-share-screen-remotely-in-a-video-audio-call][1]\r\n\r\n\r\n[https://github.com/Jeffiano/ScreenShareRTC][2]\r\n\r\n[https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java][3]\r\n\r\n[https://stackoverflow.com/questions/42825338/webrtc-change-video-stream-in-the-middle-of-communication][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54690592/how-to-share-screen-remotely-in-a-video-audio-call\r\n  [2]: https://github.com/Jeffiano/ScreenShareRTC\r\n  [3]: https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java\r\n  [4]: https://stackoverflow.com/questions/42825338/webrtc-change-video-stream-in-the-middle-of-communication\r\n\r\nUltimately I&#39;m trying to find a way where I can addTrack/removeTrack in middle of communication. Thank you!","title":"Android unable to switch from camera to screen sharing webrtc in middle of communication","body":"<p>I'm working on android app and using webrtc with openvidu. I got screen sharing and camera sharing working. But only either of those works in one peerconnection. I'm unable to switch between them. By default when connection is established, the camera will be shared and on click of a button I should be able to share screen without disconnecting existing connection. However that is not happening in my case. It doesn't publish the screen on click of button. It goes blank.</p>\n<p>If anyone has worked on switching between camera to sharescreen and vice versa, please help me with this.\nThanks in advance.</p>\n<pre><code>    public VideoTrack MakeCameraSettingsReady() {\n            final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\n            PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\n    \n            // create AudioSource\n            AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n            this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\n    \n            surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\n            // create VideoCapturer\n            videoCapturer = createVideoCapturer();\n    \n            //MediaConstraints constraints = new MediaConstraints();\n    \n            VideoSource videoSource = peerConnectionFactory.createVideoSource(videoCapturer.isScreencast());\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\n            videoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\n            videoCapturer.startCapture(720, 1280, 30);\n    \n            return localVideoTrack;\n        }\n    \n        public VideoTrack MakeScreenCaptureReady() {\n            final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();\n            PeerConnectionFactory peerConnectionFactory = this.sessionManager.getPeerConnectionFactory();\n    \n            // create AudioSource\n            AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n            this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\n    \n            surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);\n            // create VideoCapturer\n            screenCapturerAndroid = (ScreenCapturerAndroid) createScreenCapturer();\n    \n            //MediaConstraints constraints = new MediaConstraints();\n    \n            VideoSource videoSource = peerConnectionFactory.createVideoSource(screenCapturerAndroid.isScreencast());\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\n            screenCapturerAndroid.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\n            screenCapturerAndroid.startCapture(720, 1280, 30);\n\n            return localVideoTrack;\n        }\n</code></pre>\n<p>When I click button to share screen, I use below code:</p>\n<pre><code>  private fun stopCameraShare(){\n            videoCapturerAndroid?.stopCapture()\n            localRenderer.dispose()\n            localVideoView.release()\n            localVideoView.clearImage()\n            stream?.removeTrack(localVideoTrack)\n            localVideoTrack.dispose()\n        }\n\n    private fun shareScreen(){\n            stopCameraShare()\n            val mediaProjectionManager = activity!!.getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n            startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), 29)\n        }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == SCREEN_RECORD_REQUEST_CODE) {\n            if (resultCode == RESULT_OK) {\n                //Start screen recording\n                mResultCode = resultCode\n                mResultData = data\n\n                runOnUiThread {\n                    screenCaptureVideoTrack = mLiveSessionViewModel!!.localParticipant?.MakeScreenCaptureReady()\n                    mLiveSessionViewModel!!.localParticipant?.screenCaptureVideoTrack = screenCaptureVideoTrack\n                }\n            }\n        }\n    }\n</code></pre>\n<p>References that I tried:\n<a href=\"https://stackoverflow.com/questions/54690592/how-to-share-screen-remotely-in-a-video-audio-call\">How to share screen remotely in a video/audio call?</a></p>\n<p><a href=\"https://github.com/Jeffiano/ScreenShareRTC\" rel=\"nofollow noreferrer\">https://github.com/Jeffiano/ScreenShareRTC</a></p>\n<p><a href=\"https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/external/webrtc/+/b75f2541c942e2f35c3b7d7003ed17504176ced1/webrtc/api/android/java/src/org/webrtc/ScreenCapturerAndroid.java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/42825338/webrtc-change-video-stream-in-the-middle-of-communication\">WebRTC - change video stream in the middle of communication</a></p>\n<p>Ultimately I'm trying to find a way where I can addTrack/removeTrack in middle of communication. Thank you!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":67956,"reputation":57056,"user_id":198536,"accept_rate":100,"display_name":"wallyk"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1678051067,"creation_date":1266027429,"answer_id":2256239,"question_id":2256207,"body_markdown":"So-called &quot;normal&quot; is rigorously called [infix notation][1].  There are also [prefix][2] and [postfix notations][3], the latter being RPN.\r\n\r\nThe typical rearrangement of notation is done by constructing a parse tree and traversing specifically for the arrangement needed.\r\n\r\nHere are some descriptions of how to do it:  [a][4]  [b][5]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Infix_notation\r\n  [2]: http://en.wikipedia.org/wiki/Polish_notation\r\n  [3]: http://en.wikipedia.org/wiki/Reverse_Polish_notation\r\n  [4]: https://web.archive.org/web/20120118070107/http://scriptasylum.com/tutorials/infix_postfix/algorithms/infix-postfix/index.htm\r\n  [5]: https://web.archive.org/web/20100826044842/http://www.spsu.edu/cs/faculty/bbrown/web_lectures/postfix/","title":"Normal - RPN conversion","body":"<p>So-called &quot;normal&quot; is rigorously called <a href=\"http://en.wikipedia.org/wiki/Infix_notation\" rel=\"nofollow noreferrer\">infix notation</a>.  There are also <a href=\"http://en.wikipedia.org/wiki/Polish_notation\" rel=\"nofollow noreferrer\">prefix</a> and <a href=\"http://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">postfix notations</a>, the latter being RPN.</p>\n<p>The typical rearrangement of notation is done by constructing a parse tree and traversing specifically for the arrangement needed.</p>\n<p>Here are some descriptions of how to do it:  <a href=\"https://web.archive.org/web/20120118070107/http://scriptasylum.com/tutorials/infix_postfix/algorithms/infix-postfix/index.htm\" rel=\"nofollow noreferrer\">a</a>  <a href=\"https://web.archive.org/web/20100826044842/http://www.spsu.edu/cs/faculty/bbrown/web_lectures/postfix/\" rel=\"nofollow noreferrer\">b</a></p>\n"},{"comments":[{"owner":{"account_id":1910,"reputation":91828,"user_id":2635,"accept_rate":65,"display_name":"mmcdole"},"score":0,"creation_date":1266030079,"post_id":2256247,"comment_id":2215976,"body_markdown":"The shunting yard is the way to go.  Here is a code snippet of me taking an expression from infix to postfix, then evaluating the postfix expression: http://pastebin.com/f13bf7f70","body":"The shunting yard is the way to go.  Here is a code snippet of me taking an expression from infix to postfix, then evaluating the postfix expression: <a href=\"http://pastebin.com/f13bf7f70\" rel=\"nofollow noreferrer\">pastebin.com/f13bf7f70</a>"}],"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1266027665,"creation_date":1266027665,"answer_id":2256247,"question_id":2256207,"body_markdown":"Yes; the [**shunting yard algorithm**][1] defines how to do this.\r\n\r\nEach time you read a number, put it onto the _output queue_. Each time you read an operator, put it on the _operator stack_. These two structures form the basis of the algorithm.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Shunting-yard_algorithm","title":"Normal - RPN conversion","body":"<p>Yes; the <a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\"><strong>shunting yard algorithm</strong></a> defines how to do this.</p>\n\n<p>Each time you read a number, put it onto the <em>output queue</em>. Each time you read an operator, put it on the <em>operator stack</em>. These two structures form the basis of the algorithm.</p>\n"}],"owner":{"account_id":96642,"reputation":1561,"user_id":262588,"accept_rate":90,"display_name":"higherDefender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2104,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2256239,"answer_count":2,"score":3,"last_activity_date":1678051067,"creation_date":1266026701,"question_id":2256207,"body_markdown":" Is there any way to interpret &quot;normal&quot; mathematical notation into Reverse Polish Notation(RPN)..?\r\n eg\r\n1)   2 + 3*4 - 1 = 234*+1-\r\n2)   5 *(4-8) = 548-*\r\n\r\nU can assume  that BODMAS rule is followed and that inner brackets have to be calculated first etc.. i mean the normal maths to be applied here.. the answer should be in postfix notation..\r\nThanks","title":"Normal - RPN conversion","body":"<p>Is there any way to interpret \"normal\" mathematical notation into Reverse Polish Notation(RPN)..?\n eg\n1)   2 + 3*4 - 1 = 234*+1-\n2)   5 <em>(4-8) = 548-</em></p>\n\n<p>U can assume  that BODMAS rule is followed and that inner brackets have to be calculated first etc.. i mean the normal maths to be applied here.. the answer should be in postfix notation..\nThanks</p>\n"},{"tags":["java","eclipse","remote-debugging"],"comments":[{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1410972324,"post_id":25896044,"comment_id":40530170,"body_markdown":"Have you tried reinstalling eclipse?","body":"Have you tried reinstalling eclipse?"},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1410972665,"post_id":25896044,"comment_id":40530368,"body_markdown":"Reinstalling eclipse!:( is there any other alternative way to sort this out?","body":"Reinstalling eclipse!:( is there any other alternative way to sort this out?"},{"owner":{"account_id":249090,"reputation":4307,"user_id":524900,"display_name":"Lolo"},"score":1,"creation_date":1410973078,"post_id":25896044,"comment_id":40530602,"body_markdown":"What does the Eclipse log show (in the  .metadata/.log file)? Is there a related stack trace? Have you tried starting Eclipse with the `-clean` command line option, in case it helps?","body":"What does the Eclipse log show (in the  .metadata/.log file)? Is there a related stack trace? Have you tried starting Eclipse with the <code>-clean</code> command line option, in case it helps?"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1410973116,"post_id":25896044,"comment_id":40530619,"body_markdown":"Restore ./metadata from backup?","body":"Restore ./metadata from backup?"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1410973146,"post_id":25896044,"comment_id":40530636,"body_markdown":"Windows - undelete ./metadata from recycle bin?","body":"Windows - undelete ./metadata from recycle bin?"},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1410973278,"post_id":25896044,"comment_id":40530698,"body_markdown":"@DavidPostill No am using a linux machine so no way to retrieve it i guess!:&#39;(","body":"@DavidPostill No am using a linux machine so no way to retrieve it i guess!:&#39;("},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1410973578,"post_id":25896044,"comment_id":40530854,"body_markdown":"Reinstalling Eclipse probably won&#39;t help as that won&#39;t touch the workspace metadata. It is probably best to create a new workspace and import the projects from the old one.","body":"Reinstalling Eclipse probably won&#39;t help as that won&#39;t touch the workspace metadata. It is probably best to create a new workspace and import the projects from the old one."},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1410974134,"post_id":25896044,"comment_id":40531131,"body_markdown":"@Lolo fortunately the launch using -clean has worked!!! thanks:)","body":"@Lolo fortunately the launch using -clean has worked!!! thanks:)"}],"answers":[{"tags":[],"owner":{"account_id":4340493,"reputation":81,"user_id":3543827,"display_name":"Raghu Immaneni"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504993445,"creation_date":1504993445,"answer_id":46135378,"question_id":25896044,"body_markdown":"Create the missing directory in the workspace\r\n\r\ncd /workspace/.metadata/.plugins &lt;br/&gt;\r\nmkdir org.eclipse.debug.core &lt;br/&gt;\r\nchmod -R 777 org.eclipse.debug.core","title":"Eclipse could not write to ./launch","body":"<p>Create the missing directory in the workspace</p>\n\n<p>cd /workspace/.metadata/.plugins <br/>\nmkdir org.eclipse.debug.core <br/>\nchmod -R 777 org.eclipse.debug.core</p>\n"},{"tags":[],"owner":{"account_id":23611778,"reputation":1,"user_id":17646672,"display_name":"Matheus da Cruz Matos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644336762,"creation_date":1644336762,"answer_id":71037125,"question_id":25896044,"body_markdown":"**You need create the missing directory.**\r\nIf you use windows, you can create a new directory using windows explorer or you can use the following command line *for windows and linux:*\r\n\r\n    cd /workspace/.metadata/.pluguins\r\n    mkdir org.clipse.debug.core\r\n\r\nOBS: You don&#39;t need to use &#39;chmod&#39; command line.\r\n","title":"Eclipse could not write to ./launch","body":"<p><strong>You need create the missing directory.</strong>\nIf you use windows, you can create a new directory using windows explorer or you can use the following command line <em>for windows and linux:</em></p>\n<pre><code>cd /workspace/.metadata/.pluguins\nmkdir org.clipse.debug.core\n</code></pre>\n<p>OBS: You don't need to use 'chmod' command line.</p>\n"},{"tags":[],"owner":{"account_id":27334979,"reputation":1,"user_id":20846549,"display_name":"GreenDreamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678050748,"creation_date":1678050748,"answer_id":75645380,"question_id":25896044,"body_markdown":"on MAC for example, you need to put to your IDE the authorisation to write on the disk. Privacy &amp; Security/Full Disk Access. There you need to put your IDE (Eclipse, IntelliJ or Spring STS).","title":"Eclipse could not write to ./launch","body":"<p>on MAC for example, you need to put to your IDE the authorisation to write on the disk. Privacy &amp; Security/Full Disk Access. There you need to put your IDE (Eclipse, IntelliJ or Spring STS).</p>\n"}],"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678050748,"creation_date":1410972283,"question_id":25896044,"body_markdown":"I have accidentally deleted ./metadata folder in eclipse. Now when i try reconfigure the project from workspace, things are fine and the project gets created with some old data about libraries. But when i try to create a new remote java application for debugging, i get the following error\r\n\r\n    &quot;Could not write file:/workspace/.metadata/.plugins/org.eclipse.debug.core/.launches&quot;\r\n\r\nCan someone please tell me how do i rectify this error and start remote java debugging?","title":"Eclipse could not write to ./launch","body":"<p>I have accidentally deleted ./metadata folder in eclipse. Now when i try reconfigure the project from workspace, things are fine and the project gets created with some old data about libraries. But when i try to create a new remote java application for debugging, i get the following error</p>\n\n<pre><code>\"Could not write file:/workspace/.metadata/.plugins/org.eclipse.debug.core/.launches\"\n</code></pre>\n\n<p>Can someone please tell me how do i rectify this error and start remote java debugging?</p>\n"},{"tags":["java","gradle","microservices","spring-cloud"],"comments":[{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1678041635,"post_id":75643515,"comment_id":133452063,"body_markdown":"remove line 38 (i.e. import as library) and uncomment line 39 `implementation project(&#39;:entities&#39;)` see if this works","body":"remove line 38 (i.e. import as library) and uncomment line 39 <code>implementation project(&#39;:entities&#39;)</code> see if this works"},{"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"score":0,"creation_date":1678046760,"post_id":75643515,"comment_id":133453088,"body_markdown":"the same issue\nA problem occurred evaluating project &#39;:users-service&#39;.\n&gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;.","body":"the same issue A problem occurred evaluating project &#39;:users-service&#39;. &gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;."},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1678117117,"post_id":75643515,"comment_id":133466615,"body_markdown":"In settings.gradle instead of `includeBuild` try only `include`. Thats the only difference I see from my multi module setup","body":"In settings.gradle instead of <code>includeBuild</code> try only <code>include</code>. Thats the only difference I see from my multi module setup"}],"answers":[{"comments":[{"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"score":0,"creation_date":1678046718,"post_id":75644914,"comment_id":133453075,"body_markdown":"Doesn&#39;t work. Have the same issue\nA problem occurred evaluating project &#39;:users-service&#39;.\n&gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;.","body":"Doesn&#39;t work. Have the same issue A problem occurred evaluating project &#39;:users-service&#39;. &gt; Project with path &#39;:entities&#39; could not be found in project &#39;:users-service&#39;."}],"tags":[],"owner":{"account_id":27942187,"reputation":1,"user_id":21337967,"display_name":"Rutvik Jadhav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678045552,"creation_date":1678045552,"answer_id":75644914,"question_id":75643515,"body_markdown":"In a multimodule repository, when you are importing one project repository into another project in the same repository,\r\n\r\nu need to use implementation project for importing dependencies.\r\n\r\nfor example, if Repository A contains x and y projects and I need to use x dependency in y, then I need to use\r\n\r\n\r\n```java\r\nimplementation project(&#39;:dependency_used_in_x&#39;)\r\n```\r\n\r\nalso one more scenario where x and y projects are present in an independent repository, then you need to use implementation for importing dependencies.\r\n```java\r\nimplementation(&#39;com.package:dependency_used_in_x)\r\n\r\n```\r\nI&#39;m coming to your answer\r\n\r\n\r\nIt must be\r\n\r\n```java\r\nimplementation project(&#39;:entities&#39;)\r\n```","title":"Multi-module gradle project. Problem with import","body":"<p>In a multimodule repository, when you are importing one project repository into another project in the same repository,</p>\n<p>u need to use implementation project for importing dependencies.</p>\n<p>for example, if Repository A contains x and y projects and I need to use x dependency in y, then I need to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation project(':dependency_used_in_x')\n</code></pre>\n<p>also one more scenario where x and y projects are present in an independent repository, then you need to use implementation for importing dependencies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation('com.package:dependency_used_in_x)\n\n</code></pre>\n<p>I'm coming to your answer</p>\n<p>It must be</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation project(':entities')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678050143,"creation_date":1678050128,"answer_id":75645324,"question_id":75643515,"body_markdown":"The problem was in gradle hierarchy.\r\nWhen you create a module with spring boot initializr gradle add this module not in parent project but independently like this [image][1].\r\nYou have to delete this gradle config and add include &#39;someModuleName&#39; in your root settings.gradle. then you will have picture like this [the proper gradle tree][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zn8Sr.png\r\n  [2]: https://i.stack.imgur.com/5iP2o.png","title":"Multi-module gradle project. Problem with import","body":"<p>The problem was in gradle hierarchy.\nWhen you create a module with spring boot initializr gradle add this module not in parent project but independently like this <a href=\"https://i.stack.imgur.com/Zn8Sr.png\" rel=\"nofollow noreferrer\">image</a>.\nYou have to delete this gradle config and add include 'someModuleName' in your root settings.gradle. then you will have picture like this <a href=\"https://i.stack.imgur.com/5iP2o.png\" rel=\"nofollow noreferrer\">the proper gradle tree</a></p>\n"}],"owner":{"account_id":27941091,"reputation":13,"user_id":21337100,"display_name":"Konstantin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75645324,"answer_count":2,"score":0,"last_activity_date":1678050272,"creation_date":1678032197,"question_id":75643515,"body_markdown":"I have project with microservice architecture.\r\nI am trying to import one of my modules(#1) to another module(#2) of my project to use classes of module#1 in module#2.\r\n\r\n---\r\nI tried to add dependecy in module#2 to add module#1 in it like this(last lines in dependencies):\r\n\r\n![dependencies image](https://i.stack.imgur.com/jaL8l.png)\r\n\r\nI have all includeBuild in my outer project(that includes all modules).\r\n\r\n![includeBuilds Image](https://i.stack.imgur.com/NwUk1.png)\r\n\r\nAnd anyway I have this error:\r\n\r\n```\r\nusers-service:test: Could not find ru.micro:entities:.\r\nRequired by:\r\n    project :\r\n```\r\n\r\n![Error image](https://i.stack.imgur.com/XgBM1.png)\r\n\r\nHow is it possible to use classes of one module in another module of project using gradle?\r\n\r\n\r\nI tried to add one module to another by adding dependencies(like on screenshots) but it didn&#39;t work.","title":"Multi-module gradle project. Problem with import","body":"<p>I have project with microservice architecture.\nI am trying to import one of my modules(#1) to another module(#2) of my project to use classes of module#1 in module#2.</p>\n<hr />\n<p>I tried to add dependecy in module#2 to add module#1 in it like this(last lines in dependencies):</p>\n<p><img src=\"https://i.stack.imgur.com/jaL8l.png\" alt=\"dependencies image\" /></p>\n<p>I have all includeBuild in my outer project(that includes all modules).</p>\n<p><img src=\"https://i.stack.imgur.com/NwUk1.png\" alt=\"includeBuilds Image\" /></p>\n<p>And anyway I have this error:</p>\n<pre><code>users-service:test: Could not find ru.micro:entities:.\nRequired by:\n    project :\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XgBM1.png\" alt=\"Error image\" /></p>\n<p>How is it possible to use classes of one module in another module of project using gradle?</p>\n<p>I tried to add one module to another by adding dependencies(like on screenshots) but it didn't work.</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1678049560,"post_id":75645215,"comment_id":133453531,"body_markdown":"That package removed in Java 9. If it is possible strongly recommended to change those classes to an other e.g. some of ```java.util.*``` or use an ancient Java. Here is a link to migration: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096","body":"That package removed in Java 9. If it is possible strongly recommended to change those classes to an other e.g. some of <code>java.util.*</code> or use an ancient Java. Here is a link to migration: <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/migrate/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9444879,"reputation":1502,"user_id":7024019,"display_name":"Crusha K. Rool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678049443,"creation_date":1678049443,"answer_id":75645266,"question_id":75645215,"body_markdown":"Classes from the `sun` package are deprecated and have been removed in newer JDK versions. So your old project will likely not find them anymore.\r\n\r\nYou should migrate to the respective replacements from [`java.util.Base64`][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"The import sun.misc.BASE64Decoder cannot be resolved when the project is imported into Eclipse","body":"<p>Classes from the <code>sun</code> package are deprecated and have been removed in newer JDK versions. So your old project will likely not find them anymore.</p>\n<p>You should migrate to the respective replacements from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>java.util.Base64</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":23184394,"reputation":27,"user_id":17281756,"display_name":"Harsh Paradkar"},"score":0,"creation_date":1679316938,"post_id":75645284,"comment_id":133694445,"body_markdown":"That helps a lot, let me try to downgrade to an older JDK","body":"That helps a lot, let me try to downgrade to an older JDK"}],"tags":[],"owner":{"account_id":8218575,"reputation":323,"user_id":6183974,"display_name":"Stefan Rother-St&#252;bs"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678049681,"creation_date":1678049681,"answer_id":75645284,"question_id":75645215,"body_markdown":"If you&#39;re using JDK 8+ then the reason is likely that the package for Base64Encoder and Base64Decoder has changed from sun.misc to java.util (see [Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?][1])\r\n\r\nYou could either use an older JDK or replace the package.\r\n\r\nNormally you don&#39;t have to expect the JDK packages to change - *except* for javax.* and sun.*.\r\nAs far as I know these packages were originally for vendor specific or experimental classes and IIRC the Java docs explicitly mention that this could change - although this rarely happens.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35301409/is-java-8-java-util-base64-a-drop-in-replacement-for-sun-misc-base64","title":"The import sun.misc.BASE64Decoder cannot be resolved when the project is imported into Eclipse","body":"<p>If you're using JDK 8+ then the reason is likely that the package for Base64Encoder and Base64Decoder has changed from sun.misc to java.util (see <a href=\"https://stackoverflow.com/questions/35301409/is-java-8-java-util-base64-a-drop-in-replacement-for-sun-misc-base64\">Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?</a>)</p>\n<p>You could either use an older JDK or replace the package.</p>\n<p>Normally you don't have to expect the JDK packages to change - <em>except</em> for javax.* and sun.*.\nAs far as I know these packages were originally for vendor specific or experimental classes and IIRC the Java docs explicitly mention that this could change - although this rarely happens.</p>\n"}],"owner":{"account_id":23184394,"reputation":27,"user_id":17281756,"display_name":"Harsh Paradkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75645284,"answer_count":2,"score":0,"last_activity_date":1678049681,"creation_date":1678048883,"question_id":75645215,"body_markdown":"I have this old project which was implemented a long time ago, and it uses sun.misc.BASE64Decoder and sun.misc.BASE64Encoder. When I imported the project into Eclipse it is showing me the that their imports cannot be resolved to a valid object.\r\n\r\nI have tried using all the recommended methods on Stack overflow like turning errors into warnings. For references here&#39;s a screenshot \r\n\r\n[![](https://i.stack.imgur.com/v99ZX.png)](https://i.stack.imgur.com/v99ZX.png)\r\n\r\nThanks in advance for the help :)","title":"The import sun.misc.BASE64Decoder cannot be resolved when the project is imported into Eclipse","body":"<p>I have this old project which was implemented a long time ago, and it uses sun.misc.BASE64Decoder and sun.misc.BASE64Encoder. When I imported the project into Eclipse it is showing me the that their imports cannot be resolved to a valid object.</p>\n<p>I have tried using all the recommended methods on Stack overflow like turning errors into warnings. For references here's a screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/v99ZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v99ZX.png\" alt=\"\" /></a></p>\n<p>Thanks in advance for the help :)</p>\n"},{"tags":["java","code-generation","swagger","swagger-2.0"],"comments":[{"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"score":0,"creation_date":1461410157,"post_id":36797952,"comment_id":61192997,"body_markdown":"I would suggest you to open a ticket via https://github.com/swagger-api/swagger-codegen/issues so that the swagger codegen community can help on you.","body":"I would suggest you to open a ticket via <a href=\"https://github.com/swagger-api/swagger-codegen/issues\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-codegen/issues</a> so that the swagger codegen community can help on you."}],"answers":[{"comments":[{"owner":{"account_id":7484107,"reputation":1262,"user_id":5687992,"accept_rate":83,"display_name":"jencoston"},"score":0,"creation_date":1461598483,"post_id":36829960,"comment_id":61259470,"body_markdown":"When I run that command I get Error: Could not find or load main class modules.swagger-codegen-cli.target.swagger-codegen-cli.jar.","body":"When I run that command I get Error: Could not find or load main class modules.swagger-codegen-cli.target.swagger-codegen-cli.jar."},{"owner":{"account_id":7484107,"reputation":1262,"user_id":5687992,"accept_rate":83,"display_name":"jencoston"},"score":1,"creation_date":1463429614,"post_id":36829960,"comment_id":62051535,"body_markdown":"It turns out I needed to slightly modify the command and put the path to the jars in quotes. The final command is java -cp &quot;myCodegen-swagger-codegen-1.0.0.jar;swagger-codegen-cli.jar&quot; io.swagger.codegen.SwaggerCodegen generate -l abc -o C:\\\\Swagger\\\\Test\\\\ABCParentProject\\\\ABCgenerated -i helloAPI.yaml","body":"It turns out I needed to slightly modify the command and put the path to the jars in quotes. The final command is java -cp &quot;myCodegen-swagger-codegen-1.0.0.jar;swagger-codegen-cli.jar&zwnj;&#8203;&quot; io.swagger.codegen.SwaggerCodegen generate -l abc -o C:\\\\Swagger\\\\Test\\\\ABCParentProject\\\\ABCgenerated -i helloAPI.yaml"}],"tags":[],"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1461539530,"creation_date":1461539530,"answer_id":36829960,"question_id":36797952,"body_markdown":"this is how java loads classes, specifically with SPI (service provider interface).\r\n\r\nThere is documentation here:\r\n\r\nhttps://github.com/swagger-api/swagger-codegen#making-your-own-codegen-modules\r\n\r\nThe problem is that you need to specify both your library as well as the codegen jar, and tell it which class to run.  For example:\r\n\r\n    # assuming your library is under my-codegen/myLibrary/target\r\n\r\n    java -cp my-codegen/myLibrary/target/myClientCodegen-swagger-codegen-1.0.0.jar \\\r\n    \tmodules/swagger-codegen-cli/target/swagger-codegen-cli.jar \\\r\n    \tio.swagger.codegen.SwaggerCodegen generate \\\r\n    \t-l com.my.company.codegen.MyclientcodegenGenerator \\\r\n    \t-o foo \\\r\n    \t-i http://petstore.swagger.io/v2/swagger.json\r\n\r\nThis will add the codegen library to the classpath, your custom template library, execute the main function (`io.swagger.codegen.SwaggerCodegen`), and pass in your class as a target..","title":"How do I tell swagger-codgen about my custom generator?","body":"<p>this is how java loads classes, specifically with SPI (service provider interface).</p>\n\n<p>There is documentation here:</p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-codegen#making-your-own-codegen-modules\" rel=\"noreferrer\">https://github.com/swagger-api/swagger-codegen#making-your-own-codegen-modules</a></p>\n\n<p>The problem is that you need to specify both your library as well as the codegen jar, and tell it which class to run.  For example:</p>\n\n<pre><code># assuming your library is under my-codegen/myLibrary/target\n\njava -cp my-codegen/myLibrary/target/myClientCodegen-swagger-codegen-1.0.0.jar \\\n    modules/swagger-codegen-cli/target/swagger-codegen-cli.jar \\\n    io.swagger.codegen.SwaggerCodegen generate \\\n    -l com.my.company.codegen.MyclientcodegenGenerator \\\n    -o foo \\\n    -i http://petstore.swagger.io/v2/swagger.json\n</code></pre>\n\n<p>This will add the codegen library to the classpath, your custom template library, execute the main function (<code>io.swagger.codegen.SwaggerCodegen</code>), and pass in your class as a target..</p>\n"}],"owner":{"account_id":7484107,"reputation":1262,"user_id":5687992,"accept_rate":83,"display_name":"jencoston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12501,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36829960,"answer_count":1,"score":7,"last_activity_date":1678048652,"creation_date":1461339260,"question_id":36797952,"body_markdown":"I am trying to make a custom swagger code generator based off of the existing JAX-RS generator. I followed the directions on the Swagger-Codegen GitHub page and generated a module using the command *java -jar modules/swagger-codegen-cli/target/swagger-codegen-cli.jar meta -o output/myLibrary -n ABCCodegen -p com.abc.codegen*.  I created the templates that I will need and updated the AbcCodegenGenerator.java file.  \r\n\r\nI am running into problems when I try to run the code. The command *java -cp swagger-codegen-cli.jar:ABCCodegen-swagger-codegen-1.0.0.jar io.swagger.codegen.Codegen -l ABCCodegen -o ./test* gives me the error  Could not find or load main class io.swagger.codegen.Codegen. After looking at the posts on the Swagger Google Group, I tried running the command *java -cp ABCCodegen-swagger-codegen-1.0.0.jar -jar swagger-codegen-cli.jar langs*. However, my custom module, abc, is not showing up in the list. Is there something I need to do programmatically in the java class itself to tell codegen about my generator? \r\n\r\nHere is my class AbcCodegenGenerator.java:\r\n\r\n    package com.abc.codegen;\r\n    \r\n    \r\n    \r\n    import io.swagger.codegen.*;\r\n    import io.swagger.models.Operation;\r\n    import io.swagger.codegen.languages.*;\r\n    \r\n    import java.util.*;\r\n    import java.io.File;\r\n    \r\n    \r\n    \r\n    public class AbcCodegenGenerator extends AbstractJavaJAXRSServerCodegen {\r\n     public AbcCodegenGenerator(){\r\n      super();\r\n      \r\n      sourceFolder = &quot;src/main/java&quot;;\r\n            invokerPackage = &quot;io.swagger.api&quot;;\r\n            artifactId = &quot;com.abc&quot;;\r\n            outputFolder = &quot;generated-code/ABCCodegen&quot;;\r\n    \r\n            modelTemplateFiles.put(&quot;model.mustache&quot;, &quot;.java&quot;); \r\n            \r\n            //Classes for the API\r\n            apiTemplateFiles.put(&quot;api.mustache&quot;, &quot;.java&quot;);\r\n            apiTemplateFiles.put(&quot;apiService.mustache&quot;, &quot;.java&quot;);\r\n            apiTemplateFiles.put(&quot;apiServiceImpl.mustache&quot;, &quot;.java&quot;);\r\n            apiTemplateFiles.put(&quot;apiServiceFactory.mustache&quot;, &quot;.java&quot;);\r\n            apiPackage = &quot;io.swagger.api&quot;;\r\n    \r\n            additionalProperties.put(&quot;title&quot;, title);\r\n            \r\n            //The location templates will be read from\r\n            templateDir = &quot;src/main/resources/ABCCodegen&quot;;\r\n    \r\n    \r\n    \r\n            //Adds ABCCodegen to the CliOptions list??\r\n            CliOption library = new CliOption(CodegenConstants.LIBRARY, &quot;library template (sub-template) to use&quot;);\r\n            library.setDefault(DEFAULT_LIBRARY);\r\n    \r\n            Map&lt;String, String&gt; supportedLibraries = new LinkedHashMap&lt;String, String&gt;();\r\n            supportedLibraries.put(DEFAULT_LIBRARY, &quot;abc&quot;);\r\n            library.setEnum(supportedLibraries);\r\n            \r\n            cliOptions.add(library);\r\n            cliOptions.add(new CliOption(CodegenConstants.IMPL_FOLDER, CodegenConstants.IMPL_FOLDER_DESC));\r\n            cliOptions.add(new CliOption(&quot;title&quot;, &quot;a title describing the application&quot;));\r\n     }\r\n        \r\n     @Override\r\n        public String getName()\r\n        {\r\n            return &quot;abc&quot;; \r\n        }\r\n    \r\n        @Override\r\n        public String getHelp()\r\n        {\r\n            return &quot;Generates a ABC Server application based on Jersey framework.&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void postProcessModelProperty(CodegenModel model, CodegenProperty property) {\r\n            super.postProcessModelProperty(model, property);\r\n            if(&quot;null&quot;.equals(property.example)) {\r\n                property.example = null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void processOpts() {\r\n            super.processOpts();\r\n    \r\n            if ( additionalProperties.containsKey(CodegenConstants.IMPL_FOLDER) ) {\r\n                implFolder = (String) additionalProperties.get(CodegenConstants.IMPL_FOLDER);\r\n            }\r\n    \r\n            supportingFiles.clear();\r\n            writeOptional(outputFolder, new SupportingFile(&quot;pom.mustache&quot;, &quot;&quot;, &quot;pom.xml&quot;));\r\n            writeOptional(outputFolder, new SupportingFile(&quot;README.mustache&quot;, &quot;&quot;, &quot;README.md&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;ApiException.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiException.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;ApiOriginFilter.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiOriginFilter.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;ApiResponseMessage.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiResponseMessage.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;NotFoundException.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;NotFoundException.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;jacksonJsonProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JacksonJsonProvider.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;BadRequestException.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;BadRequestException.java&quot;));\r\n            supportingFiles.add(new SupportingFile(&quot;JavaRestResourceUtil.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JavaRestResourceUtil.java&quot;));\r\n    \r\n            writeOptional(outputFolder, new SupportingFile(&quot;bootstrap.mustache&quot;, (implFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;Bootstrap.java&quot;));\r\n    \r\n            writeOptional(outputFolder, new SupportingFile(&quot;web.mustache&quot;, (&quot;src/main/webapp/WEB-INF&quot;), &quot;web.xml&quot;));\r\n            writeOptional(outputFolder, new SupportingFile(&quot;index.mustache&quot;, (&quot;src/main/webapp&quot;), &quot;index.html&quot;));\r\n            \r\n            writeOptional(outputFolder, new SupportingFile(&quot;log4j.mustache&quot;, (&quot;conf&quot;), &quot;log4j.properties&quot;));\r\n            \r\n            writeOptional(outputFolder, new SupportingFile(&quot;logback.mustache&quot;, (&quot;src/main/resources&quot;), &quot;logback.xml&quot;));\r\n    \r\n            if ( additionalProperties.containsKey(&quot;dateLibrary&quot;) ) {\r\n                setDateLibrary(additionalProperties.get(&quot;dateLibrary&quot;).toString());\r\n                additionalProperties.put(dateLibrary, &quot;true&quot;);\r\n            }\r\n    \r\n            if ( &quot;joda&quot;.equals(dateLibrary) ) {\r\n                supportingFiles.add(new SupportingFile(&quot;JodaDateTimeProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaDateTimeProvider.java&quot;));\r\n                supportingFiles.add(new SupportingFile(&quot;JodaLocalDateProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaLocalDateProvider.java&quot;));\r\n            } else if ( &quot;java8&quot;.equals(dateLibrary) ) {\r\n                supportingFiles.add(new SupportingFile(&quot;LocalDateTimeProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateTimeProvider.java&quot;));\r\n                supportingFiles.add(new SupportingFile(&quot;LocalDateProvider.mustache&quot;, (sourceFolder + &#39;/&#39; + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateProvider.java&quot;));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void addOperationToGroup(String tag, String resourcePath, Operation operation, CodegenOperation co, Map&lt;String, List&lt;CodegenOperation&gt;&gt; operations) {\r\n            String basePath = resourcePath;\r\n            if (basePath.startsWith(&quot;/&quot;)) {\r\n                basePath = basePath.substring(1);\r\n            }\r\n            int pos = basePath.indexOf(&quot;/&quot;);\r\n            if (pos &gt; 0) {\r\n                basePath = basePath.substring(0, pos);\r\n            }\r\n    \r\n            if (basePath == &quot;&quot;) {\r\n                basePath = &quot;default&quot;;\r\n            } else {\r\n                if (co.path.startsWith(&quot;/&quot; + basePath)) {\r\n                    co.path = co.path.substring((&quot;/&quot; + basePath).length());\r\n                }\r\n                co.subresourceOperation = !co.path.isEmpty();\r\n            }\r\n            List&lt;CodegenOperation&gt; opList = operations.get(basePath);\r\n            if (opList == null) {\r\n                opList = new ArrayList&lt;CodegenOperation&gt;();\r\n                operations.put(basePath, opList);\r\n            }\r\n            opList.add(co);\r\n            co.baseName = basePath;\r\n        }\r\n    \r\n        public void hideGenerationTimestamp(boolean hideGenerationTimestamp) {\r\n            this.hideGenerationTimestamp = hideGenerationTimestamp;\r\n        }\r\n      \r\n    }\r\n","title":"How do I tell swagger-codgen about my custom generator?","body":"<p>I am trying to make a custom swagger code generator based off of the existing JAX-RS generator. I followed the directions on the Swagger-Codegen GitHub page and generated a module using the command <em>java -jar modules/swagger-codegen-cli/target/swagger-codegen-cli.jar meta -o output/myLibrary -n ABCCodegen -p com.abc.codegen</em>.  I created the templates that I will need and updated the AbcCodegenGenerator.java file.</p>\n<p>I am running into problems when I try to run the code. The command <em>java -cp swagger-codegen-cli.jar:ABCCodegen-swagger-codegen-1.0.0.jar io.swagger.codegen.Codegen -l ABCCodegen -o ./test</em> gives me the error  Could not find or load main class io.swagger.codegen.Codegen. After looking at the posts on the Swagger Google Group, I tried running the command <em>java -cp ABCCodegen-swagger-codegen-1.0.0.jar -jar swagger-codegen-cli.jar langs</em>. However, my custom module, abc, is not showing up in the list. Is there something I need to do programmatically in the java class itself to tell codegen about my generator?</p>\n<p>Here is my class AbcCodegenGenerator.java:</p>\n<pre><code>package com.abc.codegen;\n\n\n\nimport io.swagger.codegen.*;\nimport io.swagger.models.Operation;\nimport io.swagger.codegen.languages.*;\n\nimport java.util.*;\nimport java.io.File;\n\n\n\npublic class AbcCodegenGenerator extends AbstractJavaJAXRSServerCodegen {\n public AbcCodegenGenerator(){\n  super();\n  \n  sourceFolder = &quot;src/main/java&quot;;\n        invokerPackage = &quot;io.swagger.api&quot;;\n        artifactId = &quot;com.abc&quot;;\n        outputFolder = &quot;generated-code/ABCCodegen&quot;;\n\n        modelTemplateFiles.put(&quot;model.mustache&quot;, &quot;.java&quot;); \n        \n        //Classes for the API\n        apiTemplateFiles.put(&quot;api.mustache&quot;, &quot;.java&quot;);\n        apiTemplateFiles.put(&quot;apiService.mustache&quot;, &quot;.java&quot;);\n        apiTemplateFiles.put(&quot;apiServiceImpl.mustache&quot;, &quot;.java&quot;);\n        apiTemplateFiles.put(&quot;apiServiceFactory.mustache&quot;, &quot;.java&quot;);\n        apiPackage = &quot;io.swagger.api&quot;;\n\n        additionalProperties.put(&quot;title&quot;, title);\n        \n        //The location templates will be read from\n        templateDir = &quot;src/main/resources/ABCCodegen&quot;;\n\n\n\n        //Adds ABCCodegen to the CliOptions list??\n        CliOption library = new CliOption(CodegenConstants.LIBRARY, &quot;library template (sub-template) to use&quot;);\n        library.setDefault(DEFAULT_LIBRARY);\n\n        Map&lt;String, String&gt; supportedLibraries = new LinkedHashMap&lt;String, String&gt;();\n        supportedLibraries.put(DEFAULT_LIBRARY, &quot;abc&quot;);\n        library.setEnum(supportedLibraries);\n        \n        cliOptions.add(library);\n        cliOptions.add(new CliOption(CodegenConstants.IMPL_FOLDER, CodegenConstants.IMPL_FOLDER_DESC));\n        cliOptions.add(new CliOption(&quot;title&quot;, &quot;a title describing the application&quot;));\n }\n    \n @Override\n    public String getName()\n    {\n        return &quot;abc&quot;; \n    }\n\n    @Override\n    public String getHelp()\n    {\n        return &quot;Generates a ABC Server application based on Jersey framework.&quot;;\n    }\n\n    @Override\n    public void postProcessModelProperty(CodegenModel model, CodegenProperty property) {\n        super.postProcessModelProperty(model, property);\n        if(&quot;null&quot;.equals(property.example)) {\n            property.example = null;\n        }\n    }\n\n    @Override\n    public void processOpts() {\n        super.processOpts();\n\n        if ( additionalProperties.containsKey(CodegenConstants.IMPL_FOLDER) ) {\n            implFolder = (String) additionalProperties.get(CodegenConstants.IMPL_FOLDER);\n        }\n\n        supportingFiles.clear();\n        writeOptional(outputFolder, new SupportingFile(&quot;pom.mustache&quot;, &quot;&quot;, &quot;pom.xml&quot;));\n        writeOptional(outputFolder, new SupportingFile(&quot;README.mustache&quot;, &quot;&quot;, &quot;README.md&quot;));\n        supportingFiles.add(new SupportingFile(&quot;ApiException.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiException.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;ApiOriginFilter.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiOriginFilter.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;ApiResponseMessage.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;ApiResponseMessage.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;NotFoundException.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;NotFoundException.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;jacksonJsonProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JacksonJsonProvider.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;BadRequestException.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;BadRequestException.java&quot;));\n        supportingFiles.add(new SupportingFile(&quot;JavaRestResourceUtil.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JavaRestResourceUtil.java&quot;));\n\n        writeOptional(outputFolder, new SupportingFile(&quot;bootstrap.mustache&quot;, (implFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;Bootstrap.java&quot;));\n\n        writeOptional(outputFolder, new SupportingFile(&quot;web.mustache&quot;, (&quot;src/main/webapp/WEB-INF&quot;), &quot;web.xml&quot;));\n        writeOptional(outputFolder, new SupportingFile(&quot;index.mustache&quot;, (&quot;src/main/webapp&quot;), &quot;index.html&quot;));\n        \n        writeOptional(outputFolder, new SupportingFile(&quot;log4j.mustache&quot;, (&quot;conf&quot;), &quot;log4j.properties&quot;));\n        \n        writeOptional(outputFolder, new SupportingFile(&quot;logback.mustache&quot;, (&quot;src/main/resources&quot;), &quot;logback.xml&quot;));\n\n        if ( additionalProperties.containsKey(&quot;dateLibrary&quot;) ) {\n            setDateLibrary(additionalProperties.get(&quot;dateLibrary&quot;).toString());\n            additionalProperties.put(dateLibrary, &quot;true&quot;);\n        }\n\n        if ( &quot;joda&quot;.equals(dateLibrary) ) {\n            supportingFiles.add(new SupportingFile(&quot;JodaDateTimeProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaDateTimeProvider.java&quot;));\n            supportingFiles.add(new SupportingFile(&quot;JodaLocalDateProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;JodaLocalDateProvider.java&quot;));\n        } else if ( &quot;java8&quot;.equals(dateLibrary) ) {\n            supportingFiles.add(new SupportingFile(&quot;LocalDateTimeProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateTimeProvider.java&quot;));\n            supportingFiles.add(new SupportingFile(&quot;LocalDateProvider.mustache&quot;, (sourceFolder + '/' + apiPackage).replace(&quot;.&quot;, &quot;/&quot;), &quot;LocalDateProvider.java&quot;));\n        }\n    }\n\n    @Override\n    public void addOperationToGroup(String tag, String resourcePath, Operation operation, CodegenOperation co, Map&lt;String, List&lt;CodegenOperation&gt;&gt; operations) {\n        String basePath = resourcePath;\n        if (basePath.startsWith(&quot;/&quot;)) {\n            basePath = basePath.substring(1);\n        }\n        int pos = basePath.indexOf(&quot;/&quot;);\n        if (pos &gt; 0) {\n            basePath = basePath.substring(0, pos);\n        }\n\n        if (basePath == &quot;&quot;) {\n            basePath = &quot;default&quot;;\n        } else {\n            if (co.path.startsWith(&quot;/&quot; + basePath)) {\n                co.path = co.path.substring((&quot;/&quot; + basePath).length());\n            }\n            co.subresourceOperation = !co.path.isEmpty();\n        }\n        List&lt;CodegenOperation&gt; opList = operations.get(basePath);\n        if (opList == null) {\n            opList = new ArrayList&lt;CodegenOperation&gt;();\n            operations.put(basePath, opList);\n        }\n        opList.add(co);\n        co.baseName = basePath;\n    }\n\n    public void hideGenerationTimestamp(boolean hideGenerationTimestamp) {\n        this.hideGenerationTimestamp = hideGenerationTimestamp;\n    }\n  \n}\n</code></pre>\n"},{"tags":["java","codenameone","ant-media-server-sdk"],"owner":{"account_id":1334496,"reputation":6147,"user_id":1277576,"display_name":"Francesco Galgani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678048406,"creation_date":1611153743,"question_id":65811766,"body_markdown":"My problem is that I need to use AntMedia Enteprise with these Java APIs, which are compliant with the WebRTC standard:\r\nhttps://shannah.github.io/CN1WebRTC/javadoc/\r\n\r\nbut AntMedia&#39;s documentation only refers to their own SDKs, without indicating how to use their server with third-party software (more precisely, instructions for third-party software are there in the case of RMTP, but not WebRTC):\r\nhttps://github.com/ant-media/Ant-Media-Server/wiki\r\n\r\nI&#39;m addressing my question to those who are already familiar with AntMedia or who develop it. Thanks.","title":"Use AntMedia server with standard WebRTC APIs","body":"<p>My problem is that I need to use AntMedia Enteprise with these Java APIs, which are compliant with the WebRTC standard:\n<a href=\"https://shannah.github.io/CN1WebRTC/javadoc/\" rel=\"nofollow noreferrer\">https://shannah.github.io/CN1WebRTC/javadoc/</a></p>\n<p>but AntMedia's documentation only refers to their own SDKs, without indicating how to use their server with third-party software (more precisely, instructions for third-party software are there in the case of RMTP, but not WebRTC):\n<a href=\"https://github.com/ant-media/Ant-Media-Server/wiki\" rel=\"nofollow noreferrer\">https://github.com/ant-media/Ant-Media-Server/wiki</a></p>\n<p>I'm addressing my question to those who are already familiar with AntMedia or who develop it. Thanks.</p>\n"},{"tags":["java","sql","google-bigquery"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1678037186,"post_id":75643749,"comment_id":133451294,"body_markdown":"The docs rule out overloading using polymorphic functions: &quot;Each dataset can only contain one persistent UDF with the same name.&quot;  While I&#39;m not crazy about the performance implications, you could cheat it by passing `TO_JSON_STRING(t)`.","body":"The docs rule out overloading using polymorphic functions: &quot;Each dataset can only contain one persistent UDF with the same name.&quot;  While I&#39;m not crazy about the performance implications, you could cheat it by passing <code>TO_JSON_STRING(t)</code>."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1678037388,"post_id":75643749,"comment_id":133451326,"body_markdown":"Would `PERCENTILE_CONT(order_value, 0.5)` work for your use case?","body":"Would <code>PERCENTILE_CONT(order_value, 0.5)</code> work for your use case?"},{"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"score":0,"creation_date":1678045217,"post_id":75643749,"comment_id":133452777,"body_markdown":"@phatfingers , the PERCENTILE_CONT() return the error: `Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: percentile_cont aggregate function is not supported.`\nI&#39;m gonna read the doc about TO_JSON_STRING() and I&#39;ll try to implement it","body":"@phatfingers , the PERCENTILE_CONT() return the error: <code>Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: percentile_cont aggregate function is not supported.</code> I&#39;m gonna read the doc about TO_JSON_STRING() and I&#39;ll try to implement it"}],"answers":[{"comments":[{"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"score":0,"creation_date":1678051201,"post_id":75645096,"comment_id":133453826,"body_markdown":"The US funtion works, but unfortunately I&#39;m not in the US. Is it possible to &#39;import it in may dataset?\nRegarding the other option, firstly I would like to thank you, but I still got this error: `[Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Invalid function L1_POLIMI.median\nValues referenced in UNNEST must be arrays. UNNEST contains expression of type FLOAT64\nAnalysis of function Templated_SQL_Function:median failed at [9:29]`","body":"The US funtion works, but unfortunately I&#39;m not in the US. Is it possible to &#39;import it in may dataset? Regarding the other option, firstly I would like to thank you, but I still got this error: <code>[Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Invalid function L1_POLIMI.median Values referenced in UNNEST must be arrays. UNNEST contains expression of type FLOAT64 Analysis of function Templated_SQL_Function:median failed at [9:29]</code>"},{"owner":{"account_id":22304755,"reputation":3159,"user_id":16529576,"display_name":"Samuel"},"score":0,"creation_date":1678055160,"post_id":75645096,"comment_id":133454384,"body_markdown":"Import in your dataset: `CREATE  FUNCTION YOURDATASET.median(arr ANY TYPE) AS (`   The function excepts an array not a single value.","body":"Import in your dataset: <code>CREATE  FUNCTION YOURDATASET.median(arr ANY TYPE) AS (</code>   The function excepts an array not a single value."},{"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"score":0,"creation_date":1678116247,"post_id":75645096,"comment_id":133466313,"body_markdown":"Yes, my problem is that sometimes the group is a single value, not an array, maybe I wasn&#39;t clear but that is my problem.","body":"Yes, my problem is that sometimes the group is a single value, not an array, maybe I wasn&#39;t clear but that is my problem."},{"owner":{"account_id":22304755,"reputation":3159,"user_id":16529576,"display_name":"Samuel"},"score":0,"creation_date":1678171370,"post_id":75645096,"comment_id":133476898,"body_markdown":"BigQuery UDF cannot handle polymorph functions. An array functions expects an array not a scala value. As you call the UDF-function in any query, you know that the argument is a single value or an array. Thus you can choose the right function. The only way  to let BigQuery handle any format is to convert it to text with `TO_JSON_STRING(t)` and parse this text with JavaScript in an UDF.","body":"BigQuery UDF cannot handle polymorph functions. An array functions expects an array not a scala value. As you call the UDF-function in any query, you know that the argument is a single value or an array. Thus you can choose the right function. The only way  to let BigQuery handle any format is to convert it to text with <code>TO_JSON_STRING(t)</code> and parse this text with JavaScript in an UDF."}],"tags":[],"owner":{"account_id":22304755,"reputation":3159,"user_id":16529576,"display_name":"Samuel"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678047586,"creation_date":1678047586,"answer_id":75645096,"question_id":75643749,"body_markdown":"There is an UDF to obtain the median. Because it does work with SQL, there is no need for JavaScript and therefore any input type of array will work.\r\n~~~sql\r\nSELECT `bigquery-public-data.persistent_udfs.median`([1,2,5,7]);\r\n~~~\r\nHowever, this query only work in the us zone.\r\n\r\nOtherwise please take the code of this query and put it in a tempory udf; This would be the query then:\r\n~~~sql\r\nCREATE TEMP FUNCTION median(arr ANY TYPE) AS (\r\n(\r\n  SELECT IF (\r\n    MOD(ARRAY_LENGTH(arr), 2) = 0,\r\n    (arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2) - 1)] + arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]) / 2,\r\n    arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]\r\n  )\r\n  FROM (SELECT ARRAY_AGG(x ORDER BY x) AS arr FROM UNNEST(arr) AS x)\r\n)\r\n);\r\nselect median([5,7,9,1])\r\n~~~","title":"Struggling creating a median routine in SQL","body":"<p>There is an UDF to obtain the median. Because it does work with SQL, there is no need for JavaScript and therefore any input type of array will work.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT `bigquery-public-data.persistent_udfs.median`([1,2,5,7]);\n</code></pre>\n<p>However, this query only work in the us zone.</p>\n<p>Otherwise please take the code of this query and put it in a tempory udf; This would be the query then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TEMP FUNCTION median(arr ANY TYPE) AS (\n(\n  SELECT IF (\n    MOD(ARRAY_LENGTH(arr), 2) = 0,\n    (arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2) - 1)] + arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]) / 2,\n    arr[OFFSET(DIV(ARRAY_LENGTH(arr), 2))]\n  )\n  FROM (SELECT ARRAY_AGG(x ORDER BY x) AS arr FROM UNNEST(arr) AS x)\n)\n);\nselect median([5,7,9,1])\n</code></pre>\n"}],"owner":{"account_id":27941353,"reputation":11,"user_id":21337308,"display_name":"IlBuonTini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678047586,"creation_date":1678034132,"question_id":75643749,"body_markdown":"I&#39;m tring to create a function that calculate the median in a SQL BigQuery database.\r\n\r\n\r\nIt is part of a creation of a new table on the dataset.\r\n\r\nThe problem is that sometime the group has only one value and SQL give it to the function as a FLOAT type, meanwhile the others sent it as an array.\r\n\r\nI&#39;m working on a Legacy SQL BigQuery server with DBeaver.\r\n\r\n\r\n\r\nI find SQL quite tricky and I&#39;m stuck from few hours. Thanks\r\n\r\n \r\n\r\nThis code works but only with arrays:\r\n```\r\nCREATE FUNCTION median(x ARRAY&lt;FLOAT64&gt;)\r\nRETURNS FLOAT64\r\nLANGUAGE js\r\nAS &quot;&quot;&quot;\r\n  x.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  var half = Math.floor(x.length / 2);\r\n  if (x.length % 2 == 0) {\r\n    return (x[half - 1] + x[half]) / 2.0;\r\n  } else {\r\n    return x[half];\r\n  }\r\n&quot;&quot;&quot;;\r\n```\r\n\r\nThi one return this error: `Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Templated js UDFs are not yet supported, but function median has a templated parameter`\r\n\r\n\r\n```\r\nCREATE FUNCTION median(x ANY TYPE)\r\nRETURNS NUMERIC\r\nLANGUAGE js\r\nAS &quot;&quot;&quot;\r\n  var arr = Array.isArray(x) ? x : [x];\r\n  arr.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  var half = Math.floor(arr.length / 2);\r\n  if (arr.length % 2 == 0) {\r\n    return (arr[half - 1] + arr[half]) / 2.0;\r\n  } else {\r\n    return arr[half];\r\n  }\r\n&quot;&quot;&quot;;\r\n```","title":"Struggling creating a median routine in SQL","body":"<p>I'm tring to create a function that calculate the median in a SQL BigQuery database.</p>\n<p>It is part of a creation of a new table on the dataset.</p>\n<p>The problem is that sometime the group has only one value and SQL give it to the function as a FLOAT type, meanwhile the others sent it as an array.</p>\n<p>I'm working on a Legacy SQL BigQuery server with DBeaver.</p>\n<p>I find SQL quite tricky and I'm stuck from few hours. Thanks</p>\n<p>This code works but only with arrays:</p>\n<pre><code>CREATE FUNCTION median(x ARRAY&lt;FLOAT64&gt;)\nRETURNS FLOAT64\nLANGUAGE js\nAS &quot;&quot;&quot;\n  x.sort(function(a, b) {\n    return a - b;\n  });\n  var half = Math.floor(x.length / 2);\n  if (x.length % 2 == 0) {\n    return (x[half - 1] + x[half]) / 2.0;\n  } else {\n    return x[half];\n  }\n&quot;&quot;&quot;;\n</code></pre>\n<p>Thi one return this error: <code>Errore SQL [100032] [HY000]: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Templated js UDFs are not yet supported, but function median has a templated parameter</code></p>\n<pre><code>CREATE FUNCTION median(x ANY TYPE)\nRETURNS NUMERIC\nLANGUAGE js\nAS &quot;&quot;&quot;\n  var arr = Array.isArray(x) ? x : [x];\n  arr.sort(function(a, b) {\n    return a - b;\n  });\n  var half = Math.floor(arr.length / 2);\n  if (arr.length % 2 == 0) {\n    return (arr[half - 1] + arr[half]) / 2.0;\n  } else {\n    return arr[half];\n  }\n&quot;&quot;&quot;;\n</code></pre>\n"},{"tags":["java","spring","keycloak"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678042873,"creation_date":1678040616,"answer_id":75644415,"question_id":75643914,"body_markdown":"&gt; I don&#39;t see any problem with my logic, yet users have a length of 100\r\n&gt; even though I have\r\n\r\nIf you have a look at the [Admin Rest API documentation][1] you can read \r\n\r\n&gt; Query max optional Maximum results size (defaults to 100)\r\n&gt; integer(int32)\r\n\r\nwhich is basically what happens when you use `list()`.\r\n\r\nTry to use [list(Integer firstResult, Integer maxResults)][2] instead of list. Set `firstResult` to `0` and `-1` for the `maxResults`, respectively.\r\n\r\n\r\n&gt; user.getRealmRoles is always null\r\n\r\nThere seems to be a bug (already reported [here][3]) with this endpoint. \r\n\r\nYou can use the workaround described on the [keycloak discourse group][4].\r\n\r\nSo something like:\r\n\r\n      keycloak.realm(realm)\r\n            .users()\r\n            .get(userId)\r\n            .roles()\r\n            .realmLevel()\r\n            .listEffective()\r\n\r\n  [1]: https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource\r\n  [2]: https://www.keycloak.org/docs-api/11.0/javadocs/org/keycloak/admin/client/resource/UsersResource.html#list-java.lang.Integer-java.lang.Integer-\r\n  [3]: https://github.com/keycloak/keycloak/issues/14116\r\n  [4]: https://keycloak.discourse.group/t/realm-role-is-not-assigned-while-creating-user/2271\r\n","title":"Keycloak admin client Spring - list all users with realm roles","body":"<blockquote>\n<p>I don't see any problem with my logic, yet users have a length of 100\neven though I have</p>\n</blockquote>\n<p>If you have a look at the <a href=\"https://www.keycloak.org/docs-api/15.0/rest-api/index.html#_users_resource\" rel=\"nofollow noreferrer\">Admin Rest API documentation</a> you can read</p>\n<blockquote>\n<p>Query max optional Maximum results size (defaults to 100)\ninteger(int32)</p>\n</blockquote>\n<p>which is basically what happens when you use <code>list()</code>.</p>\n<p>Try to use <a href=\"https://www.keycloak.org/docs-api/11.0/javadocs/org/keycloak/admin/client/resource/UsersResource.html#list-java.lang.Integer-java.lang.Integer-\" rel=\"nofollow noreferrer\">list(Integer firstResult, Integer maxResults)</a> instead of list. Set <code>firstResult</code> to <code>0</code> and <code>-1</code> for the <code>maxResults</code>, respectively.</p>\n<blockquote>\n<p>user.getRealmRoles is always null</p>\n</blockquote>\n<p>There seems to be a bug (already reported <a href=\"https://github.com/keycloak/keycloak/issues/14116\" rel=\"nofollow noreferrer\">here</a>) with this endpoint.</p>\n<p>You can use the workaround described on the <a href=\"https://keycloak.discourse.group/t/realm-role-is-not-assigned-while-creating-user/2271\" rel=\"nofollow noreferrer\">keycloak discourse group</a>.</p>\n<p>So something like:</p>\n<pre><code>  keycloak.realm(realm)\n        .users()\n        .get(userId)\n        .roles()\n        .realmLevel()\n        .listEffective()\n</code></pre>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75644415,"answer_count":1,"score":1,"last_activity_date":1678046872,"creation_date":1678035713,"question_id":75643914,"body_markdown":"In my service class I have a function that deletes all users except those passed as param\r\n```java\r\n    public void deleteWhereNotIn(List&lt;String&gt; keep){\r\n        List&lt;UserRepresentation&gt; users = keycloak\r\n            .realm(realm)\r\n            .users().list();\r\n        List&lt;String&gt; remove = new ArrayList&lt;&gt;();\r\n        for(UserRepresentation user : users){\r\n            if (user.getRealmRoles() != null &amp;&amp; user.getRealmRoles().stream().anyMatch(role -&gt; role.equals(&quot;ADMIN&quot;)))\r\n                continue;\r\n            if (keep.stream().noneMatch(uid -&gt; uid.equals(user.getId())))\r\n                remove.add(user.getId());\r\n        }\r\n        for(String uid : remove)\r\n            delete(uid);\r\n    }\r\n```\r\nI don&#39;t see any problem with my logic, yet `users` have a length of `100` even though I have more and `user.getRealmRoles` is always `null` ","title":"Keycloak admin client Spring - list all users with realm roles","body":"<p>In my service class I have a function that deletes all users except those passed as param</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void deleteWhereNotIn(List&lt;String&gt; keep){\n        List&lt;UserRepresentation&gt; users = keycloak\n            .realm(realm)\n            .users().list();\n        List&lt;String&gt; remove = new ArrayList&lt;&gt;();\n        for(UserRepresentation user : users){\n            if (user.getRealmRoles() != null &amp;&amp; user.getRealmRoles().stream().anyMatch(role -&gt; role.equals(&quot;ADMIN&quot;)))\n                continue;\n            if (keep.stream().noneMatch(uid -&gt; uid.equals(user.getId())))\n                remove.add(user.getId());\n        }\n        for(String uid : remove)\n            delete(uid);\n    }\n</code></pre>\n<p>I don't see any problem with my logic, yet <code>users</code> have a length of <code>100</code> even though I have more and <code>user.getRealmRoles</code> is always <code>null</code></p>\n"},{"tags":["java","android","android-layout","size","android-drawable"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1678018117,"post_id":75641491,"comment_id":133448194,"body_markdown":"Does this help: https://guides.codepath.com/android/Working-with-the-ImageView","body":"Does this help: <a href=\"https://guides.codepath.com/android/Working-with-the-ImageView\" rel=\"nofollow noreferrer\">guides.codepath.com/android/Working-with-the-ImageView</a>"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678056800,"post_id":75641491,"comment_id":133454611,"body_markdown":"@BillMair well, the only related thing I have found is this: &quot;This means that if you generate a 100x100 for mdpi (1x baseline), then you should generate the same resource in 150x150 for hdpi (1.5x)&quot; .Okay that is obvious, but, it doesn&#39;t explain why in the mdpi folder it is stored a 100x100px, that is what I want to know, how to determine that dimension of the .png image in the mdpi folder, the rest of converting it to the other densities is much simpler and mechanic","body":"@BillMair well, the only related thing I have found is this: &quot;This means that if you generate a 100x100 for mdpi (1x baseline), then you should generate the same resource in 150x150 for hdpi (1.5x)&quot; .Okay that is obvious, but, it doesn&#39;t explain why in the mdpi folder it is stored a 100x100px, that is what I want to know, how to determine that dimension of the .png image in the mdpi folder, the rest of converting it to the other densities is much simpler and mechanic"}],"answers":[{"comments":[{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678056191,"post_id":75645034,"comment_id":133454514,"body_markdown":"But this answer is explaining how to get the dimension of the ImageView layout (the View in your example) . What I want is to know the accurate dimension of the image.png in px that should be stored in the mdpi folder, I am talking about the dimension of the .png file, I am not talking about the dimension of the layout of the image, also I don&#39;t want to get any value, I want to know what dimension of the .png file should be set in the mdpi folder. Anyway, thanks for the answer","body":"But this answer is explaining how to get the dimension of the ImageView layout (the View in your example) . What I want is to know the accurate dimension of the image.png in px that should be stored in the mdpi folder, I am talking about the dimension of the .png file, I am not talking about the dimension of the layout of the image, also I don&#39;t want to get any value, I want to know what dimension of the .png file should be set in the mdpi folder. Anyway, thanks for the answer"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1678063939,"post_id":75645034,"comment_id":133455456,"body_markdown":"ImageView scales the image based on what mode it is set. \nSee https://thoughtbot.com/blog/android-imageview-scaletype-a-visual-guide\nSo in general pic a resolution close what would give 1 to 1 on a 6 inch phone. \nThere is no exact answer that works for all needs.","body":"ImageView scales the image based on what mode it is set.  See <a href=\"https://thoughtbot.com/blog/android-imageview-scaletype-a-visual-guide\" rel=\"nofollow noreferrer\">thoughtbot.com/blog/android-imageview-scaletype-a-visual-gui&zwnj;&#8203;de</a> So in general pic a resolution close what would give 1 to 1 on a 6 inch phone.  There is no exact answer that works for all needs."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678121239,"post_id":75645034,"comment_id":133467861,"body_markdown":"I don&#39;t see it really clear, why on a 6 inch phone and not on a 8 inch phone? Imagine that the width and height of the ImageView Layout is 500x500px in a 6 inch device (obtaining that width and height using getWidth() and getHeight() of the ImageView), then, according to your answer, the dimension of the .png file in the mdpi folder should be 500x500px?","body":"I don&#39;t see it really clear, why on a 6 inch phone and not on a 8 inch phone? Imagine that the width and height of the ImageView Layout is 500x500px in a 6 inch device (obtaining that width and height using getWidth() and getHeight() of the ImageView), then, according to your answer, the dimension of the .png file in the mdpi folder should be 500x500px?"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1678129560,"post_id":75645034,"comment_id":133470197,"body_markdown":"If you are trying to have an image that fits 1 to 1 with the screen then that is going to require many images. One for each known screen width. \nImageView automatically scales images so the most reasonable thing to do is scale the image to 2 or 3 typical sizes and let imageView do the rest. \nAlternative is to use vector drawables which are drawn and the desired scale.","body":"If you are trying to have an image that fits 1 to 1 with the screen then that is going to require many images. One for each known screen width.  ImageView automatically scales images so the most reasonable thing to do is scale the image to 2 or 3 typical sizes and let imageView do the rest.  Alternative is to use vector drawables which are drawn and the desired scale."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1678136257,"post_id":75645034,"comment_id":133471845,"body_markdown":"what do you mean by &quot;fits 1 to 1&quot;? Also, when you say: &quot;scale the image to 2 or 3 typical sizes&quot; do you refer to make different images for different densities or you are not talking about densities?  Could you put me an example? For example imagine that the width and height of the ImageView is 0dp and all the constraints is &quot;parent&quot; and the parent is the whole screen. In short words, could you put me an example of the accurate dimensions of the image.png in the mdpi folder for an ImageView that occupies the whole screen?","body":"what do you mean by &quot;fits 1 to 1&quot;? Also, when you say: &quot;scale the image to 2 or 3 typical sizes&quot; do you refer to make different images for different densities or you are not talking about densities?  Could you put me an example? For example imagine that the width and height of the ImageView is 0dp and all the constraints is &quot;parent&quot; and the parent is the whole screen. In short words, could you put me an example of the accurate dimensions of the image.png in the mdpi folder for an ImageView that occupies the whole screen?"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1678160508,"post_id":75645034,"comment_id":133475471,"body_markdown":"I am not sure I understand what you are asking. \nAny Image put in such and ImageView with android:scaleType=&quot;centerCrop&quot; will fill the screen. Depending on the aspect ratio of the image and screen some part would be cropped. Maybe this might help https://www.geeksforgeeks.org/imageview-scaletype-in-android-with-example/","body":"I am not sure I understand what you are asking.  Any Image put in such and ImageView with android:scaleType=&quot;centerCrop&quot; will fill the screen. Depending on the aspect ratio of the image and screen some part would be cropped. Maybe this might help <a href=\"https://www.geeksforgeeks.org/imageview-scaletype-in-android-with-example/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/imageview-scaletype-in-android-with-exampl&zwnj;&#8203;e</a>"}],"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678046865,"creation_date":1678046865,"answer_id":75645034,"question_id":75641491,"body_markdown":"The purpose of ConstraintLayout is to solve complex set of constraints the produce an appropriate dimensions. \r\n\r\nIf by &quot;know&quot; you mean at run time you can ask the view after layout.\r\n```\r\nview.addOnLayoutChangeListener(new View.OnLayoutChangeListener(){\r\npublic void onLayoutChange(View v,\r\n   int left,    int    top, int    right, int   bottom,\r\n   int oldLeft, int oldTop, int oldRight, int oldBottom) {\r\n\r\n})\r\n\r\n```\r\n\r\nIf by &quot;know&quot; you mean ahead of time. You can look at the implications of the Constraints and solve the math yourself. This can be non trivial.\r\nIf it depends on Fields with wrap_content, Aspect ratio of phone etc.\r\n\r\n\r\nFor simple use cases it is easy say\r\n```xml\r\n    &lt;View\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\nWe know this will be the size of the ConstraintLayout which may ore may not be the size of the screen. We cannot know ahead of time because the screen size is unknown ahead of time. So you need to get this at run time.\r\n","title":"How to determine the accurate image dimension in px of an ImageView in a ConstraintLayout?","body":"<p>The purpose of ConstraintLayout is to solve complex set of constraints the produce an appropriate dimensions.</p>\n<p>If by &quot;know&quot; you mean at run time you can ask the view after layout.</p>\n<pre><code>view.addOnLayoutChangeListener(new View.OnLayoutChangeListener(){\npublic void onLayoutChange(View v,\n   int left,    int    top, int    right, int   bottom,\n   int oldLeft, int oldTop, int oldRight, int oldBottom) {\n\n})\n\n</code></pre>\n<p>If by &quot;know&quot; you mean ahead of time. You can look at the implications of the Constraints and solve the math yourself. This can be non trivial.\nIf it depends on Fields with wrap_content, Aspect ratio of phone etc.</p>\n<p>For simple use cases it is easy say</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;View\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>We know this will be the size of the ConstraintLayout which may ore may not be the size of the screen. We cannot know ahead of time because the screen size is unknown ahead of time. So you need to get this at run time.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678046865,"creation_date":1678011272,"question_id":75641491,"body_markdown":"If I had an `ImageView` with fixed width and height (the width and height of the `ImageView` **layout**) it would be really easy to determine the accurate dimension of the image in px in the `mdpi` folfer. \r\n\r\nFor example, if the width and height were 500x500dp, in the `mdpi` folder, the image.png should be 500x500px and the image dimension of the rest densities it would be as easy as converting those 500x500dp to the rest of the densities.\r\n\r\nOkay, but this isn&#39;t my case. As the title says, now suppose I am using an `ImageView` in a `ConstraintLayout`, so this `ImageView` has some start,end,top and bottom constraints and the width and height are `match_parent` (`0dp` in `ConstraintLayout`). Okay, so now that the width and height are not fixed as before, how could I know the dimension in px of the `mdpi` folder?\r\n\r\nWhat I have thought to solve this:\r\n\r\nWhat I have thought is to `getWidth()` and `getHeight()` in pixels of the `ImageView` **layout** in an arbitrary `mdpi` device so that if the width and height of the `ImageView` **layout** is for example 300x200px, that would be also the image dimension in px in the `mdpi` folder. Okay but this is not quite correct as there are other devices with `mdpi` density that have smaller and bigger screens so the `getWidth()` and `getHeight()` of the `ImageView` **layout** would be different in those devices although they are also `mdpi`. \r\n\r\n**So how can I know what dimension in px of the image should be in the mdpi folder?** I have been struggling with this many months and I have not found any information neither in the official documentation nor in other posts...","title":"How to determine the accurate image dimension in px of an ImageView in a ConstraintLayout?","body":"<p>If I had an <code>ImageView</code> with fixed width and height (the width and height of the <code>ImageView</code> <strong>layout</strong>) it would be really easy to determine the accurate dimension of the image in px in the <code>mdpi</code> folfer.</p>\n<p>For example, if the width and height were 500x500dp, in the <code>mdpi</code> folder, the image.png should be 500x500px and the image dimension of the rest densities it would be as easy as converting those 500x500dp to the rest of the densities.</p>\n<p>Okay, but this isn't my case. As the title says, now suppose I am using an <code>ImageView</code> in a <code>ConstraintLayout</code>, so this <code>ImageView</code> has some start,end,top and bottom constraints and the width and height are <code>match_parent</code> (<code>0dp</code> in <code>ConstraintLayout</code>). Okay, so now that the width and height are not fixed as before, how could I know the dimension in px of the <code>mdpi</code> folder?</p>\n<p>What I have thought to solve this:</p>\n<p>What I have thought is to <code>getWidth()</code> and <code>getHeight()</code> in pixels of the <code>ImageView</code> <strong>layout</strong> in an arbitrary <code>mdpi</code> device so that if the width and height of the <code>ImageView</code> <strong>layout</strong> is for example 300x200px, that would be also the image dimension in px in the <code>mdpi</code> folder. Okay but this is not quite correct as there are other devices with <code>mdpi</code> density that have smaller and bigger screens so the <code>getWidth()</code> and <code>getHeight()</code> of the <code>ImageView</code> <strong>layout</strong> would be different in those devices although they are also <code>mdpi</code>.</p>\n<p><strong>So how can I know what dimension in px of the image should be in the mdpi folder?</strong> I have been struggling with this many months and I have not found any information neither in the official documentation nor in other posts...</p>\n"},{"tags":["java","spring-boot","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678019640,"post_id":75642136,"comment_id":133448382,"body_markdown":"Do you have a method which checks whether the user is logged in? Do you have a method which checks whether a post is owned by a user?","body":"Do you have a method which checks whether the user is logged in? Do you have a method which checks whether a post is owned by a user?"},{"owner":{"account_id":11763864,"reputation":3,"user_id":8609107,"display_name":"Mandeep Taneja"},"score":0,"creation_date":1678020953,"post_id":75642136,"comment_id":133448564,"body_markdown":"I can add user_id in the posts table which will track the creator for me but I don&#39;t have any method currently to check which user is logged in. One method is that in passing every request I pass the username and password and then the repository can load the entire user for me using that email itself","body":"I can add user_id in the posts table which will track the creator for me but I don&#39;t have any method currently to check which user is logged in. One method is that in passing every request I pass the username and password and then the repository can load the entire user for me using that email itself"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678021534,"post_id":75642136,"comment_id":133448638,"body_markdown":"So, in order to have a post-owner relationship, you will need to somehow store it. If you consider a `user_id` as a new field adequate (an idea I agree with), then do so. When that&#39;s done, you will be able to load the post by `id` and check whether a given user is its owner.","body":"So, in order to have a post-owner relationship, you will need to somehow store it. If you consider a <code>user_id</code> as a new field adequate (an idea I agree with), then do so. When that&#39;s done, you will be able to load the post by <code>id</code> and check whether a given user is its owner."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678021621,"post_id":75642136,"comment_id":133448655,"body_markdown":"As about the other part of the solution I think you are slightly confused. We already have a user in your situation, that is, the one who sent the request for `deletePostById` and you already have this user loaded by username/password, which is a necessary prerequisite for `hasRole` to function properly.","body":"As about the other part of the solution I think you are slightly confused. We already have a user in your situation, that is, the one who sent the request for <code>deletePostById</code> and you already have this user loaded by username/password, which is a necessary prerequisite for <code>hasRole</code> to function properly."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678021755,"post_id":75642136,"comment_id":133448678,"body_markdown":"You will need to end up with something like this: `hasRole(&#39;ADMIN&#39;) || (myPost.user_id == currentUser.id)`. You will of course need `currentUser` to be existent and properly initialized and you will need to remove the `@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` line, because that restricts the right of post removal to admins, whereas you want to expand this right for the owners as well besides admins.","body":"You will need to end up with something like this: <code>hasRole(&#39;ADMIN&#39;) || (myPost.user_id == currentUser.id)</code>. You will of course need <code>currentUser</code> to be existent and properly initialized and you will need to remove the <code>@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)</code> line, because that restricts the right of post removal to admins, whereas you want to expand this right for the owners as well besides admins."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1678027696,"post_id":75642136,"comment_id":133449678,"body_markdown":"In a REST environment you don&#39;t log in a user as this ultimately leads to the server needing to manage client state which violates the stateless constraints and makes scaling way harder. Instead you send the user credentials (or some form of token) on each request, lookup and load the user once the request was received and then trigger your actual business logic. Spring Boot usually supports this via Spring Security where it connects it does the user-lookup and authorization checks via `@PreAuthorize` and stuff like that automatically for you in the back","body":"In a REST environment you don&#39;t log in a user as this ultimately leads to the server needing to manage client state which violates the stateless constraints and makes scaling way harder. Instead you send the user credentials (or some form of token) on each request, lookup and load the user once the request was received and then trigger your actual business logic. Spring Boot usually supports this via Spring Security where it connects it does the user-lookup and authorization checks via <code>@PreAuthorize</code> and stuff like that automatically for you in the back"}],"answers":[{"tags":[],"owner":{"account_id":918176,"reputation":73,"user_id":950496,"display_name":"mbodev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678027792,"creation_date":1678027792,"answer_id":75643055,"question_id":75642136,"body_markdown":"First of all you need to store who created the post if the authors should be able to change/delete it.\r\n\r\nThen you could use @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;) || hasRole(&#39;USER&#39;)&quot;) in case your user role is named USER and in the method simply check if it&#39;s an admin or if the post is by the logged in user. You can retrieve auth infos via `SecurityContextHolder.getContext().getAuthentication()`. In an answer above you also have a suggestion for comparing the user&#39;s id with the id of the user that posted.\r\n\r\nIf you really need/want to do it via you could even create your own bean implementing it. See https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f if you need an explanation for this.","title":"I made a REST API in SpringBoot and Now I am confused while adding a feature","body":"<p>First of all you need to store who created the post if the authors should be able to change/delete it.</p>\n<p>Then you could use @PreAuthorize(&quot;hasRole('ADMIN') || hasRole('USER')&quot;) in case your user role is named USER and in the method simply check if it's an admin or if the post is by the logged in user. You can retrieve auth infos via <code>SecurityContextHolder.getContext().getAuthentication()</code>. In an answer above you also have a suggestion for comparing the user's id with the id of the user that posted.</p>\n<p>If you really need/want to do it via you could even create your own bean implementing it. See <a href=\"https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f\" rel=\"nofollow noreferrer\">https://medium.com/@islamboulila/how-to-create-a-custom-security-expression-method-in-spring-security-e5b6353f062f</a> if you need an explanation for this.</p>\n"}],"owner":{"account_id":11763864,"reputation":3,"user_id":8609107,"display_name":"Mandeep Taneja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678046524,"creation_date":1678018493,"question_id":75642136,"body_markdown":"I have made a REST API in spring boot which is maintaining 4 models : Blog Posts, Comments on Posts, User Profiles, and Roles. Currently the blog posts can be deleted only by the admin and not the user who created it, I want to add this functionality that the post can be deleted by the creator which requires login in the first place, so how can I implement that ? \r\n\r\nHere is my User Model :\r\n\r\n``` \r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles;\r\n}\r\n ```\r\n\r\nHere is my Posts Model :\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\n@Table(\r\n        name=&quot;Posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\r\n)\r\npublic class Post {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    private Long id;\r\n\r\n    @Column(name = &quot;Title&quot;, nullable = false)\r\n    private String title;\r\n\r\n    @Column(name = &quot;Description&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Column(name = &quot;Content&quot;, nullable = false)\r\n    private String content;\r\n\r\n    @OneToMany(mappedBy = &quot;post&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n} \r\n```\r\n\r\nHere is my Delete Post Endpoint :\r\n\r\n```\r\n@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n@DeleteMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;String&gt; deletePostById(@PathVariable Long id) {\r\n    postService.deletePostById(id);\r\n    return new ResponseEntity&lt;&gt;(&quot;Post Deleted Successfully&quot;, HttpStatus.OK);\r\n}\r\n```\r\n\r\nEdit : Finally I was able to Configure it out here its how\r\n```\r\nprivate User getUser() {\r\n    SecurityContext context = SecurityContextHolder.getContext();\r\n    Authentication auth = context.getAuthentication();\r\n    return userRepository.findUserByEmail(auth.getName()).orElse(null);\r\n}\r\n```","title":"I made a REST API in SpringBoot and Now I am confused while adding a feature","body":"<p>I have made a REST API in spring boot which is maintaining 4 models : Blog Posts, Comments on Posts, User Profiles, and Roles. Currently the blog posts can be deleted only by the admin and not the user who created it, I want to add this functionality that the post can be deleted by the creator which requires login in the first place, so how can I implement that ?</p>\n<p>Here is my User Model :</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    private String name;\n\n    @Column(nullable = false, unique = true)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private Set&lt;Role&gt; roles;\n}\n</code></pre>\n<p>Here is my Posts Model :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\n@Table(\n        name=&quot;Posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\n)\npublic class Post {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    private Long id;\n\n    @Column(name = &quot;Title&quot;, nullable = false)\n    private String title;\n\n    @Column(name = &quot;Description&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;Content&quot;, nullable = false)\n    private String content;\n\n    @OneToMany(mappedBy = &quot;post&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n} \n</code></pre>\n<p>Here is my Delete Post Endpoint :</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n@DeleteMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;String&gt; deletePostById(@PathVariable Long id) {\n    postService.deletePostById(id);\n    return new ResponseEntity&lt;&gt;(&quot;Post Deleted Successfully&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>Edit : Finally I was able to Configure it out here its how</p>\n<pre><code>private User getUser() {\n    SecurityContext context = SecurityContextHolder.getContext();\n    Authentication auth = context.getAuthentication();\n    return userRepository.findUserByEmail(auth.getName()).orElse(null);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678032193,"creation_date":1678031869,"answer_id":75643483,"question_id":75643336,"body_markdown":"The whole reason of `spring-security` module in spring framework is to have some framework dedicated on security layer so that a normal company or developer building some application don&#39;t have to always concider how they implemented security, and if there is some hole in their security layer.\r\n\r\nIn your example we could say that spring security will also have the ability to encrypt the passwords so that not the actual passwords are stored in Database. So in case someone has access to database the credentials are not automatically disclosed.\r\n\r\nAnother case is the principal object in spring security which after authentication will have hidden the password. So you can transfer this object to see information about logged user but in case some man in the middle attack which manages to interpret the state of the object the credentials are not easily disclosed.\r\n\r\nMany more best practices are included in the `spring-security` module as to provide additional security to the application and keep out attacks.\r\n\r\nSo to conclude using `spring-security` and using your own authentication mechanism on the most fundamental concept of credentials provided in login and compared with database would be the same, but the implementation would be a lot different since the `spring-security` module offers many more things to keep atackers out than just the implementation of this concept. ","title":"Basic Username and password check instead of Spring security","body":"<p>The whole reason of <code>spring-security</code> module in spring framework is to have some framework dedicated on security layer so that a normal company or developer building some application don't have to always concider how they implemented security, and if there is some hole in their security layer.</p>\n<p>In your example we could say that spring security will also have the ability to encrypt the passwords so that not the actual passwords are stored in Database. So in case someone has access to database the credentials are not automatically disclosed.</p>\n<p>Another case is the principal object in spring security which after authentication will have hidden the password. So you can transfer this object to see information about logged user but in case some man in the middle attack which manages to interpret the state of the object the credentials are not easily disclosed.</p>\n<p>Many more best practices are included in the <code>spring-security</code> module as to provide additional security to the application and keep out attacks.</p>\n<p>So to conclude using <code>spring-security</code> and using your own authentication mechanism on the most fundamental concept of credentials provided in login and compared with database would be the same, but the implementation would be a lot different since the <code>spring-security</code> module offers many more things to keep atackers out than just the implementation of this concept.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678046360,"creation_date":1678045929,"answer_id":75644951,"question_id":75643336,"body_markdown":"So basically you are asking besides authentication and authorisation , what other security features does spring security provides ? Some features are :\r\n\r\n1. [CSRF support][1]\r\n2. [CORS support][2] \r\n3. [HttpFirewall][3] \r\n4. [Security HTTP Response Headers][4]\r\n5. [Password encoder for password storage][5]\r\n\r\nAnd also even your application does not have any role based or permission authorisation requirement now , it still needs to check if a request is come from an authenticated user or not and only allow the authenticated user to access. Otherwise, there is no points to make the user to have password to authenticate if everyone is allowed to access the application at the first place. And such checking is also a kind of authorization. \r\n\r\n\r\nSo once your application needs authentication , the next natural requirement that you cannot avoid is authorization , at least to check if the user is an authenticated user or an anonymous user.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\r\n  [3]: https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\r\n  [4]: https://docs.spring.io/spring-security/reference/servlet/exploits/headers.html\r\n  [5]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage","title":"Basic Username and password check instead of Spring security","body":"<p>So basically you are asking besides authentication and authorisation , what other security features does spring security provides ? Some features are :</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\" rel=\"nofollow noreferrer\">CSRF support</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">CORS support</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\" rel=\"nofollow noreferrer\">HttpFirewall</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/headers.html\" rel=\"nofollow noreferrer\">Security HTTP Response Headers</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage\" rel=\"nofollow noreferrer\">Password encoder for password storage</a></li>\n</ol>\n<p>And also even your application does not have any role based or permission authorisation requirement now , it still needs to check if a request is come from an authenticated user or not and only allow the authenticated user to access. Otherwise, there is no points to make the user to have password to authenticate if everyone is allowed to access the application at the first place. And such checking is also a kind of authorization.</p>\n<p>So once your application needs authentication , the next natural requirement that you cannot avoid is authorization , at least to check if the user is an authenticated user or an anonymous user.</p>\n"}],"owner":{"account_id":20177757,"reputation":43,"user_id":14798990,"display_name":"Ashish Bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1678046360,"creation_date":1678030448,"question_id":75643336,"body_markdown":"We can authenticate user by:\r\n(1). taking username and password, and checking it directly with database.\r\n(2). Using Spring Security(will take username and password)\r\n\r\nIf my application doesn&#39;t require authorization for certain endpoints then in that case case point (1) will be usefull as it doesn&#39;t require handling of code.\r\n\r\nIs my understanding correct? And other than an added advanatge of authorization is there any other advantage here? In the (1) point, Is it still the correct way to authenticate the User?\r\n\r\n","title":"Basic Username and password check instead of Spring security","body":"<p>We can authenticate user by:\n(1). taking username and password, and checking it directly with database.\n(2). Using Spring Security(will take username and password)</p>\n<p>If my application doesn't require authorization for certain endpoints then in that case case point (1) will be usefull as it doesn't require handling of code.</p>\n<p>Is my understanding correct? And other than an added advanatge of authorization is there any other advantage here? In the (1) point, Is it still the correct way to authenticate the User?</p>\n"},{"tags":["java","spring-security","jwt","jjwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1676660944,"post_id":75486822,"comment_id":133189265,"body_markdown":"https://github.com/Tandolf/spring-security-jwt-demo dont write ccustom code for handling JWTs use the built in features of spring security","body":"<a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">github.com/Tandolf/spring-security-jwt-demo</a> dont write ccustom code for handling JWTs use the built in features of spring security"},{"owner":{"account_id":26577367,"reputation":13,"user_id":20202513,"display_name":"Leo El"},"score":0,"creation_date":1676708356,"post_id":75486822,"comment_id":133195267,"body_markdown":"I tried to follow your implementation but calling the /token endpoint returns a null token","body":"I tried to follow your implementation but calling the /token endpoint returns a null token"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676719017,"post_id":75486822,"comment_id":133196484,"body_markdown":"You onviously have done something wrong, but since you have posted nothing of your code or implementation i dont understand what you think i should do about it? Guess?","body":"You onviously have done something wrong, but since you have posted nothing of your code or implementation i dont understand what you think i should do about it? Guess?"}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676715976,"creation_date":1676658090,"answer_id":75487987,"question_id":75486822,"body_markdown":"There is a good tutorial regarding to this topic:\r\n\r\n[Spring Boot JWT - How to Secure your REST APIs with Spring Security and Json Web Tokens](https://www.danvega.dev/blog/2022/09/06/spring-security-jwt/)\r\n\r\nI also suggest to check the updates regarding to `WebSercurityConfigurerAdapter` on the following [link](https://youtu.be/s4X4SJv2RrU).","title":"Correct way to make secured CRUD API with spring security and JWT Tokens","body":"<p>There is a good tutorial regarding to this topic:</p>\n<p><a href=\"https://www.danvega.dev/blog/2022/09/06/spring-security-jwt/\" rel=\"nofollow noreferrer\">Spring Boot JWT - How to Secure your REST APIs with Spring Security and Json Web Tokens</a></p>\n<p>I also suggest to check the updates regarding to <code>WebSercurityConfigurerAdapter</code> on the following <a href=\"https://youtu.be/s4X4SJv2RrU\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":26577367,"reputation":13,"user_id":20202513,"display_name":"Leo El"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678045137,"creation_date":1676651018,"question_id":75486822,"body_markdown":"I work on a CRUD API project using spring security framework and I want to implement authorization verification using JWT tokens.\r\n\r\nLet&#39;s say I have 3 endpoints:\r\n1. Authentication controller where user can sign up or sign in if he has an account\r\n2. A dummy get that returns a string to make sure authorization works\r\n3. One where I can update information about the current user\r\n\r\nMy user would be like this \r\n\r\n```\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String username;\r\n    private String password;\r\n    private String favoriteAnimal;\r\n}\r\n```\r\n\r\nIn my 3rd endpoint I would like to update the favorite animal of my user. \r\n\r\n    @PostMapping(&quot;/update&quot;)\r\n    public ResponseEntity&lt;String&gt; updatePet(@RequestBody UserDTO user) {\r\n        return new ResponseEntity&lt;&gt;(UserSevices.updateUserInfo, HttpStatus.OK);\r\n    }\r\n\r\nWhat would be the correct way to make sure that the user calling this endpoint is the correct one with the JWT token?\r\n\r\nI have my `AuthorizationFilter` extending `OncePerRequestFilter` and implementing `doFilterInternal()`\r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n        String token = getJWTFromRequest(request);\r\n        if(StringUtils.hasText(token) &amp;&amp; tokenGenerator.validateToken(token)) {\r\n            String username = tokenGenerator.getUsernameFromJWT(token);\r\n\r\n            UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\r\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null,\r\n                    userDetails.getAuthorities());\r\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n```\r\n\r\nWe agree that when I will call the endpoint the user request will go through this filter? Is this filter correct? \r\n\r\nNow in my service if I want to fetch the user by id how can I get the id? \r\n\r\nI have to create a token with an ID key? The token is generate and given to the user when he first logs in. \r\n\r\nI am sorry if it is a bit confusing but I have not been able to find information online. \r\n\r\nI use the jjwt library for token","title":"Correct way to make secured CRUD API with spring security and JWT Tokens","body":"<p>I work on a CRUD API project using spring security framework and I want to implement authorization verification using JWT tokens.</p>\n<p>Let's say I have 3 endpoints:</p>\n<ol>\n<li>Authentication controller where user can sign up or sign in if he has an account</li>\n<li>A dummy get that returns a string to make sure authorization works</li>\n<li>One where I can update information about the current user</li>\n</ol>\n<p>My user would be like this</p>\n<pre><code>public class UserEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String username;\n    private String password;\n    private String favoriteAnimal;\n}\n</code></pre>\n<p>In my 3rd endpoint I would like to update the favorite animal of my user.</p>\n<pre><code>@PostMapping(&quot;/update&quot;)\npublic ResponseEntity&lt;String&gt; updatePet(@RequestBody UserDTO user) {\n    return new ResponseEntity&lt;&gt;(UserSevices.updateUserInfo, HttpStatus.OK);\n}\n</code></pre>\n<p>What would be the correct way to make sure that the user calling this endpoint is the correct one with the JWT token?</p>\n<p>I have my <code>AuthorizationFilter</code> extending <code>OncePerRequestFilter</code> and implementing <code>doFilterInternal()</code></p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n        String token = getJWTFromRequest(request);\n        if(StringUtils.hasText(token) &amp;&amp; tokenGenerator.validateToken(token)) {\n            String username = tokenGenerator.getUsernameFromJWT(token);\n\n            UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null,\n                    userDetails.getAuthorities());\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n        }\n        filterChain.doFilter(request, response);\n    }\n</code></pre>\n<p>We agree that when I will call the endpoint the user request will go through this filter? Is this filter correct?</p>\n<p>Now in my service if I want to fetch the user by id how can I get the id?</p>\n<p>I have to create a token with an ID key? The token is generate and given to the user when he first logs in.</p>\n<p>I am sorry if it is a bit confusing but I have not been able to find information online.</p>\n<p>I use the jjwt library for token</p>\n"},{"tags":["java","maven","security","digital-signature","hardware-security-module"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1676046936,"post_id":75413742,"comment_id":133065159,"body_markdown":"You may want to explain what an HSM is and why you need to do it this way.","body":"You may want to explain what an HSM is and why you need to do it this way."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1676047190,"post_id":75413742,"comment_id":133065251,"body_markdown":"@Thorbj&#248;rnRavnAndersen Thanks I wanted to ask the same question..","body":"@Thorbj&#248;rnRavnAndersen Thanks I wanted to ask the same question.."}],"answers":[{"tags":[],"owner":{"account_id":11368907,"reputation":4584,"user_id":8334991,"display_name":"Alexandre Fenyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678045038,"creation_date":1676800600,"answer_id":75499278,"question_id":75413742,"body_markdown":"The signature process you are talking about is done when calling `scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc`. So this is this powershell script that you need to update.\r\n\r\nSigning an artifact on Maven Central means using an asymmetric key among those supported by GPG (RSA, DSA, ...) that is a PGP **primary** key. For the GPG software to sign files using an asymmetric key that is provided by a HSM, you need to use the PKCS#11 library that is provided with you HSM: most HSM implement the PKCS#11 API by delivering a PKCS#11 library that offers remote cryptographic services from the HSM.\r\n\r\nWhen GPG does not know about the private or secret keys, it is using a daemon to perform cryptographic operations: scd (smart card daemon). This has been initially introduced in GPG to use locally connected smart cards readers, not for network HSM. But in your case, the key is stored inside a HSM and must not leave it, not inside a smart card, so you need to have a specially designed GPG daemon that is acting as a gateway between GPG and the HSM, using the PKCS#11 library that comes with your HSM: gnupg-pkcs11-scd (https://github.com/alonbl/gnupg-pkcs11-scd) does the job. The network protocol between the library and the HSM is proprietary, but the library offers a fully specified standard cryptographic API with standard bindings in C and Java.\r\n\r\nTherefore you need to install the PKCS#11 library and configure it to talk to your HSM (you will have to create a X.509 certificate for mutual authentication, or a secret for login/password authentication, depending on your HSM). After that, you need to install the gnupg-pkcs11-scd daemon to offer cryptographic services to GPG using the PKCS#11 library. Finally, you need to configure GPG to talk the the daemon.\r\n\r\nOnce all of those steps are done, you need to use GPG to create a GPG key that is able to be used with Maven Central. This is a special GPG key set that contains only a **primary** key to sign the binaries. This is very specific to Maven Central, see why and how to do that here: https://central.sonatype.org/publish/requirements/gpg/\r\n\r\nFinally, integrate into your powershell script the call to GPG to sign the binary with the primary asymmetric key.\r\n\r\nBut since you are using a powershell script, I&#39;m considering you want to do this on Windows. Note that you may encounter difficulties with this environment to install the aforementioned daemon that acts as a gateway between GPG and the PKCS#11 library. In this case, you may try to do all of that on a Linux host, this may be easier. When done, consider a migration back to Windows using a WSL2 environment: everything including the daemon are doing userland operations without requiring external devices, all of this may work correctly on a WSL2 environment.","title":"How to publish Jar to Maven Central using HSM-produced digital signatures?","body":"<p>The signature process you are talking about is done when calling <code>scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc</code>. So this is this powershell script that you need to update.</p>\n<p>Signing an artifact on Maven Central means using an asymmetric key among those supported by GPG (RSA, DSA, ...) that is a PGP <strong>primary</strong> key. For the GPG software to sign files using an asymmetric key that is provided by a HSM, you need to use the PKCS#11 library that is provided with you HSM: most HSM implement the PKCS#11 API by delivering a PKCS#11 library that offers remote cryptographic services from the HSM.</p>\n<p>When GPG does not know about the private or secret keys, it is using a daemon to perform cryptographic operations: scd (smart card daemon). This has been initially introduced in GPG to use locally connected smart cards readers, not for network HSM. But in your case, the key is stored inside a HSM and must not leave it, not inside a smart card, so you need to have a specially designed GPG daemon that is acting as a gateway between GPG and the HSM, using the PKCS#11 library that comes with your HSM: gnupg-pkcs11-scd (<a href=\"https://github.com/alonbl/gnupg-pkcs11-scd\" rel=\"nofollow noreferrer\">https://github.com/alonbl/gnupg-pkcs11-scd</a>) does the job. The network protocol between the library and the HSM is proprietary, but the library offers a fully specified standard cryptographic API with standard bindings in C and Java.</p>\n<p>Therefore you need to install the PKCS#11 library and configure it to talk to your HSM (you will have to create a X.509 certificate for mutual authentication, or a secret for login/password authentication, depending on your HSM). After that, you need to install the gnupg-pkcs11-scd daemon to offer cryptographic services to GPG using the PKCS#11 library. Finally, you need to configure GPG to talk the the daemon.</p>\n<p>Once all of those steps are done, you need to use GPG to create a GPG key that is able to be used with Maven Central. This is a special GPG key set that contains only a <strong>primary</strong> key to sign the binaries. This is very specific to Maven Central, see why and how to do that here: <a href=\"https://central.sonatype.org/publish/requirements/gpg/\" rel=\"nofollow noreferrer\">https://central.sonatype.org/publish/requirements/gpg/</a></p>\n<p>Finally, integrate into your powershell script the call to GPG to sign the binary with the primary asymmetric key.</p>\n<p>But since you are using a powershell script, I'm considering you want to do this on Windows. Note that you may encounter difficulties with this environment to install the aforementioned daemon that acts as a gateway between GPG and the PKCS#11 library. In this case, you may try to do all of that on a Linux host, this may be easier. When done, consider a migration back to Windows using a WSL2 environment: everything including the daemon are doing userland operations without requiring external devices, all of this may work correctly on a WSL2 environment.</p>\n"}],"owner":{"account_id":13559,"reputation":1448,"user_id":27342,"accept_rate":78,"display_name":"ralien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75499278,"answer_count":1,"score":2,"last_activity_date":1678045038,"creation_date":1676046675,"question_id":75413742,"body_markdown":"My objective is to publish a library on Maven Central, while using a Hardware Security Module (HSM, explanation below) to sign the binary. The documentation I found explains how to use `maven-gpg-plugin`, but this requires the plugin to handle the key and its passphrase, whereas in my case the key is inside the HSM, and *cannot* leave it.\r\n\r\nTo illustrate what I mean, here is a simplified draft of my [Github CI pipeline][1]:\r\n\r\n- The `build` job produces the Jar and uploads it for subsequent reuse.\r\n- The `sign` job runs on a *self-hosted* runner, it downloads the previously stored artifact, runs a graphical interface (implemented in `sign-gui.ps1`) which is responsible for the human-guided process of signing (e.g., the human connects the computer to a secure network, where the HSM is accessible, types the PIN for accessing the key; an alternative process could be to plug a smart-card into a reader and type the PIN, etc.)\r\n\r\n```\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 11\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;11&#39;\r\n          distribution: &#39;temurin&#39;\r\n          cache: maven\r\n\r\n      - name: Build the jar\r\n        run: mvn package -DskipTests\r\n\r\n      - name: Upload jar for subsequent reuse by signer\r\n        uses: actions/upload-artifact@v3\r\n        with:\r\n          name: compiled-jar\r\n          path: target/library.jar\r\n\r\n  sign:\r\n    needs: build\r\n    runs-on: self-hosted\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - uses: actions/download-artifact@v3\r\n        with:\r\n          name: compiled-jar\r\n          path: target\r\n\r\n      - name: Process retrieved files\r\n        run: scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc\r\n\r\n```\r\n\r\n\r\nIn the end I have a `library.jar` and `signature.asc` (the detached armored GPG signature). The next step is to feed them into Maven Central, but the available tooling seems to be shaped around the &quot;maven-gpg-plugin signs it and takes care of everything&quot; paradigm. I was unable to find a way to tell Maven that it should take the signature produced by an external program, and then go on with the rest of its publishing logic. *Is this possible with `maven-gpg-plugin`, in principle?* If not, what alternatives are there?\r\n\r\n\r\nHaving explored various open source projects, I found many CI pipelines that have the signing keys *and* the passphrases to them - thus the key isn&#39;t really private. If anyone could point me to repositories that take a different approach, I would greatly appreciate it.\r\n\r\n\r\nNote: an HSM is a physical device designed to securely store keys and perform operations (e.g., sign, encrypt) with them, without exposing the keys themselves. The keys are generated by the device and held internally in a secure way, to prevent one from making copies of them. The reason for this is to avoid [incidents][2] in which someone can steal keys and potentially release their own binaries with your signature on them.\r\n\r\n\r\n  [1]: https://github.com/ralienpp/cmp-ra-component/blob/sign-logic/.github/workflows/build-sign-publish.yml\r\n  [2]: https://nakedsecurity.sophos.com/2023/01/31/github-code-signing-certificates-stolen-but-will-be-revoked-this-week/","title":"How to publish Jar to Maven Central using HSM-produced digital signatures?","body":"<p>My objective is to publish a library on Maven Central, while using a Hardware Security Module (HSM, explanation below) to sign the binary. The documentation I found explains how to use <code>maven-gpg-plugin</code>, but this requires the plugin to handle the key and its passphrase, whereas in my case the key is inside the HSM, and <em>cannot</em> leave it.</p>\n<p>To illustrate what I mean, here is a simplified draft of my <a href=\"https://github.com/ralienpp/cmp-ra-component/blob/sign-logic/.github/workflows/build-sign-publish.yml\" rel=\"nofollow noreferrer\">Github CI pipeline</a>:</p>\n<ul>\n<li>The <code>build</code> job produces the Jar and uploads it for subsequent reuse.</li>\n<li>The <code>sign</code> job runs on a <em>self-hosted</em> runner, it downloads the previously stored artifact, runs a graphical interface (implemented in <code>sign-gui.ps1</code>) which is responsible for the human-guided process of signing (e.g., the human connects the computer to a secure network, where the HSM is accessible, types the PIN for accessing the key; an alternative process could be to plug a smart-card into a reader and type the PIN, etc.)</li>\n</ul>\n<pre><code>jobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 11\n        uses: actions/setup-java@v3\n        with:\n          java-version: '11'\n          distribution: 'temurin'\n          cache: maven\n\n      - name: Build the jar\n        run: mvn package -DskipTests\n\n      - name: Upload jar for subsequent reuse by signer\n        uses: actions/upload-artifact@v3\n        with:\n          name: compiled-jar\n          path: target/library.jar\n\n  sign:\n    needs: build\n    runs-on: self-hosted\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/download-artifact@v3\n        with:\n          name: compiled-jar\n          path: target\n\n      - name: Process retrieved files\n        run: scripts/sign-gui.ps1 -input target/library.jar -output target/signature.asc\n\n</code></pre>\n<p>In the end I have a <code>library.jar</code> and <code>signature.asc</code> (the detached armored GPG signature). The next step is to feed them into Maven Central, but the available tooling seems to be shaped around the &quot;maven-gpg-plugin signs it and takes care of everything&quot; paradigm. I was unable to find a way to tell Maven that it should take the signature produced by an external program, and then go on with the rest of its publishing logic. <em>Is this possible with <code>maven-gpg-plugin</code>, in principle?</em> If not, what alternatives are there?</p>\n<p>Having explored various open source projects, I found many CI pipelines that have the signing keys <em>and</em> the passphrases to them - thus the key isn't really private. If anyone could point me to repositories that take a different approach, I would greatly appreciate it.</p>\n<p>Note: an HSM is a physical device designed to securely store keys and perform operations (e.g., sign, encrypt) with them, without exposing the keys themselves. The keys are generated by the device and held internally in a secure way, to prevent one from making copies of them. The reason for this is to avoid <a href=\"https://nakedsecurity.sophos.com/2023/01/31/github-code-signing-certificates-stolen-but-will-be-revoked-this-week/\" rel=\"nofollow noreferrer\">incidents</a> in which someone can steal keys and potentially release their own binaries with your signature on them.</p>\n"},{"tags":["java","hibernate","quarkus","hibernate-validator"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":1,"creation_date":1678094130,"post_id":75644812,"comment_id":133460012,"body_markdown":"If you have this problem in the context of Quarkus, could you open a Quarkus issue here: https://github.com/quarkusio/quarkus/issues with a small Maven reproducer? I will have a look. Thanks!","body":"If you have this problem in the context of Quarkus, could you open a Quarkus issue here: <a href=\"https://github.com/quarkusio/quarkus/issues\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues</a> with a small Maven reproducer? I will have a look. Thanks!"},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1678107217,"post_id":75644812,"comment_id":133463500,"body_markdown":"@GuillaumeSmet Thanks for your response! I did not think about that this could be a quarkus related issue, but i will try to get to it ASAP! Much appreciated.","body":"@GuillaumeSmet Thanks for your response! I did not think about that this could be a quarkus related issue, but i will try to get to it ASAP! Much appreciated."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678044551,"creation_date":1678044551,"question_id":75644812,"body_markdown":"I am using Hibernate validator in a Quarkus REST API project to validate entities with annotated properties after being parsed from JSON in my endpoints. Throughout the development, i came to expect that Hibernate Validator throws ``ConstraintViolationException``s with a set of constraint violations resulting in responses in the following format:\r\n\r\n    {\r\n      &quot;title&quot;: &quot;Constraint Violation&quot;,\r\n      &quot;status&quot;: 400,\r\n      &quot;violations&quot;: [\r\n        {\r\n          &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\r\n          &quot;message&quot;: &quot;Source database table name may not be blank&quot;\r\n        },\r\n        {\r\n          &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\r\n          &quot;message&quot;: &quot;Source database table name should have size [1,256]&quot;\r\n        },\r\n        {\r\n          &quot;field&quot;: &quot;createJob.arg0.sourceDatabaseURL&quot;,\r\n          &quot;message&quot;: &quot;Source database URL should have size [1,256]&quot;\r\n        }\r\n      ]\r\n\r\n}\r\n\r\nThis example is for a the ``JobRequest`` entity with only simple data types or not having other entities nested yet. This works well and my frontend client has been programmed accordingly to expect such a response format for **HTTP 400 Bad Request** responses. However, i now have the case where i need to add another entity called ``Settings`` (with its own validation annotations etc.) as a nested property to ``JobRequest``. Example:\r\n\r\n    @GroupSequenceProvider(JobRequestSequenceProvider.class)\r\n    public class JobRequest {\r\n        @Transient\r\n        private Optional&lt;Boolean&gt; useLocalSourceDatabase;\r\n        @Size(min = 1, max = 256, message = &quot;Source database URL should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\r\n        @URL(message = &quot;Source database connection has to be a valid URL&quot;, groups = SourceConditionalValidation.class)\r\n        private String sourceDatabaseURL;\r\n        @Size(min = 1, max = 256, message = &quot;Source database table name should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\r\n        @NotBlank(message = &quot;Source database table name may not be blank&quot;, groups = SourceConditionalValidation.class)\r\n        private String sourceTableName;\r\n    \r\n        @Transient\r\n        private Optional&lt;Boolean&gt; useLocalTargetDatabase;\r\n        @Size(min = 1, max = 256, message = &quot;Target database URL should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\r\n        @URL(message = &quot;Target database connection has to be a valid URL&quot;, groups = TargetConditionalValidation.class)\r\n        private String targetDatabaseURL;\r\n        @Size(min = 1, max = 256, message = &quot;Target database table name should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\r\n        @NotBlank(message = &quot;Target database table name may not be blank&quot;, groups = TargetConditionalValidation.class)\r\n        private String targetTableName;\r\n    \r\n        // Here i add settings as a nested property and force validation of it\r\n        @Valid\r\n        private Settings settings;\r\n\r\n        // get/set...\r\n    }\r\n\r\n*(JobRequest + Settings entity as a nested property)*\r\n\r\nI was expecting the same response format in cases of constraint violations of either the top level entity ``JobRequest`` or nested entity ``Settings``, however the response format i receive for constraint violations in the nested ``Settings`` entity look like this:\r\n\r\n    {\r\n      &quot;objectName&quot;: &quot;JobRequest&quot;,\r\n      &quot;attributeName&quot;: &quot;settings.requestDelayInMiliseconds&quot;,\r\n      &quot;line&quot;: 1,\r\n      &quot;column&quot;: 470,\r\n      &quot;value&quot;: &quot;fsdf&quot;\r\n    }\r\n\r\nNot only does it have a different schema, but it is also inadequate as it always just returns ONE violation and not multiple if thats the case for the ``Settings`` entity. In fact, it even overrides the constraint violations in the parent entity (``JobRequest``) for the response. \r\n\r\nWhat is going on here? **How can i get Hibernate Validator to perform the same type of validation (with according exceptions and ultimately error responses) for entites with nested entities?**\r\n\r\n----------\r\n\r\n\r\nHere is the ``Settings`` entity for reference (for which validation by itself works perfectly fine as expected with ``ConstraintViolationException``s - this strange behaviour only occurs for when entities get nested):\r\n\r\n    @Entity\r\n    @Table(name = &quot;settings&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = {&quot;is_default&quot;}) })\r\n    public class Settings extends BaseEntity {\r\n        @NotNull\r\n        @Digits(fraction = 0, integer = 5)\r\n        @Min(value = 1)\r\n        @Column(name = &quot;request_limit_before_delay&quot;, nullable = false)\r\n        private int requestLimitBeforeDelay = 0;\r\n        \r\n        @NotNull\r\n        @Digits(fraction = 0, integer = 5)\r\n        @Min(value = 1, message = ERROR_MESSAGE)\r\n        @Column(name = &quot;request_delay_in_miliseconds&quot;, nullable = false)\r\n        private int requestDelayInMiliseconds = 0;\r\n    \r\n        @Column(name = &quot;is_default&quot;, nullable = false)\r\n        @JsonIgnore\r\n        private Boolean isDefault = null;\r\n        // get/set...\r\n    }","title":"Hibernate validator produces different response for nested validation objects","body":"<p>I am using Hibernate validator in a Quarkus REST API project to validate entities with annotated properties after being parsed from JSON in my endpoints. Throughout the development, i came to expect that Hibernate Validator throws <code>ConstraintViolationException</code>s with a set of constraint violations resulting in responses in the following format:</p>\n<pre><code>{\n  &quot;title&quot;: &quot;Constraint Violation&quot;,\n  &quot;status&quot;: 400,\n  &quot;violations&quot;: [\n    {\n      &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\n      &quot;message&quot;: &quot;Source database table name may not be blank&quot;\n    },\n    {\n      &quot;field&quot;: &quot;createJob.arg0.sourceTableName&quot;,\n      &quot;message&quot;: &quot;Source database table name should have size [1,256]&quot;\n    },\n    {\n      &quot;field&quot;: &quot;createJob.arg0.sourceDatabaseURL&quot;,\n      &quot;message&quot;: &quot;Source database URL should have size [1,256]&quot;\n    }\n  ]\n</code></pre>\n<p>}</p>\n<p>This example is for a the <code>JobRequest</code> entity with only simple data types or not having other entities nested yet. This works well and my frontend client has been programmed accordingly to expect such a response format for <strong>HTTP 400 Bad Request</strong> responses. However, i now have the case where i need to add another entity called <code>Settings</code> (with its own validation annotations etc.) as a nested property to <code>JobRequest</code>. Example:</p>\n<pre><code>@GroupSequenceProvider(JobRequestSequenceProvider.class)\npublic class JobRequest {\n    @Transient\n    private Optional&lt;Boolean&gt; useLocalSourceDatabase;\n    @Size(min = 1, max = 256, message = &quot;Source database URL should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\n    @URL(message = &quot;Source database connection has to be a valid URL&quot;, groups = SourceConditionalValidation.class)\n    private String sourceDatabaseURL;\n    @Size(min = 1, max = 256, message = &quot;Source database table name should have size [{min},{max}]&quot;, groups = SourceConditionalValidation.class)\n    @NotBlank(message = &quot;Source database table name may not be blank&quot;, groups = SourceConditionalValidation.class)\n    private String sourceTableName;\n\n    @Transient\n    private Optional&lt;Boolean&gt; useLocalTargetDatabase;\n    @Size(min = 1, max = 256, message = &quot;Target database URL should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\n    @URL(message = &quot;Target database connection has to be a valid URL&quot;, groups = TargetConditionalValidation.class)\n    private String targetDatabaseURL;\n    @Size(min = 1, max = 256, message = &quot;Target database table name should have size [{min},{max}]&quot;, groups = TargetConditionalValidation.class)\n    @NotBlank(message = &quot;Target database table name may not be blank&quot;, groups = TargetConditionalValidation.class)\n    private String targetTableName;\n\n    // Here i add settings as a nested property and force validation of it\n    @Valid\n    private Settings settings;\n\n    // get/set...\n}\n</code></pre>\n<p><em>(JobRequest + Settings entity as a nested property)</em></p>\n<p>I was expecting the same response format in cases of constraint violations of either the top level entity <code>JobRequest</code> or nested entity <code>Settings</code>, however the response format i receive for constraint violations in the nested <code>Settings</code> entity look like this:</p>\n<pre><code>{\n  &quot;objectName&quot;: &quot;JobRequest&quot;,\n  &quot;attributeName&quot;: &quot;settings.requestDelayInMiliseconds&quot;,\n  &quot;line&quot;: 1,\n  &quot;column&quot;: 470,\n  &quot;value&quot;: &quot;fsdf&quot;\n}\n</code></pre>\n<p>Not only does it have a different schema, but it is also inadequate as it always just returns ONE violation and not multiple if thats the case for the <code>Settings</code> entity. In fact, it even overrides the constraint violations in the parent entity (<code>JobRequest</code>) for the response.</p>\n<p>What is going on here? <strong>How can i get Hibernate Validator to perform the same type of validation (with according exceptions and ultimately error responses) for entites with nested entities?</strong></p>\n<hr />\n<p>Here is the <code>Settings</code> entity for reference (for which validation by itself works perfectly fine as expected with <code>ConstraintViolationException</code>s - this strange behaviour only occurs for when entities get nested):</p>\n<pre><code>@Entity\n@Table(name = &quot;settings&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = {&quot;is_default&quot;}) })\npublic class Settings extends BaseEntity {\n    @NotNull\n    @Digits(fraction = 0, integer = 5)\n    @Min(value = 1)\n    @Column(name = &quot;request_limit_before_delay&quot;, nullable = false)\n    private int requestLimitBeforeDelay = 0;\n    \n    @NotNull\n    @Digits(fraction = 0, integer = 5)\n    @Min(value = 1, message = ERROR_MESSAGE)\n    @Column(name = &quot;request_delay_in_miliseconds&quot;, nullable = false)\n    private int requestDelayInMiliseconds = 0;\n\n    @Column(name = &quot;is_default&quot;, nullable = false)\n    @JsonIgnore\n    private Boolean isDefault = null;\n    // get/set...\n}\n</code></pre>\n"},{"tags":["java","formatter"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678046932,"post_id":75644531,"comment_id":133453127,"body_markdown":"the `Formatter` syntax is well documented (IMHO) [here](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Formatter.html#syntax)","body":"the <code>Formatter</code> syntax is well documented (IMHO) <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678043435,"post_id":75644582,"comment_id":133452361,"body_markdown":"Nitpicking, that should probably be `%07.2f` for `0005.23`. Total width 7, 2 decimals and 1 postion for the dot (at least in US locale) leaves 4 digits before the dot.","body":"Nitpicking, that should probably be <code>%07.2f</code> for <code>0005.23</code>. Total width 7, 2 decimals and 1 postion for the dot (at least in US locale) leaves 4 digits before the dot."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678047525,"post_id":75644582,"comment_id":133453229,"body_markdown":"also account that one digit position will be used for the sign if the number is negative (e.g. with `%07.2f`: `-005.23` - `7` is the whole length)","body":"also account that one digit position will be used for the sign if the number is negative (e.g. with <code>%07.2f</code>: <code>-005.23</code> - <code>7</code> is the whole length)"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678042244,"creation_date":1678042244,"answer_id":75644582,"question_id":75644531,"body_markdown":"Yes, by combining the 2: `%08.2f`","title":"Is there a way to specify the number of digits after AND before the decimal point in the Java Formatter","body":"<p>Yes, by combining the 2: <code>%08.2f</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678044167,"creation_date":1678044167,"answer_id":75644777,"question_id":75644531,"body_markdown":"The trick is in what that `%` stuff means. The format is:\r\n\r\n`%1[MODS]x` where the &#39;1&#39; can be any sequence of digits, you don&#39;t have to put it there (just `%f` is legal too), and specifies the intended length __of the entire element__, it&#39;s not specific to what kind of thing you&#39;re formatting. Then the letter identifies the thing you want to do (i.e. `x` for hexadecimal, `d` for a number, `f` for a floating point number, `s` for a string, and so on), and in between the digits for &#39;total length of the entire element&#39; and the letter you can put modifiers; the meaning of them and what you can do there depends on the letter chosen. But they all support that length thing, and all in the same way (length of _the entire element_).\r\n\r\nThus, you combine them (`%7.2f` for example), but know that the `7` would refer to the length of _the entire element_, not &#39;the digits before the decimal point&#39;.\r\n\r\nThus, if you want 5 digits, then the decimal point, then 2 digits, that&#39;s 8 total (5+2, and the decimal point, makes 8), thus:\r\n\r\n```\r\nSystem.out.printf(&quot;%8.2f\\n&quot;, 15.2555);\r\n```\r\n\r\nEnds up printing 8 symbols total: 3 spaces, then &#39;1&#39;, &#39;5&#39;, a decimal point symbol, &#39;2&#39;, and &#39;6&#39;.\r\n","title":"Is there a way to specify the number of digits after AND before the decimal point in the Java Formatter","body":"<p>The trick is in what that <code>%</code> stuff means. The format is:</p>\n<p><code>%1[MODS]x</code> where the '1' can be any sequence of digits, you don't have to put it there (just <code>%f</code> is legal too), and specifies the intended length <strong>of the entire element</strong>, it's not specific to what kind of thing you're formatting. Then the letter identifies the thing you want to do (i.e. <code>x</code> for hexadecimal, <code>d</code> for a number, <code>f</code> for a floating point number, <code>s</code> for a string, and so on), and in between the digits for 'total length of the entire element' and the letter you can put modifiers; the meaning of them and what you can do there depends on the letter chosen. But they all support that length thing, and all in the same way (length of <em>the entire element</em>).</p>\n<p>Thus, you combine them (<code>%7.2f</code> for example), but know that the <code>7</code> would refer to the length of <em>the entire element</em>, not 'the digits before the decimal point'.</p>\n<p>Thus, if you want 5 digits, then the decimal point, then 2 digits, that's 8 total (5+2, and the decimal point, makes 8), thus:</p>\n<pre><code>System.out.printf(&quot;%8.2f\\n&quot;, 15.2555);\n</code></pre>\n<p>Ends up printing 8 symbols total: 3 spaces, then '1', '5', a decimal point symbol, '2', and '6'.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678069285,"accepted_answer_id":75644777,"answer_count":2,"score":0,"last_activity_date":1678044167,"creation_date":1678041775,"question_id":75644531,"body_markdown":"I am able to specify the number of digits for an int, with for example:\r\n\r\n    String result = String.format(java.util.Locale.US, &quot;%08d&quot;, 5555); // result is &quot;00005555&quot;\r\n\r\nOr the number of digits after the decimal point for a float, with for example:\r\n\r\n    String result = String.format(java.util.Locale.US, &quot;%.2f&quot;, 5.2345); // result is &quot;5.23&quot;\r\n\r\nIs it possible using the Java `Formatter` (used internally by the String class), to both specify the number of digits before AND after the decimal point?\r\n\r\nI would like to be able to specify something like that for example:\r\n\r\n    String result = String.format(java.util.Locale.US, &lt;the format&gt;, 5.2345); // result would be &quot;0005.23&quot;","title":"Is there a way to specify the number of digits after AND before the decimal point in the Java Formatter","body":"<p>I am able to specify the number of digits for an int, with for example:</p>\n<pre><code>String result = String.format(java.util.Locale.US, &quot;%08d&quot;, 5555); // result is &quot;00005555&quot;\n</code></pre>\n<p>Or the number of digits after the decimal point for a float, with for example:</p>\n<pre><code>String result = String.format(java.util.Locale.US, &quot;%.2f&quot;, 5.2345); // result is &quot;5.23&quot;\n</code></pre>\n<p>Is it possible using the Java <code>Formatter</code> (used internally by the String class), to both specify the number of digits before AND after the decimal point?</p>\n<p>I would like to be able to specify something like that for example:</p>\n<pre><code>String result = String.format(java.util.Locale.US, &lt;the format&gt;, 5.2345); // result would be &quot;0005.23&quot;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9625,"page":600,"page_size":100}
