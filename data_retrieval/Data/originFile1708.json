{"items":[{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1641379331,"post_id":70591343,"comment_id":124787636,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641379916,"post_id":70591343,"comment_id":124787909,"body_markdown":"Sir I m doing that but it is saying &quot;It looks like your post is mostly code; please add some more details.&quot;  while I have remove unnecessary code","body":"Sir I m doing that but it is saying &quot;It looks like your post is mostly code; please add some more details.&quot;  while I have remove unnecessary code"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641380300,"post_id":70591343,"comment_id":124788058,"body_markdown":"Then try to add some explications to that code.","body":"Then try to add some explications to that code."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641381515,"post_id":70591343,"comment_id":124788543,"body_markdown":"Pleasee Check Sir","body":"Pleasee Check Sir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641385236,"post_id":70591343,"comment_id":124789918,"body_markdown":"Please also add the content of your `Message` class.","body":"Please also add the content of your <code>Message</code> class."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641386165,"post_id":70591343,"comment_id":124790267,"body_markdown":"Done Sir Please Check","body":"Done Sir Please Check"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641389035,"post_id":70591343,"comment_id":124791393,"body_markdown":"At which particular line of code are you getting the error?","body":"At which particular line of code are you getting the error?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641396805,"creation_date":1641396805,"answer_id":70595524,"question_id":70591343,"body_markdown":"The problem is in the second room in the JSON you shared:\r\n```\r\n&quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L27JyFKNV0k6e4cwM8zNOb1coANfg1&quot; : {\r\n  &quot;messages&quot; : {\r\n    &quot;-MsW6Lem6hq_hxZjeOQA&quot; : {\r\n      &quot;feeling&quot; : 0,\r\n      &quot;message&quot; : &quot;helloo&quot;,\r\n      &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n      &quot;timeStamp&quot; : 1641233081867\r\n    },\r\n    &quot;feeling&quot; : 0,\r\n    &quot;message&quot; : &quot;hi&quot;,\r\n    &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n    &quot;timeStamp&quot; : 1641231670227\r\n  }\r\n},\r\n```\r\n\r\nHere you first have a message with key `-MsW6Lem6hq_hxZjeOQA` that looks fine, but then you have the properties of another message right under the `messages` node, so without a parent key. \r\n\r\nSo in your `onDataChange` when you loop over the results with `DataSnapshot snapshot1: snapshot.getChildren()`, you first get the `-MsW6Lem6hq_hxZjeOQA` node and that goes fine. But next `snapshot1` becomes `&quot;feeling&quot; : 0` and when you then call `snapshot1.getValue(Message.class)` that throws the error.\r\n\r\nThe solution is ensure your message properties are always stored under a push key. I recommend enforcing that in [security rules](https://firebase.google.com/docs/database/security/rules-conditions#validaterules).","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.Long to type com.example.whatsappback.Models.Message","body":"<p>The problem is in the second room in the JSON you shared:</p>\n<pre><code>&quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L27JyFKNV0k6e4cwM8zNOb1coANfg1&quot; : {\n  &quot;messages&quot; : {\n    &quot;-MsW6Lem6hq_hxZjeOQA&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;helloo&quot;,\n      &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n      &quot;timeStamp&quot; : 1641233081867\n    },\n    &quot;feeling&quot; : 0,\n    &quot;message&quot; : &quot;hi&quot;,\n    &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n    &quot;timeStamp&quot; : 1641231670227\n  }\n},\n</code></pre>\n<p>Here you first have a message with key <code>-MsW6Lem6hq_hxZjeOQA</code> that looks fine, but then you have the properties of another message right under the <code>messages</code> node, so without a parent key.</p>\n<p>So in your <code>onDataChange</code> when you loop over the results with <code>DataSnapshot snapshot1: snapshot.getChildren()</code>, you first get the <code>-MsW6Lem6hq_hxZjeOQA</code> node and that goes fine. But next <code>snapshot1</code> becomes <code>&quot;feeling&quot; : 0</code> and when you then call <code>snapshot1.getValue(Message.class)</code> that throws the error.</p>\n<p>The solution is ensure your message properties are always stored under a push key. I recommend enforcing that in <a href=\"https://firebase.google.com/docs/database/security/rules-conditions#validaterules\" rel=\"nofollow noreferrer\">security rules</a>.</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70595524,"answer_count":1,"score":1,"last_activity_date":1641396805,"creation_date":1641378518,"question_id":70591343,"body_markdown":"I am getting this Error, **App is crashing every time when I try to send messages**\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.Long to type com.example.whatsappback.Models.Message\r\n&gt;\r\n&gt;\r\n&gt;at com.example.whatsappback.Activities.ChatActivity$1.onDataChange(ChatActivity.java:63)\r\n\r\nWhich is:\r\n``` \r\nMessage message = snapshot1.getValue(Message.class);\r\n```\r\n\r\n**This is My ChatActivity**\r\nHere I am getting the Error \r\n\r\n    public class ChatActivity extends AppCompatActivity {\r\n\r\n    ActivityChatBinding binding;\r\n    MessagesAdapter adapter;\r\n    ArrayList&lt;Message&gt;messages;\r\n    FirebaseDatabase database;\r\n\r\n    String senderRoom, receiverRoom;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityChatBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        messages = new ArrayList&lt;&gt;();\r\n        adapter = new MessagesAdapter(this, messages);\r\n\r\n        binding.recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        binding.recyclerView.setAdapter(adapter);\r\n\r\n        String name = getIntent().getStringExtra(&quot;name&quot;);\r\n        String receiverUid = getIntent().getStringExtra(&quot;uid&quot;);\r\n        String senderUid = FirebaseAuth.getInstance().getUid();\r\n\r\n\r\n        senderRoom = senderUid+receiverUid;\r\n        receiverRoom = receiverUid+senderUid;\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n\r\n\r\n        database.getReference().child(&quot;chats&quot;)\r\n                .child(senderRoom)\r\n                .child(&quot;messages&quot;)\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    messages.clear();\r\n                    for (DataSnapshot snapshot1: snapshot.getChildren())\r\n                    {\r\n                        Message message = snapshot1.getValue(Message.class);\r\n                        messages.add(message);\r\n\r\n                    }\r\n                    adapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n        binding.sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String messageTxt = binding.messageBox.getText().toString();\r\n                Date date = new Date();\r\n                Message message = new Message(messageTxt, senderUid, date.getTime());\r\n                binding.messageBox.setText(&quot;&quot;);\r\n\r\n\r\n                database.getReference().child(&quot;chats&quot;)\r\n                        .child(senderRoom)\r\n                        .child(&quot;messages&quot;)\r\n                        .push()\r\n                        .setValue(message).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        database.getReference().child(&quot;chats&quot;)\r\n                                .child(receiverRoom)\r\n                                .child(&quot;messages&quot;)\r\n                                .push()\r\n                                .setValue(message).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void unused) {\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n   \r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        finish();\r\n        return super.onSupportNavigateUp();\r\n    }}\r\n\r\n\r\n**This is The Model Class Message.java**\r\n\r\n    public class Message {\r\n\r\n    private String messageId, message, senderId;\r\n    private long timeStamp;\r\n    private int feeling;\r\n\r\n    public Message() {\r\n    }\r\n\r\n    public Message(String message, String senderId, long timeStamp) {\r\n        this.message = message;\r\n        this.senderId = senderId;\r\n        this.timeStamp = timeStamp;\r\n    }\r\n\r\n    public String getMessageId() {\r\n        return messageId;\r\n    }\r\n\r\n    public void setMessageId(String messageId) {\r\n        this.messageId = messageId;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public String getSenderId() {\r\n        return senderId;\r\n    }\r\n\r\n    public void setSenderId(String senderId) {\r\n        this.senderId = senderId;\r\n    }\r\n\r\n    public long getTimeStamp() {\r\n        return timeStamp;\r\n    }\r\n\r\n    public void setTimeStamp(long timeStamp) {\r\n        this.timeStamp = timeStamp;\r\n    }\r\n\r\n    public int getFeeling() {\r\n        return feeling;\r\n    }\r\n\r\n    public void setFeeling(int feeling) {\r\n        this.feeling = feeling;\r\n    }\r\n}\r\n\r\n\r\n**My JSON FILE** where I the first one is Chats Database and Second One is Users who login in the App\r\n\r\n    {&quot;chats&quot; : {\r\n    &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L23GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\r\n      &quot;messages&quot; : {\r\n        &quot;-MsW3CCOLw1CRDYWahl4&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;hi&quot;,\r\n          &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;,\r\n          &quot;timeStamp&quot; : 1641232243332\r\n        },\r\n        &quot;-MsYWOVMOe17EMptWwlS&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;hhhhh&quot;,\r\n          &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\r\n        }}},\r\n    &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L27JyFKNV0k6e4cwM8zNOb1coANfg1&quot; : {\r\n      &quot;messages&quot; : {\r\n        &quot;-MsW6Lem6hq_hxZjeOQA&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;helloo&quot;,\r\n          &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n          &quot;timeStamp&quot; : 1641233081867\r\n        },\r\n        &quot;feeling&quot; : 0,\r\n        &quot;message&quot; : &quot;hi&quot;,\r\n        &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n        &quot;timeStamp&quot; : 1641231670227\r\n      }\r\n    },\r\n    &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2AYha5pt6tGgzPa0e4WJLr8wSakk2&quot; : {\r\n      &quot;messages&quot; : {\r\n        &quot;-MsYtwRyavktJc8hwonR&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;&quot;,\r\n          &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\r\n        },\r\n        &quot;-MsYtwwvlBe0Ocdvlggu&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;&quot;,\r\n          &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\r\n        },\r\n      }\r\n    },\r\n    &quot;7JyFKNV0k6e4cwM8zNOb1coANfg13GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\r\n      &quot;messages&quot; : {\r\n        &quot;-MsW6L_AmpIryN0DBjyt&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;helloo&quot;,\r\n          &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n          &quot;timeStamp&quot; : 1641233081867\r\n        },\r\n        &quot;-MsW8eU0KN4Ge8bC1ktq&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;hi&quot;,\r\n          &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n          &quot;timeStamp&quot; : 1641233687661\r\n        },\r\n        &quot;feeling&quot; : 0,\r\n        &quot;message&quot; : &quot;hi&quot;,\r\n        &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\r\n        &quot;timeStamp&quot; : 1641231670227\r\n      }\r\n    },\r\n    &quot;AYha5pt6tGgzPa0e4WJLr8wSakk23GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\r\n      &quot;messages&quot; : {\r\n        &quot;-MsYtw_o0dnh8meRwdI9&quot; : {\r\n          &quot;feeling&quot; : 0,\r\n          &quot;message&quot; : &quot;&quot;,\r\n          &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\r\n        },\r\n      }\r\n    }\r\n\r\nThis one is Users DataBase\r\n\r\n    &quot;users&quot; : {\r\n    &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\r\n      &quot;name&quot; : &quot;Om Swami&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919887012345&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-back.appspot.com/o/Profiles%2F3GJBWzyjbVfAJQkhMIFzrr2KG2L2?alt=media&amp;token=be73d814-99cf-4fb4-8d9c-78aa1144a8e7&quot;,\r\n      &quot;uid&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\r\n    },\r\n    &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot; : {\r\n      &quot;name&quot; : &quot;Prinshu❣️&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+9197864110&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-back.appspot.com/o/Profiles%2F7JyFKNV0k6e4cwM8zNOb1coANfg1?alt=media&amp;token=2fb22085-3644-4703-b782-f3500dcce2b1&quot;,\r\n      &quot;uid&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;\r\n    },\r\n    &quot;AYha5pt6tGgzPa0e4WJLr8wSakk2&quot; : {\r\n      &quot;name&quot; : &quot;Ishmita Om&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+91988782409&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-back.appspot.com/o/Profiles%2FAYha5pt6tGgzPa0e4WJLr8wSakk2?alt=media&amp;token=63ff351c-f2d0-485f-9dfa-e396e94ebbc7&quot;,\r\n      &quot;uid&quot; : &quot;AYha5pt6tGgzPa0e4WJLr8wSakk2&quot;\r\n    }\r\n  }\r\n}","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.Long to type com.example.whatsappback.Models.Message","body":"<p>I am getting this Error, <strong>App is crashing every time when I try to send messages</strong></p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.Long to type com.example.whatsappback.Models.Message</p>\n<p>at com.example.whatsappback.Activities.ChatActivity$1.onDataChange(ChatActivity.java:63)</p>\n</blockquote>\n<p>Which is:</p>\n<pre><code>Message message = snapshot1.getValue(Message.class);\n</code></pre>\n<p><strong>This is My ChatActivity</strong>\nHere I am getting the Error</p>\n<pre><code>public class ChatActivity extends AppCompatActivity {\n\nActivityChatBinding binding;\nMessagesAdapter adapter;\nArrayList&lt;Message&gt;messages;\nFirebaseDatabase database;\n\nString senderRoom, receiverRoom;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    binding = ActivityChatBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    messages = new ArrayList&lt;&gt;();\n    adapter = new MessagesAdapter(this, messages);\n\n    binding.recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    binding.recyclerView.setAdapter(adapter);\n\n    String name = getIntent().getStringExtra(&quot;name&quot;);\n    String receiverUid = getIntent().getStringExtra(&quot;uid&quot;);\n    String senderUid = FirebaseAuth.getInstance().getUid();\n\n\n    senderRoom = senderUid+receiverUid;\n    receiverRoom = receiverUid+senderUid;\n\n    database = FirebaseDatabase.getInstance();\n\n\n    database.getReference().child(&quot;chats&quot;)\n            .child(senderRoom)\n            .child(&quot;messages&quot;)\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                messages.clear();\n                for (DataSnapshot snapshot1: snapshot.getChildren())\n                {\n                    Message message = snapshot1.getValue(Message.class);\n                    messages.add(message);\n\n                }\n                adapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n\n    binding.sendBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String messageTxt = binding.messageBox.getText().toString();\n            Date date = new Date();\n            Message message = new Message(messageTxt, senderUid, date.getTime());\n            binding.messageBox.setText(&quot;&quot;);\n\n\n            database.getReference().child(&quot;chats&quot;)\n                    .child(senderRoom)\n                    .child(&quot;messages&quot;)\n                    .push()\n                    .setValue(message).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n                    database.getReference().child(&quot;chats&quot;)\n                            .child(receiverRoom)\n                            .child(&quot;messages&quot;)\n                            .push()\n                            .setValue(message).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n\n                        }\n                    });\n                }\n            });\n\n        }\n    });\n\n\n}\n\n@Override\npublic boolean onSupportNavigateUp() {\n    finish();\n    return super.onSupportNavigateUp();\n}}\n</code></pre>\n<p><strong>This is The Model Class Message.java</strong></p>\n<pre><code>public class Message {\n\nprivate String messageId, message, senderId;\nprivate long timeStamp;\nprivate int feeling;\n\npublic Message() {\n}\n\npublic Message(String message, String senderId, long timeStamp) {\n    this.message = message;\n    this.senderId = senderId;\n    this.timeStamp = timeStamp;\n}\n\npublic String getMessageId() {\n    return messageId;\n}\n\npublic void setMessageId(String messageId) {\n    this.messageId = messageId;\n}\n\npublic String getMessage() {\n    return message;\n}\n\npublic void setMessage(String message) {\n    this.message = message;\n}\n\npublic String getSenderId() {\n    return senderId;\n}\n\npublic void setSenderId(String senderId) {\n    this.senderId = senderId;\n}\n\npublic long getTimeStamp() {\n    return timeStamp;\n}\n\npublic void setTimeStamp(long timeStamp) {\n    this.timeStamp = timeStamp;\n}\n\npublic int getFeeling() {\n    return feeling;\n}\n\npublic void setFeeling(int feeling) {\n    this.feeling = feeling;\n}\n</code></pre>\n<p>}</p>\n<p><strong>My JSON FILE</strong> where I the first one is Chats Database and Second One is Users who login in the App</p>\n<pre><code>{&quot;chats&quot; : {\n&quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L23GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\n  &quot;messages&quot; : {\n    &quot;-MsW3CCOLw1CRDYWahl4&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;hi&quot;,\n      &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;,\n      &quot;timeStamp&quot; : 1641232243332\n    },\n    &quot;-MsYWOVMOe17EMptWwlS&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;hhhhh&quot;,\n      &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\n    }}},\n&quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L27JyFKNV0k6e4cwM8zNOb1coANfg1&quot; : {\n  &quot;messages&quot; : {\n    &quot;-MsW6Lem6hq_hxZjeOQA&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;helloo&quot;,\n      &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n      &quot;timeStamp&quot; : 1641233081867\n    },\n    &quot;feeling&quot; : 0,\n    &quot;message&quot; : &quot;hi&quot;,\n    &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n    &quot;timeStamp&quot; : 1641231670227\n  }\n},\n&quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2AYha5pt6tGgzPa0e4WJLr8wSakk2&quot; : {\n  &quot;messages&quot; : {\n    &quot;-MsYtwRyavktJc8hwonR&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;&quot;,\n      &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\n    },\n    &quot;-MsYtwwvlBe0Ocdvlggu&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;&quot;,\n      &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\n    },\n  }\n},\n&quot;7JyFKNV0k6e4cwM8zNOb1coANfg13GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\n  &quot;messages&quot; : {\n    &quot;-MsW6L_AmpIryN0DBjyt&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;helloo&quot;,\n      &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n      &quot;timeStamp&quot; : 1641233081867\n    },\n    &quot;-MsW8eU0KN4Ge8bC1ktq&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;hi&quot;,\n      &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n      &quot;timeStamp&quot; : 1641233687661\n    },\n    &quot;feeling&quot; : 0,\n    &quot;message&quot; : &quot;hi&quot;,\n    &quot;senderId&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;,\n    &quot;timeStamp&quot; : 1641231670227\n  }\n},\n&quot;AYha5pt6tGgzPa0e4WJLr8wSakk23GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\n  &quot;messages&quot; : {\n    &quot;-MsYtw_o0dnh8meRwdI9&quot; : {\n      &quot;feeling&quot; : 0,\n      &quot;message&quot; : &quot;&quot;,\n      &quot;senderId&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\n    },\n  }\n}\n</code></pre>\n<p>This one is Users DataBase</p>\n<pre><code>&quot;users&quot; : {\n&quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot; : {\n  &quot;name&quot; : &quot;Om Swami&quot;,\n  &quot;phoneNumber&quot; : &quot;+919887012345&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-back.appspot.com/o/Profiles%2F3GJBWzyjbVfAJQkhMIFzrr2KG2L2?alt=media&amp;token=be73d814-99cf-4fb4-8d9c-78aa1144a8e7&quot;,\n  &quot;uid&quot; : &quot;3GJBWzyjbVfAJQkhMIFzrr2KG2L2&quot;\n},\n&quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot; : {\n  &quot;name&quot; : &quot;Prinshu❣️&quot;,\n  &quot;phoneNumber&quot; : &quot;+9197864110&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-back.appspot.com/o/Profiles%2F7JyFKNV0k6e4cwM8zNOb1coANfg1?alt=media&amp;token=2fb22085-3644-4703-b782-f3500dcce2b1&quot;,\n  &quot;uid&quot; : &quot;7JyFKNV0k6e4cwM8zNOb1coANfg1&quot;\n},\n&quot;AYha5pt6tGgzPa0e4WJLr8wSakk2&quot; : {\n  &quot;name&quot; : &quot;Ishmita Om&quot;,\n  &quot;phoneNumber&quot; : &quot;+91988782409&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-back.appspot.com/o/Profiles%2FAYha5pt6tGgzPa0e4WJLr8wSakk2?alt=media&amp;token=63ff351c-f2d0-485f-9dfa-e396e94ebbc7&quot;,\n  &quot;uid&quot; : &quot;AYha5pt6tGgzPa0e4WJLr8wSakk2&quot;\n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","graphics","rendering"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1641396953,"post_id":70594489,"comment_id":124795012,"body_markdown":"*Is there a way to remove the rendering of the old positions of the object?* - you need to clear the background of your painting area. You don&#39;t show your painting code so we cant&#39; suggest exactly what you need to do. Check out: https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681. Change the number of balls from 5 to 100 to see if it does what you want.","body":"<i>Is there a way to remove the rendering of the old positions of the object?</i> - you need to clear the background of your painting area. You don&#39;t show your painting code so we cant&#39; suggest exactly what you need to do. Check out: <a href=\"https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681\" title=\"get width and height of jpanel outside of the class\">stackoverflow.com/questions/54028090/&hellip;</a>. Change the number of balls from 5 to 100 to see if it does what you want."},{"owner":{"account_id":23835757,"reputation":21,"user_id":17841504,"display_name":"Jill Jessurun"},"score":1,"creation_date":1641404889,"post_id":70594489,"comment_id":124798364,"body_markdown":"Ayy thanks @camickr. After a few hours i finally got it, my program was already quite big which made it a lot harder. I looked at the link you highlighted and used the override paintComponent which (after changing my whole code completely) worked haha.","body":"Ayy thanks @camickr. After a few hours i finally got it, my program was already quite big which made it a lot harder. I looked at the link you highlighted and used the override paintComponent which (after changing my whole code completely) worked haha."}],"owner":{"account_id":23835757,"reputation":21,"user_id":17841504,"display_name":"Jill Jessurun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641396717,"creation_date":1641392558,"question_id":70594489,"body_markdown":"I built a small game in java in which i use a game loop. I add gameobjects which i render using render() and tick() methods. However, now the program gets bigger i encounterted a problem.\r\nHow do you solve that when i use velocity to move a picture, the object keeps rendering on old positions? For small programs this aint a problem, but when you get like 100 objects in the screen the FPS keeps dropping to the point the program doesnt work properly anymore. This is just because there are so many objects to render. Is there a way to remove the rendering of the old positions of the object? Here below is some code i have written. \r\n\r\nThe game loop i used:\r\n\r\n    public void run() {\r\n        this.requestFocus();\r\n        long lastTime = System.nanoTime();\r\n        double amountOfTicks = 60.0;\r\n        double ns = 1000000000 / amountOfTicks;\r\n        double delta = 0;\r\n        long timer = System.currentTimeMillis();\r\n        int frames = 0;\r\n        while (running) {\r\n            long now = System.nanoTime();\r\n            delta += (now - lastTime) / ns;\r\n            lastTime = now;\r\n            while (delta &gt;= 1) {\r\n                tick();\r\n                delta--;\r\n            }\r\n            if (running) {\r\n                try {\r\n                    render();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } catch (FontFormatException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            frames++;\r\n\r\n            if (System.currentTimeMillis() - timer &gt; 1000) {\r\n                timer += 1000;\r\n                System.out.println(&quot;FPS: &quot; + frames);\r\n                frames = 0;\r\n            }\r\n        }\r\n        stop();\r\n    }\r\n\r\n\r\nI used the Graphics class in Java to draw the images/strings/rectangles/etc. on the JFrame.  \r\n\r\nHere below is a picture of the problem. You can see that the object began all the way to the right. I changed the x-axis every tick of the game loop which made the object go to the left. Unfortunately, the object leaves a trace behind it and keeps rendering that, while i want it to only render the newest position.\r\n\r\nObject rendering problem picture:\r\n\r\n[![https://i.stack.imgur.com/iUPH2.png][1]][1]\r\n\r\nHow can i solve this? Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iUPH2.png","title":"How to stop rendering old positions when moving a picture in Java?","body":"<p>I built a small game in java in which i use a game loop. I add gameobjects which i render using render() and tick() methods. However, now the program gets bigger i encounterted a problem.\nHow do you solve that when i use velocity to move a picture, the object keeps rendering on old positions? For small programs this aint a problem, but when you get like 100 objects in the screen the FPS keeps dropping to the point the program doesnt work properly anymore. This is just because there are so many objects to render. Is there a way to remove the rendering of the old positions of the object? Here below is some code i have written.</p>\n<p>The game loop i used:</p>\n<pre><code>public void run() {\n    this.requestFocus();\n    long lastTime = System.nanoTime();\n    double amountOfTicks = 60.0;\n    double ns = 1000000000 / amountOfTicks;\n    double delta = 0;\n    long timer = System.currentTimeMillis();\n    int frames = 0;\n    while (running) {\n        long now = System.nanoTime();\n        delta += (now - lastTime) / ns;\n        lastTime = now;\n        while (delta &gt;= 1) {\n            tick();\n            delta--;\n        }\n        if (running) {\n            try {\n                render();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (FontFormatException e) {\n                e.printStackTrace();\n            }\n        }\n        frames++;\n\n        if (System.currentTimeMillis() - timer &gt; 1000) {\n            timer += 1000;\n            System.out.println(&quot;FPS: &quot; + frames);\n            frames = 0;\n        }\n    }\n    stop();\n}\n</code></pre>\n<p>I used the Graphics class in Java to draw the images/strings/rectangles/etc. on the JFrame.</p>\n<p>Here below is a picture of the problem. You can see that the object began all the way to the right. I changed the x-axis every tick of the game loop which made the object go to the left. Unfortunately, the object leaves a trace behind it and keeps rendering that, while i want it to only render the newest position.</p>\n<p>Object rendering problem picture:</p>\n<p><a href=\"https://i.stack.imgur.com/iUPH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iUPH2.png\" alt=\"https://i.stack.imgur.com/iUPH2.png\" /></a></p>\n<p>How can i solve this? Thanks in advance.</p>\n"},{"tags":["java","sql-server","hibernate","grails"],"comments":[{"owner":{"account_id":18111921,"reputation":1037,"user_id":13168911,"display_name":"Andrew Corrigan"},"score":0,"creation_date":1641396077,"post_id":70595292,"comment_id":124794592,"body_markdown":"Break it down into chunks of 500 or so?","body":"Break it down into chunks of 500 or so?"},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1641396341,"post_id":70595292,"comment_id":124794716,"body_markdown":"And how to do it?","body":"And how to do it?"},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1641396377,"post_id":70595292,"comment_id":124794734,"body_markdown":"final Set&lt;CatalogUser&gt; unavailableUsers = ctx.delegationService.getUnavailableUserVariants()\n\n    List&lt;Set&lt;CatalogUser&gt;&gt; output = new ArrayList&lt;&gt;()\n    Set&lt;CatalogUser&gt; currSet = null\n    for (CatalogUser value : unavailableUsers) {\n        if (currSet == null || currSet.size() == 1000)\n            output.add(currSet = new HashSet&lt;CatalogUser&gt;());\n        currSet.add(value);\n    }\n\n    output.each {it -&gt;\n        if (it) {\n            inList &#39;key&#39;, it*.key\n        }\n    }","body":"final Set&lt;CatalogUser&gt; unavailableUsers = ctx.delegationService.getUnavailableUserVariants()      List&lt;Set&lt;CatalogUser&gt;&gt; output = new ArrayList&lt;&gt;()     Set&lt;CatalogUser&gt; currSet = null     for (CatalogUser value : unavailableUsers) {         if (currSet == null || currSet.size() == 1000)             output.add(currSet = new HashSet&lt;CatalogUser&gt;());         currSet.add(value);     }      output.each {it -&gt;         if (it) {             inList &#39;key&#39;, it*.key         }     }"},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1641396399,"post_id":70595292,"comment_id":124794743,"body_markdown":"I try to do it, but it doesn&#39;t help","body":"I try to do it, but it doesn&#39;t help"},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":1,"creation_date":1641396515,"post_id":70595292,"comment_id":124794800,"body_markdown":"If you&#39;re using JDBC &gt;= 6 you can use [table-valued parameters](https://learn.microsoft.com/en-us/sql/connect/jdbc/using-table-valued-parameters), by far the most efficient way to pass a set to SQL Server. Failing that (or if your Hibernate thing can&#39;t support it) you can build a single CSV and parse it on the other side using `STRING_SPLIT()`. But that won&#39;t work well for 2500 values either.","body":"If you&#39;re using JDBC &gt;= 6 you can use <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-table-valued-parameters\" rel=\"nofollow noreferrer\">table-valued parameters</a>, by far the most efficient way to pass a set to SQL Server. Failing that (or if your Hibernate thing can&#39;t support it) you can build a single CSV and parse it on the other side using <code>STRING_SPLIT()</code>. But that won&#39;t work well for 2500 values either."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1641403403,"post_id":70595292,"comment_id":124797796,"body_markdown":"https://stackoverflow.com/a/64104377/6572971 have a look at it might help you.","body":"<a href=\"https://stackoverflow.com/a/64104377/6572971\">stackoverflow.com/a/64104377/6572971</a> have a look at it might help you."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1641427755,"post_id":70595292,"comment_id":124805252,"body_markdown":"&quot;Break it down into chunks of 500 or so?&quot; - @AndrewCorrigan I am not sure that will help. From the code in the question, I _think_ the issue is with the criteria, not the results.","body":"&quot;Break it down into chunks of 500 or so?&quot; - @AndrewCorrigan I am not sure that will help. From the code in the question, I <i>think</i> the issue is with the criteria, not the results."}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641396590,"creation_date":1641395886,"question_id":70595292,"body_markdown":"I use MSSQL witch has constaints. And I get error:\r\n\r\nClass\r\ncom.microsoft.sqlserver.jdbc.SQLServerException\r\nMessage\r\nThe incoming request has too many parameters. The server supports a maximum of 2100 parameters. Reduce the number of parameters and resend the request.\r\n \r\nIn this plase:\r\n\r\n    final Set&lt;User&gt; unavailableUsers = ctx.delegationService.getUnavailableUserVariants()\r\n        \r\n    if (unavailableUsers) {\r\n        inList &#39;key&#39;, unavailableUsers*.key\r\n    }\r\n\r\nunavailableUsers has many Users about 2500.\r\n\r\nHow to solve this problem?\r\n\r\nI try to do chunks of array\r\n\r\n    final Set&lt;User&gt; unavailableUsers = ctx.delegationService.getUnavailableUserVariants()\r\n    \r\n    List&lt;Set&lt;User&gt;&gt; output = new ArrayList&lt;&gt;()\r\n    Set&lt;User&gt; currSet = null\r\n    for (CatalogUser value : unavailableUsers) {\r\n        if (currSet == null || currSet.size() == 1000)\r\n            output.add(currSet = new HashSet&lt;User&gt;());\r\n        currSet.add(value);\r\n    }\r\n    \r\n    output.each {it -&gt;\r\n        if (it) {\r\n            inList &#39;key&#39;, it*.key\r\n        }\r\n    }\r\n\r\nBut it doesn&#39;t help","title":"The incoming request has too many parameters. The server supports a maximum of 2100 parameters in Grails","body":"<p>I use MSSQL witch has constaints. And I get error:</p>\n<p>Class\ncom.microsoft.sqlserver.jdbc.SQLServerException\nMessage\nThe incoming request has too many parameters. The server supports a maximum of 2100 parameters. Reduce the number of parameters and resend the request.</p>\n<p>In this plase:</p>\n<pre><code>final Set&lt;User&gt; unavailableUsers = ctx.delegationService.getUnavailableUserVariants()\n    \nif (unavailableUsers) {\n    inList 'key', unavailableUsers*.key\n}\n</code></pre>\n<p>unavailableUsers has many Users about 2500.</p>\n<p>How to solve this problem?</p>\n<p>I try to do chunks of array</p>\n<pre><code>final Set&lt;User&gt; unavailableUsers = ctx.delegationService.getUnavailableUserVariants()\n\nList&lt;Set&lt;User&gt;&gt; output = new ArrayList&lt;&gt;()\nSet&lt;User&gt; currSet = null\nfor (CatalogUser value : unavailableUsers) {\n    if (currSet == null || currSet.size() == 1000)\n        output.add(currSet = new HashSet&lt;User&gt;());\n    currSet.add(value);\n}\n\noutput.each {it -&gt;\n    if (it) {\n        inList 'key', it*.key\n    }\n}\n</code></pre>\n<p>But it doesn't help</p>\n"},{"tags":["java","mysql","kotlin","kotlin-exposed"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1555948050,"post_id":55797013,"comment_id":98263092,"body_markdown":"I&#39;ve never used exposed. But the message says: &quot;No transaction in context&quot;. And the call to firstOrNull(), which throws the exception, is *outside* of the transaction block. My logical deduction would be that it needs to be *inside* the transaction block.","body":"I&#39;ve never used exposed. But the message says: &quot;No transaction in context&quot;. And the call to firstOrNull(), which throws the exception, is <i>outside</i> of the transaction block. My logical deduction would be that it needs to be <i>inside</i> the transaction block."},{"owner":{"account_id":7796812,"reputation":6568,"user_id":5897602,"accept_rate":92,"display_name":"Jaquarh"},"score":0,"creation_date":1555948360,"post_id":55797013,"comment_id":98263238,"body_markdown":"That solved my issue! There documentation is so confusing sometimes. Thanks @JBNizet","body":"That solved my issue! There documentation is so confusing sometimes. Thanks @JBNizet"}],"answers":[{"tags":[],"owner":{"account_id":7796812,"reputation":6568,"user_id":5897602,"accept_rate":92,"display_name":"Jaquarh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641396336,"creation_date":1641396336,"answer_id":70595407,"question_id":55797013,"body_markdown":"For future viewers, this was resolved in the comments simply by moving the `firstOrNull()` inside the `transaction` blocks scope.\r\n\r\n    fun loadPlayer(client: Client): PlayerLoadResult {\r\n        var player = transaction {\r\n            PlayerModel.select {\r\n                PlayerModel.username eq client.loginUsername\r\n            }.firstOrNull() ?: return PlayerLoadResult.NEW_ACCOUNT\r\n        }\r\n    \r\n        // ...\r\n    \r\n        return PlayerLoadResult.LOAD_ACCOUNT\r\n    }","title":"JetBrains Exposed throwing an error when trying to access first row of select query","body":"<p>For future viewers, this was resolved in the comments simply by moving the <code>firstOrNull()</code> inside the <code>transaction</code> blocks scope.</p>\n<pre><code>fun loadPlayer(client: Client): PlayerLoadResult {\n    var player = transaction {\n        PlayerModel.select {\n            PlayerModel.username eq client.loginUsername\n        }.firstOrNull() ?: return PlayerLoadResult.NEW_ACCOUNT\n    }\n\n    // ...\n\n    return PlayerLoadResult.LOAD_ACCOUNT\n}\n</code></pre>\n"}],"owner":{"account_id":7796812,"reputation":6568,"user_id":5897602,"accept_rate":92,"display_name":"Jaquarh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4839,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70595407,"answer_count":1,"score":5,"last_activity_date":1641396336,"creation_date":1555947756,"question_id":55797013,"body_markdown":"When trying to fetch the first row from my `transaction`, I receive an error:\r\n\r\n&gt; java.lang.IllegalStateException: No transaction in context.\r\n\r\nMy code looks like this:\r\n\r\n    fun loadPlayer(client: Client): PlayerLoadResult {\r\n        var player = transaction {\r\n            PlayerModel.select {\r\n                PlayerModel.username eq client.loginUsername\r\n            }\r\n        }.firstOrNull() ?: return PlayerLoadResult.NEW_ACCOUNT\r\n\r\n        // ...\r\n\r\n        return PlayerLoadResult.LOAD_ACCOUNT\r\n    }\r\n\r\nMy `PlayerModel` looks like this:\r\n\r\n    object PlayerModel : Table(&quot;Players&quot;) {\r\n        val id = integer(&quot;id&quot;).autoIncrement().primaryKey()\r\n        val username = varchar(&quot;username&quot;, 60).uniqueIndex()\r\n        val displayName = varchar(&quot;display_name&quot;, 60).uniqueIndex()\r\n        val x = integer(&quot;position_x&quot;)\r\n        val height = integer(&quot;position_y&quot;)\r\n        val z = integer(&quot;position_z&quot;)\r\n        val privilege = integer(&quot;privilege&quot;).default(1)\r\n        val runEnergy = float(&quot;run_energy&quot;).default(100.toFloat())\r\n        val displayMode = integer(&quot;display_mode&quot;).default(0)\r\n        val hash = varchar(&quot;password_hash&quot;, 60)\r\n        val xteaKeyOne = integer(&quot;xtea_one&quot;)\r\n        val xteaKeyTwo = integer(&quot;xtea_two&quot;)\r\n        val xteaKeyThree = integer(&quot;xtea_three&quot;)\r\n        val xteaKeyFour = integer(&quot;xtea_four&quot;)\r\n    }\r\n\r\nMy full stack trace looks like this:\r\n\r\n    java.lang.IllegalStateException: No transaction in context.\r\n    \tat org.jetbrains.exposed.sql.transactions.TransactionManager$Companion.current(TransactionApi.kt:89) ~[exposed-0.13.6.jar:?]\r\n    \tat org.jetbrains.exposed.sql.Query.getTransaction(Query.kt:93) ~[exposed-0.13.6.jar:?]\r\n    \tat org.jetbrains.exposed.sql.Query.flushEntities(Query.kt:299) ~[exposed-0.13.6.jar:?]\r\n    \tat org.jetbrains.exposed.sql.Query.iterator(Query.kt:303) ~[exposed-0.13.6.jar:?]\r\n    \tat kotlin.collections.CollectionsKt___CollectionsKt.firstOrNull(_Collections.kt:219) ~[kotlin-stdlib-1.3.21.jar:1.3.21-release-158 (1.3.21)]\r\n    \tat gg.rsmod.plugins.service.sql.controllers.PlayerLoadController.loadPlayer(PlayerLoadController.kt:38) ~[plugins-0.0.4.jar:?]\r\n    \tat gg.rsmod.plugins.service.sql.SQLService.loadClientData(SQLService.kt:104) ~[plugins-0.0.4.jar:?]\r\n    \tat gg.rsmod.game.service.login.LoginWorker.run(LoginWorker.kt:28) [main/:?]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_211]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_211]\r\n    \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_211]\r\n\r\nWhat seems to be the issue with fetching the first row? This query should only return a single row, not multiple.","title":"JetBrains Exposed throwing an error when trying to access first row of select query","body":"<p>When trying to fetch the first row from my <code>transaction</code>, I receive an error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: No transaction in context.</p>\n</blockquote>\n\n<p>My code looks like this:</p>\n\n<pre><code>fun loadPlayer(client: Client): PlayerLoadResult {\n    var player = transaction {\n        PlayerModel.select {\n            PlayerModel.username eq client.loginUsername\n        }\n    }.firstOrNull() ?: return PlayerLoadResult.NEW_ACCOUNT\n\n    // ...\n\n    return PlayerLoadResult.LOAD_ACCOUNT\n}\n</code></pre>\n\n<p>My <code>PlayerModel</code> looks like this:</p>\n\n<pre><code>object PlayerModel : Table(\"Players\") {\n    val id = integer(\"id\").autoIncrement().primaryKey()\n    val username = varchar(\"username\", 60).uniqueIndex()\n    val displayName = varchar(\"display_name\", 60).uniqueIndex()\n    val x = integer(\"position_x\")\n    val height = integer(\"position_y\")\n    val z = integer(\"position_z\")\n    val privilege = integer(\"privilege\").default(1)\n    val runEnergy = float(\"run_energy\").default(100.toFloat())\n    val displayMode = integer(\"display_mode\").default(0)\n    val hash = varchar(\"password_hash\", 60)\n    val xteaKeyOne = integer(\"xtea_one\")\n    val xteaKeyTwo = integer(\"xtea_two\")\n    val xteaKeyThree = integer(\"xtea_three\")\n    val xteaKeyFour = integer(\"xtea_four\")\n}\n</code></pre>\n\n<p>My full stack trace looks like this:</p>\n\n<pre><code>java.lang.IllegalStateException: No transaction in context.\n    at org.jetbrains.exposed.sql.transactions.TransactionManager$Companion.current(TransactionApi.kt:89) ~[exposed-0.13.6.jar:?]\n    at org.jetbrains.exposed.sql.Query.getTransaction(Query.kt:93) ~[exposed-0.13.6.jar:?]\n    at org.jetbrains.exposed.sql.Query.flushEntities(Query.kt:299) ~[exposed-0.13.6.jar:?]\n    at org.jetbrains.exposed.sql.Query.iterator(Query.kt:303) ~[exposed-0.13.6.jar:?]\n    at kotlin.collections.CollectionsKt___CollectionsKt.firstOrNull(_Collections.kt:219) ~[kotlin-stdlib-1.3.21.jar:1.3.21-release-158 (1.3.21)]\n    at gg.rsmod.plugins.service.sql.controllers.PlayerLoadController.loadPlayer(PlayerLoadController.kt:38) ~[plugins-0.0.4.jar:?]\n    at gg.rsmod.plugins.service.sql.SQLService.loadClientData(SQLService.kt:104) ~[plugins-0.0.4.jar:?]\n    at gg.rsmod.game.service.login.LoginWorker.run(LoginWorker.kt:28) [main/:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_211]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_211]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_211]\n</code></pre>\n\n<p>What seems to be the issue with fetching the first row? This query should only return a single row, not multiple.</p>\n"},{"tags":["java","fork-join","forkjoinpool"],"comments":[{"owner":{"account_id":12278867,"reputation":803,"user_id":8961170,"display_name":"AlirezaAsadi"},"score":0,"creation_date":1641294598,"post_id":70577588,"comment_id":124762413,"body_markdown":"Did you try: `System.out.println(task.number);` ? After doing `ForkJoinPool fjp = new ForkJoinPool(); int n = 13; ForkJoinFibonacci task = new ForkJoinFibonacci(n); fjp.invoke(task);`","body":"Did you try: <code>System.out.println(task.number);</code> ? After doing <code>ForkJoinPool fjp = new ForkJoinPool(); int n = 13; ForkJoinFibonacci task = new ForkJoinFibonacci(n); fjp.invoke(task);</code>"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641396278,"creation_date":1641308588,"answer_id":70580833,"question_id":70577588,"body_markdown":"The summing is in the compute method.\r\n\r\nEach recursive action stores its own calculation in number. the compute method either finishes the calculation if it&#39;s small enough, storing it in the number field, or farms the work out to two more recursive actions, in which case it gets their results from their number field, sums them, and stores them in its own number field. the topmost recursive action exposes number through a getter.\r\n\r\nIt probably isn&#39;t clear how compute gets called on both f1 and f2. The documentation for invokeAll says each of the tasks gets forked, that puts them in the work queue for the current task, and they&#39;re eligible for stealing by other threads. The important thing is that both f1 and f2 get processed and have compute run on them before control returns from invokeAll. Each time compute is called it retrieves the number fields from the completed forked tasks, sums them, and stores the result in its own number field.\r\n\r\nOne more thing making this confusing to read is that it&#39;s using number to store 2 different things, the number identifying which fibonacci number we&#39;re trying to calculate and also the result of the calculation. \r\n\r\nThe posted code does look like it should work, but it does not make the best use of its threads. An alternative way to write this is to replace the invokeAll with\r\n\r\n    f1.fork();\r\n    f2.compute();\r\n    f1.join();\r\n\r\nThat way the current thread is directly computing one branch of the subproblem instead of forking both of them. \r\n\r\n","title":"How does RecursiveAction work with Fibonacci?","body":"<p>The summing is in the compute method.</p>\n<p>Each recursive action stores its own calculation in number. the compute method either finishes the calculation if it's small enough, storing it in the number field, or farms the work out to two more recursive actions, in which case it gets their results from their number field, sums them, and stores them in its own number field. the topmost recursive action exposes number through a getter.</p>\n<p>It probably isn't clear how compute gets called on both f1 and f2. The documentation for invokeAll says each of the tasks gets forked, that puts them in the work queue for the current task, and they're eligible for stealing by other threads. The important thing is that both f1 and f2 get processed and have compute run on them before control returns from invokeAll. Each time compute is called it retrieves the number fields from the completed forked tasks, sums them, and stores the result in its own number field.</p>\n<p>One more thing making this confusing to read is that it's using number to store 2 different things, the number identifying which fibonacci number we're trying to calculate and also the result of the calculation.</p>\n<p>The posted code does look like it should work, but it does not make the best use of its threads. An alternative way to write this is to replace the invokeAll with</p>\n<pre><code>f1.fork();\nf2.compute();\nf1.join();\n</code></pre>\n<p>That way the current thread is directly computing one branch of the subproblem instead of forking both of them.</p>\n"}],"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1641396278,"creation_date":1641293344,"question_id":70577588,"body_markdown":"How does recursion work in case of Fibonacci. The below example uses RecursiveAction which does not return any value. But still it is possible to calculate Fibonacci numbers. I mean for example in case of Fibonacci(15). The threshold in below example is 10. So Fibonacci(15) cannot be calculated directly. So 2 other tasks will be created . ForkJoinFibonacci(n - 1) and ForkJoinFibonacci(n - 2). So in the below example only the member variable &quot;number&quot; stores the calculated Fibonacci number. But it is never returned. Only stored locally in each ForkJoinFibonacci class.So how can all the calculated numbers be summed up ? \r\n\r\n    public class ForkJoinFibonacci extends RecursiveAction {\r\n        \r\n            private static final long threshold = 10;\r\n            private volatile long number;\r\n        \r\n            public ForkJoinFibonacci(long number) {\r\n                this.number = number;\r\n            }\r\n        \r\n            public long getNumber() {\r\n                return number;\r\n            }\r\n        \r\n            @Override\r\n            protected void compute() {\r\n                long n = number;\r\n                if (n &lt;= threshold) {\r\n                    number = fib(n);\r\n                } else {\r\n                    ForkJoinFibonacci f1 = new ForkJoinFibonacci(n - 1);\r\n                    ForkJoinFibonacci f2 = new ForkJoinFibonacci(n - 2);\r\n                    ForkJoinTask.invokeAll(f1, f2);\r\n                    number = f1.number + f2.number;\r\n                }\r\n            }\r\n        \r\n            private static long fib(long n) {\r\n                if (n &lt;= 1) return n;\r\n                else return fib(n - 1) + fib(n - 2);\r\n            }\r\n        }\r\n\r\nTo make it clear. It works. But I just do not know why it works.","title":"How does RecursiveAction work with Fibonacci?","body":"<p>How does recursion work in case of Fibonacci. The below example uses RecursiveAction which does not return any value. But still it is possible to calculate Fibonacci numbers. I mean for example in case of Fibonacci(15). The threshold in below example is 10. So Fibonacci(15) cannot be calculated directly. So 2 other tasks will be created . ForkJoinFibonacci(n - 1) and ForkJoinFibonacci(n - 2). So in the below example only the member variable &quot;number&quot; stores the calculated Fibonacci number. But it is never returned. Only stored locally in each ForkJoinFibonacci class.So how can all the calculated numbers be summed up ?</p>\n<pre><code>public class ForkJoinFibonacci extends RecursiveAction {\n    \n        private static final long threshold = 10;\n        private volatile long number;\n    \n        public ForkJoinFibonacci(long number) {\n            this.number = number;\n        }\n    \n        public long getNumber() {\n            return number;\n        }\n    \n        @Override\n        protected void compute() {\n            long n = number;\n            if (n &lt;= threshold) {\n                number = fib(n);\n            } else {\n                ForkJoinFibonacci f1 = new ForkJoinFibonacci(n - 1);\n                ForkJoinFibonacci f2 = new ForkJoinFibonacci(n - 2);\n                ForkJoinTask.invokeAll(f1, f2);\n                number = f1.number + f2.number;\n            }\n        }\n    \n        private static long fib(long n) {\n            if (n &lt;= 1) return n;\n            else return fib(n - 1) + fib(n - 2);\n        }\n    }\n</code></pre>\n<p>To make it clear. It works. But I just do not know why it works.</p>\n"},{"tags":["java","generics","inheritance","design-patterns","builder-pattern"],"answers":[{"tags":[],"owner":{"account_id":2417248,"reputation":1196,"user_id":2111039,"display_name":"Dmitry Pisklov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641396225,"creation_date":1584456145,"answer_id":60724647,"question_id":60719895,"body_markdown":"You need to use generics on the class level, not on the method level, in your CarBuilder:\r\n\r\n    package Builders;\r\n    \r\n    public abstract class CarBuilder&lt;B extends CarBuilder&lt;B, C&gt;, C extends Car&gt; {\r\n        int tyre;\r\n        int seat;\r\n    \r\n        public abstract B self();\r\n    \r\n        public abstract C typeOfCar();\r\n    \r\n        public B setTyre(int tyre) {\r\n            this.tyre = tyre;\r\n            return self();\r\n        }\r\n    \r\n        public B setSeat(int seat) {\r\n            this.seat = seat;\r\n            return self();\r\n        }\r\n    \r\n        public C build() {\r\n            C car = this.typeOfCar();\r\n            car.setSeat(seat);\r\n            car.setTyre(tyre);\r\n            return car;\r\n        }\r\n    \r\n    }\r\n\r\nAnd then you define your SwiftBuilder:\r\n\r\n    package Builders;\r\n    \r\n    public class SwiftBuilder extends CarBuilder&lt;SwiftBuilder, Swift&gt; {\r\n        String engine;\r\n    \r\n        @Override\r\n        public SwiftBuilder self() {\r\n    \r\n            return this;\r\n        }\r\n    \r\n        @Override\r\n        public Swift typeOfCar() {\r\n    \r\n            return new Swift();\r\n        }\r\n    \r\n        public SwiftBuilder setEngine(String string) {\r\n            this.engine = string;\r\n            return this;\r\n        }\r\n    \r\n        public Swift build() {\r\n            Swift s = super.build();\r\n            s.setEngine(engine);\r\n            return s;\r\n        }\r\n    \r\n    }\r\n\r\nAnd it works.","title":"Implementation of Hierarchical Builder pattern","body":"<p>You need to use generics on the class level, not on the method level, in your CarBuilder:</p>\n<pre><code>package Builders;\n\npublic abstract class CarBuilder&lt;B extends CarBuilder&lt;B, C&gt;, C extends Car&gt; {\n    int tyre;\n    int seat;\n\n    public abstract B self();\n\n    public abstract C typeOfCar();\n\n    public B setTyre(int tyre) {\n        this.tyre = tyre;\n        return self();\n    }\n\n    public B setSeat(int seat) {\n        this.seat = seat;\n        return self();\n    }\n\n    public C build() {\n        C car = this.typeOfCar();\n        car.setSeat(seat);\n        car.setTyre(tyre);\n        return car;\n    }\n\n}\n</code></pre>\n<p>And then you define your SwiftBuilder:</p>\n<pre><code>package Builders;\n\npublic class SwiftBuilder extends CarBuilder&lt;SwiftBuilder, Swift&gt; {\n    String engine;\n\n    @Override\n    public SwiftBuilder self() {\n\n        return this;\n    }\n\n    @Override\n    public Swift typeOfCar() {\n\n        return new Swift();\n    }\n\n    public SwiftBuilder setEngine(String string) {\n        this.engine = string;\n        return this;\n    }\n\n    public Swift build() {\n        Swift s = super.build();\n        s.setEngine(engine);\n        return s;\n    }\n\n}\n</code></pre>\n<p>And it works.</p>\n"}],"owner":{"account_id":9216495,"reputation":2575,"user_id":6847435,"accept_rate":100,"display_name":"coderzzz18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60724647,"answer_count":1,"score":1,"last_activity_date":1641396225,"creation_date":1584438811,"question_id":60719895,"body_markdown":"I am implementing Hierarchical Builder Pattern. I have used generics to make return type of my Parent Builder setter as that for child. Still I am facing problem when I use the child setter method after calling parent setter method. I don&#39;t want to define my child specific method (setEngine(String) here) in my Parent Builder. Is there any other way around for this problem?\n\nI have made an example snippet for the mentioned problem, identical to this case.\n \n **CarFactory -&gt;** It returns the object of specific car that user wants \n\n **Car -&gt;** Parent for all Car types, Swift, Duster etc\n \n **Swift -&gt;** Specific car\n\n\n\n\n **Parent-&gt;Child Hierarchy**\n\n   Car -&gt; Swift\n\n CarBuilder -&gt; SwiftBuilder\n\n **Car.java**\n ```\n  package Builders;\n\n  public class Car {\n    int tyre;\n    int seat;\n    public int getTyre() {\n        return tyre;\n    }\n    public void setTyre(int tyre) {\n        this.tyre = tyre;\n    }\n    public int getSeat() {\n        return seat;\n    }\n    public void setSeat(int seat) {\n        this.seat = seat;\n        \n    }\n    \n}\n```\n\n**Swift.java**\n\n```\npackage Builders;\n\npublic class Swift extends Car {\n    boolean safetyAirbag;\n    String engine;\n    \n    public boolean isSafetyAirbag() {\n        return safetyAirbag;\n    }\n\n    public String getEngine() {\n        return engine;\n    }\n\n    public void setSafetyAirbag(boolean safetyAirbag) {\n        this.safetyAirbag = safetyAirbag;\n    }\n\n    public void setEngine(String engine) {\n        this.engine = engine;\n    }\n\n\n}\n```\n**CarBuilder.java**\n```\npackage Builders;\n\npublic abstract class CarBuilder {\n        int tyre;\n        int seat;\n         \n        public abstract &lt;B extends CarBuilder&gt;B self();\n        public abstract &lt;T extends Car&gt;T typeOfCar();\n            \n        public &lt;B extends CarBuilder&gt;B setTyre(int tyre) {\n            this.tyre = tyre;\n            return self();\n        }\n        \n        public  &lt;B extends CarBuilder&gt; B setSeat(int seat) {\n            this.seat = seat;\n            return self();\n        }\n        public &lt;C extends Car&gt;C build()\n        {   C car=this.typeOfCar();\n            car.setSeat(seat);\n            car.setTyre(tyre);\n            return car;\n        }\n    \n        \n}\n```\n**SwiftBuilder.java**\n```\npackage Builders;\n\npublic class SwiftBuilder extends CarBuilder {\n    String engine;\n    @Override\n    public\n    SwiftBuilder self() {\n        \n        return this;\n    }\n\n    @Override\n    public\n    Swift typeOfCar() {\n        \n        return new Swift();\n    }\n\n    public SwiftBuilder setEngine(String string) {\n        this.engine=string;\n        return this;\n    }\n    public Swift build()\n    {   Swift s=(Swift)super.build();\n        return s;\n    }\n\n}\n```\n**CarFactory.java**\n```\npackage Builders;\n\npublic class CarFactory {\n    public SwiftBuilder getSwiftDesire()\n    {\n        return new SwiftBuilder();\n    }\n}\n \n```\n**Drivers.java**  \n```\npackage Builders;\n\npublic class Drivers {\n    Swift getMyCar() {\n        Swift s= this.factory().getSwiftDesire().setSeat(4).setEngine(&quot;CC&quot;).build();\n        return s;\n    }\n    CarFactory factory() {\n        return new CarFactory();\n    }\n}\n\n```\n\nIn Drivers.java class I am not able to use setEngine() method after setSeat() method,\nthis.factory().getSwiftDesire().setSeat(4).setEngine(&quot;CC&quot;).build();\nI don&#39;t want to declare setEngine in parent class, is there any way around for same? \n\nThank you in advance!\n","title":"Implementation of Hierarchical Builder pattern","body":"<p>I am implementing Hierarchical Builder Pattern. I have used generics to make return type of my Parent Builder setter as that for child. Still I am facing problem when I use the child setter method after calling parent setter method. I don't want to define my child specific method (setEngine(String) here) in my Parent Builder. Is there any other way around for this problem?</p>\n<p>I have made an example snippet for the mentioned problem, identical to this case.</p>\n<p><strong>CarFactory -&gt;</strong> It returns the object of specific car that user wants</p>\n<p><strong>Car -&gt;</strong> Parent for all Car types, Swift, Duster etc</p>\n<p><strong>Swift -&gt;</strong> Specific car</p>\n<p><strong>Parent-&gt;Child Hierarchy</strong></p>\n<p>Car -&gt; Swift</p>\n<p>CarBuilder -&gt; SwiftBuilder</p>\n<p><strong>Car.java</strong></p>\n<pre><code> package Builders;\n\n public class Car {\n   int tyre;\n   int seat;\n   public int getTyre() {\n       return tyre;\n   }\n   public void setTyre(int tyre) {\n       this.tyre = tyre;\n   }\n   public int getSeat() {\n       return seat;\n   }\n   public void setSeat(int seat) {\n       this.seat = seat;\n       \n   }\n   \n}\n</code></pre>\n<p><strong>Swift.java</strong></p>\n<pre><code>package Builders;\n\npublic class Swift extends Car {\n    boolean safetyAirbag;\n    String engine;\n    \n    public boolean isSafetyAirbag() {\n        return safetyAirbag;\n    }\n\n    public String getEngine() {\n        return engine;\n    }\n\n    public void setSafetyAirbag(boolean safetyAirbag) {\n        this.safetyAirbag = safetyAirbag;\n    }\n\n    public void setEngine(String engine) {\n        this.engine = engine;\n    }\n\n\n}\n</code></pre>\n<p><strong>CarBuilder.java</strong></p>\n<pre><code>package Builders;\n\npublic abstract class CarBuilder {\n        int tyre;\n        int seat;\n         \n        public abstract &lt;B extends CarBuilder&gt;B self();\n        public abstract &lt;T extends Car&gt;T typeOfCar();\n            \n        public &lt;B extends CarBuilder&gt;B setTyre(int tyre) {\n            this.tyre = tyre;\n            return self();\n        }\n        \n        public  &lt;B extends CarBuilder&gt; B setSeat(int seat) {\n            this.seat = seat;\n            return self();\n        }\n        public &lt;C extends Car&gt;C build()\n        {   C car=this.typeOfCar();\n            car.setSeat(seat);\n            car.setTyre(tyre);\n            return car;\n        }\n    \n        \n}\n</code></pre>\n<p><strong>SwiftBuilder.java</strong></p>\n<pre><code>package Builders;\n\npublic class SwiftBuilder extends CarBuilder {\n    String engine;\n    @Override\n    public\n    SwiftBuilder self() {\n        \n        return this;\n    }\n\n    @Override\n    public\n    Swift typeOfCar() {\n        \n        return new Swift();\n    }\n\n    public SwiftBuilder setEngine(String string) {\n        this.engine=string;\n        return this;\n    }\n    public Swift build()\n    {   Swift s=(Swift)super.build();\n        return s;\n    }\n\n}\n</code></pre>\n<p><strong>CarFactory.java</strong></p>\n<pre><code>package Builders;\n\npublic class CarFactory {\n    public SwiftBuilder getSwiftDesire()\n    {\n        return new SwiftBuilder();\n    }\n}\n \n</code></pre>\n<p><strong>Drivers.java</strong></p>\n<pre><code>package Builders;\n\npublic class Drivers {\n    Swift getMyCar() {\n        Swift s= this.factory().getSwiftDesire().setSeat(4).setEngine(&quot;CC&quot;).build();\n        return s;\n    }\n    CarFactory factory() {\n        return new CarFactory();\n    }\n}\n\n</code></pre>\n<p>In Drivers.java class I am not able to use setEngine() method after setSeat() method,\nthis.factory().getSwiftDesire().setSeat(4).setEngine(&quot;CC&quot;).build();\nI don't want to declare setEngine in parent class, is there any way around for same?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","android","testing","mocking","mockito"],"comments":[{"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"score":0,"creation_date":1479820053,"post_id":40742572,"comment_id":68711053,"body_markdown":"check require dependency and its scope","body":"check require dependency and its scope"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1479820158,"post_id":40742572,"comment_id":68711116,"body_markdown":"is your test comlipable? did you already trying to clean the project?","body":"is your test comlipable? did you already trying to clean the project?"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479820924,"post_id":40742572,"comment_id":68711569,"body_markdown":"@PSM what do you mean? as I mentioned in question I have already added this dependency...","body":"@PSM what do you mean? as I mentioned in question I have already added this dependency..."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479821002,"post_id":40742572,"comment_id":68711622,"body_markdown":"@TimothyTruckle no... I got this error during compilation... What does it mean?","body":"@TimothyTruckle no... I got this error during compilation... What does it mean?"},{"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"score":0,"creation_date":1479821090,"post_id":40742572,"comment_id":68711688,"body_markdown":"Try replacing testCompile with androidTestCompile","body":"Try replacing testCompile with androidTestCompile"},{"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"score":0,"creation_date":1479821104,"post_id":40742572,"comment_id":68711697,"body_markdown":"androidTestCompile &quot;org.mockito:mockito-core:1.10.19&quot;","body":"androidTestCompile &quot;org.mockito:mockito-core:1.10.19&quot;"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479821557,"post_id":40742572,"comment_id":68712007,"body_markdown":"@PSM no with this way androidStudio even can&#39;t recognize this import `import org.mockito.runners.MockitoJUnitRunner;`","body":"@PSM no with this way androidStudio even can&#39;t recognize this import <code>import org.mockito.runners.MockitoJUnitRunner;</code>"},{"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"score":0,"creation_date":1479821698,"post_id":40742572,"comment_id":68712114,"body_markdown":"It looks like Gradle is not doing it&#39;s job.\n\nManually adding the jars fixed the problem.","body":"It looks like Gradle is not doing it&#39;s job.  Manually adding the jars fixed the problem."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479822077,"post_id":40742572,"comment_id":68712340,"body_markdown":"@PSM Yes! You are right! Thanks a lot! If you publish answer I will approve it","body":"@PSM Yes! You are right! Thanks a lot! If you publish answer I will approve it"},{"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"score":0,"creation_date":1479823198,"post_id":40742572,"comment_id":68713131,"body_markdown":"approve my answer","body":"approve my answer"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1479840739,"post_id":40742572,"comment_id":68724878,"body_markdown":"@AlekseyTimoshchenko is it a multi project configuration?","body":"@AlekseyTimoshchenko is it a multi project configuration?"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479845112,"post_id":40742572,"comment_id":68727262,"body_markdown":"@TimothyTruckle what does it mean multi project configuration?","body":"@TimothyTruckle what does it mean multi project configuration?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1479845766,"post_id":40742572,"comment_id":68727645,"body_markdown":"@AlekseyTimoshchenko *&quot;what does it mean multi project configuration&quot;* If you have to ask you probably don&#39;t have it... ;o) https://docs.gradle.org/current/userguide/multi_project_builds.html","body":"@AlekseyTimoshchenko <i>&quot;what does it mean multi project configuration&quot;</i> If you have to ask you probably don&#39;t have it... ;o) <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/multi_project_builds.html</a>"},{"owner":{"account_id":4706161,"reputation":3091,"user_id":3808228,"accept_rate":60,"display_name":"Chisko"},"score":0,"creation_date":1479852538,"post_id":40742572,"comment_id":68731213,"body_markdown":"I think Instant Run has some guilt on this.","body":"I think Instant Run has some guilt on this."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479886100,"post_id":40742572,"comment_id":68741601,"body_markdown":"@Chisko what do you mean?","body":"@Chisko what do you mean?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1479893192,"post_id":40742572,"comment_id":68745674,"body_markdown":"@AlekseyTimoshchenko did you add the dependency later in the project? did you run &quot;gradle-&gt;update project&quot; after adding mockito?","body":"@AlekseyTimoshchenko did you add the dependency later in the project? did you run &quot;gradle-&gt;update project&quot; after adding mockito?"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479894054,"post_id":40742572,"comment_id":68746243,"body_markdown":"@TimothyTruckle sorry, but where this button `gradle-&gt;update project` placed?","body":"@TimothyTruckle sorry, but where this button <code>gradle-&gt;update project</code> placed?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1479897078,"post_id":40742572,"comment_id":68748318,"body_markdown":"@AlekseyTimoshchenko *&quot;where this button&quot;* its in the context menu of the project.","body":"@AlekseyTimoshchenko <i>&quot;where this button&quot;</i> its in the context menu of the project."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479897691,"post_id":40742572,"comment_id":68748750,"body_markdown":"@TimothyTruckle unfurtunately I don&#39;t have such button( I have looked through all studio components and eventually have not found any ....","body":"@TimothyTruckle unfurtunately I don&#39;t have such button( I have looked through all studio components and eventually have not found any ...."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1479903576,"post_id":40742572,"comment_id":68752995,"body_markdown":"@AlekseyTimoshchenko: OK, one step back: do you get the error at the command line or in your IDE?","body":"@AlekseyTimoshchenko: OK, one step back: do you get the error at the command line or in your IDE?"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1479904017,"post_id":40742572,"comment_id":68753282,"body_markdown":"@TimothyTruckle eventually I have alredy solved this issue, but I am very wondering with your point of view... I got error during compilition process in IDE","body":"@TimothyTruckle eventually I have alredy solved this issue, but I am very wondering with your point of view... I got error during compilition process in IDE"},{"owner":{"account_id":3756387,"reputation":802,"user_id":3122668,"display_name":"capo11"},"score":0,"creation_date":1608652670,"post_id":40742572,"comment_id":115645342,"body_markdown":"it&#39;s incredible!! After 4 years this is still an issue!!!","body":"it&#39;s incredible!! After 4 years this is still an issue!!!"}],"answers":[{"tags":[],"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1479851891,"creation_date":1479823177,"answer_id":40743833,"question_id":40742572,"body_markdown":"It looks like Gradle is not doing it&#39;s job.\r\nManually adding the jars may fixed the problem.\r\n[How to Download and Install jar go here .][1]\r\n\r\nand for download mockito use this link\r\n\r\nhttps://mvnrepository.com/artifact/org.mockito/mockito-core/1.10.19\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Download-and-Install","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>It looks like Gradle is not doing it's job.\nManually adding the jars may fixed the problem.\n<a href=\"https://github.com/junit-team/junit4/wiki/Download-and-Install\" rel=\"noreferrer\">How to Download and Install jar go here .</a></p>\n\n<p>and for download mockito use this link</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-core/1.10.19\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.mockito/mockito-core/1.10.19</a></p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1479912742,"creation_date":1479912742,"answer_id":40767634,"question_id":40742572,"body_markdown":"does your project look like this?:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NebXk.png","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>does your project look like this?:\n<a href=\"https://i.stack.imgur.com/NebXk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NebXk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2316211,"reputation":2578,"user_id":2033223,"accept_rate":100,"display_name":"Javatar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517836963,"creation_date":1517836963,"answer_id":48623579,"question_id":40742572,"body_markdown":"Open **File** &gt; **Project Structure...**\r\n\r\nand then add it manually as *library dependency*:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mGNTq.png","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>Open <strong>File</strong> > <strong>Project Structure...</strong></p>\n\n<p>and then add it manually as <em>library dependency</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mGNTq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGNTq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6974943,"reputation":568,"user_id":6935910,"display_name":"Ustin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529591951,"creation_date":1529585154,"answer_id":50968929,"question_id":40742572,"body_markdown":"I also got this exception when I tried to write `instrumentalTests` in `src/androidTest/java/` but by default mockito&#39;s scope in dependencies is set as **Unit Test implementation** (you can see that in `File` =&gt; `Project Structure` =&gt; `Modules` =&gt; `Dependencies`). I&#39;ve just changed this parameter to **Test implementation** and it works!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/wVdsF.png","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>I also got this exception when I tried to write <code>instrumentalTests</code> in <code>src/androidTest/java/</code> but by default mockito's scope in dependencies is set as <strong>Unit Test implementation</strong> (you can see that in <code>File</code> => <code>Project Structure</code> => <code>Modules</code> => <code>Dependencies</code>). I've just changed this parameter to <strong>Test implementation</strong> and it works!</p>\n\n<p><a href=\"https://i.stack.imgur.com/wVdsF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wVdsF.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5574327,"reputation":29,"user_id":4418301,"display_name":"Michael  Sizonenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588585004,"creation_date":1588585004,"answer_id":61589168,"question_id":40742572,"body_markdown":"Got the same issue. Attempted to implement the developer.android documentation example.\r\n\r\nFixed by changed org.mockito version to the recent at the time in build.gradle :\r\n\r\n    dependencies {\r\n        testImplementation &#39;org.mockito:mockito-core:2.28.2&#39;\r\n    }","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>Got the same issue. Attempted to implement the developer.android documentation example.</p>\n\n<p>Fixed by changed org.mockito version to the recent at the time in build.gradle :</p>\n\n<pre><code>dependencies {\n    testImplementation 'org.mockito:mockito-core:2.28.2'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1641396214,"creation_date":1641396214,"answer_id":70595384,"question_id":40742572,"body_markdown":"As stated in [Baeldung&#39;s article](https://www.baeldung.com/mockito-deprecated-mockitojunitrunner), starting from Mockito version `2.2.20`, the package for `MockitoJUnitRunner` has changed. So change :\r\n\r\n```java\r\nimport org.mockito.runners.MockitoJUnitRunner;\r\n```\r\nTo :\r\n\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n\r\nAs usual, you have to import the `mockito-core` library in your `build.gradle` :\r\n\r\n    dependencies {\r\n        testImplementation &#39;org.mockito:mockito-core:4.2.0&#39;\r\n    }\r\n\r\nAs a side note, you will also need to change import for `Matchers` if you use them. For instance :\r\n\r\nFrom :\r\n\r\n    import static org.mockito.Matchers.any;\r\n\r\nTo :\r\n\r\n    import static org.mockito.Mockito.any;","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>As stated in <a href=\"https://www.baeldung.com/mockito-deprecated-mockitojunitrunner\" rel=\"noreferrer\">Baeldung's article</a>, starting from Mockito version <code>2.2.20</code>, the package for <code>MockitoJUnitRunner</code> has changed. So change :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mockito.runners.MockitoJUnitRunner;\n</code></pre>\n<p>To :</p>\n<pre><code>import org.mockito.junit.MockitoJUnitRunner;\n</code></pre>\n<p>As usual, you have to import the <code>mockito-core</code> library in your <code>build.gradle</code> :</p>\n<pre><code>dependencies {\n    testImplementation 'org.mockito:mockito-core:4.2.0'\n}\n</code></pre>\n<p>As a side note, you will also need to change import for <code>Matchers</code> if you use them. For instance :</p>\n<p>From :</p>\n<pre><code>import static org.mockito.Matchers.any;\n</code></pre>\n<p>To :</p>\n<pre><code>import static org.mockito.Mockito.any;\n</code></pre>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29552,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":40743833,"answer_count":6,"score":14,"last_activity_date":1641396214,"creation_date":1479819694,"question_id":40742572,"body_markdown":"I have pluged up require dependency\r\n\r\n    testCompile &#39;org.mockito:mockito-core:1.10.19&#39;\r\n\r\nThen I put my test code to `/src/test/java/` directory \r\n\r\nthen I have tried launch such test\r\n\r\n    import org.junit.Test;\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n    public class PresenterActivityAcceptNotAcceptTest {\r\n\r\n    @Test\r\n    public void emailValidator_CorrectEmailSimple_ReturnsTrue() {\r\n        boolean dd = true;\r\n        assertThat(dd, is(true));\r\n    } \r\n\r\nit works properly, but if I add anything witch associated with `Mock` lib \r\n\r\nfor example `@RunWith`\r\n\r\n        import org.junit.Test;\r\n        import org.junit.runner.RunWith;\r\n        import org.mockito.runners.MockitoJUnitRunner;\r\n    \r\n        import static org.hamcrest.CoreMatchers.is;\r\n        import static org.hamcrest.MatcherAssert.assertThat;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class PresenterActivityAcceptNotAcceptTest {\r\n    \r\n    \r\n        @Test\r\n        public void emailValidator_CorrectEmailSimple_ReturnsTrue() {\r\n            boolean dd = true;\r\n            assertThat(dd, is(true));\r\n        }\r\n\r\nI got such error\r\n\r\n    Error:Execution failed for task   &#39;:Application:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    Error:(10, 10) error: cannot find symbol class MockitoJUnitRunner\r\n    Error:(5, 27) error: package org.mockito.runners does not exist\r\n    /home/aleksey/Downloads/NTZ/FittingRoom/Application/src/test/java/com/fittingroom/newtimezone/presenters/PresenterActivityAcceptNotAcceptTest.java\r\n\r\nWhat am I doing wrong? \r\n\r\nIf I forger about something feel free to ask\r\n\r\nThanks in advance!\r\n\r\n\r\n","title":"Why do I get an error &quot;package org.mockito.runners does not exist&quot;?","body":"<p>I have pluged up require dependency</p>\n\n<pre><code>testCompile 'org.mockito:mockito-core:1.10.19'\n</code></pre>\n\n<p>Then I put my test code to <code>/src/test/java/</code> directory </p>\n\n<p>then I have tried launch such test</p>\n\n<pre><code>import org.junit.Test;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\npublic class PresenterActivityAcceptNotAcceptTest {\n\n@Test\npublic void emailValidator_CorrectEmailSimple_ReturnsTrue() {\n    boolean dd = true;\n    assertThat(dd, is(true));\n} \n</code></pre>\n\n<p>it works properly, but if I add anything witch associated with <code>Mock</code> lib </p>\n\n<p>for example <code>@RunWith</code></p>\n\n<pre><code>    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.mockito.runners.MockitoJUnitRunner;\n\n    import static org.hamcrest.CoreMatchers.is;\n    import static org.hamcrest.MatcherAssert.assertThat;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class PresenterActivityAcceptNotAcceptTest {\n\n\n    @Test\n    public void emailValidator_CorrectEmailSimple_ReturnsTrue() {\n        boolean dd = true;\n        assertThat(dd, is(true));\n    }\n</code></pre>\n\n<p>I got such error</p>\n\n<pre><code>Error:Execution failed for task   ':Application:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\nError:(10, 10) error: cannot find symbol class MockitoJUnitRunner\nError:(5, 27) error: package org.mockito.runners does not exist\n/home/aleksey/Downloads/NTZ/FittingRoom/Application/src/test/java/com/fittingroom/newtimezone/presenters/PresenterActivityAcceptNotAcceptTest.java\n</code></pre>\n\n<p>What am I doing wrong? </p>\n\n<p>If I forger about something feel free to ask</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","apache-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1641395731,"post_id":70595164,"comment_id":124794441,"body_markdown":"Yes, frequent rebalances cause poor performance. Ideally, Kafka Connect is used to write to databases","body":"Yes, frequent rebalances cause poor performance. Ideally, Kafka Connect is used to write to databases"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641395950,"creation_date":1641395950,"answer_id":70595304,"question_id":70595164,"body_markdown":"Increase `max.poll.interval` and/or decrease `max.poll.records` (Kafka consumer properties).","title":"Spring-cloud-stream-kafka -- Getting frequent &quot;Attempt to heartbeat failed since group is rebalancing&quot;","body":"<p>Increase <code>max.poll.interval</code> and/or decrease <code>max.poll.records</code> (Kafka consumer properties).</p>\n"}],"owner":{"account_id":16362432,"reputation":155,"user_id":11817672,"display_name":"APK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70595304,"answer_count":1,"score":1,"last_activity_date":1641395950,"creation_date":1641395371,"question_id":70595164,"body_markdown":"I have a spring boot application, running with 25 instances, have 25 partitions.\r\nIt consume the message and do some calculation by getting the data from cache and put the resultant value into database.\r\n\r\nBut the performance is very poor for that app, even with these many instances, **CPU usages are very high.**\r\nMax time taken per transaction is 6-8s, average time --&gt; 700ms\r\n\r\nIn Splunk, IN A MINUTE, I see this `message: [Consumer clientId=consumer-2, groupId=TEST] Attempt to heartbeat failed since group is rebalancing\r\n     thread_name: kafka-coordinator-heartbeat-thread | CG.LOGICALINVENTORY-TEST` around 200 times. \r\n\r\nMy question is, Why do I get this message frequently??\r\nand can this(getting frequent rebalance) cause the poor performance.\r\n\r\nAny thoughts??  ","title":"Spring-cloud-stream-kafka -- Getting frequent &quot;Attempt to heartbeat failed since group is rebalancing&quot;","body":"<p>I have a spring boot application, running with 25 instances, have 25 partitions.\nIt consume the message and do some calculation by getting the data from cache and put the resultant value into database.</p>\n<p>But the performance is very poor for that app, even with these many instances, <strong>CPU usages are very high.</strong>\nMax time taken per transaction is 6-8s, average time --&gt; 700ms</p>\n<p>In Splunk, IN A MINUTE, I see this <code>message: [Consumer clientId=consumer-2, groupId=TEST] Attempt to heartbeat failed since group is rebalancing thread_name: kafka-coordinator-heartbeat-thread | CG.LOGICALINVENTORY-TEST</code> around 200 times.</p>\n<p>My question is, Why do I get this message frequently??\nand can this(getting frequent rebalance) cause the poor performance.</p>\n<p>Any thoughts??</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641393974,"post_id":70594787,"comment_id":124793637,"body_markdown":"Where is `user` variable defined? Why is the child data you&#39;re trying to set static for all users?","body":"Where is <code>user</code> variable defined? Why is the child data you&#39;re trying to set static for all users?"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":0,"creation_date":1641394020,"post_id":70594787,"comment_id":124793656,"body_markdown":"It&#39;s a parameter of this function. It&#39;s a class that contains email,password,username,uid","body":"It&#39;s a parameter of this function. It&#39;s a class that contains email,password,username,uid"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641394200,"post_id":70594787,"comment_id":124793736,"body_markdown":"You should ideally define `mDatabase` outside of the user creation callback. Besides that, `mDatabase.child(&quot;users&quot;).child(&quot;test&quot;).setValue` has nothing to do with user creation, so you should debug that in isolation. For example, does it correctly write the value on just a button click?","body":"You should ideally define <code>mDatabase</code> outside of the user creation callback. Besides that, <code>mDatabase.child(&quot;users&quot;).child(&quot;test&quot;).setValue</code> has nothing to do with user creation, so you should debug that in isolation. For example, does it correctly write the value on just a button click?"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":1,"creation_date":1641394813,"post_id":70594787,"comment_id":124794018,"body_markdown":"@OneCricketeer so I&#39;ve tried it and it has the same previous behaviour. I&#39;ve added a failure listener and it does nothing","body":"@OneCricketeer so I&#39;ve tried it and it has the same previous behaviour. I&#39;ve added a failure listener and it does nothing"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641394902,"post_id":70594787,"comment_id":124794051,"body_markdown":"Does `users/test`path exist in the database?","body":"Does <code>users&#47;test</code>path exist in the database?"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":0,"creation_date":1641395139,"post_id":70594787,"comment_id":124794157,"body_markdown":"@OneCricketeer No, I can&#39;t add empty field in realtime database. Does it work like firestore database where you can put the path and if it doesen&#39;t exist, it will make the missing folders?","body":"@OneCricketeer No, I can&#39;t add empty field in realtime database. Does it work like firestore database where you can put the path and if it doesen&#39;t exist, it will make the missing folders?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641395545,"post_id":70594787,"comment_id":124794357,"body_markdown":"Paths are overwritten, if they exist, but if there&#39;s nothing there, shouldn&#39;t be a problem. Is there a specific reason you&#39;re using `&quot;test&quot;` rather than the user ID, as shown in the docs? https://firebase.google.com/docs/database/android/read-and-write","body":"Paths are overwritten, if they exist, but if there&#39;s nothing there, shouldn&#39;t be a problem. Is there a specific reason you&#39;re using <code>&quot;test&quot;</code> rather than the user ID, as shown in the docs? <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a>"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":1,"creation_date":1641395766,"post_id":70594787,"comment_id":124794458,"body_markdown":"@OneCricketeer yes because at first I was using uid but it didn&#39;t work and for trying to see what was wrong I tryied a static path for check if it was the writing on Realtime database the problem","body":"@OneCricketeer yes because at first I was using uid but it didn&#39;t work and for trying to see what was wrong I tryied a static path for check if it was the writing on Realtime database the problem"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1641395912,"post_id":70594787,"comment_id":124794522,"body_markdown":"If neither of the callbacks fires, it typically means the client is not connected to the database server. Can you check the logcat output for messages when you call `setValue` (or otherwise when you first access the database)?","body":"If neither of the callbacks fires, it typically means the client is not connected to the database server. Can you check the logcat output for messages when you call <code>setValue</code> (or otherwise when you first access the database)?"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":0,"creation_date":1641396495,"post_id":70594787,"comment_id":124794790,"body_markdown":"@FrankvanPuffelen I&#39;ve cheked the logcat when pressing the button but I don&#39;t see any message regarding the setValue or firebase","body":"@FrankvanPuffelen I&#39;ve cheked the logcat when pressing the button but I don&#39;t see any message regarding the setValue or firebase"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641396556,"post_id":70594787,"comment_id":124794814,"body_markdown":"Is any of the Toast messages displayed?","body":"Is any of the Toast messages displayed?"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":0,"creation_date":1641397665,"post_id":70594787,"comment_id":124795345,"body_markdown":"@FrankvanPuffelen so I added a value on the database manually and I tried to read it. I get this error: E/firebase: Error getting data\n    java.lang.Exception: Client is offline . But I can create accounts on firestore so I don&#39;t know why it gives this error","body":"@FrankvanPuffelen so I added a value on the database manually and I tried to read it. I get this error: E/firebase: Error getting data     java.lang.Exception: Client is offline . But I can create accounts on firestore so I don&#39;t know why it gives this error"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1641398463,"post_id":70594787,"comment_id":124795733,"body_markdown":"My guess is that you downloaded the `google-services.json` file before the database was created, which means the database URL that the SDK uses is incorrect. If that is indeed the cause, download the updated `google-services.json` and add it to your project, **or** put the database URL in your code in `FirebaseDatabase.getInstance(&quot;URL to your databse here&quot;).getReference()`. Also see: https://stackoverflow.com/a/69198094","body":"My guess is that you downloaded the <code>google-services.json</code> file before the database was created, which means the database URL that the SDK uses is incorrect. If that is indeed the cause, download the updated <code>google-services.json</code> and add it to your project, <b>or</b> put the database URL in your code in <code>FirebaseDatabase.getInstance(&quot;URL to your databse here&quot;).getReference()</code>. Also see: <a href=\"https://stackoverflow.com/a/69198094\">stackoverflow.com/a/69198094</a>"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":0,"creation_date":1641399494,"post_id":70594787,"comment_id":124796162,"body_markdown":"@FrankvanPuffelen yes, now I&#39;ve changed the google-services.json with the new and inside the file I see the correct url to the database, but when in my application I try to log print it, it is still the previous one","body":"@FrankvanPuffelen yes, now I&#39;ve changed the google-services.json with the new and inside the file I see the correct url to the database, but when in my application I try to log print it, it is still the previous one"},{"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"score":2,"creation_date":1641399946,"post_id":70594787,"comment_id":124796343,"body_markdown":"EDIT: I&#39;ve cleaned and rebuilt my Android project and now it gives me the correct url. Now it works thanks","body":"EDIT: I&#39;ve cleaned and rebuilt my Android project and now it gives me the correct url. Now it works thanks"}],"owner":{"account_id":23420907,"reputation":64,"user_id":17481130,"display_name":"VondeTaconadis"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641400498,"answer_count":0,"score":0,"last_activity_date":1641395789,"creation_date":1641393742,"question_id":70594787,"body_markdown":"I&#39;m trying to write some data on my Realtime Database on Android Studio with Java.\r\nMy goal is to create and user and then add user information in Realtime Database.\r\nI can create the User but when I&#39;m trying to write on the Realtime Database nothing happen.\r\nI&#39;ve add a onSuccess and onFailure listener to the function that set the data, but both of th listener doesen&#39;t run.\r\n\r\nCode:\r\n\r\n    mAuth.createUserWithEmailAndPassword(user.getEmail(), user.getPassword())\r\n        .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    Toast.makeText(RegisterActivity.this, &quot;Account creato!&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                    FirebaseUser currentUser = mAuth.getCurrentUser();\r\n                    user.setUid(currentUser.getUid());\r\n                    //I add to RealTime Databse other User data\r\n                    DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\n                    mDatabase.child(&quot;users&quot;).child(&quot;test&quot;).setValue(&quot;hey&quot;).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            Log.i(&quot;Works&quot;,&quot;Yes&quot;);\r\n                            Toast.makeText(RegisterActivity.this,&quot;It orks&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            // Write failed\r\n                            Log.e(&quot;ErrorAdding&quot;,e.getMessage());\r\n                            Toast.makeText(RegisterActivity.this,e.getMessage(),Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n\r\n                    //finish();\r\n\r\n                } else {\r\n                    // If sign in fails, display a message to the user.\r\n                    Log.w(&quot;CREATEUSER&quot;, &quot;createUserWithEmail:failure&quot;, task.getException());\r\n                    Toast.makeText(RegisterActivity.this, &quot;Authentication failed.&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n\r\nI&#39;m sure the user is created because the toast with &quot;Account creato&quot; shows up and in firebase I can see the account added.\r\n\r\nThis is my Realtime database rules:\r\n\r\n    \r\n\r\n        {\r\n      &quot;rules&quot;: {\r\n        &quot;.read&quot;: &quot;true&quot;,  // 2022-2-4\r\n        &quot;.write&quot;: &quot;true&quot;,  // 2022-2-4\r\n      }\r\n    }\r\n\r\nThanks for your help!\r\n","title":"Can&#39;t write on Realtime Database","body":"<p>I'm trying to write some data on my Realtime Database on Android Studio with Java.\nMy goal is to create and user and then add user information in Realtime Database.\nI can create the User but when I'm trying to write on the Realtime Database nothing happen.\nI've add a onSuccess and onFailure listener to the function that set the data, but both of th listener doesen't run.</p>\n<p>Code:</p>\n<pre><code>mAuth.createUserWithEmailAndPassword(user.getEmail(), user.getPassword())\n    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            if (task.isSuccessful()) {\n                Toast.makeText(RegisterActivity.this, &quot;Account creato!&quot;,\n                        Toast.LENGTH_SHORT).show();\n\n\n                FirebaseUser currentUser = mAuth.getCurrentUser();\n                user.setUid(currentUser.getUid());\n                //I add to RealTime Databse other User data\n                DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\n                mDatabase.child(&quot;users&quot;).child(&quot;test&quot;).setValue(&quot;hey&quot;).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Log.i(&quot;Works&quot;,&quot;Yes&quot;);\n                        Toast.makeText(RegisterActivity.this,&quot;It orks&quot;,Toast.LENGTH_LONG).show();\n\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        // Write failed\n                        Log.e(&quot;ErrorAdding&quot;,e.getMessage());\n                        Toast.makeText(RegisterActivity.this,e.getMessage(),Toast.LENGTH_LONG).show();\n                    }\n                });\n\n                //finish();\n\n            } else {\n                // If sign in fails, display a message to the user.\n                Log.w(&quot;CREATEUSER&quot;, &quot;createUserWithEmail:failure&quot;, task.getException());\n                Toast.makeText(RegisterActivity.this, &quot;Authentication failed.&quot;,\n                        Toast.LENGTH_SHORT).show();\n\n            }\n        }\n    });\n</code></pre>\n<p>I'm sure the user is created because the toast with &quot;Account creato&quot; shows up and in firebase I can see the account added.</p>\n<p>This is my Realtime database rules:</p>\n<pre><code>    {\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;true&quot;,  // 2022-2-4\n    &quot;.write&quot;: &quot;true&quot;,  // 2022-2-4\n  }\n}\n</code></pre>\n<p>Thanks for your help!</p>\n"},{"tags":["java","spring","inheritance","spring-restcontroller","request-mapping"],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641395768,"creation_date":1641392123,"answer_id":70594378,"question_id":70594053,"body_markdown":"Yes, that is possible\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/a/{a}/b/{b}&quot;)\r\nclass Parent{\r\n}\r\n\r\n@RestController\r\nclass Child extends Parent{\r\n \r\n // take over pathvariables from parent\r\n @GetMapping(&quot;/c/{c}&quot;)\r\n public String abc(@PathVariable String a,@PathVariable String b, @PathVariable String c) {\r\n\t\treturn a+b+c;\r\n }\r\n \r\n // ignore pathvariables from parent\r\n @GetMapping(&quot;/d/{d}&quot;)\r\n public String d(@PathVariable String d){\r\n  return d;\r\n }\r\n\r\n}\r\n\r\n```\r\n\r\nJust take over the `@Pathvaribles` of the Parent-class\r\n\r\nThen a request like http://localhost:8080/a/x/b/y/c/z\r\nwill return &quot;xyz&quot;\r\n\r\nAnd a request like http://localhost:8080/a/ignore-a/b/ignore-b/d/capure-d\r\nwill return &quot;capure-d&quot;","title":"Access @PathVariables from parent&#39;s @RequestMapping","body":"<p>Yes, that is possible</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/a/{a}/b/{b}&quot;)\nclass Parent{\n}\n\n@RestController\nclass Child extends Parent{\n \n // take over pathvariables from parent\n @GetMapping(&quot;/c/{c}&quot;)\n public String abc(@PathVariable String a,@PathVariable String b, @PathVariable String c) {\n        return a+b+c;\n }\n \n // ignore pathvariables from parent\n @GetMapping(&quot;/d/{d}&quot;)\n public String d(@PathVariable String d){\n  return d;\n }\n\n}\n\n</code></pre>\n<p>Just take over the <code>@Pathvaribles</code> of the Parent-class</p>\n<p>Then a request like http://localhost:8080/a/x/b/y/c/z\nwill return &quot;xyz&quot;</p>\n<p>And a request like http://localhost:8080/a/ignore-a/b/ignore-b/d/capure-d\nwill return &quot;capure-d&quot;</p>\n"}],"owner":{"account_id":3201670,"reputation":91,"user_id":2703609,"accept_rate":100,"display_name":"just_do_IT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70594378,"answer_count":1,"score":1,"last_activity_date":1641395768,"creation_date":1641390797,"question_id":70594053,"body_markdown":"I&#39;m trying to access the @PathVariables defined in &quot;MyClass&quot;&#39;s @RequestMapping parent. \r\nSimplified screnario:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;some/path/{with}/{multiple}/{variables}&quot;)\r\n    public class ParentClass {...}\r\n\r\nThis class is sort of a product&#39;s base class and should not be edited. Therefore I&#39;m extending &#39;ParentClass&#39;. In &#39;MyClass&#39; I want to do something like this:\r\n\r\n    @GetMapping(&quot;/{another}&quot;)\r\n    public Object get(@PathVariable(&quot;another&quot;) String another) {...}\r\n\r\nI think this is allowed (didn&#39;t test yet), but I don&#39;t see how I would get all PathVariables that are already defined with &#39;ParentClass&#39;.\r\n\r\nAny idea/ RTFM reference on that is very much appreciated.\r\n\r\n","title":"Access @PathVariables from parent&#39;s @RequestMapping","body":"<p>I'm trying to access the @PathVariables defined in &quot;MyClass&quot;'s @RequestMapping parent.\nSimplified screnario:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;some/path/{with}/{multiple}/{variables}&quot;)\npublic class ParentClass {...}\n</code></pre>\n<p>This class is sort of a product's base class and should not be edited. Therefore I'm extending 'ParentClass'. In 'MyClass' I want to do something like this:</p>\n<pre><code>@GetMapping(&quot;/{another}&quot;)\npublic Object get(@PathVariable(&quot;another&quot;) String another) {...}\n</code></pre>\n<p>I think this is allowed (didn't test yet), but I don't see how I would get all PathVariables that are already defined with 'ParentClass'.</p>\n<p>Any idea/ RTFM reference on that is very much appreciated.</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1640255989,"post_id":70460862,"comment_id":124553701,"body_markdown":"What do you mean by &quot;yesterday&#39;s date files&quot;? You mean files created yesterday?","body":"What do you mean by &quot;yesterday&#39;s date files&quot;? You mean files created yesterday?"},{"owner":{"account_id":22287500,"reputation":11,"user_id":16514897,"display_name":"Kavya Chowdary"},"score":0,"creation_date":1640256315,"post_id":70460862,"comment_id":124553828,"body_markdown":"Yes files created yesterday..","body":"Yes files created yesterday.."},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1640256441,"post_id":70460862,"comment_id":124553863,"body_markdown":"Are they named or arranged in a certain way, or is the only indicator you have that they were created yesterday their creation timestamp of the file system?\nYou can get yesterdays date itself with LocalDate.now().minusDays(1).format(DateTimeFormatter.ISO_DATE)","body":"Are they named or arranged in a certain way, or is the only indicator you have that they were created yesterday their creation timestamp of the file system? You can get yesterdays date itself with LocalDate.now().minusDays(1).format(DateTimeFormatter.ISO_DA&zwnj;&#8203;TE)"}],"answers":[{"tags":[],"owner":{"account_id":4009589,"reputation":1,"user_id":3303392,"display_name":"ChicagoTang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641387023,"creation_date":1641387023,"answer_id":70593159,"question_id":70460862,"body_markdown":"Use tFileExist and tFlowToIterate to check and loop all the files.","title":"How to get yesterday&#39;s date all files by using Talend?","body":"<p>Use tFileExist and tFlowToIterate to check and loop all the files.</p>\n"}],"owner":{"account_id":22287500,"reputation":11,"user_id":16514897,"display_name":"Kavya Chowdary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641395582,"creation_date":1640255588,"question_id":70460862,"body_markdown":"I have tried like this, I&#39;m adding \r\n\r\n```\r\nTalendDate.compareDate(row1.filepath, context.myStartDate, &#39;yyyy-Mm-dd&#39;)&gt;0 &amp;&amp; TalendDate.comparDate(row1.filepath, context.EndDate, &#39;yyyy-Mm-dd&#39;)&lt;3\r\n```\r\n\r\nAdding like this in `tMap`\r\n\r\nCan anyone help me to get yesterday&#39;s date files by using `Talend`?\r\n\r\nIs there any other way to do this ?\r\n\r\n  [1]: https://i.stack.imgur.com/GObqB.jpg","title":"How to get yesterday&#39;s date all files by using Talend?","body":"<p>I have tried like this, I'm adding</p>\n<pre><code>TalendDate.compareDate(row1.filepath, context.myStartDate, 'yyyy-Mm-dd')&gt;0 &amp;&amp; TalendDate.comparDate(row1.filepath, context.EndDate, 'yyyy-Mm-dd')&lt;3\n</code></pre>\n<p>Adding like this in <code>tMap</code></p>\n<p>Can anyone help me to get yesterday's date files by using <code>Talend</code>?</p>\n<p>Is there any other way to do this ?</p>\n"},{"tags":["java","precision"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1574753944,"post_id":59045859,"comment_id":104332999,"body_markdown":"Practically, unless you are comparing dates 2 billion years in the past or the future, this isn&#39;t an actual issue. If you must, use `toIntExact`, but otherwise just suppress it.","body":"Practically, unless you are comparing dates 2 billion years in the past or the future, this isn&#39;t an actual issue. If you must, use <code>toIntExact</code>, but otherwise just suppress it."}],"answers":[{"tags":[],"owner":{"account_id":8536015,"reputation":2201,"user_id":6397798,"accept_rate":60,"display_name":"bracco23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1574756400,"creation_date":1574756400,"answer_id":59046495,"question_id":59045859,"body_markdown":"As expressed by @AndyTurner in the comment, the problem is in the cast from `long` to `int`, which could result in an erroneous calculation.\r\n\r\nPossible workarounds are changing the return type to `long`, which could lead to just moving the cast in a different place, or using `toIntExact`.\r\n\r\nThe different with a plain old cast is that, if the `long` does not actually fit into an `int`, `toIntExact` raises a `ArithmeticException`","title":"CWE-681: Avoid numerical data corruption during incompatible mutation in Java","body":"<p>As expressed by @AndyTurner in the comment, the problem is in the cast from <code>long</code> to <code>int</code>, which could result in an erroneous calculation.</p>\n\n<p>Possible workarounds are changing the return type to <code>long</code>, which could lead to just moving the cast in a different place, or using <code>toIntExact</code>.</p>\n\n<p>The different with a plain old cast is that, if the <code>long</code> does not actually fit into an <code>int</code>, <code>toIntExact</code> raises a <code>ArithmeticException</code></p>\n"}],"owner":{"account_id":17180072,"reputation":393,"user_id":12435623,"display_name":"not-a-bug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59046495,"answer_count":1,"score":0,"last_activity_date":1641395445,"creation_date":1574753727,"question_id":59045859,"body_markdown":"I am getting an error called &quot;Avoid numerical data corruption during incompatible mutation&quot; according to CISQ standard and CAST scan tools. Below is the sample code. Any idea how to avoid this??\r\n\r\n```\r\n public int getage() {\r\n\t  return (int) ChronoUnit.YEARS.between(getdob(), LocalDate.now());\r\n}\r\n```\r\n`I tried using JAVA 8 toIntExact of java.Math.toIntExact but I am not sure how different is this.`\r\n\r\n```\r\nreturn toIntExact(ChronoUnit.YEARS.between(LocalDate.of(2014,1, 1), LocalDate.now()));\r\n```","title":"CWE-681: Avoid numerical data corruption during incompatible mutation in Java","body":"<p>I am getting an error called &quot;Avoid numerical data corruption during incompatible mutation&quot; according to CISQ standard and CAST scan tools. Below is the sample code. Any idea how to avoid this??</p>\n<pre><code> public int getage() {\n      return (int) ChronoUnit.YEARS.between(getdob(), LocalDate.now());\n}\n</code></pre>\n<p><code>I tried using JAVA 8 toIntExact of java.Math.toIntExact but I am not sure how different is this.</code></p>\n<pre><code>return toIntExact(ChronoUnit.YEARS.between(LocalDate.of(2014,1, 1), LocalDate.now()));\n</code></pre>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":7946,"reputation":5117,"user_id":14009,"display_name":"Arthur Thomas"},"score":0,"creation_date":1221680850,"post_id":86878,"comment_id":11728,"body_markdown":"can you show what you have done so far so people can review?","body":"can you show what you have done so far so people can review?"},{"owner":{"account_id":327,"reputation":5871,"user_id":410,"display_name":"cynicalman"},"score":0,"creation_date":1221680883,"post_id":86878,"comment_id":7294084,"body_markdown":"This can&#39;t be answered without seeing the contents of the classpath including the configuration file you think is being used.","body":"This can&#39;t be answered without seeing the contents of the classpath including the configuration file you think is being used."},{"owner":{"account_id":8365,"reputation":1493,"user_id":15045,"accept_rate":29,"display_name":"Petr Macek"},"score":0,"creation_date":1221681297,"post_id":86878,"comment_id":11746,"body_markdown":"Yep, I will. But in the morning (now I am too tired)","body":"Yep, I will. But in the morning (now I am too tired)"}],"answers":[{"tags":[],"owner":{"account_id":8810,"reputation":1137,"user_id":16023,"accept_rate":50,"display_name":"Asgeir S. Nilsen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221681034,"creation_date":1221681034,"answer_id":86928,"question_id":86878,"body_markdown":"Two things:  Check additivity and decide whether you want log events captured by more detailed levels of logging to propagate to the root logger.\r\n\r\nSecondly, check the level for the root logger.  In addition you can also add filtering on the appender itself, but this should normally not be necessary.","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>Two things:  Check additivity and decide whether you want log events captured by more detailed levels of logging to propagate to the root logger.</p>\n\n<p>Secondly, check the level for the root logger.  In addition you can also add filtering on the appender itself, but this should normally not be necessary.</p>\n"},{"tags":[],"owner":{"account_id":4487,"reputation":2649,"user_id":6770,"accept_rate":26,"display_name":"James A. N. Stauffer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1221682357,"creation_date":1221682357,"answer_id":87123,"question_id":86878,"body_markdown":"Run your program with -Dlog4j.debug so that standard out gets info about how log4j is configured -- I suspected that it isn&#39;t configured the way that you think it is.","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>Run your program with -Dlog4j.debug so that standard out gets info about how log4j is configured -- I suspected that it isn't configured the way that you think it is.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1221682563,"creation_date":1221682563,"answer_id":87151,"question_id":86878,"body_markdown":"To add on to what James A. N. Stauffer and cynicalman said - I would bet that there is another log4j.xml / log4j.properties on your classpath other than the one you wish to be used that is causing log4j to configure itself the way it is.\r\n\r\n`-Dlog4j.debug` is an absolute killer way to troubleshoot any log4j issues.","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>To add on to what James A. N. Stauffer and cynicalman said - I would bet that there is another log4j.xml / log4j.properties on your classpath other than the one you wish to be used that is causing log4j to configure itself the way it is.</p>\n\n<p><code>-Dlog4j.debug</code> is an absolute killer way to troubleshoot any log4j issues.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221685413,"creation_date":1221685413,"answer_id":87644,"question_id":86878,"body_markdown":"If you are using a `log4j.properties` file, this file is typically expected to be in the root of your classpath, so make sure it&#39;s there.","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>If you are using a <code>log4j.properties</code> file, this file is typically expected to be in the root of your classpath, so make sure it's there.</p>\n"},{"tags":[],"owner":{"account_id":131470,"reputation":51,"user_id":331498,"display_name":"JCaptain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1272898709,"creation_date":1272898709,"answer_id":2758952,"question_id":86878,"body_markdown":"This is correct behavior. The root logger is like the default behavior. So if you don&#39;t specify any logger it will take root logger level as the default level but this does not mean that root logger level is the level for all your logs.\r\n\r\nAny of your code which logs using &#39;TraceLogger&#39;logger or &#39;org.springframework.ws.server.endpoint.interceptor&#39; logger will log messages using TRACE and DEBUG level respectively any other code will use root logger to log message using level, which is in your case ERROR.\r\n\r\nSo if you use logger other than root, root log level will be overridden by that logger&#39;s log level. To get the desired output change the other two log level to ERROR.\r\n\r\nI hope this is helpful. ","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>This is correct behavior. The root logger is like the default behavior. So if you don't specify any logger it will take root logger level as the default level but this does not mean that root logger level is the level for all your logs.</p>\n\n<p>Any of your code which logs using 'TraceLogger'logger or 'org.springframework.ws.server.endpoint.interceptor' logger will log messages using TRACE and DEBUG level respectively any other code will use root logger to log message using level, which is in your case ERROR.</p>\n\n<p>So if you use logger other than root, root log level will be overridden by that logger's log level. To get the desired output change the other two log level to ERROR.</p>\n\n<p>I hope this is helpful. </p>\n"},{"tags":[],"owner":{"account_id":41200,"reputation":3669,"user_id":119693,"accept_rate":50,"display_name":"monzonj"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1374024529,"creation_date":1281687785,"answer_id":3475120,"question_id":86878,"body_markdown":"The root logger resides at the top of the logger hierarchy. It is exceptional in three ways:\r\n\r\n - it always exists,\r\n - its level cannot be set to null\r\n - it cannot be retrieved by name.\r\n\r\n**The rootLogger is the father of all appenders. Each enabled logging request for a given logger will be forwarded to all the appenders in that logger as well as the appenders higher in the hierarchy (including rootLogger)**\r\n\r\nFor example, if the `console` appender is added to the `root logger`, then all enabled logging requests will **at least** print on the console. If in addition a file appender is added to a logger, say `L`, then enabled logging requests for `L` and `L&#39;s` children will print on a file **and** on the `console`. It is possible to override this default behavior so that appender accumulation is no longer additive **by setting the additivity flag to false**.\r\n\r\n*From the log4j manual*\r\n\r\n\r\n\r\nTo sum up:\r\n\r\nIf you want not to propagate a logging event to the parents loggers (say rootLogger) then add the additivity flag to false in those loggers. In your case:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;logger name=&quot;org.springframework.ws.server.endpoint.interceptor&quot;\r\n            additivity=&quot;false&quot;&gt;\r\n            &lt;level value=&quot;DEBUG&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;payloadAppender&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\nIn standard log4j config style (which I prefer to XML):\r\n\r\n    log4j.logger.org.springframework.ws.server.endpoint.interceptor = INFO, payloadAppender\r\n    log4j.additivity.org.springframework.ws.server.endpoint.interceptor = false\r\n\r\n\r\nHope this helps.\r\n\r\n\r\n","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>The root logger resides at the top of the logger hierarchy. It is exceptional in three ways:</p>\n\n<ul>\n<li>it always exists,</li>\n<li>its level cannot be set to null</li>\n<li>it cannot be retrieved by name.</li>\n</ul>\n\n<p><strong>The rootLogger is the father of all appenders. Each enabled logging request for a given logger will be forwarded to all the appenders in that logger as well as the appenders higher in the hierarchy (including rootLogger)</strong></p>\n\n<p>For example, if the <code>console</code> appender is added to the <code>root logger</code>, then all enabled logging requests will <strong>at least</strong> print on the console. If in addition a file appender is added to a logger, say <code>L</code>, then enabled logging requests for <code>L</code> and <code>L's</code> children will print on a file <strong>and</strong> on the <code>console</code>. It is possible to override this default behavior so that appender accumulation is no longer additive <strong>by setting the additivity flag to false</strong>.</p>\n\n<p><em>From the log4j manual</em></p>\n\n<p>To sum up:</p>\n\n<p>If you want not to propagate a logging event to the parents loggers (say rootLogger) then add the additivity flag to false in those loggers. In your case:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;logger name=\"org.springframework.ws.server.endpoint.interceptor\"\n        additivity=\"false\"&gt;\n        &lt;level value=\"DEBUG\" /&gt;\n        &lt;appender-ref ref=\"payloadAppender\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>In standard log4j config style (which I prefer to XML):</p>\n\n<pre><code>log4j.logger.org.springframework.ws.server.endpoint.interceptor = INFO, payloadAppender\nlog4j.additivity.org.springframework.ws.server.endpoint.interceptor = false\n</code></pre>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8365,"reputation":1493,"user_id":15045,"accept_rate":29,"display_name":"Petr Macek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74201,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":6,"score":41,"last_activity_date":1641395184,"creation_date":1221680748,"question_id":86878,"body_markdown":"I am having problem that even though I specify the level to ERROR in the root tag, the specified appender logs all levels (debug, info, warn) to the file regardless the settings. I am not a Log4j expert so any help is appreciated.\r\n\r\nI have checked the classpath for log4j.properties (there is none) except the log4j.xml.\r\n\r\nHere is the log4j.xml file:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration xmlns:log4j=&#39;http://jakarta.apache.org/log4j/&#39;&gt;\r\n    \r\n    \r\n    \t&lt;!-- ============================== --&gt;\r\n    \t&lt;!-- Append messages to the console --&gt;\r\n    \t&lt;!-- ============================== --&gt;\r\n    \r\n    \r\n    \t&lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\r\n    \r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;!-- The default pattern: Date Priority [Category] Message\\n --&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %5p] [%d{ISO8601}] [%t] [%c{1} - %L] %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;logfile&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;./logs/server.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;2&quot; /&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %-5p] {%d{dd.MM.yyyy - HH.mm.ss}} %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;payloadAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;./logs/payload.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %-5p] {%d{dd.MM.yyyy - HH.mm.ss}} %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;errorLog&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;./logs/error.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %-5p] {%d{dd.MM.yyyy - HH.mm.ss}} %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;traceLog&quot;\r\n    \t\tclass=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;./logs/trace.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\r\n    \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;20&quot; /&gt;\r\n    \r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot;\r\n    \t\t\t\tvalue=&quot;[AccessControl - %-5p] {%t: %d{dd.MM.yyyy - HH.mm.ss,SSS}} %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;traceSocketAppender&quot; class=&quot;org.apache.log4j.net.SocketAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;remoteHost&quot; value=&quot;localhost&quot; /&gt;\r\n    \t\t&lt;param name=&quot;port&quot; value=&quot;4445&quot; /&gt;\r\n    \t\t&lt;param name=&quot;locationInfo&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;logger name=&quot;TraceLogger&quot;&gt;\r\n    \t\t&lt;level value=&quot;trace&quot; /&gt; &lt;!-- Set level to trace to activate tracing --&gt;\r\n    \t\t&lt;appender-ref ref=&quot;traceLog&quot; /&gt;\t\t\r\n    \t&lt;/logger&gt;\r\n    \r\n    \t&lt;logger name=&quot;org.springframework.ws.server.endpoint.interceptor&quot;&gt;\r\n    \t\t&lt;level value=&quot;DEBUG&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;payloadAppender&quot; /&gt;\r\n    \t&lt;/logger&gt;\r\n    \r\n    \t&lt;root&gt;\r\n    \t\t&lt;level value=&quot;error&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;errorLog&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;\r\n\r\nIf I replace the root with another logger, then nothing gets logged at all to the specified appender.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;logger name=&quot;com.mydomain.logic&quot;&gt;\r\n        &lt;level value=&quot;error&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;errorLog&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\n\r\n","title":"Why is the root logger collecting all log types regardless the configuration?","body":"<p>I am having problem that even though I specify the level to ERROR in the root tag, the specified appender logs all levels (debug, info, warn) to the file regardless the settings. I am not a Log4j expert so any help is appreciated.</p>\n<p>I have checked the classpath for log4j.properties (there is none) except the log4j.xml.</p>\n<p>Here is the log4j.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n&lt;log4j:configuration xmlns:log4j='http://jakarta.apache.org/log4j/'&gt;\n\n\n    &lt;!-- ============================== --&gt;\n    &lt;!-- Append messages to the console --&gt;\n    &lt;!-- ============================== --&gt;\n\n\n    &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n        &lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\n\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;!-- The default pattern: Date Priority [Category] Message\\n --&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %5p] [%d{ISO8601}] [%t] [%c{1} - %L] %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;logfile&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;./logs/server.log&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;2&quot; /&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %-5p] {%d{dd.MM.yyyy - HH.mm.ss}} %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;payloadAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;./logs/payload.log&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %-5p] {%d{dd.MM.yyyy - HH.mm.ss}} %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;errorLog&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;./logs/error.log&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;[AC - %-5p] {%d{dd.MM.yyyy - HH.mm.ss}} %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;traceLog&quot;\n        class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;./logs/trace.log&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;1000KB&quot; /&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;20&quot; /&gt;\n\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot;\n                value=&quot;[AccessControl - %-5p] {%t: %d{dd.MM.yyyy - HH.mm.ss,SSS}} %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;traceSocketAppender&quot; class=&quot;org.apache.log4j.net.SocketAppender&quot;&gt;\n        &lt;param name=&quot;remoteHost&quot; value=&quot;localhost&quot; /&gt;\n        &lt;param name=&quot;port&quot; value=&quot;4445&quot; /&gt;\n        &lt;param name=&quot;locationInfo&quot; value=&quot;true&quot; /&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;TraceLogger&quot;&gt;\n        &lt;level value=&quot;trace&quot; /&gt; &lt;!-- Set level to trace to activate tracing --&gt;\n        &lt;appender-ref ref=&quot;traceLog&quot; /&gt;     \n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;org.springframework.ws.server.endpoint.interceptor&quot;&gt;\n        &lt;level value=&quot;DEBUG&quot; /&gt;\n        &lt;appender-ref ref=&quot;payloadAppender&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root&gt;\n        &lt;level value=&quot;error&quot; /&gt;\n        &lt;appender-ref ref=&quot;errorLog&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n<p>If I replace the root with another logger, then nothing gets logged at all to the specified appender.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;logger name=&quot;com.mydomain.logic&quot;&gt;\n    &lt;level value=&quot;error&quot; /&gt;\n    &lt;appender-ref ref=&quot;errorLog&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kafka-topic"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641395046,"creation_date":1641394697,"answer_id":70595017,"question_id":70594911,"body_markdown":"It does alert; in the logs you&#39;ll see info messages including `UNKNOWN_TOPIC_OR_PARTITION`\r\n\r\nIt&#39;s not a fatal exception. The consumer will continue to fetch cluster metadata and wait until the topic exists, and then poll it when it does.\r\n\r\nIf you&#39;d like to have spring create the topic, make a NewTopic bean for it.\r\n\r\nIf you&#39;d like to check for topic existence, and throw your own exception, use an AdminClient and the describeTopics method ","title":"Why doesn&#39;t a KafkaConsumer throw an error when a non-existing topic is assigned?","body":"<p>It does alert; in the logs you'll see info messages including <code>UNKNOWN_TOPIC_OR_PARTITION</code></p>\n<p>It's not a fatal exception. The consumer will continue to fetch cluster metadata and wait until the topic exists, and then poll it when it does.</p>\n<p>If you'd like to have spring create the topic, make a NewTopic bean for it.</p>\n<p>If you'd like to check for topic existence, and throw your own exception, use an AdminClient and the describeTopics method</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70595017,"answer_count":1,"score":1,"last_activity_date":1641395046,"creation_date":1641394251,"question_id":70594911,"body_markdown":"I have written a `KafkaConsumer`. The configuration looks like this:\r\n\r\n      @Bean\r\n      Map&lt;String, Object&gt; consumerConfig(\r\n          @Value(&quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapServers) {\r\n        return Map.of(\r\n            ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n            bootstrapServers,\r\n            ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,\r\n            &quot;earliest&quot;,\r\n            ConsumerConfig.ALLOW_AUTO_CREATE_TOPICS_CONFIG,\r\n            false,\r\n            ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n            StringDeserializer.class,\r\n            ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n            StringDeserializer.class);\r\n      }\r\n\r\nWhen I assign a topic that does not exist to the `KafkaConsumer`, no error is thrown. This is the code:\r\n\r\n    var topicPartition = new TopicPartition(&quot;75757584959595943&quot;, key);\r\n    var partitions = Set.of(topicPartition);\r\n    consumer.assign(partitions);\r\n    for (var records = consumer.poll(Duration.ZERO); !records.isEmpty(); ) {\r\n      // ...\r\n\r\n\r\nWhy does the `KafkaConsumer` not alert me about a non-existing topic? Wouldn&#39;t this be helpful?\r\n\r\n","title":"Why doesn&#39;t a KafkaConsumer throw an error when a non-existing topic is assigned?","body":"<p>I have written a <code>KafkaConsumer</code>. The configuration looks like this:</p>\n<pre><code>  @Bean\n  Map&lt;String, Object&gt; consumerConfig(\n      @Value(&quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapServers) {\n    return Map.of(\n        ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n        bootstrapServers,\n        ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,\n        &quot;earliest&quot;,\n        ConsumerConfig.ALLOW_AUTO_CREATE_TOPICS_CONFIG,\n        false,\n        ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n        StringDeserializer.class,\n        ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n        StringDeserializer.class);\n  }\n</code></pre>\n<p>When I assign a topic that does not exist to the <code>KafkaConsumer</code>, no error is thrown. This is the code:</p>\n<pre><code>var topicPartition = new TopicPartition(&quot;75757584959595943&quot;, key);\nvar partitions = Set.of(topicPartition);\nconsumer.assign(partitions);\nfor (var records = consumer.poll(Duration.ZERO); !records.isEmpty(); ) {\n  // ...\n</code></pre>\n<p>Why does the <code>KafkaConsumer</code> not alert me about a non-existing topic? Wouldn't this be helpful?</p>\n"},{"tags":["java","spring-boot","groovy","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1619604395,"creation_date":1619604395,"answer_id":67298115,"question_id":67295698,"body_markdown":"&gt; I call the getResponseForFindTeamRolesByFilters() at the response in order to generate a dynamic response from the server. \r\n\r\nYou should not do it. Contract tests should not access the database.\r\n\r\nFor the consumer you should do\r\n\r\n    request {\r\n            method &quot;POST&quot;\r\n            url &quot;api/team/findTeamRolesByFilters&quot;\r\n            headers {\r\n                contentType applicationJson()\r\n                accept applicationJson()\r\n                header&quot;Authorization&quot;, execute(&#39;bearerOfAccessToken()&#39;)\r\n            }\r\n            body $(producer(execute(&#39;getRequestForFindTeamRolesByFilters()&#39;)), consumer(&quot;some value to be put on the consumer side&quot;))\r\n        }\r\n\r\n\r\nFor the producer\r\n\r\n    response {\r\n        status OK()\r\n        headers {\r\n            contentType applicationJson()\r\n        }\r\n        body $(producer(execute(&#39;getResponseForFindTeamRolesByFilters()&#39;)), consumer(&quot;something in the stub&quot;))\r\n    }\r\n\r\n\r\n\r\n","title":"Spring Cloud Contract, body and execute method is not validating the response","body":"<blockquote>\n<p>I call the getResponseForFindTeamRolesByFilters() at the response in order to generate a dynamic response from the server.</p>\n</blockquote>\n<p>You should not do it. Contract tests should not access the database.</p>\n<p>For the consumer you should do</p>\n<pre><code>request {\n        method &quot;POST&quot;\n        url &quot;api/team/findTeamRolesByFilters&quot;\n        headers {\n            contentType applicationJson()\n            accept applicationJson()\n            header&quot;Authorization&quot;, execute('bearerOfAccessToken()')\n        }\n        body $(producer(execute('getRequestForFindTeamRolesByFilters()')), consumer(&quot;some value to be put on the consumer side&quot;))\n    }\n</code></pre>\n<p>For the producer</p>\n<pre><code>response {\n    status OK()\n    headers {\n        contentType applicationJson()\n    }\n    body $(producer(execute('getResponseForFindTeamRolesByFilters()')), consumer(&quot;something in the stub&quot;))\n}\n</code></pre>\n"}],"owner":{"account_id":5708667,"reputation":1501,"user_id":4511375,"accept_rate":100,"display_name":"Investigator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67298115,"answer_count":1,"score":0,"last_activity_date":1641394872,"creation_date":1619594983,"question_id":67295698,"body_markdown":"I have the following spring cloud contract:\r\n\r\n    package contracts.teams\r\n    \r\n    import org.springframework.cloud.contract.spec.Contract\r\n    \r\n    Contract.make {\r\n        name&quot;d Find team roles by filters&quot;\r\n        description &quot;Find team roles by filters&quot;\r\n    \r\n        request {\r\n            method &quot;POST&quot;\r\n            url &quot;api/team/findTeamRolesByFilters&quot;\r\n            headers {\r\n                contentType applicationJson()\r\n                accept applicationJson()\r\n                header&quot;Authorization&quot;, execute(&#39;bearerOfAccessToken()&#39;)\r\n            }\r\n            body execute(&#39;getRequestForFindTeamRolesByFilters()&#39;)\r\n        }\r\n    \r\n        response {\r\n            status OK()\r\n            headers {\r\n                contentType applicationJson()\r\n            }\r\n            body execute(&#39;getResponseForFindTeamRolesByFilters()&#39;)\r\n        }\r\n    }\r\n\r\nI call the **getResponseForFindTeamRolesByFilters()** at the response in order to generate a dynamic response from the server. The reason could for example be an auto generated id that is coming from the DB.\r\nThe generated string from the **getResponseForFindTeamRolesByFilters()** is a valid JSON that unfortunately is ignored and returns always true when the test run.\r\n\r\nI have noticed this when I replace the execute method with a static response like the following one:\r\n\r\n    &quot;&quot;&quot;\r\n    {\r\n       &quot;success&quot;: &quot;false&quot;\r\n    }\r\n    &quot;&quot;&quot;\r\n\r\nIn this case the response is being validated correctly and fails the test in case it does not match.\r\nWhat I said is being confirmed by the test generated code as it can be seen here:\r\n\r\n    // then:\r\n    \t\t\tassertThat(response.statusCode()).isEqualTo(200);\r\n    \t\t\tassertThat(response.header(&quot;Content-Type&quot;)).matches(&quot;application/json.*&quot;);\r\n    \r\n    \t\t// and:\r\n    \t\t\tDocumentContext parsedJson = JsonPath.parse(response.getBody().asString());\r\n    \t\t\tgetResponseForFindTeamRolesByFilters();\r\n\r\nAs you can see there is no assertion. It simply calls the method that generates the json.\r\n\r\nHow am I supposed to make the test check the dynamic json response?\r\nThank you!","title":"Spring Cloud Contract, body and execute method is not validating the response","body":"<p>I have the following spring cloud contract:</p>\n<pre><code>package contracts.teams\n\nimport org.springframework.cloud.contract.spec.Contract\n\nContract.make {\n    name&quot;d Find team roles by filters&quot;\n    description &quot;Find team roles by filters&quot;\n\n    request {\n        method &quot;POST&quot;\n        url &quot;api/team/findTeamRolesByFilters&quot;\n        headers {\n            contentType applicationJson()\n            accept applicationJson()\n            header&quot;Authorization&quot;, execute('bearerOfAccessToken()')\n        }\n        body execute('getRequestForFindTeamRolesByFilters()')\n    }\n\n    response {\n        status OK()\n        headers {\n            contentType applicationJson()\n        }\n        body execute('getResponseForFindTeamRolesByFilters()')\n    }\n}\n</code></pre>\n<p>I call the <strong>getResponseForFindTeamRolesByFilters()</strong> at the response in order to generate a dynamic response from the server. The reason could for example be an auto generated id that is coming from the DB.\nThe generated string from the <strong>getResponseForFindTeamRolesByFilters()</strong> is a valid JSON that unfortunately is ignored and returns always true when the test run.</p>\n<p>I have noticed this when I replace the execute method with a static response like the following one:</p>\n<pre><code>&quot;&quot;&quot;\n{\n   &quot;success&quot;: &quot;false&quot;\n}\n&quot;&quot;&quot;\n</code></pre>\n<p>In this case the response is being validated correctly and fails the test in case it does not match.\nWhat I said is being confirmed by the test generated code as it can be seen here:</p>\n<pre><code>// then:\n            assertThat(response.statusCode()).isEqualTo(200);\n            assertThat(response.header(&quot;Content-Type&quot;)).matches(&quot;application/json.*&quot;);\n\n        // and:\n            DocumentContext parsedJson = JsonPath.parse(response.getBody().asString());\n            getResponseForFindTeamRolesByFilters();\n</code></pre>\n<p>As you can see there is no assertion. It simply calls the method that generates the json.</p>\n<p>How am I supposed to make the test check the dynamic json response?\nThank you!</p>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641394611,"creation_date":1641394611,"answer_id":70594995,"question_id":70592656,"body_markdown":"GuildMessageReceiveEvent has been removed and replaced by `MessageReceivedEvent` in JDA 5+. To only handle guild messages you just check `event.isFromGuild()` in your event:\r\n\r\n```java\r\npublic void onMessageReceived(MessageReceivedEvent event) {\r\n  if (!event.isFromGuild()) return;\r\n  ...\r\n}\r\n```","title":"Why i don&#39;t have GuildMessageReceivedEvent?","body":"<p>GuildMessageReceiveEvent has been removed and replaced by <code>MessageReceivedEvent</code> in JDA 5+. To only handle guild messages you just check <code>event.isFromGuild()</code> in your event:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onMessageReceived(MessageReceivedEvent event) {\n  if (!event.isFromGuild()) return;\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":23828069,"reputation":23,"user_id":17840582,"display_name":"Del"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70594995,"answer_count":1,"score":2,"last_activity_date":1641394871,"creation_date":1641384634,"question_id":70592656,"body_markdown":"I&#39;m making discord bot and i need make a commands like &quot;kick&quot; but JDA has only MessageReceiveEvent. I checked in docs and its says in jda has GuildMessageReceiveEvent but code only says about MessageReceivedEvent.","title":"Why i don&#39;t have GuildMessageReceivedEvent?","body":"<p>I'm making discord bot and i need make a commands like &quot;kick&quot; but JDA has only MessageReceiveEvent. I checked in docs and its says in jda has GuildMessageReceiveEvent but code only says about MessageReceivedEvent.</p>\n"},{"tags":["javascript","java","reactjs","spring-boot","upload"],"answers":[{"tags":[],"owner":{"account_id":7952557,"reputation":926,"user_id":7060976,"display_name":"Vishnu Sajeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641394869,"creation_date":1641394869,"answer_id":70595059,"question_id":70594513,"body_markdown":"In your `onFileChangeHandler` function you are setting the file to the `selectedFile` state and then immediately access it again like \r\n\r\n    formData.append(&#39;file&#39;, this.state.selectedFile);\r\nYou cannot set something to the react state and access it again on the next line, this is because `setState` works asynchronously in react. Which means if you want to get the latest set value from react state, you need to wait for the next re-render to happen. Otherwise you will only get the previously set value from the state, and in your case its `undefined`. So in you function, pass the file data directly to the `formData`. Try the below code\r\n\r\n    onFileChangeHandler = (e) =&gt; {\r\n        e.preventDefault();\r\n        const fileData = e.target.files[0];\r\n        this.setState({\r\n            selectedFile: fileData\r\n        });\r\n        const formData = new FormData();\r\n        formData.append(&#39;file&#39;, fileData);\r\n        const USER_UPLOAD_FILE_URL = UPLOAD_FILE_URL + &quot;/&quot; + this.state.username;\r\n        fetch(USER_UPLOAD_FILE_URL, {\r\n            method: &#39;POST&#39;,\r\n            headers: {\r\n                &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)\r\n            },\r\n            body: formData\r\n        }).then(res =&gt; {\r\n            if(res.ok) {\r\n                console.log(res.data);\r\n                alert(&quot;File uploaded successfully.&quot;)\r\n            }\r\n        });\r\n\r\n    };","title":"React - 1st file upload to Spring API doesn&#39;t work, try again and it works fine on second try?","body":"<p>In your <code>onFileChangeHandler</code> function you are setting the file to the <code>selectedFile</code> state and then immediately access it again like</p>\n<pre><code>formData.append('file', this.state.selectedFile);\n</code></pre>\n<p>You cannot set something to the react state and access it again on the next line, this is because <code>setState</code> works asynchronously in react. Which means if you want to get the latest set value from react state, you need to wait for the next re-render to happen. Otherwise you will only get the previously set value from the state, and in your case its <code>undefined</code>. So in you function, pass the file data directly to the <code>formData</code>. Try the below code</p>\n<pre><code>onFileChangeHandler = (e) =&gt; {\n    e.preventDefault();\n    const fileData = e.target.files[0];\n    this.setState({\n        selectedFile: fileData\n    });\n    const formData = new FormData();\n    formData.append('file', fileData);\n    const USER_UPLOAD_FILE_URL = UPLOAD_FILE_URL + &quot;/&quot; + this.state.username;\n    fetch(USER_UPLOAD_FILE_URL, {\n        method: 'POST',\n        headers: {\n            &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)\n        },\n        body: formData\n    }).then(res =&gt; {\n        if(res.ok) {\n            console.log(res.data);\n            alert(&quot;File uploaded successfully.&quot;)\n        }\n    });\n\n};\n</code></pre>\n"}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70595059,"answer_count":1,"score":0,"last_activity_date":1641394869,"creation_date":1641392649,"question_id":70594513,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L1fcg.png\r\n\r\nHello\r\n\r\nI have developed a frontend React project which requests resources and logic to a SpringBoot REST API. I recently implemented file upload, and the form I have created using React always fails on the first try, but when I click it again and upload a different file (which file is irrelevant, it&#39;s not the file causing this), it successfully uploads the file via POST with a Binary file as a payload.\r\n\r\nThe first request has a payload of &#39;undefined&#39;.\r\n\r\nReact Form:\r\n\r\n\r\n    const UPDATE_USER_URL = &#39;http://localhost:8080/users/update-user-details&#39;;\r\n    const UPLOAD_FILE_URL = &#39;http://localhost:8080/image-files&#39;;\r\n    class UpdateUserForm extends React.Component {\r\n    \r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                username: localStorage.getItem(&quot;username&quot;),\r\n                location: &quot;&quot;,\r\n                bio: &quot;&quot;\r\n            };\r\n            this.onSubmit = this.onSubmit.bind(this);\r\n    \r\n            this.handleInputChange = this.handleInputChange.bind(this);\r\n        }\r\n    \r\n        handleInputChange(event) {\r\n            const target = event.target;\r\n            const value = target.value;\r\n            const name = target.name;\r\n    \r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    \r\n        onFileChangeHandler = (e) =&gt; {\r\n            e.preventDefault();\r\n            this.setState({\r\n                selectedFile: e.target.files[0]\r\n            });\r\n            const formData = new FormData();\r\n            formData.append(&#39;file&#39;, this.state.selectedFile);\r\n            const USER_UPLOAD_FILE_URL = UPLOAD_FILE_URL + &quot;/&quot; + this.state.username;\r\n            fetch(USER_UPLOAD_FILE_URL, {\r\n                method: &#39;POST&#39;,\r\n                headers: {\r\n                    &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)\r\n                },\r\n                body: formData\r\n            }).then(res =&gt; {\r\n                if(res.ok) {\r\n                    console.log(res.data);\r\n                    alert(&quot;File uploaded successfully.&quot;)\r\n                }\r\n            });\r\n    \r\n        };\r\n    \r\n        onSubmit(event) {\r\n            event.preventDefault();\r\n            const payload = {\r\n                &quot;username&quot;: this.state.username,\r\n                &quot;location&quot;: this.capital_letter(this.state.location),\r\n                &quot;bio&quot;: this.state.bio\r\n            };\r\n    \r\n            fetch(UPDATE_USER_URL, {\r\n                method: &#39;PUT&#39;,\r\n                headers: {\r\n                    &quot;Accept&quot;: &quot;application/json&quot;,\r\n                    &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n                    &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)\r\n                },\r\n                body: JSON.stringify(payload)\r\n            })\r\n                .then(response =&gt; response.json())\r\n                .then((data) =&gt; {\r\n                    console.log(data);\r\n                });\r\n        }\r\n        //https://www.w3resource.com/javascript-exercises/javascript-basic-exercise-50.php\r\n        capital_letter(str) {\r\n    \r\n            str = str.split(&quot; &quot;);\r\n    \r\n            for (var i = 0, x = str.length; i &lt; x; i++) {\r\n                str[i] = str[i][0].toUpperCase() + str[i].substr(1);\r\n            }\r\n            console.log(str)\r\n            return str.join(&quot; &quot;);\r\n        }\r\n    \r\n        generateUploadUrl(username) {\r\n    \r\n        }\r\n    \r\n        render() {\r\n            return (\r\n                &lt;div className=&quot;outer-div-container&quot;&gt;\r\n                    &lt;div&gt;\r\n                &lt;AppNavbar/&gt;\r\n                &lt;div id=&quot;form-container&quot;&gt;\r\n                    &lt;div id=&quot;form-div&quot;&gt;\r\n    \r\n                        &lt;h5 id=&quot;form-heading&quot;&gt;Update Details&lt;/h5&gt;\r\n                        &lt;br /&gt;\r\n                &lt;div className=&quot;outer-div-container&quot;&gt;\r\n                &lt;form onSubmit={this.onSubmit}&gt;\r\n                    &lt;label className=&quot;form-label&quot; id=&quot;top-form-label&quot;&gt;\r\n                        Location:\r\n                        &lt;br /&gt;\r\n                        &lt;input\r\n                            className=&quot;form-input&quot;\r\n                            //Taumatawhakatangihangakoauauotamateaturipukakapikimaungahoronukupokaiwhen\r\n                            maxLength=&quot;85&quot;\r\n                            //No min length as places with 1 letter e.g: A, S.\r\n                            name=&quot;location&quot;\r\n                            type=&quot;text&quot;\r\n                            value={this.state.location}\r\n                            onChange={this.handleInputChange} /&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br /&gt;\r\n                    &lt;label className=&quot;form-label&quot;&gt;\r\n                        Bio:\r\n                        &lt;br /&gt;\r\n                        &lt;input\r\n                            className=&quot;form-input&quot;\r\n                            minLength=&quot;3&quot;\r\n                            name=&quot;bio&quot;\r\n                            type=&quot;text&quot;\r\n                            value={this.state.bio}\r\n                            onChange={this.handleInputChange} /&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;label&gt;Upload Your File &lt;/label&gt;\r\n                    &lt;input type=&quot;file&quot; className=&quot;form-control&quot; name=&quot;file&quot; onChange={this.onFileChangeHandler}/&gt;\r\n    \r\n                    &lt;br /&gt;\r\n                    &lt;input id=&quot;form-submit&quot; type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;\r\n    \r\n                &lt;/form&gt;\r\n                    &lt;div className=&quot;form-group files color&quot;&gt;\r\n                            &lt;label&gt;Upload Your File &lt;/label&gt;\r\n                            &lt;input type=&quot;file&quot; className=&quot;form-control&quot; name=&quot;file&quot; onChange={this.onFileChangeHandler}/&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            );\r\n        }\r\n    }\r\n    export default UpdateUserForm;\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;image-files&quot;)\r\n    @AllArgsConstructor\r\n    @CrossOrigin(&quot;*&quot;)\r\n    public class ImageFileController {\r\n        ImageFileService service;\r\n    \r\n    \r\n        @GetMapping(value = &quot;/{username}&quot;)\r\n        public byte[] downloadImageFile(@PathVariable String username) {\r\n            return service.downloadImageFile(username);\r\n        }\r\n    }\r\n\r\nAny help would be greatly appreciated, I am completely stumped, thanks.","title":"React - 1st file upload to Spring API doesn&#39;t work, try again and it works fine on second try?","body":"<p><a href=\"https://i.stack.imgur.com/L1fcg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1fcg.png\" alt=\"enter image description here\" /></a></p>\n<p>Hello</p>\n<p>I have developed a frontend React project which requests resources and logic to a SpringBoot REST API. I recently implemented file upload, and the form I have created using React always fails on the first try, but when I click it again and upload a different file (which file is irrelevant, it's not the file causing this), it successfully uploads the file via POST with a Binary file as a payload.</p>\n<p>The first request has a payload of 'undefined'.</p>\n<p>React Form:</p>\n<pre><code>const UPDATE_USER_URL = 'http://localhost:8080/users/update-user-details';\nconst UPLOAD_FILE_URL = 'http://localhost:8080/image-files';\nclass UpdateUserForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: localStorage.getItem(&quot;username&quot;),\n            location: &quot;&quot;,\n            bio: &quot;&quot;\n        };\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    onFileChangeHandler = (e) =&gt; {\n        e.preventDefault();\n        this.setState({\n            selectedFile: e.target.files[0]\n        });\n        const formData = new FormData();\n        formData.append('file', this.state.selectedFile);\n        const USER_UPLOAD_FILE_URL = UPLOAD_FILE_URL + &quot;/&quot; + this.state.username;\n        fetch(USER_UPLOAD_FILE_URL, {\n            method: 'POST',\n            headers: {\n                &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)\n            },\n            body: formData\n        }).then(res =&gt; {\n            if(res.ok) {\n                console.log(res.data);\n                alert(&quot;File uploaded successfully.&quot;)\n            }\n        });\n\n    };\n\n    onSubmit(event) {\n        event.preventDefault();\n        const payload = {\n            &quot;username&quot;: this.state.username,\n            &quot;location&quot;: this.capital_letter(this.state.location),\n            &quot;bio&quot;: this.state.bio\n        };\n\n        fetch(UPDATE_USER_URL, {\n            method: 'PUT',\n            headers: {\n                &quot;Accept&quot;: &quot;application/json&quot;,\n                &quot;Content-Type&quot;: &quot;application/json&quot;,\n                &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)\n            },\n            body: JSON.stringify(payload)\n        })\n            .then(response =&gt; response.json())\n            .then((data) =&gt; {\n                console.log(data);\n            });\n    }\n    //https://www.w3resource.com/javascript-exercises/javascript-basic-exercise-50.php\n    capital_letter(str) {\n\n        str = str.split(&quot; &quot;);\n\n        for (var i = 0, x = str.length; i &lt; x; i++) {\n            str[i] = str[i][0].toUpperCase() + str[i].substr(1);\n        }\n        console.log(str)\n        return str.join(&quot; &quot;);\n    }\n\n    generateUploadUrl(username) {\n\n    }\n\n    render() {\n        return (\n            &lt;div className=&quot;outer-div-container&quot;&gt;\n                &lt;div&gt;\n            &lt;AppNavbar/&gt;\n            &lt;div id=&quot;form-container&quot;&gt;\n                &lt;div id=&quot;form-div&quot;&gt;\n\n                    &lt;h5 id=&quot;form-heading&quot;&gt;Update Details&lt;/h5&gt;\n                    &lt;br /&gt;\n            &lt;div className=&quot;outer-div-container&quot;&gt;\n            &lt;form onSubmit={this.onSubmit}&gt;\n                &lt;label className=&quot;form-label&quot; id=&quot;top-form-label&quot;&gt;\n                    Location:\n                    &lt;br /&gt;\n                    &lt;input\n                        className=&quot;form-input&quot;\n                        //Taumatawhakatangihangakoauauotamateaturipukakapikimaungahoronukupokaiwhen\n                        maxLength=&quot;85&quot;\n                        //No min length as places with 1 letter e.g: A, S.\n                        name=&quot;location&quot;\n                        type=&quot;text&quot;\n                        value={this.state.location}\n                        onChange={this.handleInputChange} /&gt;\n                &lt;/label&gt;\n                &lt;br /&gt;\n                &lt;label className=&quot;form-label&quot;&gt;\n                    Bio:\n                    &lt;br /&gt;\n                    &lt;input\n                        className=&quot;form-input&quot;\n                        minLength=&quot;3&quot;\n                        name=&quot;bio&quot;\n                        type=&quot;text&quot;\n                        value={this.state.bio}\n                        onChange={this.handleInputChange} /&gt;\n                &lt;/label&gt;\n                &lt;label&gt;Upload Your File &lt;/label&gt;\n                &lt;input type=&quot;file&quot; className=&quot;form-control&quot; name=&quot;file&quot; onChange={this.onFileChangeHandler}/&gt;\n\n                &lt;br /&gt;\n                &lt;input id=&quot;form-submit&quot; type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;\n\n            &lt;/form&gt;\n                &lt;div className=&quot;form-group files color&quot;&gt;\n                        &lt;label&gt;Upload Your File &lt;/label&gt;\n                        &lt;input type=&quot;file&quot; className=&quot;form-control&quot; name=&quot;file&quot; onChange={this.onFileChangeHandler}/&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;/div&gt;\n        );\n    }\n}\nexport default UpdateUserForm;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;image-files&quot;)\n@AllArgsConstructor\n@CrossOrigin(&quot;*&quot;)\npublic class ImageFileController {\n    ImageFileService service;\n\n\n    @GetMapping(value = &quot;/{username}&quot;)\n    public byte[] downloadImageFile(@PathVariable String username) {\n        return service.downloadImageFile(username);\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated, I am completely stumped, thanks.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641394854,"creation_date":1641394854,"answer_id":70595055,"question_id":70593897,"body_markdown":"This response means that the Discord client tried to use an old version of the command that it had cached. If you simply retype the command, it should use the updated command instead.\r\n\r\nThe cause of this behavior is from calling `upsertCommand` when you start your bot. This will *replace* the existing command and make the client cache invalid.\r\n\r\nYou can use `updateCommands().addCommands(allOfYourCommands).queue()` instead, to prevent this from happening. However, keep in mind you need to put all your commands in `addCommands(...)`, not just one at a time!","title":"Invalid command for interaction application","body":"<p>This response means that the Discord client tried to use an old version of the command that it had cached. If you simply retype the command, it should use the updated command instead.</p>\n<p>The cause of this behavior is from calling <code>upsertCommand</code> when you start your bot. This will <em>replace</em> the existing command and make the client cache invalid.</p>\n<p>You can use <code>updateCommands().addCommands(allOfYourCommands).queue()</code> instead, to prevent this from happening. However, keep in mind you need to put all your commands in <code>addCommands(...)</code>, not just one at a time!</p>\n"}],"owner":{"account_id":23637796,"reputation":79,"user_id":17668557,"display_name":"michel929"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70595055,"answer_count":1,"score":1,"last_activity_date":1641394854,"creation_date":1641390230,"question_id":70593897,"body_markdown":"I register an SlashCommand... but it answered &quot;Invalid command for interaction application&quot; Can somebody help...\r\n\r\n```\r\n @Override\r\n    public void onSlashCommand(SlashCommandEvent event) {\r\n\r\n        if (event.getName().equals(&quot;login&quot;)) {\r\n\r\n            EmbedBuilder buil = new EmbedBuilder();\r\n            buil.setColor(Color.RED);\r\n            buil.appendDescription(&quot;Du hast deinen DiscordAccount noch nicht mit dem TurnierSystem verkn&#252;pft... Benutze ?connect um die Accounts zu verkn&#252;pfen.&quot;);\r\n            buil.setAuthor(&quot;TurnierSystem&quot;);\r\n            buil.setTitle(&quot;Discord Login (Fehler)&quot;);\r\n\r\n           event.replyEmbeds(buil.build()).queue();\r\n\r\n        }\r\n```","title":"Invalid command for interaction application","body":"<p>I register an SlashCommand... but it answered &quot;Invalid command for interaction application&quot; Can somebody help...</p>\n<pre><code> @Override\n    public void onSlashCommand(SlashCommandEvent event) {\n\n        if (event.getName().equals(&quot;login&quot;)) {\n\n            EmbedBuilder buil = new EmbedBuilder();\n            buil.setColor(Color.RED);\n            buil.appendDescription(&quot;Du hast deinen DiscordAccount noch nicht mit dem TurnierSystem verknüpft... Benutze ?connect um die Accounts zu verknüpfen.&quot;);\n            buil.setAuthor(&quot;TurnierSystem&quot;);\n            buil.setTitle(&quot;Discord Login (Fehler)&quot;);\n\n           event.replyEmbeds(buil.build()).queue();\n\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1641394900,"post_id":70595031,"comment_id":124794048,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1641395401,"post_id":70595031,"comment_id":124794291,"body_markdown":"fyi, you have `i &lt; Vektor[i].length;` as a condition in your second loop, which should probably be `j &lt; Vektor[i].length;`. (You are using the wrong counter variable in other words)","body":"fyi, you have <code>i &lt; Vektor[i].length;</code> as a condition in your second loop, which should probably be <code>j &lt; Vektor[i].length;</code>. (You are using the wrong counter variable in other words)"}],"owner":{"account_id":23836352,"reputation":1,"user_id":17842042,"display_name":"playtime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641394944,"answer_count":0,"score":0,"last_activity_date":1641394771,"creation_date":1641394771,"question_id":70595031,"body_markdown":"import java.util.Scanner;\r\n\r\npublic class MehrdimensionaleArrays {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Wie gro&#223; soll ihr Vektor sein?&quot;);\r\n\t\t\r\n\t\tint Line;\r\n\t\tint Column;\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in);\t\t\r\n\t\t\r\n\t\tLine  = sc.nextInt();\r\n\t\tColumn = sc.nextInt();\r\n\t\t\r\n\t\tint[][] Vektor = new int[Line][Column];\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; Vektor.length; i++) {\r\n\t\t\tfor(int j = 0; i &lt; Vektor[i].length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tVektor[i][j] = (int) (Math.random()*100);\r\n\t\t\t\tSystem.out.print(Vektor[i][j] + &quot;, &quot; );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nI am getting an error that says Index X out of bounds for length X and i&#39;m not sure what that means.","title":"Exception in thread &quot;main&quot; 50, java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4?","body":"<p>import java.util.Scanner;</p>\n<p>public class MehrdimensionaleArrays {</p>\n<pre><code>public static void main(String[] args) {\n    \n    System.out.println(&quot;Wie groß soll ihr Vektor sein?&quot;);\n    \n    int Line;\n    int Column;\n    \n    Scanner sc = new Scanner(System.in);        \n    \n    Line  = sc.nextInt();\n    Column = sc.nextInt();\n    \n    int[][] Vektor = new int[Line][Column];\n    \n    for(int i = 0; i &lt; Vektor.length; i++) {\n        for(int j = 0; i &lt; Vektor[i].length; j++) {\n            \n            Vektor[i][j] = (int) (Math.random()*100);\n            System.out.print(Vektor[i][j] + &quot;, &quot; );\n        }\n        \n        System.out.println();\n        \n    }\n\n}\n</code></pre>\n<p>}\nI am getting an error that says Index X out of bounds for length X and i'm not sure what that means.</p>\n"},{"tags":["java","apache-spark","cluster-computing","hadoop-yarn"],"answers":[{"tags":[],"owner":{"account_id":17389536,"reputation":141,"user_id":12600300,"display_name":"ankush1377"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640778837,"creation_date":1640778837,"answer_id":70519041,"question_id":70502932,"body_markdown":"Need some clarity with regards to the usage of this config file here. \r\n\r\nIn case it is just needed as an argument to the main method, &amp; the content is being used for spark session initialisation, then there should be no need to copy it onto any of the worker nodes.\r\n\r\nIn case the file is needed in the driver or the executors, then you should be passing it using the `--files` argument.\r\n\r\nCopying to hdfs from local can be done using https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/FileSystemShell.html#copyFromLocal\r\n\r\n ","title":"Spark submit on Yarn Cluster mode with config file put into HDFS issue","body":"<p>Need some clarity with regards to the usage of this config file here.</p>\n<p>In case it is just needed as an argument to the main method, &amp; the content is being used for spark session initialisation, then there should be no need to copy it onto any of the worker nodes.</p>\n<p>In case the file is needed in the driver or the executors, then you should be passing it using the <code>--files</code> argument.</p>\n<p>Copying to hdfs from local can be done using <a href=\"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/FileSystemShell.html#copyFromLocal\" rel=\"nofollow noreferrer\">https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/FileSystemShell.html#copyFromLocal</a></p>\n"}],"owner":{"account_id":23734711,"reputation":13,"user_id":17753518,"display_name":"Delevin Zhong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641394738,"creation_date":1640667393,"question_id":70502932,"body_markdown":"I have a spark program that needs to be passed a config file as a parameter for the main method. Currently when I submit the job in yarn cluster mode, I need to put the config file in all worker nodes so that the program can find it. However, I want to put it into HDFS path but will get the file not found error. Below is the command I use:\r\n\r\n    spark-submit --master yarn\\\r\n    --name StreamingApp \\\r\n    --deploy-mode cluster \\\r\n    --class com.test.streaming.App \\\r\n    --driver-java-options &quot;-Djava.security.auth.login=/home/spark/auth.conf&quot; \\\r\n    --conf &quot;spark.executor.extraJavaOptions=-Djava.security.auth.login.config=/home/spark/auth.conf&quot; \\\r\n    --conf &quot;spark.driver.extraJavaOptions=-Djava.security.auth.login.config=/home/spark/auth.conf&quot; \\\r\n    --conf &quot;spark.driver.extraClassPath=/etc/hbase/conf/&quot; \\\r\n    /home/spark/StreamingFramework-0.0.1-SNAPSHTO-jar-with-dependencies.jar /home/spark/config.json\r\n\r\nHow can I put the last parameter (**/home/spark/config.json**) into HDFS so it works?","title":"Spark submit on Yarn Cluster mode with config file put into HDFS issue","body":"<p>I have a spark program that needs to be passed a config file as a parameter for the main method. Currently when I submit the job in yarn cluster mode, I need to put the config file in all worker nodes so that the program can find it. However, I want to put it into HDFS path but will get the file not found error. Below is the command I use:</p>\n<pre><code>spark-submit --master yarn\\\n--name StreamingApp \\\n--deploy-mode cluster \\\n--class com.test.streaming.App \\\n--driver-java-options &quot;-Djava.security.auth.login=/home/spark/auth.conf&quot; \\\n--conf &quot;spark.executor.extraJavaOptions=-Djava.security.auth.login.config=/home/spark/auth.conf&quot; \\\n--conf &quot;spark.driver.extraJavaOptions=-Djava.security.auth.login.config=/home/spark/auth.conf&quot; \\\n--conf &quot;spark.driver.extraClassPath=/etc/hbase/conf/&quot; \\\n/home/spark/StreamingFramework-0.0.1-SNAPSHTO-jar-with-dependencies.jar /home/spark/config.json\n</code></pre>\n<p>How can I put the last parameter (<strong>/home/spark/config.json</strong>) into HDFS so it works?</p>\n"},{"tags":["java","spring-batch","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641394704,"creation_date":1641394704,"answer_id":70595020,"question_id":70585403,"body_markdown":"See https://docs.spring.io/spring-batch/docs/4.1.x/api/org/springframework/batch/container/jms/BatchMessageListenerContainer.html\r\n\r\nThere&#39;s not much documentation aside from the JavaDocs but there is a test case here https://github.com/spring-projects/spring-batch/blob/5dc17b190e95c87463f96bc27d8d5292c46006ff/spring-batch-infrastructure/src/test/java/org/springframework/batch/container/jms/BatchMessageListenerContainerTests.java","title":"How to implement Spring JMS Window processing?","body":"<p>See <a href=\"https://docs.spring.io/spring-batch/docs/4.1.x/api/org/springframework/batch/container/jms/BatchMessageListenerContainer.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/4.1.x/api/org/springframework/batch/container/jms/BatchMessageListenerContainer.html</a></p>\n<p>There's not much documentation aside from the JavaDocs but there is a test case here <a href=\"https://github.com/spring-projects/spring-batch/blob/5dc17b190e95c87463f96bc27d8d5292c46006ff/spring-batch-infrastructure/src/test/java/org/springframework/batch/container/jms/BatchMessageListenerContainerTests.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/blob/5dc17b190e95c87463f96bc27d8d5292c46006ff/spring-batch-infrastructure/src/test/java/org/springframework/batch/container/jms/BatchMessageListenerContainerTests.java</a></p>\n"}],"owner":{"account_id":2293970,"reputation":1122,"user_id":2015948,"accept_rate":79,"display_name":"Boris Mitioglov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641394704,"creation_date":1641332615,"question_id":70585403,"body_markdown":"I need to read messages from the JMS queue by batches (I have max number of records and time window parameters, whichever comes first). \r\n\r\nThen I need to process the messages and do bulk updates &amp; inserts into the DB. \r\n\r\nHow to implement this using Spring? \r\n\r\nI was thinking about combining Spring Batch and JMS, but I am not sure if Spring Batch can work without stopping, I need to listen the queue indefinitely. I have the impression that Spring Batch is not for this streaming use case.\r\n\r\nI know that in Kafka there is `ConcurrentKafkaListenerContainerFactory` where you can set batch processing to true, but unfortunately we don&#39;t use Kafka for now.","title":"How to implement Spring JMS Window processing?","body":"<p>I need to read messages from the JMS queue by batches (I have max number of records and time window parameters, whichever comes first).</p>\n<p>Then I need to process the messages and do bulk updates &amp; inserts into the DB.</p>\n<p>How to implement this using Spring?</p>\n<p>I was thinking about combining Spring Batch and JMS, but I am not sure if Spring Batch can work without stopping, I need to listen the queue indefinitely. I have the impression that Spring Batch is not for this streaming use case.</p>\n<p>I know that in Kafka there is <code>ConcurrentKafkaListenerContainerFactory</code> where you can set batch processing to true, but unfortunately we don't use Kafka for now.</p>\n"},{"tags":["java","hazelcast"],"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641394279,"creation_date":1641393668,"question_id":70594772,"body_markdown":"I have entry expired listener registered on a IMap.\r\nI insert ~1 000 000 records into the map with ttl of 10 minutes.\r\n\r\nData is inserted over the range of 5 minutes:\r\n\r\n10:00 - 10:05 -&gt; all records are inserted\r\n\r\nI expect first record to expire at 10:00 + 10 minutes ttl = 10:10\r\n\r\nI expect last record to expire at 10:05 + 10 minutes ttl = 10:15\r\n\r\nFirst record expires roughly at the proper time (~30 seconds more or less), but last record expires 10:25 which is way later than expected.\r\nI ran more similar tests, results are the same.\r\n\r\nFor this test entry expired listener code just counts expired records and logs each 500th record.\r\nI tried using more threads to make sure there is no issue with throughput, behavior was completely the same.\r\n\r\n\r\nI found this answer:\r\nhttps://stackoverflow.com/questions/53156762/hazelcast-expiration-listener-delay\r\n\r\nIs this behavior expected from entry expired listener?\r\nSmall delay would be acceptable.\r\n\r\n\r\nAlso, suggestions to do this differently are welcome.\r\nI am using cache as a buffer and need to process entries on buffer expiry.\r\nBuffer would hold a maximum of ~4 000 000 records at a time.\r\n\r\n\r\nHazelcast version 4.2.1 | Java version 1.8.0_301\r\n\r\nRunning in client-server architecture","title":"Hazelcast entry expiry delay","body":"<p>I have entry expired listener registered on a IMap.\nI insert ~1 000 000 records into the map with ttl of 10 minutes.</p>\n<p>Data is inserted over the range of 5 minutes:</p>\n<p>10:00 - 10:05 -&gt; all records are inserted</p>\n<p>I expect first record to expire at 10:00 + 10 minutes ttl = 10:10</p>\n<p>I expect last record to expire at 10:05 + 10 minutes ttl = 10:15</p>\n<p>First record expires roughly at the proper time (~30 seconds more or less), but last record expires 10:25 which is way later than expected.\nI ran more similar tests, results are the same.</p>\n<p>For this test entry expired listener code just counts expired records and logs each 500th record.\nI tried using more threads to make sure there is no issue with throughput, behavior was completely the same.</p>\n<p>I found this answer:\n<a href=\"https://stackoverflow.com/questions/53156762/hazelcast-expiration-listener-delay\">HazelCast - Expiration listener delay</a></p>\n<p>Is this behavior expected from entry expired listener?\nSmall delay would be acceptable.</p>\n<p>Also, suggestions to do this differently are welcome.\nI am using cache as a buffer and need to process entries on buffer expiry.\nBuffer would hold a maximum of ~4 000 000 records at a time.</p>\n<p>Hazelcast version 4.2.1 | Java version 1.8.0_301</p>\n<p>Running in client-server architecture</p>\n"},{"tags":["java","log4j"],"owner":{"account_id":15378546,"reputation":105,"user_id":11094576,"display_name":"icecream notebook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641394135,"creation_date":1641392805,"question_id":70594557,"body_markdown":"At any given time I want my log files like: **mylog.log, mylog.log.1, mylog.log.2**, reflecting today&#39;s logs, yesterday&#39;s log, and the day before yesterday&#39;s log, respectively. This has to be achieved via Apache log4j/log4j-extras (v1.2.17), through code (no xml config).  \r\n\r\nThe logger initialized below, however, seems to overwrite every day mylog.log. What am I doing wrong?\r\n\r\n    private static Logger fileLogger() {\r\n        TimeBasedRollingPolicy trigPolicy = new TimeBasedRollingPolicy();\r\n        trigPolicy.setFileNamePattern(&quot;mylog.log&quot; + &quot;.%d&quot;);\r\n        trigPolicy.setActiveFileName(&quot;mylog.log&quot; );\r\n        trigPolicy.activateOptions();\r\n        FixedWindowRollingPolicy rollPolicy = new FixedWindowRollingPolicy();\r\n        rollPolicy.setFileNamePattern(&quot;mylog.log&quot; + &quot;.%i&quot;);\r\n        rollPolicy.setActiveFileName(&quot;mylog.log&quot; );\r\n        rollPolicy.setMaxIndex(3);\r\n        rollPolicy.setMinIndex(1);\r\n        rollPolicy.activateOptions();\r\n        RollingFileAppender appender = new RollingFileAppender();\r\n        appender.setFile(&quot;./mylog.log&quot;);\r\n        appender.setLayout(new PatternLayout(&quot;[%d{yyyy.MM.dd::HH:mm:ss}] %-5p: %m%n&quot;));\r\n        appender.setThreshold(Level.DEBUG);\r\n        appender.setAppend(true);\r\n        appender.setRollingPolicy(rollPolicy);\r\n        appender.setTriggeringPolicy(trigPolicy);\r\n        appender.activateOptions();\r\n        Logger logger = LogManager.getLogger(Foo.class);\r\n        logger.addAppender(appender);\r\n        return logger;\r\n    }\r\n\r\n","title":"apache log4j: 3 day log retention with daily rolling","body":"<p>At any given time I want my log files like: <strong>mylog.log, mylog.log.1, mylog.log.2</strong>, reflecting today's logs, yesterday's log, and the day before yesterday's log, respectively. This has to be achieved via Apache log4j/log4j-extras (v1.2.17), through code (no xml config).</p>\n<p>The logger initialized below, however, seems to overwrite every day mylog.log. What am I doing wrong?</p>\n<pre><code>private static Logger fileLogger() {\n    TimeBasedRollingPolicy trigPolicy = new TimeBasedRollingPolicy();\n    trigPolicy.setFileNamePattern(&quot;mylog.log&quot; + &quot;.%d&quot;);\n    trigPolicy.setActiveFileName(&quot;mylog.log&quot; );\n    trigPolicy.activateOptions();\n    FixedWindowRollingPolicy rollPolicy = new FixedWindowRollingPolicy();\n    rollPolicy.setFileNamePattern(&quot;mylog.log&quot; + &quot;.%i&quot;);\n    rollPolicy.setActiveFileName(&quot;mylog.log&quot; );\n    rollPolicy.setMaxIndex(3);\n    rollPolicy.setMinIndex(1);\n    rollPolicy.activateOptions();\n    RollingFileAppender appender = new RollingFileAppender();\n    appender.setFile(&quot;./mylog.log&quot;);\n    appender.setLayout(new PatternLayout(&quot;[%d{yyyy.MM.dd::HH:mm:ss}] %-5p: %m%n&quot;));\n    appender.setThreshold(Level.DEBUG);\n    appender.setAppend(true);\n    appender.setRollingPolicy(rollPolicy);\n    appender.setTriggeringPolicy(trigPolicy);\n    appender.activateOptions();\n    Logger logger = LogManager.getLogger(Foo.class);\n    logger.addAppender(appender);\n    return logger;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","amazon-s3","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1608292047,"post_id":65355896,"comment_id":115544822,"body_markdown":"I don&#39;t see where you&#39;re mocking getPayload()","body":"I don&#39;t see where you&#39;re mocking getPayload()"},{"owner":{"account_id":10527169,"reputation":53,"user_id":7757836,"display_name":"Mrmartyn"},"score":0,"creation_date":1608297137,"post_id":65355896,"comment_id":115546879,"body_markdown":"@tgdavies whoops, updated example test.","body":"@tgdavies whoops, updated example test."}],"answers":[{"tags":[],"owner":{"account_id":5258616,"reputation":11,"user_id":4200769,"display_name":"Trevor Ross"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641394076,"creation_date":1641394076,"answer_id":70594865,"question_id":65355896,"body_markdown":"This may not be exactly what you are looking for but here&#39;s how I implemented unit testing for S3 Select:\r\n\r\n**Production Code**:\r\n\r\n```java\r\nList&lt;StockAvailability&gt; stockList = Collections.emptyList();\r\n\r\nSelectObjectContentResult result = s3Client.selectObjectContent(query);\r\n\r\ntry (SelectRecordsInputStream resultInputStream = result.getPayload().getRecordsInputStream()) {\r\n   stockList = transformResponse(resultInputStream.getDelegateStream());\r\n}\r\ncatch (IOException e) {\r\n   LOG.error(&quot;Unable to parse stock availability response: {}&quot;, e.getMessage());\r\n}\r\n```\r\n\r\n_Note the call to `getDelegateStream()`_\r\n\r\n**Unit test**:\r\n\r\n```java\r\n   @Test\r\n   void test1()  {\r\n        SelectObjectContentResult mockSelectObjectContentResult = mock(SelectObjectContentResult.class);\r\n        SelectObjectContentEventStream mockSelectObjectContentEventStream = mock(SelectObjectContentEventStream.class);\r\n        SelectRecordsInputStream mockSelectRecordsInputStream = mock(SelectRecordsInputStream.class);\r\n\r\n        when(mockS3.selectObjectContent(any())).thenReturn(mockSelectObjectContentResult);\r\n        when(mockSelectObjectContentResult.getPayload()).thenReturn(mockSelectObjectContentEventStream);\r\n        when(mockSelectObjectContentEventStream.getRecordsInputStream()).thenReturn(mockSelectRecordsInputStream);\r\n\r\n        final InputStream output = IOUtils.toInputStream(&quot;some string&quot;, StandardCharsets.UTF_8);\r\n        when(mockSelectRecordsInputStream.getDelegateStream()).thenReturn(output);\r\n  }\r\n```","title":"Mocking out/replacing return from S3 library SelectObjectContentEventStream.getRecordsInputStream()","body":"<p>This may not be exactly what you are looking for but here's how I implemented unit testing for S3 Select:</p>\n<p><strong>Production Code</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;StockAvailability&gt; stockList = Collections.emptyList();\n\nSelectObjectContentResult result = s3Client.selectObjectContent(query);\n\ntry (SelectRecordsInputStream resultInputStream = result.getPayload().getRecordsInputStream()) {\n   stockList = transformResponse(resultInputStream.getDelegateStream());\n}\ncatch (IOException e) {\n   LOG.error(&quot;Unable to parse stock availability response: {}&quot;, e.getMessage());\n}\n</code></pre>\n<p><em>Note the call to <code>getDelegateStream()</code></em></p>\n<p><strong>Unit test</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Test\n   void test1()  {\n        SelectObjectContentResult mockSelectObjectContentResult = mock(SelectObjectContentResult.class);\n        SelectObjectContentEventStream mockSelectObjectContentEventStream = mock(SelectObjectContentEventStream.class);\n        SelectRecordsInputStream mockSelectRecordsInputStream = mock(SelectRecordsInputStream.class);\n\n        when(mockS3.selectObjectContent(any())).thenReturn(mockSelectObjectContentResult);\n        when(mockSelectObjectContentResult.getPayload()).thenReturn(mockSelectObjectContentEventStream);\n        when(mockSelectObjectContentEventStream.getRecordsInputStream()).thenReturn(mockSelectRecordsInputStream);\n\n        final InputStream output = IOUtils.toInputStream(&quot;some string&quot;, StandardCharsets.UTF_8);\n        when(mockSelectRecordsInputStream.getDelegateStream()).thenReturn(output);\n  }\n</code></pre>\n"}],"owner":{"account_id":10527169,"reputation":53,"user_id":7757836,"display_name":"Mrmartyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641394076,"creation_date":1608289446,"question_id":65355896,"body_markdown":"I’m trying to create some unit tests around a call to AWS S3 Select and having trouble mocking out the SelectRecordsInputStream returned from getRecordsInputStream(). I’m unable to instantiate my own SelectRecordsInputStream as the class is package private and I’m unable to return an instance of InputStream from Mockito’s .thenReturn() as its expecting an instance of SelectRecordsInputStream (this confuses me as SelectRecordsInputStream extends InputStream and you’re able to specify this Type as the return in the try with resources)\r\n\r\nIs there anything I can do (without bringing in another testing framework) to return my own instance of InputStream or SelectRecordsInputStream? It also cannot be a mock instance as the testing revolves around processing the InputStream.\r\n\r\nProduction Code:\r\n\r\n\r\n    List&lt;StockAvailability&gt; stockList = Collections.emptyList();\r\n\r\n    SelectObjectContentResult result = s3Client.selectObjectContent(query);\r\n\r\n    try (InputStream resultInputStream = result.getPayload().getRecordsInputStream()) {\r\n       stockList = transformResponse(resultInputStream);\r\n    }\r\n    catch (IOException e) {\r\n       LOG.error(&quot;Unable to parse stock availability response: {}&quot;, e.getMessage());\r\n    }\r\n\r\n\r\n\r\nUnit test:\r\n\r\n       @Test\r\n         void test1()  {\r\n         final Query query = new Query.QueryBuilder().query(SELECT_QUERY)\r\n                                                   .bucket(BUCKET)\r\n                                                   .objectKey(KEY)\r\n                                                   .build();\r\n\r\n         when(s3Client.selectObjectContent (query)).thenReturn(selectObjectContentResult);\r\n\r\n         byte[] string = &quot;Any String you want&quot;.getBytes();\r\n    \r\n         InputStream inputStream = new ByteArrayInputStream(string);\r\n    when(selectObjectContentResult.getPayload()).thenReturn(selectObjectContentEventStream);\r\n       \r\n         //Does not compile and cannot cast to SelectRecordsInputStream       \r\n         when(selectObjectContentEventStream.getRecordsInputStream()).thenReturn(inputStream);\r\n    \r\n         final List&lt;StockAvailability&gt; result = stockService.queryStockData(query);\r\n      }\r\n\r\n\r\n\r\n","title":"Mocking out/replacing return from S3 library SelectObjectContentEventStream.getRecordsInputStream()","body":"<p>I’m trying to create some unit tests around a call to AWS S3 Select and having trouble mocking out the SelectRecordsInputStream returned from getRecordsInputStream(). I’m unable to instantiate my own SelectRecordsInputStream as the class is package private and I’m unable to return an instance of InputStream from Mockito’s .thenReturn() as its expecting an instance of SelectRecordsInputStream (this confuses me as SelectRecordsInputStream extends InputStream and you’re able to specify this Type as the return in the try with resources)</p>\n<p>Is there anything I can do (without bringing in another testing framework) to return my own instance of InputStream or SelectRecordsInputStream? It also cannot be a mock instance as the testing revolves around processing the InputStream.</p>\n<p>Production Code:</p>\n<pre><code>List&lt;StockAvailability&gt; stockList = Collections.emptyList();\n\nSelectObjectContentResult result = s3Client.selectObjectContent(query);\n\ntry (InputStream resultInputStream = result.getPayload().getRecordsInputStream()) {\n   stockList = transformResponse(resultInputStream);\n}\ncatch (IOException e) {\n   LOG.error(&quot;Unable to parse stock availability response: {}&quot;, e.getMessage());\n}\n</code></pre>\n<p>Unit test:</p>\n<pre><code>   @Test\n     void test1()  {\n     final Query query = new Query.QueryBuilder().query(SELECT_QUERY)\n                                               .bucket(BUCKET)\n                                               .objectKey(KEY)\n                                               .build();\n\n     when(s3Client.selectObjectContent (query)).thenReturn(selectObjectContentResult);\n\n     byte[] string = &quot;Any String you want&quot;.getBytes();\n\n     InputStream inputStream = new ByteArrayInputStream(string);\nwhen(selectObjectContentResult.getPayload()).thenReturn(selectObjectContentEventStream);\n   \n     //Does not compile and cannot cast to SelectRecordsInputStream       \n     when(selectObjectContentEventStream.getRecordsInputStream()).thenReturn(inputStream);\n\n     final List&lt;StockAvailability&gt; result = stockService.queryStockData(query);\n  }\n</code></pre>\n"},{"tags":["java","date","java-8","java-time"],"comments":[{"owner":{"account_id":10025166,"reputation":73,"user_id":7413530,"accept_rate":29,"display_name":"Abhinay Pandey"},"score":0,"creation_date":1486036677,"post_id":42001475,"comment_id":71179466,"body_markdown":"you mean getting current date using YearMonth.of(int year, int month) ?","body":"you mean getting current date using YearMonth.of(int year, int month) ?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1486036813,"post_id":42001475,"comment_id":71179567,"body_markdown":"29/12/2014 was a Monday - why do you expect 28/12/2014? Also note that it would be clearer to use `DayOfWeek.MONDAY.getValue()` instead of `1`.","body":"29/12/2014 was a Monday - why do you expect 28/12/2014? Also note that it would be clearer to use <code>DayOfWeek.MONDAY.getValue()</code> instead of <code>1</code>."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1486036830,"post_id":42001475,"comment_id":71179585,"body_markdown":"You don&#39;t need any information of the current date, no need to start with that. You can set the week and year with `YearMonth.of(int year, int month)`, then set the day of the week","body":"You don&#39;t need any information of the current date, no need to start with that. You can set the week and year with <code>YearMonth.of(int year, int month)</code>, then set the day of the week"},{"owner":{"account_id":10025166,"reputation":73,"user_id":7413530,"accept_rate":29,"display_name":"Abhinay Pandey"},"score":0,"creation_date":1486037285,"post_id":42001475,"comment_id":71179906,"body_markdown":"I guess it&#39;s converting 53rd week of 2015 to 1st week of 2015 as in 2015 only 52 weeks are there. Solved the issue","body":"I guess it&#39;s converting 53rd week of 2015 to 1st week of 2015 as in 2015 only 52 weeks are there. Solved the issue"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1486053228,"post_id":42001475,"comment_id":71190768,"body_markdown":"@AbhinayPandey What is your definition of week number? I can think of at least four definitions. Did you intend the [ISO 8601 standard definition](https://en.m.wikipedia.org/wiki/ISO_week_date)?","body":"@AbhinayPandey What is your definition of week number? I can think of at least four definitions. Did you intend the <a href=\"https://en.m.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601 standard definition</a>?"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":1,"creation_date":1486100764,"post_id":42001475,"comment_id":71209675,"body_markdown":"@AbhinayPandey No your issue is still not solved. You have applied the wrong order of manipulations in your helper method, see my answer.","body":"@AbhinayPandey No your issue is still not solved. You have applied the wrong order of manipulations in your helper method, see my answer."}],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486066039,"creation_date":1486065168,"answer_id":42011143,"question_id":42001475,"body_markdown":"First, you need to calculate the first Monday of the first week of the year,\r\nthen simply plus multi of 7 to the date.\r\n\r\n\r\n\tpublic static LocalDate firstMonday(int week, int year) {\r\n\t\t\r\n\t\tLocalDate firstMonOfFirstWeek = LocalDate.now()\r\n\t\t\t\t.with(IsoFields.WEEK_BASED_YEAR, year) // year\r\n\t\t\t\t.with(IsoFields.WEEK_OF_WEEK_BASED_YEAR, 1) // First week of the year\r\n\t\t\t\t.with(ChronoField.DAY_OF_WEEK, 1); // Monday\r\n\t\t\r\n        // Plus multi of 7\r\n\t\treturn firstMonOfFirstWeek.plusDays( (week - 1) * 7);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(firstMonday(1, 2013)); // 2012-12-31\r\n\t\tSystem.out.println(firstMonday(53 ,2015 )); // 2015-12-28\r\n\t}","title":"getting Monday date from given week and year using java.time package","body":"<p>First, you need to calculate the first Monday of the first week of the year,\nthen simply plus multi of 7 to the date.</p>\n\n<pre><code>public static LocalDate firstMonday(int week, int year) {\n\n    LocalDate firstMonOfFirstWeek = LocalDate.now()\n            .with(IsoFields.WEEK_BASED_YEAR, year) // year\n            .with(IsoFields.WEEK_OF_WEEK_BASED_YEAR, 1) // First week of the year\n            .with(ChronoField.DAY_OF_WEEK, 1); // Monday\n\n    // Plus multi of 7\n    return firstMonOfFirstWeek.plusDays( (week - 1) * 7);\n}\n\npublic static void main(String[] args) {\n    System.out.println(firstMonday(1, 2013)); // 2012-12-31\n    System.out.println(firstMonday(53 ,2015 )); // 2015-12-28\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486150741,"creation_date":1486066691,"answer_id":42011560,"question_id":42001475,"body_markdown":"# tl;dr\r\n\r\n    YearWeek.of ( 2013 , 1 ).atDay ( DayOfWeek.MONDAY )\r\n\r\n# Incorrect expectations\r\n\r\nYour expectations are not correct. The Monday of `2015-W53` is `2015-12-28`, not `2014-12-28`, year 2015 rather than 2014. There is no reason to expect 2014. Please edit your Question to explain your thoughts, if you need more explanation.\r\n\r\nYou may be confused about a calendar-year versus a week-based year. In the [ISO 8601 definition of a week based year][1], **week number one contains the first Thursday of the calendar-year**. This means we have some overlap between the years. The last few days of a calendar-year may reside in the following week-based-year. And vice-versa, the first few days of a calendar-year may reside in the previous week-based-year.\r\n\r\nAs an example, you can see in the screenshot below, the last day of calendar 2012 (December 31) falls in week one of the following week-based-year of 2013 at week number 1. And in the other screen shot, we have the opposite, where the first three days of calendar 2016 (January 1, 2, &amp; 3) land in the week-based-year of 2015 at week number 53.\r\n\r\n - The Monday of `2013-W01` is `2012-12-31`.\r\n - The Monday of `2015-W53` is `2015-12-28`. \r\n\r\n[![2013-W01 calendar screen shot][2]][2]\r\n\r\n[![2015-W53 calendar screen shot][3]][3]\r\n\r\n\r\n# `YearWeek`\r\n\r\nI suggest adding the [ThreeTen-Extra][4] library to your project to make use of of the [`YearWeek`][5] class. Rather than pass around mere integer numbers for year and week, pass around objects of this class. Doing so makes your code more self-documenting, provides type-safety, and ensures valid values.\r\n\r\n    // Pass ( week-based-year-number, week-number ). *Not* calendar year! See the ISO 8601 standard.\r\n    YearWeek yw = YearWeek.of( 2013 , 1 ); \r\n\r\nYou can pull any day from that week.\r\n\r\n    LocalDate ld = yw.atDay( DayOfWeek.MONDAY );\r\n\r\nLet&#39;s try this kind of code. \r\n\r\n    YearWeek yw1 = YearWeek.of ( 2013 , 1 );\r\n    LocalDate ld1 = yw1.atDay ( DayOfWeek.MONDAY );\r\n\r\n    YearWeek yw2 = YearWeek.of ( 2015 , 53 );\r\n    LocalDate ld2 = yw2.atDay ( DayOfWeek.MONDAY );\r\n\r\n    System.out.println ( &quot;yw1: &quot; + yw1 + &quot; Monday: &quot; + ld1 );\r\n    System.out.println ( &quot;yw2: &quot; + yw2 + &quot; Monday: &quot; + ld2 );\r\n    \r\n&gt;yw1: 2013-W01 Monday: 2012-12-31\r\n\r\n&gt;yw2: 2015-W53 Monday: 2015-12-28\r\n\r\n\r\n----------\r\n\r\nTip: To see those [ISO 8601 standard week][1] numbers on a Mac in Calendar.app, set `System Preferences` &gt; `Language &amp; Region` &gt; `Calendar` &gt; `ISO 8601`. Then in Calendar.app, set `Preferences` &gt; `Advanced` &gt; `Show week numbers`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_week_date\r\n  [2]: https://i.stack.imgur.com/EgK7n.png\r\n  [3]: https://i.stack.imgur.com/6bTTx.png\r\n  [4]: http://www.threeten.org/threeten-extra/\r\n  [5]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html","title":"getting Monday date from given week and year using java.time package","body":"<h1>tl;dr</h1>\n\n<pre><code>YearWeek.of ( 2013 , 1 ).atDay ( DayOfWeek.MONDAY )\n</code></pre>\n\n<h1>Incorrect expectations</h1>\n\n<p>Your expectations are not correct. The Monday of <code>2015-W53</code> is <code>2015-12-28</code>, not <code>2014-12-28</code>, year 2015 rather than 2014. There is no reason to expect 2014. Please edit your Question to explain your thoughts, if you need more explanation.</p>\n\n<p>You may be confused about a calendar-year versus a week-based year. In the <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601 definition of a week based year</a>, <strong>week number one contains the first Thursday of the calendar-year</strong>. This means we have some overlap between the years. The last few days of a calendar-year may reside in the following week-based-year. And vice-versa, the first few days of a calendar-year may reside in the previous week-based-year.</p>\n\n<p>As an example, you can see in the screenshot below, the last day of calendar 2012 (December 31) falls in week one of the following week-based-year of 2013 at week number 1. And in the other screen shot, we have the opposite, where the first three days of calendar 2016 (January 1, 2, &amp; 3) land in the week-based-year of 2015 at week number 53.</p>\n\n<ul>\n<li>The Monday of <code>2013-W01</code> is <code>2012-12-31</code>.</li>\n<li>The Monday of <code>2015-W53</code> is <code>2015-12-28</code>. </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/EgK7n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EgK7n.png\" alt=\"2013-W01 calendar screen shot\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6bTTx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6bTTx.png\" alt=\"2015-W53 calendar screen shot\"></a></p>\n\n<h1><code>YearWeek</code></h1>\n\n<p>I suggest adding the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> library to your project to make use of of the <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a> class. Rather than pass around mere integer numbers for year and week, pass around objects of this class. Doing so makes your code more self-documenting, provides type-safety, and ensures valid values.</p>\n\n<pre><code>// Pass ( week-based-year-number, week-number ). *Not* calendar year! See the ISO 8601 standard.\nYearWeek yw = YearWeek.of( 2013 , 1 ); \n</code></pre>\n\n<p>You can pull any day from that week.</p>\n\n<pre><code>LocalDate ld = yw.atDay( DayOfWeek.MONDAY );\n</code></pre>\n\n<p>Let's try this kind of code. </p>\n\n<pre><code>YearWeek yw1 = YearWeek.of ( 2013 , 1 );\nLocalDate ld1 = yw1.atDay ( DayOfWeek.MONDAY );\n\nYearWeek yw2 = YearWeek.of ( 2015 , 53 );\nLocalDate ld2 = yw2.atDay ( DayOfWeek.MONDAY );\n\nSystem.out.println ( \"yw1: \" + yw1 + \" Monday: \" + ld1 );\nSystem.out.println ( \"yw2: \" + yw2 + \" Monday: \" + ld2 );\n</code></pre>\n\n<blockquote>\n  <p>yw1: 2013-W01 Monday: 2012-12-31</p>\n  \n  <p>yw2: 2015-W53 Monday: 2015-12-28</p>\n</blockquote>\n\n<hr>\n\n<p>Tip: To see those <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601 standard week</a> numbers on a Mac in Calendar.app, set <code>System Preferences</code> > <code>Language &amp; Region</code> > <code>Calendar</code> > <code>ISO 8601</code>. Then in Calendar.app, set <code>Preferences</code> > <code>Advanced</code> > <code>Show week numbers</code>. </p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1486109367,"creation_date":1486100402,"answer_id":42017495,"question_id":42001475,"body_markdown":"This is astonishingly more difficult than the partially invalid expectations of OP and most answers show.\r\n\r\n**First to say: It is very important to define the correct order of week-based-manipulations.** The OP has first applied day-manipulation, then year-based manipulation. The correct approach is in reverse! I will show the right helper method implementation:\r\n\r\n    public static void main(String... args) {\r\n        System.out.println(\r\n          getDateFromWeekAndYear(&quot;53&quot;, &quot;2015&quot;)); // 2015-12-28, NOT 2014-12-28\r\n        System.out.println(\r\n          getDateFromWeekAndYear(&quot;53&quot;, &quot;2015&quot;).get(WeekFields.ISO.weekOfWeekBasedYear())); // 53\r\n        System.out.println(\r\n          getDateFromWeekAndYear(&quot;53&quot;, &quot;2014&quot;)); // 2014-12-29\r\n        System.out.println(\r\n          getDateFromWeekAndYear(&quot;53&quot;, &quot;2014&quot;).get(WeekFields.ISO.weekOfWeekBasedYear())); // 1\r\n    }\r\n\r\n    private static LocalDate getDateFromWeekAndYear(final String week,final String year) {\r\n        int y = Integer.parseInt(year);\r\n        LocalDate date = LocalDate.of(y, 7, 1); // safer than choosing current date\r\n        // date = date.with(WeekFields.ISO.weekBasedYear(), y); // no longer necessary\r\n        date = date.with(WeekFields.ISO.weekOfWeekBasedYear(), Long.parseLong(week));\r\n        date = date.with(WeekFields.ISO.dayOfWeek(), 1);\r\n\r\n        return date;\r\n    }\r\n\r\nIf you don&#39;t respect this specific order then you will indeed get sometimes a 2014-date for the input 2015-W53 (depending on the current date). \r\n\r\nSecond problem: **I have also avoided to start with current date in order to be not near start or end of calendar year** (calendar year != week-based-year) and instead chosen midth of year as starting point.\r\n\r\n**The third problem is lenient handling of week 53 in (week-based)-year 2014.** It does not exist because 2014 had only 52 weeks!!! A strict algorithm should recognize and reject such an input. Therefore I advise against using `YearWeek.of(2014, 53)` (in the external library Threeten-Extra) resulting in the first week of 2015, see also its [javadoc][1]. Better than such lenient handling would have been \r\n\r\n    YearWeek yw = YearWeek.of(2014, 52);\r\n    if (yw.is53WeekYear()) {\r\n      yw = YearWeek.of(2014, 53);\r\n    }\r\n\r\nor using this code from my own time library [Time4J][2] (whose class [CalendarWeek][3] has extra i18n-features and extra week arithmetic in comparison with `YearWeek`):\r\n\r\n    CalendarWeek.of(2014, 53); // throws an exception\r\n    System.out.println(CalendarWeek.of(2014, 1).withLastWeekOfYear()); // 2014-W52\r\n\r\n**Only using `java.time`-package:**\r\n\r\nUsing such external libraries would at least have helped to solve the first problem in a transparent way. If you are not willing to add an extra dependency then you can do this to handle week 53 if invalid:\r\n\r\nIf the expression `WeekFields.ISO.weekOfWeekBasedYear()` applied on the result of your helper method yields the value 1 then you know that week 53 was invalid. And then you can decide if you want to accept lenient handling or to throw an exception. But silent adjusting such an invalid input is IMHO bad design.\r\n\r\n\r\n  [1]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html#of-int-int-\r\n  [2]: https://github.com/MenoData/Time4J\r\n  [3]: http://time4j.net/javadoc-en/net/time4j/range/CalendarWeek.html","title":"getting Monday date from given week and year using java.time package","body":"<p>This is astonishingly more difficult than the partially invalid expectations of OP and most answers show.</p>\n\n<p><strong>First to say: It is very important to define the correct order of week-based-manipulations.</strong> The OP has first applied day-manipulation, then year-based manipulation. The correct approach is in reverse! I will show the right helper method implementation:</p>\n\n<pre><code>public static void main(String... args) {\n    System.out.println(\n      getDateFromWeekAndYear(\"53\", \"2015\")); // 2015-12-28, NOT 2014-12-28\n    System.out.println(\n      getDateFromWeekAndYear(\"53\", \"2015\").get(WeekFields.ISO.weekOfWeekBasedYear())); // 53\n    System.out.println(\n      getDateFromWeekAndYear(\"53\", \"2014\")); // 2014-12-29\n    System.out.println(\n      getDateFromWeekAndYear(\"53\", \"2014\").get(WeekFields.ISO.weekOfWeekBasedYear())); // 1\n}\n\nprivate static LocalDate getDateFromWeekAndYear(final String week,final String year) {\n    int y = Integer.parseInt(year);\n    LocalDate date = LocalDate.of(y, 7, 1); // safer than choosing current date\n    // date = date.with(WeekFields.ISO.weekBasedYear(), y); // no longer necessary\n    date = date.with(WeekFields.ISO.weekOfWeekBasedYear(), Long.parseLong(week));\n    date = date.with(WeekFields.ISO.dayOfWeek(), 1);\n\n    return date;\n}\n</code></pre>\n\n<p>If you don't respect this specific order then you will indeed get sometimes a 2014-date for the input 2015-W53 (depending on the current date). </p>\n\n<p>Second problem: <strong>I have also avoided to start with current date in order to be not near start or end of calendar year</strong> (calendar year != week-based-year) and instead chosen midth of year as starting point.</p>\n\n<p><strong>The third problem is lenient handling of week 53 in (week-based)-year 2014.</strong> It does not exist because 2014 had only 52 weeks!!! A strict algorithm should recognize and reject such an input. Therefore I advise against using <code>YearWeek.of(2014, 53)</code> (in the external library Threeten-Extra) resulting in the first week of 2015, see also its <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html#of-int-int-\" rel=\"nofollow noreferrer\">javadoc</a>. Better than such lenient handling would have been </p>\n\n<pre><code>YearWeek yw = YearWeek.of(2014, 52);\nif (yw.is53WeekYear()) {\n  yw = YearWeek.of(2014, 53);\n}\n</code></pre>\n\n<p>or using this code from my own time library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> (whose class <a href=\"http://time4j.net/javadoc-en/net/time4j/range/CalendarWeek.html\" rel=\"nofollow noreferrer\">CalendarWeek</a> has extra i18n-features and extra week arithmetic in comparison with <code>YearWeek</code>):</p>\n\n<pre><code>CalendarWeek.of(2014, 53); // throws an exception\nSystem.out.println(CalendarWeek.of(2014, 1).withLastWeekOfYear()); // 2014-W52\n</code></pre>\n\n<p><strong>Only using <code>java.time</code>-package:</strong></p>\n\n<p>Using such external libraries would at least have helped to solve the first problem in a transparent way. If you are not willing to add an extra dependency then you can do this to handle week 53 if invalid:</p>\n\n<p>If the expression <code>WeekFields.ISO.weekOfWeekBasedYear()</code> applied on the result of your helper method yields the value 1 then you know that week 53 was invalid. And then you can decide if you want to accept lenient handling or to throw an exception. But silent adjusting such an invalid input is IMHO bad design.</p>\n"},{"tags":[],"owner":{"account_id":5033128,"reputation":1,"user_id":4042752,"display_name":"Angelina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641393726,"creation_date":1641374469,"answer_id":70590411,"question_id":42001475,"body_markdown":"I wanted Monday of a week about 6 month ago - to be specific 26 weeks ago.. below code gave me the required date:\r\n\r\n    LocalDate.now().minusWeeks(26).with(WeekFields.ISO.dayOfWeek(), DayOfWeek.MONDAY.getValue())","title":"getting Monday date from given week and year using java.time package","body":"<p>I wanted Monday of a week about 6 month ago - to be specific 26 weeks ago.. below code gave me the required date:</p>\n<pre><code>LocalDate.now().minusWeeks(26).with(WeekFields.ISO.dayOfWeek(), DayOfWeek.MONDAY.getValue())\n</code></pre>\n"}],"owner":{"account_id":10025166,"reputation":73,"user_id":7413530,"accept_rate":29,"display_name":"Abhinay Pandey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42017495,"answer_count":4,"score":2,"last_activity_date":1641393726,"creation_date":1486036110,"question_id":42001475,"body_markdown":"I want to get Monday date from given week and year using Java 8 package java.time. \r\nBut at some point I am facing issue as it&#39;s not returning proper date. \r\n\r\n    private LocalDate getDateFromWeekAndYear(final String week,final String year){\r\n\t\tLocalDate date = LocalDate.now();\r\n\t\tdate = date.with(WeekFields.ISO.dayOfWeek(), 1);\r\n\t\tdate = date.with(WeekFields.ISO.weekOfWeekBasedYear(), Long.parseLong(week));\r\n\t\tdate = date.with(WeekFields.ISO.weekBasedYear(), Long.parseLong(year));\r\n\t\t\r\n\t\treturn date;\r\n\t}\r\n\r\nFor example:\r\n\r\n - If I pass week=1 and year=2013 then date is : 2012-12-31.\r\n - But if I pass week=53 and year=2015 then date is : 2014-12-29. I expected 2014-12-28.\r\n\r\nIs there any logical mistake I am making or some other issue ?","title":"getting Monday date from given week and year using java.time package","body":"<p>I want to get Monday date from given week and year using Java 8 package java.time. \nBut at some point I am facing issue as it's not returning proper date. </p>\n\n<pre><code>private LocalDate getDateFromWeekAndYear(final String week,final String year){\n    LocalDate date = LocalDate.now();\n    date = date.with(WeekFields.ISO.dayOfWeek(), 1);\n    date = date.with(WeekFields.ISO.weekOfWeekBasedYear(), Long.parseLong(week));\n    date = date.with(WeekFields.ISO.weekBasedYear(), Long.parseLong(year));\n\n    return date;\n}\n</code></pre>\n\n<p>For example:</p>\n\n<ul>\n<li>If I pass week=1 and year=2013 then date is : 2012-12-31.</li>\n<li>But if I pass week=53 and year=2015 then date is : 2014-12-29. I expected 2014-12-28.</li>\n</ul>\n\n<p>Is there any logical mistake I am making or some other issue ?</p>\n"},{"tags":["java","android","charset"],"comments":[{"owner":{"account_id":300897,"reputation":7589,"user_id":608312,"accept_rate":91,"display_name":"Jake Lee"},"score":0,"creation_date":1641157364,"post_id":70542979,"comment_id":124730224,"body_markdown":"Android Studio is an IDE, what do you mean by converting charset? Where is it `Predajnďż˝` but should be `Predajňa`?","body":"Android Studio is an IDE, what do you mean by converting charset? Where is it <code>Predajnďż˝</code> but should be <code>Predajňa</code>?"},{"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"score":0,"creation_date":1641290736,"post_id":70542979,"comment_id":124761083,"body_markdown":"&quot;Predajnďż˝&quot; is in txt file and i want to convert it Predajňa (UTF-8)","body":"&quot;Predajnďż˝&quot; is in txt file and i want to convert it Predajňa (UTF-8)"},{"owner":{"account_id":300897,"reputation":7589,"user_id":608312,"accept_rate":91,"display_name":"Jake Lee"},"score":0,"creation_date":1641293836,"post_id":70542979,"comment_id":124762150,"body_markdown":"https://stackoverflow.com/questions/3018653/java-how-to-convert-a-file-to-utf8","body":"<a href=\"https://stackoverflow.com/questions/3018653/java-how-to-convert-a-file-to-utf8\" title=\"java how to convert a file to utf8\">stackoverflow.com/questions/3018653/&hellip;</a>"},{"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"score":0,"creation_date":1641296557,"post_id":70542979,"comment_id":124763089,"body_markdown":"I tested it but when i  put there String charset = &quot;UTF-8&quot;; then the text remains the same &quot;Predajnďż˝&quot;","body":"I tested it but when i  put there String charset = &quot;UTF-8&quot;; then the text remains the same &quot;Predajnďż˝&quot;"}],"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641393677,"creation_date":1640959103,"question_id":70542979,"body_markdown":"How can I convert this &quot;Predajnďż˝&quot; (Windows-1250) to &quot;Predajňa&quot; (UTF-8) or fix &quot;Predajn�&quot; to &quot;Predajňa&quot; in android. \r\n\r\nI am using Java as programming language and Android Studio as an IDE to do this. \r\n\r\nI didn&#39;t find anything so can someone help me to do this?","title":"Android convert charset","body":"<p>How can I convert this &quot;Predajnďż˝&quot; (Windows-1250) to &quot;Predajňa&quot; (UTF-8) or fix &quot;Predajn�&quot; to &quot;Predajňa&quot; in android.</p>\n<p>I am using Java as programming language and Android Studio as an IDE to do this.</p>\n<p>I didn't find anything so can someone help me to do this?</p>\n"},{"tags":["java","jsonpath","jayway"],"owner":{"account_id":8146395,"reputation":17,"user_id":6134938,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641436121,"answer_count":0,"score":1,"last_activity_date":1641393392,"creation_date":1641382128,"question_id":70592107,"body_markdown":"This is my JSON data\r\n\r\n```json\r\n{\r\n    &quot;code&quot;: 0,\r\n    &quot;message&quot;: &quot;success&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;logFrom&quot;: &quot;{\\&quot;date_as_long\\&quot;: 1411455611975}&quot;\r\n    }\r\n}\r\n```\r\nThe logFrom object is still a JSON.\r\n\r\nIn this case, how can I use JSONPath expression to locate `date_as_long`?\r\n\r\n","title":"How to get the Value in the element of JSON by JSONPath?","body":"<p>This is my JSON data</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;code&quot;: 0,\n    &quot;message&quot;: &quot;success&quot;,\n    &quot;data&quot;: {\n        &quot;logFrom&quot;: &quot;{\\&quot;date_as_long\\&quot;: 1411455611975}&quot;\n    }\n}\n</code></pre>\n<p>The logFrom object is still a JSON.</p>\n<p>In this case, how can I use JSONPath expression to locate <code>date_as_long</code>?</p>\n"},{"tags":["java","hibernate","orm","lazy-loading","fetch"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1438601750,"post_id":31785604,"comment_id":51501024,"body_markdown":"I believe thats not possible, but the opposite yes, make it lazy an trigger its initialization when needed.","body":"I believe thats not possible, but the opposite yes, make it lazy an trigger its initialization when needed."},{"owner":{"account_id":6409722,"reputation":2936,"user_id":4969870,"display_name":"Paweł Głowacz"},"score":0,"creation_date":1438602191,"post_id":31785604,"comment_id":51501297,"body_markdown":"In your `Person` entity add to field `age` annotation `@Basic(fetch=FetchType.LAZY)`. At least give a shot.","body":"In your <code>Person</code> entity add to field <code>age</code> annotation <code>@Basic(fetch=FetchType.LAZY)</code>. At least give a shot."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1438603076,"post_id":31785604,"comment_id":51501830,"body_markdown":"@PawełGłowacz I know this style, and i dont like it. It should be part of the criteria, not of the implementation of the Entity.","body":"@PawełGłowacz I know this style, and i dont like it. It should be part of the criteria, not of the implementation of the Entity."},{"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"score":0,"creation_date":1439382530,"post_id":31785604,"comment_id":51837416,"body_markdown":"What is the sense of not retrieving the age? Less bytes in the wire?","body":"What is the sense of not retrieving the age? Less bytes in the wire?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1439383195,"post_id":31785604,"comment_id":51837950,"body_markdown":"@gabrielgiussi its because of performance. The age is calculated by timezone, daylight-saving-time, location... let us say, it takes seconds to calculate the age.","body":"@gabrielgiussi its because of performance. The age is calculated by timezone, daylight-saving-time, location... let us say, it takes seconds to calculate the age."},{"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"score":0,"creation_date":1439383372,"post_id":31785604,"comment_id":51838076,"body_markdown":"So, if it&#39;s calculated what are you persisting in the age field?","body":"So, if it&#39;s calculated what are you persisting in the age field?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1439385065,"post_id":31785604,"comment_id":51839542,"body_markdown":"A update-trigger causes a chain of processes... does it realy matter?","body":"A update-trigger causes a chain of processes... does it realy matter?"},{"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"score":0,"creation_date":1439484236,"post_id":31785604,"comment_id":51892143,"body_markdown":"I can&#39;t fully understand the requirement behind your question. If the age is calculated with a update-trigger, why it would hurt performance retrieve the age in the query if the saved value is already calculated?","body":"I can&#39;t fully understand the requirement behind your question. If the age is calculated with a update-trigger, why it would hurt performance retrieve the age in the query if the saved value is already calculated?"}],"answers":[{"tags":[],"owner":{"account_id":3063445,"reputation":3948,"user_id":2595658,"accept_rate":64,"display_name":"Paco Abato"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1439378693,"creation_date":1439361586,"answer_id":31957727,"question_id":31785604,"body_markdown":"I think that lazy mode only makes sense with associations. If you are accessing a plain table it will load all the fields.\r\n\r\nIf you want the `age` field not to appear in the SQL and so not being loaded into memory then use projections:\r\n\r\n    Criteria crit = session.createCriteria(Person.class);\r\n    ProjectionList projList = Projections.projectionList();\r\n    projList.add(Projections.property(&quot;name&quot;));\r\n    projList.add(Projections.property(&quot;firstname&quot;));\r\n    crit.setProjection(projList);","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>I think that lazy mode only makes sense with associations. If you are accessing a plain table it will load all the fields.</p>\n\n<p>If you want the <code>age</code> field not to appear in the SQL and so not being loaded into memory then use projections:</p>\n\n<pre><code>Criteria crit = session.createCriteria(Person.class);\nProjectionList projList = Projections.projectionList();\nprojList.add(Projections.property(\"name\"));\nprojList.add(Projections.property(\"firstname\"));\ncrit.setProjection(projList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2432741,"reputation":2413,"user_id":2123306,"accept_rate":83,"display_name":"Mathias Begert"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1439867613,"creation_date":1439367565,"answer_id":31959716,"question_id":31785604,"body_markdown":"Setting the FetchMode of the &quot;age&quot; property on a criteria has no effect because the fetching strategy at this point is for associated objects only but not for properties. See section [20.1. Fetching strategies][1] of the hibernate docs.\r\n\r\n&gt; Hibernate uses a fetching strategy to retrieve **associated objects**\r\n&gt; if the application needs to navigate the association. Fetch strategies\r\n&gt; can be declared in the O/R mapping metadata, or over-ridden by a\r\n&gt; particular HQL or Criteria query.\r\n\r\nThe only way for lazy loading of a property is the `@Basic` annotation set to `FetchType.LAZY`. See [here][2], or if you use .hbm.xml files for mapping use `lazy=true`, see [this][3] section of the hibernate docs.\r\n\r\n&gt; The @Basic annotation allows you to declare the **fetching strategy for\r\n&gt; a property**. If set to LAZY, specifies that this property should be\r\n&gt; fetched lazily when the instance variable is first accessed. It\r\n&gt; requires build-time bytecode instrumentation, if your classes are not\r\n&gt; instrumented, property level lazy loading is silently ignored. \r\n\r\nLazy loading of properties also use **buildtime bytecode instumentation** (hibernate is changing the entity classes after compilation to allow lazy loading of properties). Read [20.1.8. Using lazy property fetching][4]\r\n\r\n\r\nAn other possible solution (except for all the other solutions) to your problem is to make a simpler Person class and use a [constructor query][5] like:\r\n\r\n    public class PersonDTO {\r\n        private String name;\r\n        private String firstname;\r\n\r\n        private Person(String name, String firstname) {\r\n            this.name = name;\r\n            this.firstname = firstname;\r\n        }\r\n        // getters &amp; setters\r\n    }\r\n\r\n    Query q = session.createQuery(&quot;select new your.package.name.PersonDTO(&quot;\r\n        + &quot;p.name, p.firstname) from Person p&quot;);\r\n    q.list();\r\n\r\nYou could even use your existing Person class, just extend it with an appropriate constructor, but I would prefer explicitness. \r\n\r\nBut all the solutions presented here do not implement a lazy loading of the `age` attribute. The only way to do this is the `@Basic`annotation, or you have to implement your own lazy loading.\r\n    \r\n  [1]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch20.html#performance-fetching\r\n  [2]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-declaration-property\r\n  [3]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#d5e3233\r\n  [4]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch20.html#performance-fetching-lazyproperties\r\n  [5]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch16.html#queryhql-select","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>Setting the FetchMode of the \"age\" property on a criteria has no effect because the fetching strategy at this point is for associated objects only but not for properties. See section <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch20.html#performance-fetching\">20.1. Fetching strategies</a> of the hibernate docs.</p>\n\n<blockquote>\n  <p>Hibernate uses a fetching strategy to retrieve <strong>associated objects</strong>\n  if the application needs to navigate the association. Fetch strategies\n  can be declared in the O/R mapping metadata, or over-ridden by a\n  particular HQL or Criteria query.</p>\n</blockquote>\n\n<p>The only way for lazy loading of a property is the <code>@Basic</code> annotation set to <code>FetchType.LAZY</code>. See <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-declaration-property\">here</a>, or if you use .hbm.xml files for mapping use <code>lazy=true</code>, see <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#d5e3233\">this</a> section of the hibernate docs.</p>\n\n<blockquote>\n  <p>The @Basic annotation allows you to declare the <strong>fetching strategy for\n  a property</strong>. If set to LAZY, specifies that this property should be\n  fetched lazily when the instance variable is first accessed. It\n  requires build-time bytecode instrumentation, if your classes are not\n  instrumented, property level lazy loading is silently ignored. </p>\n</blockquote>\n\n<p>Lazy loading of properties also use <strong>buildtime bytecode instumentation</strong> (hibernate is changing the entity classes after compilation to allow lazy loading of properties). Read <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch20.html#performance-fetching-lazyproperties\">20.1.8. Using lazy property fetching</a></p>\n\n<p>An other possible solution (except for all the other solutions) to your problem is to make a simpler Person class and use a <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch16.html#queryhql-select\">constructor query</a> like:</p>\n\n<pre><code>public class PersonDTO {\n    private String name;\n    private String firstname;\n\n    private Person(String name, String firstname) {\n        this.name = name;\n        this.firstname = firstname;\n    }\n    // getters &amp; setters\n}\n\nQuery q = session.createQuery(\"select new your.package.name.PersonDTO(\"\n    + \"p.name, p.firstname) from Person p\");\nq.list();\n</code></pre>\n\n<p>You could even use your existing Person class, just extend it with an appropriate constructor, but I would prefer explicitness. </p>\n\n<p>But all the solutions presented here do not implement a lazy loading of the <code>age</code> attribute. The only way to do this is the <code>@Basic</code>annotation, or you have to implement your own lazy loading.</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439893368,"creation_date":1439379414,"answer_id":31964104,"question_id":31785604,"body_markdown":"Your reasoning is valid (in general; we can however argue about the specific example of the `age` field), but unfortunately there is no straight-forward solution for this. Actually, Hibernate has the concept of [fetch profiles][1], but it is currently very limited (you can override the default fetch plan/strategy only with the join-style fetch profiles).\r\n\r\nSo, the possible workaround to your issue could be as follows.\r\n\r\n1) Move `age` to a separate entity and associate the `Person` entity with it with a lazy one-to-one relationship:\r\n\r\n    @Entity\r\n    class PersonAge {\r\n       private Integer age;\r\n    }\r\n    \r\n    @Entity\r\n    class Person {\r\n       @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, optional = false)\r\n       @JoinColumn(name = &quot;PERSON_AGE_ID&quot;)\r\n       private PersonAge personAge;\r\n       \r\n       public Integer getAge() {\r\n          return personAge.getAge();\r\n       }\r\n\r\n       public void setAge(Integer age) {\r\n          personAge.setAge(age);\r\n       }\r\n    }\r\n\r\n2) Define a fetch profile which overrides the default one:\r\n\r\n    @FetchProfile(name = &quot;person-with-age&quot;, fetchOverrides = {\r\n       @FetchProfile.FetchOverride(entity = Person.class, association = &quot;personAge&quot;, mode = FetchMode.JOIN)\r\n    })\r\n\r\n3) Enable this profile for *each* session in the application:\r\n\r\n    session.enableFetchProfile(&quot;person-with-age&quot;);\r\n\r\nDepending on the framework you use, there should be an easy hook/interceptor which you will use to enable the profile for each session (transaction) that is craeted. For example, an approach in Spring could be to override [AbstractPlatformTransactionManager.doBegin][2] of the transaction manager in use.\r\n\r\nThis way the `personAge` will be eagerly loaded in all the sessions in the application, unless the fetch profile is explicitly disabled.\r\n\r\n4) *Disable* the fetch profile in the session in which you use the desired Criteria query:\r\n\r\n    session.disableFetchProfile(&quot;person-with-age&quot;);\r\n\r\nThis way the default fetch plan/strategy is used (specified in the entity mappings), which is the lazy loading of the `PersonAge`.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch20.html#performance-fetching-profiles\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/support/AbstractPlatformTransactionManager.html#doBegin-java.lang.Object-org.springframework.transaction.TransactionDefinition-","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>Your reasoning is valid (in general; we can however argue about the specific example of the <code>age</code> field), but unfortunately there is no straight-forward solution for this. Actually, Hibernate has the concept of <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch20.html#performance-fetching-profiles\" rel=\"nofollow\">fetch profiles</a>, but it is currently very limited (you can override the default fetch plan/strategy only with the join-style fetch profiles).</p>\n\n<p>So, the possible workaround to your issue could be as follows.</p>\n\n<p>1) Move <code>age</code> to a separate entity and associate the <code>Person</code> entity with it with a lazy one-to-one relationship:</p>\n\n<pre><code>@Entity\nclass PersonAge {\n   private Integer age;\n}\n\n@Entity\nclass Person {\n   @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, optional = false)\n   @JoinColumn(name = \"PERSON_AGE_ID\")\n   private PersonAge personAge;\n\n   public Integer getAge() {\n      return personAge.getAge();\n   }\n\n   public void setAge(Integer age) {\n      personAge.setAge(age);\n   }\n}\n</code></pre>\n\n<p>2) Define a fetch profile which overrides the default one:</p>\n\n<pre><code>@FetchProfile(name = \"person-with-age\", fetchOverrides = {\n   @FetchProfile.FetchOverride(entity = Person.class, association = \"personAge\", mode = FetchMode.JOIN)\n})\n</code></pre>\n\n<p>3) Enable this profile for <em>each</em> session in the application:</p>\n\n<pre><code>session.enableFetchProfile(\"person-with-age\");\n</code></pre>\n\n<p>Depending on the framework you use, there should be an easy hook/interceptor which you will use to enable the profile for each session (transaction) that is craeted. For example, an approach in Spring could be to override <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/support/AbstractPlatformTransactionManager.html#doBegin-java.lang.Object-org.springframework.transaction.TransactionDefinition-\" rel=\"nofollow\">AbstractPlatformTransactionManager.doBegin</a> of the transaction manager in use.</p>\n\n<p>This way the <code>personAge</code> will be eagerly loaded in all the sessions in the application, unless the fetch profile is explicitly disabled.</p>\n\n<p>4) <em>Disable</em> the fetch profile in the session in which you use the desired Criteria query:</p>\n\n<pre><code>session.disableFetchProfile(\"person-with-age\");\n</code></pre>\n\n<p>This way the default fetch plan/strategy is used (specified in the entity mappings), which is the lazy loading of the <code>PersonAge</code>.</p>\n"},{"tags":[],"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439383313,"creation_date":1439382280,"answer_id":31965162,"question_id":31785604,"body_markdown":"If your age is an object like the PersonAge of @Dragan you could associate the fecth mode with the criteria rather than the entity like you do.\r\n\r\nSo, I think you have three options:\r\n\r\n 1. age as primitive and projection like @Paco says (Person.age will be null and not a Proxy, you lose the lazyness that you want)\r\n 2. age as primitive without projection (more bytes in the wire)\r\n 3. age as PersonAge + criteria.setFetchMode (you will get the lazyness that you want at the cost of an extra object/table/mapping)\r\n\r\nFor Projection you could use ResultTransformer to\r\n\r\n    Criteria crit = session.createCriteria(Person.class);\r\n    ProjectionList projList = Projections.projectionList();\r\n    projList.add(Projections.property(&quot;name&quot;));\r\n    projList.add(Projections.property(&quot;firstname&quot;));\r\n    crit.setProjection(projList);\r\n    crit.setResultTransformer(new ResultTransformer() {\r\n\r\n          @Override\r\n          public Object transformTuple(Object[] tuple, String[] aliases) {\r\n            String name = (Long) tuple[0];\r\n            String firstName = (String) tuple[1];\r\n            return new Person(name , firstName);\r\n          }\r\n\r\n          @Override\r\n          public List&lt;Reference&gt; transformList(List collection) {\r\n            return collection;\r\n          }\r\n        });\r\n\r\nI think you could create a PersonProxy on your own that triggers a query for retrieve the age but this is kind of awful.\r\n\r\n      @Override\r\n      public Object transformTuple(Object[] tuple, String[] aliases) {\r\n        String name = (Long) tuple[0];\r\n        String firstName = (String) tuple[1];\r\n        return new PersonProxy(name , firstName);\r\n      }\r\n\r\n      class PersonProxy {\r\n        Person realPerson;\r\n        \r\n        public getAge(){\r\n           // create a query with realPerson.id for retrieve the age. \r\n        }\r\n      }","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>If your age is an object like the PersonAge of @Dragan you could associate the fecth mode with the criteria rather than the entity like you do.</p>\n\n<p>So, I think you have three options:</p>\n\n<ol>\n<li>age as primitive and projection like @Paco says (Person.age will be null and not a Proxy, you lose the lazyness that you want)</li>\n<li>age as primitive without projection (more bytes in the wire)</li>\n<li>age as PersonAge + criteria.setFetchMode (you will get the lazyness that you want at the cost of an extra object/table/mapping)</li>\n</ol>\n\n<p>For Projection you could use ResultTransformer to</p>\n\n<pre><code>Criteria crit = session.createCriteria(Person.class);\nProjectionList projList = Projections.projectionList();\nprojList.add(Projections.property(\"name\"));\nprojList.add(Projections.property(\"firstname\"));\ncrit.setProjection(projList);\ncrit.setResultTransformer(new ResultTransformer() {\n\n      @Override\n      public Object transformTuple(Object[] tuple, String[] aliases) {\n        String name = (Long) tuple[0];\n        String firstName = (String) tuple[1];\n        return new Person(name , firstName);\n      }\n\n      @Override\n      public List&lt;Reference&gt; transformList(List collection) {\n        return collection;\n      }\n    });\n</code></pre>\n\n<p>I think you could create a PersonProxy on your own that triggers a query for retrieve the age but this is kind of awful.</p>\n\n<pre><code>  @Override\n  public Object transformTuple(Object[] tuple, String[] aliases) {\n    String name = (Long) tuple[0];\n    String firstName = (String) tuple[1];\n    return new PersonProxy(name , firstName);\n  }\n\n  class PersonProxy {\n    Person realPerson;\n\n    public getAge(){\n       // create a query with realPerson.id for retrieve the age. \n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515091985,"creation_date":1439567193,"answer_id":32013940,"question_id":31785604,"body_markdown":"You can simply define a new entity `SimplePerson` mapped to the same `persons` database table which contains only the following attributes:\r\n\r\n- id\r\n- name\r\n- firstName\r\n\r\nThis way, when selecting a `SimplePerson` with both Criteria and HQL, the age column will not be retrieved.\r\n\r\nAnother alternative is to use [lazy loading for basic attributes][1], but mapping multiple subentities to the same database table is much more flexible.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-lazy-load-entity-attributes-using-jpa-and-hibernate/","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>You can simply define a new entity <code>SimplePerson</code> mapped to the same <code>persons</code> database table which contains only the following attributes:</p>\n\n<ul>\n<li>id</li>\n<li>name</li>\n<li>firstName</li>\n</ul>\n\n<p>This way, when selecting a <code>SimplePerson</code> with both Criteria and HQL, the age column will not be retrieved.</p>\n\n<p>Another alternative is to use <a href=\"https://vladmihalcea.com/the-best-way-to-lazy-load-entity-attributes-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">lazy loading for basic attributes</a>, but mapping multiple subentities to the same database table is much more flexible.</p>\n"},{"tags":[],"owner":{"account_id":5988641,"reputation":121,"user_id":4705385,"display_name":"Rusli Usman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641393245,"creation_date":1641366690,"answer_id":70589015,"question_id":31785604,"body_markdown":"I would like to add (or maybe clarify) the followings.  Given the main class (Settlement) with an attribute class (Customer):\r\n\r\n    @Entity\r\n    @Table(name = &quot;settlement&quot;) \r\n    public class Settlement extends IdBasedObject {\r\n    \r\n    ...\r\n    \r\n    \t@OneToOne(fetch=FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;customer_id_fk&quot;)\r\n    \tprivate Customer customer;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;, schema = SchemaUtil.SCHEMA_COMMON)\r\n    public class Customer extends IdBasedObject {\r\n    \t@Column(name = &quot;organization_type&quot;)\r\n    \t@Enumerated(EnumType.ORDINAL)\r\n    \tprivate CompanyType companyType;\r\n    \r\n    \t@Column(name = &quot;organization_legal_name&quot;)\r\n    \tprivate String companyLegalName;\r\n    \r\n        ...\r\n    }\r\n\r\nIf you would like to get all the distinct customers from the Settlement, you would use the Projections **distinct** on the &#39;customer&#39; property and followed by creating an alias from the Settlement class:\r\n\r\n    \tpublic List&lt;Customer&gt; findUniqueCustomer() throws Exception {\r\n    \t\tSession session = super.getSessionFactory().openSession();\r\n    \r\n    \t\tProjectionList projectionList = Projections.projectionList();\r\n    \t\tprojectionList.add(Projections.distinct(Projections.property(&quot;customer&quot;)));\r\n    \r\n    \t\tCriteria criteria = session.createCriteria(Settlement.class);\r\n            criteria.setProjection(projectionList);\r\n    \t\tcriteria.createAlias(&quot;customer&quot;, &quot;customer&quot;);\r\n    \r\n    return criteria.list();\r\n    }\r\n\r\nNow, if you do that, you will get back a list of non-proxy error &#39;could not initialize proxy - no Session&#39; for each of the customer object.\r\n\r\nFortunately, criteria provides the setResultTransformer function that will &#39;re-shape&#39; the return.\r\n\r\n    \t\tcriteria.setResultTransformer(new ResultTransformer() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic Object transformTuple(Object[] tuple, String[] aliases) {\r\n    \t\t\t\tCustomer customerObject = (Customer) tuple[0];\r\n    \t\t\t\t\r\n    \t\t\t\tCustomer customer = new Customer();\r\n    \t\t\t\tcustomer.setId(customerObject.getId());\r\n    \t\t\t\tcustomer.setVersion(customerObject.getVersion());\r\n    \t\t\t\tcustomer.setCompanyType(customerObject.getCompanyType());\r\n    \t\t\t\t \r\n                 customer.setCompanyLegalName(customerObject.getCompanyLegalName());\r\n                 return customer;\r\n                 ...\r\n              }\r\n    \r\n    \t\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \t\t\t@Override\r\n    \t\t\tpublic List&lt;Customer&gt; transformList(List collection) {\r\n    \r\n    \t\t\t\treturn collection;\r\n    \t\t\t}\r\n    });\r\n\r\nThe tuple[0] essentially contains the customer object value, since the customer object is not proxied, you will get the error.  In the transformTuple function, you have a chance to &#39;re-create&#39; each of the customer object thereby avoiding the &#39;non-proxied&#39; error.\r\n\r\nPlease give a try.\r\n\r\n","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>I would like to add (or maybe clarify) the followings.  Given the main class (Settlement) with an attribute class (Customer):</p>\n<pre><code>@Entity\n@Table(name = &quot;settlement&quot;) \npublic class Settlement extends IdBasedObject {\n\n...\n\n    @OneToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name = &quot;customer_id_fk&quot;)\n    private Customer customer;\n}\n\n@Entity\n@Table(name = &quot;customer&quot;, schema = SchemaUtil.SCHEMA_COMMON)\npublic class Customer extends IdBasedObject {\n    @Column(name = &quot;organization_type&quot;)\n    @Enumerated(EnumType.ORDINAL)\n    private CompanyType companyType;\n\n    @Column(name = &quot;organization_legal_name&quot;)\n    private String companyLegalName;\n\n    ...\n}\n</code></pre>\n<p>If you would like to get all the distinct customers from the Settlement, you would use the Projections <strong>distinct</strong> on the 'customer' property and followed by creating an alias from the Settlement class:</p>\n<pre><code>    public List&lt;Customer&gt; findUniqueCustomer() throws Exception {\n        Session session = super.getSessionFactory().openSession();\n\n        ProjectionList projectionList = Projections.projectionList();\n        projectionList.add(Projections.distinct(Projections.property(&quot;customer&quot;)));\n\n        Criteria criteria = session.createCriteria(Settlement.class);\n        criteria.setProjection(projectionList);\n        criteria.createAlias(&quot;customer&quot;, &quot;customer&quot;);\n\nreturn criteria.list();\n}\n</code></pre>\n<p>Now, if you do that, you will get back a list of non-proxy error 'could not initialize proxy - no Session' for each of the customer object.</p>\n<p>Fortunately, criteria provides the setResultTransformer function that will 're-shape' the return.</p>\n<pre><code>        criteria.setResultTransformer(new ResultTransformer() {\n            \n            @Override\n            public Object transformTuple(Object[] tuple, String[] aliases) {\n                Customer customerObject = (Customer) tuple[0];\n                \n                Customer customer = new Customer();\n                customer.setId(customerObject.getId());\n                customer.setVersion(customerObject.getVersion());\n                customer.setCompanyType(customerObject.getCompanyType());\n                 \n             customer.setCompanyLegalName(customerObject.getCompanyLegalName());\n             return customer;\n             ...\n          }\n\n            @SuppressWarnings(&quot;rawtypes&quot;)\n            @Override\n            public List&lt;Customer&gt; transformList(List collection) {\n\n                return collection;\n            }\n});\n</code></pre>\n<p>The tuple[0] essentially contains the customer object value, since the customer object is not proxied, you will get the error.  In the transformTuple function, you have a chance to 're-create' each of the customer object thereby avoiding the 'non-proxied' error.</p>\n<p>Please give a try.</p>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9538,"favorite_count":0,"down_vote_count":2,"up_vote_count":17,"answer_count":6,"score":15,"last_activity_date":1641393245,"creation_date":1438599864,"question_id":31785604,"body_markdown":"Each row of the table `Person` (having `name`, `firstname` and `age`) shall be read.\r\n\r\n    EntityManager em = emf.createEntityManager();\r\n    Session s = (Session) em.getDelegate();\r\n    Criteria criteria = s.createCriteria(Person.class);\r\n    criteria.setFetchMode(&quot;age&quot;, FetchMode.SELECT);\r\n\r\nBut the SQL shows\r\n\r\n    Hibernate:\r\n        select\r\n            person0_.name,\r\n            person0_.firstname,\r\n            person0_.age\r\n        from \r\n            SCOPE.PERSON person0_\r\n\r\nHow to let the age be lazy **ONLY** for the Criteria??","title":"How to fetch a field lazily with Hibernate Criteria","body":"<p>Each row of the table <code>Person</code> (having <code>name</code>, <code>firstname</code> and <code>age</code>) shall be read.</p>\n\n<pre><code>EntityManager em = emf.createEntityManager();\nSession s = (Session) em.getDelegate();\nCriteria criteria = s.createCriteria(Person.class);\ncriteria.setFetchMode(\"age\", FetchMode.SELECT);\n</code></pre>\n\n<p>But the SQL shows</p>\n\n<pre><code>Hibernate:\n    select\n        person0_.name,\n        person0_.firstname,\n        person0_.age\n    from \n        SCOPE.PERSON person0_\n</code></pre>\n\n<p>How to let the age be lazy <strong>ONLY</strong> for the Criteria??</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":15591203,"reputation":66,"user_id":11248197,"display_name":"ErayZaxy"},"score":0,"creation_date":1641327466,"post_id":70584478,"comment_id":124775636,"body_markdown":"You first need to create an object inside main(), and then call initializeSkillList() on that object","body":"You first need to create an object inside main(), and then call initializeSkillList() on that object"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641327713,"post_id":70584478,"comment_id":124775726,"body_markdown":"Please include the definition of `charCreation`","body":"Please include the definition of <code>charCreation</code>"},{"owner":{"account_id":15591203,"reputation":66,"user_id":11248197,"display_name":"ErayZaxy"},"score":1,"creation_date":1641327755,"post_id":70584478,"comment_id":124775737,"body_markdown":"Why create those object inside of the class, why not create them in main and then name each type of skill when creating a new Skill using its constructor. Making a list &quot;skillList &quot; inside the clas &quot;Skill&quot; breaks the whole concept of OOP. It is maybe better to have another class playerSkills and then have a list of Skill there, it would make much more sense","body":"Why create those object inside of the class, why not create them in main and then name each type of skill when creating a new Skill using its constructor. Making a list &quot;skillList &quot; inside the clas &quot;Skill&quot; breaks the whole concept of OOP. It is maybe better to have another class playerSkills and then have a list of Skill there, it would make much more sense"},{"owner":{"account_id":23828160,"reputation":1,"user_id":17834869,"display_name":"Christopher McLernon"},"score":0,"creation_date":1641335552,"post_id":70584478,"comment_id":124778031,"body_markdown":"I initially had the initializeSkillList() method and &quot;skillList&quot; list in a different Character class but it wouldn&#39;t work so I tried moving it but that didn&#39;t fix it but even the print statement in the method doesn&#39;t print the correct values it only gives null or 0","body":"I initially had the initializeSkillList() method and &quot;skillList&quot; list in a different Character class but it wouldn&#39;t work so I tried moving it but that didn&#39;t fix it but even the print statement in the method doesn&#39;t print the correct values it only gives null or 0"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1641342848,"post_id":70584478,"comment_id":124779511,"body_markdown":"_What_ is printed as null, which line?","body":"<i>What</i> is printed as null, which line?"},{"owner":{"account_id":23828160,"reputation":1,"user_id":17834869,"display_name":"Christopher McLernon"},"score":0,"creation_date":1641345868,"post_id":70584478,"comment_id":124780025,"body_markdown":"The debug statement inside of the initializeSkillList() method that is meant to print the skillValue but it prints 0 and when I ask for the skillName it gives null but I checked and the list is the correct size its like it&#39;s filled with empty Skill objects","body":"The debug statement inside of the initializeSkillList() method that is meant to print the skillValue but it prints 0 and when I ask for the skillName it gives null but I checked and the list is the correct size its like it&#39;s filled with empty Skill objects"}],"answers":[{"tags":[],"owner":{"account_id":15591203,"reputation":66,"user_id":11248197,"display_name":"ErayZaxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641328429,"creation_date":1641328429,"answer_id":70584723,"question_id":70584478,"body_markdown":"If you create a getter for &quot;skillList&quot; then you can just say\r\n\r\n    Skill.getSkillList();\r\nAnd then do whatever you want with this list.\r\nTo make your code a little better, change this\r\n\r\n    public static ArrayList&lt;Skill&gt; skillList = new ArrayList&lt;&gt;();\r\nto this\r\n\r\n    public static List&lt;Skill&gt; skillList = new ArrayList&lt;&gt;();","title":"An ArrayList that should have objects from a created class but print as null","body":"<p>If you create a getter for &quot;skillList&quot; then you can just say</p>\n<pre><code>Skill.getSkillList();\n</code></pre>\n<p>And then do whatever you want with this list.\nTo make your code a little better, change this</p>\n<pre><code>public static ArrayList&lt;Skill&gt; skillList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>to this</p>\n<pre><code>public static List&lt;Skill&gt; skillList = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":23828160,"reputation":1,"user_id":17834869,"display_name":"Christopher McLernon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641393037,"creation_date":1641326870,"question_id":70584478,"body_markdown":"My first class that creates the ArrayList and populates it with the Skill objects\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Skill {\r\n    String skillName;\r\n    int skillValue;\r\n    public static ArrayList&lt;Skill&gt; skillList = new ArrayList&lt;Skill&gt;();\r\n\r\n    public Skill(String newSkillName, int newSkillValue){\r\n        setSkillName(newSkillName);\r\n        setSkillValue(newSkillValue);\r\n    }\r\n\r\n    public static void initializeSkillList(){\r\n        //Creating the Skill obj&#39;s\r\n        Skill str = new Skill(&quot;Str&quot;, 1);\r\n        Skill dex = new Skill(&quot;Dex&quot;, 1);\r\n        Skill intl = new Skill(&quot;Int&quot;, 1);\r\n        Skill con = new Skill(&quot;Con&quot;, 3);\r\n\r\n        //Adding them to the Skill ArrayList\r\n        skillList.add(str);\r\n        skillList.add(dex);\r\n        skillList.add(intl);\r\n        skillList.add(con);\r\n\r\n        //Debug statement to check if the values are correct\r\n        System.out.println(skillList.get(1).skillValue);\r\n    }\r\n}\r\n```\r\nI am attempting to access the objects skillValue and skillName from the ArrayList in my Main.java class. I have setters and getters.\r\nThis is the Main class\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    static Character playerCharacter;\r\n    static boolean charCreationComplete = false;\r\n    static boolean endGame = false;\r\n    static Scanner scnr = new Scanner(System.in);\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(&quot;\\n\\nWelcome to Garterra!\\n\\n&quot;);\r\n        Archetype.initializeArchetypeList();\r\n        Skill.initializeSkillList();\r\n\r\n        if (!charCreationComplete){\r\n            charCreation(scnr);\r\n            charCreationComplete = true;\r\n        }\r\n```\r\n`charCreation(scnr);` then accesses the skillList through getters and setters\r\n\r\ncharCreation() Method:\r\n```\r\nprivate static void charCreation(Scanner scnr){\r\n\r\n    System.out.println(&quot;\\nEnter player name:\\n\\n&quot;);\r\n    String newName = scnr.nextLine();\r\n    System.out.println(&quot;You Entered &quot; + newName + &quot; for your name!\\n&quot;);\r\n    System.out.println(&quot;Next, Choose your Archetype: 0 = Ranger\\n&quot;);\r\n    int archetypeIndex = scnr.nextInt();\r\n    Character.currArchetype = Archetype.archetypeList.get(archetypeIndex);\r\n    Character.archetypeName = Archetype.archetypeList.get(archetypeIndex).getArchetypeName();\r\n    System.out.println(&quot;You have chosen &quot; + Character.archetypeName + &quot;.\\nThis gives you &quot; + Character.currArchetype.totalSpendableSkillPoints + &quot; total spendable skill points!\\n&quot;);\r\n    System.out.println(&quot;Now, spend those skill points.\\n&quot;);\r\n    if (Character.currArchetype.getArchetypeName().contains(&quot;Ranger&quot;)){\r\n        Ranger.dexModifierCalc(1);\r\n        Ranger.conModifierCalc(1);\r\n    }\r\n    while (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\r\n        System.out.println(&quot;How many points would you like to put into Strength?\\nThis impacts your melee weapon damage and carry weight.\\n&quot;);\r\n        int strAddPoints = scnr.nextInt();\r\n        Skill.skillList.get(0).setSkillValue(Skill.skillList.get(0).getSkillValue() + strAddPoints);\r\n        Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - strAddPoints);\r\n        strAddPoints = 0;\r\n        System.out.println(&quot;You now have &quot; + Skill.skillList.get(0).getSkillValue() + &quot;\\n&quot;);\r\n        if (Character.currArchetype.totalSpendableSkillPoints == 0){\r\n            break;\r\n        }\r\n        if (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\r\n            System.out.println(&quot;How many points would you like to put into Dexterity?\\nThis impacts your ranged weapon damage.\\n&quot;);\r\n            int dexAddPoints = scnr.nextInt();\r\n            Skill.skillList.get(1).setSkillValue(Skill.skillList.get(1).getSkillValue() + dexAddPoints);\r\n            Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - dexAddPoints);\r\n            dexAddPoints = 0;\r\n            System.out.println(&quot;You now have &quot; + Skill.skillList.get(1).getSkillValue() + &quot;\\n&quot;);\r\n        }\r\n            if (Character.currArchetype.totalSpendableSkillPoints == 0){\r\n            break;\r\n        }\r\n        if (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\r\n            System.out.println(&quot;How many points would you like to put into Intelligence?\\nThis impacts your magic damage.\\n&quot;);\r\n            int intAddPoints = scnr.nextInt();\r\n            Skill.skillList.get(2).setSkillValue(Skill.skillList.get(2).getSkillValue() + intAddPoints);\r\n            Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - intAddPoints);\r\n            intAddPoints = 0;\r\n            System.out.println(&quot;You now have &quot; + Skill.skillList.get(2).getSkillValue() + &quot;\\n&quot;);\r\n        }\r\n            if (Character.currArchetype.totalSpendableSkillPoints == 0){\r\n            break;\r\n        }\r\n        if (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\r\n            System.out.println(&quot;How many points would you like to put into Strength?\\nThis impacts your melee weapon damage and carry weight.\\n&quot;);\r\n            int conAddPoints = scnr.nextInt();\r\n            Skill.skillList.get(3).setSkillValue(Skill.skillList.get(3).getSkillValue() + conAddPoints);\r\n            Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - conAddPoints);\r\n            conAddPoints = 0;\r\n            System.out.println(&quot;You now have &quot; + Skill.skillList.get(3).getSkillValue() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n    int newHealthPoints = Character.healthPointsCalc();\r\n    System.out.println(&quot;You have &quot; + newHealthPoints + &quot; health points!\\n\\n&quot;);\r\n    int newTotalCarryWeight = Character.carryWeightCalc(Character.currArchetype.getLevel());\r\n    System.out.println(&quot;Your total carry weight is &quot; + newTotalCarryWeight + &quot;.\\n&quot;);\r\n    int newExperince = 0;\r\n    playerCharacter = new Character(newName, newHealthPoints, newExperince, 1, Archetype.archetypeList.get(archetypeIndex), newTotalCarryWeight);\r\n}\r\n```\r\n","title":"An ArrayList that should have objects from a created class but print as null","body":"<p>My first class that creates the ArrayList and populates it with the Skill objects</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Skill {\n    String skillName;\n    int skillValue;\n    public static ArrayList&lt;Skill&gt; skillList = new ArrayList&lt;Skill&gt;();\n\n    public Skill(String newSkillName, int newSkillValue){\n        setSkillName(newSkillName);\n        setSkillValue(newSkillValue);\n    }\n\n    public static void initializeSkillList(){\n        //Creating the Skill obj's\n        Skill str = new Skill(&quot;Str&quot;, 1);\n        Skill dex = new Skill(&quot;Dex&quot;, 1);\n        Skill intl = new Skill(&quot;Int&quot;, 1);\n        Skill con = new Skill(&quot;Con&quot;, 3);\n\n        //Adding them to the Skill ArrayList\n        skillList.add(str);\n        skillList.add(dex);\n        skillList.add(intl);\n        skillList.add(con);\n\n        //Debug statement to check if the values are correct\n        System.out.println(skillList.get(1).skillValue);\n    }\n}\n</code></pre>\n<p>I am attempting to access the objects skillValue and skillName from the ArrayList in my Main.java class. I have setters and getters.\nThis is the Main class</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    static Character playerCharacter;\n    static boolean charCreationComplete = false;\n    static boolean endGame = false;\n    static Scanner scnr = new Scanner(System.in);\n\n    public static void main(String[] args){\n        System.out.println(&quot;\\n\\nWelcome to Garterra!\\n\\n&quot;);\n        Archetype.initializeArchetypeList();\n        Skill.initializeSkillList();\n\n        if (!charCreationComplete){\n            charCreation(scnr);\n            charCreationComplete = true;\n        }\n</code></pre>\n<p><code>charCreation(scnr);</code> then accesses the skillList through getters and setters</p>\n<p>charCreation() Method:</p>\n<pre><code>private static void charCreation(Scanner scnr){\n\n    System.out.println(&quot;\\nEnter player name:\\n\\n&quot;);\n    String newName = scnr.nextLine();\n    System.out.println(&quot;You Entered &quot; + newName + &quot; for your name!\\n&quot;);\n    System.out.println(&quot;Next, Choose your Archetype: 0 = Ranger\\n&quot;);\n    int archetypeIndex = scnr.nextInt();\n    Character.currArchetype = Archetype.archetypeList.get(archetypeIndex);\n    Character.archetypeName = Archetype.archetypeList.get(archetypeIndex).getArchetypeName();\n    System.out.println(&quot;You have chosen &quot; + Character.archetypeName + &quot;.\\nThis gives you &quot; + Character.currArchetype.totalSpendableSkillPoints + &quot; total spendable skill points!\\n&quot;);\n    System.out.println(&quot;Now, spend those skill points.\\n&quot;);\n    if (Character.currArchetype.getArchetypeName().contains(&quot;Ranger&quot;)){\n        Ranger.dexModifierCalc(1);\n        Ranger.conModifierCalc(1);\n    }\n    while (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\n        System.out.println(&quot;How many points would you like to put into Strength?\\nThis impacts your melee weapon damage and carry weight.\\n&quot;);\n        int strAddPoints = scnr.nextInt();\n        Skill.skillList.get(0).setSkillValue(Skill.skillList.get(0).getSkillValue() + strAddPoints);\n        Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - strAddPoints);\n        strAddPoints = 0;\n        System.out.println(&quot;You now have &quot; + Skill.skillList.get(0).getSkillValue() + &quot;\\n&quot;);\n        if (Character.currArchetype.totalSpendableSkillPoints == 0){\n            break;\n        }\n        if (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\n            System.out.println(&quot;How many points would you like to put into Dexterity?\\nThis impacts your ranged weapon damage.\\n&quot;);\n            int dexAddPoints = scnr.nextInt();\n            Skill.skillList.get(1).setSkillValue(Skill.skillList.get(1).getSkillValue() + dexAddPoints);\n            Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - dexAddPoints);\n            dexAddPoints = 0;\n            System.out.println(&quot;You now have &quot; + Skill.skillList.get(1).getSkillValue() + &quot;\\n&quot;);\n        }\n            if (Character.currArchetype.totalSpendableSkillPoints == 0){\n            break;\n        }\n        if (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\n            System.out.println(&quot;How many points would you like to put into Intelligence?\\nThis impacts your magic damage.\\n&quot;);\n            int intAddPoints = scnr.nextInt();\n            Skill.skillList.get(2).setSkillValue(Skill.skillList.get(2).getSkillValue() + intAddPoints);\n            Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - intAddPoints);\n            intAddPoints = 0;\n            System.out.println(&quot;You now have &quot; + Skill.skillList.get(2).getSkillValue() + &quot;\\n&quot;);\n        }\n            if (Character.currArchetype.totalSpendableSkillPoints == 0){\n            break;\n        }\n        if (Character.currArchetype.totalSpendableSkillPoints &gt; 0){\n            System.out.println(&quot;How many points would you like to put into Strength?\\nThis impacts your melee weapon damage and carry weight.\\n&quot;);\n            int conAddPoints = scnr.nextInt();\n            Skill.skillList.get(3).setSkillValue(Skill.skillList.get(3).getSkillValue() + conAddPoints);\n            Character.currArchetype.setTotalSpendableSkillPoints(Character.currArchetype.totalSpendableSkillPoints - conAddPoints);\n            conAddPoints = 0;\n            System.out.println(&quot;You now have &quot; + Skill.skillList.get(3).getSkillValue() + &quot;\\n&quot;);\n        }\n    }\n    int newHealthPoints = Character.healthPointsCalc();\n    System.out.println(&quot;You have &quot; + newHealthPoints + &quot; health points!\\n\\n&quot;);\n    int newTotalCarryWeight = Character.carryWeightCalc(Character.currArchetype.getLevel());\n    System.out.println(&quot;Your total carry weight is &quot; + newTotalCarryWeight + &quot;.\\n&quot;);\n    int newExperince = 0;\n    playerCharacter = new Character(newName, newHealthPoints, newExperince, 1, Archetype.archetypeList.get(archetypeIndex), newTotalCarryWeight);\n}\n</code></pre>\n"},{"tags":["java","mysql","postgresql","quarkus","entitymanager"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1640907855,"post_id":70532075,"comment_id":124689984,"body_markdown":"As a side note: the &quot;short name&quot; of PostgreSQL is Postgre**s** not &quot;Postgre&quot;","body":"As a side note: the &quot;short name&quot; of PostgreSQL is Postgre<b>s</b> not &quot;Postgre&quot;"},{"owner":{"account_id":3048966,"reputation":11,"user_id":15868520,"display_name":"Luiz Sergio Pinheiro Bernardo"},"score":0,"creation_date":1641003188,"post_id":70532075,"comment_id":124706752,"body_markdown":"@a_horse_with_no_name thanks for the advice. Just put this example to show I want **singleton** instances accessing 2 different databases.","body":"@a_horse_with_no_name thanks for the advice. Just put this example to show I want <b>singleton</b> instances accessing 2 different databases."}],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640906251,"creation_date":1640906251,"answer_id":70537618,"question_id":70532075,"body_markdown":"Your pattern is extremely weird.\r\n\r\nIf you want a singleton DAO, just use `@ApplicationScoped` for the scope of your DAO. Don&#39;t make it `@RequestScoped` and then have a static instance, it&#39;s going to be broken.\r\n\r\nThen, with Quarkus, you shouldn&#39;t create the `EntityManagerFactory` yourself. You can just inject an `EntityManager` with:\r\n\r\n```\r\n@Inject\r\n@PersistenceUnit(&quot;postgre&quot;)\r\nEntityManager entityManager;\r\n```\r\n\r\nand you&#39;re done.","title":"EntityManager and createEntityManagerFactory with application.properties","body":"<p>Your pattern is extremely weird.</p>\n<p>If you want a singleton DAO, just use <code>@ApplicationScoped</code> for the scope of your DAO. Don't make it <code>@RequestScoped</code> and then have a static instance, it's going to be broken.</p>\n<p>Then, with Quarkus, you shouldn't create the <code>EntityManagerFactory</code> yourself. You can just inject an <code>EntityManager</code> with:</p>\n<pre><code>@Inject\n@PersistenceUnit(&quot;postgre&quot;)\nEntityManager entityManager;\n</code></pre>\n<p>and you're done.</p>\n"},{"tags":[],"owner":{"account_id":3048966,"reputation":11,"user_id":15868520,"display_name":"Luiz Sergio Pinheiro Bernardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641393036,"creation_date":1641393036,"answer_id":70594616,"question_id":70532075,"body_markdown":"**Finally found a solution to this issue**, after searching lots here and googling for any answer.\r\n\r\nInstead of manually creating `instance` field on those classes, to make singleton classes within [Quarkus](https://quarkus.io/) you shall use `@Singleton` annotation.\r\n\r\nFixed **ReadSubjectDao.java**:\r\n```java\r\npackage com.luiz.teste.dao.postgres;\r\n\r\nimport com.luiz.teste.exceptions.postgres.ReadSubjectDaoFindException;\r\n\r\nimport org.eclipse.microprofile.opentracing.Traced;\r\nimport javax.inject.Singleton;\r\nimport javax.inject.Inject;\r\nimport io.quarkus.hibernate.orm.PersistenceUnit;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.NoResultException;\r\nimport javax.persistence.PersistenceException;\r\n\r\n@Traced\r\n@Singleton\r\npublic class ReadSubjectDao {\r\n    @Inject\r\n    @PersistenceUnit(&quot;postgres&quot;)\r\n    EntityManager em;\r\n\r\n    public ReadSubject findById(int id) throws ReadSubjectDaoFindException {\r\n        try {    \r\n            return em.find(ReadSubject.class, id);\r\n        }\r\n        catch (NoResultException e) {\r\n            return null;\r\n        }\r\n        catch (PersistenceException e) {\r\n            throw new ReadSubjectDaoFindException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nFixed **WriteSubjectDao.java**:\r\n```java\r\npackage com.luiz.teste.dao.mysql;\r\n\r\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoFindException;\r\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoPersistException;\r\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoMergeException;\r\n\r\nimport org.eclipse.microprofile.opentracing.Traced;\r\nimport javax.inject.Singleton;\r\nimport javax.inject.Inject;\r\nimport io.quarkus.hibernate.orm.PersistenceUnit;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.NoResultException;\r\nimport javax.persistence.PersistenceException;\r\nimport javax.transaction.Transactional;\r\n\r\n@Traced\r\n@Singleton\r\npublic class WriteSubjectDao {\r\n    @Inject\r\n    @PersistenceUnit(&quot;mysql&quot;)\r\n    EntityManager em;\r\n\r\n    public WriteSubject findById(int id) throws WriteSubjectDaoFindException {\r\n        try {    \r\n            return em.find(WriteSubject.class, id);\r\n        }\r\n        catch (NoResultException e) {\r\n            return null;\r\n        }\r\n        catch (PersistenceException e) {\r\n            throw new WriteSubjectDaoFindException(e);\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    public void persist(WriteSubject writeSubject) throws WriteSubjectDaoPersistException {\r\n        try {\r\n            em.persist(writeSubject);\r\n        }\r\n        catch (Exception e) {            \r\n            throw new WriteSubjectDaoPersistException(e);\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    public void merge(WriteSubject writeSubject) throws WriteSubjectDaoMergeException {\r\n        try {\r\n            em.merge(writeSubject);\r\n        }\r\n        catch (Exception e) {\r\n            throw new WriteSubjectDaoMergeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nThe **application.properties** remain unchanged.&lt;br/&gt;\r\nTo call any of those 2 singleton DAO classes, just use `@Inject` annotation on caller classes, as usual.","title":"EntityManager and createEntityManagerFactory with application.properties","body":"<p><strong>Finally found a solution to this issue</strong>, after searching lots here and googling for any answer.</p>\n<p>Instead of manually creating <code>instance</code> field on those classes, to make singleton classes within <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> you shall use <code>@Singleton</code> annotation.</p>\n<p>Fixed <strong>ReadSubjectDao.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.luiz.teste.dao.postgres;\n\nimport com.luiz.teste.exceptions.postgres.ReadSubjectDaoFindException;\n\nimport org.eclipse.microprofile.opentracing.Traced;\nimport javax.inject.Singleton;\nimport javax.inject.Inject;\nimport io.quarkus.hibernate.orm.PersistenceUnit;\nimport javax.persistence.EntityManager;\nimport javax.persistence.NoResultException;\nimport javax.persistence.PersistenceException;\n\n@Traced\n@Singleton\npublic class ReadSubjectDao {\n    @Inject\n    @PersistenceUnit(&quot;postgres&quot;)\n    EntityManager em;\n\n    public ReadSubject findById(int id) throws ReadSubjectDaoFindException {\n        try {    \n            return em.find(ReadSubject.class, id);\n        }\n        catch (NoResultException e) {\n            return null;\n        }\n        catch (PersistenceException e) {\n            throw new ReadSubjectDaoFindException(e);\n        }\n    }\n}\n</code></pre>\n<p>Fixed <strong>WriteSubjectDao.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.luiz.teste.dao.mysql;\n\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoFindException;\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoPersistException;\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoMergeException;\n\nimport org.eclipse.microprofile.opentracing.Traced;\nimport javax.inject.Singleton;\nimport javax.inject.Inject;\nimport io.quarkus.hibernate.orm.PersistenceUnit;\nimport javax.persistence.EntityManager;\nimport javax.persistence.NoResultException;\nimport javax.persistence.PersistenceException;\nimport javax.transaction.Transactional;\n\n@Traced\n@Singleton\npublic class WriteSubjectDao {\n    @Inject\n    @PersistenceUnit(&quot;mysql&quot;)\n    EntityManager em;\n\n    public WriteSubject findById(int id) throws WriteSubjectDaoFindException {\n        try {    \n            return em.find(WriteSubject.class, id);\n        }\n        catch (NoResultException e) {\n            return null;\n        }\n        catch (PersistenceException e) {\n            throw new WriteSubjectDaoFindException(e);\n        }\n    }\n\n    @Transactional\n    public void persist(WriteSubject writeSubject) throws WriteSubjectDaoPersistException {\n        try {\n            em.persist(writeSubject);\n        }\n        catch (Exception e) {            \n            throw new WriteSubjectDaoPersistException(e);\n        }\n    }\n\n    @Transactional\n    public void merge(WriteSubject writeSubject) throws WriteSubjectDaoMergeException {\n        try {\n            em.merge(writeSubject);\n        }\n        catch (Exception e) {\n            throw new WriteSubjectDaoMergeException(e);\n        }\n    }\n}\n</code></pre>\n<p>The <strong>application.properties</strong> remain unchanged.<br/>\nTo call any of those 2 singleton DAO classes, just use <code>@Inject</code> annotation on caller classes, as usual.</p>\n"}],"owner":{"account_id":3048966,"reputation":11,"user_id":15868520,"display_name":"Luiz Sergio Pinheiro Bernardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641393036,"creation_date":1640869450,"question_id":70532075,"body_markdown":"I have to create singleton classes using DAO classes.\r\n\r\nFollowing is a DAO reading class example:\r\n```java\r\npackage com.luiz.teste.dao;\r\n\r\nimport com.luiz.teste.exceptions.postgres.ReadSubjectDaoFindException;\r\n\r\nimport org.eclipse.microprofile.opentracing.Traced;\r\nimport javax.enterprise.context.RequestScoped;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.NoResultException;\r\nimport javax.persistence.Persistence;\r\nimport javax.persistence.PersistenceException;\r\n\r\n@Traced\r\n@ApplicationScoped\r\npublic class ReadSubjectDao {\r\n    private static ReadSubjectDao instance = new ReadSubjectDao();\r\n    protected EntityManager em;\r\n    \r\n    public static ReadSubjectDao getInstance() {\r\n        return instance;\r\n    }\r\n    \r\n    private ReadSubjectDao() {\r\n        if (em == null) {\r\n            em = Persistence.createEntityManagerFactory(&quot;postgres&quot;).createEntityManager();\r\n        }\r\n    }\r\n\r\n    public ReadSubject findById(int id) throws ReadSubjectDaoFindException {\r\n        try {    \r\n            return em.find(ReadSubject.class, id);\r\n        }\r\n        catch (NoResultException e) {\r\n            return null;\r\n        }\r\n        catch (PersistenceException e) {\r\n            throw new ReadSubjectDaoFindException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nFollowing is a DAO writing class example:\r\n```java\r\npackage com.luiz.teste.dao;\r\n\r\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoFindException;\r\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoPersistException;\r\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoMergeException;\r\n\r\nimport org.eclipse.microprofile.opentracing.Traced;\r\nimport javax.enterprise.context.RequestScoped;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.NoResultException;\r\nimport javax.persistence.Persistence;\r\nimport javax.persistence.PersistenceException;\r\n\r\n@Traced\r\n@ApplicationScoped\r\npublic class WriteSubjectDao {\r\n    private static WriteSubjectDao instance = new WriteSubjectDao();\r\n    protected EntityManager em;\r\n    \r\n    public static WriteSubjectDao getInstance() {\r\n        return instance;\r\n    }\r\n    \r\n    private WriteSubjectDao() {\r\n        if (em == null) {\r\n            em = Persistence.createEntityManagerFactory(&quot;mysql&quot;).createEntityManager();\r\n        }\r\n    }\r\n\r\n    public WriteSubject findById(int id) throws WriteSubjectDaoFindException {\r\n        try {    \r\n            return em.find(WriteSubject.class, id);\r\n        }\r\n        catch (NoResultException e) {\r\n            return null;\r\n        }\r\n        catch (PersistenceException e) {\r\n            throw new WriteSubjectDaoFindException(e);\r\n        }\r\n    }\r\n    \r\n    public void persist(WriteSubject writeSubject) throws WriteSubjectDaoPersistException {\r\n        EntityTransaction et = em.getTransaction();\r\n        try {\r\n            et.begin();\r\n            em.persist(writeSubject);\r\n            et.commit();\r\n        }\r\n        catch (Exception e) {            \r\n            if (et.isActive())\r\n                et.rollback();\r\n            throw new WriteSubjectDaoPersistException(e);\r\n        }\r\n    }\r\n\r\n    public void merge(WriteSubject writeSubject) throws WriteSubjectDaoMergeException {\r\n        EntityTransaction et = em.getTransaction();\r\n        try {\r\n            et.begin();\r\n            em.merge(writeSubject);\r\n            et.commit();\r\n        }\r\n        catch (Exception e) {\r\n            if (et.isActive())\r\n                et.rollback();\r\n            throw new WriteSubjectDaoMergeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nFollowing is **application.properties**:\r\n```\r\n# Configuration file\r\n# key = value\r\nquarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %X{requestID} %s%e%n\r\n\r\nmp.metrics.tags=app=${quarkus.application.name},version=${quarkus.application.version}\r\n%test.mp.metrics.tags=app=app-test,version=1.0.0\r\n\r\nmp.openapi.filter=com.luiz.teste.dev.ext.filters.OpenApiFilter\r\n\r\nquarkus.swagger-ui.path=/api-docs\r\nquarkus.smallrye-openapi.path=/api-docs-json\r\nquarkus.swagger-ui.always-include=true\r\n\r\nquarkus.http.test-port=8083\r\nquarkus.http.test-ssl-port=8446\r\n\r\nquarkus.datasource.jdbc.enable-metrics=true\r\n\r\n# Postgre - Build time\r\nquarkus.datasource.&quot;postgres&quot;.db-kind=db2\r\nquarkus.datasource.&quot;postgres&quot;.jdbc.url=${POSTGRE_JDBC}\r\nquarkus.datasource.&quot;postgres&quot;.username=${POSTGRE_USER}\r\nquarkus.datasource.&quot;postgres&quot;.password=${POSTGRE_PASSWORD}\r\nquarkus.hibernate-orm.&quot;postgres&quot;.datasource=postgres\r\nquarkus.hibernate-orm.&quot;postgres&quot;.packages=com.luiz.teste.models.postgres\r\nquarkus.hibernate-orm.&quot;postgres&quot;.log.jdbc-warnings=false\r\nquarkus.hibernate-orm.&quot;postgres&quot;.log.sql=true\r\n\r\n# MySQL - Build time\r\nquarkus.datasource.&quot;mysql&quot;.db-kind=mysql\r\nquarkus.datasource.&quot;mysql&quot;.jdbc.url=${MYSQL_JDBC}\r\nquarkus.datasource.&quot;mysql&quot;.username=${MYSQL_USER}\r\nquarkus.datasource.&quot;mysql&quot;.password=${MYSQL_PASSWORD}\r\nquarkus.hibernate-orm.&quot;mysql&quot;.datasource=mysql\r\nquarkus.hibernate-orm.&quot;mysql&quot;.packages=com.luiz.teste.models.mysql\r\nquarkus.hibernate-orm.&quot;mysql&quot;.log.jdbc-warnings=false\r\nquarkus.hibernate-orm.&quot;mysql&quot;.log.sql=true\r\n```\r\nAs far as I&#39;ve searched through this site (and through https://www.google.com too), I know so far only by using `persistence.xml`.\r\n\r\nHow to achieve the same result using only the `application.properties` when calling `createEntityManagerFactory`?\r\n\r\n**UPDATE (2022-01-03)**: As requested, changed from `@RequestScoped` to `@ApplicationScoped` and changed from *postgre* to *postgres*.","title":"EntityManager and createEntityManagerFactory with application.properties","body":"<p>I have to create singleton classes using DAO classes.</p>\n<p>Following is a DAO reading class example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.luiz.teste.dao;\n\nimport com.luiz.teste.exceptions.postgres.ReadSubjectDaoFindException;\n\nimport org.eclipse.microprofile.opentracing.Traced;\nimport javax.enterprise.context.RequestScoped;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.NoResultException;\nimport javax.persistence.Persistence;\nimport javax.persistence.PersistenceException;\n\n@Traced\n@ApplicationScoped\npublic class ReadSubjectDao {\n    private static ReadSubjectDao instance = new ReadSubjectDao();\n    protected EntityManager em;\n    \n    public static ReadSubjectDao getInstance() {\n        return instance;\n    }\n    \n    private ReadSubjectDao() {\n        if (em == null) {\n            em = Persistence.createEntityManagerFactory(&quot;postgres&quot;).createEntityManager();\n        }\n    }\n\n    public ReadSubject findById(int id) throws ReadSubjectDaoFindException {\n        try {    \n            return em.find(ReadSubject.class, id);\n        }\n        catch (NoResultException e) {\n            return null;\n        }\n        catch (PersistenceException e) {\n            throw new ReadSubjectDaoFindException(e);\n        }\n    }\n}\n</code></pre>\n<p>Following is a DAO writing class example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.luiz.teste.dao;\n\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoFindException;\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoPersistException;\nimport com.luiz.teste.exceptions.mysql.WriteSubjectDaoMergeException;\n\nimport org.eclipse.microprofile.opentracing.Traced;\nimport javax.enterprise.context.RequestScoped;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.NoResultException;\nimport javax.persistence.Persistence;\nimport javax.persistence.PersistenceException;\n\n@Traced\n@ApplicationScoped\npublic class WriteSubjectDao {\n    private static WriteSubjectDao instance = new WriteSubjectDao();\n    protected EntityManager em;\n    \n    public static WriteSubjectDao getInstance() {\n        return instance;\n    }\n    \n    private WriteSubjectDao() {\n        if (em == null) {\n            em = Persistence.createEntityManagerFactory(&quot;mysql&quot;).createEntityManager();\n        }\n    }\n\n    public WriteSubject findById(int id) throws WriteSubjectDaoFindException {\n        try {    \n            return em.find(WriteSubject.class, id);\n        }\n        catch (NoResultException e) {\n            return null;\n        }\n        catch (PersistenceException e) {\n            throw new WriteSubjectDaoFindException(e);\n        }\n    }\n    \n    public void persist(WriteSubject writeSubject) throws WriteSubjectDaoPersistException {\n        EntityTransaction et = em.getTransaction();\n        try {\n            et.begin();\n            em.persist(writeSubject);\n            et.commit();\n        }\n        catch (Exception e) {            \n            if (et.isActive())\n                et.rollback();\n            throw new WriteSubjectDaoPersistException(e);\n        }\n    }\n\n    public void merge(WriteSubject writeSubject) throws WriteSubjectDaoMergeException {\n        EntityTransaction et = em.getTransaction();\n        try {\n            et.begin();\n            em.merge(writeSubject);\n            et.commit();\n        }\n        catch (Exception e) {\n            if (et.isActive())\n                et.rollback();\n            throw new WriteSubjectDaoMergeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Following is <strong>application.properties</strong>:</p>\n<pre><code># Configuration file\n# key = value\nquarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %X{requestID} %s%e%n\n\nmp.metrics.tags=app=${quarkus.application.name},version=${quarkus.application.version}\n%test.mp.metrics.tags=app=app-test,version=1.0.0\n\nmp.openapi.filter=com.luiz.teste.dev.ext.filters.OpenApiFilter\n\nquarkus.swagger-ui.path=/api-docs\nquarkus.smallrye-openapi.path=/api-docs-json\nquarkus.swagger-ui.always-include=true\n\nquarkus.http.test-port=8083\nquarkus.http.test-ssl-port=8446\n\nquarkus.datasource.jdbc.enable-metrics=true\n\n# Postgre - Build time\nquarkus.datasource.&quot;postgres&quot;.db-kind=db2\nquarkus.datasource.&quot;postgres&quot;.jdbc.url=${POSTGRE_JDBC}\nquarkus.datasource.&quot;postgres&quot;.username=${POSTGRE_USER}\nquarkus.datasource.&quot;postgres&quot;.password=${POSTGRE_PASSWORD}\nquarkus.hibernate-orm.&quot;postgres&quot;.datasource=postgres\nquarkus.hibernate-orm.&quot;postgres&quot;.packages=com.luiz.teste.models.postgres\nquarkus.hibernate-orm.&quot;postgres&quot;.log.jdbc-warnings=false\nquarkus.hibernate-orm.&quot;postgres&quot;.log.sql=true\n\n# MySQL - Build time\nquarkus.datasource.&quot;mysql&quot;.db-kind=mysql\nquarkus.datasource.&quot;mysql&quot;.jdbc.url=${MYSQL_JDBC}\nquarkus.datasource.&quot;mysql&quot;.username=${MYSQL_USER}\nquarkus.datasource.&quot;mysql&quot;.password=${MYSQL_PASSWORD}\nquarkus.hibernate-orm.&quot;mysql&quot;.datasource=mysql\nquarkus.hibernate-orm.&quot;mysql&quot;.packages=com.luiz.teste.models.mysql\nquarkus.hibernate-orm.&quot;mysql&quot;.log.jdbc-warnings=false\nquarkus.hibernate-orm.&quot;mysql&quot;.log.sql=true\n</code></pre>\n<p>As far as I've searched through this site (and through <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">https://www.google.com</a> too), I know so far only by using <code>persistence.xml</code>.</p>\n<p>How to achieve the same result using only the <code>application.properties</code> when calling <code>createEntityManagerFactory</code>?</p>\n<p><strong>UPDATE (2022-01-03)</strong>: As requested, changed from <code>@RequestScoped</code> to <code>@ApplicationScoped</code> and changed from <em>postgre</em> to <em>postgres</em>.</p>\n"},{"tags":["java","junit","mocking"],"comments":[{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1641393534,"post_id":70594477,"comment_id":124793435,"body_markdown":"What is it exactly that you try to accomplish here? Do wnat to return an emptylist once the entire pipeline has ran its course?","body":"What is it exactly that you try to accomplish here? Do wnat to return an emptylist once the entire pipeline has ran its course?"},{"owner":{"account_id":10478972,"reputation":170,"user_id":7724568,"display_name":"ZottoSL"},"score":0,"creation_date":1641393877,"post_id":70594477,"comment_id":124793589,"body_markdown":"Yes, exactly that","body":"Yes, exactly that"},{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1641395351,"post_id":70594477,"comment_id":124794261,"body_markdown":"Can you post the surrounding code?","body":"Can you post the surrounding code?"}],"owner":{"account_id":10478972,"reputation":170,"user_id":7724568,"display_name":"ZottoSL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641392508,"creation_date":1641392508,"question_id":70594477,"body_markdown":"I&#39;m having a problem wanting to mock the return of a list with JUnit. I tried this:\r\n\r\n    given(loan.getExternalReferences().stream()\r\n       .filter(er -&gt; er.getType() == ReferenceType.ORIGINATION_PLATFORM_FUND)\r\n       .collect(Collectors.toList())).willReturn(anyList());\r\n\r\nBut I get the following error:\r\n\r\n    org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n    when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n    For example:\r\n        when(mock.getArticles()).thenReturn(articles);\r\n\r\n    Also, this error might show up because:\r\n    1. you stub either of: final/private/equals()/hashCode() methods.\r\n    Those methods *cannot* be stubbed/verified.\r\n    Mocking methods declared on non-public parent classes is not supported.\r\n    2. inside when() you don&#39;t call method on mock but on some other object.\r\n\r\nThanks!","title":"Return mock list on given JUnit","body":"<p>I'm having a problem wanting to mock the return of a list with JUnit. I tried this:</p>\n<pre><code>given(loan.getExternalReferences().stream()\n   .filter(er -&gt; er.getType() == ReferenceType.ORIGINATION_PLATFORM_FUND)\n   .collect(Collectors.toList())).willReturn(anyList());\n</code></pre>\n<p>But I get the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n\nAlso, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\nThose methods *cannot* be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.\n2. inside when() you don't call method on mock but on some other object.\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1641289401,"post_id":70573375,"comment_id":124760642,"body_markdown":"The first snippet does cause a compilation error because  `Throwable` is a checked exception in Java.","body":"The first snippet does cause a compilation error because  <code>Throwable</code> is a checked exception in Java."},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1641307790,"post_id":70573375,"comment_id":124767950,"body_markdown":"Are you saying that the overloaded `subscribe()` can only be used for handling the `RuntimeException`s even though its signature explicitly states that the parameter inherits from `Throwable`?","body":"Are you saying that the overloaded <code>subscribe()</code> can only be used for handling the <code>RuntimeException</code>s even though its signature explicitly states that the parameter inherits from <code>Throwable</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641316546,"creation_date":1641316546,"answer_id":70582627,"question_id":70573375,"body_markdown":"You cannot throw checked exceptions(such as `Throwable` or`IOException`) from the subscriber. The `subscribe()` method takes a `Consumer` function, without any exception declarations. However, Reactor provides the [`Exceptions`][1] utility class  which can wrap any checked exception into an unchecked exception, as follows:\r\n\r\n```java\r\nMono.just(&quot;test&quot;)\r\n    .subscribe(x -&gt; {\r\n        try {\r\n            throw new Throwable(&quot;Error occurred:&quot;);\r\n        } catch (Throwable e) {\r\n            throw Exceptions.propagate(e);\r\n        }\r\n    }, e -&gt; log.error(&quot;Error occurred: &quot;, Exceptions.unwrap(e)));\r\n```\r\n\r\nThe `Exception.unwrap` is used to get the original checked exception.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/index.html?reactor/core/Exceptions.html","title":"Exception Handling in WebFlux publisher","body":"<p>You cannot throw checked exceptions(such as <code>Throwable</code> or<code>IOException</code>) from the subscriber. The <code>subscribe()</code> method takes a <code>Consumer</code> function, without any exception declarations. However, Reactor provides the <a href=\"https://projectreactor.io/docs/core/release/api/index.html?reactor/core/Exceptions.html\" rel=\"nofollow noreferrer\"><code>Exceptions</code></a> utility class  which can wrap any checked exception into an unchecked exception, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(&quot;test&quot;)\n    .subscribe(x -&gt; {\n        try {\n            throw new Throwable(&quot;Error occurred:&quot;);\n        } catch (Throwable e) {\n            throw Exceptions.propagate(e);\n        }\n    }, e -&gt; log.error(&quot;Error occurred: &quot;, Exceptions.unwrap(e)));\n</code></pre>\n<p>The <code>Exception.unwrap</code> is used to get the original checked exception.</p>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641392385,"creation_date":1641261988,"question_id":70573375,"body_markdown":"I&#39;m wondering why the following way of WebFlux subscription DOESN&#39;T cause a compilation error:\r\n\r\n    @Test public void handlingSubscriberError() {\r\n    \t\t\r\n    List l = new ArrayList();\r\n    l.add(&quot;a&quot;);\r\n        Mono.just(l)\r\n              .subscribe(x -&gt; {\r\n               throw new Throwable();\r\n               }, e -&gt; log.error(&quot;Error occurred:&quot;, e));\r\n    }\r\n\r\n\r\nwhereas this one DOES, and suggests surrounding with a try/catch block:\r\n\r\n\r\n\r\n        @Autowired private PersistenceService writer;\r\n    \r\n        @Test public void handlingSubscriberError() {\r\n        \t\t\r\n        List l = new ArrayList();\r\n        l.add(&quot;A&quot;);\r\n        Mono.just(l)\r\n           .subscribe(x -&gt; {\r\n           writer.persistTo(x, &quot;B&quot;, &quot;C&quot;);  &lt;== Unhandled exception type Throwable. \r\n          }, e -&gt; log.error(&quot;Error occurred:&quot;, e));\r\n       }\r\n\r\nWhat&#39;s the point of having an overloaded `subscribe()` with the error consumer as a second parameter when one is still forced to add a try-catch by the Java compiler?  Or am I missing something?  Is there a proper idiom for this in WebFlux?\r\n\r\n","title":"Exception Handling in WebFlux publisher","body":"<p>I'm wondering why the following way of WebFlux subscription DOESN'T cause a compilation error:</p>\n<pre><code>@Test public void handlingSubscriberError() {\n        \nList l = new ArrayList();\nl.add(&quot;a&quot;);\n    Mono.just(l)\n          .subscribe(x -&gt; {\n           throw new Throwable();\n           }, e -&gt; log.error(&quot;Error occurred:&quot;, e));\n}\n</code></pre>\n<p>whereas this one DOES, and suggests surrounding with a try/catch block:</p>\n<pre><code>    @Autowired private PersistenceService writer;\n\n    @Test public void handlingSubscriberError() {\n            \n    List l = new ArrayList();\n    l.add(&quot;A&quot;);\n    Mono.just(l)\n       .subscribe(x -&gt; {\n       writer.persistTo(x, &quot;B&quot;, &quot;C&quot;);  &lt;== Unhandled exception type Throwable. \n      }, e -&gt; log.error(&quot;Error occurred:&quot;, e));\n   }\n</code></pre>\n<p>What's the point of having an overloaded <code>subscribe()</code> with the error consumer as a second parameter when one is still forced to add a try-catch by the Java compiler?  Or am I missing something?  Is there a proper idiom for this in WebFlux?</p>\n"},{"tags":["java","spring","hibernate","hql"],"comments":[{"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"score":0,"creation_date":1375215198,"post_id":17955682,"comment_id":26244075,"body_markdown":"The SQL equivalent would be a Union statement right? JPQL doesn&#39;t support such, although some JPA provider does. Why the queries need to be merged into one TypedQuery? Can&#39;t you execute both and return a Set&lt;Long&gt; wrapping into another method?","body":"The SQL equivalent would be a Union statement right? JPQL doesn&#39;t support such, although some JPA provider does. Why the queries need to be merged into one TypedQuery? Can&#39;t you execute both and return a Set&lt;Long&gt; wrapping into another method?"},{"owner":{"account_id":891554,"reputation":8848,"user_id":929701,"accept_rate":79,"display_name":"hrishikeshp19"},"score":0,"creation_date":1375215529,"post_id":17955682,"comment_id":26244248,"body_markdown":"How can I use SQL equivalent to return TypedQuery? Will following work? TypedQuery q = em.createQuery(&quot;SELECT user.id FROM TableOne AS user WHERE ... UNION SELECT link.user_id FROM TableTwo AS link WHERE ...&quot;, Long.class);","body":"How can I use SQL equivalent to return TypedQuery? Will following work? TypedQuery q = em.createQuery(&quot;SELECT user.id FROM TableOne AS user WHERE ... UNION SELECT link.user_id FROM TableTwo AS link WHERE ...&quot;, Long.class);"}],"answers":[{"tags":[],"owner":{"account_id":891554,"reputation":8848,"user_id":929701,"accept_rate":79,"display_name":"hrishikeshp19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641392346,"creation_date":1375216412,"answer_id":17956825,"question_id":17955682,"body_markdown":"Completely copying answer from https://stackoverflow.com/a/3940445/929701:\r\n\r\nYou could use id in (select id from ...) or id in (select id from ...)\r\n\r\ne.g. instead of non-working\r\n\r\n    from Person p where p.name=&quot;Joe&quot;\r\n    union\r\n    from Person p join p.children c where c.name=&quot;Joe&quot;\r\n\r\nyou could do\r\n\r\n    from Person p \r\n      where p.id in (select p1.id from Person p1 where p1.name=&quot;Joe&quot;) \r\n        or p.id in (select p2.id from Person p2 join p2.children c where c.name=&quot;Joe&quot;);\r\n\r\nAt least using MySQL, you will run into performance problems with the later though. It&#39;s sometimes easier to do a poor man&#39;s join on two queries instead:\r\n```java\r\n// use set for uniqueness\r\nSet&lt;Person&gt; people = new HashSet&lt;Person&gt;((List&lt;Person&gt;) query1.list());\r\npeople.addAll((List&lt;Person&gt;) query2.list());\r\nreturn new ArrayList&lt;Person&gt;(people);\r\n```\r\nIt&#39;s often better to do two simple queries than one complex one.\r\n\r\n","title":"HQL merge two typedqueries","body":"<p>Completely copying answer from <a href=\"https://stackoverflow.com/a/3940445/929701\">https://stackoverflow.com/a/3940445/929701</a>:</p>\n<p>You could use id in (select id from ...) or id in (select id from ...)</p>\n<p>e.g. instead of non-working</p>\n<pre><code>from Person p where p.name=&quot;Joe&quot;\nunion\nfrom Person p join p.children c where c.name=&quot;Joe&quot;\n</code></pre>\n<p>you could do</p>\n<pre><code>from Person p \n  where p.id in (select p1.id from Person p1 where p1.name=&quot;Joe&quot;) \n    or p.id in (select p2.id from Person p2 join p2.children c where c.name=&quot;Joe&quot;);\n</code></pre>\n<p>At least using MySQL, you will run into performance problems with the later though. It's sometimes easier to do a poor man's join on two queries instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// use set for uniqueness\nSet&lt;Person&gt; people = new HashSet&lt;Person&gt;((List&lt;Person&gt;) query1.list());\npeople.addAll((List&lt;Person&gt;) query2.list());\nreturn new ArrayList&lt;Person&gt;(people);\n</code></pre>\n<p>It's often better to do two simple queries than one complex one.</p>\n"},{"tags":[],"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375219510,"creation_date":1375219510,"answer_id":17957690,"question_id":17955682,"body_markdown":"the UNION statement not work on Hibernate.\r\n\r\nSo you can:\r\n\r\nExecute first query and put in a list;\r\n\r\nExecute second query and put in a list;\r\n\r\nPut the result of first and second list in a unique list.\r\n\r\nIf you want to delete the duplicated value, you must do programmatically.","title":"HQL merge two typedqueries","body":"<p>the UNION statement not work on Hibernate.</p>\n\n<p>So you can:</p>\n\n<p>Execute first query and put in a list;</p>\n\n<p>Execute second query and put in a list;</p>\n\n<p>Put the result of first and second list in a unique list.</p>\n\n<p>If you want to delete the duplicated value, you must do programmatically.</p>\n"}],"owner":{"account_id":891554,"reputation":8848,"user_id":929701,"accept_rate":79,"display_name":"hrishikeshp19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17956825,"answer_count":2,"score":2,"last_activity_date":1641392346,"creation_date":1375212412,"question_id":17955682,"body_markdown":"I have written two hibernate queries:\r\n\r\n1. TypedQuery&lt;Long&gt; q = em.createQuery(&quot;SELECT user.id FROM TableOne AS user WHERE ...&quot;, Long.class);        \r\n1. TypedQuery&lt;Long&gt; q = em.createQuery(&quot;SELECT link.user_id FROM TableTwo AS link WHERE ...&quot;, Long.class);\r\n\r\nNow, how do I merge these two queries? My return type has to be TypedQuery&lt;Long&gt;","title":"HQL merge two typedqueries","body":"<p>I have written two hibernate queries:</p>\n\n<ol>\n<li>TypedQuery q = em.createQuery(\"SELECT user.id FROM TableOne AS user WHERE ...\", Long.class);        </li>\n<li>TypedQuery q = em.createQuery(\"SELECT link.user_id FROM TableTwo AS link WHERE ...\", Long.class);</li>\n</ol>\n\n<p>Now, how do I merge these two queries? My return type has to be TypedQuery</p>\n"},{"tags":["java","namespaces","xhtml","presentation"],"owner":{"account_id":23219099,"reputation":21,"user_id":17311606,"display_name":"bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641392133,"creation_date":1641376140,"question_id":70590788,"body_markdown":"Currently I am working on a presentation layer for a software project in java. In the skeleton project we were provided with, there already were a bunch of namespaces included. \r\n```\r\n&lt;ui:composition xmlns=&quot;http://www.w3c.org/1999/xhtml&quot;\r\n                xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n                xmlns:ng=&quot;http://xmlns.jcp.org/jsf/passthrough&quot;\r\n                xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n```\r\nThese are the ones that are included in almost every .xhtml file in the project. I have spent some time already sorting the maven dependencies out in the pom.xml file, but still the project can&#39;t seem to get the external resources. I have tried to invalidate the caches, but the urls are still displayed in red and when I try to display my page on a localhost, stuff like buttons and boxes are just not shown, just plain text. \r\n\r\nWhat else could I try to get the project to recognize the external resources? \r\n\r\nAppearantly its also only my intellij that can&#39;t handle the resources, one of my teammates could load everything just fine.","title":"xmlns in intellij project are not recognized?","body":"<p>Currently I am working on a presentation layer for a software project in java. In the skeleton project we were provided with, there already were a bunch of namespaces included.</p>\n<pre><code>&lt;ui:composition xmlns=&quot;http://www.w3c.org/1999/xhtml&quot;\n                xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\n                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\n                xmlns:ng=&quot;http://xmlns.jcp.org/jsf/passthrough&quot;\n                xmlns:p=&quot;http://primefaces.org/ui&quot;\n</code></pre>\n<p>These are the ones that are included in almost every .xhtml file in the project. I have spent some time already sorting the maven dependencies out in the pom.xml file, but still the project can't seem to get the external resources. I have tried to invalidate the caches, but the urls are still displayed in red and when I try to display my page on a localhost, stuff like buttons and boxes are just not shown, just plain text.</p>\n<p>What else could I try to get the project to recognize the external resources?</p>\n<p>Appearantly its also only my intellij that can't handle the resources, one of my teammates could load everything just fine.</p>\n"},{"tags":["java","android","zip","compression"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641392040,"post_id":70590848,"comment_id":124792724,"body_markdown":"Where does the `classes.dex` file come from that you hash? You are hashing the file before and after the compression. Are bith hashes different or just the one after compression? How do you install the app on both devices (is it the same APK file)?","body":"Where does the <code>classes.dex</code> file come from that you hash? You are hashing the file before and after the compression. Are bith hashes different or just the one after compression? How do you install the app on both devices (is it the same APK file)?"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1641409828,"post_id":70590848,"comment_id":124800246,"body_markdown":"Does the compressed data from both decompress correctly? If so, then it does not matter if the compressed data is different.","body":"Does the compressed data from both decompress correctly? If so, then it does not matter if the compressed data is different."},{"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"score":0,"creation_date":1641433853,"post_id":70590848,"comment_id":124806382,"body_markdown":"The classdex file comes from the release version of Apk. After the APK is decompressed on the PC (Windows 10), the dex file is pushed to the phone for compression testing of different Android versions. It is found that the compressed files of the Android12 version are different. This release version of Apk can be installed normally in each Android version and can be used normally @Robert","body":"The classdex file comes from the release version of Apk. After the APK is decompressed on the PC (Windows 10), the dex file is pushed to the phone for compression testing of different Android versions. It is found that the compressed files of the Android12 version are different. This release version of Apk can be installed normally in each Android version and can be used normally @Robert"},{"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"score":0,"creation_date":1641434725,"post_id":70590848,"comment_id":124806545,"body_markdown":"The decompressed class.dex file is the same, and it is different on Android12 and Android10 after compression. The decompression operation is performed on the pc (windows10), decompressed from the release version APK, and then push the decompressed dex file to the phone @MarkAdler","body":"The decompressed class.dex file is the same, and it is different on Android12 and Android10 after compression. The decompression operation is performed on the pc (windows10), decompressed from the release version APK, and then push the decompressed dex file to the phone @MarkAdler"},{"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"score":0,"creation_date":1641438124,"post_id":70590848,"comment_id":124806993,"body_markdown":"release APK link: \nhttps://dldir1.qq.com/weixin/android/weixin8016android2040_arm64.apk   , After decompressing the APK, push the class.dex file to the phone","body":"release APK link:  <a href=\"https://dldir1.qq.com/weixin/android/weixin8016android2040_arm64.apk\" rel=\"nofollow noreferrer\">dldir1.qq.com/weixin/android/weixin8016android2040_arm64.apk</a>   , After decompressing the APK, push the class.dex file to the phone"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641462119,"post_id":70590848,"comment_id":124812016,"body_markdown":"I still don&#39;t see the point in this question. If the output is different so what (nobody has defined that compressing a file creates a deterministic result). Does that has any disadvantages (can not be read/decompressed by older devices or something like that). Most likely Google has simply changed the deflate implementation to use https://github.com/google/zopfli instead as it provides better compression rates but is compatible with deflate.","body":"I still don&#39;t see the point in this question. If the output is different so what (nobody has defined that compressing a file creates a deterministic result). Does that has any disadvantages (can not be read/decompressed by older devices or something like that). Most likely Google has simply changed the deflate implementation to use <a href=\"https://github.com/google/zopfli\" rel=\"nofollow noreferrer\">github.com/google/zopfli</a> instead as it provides better compression rates but is compatible with deflate."},{"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"score":0,"creation_date":1641470123,"post_id":70590848,"comment_id":124814785,"body_markdown":"The same file is compressed using the same compression parameters on different Android devices, and the results obtained are not the same. This will cause the decompression to fail after uploading the file to the server in the app, and it is impossible to verify whether the file uploaded by the user is correct","body":"The same file is compressed using the same compression parameters on different Android devices, and the results obtained are not the same. This will cause the decompression to fail after uploading the file to the server in the app, and it is impossible to verify whether the file uploaded by the user is correct"},{"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"score":0,"creation_date":1641470588,"post_id":70590848,"comment_id":124814959,"body_markdown":"We expect that the hash value of the uploaded file after compression is 1234567. This is expected to be correct on Android10 devices, but the hash value is not 1234567 on Android12 devices, so our upload verification function will fail on Android12 devices.","body":"We expect that the hash value of the uploaded file after compression is 1234567. This is expected to be correct on Android10 devices, but the hash value is not 1234567 on Android12 devices, so our upload verification function will fail on Android12 devices."},{"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"score":0,"creation_date":1641885818,"post_id":70590848,"comment_id":124917535,"body_markdown":"If I want to use the deflate api to compress files and keep the same results as other Android versions, how is it compatible?\n@Robert","body":"If I want to use the deflate api to compress files and keep the same results as other Android versions, how is it compatible? @Robert"}],"owner":{"account_id":23833501,"reputation":11,"user_id":17839504,"display_name":"superH1991"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641391963,"creation_date":1641376400,"question_id":70590848,"body_markdown":"test code:\r\n\r\n```\r\nFile dir = new File(Environment.getExternalStorageDirectory(), &quot;patchTest&quot;);\r\n        File dex = new File(dir, &quot;classes.dex&quot;);\r\n        File compressDex = new File(dir, &quot;compressDex&quot;);\r\n        Deflater compressor = new Deflater(9, true);\r\n        compressor.setStrategy(0);\r\n        try {\r\n            Log.i(&quot;hc&quot;, &quot;compress start &quot; + Sha256Utils.getHash(dex));\r\n            DeflaterOutputStream compressedPatchOut =\r\n                    new DeflaterOutputStream(new FileOutputStream(compressDex), compressor, true);\r\n            FileInputStream fin = new FileInputStream(dex);\r\n            byte[] bytes = new byte[1024 * 2];\r\n            int index;\r\n            while ((index = fin.read(bytes)) != -1) {\r\n                compressedPatchOut.write(bytes, 0, index);\r\n            }\r\n            compressedPatchOut.finish();\r\n            compressedPatchOut.flush();\r\n            fin.close();\r\n            Log.i(&quot;hc&quot;, &quot;compress finish &quot; + Sha256Utils.getHash(compressDex));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            compressor.end();\r\n        }\r\n```\r\n\r\nFinally, the Hash value of the compressed file is different between Android 12 and Android 10.\r\nIs there any modification to the Deflater of Android12?\r\n","title":"Use Deflater to compressor file, The compressed file is different under Android 12 and Android 10","body":"<p>test code:</p>\n<pre><code>File dir = new File(Environment.getExternalStorageDirectory(), &quot;patchTest&quot;);\n        File dex = new File(dir, &quot;classes.dex&quot;);\n        File compressDex = new File(dir, &quot;compressDex&quot;);\n        Deflater compressor = new Deflater(9, true);\n        compressor.setStrategy(0);\n        try {\n            Log.i(&quot;hc&quot;, &quot;compress start &quot; + Sha256Utils.getHash(dex));\n            DeflaterOutputStream compressedPatchOut =\n                    new DeflaterOutputStream(new FileOutputStream(compressDex), compressor, true);\n            FileInputStream fin = new FileInputStream(dex);\n            byte[] bytes = new byte[1024 * 2];\n            int index;\n            while ((index = fin.read(bytes)) != -1) {\n                compressedPatchOut.write(bytes, 0, index);\n            }\n            compressedPatchOut.finish();\n            compressedPatchOut.flush();\n            fin.close();\n            Log.i(&quot;hc&quot;, &quot;compress finish &quot; + Sha256Utils.getHash(compressDex));\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            compressor.end();\n        }\n</code></pre>\n<p>Finally, the Hash value of the compressed file is different between Android 12 and Android 10.\nIs there any modification to the Deflater of Android12?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2921854,"reputation":1946,"user_id":2503916,"accept_rate":50,"display_name":"Siva"},"score":0,"creation_date":1379311867,"post_id":18821266,"comment_id":27761977,"body_markdown":"Possible duplicate http://stackoverflow.com/questions/12420457/associationoverride-and-attributeoverride-in-new-doctrine-2-3","body":"Possible duplicate <a href=\"http://stackoverflow.com/questions/12420457/associationoverride-and-attributeoverride-in-new-doctrine-2-3\" title=\"associationoverride and attributeoverride in new doctrine 2 3\">stackoverflow.com/questions/12420457/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1379315909,"creation_date":1379315909,"answer_id":18822363,"question_id":18821266,"body_markdown":"From official documentation:\r\n\r\n[@AssociationOverride](http://docs.oracle.com/javaee/7/api/javax/persistence/AssociationOverride.html)\r\n&gt; Used to override a mapping for an entity\r\n&gt; relationship\r\n\r\n[@AttributeOverride](http://docs.oracle.com/javaee/7/api/javax/persistence/AttributeOverride.html)\r\n\r\n&gt; Used to override the mapping of a Basic (whether explicit or default)\r\n&gt; property or field or Id property or field.\r\n\r\nRead official javadoc: is well explained with some example.","title":"Different between @AttributeOverride and @AssociationOverride in JPA","body":"<p>From official documentation:</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/AssociationOverride.html\" rel=\"noreferrer\">@AssociationOverride</a></p>\n\n<blockquote>\n  <p>Used to override a mapping for an entity\n  relationship</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/AttributeOverride.html\" rel=\"noreferrer\">@AttributeOverride</a></p>\n\n<blockquote>\n  <p>Used to override the mapping of a Basic (whether explicit or default)\n  property or field or Id property or field.</p>\n</blockquote>\n\n<p>Read official javadoc: is well explained with some example.</p>\n"},{"tags":[],"owner":{"account_id":23835805,"reputation":21,"user_id":17841550,"display_name":"Alexey Lukyanenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641391830,"creation_date":1641391517,"answer_id":70594230,"question_id":18821266,"body_markdown":"May be that is a bit more simple:\r\n\r\nThe @AttributeOverride annotation is used to override the mapping of property or field or Id property or field.\r\n\r\nThe @AssociationOverride annotation is used to override a many-to-one or one-to-one mapping of property or field for an entity relationship.\r\n\r\nhttps://javabeat.net/eclipselink-jpa-annotations-attributeoverride-associationoverride/\r\n","title":"Different between @AttributeOverride and @AssociationOverride in JPA","body":"<p>May be that is a bit more simple:</p>\n<p>The @AttributeOverride annotation is used to override the mapping of property or field or Id property or field.</p>\n<p>The @AssociationOverride annotation is used to override a many-to-one or one-to-one mapping of property or field for an entity relationship.</p>\n<p><a href=\"https://javabeat.net/eclipselink-jpa-annotations-attributeoverride-associationoverride/\" rel=\"nofollow noreferrer\">https://javabeat.net/eclipselink-jpa-annotations-attributeoverride-associationoverride/</a></p>\n"}],"owner":{"account_id":1689738,"reputation":1307,"user_id":1552348,"accept_rate":9,"display_name":"Ashwin Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9888,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1641391830,"creation_date":1379311177,"question_id":18821266,"body_markdown":"What is the difference between @AttributeOverride and @AssociationOverride. Please explain me with the simple example.","title":"Different between @AttributeOverride and @AssociationOverride in JPA","body":"<p>What is the difference between @AttributeOverride and @AssociationOverride. Please explain me with the simple example.</p>\n"},{"tags":["java","mockito","powermockito","mockrunner"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1641381872,"post_id":70591569,"comment_id":124788682,"body_markdown":"You mocked `Util`, so `Util.CommitToDB()` does nothing.","body":"You mocked <code>Util</code>, so <code>Util.CommitToDB()</code> does nothing."},{"owner":{"account_id":6360189,"reputation":21,"user_id":4935917,"display_name":"Ramesh Gupta"},"score":0,"creation_date":1641384832,"post_id":70591569,"comment_id":124789766,"body_markdown":"I have tried removing the Util mock too. Still I get the same error. I have also tried combination where Util and CustomLogger is mocked or not. All the combination gave same result.","body":"I have tried removing the Util mock too. Still I get the same error. I have also tried combination where Util and CustomLogger is mocked or not. All the combination gave same result."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1641385053,"post_id":70591569,"comment_id":124789849,"body_markdown":"You get same error, but the reason is different - you now enter `CommitToDB` while you haven&#39;t previously. Now your problem is equality of exceptions.","body":"You get same error, but the reason is different - you now enter <code>CommitToDB</code> while you haven&#39;t previously. Now your problem is equality of exceptions."},{"owner":{"account_id":6360189,"reputation":21,"user_id":4935917,"display_name":"Ramesh Gupta"},"score":0,"creation_date":1641385092,"post_id":70591569,"comment_id":124789868,"body_markdown":"**Method threw &#39;org.mockito2.exceptions.base.MockitoException&#39; exception. Cannot evaluate Util$MockitoMock$639069902.toString()** This exception message is availabel if I debug it via IDE.","body":"<b>Method threw &#39;org.mockito2.exceptions.base.MockitoException&#39; exception. Cannot evaluate Util$MockitoMock$639069902.toString()</b> This exception message is availabel if I debug it via IDE."},{"owner":{"account_id":6360189,"reputation":21,"user_id":4935917,"display_name":"Ramesh Gupta"},"score":0,"creation_date":1641385186,"post_id":70591569,"comment_id":124789898,"body_markdown":"@Lesiak I do enter the CommitToDB method. But I get the same exception each Time. When I debug via IDE the Logger line is definetly executed.","body":"@Lesiak I do enter the CommitToDB method. But I get the same exception each Time. When I debug via IDE the Logger line is definetly executed."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1641385747,"post_id":70591569,"comment_id":124790112,"body_markdown":"For debugger output - see https://stackoverflow.com/questions/69626405/mockito-unfinished-stubbing-exception-detected-only-in-intellij-debugger/69628236#69628236. For actual error - compare 2 instances of identical exceptions and think about consequences","body":"For debugger output - see <a href=\"https://stackoverflow.com/questions/69626405/mockito-unfinished-stubbing-exception-detected-only-in-intellij-debugger/69628236#69628236\" title=\"mockito unfinished stubbing exception detected only in intellij debugger\">stackoverflow.com/questions/69626405/&hellip;</a>. For actual error - compare 2 instances of identical exceptions and think about consequences"}],"answers":[{"tags":[],"owner":{"account_id":6360189,"reputation":21,"user_id":4935917,"display_name":"Ramesh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641391683,"creation_date":1641391683,"answer_id":70594272,"question_id":70591569,"body_markdown":"Adding the below line in the test method solve the problem:\r\n\r\n     Whitebox.setInternalState(Util.class , &quot;LOGGER&quot; , logger);\r\n\r\nAfter debugging , it appears that the Logger instance in the Util class and UtilTest class were different. \r\n\r\nThe reason mock was throwing an error &quot;Wanted but not invoked&quot; is because the logger instance invoking the method and the one used to verify in the unit test were different.\r\n\r\n","title":"Mockito unable to invoke Logger instance - &quot;Actually, there were zero interactions with this mock.&quot; Wanted but not invoked","body":"<p>Adding the below line in the test method solve the problem:</p>\n<pre><code> Whitebox.setInternalState(Util.class , &quot;LOGGER&quot; , logger);\n</code></pre>\n<p>After debugging , it appears that the Logger instance in the Util class and UtilTest class were different.</p>\n<p>The reason mock was throwing an error &quot;Wanted but not invoked&quot; is because the logger instance invoking the method and the one used to verify in the unit test were different.</p>\n"}],"owner":{"account_id":6360189,"reputation":21,"user_id":4935917,"display_name":"Ramesh Gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641391683,"creation_date":1641379564,"question_id":70591569,"body_markdown":"My Class:\r\n\r\n    public class Util {\r\n        private static final CustomLogger LOGGER = new CustomLogger(Util.class);\r\n    \r\n        public static void commitToDB() {\r\n            try {\r\n                CommitToDB();\r\n            } catch (SQLException sqlException) {\r\n                 LOGGER.error(&quot;Exception in DB Commit&quot;, sqlException.getMessage(), sqlException);\r\n            }\r\n        }\r\n    }\r\n\r\nMy Unit Test Case Class:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({\r\n            CustomLogger.class\r\n    })\r\n    public class UtilTest {\r\n        @Mock\r\n        private Util util;\r\n    \r\n        @Mock\r\n        private CustomLogger CustomLogger;\r\n    \r\n        public void verifyFailedCommitRecords() throws SQLException {\r\n            SQLException sqlException = new SQLException(&quot;Exception in DB Commit&quot;);\r\n            doThrow(sqlException).when(protectedConn).commit();\r\n            CustomLogger logger = PowerMockito.mock(CustomLogger.class);\r\n            Util.CommitToDB();\r\n            verify(logger, times(1)).error(&quot;Exception in DB Commit&quot;, sqlException.getMessage(), sqlException);\r\n        }\r\n    }\r\n\r\nI am getting error stating &quot;Actually, there were zero interactions with this mock.&quot;\r\nWanted but not invoked:\r\n\r\nPS: Util.commitToDB calls an internal class protectedConnection which throws the SQLexception.","title":"Mockito unable to invoke Logger instance - &quot;Actually, there were zero interactions with this mock.&quot; Wanted but not invoked","body":"<p>My Class:</p>\n<pre><code>public class Util {\n    private static final CustomLogger LOGGER = new CustomLogger(Util.class);\n\n    public static void commitToDB() {\n        try {\n            CommitToDB();\n        } catch (SQLException sqlException) {\n             LOGGER.error(&quot;Exception in DB Commit&quot;, sqlException.getMessage(), sqlException);\n        }\n    }\n}\n</code></pre>\n<p>My Unit Test Case Class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({\n        CustomLogger.class\n})\npublic class UtilTest {\n    @Mock\n    private Util util;\n\n    @Mock\n    private CustomLogger CustomLogger;\n\n    public void verifyFailedCommitRecords() throws SQLException {\n        SQLException sqlException = new SQLException(&quot;Exception in DB Commit&quot;);\n        doThrow(sqlException).when(protectedConn).commit();\n        CustomLogger logger = PowerMockito.mock(CustomLogger.class);\n        Util.CommitToDB();\n        verify(logger, times(1)).error(&quot;Exception in DB Commit&quot;, sqlException.getMessage(), sqlException);\n    }\n}\n</code></pre>\n<p>I am getting error stating &quot;Actually, there were zero interactions with this mock.&quot;\nWanted but not invoked:</p>\n<p>PS: Util.commitToDB calls an internal class protectedConnection which throws the SQLexception.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15464461,"reputation":161,"user_id":11156237,"display_name":"Serhat Yılmaz"},"score":0,"creation_date":1641394180,"post_id":70594252,"comment_id":124793725,"body_markdown":"Does this answer your question? [Download Multiple files Java Spring](https://stackoverflow.com/questions/36886141/download-multiple-files-java-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36886141/download-multiple-files-java-spring\">Download Multiple files Java Spring</a>"},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1641407967,"post_id":70594252,"comment_id":124799562,"body_markdown":"but all are returning null or void, but I want to pass that to my UI, how would I do that?","body":"but all are returning null or void, but I want to pass that to my UI, how would I do that?"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641391625,"creation_date":1641391625,"question_id":70594252,"body_markdown":"I need to send multiple files to UI from db, \r\nI saw couple of post like [this][1] and [here][2], it suggest that I need to zip multiple files and send to client, but my client is front end angular code which unable to handle zip file.\r\nI\r\n\r\n  tried code like below\r\n    \r\n    public ResponseEntity&lt;List&lt;ByteArrayResouse&gt;&gt; downloaFile(){\r\n     List&lt;ByteArrayResource&gt; listOfFiles = fileServices.getFiles();\r\n    return ResponseEntity.ok()\r\n           .contentType(MdiaType.MULTIPART_FORM_DATA)\r\n           .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=somefile&quot;)\r\n           .body(listOfFiles);\r\n    }\r\n\r\nbut I got error saying 406 could not find acceptable representation \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36886141/download-multiple-files-java-spring\r\n  [2]: https://www.devglan.com/spring-boot/spring-boot-file-upload-download","title":"Download multiple file from spring boot service","body":"<p>I need to send multiple files to UI from db,\nI saw couple of post like <a href=\"https://stackoverflow.com/questions/36886141/download-multiple-files-java-spring\">this</a> and <a href=\"https://www.devglan.com/spring-boot/spring-boot-file-upload-download\" rel=\"nofollow noreferrer\">here</a>, it suggest that I need to zip multiple files and send to client, but my client is front end angular code which unable to handle zip file.\nI</p>\n<p>tried code like below</p>\n<pre><code>public ResponseEntity&lt;List&lt;ByteArrayResouse&gt;&gt; downloaFile(){\n List&lt;ByteArrayResource&gt; listOfFiles = fileServices.getFiles();\nreturn ResponseEntity.ok()\n       .contentType(MdiaType.MULTIPART_FORM_DATA)\n       .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=somefile&quot;)\n       .body(listOfFiles);\n}\n</code></pre>\n<p>but I got error saying 406 could not find acceptable representation</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":23794203,"reputation":11,"user_id":17805298,"display_name":"Popipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641390977,"creation_date":1641206068,"question_id":70564469,"body_markdown":"I am using Java and Spring Boot to create an REST API for a database.\r\n\r\nI have been trying to find a way to dynamically filter serialized java nested objects. I have seen filter solutions with @JsonFilter but I can&#39;t manage to get it working with nested objects.\r\n\r\nHere the object to be serialized:\r\n```\r\npackage org.safetynet.p5safetynetalert.dbapi.model.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFilter;\r\nimport lombok.Data;\r\n\r\nimport java.util.Collection;\r\n\r\n@Data\r\npublic class ChildFromAddressDTO {\r\n  private String title = &quot;List of child at selected address&quot;;\r\n\r\n  @JsonFilter(&quot;childrenAtAddressDynamicFilter&quot;)\r\n  private Collection&lt;PersonDTO&gt; childrenAtAddress;\r\n\r\n  @JsonFilter(&quot;otherAdultsAtAddressDynamicFilter&quot;)\r\n  private Collection&lt;PersonDTO&gt; otherAdultsAtAddress;\r\n}\r\n```\r\nAs you can see, I have tried to filter the two different objects contained into ```ChildFromAddressDTO```. Indeed, I want to filter their properties dynamically when ```ChildFromAddressDTO``` is being serialized.\r\n\r\nTo be more specific, here is the ```PersonDTO``` object:\r\n```\r\npackage org.safetynet.p5safetynetalert.dbapi.model.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFilter;\r\nimport lombok.Data;\r\nimport org.safetynet.p5safetynetalert.dbapi.service.AgeService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@Data\r\n@JsonFilter(&quot;PersonDTODynamicFilter&quot;)\r\npublic class PersonDTO {\r\n\r\n  @Autowired\r\n  private AgeService ageService;\r\n\r\n  private String firstName;\r\n  private String lastName;\r\n  private String phone;\r\n  private String birthDate;\r\n  private Integer age;\r\n  private String email;\r\n  private AddressDTO address;\r\n\r\n  public PersonDTO() {\r\n\r\n  }\r\n}\r\n```\r\nI would like to hide everything except ```firstName```, ```lastName```, and ```age```, but only for the collection named ```childrenAtAddress```.\r\n\r\nSo far, I have tried this code in the service linked to my controller service:\r\n```\r\n@Service\r\npublic class ChildAlertService {\r\n\r\n  @Autowired\r\n  private AddressService addressService;\r\n  @Autowired\r\n  private PersonService personService;\r\n\r\npublic MappingJacksonValue getChildrenFromAddress(String road) throws Exception {\r\n    ChildFromAddressDTO childFromAddressDTO = new ChildFromAddressDTO();\r\n    Collection&lt;PersonDTO&gt; childrenToAdd = new ArrayList&lt;&gt;();\r\n    Collection&lt;PersonDTO&gt; adultToAdd = new ArrayList&lt;&gt;();\r\n\r\n    Address address = addressService.getByRoad(road);\r\n    Collection&lt;PersonDTO&gt; personDTOCollection = addressService.getPersonDTOsFromAddress(address);\r\n\r\n    for (PersonDTO personDTO : personDTOCollection) {\r\n      if (personDTO.getAge() &lt; 19) {\r\n        childrenToAdd.add(personDTO);\r\n      } else {\r\n        adultToAdd.add(personDTO);\r\n      }\r\n    }\r\n}\r\n\r\n    childFromAddressDTO.setChildrenAtAddress(childrenToAdd);\r\n    childFromAddressDTO.setOtherAdultsAtAddress(adultToAdd);\r\n\r\n    SimpleBeanPropertyFilter myFilter = SimpleBeanPropertyFilter\r\n      .serializeAllExcept(&quot;phone&quot;, &quot;birthdate&quot;, &quot;email&quot;, &quot;address&quot;);\r\n\r\n    FilterProvider filters = new SimpleFilterProvider()\r\n      .addFilter(&quot;childrenAtAddressDynamicFilter&quot;, myFilter);\r\n\r\n    MappingJacksonValue personsDTOtoChildren = new MappingJacksonValue(childFromAddressDTO);\r\n    personsDTOtoChildren.setFilters(filters);\r\n\r\n\r\n    return personsDTOtoChildren;\r\n  }\r\n```\r\n\r\nIs there a way to do so using @JsonFilter dynamically?\r\n\r\nBecause with this code, I get an 500 internal server error and I cannot manage to understand why.\r\n\r\n","title":"How to filter only specific nested objects during serialization for REST API","body":"<p>I am using Java and Spring Boot to create an REST API for a database.</p>\n<p>I have been trying to find a way to dynamically filter serialized java nested objects. I have seen filter solutions with @JsonFilter but I can't manage to get it working with nested objects.</p>\n<p>Here the object to be serialized:</p>\n<pre><code>package org.safetynet.p5safetynetalert.dbapi.model.dto;\n\nimport com.fasterxml.jackson.annotation.JsonFilter;\nimport lombok.Data;\n\nimport java.util.Collection;\n\n@Data\npublic class ChildFromAddressDTO {\n  private String title = &quot;List of child at selected address&quot;;\n\n  @JsonFilter(&quot;childrenAtAddressDynamicFilter&quot;)\n  private Collection&lt;PersonDTO&gt; childrenAtAddress;\n\n  @JsonFilter(&quot;otherAdultsAtAddressDynamicFilter&quot;)\n  private Collection&lt;PersonDTO&gt; otherAdultsAtAddress;\n}\n</code></pre>\n<p>As you can see, I have tried to filter the two different objects contained into <code>ChildFromAddressDTO</code>. Indeed, I want to filter their properties dynamically when <code>ChildFromAddressDTO</code> is being serialized.</p>\n<p>To be more specific, here is the <code>PersonDTO</code> object:</p>\n<pre><code>package org.safetynet.p5safetynetalert.dbapi.model.dto;\n\nimport com.fasterxml.jackson.annotation.JsonFilter;\nimport lombok.Data;\nimport org.safetynet.p5safetynetalert.dbapi.service.AgeService;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@Data\n@JsonFilter(&quot;PersonDTODynamicFilter&quot;)\npublic class PersonDTO {\n\n  @Autowired\n  private AgeService ageService;\n\n  private String firstName;\n  private String lastName;\n  private String phone;\n  private String birthDate;\n  private Integer age;\n  private String email;\n  private AddressDTO address;\n\n  public PersonDTO() {\n\n  }\n}\n</code></pre>\n<p>I would like to hide everything except <code>firstName</code>, <code>lastName</code>, and <code>age</code>, but only for the collection named <code>childrenAtAddress</code>.</p>\n<p>So far, I have tried this code in the service linked to my controller service:</p>\n<pre><code>@Service\npublic class ChildAlertService {\n\n  @Autowired\n  private AddressService addressService;\n  @Autowired\n  private PersonService personService;\n\npublic MappingJacksonValue getChildrenFromAddress(String road) throws Exception {\n    ChildFromAddressDTO childFromAddressDTO = new ChildFromAddressDTO();\n    Collection&lt;PersonDTO&gt; childrenToAdd = new ArrayList&lt;&gt;();\n    Collection&lt;PersonDTO&gt; adultToAdd = new ArrayList&lt;&gt;();\n\n    Address address = addressService.getByRoad(road);\n    Collection&lt;PersonDTO&gt; personDTOCollection = addressService.getPersonDTOsFromAddress(address);\n\n    for (PersonDTO personDTO : personDTOCollection) {\n      if (personDTO.getAge() &lt; 19) {\n        childrenToAdd.add(personDTO);\n      } else {\n        adultToAdd.add(personDTO);\n      }\n    }\n}\n\n    childFromAddressDTO.setChildrenAtAddress(childrenToAdd);\n    childFromAddressDTO.setOtherAdultsAtAddress(adultToAdd);\n\n    SimpleBeanPropertyFilter myFilter = SimpleBeanPropertyFilter\n      .serializeAllExcept(&quot;phone&quot;, &quot;birthdate&quot;, &quot;email&quot;, &quot;address&quot;);\n\n    FilterProvider filters = new SimpleFilterProvider()\n      .addFilter(&quot;childrenAtAddressDynamicFilter&quot;, myFilter);\n\n    MappingJacksonValue personsDTOtoChildren = new MappingJacksonValue(childFromAddressDTO);\n    personsDTOtoChildren.setFilters(filters);\n\n\n    return personsDTOtoChildren;\n  }\n</code></pre>\n<p>Is there a way to do so using @JsonFilter dynamically?</p>\n<p>Because with this code, I get an 500 internal server error and I cannot manage to understand why.</p>\n"},{"tags":["java","charts","jfreechart","candlestick-chart","jfreechart-fx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1641423093,"post_id":70593986,"comment_id":124804290,"body_markdown":"Maybe an `XYItemLabelGenerator`, seen [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20XYItemLabelGenerator)?","body":"Maybe an <code>XYItemLabelGenerator</code>, seen <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20XYItemLabelGenerator\">here</a>?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1641578668,"post_id":70593986,"comment_id":124849411,"body_markdown":"Also consider an annotation such as`XYTextAnnotation`.","body":"Also consider an annotation such as<code>XYTextAnnotation</code>."}],"owner":{"account_id":21369436,"reputation":11,"user_id":15737194,"display_name":"hassnain ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641390937,"creation_date":1641390548,"question_id":70593986,"body_markdown":"Currently I&#39;m working on charts and want to achieve an output.\r\nI wanted to achieve two things.\r\n\r\n1. To display candle stick chart of stocks data. [done]\r\n2. To display the stock split log above or below the candle. [pending]\r\n\r\nI&#39;m using JFreeChart SDK to build the charts.\r\nI&#39;m using OHLCDataItem[] to build data for daily high/low etc of stock. unfortunately jfreechart does not have any extension of OHLCDataItem to show additional information (logo + text metadata) on the candle. \r\n\r\nSample code:\r\n\r\n\tTimeSeries timeSeriesDailyMovingAverage = new TimeSeries(&quot;day moving average&quot;);\r\n\tList&lt;OHLCDataItem&gt; dataItems = new ArrayList&lt;OHLCDataItem&gt;(); //to collect High low close prices\r\n\r\n    OHLCDataItem item = new OHLCDataItem(date, open, high, low, adjClose, volume);//this code is in loop with do that more data can be added for each day\r\n\tdataItems.add(item);\r\n\r\n    OHLCDataItem[] data = dataItems.toArray(new OHLCDataItem[dataItems.size()]);\r\n\tOHLCDataset dataset = new DefaultOHLCDataset(symbol, data);\r\n\r\n    //now initializing the candleStickRanderer and setting its properties series strock + paint\r\n\tCandlestickRenderer CandleStickRenderer = new CandlestickRenderer();\r\n    \r\n    XYLineAndShapeRenderer LineRenderer = new XYLineAndShapeRenderer(true, false);\r\n    HighLowRenderer OHLCRenderer = new HighLowRenderer();\r\n    DateAxis domainAxis = new DateAxis();\r\n    \r\n    NumberAxis rangeAxis = new NumberAxis();\r\n\trangeAxis.setStandardTickUnits(NumberAxis.createStandardTickUnits());\r\n\t\t\r\n    XYPlot plot = new XYPlot(dataset, domainAxis, rangeAxis, LineRenderer);//set other properties\r\n    JFreeChart chart = new JFreeChart(info, new Font(&quot;SansSerif&quot;, Font.PLAIN, 15), plot, false);\r\n\tChartPanel chartPanel = new ChartPanel(chart);\r\n\r\n    JPanel panel = new JPanel(new BorderLayout());\r\n\tpanel.add(chartPanel, BorderLayout.CENTER);\r\n\tgetContentPane().add(panel);\r\n\r\n\tXYPlot xyplot = (XYPlot) chart.getPlot();\r\n\txyplot.setRenderer(CandleStickRenderer);\r\n\r\nThis is some rough code which is working fine. I&#39;m getting the desired out of Candle chart.\r\n[current output of candle stick][1]\r\nBut I cannot figure out how can I add text/logo on XYPlot based on dataset.\r\n\r\n**What I want to achieve is that, add text/or shape containing text information at the bottom/top of a particular candle. \r\nIt would be a great help if someone can guide me how I can do it based on the dataset.** \r\n\r\nThe desired output is like this chart. \r\n [desired output][2]\r\n\r\nOr\r\n[desired output][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eAhdu.png\r\n  [2]: https://i.stack.imgur.com/PXuAf.png\r\n  [4]: https://i.stack.imgur.com/5mt6B.png","title":"Show stock split in candle chart jfreechart","body":"<p>Currently I'm working on charts and want to achieve an output.\nI wanted to achieve two things.</p>\n<ol>\n<li>To display candle stick chart of stocks data. [done]</li>\n<li>To display the stock split log above or below the candle. [pending]</li>\n</ol>\n<p>I'm using JFreeChart SDK to build the charts.\nI'm using OHLCDataItem[] to build data for daily high/low etc of stock. unfortunately jfreechart does not have any extension of OHLCDataItem to show additional information (logo + text metadata) on the candle.</p>\n<p>Sample code:</p>\n<pre><code>TimeSeries timeSeriesDailyMovingAverage = new TimeSeries(&quot;day moving average&quot;);\nList&lt;OHLCDataItem&gt; dataItems = new ArrayList&lt;OHLCDataItem&gt;(); //to collect High low close prices\n\nOHLCDataItem item = new OHLCDataItem(date, open, high, low, adjClose, volume);//this code is in loop with do that more data can be added for each day\ndataItems.add(item);\n\nOHLCDataItem[] data = dataItems.toArray(new OHLCDataItem[dataItems.size()]);\nOHLCDataset dataset = new DefaultOHLCDataset(symbol, data);\n\n//now initializing the candleStickRanderer and setting its properties series strock + paint\nCandlestickRenderer CandleStickRenderer = new CandlestickRenderer();\n\nXYLineAndShapeRenderer LineRenderer = new XYLineAndShapeRenderer(true, false);\nHighLowRenderer OHLCRenderer = new HighLowRenderer();\nDateAxis domainAxis = new DateAxis();\n\nNumberAxis rangeAxis = new NumberAxis();\nrangeAxis.setStandardTickUnits(NumberAxis.createStandardTickUnits());\n    \nXYPlot plot = new XYPlot(dataset, domainAxis, rangeAxis, LineRenderer);//set other properties\nJFreeChart chart = new JFreeChart(info, new Font(&quot;SansSerif&quot;, Font.PLAIN, 15), plot, false);\nChartPanel chartPanel = new ChartPanel(chart);\n\nJPanel panel = new JPanel(new BorderLayout());\npanel.add(chartPanel, BorderLayout.CENTER);\ngetContentPane().add(panel);\n\nXYPlot xyplot = (XYPlot) chart.getPlot();\nxyplot.setRenderer(CandleStickRenderer);\n</code></pre>\n<p>This is some rough code which is working fine. I'm getting the desired out of Candle chart.\n<a href=\"https://i.stack.imgur.com/eAhdu.png\" rel=\"nofollow noreferrer\">current output of candle stick</a>\nBut I cannot figure out how can I add text/logo on XYPlot based on dataset.</p>\n<p><strong>What I want to achieve is that, add text/or shape containing text information at the bottom/top of a particular candle.\nIt would be a great help if someone can guide me how I can do it based on the dataset.</strong></p>\n<p>The desired output is like this chart.\n<a href=\"https://i.stack.imgur.com/PXuAf.png\" rel=\"nofollow noreferrer\">desired output</a></p>\n<p>Or\n<a href=\"https://i.stack.imgur.com/5mt6B.png\" rel=\"nofollow noreferrer\">desired output</a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1641388979,"post_id":70593551,"comment_id":124791364,"body_markdown":"You can try [`(?&lt;=\\(\\/)[^)]+(?=\\))`](https://regex101.com/r/5bjDff/1).","body":"You can try <a href=\"https://regex101.com/r/5bjDff/1\" rel=\"nofollow noreferrer\"><code>(?&lt;=\\(\\&#47;)[^)]+(?=\\))</code></a>."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1641517218,"post_id":70593551,"comment_id":124831138,"body_markdown":"I suggest adjusting the title of the question. So far, the accepted answer has no solution for &quot;Text extraction into an array list&quot;, only a regex that can be used to do that. Maybe it should sound as &quot;Extraction of string between parentheses excluding the first underscore&quot;, or something similar.","body":"I suggest adjusting the title of the question. So far, the accepted answer has no solution for &quot;Text extraction into an array list&quot;, only a regex that can be used to do that. Maybe it should sound as &quot;Extraction of string between parentheses excluding the first underscore&quot;, or something similar."}],"answers":[{"tags":[],"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641390894,"creation_date":1641389142,"answer_id":70593638,"question_id":70593551,"body_markdown":"\r\nTry this regex:\r\n\r\n    (?&lt;=\\\\(/)[^)]+(?=\\\\))\r\n\r\n**[Click for Demo][1]**\r\n\r\n**Explanation**\r\n\r\n - `(?&lt;=\\\\(/)` - positive lookbehind to make sure that the current position is preceded by a `(/`\r\n - `[^)]+` - matches 1 or more occurences(as many as possible) of any character that is not a `)`\r\n\r\n - `(?=\\\\))` - positive lookahead to make sure that the current position is followed by a `)`\r\n\r\nWith the regex you are using, `\\\\((.+?)\\\\)`, the following happens:\r\n\r\n - `\\\\(` - matches the opening parenthesis `(`\r\n - `(.+?)` - matches any character(except a new line character) 1 or more times, as few as possible. This subpattern will keep on expanding the match until it reaches the `)`. That&#39;s why it is matching everything between the parenthesis(even the `/`)\r\n - `\\\\)` - matches the closing parenthesis `)`\r\n\r\n  [1]: https://regex101.com/r/dQbWMq/1","title":"Java Regex: Text extraction into an array list","body":"<p>Try this regex:</p>\n<pre><code>(?&lt;=\\\\(/)[^)]+(?=\\\\))\n</code></pre>\n<p><strong><a href=\"https://regex101.com/r/dQbWMq/1\" rel=\"nofollow noreferrer\">Click for Demo</a></strong></p>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><p><code>(?&lt;=\\\\(/)</code> - positive lookbehind to make sure that the current position is preceded by a <code>(/</code></p>\n</li>\n<li><p><code>[^)]+</code> - matches 1 or more occurences(as many as possible) of any character that is not a <code>)</code></p>\n</li>\n<li><p><code>(?=\\\\))</code> - positive lookahead to make sure that the current position is followed by a <code>)</code></p>\n</li>\n</ul>\n<p>With the regex you are using, <code>\\\\((.+?)\\\\)</code>, the following happens:</p>\n<ul>\n<li><code>\\\\(</code> - matches the opening parenthesis <code>(</code></li>\n<li><code>(.+?)</code> - matches any character(except a new line character) 1 or more times, as few as possible. This subpattern will keep on expanding the match until it reaches the <code>)</code>. That's why it is matching everything between the parenthesis(even the <code>/</code>)</li>\n<li><code>\\\\)</code> - matches the closing parenthesis <code>)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641390559,"creation_date":1641389789,"answer_id":70593796,"question_id":70593551,"body_markdown":"You can use a capture group, and match the outer parenthesis/square brackets:\r\n\r\n    \\(/([^\\s()]+)\\)\r\n\r\n- `\\(/` Match `(/`\r\n- `(` Capture **group 1**\r\n  - `[^\\s()]+` Match 1+ chars other than a whitespace char or `(` `)`\r\n- `)` Close group 1\r\n- `\\)` Match `)`\r\n\r\n[Regex demo](https://regex101.com/r/3GZ90M/1)\r\n\r\n    List&lt;String&gt; matches = Pattern.compile(&quot;\\\\(/([^\\\\s()]+)\\\\)&quot;)\r\n        .matcher(&quot;This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**&quot;)\r\n        .results()\r\n        .map(m -&gt; m.group(1))\r\n        .collect(Collectors.toList());\r\n    \r\n    for (String s : matches)\r\n        System.out.println(s);\r\n\r\nOutput\r\n\r\n    madeUpUser1\r\n    madeUpUser2\r\n\r\nOr in the example, the string between the square brackets seems to be the same, so another option using the same code could be:\r\n\r\n    \\[@([^\\s\\]\\[]+)]\r\n\r\n- `\\[@` match `[@`\r\n- `(` Capture **group 1**\r\n  - `[^\\s\\]\\[]+` Match 1+ chars other than a whitespace char or `[` `]`\r\n- `)` Close group 1\r\n- `]` Match `]`\r\n\r\n[Regex demo](https://regex101.com/r/gt1LgO/1) | [Java demo](https://ideone.com/O5Uixq)","title":"Java Regex: Text extraction into an array list","body":"<p>You can use a capture group, and match the outer parenthesis/square brackets:</p>\n<pre><code>\\(/([^\\s()]+)\\)\n</code></pre>\n<ul>\n<li><code>\\(/</code> Match <code>(/</code></li>\n<li><code>(</code> Capture <strong>group 1</strong>\n<ul>\n<li><code>[^\\s()]+</code> Match 1+ chars other than a whitespace char or <code>(</code> <code>)</code></li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>\\)</code> Match <code>)</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/3GZ90M/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<pre><code>List&lt;String&gt; matches = Pattern.compile(&quot;\\\\(/([^\\\\s()]+)\\\\)&quot;)\n    .matcher(&quot;This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**&quot;)\n    .results()\n    .map(m -&gt; m.group(1))\n    .collect(Collectors.toList());\n\nfor (String s : matches)\n    System.out.println(s);\n</code></pre>\n<p>Output</p>\n<pre><code>madeUpUser1\nmadeUpUser2\n</code></pre>\n<p>Or in the example, the string between the square brackets seems to be the same, so another option using the same code could be:</p>\n<pre><code>\\[@([^\\s\\]\\[]+)]\n</code></pre>\n<ul>\n<li><code>\\[@</code> match <code>[@</code></li>\n<li><code>(</code> Capture <strong>group 1</strong>\n<ul>\n<li><code>[^\\s\\]\\[]+</code> Match 1+ chars other than a whitespace char or <code>[</code> <code>]</code></li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>]</code> Match <code>]</code></li>\n</ul>\n<p><a href=\"https://regex101.com/r/gt1LgO/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/O5Uixq\" rel=\"nofollow noreferrer\">Java demo</a></p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641390173,"creation_date":1641389791,"answer_id":70593797,"question_id":70593551,"body_markdown":"You can match `](/` and then *capture* any zero or more chars other than `(` and `)` till the next `)`, and collect Group 1 matches only:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString text = &quot;This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**&quot;;\r\n\r\n\t\tPattern p = Pattern.compile(&quot;]\\\\(/([^()]*)\\\\)&quot;);\r\n\t\tList&lt;String&gt; results = p.matcher(text)\r\n            .results()\r\n        \t.map(mr -&gt; mr.group(1))\r\n        \t.collect(Collectors.toList());\r\n        \r\n        // Or, to get a string array:\r\n        // String[] results = p.matcher(text).results().map(mr -&gt; mr.group(1)).toArray(String[]::new);\r\n\r\n\t\tfor (String x: results) {\r\n\t\t\tSystem.out.println(x);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSee the [online demo][1]. Output:\r\n```\r\nmadeUpUser1\r\nmadeUpUser2\r\n```\r\nSee the [regex demo][2]. *Details*:\r\n\r\n - `]\\(/` - a `])/` string\r\n - `([^()]*)` - Capturing group 1: any zero or more chars other than `)` and `(`\r\n - `\\)` -  a `)` char.\r\n\r\n\r\n  [1]: https://ideone.com/VUw5K5\r\n  [2]: https://regex101.com/r/iXt7Wa/1","title":"Java Regex: Text extraction into an array list","body":"<p>You can match <code>](/</code> and then <em>capture</em> any zero or more chars other than <code>(</code> and <code>)</code> till the next <code>)</code>, and collect Group 1 matches only:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\nimport java.util.stream.Collectors;\n\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String text = &quot;This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**&quot;;\n\n        Pattern p = Pattern.compile(&quot;]\\\\(/([^()]*)\\\\)&quot;);\n        List&lt;String&gt; results = p.matcher(text)\n            .results()\n            .map(mr -&gt; mr.group(1))\n            .collect(Collectors.toList());\n        \n        // Or, to get a string array:\n        // String[] results = p.matcher(text).results().map(mr -&gt; mr.group(1)).toArray(String[]::new);\n\n        for (String x: results) {\n            System.out.println(x);\n        }\n    }\n}\n</code></pre>\n<p>See the <a href=\"https://ideone.com/VUw5K5\" rel=\"nofollow noreferrer\">online demo</a>. Output:</p>\n<pre><code>madeUpUser1\nmadeUpUser2\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/iXt7Wa/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>]\\(/</code> - a <code>])/</code> string</li>\n<li><code>([^()]*)</code> - Capturing group 1: any zero or more chars other than <code>)</code> and <code>(</code></li>\n<li><code>\\)</code> -  a <code>)</code> char.</li>\n</ul>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70593638,"answer_count":3,"score":0,"last_activity_date":1641390894,"creation_date":1641388746,"question_id":70593551,"body_markdown":"I&#39;m struggling with a simple regex, for which I can&#39;t seem to get right.\r\n\r\nI have some text like so:\r\n\r\n```\r\nThis comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**\r\n```\r\n\r\nWhat I would like to end up with is an array list containing the usernames inbetween the parentheses i.e.:\r\n\r\n```\r\n0.madeUpUser1\r\n1.madeUpUser2\r\n```\r\n\r\nAnd here is the code I have so far:\r\n\r\n```\r\nList&lt;String&gt; matches = Pattern.compile(&quot;\\\\((.+?)\\\\)&quot;)\r\n        .matcher(&quot;This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**&quot;)\r\n        .results()\r\n        .map(MatchResult::group)\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nHowever what I&#39;m getting back is this:\r\n\r\n```\r\n0.&quot;(/madeUpUser1)&quot;\r\n1.&quot;(/madeUpUser2)&quot;\r\n```\r\n\r\nAgain, where I want:\r\n```\r\n0.madeUpUser1\r\n1.madeUpUser2\r\n```\r\ni.e. without the parentheses and without the forwardslash\r\n\r\nCan anyone shed any light on what I&#39;m doing wrong with my regex please?","title":"Java Regex: Text extraction into an array list","body":"<p>I'm struggling with a simple regex, for which I can't seem to get right.</p>\n<p>I have some text like so:</p>\n<pre><code>This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**\n</code></pre>\n<p>What I would like to end up with is an array list containing the usernames inbetween the parentheses i.e.:</p>\n<pre><code>0.madeUpUser1\n1.madeUpUser2\n</code></pre>\n<p>And here is the code I have so far:</p>\n<pre><code>List&lt;String&gt; matches = Pattern.compile(&quot;\\\\((.+?)\\\\)&quot;)\n        .matcher(&quot;This comment is great **[@madeUpUser1](/madeUpUser1)** You said something similar did you mate? **[@madeUpUser2](/madeUpUser2)**&quot;)\n        .results()\n        .map(MatchResult::group)\n        .collect(Collectors.toList());\n</code></pre>\n<p>However what I'm getting back is this:</p>\n<pre><code>0.&quot;(/madeUpUser1)&quot;\n1.&quot;(/madeUpUser2)&quot;\n</code></pre>\n<p>Again, where I want:</p>\n<pre><code>0.madeUpUser1\n1.madeUpUser2\n</code></pre>\n<p>i.e. without the parentheses and without the forwardslash</p>\n<p>Can anyone shed any light on what I'm doing wrong with my regex please?</p>\n"},{"tags":["java","android","android-studio","sdk","android-sdk-manager"],"comments":[{"owner":{"account_id":3826032,"reputation":319,"user_id":3172852,"accept_rate":33,"display_name":"fritz"},"score":0,"creation_date":1626092144,"post_id":66668714,"comment_id":120792477,"body_markdown":"version 30.0.3 Should work now. What produced this same error for me was version  31.0.0-rc5. All I had to do was to go into the SDK manager and deselect it to uninstall it. Then select 30.0.3 to install it. I was able to build without issues after that.","body":"version 30.0.3 Should work now. What produced this same error for me was version  31.0.0-rc5. All I had to do was to go into the SDK manager and deselect it to uninstall it. Then select 30.0.3 to install it. I was able to build without issues after that."}],"answers":[{"tags":[],"owner":{"display_name":"user13221385"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615967505,"creation_date":1615967505,"answer_id":66668927,"question_id":66668714,"body_markdown":"Try, to install the **stable version** of SDK Build tools.","title":"Installed build tools revision 30.0.3 is corrupted","body":"<p>Try, to install the <strong>stable version</strong> of SDK Build tools.</p>\n"},{"tags":[],"owner":{"account_id":56326,"reputation":8327,"user_id":168719,"accept_rate":74,"display_name":"Konrad Morawski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641390718,"creation_date":1641390718,"answer_id":70594035,"question_id":66668714,"body_markdown":"In my case ESET antivirus was quarantining `aapt.exe` (breaking the build tools) as &quot;suspicious&quot;.","title":"Installed build tools revision 30.0.3 is corrupted","body":"<p>In my case ESET antivirus was quarantining <code>aapt.exe</code> (breaking the build tools) as &quot;suspicious&quot;.</p>\n"}],"owner":{"account_id":20361185,"reputation":206,"user_id":14935461,"display_name":"Saad Ebad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5868,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1641390718,"creation_date":1615966354,"question_id":66668714,"body_markdown":"when i build my android application it is giving error &quot;Installed Build Tools revision 30.0.3 is corrupted. Remove and install again using the SDK Manager&quot; i tried to fix this by update my sdk manager but it didn&#39;t work. How can i fix this error.","title":"Installed build tools revision 30.0.3 is corrupted","body":"<p>when i build my android application it is giving error &quot;Installed Build Tools revision 30.0.3 is corrupted. Remove and install again using the SDK Manager&quot; i tried to fix this by update my sdk manager but it didn't work. How can i fix this error.</p>\n"},{"tags":["java","swing","look-and-feel","uimanager","synth"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1639401525,"post_id":70334817,"comment_id":124331569,"body_markdown":"*&quot;I saw that in swing&#39;s UIManager, one can change the LookAndFeel, but it then changes for the whole application&quot;* Swing applications do not deal with multiple different look and feel implementations well. Redesign the app. to not require it. Note: Going by your description of *what* you want to achieve, I missed understanding *why* you want to achieve that. That is important information, as there are likely better approaches.","body":"<i>&quot;I saw that in swing&#39;s UIManager, one can change the LookAndFeel, but it then changes for the whole application&quot;</i> Swing applications do not deal with multiple different look and feel implementations well. Redesign the app. to not require it. Note: Going by your description of <i>what</i> you want to achieve, I missed understanding <i>why</i> you want to achieve that. That is important information, as there are likely better approaches."},{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":1,"creation_date":1639402669,"post_id":70334817,"comment_id":124332052,"body_markdown":"As it already mantioned by Andrew, Swing can only deal with a single L&amp;F. But synth has possibility to bind a style by name ([Example](https://stackoverflow.com/questions/51744290/synth-look-and-feel-is-it-possible-to-write-xml-to-do-both-general-and-specifi)).","body":"As it already mantioned by Andrew, Swing can only deal with a single L&amp;F. But synth has possibility to bind a style by name (<a href=\"https://stackoverflow.com/questions/51744290/synth-look-and-feel-is-it-possible-to-write-xml-to-do-both-general-and-specifi\">Example</a>)."},{"owner":{"account_id":13569871,"reputation":34,"user_id":9788911,"display_name":"wilbut"},"score":0,"creation_date":1639405445,"post_id":70334817,"comment_id":124333237,"body_markdown":"@AndrewThompson : There are hundreds of different HMIs in this application. The change in the look and feel also comes with a change in the HMI&#39;s behavior and would require too much time to do in one shot","body":"@AndrewThompson : There are hundreds of different HMIs in this application. The change in the look and feel also comes with a change in the HMI&#39;s behavior and would require too much time to do in one shot"},{"owner":{"account_id":13569871,"reputation":34,"user_id":9788911,"display_name":"wilbut"},"score":0,"creation_date":1639405876,"post_id":70334817,"comment_id":124333439,"body_markdown":"@SergiyMedvynskyy  Yeah that&#39;s what I feared. I know we can use setName(&quot;xxx&quot;) but have had some trouble with some sub-components which I haven&#39;t succeeded in setting style by setName. Example : I have no problem setting a JTabbedPane&#39;s style, but I don&#39;t know how to set a style for the Thumb or Track other by having a region style with key &quot;ScrollBarTrack&quot; and  &quot;ScrollBarThumb&quot;","body":"@SergiyMedvynskyy  Yeah that&#39;s what I feared. I know we can use setName(&quot;xxx&quot;) but have had some trouble with some sub-components which I haven&#39;t succeeded in setting style by setName. Example : I have no problem setting a JTabbedPane&#39;s style, but I don&#39;t know how to set a style for the Thumb or Track other by having a region style with key &quot;ScrollBarTrack&quot; and  &quot;ScrollBarThumb&quot;"}],"answers":[{"tags":[],"owner":{"account_id":15038853,"reputation":1515,"user_id":10854225,"display_name":"vincenzopalazzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640517073,"creation_date":1640517073,"answer_id":70485986,"question_id":70334817,"body_markdown":"&gt;Only workaround I saw on the internet was to change the LookAndFeel before instanciating a Component, then change it back, which looks like an awful solution\r\n\r\nThis is a very very very x 10 times bad solution.\r\n\r\nI&#39;m the author of the [material-ui-swing][1] and with the material style, you need to work with this concept of different style, and this is the main focus that I had during my development with the library, also because at the same time we integrate the library in one of the famous swing application called [JMars][2] where we need to respect a design system given by the UX team.\r\n\r\nTo make an example, material-ui-swing give two types of API:\r\n- one it the Material Theme System to define in a declarative way the theme around the App, and \r\n- the second is to give the lower-level API to implement the UI component with a different style.\r\n\r\nIn your case, we need the second power of material-ui-swing which is the lower-level API, and I will add an example also reported inside the repository online at the following [link][3], and the complete doc is available [here][4]\r\n\r\nA possible example of customization is the following on\r\n\r\n    public class ContainedButtonUI extends MaterialButtonUI {\r\n    \r\n        //The propriety order inside the method installUI is important\r\n        //because some propriety should be override\r\n        @Override\r\n        public void installUI(JComponent c) {\r\n            super.mouseHoverEnabled = false;\r\n            super.installUI(c);\r\n            super.mouseHoverEnabled = true;\r\n            super.colorMouseHoverNormalButton = MaterialColors.PURPLE_500;\r\n            super.background = MaterialColors.PURPLE_700;\r\n            c.setBackground(super.background);\r\n    \r\n            if(super.mouseHoverEnabled){\r\n                c.addMouseListener(\r\n                        MaterialUIMovement.getMovement(c, this.colorMouseHoverNormalButton)\r\n                );\r\n            }\r\n            //If you want use this style also for Default button\r\n           // super.defaultBackground = MaterialColors.PURPLE_700;\r\n            //super.colorMouseHoverDefaultButton = MaterialColors.PURPLE_500;\r\n            super.borderEnabled = false;\r\n        }\r\n\r\nAfter that to keep all your app architecture clean you can add the following specialization of JButton\r\n\r\n    /** @author https://github.com/vincenzopalazzo */\r\n    public class ContainedButton extends JButton {\r\n    \r\n      public ContainedButton() {}\r\n    \r\n      public ContainedButton(Icon icon) {\r\n        super(icon);\r\n      }\r\n    \r\n      public ContainedButton(String text) {\r\n        super(text);\r\n      }\r\n    \r\n      public ContainedButton(Action a) {\r\n        super(a);\r\n      }\r\n    \r\n      public ContainedButton(String text, Icon icon) {\r\n        super(text, icon);\r\n      }\r\n    \r\n      @Override\r\n      protected void init(String text, Icon icon) {\r\n        super.init(text, icon);\r\n        // When you don&#39;t want anymore you just delete the \r\n        // following line\r\n        setUI(new ContainedButtonUI());\r\n      }\r\n\r\nOf curse, maybe the library can not help you in all your component styles, but nobody said that the library can not evolve with the help of the community.\r\n\r\nA not complete description of components can be found [here][5] \r\n\r\n\r\n  [1]: https://github.com/vincenzopalazzo/material-ui-swing\r\n  [2]: https://jmars.asu.edu/\r\n  [3]: https://github.com/vincenzopalazzo/material-ui-swing/tree/master/src/test/java/integration/gui/mock/uiexample\r\n  [4]: https://vincenzopalazzo.github.io/material-ui-swing/\r\n  [5]: https://github.com/vincenzopalazzo/material-ui-swing/wiki/Material-Component-Supported","title":"Making several synth LookAndFeels coexist at the same time in a java swing application","body":"<blockquote>\n<p>Only workaround I saw on the internet was to change the LookAndFeel before instanciating a Component, then change it back, which looks like an awful solution</p>\n</blockquote>\n<p>This is a very very very x 10 times bad solution.</p>\n<p>I'm the author of the <a href=\"https://github.com/vincenzopalazzo/material-ui-swing\" rel=\"nofollow noreferrer\">material-ui-swing</a> and with the material style, you need to work with this concept of different style, and this is the main focus that I had during my development with the library, also because at the same time we integrate the library in one of the famous swing application called <a href=\"https://jmars.asu.edu/\" rel=\"nofollow noreferrer\">JMars</a> where we need to respect a design system given by the UX team.</p>\n<p>To make an example, material-ui-swing give two types of API:</p>\n<ul>\n<li>one it the Material Theme System to define in a declarative way the theme around the App, and</li>\n<li>the second is to give the lower-level API to implement the UI component with a different style.</li>\n</ul>\n<p>In your case, we need the second power of material-ui-swing which is the lower-level API, and I will add an example also reported inside the repository online at the following <a href=\"https://github.com/vincenzopalazzo/material-ui-swing/tree/master/src/test/java/integration/gui/mock/uiexample\" rel=\"nofollow noreferrer\">link</a>, and the complete doc is available <a href=\"https://vincenzopalazzo.github.io/material-ui-swing/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>A possible example of customization is the following on</p>\n<pre><code>public class ContainedButtonUI extends MaterialButtonUI {\n\n    //The propriety order inside the method installUI is important\n    //because some propriety should be override\n    @Override\n    public void installUI(JComponent c) {\n        super.mouseHoverEnabled = false;\n        super.installUI(c);\n        super.mouseHoverEnabled = true;\n        super.colorMouseHoverNormalButton = MaterialColors.PURPLE_500;\n        super.background = MaterialColors.PURPLE_700;\n        c.setBackground(super.background);\n\n        if(super.mouseHoverEnabled){\n            c.addMouseListener(\n                    MaterialUIMovement.getMovement(c, this.colorMouseHoverNormalButton)\n            );\n        }\n        //If you want use this style also for Default button\n       // super.defaultBackground = MaterialColors.PURPLE_700;\n        //super.colorMouseHoverDefaultButton = MaterialColors.PURPLE_500;\n        super.borderEnabled = false;\n    }\n</code></pre>\n<p>After that to keep all your app architecture clean you can add the following specialization of JButton</p>\n<pre><code>/** @author https://github.com/vincenzopalazzo */\npublic class ContainedButton extends JButton {\n\n  public ContainedButton() {}\n\n  public ContainedButton(Icon icon) {\n    super(icon);\n  }\n\n  public ContainedButton(String text) {\n    super(text);\n  }\n\n  public ContainedButton(Action a) {\n    super(a);\n  }\n\n  public ContainedButton(String text, Icon icon) {\n    super(text, icon);\n  }\n\n  @Override\n  protected void init(String text, Icon icon) {\n    super.init(text, icon);\n    // When you don't want anymore you just delete the \n    // following line\n    setUI(new ContainedButtonUI());\n  }\n</code></pre>\n<p>Of curse, maybe the library can not help you in all your component styles, but nobody said that the library can not evolve with the help of the community.</p>\n<p>A not complete description of components can be found <a href=\"https://github.com/vincenzopalazzo/material-ui-swing/wiki/Material-Component-Supported\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13569871,"reputation":34,"user_id":9788911,"display_name":"wilbut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641390647,"creation_date":1641390647,"answer_id":70594024,"question_id":70334817,"body_markdown":"Thank you all for your answers and sorry for my lack of reactivity during the holidays\r\n\r\nI think I found a solution, which is not exactly what I asked for but answers my problem :\r\n\r\nI will not make several LookAndFeels coexist. \r\nInstead, I will load all styles, new and old, in the same LookAndFeel, and use different setName() for new and old components\r\nFor region styles (which was the problematic here), I will make a custom SynthStyleFactory which will redirect to the correct region style\r\n\r\nOnce all HMIs are migrated, I will delete the old styles and the custom factory which won&#39;t be needed anymore","title":"Making several synth LookAndFeels coexist at the same time in a java swing application","body":"<p>Thank you all for your answers and sorry for my lack of reactivity during the holidays</p>\n<p>I think I found a solution, which is not exactly what I asked for but answers my problem :</p>\n<p>I will not make several LookAndFeels coexist.\nInstead, I will load all styles, new and old, in the same LookAndFeel, and use different setName() for new and old components\nFor region styles (which was the problematic here), I will make a custom SynthStyleFactory which will redirect to the correct region style</p>\n<p>Once all HMIs are migrated, I will delete the old styles and the custom factory which won't be needed anymore</p>\n"}],"owner":{"account_id":13569871,"reputation":34,"user_id":9788911,"display_name":"wilbut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70594024,"answer_count":2,"score":0,"last_activity_date":1641390647,"creation_date":1639399125,"question_id":70334817,"body_markdown":"I am working on a java swing application using synth Look and Feel.\r\nThere are already styles for every possible swing component\r\n\r\nI must change the whole application&#39;s LookAndFeel, redefining different styles for every possible swing component.\r\n\r\nI am now working on a sandbox, launched outside of the application. The sandbox loads my new set of styles, while the application still loads the old ones. No problems for now\r\n\r\nHowever, I must then integrate it &#39;progressively&#39; in the application. Meaning that in the same java application, some HMIs must use the old set of styles, while some must use the new ones\r\n\r\nThe difficulty being that each set of styles define synth &quot;region&quot; styles that automatically apply to the corresponding component, and I don&#39;t know how deal with several region styles that correspond to the same component type\r\n\r\nAnybody has an idea of how I can do this ?\r\nI saw that in swing&#39;s UIManager, one can change the LookAndFeel, but it then changes for the whole application\r\n\r\nOnly workaround I saw on the internet was to change the LookAndFeel before instanciating a Component, then change it back, which looks like an awful solution\r\n\r\nThanks in advance\r\n","title":"Making several synth LookAndFeels coexist at the same time in a java swing application","body":"<p>I am working on a java swing application using synth Look and Feel.\nThere are already styles for every possible swing component</p>\n<p>I must change the whole application's LookAndFeel, redefining different styles for every possible swing component.</p>\n<p>I am now working on a sandbox, launched outside of the application. The sandbox loads my new set of styles, while the application still loads the old ones. No problems for now</p>\n<p>However, I must then integrate it 'progressively' in the application. Meaning that in the same java application, some HMIs must use the old set of styles, while some must use the new ones</p>\n<p>The difficulty being that each set of styles define synth &quot;region&quot; styles that automatically apply to the corresponding component, and I don't know how deal with several region styles that correspond to the same component type</p>\n<p>Anybody has an idea of how I can do this ?\nI saw that in swing's UIManager, one can change the LookAndFeel, but it then changes for the whole application</p>\n<p>Only workaround I saw on the internet was to change the LookAndFeel before instanciating a Component, then change it back, which looks like an awful solution</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1640887426,"post_id":70535143,"comment_id":124684783,"body_markdown":"Start at column 0, compute the sum of the column.  If it&#39;s less than 0, find a column to the right that has a positive sum.  Swap the two columns.  Move to column 1 and do the same thing until you reach the last column.","body":"Start at column 0, compute the sum of the column.  If it&#39;s less than 0, find a column to the right that has a positive sum.  Swap the two columns.  Move to column 1 and do the same thing until you reach the last column."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1640901768,"post_id":70535143,"comment_id":124688674,"body_markdown":"Do you care about order of positive values? Would be much easier if you can just use natural order (`2,1,-1,-3,-5`) instead of `1,2,-3,-5,-1`.","body":"Do you care about order of positive values? Would be much easier if you can just use natural order (<code>2,1,-1,-3,-5</code>) instead of <code>1,2,-3,-5,-1</code>."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":2,"creation_date":1641390491,"post_id":70535143,"comment_id":124792010,"body_markdown":"Vandalizing your own posts (as by replacing their titles or contents with garbage) is against the rules here.","body":"Vandalizing your own posts (as by replacing their titles or contents with garbage) is against the rules here."},{"owner":{"account_id":2751107,"reputation":31052,"user_id":2370483,"accept_rate":89,"display_name":"Machavity"},"score":1,"creation_date":1641390798,"post_id":70535143,"comment_id":124792157,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](//meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641049841,"creation_date":1640895246,"answer_id":70536273,"question_id":70535143,"body_markdown":"Here is one way to do it.  This will only work for rectangular arrays since one could not possibly maintain column alignment if any positive summed column was shorter than a negative summed column.\r\n```\r\nint[][] arr = { { -3, 1, -5, 2, -1 },\r\n                { -3, 1, -5, 2, -2 },\r\n\t        \t{ -3, 1, -5, 2, -3 } };\r\n```\r\nFirst create a single array of column sums.\r\n```\r\nint[] colsum = new int[arr[0].length];\r\n\r\nfor (int col = 0; col &lt; arr[0].length; col++) {\r\n\tfor (int row = 0; row &lt; arr.length; row++) {\r\n\t       colsum[col] += arr[row][col];\r\n\t}\t\t\r\n}\r\n```\r\nThen, create a result array to copy the columns based on the column sums.\r\nTo preserve relative column order of same signed columns, two loops are used.  The first goes from right to left.  The second goes from left to right but also stops once the previously added negative columns are reached.\r\n```\r\nint[][] result = new int[arr.length][arr[0].length];\r\n\r\nint rearLoc = arr[0].length-1;\r\nint forwardLoc = 0;\r\nfor (int col = arr[0].length-1; col &gt;= 0; col--) {\r\n    if (colsum[col] &lt; 0) {\r\n         for (int row = 0; row &lt; arr.length; row++) {\r\n    \t       result[row][rearLoc] = arr[row][col];\r\n         }\r\n         rearLoc--;\r\n    }\r\n}\r\nfor (int col = 0;  forwardLoc &lt;= rearLoc &amp;&amp; col &lt; arr[0].length; col++) {\r\n\tif (colsum[col] &gt;= 0) {\r\n\t\tfor (int row = 0; row &lt; arr.length; row++) {\r\n\t\t\tresult[row][forwardLoc] = arr[row][col];\r\n\t\t}\r\n\t\tforwardLoc++;\r\n\t}\r\n}\r\nfor (int[] a : result) {\r\n\tSystem.out.println(Arrays.toString(a));\r\n}\r\n```\r\nPrints\r\n```\r\n[1, 2, -3, -5, -1]\r\n[1, 2, -3, -5, -2]\r\n[1, 2, -3, -5, -3]\r\n```\r\n","title":"How to move columns whose sum is negative to the end?","body":"<p>Here is one way to do it.  This will only work for rectangular arrays since one could not possibly maintain column alignment if any positive summed column was shorter than a negative summed column.</p>\n<pre><code>int[][] arr = { { -3, 1, -5, 2, -1 },\n                { -3, 1, -5, 2, -2 },\n                { -3, 1, -5, 2, -3 } };\n</code></pre>\n<p>First create a single array of column sums.</p>\n<pre><code>int[] colsum = new int[arr[0].length];\n\nfor (int col = 0; col &lt; arr[0].length; col++) {\n    for (int row = 0; row &lt; arr.length; row++) {\n           colsum[col] += arr[row][col];\n    }       \n}\n</code></pre>\n<p>Then, create a result array to copy the columns based on the column sums.\nTo preserve relative column order of same signed columns, two loops are used.  The first goes from right to left.  The second goes from left to right but also stops once the previously added negative columns are reached.</p>\n<pre><code>int[][] result = new int[arr.length][arr[0].length];\n\nint rearLoc = arr[0].length-1;\nint forwardLoc = 0;\nfor (int col = arr[0].length-1; col &gt;= 0; col--) {\n    if (colsum[col] &lt; 0) {\n         for (int row = 0; row &lt; arr.length; row++) {\n               result[row][rearLoc] = arr[row][col];\n         }\n         rearLoc--;\n    }\n}\nfor (int col = 0;  forwardLoc &lt;= rearLoc &amp;&amp; col &lt; arr[0].length; col++) {\n    if (colsum[col] &gt;= 0) {\n        for (int row = 0; row &lt; arr.length; row++) {\n            result[row][forwardLoc] = arr[row][col];\n        }\n        forwardLoc++;\n    }\n}\nfor (int[] a : result) {\n    System.out.println(Arrays.toString(a));\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>[1, 2, -3, -5, -1]\n[1, 2, -3, -5, -2]\n[1, 2, -3, -5, -3]\n</code></pre>\n"}],"owner":{"account_id":23687318,"reputation":11,"user_id":17712085,"display_name":"movearound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70536273,"answer_count":1,"score":0,"last_activity_date":1641390474,"creation_date":1640887154,"question_id":70535143,"body_markdown":"for example: i have an array: \r\n```\r\nint[][] arr = {{-3,1,-5,2,-1},\r\n               {-3,1,-5,2,-2},\r\n               {-3,1,-5,2,-3}};\r\n```\r\nand i need to get such an array:\r\n```\r\nint[][] arr = {{1,2,-3,-5,-1},\r\n               {1,2,-3,-5,-2},\r\n               {1,2,-3,-5,-3}};\r\n```\r\nI want the program to be universal for any double arrays.\r\n&lt;hr&gt;\r\nany thoughts?","title":"How to move columns whose sum is negative to the end?","body":"<p>for example: i have an array:</p>\n<pre><code>int[][] arr = {{-3,1,-5,2,-1},\n               {-3,1,-5,2,-2},\n               {-3,1,-5,2,-3}};\n</code></pre>\n<p>and i need to get such an array:</p>\n<pre><code>int[][] arr = {{1,2,-3,-5,-1},\n               {1,2,-3,-5,-2},\n               {1,2,-3,-5,-3}};\n</code></pre>\n<p>I want the program to be universal for any double arrays.</p>\n<hr>\nany thoughts?\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641387608,"post_id":70592975,"comment_id":124790796,"body_markdown":"The `orderType` field is excluded by default when the DTO is being deserialized (at least prior this change: https://github.com/google/gson/commit/c1e7e2d2808b042cbe47ca31869ee6ccc62c5417#diff-d541ed0000ca9f491307d6f826a61c00992cd64c13136d6cbd3057f7f272a381 ). Make sure you have a &quot;maintain&quot;-aware copy of `RuntimeTypeAdapterFactory` and set the `maintain` flag to `true` so that the field could be restored.","body":"The <code>orderType</code> field is excluded by default when the DTO is being deserialized (at least prior this change: <a href=\"https://github.com/google/gson/commit/c1e7e2d2808b042cbe47ca31869ee6ccc62c5417#diff-d541ed0000ca9f491307d6f826a61c00992cd64c13136d6cbd3057f7f272a381\" rel=\"nofollow noreferrer\">github.com/google/gson/commit/&hellip;</a> ). Make sure you have a &quot;maintain&quot;-aware copy of <code>RuntimeTypeAdapterFactory</code> and set the <code>maintain</code> flag to <code>true</code> so that the field could be restored."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":2,"creation_date":1641387777,"post_id":70592975,"comment_id":124790860,"body_markdown":"By the way, Gson does not use constructors at all for simple objects like that when there are no default constructors (yes, there are ways of doing it in a dirty way) -- so Gson does not invoke the `DineIn` constructor (you can even add `throw new AssertionError(&quot;boom!&quot;);`) to the constructor body, and you&#39;ll still see that the `DineIn` is successfully deserialized).","body":"By the way, Gson does not use constructors at all for simple objects like that when there are no default constructors (yes, there are ways of doing it in a dirty way) -- so Gson does not invoke the <code>DineIn</code> constructor (you can even add <code>throw new AssertionError(&quot;boom!&quot;);</code>) to the constructor body, and you&#39;ll still see that the <code>DineIn</code> is successfully deserialized)."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641387944,"post_id":70592975,"comment_id":124790936,"body_markdown":"And the last, from the design perspective, you don&#39;t need the `orderType` field at all: it duplicates the `getOrderType` method semantically so you can even remove that field and make the method return type discriminator strings directly, not using a field (and even not using a constructor that may be not invoked by Gson as you could see). I&#39;d remove both field and method: `getClass` is fine enough doing the same.","body":"And the last, from the design perspective, you don&#39;t need the <code>orderType</code> field at all: it duplicates the <code>getOrderType</code> method semantically so you can even remove that field and make the method return type discriminator strings directly, not using a field (and even not using a constructor that may be not invoked by Gson as you could see). I&#39;d remove both field and method: <code>getClass</code> is fine enough doing the same."},{"owner":{"account_id":21318860,"reputation":31,"user_id":15692331,"display_name":"nitesh_"},"score":0,"creation_date":1641393758,"post_id":70592975,"comment_id":124793539,"body_markdown":"So, what should I do with the adapter? It would need some info to deserialize correctly right?","body":"So, what should I do with the adapter? It would need some info to deserialize correctly right?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641394026,"post_id":70592975,"comment_id":124793658,"body_markdown":"Please re-read my comments #1 (use the `maintain` flag if you really want to retain the field) and #3 (for the design perspective since you need neither the discriminator field nor the discriminator method preferring `getClass` if possible).","body":"Please re-read my comments #1 (use the <code>maintain</code> flag if you really want to retain the field) and #3 (for the design perspective since you need neither the discriminator field nor the discriminator method preferring <code>getClass</code> if possible)."},{"owner":{"account_id":21318860,"reputation":31,"user_id":15692331,"display_name":"nitesh_"},"score":0,"creation_date":1641395151,"post_id":70592975,"comment_id":124794164,"body_markdown":"Sorry, I should have clarified. Since what is being written into the file is DineIn and Delivery and it is being read into a List&lt;Order&gt; and I don&#39;t need the discriminator what should I do with the runtimeAdapterFactory? Leave it as it is with the maintain flag or is there an alternative where it can be removed and the program works as intended.","body":"Sorry, I should have clarified. Since what is being written into the file is DineIn and Delivery and it is being read into a List&lt;Order&gt; and I don&#39;t need the discriminator what should I do with the runtimeAdapterFactory? Leave it as it is with the maintain flag or is there an alternative where it can be removed and the program works as intended."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641395943,"post_id":70592975,"comment_id":124794530,"body_markdown":"Again, you need the field for JSON representation **only** (to retain the minimal type information for your deserializers and other JSON consumers where that information may matter) and don&#39;t need it for &quot;real&quot; Java objects that already have **known** type once they are `new`-ed per se. Having that said, remove the field from the DTO classes, but let your `RuntimeTypeAdapterFactory` still use the `objectType` so that the result JSON could then be restored to its original object.","body":"Again, you need the field for JSON representation <b>only</b> (to retain the minimal type information for your deserializers and other JSON consumers where that information may matter) and don&#39;t need it for &quot;real&quot; Java objects that already have <b>known</b> type once they are <code>new</code>-ed per se. Having that said, remove the field from the DTO classes, but let your <code>RuntimeTypeAdapterFactory</code> still use the <code>objectType</code> so that the result JSON could then be restored to its original object."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641396059,"post_id":70592975,"comment_id":124794582,"body_markdown":"Check this out: `public abstract static class Base {}`, `public static final class A extends Base {}`, and `public static final class B extends Base {}`. Let `Gson` instance to be instantiated like this: `new GsonBuilder().registerTypeAdapterFactory(RuntimeTypeAdapterFactory.of(Base.class, &quot;__type&quot;).registerSubtype(A.class, &quot;__A__&quot;).registerSubtype(B.class, &quot;__B__&quot;)).create()`.","body":"Check this out: <code>public abstract static class Base {}</code>, <code>public static final class A extends Base {}</code>, and <code>public static final class B extends Base {}</code>. Let <code>Gson</code> instance to be instantiated like this: <code>new GsonBuilder().registerTypeAdapterFactory(RuntimeTypeAdapterF&zwnj;&#8203;actory.of(Base.class&zwnj;&#8203;, &quot;__type&quot;).registerSubtype(A.class, &quot;__A__&quot;).registerSubtype(B.class, &quot;__B__&quot;)).create()</code>."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641396153,"post_id":70592975,"comment_id":124794619,"body_markdown":"Then test it: `final Base[] before = { new A(), new B() };`, `final String json = gson.toJson(before, Base[].class);`, `System.out.println(json);`, `final Base[] after = gson.fromJson(json, Base[].class);`, and `for ( final Base base : after ) {System.out.println(base.getClass());}`. For the first print it will produce `[{&quot;__type&quot;:&quot;__A__&quot;},{&quot;__type&quot;:&quot;__B__&quot;}]` containing ALL necessary type info. For the second print it will produce something like `Main$A` and `Main$B` (just because these two classes are nested).","body":"Then test it: <code>final Base[] before = { new A(), new B() };</code>, <code>final String json = gson.toJson(before, Base[].class);</code>, <code>System.out.println(json);</code>, <code>final Base[] after = gson.fromJson(json, Base[].class);</code>, and <code>for ( final Base base : after ) {System.out.println(base.getClass());}</code>. For the first print it will produce <code>[{&quot;__type&quot;:&quot;__A__&quot;},{&quot;__type&quot;:&quot;__B__&quot;}]</code> containing ALL necessary type info. For the second print it will produce something like <code>Main$A</code> and <code>Main$B</code> (just because these two classes are nested)."},{"owner":{"account_id":21318860,"reputation":31,"user_id":15692331,"display_name":"nitesh_"},"score":0,"creation_date":1641401999,"post_id":70592975,"comment_id":124797238,"body_markdown":"Thank you very much! I understood it perfectly. Thanks for taking out the time to reply and help me understand! I really appreciate it!","body":"Thank you very much! I understood it perfectly. Thanks for taking out the time to reply and help me understand! I really appreciate it!"}],"answers":[{"tags":[],"owner":{"account_id":13441392,"reputation":2711,"user_id":9698467,"display_name":"Stefan Zhelyazkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641390461,"creation_date":1641390461,"answer_id":70593967,"question_id":70592975,"body_markdown":"In your code you have a hierarchy where `DineIn` and `Delivery` extend from `Order`. The way the `orderType` field is set is through an explicit String argument in the `super()` constructor.\r\n\r\nHowever, Gson does not use the constructor to instantiate the objects. It uses a special no-argument constructor and populates the values via reflection: https://stackoverflow.com/a/40442037/9698467\r\n\r\nIn this specific case the problem comes from the `RuntimeTypeAdapterFactory`, which removes the `orderType` field from the JSON that it reads. The source code here confirms that: https://github.com/google/gson/blob/86d88c32cf6a6b7a6e0bbc855d76e4ccf6f120bb/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java#L202\r\n\r\nAs @fluffy suggested newer versions of the library include the `maintain` flag, which should allow for the field to be preserved: https://github.com/google/gson/blob/c1e7e2d2808b042cbe47ca31869ee6ccc62c5417/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java#L214","title":"gson deserializing a field as null","body":"<p>In your code you have a hierarchy where <code>DineIn</code> and <code>Delivery</code> extend from <code>Order</code>. The way the <code>orderType</code> field is set is through an explicit String argument in the <code>super()</code> constructor.</p>\n<p>However, Gson does not use the constructor to instantiate the objects. It uses a special no-argument constructor and populates the values via reflection: <a href=\"https://stackoverflow.com/a/40442037/9698467\">https://stackoverflow.com/a/40442037/9698467</a></p>\n<p>In this specific case the problem comes from the <code>RuntimeTypeAdapterFactory</code>, which removes the <code>orderType</code> field from the JSON that it reads. The source code here confirms that: <a href=\"https://github.com/google/gson/blob/86d88c32cf6a6b7a6e0bbc855d76e4ccf6f120bb/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java#L202\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/86d88c32cf6a6b7a6e0bbc855d76e4ccf6f120bb/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java#L202</a></p>\n<p>As @fluffy suggested newer versions of the library include the <code>maintain</code> flag, which should allow for the field to be preserved: <a href=\"https://github.com/google/gson/blob/c1e7e2d2808b042cbe47ca31869ee6ccc62c5417/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java#L214\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/c1e7e2d2808b042cbe47ca31869ee6ccc62c5417/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java#L214</a></p>\n"}],"owner":{"account_id":21318860,"reputation":31,"user_id":15692331,"display_name":"nitesh_"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70593967,"answer_count":1,"score":2,"last_activity_date":1641390461,"creation_date":1641386120,"question_id":70592975,"body_markdown":"First of all, I&#39;d like to say this is for a university project.\r\n\r\nI have 3 classes. `Order` abstract class and `Delivery` and `DineIn` classes which inherits from Order.\r\n\r\nI am using Gson to serialize/deserialize the child classes but I have run into a bit of a problem. The Order class has a field `orderType` which gson uses to determine type of order it is, DineIn or Delivery.\r\n\r\nSerialization is working just fine. The problem is that whenever I try to deserialize, the type field value is not read and is always set as null even though it is present in the JSON file.\r\nThis happens when there are a lot of fields in Order because when I tried testing this program on a smaller scale with the Order class just having 2 fields (orderType and orderNo) everything worked just fine. I don&#39;t what I am doing wrong. I have tried searching on this site and am almost always coming across suggestions to make custom type adapters and serializers but we haven&#39;t studied about them in university and I don&#39;t want to use them (the instructor deducts marks for using anything he hasn&#39;t taught, I almost failed a course I took from him last time because I used things he hadn&#39;t taught. He doesn&#39;t seem to have a problem with third-party libraries though).\r\n\r\n\r\nThe code:\r\n\r\n```\r\npublic class Main {\r\n    public static final List&lt;Order&gt; ordersList = read();\r\n    public static void main(String[] args) {\r\n        System.out.println(ordersList.get(0).getOrderType());\r\n        System.out.println(ordersList.get(0) instanceof DineIn ? &quot;DineIn&quot;: &quot;Delivery&quot;);\r\n    }\r\n\r\n    private static List&lt;Order&gt; read(){\r\n        List&lt;Order&gt; ordersList = new ArrayList&lt;&gt;();\r\n        Type type = new TypeToken&lt;ArrayList&lt;Order&gt;&gt;() {\r\n        }.getType();\r\n\r\n\r\n        RuntimeTypeAdapterFactory&lt;Order&gt; adapter = RuntimeTypeAdapterFactory.of(Order.class, &quot;orderType&quot;)\r\n                .registerSubtype(DineIn.class)\r\n                .registerSubtype(Delivery.class);\r\n\r\n        Gson gson = new GsonBuilder().registerTypeAdapterFactory(adapter).create();\r\n        JsonReader ordersJsonReader;\r\n        try {\r\n            ordersJsonReader = new JsonReader(new FileReader(&quot;orders.json&quot;));\r\n            List&lt;Order&gt; tempOrdersList = gson.fromJson(ordersJsonReader, type);\r\n            if (tempOrdersList != null) ordersList = tempOrdersList;\r\n            ordersJsonReader.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return ordersList;\r\n    }\r\n}\r\n\r\nabstract class Order {\r\n    private final int orderNumber;\r\n    private final String date, customerName;\r\n    private final int discountRate;\r\n    private final String paymentMethod;\r\n    private String orderStatus;\r\n    private int grossTotal = 0;\r\n    private double netTotal = 0;\r\n    private int totalItems = 0;\r\n    protected final String orderType;\r\n\r\n    public abstract String getOrderType();\r\n    public abstract double getExtraCharges();\r\n\r\n    public Order(int orderNumber, String date, String customerName, int discountRate, String paymentMethod, String orderStatus, int grossTotal, double netTotal, int totalItems, String orderType) {\r\n        this.orderNumber = orderNumber;\r\n        this.date = date;\r\n        this.customerName = customerName;\r\n        this.discountRate = discountRate;\r\n        this.paymentMethod = paymentMethod;\r\n        this.orderStatus = orderStatus;\r\n        this.grossTotal = grossTotal;\r\n        this.netTotal = netTotal;\r\n        this.totalItems = totalItems;\r\n        this.orderType = orderType;\r\n    }\r\n}\r\n\r\nclass DineIn extends Order {\r\n    private double serviceCharges = 150;\r\n\r\n    public DineIn(int orderNumber, String date, String customerName, int discountRate, String paymentMethod, String orderStatus, int grossTotal, double netTotal, int totalItems) {\r\n        super(orderNumber, date, customerName, discountRate, paymentMethod, orderStatus, grossTotal, netTotal, totalItems, &quot;DineIn&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getOrderType() {\r\n        return orderType;\r\n    }\r\n\r\n    @Override\r\n    public double getExtraCharges() {\r\n        return serviceCharges;\r\n    }\r\n}\r\n\r\nclass Delivery extends Order {\r\n    private double deliveryCharges = 100;\r\n\r\n    public Delivery(int orderNumber, String date, String customerName, int discountRate, String paymentMethod, String orderStatus, int grossTotal, double netTotal, int totalItems) {\r\n        super(orderNumber, date, customerName, discountRate, paymentMethod, orderStatus, grossTotal, netTotal, totalItems, &quot;Delivery&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getOrderType() {\r\n        return orderType;\r\n    }\r\n\r\n    @Override\r\n    public double getExtraCharges() {\r\n        return deliveryCharges;\r\n    }\r\n}\r\n```\r\n\r\nThe JSON:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;serviceCharges&quot;: 150.0,\r\n    &quot;orderNumber&quot;: 1,\r\n    &quot;date&quot;: &quot;12/12/2021&quot;,\r\n    &quot;customerName&quot;: &quot;Ali&quot;,\r\n    &quot;discountRate&quot;: 15,\r\n    &quot;paymentMethod&quot;: &quot;Card&quot;,\r\n    &quot;orderStatus&quot;: &quot;Preparing&quot;,\r\n    &quot;grossTotal&quot;: 5000,\r\n    &quot;netTotal&quot;: 4500.0,\r\n    &quot;totalItems&quot;: 14,\r\n    &quot;orderType&quot;: &quot;DineIn&quot;\r\n  }\r\n]\r\n```","title":"gson deserializing a field as null","body":"<p>First of all, I'd like to say this is for a university project.</p>\n<p>I have 3 classes. <code>Order</code> abstract class and <code>Delivery</code> and <code>DineIn</code> classes which inherits from Order.</p>\n<p>I am using Gson to serialize/deserialize the child classes but I have run into a bit of a problem. The Order class has a field <code>orderType</code> which gson uses to determine type of order it is, DineIn or Delivery.</p>\n<p>Serialization is working just fine. The problem is that whenever I try to deserialize, the type field value is not read and is always set as null even though it is present in the JSON file.\nThis happens when there are a lot of fields in Order because when I tried testing this program on a smaller scale with the Order class just having 2 fields (orderType and orderNo) everything worked just fine. I don't what I am doing wrong. I have tried searching on this site and am almost always coming across suggestions to make custom type adapters and serializers but we haven't studied about them in university and I don't want to use them (the instructor deducts marks for using anything he hasn't taught, I almost failed a course I took from him last time because I used things he hadn't taught. He doesn't seem to have a problem with third-party libraries though).</p>\n<p>The code:</p>\n<pre><code>public class Main {\n    public static final List&lt;Order&gt; ordersList = read();\n    public static void main(String[] args) {\n        System.out.println(ordersList.get(0).getOrderType());\n        System.out.println(ordersList.get(0) instanceof DineIn ? &quot;DineIn&quot;: &quot;Delivery&quot;);\n    }\n\n    private static List&lt;Order&gt; read(){\n        List&lt;Order&gt; ordersList = new ArrayList&lt;&gt;();\n        Type type = new TypeToken&lt;ArrayList&lt;Order&gt;&gt;() {\n        }.getType();\n\n\n        RuntimeTypeAdapterFactory&lt;Order&gt; adapter = RuntimeTypeAdapterFactory.of(Order.class, &quot;orderType&quot;)\n                .registerSubtype(DineIn.class)\n                .registerSubtype(Delivery.class);\n\n        Gson gson = new GsonBuilder().registerTypeAdapterFactory(adapter).create();\n        JsonReader ordersJsonReader;\n        try {\n            ordersJsonReader = new JsonReader(new FileReader(&quot;orders.json&quot;));\n            List&lt;Order&gt; tempOrdersList = gson.fromJson(ordersJsonReader, type);\n            if (tempOrdersList != null) ordersList = tempOrdersList;\n            ordersJsonReader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return ordersList;\n    }\n}\n\nabstract class Order {\n    private final int orderNumber;\n    private final String date, customerName;\n    private final int discountRate;\n    private final String paymentMethod;\n    private String orderStatus;\n    private int grossTotal = 0;\n    private double netTotal = 0;\n    private int totalItems = 0;\n    protected final String orderType;\n\n    public abstract String getOrderType();\n    public abstract double getExtraCharges();\n\n    public Order(int orderNumber, String date, String customerName, int discountRate, String paymentMethod, String orderStatus, int grossTotal, double netTotal, int totalItems, String orderType) {\n        this.orderNumber = orderNumber;\n        this.date = date;\n        this.customerName = customerName;\n        this.discountRate = discountRate;\n        this.paymentMethod = paymentMethod;\n        this.orderStatus = orderStatus;\n        this.grossTotal = grossTotal;\n        this.netTotal = netTotal;\n        this.totalItems = totalItems;\n        this.orderType = orderType;\n    }\n}\n\nclass DineIn extends Order {\n    private double serviceCharges = 150;\n\n    public DineIn(int orderNumber, String date, String customerName, int discountRate, String paymentMethod, String orderStatus, int grossTotal, double netTotal, int totalItems) {\n        super(orderNumber, date, customerName, discountRate, paymentMethod, orderStatus, grossTotal, netTotal, totalItems, &quot;DineIn&quot;);\n    }\n\n    @Override\n    public String getOrderType() {\n        return orderType;\n    }\n\n    @Override\n    public double getExtraCharges() {\n        return serviceCharges;\n    }\n}\n\nclass Delivery extends Order {\n    private double deliveryCharges = 100;\n\n    public Delivery(int orderNumber, String date, String customerName, int discountRate, String paymentMethod, String orderStatus, int grossTotal, double netTotal, int totalItems) {\n        super(orderNumber, date, customerName, discountRate, paymentMethod, orderStatus, grossTotal, netTotal, totalItems, &quot;Delivery&quot;);\n    }\n\n    @Override\n    public String getOrderType() {\n        return orderType;\n    }\n\n    @Override\n    public double getExtraCharges() {\n        return deliveryCharges;\n    }\n}\n</code></pre>\n<p>The JSON:</p>\n<pre><code>[\n  {\n    &quot;serviceCharges&quot;: 150.0,\n    &quot;orderNumber&quot;: 1,\n    &quot;date&quot;: &quot;12/12/2021&quot;,\n    &quot;customerName&quot;: &quot;Ali&quot;,\n    &quot;discountRate&quot;: 15,\n    &quot;paymentMethod&quot;: &quot;Card&quot;,\n    &quot;orderStatus&quot;: &quot;Preparing&quot;,\n    &quot;grossTotal&quot;: 5000,\n    &quot;netTotal&quot;: 4500.0,\n    &quot;totalItems&quot;: 14,\n    &quot;orderType&quot;: &quot;DineIn&quot;\n  }\n]\n</code></pre>\n"},{"tags":["java","android","android-cursor","android-loadermanager"],"comments":[{"owner":{"account_id":230367,"reputation":86964,"user_id":493939,"display_name":"user"},"score":1,"creation_date":1339219915,"post_id":10957252,"comment_id":14306063,"body_markdown":"You could always skip the `CursorLoader` and make the initial query + the expensive processing in the `AsyncTask`.","body":"You could always skip the <code>CursorLoader</code> and make the initial query + the expensive processing in the <code>AsyncTask</code>."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1400263063,"post_id":10957252,"comment_id":36421372,"body_markdown":"are you using this cursor for something else?","body":"are you using this cursor for something else?"}],"answers":[{"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339200633,"creation_date":1339200633,"answer_id":10957364,"question_id":10957252,"body_markdown":"&gt; Is it possible to somehow flag the cursor to prevent it from being closed from the UI thread?\r\n\r\nNo (well, not without re-writing the internal APIs).\r\n\r\n&gt; Is it possible to notify the manager that the cursor is still in use?\r\n\r\nSame answer as above.\r\n\r\n&gt; Is it possible to clone it so that the cloned instance doesn&#39;t get closed by the manager? \r\n\r\nThis sounds kind of messy... and there is still the chance that the `LoaderManager` closes the cursor before you are able to finish cloning it.\r\n\r\n&gt; Is there a better solution?\r\n\r\nYes. Query a new cursor instead of trying to reusing the one that you pass to the `LoaderManager`. ","title":"Using a Cursor returned from a LoaderManager in an AsyncTask","body":"<blockquote>\n  <p>Is it possible to somehow flag the cursor to prevent it from being closed from the UI thread?</p>\n</blockquote>\n\n<p>No (well, not without re-writing the internal APIs).</p>\n\n<blockquote>\n  <p>Is it possible to notify the manager that the cursor is still in use?</p>\n</blockquote>\n\n<p>Same answer as above.</p>\n\n<blockquote>\n  <p>Is it possible to clone it so that the cloned instance doesn't get closed by the manager? </p>\n</blockquote>\n\n<p>This sounds kind of messy... and there is still the chance that the <code>LoaderManager</code> closes the cursor before you are able to finish cloning it.</p>\n\n<blockquote>\n  <p>Is there a better solution?</p>\n</blockquote>\n\n<p>Yes. Query a new cursor instead of trying to reusing the one that you pass to the <code>LoaderManager</code>. </p>\n"},{"tags":[],"owner":{"account_id":1077468,"reputation":20907,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400263833,"creation_date":1400262764,"answer_id":23701666,"question_id":10957252,"body_markdown":"Man, I am facing the very same problem. The way is to cancel the asynctask in the activity&#39;s onDestroy method. \r\n\r\n\r\n\r\n    private YourAsyncTask asyncTask\r\n    \r\n    @Override\r\n    protected void onDestroy(){\r\n        super.onDestroy();\r\n        asyncTask.cancel(true);\r\n    }\r\n\r\n","title":"Using a Cursor returned from a LoaderManager in an AsyncTask","body":"<p>Man, I am facing the very same problem. The way is to cancel the asynctask in the activity's onDestroy method. </p>\n\n<pre><code>private YourAsyncTask asyncTask\n\n@Override\nprotected void onDestroy(){\n    super.onDestroy();\n    asyncTask.cancel(true);\n}\n</code></pre>\n"}],"owner":{"account_id":1179512,"reputation":788,"user_id":1154768,"display_name":"Luiz Scheidegger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1734,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1641390351,"creation_date":1339199348,"question_id":10957252,"body_markdown":"I have a cursor returned on an `onLoadFinished` callback (from `LoaderManager.LoaderCallbacks`), and I want to do some (possibly costly) post-processing on this cursor. So, I&#39;m firing off an `AsyncTask` that uses this Cursor. However, I&#39;m getting intermittent crashes with this exception:\r\n\r\n    android.database.StaleDataException: Attempted to access a cursor after it has been closed.\r\n\r\nMy suspicion is that this is happening because the cursor (being managed by the Loader in the UI Thread) is being closed before the background thread is finished with it, since this is a managed cursor. Here is some paraphrased code:\r\n\r\n    private class LoaderListener implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\r\n        @Override\r\n        public void onCreateLoader(int d, Bundle args) {\r\n            return new CursorLoader(context, uri, projection, selection, selectionArgs, sortOrder);\r\n        }\r\n\r\n        @Override\r\n        public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) {\r\n            processCursor(cursor)    \r\n        }\r\n    }\r\n\r\n    private void processCursor(final Cursor cursor) {\r\n        new AsyncTask&lt;Void, Void, Result&gt; {\r\n            @Override\r\n            Result doInBackground(Void... params) {\r\n                while(cursor.isAfterLast() == false) {\r\n                    // doing some costly things with cursor\r\n                }\r\n            }\r\n        }.execute();\r\n    }\r\n\r\nIs it possible to either,\r\n\r\n1. Somehow flag the cursor to prevent it from being closed from the UI thread.\r\n\r\n2. Notify the manager that the cursor is still in use. \r\n\r\n3. Clone it so that the cloned instance doesn&#39;t get closed by the manager.\r\n\r\n4. Another, even better, solution? \r\n\r\nHaving this post-processing done on the UI thread is absolutely not an option, however, as it can be very costly.","title":"Using a Cursor returned from a LoaderManager in an AsyncTask","body":"<p>I have a cursor returned on an <code>onLoadFinished</code> callback (from <code>LoaderManager.LoaderCallbacks</code>), and I want to do some (possibly costly) post-processing on this cursor. So, I'm firing off an <code>AsyncTask</code> that uses this Cursor. However, I'm getting intermittent crashes with this exception:</p>\n\n<pre><code>android.database.StaleDataException: Attempted to access a cursor after it has been closed.\n</code></pre>\n\n<p>My suspicion is that this is happening because the cursor (being managed by the Loader in the UI Thread) is being closed before the background thread is finished with it, since this is a managed cursor. Here is some paraphrased code:</p>\n\n<pre><code>private class LoaderListener implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n    @Override\n    public void onCreateLoader(int d, Bundle args) {\n        return new CursorLoader(context, uri, projection, selection, selectionArgs, sortOrder);\n    }\n\n    @Override\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) {\n        processCursor(cursor)    \n    }\n}\n\nprivate void processCursor(final Cursor cursor) {\n    new AsyncTask&lt;Void, Void, Result&gt; {\n        @Override\n        Result doInBackground(Void... params) {\n            while(cursor.isAfterLast() == false) {\n                // doing some costly things with cursor\n            }\n        }\n    }.execute();\n}\n</code></pre>\n\n<p>Is it possible to either,</p>\n\n<ol>\n<li><p>Somehow flag the cursor to prevent it from being closed from the UI thread.</p></li>\n<li><p>Notify the manager that the cursor is still in use. </p></li>\n<li><p>Clone it so that the cloned instance doesn't get closed by the manager.</p></li>\n<li><p>Another, even better, solution? </p></li>\n</ol>\n\n<p>Having this post-processing done on the UI thread is absolutely not an option, however, as it can be very costly.</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":19397489,"reputation":618,"user_id":14184848,"display_name":"amtrax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641389488,"creation_date":1641389488,"answer_id":70593726,"question_id":70593550,"body_markdown":"Try this:\r\n\r\n    android:cursorVisible=&quot;false&quot;","title":"How to hide the cursor when typing on android EditText?","body":"<p>Try this:</p>\n<pre><code>android:cursorVisible=&quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":19206689,"reputation":150,"user_id":14033398,"display_name":"Estevanbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641390364,"accepted_answer_id":70593726,"answer_count":1,"score":0,"last_activity_date":1641390241,"creation_date":1641388744,"question_id":70593550,"body_markdown":"I want to hide the cursor when user types on the EditText. How can I do it?\r\n\r\n[This cursor.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kedcc.jpg","title":"How to hide the cursor when typing on android EditText?","body":"<p>I want to hide the cursor when user types on the EditText. How can I do it?</p>\n<p><a href=\"https://i.stack.imgur.com/Kedcc.jpg\" rel=\"nofollow noreferrer\">This cursor.</a></p>\n"},{"tags":["javascript","java","gwt","richtextbox","text-cursor"],"answers":[{"tags":[],"owner":{"account_id":435947,"reputation":547,"user_id":822810,"accept_rate":32,"display_name":"vbjain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348577143,"creation_date":1348577143,"answer_id":12583248,"question_id":12549739,"body_markdown":"You are right RichTextArea is not providing the setSelectionRange method, but i have created one using the JSNI.\r\n\r\nBelow is the method,\r\n\r\n    public native void setSelectionRange(Element elem, int pos, int length) /*-{\r\n\t\ttry {\r\n\t\t\tvar selection = null, range2 = null;\r\n\t\t\tvar iframeWindow = elem.contentWindow;\r\n\t\t\tvar iframeDocument = iframeWindow.document;\r\n\r\n\t\t\tselection = iframeWindow.getSelection();\r\n\t\t\trange2 = selection.getRangeAt(0);\r\n\r\n\t\t\t//create new range\r\n\t\t\tvar range = iframeDocument.createRange();\r\n\t\t\trange.setStart(selection.anchorNode, pos);\r\n\t\t\trange.setEnd(selection.anchorNode, length);\r\n\r\n\t\t\t//remove the old range and add the newly created range\r\n\t\t\tif (selection.removeRange) { // Firefox, Opera, IE after version 9\r\n\t\t\t\tselection.removeRange(range2);\r\n\t\t\t} else {\r\n\t\t\t\tif (selection.removeAllRanges) { // Safari, Google Chrome\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tselection.addRange(range);\r\n\t\t} catch (e) {\r\n\t\t\t$wnd.alert(e);\r\n\t\t}\r\n\t}-*/;\r\n\r\nFor using above method write below code:\r\n\r\n    final RichTextArea tr = new RichTextArea();\r\n\t\tButton b = new Button(&quot;Test&quot;);\r\n\t\tb.addClickHandler(new ClickHandler() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(ClickEvent event) {\r\n\t\t\t\tsetSelectionRange(tr.getElement(), 15, 20);\r\n\t\t\t\ttr.setFocus(true);\r\n\t\t\t}\r\n\t\t});\r\n\t\tRootPanel.get().add(tr);\r\n\t\tRootPanel.get().add(b);\r\n\r\nNote: Do remember to put the validation checks of &quot;pos&quot; and &quot;length&quot; you are passing in setSelectionRange() method.\r\nThis code had been tested in IE9, FF, Chrome. \r\n\r\n","title":"How to setcursor position in GWT RichTextArea","body":"<p>You are right RichTextArea is not providing the setSelectionRange method, but i have created one using the JSNI.</p>\n\n<p>Below is the method,</p>\n\n<pre><code>public native void setSelectionRange(Element elem, int pos, int length) /*-{\n    try {\n        var selection = null, range2 = null;\n        var iframeWindow = elem.contentWindow;\n        var iframeDocument = iframeWindow.document;\n\n        selection = iframeWindow.getSelection();\n        range2 = selection.getRangeAt(0);\n\n        //create new range\n        var range = iframeDocument.createRange();\n        range.setStart(selection.anchorNode, pos);\n        range.setEnd(selection.anchorNode, length);\n\n        //remove the old range and add the newly created range\n        if (selection.removeRange) { // Firefox, Opera, IE after version 9\n            selection.removeRange(range2);\n        } else {\n            if (selection.removeAllRanges) { // Safari, Google Chrome\n                selection.removeAllRanges();\n            }\n        }\n        selection.addRange(range);\n    } catch (e) {\n        $wnd.alert(e);\n    }\n}-*/;\n</code></pre>\n\n<p>For using above method write below code:</p>\n\n<pre><code>final RichTextArea tr = new RichTextArea();\n    Button b = new Button(\"Test\");\n    b.addClickHandler(new ClickHandler() {\n\n        @Override\n        public void onClick(ClickEvent event) {\n            setSelectionRange(tr.getElement(), 15, 20);\n            tr.setFocus(true);\n        }\n    });\n    RootPanel.get().add(tr);\n    RootPanel.get().add(b);\n</code></pre>\n\n<p>Note: Do remember to put the validation checks of \"pos\" and \"length\" you are passing in setSelectionRange() method.\nThis code had been tested in IE9, FF, Chrome. </p>\n"},{"tags":[],"owner":{"account_id":2659489,"reputation":31,"user_id":2299500,"display_name":"Tim Hill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480364278,"creation_date":1402524174,"answer_id":24173346,"question_id":12549739,"body_markdown":"Not sure if this is still required, but I have been trying to get this working all day and have finally managed to hack my way to a solution. This has only been tested in Chrome/Safari. Hope it helps someone.\r\n\r\n    public static native void setCursor(Element elem, int pos, int length) /*-{\r\n\t\tvar node = elem.contentWindow.document.body;\r\n\t\tvar range = elem.contentWindow.getSelection().getRangeAt(0);\r\n\r\n\t\tvar treeWalker = $doc.createTreeWalker(node, NodeFilter.SHOW_TEXT, function(node) {\r\n\t\t\tvar nodeRange = $doc.createRange();\r\n\t\t\tnodeRange.selectNodeContents(node);\r\n\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t});\r\n\r\n\t\tvar charCount = 0;\r\n\t\twhile (treeWalker.nextNode()) {\r\n\t\t\tif (charCount + treeWalker.currentNode.length &gt; pos)\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcharCount += treeWalker.currentNode.length;\r\n\t\t}\r\n\r\n\t\tvar newRange = elem.contentWindow.document.createRange();\r\n\t\tnewRange.setStart(treeWalker.currentNode, 1);\r\n\t\tnewRange.setEnd(treeWalker.currentNode, 1);\r\n\r\n\t\tvar selection = elem.contentWindow.getSelection();\r\n\r\n\t\tif (selection.removeRange) { // Firefox, Opera, IE after version 9\r\n\t\t\tselection.removeRange(range);\r\n\t\t} else if (selection.removeAllRanges) { // Safari, Google Chrome\r\n\t\t\tselection.removeAllRanges();\r\n\t\t}\r\n\r\n\t\tselection.addRange(newRange);\r\n\t}-*/;\r\n\r\nThis code was edited on November 28, 2016 to correct for minor syntax errors.","title":"How to setcursor position in GWT RichTextArea","body":"<p>Not sure if this is still required, but I have been trying to get this working all day and have finally managed to hack my way to a solution. This has only been tested in Chrome/Safari. Hope it helps someone.</p>\n\n<pre><code>public static native void setCursor(Element elem, int pos, int length) /*-{\n    var node = elem.contentWindow.document.body;\n    var range = elem.contentWindow.getSelection().getRangeAt(0);\n\n    var treeWalker = $doc.createTreeWalker(node, NodeFilter.SHOW_TEXT, function(node) {\n        var nodeRange = $doc.createRange();\n        nodeRange.selectNodeContents(node);\n        return NodeFilter.FILTER_ACCEPT;\n    });\n\n    var charCount = 0;\n    while (treeWalker.nextNode()) {\n        if (charCount + treeWalker.currentNode.length &gt; pos)\n            break;\n\n        charCount += treeWalker.currentNode.length;\n    }\n\n    var newRange = elem.contentWindow.document.createRange();\n    newRange.setStart(treeWalker.currentNode, 1);\n    newRange.setEnd(treeWalker.currentNode, 1);\n\n    var selection = elem.contentWindow.getSelection();\n\n    if (selection.removeRange) { // Firefox, Opera, IE after version 9\n        selection.removeRange(range);\n    } else if (selection.removeAllRanges) { // Safari, Google Chrome\n        selection.removeAllRanges();\n    }\n\n    selection.addRange(newRange);\n}-*/;\n</code></pre>\n\n<p>This code was edited on November 28, 2016 to correct for minor syntax errors.</p>\n"}],"owner":{"account_id":1778365,"reputation":367,"user_id":1621657,"accept_rate":45,"display_name":"Nitish Borade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":12583248,"answer_count":2,"score":6,"last_activity_date":1641389827,"creation_date":1348374480,"question_id":12549739,"body_markdown":"Is there a way to set the cusror position in GWT RichTextArea. There is method setCusrorPosition() to do so in TextArea, but not in RichTextArea.\r\n\r\nPerhaps there is a native JavaScript (called from GWT) that could set the cursor position in the RichTextArea?","title":"How to setcursor position in GWT RichTextArea","body":"<p>Is there a way to set the cusror position in GWT RichTextArea. There is method setCusrorPosition() to do so in TextArea, but not in RichTextArea.</p>\n<p>Perhaps there is a native JavaScript (called from GWT) that could set the cursor position in the RichTextArea?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":2,"creation_date":1445845428,"post_id":33340725,"comment_id":54477232,"body_markdown":"Where is your codes ?","body":"Where is your codes ?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1445845506,"post_id":33340725,"comment_id":54477259,"body_markdown":"Try using [`String.length()`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29) and [`String.substring(begin, end)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring%28int,%20int%29). Then read a book about Java, because this is very basic string manipulation, so pretty much any book on Java would cover it.","body":"Try using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29\" rel=\"nofollow noreferrer\"><code>String.length()</code></a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring%28int,%20int%29\" rel=\"nofollow noreferrer\"><code>String.substring(begin, end)</code></a>. Then read a book about Java, because this is very basic string manipulation, so pretty much any book on Java would cover it."}],"answers":[{"tags":[],"owner":{"account_id":5680786,"reputation":60,"user_id":4492081,"display_name":"34638a"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445845695,"creation_date":1445845695,"answer_id":33340825,"question_id":33340725,"body_markdown":"it is literally this\r\n\r\n    String s = sourceString.substring(/*Position to substring from*/ 0);","title":"How to substring in java based on length?","body":"<p>it is literally this</p>\n\n<pre><code>String s = sourceString.substring(/*Position to substring from*/ 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641389774,"creation_date":1445846183,"answer_id":33340924,"question_id":33340725,"body_markdown":"Try this:\r\n\r\n    trimmed = str.substring(Math.max(0, str.length() - 4000));\r\n\r\n(Bonus points if you can figure out what it is doing :-) )\r\n\r\nHowever, note that this trims `str` to at most 4000 **characters**.  Trimming a Java string to a given number of bytes makes no sense unless you specify the character encoding.  And even if you do, it is a bit gnarly ... for variable length encodings such as UTF-8.\r\n\r\nAnd it is worth noting that this can fail if your string contains Unicode codepoints outside of plane 0.\r\n\r\n","title":"How to substring in java based on length?","body":"<p>Try this:</p>\n<pre><code>trimmed = str.substring(Math.max(0, str.length() - 4000));\n</code></pre>\n<p>(Bonus points if you can figure out what it is doing :-) )</p>\n<p>However, note that this trims <code>str</code> to at most 4000 <strong>characters</strong>.  Trimming a Java string to a given number of bytes makes no sense unless you specify the character encoding.  And even if you do, it is a bit gnarly ... for variable length encodings such as UTF-8.</p>\n<p>And it is worth noting that this can fail if your string contains Unicode codepoints outside of plane 0.</p>\n"}],"owner":{"account_id":5806688,"reputation":349,"user_id":4579100,"accept_rate":0,"display_name":"prasad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2364,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1641389774,"creation_date":1445845341,"question_id":33340725,"body_markdown":"I want to substring(starting chars) a string in java based on length.\r\nfor example if string1 is greater than 4000 bytes I want make that string into less than or equal to 4000 bytes string .(starting chars need to be trimmed not last chars) \r\n ","title":"How to substring in java based on length?","body":"<p>I want to substring(starting chars) a string in java based on length.\nfor example if string1 is greater than 4000 bytes I want make that string into less than or equal to 4000 bytes string .(starting chars need to be trimmed not last chars) </p>\n"},{"tags":["java","unit-testing","enums","mockito","final"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1462447241,"post_id":37049218,"comment_id":61646024,"body_markdown":"Are you *sure* you need to mock `PersonStatus` ? Couldn&#39;t you just use the actual instances?","body":"Are you <i>sure</i> you need to mock <code>PersonStatus</code> ? Couldn&#39;t you just use the actual instances?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1462447258,"post_id":37049218,"comment_id":61646040,"body_markdown":"I don&#39;t think you want to mock the enum - you want to pass various values of the enum in your test and check that the result is as expected.","body":"I don&#39;t think you want to mock the enum - you want to pass various values of the enum in your test and check that the result is as expected."},{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1462447323,"post_id":37049218,"comment_id":61646081,"body_markdown":"@assylias please provide answer showing how to do so","body":"@assylias please provide answer showing how to do so"},{"owner":{"account_id":3251604,"reputation":1437,"user_id":2741693,"accept_rate":100,"display_name":"Hiren"},"score":0,"creation_date":1462447398,"post_id":37049218,"comment_id":61646123,"body_markdown":"why you want to mock enum?","body":"why you want to mock enum?"},{"owner":{"account_id":3251604,"reputation":1437,"user_id":2741693,"accept_rate":100,"display_name":"Hiren"},"score":1,"creation_date":1462447536,"post_id":37049218,"comment_id":61646210,"body_markdown":"you need to simply pass parameter like `PersonStatus.WORKING` or `PersonStatus.SICK`. whichever it is and then check it with your expected result.","body":"you need to simply pass parameter like <code>PersonStatus.WORKING</code> or <code>PersonStatus.SICK</code>. whichever it is and then check it with your expected result."},{"owner":{"account_id":4360493,"reputation":2594,"user_id":3557748,"accept_rate":92,"display_name":"Sapikelio"},"score":0,"creation_date":1462458645,"post_id":37049218,"comment_id":61653592,"body_markdown":"What a coincidence! I&#39;ve solved the same problem \nfive minutes ago, by changing mockito version from 1.8.1 to 1.9.5. I hope it helps you.","body":"What a coincidence! I&#39;ve solved the same problem  five minutes ago, by changing mockito version from 1.8.1 to 1.9.5. I hope it helps you."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1673532448,"post_id":37049218,"comment_id":132524005,"body_markdown":"Regarding the question whether you should mock an enum: if your code contains an enumeration where the items themselves do quickly change, it could be you want to mock the enum. So once again the &quot;it depends&quot; phrase comes into play :).","body":"Regarding the question whether you should mock an enum: if your code contains an enumeration where the items themselves do quickly change, it could be you want to mock the enum. So once again the &quot;it depends&quot; phrase comes into play :)."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1462450421,"creation_date":1462447722,"answer_id":37049436,"question_id":37049218,"body_markdown":"Your `testFindByStatus` is trying to assert that the `findByStatus` does not return null.\r\n\r\nIf the method works the same way regardless of the value of the `personStatus` param, just pass one of them:\r\n\r\n    @Test\r\n    public void testFindByStatus() throws ParseException {\r\n        List&lt;Person&gt; personlist = PersonRepository.findByStatus(WORKING);\r\n        assertThat(personlist, notNullValue());\r\n    }\r\n\r\nIf the behaviour may be different for the other possible values, you can test each of them:\r\n\r\n    @Test\r\n    public void testFindByStatus() throws ParseException {\r\n        for (PersonStatus status : PersonStatus.values()) {\r\n            List&lt;Person&gt; personlist = PersonRepository.findByStatus(status);\r\n            assertThat(personlist, notNullValue());\r\n        }\r\n    }\r\n","title":"Mocking an enum using Mockito?","body":"<p>Your <code>testFindByStatus</code> is trying to assert that the <code>findByStatus</code> does not return null.</p>\n\n<p>If the method works the same way regardless of the value of the <code>personStatus</code> param, just pass one of them:</p>\n\n<pre><code>@Test\npublic void testFindByStatus() throws ParseException {\n    List&lt;Person&gt; personlist = PersonRepository.findByStatus(WORKING);\n    assertThat(personlist, notNullValue());\n}\n</code></pre>\n\n<p>If the behaviour may be different for the other possible values, you can test each of them:</p>\n\n<pre><code>@Test\npublic void testFindByStatus() throws ParseException {\n    for (PersonStatus status : PersonStatus.values()) {\n        List&lt;Person&gt; personlist = PersonRepository.findByStatus(status);\n        assertThat(personlist, notNullValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1521040382,"creation_date":1506964048,"answer_id":46530300,"question_id":37049218,"body_markdown":"Just to complete the picture:\r\n\r\nThe latest version of Mockito 2 very well supports mocking of final classes. But you have to explicitly enable this new experimental feature first!\r\n\r\n( see [here][1] on how to do that - it boils down to add a file `mockito-extensions/org.mockito.plugins.MockMaker` to your classpath, containing the value `mock-maker-inline` ) \r\n\r\nBut of course: you only mock something if you have to. Your desire to mock Enum instances is most likely driven by  either not understanding that - or because you created hard to test code here. In that sense the real answer would be to look into ways that avoid this kind of mocking in the first place. \r\n\r\n\r\n  [1]: http://static.javadoc.io/org.mockito/mockito-core/2.15.0/org/mockito/Mockito.html#39","title":"Mocking an enum using Mockito?","body":"<p>Just to complete the picture:</p>\n\n<p>The latest version of Mockito 2 very well supports mocking of final classes. But you have to explicitly enable this new experimental feature first!</p>\n\n<p>( see <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.15.0/org/mockito/Mockito.html#39\" rel=\"noreferrer\">here</a> on how to do that - it boils down to add a file <code>mockito-extensions/org.mockito.plugins.MockMaker</code> to your classpath, containing the value <code>mock-maker-inline</code> ) </p>\n\n<p>But of course: you only mock something if you have to. Your desire to mock Enum instances is most likely driven by  either not understanding that - or because you created hard to test code here. In that sense the real answer would be to look into ways that avoid this kind of mocking in the first place. </p>\n"},{"tags":[],"owner":{"account_id":5733576,"reputation":61,"user_id":4528409,"display_name":"Mattia Moretta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641389572,"creation_date":1641389572,"answer_id":70593736,"question_id":37049218,"body_markdown":"As already mentioned, using Mockito 2 and enabling experimental features.\r\n\r\nWhat is actually missing, is an example snippet to demonstrate how.\r\nConsidering an enum called `LicenseHistoryAction` with 4 already existing values, this will properly mock an `UNSUPPORTED` one:\r\n\r\n```\r\ntry (MockedStatic&lt;LicenseHistoryAction&gt; licenseHistoryActionMockedStatic = Mockito.mockStatic(LicenseHistoryAction.class)) {\r\n\tfinal LicenseHistoryAction UNSUPPORTED = Mockito.mock(LicenseHistoryAction.class);\r\n\tMockito.doReturn(4).when(UNSUPPORTED).ordinal();\r\n\r\n\tlicenseHistoryActionMockedStatic.when(LicenseHistoryAction::values)\r\n\t\t\t.thenReturn(new LicenseHistoryAction[]{\r\n\t\t\t\t\tLicenseHistoryAction.ASSIGN,\r\n\t\t\t\t\tLicenseHistoryAction.RELEASE,\r\n\t\t\t\t\tLicenseHistoryAction.UNBIND,\r\n\t\t\t\t\tLicenseHistoryAction.DENY,\r\n\t\t\t\t\tUNSUPPORTED});\r\n}\r\n```\r\n\r\n","title":"Mocking an enum using Mockito?","body":"<p>As already mentioned, using Mockito 2 and enabling experimental features.</p>\n<p>What is actually missing, is an example snippet to demonstrate how.\nConsidering an enum called <code>LicenseHistoryAction</code> with 4 already existing values, this will properly mock an <code>UNSUPPORTED</code> one:</p>\n<pre><code>try (MockedStatic&lt;LicenseHistoryAction&gt; licenseHistoryActionMockedStatic = Mockito.mockStatic(LicenseHistoryAction.class)) {\n    final LicenseHistoryAction UNSUPPORTED = Mockito.mock(LicenseHistoryAction.class);\n    Mockito.doReturn(4).when(UNSUPPORTED).ordinal();\n\n    licenseHistoryActionMockedStatic.when(LicenseHistoryAction::values)\n            .thenReturn(new LicenseHistoryAction[]{\n                    LicenseHistoryAction.ASSIGN,\n                    LicenseHistoryAction.RELEASE,\n                    LicenseHistoryAction.UNBIND,\n                    LicenseHistoryAction.DENY,\n                    UNSUPPORTED});\n}\n</code></pre>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73003,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":37049436,"answer_count":3,"score":15,"last_activity_date":1641389572,"creation_date":1462447047,"question_id":37049218,"body_markdown":"I need to mock the following enum:\r\n\r\n    public enum PersonStatus\r\n    {\r\n        WORKING,\r\n        HOLIDAY,\r\n    \tSICK      \r\n    }\r\n\r\nThis is because it is used in the following class that I am testing:\r\n\r\n**Class under test:**\r\n\r\n    public interface PersonRepository extends CrudRepository&lt;Person, Integer&gt;\r\n    {\r\n        List&lt;Person&gt; findByStatus(PersonStatus personStatus);\r\n    }\r\n\r\nHere is my current test attempt:\r\n\r\n**Current test:**\r\n\r\n    public class PersonRepositoryTest {\r\n    \r\n        private final Logger LOGGER = LoggerFactory.getLogger(PersonRepositoryTest.class);\r\n    \r\n        //Mock the PersonRepository class\r\n        @Mock\r\n        private PersonRepository PersonRepository;\r\n    \r\n        @Mock\r\n        private PersonStatus personStatus;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n        \r\n            MockitoAnnotations.initMocks(this);\r\n            assertThat(PersonRepository, notNullValue());\r\n            assertThat(PersonStatus, notNullValue());\r\n        }\r\n    \r\n        @Test\r\n        public void testFindByStatus() throws ParseException {\r\n    \r\n            List&lt;Person&gt; personlist = PersonRepository.findByStatus(personStatus);\r\n            assertThat(personlist, notNullValue());\r\n        }\r\n    }\r\n\r\nWhich Gives following error:\r\n\r\n**error:**\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Cannot mock/spy class PersonStatus\r\n    Mockito cannot mock/spy following:\r\n      - final classes\r\n      - anonymous classes\r\n      - primitive types\r\n\r\n  \r\nHow can I solve this?\r\n\r\n","title":"Mocking an enum using Mockito?","body":"<p>I need to mock the following enum:</p>\n\n<pre><code>public enum PersonStatus\n{\n    WORKING,\n    HOLIDAY,\n    SICK      \n}\n</code></pre>\n\n<p>This is because it is used in the following class that I am testing:</p>\n\n<p><strong>Class under test:</strong></p>\n\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, Integer&gt;\n{\n    List&lt;Person&gt; findByStatus(PersonStatus personStatus);\n}\n</code></pre>\n\n<p>Here is my current test attempt:</p>\n\n<p><strong>Current test:</strong></p>\n\n<pre><code>public class PersonRepositoryTest {\n\n    private final Logger LOGGER = LoggerFactory.getLogger(PersonRepositoryTest.class);\n\n    //Mock the PersonRepository class\n    @Mock\n    private PersonRepository PersonRepository;\n\n    @Mock\n    private PersonStatus personStatus;\n\n    @Before\n    public void setUp() throws Exception {\n\n        MockitoAnnotations.initMocks(this);\n        assertThat(PersonRepository, notNullValue());\n        assertThat(PersonStatus, notNullValue());\n    }\n\n    @Test\n    public void testFindByStatus() throws ParseException {\n\n        List&lt;Person&gt; personlist = PersonRepository.findByStatus(personStatus);\n        assertThat(personlist, notNullValue());\n    }\n}\n</code></pre>\n\n<p>Which Gives following error:</p>\n\n<p><strong>error:</strong></p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nCannot mock/spy class PersonStatus\nMockito cannot mock/spy following:\n  - final classes\n  - anonymous classes\n  - primitive types\n</code></pre>\n\n<p>How can I solve this?</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1639824135,"post_id":70027146,"comment_id":124450323,"body_markdown":"Not possible. Once you run the query, it cannot be stoped","body":"Not possible. Once you run the query, it cannot be stoped"}],"answers":[{"tags":[],"owner":{"account_id":1904407,"reputation":2121,"user_id":1719569,"display_name":"Saljack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641388998,"creation_date":1641388998,"answer_id":70593609,"question_id":70027146,"body_markdown":"You cannot do it atomically but you can use `limit` which reduces it.\r\n```java\r\nreturn mongoTemplate.find(myQuery.limit(1000), Document::class.java)\r\n```","title":"Return result when count is below given value in spring mongodb","body":"<p>You cannot do it atomically but you can use <code>limit</code> which reduces it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return mongoTemplate.find(myQuery.limit(1000), Document::class.java)\n</code></pre>\n"}],"owner":{"account_id":10306117,"reputation":1,"user_id":7603309,"display_name":"arturk9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641388998,"creation_date":1637272024,"question_id":70027146,"body_markdown":"I am relatively new to mongodb and spring data. \r\n\r\nI am looking for a way to perform operation below in thread-safe manner. In implementation below, it is possible that result set will exceed 1000 after if statement is executed and just before result is queried.\r\n\r\nHow do I perform such operation atomically?\r\n\r\n\r\n    if (mongoTemplate.count(myQuery, Document.class) &gt; 1000) {\r\n        throw new ResultSetTooLargeException()\r\n    }\r\n\r\n    return mongoTemplate.find(myQuery, Document::class.java)","title":"Return result when count is below given value in spring mongodb","body":"<p>I am relatively new to mongodb and spring data.</p>\n<p>I am looking for a way to perform operation below in thread-safe manner. In implementation below, it is possible that result set will exceed 1000 after if statement is executed and just before result is queried.</p>\n<p>How do I perform such operation atomically?</p>\n<pre><code>if (mongoTemplate.count(myQuery, Document.class) &gt; 1000) {\n    throw new ResultSetTooLargeException()\n}\n\nreturn mongoTemplate.find(myQuery, Document::class.java)\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1641360051,"post_id":70583065,"comment_id":124782073,"body_markdown":"`commit()` your editor before do `apply()`","body":"<code>commit()</code> your editor before do <code>apply()</code>"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1641386939,"post_id":70583065,"comment_id":124790531,"body_markdown":"Glad to hear this! :-)","body":"Glad to hear this! :-)"}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641388603,"creation_date":1641388603,"answer_id":70593518,"question_id":70583065,"body_markdown":"`commit()` your `editor` before do `apply()`\r\n\r\n \r\n   \r\n\r\n     if(scoreToUpdate &gt; correct){\r\n            correct = scoreToUpdate;\r\n            SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n            editor.putInt(CORRECT,correct);\r\n            editor.commit(); //insert here\r\n            editor.apply();\r\n            }\r\n\r\n        private void updateWrongAnswer(int scoreToUpdate){\r\n            if(scoreToUpdate &gt; wrong) {\r\n                wrong = scoreToUpdate;\r\n                SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.putInt(WRONG,wrong);\r\n                editor.commit();  //insert here\r\n                editor.apply();\r\n            }\r\n        }","title":"The Highscore wont save","body":"<p><code>commit()</code> your <code>editor</code> before do <code>apply()</code></p>\n<pre><code> if(scoreToUpdate &gt; correct){\n        correct = scoreToUpdate;\n        SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putInt(CORRECT,correct);\n        editor.commit(); //insert here\n        editor.apply();\n        }\n\n    private void updateWrongAnswer(int scoreToUpdate){\n        if(scoreToUpdate &gt; wrong) {\n            wrong = scoreToUpdate;\n            SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\n            SharedPreferences.Editor editor = sharedPreferences.edit();\n            editor.putInt(WRONG,wrong);\n            editor.commit();  //insert here\n            editor.apply();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21529665,"reputation":3,"user_id":15869316,"display_name":"Blackpink is the Best"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70593518,"answer_count":1,"score":0,"last_activity_date":1641388603,"creation_date":1641318776,"question_id":70583065,"body_markdown":"\r\n**Hope you will help me. When  run the app It was working, but then when, I run it again it is not working and theres no error to be found. I dont know why, but sometimes it work but sometimes it not working.  Here is my code....**\r\n\r\n&gt; public class filldisResult extends AppCompatActivity {\r\n&gt; \r\n&gt;     ImageView imghome;\r\n&gt;     TextView txtTotalQuesion, txtWrong, txtCorrect;\r\n&gt;     int totalQuestion, correct, wrong;\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;         public static final String SCOREPREFERENCE = &quot;shared_preference&quot;;\r\n&gt;         public static final String TOTALQUESTION = &quot;total_score_preference&quot;;\r\n&gt;         public static final String WRONG = &quot;wrong_preference&quot;;\r\n&gt;         public static final String CORRECT = &quot;correct_preference&quot;;\r\n&gt;     \r\n&gt;     @Override\r\n&gt;     protected void onCreate(Bundle savedInstanceState) {\r\n&gt;         super.onCreate(savedInstanceState);\r\n&gt;         setContentView(R.layout.activity_filldis_result);\r\n&gt; \r\n&gt;         imghome = findViewById(R.id.img_homeS);\r\n&gt; \r\n&gt;         txtCorrect = findViewById(R.id.txtCorrectQues);\r\n&gt;         txtWrong = findViewById(R.id.txtWrongQues);\r\n&gt;         txtTotalQuesion = findViewById(R.id.txtTotalQuestions);\r\n&gt; \r\n&gt;         loadHighScore();\r\n&gt;         updateCorrectAnswer(correct);\r\n&gt;         updateTotalScore(totalQuestion);\r\n&gt;         updateWrongAnswer(wrong);\r\n&gt; \r\n&gt;         imghome.setOnClickListener(new View.OnClickListener() {\r\n&gt;             @Override\r\n&gt;             public void onClick(View view) {\r\n&gt;                 Intent intent = new Intent(filldisResult.this, filldisPlayScreen.class);\r\n&gt;                 startActivity(intent);\r\n&gt;                 finish();\r\n&gt;             }\r\n&gt;         });\r\n&gt; \r\n&gt;     }\r\n&gt;     private void updateTotalScore(int scoreToUpdate){\r\n&gt; \r\n&gt;         if(scoreToUpdate &gt; totalQuestion){\r\n&gt; \r\n&gt;             totalQuestion = scoreToUpdate;\r\n&gt;    SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\r\n&gt;   SharedPreferences.Editor editor = sharedPreferences.edit();\r\n&gt;   editor.putInt(TOTALQUESTION,totalQuestion);\r\n&gt;   editor.apply();\r\n&gt;         }\r\n&gt;     }\r\n&gt;     private void updateCorrectAnswer(int scoreToUpdate){\r\n&gt; \r\n&gt;         if(scoreToUpdate &gt; correct){\r\n&gt; \r\n&gt;         correct = scoreToUpdate;\r\n&gt;         SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\r\n&gt;         SharedPreferences.Editor editor = sharedPreferences.edit();\r\n&gt;         editor.putInt(CORRECT,correct);\r\n&gt;         editor.apply();\r\n&gt;         }\r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt;     enter code here\r\n&gt;     private void updateWrongAnswer(int scoreToUpdate){\r\n&gt; \r\n&gt;         if(scoreToUpdate &gt; wrong){\r\n&gt; \r\n&gt;             wrong = scoreToUpdate;\r\n&gt;             SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\r\n&gt;             SharedPreferences.Editor editor = sharedPreferences.edit();\r\n&gt;             editor.putInt(WRONG,wrong);\r\n&gt;             editor.apply();\r\n&gt; \r\n&gt;         }\r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt;   \r\n&gt; \r\n&gt;    private void loadHighScore() {\r\n&gt; \r\n&gt;         SharedPreferences sharedPreferencesScore = getSharedPreferences(SCOREPREFERENCE, MODE_PRIVATE);\r\n&gt;          totalQuestion = sharedPreferencesScore.getInt(TOTALQUESTION, 0);\r\n&gt;          Log.i(&quot; Total Questions :&quot;, &quot; &quot; + totalQuestion);\r\n&gt;          txtTotalQuesion.setText(&quot;&quot; + totalQuestion);\r\n&gt; \r\n&gt; \r\n&gt;         SharedPreferences sharedPreferencesCorrect = getSharedPreferences(SCOREPREFERENCE, MODE_PRIVATE);\r\n&gt;         correct = sharedPreferencesCorrect.getInt(CORRECT, 0);\r\n&gt;         Log.i(&quot;Correct Answer :&quot;, &quot; &quot; + correct);\r\n&gt;         txtCorrect.setText(&quot;&quot; + correct);\r\n&gt; \r\n&gt; \r\n&gt;         SharedPreferences sharedPreferencesWrong = getSharedPreferences(SCOREPREFERENCE, MODE_PRIVATE);\r\n&gt;         wrong = sharedPreferencesWrong.getInt(WRONG, 0);\r\n&gt;         Log.i(&quot;Wrong Answer :&quot;, &quot; &quot; + wrong);\r\n&gt;         txtWrong.setText(&quot;&quot; + wrong);\r\n&gt; \r\n&gt; \r\n&gt;     } }\r\n\r\nmy xml...\r\n\r\n\r\n    \r\n\r\n&gt; &lt;LinearLayout\r\n\r\n    android:background=&quot;@drawable/background&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    tools:context=&quot;.filldisResult&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;35sp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:text=&quot;Score List&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:id=&quot;@+id/txtScoreText&quot;/&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;120dp&quot;\r\n        android:layout_marginEnd=&quot;30dp&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:textColor=&quot;#fff&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:text=&quot;Total Questions :&quot;\r\n                android:padding=&quot;10dp&quot;/&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:gravity=&quot;end&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:text=&quot;00&quot;\r\n                    android:id=&quot;@+id/txtTotalQuestions&quot;\r\n                    android:padding=&quot;10dp&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:textColor=&quot;#fff&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:text=&quot;Score :&quot;\r\n                android:padding=&quot;10dp&quot;/&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:gravity=&quot;end&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:text=&quot;00&quot;\r\n                    android:id=&quot;@+id/txtCorrectQues&quot;\r\n                    android:padding=&quot;10dp&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:textColor=&quot;#fff&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:text=&quot;Wrong Answer :&quot;\r\n                android:padding=&quot;10dp&quot;/&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:gravity=&quot;end&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:text=&quot;00&quot;\r\n                    android:id=&quot;@+id/txtWrongQues&quot;\r\n                    android:padding=&quot;10dp&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:layout_marginEnd=&quot;30dp&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;30dp&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:background=&quot;@drawable/button_bg_for_settings_and_score&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;24dp&quot;\r\n            android:id=&quot;@+id/img_homeS&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;24dp&quot;\r\n            app:srcCompat=&quot;@drawable/home&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            android:layout_weight=&quot;1&quot;/&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n","title":"The Highscore wont save","body":"<p><strong>Hope you will help me. When  run the app It was working, but then when, I run it again it is not working and theres no error to be found. I dont know why, but sometimes it work but sometimes it not working.  Here is my code....</strong></p>\n<blockquote>\n<p>public class filldisResult extends AppCompatActivity {</p>\n<pre><code>ImageView imghome;\nTextView txtTotalQuesion, txtWrong, txtCorrect;\nint totalQuestion, correct, wrong;\n\n\n\n\n    public static final String SCOREPREFERENCE = &quot;shared_preference&quot;;\n    public static final String TOTALQUESTION = &quot;total_score_preference&quot;;\n    public static final String WRONG = &quot;wrong_preference&quot;;\n    public static final String CORRECT = &quot;correct_preference&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_filldis_result);\n\n    imghome = findViewById(R.id.img_homeS);\n\n    txtCorrect = findViewById(R.id.txtCorrectQues);\n    txtWrong = findViewById(R.id.txtWrongQues);\n    txtTotalQuesion = findViewById(R.id.txtTotalQuestions);\n\n    loadHighScore();\n    updateCorrectAnswer(correct);\n    updateTotalScore(totalQuestion);\n    updateWrongAnswer(wrong);\n\n    imghome.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(filldisResult.this, filldisPlayScreen.class);\n            startActivity(intent);\n            finish();\n        }\n    });\n\n}\nprivate void updateTotalScore(int scoreToUpdate){\n\n    if(scoreToUpdate &gt; totalQuestion){\n\n        totalQuestion = scoreToUpdate;\n</code></pre>\n<p>SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\nSharedPreferences.Editor editor = sharedPreferences.edit();\neditor.putInt(TOTALQUESTION,totalQuestion);\neditor.apply();\n}\n}\nprivate void updateCorrectAnswer(int scoreToUpdate){</p>\n<pre><code>    if(scoreToUpdate &gt; correct){\n\n    correct = scoreToUpdate;\n    SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putInt(CORRECT,correct);\n    editor.apply();\n    }\n\n}\n\nenter code here\nprivate void updateWrongAnswer(int scoreToUpdate){\n\n    if(scoreToUpdate &gt; wrong){\n\n        wrong = scoreToUpdate;\n        SharedPreferences sharedPreferences = getSharedPreferences(SCOREPREFERENCE,MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putInt(WRONG,wrong);\n        editor.apply();\n\n    }\n\n}\n</code></pre>\n<p>private void loadHighScore() {</p>\n<pre><code>    SharedPreferences sharedPreferencesScore = getSharedPreferences(SCOREPREFERENCE, MODE_PRIVATE);\n     totalQuestion = sharedPreferencesScore.getInt(TOTALQUESTION, 0);\n     Log.i(&quot; Total Questions :&quot;, &quot; &quot; + totalQuestion);\n     txtTotalQuesion.setText(&quot;&quot; + totalQuestion);\n\n\n    SharedPreferences sharedPreferencesCorrect = getSharedPreferences(SCOREPREFERENCE, MODE_PRIVATE);\n    correct = sharedPreferencesCorrect.getInt(CORRECT, 0);\n    Log.i(&quot;Correct Answer :&quot;, &quot; &quot; + correct);\n    txtCorrect.setText(&quot;&quot; + correct);\n\n\n    SharedPreferences sharedPreferencesWrong = getSharedPreferences(SCOREPREFERENCE, MODE_PRIVATE);\n    wrong = sharedPreferencesWrong.getInt(WRONG, 0);\n    Log.i(&quot;Wrong Answer :&quot;, &quot; &quot; + wrong);\n    txtWrong.setText(&quot;&quot; + wrong);\n\n\n} }\n</code></pre>\n</blockquote>\n<p>my xml...</p>\n<blockquote>\n<p>&lt;LinearLayout</p>\n</blockquote>\n<pre><code>android:background=&quot;@drawable/background&quot;\nandroid:orientation=&quot;vertical&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_width=&quot;match_parent&quot;\ntools:context=&quot;.filldisResult&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;TextView\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:textColor=&quot;#fff&quot;\n    android:textSize=&quot;35sp&quot;\n    android:textAlignment=&quot;center&quot;\n    android:textStyle=&quot;bold&quot;\n    android:text=&quot;Score List&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:id=&quot;@+id/txtScoreText&quot;/&gt;\n\n\n&lt;LinearLayout\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_marginTop=&quot;120dp&quot;\n    android:layout_marginEnd=&quot;30dp&quot;\n    android:layout_marginStart=&quot;30dp&quot;&gt;\n    &lt;LinearLayout\n        android:orientation=&quot;horizontal&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:textColor=&quot;#fff&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textStyle=&quot;bold&quot;\n            android:text=&quot;Total Questions :&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:gravity=&quot;end&quot;&gt;\n\n            &lt;TextView\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:textColor=&quot;#fff&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textStyle=&quot;bold&quot;\n                android:text=&quot;00&quot;\n                android:id=&quot;@+id/txtTotalQuestions&quot;\n                android:padding=&quot;10dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;LinearLayout\n        android:orientation=&quot;horizontal&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:textColor=&quot;#fff&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textStyle=&quot;bold&quot;\n            android:text=&quot;Score :&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:gravity=&quot;end&quot;&gt;\n\n            &lt;TextView\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:textColor=&quot;#fff&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textStyle=&quot;bold&quot;\n                android:text=&quot;00&quot;\n                android:id=&quot;@+id/txtCorrectQues&quot;\n                android:padding=&quot;10dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;LinearLayout\n        android:orientation=&quot;horizontal&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:textColor=&quot;#fff&quot;\n            android:textSize=&quot;30sp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textStyle=&quot;bold&quot;\n            android:text=&quot;Wrong Answer :&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:gravity=&quot;end&quot;&gt;\n\n            &lt;TextView\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:textColor=&quot;#fff&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textStyle=&quot;bold&quot;\n                android:text=&quot;00&quot;\n                android:id=&quot;@+id/txtWrongQues&quot;\n                android:padding=&quot;10dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_marginTop=&quot;30dp&quot;\n    android:layout_marginEnd=&quot;30dp&quot;\n    android:layout_marginStart=&quot;30dp&quot;\n    android:padding=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;30dp&quot;&gt;\n\n    &lt;ImageView\n        android:background=&quot;@drawable/button_bg_for_settings_and_score&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:id=&quot;@+id/img_homeS&quot;\n        android:padding=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;24dp&quot;\n        app:srcCompat=&quot;@drawable/home&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:layout_weight=&quot;1&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n"},{"tags":["java","apache-kafka","kafka-producer-api","kafka-transactions-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641388270,"post_id":70589989,"comment_id":124791063,"body_markdown":"Why wouldn&#39;t it be expected? A non existing topic is not a fatal error and transactions are only bounded by one topic. If you want to atomically post to multiple topics, you&#39;ll probably need to chain callbacks","body":"Why wouldn&#39;t it be expected? A non existing topic is not a fatal error and transactions are only bounded by one topic. If you want to atomically post to multiple topics, you&#39;ll probably need to chain callbacks"}],"owner":{"account_id":13562333,"reputation":57,"user_id":9783590,"display_name":"Mehul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641388215,"creation_date":1641372361,"question_id":70589989,"body_markdown":"I am using Kafka Transactional producer to post atomically to 2 topics on a broker. My code looks similar to this:\r\n\r\n```\r\n Properties props = new Properties();\r\n props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n props.put(&quot;transactional.id&quot;, &quot;my-transactional-id&quot;);\r\n Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props, new StringSerializer(), new StringSerializer());\r\n \r\n ProducerRecord&lt;String, String&gt; record1 = new ProducerRecord(&quot;topic-1&quot;, null, (Object) null, payload, headerList);\r\n ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord(&quot;topic-2&quot;, null, (Object) null, payload, headerList);\r\n List&lt;ProducerRecord&lt;String, String&gt;&gt; recordList = Arrays.asList(record1, record2);\r\n\r\n producer.initTransactions();\r\n\r\n try {\r\n     producer.beginTransaction();\r\n     Iterator var2 = recordList.iterator();\r\n\r\n     while(var2.hasNext()) {\r\n         ProducerRecord&lt;K, V&gt; record = (ProducerRecord)var2.next();\r\n         this.send(record, (Callback)null);\r\n     }\r\n     \r\n     producer.commitTransaction();\r\n } catch (ProducerFencedException | OutOfOrderSequenceException | AuthorizationException e) {\r\n     // We can&#39;t recover from these exceptions, so our only option is to close the producer and exit.\r\n     producer.close();\r\n } catch (KafkaException e) {\r\n     // For all other exceptions, just abort the transaction and try again.\r\n     producer.abortTransaction();\r\n }\r\n producer.close();\r\n```\r\n\r\nNow, in order to test the atomicity while posting to both the topics, I deleted &quot;topic-2&quot;. I am expecting the transaction to fail completely. But strangely after several retries it commits transaction successfully to &quot;topic-1&quot;.\r\n\r\nAlso, I am seeing continuous error logs with messages:\r\n \r\n\r\n&gt; Error while fetching metadata with correlation id 123 :\r\n&gt; {topic-2=UNKNOWN_TOPIC_OR_PARTITION}\r\n\r\nBut eventually it says \r\n\r\n&gt; Transition from state IN_TRANSACTION to COMMITTING_TRANSACTION\r\n\r\nand then posts successfully to &quot;topic-1&quot;.\r\nI am not sure why am I seeing this behaviour. What would possibly go wrong and is this behaviour expected?","title":"Apache Kafka transactional producer does not honour atomicity while posting to 2 topics, if one topic goes down","body":"<p>I am using Kafka Transactional producer to post atomically to 2 topics on a broker. My code looks similar to this:</p>\n<pre><code> Properties props = new Properties();\n props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n props.put(&quot;transactional.id&quot;, &quot;my-transactional-id&quot;);\n Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props, new StringSerializer(), new StringSerializer());\n \n ProducerRecord&lt;String, String&gt; record1 = new ProducerRecord(&quot;topic-1&quot;, null, (Object) null, payload, headerList);\n ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord(&quot;topic-2&quot;, null, (Object) null, payload, headerList);\n List&lt;ProducerRecord&lt;String, String&gt;&gt; recordList = Arrays.asList(record1, record2);\n\n producer.initTransactions();\n\n try {\n     producer.beginTransaction();\n     Iterator var2 = recordList.iterator();\n\n     while(var2.hasNext()) {\n         ProducerRecord&lt;K, V&gt; record = (ProducerRecord)var2.next();\n         this.send(record, (Callback)null);\n     }\n     \n     producer.commitTransaction();\n } catch (ProducerFencedException | OutOfOrderSequenceException | AuthorizationException e) {\n     // We can't recover from these exceptions, so our only option is to close the producer and exit.\n     producer.close();\n } catch (KafkaException e) {\n     // For all other exceptions, just abort the transaction and try again.\n     producer.abortTransaction();\n }\n producer.close();\n</code></pre>\n<p>Now, in order to test the atomicity while posting to both the topics, I deleted &quot;topic-2&quot;. I am expecting the transaction to fail completely. But strangely after several retries it commits transaction successfully to &quot;topic-1&quot;.</p>\n<p>Also, I am seeing continuous error logs with messages:</p>\n<blockquote>\n<p>Error while fetching metadata with correlation id 123 :\n{topic-2=UNKNOWN_TOPIC_OR_PARTITION}</p>\n</blockquote>\n<p>But eventually it says</p>\n<blockquote>\n<p>Transition from state IN_TRANSACTION to COMMITTING_TRANSACTION</p>\n</blockquote>\n<p>and then posts successfully to &quot;topic-1&quot;.\nI am not sure why am I seeing this behaviour. What would possibly go wrong and is this behaviour expected?</p>\n"},{"tags":["java","spring-boot","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":21649356,"reputation":1690,"user_id":15970233,"display_name":"ShrutiJoshi-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641388182,"creation_date":1641388182,"answer_id":70593418,"question_id":70591765,"body_markdown":"On workaround try with following solutions\r\n\r\n**Solution 1):** \r\nTry with using the [**Listblobssegmented()**][1] method .\r\n\r\nthe `ListBlobsSegmented` include the  `maxResults` parameter.\r\n\r\n**maxResults**: A non-negative integer value that indicates the maximum number of results to be returned at a time, up to the per-operation limit of 5000. If this value is null, the maximum possible number of results will be returned, up to 5000.\r\n\r\n**Note: If more blobs are available, then you’ll get a continuation token which you can use to fetch next set of blobs. This continuation token can be found in element in response body.**\r\n\r\n\r\n**Solution 2:** try with this code pagination using java and the latest MS azure\r\n \r\n\r\n    Void listAllForContainer(BlobContainerClient container) {\r\n        String token = null;\r\n        do {\r\n            PagedResponse&lt;BlobItem&gt; pr = container\r\n                    .listBlobs(options, token, Duration.ofSeconds(60))\r\n                    .iterableByPage()\r\n                    .iterator()\r\n                    .next();\r\n    \r\n            token = pr.getContinuationToken();\r\n            List&lt;BlobItem&gt; pageItems = pr.getValue();\r\n            pageItems.forEach(i-&gt;System.out.println(i.getName()));\r\n    \r\n        } while (token != null);\r\n    }\r\n\r\nFor more details refer this **[SO Thread][2]**: \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.storage.blob.cloudblobdirectory.listblobssegmented?view=azure-java-legacy#com_microsoft_azure_storage_blob_CloudBlobDirectory_listBlobsSegmented__\r\n  [2]: https://stackoverflow.com/questions/43565661/azure-blob-list-paging","title":"BlobContainerClient - Azure Storage - Java SDK (12.14.2) - method listBlobs maxResults and pagination","body":"<p>On workaround try with following solutions</p>\n<p><strong>Solution 1):</strong>\nTry with using the <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.storage.blob.cloudblobdirectory.listblobssegmented?view=azure-java-legacy#com_microsoft_azure_storage_blob_CloudBlobDirectory_listBlobsSegmented__\" rel=\"nofollow noreferrer\"><strong>Listblobssegmented()</strong></a> method .</p>\n<p>the <code>ListBlobsSegmented</code> include the  <code>maxResults</code> parameter.</p>\n<p><strong>maxResults</strong>: A non-negative integer value that indicates the maximum number of results to be returned at a time, up to the per-operation limit of 5000. If this value is null, the maximum possible number of results will be returned, up to 5000.</p>\n<p><strong>Note: If more blobs are available, then you’ll get a continuation token which you can use to fetch next set of blobs. This continuation token can be found in element in response body.</strong></p>\n<p><strong>Solution 2:</strong> try with this code pagination using java and the latest MS azure</p>\n<pre><code>Void listAllForContainer(BlobContainerClient container) {\n    String token = null;\n    do {\n        PagedResponse&lt;BlobItem&gt; pr = container\n                .listBlobs(options, token, Duration.ofSeconds(60))\n                .iterableByPage()\n                .iterator()\n                .next();\n\n        token = pr.getContinuationToken();\n        List&lt;BlobItem&gt; pageItems = pr.getValue();\n        pageItems.forEach(i-&gt;System.out.println(i.getName()));\n\n    } while (token != null);\n}\n</code></pre>\n<p>For more details refer this <strong><a href=\"https://stackoverflow.com/questions/43565661/azure-blob-list-paging\">SO Thread</a></strong>:</p>\n"}],"owner":{"account_id":4547669,"reputation":362,"user_id":3693715,"display_name":"Jatish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641388182,"creation_date":1641380467,"question_id":70591765,"body_markdown":"Iterating over available blobs in the Azure storage via Java SDK (azure-spring-boot-starter-storage) doesn&#39;t work with the maxresults query param.\r\n\r\n    ListBlobsOptions listBlobsOptions= new ListBlobsOptions()\r\n        .setDetails(new BlobListDetails()\r\n            .setRetrieveDeletedBlobs(false)\r\n            .setRetrieveSnapshots(false))\r\n        .setMaxResultsPerPage(pageSize);\r\n\r\n    blobContainerClient.listBlobs(listBlobsOptions, continuationToken, Duration.ofSeconds(3));\r\n\r\n\r\nThe listBlobs methods works and return all the available **BlobItems as PagedIterable&lt;BlobItem&gt;**. Ideally, it should stop with the marker taking the maxresults query param passed in the request via setMaxResultsPerPage method.\r\n\r\nAutomatically a marker has been generated and a new request has been sent by SDK to fetch the next results. Finally, all the blobs available have been returned from Azure storage instead of paged blobs list.\r\n\r\n*E.g. request autocreated by SDK  GET{uri=/containername?restype=container&amp;comp=list&amp;marker=...&amp;maxresults=1*\r\n\r\nHow pagination will work using the Synchronous **BlobServiceClient**?","title":"BlobContainerClient - Azure Storage - Java SDK (12.14.2) - method listBlobs maxResults and pagination","body":"<p>Iterating over available blobs in the Azure storage via Java SDK (azure-spring-boot-starter-storage) doesn't work with the maxresults query param.</p>\n<pre><code>ListBlobsOptions listBlobsOptions= new ListBlobsOptions()\n    .setDetails(new BlobListDetails()\n        .setRetrieveDeletedBlobs(false)\n        .setRetrieveSnapshots(false))\n    .setMaxResultsPerPage(pageSize);\n\nblobContainerClient.listBlobs(listBlobsOptions, continuationToken, Duration.ofSeconds(3));\n</code></pre>\n<p>The listBlobs methods works and return all the available <strong>BlobItems as PagedIterable</strong>. Ideally, it should stop with the marker taking the maxresults query param passed in the request via setMaxResultsPerPage method.</p>\n<p>Automatically a marker has been generated and a new request has been sent by SDK to fetch the next results. Finally, all the blobs available have been returned from Azure storage instead of paged blobs list.</p>\n<p><em>E.g. request autocreated by SDK  GET{uri=/containername?restype=container&amp;comp=list&amp;marker=...&amp;maxresults=1</em></p>\n<p>How pagination will work using the Synchronous <strong>BlobServiceClient</strong>?</p>\n"},{"tags":["java","android","ssl"],"comments":[{"owner":{"account_id":1345332,"reputation":772,"user_id":1286216,"accept_rate":71,"display_name":"nighthawk"},"score":0,"creation_date":1641322599,"post_id":70501826,"comment_id":124774014,"body_markdown":"Does this answer your question? [Trust Anchor not found for Android SSL Connection](https://stackoverflow.com/questions/6825226/trust-anchor-not-found-for-android-ssl-connection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6825226/trust-anchor-not-found-for-android-ssl-connection\">Trust Anchor not found for Android SSL Connection</a>"}],"owner":{"account_id":23761814,"reputation":1,"user_id":17777099,"display_name":"JUAN PABLO ZAPATA MESA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641388179,"creation_date":1640653208,"question_id":70501826,"body_markdown":"I am trying to consume a service that is protected by an SSL certificate. For that, I did this implementation, but it throws this error\r\n\r\n&gt; java.security.cert.CertPathValidatorException: Trust anchor for\r\n&gt; certification path not found.\r\n\r\nI have the certificate in the Raw directory and it is a .pem file\r\n\r\nI am trying to identify the error but with no luck, this is my source code:\r\n\r\n    public OkHttpClient gereratSecureOkHttpClient(Context context) throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException, UnrecoverableKeyException, KeyManagementException {\r\n        OkHttpClient.Builder client = new OkHttpClient().newBuilder()\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .writeTimeout(60, TimeUnit.SECONDS);\r\n\r\n        InputStream caInput = context.getResources().openRawResource(R.raw.movilexitopruebas2021);\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        keyStore.load(caInput, &quot;Password&quot;.toCharArray());\r\n\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n        keyManagerFactory.init(keyStore, &quot;Password&quot;.toCharArray());\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), null, new SecureRandom());\r\n\r\n        return client\r\n                .sslSocketFactory(sslContext.getSocketFactory())\r\n                .build();\r\n    }\r\n\r\nI already invoke it this way:\r\n\r\n    Retrofit retrofit = null;\r\n    retrofit = new Retrofit.Builder()\r\n                            .baseUrl(BASE_URL)\r\n                            .addConverterFactory(GsonConverterFactory.create())\r\n                            .client(gereratSecureOkHttpClient(context))\r\n                            .build();","title":"How to solve &quot;java.security.cert.CertPathValidatorException: Trust anchor for certification path not found&quot; on Android","body":"<p>I am trying to consume a service that is protected by an SSL certificate. For that, I did this implementation, but it throws this error</p>\n<blockquote>\n<p>java.security.cert.CertPathValidatorException: Trust anchor for\ncertification path not found.</p>\n</blockquote>\n<p>I have the certificate in the Raw directory and it is a .pem file</p>\n<p>I am trying to identify the error but with no luck, this is my source code:</p>\n<pre><code>public OkHttpClient gereratSecureOkHttpClient(Context context) throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException, UnrecoverableKeyException, KeyManagementException {\n    OkHttpClient.Builder client = new OkHttpClient().newBuilder()\n            .readTimeout(60, TimeUnit.SECONDS)\n            .connectTimeout(60, TimeUnit.SECONDS)\n            .writeTimeout(60, TimeUnit.SECONDS);\n\n    InputStream caInput = context.getResources().openRawResource(R.raw.movilexitopruebas2021);\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    keyStore.load(caInput, &quot;Password&quot;.toCharArray());\n\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;X509&quot;);\n    keyManagerFactory.init(keyStore, &quot;Password&quot;.toCharArray());\n\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n    sslContext.init(keyManagerFactory.getKeyManagers(), null, new SecureRandom());\n\n    return client\n            .sslSocketFactory(sslContext.getSocketFactory())\n            .build();\n}\n</code></pre>\n<p>I already invoke it this way:</p>\n<pre><code>Retrofit retrofit = null;\nretrofit = new Retrofit.Builder()\n                        .baseUrl(BASE_URL)\n                        .addConverterFactory(GsonConverterFactory.create())\n                        .client(gereratSecureOkHttpClient(context))\n                        .build();\n</code></pre>\n"},{"tags":["java","android","android-permissions","file-storage"],"comments":[{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1641364910,"post_id":70588631,"comment_id":124782982,"body_markdown":"Does this answer your question? [Error: open failed: ENOENT (No such file or directory)](https://stackoverflow.com/questions/36088699/error-open-failed-enoent-no-such-file-or-directory)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36088699/error-open-failed-enoent-no-such-file-or-directory\">Error: open failed: ENOENT (No such file or directory)</a>"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":3,"creation_date":1641365191,"post_id":70588631,"comment_id":124783049,"body_markdown":"Does this answer your question? [Can&#39;t create directory in Android 10](https://stackoverflow.com/questions/58379543/cant-create-directory-in-android-10)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58379543/cant-create-directory-in-android-10\">Can&#39;t create directory in Android 10</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641367380,"post_id":70588631,"comment_id":124783536,"body_markdown":"`if(!folder.exists()) {\n             if(!   folder.mkdir()) return:\n            }` Display a Toast() too to unform the user.","body":"<code>if(!folder.exists()) {              if(!   folder.mkdir()) return:             }</code> Display a Toast() too to unform the user."}],"owner":{"account_id":23831613,"reputation":1,"user_id":17837812,"display_name":"Mohak Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641388018,"answer_count":0,"score":0,"last_activity_date":1641387987,"creation_date":1641364135,"question_id":70588631,"body_markdown":"I am making a notetaking app and I want to make a folder where all notes should be stored. I tried this, but it doesn&#39;t work:\r\n\r\n```java\r\npublic boolean checkPermission(String Permission){\r\n    int check = ContextCompat.checkSelfPermission(this,Permission);\r\n    return (check == PackageManager.PERMISSION_GRANTED);\r\n}\r\nprivate boolean isStorageWritable(){\r\n    return Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState());\r\n}\r\n\r\npublic void saveNote(View view) {\r\n    EditText TitleBox  = findViewById(R.id.titleText);\r\n    EditText NoteBox = findViewById(R.id.noteText);\r\n    String TitleText = TitleBox.getText().toString();\r\n    String NoteText = NoteBox.getText().toString();\r\n    if (isStorageWritable() &amp;&amp; checkPermission(WRITE_EXTERNAL_STORAGE)){\r\n        File folder = new File(Environment.getExternalStorageDirectory(),&quot;MyNotes&quot;);\r\n        if(!folder.exists()) {\r\n            folder.mkdir();\r\n        }\r\n        try {\r\n            File TextFile = new File(folder, NoteText+&quot;.txt&quot;);\r\n            FileOutputStream fos = new FileOutputStream(TextFile);\r\n            fos.write(NoteText.getBytes());\r\n            fos.close();\r\n\r\n            Toast.makeText(this, &quot;FILE SAVED&quot;, Toast.LENGTH_LONG).show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Toast.makeText(this, &quot;FILE COULD NOT BE SAVED&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlso my app asks permission in Android manifest\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nThis is the error I get:\r\n```none\r\n2022-01-05 11:56:06.236 28169-28169/com.antares_studio.mynotes W/System.err: java.io.FileNotFoundException: /storage/emulated/0/MyNotes/tsets.txt: open failed: ENOENT (No such file or directory)\r\n```","title":"Trying to make a folder in internal storage android","body":"<p>I am making a notetaking app and I want to make a folder where all notes should be stored. I tried this, but it doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean checkPermission(String Permission){\n    int check = ContextCompat.checkSelfPermission(this,Permission);\n    return (check == PackageManager.PERMISSION_GRANTED);\n}\nprivate boolean isStorageWritable(){\n    return Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState());\n}\n\npublic void saveNote(View view) {\n    EditText TitleBox  = findViewById(R.id.titleText);\n    EditText NoteBox = findViewById(R.id.noteText);\n    String TitleText = TitleBox.getText().toString();\n    String NoteText = NoteBox.getText().toString();\n    if (isStorageWritable() &amp;&amp; checkPermission(WRITE_EXTERNAL_STORAGE)){\n        File folder = new File(Environment.getExternalStorageDirectory(),&quot;MyNotes&quot;);\n        if(!folder.exists()) {\n            folder.mkdir();\n        }\n        try {\n            File TextFile = new File(folder, NoteText+&quot;.txt&quot;);\n            FileOutputStream fos = new FileOutputStream(TextFile);\n            fos.write(NoteText.getBytes());\n            fos.close();\n\n            Toast.makeText(this, &quot;FILE SAVED&quot;, Toast.LENGTH_LONG).show();\n        } catch (Exception e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;FILE COULD NOT BE SAVED&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n<p>Also my app asks permission in Android manifest</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>This is the error I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-01-05 11:56:06.236 28169-28169/com.antares_studio.mynotes W/System.err: java.io.FileNotFoundException: /storage/emulated/0/MyNotes/tsets.txt: open failed: ENOENT (No such file or directory)\n</code></pre>\n"},{"tags":["java","swing","screen","jdialog","multiple-monitors"],"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":2,"creation_date":1435657594,"post_id":31134815,"comment_id":50280578,"body_markdown":"possible duplicate of [How to detect the current display with Java?](http://stackoverflow.com/questions/2234476/how-to-detect-the-current-display-with-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2234476/how-to-detect-the-current-display-with-java\">How to detect the current display with Java?</a>"},{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1435657834,"post_id":31134815,"comment_id":50280753,"body_markdown":"Check this elegant answer.... [Is there a way to take a screenshot using Java and save it to some sort of image?](http://stackoverflow.com/questions/58305/is-there-a-way-to-take-a-screenshot-using-java-and-save-it-to-some-sort-of-image)","body":"Check this elegant answer.... <a href=\"http://stackoverflow.com/questions/58305/is-there-a-way-to-take-a-screenshot-using-java-and-save-it-to-some-sort-of-image\">Is there a way to take a screenshot using Java and save it to some sort of image?</a>"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1435663727,"post_id":31134815,"comment_id":50284512,"body_markdown":"Hopefully, this [thread](http://stackoverflow.com/q/14273836/1057230), might be of some help, on the topic :-)","body":"Hopefully, this <a href=\"http://stackoverflow.com/q/14273836/1057230\">thread</a>, might be of some help, on the topic :-)"}],"owner":{"account_id":352781,"reputation":11,"user_id":690044,"display_name":"ecost4"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641387871,"creation_date":1435657478,"question_id":31134815,"body_markdown":"I&#39;m trying open a JDialog in current screen using dual screens. However, the dialog always open in main screen.\r\n\r\nTo get the screens I&#39;m using this code:\r\n\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    GraphicsDevice[] screens = ge.getScreenDevices();\r\n\r\nI need to know which monitor I&#39;m running the application, and force the dialog to open in current screen.\r\n\r\n","title":"How can I get the current screen in Java?","body":"<p>I'm trying open a JDialog in current screen using dual screens. However, the dialog always open in main screen.</p>\n<p>To get the screens I'm using this code:</p>\n<pre><code>GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\nGraphicsDevice[] screens = ge.getScreenDevices();\n</code></pre>\n<p>I need to know which monitor I'm running the application, and force the dialog to open in current screen.</p>\n"},{"tags":["java","intellij-idea","compiler-errors","java-bytecode-asm","jsr"],"comments":[{"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"score":0,"creation_date":1384456430,"post_id":19381417,"comment_id":29754634,"body_markdown":"Does someone have a solution for this error (JSR/RET are not supported with computeFrames option)?","body":"Does someone have a solution for this error (JSR/RET are not supported with computeFrames option)?"},{"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"score":1,"creation_date":1388676478,"post_id":19381417,"comment_id":31343853,"body_markdown":"The `JSRInlinerAdapter` worked for me: http://mail-archive.ow2.org/asm/2008-11/msg00008.html","body":"The <code>JSRInlinerAdapter</code> worked for me: <a href=\"http://mail-archive.ow2.org/asm/2008-11/msg00008.html\" rel=\"nofollow noreferrer\">mail-archive.ow2.org/asm/2008-11/msg00008.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":200056,"reputation":25083,"user_id":445715,"display_name":"Andrey Breslav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1390624571,"creation_date":1390624571,"answer_id":21346686,"question_id":19381417,"body_markdown":"JSR/RET instructions appear in the byte code when try/finally blocks appear in the source. Javac 1.6+ doesn&#39;t seem to emit them even with -target 1.5, but Eclipse java compiler does.\r\n\r\nExample\r\n\r\n    public class JSRDemo {\r\n        public static void main(String[] args) {\r\n            try {\r\n                bodyOfTry();\r\n            }\r\n            finally {\r\n                bodyOfFinally();\r\n            }\r\n        }\r\n\r\n    ...\r\n\r\nByte codes\r\n\r\n      // access flags 0x9\r\n      public static main([Ljava/lang/String;)V\r\n        TRYCATCHBLOCK L0 L1 L1 null\r\n        TRYCATCHBLOCK L2 L3 L1 null\r\n       L0\r\n        LINENUMBER 4 L0\r\n        INVOKESTATIC JSRDemo.bodyOfTry ()V\r\n       L4\r\n        LINENUMBER 5 L4\r\n        GOTO L2\r\n       L1\r\n        LINENUMBER 6 L1\r\n        ASTORE 2\r\n        JSR L5               // JSR jumps to the finally block\r\n       L6\r\n        LINENUMBER 8 L6\r\n        ALOAD 2\r\n        ATHROW\r\n       L5\r\n        LINENUMBER 6 L5\r\n        ASTORE 1\r\n       L7\r\n        LINENUMBER 7 L7\r\n        INVOKESTATIC JSRDemo.bodyOfFinally ()V\r\n       L8\r\n        LINENUMBER 8 L8\r\n        RET 1                 // RET returns from the finally block\r\n       L2\r\n        JSR L5                // Jump to the same finally block from another execution path\r\n       L3\r\n        LINENUMBER 9 L3\r\n        RETURN\r\n       L9\r\n        LOCALVARIABLE args [Ljava/lang/String; L0 L9 0\r\n        MAXSTACK = 1\r\n        MAXLOCALS = 3\r\n    \r\n\r\n","title":"Compile Error: JSR/RET are not supported with computeFrames option","body":"<p>JSR/RET instructions appear in the byte code when try/finally blocks appear in the source. Javac 1.6+ doesn't seem to emit them even with -target 1.5, but Eclipse java compiler does.</p>\n\n<p>Example</p>\n\n<pre><code>public class JSRDemo {\n    public static void main(String[] args) {\n        try {\n            bodyOfTry();\n        }\n        finally {\n            bodyOfFinally();\n        }\n    }\n\n...\n</code></pre>\n\n<p>Byte codes</p>\n\n<pre><code>  // access flags 0x9\n  public static main([Ljava/lang/String;)V\n    TRYCATCHBLOCK L0 L1 L1 null\n    TRYCATCHBLOCK L2 L3 L1 null\n   L0\n    LINENUMBER 4 L0\n    INVOKESTATIC JSRDemo.bodyOfTry ()V\n   L4\n    LINENUMBER 5 L4\n    GOTO L2\n   L1\n    LINENUMBER 6 L1\n    ASTORE 2\n    JSR L5               // JSR jumps to the finally block\n   L6\n    LINENUMBER 8 L6\n    ALOAD 2\n    ATHROW\n   L5\n    LINENUMBER 6 L5\n    ASTORE 1\n   L7\n    LINENUMBER 7 L7\n    INVOKESTATIC JSRDemo.bodyOfFinally ()V\n   L8\n    LINENUMBER 8 L8\n    RET 1                 // RET returns from the finally block\n   L2\n    JSR L5                // Jump to the same finally block from another execution path\n   L3\n    LINENUMBER 9 L3\n    RETURN\n   L9\n    LOCALVARIABLE args [Ljava/lang/String; L0 L9 0\n    MAXSTACK = 1\n    MAXLOCALS = 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10886222,"reputation":1291,"user_id":8003636,"accept_rate":90,"display_name":"Rohit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641387841,"creation_date":1641387841,"answer_id":70593338,"question_id":19381417,"body_markdown":"I received the same error today: `JSR/RET are not supported with computeFrames option`\r\n\r\nI found out that, I was using `commons-io` dependency for my project.\r\n\r\n    implementation &#39;commons-io:commons-io:2.11.0&#39;\r\nAnd I updated this dependency to the latest version as per the Gradle Suggestion.\r\n\r\n    implementation &#39;commons-io:commons-io:20030203.000550&#39;\r\n\r\n&gt; This updated version was causing the Error!\r\n\r\nI put back the earlier version and the Error was gone and build was Successful!","title":"Compile Error: JSR/RET are not supported with computeFrames option","body":"<p>I received the same error today: <code>JSR/RET are not supported with computeFrames option</code></p>\n<p>I found out that, I was using <code>commons-io</code> dependency for my project.</p>\n<pre><code>implementation 'commons-io:commons-io:2.11.0'\n</code></pre>\n<p>And I updated this dependency to the latest version as per the Gradle Suggestion.</p>\n<pre><code>implementation 'commons-io:commons-io:20030203.000550'\n</code></pre>\n<blockquote>\n<p>This updated version was causing the Error!</p>\n</blockquote>\n<p>I put back the earlier version and the Error was gone and build was Successful!</p>\n"}],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8426,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":21346686,"answer_count":2,"score":8,"last_activity_date":1641387841,"creation_date":1381840614,"question_id":19381417,"body_markdown":"Getting this error on an IntelliJ project when I compile java files. There is no specific source file listed, but it fails with this error.\r\n\r\nRemoving the following compiler flags fixes the error:\r\n\r\n    -source 1.5 -target 1.5\r\n\r\nHowever, these need to be in there as we are targeting Java 5. Is there some specific code (maybe a `try/catch` block) that is causing this error?\r\n\r\n    2013-10-15 16:21:50,556 [26947209]   INFO - ompiler.BackendCompilerWrapper - JSR/RET are not supported with computeFrames option \r\n    java.lang.RuntimeException: JSR/RET are not supported with computeFrames option\r\n    \tat org.objectweb.asm.Frame.a(Unknown Source)\r\n    \tat org.objectweb.asm.MethodWriter.visitJumpInsn(Unknown Source)\r\n    \tat org.objectweb.asm.MethodAdapter.visitJumpInsn(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat com.intellij.compiler.impl.javaCompiler.BackendCompilerWrapper$ClassParsingThread.a(BackendCompilerWrapper.java:893)\r\n    \tat com.intellij.compiler.impl.javaCompiler.BackendCompilerWrapper$ClassParsingThread.run(BackendCompilerWrapper.java:846)\r\n    \tat com.intellij.openapi.application.impl.ApplicationImpl$7.run(ApplicationImpl.java:386)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\r\n    \tat java.lang.Thread.run(Thread.java:680)\r\n    \tat com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:130)\r\n\r\n","title":"Compile Error: JSR/RET are not supported with computeFrames option","body":"<p>Getting this error on an IntelliJ project when I compile java files. There is no specific source file listed, but it fails with this error.</p>\n\n<p>Removing the following compiler flags fixes the error:</p>\n\n<pre><code>-source 1.5 -target 1.5\n</code></pre>\n\n<p>However, these need to be in there as we are targeting Java 5. Is there some specific code (maybe a <code>try/catch</code> block) that is causing this error?</p>\n\n<pre><code>2013-10-15 16:21:50,556 [26947209]   INFO - ompiler.BackendCompilerWrapper - JSR/RET are not supported with computeFrames option \njava.lang.RuntimeException: JSR/RET are not supported with computeFrames option\n    at org.objectweb.asm.Frame.a(Unknown Source)\n    at org.objectweb.asm.MethodWriter.visitJumpInsn(Unknown Source)\n    at org.objectweb.asm.MethodAdapter.visitJumpInsn(Unknown Source)\n    at org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at com.intellij.compiler.impl.javaCompiler.BackendCompilerWrapper$ClassParsingThread.a(BackendCompilerWrapper.java:893)\n    at com.intellij.compiler.impl.javaCompiler.BackendCompilerWrapper$ClassParsingThread.run(BackendCompilerWrapper.java:846)\n    at com.intellij.openapi.application.impl.ApplicationImpl$7.run(ApplicationImpl.java:386)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n    at java.lang.Thread.run(Thread.java:680)\n    at com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:130)\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1641386194,"post_id":70592948,"comment_id":124790279,"body_markdown":"What&#39;s your question?","body":"What&#39;s your question?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1641386217,"post_id":70592948,"comment_id":124790286,"body_markdown":"So you are already creating an array with the max number of each column. What&#39;s stopping you from just getting the very first value? eG `System.out.println(&quot;Max for column 1: &quot; + max[0]);` - You already seem to have the solution","body":"So you are already creating an array with the max number of each column. What&#39;s stopping you from just getting the very first value? eG <code>System.out.println(&quot;Max for column 1: &quot; + max[0]);</code> - You already seem to have the solution"},{"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"score":0,"creation_date":1641386251,"post_id":70592948,"comment_id":124790299,"body_markdown":"find the max value on the first column of this array which is 84","body":"find the max value on the first column of this array which is 84"}],"answers":[{"tags":[],"owner":{"account_id":7215483,"reputation":300,"user_id":5508139,"display_name":"BlackPearl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641387106,"creation_date":1641387106,"answer_id":70593172,"question_id":70592948,"body_markdown":"    public static void main(String[] args) {\r\n      int[][] matrix = {{10, 23, 93, 44}, {22, 34, 25, 3}, {84, 11, 7, 52}};\r\n\r\n      int max = matrix[0][0];\r\n      for (int row = 1; row &lt; matrix.length; row++) {\r\n        if (max &lt; matrix[row][0]) {\r\n          max = matrix[row][0];\r\n        }\r\n      }\r\n      System.out.println(max);\r\n    }","title":"Find the Largest number in the first column of Java Array","body":"<pre><code>public static void main(String[] args) {\n  int[][] matrix = {{10, 23, 93, 44}, {22, 34, 25, 3}, {84, 11, 7, 52}};\n\n  int max = matrix[0][0];\n  for (int row = 1; row &lt; matrix.length; row++) {\n    if (max &lt; matrix[row][0]) {\n      max = matrix[row][0];\n    }\n  }\n  System.out.println(max);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641387809,"creation_date":1641387809,"answer_id":70593331,"question_id":70592948,"body_markdown":"If the maximum value of only one column needs to be found, then no nested loop is needed:\r\n```java\r\nstatic int maxOfFirstColumn(int[][] arr) {\r\n    int max = Integer.MIN_VALUE;\r\n    for (int[] row : arr) {\r\n        if (null != row &amp;&amp; row.length &gt; 0) {\r\n            max = Math.max(max, row[0]);\r\n        }\r\n    }\r\n    return max;\r\n}\r\n```\r\n----\r\nSolution using Stream API:\r\n```java\r\nstatic int maxOfFirstColumn(int[][] arr) {\r\n    return Arrays.stream(arr) // Stream&lt;int[]&gt;\r\n        .filter(Objects::nonNull)\r\n        .filter(row -&gt; row.length &gt; 0)\r\n        .mapToInt(row -&gt; row[0]) // IntStream\r\n        .max()\r\n        .getAsInt();\r\n}\r\n```","title":"Find the Largest number in the first column of Java Array","body":"<p>If the maximum value of only one column needs to be found, then no nested loop is needed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int maxOfFirstColumn(int[][] arr) {\n    int max = Integer.MIN_VALUE;\n    for (int[] row : arr) {\n        if (null != row &amp;&amp; row.length &gt; 0) {\n            max = Math.max(max, row[0]);\n        }\n    }\n    return max;\n}\n</code></pre>\n<hr />\n<p>Solution using Stream API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int maxOfFirstColumn(int[][] arr) {\n    return Arrays.stream(arr) // Stream&lt;int[]&gt;\n        .filter(Objects::nonNull)\n        .filter(row -&gt; row.length &gt; 0)\n        .mapToInt(row -&gt; row[0]) // IntStream\n        .max()\n        .getAsInt();\n}\n</code></pre>\n"}],"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70593172,"answer_count":2,"score":1,"last_activity_date":1641387809,"creation_date":1641386049,"question_id":70592948,"body_markdown":"I have an array\r\n\r\n    int [ ][ ] matrix = {{ 10, 23, 93, 44 },{ 22, 34, 25, 3 },{ 84, 11, 7, 52 }};\r\nand I want to find the max value on the first column of this array which is 84\r\n\r\nThis is my whole code which give me the max value of each column in this array\r\n\r\n         public class Sample {  \r\n      public static void main(String[] args) {\r\n\t\r\n    int[][] matrix = {{10, 23, 93, 44}, {22, 34, 25, 3}, {84, 11, 7, 52}};\r\n    \r\n    int[] max = matrix[0];\r\n    \r\n    for (int row = 1; row &lt; matrix.length; row++) {\r\n    \t\r\n        for (int column = 0; column &lt; matrix[0].length; column++) {\r\n        \t\r\n            if (matrix[row][column] &gt; max[column]) {\r\n            \t\r\n                max[column] = matrix[row][column];\r\n            }\r\n        }\r\n    }\r\n    for (int number : max) {\r\n        System.out.print(number + &quot; &quot;);\r\n        }\r\n    }}\r\n\r\n","title":"Find the Largest number in the first column of Java Array","body":"<p>I have an array</p>\n<pre><code>int [ ][ ] matrix = {{ 10, 23, 93, 44 },{ 22, 34, 25, 3 },{ 84, 11, 7, 52 }};\n</code></pre>\n<p>and I want to find the max value on the first column of this array which is 84</p>\n<p>This is my whole code which give me the max value of each column in this array</p>\n<pre><code>     public class Sample {  \n  public static void main(String[] args) {\n\nint[][] matrix = {{10, 23, 93, 44}, {22, 34, 25, 3}, {84, 11, 7, 52}};\n\nint[] max = matrix[0];\n\nfor (int row = 1; row &lt; matrix.length; row++) {\n    \n    for (int column = 0; column &lt; matrix[0].length; column++) {\n        \n        if (matrix[row][column] &gt; max[column]) {\n            \n            max[column] = matrix[row][column];\n        }\n    }\n}\nfor (int number : max) {\n    System.out.print(number + &quot; &quot;);\n    }\n}}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641385280,"post_id":70592692,"comment_id":124789932,"body_markdown":"Why don&#39;t you update the entities instead? I can imagine 2 reasons for the behavior you&#39;re experiencing: 1) Hibernate marks the entities as deleted first and interprets the `save()` as an update since the entities are still in the first level cache. The update then doesn&#39;t update anything because the rows have been deleted already. 2) Hibernate reorders the statements for performance reasons and executes the deletes last. I assume option 1 is more likely but to get some more insight, try to log the SQL statements that Hibernate executes - you should see what happens in which order.","body":"Why don&#39;t you update the entities instead? I can imagine 2 reasons for the behavior you&#39;re experiencing: 1) Hibernate marks the entities as deleted first and interprets the <code>save()</code> as an update since the entities are still in the first level cache. The update then doesn&#39;t update anything because the rows have been deleted already. 2) Hibernate reorders the statements for performance reasons and executes the deletes last. I assume option 1 is more likely but to get some more insight, try to log the SQL statements that Hibernate executes - you should see what happens in which order."},{"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"score":0,"creation_date":1641386072,"post_id":70592692,"comment_id":124790230,"body_markdown":"This is connected with some diagram calibration, when user change the calibration I need new points connected with the line -&gt; not always the same ammount of the points in database and what&#39;s more often totally another points, because they are calculated after every calibration. So this was the best option for me. Maybe there is the way to clear cache/start some new session before saving?","body":"This is connected with some diagram calibration, when user change the calibration I need new points connected with the line -&gt; not always the same ammount of the points in database and what&#39;s more often totally another points, because they are calculated after every calibration. So this was the best option for me. Maybe there is the way to clear cache/start some new session before saving?"},{"owner":{"account_id":7215483,"reputation":300,"user_id":5508139,"display_name":"BlackPearl"},"score":0,"creation_date":1641392458,"post_id":70592692,"comment_id":124792919,"body_markdown":"Did you try to call `entityRepository.flush()` after delete? Of course by doing this, it will slow down the performance a little :)","body":"Did you try to call <code>entityRepository.flush()</code> after delete? Of course by doing this, it will slow down the performance a little :)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641400500,"post_id":70592692,"comment_id":124796595,"body_markdown":"If so, you could do the following: 1) load the existing points, 2) update the points that are present in the &quot;new&quot; collection, 3) delete any existing points not present in the &quot;new&quot; collection, 4) add new points that are not present in the &quot;existing&quot; collection. What&#39;s new and existing depends on how you defined your ids but it could be as simple as a size difference: any index not present in &quot;existing&quot; is new (&quot;new&quot; is larger than &quot;existing&quot;), any index not present in &quot;new&quot; gets deleted (&quot;new&quot; is smaller than &quot;existing&quot;).","body":"If so, you could do the following: 1) load the existing points, 2) update the points that are present in the &quot;new&quot; collection, 3) delete any existing points not present in the &quot;new&quot; collection, 4) add new points that are not present in the &quot;existing&quot; collection. What&#39;s new and existing depends on how you defined your ids but it could be as simple as a size difference: any index not present in &quot;existing&quot; is new (&quot;new&quot; is larger than &quot;existing&quot;), any index not present in &quot;new&quot; gets deleted (&quot;new&quot; is smaller than &quot;existing&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":15464461,"reputation":161,"user_id":11156237,"display_name":"Serhat Yılmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641385424,"creation_date":1641385424,"answer_id":70592814,"question_id":70592692,"body_markdown":"Actually you want to update the entries that has the `lineId`. Try it as:\r\n\r\n1. First fetch by find..().\r\n2. Make related changes on that entries \r\n3. Then save them.","title":"Cannot save after deleting entity in Hibernate","body":"<p>Actually you want to update the entries that has the <code>lineId</code>. Try it as:</p>\n<ol>\n<li>First fetch by find..().</li>\n<li>Make related changes on that entries</li>\n<li>Then save them.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641387772,"creation_date":1641387772,"answer_id":70593325,"question_id":70592692,"body_markdown":"As thomas mentioned, hibernate reorders the queries within the transaction for performance reasons and executes the delete after the update.\r\n\r\nI would commit the transaction between these two operations.\r\nAdd a @Transactional over deleteEntities and saveEntities.\r\nBut be aware that @Transactional does not work when invoked with in the same object.\r\nYou must inject the Service into itself and then call the methods on the self reference\r\n","title":"Cannot save after deleting entity in Hibernate","body":"<p>As thomas mentioned, hibernate reorders the queries within the transaction for performance reasons and executes the delete after the update.</p>\n<p>I would commit the transaction between these two operations.\nAdd a @Transactional over deleteEntities and saveEntities.\nBut be aware that @Transactional does not work when invoked with in the same object.\nYou must inject the Service into itself and then call the methods on the self reference</p>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641387772,"creation_date":1641384811,"question_id":70592692,"body_markdown":"I want to delete all records with some lineId to save another records with the same lineId(as refresh) but after deleting I can&#39;t save anything. There isn&#39;t any error, but I don&#39;t have my record in database.\r\n\r\nWhen I don&#39;t have ma deleting code everything saves correctly.\r\n\r\n    public void deleteAndSaveEntities(List&lt;Entity&gt; entities, Long lineId){\r\n        deleteEntities(lineId);\r\n        saveEntities(entities);\r\n    }\r\n\r\n    private void deleteEntities(Long lineId) {\r\n        List&lt;Entity&gt; entitiesToDelete = entityRepository.findAllByLineId(lineId);\r\n        entityRepository.deleteAll(entitiesToDelete); \r\n    }\r\n\r\n    private void saveEntities(List&lt;Entity&gt; entities) {\r\n        entityRepository.saveAll(entities);\r\n    }\r\n\r\n","title":"Cannot save after deleting entity in Hibernate","body":"<p>I want to delete all records with some lineId to save another records with the same lineId(as refresh) but after deleting I can't save anything. There isn't any error, but I don't have my record in database.</p>\n<p>When I don't have ma deleting code everything saves correctly.</p>\n<pre><code>public void deleteAndSaveEntities(List&lt;Entity&gt; entities, Long lineId){\n    deleteEntities(lineId);\n    saveEntities(entities);\n}\n\nprivate void deleteEntities(Long lineId) {\n    List&lt;Entity&gt; entitiesToDelete = entityRepository.findAllByLineId(lineId);\n    entityRepository.deleteAll(entitiesToDelete); \n}\n\nprivate void saveEntities(List&lt;Entity&gt; entities) {\n    entityRepository.saveAll(entities);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pagination","spring-data"],"comments":[{"owner":{"account_id":16066054,"reputation":29,"user_id":11595665,"display_name":"Mishamba"},"score":0,"creation_date":1641378931,"post_id":70591419,"comment_id":124787476,"body_markdown":"Also i tried to delete @Cacheable and got same result.","body":"Also i tried to delete @Cacheable and got same result."}],"answers":[{"tags":[],"owner":{"account_id":16066054,"reputation":29,"user_id":11595665,"display_name":"Mishamba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641387312,"creation_date":1641387312,"answer_id":70593227,"question_id":70591419,"body_markdown":"There is no problem i forgot that pagination starts from 0","title":"Spring Data Pagination works incorect","body":"<p>There is no problem i forgot that pagination starts from 0</p>\n"}],"owner":{"account_id":16066054,"reputation":29,"user_id":11595665,"display_name":"Mishamba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641387312,"creation_date":1641378881,"question_id":70591419,"body_markdown":"I&#39;m trying to get data from my repository using pagination and i get weird results.\r\n\r\nContoroller code:\r\n\r\n    @GetMapping(&quot;/warehouses&quot;)\r\n    @Cacheable(value = &quot;warehouses&quot;)\r\n    public List&lt;Warehouse&gt; findWarehouses(@RequestParam(name = &quot;page&quot;, required = false, defaultValue = &quot;1&quot;) int page,\r\n                                          @RequestParam(name = &quot;size&quot;, required = false, defaultValue = &quot;10&quot;) int size) {\r\n        return warehouseRepository.findAll(PageRequest.of(page, size)).getContent();\r\n    }\r\n\r\nRepository uses default MongoRepository method.\r\n\r\nI&#39;m sending requests and getting next result. [1st query][1] [2nd query][2] [3rd query][3] [4th query][4] [5th query][5] [6th query][6]\r\n\r\nThis is my stored data in db\r\n\r\n    [\r\n      {\r\n        _id: &#39;Compluter Inc&#39;,\r\n        merchandiseQuantity: { computer: 16, vacine: 10, bebra: 6 },\r\n        position: { x: 43, y: 12 },\r\n        _class: &#39;com.logistic.project.model.Warehouse&#39;\r\n      },\r\n      {\r\n        _id: &#39;Bebra&#39;,\r\n        merchandiseQuantity: { grivna: 20, laptop: 100, beer: 1 },\r\n        position: { x: 21, y: 89 },\r\n        _class: &#39;com.logistic.project.model.Warehouse&#39;\r\n      },\r\n      {\r\n        _id: &#39;LG&#39;,\r\n        merchandiseQuantity: { chair: 90, cup: 13, notebook: 18 },\r\n        position: { x: 15, y: 90 },\r\n        _class: &#39;com.logistic.project.model.Warehouse&#39;\r\n      },\r\n      {\r\n        _id: &#39;Abchihba&#39;,\r\n        merchandiseQuantity: { gun: 54, computer: 4, answer: 42 },\r\n        position: { x: 567, y: 890 },\r\n        _class: &#39;com.logistic.project.model.Warehouse&#39;\r\n      },\r\n      {\r\n        _id: &#39;Node&#39;,\r\n        merchandiseQuantity: { grinva: 6, gun: 16, charger: 132 },\r\n        position: { x: 389, y: 54 },\r\n        _class: &#39;com.logistic.project.model.Warehouse&#39;\r\n      },\r\n      {\r\n        _id: &#39;Meta&#39;,\r\n        merchandiseQuantity: { computer: 16, vacine: 10, bebra: 6 },\r\n        position: { x: 321, y: 590 },\r\n        _class: &#39;com.logistic.project.model.Warehouse&#39;\r\n      } \r\n    ]\r\n\r\n\r\nThanks for answers)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qhFn6.png\r\n  [2]: https://i.stack.imgur.com/el0aV.png\r\n  [3]: https://i.stack.imgur.com/9jwdD.png\r\n  [4]: https://i.stack.imgur.com/za07l.png\r\n  [5]: https://i.stack.imgur.com/H9IFM.png\r\n  [6]: https://i.stack.imgur.com/KxVMt.png","title":"Spring Data Pagination works incorect","body":"<p>I'm trying to get data from my repository using pagination and i get weird results.</p>\n<p>Contoroller code:</p>\n<pre><code>@GetMapping(&quot;/warehouses&quot;)\n@Cacheable(value = &quot;warehouses&quot;)\npublic List&lt;Warehouse&gt; findWarehouses(@RequestParam(name = &quot;page&quot;, required = false, defaultValue = &quot;1&quot;) int page,\n                                      @RequestParam(name = &quot;size&quot;, required = false, defaultValue = &quot;10&quot;) int size) {\n    return warehouseRepository.findAll(PageRequest.of(page, size)).getContent();\n}\n</code></pre>\n<p>Repository uses default MongoRepository method.</p>\n<p>I'm sending requests and getting next result. <a href=\"https://i.stack.imgur.com/qhFn6.png\" rel=\"nofollow noreferrer\">1st query</a> <a href=\"https://i.stack.imgur.com/el0aV.png\" rel=\"nofollow noreferrer\">2nd query</a> <a href=\"https://i.stack.imgur.com/9jwdD.png\" rel=\"nofollow noreferrer\">3rd query</a> <a href=\"https://i.stack.imgur.com/za07l.png\" rel=\"nofollow noreferrer\">4th query</a> <a href=\"https://i.stack.imgur.com/H9IFM.png\" rel=\"nofollow noreferrer\">5th query</a> <a href=\"https://i.stack.imgur.com/KxVMt.png\" rel=\"nofollow noreferrer\">6th query</a></p>\n<p>This is my stored data in db</p>\n<pre><code>[\n  {\n    _id: 'Compluter Inc',\n    merchandiseQuantity: { computer: 16, vacine: 10, bebra: 6 },\n    position: { x: 43, y: 12 },\n    _class: 'com.logistic.project.model.Warehouse'\n  },\n  {\n    _id: 'Bebra',\n    merchandiseQuantity: { grivna: 20, laptop: 100, beer: 1 },\n    position: { x: 21, y: 89 },\n    _class: 'com.logistic.project.model.Warehouse'\n  },\n  {\n    _id: 'LG',\n    merchandiseQuantity: { chair: 90, cup: 13, notebook: 18 },\n    position: { x: 15, y: 90 },\n    _class: 'com.logistic.project.model.Warehouse'\n  },\n  {\n    _id: 'Abchihba',\n    merchandiseQuantity: { gun: 54, computer: 4, answer: 42 },\n    position: { x: 567, y: 890 },\n    _class: 'com.logistic.project.model.Warehouse'\n  },\n  {\n    _id: 'Node',\n    merchandiseQuantity: { grinva: 6, gun: 16, charger: 132 },\n    position: { x: 389, y: 54 },\n    _class: 'com.logistic.project.model.Warehouse'\n  },\n  {\n    _id: 'Meta',\n    merchandiseQuantity: { computer: 16, vacine: 10, bebra: 6 },\n    position: { x: 321, y: 590 },\n    _class: 'com.logistic.project.model.Warehouse'\n  } \n]\n</code></pre>\n<p>Thanks for answers)</p>\n"},{"tags":["java","unit-testing","junit","mockito","argumentcaptor"],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641375544,"creation_date":1641375544,"answer_id":70590662,"question_id":70590208,"body_markdown":"To me, you do not need `ArgumentCaptor` here at all, you already mock your repositories and your method (`create`) already returns a `ProductDTO`. Testing this method, as such, is kind of trivial.\r\n\r\n    Product emptyProduct = new Product();\r\n    Product productWithValues = new Product();\r\n    productWithValues.set... // set the values you want to assert    when(productRepository.save(Mockito.eq(emptyProduct))).thenReturn(productWithValues);\r\n\r\n    Currency currency = new Currency();\r\n    currency.set... // more fields you would like to assert\r\n    UUID uuid = UUID.randomUUID();\r\n    when(currencyService.getCurrencyByUuid(uuid)).thenReturn(currency);    \r\n\r\n    ProductDTO result = create(emptyProduct, id);    \r\n\r\n    Mockito.assertEquals(result.getCurrency().getCurrencyCode(), currency.getCurrencyCode());\r\n    Mockito.assertEquals(result.getProduct().getProductUuid(), product.getProductUuid());\r\n\r\nAs a disclaimer, I have not compiled the code above, but you should get the idea. \r\n\r\n\r\n","title":"Proper usage of mockito ArgumentCaptor in Java?","body":"<p>To me, you do not need <code>ArgumentCaptor</code> here at all, you already mock your repositories and your method (<code>create</code>) already returns a <code>ProductDTO</code>. Testing this method, as such, is kind of trivial.</p>\n<pre><code>Product emptyProduct = new Product();\nProduct productWithValues = new Product();\nproductWithValues.set... // set the values you want to assert    when(productRepository.save(Mockito.eq(emptyProduct))).thenReturn(productWithValues);\n\nCurrency currency = new Currency();\ncurrency.set... // more fields you would like to assert\nUUID uuid = UUID.randomUUID();\nwhen(currencyService.getCurrencyByUuid(uuid)).thenReturn(currency);    \n\nProductDTO result = create(emptyProduct, id);    \n\nMockito.assertEquals(result.getCurrency().getCurrencyCode(), currency.getCurrencyCode());\nMockito.assertEquals(result.getProduct().getProductUuid(), product.getProductUuid());\n</code></pre>\n<p>As a disclaimer, I have not compiled the code above, but you should get the idea.</p>\n"},{"tags":[],"owner":{"account_id":18696453,"reputation":76,"user_id":13629651,"display_name":"Serhii Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641387141,"creation_date":1641385981,"answer_id":70592933,"question_id":70590208,"body_markdown":"According to the [documentation](https://javadoc.io/doc/org.mockito/mockito-core/4.1.0/org/mockito/ArgumentCaptor.html) the recommended way to use ArgumentCaptor is not for stubbing, but for verification:\r\n```java\r\nverify(productRepository).save(productCaptor.capture())\r\n```\r\nArgument captor does not look particularly useful for the provided `create(...)` implementation because if you&#39;re saving exactly the same object that you&#39;ve passed to the method under the test, then passing actual argument to `when(...)` is enough for just mocking:  \r\n```java\r\nwhen(productRepository.save(product)).(...)\r\n```\r\nIn my experience argument captors are used more in cases when arguments are not passed to the method under test explicitly(with your example imagine that `productRepository#save` is not saving the product passed to `create(...)`, but rather some new instance that was created inside `create(...)` itself) or when the method under test changes some fields that are not included into the object&#39;s `equals(...)` method.\r\n\r\nVerify should be used on mocked objects to assert that the actual method invocation happened specific amount of times with desired parameters. \r\n\r\nSpecifically answering your questions:\r\n1. Argument captor is not needed if the product passed to the `productRepository#save` is the same product that is passed to `create(...)`, as you substitute `when(productRepository.save(productCaptor.capture()))` with just `when(productRepository.save(product))` \r\n2. Method under the test should be called without `verify(...)`, verify is intended to be used with mocks to assert that specific mock methods were invoked\r\n3. Overall approach is correct","title":"Proper usage of mockito ArgumentCaptor in Java?","body":"<p>According to the <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/4.1.0/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">documentation</a> the recommended way to use ArgumentCaptor is not for stubbing, but for verification:</p>\n<pre class=\"lang-java prettyprint-override\"><code>verify(productRepository).save(productCaptor.capture())\n</code></pre>\n<p>Argument captor does not look particularly useful for the provided <code>create(...)</code> implementation because if you're saving exactly the same object that you've passed to the method under the test, then passing actual argument to <code>when(...)</code> is enough for just mocking:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(productRepository.save(product)).(...)\n</code></pre>\n<p>In my experience argument captors are used more in cases when arguments are not passed to the method under test explicitly(with your example imagine that <code>productRepository#save</code> is not saving the product passed to <code>create(...)</code>, but rather some new instance that was created inside <code>create(...)</code> itself) or when the method under test changes some fields that are not included into the object's <code>equals(...)</code> method.</p>\n<p>Verify should be used on mocked objects to assert that the actual method invocation happened specific amount of times with desired parameters.</p>\n<p>Specifically answering your questions:</p>\n<ol>\n<li>Argument captor is not needed if the product passed to the <code>productRepository#save</code> is the same product that is passed to <code>create(...)</code>, as you substitute <code>when(productRepository.save(productCaptor.capture()))</code> with just <code>when(productRepository.save(product))</code></li>\n<li>Method under the test should be called without <code>verify(...)</code>, verify is intended to be used with mocks to assert that specific mock methods were invoked</li>\n<li>Overall approach is correct</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641386477,"creation_date":1641386477,"answer_id":70593051,"question_id":70590208,"body_markdown":"Eugene is right, you don&#39;t need an `ArgumentCaptor`. To answer the question of when you need it: if you want to verify the value of a transatory object you don&#39;t have access to before or after your method.\r\n\r\nFor example, in\r\n\r\n```\r\nboolean createAndSave(String productName) {\r\n  Product p = new Product(productName);\r\n  return repository.save(p);\r\n}\r\n```\r\nyou don&#39;t have access to the created `Product` but want to verify it was created correctly. To do this, you can capture it:\r\n\r\n```\r\nArgumentCaptor&lt;Product&gt; savedCaptor = ArgumentCaptor.forClass(Product.class);\r\nservice.createAndSave(&quot;name&quot;);\r\nverify(repository).save(savedCaptor.capture()); // get the product being saved\r\nProduct saved = savedCaptor.getValue();\r\nassertEqual(&quot;name&quot;, saved.getName());\r\n```\r\n\r\nNow, you make sure that the repository was used to save a product with the name you gave the service.\r\n\r\nIn your case, you can just use `when(repository.save(any()).thenReturn(product)` with a product you created ahead of time.","title":"Proper usage of mockito ArgumentCaptor in Java?","body":"<p>Eugene is right, you don't need an <code>ArgumentCaptor</code>. To answer the question of when you need it: if you want to verify the value of a transatory object you don't have access to before or after your method.</p>\n<p>For example, in</p>\n<pre><code>boolean createAndSave(String productName) {\n  Product p = new Product(productName);\n  return repository.save(p);\n}\n</code></pre>\n<p>you don't have access to the created <code>Product</code> but want to verify it was created correctly. To do this, you can capture it:</p>\n<pre><code>ArgumentCaptor&lt;Product&gt; savedCaptor = ArgumentCaptor.forClass(Product.class);\nservice.createAndSave(&quot;name&quot;);\nverify(repository).save(savedCaptor.capture()); // get the product being saved\nProduct saved = savedCaptor.getValue();\nassertEqual(&quot;name&quot;, saved.getName());\n</code></pre>\n<p>Now, you make sure that the repository was used to save a product with the name you gave the service.</p>\n<p>In your case, you can just use <code>when(repository.save(any()).thenReturn(product)</code> with a product you created ahead of time.</p>\n"}],"owner":{"display_name":"user17676679"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641433661,"accepted_answer_id":70593051,"answer_count":3,"score":1,"last_activity_date":1641387141,"creation_date":1641373479,"question_id":70590208,"body_markdown":"I have looked at several usage examples of e.g. [Using Mockito ArgumentCaptor](https://www.baeldung.com/mockito-argumentcaptor), but I have confused about the proper usage for the following scenario:\r\n\r\nHere is the method that I want to test:\r\n\r\n```\r\n@Override\r\npublic ProductDTO create(Product product, UUID uuid) {\r\n\t\t\r\n\t// code omitted for brevity \r\n\t\t\r\n\tfinal Product saved = productRepository.save(product);\r\n\tfinal Currency currency = currencyService.getCurrencyByUuid(uuid);\r\n\t\t\r\n\treturn new ProductDTO(saved, currency);\r\n}\r\n```\r\n\r\nMy test method:\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ProductServiceImplTest {\r\n\r\n    @Mock\r\n    private ProductRepository productRepository;\r\n\r\n    @Mock\r\n    private CurrencyService currencyService;\r\n\r\n    @InjectMocks\r\n    private ProductServiceImpl productService;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;Product&gt; productCaptor;\r\n\r\n    @Test\r\n    public void test_create() {\r\n        UUID uuid = UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;);\r\n        UUID productUuid = UUID.fromString(&quot;00000000-0000-0000-0000-000000000222&quot;);\r\n        Currency currency = Currency.getInstance(&quot;EUR&quot;);        \r\n\t\tProduct product = new Product();\r\n        productCostBySite.setProductUuid(productUuid);\r\n\r\n\t\t// 1. prepare the values\r\n        when(productRepository.save(productCaptor.capture())).thenReturn(product);\r\n        when(currencyService.getCurrencyByUuid(uuid)).thenReturn(currency);\r\n\t\t\t\t\r\n\t\t// 2. call the service method that is tested\r\n        ProductDTO result = productService.create(product);\r\n\r\n\t\t// 3. Check if the captured value is the expected one\r\n        Product value = productCaptor.getValue();\t\t\t\r\n        assertEquals(productUuid, value.getProductUuid());\r\n        assertEquals(currency.getCurrencyCode(), \r\n            result.getCurrency().getCurrencyCode());\r\n    }\r\n}\r\n```\r\n\r\nHere are the questions (the numbers are also the comment numbers of test method):\r\n\r\n**1.** I tested `productRepository.save` method using `ArgumentCaptor` and `currencyService.getCurrencyByUuid(uuid)` by returned value as it is not a repository call. Is that true?\r\n\r\n**2.** I called the service method, but in some examples `verify` method is used. I am not sure if I need to use `verify` method for this example? Any idea?\r\n\r\n**3.** I used the returned value for service and used captured value for repository. Is that a correct approach? \r\n","title":"Proper usage of mockito ArgumentCaptor in Java?","body":"<p>I have looked at several usage examples of e.g. <a href=\"https://www.baeldung.com/mockito-argumentcaptor\" rel=\"nofollow noreferrer\">Using Mockito ArgumentCaptor</a>, but I have confused about the proper usage for the following scenario:</p>\n<p>Here is the method that I want to test:</p>\n<pre><code>@Override\npublic ProductDTO create(Product product, UUID uuid) {\n        \n    // code omitted for brevity \n        \n    final Product saved = productRepository.save(product);\n    final Currency currency = currencyService.getCurrencyByUuid(uuid);\n        \n    return new ProductDTO(saved, currency);\n}\n</code></pre>\n<p>My test method:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ProductServiceImplTest {\n\n    @Mock\n    private ProductRepository productRepository;\n\n    @Mock\n    private CurrencyService currencyService;\n\n    @InjectMocks\n    private ProductServiceImpl productService;\n\n    @Captor\n    private ArgumentCaptor&lt;Product&gt; productCaptor;\n\n    @Test\n    public void test_create() {\n        UUID uuid = UUID.fromString(&quot;00000000-0000-0000-0000-000000000001&quot;);\n        UUID productUuid = UUID.fromString(&quot;00000000-0000-0000-0000-000000000222&quot;);\n        Currency currency = Currency.getInstance(&quot;EUR&quot;);        \n        Product product = new Product();\n        productCostBySite.setProductUuid(productUuid);\n\n        // 1. prepare the values\n        when(productRepository.save(productCaptor.capture())).thenReturn(product);\n        when(currencyService.getCurrencyByUuid(uuid)).thenReturn(currency);\n                \n        // 2. call the service method that is tested\n        ProductDTO result = productService.create(product);\n\n        // 3. Check if the captured value is the expected one\n        Product value = productCaptor.getValue();           \n        assertEquals(productUuid, value.getProductUuid());\n        assertEquals(currency.getCurrencyCode(), \n            result.getCurrency().getCurrencyCode());\n    }\n}\n</code></pre>\n<p>Here are the questions (the numbers are also the comment numbers of test method):</p>\n<p><strong>1.</strong> I tested <code>productRepository.save</code> method using <code>ArgumentCaptor</code> and <code>currencyService.getCurrencyByUuid(uuid)</code> by returned value as it is not a repository call. Is that true?</p>\n<p><strong>2.</strong> I called the service method, but in some examples <code>verify</code> method is used. I am not sure if I need to use <code>verify</code> method for this example? Any idea?</p>\n<p><strong>3.</strong> I used the returned value for service and used captured value for repository. Is that a correct approach?</p>\n"},{"tags":["java","email","ssl","smtp"],"comments":[{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1641235034,"post_id":70569407,"comment_id":124748814,"body_markdown":"Are you shure the mailserver suppots SSLv3?","body":"Are you shure the mailserver suppots SSLv3?"},{"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"score":0,"creation_date":1641236912,"post_id":70569407,"comment_id":124749423,"body_markdown":"yes, I am sure.","body":"yes, I am sure."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641238879,"creation_date":1641238879,"answer_id":70570655,"question_id":70569407,"body_markdown":"Because SSLv3 was deprecated since Jun 2015 you may face the fat that any of the related Hash Algorithms or Cipher Suites are deactivated or not provided by any of both (client/server) plattforms. \r\n\r\nYou can try to figure out the root cause by enabling SSL debug output with system option ```javax.net.debug=all``` and analyzing the output. But a better way is to move forward to TLSv1.2 if possible.","title":"fatal alert: bad_record_mac is received when sending Email with SSL using Java code (javax.mail)","body":"<p>Because SSLv3 was deprecated since Jun 2015 you may face the fat that any of the related Hash Algorithms or Cipher Suites are deactivated or not provided by any of both (client/server) plattforms.</p>\n<p>You can try to figure out the root cause by enabling SSL debug output with system option <code>javax.net.debug=all</code> and analyzing the output. But a better way is to move forward to TLSv1.2 if possible.</p>\n"},{"tags":[],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641387014,"creation_date":1641387014,"answer_id":70593154,"question_id":70569407,"body_markdown":"in the end I just needed to remove the security.provider.1=org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider\r\n\r\nfrom the java.security \r\n and it was fixed","title":"fatal alert: bad_record_mac is received when sending Email with SSL using Java code (javax.mail)","body":"<p>in the end I just needed to remove the security.provider.1=org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider</p>\n<p>from the java.security\nand it was fixed</p>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641387014,"creation_date":1641230857,"question_id":70569407,"body_markdown":"I tried to send an email with SSL using javax.mail\r\nI received the next error:\r\n\r\n\r\n    Error: Sending the email to the following server failed : 10.100.65.159:465. Cause: javax.mail.MessagingException: Could not convert socket to TLS;\r\n      nested exception is:\r\n            javax.net.ssl.SSLException: Received fatal alert: bad_record_mac\r\n\r\nMy java version:\r\n \r\nopenjdk version &quot;1.8.0_242&quot;\r\nOpenJDK Runtime Environment Corretto-8.242.07.1 (build 1.8.0_242-b07)\r\nOpenJDK 64-Bit Server VM Corretto-8.242.07.1 (build 25.242-b07, mixed mode)\r\n\r\nMy java code:\r\n\r\n           email.getMailSession().getProperties().put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\r\n           email.getMailSession().getProperties().put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n           email.getMailSession().getProperties().put(&quot;mail.smtp.ssl.protocols&quot;, &quot;SSLv3&quot;);\r\n\r\nMy javax.mail version: 1.4.5\r\n\r\nand I removed the SSLv3 from the disabled algorithm list in the java.security file\r\n\r\nand I still don&#39;t know what could be the problem\r\n\r\nAny ideas?","title":"fatal alert: bad_record_mac is received when sending Email with SSL using Java code (javax.mail)","body":"<p>I tried to send an email with SSL using javax.mail\nI received the next error:</p>\n<pre><code>Error: Sending the email to the following server failed : 10.100.65.159:465. Cause: javax.mail.MessagingException: Could not convert socket to TLS;\n  nested exception is:\n        javax.net.ssl.SSLException: Received fatal alert: bad_record_mac\n</code></pre>\n<p>My java version:</p>\n<p>openjdk version &quot;1.8.0_242&quot;\nOpenJDK Runtime Environment Corretto-8.242.07.1 (build 1.8.0_242-b07)\nOpenJDK 64-Bit Server VM Corretto-8.242.07.1 (build 25.242-b07, mixed mode)</p>\n<p>My java code:</p>\n<pre><code>       email.getMailSession().getProperties().put(&quot;mail.smtp.ssl.trust&quot;, &quot;*&quot;);\n       email.getMailSession().getProperties().put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n       email.getMailSession().getProperties().put(&quot;mail.smtp.ssl.protocols&quot;, &quot;SSLv3&quot;);\n</code></pre>\n<p>My javax.mail version: 1.4.5</p>\n<p>and I removed the SSLv3 from the disabled algorithm list in the java.security file</p>\n<p>and I still don't know what could be the problem</p>\n<p>Any ideas?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":13919742,"reputation":964,"user_id":10342150,"display_name":"robertobatts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641386881,"creation_date":1641386558,"answer_id":70593068,"question_id":70593001,"body_markdown":"The problem is that `at` return a JsonNode, so you need to access it:\r\n\r\n    JsonNode rootNode = new ObjectMapper().readTree(json);\r\n    var result = rootNode.at(&quot;/deploy/namespace&quot;).asText();\r\n\r\nOtherwise, you can also access it in this way:\r\n\r\n    JsonNode rootNode = new ObjectMapper().readTree(json);\r\n    var result = rootNode.path(&quot;deploy&quot;).path(&quot;namespace&quot;).asText();","title":"How to read a nested value in a JSON using Jackson","body":"<p>The problem is that <code>at</code> return a JsonNode, so you need to access it:</p>\n<pre><code>JsonNode rootNode = new ObjectMapper().readTree(json);\nvar result = rootNode.at(&quot;/deploy/namespace&quot;).asText();\n</code></pre>\n<p>Otherwise, you can also access it in this way:</p>\n<pre><code>JsonNode rootNode = new ObjectMapper().readTree(json);\nvar result = rootNode.path(&quot;deploy&quot;).path(&quot;namespace&quot;).asText();\n</code></pre>\n"}],"owner":{"account_id":10116325,"reputation":418,"user_id":7474878,"display_name":"Isvoran Andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70593068,"answer_count":1,"score":1,"last_activity_date":1641386881,"creation_date":1641386233,"question_id":70593001,"body_markdown":"I have a json structure like this:\r\n\r\n    {\r\n      &quot;version&quot;: 1.0,\r\n      &quot;object&quot;: {\r\n        &quot;a1&quot;: &quot;a2&quot;,\r\n        &quot;b1&quot;: &quot;b2\r\n      },\r\n      &quot;deploy&quot;: {\r\n        &quot;applicationName&quot;: &quot;app&quot;,\r\n        &quot;namespace&quot;: &quot;com.abc.xyz&quot;\r\n        ...\r\n      }\r\n    }\r\n\r\nThe `...` means the JSON continues more. I want to retrieve the `namespace` from this JSON. My code looks like this:\r\n\r\n    JsonNode rootNode = new ObjectMapper().readTree(json);\r\n    var result = rootNode.at(&quot;/deploy/namespace&quot;);\r\n\r\n\r\nHowever, with this code, `result` will always `&quot;&quot;`\r\n\r\nI&#39;ve tried different paths but I&#39;m always getting an empty `String`.\r\nAny help?","title":"How to read a nested value in a JSON using Jackson","body":"<p>I have a json structure like this:</p>\n<pre><code>{\n  &quot;version&quot;: 1.0,\n  &quot;object&quot;: {\n    &quot;a1&quot;: &quot;a2&quot;,\n    &quot;b1&quot;: &quot;b2\n  },\n  &quot;deploy&quot;: {\n    &quot;applicationName&quot;: &quot;app&quot;,\n    &quot;namespace&quot;: &quot;com.abc.xyz&quot;\n    ...\n  }\n}\n</code></pre>\n<p>The <code>...</code> means the JSON continues more. I want to retrieve the <code>namespace</code> from this JSON. My code looks like this:</p>\n<pre><code>JsonNode rootNode = new ObjectMapper().readTree(json);\nvar result = rootNode.at(&quot;/deploy/namespace&quot;);\n</code></pre>\n<p>However, with this code, <code>result</code> will always <code>&quot;&quot;</code></p>\n<p>I've tried different paths but I'm always getting an empty <code>String</code>.\nAny help?</p>\n"},{"tags":["java","jdbc","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641386827,"creation_date":1641386827,"answer_id":70593120,"question_id":70592515,"body_markdown":"You can use the property `logServerErrorDetail` to prevent such leakages, see e.g.\r\n\r\n- https://github.com/pgjdbc/pgjdbc/pull/2148\r\n- https://jdbc.postgresql.org/documentation/head/connect.html#connection-parameters\r\n\r\nThe documentation reads:\r\n\r\n&gt; **logServerErrorDetail == boolean**\r\n&gt; \r\n&gt; Whether to include server error details in exceptions and log messages (for example inlined query parameters). Setting to false will only include minimal, not sensitive messages.\r\n&gt; \r\n&gt; By default this is set to true, server error details are propagated. This may include sensitive details such as query parameters.","title":"Remove cause from jooq stacktrace exception","body":"<p>You can use the property <code>logServerErrorDetail</code> to prevent such leakages, see e.g.</p>\n<ul>\n<li><a href=\"https://github.com/pgjdbc/pgjdbc/pull/2148\" rel=\"nofollow noreferrer\">https://github.com/pgjdbc/pgjdbc/pull/2148</a></li>\n<li><a href=\"https://jdbc.postgresql.org/documentation/head/connect.html#connection-parameters\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/head/connect.html#connection-parameters</a></li>\n</ul>\n<p>The documentation reads:</p>\n<blockquote>\n<p><strong>logServerErrorDetail == boolean</strong></p>\n<p>Whether to include server error details in exceptions and log messages (for example inlined query parameters). Setting to false will only include minimal, not sensitive messages.</p>\n<p>By default this is set to true, server error details are propagated. This may include sensitive details such as query parameters.</p>\n</blockquote>\n"}],"owner":{"account_id":23673013,"reputation":41,"user_id":17699549,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1641386827,"creation_date":1641383982,"question_id":70592515,"body_markdown":"I&#39;m trying to remove or hide sensitive data from Jooq exception handler, I&#39;ve tried implementing a listener to handle the exception but I realized that the query with the sensitive data (Bind values for example) comes from a java.sql.BatchUpdateException which does not belong Jooq but java.sql.\r\n\r\nSo, my question is, how do you hide sensitive data on exceptions without losing the complete exception information?\r\n\r\nThis is an example:\r\n\r\n        Caused by: org.jooq.exception.DataAccessException: SQL [insert into &quot;public&quot;.&quot;table&quot; (&quot;id&quot;, &quot;sensitvefield&quot;) values (?, ) on conflict (&quot;id&quot;, &quot;sensitvefield&quot;) do update set &quot;id&quot; = ?, &quot;sensitvefield&quot; = ? where (&quot;public&quot;.&quot;mytable&quot;.&quot;id&quot; = ? and &quot;public&quot;.&quot;mytable&quot;.&quot;sensitvefield&quot; = ?)]; Batch entry 0 insert into &quot;public&quot;.&quot;mytable&quot; (&quot;id&quot;,&quot;sensitvefield&quot;]&quot;) values (2653933, sensitivefielddata) was aborted: ERROR: value too long for type character varying(50)  Call getNextException to see other errors in the batch.\r\n    \tat org.jooq_3.14.15.POSTGRES.debug(Unknown Source)\r\n    \tat org.jooq.impl.Tools.translate(Tools.java:2903)\r\n    \tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:757)\r\n    \tat org.jooq.impl.BatchSingle.executePrepared(BatchSingle.java:254)\r\n    \tat org.jooq.impl.BatchSingle.execute(BatchSingle.java:170)\r\n    \tat org.jooq.impl.BatchCRUD.executePrepared(BatchCRUD.java:148)\r\n    \tat org.jooq.impl.BatchCRUD.execute(BatchCRUD.java:91)\r\n    \tat com.myservice(ServiceRepository.kt:49)\r\n    \t... 41 common frames omitted\r\n    Caused by: java.sql.BatchUpdateException: Batch entry 0 insert into &quot;public&quot;.&quot;mytable&quot; (&quot;id&quot;, &quot;sensitivefield&quot;,) values (2653933, sensitivefielddata) was aborted: ERROR: value too long for type character varying(50)  Call getNextException to see other errors in the batch.\r\n    \tat org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:171)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2298)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:520)\r\n    \tat org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:878)\r\n    \tat org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:901)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1644)\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\r\n    \tat org.jooq.tools.jdbc.DefaultStatement.executeBatch(DefaultStatement.java:112)\r\n    \tat org.jooq.impl.BatchSingle.executePrepared(BatchSingle.java:234)\r\n    \t... 45 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(50)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297)\r\n    \t... 53 common frames omitted\r\n\r\n\r\nHere for example, if I replace all the causes, I will be losing the message ERROR: value too long for type character varying(50) which gives a lot of information, but, as you can see, there is sensitive information like sensitvefield and sensitivedata.\r\n\r\nDoes anyone know any workaround for it?","title":"Remove cause from jooq stacktrace exception","body":"<p>I'm trying to remove or hide sensitive data from Jooq exception handler, I've tried implementing a listener to handle the exception but I realized that the query with the sensitive data (Bind values for example) comes from a java.sql.BatchUpdateException which does not belong Jooq but java.sql.</p>\n<p>So, my question is, how do you hide sensitive data on exceptions without losing the complete exception information?</p>\n<p>This is an example:</p>\n<pre><code>    Caused by: org.jooq.exception.DataAccessException: SQL [insert into &quot;public&quot;.&quot;table&quot; (&quot;id&quot;, &quot;sensitvefield&quot;) values (?, ) on conflict (&quot;id&quot;, &quot;sensitvefield&quot;) do update set &quot;id&quot; = ?, &quot;sensitvefield&quot; = ? where (&quot;public&quot;.&quot;mytable&quot;.&quot;id&quot; = ? and &quot;public&quot;.&quot;mytable&quot;.&quot;sensitvefield&quot; = ?)]; Batch entry 0 insert into &quot;public&quot;.&quot;mytable&quot; (&quot;id&quot;,&quot;sensitvefield&quot;]&quot;) values (2653933, sensitivefielddata) was aborted: ERROR: value too long for type character varying(50)  Call getNextException to see other errors in the batch.\n    at org.jooq_3.14.15.POSTGRES.debug(Unknown Source)\n    at org.jooq.impl.Tools.translate(Tools.java:2903)\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:757)\n    at org.jooq.impl.BatchSingle.executePrepared(BatchSingle.java:254)\n    at org.jooq.impl.BatchSingle.execute(BatchSingle.java:170)\n    at org.jooq.impl.BatchCRUD.executePrepared(BatchCRUD.java:148)\n    at org.jooq.impl.BatchCRUD.execute(BatchCRUD.java:91)\n    at com.myservice(ServiceRepository.kt:49)\n    ... 41 common frames omitted\nCaused by: java.sql.BatchUpdateException: Batch entry 0 insert into &quot;public&quot;.&quot;mytable&quot; (&quot;id&quot;, &quot;sensitivefield&quot;,) values (2653933, sensitivefielddata) was aborted: ERROR: value too long for type character varying(50)  Call getNextException to see other errors in the batch.\n    at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:171)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2298)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:520)\n    at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:878)\n    at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:901)\n    at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1644)\n    at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:127)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\n    at org.jooq.tools.jdbc.DefaultStatement.executeBatch(DefaultStatement.java:112)\n    at org.jooq.impl.BatchSingle.executePrepared(BatchSingle.java:234)\n    ... 45 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(50)\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297)\n    ... 53 common frames omitted\n</code></pre>\n<p>Here for example, if I replace all the causes, I will be losing the message ERROR: value too long for type character varying(50) which gives a lot of information, but, as you can see, there is sensitive information like sensitvefield and sensitivedata.</p>\n<p>Does anyone know any workaround for it?</p>\n"},{"tags":["java","maven","elasticsearch","log4j"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1641371039,"post_id":70589635,"comment_id":124784556,"body_markdown":"The part where you show what you tried is missing. Would be good to see how the repackaging works, since that is where you should exclude/remove the log4j jars.","body":"The part where you show what you tried is missing. Would be good to see how the repackaging works, since that is where you should exclude/remove the log4j jars."}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641370985,"creation_date":1641370985,"answer_id":70589735,"question_id":70589635,"body_markdown":"The [maven artifact][1] does not specify any dependencies, the log4j jars are packaged in the elasticsearch artifact. So excluding dependencies will not work here. What you need to do is simply to remove/replace the files in between the unzipping and rezipping.\r\n\r\n  [1]: https://search.maven.org/artifact/org.elasticsearch.distribution.zip/elasticsearch/6.8.22/pom","title":"Replace Log4j library in maven pom file","body":"<p>The <a href=\"https://search.maven.org/artifact/org.elasticsearch.distribution.zip/elasticsearch/6.8.22/pom\" rel=\"nofollow noreferrer\">maven artifact</a> does not specify any dependencies, the log4j jars are packaged in the elasticsearch artifact. So excluding dependencies will not work here. What you need to do is simply to remove/replace the files in between the unzipping and rezipping.</p>\n"}],"owner":{"account_id":13472129,"reputation":132,"user_id":12718773,"display_name":"ksclfanatic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70589735,"answer_count":1,"score":2,"last_activity_date":1641386700,"creation_date":1641370461,"question_id":70589635,"body_markdown":"We use ElasticSearch for our application. By a dependency in the pom file, we pull it in, do some configuration, and then repack it as a zip.\r\nThis is the defined dependency in the maven pom file.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.elasticsearch.distribution.zip&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n            &lt;version&gt;${elasticsearch-version}&lt;/version&gt;\r\n            &lt;type&gt;zip&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe problem is that this zip contains 2 libraries that should be replaced.\r\n\r\n - elasticsearch/lib/log4j-api-2.11.1.jar\r\n - elasticsearch/lib/log4j-core-2.11.1.jar\r\n\r\nThe 2.17.0 jars should replace them.\r\nI thought to exclude the dependencies to the old one in maven and package the new ones into the ElasticSearch zip. But when I add an exclude to the dependence, the jars are still available in the packaged zip. So this is what I tried to remove:\r\n\r\n\r\nWhat am I doing wrong?","title":"Replace Log4j library in maven pom file","body":"<p>We use ElasticSearch for our application. By a dependency in the pom file, we pull it in, do some configuration, and then repack it as a zip.\nThis is the defined dependency in the maven pom file.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.distribution.zip&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;${elasticsearch-version}&lt;/version&gt;\n        &lt;type&gt;zip&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The problem is that this zip contains 2 libraries that should be replaced.</p>\n<ul>\n<li>elasticsearch/lib/log4j-api-2.11.1.jar</li>\n<li>elasticsearch/lib/log4j-core-2.11.1.jar</li>\n</ul>\n<p>The 2.17.0 jars should replace them.\nI thought to exclude the dependencies to the old one in maven and package the new ones into the ElasticSearch zip. But when I add an exclude to the dependence, the jars are still available in the packaged zip. So this is what I tried to remove:</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1440187275,"creation_date":1440187275,"answer_id":32148417,"question_id":32146911,"body_markdown":"The REMOVE cascade type is for the standard JPA `remove()` operation. For the native Hibernate `delete()` operation, you need to use a [Hibernate-proprietary annotation][1]:\r\n\r\n    @Cascade(CascadeType.DELETE)\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/annotations/Cascade.html","title":"Hibernate throws Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>The REMOVE cascade type is for the standard JPA <code>remove()</code> operation. For the native Hibernate <code>delete()</code> operation, you need to use a <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/annotations/Cascade.html\" rel=\"noreferrer\">Hibernate-proprietary annotation</a>:</p>\n\n<pre><code>@Cascade(CascadeType.DELETE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6725415,"reputation":568,"user_id":5183595,"display_name":"besartm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574111796,"creation_date":1574110718,"answer_id":58922809,"question_id":32146911,"body_markdown":"When you delete Employee on session try to add this, I had the same issue:\r\n\r\n    session.delete(session.get(Employee.class, employee_Id));\r\n\r\nOn my issue I had Movie and TimeTable relation was OneToOne:\r\n\r\nOn Movie model:\r\n\r\n    public class Movie implements Serializable\r\n    {\r\n       @Id\r\n       @Column(name = &quot;fid&quot;)\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private int fid;\r\n       ....\r\n        @OneToOne(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private TimeTable timetable;\r\n    }\r\nOn TimeTable model:\r\n\r\n    public class TimeTable implements Serializable \r\n    {\r\n       ...\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;fid&quot;)\r\n        private Movie movie;\r\n    }\r\n\r\n","title":"Hibernate throws Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>When you delete Employee on session try to add this, I had the same issue:</p>\n\n<pre><code>session.delete(session.get(Employee.class, employee_Id));\n</code></pre>\n\n<p>On my issue I had Movie and TimeTable relation was OneToOne:</p>\n\n<p>On Movie model:</p>\n\n<pre><code>public class Movie implements Serializable\n{\n   @Id\n   @Column(name = \"fid\")\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int fid;\n   ....\n    @OneToOne(mappedBy = \"movie\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private TimeTable timetable;\n}\n</code></pre>\n\n<p>On TimeTable model:</p>\n\n<pre><code>public class TimeTable implements Serializable \n{\n   ...\n    @OneToOne\n    @JoinColumn(name = \"fid\")\n    private Movie movie;\n}\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39871,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32148417,"answer_count":2,"score":8,"last_activity_date":1641386560,"creation_date":1440181036,"question_id":32146911,"body_markdown":"I am working on a basic example to test `cascade delete` operation but I am getting exception.\r\n\r\nI have below entities:\r\n\r\n**Employee.java**\r\n\r\n    @Entity\r\n    public class Employee {\r\n    \t@Id\r\n    \t@Column(name = &quot;EMP_ID&quot;)\r\n    \tprivate long id;\r\n    \r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;employee&quot;)\r\n    \t@Cascade(value = { CascadeType.REMOVE, CascadeType.SAVE_UPDATE })\r\n    \tprivate List&lt;EmpDetails&gt; details = new ArrayList&lt;EmpDetails&gt;();\r\n    \r\n    }\r\n\r\n**EmpDetails.java**\r\n\r\n    @Entity\r\n    public class EmpDetails {\r\n    \t@Id\r\n    \tprivate long id;\r\n    \tprivate int info;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;EMP_ID&quot;)\r\n    \tprivate Employee employee;\r\n    }\r\n\r\nNow I have records in databse with employee id as 10 and corresponding records in employee details table.\r\n\r\nNow when I run below query:\r\n\r\n        session.beginTransaction();\r\n\r\n\t\tsession.delete(new Employee(10)); // here 10 is the ID of the employee\r\n\r\n\t\tsession.getTransaction().commit();\r\n\t\tsession.close();\r\n\r\n\r\nI was thinking hibernate will delete the employee record and the corresponding employee details records as I have set the cascade type to remove. But I am getting exception as :\r\n\r\n&gt; Caused by:\r\n&gt; com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException:\r\n&gt; Cannot delete or update a parent row: a foreign key constraint fails\r\n\r\nCan someone please help me how to test the cascade delete option here?\r\n\r\n\r\n\r\n","title":"Hibernate throws Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>I am working on a basic example to test <code>cascade delete</code> operation but I am getting exception.</p>\n\n<p>I have below entities:</p>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>@Entity\npublic class Employee {\n    @Id\n    @Column(name = \"EMP_ID\")\n    private long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = \"employee\")\n    @Cascade(value = { CascadeType.REMOVE, CascadeType.SAVE_UPDATE })\n    private List&lt;EmpDetails&gt; details = new ArrayList&lt;EmpDetails&gt;();\n\n}\n</code></pre>\n\n<p><strong>EmpDetails.java</strong></p>\n\n<pre><code>@Entity\npublic class EmpDetails {\n    @Id\n    private long id;\n    private int info;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"EMP_ID\")\n    private Employee employee;\n}\n</code></pre>\n\n<p>Now I have records in databse with employee id as 10 and corresponding records in employee details table.</p>\n\n<p>Now when I run below query:</p>\n\n<pre><code>    session.beginTransaction();\n\n    session.delete(new Employee(10)); // here 10 is the ID of the employee\n\n    session.getTransaction().commit();\n    session.close();\n</code></pre>\n\n<p>I was thinking hibernate will delete the employee record and the corresponding employee details records as I have set the cascade type to remove. But I am getting exception as :</p>\n\n<blockquote>\n  <p>Caused by:\n  com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException:\n  Cannot delete or update a parent row: a foreign key constraint fails</p>\n</blockquote>\n\n<p>Can someone please help me how to test the cascade delete option here?</p>\n"},{"tags":["java","mongodb","logging","mongodb-java"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1641385916,"post_id":70592133,"comment_id":124790171,"body_markdown":"MongoDB Java driver logging uses different Java loggers, depending upon the driver version. Normally, any kind of Java logger (for example java.util.logging) has options / setup to log to the console or a file.","body":"MongoDB Java driver logging uses different Java loggers, depending upon the driver version. Normally, any kind of Java logger (for example java.util.logging) has options / setup to log to the console or a file."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641386495,"creation_date":1641386495,"answer_id":70593055,"question_id":70592133,"body_markdown":"Mongodb Java driver uses slf4j logging API. Therefore you can add a logger that implements slf4j API like [Logback][1] and an appropriate logback.xml configuration file logging all events to a log file.\r\n\r\nhttps://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.2.10\r\n\r\n  [1]: https://logback.qos.ch/","title":"How to keep Mongo db java driver logs into a file?","body":"<p>Mongodb Java driver uses slf4j logging API. Therefore you can add a logger that implements slf4j API like <a href=\"https://logback.qos.ch/\" rel=\"nofollow noreferrer\">Logback</a> and an appropriate logback.xml configuration file logging all events to a log file.</p>\n<p><a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.2.10\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.2.10</a></p>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641386495,"creation_date":1641382243,"question_id":70592133,"body_markdown":"I&#39;m using Mongo db java driver in order to perform some actions on my Mongo db server via my app.\r\nwhen running my jar, the mongo db driver prints his logs to the screen. \r\nI would like to stop the printing and keep the logs into a file.\r\n\r\ncan I do this?","title":"How to keep Mongo db java driver logs into a file?","body":"<p>I'm using Mongo db java driver in order to perform some actions on my Mongo db server via my app.\nwhen running my jar, the mongo db driver prints his logs to the screen.\nI would like to stop the printing and keep the logs into a file.</p>\n<p>can I do this?</p>\n"},{"tags":["java","jar"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641386096,"creation_date":1641385084,"answer_id":70592749,"question_id":70592280,"body_markdown":"You have two options.\r\n\r\n1. First change the working directory to `update` so that the relative path to the &#39;update&#39; file matches what you want in the jar:\r\n\r\n    ```\r\n    cd update\r\n    jar uf ../Application.jar TestDir/text2.txt\r\n    ```\r\n\r\n2. use the -C option:\r\n\r\n    ```\r\n    jar uf Application.jar -C update TestDir/text2.txt\r\n    ```\r\n\r\nIt&#39;s possible the -C option requires that you do: `jar Application.jar -C update update/TestDir/text2.txt`.\r\n\r\nIn general, I advise the first option; the second gets tricky once you start using e.g. `*` and the like.\r\n","title":"Replacing files in jar by files in folder","body":"<p>You have two options.</p>\n<ol>\n<li><p>First change the working directory to <code>update</code> so that the relative path to the 'update' file matches what you want in the jar:</p>\n<pre><code>cd update\njar uf ../Application.jar TestDir/text2.txt\n</code></pre>\n</li>\n<li><p>use the -C option:</p>\n<pre><code>jar uf Application.jar -C update TestDir/text2.txt\n</code></pre>\n</li>\n</ol>\n<p>It's possible the -C option requires that you do: <code>jar Application.jar -C update update/TestDir/text2.txt</code>.</p>\n<p>In general, I advise the first option; the second gets tricky once you start using e.g. <code>*</code> and the like.</p>\n"}],"owner":{"account_id":15851925,"reputation":41,"user_id":11437514,"display_name":"Tristan K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70592749,"answer_count":1,"score":1,"last_activity_date":1641386096,"creation_date":1641382993,"question_id":70592280,"body_markdown":"I have a directory, update, with the same structure as a JAR file Application.jar. Now I want to (programmatically) replace all files in Application.jar with the files in the update folder. Lets say I have the following structure for both directory and jar file:\r\n\r\n    Application.jar / update\r\n        - TestDir\r\n            - text2.txt\r\n        - text1.txt\r\n\r\n\r\nWhen using `jar uf Application.jar update/TestDir/text2.txt` it creates a new directory in Application.jar - update - and it&#39;s going to be added all from there, even worse when using absolute paths (Creating the whole C:\\ structure inside the jar file). How can I preserve the structure, is there some way to mark pathToUpdate\\update as a root? I know there&#39;s the -C parameter, but I don&#39;t understand it.","title":"Replacing files in jar by files in folder","body":"<p>I have a directory, update, with the same structure as a JAR file Application.jar. Now I want to (programmatically) replace all files in Application.jar with the files in the update folder. Lets say I have the following structure for both directory and jar file:</p>\n<pre><code>Application.jar / update\n    - TestDir\n        - text2.txt\n    - text1.txt\n</code></pre>\n<p>When using <code>jar uf Application.jar update/TestDir/text2.txt</code> it creates a new directory in Application.jar - update - and it's going to be added all from there, even worse when using absolute paths (Creating the whole C:\\ structure inside the jar file). How can I preserve the structure, is there some way to mark pathToUpdate\\update as a root? I know there's the -C parameter, but I don't understand it.</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":15258408,"reputation":972,"user_id":11009351,"display_name":"Kemal Kaplan"},"score":0,"creation_date":1630495010,"post_id":69012121,"comment_id":121969831,"body_markdown":"Can you try log/web.log instead of log\\\\web.log","body":"Can you try log/web.log instead of log\\\\web.log"},{"owner":{"account_id":3799117,"reputation":335,"user_id":3153221,"accept_rate":78,"display_name":"Ragul"},"score":0,"creation_date":1630498996,"post_id":69012121,"comment_id":121971592,"body_markdown":"@KemalKaplan sure, I&#39;ll try. But it&#39;s creating that file properly and no issues in that. Issue is while the rolling appender kicks in.","body":"@KemalKaplan sure, I&#39;ll try. But it&#39;s creating that file properly and no issues in that. Issue is while the rolling appender kicks in."},{"owner":{"account_id":15258408,"reputation":972,"user_id":11009351,"display_name":"Kemal Kaplan"},"score":0,"creation_date":1630504397,"post_id":69012121,"comment_id":121974229,"body_markdown":"Maybe it looks for log4j.appender.rollingFile.File property and falls back to sys property if it is missing...","body":"Maybe it looks for log4j.appender.rollingFile.File property and falls back to sys property if it is missing..."},{"owner":{"account_id":2109306,"reputation":5484,"user_id":1879699,"display_name":"Andreas"},"score":0,"creation_date":1641385637,"post_id":69012121,"comment_id":124790058,"body_markdown":"Just a note: Please do not post logs, traces etc. as picture. Copy the text and format the text as code using the code format option of the editor. This way people can easily copy parts of the logs etc.","body":"Just a note: Please do not post logs, traces etc. as picture. Copy the text and format the text as code using the code format option of the editor. This way people can easily copy parts of the logs etc."}],"owner":{"account_id":3799117,"reputation":335,"user_id":3153221,"accept_rate":78,"display_name":"Ragul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641385480,"creation_date":1630492403,"question_id":69012121,"body_markdown":"I am using Log4J along with Springboot in my J2EE based WebApp.\r\n\r\nIt throws ***illegal char &lt;:&gt; exception while processing Appender File***.\r\n\r\n**Log4J version: 2.11.1**\r\n\r\nThe logger properties in my application.properties file are as below\r\n\r\n```\r\nlogging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n\r\nlogging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n\r\nlogging.file=log\\\\web.log\r\n```\r\nI understand that it&#39;s because of the character **colon &#39;:&#39;** , but even after trying out different patterns, I still get the same error message.\r\nI don&#39;t know where the ```${sys:LOG_PATH}``` part is coming from and how to fix this.\r\n\r\nCan someone please help. \r\n\r\nAttaching the error stack trace as well.\r\n\r\n[![stack trace][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ESbyv.png\r\n\r\n\r\nThanks in advance :)","title":"Log4J throws illegal char &lt;:&gt; exception while processing Appender File in Springboot WebApp","body":"<p>I am using Log4J along with Springboot in my J2EE based WebApp.</p>\n<p>It throws <em><strong>illegal char &lt;:&gt; exception while processing Appender File</strong></em>.</p>\n<p><strong>Log4J version: 2.11.1</strong></p>\n<p>The logger properties in my application.properties file are as below</p>\n<pre><code>logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n\nlogging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n\nlogging.file=log\\\\web.log\n</code></pre>\n<p>I understand that it's because of the character <strong>colon ':'</strong> , but even after trying out different patterns, I still get the same error message.\nI don't know where the <code>${sys:LOG_PATH}</code> part is coming from and how to fix this.</p>\n<p>Can someone please help.</p>\n<p>Attaching the error stack trace as well.</p>\n<p><a href=\"https://i.stack.imgur.com/ESbyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESbyv.png\" alt=\"stack trace\" /></a></p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","mysql","spring","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":6149989,"reputation":81,"user_id":4794676,"display_name":"Runeater DaWizKid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641385318,"creation_date":1641385318,"answer_id":70592792,"question_id":70591986,"body_markdown":"So this was happening because lombok was not injecting getters/setters and the ResponseEntity.ok.body(user) could not retrieve the values within the User class. \r\n\r\nApparently according to [this stackoverflow answer][1] when using eclipse lombok requires a plugin to properly inject the methods. \r\n\r\nSo this problem can be fixed by either manually defining the appropriate getters/setters needed or by installing the plugin for eclipse.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42301333/eclipse-lombok-annotations-not-compiled-why","title":"Spring CrudRepository failing to return JSON from valid object while using Lombok @Data Annotation","body":"<p>So this was happening because lombok was not injecting getters/setters and the ResponseEntity.ok.body(user) could not retrieve the values within the User class.</p>\n<p>Apparently according to <a href=\"https://stackoverflow.com/questions/42301333/eclipse-lombok-annotations-not-compiled-why\">this stackoverflow answer</a> when using eclipse lombok requires a plugin to properly inject the methods.</p>\n<p>So this problem can be fixed by either manually defining the appropriate getters/setters needed or by installing the plugin for eclipse.</p>\n"}],"owner":{"account_id":6149989,"reputation":81,"user_id":4794676,"display_name":"Runeater DaWizKid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641385318,"creation_date":1641381460,"question_id":70591986,"body_markdown":"I&#39;m attempting to get a basic spring application up and running from a tutorial with mysql but I&#39;m running into issues with the GetMapping and PostMapping annotations, here is what I have so far:\r\n\r\nI&#39;ve manually added a user into my table with id=0, name=&quot;test&quot; via mysql workbench and verified that the data is in fact there. \r\n*I was forced to do it via mysql workbench because attempting to post with curl results in no change*\r\n\r\nAttempting to call localhost/api/user/1 when there is no user with that ID gives me a 404, which is what is expected while calling it with localhost/api/user/0 gives me an http ok code 200, I&#39;m just not actually receiving a populated JSON object.\r\n\r\n**Debugging the application on the getUser (using url localhost/api/user/0) shows a user in memory with id=0, name=&quot;test&quot; however once the return ResponseBody.ok()... is completed the response I get via browser AND curl is still {}, an empty JSON object**\r\n\r\n\r\nUser.Java\r\n\r\n    @Data\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue(strategy=GenerationType.AUTO)\r\n\t    private long id;\r\n\t    private String name;\r\n    }\r\nUserRepository.java\r\n\r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\r\n\r\nUserController.java\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController {\r\n\r\n\t    @Autowired\r\n\t    private UserRepository userRepository;\r\n\t\r\n\t    @GetMapping\r\n\t    public List&lt;User&gt; getAllUsers(){\r\n\t\t    return (List&lt;User&gt;) userRepository.findAll();\r\n\t    }\r\n\t    @GetMapping(&quot;/{id}&quot;)\r\n\t    public ResponseEntity&lt;User&gt; getUser(@PathVariable(value=&quot;id&quot;) long id){\r\n\t\t    Optional&lt;User&gt; user = userRepository.findById(id);\r\n\t\t\r\n\t\t    if(user.isPresent()) {\r\n\t\t\t    return ResponseEntity.ok().body(user.get());\r\n\t\t    }else {\r\n\t\t\t    return ResponseEntity.notFound().build();\r\n\t\t    }\r\n\t\t\r\n\t    }\r\n\t\r\n\t    @PostMapping\r\n\t    public User saveUser(@Validated @RequestBody User user) {\r\n\t\t    return userRepository.save(user); \r\n\t    }\r\n    }\r\n\r\nSo to summarize I&#39;m receiving an empty JSON object from my GetMapping AND PostMapping annotated calls, even while I have valid data in the table (or have submitted valid post data) when I should be receiving back a json object with {id:0, name:&quot;test&quot;}, does anyone know what might be happening?\r\n\r\n**Edit:**\r\nIt appears as though lombok is not actually injecting getters and setters when I run my application, changing my user.java to\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue(strategy=GenerationType.AUTO)\r\n\t    private long id;\r\n\t    private String name;\r\n\t    public String getName() {\r\n\t\t    return name;\r\n\t    }\r\n\t    public void setName(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n\t\r\n\t    public long getId() {\r\n\t\t    return this.id;\r\n\t    }\r\n\t\r\n\t\r\n    }\r\n\r\nand recalling localhost/api/user/0 **returns the expected json object**, Why isnt lombok injecting these functions into my code properly with the @Data annotation? (eclipse)","title":"Spring CrudRepository failing to return JSON from valid object while using Lombok @Data Annotation","body":"<p>I'm attempting to get a basic spring application up and running from a tutorial with mysql but I'm running into issues with the GetMapping and PostMapping annotations, here is what I have so far:</p>\n<p>I've manually added a user into my table with id=0, name=&quot;test&quot; via mysql workbench and verified that the data is in fact there.\n<em>I was forced to do it via mysql workbench because attempting to post with curl results in no change</em></p>\n<p>Attempting to call localhost/api/user/1 when there is no user with that ID gives me a 404, which is what is expected while calling it with localhost/api/user/0 gives me an http ok code 200, I'm just not actually receiving a populated JSON object.</p>\n<p><strong>Debugging the application on the getUser (using url localhost/api/user/0) shows a user in memory with id=0, name=&quot;test&quot; however once the return ResponseBody.ok()... is completed the response I get via browser AND curl is still {}, an empty JSON object</strong></p>\n<p>User.Java</p>\n<pre><code>@Data\n@Builder\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private long id;\n    private String name;\n}\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\n</code></pre>\n<p>UserController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping\n    public List&lt;User&gt; getAllUsers(){\n        return (List&lt;User&gt;) userRepository.findAll();\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable(value=&quot;id&quot;) long id){\n        Optional&lt;User&gt; user = userRepository.findById(id);\n    \n        if(user.isPresent()) {\n            return ResponseEntity.ok().body(user.get());\n        }else {\n            return ResponseEntity.notFound().build();\n        }\n    \n    }\n\n    @PostMapping\n    public User saveUser(@Validated @RequestBody User user) {\n        return userRepository.save(user); \n    }\n}\n</code></pre>\n<p>So to summarize I'm receiving an empty JSON object from my GetMapping AND PostMapping annotated calls, even while I have valid data in the table (or have submitted valid post data) when I should be receiving back a json object with {id:0, name:&quot;test&quot;}, does anyone know what might be happening?</p>\n<p><strong>Edit:</strong>\nIt appears as though lombok is not actually injecting getters and setters when I run my application, changing my user.java to</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private long id;\n    private String name;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public long getId() {\n        return this.id;\n    }\n\n\n}\n</code></pre>\n<p>and recalling localhost/api/user/0 <strong>returns the expected json object</strong>, Why isnt lombok injecting these functions into my code properly with the @Data annotation? (eclipse)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1641385361,"post_id":70592772,"comment_id":124789966,"body_markdown":"It doesn&#39;t look like you&#39;ve imported class `Sort` so how should Java know where to find it? What is `Sort` meant to be  anyway? You&#39;re using it like a `Scanner` (`tst.nextInt();`)  so did you actually mean to use that class or the variable you&#39;ve already declared, i.e. `scan `?","body":"It doesn&#39;t look like you&#39;ve imported class <code>Sort</code> so how should Java know where to find it? What is <code>Sort</code> meant to be  anyway? You&#39;re using it like a <code>Scanner</code> (<code>tst.nextInt();</code>)  so did you actually mean to use that class or the variable you&#39;ve already declared, i.e. <code>scan </code>?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1641385402,"post_id":70592772,"comment_id":124789979,"body_markdown":"your class is named BubbleSort, not Sort","body":"your class is named BubbleSort, not Sort"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1641385573,"post_id":70592772,"comment_id":124790034,"body_markdown":"The fact that you are trying to call `tst.nextInt();` on your `Sort tst = new Sort();` object heavily implies that `tst` is supposed to be a `java.util.Scanner` object.","body":"The fact that you are trying to call <code>tst.nextInt();</code> on your <code>Sort tst = new Sort();</code> object heavily implies that <code>tst</code> is supposed to be a <code>java.util.Scanner</code> object."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641385663,"post_id":70592772,"comment_id":124790074,"body_markdown":"@Stultuske that was my thought as well but `Sort` seems not to refer to `BubbleSort` in any case, i.e. `BubbleSort` doesn&#39;t have any instance methods (only a field `data`) and the OP is calling `tst.nextInt()` which indicates this doesn&#39;t refer to anything related to a bubble sort.","body":"@Stultuske that was my thought as well but <code>Sort</code> seems not to refer to <code>BubbleSort</code> in any case, i.e. <code>BubbleSort</code> doesn&#39;t have any instance methods (only a field <code>data</code>) and the OP is calling <code>tst.nextInt()</code> which indicates this doesn&#39;t refer to anything related to a bubble sort."}],"owner":{"account_id":23113977,"reputation":1,"user_id":17221532,"display_name":"Inzaghi Posuma Al Kahfi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641385397,"answer_count":0,"score":0,"last_activity_date":1641385244,"creation_date":1641385244,"question_id":70592772,"body_markdown":"I want to make a Bubble Sort Program in Java, but I&#39;m feel trouble. I also being confused with ``static void`` and also ``public static void``. Actually, I want to convert this program from C++ to Java, but the program have an errors. \r\n\r\nThis is the Java program that I have created :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class BubbleSort{\r\n        static Scanner scan = new Scanner(System.in);\r\n        int data[] = new int[20];\r\n        static int Nilai[] = new int[20];\r\n    \r\n        static void prosesPerpindahan(int data[],int y){\r\n            int x;\r\n            for(x=0;x&lt;y;x++){\r\n                System.out.print(data[x]+&quot; &quot;);\r\n            }\r\n        }\r\n    \r\n        static void prosesSorting(int data[],int y){\r\n            int proses,x,tampung;\r\n        \r\n            for(proses=1;proses&lt;y;proses++){\r\n                for(x=0;x&lt;y-proses;x++) {\r\n                    if(data[x]&gt;data[x+1]){\r\n                        tampung=data[x];\r\n                        data[x]=data[x+1];\r\n                        data[x+1]=tampung;\r\n                    }\r\n                }\r\n            System.out.print(&quot;Tahap Ke-&quot;+proses+&quot; : &quot;);\r\n            prosesPerpindahan(data,y);\r\n            }\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n            Sort tst = new Sort();\r\n            int i, N;\r\n            \r\n            System.out.print(&quot;Masukkan Banyak Bilangan : &quot;);\r\n            N = tst.nextInt();\r\n            \r\n            for(i=0; i&lt;N; i++){\r\n                System.out.print(&quot;Elemen ke-&quot;+i+&quot; : &quot;);\r\n                Nilai[i] = tst.nextInt();\r\n            }\r\n            \r\n            prosesSorting(Nilai,N);\r\n    \r\n            System.out.println(&quot;Setelah Di Urutkan dengan Bubble Sort : &quot;);\r\n            prosesPerpindahan(Nilai,N);\r\n        }\r\n    }\r\n\r\nWhen I want to compile that program, will appear this notes :\r\n\r\n    BubbleSort.java:32: error: cannot find symbol\r\n            Sort tst = new Sort();\r\n            ^\r\n      symbol:   class Sort\r\n      location: class BubbleSort\r\n    BubbleSort.java:32: error: cannot find symbol\r\n            Sort tst = new Sort();\r\n                           ^\r\n      symbol:   class Sort\r\n      location: class BubbleSort\r\n    2 errors\r\n\r\nNote : Please answer this question if you can!","title":"Why does the program always error when I want to compile this Java program and it says &quot;cannot find symbol&quot;?","body":"<p>I want to make a Bubble Sort Program in Java, but I'm feel trouble. I also being confused with <code>static void</code> and also <code>public static void</code>. Actually, I want to convert this program from C++ to Java, but the program have an errors.</p>\n<p>This is the Java program that I have created :</p>\n<pre><code>import java.util.Scanner;\n\npublic class BubbleSort{\n    static Scanner scan = new Scanner(System.in);\n    int data[] = new int[20];\n    static int Nilai[] = new int[20];\n\n    static void prosesPerpindahan(int data[],int y){\n        int x;\n        for(x=0;x&lt;y;x++){\n            System.out.print(data[x]+&quot; &quot;);\n        }\n    }\n\n    static void prosesSorting(int data[],int y){\n        int proses,x,tampung;\n    \n        for(proses=1;proses&lt;y;proses++){\n            for(x=0;x&lt;y-proses;x++) {\n                if(data[x]&gt;data[x+1]){\n                    tampung=data[x];\n                    data[x]=data[x+1];\n                    data[x+1]=tampung;\n                }\n            }\n        System.out.print(&quot;Tahap Ke-&quot;+proses+&quot; : &quot;);\n        prosesPerpindahan(data,y);\n        }\n    }\n\n    public static void main(String args[]){\n        Sort tst = new Sort();\n        int i, N;\n        \n        System.out.print(&quot;Masukkan Banyak Bilangan : &quot;);\n        N = tst.nextInt();\n        \n        for(i=0; i&lt;N; i++){\n            System.out.print(&quot;Elemen ke-&quot;+i+&quot; : &quot;);\n            Nilai[i] = tst.nextInt();\n        }\n        \n        prosesSorting(Nilai,N);\n\n        System.out.println(&quot;Setelah Di Urutkan dengan Bubble Sort : &quot;);\n        prosesPerpindahan(Nilai,N);\n    }\n}\n</code></pre>\n<p>When I want to compile that program, will appear this notes :</p>\n<pre><code>BubbleSort.java:32: error: cannot find symbol\n        Sort tst = new Sort();\n        ^\n  symbol:   class Sort\n  location: class BubbleSort\nBubbleSort.java:32: error: cannot find symbol\n        Sort tst = new Sort();\n                       ^\n  symbol:   class Sort\n  location: class BubbleSort\n2 errors\n</code></pre>\n<p>Note : Please answer this question if you can!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":1281225,"reputation":5615,"user_id":1235281,"accept_rate":88,"display_name":"Jodiug"},"score":0,"creation_date":1660578661,"post_id":70592726,"comment_id":129559936,"body_markdown":"Perhaps you could use `leftJoin`, and then `.split(...).branch(...)` based on values in B being empty in the join result. This would then separate the matched A-B pairs from the unmatched A&#39;s. Then you can process the unmatched pairs separately - same for the second join.","body":"Perhaps you could use <code>leftJoin</code>, and then <code>.split(...).branch(...)</code> based on values in B being empty in the join result. This would then separate the matched A-B pairs from the unmatched A&#39;s. Then you can process the unmatched pairs separately - same for the second join."}],"owner":{"account_id":7337005,"reputation":352,"user_id":5588032,"accept_rate":60,"display_name":"Pmsmm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641384990,"creation_date":1641384990,"question_id":70592726,"body_markdown":"I have 3 Kafka Streams for 3 different topics. To each of these streams I apply a filter operation so that I can filter results that contain a certain field which is the type of message.\r\n\r\nRight now I have three streams that are the result of applying the filter operation which we&#39;ll call Stream A, Stream B and Stream C.\r\n\r\nI join the messages from each Stream by key by applying a join operation between Stream A and Stream B and then I get the result (Stream A + Stream B) and join that with Stream C (Messages on Stream C usually show up much later that A and B because the producer takes longer to produce those messages)\r\n\r\nWhat I want to know is how can I trigger an event (To signal an error) when one of the 3 required messages fails to appear within a defined time window? So lets say I want to join messages from Streams A and B and the message from Stream A appears but the one from Stream B does not or both of them appear but then Stream C message does not. How can I signal that a certain message from a certain Stream failed to appear within the given time window?\r\n\r\nBelow you can find the code I have that is working for the best case scenario which is all messages appear within the time window.\r\n\r\n    //Filter the Streams to get only records corresponding to report of type FULL REPORT\r\n    KStream&lt;String, String&gt; filteredStreamA = StreamA.filter((reportId, jsonPayload) -&gt; filterRecordsByReportType(jsonPayload));\r\n    \r\n    KStream&lt;String, String&gt; filteredStreamB = StreamB.filter((reportId, jsonPayload) -&gt; filterRecordsByReportType(jsonPayload));\r\n    \r\n    KStream&lt;String, String&gt; filteredStreamC = StreamC.filter((reportId, jsonPayload) -&gt; filterRecordsByReportType(jsonPayload));\r\n    \r\n    //Inner Join of the Streams A and B by Key during a 30 seconds window\r\n    KStream&lt;String, String&gt; joinedAandBStream = filteredStreamA\r\n                    .join(filteredStreamB, A_B_joiner, JoinWindows.of(Duration.ofSeconds(30)));\r\n    \r\n    //Inner Join of the Streams (A+B) and C during a 60 seconds window\r\n    KStream&lt;String, String&gt; joinedAandBandC = joinedAandBStream\r\n                    .join(filteredStreamC, A_B_C_joiner, JoinWindows.of(Duration.ofSeconds(60)));","title":"How to Trigger Event when Join Operation on Kafka Streams Does Not Complete","body":"<p>I have 3 Kafka Streams for 3 different topics. To each of these streams I apply a filter operation so that I can filter results that contain a certain field which is the type of message.</p>\n<p>Right now I have three streams that are the result of applying the filter operation which we'll call Stream A, Stream B and Stream C.</p>\n<p>I join the messages from each Stream by key by applying a join operation between Stream A and Stream B and then I get the result (Stream A + Stream B) and join that with Stream C (Messages on Stream C usually show up much later that A and B because the producer takes longer to produce those messages)</p>\n<p>What I want to know is how can I trigger an event (To signal an error) when one of the 3 required messages fails to appear within a defined time window? So lets say I want to join messages from Streams A and B and the message from Stream A appears but the one from Stream B does not or both of them appear but then Stream C message does not. How can I signal that a certain message from a certain Stream failed to appear within the given time window?</p>\n<p>Below you can find the code I have that is working for the best case scenario which is all messages appear within the time window.</p>\n<pre><code>//Filter the Streams to get only records corresponding to report of type FULL REPORT\nKStream&lt;String, String&gt; filteredStreamA = StreamA.filter((reportId, jsonPayload) -&gt; filterRecordsByReportType(jsonPayload));\n\nKStream&lt;String, String&gt; filteredStreamB = StreamB.filter((reportId, jsonPayload) -&gt; filterRecordsByReportType(jsonPayload));\n\nKStream&lt;String, String&gt; filteredStreamC = StreamC.filter((reportId, jsonPayload) -&gt; filterRecordsByReportType(jsonPayload));\n\n//Inner Join of the Streams A and B by Key during a 30 seconds window\nKStream&lt;String, String&gt; joinedAandBStream = filteredStreamA\n                .join(filteredStreamB, A_B_joiner, JoinWindows.of(Duration.ofSeconds(30)));\n\n//Inner Join of the Streams (A+B) and C during a 60 seconds window\nKStream&lt;String, String&gt; joinedAandBandC = joinedAandBStream\n                .join(filteredStreamC, A_B_C_joiner, JoinWindows.of(Duration.ofSeconds(60)));\n</code></pre>\n"},{"tags":["java","encoding","zip","bytearrayoutputstream","charset"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641384941,"creation_date":1641384941,"answer_id":70592715,"question_id":70592417,"body_markdown":"Solution: Use the right `ZipOutputStream` constructor, the one that takes both an OutputStream _and_ an encoding.\r\n\r\nSidenote: You have a typo. This:\r\n\r\n&gt; `headers.setContentType(MediaType.parseMediaType(&quot;application/zip; charset-utf-8&quot;));`\r\n\r\nis incorrect. It&#39;s `charset=utf-8`. Note the equals sign. However, that&#39;s not correct either. ZIP files __do not have__ a charset encoding. It&#39;s binary data. JPG files don&#39;t have one either, same reason. The correct mime type is just `application/zip` with nothing more.\r\n\r\n## Full explanation\r\n\r\nYou __cannot__ convey the charset encoding of __entries in your zip file__ with mime headers. It is encoded in the zip file itself.\r\n\r\nSo, encode it in the zip file itself. It&#39;s easy to do!\r\n\r\n```\r\nnew ZipOutputStream(byteArrayOutputStream, StandardCharsets.UTF_8);\r\n```\r\n\r\nThat&#39;s the only update you need to make.","title":"ByteArrayOutputStream - entries generated with special characters wrongly","body":"<p>Solution: Use the right <code>ZipOutputStream</code> constructor, the one that takes both an OutputStream <em>and</em> an encoding.</p>\n<p>Sidenote: You have a typo. This:</p>\n<blockquote>\n<p><code>headers.setContentType(MediaType.parseMediaType(&quot;application/zip; charset-utf-8&quot;));</code></p>\n</blockquote>\n<p>is incorrect. It's <code>charset=utf-8</code>. Note the equals sign. However, that's not correct either. ZIP files <strong>do not have</strong> a charset encoding. It's binary data. JPG files don't have one either, same reason. The correct mime type is just <code>application/zip</code> with nothing more.</p>\n<h2>Full explanation</h2>\n<p>You <strong>cannot</strong> convey the charset encoding of <strong>entries in your zip file</strong> with mime headers. It is encoded in the zip file itself.</p>\n<p>So, encode it in the zip file itself. It's easy to do!</p>\n<pre><code>new ZipOutputStream(byteArrayOutputStream, StandardCharsets.UTF_8);\n</code></pre>\n<p>That's the only update you need to make.</p>\n"}],"owner":{"account_id":2968965,"reputation":474,"user_id":2521500,"accept_rate":43,"display_name":"Andr&#233; Lu&#237;s Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641385054,"accepted_answer_id":70592715,"answer_count":1,"score":0,"last_activity_date":1641384941,"creation_date":1641383565,"question_id":70592417,"body_markdown":"I am generating a zip file using ByteArrayOutputStream and ZipOutputStream. Filenames at ZipEntry are OK, with the correct encoding.\r\nThe problem comes when it is called &quot;ByteArrayOutputStream.toByteArray()&quot; and the zip file is created correctly but zipEntries are generated at &quot;cp866&quot;. At controller the return type is ResponseEntity&lt;byte[]&gt;.\r\n\r\nBelow it is part of the code.\r\n\r\n```\r\n    byteArrayOutputStream = new ByteArrayOutputStream();\r\n    zipOutputStream = new ZipOutputStream(byteArrayOutputStream);\r\n    zipOutputStream.putNextEntry(new ZipEntry(&quot;a&#231;&#227;o.pdf&quot;)); //Here it is all OK\r\n    zipOutputStream.write(inputStream.readAllBytes());\r\n    zipOutputStream.closeEntry();\r\n\r\n```\r\nAnd the code that return to RestController is something like:\r\n```\r\n    HttpHeaders headers = new HttpHeaders();\r\n    contentDisposition =\r\n        ContentDisposition.builder(&quot;attachment&quot;).filename(&quot;download.zip&quot;).build();\r\n\r\n    headers.setContentDisposition(contentDisposition);\r\n    headers.setContentLength(byteArrayOutputStream.size());\r\n    headers.setContentType(MediaType.parseMediaType(&quot;application/zip; charset-utf-8&quot;));\r\n    return ResponseEntity.ok().headers(headers).body(byteArrayOutputStream.toByteArray());\r\n```\r\nAt this scenario, a file called &quot;a&#231;&#227;o.pdf&quot; is generated as &quot;a├з├гo.pdf&quot;, and if I specify charset ISO8859-1 at ZipEntry, it is generated as &quot;aчуo.pdf&quot;.\r\n\r\nWhat I have tried:\r\n- returning a StreamingResponseBody (instead of byte[])\r\n- specify charset at zipEntry filename string\r\n- specify charset at zipEntry object\r\n- convert do base64 (file is generated corrupted)\r\n\r\nWithout success in all possibilities","title":"ByteArrayOutputStream - entries generated with special characters wrongly","body":"<p>I am generating a zip file using ByteArrayOutputStream and ZipOutputStream. Filenames at ZipEntry are OK, with the correct encoding.\nThe problem comes when it is called &quot;ByteArrayOutputStream.toByteArray()&quot; and the zip file is created correctly but zipEntries are generated at &quot;cp866&quot;. At controller the return type is ResponseEntity&lt;byte[]&gt;.</p>\n<p>Below it is part of the code.</p>\n<pre><code>    byteArrayOutputStream = new ByteArrayOutputStream();\n    zipOutputStream = new ZipOutputStream(byteArrayOutputStream);\n    zipOutputStream.putNextEntry(new ZipEntry(&quot;ação.pdf&quot;)); //Here it is all OK\n    zipOutputStream.write(inputStream.readAllBytes());\n    zipOutputStream.closeEntry();\n\n</code></pre>\n<p>And the code that return to RestController is something like:</p>\n<pre><code>    HttpHeaders headers = new HttpHeaders();\n    contentDisposition =\n        ContentDisposition.builder(&quot;attachment&quot;).filename(&quot;download.zip&quot;).build();\n\n    headers.setContentDisposition(contentDisposition);\n    headers.setContentLength(byteArrayOutputStream.size());\n    headers.setContentType(MediaType.parseMediaType(&quot;application/zip; charset-utf-8&quot;));\n    return ResponseEntity.ok().headers(headers).body(byteArrayOutputStream.toByteArray());\n</code></pre>\n<p>At this scenario, a file called &quot;ação.pdf&quot; is generated as &quot;a├з├гo.pdf&quot;, and if I specify charset ISO8859-1 at ZipEntry, it is generated as &quot;aчуo.pdf&quot;.</p>\n<p>What I have tried:</p>\n<ul>\n<li>returning a StreamingResponseBody (instead of byte[])</li>\n<li>specify charset at zipEntry filename string</li>\n<li>specify charset at zipEntry object</li>\n<li>convert do base64 (file is generated corrupted)</li>\n</ul>\n<p>Without success in all possibilities</p>\n"},{"tags":["java","gradle","build.gradle","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641384631,"creation_date":1641384631,"answer_id":70592655,"question_id":70592451,"body_markdown":"That line is rather obviously broken: It calls `Lists.newArrayList`, which is presumably guava&#39;s `Lists` utility class (is there an `import com.google.common.collect.*` or `.Lists` at the top? Then, yes). Even if it isnt, the name makes the intent clear.\r\n\r\nYou hand this method an `Object[]` (because of the cast). Obviously, that means it will return a `List&lt;Object&gt;`. Your method, however, must return a `List&lt;String&gt;`. It doesn&#39;t, thus, error.\r\n\r\nThis code does not work now and never has.\r\n\r\nIf you want it to work, remove the `(Object[])`, I have no idea who added it, or why. Possibly this is code produced by decompiling some class files. It&#39;s extremely common for those to not actually be fully valid. If you did that to more than a few pagefuls of code, this is merely the first in about 149495581 further errors.\r\n","title":"Java &quot;error: incompatible types: inference variable E has incompatible bounds&quot; error","body":"<p>That line is rather obviously broken: It calls <code>Lists.newArrayList</code>, which is presumably guava's <code>Lists</code> utility class (is there an <code>import com.google.common.collect.*</code> or <code>.Lists</code> at the top? Then, yes). Even if it isnt, the name makes the intent clear.</p>\n<p>You hand this method an <code>Object[]</code> (because of the cast). Obviously, that means it will return a <code>List&lt;Object&gt;</code>. Your method, however, must return a <code>List&lt;String&gt;</code>. It doesn't, thus, error.</p>\n<p>This code does not work now and never has.</p>\n<p>If you want it to work, remove the <code>(Object[])</code>, I have no idea who added it, or why. Possibly this is code produced by decompiling some class files. It's extremely common for those to not actually be fully valid. If you did that to more than a few pagefuls of code, this is merely the first in about 149495581 further errors.</p>\n"}],"owner":{"account_id":18811550,"reputation":43,"user_id":13719641,"display_name":"Ultimate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70592655,"answer_count":1,"score":1,"last_activity_date":1641384656,"creation_date":1641383708,"question_id":70592451,"body_markdown":"So i am trying something out in java. (a forge minecraft mod). And when i compile, i keep getting this error:\r\n\r\n```\r\nerror: incompatible types: inference variable E has incompatible bounds\r\n    return Lists.newArrayList((Object[])new String[] { &quot;clickset&quot; });\r\n                             ^\r\n    equality constraints: String\r\n    lower bounds: Object\r\n  where E is a type-variable:\r\n    E extends Object declared in method &lt;E&gt;newArrayList(E...)\r\n```\r\n\r\nThe code is: \r\n\r\n```  \r\npublic List&lt;String&gt; getCommandAliases() {\r\n    return Lists.newArrayList((Object[])new String[] { &quot;clickset&quot; });\r\n}\r\n```","title":"Java &quot;error: incompatible types: inference variable E has incompatible bounds&quot; error","body":"<p>So i am trying something out in java. (a forge minecraft mod). And when i compile, i keep getting this error:</p>\n<pre><code>error: incompatible types: inference variable E has incompatible bounds\n    return Lists.newArrayList((Object[])new String[] { &quot;clickset&quot; });\n                             ^\n    equality constraints: String\n    lower bounds: Object\n  where E is a type-variable:\n    E extends Object declared in method &lt;E&gt;newArrayList(E...)\n</code></pre>\n<p>The code is:</p>\n<pre><code>public List&lt;String&gt; getCommandAliases() {\n    return Lists.newArrayList((Object[])new String[] { &quot;clickset&quot; });\n}\n</code></pre>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1641378847,"post_id":70591377,"comment_id":124787434,"body_markdown":"You could use reflection since the getters have the same name in both classes, but for 2 fields? Just compare the fields manually: `boolean result = Objects.equals(person2.getAge(), person.getAge()) &amp;&amp; Objects.equals(person2.getName(), person.getName());`","body":"You could use reflection since the getters have the same name in both classes, but for 2 fields? Just compare the fields manually: <code>boolean result = Objects.equals(person2.getAge(), person.getAge()) &amp;&amp; Objects.equals(person2.getName(), person.getName());</code>"},{"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"score":0,"creation_date":1641378958,"post_id":70591377,"comment_id":124787487,"body_markdown":"@fish classes have more fields, just shown an example, can you show the example using reflection?","body":"@fish classes have more fields, just shown an example, can you show the example using reflection?"},{"owner":{"account_id":6980707,"reputation":40121,"user_id":5353753,"accept_rate":56,"display_name":"sagi"},"score":0,"creation_date":1641379090,"post_id":70591377,"comment_id":124787529,"body_markdown":"You can look here https://stackoverflow.com/questions/3333974/how-to-loop-over-a-class-attributes-in-java","body":"You can look here <a href=\"https://stackoverflow.com/questions/3333974/how-to-loop-over-a-class-attributes-in-java\" title=\"how to loop over a class attributes in java\">stackoverflow.com/questions/3333974/&hellip;</a>"},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1641379193,"post_id":70591377,"comment_id":124787565,"body_markdown":"Is it really due to the order of fields? - because I don&#39;t see a way to do this, if not deliberately. Or does `PersonTwo.equals` include a line like `if (obj instanceof PersonTwo`)?","body":"Is it really due to the order of fields? - because I don&#39;t see a way to do this, if not deliberately. Or does <code>PersonTwo.equals</code> include a line like <code>if (obj instanceof PersonTwo</code>)?"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641384417,"creation_date":1641384417,"answer_id":70592603,"question_id":70591377,"body_markdown":"The order of the attributes has no bearing on the equality of these objects.  They are distinct classes so `Objects.equals(Object,Object)` will return false regardless of the fields of those classes because it uses the `equals` method of the first argument to determine equality after performing null comparisons. Since both classes are part of external libraries you cannot hack a change to the `equals` method of either (which is just as well because that is a bad idea).\r\n\r\nYou could create your own version of `Objects.equals(..)` to handle this specific case.  A better approach would be to convert one of the instances into the other type and then you can compare them.  However, this assumes that `equals` is properly implemented for either (something that is out of your control since they come from external libraries).  You could also convert both of them to your own class (MyPerson?), implement a proper equals, and then you know it will behave as intended.","title":"How to check two different classes attribute values are same","body":"<p>The order of the attributes has no bearing on the equality of these objects.  They are distinct classes so <code>Objects.equals(Object,Object)</code> will return false regardless of the fields of those classes because it uses the <code>equals</code> method of the first argument to determine equality after performing null comparisons. Since both classes are part of external libraries you cannot hack a change to the <code>equals</code> method of either (which is just as well because that is a bad idea).</p>\n<p>You could create your own version of <code>Objects.equals(..)</code> to handle this specific case.  A better approach would be to convert one of the instances into the other type and then you can compare them.  However, this assumes that <code>equals</code> is properly implemented for either (something that is out of your control since they come from external libraries).  You could also convert both of them to your own class (MyPerson?), implement a proper equals, and then you know it will behave as intended.</p>\n"}],"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641384417,"creation_date":1641378691,"question_id":70591377,"body_markdown":"How to check two different classes having the same attributes in different order have the same values\r\n\r\n    public class Person {\r\n            String name;\r\n            Long age;\r\n            // getters and setters\r\n            // equals and hashcode    \r\n    }\r\nSecond class attributes in different order\r\n\r\n    public class PersonTwo {            \r\n                Long age;\r\n                String name;\r\n    \r\n                // getters and setters\r\n                // equals and hashcode    \r\n        }\r\n\r\nChecking two objects equal\r\n    \r\n            Person person = new Person();\r\n            person.setAge(122L);\r\n            person.setName(&quot;Paul&quot;);\r\n    \r\n            PersonTwo person2 = new PersonTwo();\r\n            person2.setName(&quot;Paul&quot;);\r\n            person2.setAge(122L);\r\n            \r\n            boolean result = Objects.equals(person2, person);\r\n\r\nThis will return false, cannot make changes in both classes as they are from another library.\r\n\r\nInstead of comparing each attribute value, any easy ways to do this?\r\n      \r\n\r\n\r\n\r\n","title":"How to check two different classes attribute values are same","body":"<p>How to check two different classes having the same attributes in different order have the same values</p>\n<pre><code>public class Person {\n        String name;\n        Long age;\n        // getters and setters\n        // equals and hashcode    \n}\n</code></pre>\n<p>Second class attributes in different order</p>\n<pre><code>public class PersonTwo {            \n            Long age;\n            String name;\n\n            // getters and setters\n            // equals and hashcode    \n    }\n</code></pre>\n<p>Checking two objects equal</p>\n<pre><code>        Person person = new Person();\n        person.setAge(122L);\n        person.setName(&quot;Paul&quot;);\n\n        PersonTwo person2 = new PersonTwo();\n        person2.setName(&quot;Paul&quot;);\n        person2.setAge(122L);\n        \n        boolean result = Objects.equals(person2, person);\n</code></pre>\n<p>This will return false, cannot make changes in both classes as they are from another library.</p>\n<p>Instead of comparing each attribute value, any easy ways to do this?</p>\n"},{"tags":["java","android","json","gson","assertion"],"answers":[{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1492435595,"creation_date":1492435595,"answer_id":43452431,"question_id":23155794,"body_markdown":"This should be solved by using the following rule:\r\n\r\n    -keepclassmembers enum * { *; }\r\n\r\nor the use the following:\r\n\r\n    -keepclassmembers enum com.your.package.** { *; }\r\n\r\nRelated answer: https://stackoverflow.com/a/30167048/4758255","title":"App crashing when I run Proguard on GSON (which using enum)","body":"<p>This should be solved by using the following rule:</p>\n\n<pre><code>-keepclassmembers enum * { *; }\n</code></pre>\n\n<p>or the use the following:</p>\n\n<pre><code>-keepclassmembers enum com.your.package.** { *; }\n</code></pre>\n\n<p>Related answer: <a href=\"https://stackoverflow.com/a/30167048/4758255\">https://stackoverflow.com/a/30167048/4758255</a></p>\n"},{"tags":[],"owner":{"account_id":12982386,"reputation":313,"user_id":9384336,"display_name":"Fadwa Bechri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540300335,"creation_date":1540300335,"answer_id":52949999,"question_id":23155794,"body_markdown":"I resolved this problem with adding those rules in my proguard-rule file :\r\n\r\n        # GSON.\r\n    -keepnames class com.google.gson.** {*;}\r\n    -keepnames enum com.google.gson.** {*;}\r\n    -keepnames interface com.google.gson.** {*;}\r\n    -keep class com.google.gson.** { *; }\r\n    -keepnames class org.** {*;}\r\n    -keepnames enum org.** {*;}\r\n    -keepnames interface org.** {*;}\r\n    -keep class org.** { *; }\r\n    \r\n    -keepnames class com.yourpackagename.net.** {*;}\r\n    -keepnames enum com.yourpackagename.net.** {*;}\r\n    -keepnames interface com.yourpackagename.net.** {*;}\r\n    -keep class com.yourpackagename.net.** { *; }\r\n    \r\n    -keepattributes Signature\r\n    -keepattributes *Annotation*\r\n    -keep class sun.misc.Unsafe { *; }\r\n    -keep class com.google.gson.stream.** { *; }\r\n    \r\n    -keepclassmembers enum * {\r\n    \tpublic static **[] values();\r\n    \tpublic static ** valueOf(java.lang.String);\r\n    }","title":"App crashing when I run Proguard on GSON (which using enum)","body":"<p>I resolved this problem with adding those rules in my proguard-rule file :</p>\n\n<pre><code>    # GSON.\n-keepnames class com.google.gson.** {*;}\n-keepnames enum com.google.gson.** {*;}\n-keepnames interface com.google.gson.** {*;}\n-keep class com.google.gson.** { *; }\n-keepnames class org.** {*;}\n-keepnames enum org.** {*;}\n-keepnames interface org.** {*;}\n-keep class org.** { *; }\n\n-keepnames class com.yourpackagename.net.** {*;}\n-keepnames enum com.yourpackagename.net.** {*;}\n-keepnames interface com.yourpackagename.net.** {*;}\n-keep class com.yourpackagename.net.** { *; }\n\n-keepattributes Signature\n-keepattributes *Annotation*\n-keep class sun.misc.Unsafe { *; }\n-keep class com.google.gson.stream.** { *; }\n\n-keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1649239,"reputation":51,"user_id":1520139,"display_name":"Subhash Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583241676,"creation_date":1583241676,"answer_id":60508215,"question_id":23155794,"body_markdown":"Please verify following things-\r\n\r\n1. Is added proguard-rules.pro file added in app directory.\r\n\r\n2. is path defined in build.gradle(module:app) file path definition is correct like follows -\r\n   \r\nproguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\r\n3. If above 2 steps is okay then please add the following line(rule) in progaurd file-\r\n   \r\n   &lt;strike&gt; -keepclassmembers enum * { *; } &lt;strike&gt;\r\n\r\n4. Clean, build the project and run again.","title":"App crashing when I run Proguard on GSON (which using enum)","body":"<p>Please verify following things-</p>\n\n<ol>\n<li><p>Is added proguard-rules.pro file added in app directory.</p></li>\n<li><p>is path defined in build.gradle(module:app) file path definition is correct like follows -</p></li>\n</ol>\n\n<p>proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'</p>\n\n<ol start=\"3\">\n<li><p>If above 2 steps is okay then please add the following line(rule) in progaurd file-</p>\n\n<p> -keepclassmembers enum * { *; } </p></li>\n<li><p>Clean, build the project and run again.</p></li>\n</ol>\n"}],"owner":{"account_id":337933,"reputation":3795,"user_id":666497,"accept_rate":73,"display_name":"AAV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5119,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1641384141,"creation_date":1397829976,"question_id":23155794,"body_markdown":"I am using **GSON** in my Android app to parser the data. I have added an enum in my Model object. After adding an enum my app started crashing. When I made runProguard false everything works fine. I did everything I could find on internet to fix the problem when program is true. But still no luck.  \r\n\r\nI have already done following thing in proguard-rule file\r\n\r\n    -keep class com.google.** { *; }\r\n    \r\n    -keepattributes *Annotation*\r\n    -keepattributes Signature\r\n    \r\n    -keepclassmembers enum * { public static **[] values(); public static ** valueOf(java.lang.String); }\r\n\r\nEnum Stuff example:\r\n\r\n    public enum TypeX {\r\n    @SerializedName(&quot;live&quot;)\r\n    LIVE,\r\n\r\n    @SerializedName(&quot;upcoming&quot;)\r\n    UPCOMING,\r\n\r\n    @SerializedName(&quot;replay&quot;)\r\n    REPLAY; }\r\n\r\nMy stack trace\r\n\r\n    java.lang.AssertionError\r\n            at com.google.gson.internal.bind.TypeAdapters$EnumTypeAdapter.&lt;init&gt;(Unknown Source)\r\n            at com.google.gson.internal.bind.TypeAdapters$26.create(Unknown Source)\r\n            at com.google.gson.Gson.getAdapter(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(Unknown Source)\r\n            at com.google.gson.Gson.getAdapter(Unknown Source)\r\n            at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(Unknown Source)\r\n            at com.google.gson.Gson.getAdapter(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(Unknown Source)\r\n            at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(Unknown Source)\r\n            at com.google.gson.Gson.getAdapter(Unknown Source)\r\n            at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(Unknown Source)\r\n            at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(Unknown Source)\r\n            at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(Unknown Source)\r\n            at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(Unknown Source)\r\n            at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(Unknown Source)\r\n            at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(Unknown Source)\r\n            at com.google.gson.Gson.toJson(Unknown Source)\r\n            at com.google.gson.Gson.toJson(Unknown Source)\r\n            at com.google.gson.Gson.toJson(Unknown Source)\r\n            at com.google.gson.Gson.toJson(Unknown Source)\r\n            at com.theice.gsonapp.app.MainActivity.a(Unknown Source)\r\n            at com.theice.gsonapp.app.MainActivity.onCreate(Unknown Source)\r\n            at android.app.Activity.performCreate(Activity.java:5231)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\r\n            at android.app.ActivityThread.access$800(ActivityThread.java:135)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:136)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5017)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:515)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\r\n            at dalvik.system.NativeStart.main(Native Method)","title":"App crashing when I run Proguard on GSON (which using enum)","body":"<p>I am using <strong>GSON</strong> in my Android app to parser the data. I have added an enum in my Model object. After adding an enum my app started crashing. When I made runProguard false everything works fine. I did everything I could find on internet to fix the problem when program is true. But still no luck.  </p>\n\n<p>I have already done following thing in proguard-rule file</p>\n\n<pre><code>-keep class com.google.** { *; }\n\n-keepattributes *Annotation*\n-keepattributes Signature\n\n-keepclassmembers enum * { public static **[] values(); public static ** valueOf(java.lang.String); }\n</code></pre>\n\n<p>Enum Stuff example:</p>\n\n<pre><code>public enum TypeX {\n@SerializedName(\"live\")\nLIVE,\n\n@SerializedName(\"upcoming\")\nUPCOMING,\n\n@SerializedName(\"replay\")\nREPLAY; }\n</code></pre>\n\n<p>My stack trace</p>\n\n<pre><code>java.lang.AssertionError\n        at com.google.gson.internal.bind.TypeAdapters$EnumTypeAdapter.&lt;init&gt;(Unknown Source)\n        at com.google.gson.internal.bind.TypeAdapters$26.create(Unknown Source)\n        at com.google.gson.Gson.getAdapter(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(Unknown Source)\n        at com.google.gson.Gson.getAdapter(Unknown Source)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(Unknown Source)\n        at com.google.gson.Gson.getAdapter(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(Unknown Source)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(Unknown Source)\n        at com.google.gson.Gson.getAdapter(Unknown Source)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(Unknown Source)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(Unknown Source)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.write(Unknown Source)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(Unknown Source)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(Unknown Source)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(Unknown Source)\n        at com.google.gson.Gson.toJson(Unknown Source)\n        at com.google.gson.Gson.toJson(Unknown Source)\n        at com.google.gson.Gson.toJson(Unknown Source)\n        at com.google.gson.Gson.toJson(Unknown Source)\n        at com.theice.gsonapp.app.MainActivity.a(Unknown Source)\n        at com.theice.gsonapp.app.MainActivity.onCreate(Unknown Source)\n        at android.app.Activity.performCreate(Activity.java:5231)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n        at android.app.ActivityThread.access$800(ActivityThread.java:135)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:136)\n        at android.app.ActivityThread.main(ActivityThread.java:5017)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","scala","playframework","sbt"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1641387104,"post_id":70590309,"comment_id":124790596,"body_markdown":"Just remove the _sbt-giter8-scaffold_ plugin from `plugins.sbt`, you don&#39;t need it anymore. Or update it to a more recent version.","body":"Just remove the <i>sbt-giter8-scaffold</i> plugin from <code>plugins.sbt</code>, you don&#39;t need it anymore. Or update it to a more recent version."},{"owner":{"account_id":1588339,"reputation":1348,"user_id":1472223,"accept_rate":75,"display_name":"gfjr"},"score":0,"creation_date":1641452745,"post_id":70590309,"comment_id":124809354,"body_markdown":"@Ga&#235;l J Thank you. I solved it in between by the ugliest way. I created a new project wit &quot;sbt new ...&quot; and then I copied my sources in the new project folder and changed the config files.","body":"@Ga&#235;l J Thank you. I solved it in between by the ugliest way. I created a new project wit &quot;sbt new ...&quot; and then I copied my sources in the new project folder and changed the config files."}],"owner":{"account_id":1588339,"reputation":1348,"user_id":1472223,"accept_rate":75,"display_name":"gfjr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641384067,"creation_date":1641373968,"question_id":70590309,"body_markdown":"I try to update Play Framework (Java) from 2.7.x to 2.8.x. I followed the migration guide ([https://www.playframework.com/documentation/2.8.x/Migration28][1]).\r\n\r\nChanging `sbt.version=0.13.15` to `sbt.version=1.3.10` in file `project/build.properties`\r\nleads to the error. \r\n\r\nWith `sbt.version=0.13.15` it&#39;s working, but the guide says: \r\n&gt; Although Play 2.8 still supports sbt 0.13, we recommend that you use\r\n&gt; sbt 1. This new version is supported and actively maintained\r\n\r\nI also tried to delete the folders .ivy2, .cache and .sbt in my home folder.\r\n\r\nWhile `sbt clean compile` comes the following error: \r\n\r\n    [warn]  Note: Some unresolved dependencies have extra attributes.  Check that these dependencies exist with the requested attributes.\r\n    [warn]          org.foundweekends.giter8:sbt-giter8-scaffold:0.7.1 (sbtVersion=1.0, scalaVersion=2.12)\r\n    [warn]\r\n    [warn]  Note: Unresolved dependencies path:\r\n    [error] sbt.librarymanagement.ResolveException: Error downloading org.foundweekends.giter8:sbt-giter8-scaffold;sbtVersion=1.0;scalaVersion=2.12:0.7.1\r\n    [error]   Not found\r\n    [error]   Not found\r\n    [error]   not found: https://repo1.maven.org/maven2/org/foundweekends/giter8/sbt-giter8-scaffold_2.12_1.0/0.7.1/sbt-giter8-scaffold-0.7.1.pom\r\n    [error]   not found: /home/user1/.ivy2/local/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\r\n    [error]   not found: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\r\n    [error]   not found: https://repo.typesafe.com/typesafe/ivy-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\r\n    [error]         at lmcoursier.CoursierDependencyResolution.unresolvedWarningOrThrow(CoursierDependencyResolution.scala:247)\r\n    [error]         at lmcoursier.CoursierDependencyResolution.$anonfun$update$35(CoursierDependencyResolution.scala:216)\r\n    [error]         at scala.util.Either$LeftProjection.map(Either.scala:573)\r\n    [error]         at lmcoursier.CoursierDependencyResolution.update(CoursierDependencyResolution.scala:216)\r\n    [error]         at sbt.librarymanagement.DependencyResolution.update(DependencyResolution.scala:60)\r\n    [error]         at sbt.internal.LibraryManagement$.resolve$1(LibraryManagement.scala:52)\r\n    [error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$12(LibraryManagement.scala:102)\r\n    [error]         at sbt.util.Tracked$.$anonfun$lastOutput$1(Tracked.scala:69)\r\n    [error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$20(LibraryManagement.scala:115)\r\n    [error]         at scala.util.control.Exception$Catch.apply(Exception.scala:228)\r\n    [error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$11(LibraryManagement.scala:115)\r\n    [error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$11$adapted(LibraryManagement.scala:96)\r\n    [error]         at sbt.util.Tracked$.$anonfun$inputChanged$1(Tracked.scala:150)\r\n    [error]         at sbt.internal.LibraryManagement$.cachedUpdate(LibraryManagement.scala:129)\r\n    [error]         at sbt.Classpaths$.$anonfun$updateTask0$5(Defaults.scala:2950)\r\n    [error]         at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n    [error]         at sbt.internal.util.$tilde$greater.$anonfun$$u2219$1(TypeFunctions.scala:62)\r\n    [error]         at sbt.std.Transform$$anon$4.work(Transform.scala:67)\r\n    [error]         at sbt.Execute.$anonfun$submit$2(Execute.scala:281)\r\n    [error]         at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:19)\r\n    [error]         at sbt.Execute.work(Execute.scala:290)\r\n    [error]         at sbt.Execute.$anonfun$submit$1(Execute.scala:281)\r\n    [error]         at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:178)\r\n    [error]         at sbt.CompletionService$$anon$2.call(CompletionService.scala:37)\r\n    [error]         at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    [error]         at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    [error]         at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    [error]         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    [error]         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    [error]         at java.lang.Thread.run(Thread.java:748)\r\n    [error] (update) sbt.librarymanagement.ResolveException: Error downloading org.foundweekends.giter8:sbt-giter8-scaffold;sbtVersion=1.0;scalaVersion=2.12:0.7.1\r\n    [error]   Not found\r\n    [error]   Not found\r\n    [error]   not found: https://repo1.maven.org/maven2/org/foundweekends/giter8/sbt-giter8-scaffold_2.12_1.0/0.7.1/sbt-giter8-scaffold-0.7.1.pom\r\n    [error]   not found: /home/user1/.ivy2/local/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\r\n    [error]   not found: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\r\n    [error]   not found: https://repo.typesafe.com/typesafe/ivy-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\r\n    Project loading failed: (r)etry, (q)uit, (l)ast, or (i)gnore? q\r\n\r\nAdditional info: I upgraded it before from 2.5.15 to 2.6.0 to 2.7.0 without changing the sbt version. The same error also appears in Play Framework 2.7.0.\r\n\r\nHas anyone solved these issues successfully in the past?\r\n\r\n  [1]: https://www.playframework.com/documentation/2.8.x/Migration28","title":"Update Play Framework (Java) from 2.7.x to 2.8.x. leads to sbt error while compiling (only with sbt 1.x)","body":"<p>I try to update Play Framework (Java) from 2.7.x to 2.8.x. I followed the migration guide (<a href=\"https://www.playframework.com/documentation/2.8.x/Migration28\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/Migration28</a>).</p>\n<p>Changing <code>sbt.version=0.13.15</code> to <code>sbt.version=1.3.10</code> in file <code>project/build.properties</code>\nleads to the error.</p>\n<p>With <code>sbt.version=0.13.15</code> it's working, but the guide says:</p>\n<blockquote>\n<p>Although Play 2.8 still supports sbt 0.13, we recommend that you use\nsbt 1. This new version is supported and actively maintained</p>\n</blockquote>\n<p>I also tried to delete the folders .ivy2, .cache and .sbt in my home folder.</p>\n<p>While <code>sbt clean compile</code> comes the following error:</p>\n<pre><code>[warn]  Note: Some unresolved dependencies have extra attributes.  Check that these dependencies exist with the requested attributes.\n[warn]          org.foundweekends.giter8:sbt-giter8-scaffold:0.7.1 (sbtVersion=1.0, scalaVersion=2.12)\n[warn]\n[warn]  Note: Unresolved dependencies path:\n[error] sbt.librarymanagement.ResolveException: Error downloading org.foundweekends.giter8:sbt-giter8-scaffold;sbtVersion=1.0;scalaVersion=2.12:0.7.1\n[error]   Not found\n[error]   Not found\n[error]   not found: https://repo1.maven.org/maven2/org/foundweekends/giter8/sbt-giter8-scaffold_2.12_1.0/0.7.1/sbt-giter8-scaffold-0.7.1.pom\n[error]   not found: /home/user1/.ivy2/local/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\n[error]   not found: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\n[error]   not found: https://repo.typesafe.com/typesafe/ivy-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\n[error]         at lmcoursier.CoursierDependencyResolution.unresolvedWarningOrThrow(CoursierDependencyResolution.scala:247)\n[error]         at lmcoursier.CoursierDependencyResolution.$anonfun$update$35(CoursierDependencyResolution.scala:216)\n[error]         at scala.util.Either$LeftProjection.map(Either.scala:573)\n[error]         at lmcoursier.CoursierDependencyResolution.update(CoursierDependencyResolution.scala:216)\n[error]         at sbt.librarymanagement.DependencyResolution.update(DependencyResolution.scala:60)\n[error]         at sbt.internal.LibraryManagement$.resolve$1(LibraryManagement.scala:52)\n[error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$12(LibraryManagement.scala:102)\n[error]         at sbt.util.Tracked$.$anonfun$lastOutput$1(Tracked.scala:69)\n[error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$20(LibraryManagement.scala:115)\n[error]         at scala.util.control.Exception$Catch.apply(Exception.scala:228)\n[error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$11(LibraryManagement.scala:115)\n[error]         at sbt.internal.LibraryManagement$.$anonfun$cachedUpdate$11$adapted(LibraryManagement.scala:96)\n[error]         at sbt.util.Tracked$.$anonfun$inputChanged$1(Tracked.scala:150)\n[error]         at sbt.internal.LibraryManagement$.cachedUpdate(LibraryManagement.scala:129)\n[error]         at sbt.Classpaths$.$anonfun$updateTask0$5(Defaults.scala:2950)\n[error]         at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n[error]         at sbt.internal.util.$tilde$greater.$anonfun$$u2219$1(TypeFunctions.scala:62)\n[error]         at sbt.std.Transform$$anon$4.work(Transform.scala:67)\n[error]         at sbt.Execute.$anonfun$submit$2(Execute.scala:281)\n[error]         at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:19)\n[error]         at sbt.Execute.work(Execute.scala:290)\n[error]         at sbt.Execute.$anonfun$submit$1(Execute.scala:281)\n[error]         at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:178)\n[error]         at sbt.CompletionService$$anon$2.call(CompletionService.scala:37)\n[error]         at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n[error]         at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n[error]         at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n[error]         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[error]         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[error]         at java.lang.Thread.run(Thread.java:748)\n[error] (update) sbt.librarymanagement.ResolveException: Error downloading org.foundweekends.giter8:sbt-giter8-scaffold;sbtVersion=1.0;scalaVersion=2.12:0.7.1\n[error]   Not found\n[error]   Not found\n[error]   not found: https://repo1.maven.org/maven2/org/foundweekends/giter8/sbt-giter8-scaffold_2.12_1.0/0.7.1/sbt-giter8-scaffold-0.7.1.pom\n[error]   not found: /home/user1/.ivy2/local/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\n[error]   not found: https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\n[error]   not found: https://repo.typesafe.com/typesafe/ivy-releases/org.foundweekends.giter8/sbt-giter8-scaffold/scala_2.12/sbt_1.0/0.7.1/ivys/ivy.xml\nProject loading failed: (r)etry, (q)uit, (l)ast, or (i)gnore? q\n</code></pre>\n<p>Additional info: I upgraded it before from 2.5.15 to 2.6.0 to 2.7.0 without changing the sbt version. The same error also appears in Play Framework 2.7.0.</p>\n<p>Has anyone solved these issues successfully in the past?</p>\n"},{"tags":["java","rest","maven","jenkins","automation"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":2,"creation_date":1641385462,"post_id":70592511,"comment_id":124789996,"body_markdown":"Then you have a networking problem.  You used the wrong IP address, it&#39;s firewalled, there&#39;s no server running, or something like that.  Maybe the problem is in your code, maybe it&#39;s not.  You;d have to post some code to get an opinion on that part.","body":"Then you have a networking problem.  You used the wrong IP address, it&#39;s firewalled, there&#39;s no server running, or something like that.  Maybe the problem is in your code, maybe it&#39;s not.  You;d have to post some code to get an opinion on that part."},{"owner":{"account_id":23572549,"reputation":1,"user_id":17612548,"display_name":"SARV"},"score":0,"creation_date":1641388710,"post_id":70592511,"comment_id":124791254,"body_markdown":"There is no problem with the code because it&#39;s working properly on the local machine. The other requests with the same endpoint are working fine but for some specific requests, it&#39;s throwing this exception.","body":"There is no problem with the code because it&#39;s working properly on the local machine. The other requests with the same endpoint are working fine but for some specific requests, it&#39;s throwing this exception."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1641405682,"post_id":70592511,"comment_id":124798675,"body_markdown":"*There is no problem with the code because it&#39;s working properly on the local machine.* And yet it does not work elsewhere.  That is, the code is only known to work some of the time.  You cannot thus conclude &quot;no problem with the code&quot;.","body":"<i>There is no problem with the code because it&#39;s working properly on the local machine.</i> And yet it does not work elsewhere.  That is, the code is only known to work some of the time.  You cannot thus conclude &quot;no problem with the code&quot;."}],"owner":{"account_id":23572549,"reputation":1,"user_id":17612548,"display_name":"SARV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641383956,"creation_date":1641383956,"question_id":70592511,"body_markdown":"I am testing an API request using RESTAPI Automation framework, selenium, and java. So while requesting the API I am getting **java.net.SocketException: Connection reset** error on Jenkins. but on the local machine, it&#39;s working fine. I am not able to find any concrete solution. \r\n[Error screenshot of jenkins][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/110tL.png","title":"JAVA.net.SocketException when accessing API request in jenkins","body":"<p>I am testing an API request using RESTAPI Automation framework, selenium, and java. So while requesting the API I am getting <strong>java.net.SocketException: Connection reset</strong> error on Jenkins. but on the local machine, it's working fine. I am not able to find any concrete solution.\n<a href=\"https://i.stack.imgur.com/110tL.png\" rel=\"nofollow noreferrer\">Error screenshot of jenkins</a></p>\n"},{"tags":["java","unit-testing","testing","mockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641384199,"post_id":70592496,"comment_id":124789528,"body_markdown":"I don&#39;t get your setup. You try to mock your unit under test (i.e. the resource). What you want, however, is to mock the repository. I recommend reading the [Quarkus guide on Panache: Mocking](https://quarkus.io/guides/hibernate-orm-panache#mocking).","body":"I don&#39;t get your setup. You try to mock your unit under test (i.e. the resource). What you want, however, is to mock the repository. I recommend reading the <a href=\"https://quarkus.io/guides/hibernate-orm-panache#mocking\" rel=\"nofollow noreferrer\">Quarkus guide on Panache: Mocking</a>."},{"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"score":0,"creation_date":1641385094,"post_id":70592496,"comment_id":124789869,"body_markdown":"@Turing85 Ok but how do i mock the repository then? As i understood it from the article you linked the active record pattern does not make use of a repostitory.","body":"@Turing85 Ok but how do i mock the repository then? As i understood it from the article you linked the active record pattern does not make use of a repostitory."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641385212,"post_id":70592496,"comment_id":124789908,"body_markdown":"The record is the repository. You mock it by calling `when(Fruit.listAll()).thenReturn(fruitList);`. That is why we needed to call `PanacheMock.mock(Fruit.class);` in the first place so we can mock static methods on this class.","body":"The record is the repository. You mock it by calling <code>when(Fruit.listAll()).thenReturn(fruitList);</code>. That is why we needed to call <code>PanacheMock.mock(Fruit.class);</code> in the first place so we can mock static methods on this class."},{"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"score":0,"creation_date":1641385456,"post_id":70592496,"comment_id":124789992,"body_markdown":"@Turing85 Alright I understand, but that tests the Fruit entity. Is it not possible to create unit tests for the FruitResource? Are integration tests meant for that? The thing I want to find is the bugg in FruitResources in my post. But I can&#39;t find that bugg by testing the Fruit class","body":"@Turing85 Alright I understand, but that tests the Fruit entity. Is it not possible to create unit tests for the FruitResource? Are integration tests meant for that? The thing I want to find is the bugg in FruitResources in my post. But I can&#39;t find that bugg by testing the Fruit class"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641385522,"post_id":70592496,"comment_id":124790018,"body_markdown":"The test tests the `FruitResource`. Within the test, we mock the active record.","body":"The test tests the <code>FruitResource</code>. Within the test, we mock the active record."},{"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"score":0,"creation_date":1641385667,"post_id":70592496,"comment_id":124790077,"body_markdown":"@Turing85 Could you give an example with the code in my post please? I&#39;m having trouble seeing it","body":"@Turing85 Could you give an example with the code in my post please? I&#39;m having trouble seeing it"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641385975,"post_id":70592496,"comment_id":124790196,"body_markdown":"Try this: https://pastebin.com/pqgDEdZf no guarantee that it works immediately, however. In addition to this, we can also `verify(...)` that `Fruit.listall()` has been called. You can find an example on the documentation site I linked earlier.","body":"Try this: <a href=\"https://pastebin.com/pqgDEdZf\" rel=\"nofollow noreferrer\">pastebin.com/pqgDEdZf</a> no guarantee that it works immediately, however. In addition to this, we can also <code>verify(...)</code> that <code>Fruit.listall()</code> has been called. You can find an example on the documentation site I linked earlier."},{"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"score":0,"creation_date":1641386694,"post_id":70592496,"comment_id":124790441,"body_markdown":"Ok so if I understand this right. We mock the Fruit class and use the real FruitResource class. This way we don&#39;t have to create real fruits but can still test that the class that uses Fruits (FruitResource) still works. Is this correct thinking?","body":"Ok so if I understand this right. We mock the Fruit class and use the real FruitResource class. This way we don&#39;t have to create real fruits but can still test that the class that uses Fruits (FruitResource) still works. Is this correct thinking?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641386785,"post_id":70592496,"comment_id":124790465,"body_markdown":"Yes, that is correct.","body":"Yes, that is correct."}],"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641383867,"creation_date":1641383867,"question_id":70592496,"body_markdown":"Hello all I&#39;m trying to learn java unit-testing with Mockito and PanacheMock.\r\n\r\nI&#39;m getting the following error\r\n\r\n    org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n    when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n    For example:\r\n        when(mock.getArticles()).thenReturn(articles);\r\n\r\nFrom the following test\r\n\r\n        @Test\r\n    public void testGetAllFruits() {\r\n        PanacheMock.mock(Fruit.class);\r\n        PanacheMock.mock(FruitResource.class);\r\n        FruitResource fruitResource = new FruitResource();\r\n\r\n        List&lt;Fruit&gt; fruitList = new ArrayList&lt;&gt;();\r\n        fruitList.add(new Fruit());\r\n\r\n        Mockito.when(fruitResource.getAllFruits())\r\n                .thenReturn(fruitList);\r\n\r\n        Assertions.assertSame(fruitList, fruitResource.getAllFruits());\r\n\r\n\r\n    }\r\n\r\nThe method this test is testing is the following:\r\n\r\n```java \r\n    @Path(&quot;/fruits&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public class FruitResource {\r\n        @GET\r\n        public List&lt;Fruit&gt; getAllFruits() {\r\n            List&lt;Fruit&gt; fruitList = new ArrayList&lt;&gt;();\r\n            if (0 == 0) { // terrible bugg\r\n                return fruitList;\r\n            }\r\n            return Fruit.listAll();\r\n        }\r\n    }\r\n```\r\n\r\nHow can I fix this test so it detected the bugg in FruitResources getAllFruits method?\r\n","title":"Mockito and PanacheMockito Missing method invocation exception","body":"<p>Hello all I'm trying to learn java unit-testing with Mockito and PanacheMock.</p>\n<p>I'm getting the following error</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n</code></pre>\n<p>From the following test</p>\n<pre><code>    @Test\npublic void testGetAllFruits() {\n    PanacheMock.mock(Fruit.class);\n    PanacheMock.mock(FruitResource.class);\n    FruitResource fruitResource = new FruitResource();\n\n    List&lt;Fruit&gt; fruitList = new ArrayList&lt;&gt;();\n    fruitList.add(new Fruit());\n\n    Mockito.when(fruitResource.getAllFruits())\n            .thenReturn(fruitList);\n\n    Assertions.assertSame(fruitList, fruitResource.getAllFruits());\n\n\n}\n</code></pre>\n<p>The method this test is testing is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Path(&quot;/fruits&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public class FruitResource {\n        @GET\n        public List&lt;Fruit&gt; getAllFruits() {\n            List&lt;Fruit&gt; fruitList = new ArrayList&lt;&gt;();\n            if (0 == 0) { // terrible bugg\n                return fruitList;\n            }\n            return Fruit.listAll();\n        }\n    }\n</code></pre>\n<p>How can I fix this test so it detected the bugg in FruitResources getAllFruits method?</p>\n"},{"tags":["java","intellij-idea","junit4","parameterized-unit-test"],"answers":[{"tags":[],"owner":{"account_id":1130295,"reputation":16057,"user_id":1116549,"display_name":"Darek Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441806045,"creation_date":1441806045,"answer_id":32481201,"question_id":32476284,"body_markdown":"The `[1]` on the left side is the **index** of your parameters array that has failed in your test. So go to your test class, look up your parameters for that test, and the second (`[1]` in a zero-based array) parameters entry is the one that failed your test.","title":"How to see the full set of parameters that fail a parameterized test in IntelliJ?","body":"<p>The <code>[1]</code> on the left side is the <strong>index</strong> of your parameters array that has failed in your test. So go to your test class, look up your parameters for that test, and the second (<code>[1]</code> in a zero-based array) parameters entry is the one that failed your test.</p>\n"},{"tags":[],"owner":{"account_id":14940561,"reputation":579,"user_id":10787371,"display_name":"aurelia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641383866,"creation_date":1641383494,"answer_id":70592398,"question_id":32476284,"body_markdown":"Each set of parameters has its own name - the `[1]` on the left side is that name.\r\n\r\nYou can use `name` argument in `@Parameters` to customize that name, for example:\r\n\r\n    @Parameters(name = &quot;{index}: testAdd({0}+{1}) = {2}&quot;)\r\n    public static Collection&lt;Object[]&gt; data() {\r\n            return Arrays.asList(new Object[][]{\r\n                {1, 1, 2},\r\n                {2, 2, 4},\r\n        });\r\n    }\r\n\r\nthat way, in the square brackets on the left, next to the test name, you will see `[0: testAdd(1+1=2)]` and `[1: testAdd(2+2=4)]`.\r\n\r\nBy default `name={index}`, and that&#39;s why you see `[0]`, `[1]`... in the square brackets.","title":"How to see the full set of parameters that fail a parameterized test in IntelliJ?","body":"<p>Each set of parameters has its own name - the <code>[1]</code> on the left side is that name.</p>\n<p>You can use <code>name</code> argument in <code>@Parameters</code> to customize that name, for example:</p>\n<pre><code>@Parameters(name = &quot;{index}: testAdd({0}+{1}) = {2}&quot;)\npublic static Collection&lt;Object[]&gt; data() {\n        return Arrays.asList(new Object[][]{\n            {1, 1, 2},\n            {2, 2, 4},\n    });\n}\n</code></pre>\n<p>that way, in the square brackets on the left, next to the test name, you will see <code>[0: testAdd(1+1=2)]</code> and <code>[1: testAdd(2+2=4)]</code>.</p>\n<p>By default <code>name={index}</code>, and that's why you see <code>[0]</code>, <code>[1]</code>... in the square brackets.</p>\n"}],"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32481201,"answer_count":2,"score":2,"last_activity_date":1641383866,"creation_date":1441792158,"question_id":32476284,"body_markdown":"I have a test class that uses `org.junit.runners.Parameterized`. How can I identify the full set of parameters out of the set of three that fails in a test in IntelliJ 14?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dENTu.png","title":"How to see the full set of parameters that fail a parameterized test in IntelliJ?","body":"<p>I have a test class that uses <code>org.junit.runners.Parameterized</code>. How can I identify the full set of parameters out of the set of three that fails in a test in IntelliJ 14?</p>\n\n<p><a href=\"https://i.stack.imgur.com/dENTu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dENTu.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","addition","edit"],"answers":[{"tags":[],"owner":{"account_id":4211425,"reputation":364,"user_id":3448998,"display_name":"Luca Riccitelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641383324,"creation_date":1641382922,"answer_id":70592268,"question_id":70592109,"body_markdown":"If your entity has the id inside you can check for it and if is not null you can do the update\r\n\r\n    public PatientEntity savePatient(PatientEntity patient) throws InvalidObjectException, NoSuchElementException {\r\n    \tcheckPatient(patient);\r\n    \t\r\n    \tif(patient.getId()==null){\t\t\r\n            patientRepository.save(patient);\r\n    \t\treturn patient;\r\n    \t}else{\t\r\n    \t\ttry {\r\n    \t\t\tPatientEntity patientToEdit = this.findPatientById(id);\r\n    \r\n    \t\t\tpatientToEdit.setName(patient.getName());\r\n    \t\t\tpatientToEdit.setCountry(patient.getCountry());\r\n    \t\t\tpatientToEdit.setGender(patient.getGender());\r\n    \t\t\tpatientToEdit.setPhone(patient.getPhone());\r\n    \r\n    \t\t\tpatientRepository.save(patientToEdit);\r\n    \r\n    \t\t\treturn patientToEdit;\r\n    \t\t} catch (NoSuchElementException e) {\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nanother solution is that the findPatientById method provide a new entity\r\n\r\n    PatientEntity findPatientById(int id) {\r\n    \tif(id==null){\r\n    \t\treturn new PatientEntity();\r\n    \t}else{\r\n    \t\t// here the previous code to search on db\r\n    \t}\r\n    }\r\n\r\nand then you can use the editPatient method using a null id","title":"How to combine add and edit method in java?","body":"<p>If your entity has the id inside you can check for it and if is not null you can do the update</p>\n<pre><code>public PatientEntity savePatient(PatientEntity patient) throws InvalidObjectException, NoSuchElementException {\n    checkPatient(patient);\n    \n    if(patient.getId()==null){      \n        patientRepository.save(patient);\n        return patient;\n    }else{  \n        try {\n            PatientEntity patientToEdit = this.findPatientById(id);\n\n            patientToEdit.setName(patient.getName());\n            patientToEdit.setCountry(patient.getCountry());\n            patientToEdit.setGender(patient.getGender());\n            patientToEdit.setPhone(patient.getPhone());\n\n            patientRepository.save(patientToEdit);\n\n            return patientToEdit;\n        } catch (NoSuchElementException e) {\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>another solution is that the findPatientById method provide a new entity</p>\n<pre><code>PatientEntity findPatientById(int id) {\n    if(id==null){\n        return new PatientEntity();\n    }else{\n        // here the previous code to search on db\n    }\n}\n</code></pre>\n<p>and then you can use the editPatient method using a null id</p>\n"}],"owner":{"account_id":23479469,"reputation":31,"user_id":17531820,"display_name":"Plikplak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641383324,"creation_date":1641382133,"question_id":70592109,"body_markdown":"I currently have separate add and edit methods but would like to combine them into one.\r\n\r\nI think there should be a condition at the start of the method to determine if the object already exists or if it needs to be created, but I&#39;m a beginner and I don&#39;t really know how to do it.\r\n\r\nAdd method :\r\n``` \r\npublic PatientEntity addPatient(PatientEntity patient) throws InvalidObjectException {\r\n        checkPatient(patient);\r\n        patientRepository.save(patient);\r\n\r\n        return patient;\r\n    }\r\n ```\r\n\r\nEdit method :\r\n``` \r\npublic PatientEntity editPatient(int id, PatientEntity patient) throws InvalidObjectException, NoSuchElementException {\r\n        checkPatient(patient);\r\n        try {\r\n            PatientEntity patientToEdit = this.findPatientById(id);\r\n\r\n            patientToEdit.setName(patient.getName());\r\n            patientToEdit.setCountry(patient.getCountry());\r\n            patientToEdit.setGender(patient.getGender());\r\n            patientToEdit.setPhone(patient.getPhone());\r\n\r\n            patientRepository.save(patientToEdit);\r\n\r\n            return patientToEdit;\r\n        } catch (NoSuchElementException e) {\r\n            throw e;\r\n        }\r\n    }\r\n ```\r\n","title":"How to combine add and edit method in java?","body":"<p>I currently have separate add and edit methods but would like to combine them into one.</p>\n<p>I think there should be a condition at the start of the method to determine if the object already exists or if it needs to be created, but I'm a beginner and I don't really know how to do it.</p>\n<p>Add method :</p>\n<pre><code>public PatientEntity addPatient(PatientEntity patient) throws InvalidObjectException {\n        checkPatient(patient);\n        patientRepository.save(patient);\n\n        return patient;\n    }\n</code></pre>\n<p>Edit method :</p>\n<pre><code>public PatientEntity editPatient(int id, PatientEntity patient) throws InvalidObjectException, NoSuchElementException {\n        checkPatient(patient);\n        try {\n            PatientEntity patientToEdit = this.findPatientById(id);\n\n            patientToEdit.setName(patient.getName());\n            patientToEdit.setCountry(patient.getCountry());\n            patientToEdit.setGender(patient.getGender());\n            patientToEdit.setPhone(patient.getPhone());\n\n            patientRepository.save(patientToEdit);\n\n            return patientToEdit;\n        } catch (NoSuchElementException e) {\n            throw e;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","screen-brightness"],"answers":[{"tags":[],"owner":{"account_id":484503,"reputation":8609,"user_id":900214,"display_name":"OleGG"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544134925,"creation_date":1544134925,"answer_id":53660581,"question_id":52569632,"body_markdown":"Actually, this one-line piece won&#39;t work. You can open it in IDE to see that it translates approximately to \r\n\r\n    val lp = this.window.attributes\r\n    lp.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\r\n    // this.window.attributes = lp — this one isn&#39;t called, explanation below\r\n\r\nKotlin won&#39;t do all nested `set*` calls for you, so it won&#39;t call `this.window.setAttributes()` method. And all the code that applies changes to actual window is triggered by this call.","title":"Set Android screen brightness in Kotlin in one line (versus Java)","body":"<p>Actually, this one-line piece won't work. You can open it in IDE to see that it translates approximately to </p>\n\n<pre><code>val lp = this.window.attributes\nlp.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\n// this.window.attributes = lp — this one isn't called, explanation below\n</code></pre>\n\n<p>Kotlin won't do all nested <code>set*</code> calls for you, so it won't call <code>this.window.setAttributes()</code> method. And all the code that applies changes to actual window is triggered by this call.</p>\n"},{"tags":[],"owner":{"account_id":3493887,"reputation":300,"user_id":2922751,"accept_rate":83,"display_name":"Martinocom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570366131,"creation_date":1570366131,"answer_id":58257392,"question_id":52569632,"body_markdown":"As told by OleGG, I tried to do it in &quot;one-line mode&quot;, but without any result.\r\nI share with you the only thing that worked for me every single time in API 16 (or greater), using a SeekBar.\r\n\r\nI have a companion object in the `SettingsActivity`\r\n\r\n    companion object {\r\n        private const val WRITE_SETTINGS_PERMISSION = 100\r\n        private const val MAX_BRIGHTNESS = 255\r\n        private const val MIN_BRIGHTNESS = 20\r\n    }\r\n\r\nIn in the `onCreate()` of `SettingsActivity`, I call\r\n\r\n    Settings.System.putInt(this.contentResolver, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL)\r\n    skb_brightness.max = MAX_BRIGHTNESS\r\n    skb_brightness.progress = AppPreferences.getInstance(this).brightnessKey\r\n\r\nThen I create my listener like this:\r\n   \r\n    object : SeekBar.OnSeekBarChangeListener {\r\n        var brightnessProgress = 0\r\n\r\n        override fun onProgressChanged(seekBar: SeekBar?, progress: Int, fromUser: Boolean) {\r\n            brightnessProgress = map(progress, 0, MAX_BRIGHTNESS, MIN_BRIGHTNESS, MAX_BRIGHTNESS)\r\n\r\n            if (hasPermissionsToWriteSettings(this@SettingsActivity)) {\r\n                Settings.System.putInt(this@SettingsActivity.contentResolver, Settings.System.SCREEN_BRIGHTNESS, brightnessProgress)\r\n                // Do not write this in one-line, won&#39;t work\r\n                val lp = this@SettingsActivity.window.attributes\r\n                lp.screenBrightness = brightnessProgress.toFloat() / 255\r\n                this@SettingsActivity.window.attributes = lp\r\n            }\r\n        }\r\n\r\n        override fun onStartTrackingTouch(seekBar: SeekBar?) { }\r\n\r\n        override fun onStopTrackingTouch(seekBar: SeekBar?) {\r\n            AppPreferences.getInstance(this@SettingsActivity).brightnessKey = brightnessProgress\r\n        }\r\n    }\r\n\r\nWhere `hasPermissionsToWriteSettings(this@SettingsActivity)` is a method that checks if I have permission to do that.\r\n\r\n    private fun hasPermissionsToWriteSettings(context: Activity): Boolean {\r\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            Settings.System.canWrite(context)\r\n        } else {\r\n            ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_SETTINGS) == PackageManager.PERMISSION_GRANTED\r\n        }\r\n    }\r\n\r\nThe map function is for mapping the min value:\r\n\r\n    private fun map(currentValue: Int, inputMin: Int, inputMax: Int, outputMin: Int, outputMax: Int): Int {\r\n        return (currentValue - inputMin) * (outputMax - outputMin) / (inputMax - inputMin) + outputMin\r\n    }\r\n\r\nAnd the `AppPreferences` is my helper class to store the value of the brightness in the key-value shared-preferences. It does just this `(BRIGHTNESS_CONTROL_KEY = &quot;brightnessControlValue&quot;, DEFAULT_BRIGHTNESS = 100)`:\r\n\r\n    var brightnessKey: Int\r\n        get() = sharedPreferences.getInt(BRIGHTNESS_CONTROL_KEY, DEFAULT_BRIGHTNESS)\r\n        set(value) = sharedPreferences.edit().putInt(BRIGHTNESS_CONTROL_KEY, value).apply()\r\n\r\n\r\nI added also in the `manifest.xml`:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\r\n\r\n...event if Android Studio tolds me that&#39;s wrong. Without this, I cannot change brightness.","title":"Set Android screen brightness in Kotlin in one line (versus Java)","body":"<p>As told by OleGG, I tried to do it in \"one-line mode\", but without any result.\nI share with you the only thing that worked for me every single time in API 16 (or greater), using a SeekBar.</p>\n\n<p>I have a companion object in the <code>SettingsActivity</code></p>\n\n<pre><code>companion object {\n    private const val WRITE_SETTINGS_PERMISSION = 100\n    private const val MAX_BRIGHTNESS = 255\n    private const val MIN_BRIGHTNESS = 20\n}\n</code></pre>\n\n<p>In in the <code>onCreate()</code> of <code>SettingsActivity</code>, I call</p>\n\n<pre><code>Settings.System.putInt(this.contentResolver, Settings.System.SCREEN_BRIGHTNESS_MODE, Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL)\nskb_brightness.max = MAX_BRIGHTNESS\nskb_brightness.progress = AppPreferences.getInstance(this).brightnessKey\n</code></pre>\n\n<p>Then I create my listener like this:</p>\n\n<pre><code>object : SeekBar.OnSeekBarChangeListener {\n    var brightnessProgress = 0\n\n    override fun onProgressChanged(seekBar: SeekBar?, progress: Int, fromUser: Boolean) {\n        brightnessProgress = map(progress, 0, MAX_BRIGHTNESS, MIN_BRIGHTNESS, MAX_BRIGHTNESS)\n\n        if (hasPermissionsToWriteSettings(this@SettingsActivity)) {\n            Settings.System.putInt(this@SettingsActivity.contentResolver, Settings.System.SCREEN_BRIGHTNESS, brightnessProgress)\n            // Do not write this in one-line, won't work\n            val lp = this@SettingsActivity.window.attributes\n            lp.screenBrightness = brightnessProgress.toFloat() / 255\n            this@SettingsActivity.window.attributes = lp\n        }\n    }\n\n    override fun onStartTrackingTouch(seekBar: SeekBar?) { }\n\n    override fun onStopTrackingTouch(seekBar: SeekBar?) {\n        AppPreferences.getInstance(this@SettingsActivity).brightnessKey = brightnessProgress\n    }\n}\n</code></pre>\n\n<p>Where <code>hasPermissionsToWriteSettings(this@SettingsActivity)</code> is a method that checks if I have permission to do that.</p>\n\n<pre><code>private fun hasPermissionsToWriteSettings(context: Activity): Boolean {\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        Settings.System.canWrite(context)\n    } else {\n        ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_SETTINGS) == PackageManager.PERMISSION_GRANTED\n    }\n}\n</code></pre>\n\n<p>The map function is for mapping the min value:</p>\n\n<pre><code>private fun map(currentValue: Int, inputMin: Int, inputMax: Int, outputMin: Int, outputMax: Int): Int {\n    return (currentValue - inputMin) * (outputMax - outputMin) / (inputMax - inputMin) + outputMin\n}\n</code></pre>\n\n<p>And the <code>AppPreferences</code> is my helper class to store the value of the brightness in the key-value shared-preferences. It does just this <code>(BRIGHTNESS_CONTROL_KEY = \"brightnessControlValue\", DEFAULT_BRIGHTNESS = 100)</code>:</p>\n\n<pre><code>var brightnessKey: Int\n    get() = sharedPreferences.getInt(BRIGHTNESS_CONTROL_KEY, DEFAULT_BRIGHTNESS)\n    set(value) = sharedPreferences.edit().putInt(BRIGHTNESS_CONTROL_KEY, value).apply()\n</code></pre>\n\n<p>I added also in the <code>manifest.xml</code>:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_SETTINGS\" /&gt;\n</code></pre>\n\n<p>...event if Android Studio tolds me that's wrong. Without this, I cannot change brightness.</p>\n"},{"tags":[],"owner":{"account_id":11562627,"reputation":83,"user_id":8471907,"display_name":"Job"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641382745,"creation_date":1641382745,"answer_id":70592220,"question_id":52569632,"body_markdown":"The shortest way to update a single parameter from an Activity would be something like this in Kotlin:\r\n\r\n        window.attributes = window.attributes.apply {\r\n            screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\r\n        }\r\n\r\nThis is because you&#39;ll need to get the current LayoutParams from `android.view.getAttributes()`, update the screenBrightness value, and then call `android.view.setAttributes()` with the updated LayoutParams.","title":"Set Android screen brightness in Kotlin in one line (versus Java)","body":"<p>The shortest way to update a single parameter from an Activity would be something like this in Kotlin:</p>\n<pre><code>    window.attributes = window.attributes.apply {\n        screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\n    }\n</code></pre>\n<p>This is because you'll need to get the current LayoutParams from <code>android.view.getAttributes()</code>, update the screenBrightness value, and then call <code>android.view.setAttributes()</code> with the updated LayoutParams.</p>\n"}],"owner":{"account_id":76989,"reputation":5621,"user_id":220039,"accept_rate":86,"display_name":"TechAurelian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4827,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1641382745,"creation_date":1538233489,"question_id":52569632,"body_markdown":"To set a minimum screen brightness in Android Java:\r\n\r\n    final WindowManager.LayoutParams lp = getWindow().getAttributes();\r\n    lp.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF;\r\n    getWindow().setAttributes(lp);\r\n\r\nTo change screen brightness in Android Kotlin:\r\n\r\n    val lp = this.window.attributes\r\n    lp.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\r\n    this.window.attributes = lp\r\n\r\nHowever (as a beginner in Kotlin), I was surprised to see that this one line also works:\r\n\r\n    window.attributes.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\r\n\r\nWhy does this work? Are there any unwanted side effects with this code?","title":"Set Android screen brightness in Kotlin in one line (versus Java)","body":"<p>To set a minimum screen brightness in Android Java:</p>\n\n<pre><code>final WindowManager.LayoutParams lp = getWindow().getAttributes();\nlp.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF;\ngetWindow().setAttributes(lp);\n</code></pre>\n\n<p>To change screen brightness in Android Kotlin:</p>\n\n<pre><code>val lp = this.window.attributes\nlp.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\nthis.window.attributes = lp\n</code></pre>\n\n<p>However (as a beginner in Kotlin), I was surprised to see that this one line also works:</p>\n\n<pre><code>window.attributes.screenBrightness = WindowManager.LayoutParams.BRIGHTNESS_OVERRIDE_OFF\n</code></pre>\n\n<p>Why does this work? Are there any unwanted side effects with this code?</p>\n"},{"tags":["java","spring","spring-boot","vue.js","axios"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641382659,"creation_date":1641380723,"answer_id":70591816,"question_id":70588757,"body_markdown":"Your are sending data with axios to the spring boot controller in the correct way, the problem stands in the multiple [`RequestBody`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html) annotations in your method :\r\n\r\n~~~\r\npublic String generateTestData(@RequestBody String inputTemplate,\r\n @RequestBody String identifiersTemplate) throws TestDataGeneratorException \r\n~~~\r\n\r\nIn case of multiple params contained in the body of the request one of the ways to solve is the conversion to a `Map&lt;String, Object&gt;` and then inside the body extract the parameters :\r\n\r\n~~~\r\npublic String generateTestData(@RequestBody Map&lt;String, Object&gt; map) \r\nthrows TestDataGeneratorException {\r\n//your map will be {params={inputTemplate=..., identifiersTemplate=...}}\r\n}\r\n~~~ \r\n\r\nThe message *Required request body is missing* is probably due to the multiple `RequestBody` annotations and related to the presence of the second annotation that according to the message receives an empty body, but I am not sure about it.","title":"How to send multiple parameters using Axios and access them using Java Spring Boot service?","body":"<p>Your are sending data with axios to the spring boot controller in the correct way, the problem stands in the multiple <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\"><code>RequestBody</code></a> annotations in your method :</p>\n<pre><code>public String generateTestData(@RequestBody String inputTemplate,\n @RequestBody String identifiersTemplate) throws TestDataGeneratorException \n</code></pre>\n<p>In case of multiple params contained in the body of the request one of the ways to solve is the conversion to a <code>Map&lt;String, Object&gt;</code> and then inside the body extract the parameters :</p>\n<pre><code>public String generateTestData(@RequestBody Map&lt;String, Object&gt; map) \nthrows TestDataGeneratorException {\n//your map will be {params={inputTemplate=..., identifiersTemplate=...}}\n}\n</code></pre>\n<p>The message <em>Required request body is missing</em> is probably due to the multiple <code>RequestBody</code> annotations and related to the presence of the second annotation that according to the message receives an empty body, but I am not sure about it.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70591816,"answer_count":1,"score":0,"last_activity_date":1641382659,"creation_date":1641364962,"question_id":70588757,"body_markdown":"I am developing an application using `Nuxtjs/Vuejs`. Within that, I am using `Axios` to send some data to my `Java Spring-boot service`.\r\n\r\nI would like to send multiple parameters within my `Axios Post` request and access them using the `Java Spring-boot`. I am able to make it work for a single parameter but when I pass multiple parameters then I get the error `Required request body is missing` within the `Java service`.\r\n\r\nMy `Axios Post` request:\r\n```\r\nexport const actions = {\r\n    testdataGenerator ({ commit, state, dispatch }) {  \r\n        const headers = { &#39;Content-Type&#39;: &#39;application/json&#39; }\r\n\r\n        this.$axios.post(&#39;/generateTestData&#39;, { params: { inputTemplate: state.testDataInput, identifiersTemplate: state.identifiersData } }, { headers })\r\n          .then((response) =&gt; {\r\n            console.log(response)\r\n          })\r\n          .catch((error) =&gt; {\r\n            console.log(error)\r\n          })\r\n    }\r\n}\r\n```\r\n\r\n`Java Spring Boot service`:\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class TestDataGeneratorController {\r\n\r\n    @PostMapping(value = &quot;/generateTestData&quot;, consumes = &quot;application/json   &quot;, produces = &quot;text/plain&quot;)\r\n    public String generateTestData(@RequestBody String inputTemplate, @RequestBody String identifiersTemplate) throws TestDataGeneratorException {\r\n        try {\r\n            System.out.println(inputTemplate);\r\n            System.out.println(identifiersTemplate);\r\n            return null;\r\n        } catch (Exception exception) {\r\n            throw new TestDataGeneratorException(exception.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCan someone please tell me what I need to change within my `Axios/Java service` to make the `POST request` work?","title":"How to send multiple parameters using Axios and access them using Java Spring Boot service?","body":"<p>I am developing an application using <code>Nuxtjs/Vuejs</code>. Within that, I am using <code>Axios</code> to send some data to my <code>Java Spring-boot service</code>.</p>\n<p>I would like to send multiple parameters within my <code>Axios Post</code> request and access them using the <code>Java Spring-boot</code>. I am able to make it work for a single parameter but when I pass multiple parameters then I get the error <code>Required request body is missing</code> within the <code>Java service</code>.</p>\n<p>My <code>Axios Post</code> request:</p>\n<pre><code>export const actions = {\n    testdataGenerator ({ commit, state, dispatch }) {  \n        const headers = { 'Content-Type': 'application/json' }\n\n        this.$axios.post('/generateTestData', { params: { inputTemplate: state.testDataInput, identifiersTemplate: state.identifiersData } }, { headers })\n          .then((response) =&gt; {\n            console.log(response)\n          })\n          .catch((error) =&gt; {\n            console.log(error)\n          })\n    }\n}\n</code></pre>\n<p><code>Java Spring Boot service</code>:</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class TestDataGeneratorController {\n\n    @PostMapping(value = &quot;/generateTestData&quot;, consumes = &quot;application/json   &quot;, produces = &quot;text/plain&quot;)\n    public String generateTestData(@RequestBody String inputTemplate, @RequestBody String identifiersTemplate) throws TestDataGeneratorException {\n        try {\n            System.out.println(inputTemplate);\n            System.out.println(identifiersTemplate);\n            return null;\n        } catch (Exception exception) {\n            throw new TestDataGeneratorException(exception.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Can someone please tell me what I need to change within my <code>Axios/Java service</code> to make the <code>POST request</code> work?</p>\n"},{"tags":["java","testing","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641382510,"creation_date":1641382510,"answer_id":70592173,"question_id":70587027,"body_markdown":"Yes, there is a quick-fix to create a new JUnit Test class from an existing class. Go to the class name, press Ctrl-1 (or Cmd-1, depending on your system), and select the &quot;Create new JUnit test case&quot; quick fix. It will open and pre-populate the wizard to create a new JUnit test.","title":"Creating Test Class Quickly using Spring Tool Suite 4 as IntelliJ","body":"<p>Yes, there is a quick-fix to create a new JUnit Test class from an existing class. Go to the class name, press Ctrl-1 (or Cmd-1, depending on your system), and select the &quot;Create new JUnit test case&quot; quick fix. It will open and pre-populate the wizard to create a new JUnit test.</p>\n"}],"owner":{"display_name":"user5113188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70592173,"answer_count":1,"score":1,"last_activity_date":1641382510,"creation_date":1641348271,"question_id":70587027,"body_markdown":"I was viewing a tutorial about Testing, The exhibitor in the video shows how to create a Test on `IntelliJ` using &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; over the name Class. Immediately appears a secondary menu with the option **`Create Test`**.\r\n[![enter image description here][1]][1]\r\n\r\nThe good thing about this is that it creates the test class respecting the hierarchy of the package where the original class is located.\r\n\r\nAs is shown in the next image. Even creates a method name as the original Class. Example: `public Examen findExamenPorNombre(String nombre)` and the test class creates a method with `void findExamenPorNombre(String nombre)`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe Question is:\r\n\r\n**Is there something similar to this feature in Spring Tool Suite 4?**\r\nWithout need to create manually a package hierarchy as the original class.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q1v85.png\r\n  [2]: https://i.stack.imgur.com/nmXoM.png","title":"Creating Test Class Quickly using Spring Tool Suite 4 as IntelliJ","body":"<p>I was viewing a tutorial about Testing, The exhibitor in the video shows how to create a Test on <code>IntelliJ</code> using <kbd>Alt</kbd> + <kbd>Enter</kbd> over the name Class. Immediately appears a secondary menu with the option <strong><code>Create Test</code></strong>.\n<a href=\"https://i.stack.imgur.com/Q1v85.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1v85.png\" alt=\"enter image description here\" /></a></p>\n<p>The good thing about this is that it creates the test class respecting the hierarchy of the package where the original class is located.</p>\n<p>As is shown in the next image. Even creates a method name as the original Class. Example: <code>public Examen findExamenPorNombre(String nombre)</code> and the test class creates a method with <code>void findExamenPorNombre(String nombre)</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/nmXoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmXoM.png\" alt=\"enter image description here\" /></a></p>\n<p>The Question is:</p>\n<p><strong>Is there something similar to this feature in Spring Tool Suite 4?</strong>\nWithout need to create manually a package hierarchy as the original class.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1641382068,"post_id":70591983,"comment_id":124788772,"body_markdown":"Instead of `MainActivity` , you have added `MemberAdp` code twice. From what I see from your code, I guess currently you are seeing first parent and all child , then second parent and all child and so on. This is happening because you currently don&#39;t have any relationship between child and parent. Create a new list where parent item contains this child , this will solve the issue.","body":"Instead of <code>MainActivity</code> , you have added <code>MemberAdp</code> code twice. From what I see from your code, I guess currently you are seeing first parent and all child , then second parent and all child and so on. This is happening because you currently don&#39;t have any relationship between child and parent. Create a new list where parent item contains this child , this will solve the issue."},{"owner":{"account_id":15735669,"reputation":43,"user_id":11354706,"display_name":"Mohammad Yasin"},"score":0,"creation_date":1641382856,"post_id":70591983,"comment_id":124789069,"body_markdown":"@Nitish I added MainActivity, if possible please help me.","body":"@Nitish I added MainActivity, if possible please help me."},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1641383140,"post_id":70591983,"comment_id":124789165,"body_markdown":"Instead of creating a 2 list , create only list one - `parentItemArrayList` .  `ParentItem` will contain one more item which will of type `List&lt;ChildItem&gt;` and it will contains child item list for that parent.","body":"Instead of creating a 2 list , create only list one - <code>parentItemArrayList</code> .  <code>ParentItem</code> will contain one more item which will of type <code>List&lt;ChildItem&gt;</code> and it will contains child item list for that parent."}],"owner":{"account_id":15735669,"reputation":43,"user_id":11354706,"display_name":"Mohammad Yasin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641382391,"creation_date":1641381452,"question_id":70591983,"body_markdown":"I have the following code and result:\r\n```\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n\r\n        String[][] parent_table = {{&quot;I-101&quot;, &quot;First(parent)&quot;}, {&quot;I-102&quot;, &quot;Second(parent)&quot;}, {&quot;I-103&quot;, &quot;Third(parent)&quot;}};\r\n        String[][] child_table = {{&quot;I-101&quot;, &quot;First-1(child)&quot;}, {&quot;I-101&quot;, &quot;First-2(child)&quot;}, {&quot;I-102&quot;, &quot;Second-1(child)&quot;}, {&quot;I-102&quot;, &quot;Second-2(child)&quot;}, {&quot;I-103&quot;, &quot;Third-1(child)&quot;}};\r\n\r\n        for(String[] parent: parent_table) {\r\n            System.out.println(parent[1]);\r\n            for (String[] child: child_table) {\r\n                if (parent[0].equals(child[0])) {\r\n                    System.out.println(child[1]);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n| First(parent)  |\r\n|:---------------|\r\n| First-1(child)|\r\n| First-2(child)|\r\n| Second-2(child)|\r\n| Second-1(child)|\r\n| Second-2(child)|\r\n| Third(parent)  |\r\n| Third-1(child) |\r\n\r\nI apply this in nested recyclerview but I&#39;m not getting the actual result, I need the above-mentioned result.\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eX4gv.png\r\n\r\nI Need Help to Solve This.\r\n\r\nHere is my MainActivity:\r\n```\r\npackage com.example.nestedrecyclerview;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    MyAdapter myAdapter;\r\n    ArrayList&lt;ParentItem&gt; parentItemArrayList;\r\n    ArrayList&lt;ChildItem&gt; childItemArrayList;\r\n    RecyclerView RVparent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        RVparent = findViewById(R.id.RVparent);\r\n\r\n        String[][] parent_table = {{&quot;I-101&quot;, &quot;First(parent)&quot;}, {&quot;I-102&quot;, &quot;Second(parent)&quot;}, {&quot;I-103&quot;, &quot;Third(parent)&quot;}};\r\n        String[][] child_table = {{&quot;I-101&quot;, &quot;First-1(child)&quot;}, {&quot;I-101&quot;, &quot;First-2(child)&quot;}, {&quot;I-102&quot;, &quot;Second-1(child)&quot;}, {&quot;I-102&quot;, &quot;Second-2(child)&quot;}, {&quot;I-103&quot;, &quot;Third-1(child)&quot;}};\r\n\r\n        parentItemArrayList = new ArrayList&lt;&gt;();\r\n        childItemArrayList = new ArrayList&lt;&gt;();\r\n\r\n        for(String[] parent: parent_table) {\r\n            ParentItem parentItem = new ParentItem(parent[1]);\r\n            parentItemArrayList.add(parentItem);\r\n            for (String[] child: child_table) {\r\n                if (parent[0].equals(child[0])) {\r\n                    ChildItem childItem = new ChildItem(child[1]);\r\n                    childItemArrayList.add(childItem);\r\n                }\r\n            }\r\n        }\r\n\r\n        myAdapter = new MyAdapter(this,parentItemArrayList,childItemArrayList);\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n        RVparent.setLayoutManager(layoutManager);\r\n        RVparent.setAdapter(myAdapter);\r\n\r\n    }\r\n\r\n\r\n} \r\n ```\r\nHere is my MyAdapter:\r\n``` \r\npackage com.example.nestedrecyclerview;\r\n\r\nimport android.app.Activity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\n\r\n    private Activity activity;\r\n    ArrayList&lt;ParentItem&gt; parentItemArrayList;\r\n    ArrayList&lt;ChildItem&gt; childItemArrayList;\r\n\r\n    public MyAdapter(Activity activity, ArrayList&lt;ParentItem&gt; parentItemArrayList, ArrayList&lt;ChildItem&gt; childItemArrayList) {\r\n        this.activity = activity;\r\n        this.parentItemArrayList = parentItemArrayList;\r\n        this.childItemArrayList = childItemArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item,parent,false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        //holder.tvName.setText(arrayList.get(position));\r\n\r\n        ParentItem parentItem = parentItemArrayList.get(position);\r\n\r\n        holder.tvOrderId.setText(parentItem.orderId);\r\n\r\n        MemberAdp adapterMember = new MemberAdp(childItemArrayList);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(activity);\r\n        holder.nested_rv.setLayoutManager(linearLayoutManager);\r\n        holder.nested_rv.setAdapter(adapterMember);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return parentItemArrayList.size();\r\n\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n\r\n        TextView tvOrderId, tvqty, tvprice;\r\n        CircleImageView ivParent;\r\n        RecyclerView nested_rv;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            tvOrderId = itemView.findViewById(R.id.tvOrderId);\r\n            nested_rv = itemView.findViewById(R.id.nested_rv);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n ```\r\nHere is my MenberAdp:\r\n``` \r\npackage com.example.nestedrecyclerview;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MemberAdp extends RecyclerView.Adapter&lt;MemberAdp.ViewHolder&gt; {\r\n\r\n    ArrayList&lt;ChildItem&gt; childarrayList;\r\n\r\n    public MemberAdp(ArrayList&lt;ChildItem&gt; childarrayList) {\r\n\r\n        this.childarrayList = childarrayList;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.child_item,parent,false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        ChildItem childItem = childarrayList.get(position);\r\n\r\n        holder.tvItemName.setText(childItem.itemName);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return childarrayList.size();\r\n\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView tvItemName, tvqtyChild, tvpriceChild;\r\n        CircleImageView ivChild;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            tvItemName = itemView.findViewById(R.id.tvItemName);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n ```\r\n","title":"How to work with Nested RecyclerView (Child Item in Parent Item) properly?","body":"<p>I have the following code and result:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n\n        String[][] parent_table = {{&quot;I-101&quot;, &quot;First(parent)&quot;}, {&quot;I-102&quot;, &quot;Second(parent)&quot;}, {&quot;I-103&quot;, &quot;Third(parent)&quot;}};\n        String[][] child_table = {{&quot;I-101&quot;, &quot;First-1(child)&quot;}, {&quot;I-101&quot;, &quot;First-2(child)&quot;}, {&quot;I-102&quot;, &quot;Second-1(child)&quot;}, {&quot;I-102&quot;, &quot;Second-2(child)&quot;}, {&quot;I-103&quot;, &quot;Third-1(child)&quot;}};\n\n        for(String[] parent: parent_table) {\n            System.out.println(parent[1]);\n            for (String[] child: child_table) {\n                if (parent[0].equals(child[0])) {\n                    System.out.println(child[1]);\n\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">First(parent)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">First-1(child)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">First-2(child)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Second-2(child)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Second-1(child)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Second-2(child)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Third(parent)</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Third-1(child)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I apply this in nested recyclerview but I'm not getting the actual result, I need the above-mentioned result.</p>\n<p><a href=\"https://i.stack.imgur.com/eX4gv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eX4gv.png\" alt=\"enter image description here\" /></a></p>\n<p>I Need Help to Solve This.</p>\n<p>Here is my MainActivity:</p>\n<pre><code>package com.example.nestedrecyclerview;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    MyAdapter myAdapter;\n    ArrayList&lt;ParentItem&gt; parentItemArrayList;\n    ArrayList&lt;ChildItem&gt; childItemArrayList;\n    RecyclerView RVparent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        RVparent = findViewById(R.id.RVparent);\n\n        String[][] parent_table = {{&quot;I-101&quot;, &quot;First(parent)&quot;}, {&quot;I-102&quot;, &quot;Second(parent)&quot;}, {&quot;I-103&quot;, &quot;Third(parent)&quot;}};\n        String[][] child_table = {{&quot;I-101&quot;, &quot;First-1(child)&quot;}, {&quot;I-101&quot;, &quot;First-2(child)&quot;}, {&quot;I-102&quot;, &quot;Second-1(child)&quot;}, {&quot;I-102&quot;, &quot;Second-2(child)&quot;}, {&quot;I-103&quot;, &quot;Third-1(child)&quot;}};\n\n        parentItemArrayList = new ArrayList&lt;&gt;();\n        childItemArrayList = new ArrayList&lt;&gt;();\n\n        for(String[] parent: parent_table) {\n            ParentItem parentItem = new ParentItem(parent[1]);\n            parentItemArrayList.add(parentItem);\n            for (String[] child: child_table) {\n                if (parent[0].equals(child[0])) {\n                    ChildItem childItem = new ChildItem(child[1]);\n                    childItemArrayList.add(childItem);\n                }\n            }\n        }\n\n        myAdapter = new MyAdapter(this,parentItemArrayList,childItemArrayList);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n        RVparent.setLayoutManager(layoutManager);\n        RVparent.setAdapter(myAdapter);\n\n    }\n\n\n} \n</code></pre>\n<p>Here is my MyAdapter:</p>\n<pre><code>package com.example.nestedrecyclerview;\n\nimport android.app.Activity;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.app.ActivityCompat;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n\n    private Activity activity;\n    ArrayList&lt;ParentItem&gt; parentItemArrayList;\n    ArrayList&lt;ChildItem&gt; childItemArrayList;\n\n    public MyAdapter(Activity activity, ArrayList&lt;ParentItem&gt; parentItemArrayList, ArrayList&lt;ChildItem&gt; childItemArrayList) {\n        this.activity = activity;\n        this.parentItemArrayList = parentItemArrayList;\n        this.childItemArrayList = childItemArrayList;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item,parent,false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        //holder.tvName.setText(arrayList.get(position));\n\n        ParentItem parentItem = parentItemArrayList.get(position);\n\n        holder.tvOrderId.setText(parentItem.orderId);\n\n        MemberAdp adapterMember = new MemberAdp(childItemArrayList);\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(activity);\n        holder.nested_rv.setLayoutManager(linearLayoutManager);\n        holder.nested_rv.setAdapter(adapterMember);\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return parentItemArrayList.size();\n\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n\n        TextView tvOrderId, tvqty, tvprice;\n        CircleImageView ivParent;\n        RecyclerView nested_rv;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            tvOrderId = itemView.findViewById(R.id.tvOrderId);\n            nested_rv = itemView.findViewById(R.id.nested_rv);\n\n        }\n    }\n\n}\n\n</code></pre>\n<p>Here is my MenberAdp:</p>\n<pre><code>package com.example.nestedrecyclerview;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class MemberAdp extends RecyclerView.Adapter&lt;MemberAdp.ViewHolder&gt; {\n\n    ArrayList&lt;ChildItem&gt; childarrayList;\n\n    public MemberAdp(ArrayList&lt;ChildItem&gt; childarrayList) {\n\n        this.childarrayList = childarrayList;\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.child_item,parent,false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        ChildItem childItem = childarrayList.get(position);\n\n        holder.tvItemName.setText(childItem.itemName);\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return childarrayList.size();\n\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        TextView tvItemName, tvqtyChild, tvpriceChild;\n        CircleImageView ivChild;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            tvItemName = itemView.findViewById(R.id.tvItemName);\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","azure-cosmosdb","emulation"],"answers":[{"tags":[],"owner":{"account_id":15392663,"reputation":3122,"user_id":11104805,"display_name":"Abhishek K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641293411,"creation_date":1641293411,"answer_id":70577604,"question_id":70211256,"body_markdown":"For Error –\r\n\r\n&gt; Suppressed: java.lang.Exception: #block terminated with an error\r\n\r\nIf you face block terminated error. you should create a new connection while making an api call. This would solve the issue. \r\n\r\nI would suggest you raise support [ticket][1]\r\n\r\nYou can also refer to this [GitHub repo][2] for CosmosDatabase.createContainerIfNotExists\r\n\r\n\r\n  [1]: https://azure.microsoft.com/en-us/support/create-ticket/\r\n  [2]: https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/tree/main/src/main/java/com/azure/cosmos/examples/documentcrud/sync","title":"InternalServerError: Unknown server error occurred when processing this request","body":"<p>For Error –</p>\n<blockquote>\n<p>Suppressed: java.lang.Exception: #block terminated with an error</p>\n</blockquote>\n<p>If you face block terminated error. you should create a new connection while making an api call. This would solve the issue.</p>\n<p>I would suggest you raise support <a href=\"https://azure.microsoft.com/en-us/support/create-ticket/\" rel=\"nofollow noreferrer\">ticket</a></p>\n<p>You can also refer to this <a href=\"https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/tree/main/src/main/java/com/azure/cosmos/examples/documentcrud/sync\" rel=\"nofollow noreferrer\">GitHub repo</a> for CosmosDatabase.createContainerIfNotExists</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641382344,"creation_date":1641382344,"answer_id":70592144,"question_id":70211256,"body_markdown":"I solved the problem by already trying to create the container when initializing my objects at startup. I ignore an error at this point. This initialization is largely sequential.\r\n\r\nWhen using the container a while later, I then try again if it failed before. This reduces the startup time of the application a bit, but the error no longer occurred.","title":"InternalServerError: Unknown server error occurred when processing this request","body":"<p>I solved the problem by already trying to create the container when initializing my objects at startup. I ignore an error at this point. This initialization is largely sequential.</p>\n<p>When using the container a while later, I then try again if it failed before. This reduces the startup time of the application a bit, but the error no longer occurred.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70592144,"answer_count":2,"score":2,"last_activity_date":1641382344,"creation_date":1638519127,"question_id":70211256,"body_markdown":"I receive sporadic the follow error with the Azure CosmosDB emulator on calling CosmosDatabase.createContainerIfNotExists. \r\n\r\n* Also if the error message contains many helpless details there is nothing to understand the cause. How can I get more information about the error from the Azure CosmosDB emulator?\r\n\r\n* What can be the cause of the error? The count of existing container if the error occur is approximate 70 to 130. This should be no problem for the limit of 250 containers.\r\n\r\n* What is the best handling of the error?\r\n\r\n```\r\n{&quot;ClassName&quot;:&quot;CosmosException&quot;,&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.17.0 Linux/5.4.0-84-generic JRE/11.0.12&quot;,\r\n&quot;statusCode&quot;:500,&quot;resourceAddress&quot;:&quot;https://10.10.1.150:8081/dbs/test/colls&quot;,\r\n&quot;error&quot;:&quot;{\\&quot;code\\&quot;:\\&quot;InternalServerError\\&quot;,\\&quot;message\\&quot;:\\&quot;Unknown server error occurred when processing this request.\\\\r\\\\nActivityId: 70bc2604-9e3c-4093-ad46-16bcc069a243, Microsoft.Azure.Documents.Common/2.14.0, \r\nStatusCode: InternalServerError\\&quot;,\\&quot;additionalErrorInfo\\&quot;:null}&quot;,\r\n&quot;innerErrorMessage&quot;:&quot;Unknown server error occurred when processing this request.\\r\\nActivityId: 70bc2604-9e3c-4093-ad46-16bcc069a243, Microsoft.Azure.Documents.Common/2.14.0, \r\nStatusCode: InternalServerError&quot;,&quot;causeInfo&quot;:null,&quot;responseHeaders&quot;:&quot;{Transfer-Encoding=chunked, Server=Microsoft-HTTPAPI/2.0, Access-Control-Allow-Origin=, Access-Control-Allow-Credentials=true, x-ms-gatewayversion=version=2.14.0, Date=Fri, 03 Dec 2021 03:23:08 GMT, x-ms-activity-id=70bc2604-9e3c-4093-ad46-16bcc069a243, Content-Type=application/json}&quot;,&quot;requestHeaders&quot;:&quot;[Accept=application/json, x-ms-date=Fri, 03 Dec 2021 03:23:08 GMT, Content-Type=application/json]&quot;,\r\n&quot;cosmosDiagnostics&quot;:{&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.17.0 Linux/5.4.0-84-generic JRE/11.0.12&quot;,\r\n&quot;requestLatencyInMs&quot;:519,&quot;requestStartTimeUTC&quot;:&quot;2021-12-03T03:23:08.615098Z&quot;,&quot;requestEndTimeUTC&quot;:&quot;2021-12-03T03:23:09.134243Z&quot;,&quot;responseStatisticsList&quot;:[],&quot;supplementalResponseStatisticsList&quot;:[],&quot;addressResolutionStatistics&quot;:{},&quot;regionsContacted&quot;:[&quot;https://10.10.1.150:8081/&quot;],\r\n&quot;retryContext&quot;:{&quot;statusAndSubStatusCodes&quot;:null,&quot;retryLatency&quot;:0,&quot;retryCount&quot;:0},&quot;metadataDiagnosticsContext&quot;:{&quot;metadataDiagnosticList&quot;:null},&quot;serializationDiagnosticsContext&quot;:{&quot;serializationDiagnosticsList&quot;:[{&quot;serializationType&quot;:&quot;CONTAINER_SERIALIZATION&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615202Z&quot;,&quot;endTimeUTC&quot;:&quot;2021-12-03T03:23:08.615249Z&quot;,&quot;durationInMicroSec&quot;:47}]},\r\n&quot;gatewayStatistics&quot;:{&quot;sessionToken&quot;:null,&quot;operationType&quot;:&quot;Create&quot;,&quot;resourceType&quot;:&quot;DocumentCollection&quot;,&quot;statusCode&quot;:500,&quot;subStatusCode&quot;:0,&quot;requestCharge&quot;:null,&quot;requestTimeline&quot;:[{&quot;eventName&quot;:&quot;connectionCreated&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615391Z&quot;,&quot;durationInMicroSec&quot;:235},{&quot;eventName&quot;:&quot;connectionConfigured&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615626Z&quot;,&quot;durationInMicroSec&quot;:27},{&quot;eventName&quot;:&quot;requestSent&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615653Z&quot;,&quot;durationInMicroSec&quot;:314},{&quot;eventName&quot;:&quot;transitTime&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615967Z&quot;,&quot;durationInMicroSec&quot;:517832},{&quot;eventName&quot;:&quot;received&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:09.133799Z&quot;,&quot;durationInMicroSec&quot;:173}]},\r\n&quot;systemInformation&quot;:{&quot;usedMemory&quot;:&quot;250743 KB&quot;,&quot;availableMemory&quot;:&quot;273545 KB&quot;,&quot;systemCpuLoad&quot;:&quot;(2021-12-03T03:22:43.164095Z 4.0%), (2021-12-03T03:22:48.164056Z 2.6%), (2021-12-03T03:22:53.164086Z 3.3%), (2021-12-03T03:22:58.164100Z 2.6%), (2021-12-03T03:23:03.164114Z 2.1%), (2021-12-03T03:23:08.164169Z 2.1%)&quot;,&quot;availableProcessors&quot;:8},&quot;clientCfgs&quot;:{&quot;id&quot;:-1,&quot;connectionMode&quot;:&quot;DIRECT&quot;,&quot;numberOfClients&quot;:2,&quot;connCfg&quot;:{&quot;rntbd&quot;:&quot;(cto:PT5S, rto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:false)&quot;,&quot;gw&quot;:&quot;(cps:1000, rto:PT5S, icto:null, p:false)&quot;,&quot;other&quot;:&quot;(ed: true, cs: false)&quot;},&quot;consistencyCfg&quot;:&quot;(consistency: null, mm: true, prgns: [])&quot;}}}\r\n \tat com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:463)\r\n \tat com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:365)\r\n \tat com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:294)\r\n \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73)\r\n \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:199)\r\n \tat reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:118)\r\n \tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:220)\r\n \tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)\r\n \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:184)\r\n \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n \tat reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)\r\n \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:259)\r\n \tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142)\r\n \tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:401)\r\n \tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:416)\r\n \tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:470)\r\n \tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:685)\r\n \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\n \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1368)\r\n \tat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1245)\r\n \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1282)\r\n \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\r\n \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\r\n \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795)\r\n \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480)\r\n \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\r\n \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n \tSuppressed: java.lang.Exception: #block terminated with an error\r\n \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n \t\tat reactor.core.publisher.Mono.block(Mono.java:1703)\r\n \t\tat com.azure.cosmos.CosmosDatabase.blockContainerResponse(CosmosDatabase.java:291)\r\n \t\tat com.azure.cosmos.CosmosDatabase.createContainerIfNotExists(CosmosDatabase.java:198)\r\n```","title":"InternalServerError: Unknown server error occurred when processing this request","body":"<p>I receive sporadic the follow error with the Azure CosmosDB emulator on calling CosmosDatabase.createContainerIfNotExists.</p>\n<ul>\n<li><p>Also if the error message contains many helpless details there is nothing to understand the cause. How can I get more information about the error from the Azure CosmosDB emulator?</p>\n</li>\n<li><p>What can be the cause of the error? The count of existing container if the error occur is approximate 70 to 130. This should be no problem for the limit of 250 containers.</p>\n</li>\n<li><p>What is the best handling of the error?</p>\n</li>\n</ul>\n<pre><code>{&quot;ClassName&quot;:&quot;CosmosException&quot;,&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.17.0 Linux/5.4.0-84-generic JRE/11.0.12&quot;,\n&quot;statusCode&quot;:500,&quot;resourceAddress&quot;:&quot;https://10.10.1.150:8081/dbs/test/colls&quot;,\n&quot;error&quot;:&quot;{\\&quot;code\\&quot;:\\&quot;InternalServerError\\&quot;,\\&quot;message\\&quot;:\\&quot;Unknown server error occurred when processing this request.\\\\r\\\\nActivityId: 70bc2604-9e3c-4093-ad46-16bcc069a243, Microsoft.Azure.Documents.Common/2.14.0, \nStatusCode: InternalServerError\\&quot;,\\&quot;additionalErrorInfo\\&quot;:null}&quot;,\n&quot;innerErrorMessage&quot;:&quot;Unknown server error occurred when processing this request.\\r\\nActivityId: 70bc2604-9e3c-4093-ad46-16bcc069a243, Microsoft.Azure.Documents.Common/2.14.0, \nStatusCode: InternalServerError&quot;,&quot;causeInfo&quot;:null,&quot;responseHeaders&quot;:&quot;{Transfer-Encoding=chunked, Server=Microsoft-HTTPAPI/2.0, Access-Control-Allow-Origin=, Access-Control-Allow-Credentials=true, x-ms-gatewayversion=version=2.14.0, Date=Fri, 03 Dec 2021 03:23:08 GMT, x-ms-activity-id=70bc2604-9e3c-4093-ad46-16bcc069a243, Content-Type=application/json}&quot;,&quot;requestHeaders&quot;:&quot;[Accept=application/json, x-ms-date=Fri, 03 Dec 2021 03:23:08 GMT, Content-Type=application/json]&quot;,\n&quot;cosmosDiagnostics&quot;:{&quot;userAgent&quot;:&quot;azsdk-java-cosmos/4.17.0 Linux/5.4.0-84-generic JRE/11.0.12&quot;,\n&quot;requestLatencyInMs&quot;:519,&quot;requestStartTimeUTC&quot;:&quot;2021-12-03T03:23:08.615098Z&quot;,&quot;requestEndTimeUTC&quot;:&quot;2021-12-03T03:23:09.134243Z&quot;,&quot;responseStatisticsList&quot;:[],&quot;supplementalResponseStatisticsList&quot;:[],&quot;addressResolutionStatistics&quot;:{},&quot;regionsContacted&quot;:[&quot;https://10.10.1.150:8081/&quot;],\n&quot;retryContext&quot;:{&quot;statusAndSubStatusCodes&quot;:null,&quot;retryLatency&quot;:0,&quot;retryCount&quot;:0},&quot;metadataDiagnosticsContext&quot;:{&quot;metadataDiagnosticList&quot;:null},&quot;serializationDiagnosticsContext&quot;:{&quot;serializationDiagnosticsList&quot;:[{&quot;serializationType&quot;:&quot;CONTAINER_SERIALIZATION&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615202Z&quot;,&quot;endTimeUTC&quot;:&quot;2021-12-03T03:23:08.615249Z&quot;,&quot;durationInMicroSec&quot;:47}]},\n&quot;gatewayStatistics&quot;:{&quot;sessionToken&quot;:null,&quot;operationType&quot;:&quot;Create&quot;,&quot;resourceType&quot;:&quot;DocumentCollection&quot;,&quot;statusCode&quot;:500,&quot;subStatusCode&quot;:0,&quot;requestCharge&quot;:null,&quot;requestTimeline&quot;:[{&quot;eventName&quot;:&quot;connectionCreated&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615391Z&quot;,&quot;durationInMicroSec&quot;:235},{&quot;eventName&quot;:&quot;connectionConfigured&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615626Z&quot;,&quot;durationInMicroSec&quot;:27},{&quot;eventName&quot;:&quot;requestSent&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615653Z&quot;,&quot;durationInMicroSec&quot;:314},{&quot;eventName&quot;:&quot;transitTime&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:08.615967Z&quot;,&quot;durationInMicroSec&quot;:517832},{&quot;eventName&quot;:&quot;received&quot;,&quot;startTimeUTC&quot;:&quot;2021-12-03T03:23:09.133799Z&quot;,&quot;durationInMicroSec&quot;:173}]},\n&quot;systemInformation&quot;:{&quot;usedMemory&quot;:&quot;250743 KB&quot;,&quot;availableMemory&quot;:&quot;273545 KB&quot;,&quot;systemCpuLoad&quot;:&quot;(2021-12-03T03:22:43.164095Z 4.0%), (2021-12-03T03:22:48.164056Z 2.6%), (2021-12-03T03:22:53.164086Z 3.3%), (2021-12-03T03:22:58.164100Z 2.6%), (2021-12-03T03:23:03.164114Z 2.1%), (2021-12-03T03:23:08.164169Z 2.1%)&quot;,&quot;availableProcessors&quot;:8},&quot;clientCfgs&quot;:{&quot;id&quot;:-1,&quot;connectionMode&quot;:&quot;DIRECT&quot;,&quot;numberOfClients&quot;:2,&quot;connCfg&quot;:{&quot;rntbd&quot;:&quot;(cto:PT5S, rto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:false)&quot;,&quot;gw&quot;:&quot;(cps:1000, rto:PT5S, icto:null, p:false)&quot;,&quot;other&quot;:&quot;(ed: true, cs: false)&quot;},&quot;consistencyCfg&quot;:&quot;(consistency: null, mm: true, prgns: [])&quot;}}}\n    at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:463)\n    at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:365)\n    at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:294)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73)\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:199)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:118)\n    at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:220)\n    at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:184)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n    at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:259)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142)\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:401)\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:416)\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:470)\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:685)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1368)\n    at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1245)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1282)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795)\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1703)\n        at com.azure.cosmos.CosmosDatabase.blockContainerResponse(CosmosDatabase.java:291)\n        at com.azure.cosmos.CosmosDatabase.createContainerIfNotExists(CosmosDatabase.java:198)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1641235017,"post_id":70569936,"comment_id":124748808,"body_markdown":"&quot;So, help me, please, to understand how should I change my main method in order to fix the pointed problem?&quot; - Is the problem that you would like to but don&#39;t know how to use DI to get the bean?","body":"&quot;So, help me, please, to understand how should I change my main method in order to fix the pointed problem?&quot; - Is the problem that you would like to but don&#39;t know how to use DI to get the bean?"},{"owner":{"account_id":21118327,"reputation":31,"user_id":15524950,"display_name":"Valentyn Lapinskyi"},"score":0,"creation_date":1641235351,"post_id":70569936,"comment_id":124748924,"body_markdown":"Yes, I don&#39;t know how to get bean of class Menu in the main menu without using context.","body":"Yes, I don&#39;t know how to get bean of class Menu in the main menu without using context."}],"owner":{"account_id":21118327,"reputation":31,"user_id":15524950,"display_name":"Valentyn Lapinskyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1641235624,"answer_count":0,"score":2,"last_activity_date":1641382264,"creation_date":1641234232,"question_id":70569936,"body_markdown":"Now I look for my first job and I received a test task from one company. So, I did and sent it for review. I was refused because of a bad design code. Here is my code with the main method:\r\n\r\n    package com.lapinskyi.universitytest;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    \r\n    import com.lapinskyi.universitytest.console_menu.Menu;\r\n    \r\n    @SpringBootApplication\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t    ConfigurableApplicationContext context =  SpringApplication.run(Main.class, args);\r\n    \t    \r\n    \t    Menu menu = context.getBean(Menu.class);\r\n    \t    System.out.println(&quot;Hello!&quot;);\r\n    \t    \r\n    \t    boolean isContinue = true;\r\n    \t    \r\n    \t    while(isContinue) {\r\n    \t        menu.getMenu();\r\n    \t        menu.makeChoosenAction();\r\n    \t        isContinue = menu.isContinue();\r\n    \t    }\r\n    \t    \r\n    \t    System.out.println(&quot;Good bye&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThis code was commented like this:\r\n\r\n&gt; It&#39;s not a good idea to work with ApplicationContext directly to get beans, you should use the Dependency injection mechanism of the Spring Framework for that (Menu class).\r\n\r\nSo, help me, please, how can I get a bean of the class Menu in static method main not using context directly?\r\n\r\n[Git repository][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/VLapinskyi/university-test","title":"How to inject bean in main method without calling context","body":"<p>Now I look for my first job and I received a test task from one company. So, I did and sent it for review. I was refused because of a bad design code. Here is my code with the main method:</p>\n<pre><code>package com.lapinskyi.universitytest;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\n\nimport com.lapinskyi.universitytest.console_menu.Menu;\n\n@SpringBootApplication\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        ConfigurableApplicationContext context =  SpringApplication.run(Main.class, args);\n        \n        Menu menu = context.getBean(Menu.class);\n        System.out.println(&quot;Hello!&quot;);\n        \n        boolean isContinue = true;\n        \n        while(isContinue) {\n            menu.getMenu();\n            menu.makeChoosenAction();\n            isContinue = menu.isContinue();\n        }\n        \n        System.out.println(&quot;Good bye&quot;);\n    }\n\n}\n</code></pre>\n<p>This code was commented like this:</p>\n<blockquote>\n<p>It's not a good idea to work with ApplicationContext directly to get beans, you should use the Dependency injection mechanism of the Spring Framework for that (Menu class).</p>\n</blockquote>\n<p>So, help me, please, how can I get a bean of the class Menu in static method main not using context directly?</p>\n<p><a href=\"https://github.com/VLapinskyi/university-test\" rel=\"nofollow noreferrer\">Git repository</a></p>\n"},{"tags":["java","javafx","javafx-8","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":7194584,"reputation":1487,"user_id":5493813,"accept_rate":91,"display_name":"st.huber"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1641382209,"creation_date":1446553884,"answer_id":33499249,"question_id":33494089,"body_markdown":"`Notifications.create().title(...).text(..).action(...).position(Pos.BOTTOM_RIGHT).show();`\r\n\r\nThrough using this line in Java and adding following lines **at the bottom of my stylesheet** I was able to customize the notification.\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .notification-bar&gt;.pane {\r\n    \t-fx-background-color: red, yellow, blue;\r\n    \t-fx-padding: 5 5 5 5;\r\n    \t-fx-background-insets: 0, 1, 2;\r\n    }\r\n    \r\n    .notification-bar&gt;.pane .title {\r\n    \t-fx-font-size: 1.333em; /*16px;*/\r\n    \t-fx-text-fill: #000;\r\n    \t-fx-font-weight: bold;\r\n    }\r\n    \r\n    .notification-bar&gt;.pane .label {\r\n    \t-fx-font-size: 1em; /*12px;*/\r\n    \t-fx-text-fill: #000;\r\n    \t-fx-alignment: top-left;\r\n    }\r\n    \r\n    /******************************************************************************\r\n     * \r\n     * Close button\r\n     * \r\n     *****************************************************************************/\r\n    \r\n    .notification-bar&gt;.pane .close-button {\r\n    \t-fx-background-color: transparent;\r\n    \t-fx-background-insets: 0;\r\n        -fx-background-radius: 0;\r\n\t    -fx-padding: 0 0 0 0;\r\n\t    -fx-alignment: center;\r\n    }\r\n\r\n    .notification-bar &gt; .pane .close-button:hover {\r\n         -fx-background-color: linear-gradient(#a3a3a3, #8b8b8b 34%, #777777 36%, #777777 63%, #8b8b8b 65%, #adadad);\r\n    }\r\n\r\n    .notification-bar&gt;.pane .close-button:pressed {\r\n\t     -fx-background-color: linear-gradient(#a3a3a3, #8b8b8b 34%, #777777 36%, #777777 63%, #8b8b8b 65%, #adadad):\r\n\t\r\n    }\r\n\t\r\n    .notification-bar&gt;.pane .close-button&gt;.graphic {\r\n\t     -fx-background-color: #fff;\r\n\t     -fx-scale-shape: false;\r\n\t     -fx-padding: 4.5 4.5 4.5 4.5; /* Graphic is 9x9 px */\r\n    }\r\n\r\n    .notification-bar&gt;.pane .close-button:hover&gt;.graphic {\r\n\t     -fx-background-color: #fff;\r\n    }\r\n\r\n    .notification-bar&gt;.pane .close-button:pressed&gt;.graphic {\r\n\t     -fx-background-color: #fff;\r\n    }\r\n\r\n    .notification-bar&gt;.pane .close-button&gt;.graphic {\r\n\t     -fx-shape:\r\n\t\t&quot;M395.992,296.758l1.794-1.794l7.292,7.292l-1.795,1.794 L395.992,296.758z M403.256,294.992l1.794,1.794l-7.292,7.292l-1.794-1.795 L403.256,294.992z&quot;;\r\n    }\r\n","title":"Customize ControlsFX Notifications","body":"<p><code>Notifications.create().title(...).text(..).action(...).position(Pos.BOTTOM_RIGHT).show();</code></p>\n<p>Through using this line in Java and adding following lines <strong>at the bottom of my stylesheet</strong> I was able to customize the notification.</p>\n<pre class=\"lang-css prettyprint-override\"><code>.notification-bar&gt;.pane {\n    -fx-background-color: red, yellow, blue;\n    -fx-padding: 5 5 5 5;\n    -fx-background-insets: 0, 1, 2;\n}\n\n.notification-bar&gt;.pane .title {\n    -fx-font-size: 1.333em; /*16px;*/\n    -fx-text-fill: #000;\n    -fx-font-weight: bold;\n}\n\n.notification-bar&gt;.pane .label {\n    -fx-font-size: 1em; /*12px;*/\n    -fx-text-fill: #000;\n    -fx-alignment: top-left;\n}\n\n/******************************************************************************\n * \n * Close button\n * \n *****************************************************************************/\n\n.notification-bar&gt;.pane .close-button {\n    -fx-background-color: transparent;\n    -fx-background-insets: 0;\n    -fx-background-radius: 0;\n    -fx-padding: 0 0 0 0;\n    -fx-alignment: center;\n}\n\n.notification-bar &gt; .pane .close-button:hover {\n     -fx-background-color: linear-gradient(#a3a3a3, #8b8b8b 34%, #777777 36%, #777777 63%, #8b8b8b 65%, #adadad);\n}\n\n.notification-bar&gt;.pane .close-button:pressed {\n     -fx-background-color: linear-gradient(#a3a3a3, #8b8b8b 34%, #777777 36%, #777777 63%, #8b8b8b 65%, #adadad):\n\n}\n\n.notification-bar&gt;.pane .close-button&gt;.graphic {\n     -fx-background-color: #fff;\n     -fx-scale-shape: false;\n     -fx-padding: 4.5 4.5 4.5 4.5; /* Graphic is 9x9 px */\n}\n\n.notification-bar&gt;.pane .close-button:hover&gt;.graphic {\n     -fx-background-color: #fff;\n}\n\n.notification-bar&gt;.pane .close-button:pressed&gt;.graphic {\n     -fx-background-color: #fff;\n}\n\n.notification-bar&gt;.pane .close-button&gt;.graphic {\n     -fx-shape:\n    &quot;M395.992,296.758l1.794-1.794l7.292,7.292l-1.795,1.794 L395.992,296.758z M403.256,294.992l1.794,1.794l-7.292,7.292l-1.794-1.795 L403.256,294.992z&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":7194584,"reputation":1487,"user_id":5493813,"accept_rate":91,"display_name":"st.huber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6173,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33499249,"answer_count":1,"score":4,"last_activity_date":1641382209,"creation_date":1446537882,"question_id":33494089,"body_markdown":"I want to use [ControlsFX Notifications][1] class, as JavaFX seems to doesn&#39;t offer anything like it (or does it?). \r\n\r\n[![Notification by ControlsFX][2]][2]\r\n\r\nFor me to use it I want to be able to customize the color of the notification and some other styles. Does anybody have an idea of how I can do that?\r\n\r\n\r\n  [1]: http://controlsfx.bitbucket.org/index.html?org/controlsfx/control/Notifications.html\r\n  [2]: http://i.stack.imgur.com/oOsqB.png\r\n\r\n**Edit:** \r\n\r\nThrough setting `Notifications.owner(...)` the notification is styled the same way as my main application, **but** it is then shown within the main application as well and not at the bottom right corner of my screen.","title":"Customize ControlsFX Notifications","body":"<p>I want to use <a href=\"http://controlsfx.bitbucket.org/index.html?org/controlsfx/control/Notifications.html\" rel=\"nofollow noreferrer\">ControlsFX Notifications</a> class, as JavaFX seems to doesn't offer anything like it (or does it?). </p>\n\n<p><a href=\"https://i.stack.imgur.com/oOsqB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOsqB.png\" alt=\"Notification by ControlsFX\"></a></p>\n\n<p>For me to use it I want to be able to customize the color of the notification and some other styles. Does anybody have an idea of how I can do that?</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>Through setting <code>Notifications.owner(...)</code> the notification is styled the same way as my main application, <strong>but</strong> it is then shown within the main application as well and not at the bottom right corner of my screen.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641380583,"post_id":70591755,"comment_id":124788175,"body_markdown":"you are just using android studio to develop your app, but it actually makes no difference to your code or your question, so you only have to mention android studio when you&#39;re asking about a specific feature of the IDE itself","body":"you are just using android studio to develop your app, but it actually makes no difference to your code or your question, so you only have to mention android studio when you&#39;re asking about a specific feature of the IDE itself"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641380665,"post_id":70591755,"comment_id":124788213,"body_markdown":"what specifically do you want to know, are you having any problems or any additional details you can add to your question ? perhaps nothing has changed since those videos you saw","body":"what specifically do you want to know, are you having any problems or any additional details you can add to your question ? perhaps nothing has changed since those videos you saw"}],"owner":{"account_id":23560996,"reputation":68,"user_id":17602360,"display_name":"SibMo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641381759,"creation_date":1641380422,"question_id":70591755,"body_markdown":"I&#39;m currently trying to learn about the various ways you can create custom Views and Viewgroups in Android. There seems to be a few videos by Huyen Tue Dao explaining the basic concepts as well as some old code on GitHub and SO that doesn&#39;t have much explanation or documentation. What are the basic things to consider when overriding OnLayout and OnMeasure?  \r\n\r\nAn area of confusion is the MeasureChildWithMargins() method. There doesn&#39;t seem to be a consistent rule or heuristic when passing in width_used or height_used into the argument parameters. First of all why would you pass these as an argument and secondly, if you had multiple children apart of the view. Would all of these children increment the height and width used?","title":"Custom view groups in Android","body":"<p>I'm currently trying to learn about the various ways you can create custom Views and Viewgroups in Android. There seems to be a few videos by Huyen Tue Dao explaining the basic concepts as well as some old code on GitHub and SO that doesn't have much explanation or documentation. What are the basic things to consider when overriding OnLayout and OnMeasure?</p>\n<p>An area of confusion is the MeasureChildWithMargins() method. There doesn't seem to be a consistent rule or heuristic when passing in width_used or height_used into the argument parameters. First of all why would you pass these as an argument and secondly, if you had multiple children apart of the view. Would all of these children increment the height and width used?</p>\n"},{"tags":["java","ftp","apache-camel","filezilla"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1640081647,"post_id":70424227,"comment_id":124505225,"body_markdown":"You sure about that infinite loop? FTP is a polling consumer so it checks for new files every [500ms](https://camel.apache.org/components/latest/ftp-component.html#_endpoint_query_option_delay) or so by default.","body":"You sure about that infinite loop? FTP is a polling consumer so it checks for new files every <a href=\"https://camel.apache.org/components/latest/ftp-component.html#_endpoint_query_option_delay\" rel=\"nofollow noreferrer\">500ms</a> or so by default."}],"answers":[{"tags":[],"owner":{"account_id":948977,"reputation":514,"user_id":975561,"accept_rate":74,"display_name":"user975561"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641381351,"creation_date":1641283132,"answer_id":70575614,"question_id":70424227,"body_markdown":"The problem is that the route keeps waiting for the missing files to be present, if there are less files available than the specified file amount.\r\n\r\nSo if it is told to download 10 files, but only 2 are present it will wait for the 8 missing files.\r\n\r\nI had to terminate the route manually by first giving it an ID. Then I had to set the route option sendEmptyMessageWhenIdle=true and attach a processor which stops the route when an empty message is received. Since the empty message does not do anything I filter it out afterwards and then force com The adjusted route looks like this\r\n\r\n            from(&quot;ftp://dm@localhost/uploads/Replies?delete=true&amp;password=ftpPass&amp;passiveMode=true&amp;binary=true&amp;disconnect=true&amp;sendEmptyMessageWhenIdle=true&quot;) \r\n                .routeId(&quot;ftpRoute&quot;)\r\n                .process(new Processor() {\r\n\r\n                    @Override\r\n                    public void process(Exchange exchange) throws Exception {\r\n                        if (exchange.getMessage().getBody() == null) {\r\n                            exchange.getContext().getRouteController().stopRoute(&quot;ftpRoute&quot;);\r\n                        }\r\n                    }\r\n                })\r\n                .filter(simple(&quot;${body} != null&quot;))\r\n                .unmarshal(jaxbDataFormat)\r\n                .aggregate(AggregationStrategies.flexible(Dokumente.class).accumulateInCollection(LinkedList.class)) \r\n                .constant(true) \r\n                .completionSize(10) \r\n                .forceCompletionOnStop()\r\n                .to(&quot;direct:files&quot;); ","title":"Apache Camel FTP goes into endless loop when deleting files which are less than the specified amount","body":"<p>The problem is that the route keeps waiting for the missing files to be present, if there are less files available than the specified file amount.</p>\n<p>So if it is told to download 10 files, but only 2 are present it will wait for the 8 missing files.</p>\n<p>I had to terminate the route manually by first giving it an ID. Then I had to set the route option sendEmptyMessageWhenIdle=true and attach a processor which stops the route when an empty message is received. Since the empty message does not do anything I filter it out afterwards and then force com The adjusted route looks like this</p>\n<pre><code>        from(&quot;ftp://dm@localhost/uploads/Replies?delete=true&amp;password=ftpPass&amp;passiveMode=true&amp;binary=true&amp;disconnect=true&amp;sendEmptyMessageWhenIdle=true&quot;) \n            .routeId(&quot;ftpRoute&quot;)\n            .process(new Processor() {\n\n                @Override\n                public void process(Exchange exchange) throws Exception {\n                    if (exchange.getMessage().getBody() == null) {\n                        exchange.getContext().getRouteController().stopRoute(&quot;ftpRoute&quot;);\n                    }\n                }\n            })\n            .filter(simple(&quot;${body} != null&quot;))\n            .unmarshal(jaxbDataFormat)\n            .aggregate(AggregationStrategies.flexible(Dokumente.class).accumulateInCollection(LinkedList.class)) \n            .constant(true) \n            .completionSize(10) \n            .forceCompletionOnStop()\n            .to(&quot;direct:files&quot;); \n</code></pre>\n"}],"owner":{"account_id":948977,"reputation":514,"user_id":975561,"accept_rate":74,"display_name":"user975561"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70575614,"answer_count":1,"score":0,"last_activity_date":1641381351,"creation_date":1640014518,"question_id":70424227,"body_markdown":"I have setup following Apache Camel Route which reads XML files from an FTP server, transforms the content into Java Objects, aggregates the created Java Objects in a List, and then dumps the List into a Direct object to be read by a ConsumerTemplate. The amount of to be processed files is 10. \r\n\r\nThis is my Route:\r\n\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(new Class[]{Dokumente.class});\r\n    JaxbDataFormat jaxbDataFormat = new JaxbDataFormat();\r\n    jaxbDataFormat.setContext(jaxbContext);\r\n    \r\n    from(&quot;ftp://tstusr@localhost/uploads/Replies?delete=true&amp;password=ftpServPW&amp;passiveMode=true&amp;binary=true&amp;disconnect=true&quot;)\r\n            .unmarshal(jaxbDataFormat)\r\n            .aggregate(AggregationStrategies.flexible(Dokumente.class).accumulateInCollection(LinkedList.class))\r\n            .constant(true)\r\n            .completionSize(10)\r\n            .to(&quot;direct:files&quot;);\r\n\r\nThe Route is doing what it is supposed to be doing, except the &quot;delete=true&quot; part. When I have less than 10 files in my directory, the program goes into an infinite loop. In my local testserver for FTP (FileZilla Server) I can see that it logs in, changes the directory, executes the LIST command and then quits. It does this repeatedly in an infinite loop.\r\n\r\nHow can I fix the Route to stop it from doing that? I do not know how many files there are in the directory. Which means there can always be less than the batch size. I am using version 3.11.4 of Apache Camel.","title":"Apache Camel FTP goes into endless loop when deleting files which are less than the specified amount","body":"<p>I have setup following Apache Camel Route which reads XML files from an FTP server, transforms the content into Java Objects, aggregates the created Java Objects in a List, and then dumps the List into a Direct object to be read by a ConsumerTemplate. The amount of to be processed files is 10.</p>\n<p>This is my Route:</p>\n<pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(new Class[]{Dokumente.class});\nJaxbDataFormat jaxbDataFormat = new JaxbDataFormat();\njaxbDataFormat.setContext(jaxbContext);\n\nfrom(&quot;ftp://tstusr@localhost/uploads/Replies?delete=true&amp;password=ftpServPW&amp;passiveMode=true&amp;binary=true&amp;disconnect=true&quot;)\n        .unmarshal(jaxbDataFormat)\n        .aggregate(AggregationStrategies.flexible(Dokumente.class).accumulateInCollection(LinkedList.class))\n        .constant(true)\n        .completionSize(10)\n        .to(&quot;direct:files&quot;);\n</code></pre>\n<p>The Route is doing what it is supposed to be doing, except the &quot;delete=true&quot; part. When I have less than 10 files in my directory, the program goes into an infinite loop. In my local testserver for FTP (FileZilla Server) I can see that it logs in, changes the directory, executes the LIST command and then quits. It does this repeatedly in an infinite loop.</p>\n<p>How can I fix the Route to stop it from doing that? I do not know how many files there are in the directory. Which means there can always be less than the batch size. I am using version 3.11.4 of Apache Camel.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640941256,"post_id":70540456,"comment_id":124694849,"body_markdown":"How are you importing `StringBuilder`?","body":"How are you importing <code>StringBuilder</code>?"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1640941479,"post_id":70540456,"comment_id":124694901,"body_markdown":"Beacuse ```StringBuilder``` does not have ```isEmpty``` method. You can use ```stringBuffer.length()==0```. And  the reason why there is no such method is: ```StringBuilder``` is typically used locally for accumulating/editing string data and not used as a value.  See: [JDK-8181398](https://bugs.openjdk.java.net/browse/JDK-8181398)","body":"Beacuse <code>StringBuilder</code> does not have <code>isEmpty</code> method. You can use <code>stringBuffer.length()==0</code>. And  the reason why there is no such method is: <code>StringBuilder</code> is typically used locally for accumulating/editing string data and not used as a value.  See: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8181398\" rel=\"nofollow noreferrer\">JDK-8181398</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640943249,"post_id":70540456,"comment_id":124695336,"body_markdown":"which version of Java are you using? In Java 15 `StringBuilder` has `isEmpty` via `CharSequence`.","body":"which version of Java are you using? In Java 15 <code>StringBuilder</code> has <code>isEmpty</code> via <code>CharSequence</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641348143,"post_id":70540456,"comment_id":124780388,"body_markdown":"Voting to re-open this Question. The Question is specific and valid, and has a specific cause and solution.","body":"Voting to re-open this Question. The Question is specific and valid, and has a specific cause and solution."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640969126,"creation_date":1640969126,"answer_id":70544171,"question_id":70540456,"body_markdown":"# Requires Java 15+\r\n\r\nThe [`CharSequence#isEmpty`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html#isEmpty()) method inherited by `StringBuilder` was added in Java 15. \r\n\r\nTo call `StringBuilder#isEmpty`, you must be using Java 15 or later. \r\n\r\nBe aware that 15 and 16 are at end-of-life. Java 17 is a Long-Term Support (LTS) version. \r\n\r\nTo figure out this sort of problem, examine the Javadoc. Classes and methods are marked with their first Java version by the label *Since:*.","title":"Why am I getting the method isEmpty() is undefined for the type StringBuilder","body":"<h1>Requires Java 15+</h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html#isEmpty()\" rel=\"nofollow noreferrer\"><code>CharSequence#isEmpty</code></a> method inherited by <code>StringBuilder</code> was added in Java 15.</p>\n<p>To call <code>StringBuilder#isEmpty</code>, you must be using Java 15 or later.</p>\n<p>Be aware that 15 and 16 are at end-of-life. Java 17 is a Long-Term Support (LTS) version.</p>\n<p>To figure out this sort of problem, examine the Javadoc. Classes and methods are marked with their first Java version by the label <em>Since:</em>.</p>\n"}],"owner":{"account_id":23791514,"reputation":21,"user_id":17802901,"display_name":"Soumyakant Pani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1368,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1641381330,"creation_date":1640939814,"question_id":70540456,"body_markdown":"Why am I getting the method isEmpty() is undefined for the type StringBuilder?\r\n\r\n```java\r\nStringBuilder whereClause = new StringBuilder();\r\nif (bikeSearchBo.getModelName() != null &amp;&amp; bikeSearchBo.getModelName().trim().length() &gt; 0) {\r\n    whereClause.append(whereClause.isEmpty() ? &quot; where bike_model_nm =:modelName&quot; : &quot;or bike_model_nm=:modelName&quot;);\r\n    mapSqlParameterSource.addValue(&quot;modelName&quot;, bikeSearchBo.getModelName());\r\n}\r\n```\r\n","title":"Why am I getting the method isEmpty() is undefined for the type StringBuilder","body":"<p>Why am I getting the method isEmpty() is undefined for the type StringBuilder?</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder whereClause = new StringBuilder();\nif (bikeSearchBo.getModelName() != null &amp;&amp; bikeSearchBo.getModelName().trim().length() &gt; 0) {\n    whereClause.append(whereClause.isEmpty() ? &quot; where bike_model_nm =:modelName&quot; : &quot;or bike_model_nm=:modelName&quot;);\n    mapSqlParameterSource.addValue(&quot;modelName&quot;, bikeSearchBo.getModelName());\n}\n</code></pre>\n"},{"tags":["java","eclipse","abstract-syntax-tree","eclipse-jdt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1641381974,"post_id":70591904,"comment_id":124788732,"body_markdown":"There are &quot;Save Actions&quot; that can modify the code to add `final` - Preferences &gt; Java &gt; Editor &gt; Save Actions. Maybe you have those turned on?","body":"There are &quot;Save Actions&quot; that can modify the code to add <code>final</code> - Preferences &gt; Java &gt; Editor &gt; Save Actions. Maybe you have those turned on?"},{"owner":{"account_id":23646618,"reputation":23,"user_id":17676158,"display_name":"Alexander Kalinowski"},"score":0,"creation_date":1641386990,"post_id":70591904,"comment_id":124790554,"body_markdown":"No, they&#39;re turned off. It&#39;s not just restricted to `final` either. What makes me think this might be a bug is that copying to a fresh AST first and then copying back to the original AST works, just not directly copying within the same one.","body":"No, they&#39;re turned off. It&#39;s not just restricted to <code>final</code> either. What makes me think this might be a bug is that copying to a fresh AST first and then copying back to the original AST works, just not directly copying within the same one."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1641388624,"post_id":70591904,"comment_id":124791214,"body_markdown":"You could try searching or reporting on [Eclipse Bugzilla](https://bugs.eclipse.org/bugs/query.cgi?format=advanced). If you decide to report a bug they will want a [mre]","body":"You could try searching or reporting on <a href=\"https://bugs.eclipse.org/bugs/query.cgi?format=advanced\" rel=\"nofollow noreferrer\">Eclipse Bugzilla</a>. If you decide to report a bug they will want a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641391048,"post_id":70591904,"comment_id":124792280,"body_markdown":"Sounds like a concurrency issue on your side, not like an Eclipse bug. Look into Eclipse code how those methods are used. Please show a minimal reproducible example.","body":"Sounds like a concurrency issue on your side, not like an Eclipse bug. Look into Eclipse code how those methods are used. Please show a minimal reproducible example."},{"owner":{"account_id":23646618,"reputation":23,"user_id":17676158,"display_name":"Alexander Kalinowski"},"score":0,"creation_date":1641393394,"post_id":70591904,"comment_id":124793356,"body_markdown":"I am using a single thread. However, I can see on Bugzilla that the unexpected behaviour has been reported before here: [link](https://bugs.eclipse.org/bugs/show_bug.cgi?id=319448). The attached file by Keith Power over there demonstrates my issue pretty well. I could add to that only that the bug still persists, that the intermediary AST is manipulated correctly but written incorrectly to source and that copying to a fresh AST seems like a functional workaround for the time being.","body":"I am using a single thread. However, I can see on Bugzilla that the unexpected behaviour has been reported before here: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=319448\" rel=\"nofollow noreferrer\">link</a>. The attached file by Keith Power over there demonstrates my issue pretty well. I could add to that only that the bug still persists, that the intermediary AST is manipulated correctly but written incorrectly to source and that copying to a fresh AST seems like a functional workaround for the time being."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1641406754,"post_id":70591904,"comment_id":124799100,"body_markdown":"Please read the [documentation how to manipulating Java code](https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.isv/guide/jdt_api_manip.htm). There are also hints in the Javadoc of `CompilationUnit.rewrite()`. IMHO there is no unexpected behavior, but some complexity because of performance (which the bug reporter also seemed to missed).","body":"Please read the <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.isv/guide/jdt_api_manip.htm\" rel=\"nofollow noreferrer\">documentation how to manipulating Java code</a>. There are also hints in the Javadoc of <code>CompilationUnit.rewrite()</code>. IMHO there is no unexpected behavior, but some complexity because of performance (which the bug reporter also seemed to missed)."},{"owner":{"account_id":23646618,"reputation":23,"user_id":17676158,"display_name":"Alexander Kalinowski"},"score":0,"creation_date":1641498424,"post_id":70591904,"comment_id":124826025,"body_markdown":"You&#39;re alluding to copying operations not being recorded, I take it? I am just reading that in the javadoc to `CompilationUnit.recordModifications()` right above `rewrite()` at least. Well, the behaviour is sort of unexpected in the sense that `ASTNode.copySubtree()` promises a deep copy but does not mention explicitly that inserting the copied nodes back into AST will not result in properly recorded modifications. I think it&#39;s relevant information. Anyway, I have a workaround that works for now, but thanks for illuminating the issue, it&#39;s appreciated.","body":"You&#39;re alluding to copying operations not being recorded, I take it? I am just reading that in the javadoc to <code>CompilationUnit.recordModifications()</code> right above <code>rewrite()</code> at least. Well, the behaviour is sort of unexpected in the sense that <code>ASTNode.copySubtree()</code> promises a deep copy but does not mention explicitly that inserting the copied nodes back into AST will not result in properly recorded modifications. I think it&#39;s relevant information. Anyway, I have a workaround that works for now, but thanks for illuminating the issue, it&#39;s appreciated."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1650268055,"post_id":70591904,"comment_id":127068065,"body_markdown":"If I understand it correctly, the AST and the serialized editor content (sequence of characters) are two data structures, and _copySubtree_ only changes the AST without updating the editor content for performance reasons.","body":"If I understand it correctly, the AST and the serialized editor content (sequence of characters) are two data structures, and <i>copySubtree</i> only changes the AST without updating the editor content for performance reasons."}],"owner":{"account_id":23646618,"reputation":23,"user_id":17676158,"display_name":"Alexander Kalinowski"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641381141,"creation_date":1641381141,"question_id":70591904,"body_markdown":"I am writing some Builder pattern insertion code and part of that involves copying fields from the top-level class to an autogenerated, nested Builder class. To do so, I call `ASTNode.copySubtrees()` to replicate those top-level class fields and then remove any `final` modifiers from the (supposedly deep!) copies. However, when writing changes back to source code file via `CompilationUnit.rewrite()` and `TextEdit.apply()`, I discovered that the final modifiers are not removed in the source code.\r\n\r\nPlaying around with it some more, I further discovered that the changes are made correctly in AST - just not correctly translated into changes of the source code: passing the top-level class declaration to `System.out.println()` right before `rewrite()` reveals that the `final` modifiers have been removed in memory correctly; still, they do not get removed from the source code.\r\n\r\nThe workaround that I am currently using is to copy the field subtrees to a temporary AST and from there to the nested Builder class, which works like a charm.\r\n\r\nAm I missing something here or can someone confirm or deny if this is a (known?) bug in the JDT/Eclipse?\r\n","title":"Unexpected behaviour when writing modifications by ASTNode.copySubtrees() to file","body":"<p>I am writing some Builder pattern insertion code and part of that involves copying fields from the top-level class to an autogenerated, nested Builder class. To do so, I call <code>ASTNode.copySubtrees()</code> to replicate those top-level class fields and then remove any <code>final</code> modifiers from the (supposedly deep!) copies. However, when writing changes back to source code file via <code>CompilationUnit.rewrite()</code> and <code>TextEdit.apply()</code>, I discovered that the final modifiers are not removed in the source code.</p>\n<p>Playing around with it some more, I further discovered that the changes are made correctly in AST - just not correctly translated into changes of the source code: passing the top-level class declaration to <code>System.out.println()</code> right before <code>rewrite()</code> reveals that the <code>final</code> modifiers have been removed in memory correctly; still, they do not get removed from the source code.</p>\n<p>The workaround that I am currently using is to copy the field subtrees to a temporary AST and from there to the nested Builder class, which works like a charm.</p>\n<p>Am I missing something here or can someone confirm or deny if this is a (known?) bug in the JDT/Eclipse?</p>\n"},{"tags":["java","eclipse","search","eclipse-plugin","eclipse-jdt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1449999356,"post_id":34248706,"comment_id":56240942,"body_markdown":"`ISearchResultView` is deprecated, `ISearchResultPage` declared using the `org.eclipse.search.searchResultViewPages` is the recommended method.","body":"<code>ISearchResultView</code> is deprecated, <code>ISearchResultPage</code> declared using the <code>org.eclipse.search.searchResultViewPages</code> is the recommended method."},{"owner":{"account_id":2515223,"reputation":92,"user_id":4118510,"accept_rate":0,"display_name":"Payam R"},"score":0,"creation_date":1450002109,"post_id":34248706,"comment_id":56241659,"body_markdown":"Thanks for pointing it out, but it didn&#39;t help much.","body":"Thanks for pointing it out, but it didn&#39;t help much."}],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450094806,"creation_date":1450036569,"answer_id":34255630,"question_id":34248706,"body_markdown":"Usually, you would implement a `ISearchResultPage` that is capable of displaying the search result. In its `createControl()` method you need to create a viewer that knows how to present the matches. \r\n\r\nA commonly used abstract implementation of `ISearchResultPage` is `AbstractTextSearchViewPage`. This class uses a `TableViewer` or a `TreeViewer` to present the machtes, depending on whether they are hierarchical or not. In case you use the latter, implement its `configureTreeViewer()` and/or `configureTableViewer()` methods so that the viewers are equipped with label providers and content providers that know the specific type that represents a match, i.e. what you referred to as the &#39;Matched results of type Object&#39;.\r\n\r\nThe `AbstractTextSearchViewPage` constructor must be told which kinds of layouts it supports: `FLAG_LAYOUT_FLAT` and/or `FLAG_LAYOUT_TREE`. The actual representation can be changed with `setLayout()`.\r\n\r\nTo start with you could restrict the search view page to a _flat_ layout and implement its `configureTableViewer()` like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    viewer.setLabelProvider( new MyLabelProvider() );\r\n    viewer.setContentProvider( new MyContentProvider() );\r\n\r\nThe input for the content provider is your `ISearchResult` implementation. Hence the `MyContentProvider` could obtain the elements to be shown from the search result.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    public void inputChanged( Viewer viewer, Object oldInput, Object newInput ) {\r\n      searchResult = ( MySearchResult )newInput;\r\n    }\r\n\r\n    @Override\r\n    public Object[] getElements( Object inputElement ) {\r\n      return searchResult.getElements();\r\n    }\r\n\r\n","title":"Extending Eclipse Java Search","body":"<p>Usually, you would implement a <code>ISearchResultPage</code> that is capable of displaying the search result. In its <code>createControl()</code> method you need to create a viewer that knows how to present the matches. </p>\n\n<p>A commonly used abstract implementation of <code>ISearchResultPage</code> is <code>AbstractTextSearchViewPage</code>. This class uses a <code>TableViewer</code> or a <code>TreeViewer</code> to present the machtes, depending on whether they are hierarchical or not. In case you use the latter, implement its <code>configureTreeViewer()</code> and/or <code>configureTableViewer()</code> methods so that the viewers are equipped with label providers and content providers that know the specific type that represents a match, i.e. what you referred to as the 'Matched results of type Object'.</p>\n\n<p>The <code>AbstractTextSearchViewPage</code> constructor must be told which kinds of layouts it supports: <code>FLAG_LAYOUT_FLAT</code> and/or <code>FLAG_LAYOUT_TREE</code>. The actual representation can be changed with <code>setLayout()</code>.</p>\n\n<p>To start with you could restrict the search view page to a <em>flat</em> layout and implement its <code>configureTableViewer()</code> like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>viewer.setLabelProvider( new MyLabelProvider() );\nviewer.setContentProvider( new MyContentProvider() );\n</code></pre>\n\n<p>The input for the content provider is your <code>ISearchResult</code> implementation. Hence the <code>MyContentProvider</code> could obtain the elements to be shown from the search result.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void inputChanged( Viewer viewer, Object oldInput, Object newInput ) {\n  searchResult = ( MySearchResult )newInput;\n}\n\n@Override\npublic Object[] getElements( Object inputElement ) {\n  return searchResult.getElements();\n}\n</code></pre>\n"}],"owner":{"account_id":2515223,"reputation":92,"user_id":4118510,"accept_rate":0,"display_name":"Payam R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1641381116,"creation_date":1449989540,"question_id":34248706,"body_markdown":"I&#39;m developing an eclipse plugin where a user can search a java code given some text query, similar to the usual java search dialog in eclipse.  \r\n\r\n[![Java Search Image][1]][1]\r\n\r\nI&#39;m using the following code to search for a text provided by user\r\n\r\n    SearchPattern pattern = SearchPattern.createPattern(&quot;&lt;search_string&gt;&quot;,\r\n\t\t\t\tIJavaSearchConstants.TYPE, IJavaSearchConstants.PARAMETER_DECLARATION_TYPE_REFERENCE,\r\n\t\t\t\tSearchPattern.R_EXACT_MATCH);\r\n\t \r\n\t\t// step 2: Create search scope\r\n\t\t// IJavaSearchScope scope = SearchEngine.createJavaSearchScope(packages);\r\n\t\tIJavaSearchScope scope = SearchEngine.createWorkspaceScope();\r\n\t\t\r\n\t\t// step3: define a result collector\r\n\t\tSearchRequestor requestor = new SearchRequestor()\r\n\t\t{\r\n\t\t\tpublic void acceptSearchMatch(SearchMatch match) \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(match.getElement());\r\n\t\t\t}\r\n\t\t};\r\n\t \r\n\t\t// step4: start searching\r\n\t\tSearchEngine searchEngine = new SearchEngine();\r\n\t\ttry {\r\n\t\t\tsearchEngine.search(pattern, new SearchParticipant[] { SearchEngine\r\n\t\t\t\t\t\t\t.getDefaultSearchParticipant() }, scope, requestor,\r\n\t\t\t\t\t\t\tnull);\r\n\t\t} catch (CoreException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nAlso I&#39;m able to pass the query string from Search Dialogue to a class implementing ISearchPage.[![Search Dialog page Image][2]][2]\r\n\r\n\r\n    \tpublic class QuerySearchPage extends DialogPage implements ISearchPage \r\n\t{\r\n\t\t...\r\n\t\tpublic boolean performAction() \r\n\t\t{\r\n\t\t\tSystem.out.println(txtQuery.getText());\r\n\r\n\t\t\tsearch();//search using the SearchEngine\r\n\t\t\tSearchOperation so = new SearchOperation(iFileSet);\r\n\t\t\tIRunnableWithProgress query = so;\r\n\t\t\ttry \r\n\t\t\t{\r\n\t\t\t\tcontainer.getRunnableContext().run(true, true, query);\r\n\t\t\t} \r\n\t\t\tcatch (InvocationTargetException | InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n        \treturn true;\r\n\t\t}\r\n\t}\r\n\r\nFinally I got stuck at the point where I need to pass the search result to ISearchResultView. Basically, I have two questions:\r\n\r\n 1. Matched results are of type Object. How to pass these results to ISearchResultView which takes IFile as input?\r\n 2. How to get results in the below format?\r\n\r\n[![Search Result View Image][3]][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6eFxw.png\r\n  [2]: http://i.stack.imgur.com/8KOQw.png\r\n  [3]: http://i.stack.imgur.com/L2GUO.png\r\n\r\n\r\nI have already gone through the following links:\r\n\r\n - http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fsearch_page.htm\r\n - http://agile.csc.ncsu.edu/SEMaterials/tutorials/plugin_dev/\r\n - http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.5.2/org.eclipse/search/3.5.1/org/eclipse/search/ui/ISearchResult.java?av=f\r\n - http://codeandme.blogspot.de/2015/07/a-custom-search-provider.html\r\n - http://scg.unibe.ch/archive/projects/Bals10b-EclipsePlugins.pdf\r\n - https://stackoverflow.com/questions/2152430/how-can-i-develop-eclipse-search-plugin\r\n - http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fsearch%2Fui%2FISearchResult.html\r\n - https://wiki.eclipse.org/FAQ_How_do_I_implement_a_search_operation%3F\r\n\r\nAny help is highly welcomed.","title":"Extending Eclipse Java Search","body":"<p>I'm developing an eclipse plugin where a user can search a java code given some text query, similar to the usual java search dialog in eclipse.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/6eFxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eFxw.png\" alt=\"Java Search Image\"></a></p>\n\n<p>I'm using the following code to search for a text provided by user</p>\n\n<pre><code>SearchPattern pattern = SearchPattern.createPattern(\"&lt;search_string&gt;\",\n            IJavaSearchConstants.TYPE, IJavaSearchConstants.PARAMETER_DECLARATION_TYPE_REFERENCE,\n            SearchPattern.R_EXACT_MATCH);\n\n    // step 2: Create search scope\n    // IJavaSearchScope scope = SearchEngine.createJavaSearchScope(packages);\n    IJavaSearchScope scope = SearchEngine.createWorkspaceScope();\n\n    // step3: define a result collector\n    SearchRequestor requestor = new SearchRequestor()\n    {\n        public void acceptSearchMatch(SearchMatch match) \n        {\n            System.out.println(match.getElement());\n        }\n    };\n\n    // step4: start searching\n    SearchEngine searchEngine = new SearchEngine();\n    try {\n        searchEngine.search(pattern, new SearchParticipant[] { SearchEngine\n                        .getDefaultSearchParticipant() }, scope, requestor,\n                        null);\n    } catch (CoreException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Also I'm able to pass the query string from Search Dialogue to a class implementing ISearchPage.<a href=\"https://i.stack.imgur.com/8KOQw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8KOQw.png\" alt=\"Search Dialog page Image\"></a></p>\n\n<pre><code>    public class QuerySearchPage extends DialogPage implements ISearchPage \n{\n    ...\n    public boolean performAction() \n    {\n        System.out.println(txtQuery.getText());\n\n        search();//search using the SearchEngine\n        SearchOperation so = new SearchOperation(iFileSet);\n        IRunnableWithProgress query = so;\n        try \n        {\n            container.getRunnableContext().run(true, true, query);\n        } \n        catch (InvocationTargetException | InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>Finally I got stuck at the point where I need to pass the search result to ISearchResultView. Basically, I have two questions:</p>\n\n<ol>\n<li>Matched results are of type Object. How to pass these results to ISearchResultView which takes IFile as input?</li>\n<li>How to get results in the below format?</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/L2GUO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2GUO.png\" alt=\"Search Result View Image\"></a></p>\n\n<p>I have already gone through the following links:</p>\n\n<ul>\n<li><a href=\"http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fsearch_page.htm\" rel=\"nofollow noreferrer\">http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fsearch_page.htm</a></li>\n<li><a href=\"http://agile.csc.ncsu.edu/SEMaterials/tutorials/plugin_dev/\" rel=\"nofollow noreferrer\">http://agile.csc.ncsu.edu/SEMaterials/tutorials/plugin_dev/</a></li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.5.2/org.eclipse/search/3.5.1/org/eclipse/search/ui/ISearchResult.java?av=f\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.5.2/org.eclipse/search/3.5.1/org/eclipse/search/ui/ISearchResult.java?av=f</a></li>\n<li><a href=\"http://codeandme.blogspot.de/2015/07/a-custom-search-provider.html\" rel=\"nofollow noreferrer\">http://codeandme.blogspot.de/2015/07/a-custom-search-provider.html</a></li>\n<li><a href=\"http://scg.unibe.ch/archive/projects/Bals10b-EclipsePlugins.pdf\" rel=\"nofollow noreferrer\">http://scg.unibe.ch/archive/projects/Bals10b-EclipsePlugins.pdf</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2152430/how-can-i-develop-eclipse-search-plugin\">How can I develop Eclipse search Plugin?</a></li>\n<li><a href=\"http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fsearch%2Fui%2FISearchResult.html\" rel=\"nofollow noreferrer\">http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fsearch%2Fui%2FISearchResult.html</a></li>\n<li><a href=\"https://wiki.eclipse.org/FAQ_How_do_I_implement_a_search_operation%3F\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/FAQ_How_do_I_implement_a_search_operation%3F</a></li>\n</ul>\n\n<p>Any help is highly welcomed.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1139827,"reputation":675,"user_id":1124058,"accept_rate":58,"display_name":"Antarix"},"score":0,"creation_date":1349757325,"post_id":12792713,"comment_id":17296427,"body_markdown":"yes there is `sdcard` in my root dir","body":"yes there is <code>sdcard</code> in my root dir"},{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1349757773,"post_id":12792713,"comment_id":17296518,"body_markdown":"what happens when you use the above code little bit clear?What happens when you use the mkdirs() in this code?","body":"what happens when you use the above code little bit clear?What happens when you use the mkdirs() in this code?"},{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1349758001,"post_id":12792713,"comment_id":17296566,"body_markdown":"Did you check the SDCardRoot file obj value ?is it same as expected directory structure?","body":"Did you check the SDCardRoot file obj value ?is it same as expected directory structure?"},{"owner":{"account_id":1139827,"reputation":675,"user_id":1124058,"accept_rate":58,"display_name":"Antarix"},"score":0,"creation_date":1349758061,"post_id":12792713,"comment_id":17296585,"body_markdown":"after creating directories i put a message in `Logcat` that `&quot;Directory created successfully&quot;` but when i look in `sdcard` it dont show me","body":"after creating directories i put a message in <code>Logcat</code> that <code>&quot;Directory created successfully&quot;</code> but when i look in <code>sdcard</code> it dont show me"},{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1349758203,"post_id":12792713,"comment_id":17296620,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/17730/discussion-between-stranger-and-antarix)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/17730/discussion-between-stranger-and-antarix\">continue this discussion in chat</a>"}],"answers":[{"tags":[],"owner":{"account_id":1175213,"reputation":1056,"user_id":1151368,"accept_rate":85,"display_name":"timonvlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349757342,"creation_date":1349756440,"answer_id":12792754,"question_id":12792713,"body_markdown":"Use this code.....) \r\n     \r\n      private void createSdCatalogs(String str1){\r\n        //str1 = &quot;/alQuranData&quot;\r\n\tFile folder = new File(Environment.getExternalStorageDirectory() + str1);\r\n\tboolean success = false;\r\n\tif (!folder.exists()) {\r\n\t    success = folder.mkdir();\r\n\t    Log.v(&quot;Adding line&quot;, &quot;/&quot;);\r\n\t}}\r\n    private void createSdCatalogs(String str2)\t { \r\n    //str2 = &quot;/alQuranData/Reader1&quot;;\r\n    File folder1 = new File(Environment.getExternalStorageDirectory() + str2);\r\n\tboolean success1 = false;\r\n\tif (!folder1.exists()) {\r\n\t    success1 = folder1.mkdir();\r\n\t    Log.v(&quot;Adding line&quot;, &quot;/&quot;);\r\n\t}\r\n\t\r\n    }","title":"Create multiple directories in Android","body":"<p>Use this code.....) </p>\n\n<pre><code>  private void createSdCatalogs(String str1){\n    //str1 = \"/alQuranData\"\nFile folder = new File(Environment.getExternalStorageDirectory() + str1);\nboolean success = false;\nif (!folder.exists()) {\n    success = folder.mkdir();\n    Log.v(\"Adding line\", \"/\");\n}}\nprivate void createSdCatalogs(String str2)   { \n//str2 = \"/alQuranData/Reader1\";\nFile folder1 = new File(Environment.getExternalStorageDirectory() + str2);\nboolean success1 = false;\nif (!folder1.exists()) {\n    success1 = folder1.mkdir();\n    Log.v(\"Adding line\", \"/\");\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":989073,"reputation":6681,"user_id":1006836,"display_name":"Royston Pinto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349756865,"creation_date":1349756865,"answer_id":12792794,"question_id":12792713,"body_markdown":"Using Java you cannot create multiple directories all at once. You will need to declare a folder name one by one and proceed to create a directory. So first create\r\n\r\n 1. alQuranData\r\n 2. alQuranData/Reader1/\r\n 3. alQuranData/Reader1/Surah \r\n\r\nUsing the same piece of code you have provided.","title":"Create multiple directories in Android","body":"<p>Using Java you cannot create multiple directories all at once. You will need to declare a folder name one by one and proceed to create a directory. So first create</p>\n\n<ol>\n<li>alQuranData</li>\n<li>alQuranData/Reader1/</li>\n<li>alQuranData/Reader1/Surah </li>\n</ol>\n\n<p>Using the same piece of code you have provided.</p>\n"},{"tags":[],"owner":{"account_id":107797,"reputation":7425,"user_id":286453,"display_name":"Praful Bhatnagar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641380928,"creation_date":1349759764,"answer_id":12793217,"question_id":12792713,"body_markdown":"Are you getting any error or exception. Please try to check the return value of `mkdirs()` method call. ALso try the following code:\r\n\r\n    File SDCardRoot = new File(Environment.getExternalStorageDirectory().toString() + &quot;/alQuranData/Reader1/Surah&quot;);\r\n    Toast.makeText(getApplicationContext(), SDCardRoot.toString(), Toast.LENGTH_LONG).show();\r\n    if (!SDCardRoot.exists()) {\r\n        Log.d(&quot;DIRECTORY CHECK&quot;, &quot;Directory doesnt exist creating directory&quot;);\r\n        SDCardRoot.mkdirs();\r\n    }\r\n\r\nPlease also check that you have added following permission in manifest file:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nI just tested the following code and it is working on my end:\r\n\r\n    File SDCardRoot = new File(Environment.getExternalStorageDirectory()\r\n\t\t\t.toString() + &quot;/alQuranData/Reader1/Surah&quot;);\r\n\tToast.makeText(getApplicationContext(), SDCardRoot.toString(),\r\n\t\t\tToast.LENGTH_LONG).show();\r\n\tif (!SDCardRoot.exists()) {\r\n\t\tLog.d(&quot;DIRECTORY CHECK&quot;,\r\n\t\t\t\t&quot;Directory doesnt exist creating directory &quot;\r\n\t\t\t\t\t\t+ Environment.getExternalStorageDirectory()\r\n\t\t\t\t\t\t\t\t.toString());\r\n\t\tboolean outcome = SDCardRoot.mkdirs();\r\n\r\n\t\tLog.d(&quot;DIRECTORY CHECK&quot;,\r\n\t\t\t\t&quot;outcome for &quot; + SDCardRoot.getAbsolutePath() + &quot;     &quot;\r\n\t\t\t\t\t\t+ outcome);\r\n\t}\r\n\r\nI have added alQaranData folder manually as mentioned in your post and added the permission and it start working at my end. Please check this code.","title":"Create multiple directories in Android","body":"<p>Are you getting any error or exception. Please try to check the return value of <code>mkdirs()</code> method call. ALso try the following code:</p>\n<pre><code>File SDCardRoot = new File(Environment.getExternalStorageDirectory().toString() + &quot;/alQuranData/Reader1/Surah&quot;);\nToast.makeText(getApplicationContext(), SDCardRoot.toString(), Toast.LENGTH_LONG).show();\nif (!SDCardRoot.exists()) {\n    Log.d(&quot;DIRECTORY CHECK&quot;, &quot;Directory doesnt exist creating directory&quot;);\n    SDCardRoot.mkdirs();\n}\n</code></pre>\n<p>Please also check that you have added following permission in manifest file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>I just tested the following code and it is working on my end:</p>\n<pre><code>File SDCardRoot = new File(Environment.getExternalStorageDirectory()\n        .toString() + &quot;/alQuranData/Reader1/Surah&quot;);\nToast.makeText(getApplicationContext(), SDCardRoot.toString(),\n        Toast.LENGTH_LONG).show();\nif (!SDCardRoot.exists()) {\n    Log.d(&quot;DIRECTORY CHECK&quot;,\n            &quot;Directory doesnt exist creating directory &quot;\n                    + Environment.getExternalStorageDirectory()\n                            .toString());\n    boolean outcome = SDCardRoot.mkdirs();\n\n    Log.d(&quot;DIRECTORY CHECK&quot;,\n            &quot;outcome for &quot; + SDCardRoot.getAbsolutePath() + &quot;     &quot;\n                    + outcome);\n}\n</code></pre>\n<p>I have added alQaranData folder manually as mentioned in your post and added the permission and it start working at my end. Please check this code.</p>\n"},{"tags":[],"owner":{"account_id":23826158,"reputation":11,"user_id":17833172,"display_name":"Siddique Mohd saif"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641310523,"creation_date":1641310523,"answer_id":70581294,"question_id":12792713,"body_markdown":" \r\n\r\n\r\nBy default there is no way in android to create multiple directory at once.\r\nyou have to create one by one and check is created or not.\r\n\r\n**But I have created a below code to achieve similar objective. you can use to create multiple directory at once...**\r\n\r\n\r\n\r\n\r\n```java\r\n\r\npublic static boolean recursivelyMakeDir(File endDirectory,File baseDir) {\r\n\r\n        if (!baseDir.exists()){\r\n            return false;\r\n        }\r\n        ArrayList&lt;String&gt; allDirectoryList = parseAndGetListDir(endDirectory.getAbsolutePath().substring(baseDir.getAbsolutePath().length()));\r\n\r\n        File  currentDir = baseDir;\r\n\r\n        for (int i=0; i&lt; allDirectoryList.size() ; i++){\r\n\r\n            File dir = new File(currentDir.getAbsolutePath() + &quot;/&quot; + allDirectoryList.get(i) );\r\n\r\n            if (!dir.exists()){\r\n\r\n                if (!dir.mkdir()){\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            currentDir  = dir;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public static ArrayList&lt;String&gt; parseAndGetListDir(String data) {\r\n\r\n        ArrayList&lt;String&gt; allDirectoryList = new ArrayList&lt;&gt;();\r\n        boolean exit = false;\r\n        String dir = &quot;&quot;;\r\n\r\n        for (int i=0; i&lt;data.length() ; i++){\r\n\r\n            if (data.charAt(i) == &#39;/&#39;){\r\n                if (!dir.equals(&quot;&quot;)){\r\n                    allDirectoryList.add(dir);\r\n                    dir = &quot;&quot;;\r\n                }\r\n            }else {\r\n                dir = dir + data.charAt(i);\r\n            }\r\n\r\n        }\r\n\r\n        if (!dir.equals(&quot;&quot;)){\r\n            allDirectoryList.add(dir);\r\n        }\r\n\r\n        return allDirectoryList;\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n**Usage :**\r\n```java\r\n// you 100% sure that this  directory is already exist.\r\nFile baseDir = Environment.getExternalStorageDirectory();\r\n\r\n// desire directory wanted to create.\r\nFile endDirectory = new File(Environment.getExternalStorageDirectory() +&quot;kkk/SSS/aaa/ddd/b&quot;);\r\n\r\nif(recursivelyMakeDir(endDirectory ,baseDir )){\r\n\r\n  // dir created sucessessfully\r\n}else{\r\n  // failed\r\n}\r\n\r\n```","title":"Create multiple directories in Android","body":"<p>By default there is no way in android to create multiple directory at once.\nyou have to create one by one and check is created or not.</p>\n<p><strong>But I have created a below code to achieve similar objective. you can use to create multiple directory at once...</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static boolean recursivelyMakeDir(File endDirectory,File baseDir) {\n\n        if (!baseDir.exists()){\n            return false;\n        }\n        ArrayList&lt;String&gt; allDirectoryList = parseAndGetListDir(endDirectory.getAbsolutePath().substring(baseDir.getAbsolutePath().length()));\n\n        File  currentDir = baseDir;\n\n        for (int i=0; i&lt; allDirectoryList.size() ; i++){\n\n            File dir = new File(currentDir.getAbsolutePath() + &quot;/&quot; + allDirectoryList.get(i) );\n\n            if (!dir.exists()){\n\n                if (!dir.mkdir()){\n                    return false;\n                }\n            }\n\n            currentDir  = dir;\n        }\n\n        return true;\n    }\n\n    public static ArrayList&lt;String&gt; parseAndGetListDir(String data) {\n\n        ArrayList&lt;String&gt; allDirectoryList = new ArrayList&lt;&gt;();\n        boolean exit = false;\n        String dir = &quot;&quot;;\n\n        for (int i=0; i&lt;data.length() ; i++){\n\n            if (data.charAt(i) == '/'){\n                if (!dir.equals(&quot;&quot;)){\n                    allDirectoryList.add(dir);\n                    dir = &quot;&quot;;\n                }\n            }else {\n                dir = dir + data.charAt(i);\n            }\n\n        }\n\n        if (!dir.equals(&quot;&quot;)){\n            allDirectoryList.add(dir);\n        }\n\n        return allDirectoryList;\n    }\n\n</code></pre>\n<p><strong>Usage :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// you 100% sure that this  directory is already exist.\nFile baseDir = Environment.getExternalStorageDirectory();\n\n// desire directory wanted to create.\nFile endDirectory = new File(Environment.getExternalStorageDirectory() +&quot;kkk/SSS/aaa/ddd/b&quot;);\n\nif(recursivelyMakeDir(endDirectory ,baseDir )){\n\n  // dir created sucessessfully\n}else{\n  // failed\n}\n\n</code></pre>\n"}],"owner":{"account_id":1139827,"reputation":675,"user_id":1124058,"accept_rate":58,"display_name":"Antarix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2763,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12793217,"answer_count":4,"score":2,"last_activity_date":1641380928,"creation_date":1349756094,"question_id":12792713,"body_markdown":"This is my directory structure on my Android sdcard\r\n\r\n     sdcard/alQuranData/Reader1/Surah\r\n\r\nHere is my code to make Directories\r\n\r\n    File SDCardRoot = new File(Environment.getExternalStorageDirectory().toString() + &quot;alQuranData/Reader1/Surah&quot;);\r\n    \t\t        Toast.makeText(getApplicationContext(), SDCardRoot.toString(), Toast.LENGTH_LONG).show();\r\n    \t\t        if (!SDCardRoot.exists()) {\r\n    \t\t        \tLog.d(&quot;DIRECTORY CHECK&quot;, &quot;Directory doesnt exist creating directory&quot;);\r\n    \t\t        \tSDCardRoot.mkdir();\r\n    \t\t        }\r\n\r\n\r\nNow `alQuranData` is already created in my `sdcard` root. If i only create Reader1 directory than it works fine, but when is add `Reader1/Surah` than it did not create. \r\n\r\nI also tried `mkdirs()` but it doesn&#39;t work. ","title":"Create multiple directories in Android","body":"<p>This is my directory structure on my Android sdcard</p>\n\n<pre><code> sdcard/alQuranData/Reader1/Surah\n</code></pre>\n\n<p>Here is my code to make Directories</p>\n\n<pre><code>File SDCardRoot = new File(Environment.getExternalStorageDirectory().toString() + \"alQuranData/Reader1/Surah\");\n                Toast.makeText(getApplicationContext(), SDCardRoot.toString(), Toast.LENGTH_LONG).show();\n                if (!SDCardRoot.exists()) {\n                    Log.d(\"DIRECTORY CHECK\", \"Directory doesnt exist creating directory\");\n                    SDCardRoot.mkdir();\n                }\n</code></pre>\n\n<p>Now <code>alQuranData</code> is already created in my <code>sdcard</code> root. If i only create Reader1 directory than it works fine, but when is add <code>Reader1/Surah</code> than it did not create. </p>\n\n<p>I also tried <code>mkdirs()</code> but it doesn't work. </p>\n"},{"tags":["python","java","android","scapy"],"owner":{"account_id":20308245,"reputation":11,"user_id":14895957,"display_name":"עילי בוקובזה"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641380677,"creation_date":1641380677,"question_id":70591807,"body_markdown":"i&#39;m trying to make arpspoofing with android studio and python.\r\nThis is the python script:\r\n\r\n    \r\n    from scapy.all import *\r\n    from scapy.layers.l2 import ARP,Ether\r\n    import os\r\n    \r\n    \r\n    \r\n    def spoofarpcache(targetip,targetmac,sourceip):\r\n        os.environ[&quot;PATH&quot;] = &quot;:&quot;.join([p for p in os.environ[&quot;PATH&quot;].split(&quot;:&quot;)\r\n                                       if os.access(p, os.R_OK | os.X_OK)])\r\n        spoofed = ARP(op=2, pdst=targetip,psrc= sourceip,hwdst=targetmac)\r\n        while True:\r\n            send(spoofed, verbose=False)\r\n\r\n\r\n\r\n\r\nThis is the java:\r\n\r\n     TextView textView = null;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textView = (TextView) findViewById(R.id.titles);\r\n        if(!Python.isStarted())\r\n            Python.start(new AndroidPlatform((this)));\r\n\r\n        Python py = Python.getInstance();\r\n\r\n        PyObject pyobj = py.getModule(&quot;script&quot;);\r\n\r\n        PyObject obj = pyobj.callAttr(&quot;spoofarpcache&quot;, &quot;192.168.1.246&quot;,&quot;a4:83:e7:54:17:7c&quot;,&quot;192.168.1.1&quot;);\r\n        Context context = getApplicationContext();\r\n        WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n        String ip = Formatter.formatIpAddress(wm.getConnectionInfo().getIpAddress());\r\n\r\n        textView.setText(&quot;The resault its: &quot; + obj.toString() + &quot; &quot; + ip);\r\n    }\r\n\r\nand i&#39;m getting permission denied error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.ilay.myfinalproject, PID: 18110\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.ilay.myfinalproject/com.ilay.myfinalproject.MainActivity}: com.chaquo.python.PyException: PermissionError: [Errno 13] Permission denied\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: com.chaquo.python.PyException: PermissionError: [Errno 13] Permission denied\r\n        at &lt;python&gt;.socket.__init__(socket.py:231)\r\n        at &lt;python&gt;.scapy.arch.linux.__init__(linux.py:486)\r\n        at &lt;python&gt;.scapy.sendrecv._send(sendrecv.py:394)\r\n        at &lt;python&gt;.scapy.sendrecv.send(sendrecv.py:425)\r\n        at &lt;python&gt;.script.spoofarpcache(script.py:13)\r\n        at &lt;python&gt;.chaquopy_java.call(chaquopy_java.pyx:380)\r\n        at &lt;python&gt;.chaquopy_java.Java_com_chaquo_python_PyObject_callAttrThrowsNative(chaquopy_java.pyx:352)\r\n        at com.chaquo.python.PyObject.callAttrThrowsNative(Native Method)\r\n        at com.chaquo.python.PyObject.callAttrThrows(PyObject.java:232)\r\n        at com.chaquo.python.PyObject.callAttr(PyObject.java:221)\r\n        at com.ilay.myfinalproject.MainActivity.onCreate(MainActivity.java:30)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n\r\ni have tried to add permisions.\r\nafter short review in the internet i found as a solution that i need to run the app as a root but i dont know how to do it and i dont know if it will work\r\n\r\nPlease helppp\r\n","title":"Chaquo with scapy","body":"<p>i'm trying to make arpspoofing with android studio and python.\nThis is the python script:</p>\n<pre><code>from scapy.all import *\nfrom scapy.layers.l2 import ARP,Ether\nimport os\n\n\n\ndef spoofarpcache(targetip,targetmac,sourceip):\n    os.environ[&quot;PATH&quot;] = &quot;:&quot;.join([p for p in os.environ[&quot;PATH&quot;].split(&quot;:&quot;)\n                                   if os.access(p, os.R_OK | os.X_OK)])\n    spoofed = ARP(op=2, pdst=targetip,psrc= sourceip,hwdst=targetmac)\n    while True:\n        send(spoofed, verbose=False)\n</code></pre>\n<p>This is the java:</p>\n<pre><code> TextView textView = null;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    textView = (TextView) findViewById(R.id.titles);\n    if(!Python.isStarted())\n        Python.start(new AndroidPlatform((this)));\n\n    Python py = Python.getInstance();\n\n    PyObject pyobj = py.getModule(&quot;script&quot;);\n\n    PyObject obj = pyobj.callAttr(&quot;spoofarpcache&quot;, &quot;192.168.1.246&quot;,&quot;a4:83:e7:54:17:7c&quot;,&quot;192.168.1.1&quot;);\n    Context context = getApplicationContext();\n    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    String ip = Formatter.formatIpAddress(wm.getConnectionInfo().getIpAddress());\n\n    textView.setText(&quot;The resault its: &quot; + obj.toString() + &quot; &quot; + ip);\n}\n</code></pre>\n<p>and i'm getting permission denied error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.ilay.myfinalproject, PID: 18110\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.ilay.myfinalproject/com.ilay.myfinalproject.MainActivity}: com.chaquo.python.PyException: PermissionError: [Errno 13] Permission denied\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n Caused by: com.chaquo.python.PyException: PermissionError: [Errno 13] Permission denied\n    at &lt;python&gt;.socket.__init__(socket.py:231)\n    at &lt;python&gt;.scapy.arch.linux.__init__(linux.py:486)\n    at &lt;python&gt;.scapy.sendrecv._send(sendrecv.py:394)\n    at &lt;python&gt;.scapy.sendrecv.send(sendrecv.py:425)\n    at &lt;python&gt;.script.spoofarpcache(script.py:13)\n    at &lt;python&gt;.chaquopy_java.call(chaquopy_java.pyx:380)\n    at &lt;python&gt;.chaquopy_java.Java_com_chaquo_python_PyObject_callAttrThrowsNative(chaquopy_java.pyx:352)\n    at com.chaquo.python.PyObject.callAttrThrowsNative(Native Method)\n    at com.chaquo.python.PyObject.callAttrThrows(PyObject.java:232)\n    at com.chaquo.python.PyObject.callAttr(PyObject.java:221)\n    at com.ilay.myfinalproject.MainActivity.onCreate(MainActivity.java:30)\n    at android.app.Activity.performCreate(Activity.java:7802)\n    at android.app.Activity.performCreate(Activity.java:7791)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n</code></pre>\n<p>i have tried to add permisions.\nafter short review in the internet i found as a solution that i need to run the app as a root but i dont know how to do it and i dont know if it will work</p>\n<p>Please helppp</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":16097997,"reputation":19437,"user_id":11619647,"display_name":"Emiel Zuurbier"},"score":0,"creation_date":1641374855,"post_id":70590462,"comment_id":124785835,"body_markdown":"Do you mean *A Java script* or the programming language **JavaScript**?","body":"Do you mean <i>A Java script</i> or the programming language <b>JavaScript</b>?"},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1641374929,"post_id":70590462,"comment_id":124785860,"body_markdown":"@EmielZuurbier not sure I understood your question. I am invoking this javascript, which then invokes java classes","body":"@EmielZuurbier not sure I understood your question. I am invoking this javascript, which then invokes java classes"},{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":0,"creation_date":1641374954,"post_id":70590462,"comment_id":124785870,"body_markdown":"Seems the loop is the issue? Is the code for that here? If the second file isn&#39;t available for 5 minutes, perhaps its due to whatever blocking mechanism you&#39;re using.","body":"Seems the loop is the issue? Is the code for that here? If the second file isn&#39;t available for 5 minutes, perhaps its due to whatever blocking mechanism you&#39;re using."},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1641374987,"post_id":70590462,"comment_id":124785879,"body_markdown":"the loop code is not here. I will add it, here","body":"the loop code is not here. I will add it, here"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641386913,"post_id":70590462,"comment_id":124790522,"body_markdown":"Most likely because you don&#39;t properly close the old connection. HttpURLConnection is pretty sensitive to old connections not properly closed (especially the InputStream. Besides the Java HttpURLConnection is to my experience pretty unstable and has some conditions where it is running into a dead-lock situation. Therefore my recommendation: If you can avoid it.","body":"Most likely because you don&#39;t properly close the old connection. HttpURLConnection is pretty sensitive to old connections not properly closed (especially the InputStream. Besides the Java HttpURLConnection is to my experience pretty unstable and has some conditions where it is running into a dead-lock situation. Therefore my recommendation: If you can avoid it."},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1641387078,"post_id":70590462,"comment_id":124790588,"body_markdown":"@Robert whats your recommendation?","body":"@Robert whats your recommendation?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641387171,"post_id":70590462,"comment_id":124790623,"body_markdown":"If you can use apache commons httpclient library. Or if that is not possible and you are on Java 11+ try the new Java HttpClient: https://openjdk.java.net/groups/net/httpclient/intro.html","body":"If you can use apache commons httpclient library. Or if that is not possible and you are on Java 11+ try the new Java HttpClient: <a href=\"https://openjdk.java.net/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">openjdk.java.net/groups/net/httpclient/intro.html</a>"},{"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"score":0,"creation_date":1641406177,"post_id":70590462,"comment_id":124798849,"body_markdown":"@Robert using httpclient library solved! I will accept your answer if you want to post one","body":"@Robert using httpclient library solved! I will accept your answer if you want to post one"}],"owner":{"account_id":1620812,"reputation":2569,"user_id":1497418,"accept_rate":75,"display_name":"Walucas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641379434,"creation_date":1641374680,"question_id":70590462,"body_markdown":"I am invoking java classes on a Javascript engine, so I am limited on what I can do.\r\n\r\nThe code works fine, but when I invoke the Javascript on a loop, it times out after the first invocation.\r\n\r\nThe code just downloads a ZIP from a url, and stores it to a path. Here is the full code:\r\n\r\n```\r\nvar result = (function() {\r\n    var URL = Packages.java.net.URL;\r\n\tvar Files = Packages.java.nio.file.Files;\r\n\tvar Paths = Packages.java.nio.file.Paths;\r\n\tvar StandardCopyOption = Packages.java.nio.file.StandardCopyOption;\r\n\r\n    var urlAddr = new URL(\r\n            target_url\r\n        );\r\n    \r\n     \r\n    var connection = urlAddr.openConnection();\r\n \r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    connection.setRequestProperty(&quot;Authorization&quot;, bearer);\r\n    \r\n    connection.setReadTimeout(20*1000);\r\n    \r\n    connection.connect();\r\n\r\n\tFiles.copy(connection.getInputStream(), Paths.get(file_path+new_filename+&quot;.zip&quot;), StandardCopyOption.REPLACE_EXISTING);\r\n \r\n\r\n    return &quot;&quot;;\r\n}());\r\n```\r\n\r\nThe error I am getting from the server:\r\n\r\n&gt;Java Exception: java.lang.RuntimeException: java.net.SocketTimeoutException: Read timed out: during call of javax.script.ScriptEngine.eval.\r\n\r\nBefore someone suggests, I cant get away from the java being called inside the javascript. \r\n\r\nI thought it could be a connection being kept open.\r\n\r\nUPDATE: this javascript for some reason is always taking 5 minutes to run....\r\n\r\nUPDATE2: Files.copy seems to be the issue, since its the one taking the 5 minutes from the code.... the file is very small, and 5 min wouldnt justify","title":"Java URL Connection times out on subsequent call","body":"<p>I am invoking java classes on a Javascript engine, so I am limited on what I can do.</p>\n<p>The code works fine, but when I invoke the Javascript on a loop, it times out after the first invocation.</p>\n<p>The code just downloads a ZIP from a url, and stores it to a path. Here is the full code:</p>\n<pre><code>var result = (function() {\n    var URL = Packages.java.net.URL;\n    var Files = Packages.java.nio.file.Files;\n    var Paths = Packages.java.nio.file.Paths;\n    var StandardCopyOption = Packages.java.nio.file.StandardCopyOption;\n\n    var urlAddr = new URL(\n            target_url\n        );\n    \n     \n    var connection = urlAddr.openConnection();\n \n    connection.setRequestMethod(&quot;GET&quot;);\n    connection.setRequestProperty(&quot;Authorization&quot;, bearer);\n    \n    connection.setReadTimeout(20*1000);\n    \n    connection.connect();\n\n    Files.copy(connection.getInputStream(), Paths.get(file_path+new_filename+&quot;.zip&quot;), StandardCopyOption.REPLACE_EXISTING);\n \n\n    return &quot;&quot;;\n}());\n</code></pre>\n<p>The error I am getting from the server:</p>\n<blockquote>\n<p>Java Exception: java.lang.RuntimeException: java.net.SocketTimeoutException: Read timed out: during call of javax.script.ScriptEngine.eval.</p>\n</blockquote>\n<p>Before someone suggests, I cant get away from the java being called inside the javascript.</p>\n<p>I thought it could be a connection being kept open.</p>\n<p>UPDATE: this javascript for some reason is always taking 5 minutes to run....</p>\n<p>UPDATE2: Files.copy seems to be the issue, since its the one taking the 5 minutes from the code.... the file is very small, and 5 min wouldnt justify</p>\n"},{"tags":["python","java","sockets","server","tcp"],"comments":[{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1641379716,"post_id":70591383,"comment_id":124787819,"body_markdown":"What matters is not the Language (Python of Java) but exactly what is send and how. You have not shown the working Java client, so I cannot know exactly what is the difference with the Python version. Wild guesses: one contains a *terminating* character like a newline or a null while the other does not; or it uses (explicitely or implicitely) a *shutdown* to signal the server that the input data is finished.","body":"What matters is not the Language (Python of Java) but exactly what is send and how. You have not shown the working Java client, so I cannot know exactly what is the difference with the Python version. Wild guesses: one contains a <i>terminating</i> character like a newline or a null while the other does not; or it uses (explicitely or implicitely) a <i>shutdown</i> to signal the server that the input data is finished."},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1641380177,"post_id":70591383,"comment_id":124788004,"body_markdown":"Try adding an explicit new line character (&#39;\\n&#39;) at the end of the message in python client.","body":"Try adding an explicit new line character (&#39;\\n&#39;) at the end of the message in python client."},{"owner":{"account_id":17321094,"reputation":21,"user_id":12546560,"display_name":"Niko"},"score":0,"creation_date":1641380276,"post_id":70591383,"comment_id":124788040,"body_markdown":"@SergeBallesta thanks, the newline character was missing, in the java client I used &quot;println&quot; which automatically adds it.","body":"@SergeBallesta thanks, the newline character was missing, in the java client I used &quot;println&quot; which automatically adds it."}],"owner":{"account_id":17321094,"reputation":21,"user_id":12546560,"display_name":"Niko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641379276,"creation_date":1641378707,"question_id":70591383,"body_markdown":"I&#39;m using a python client to connect to a Java server. The client is supposed to send a message to the server, the server processes it and sends an answer. When I don&#39;t wait for an answer it works. &lt;br&gt;&lt;br&gt;\r\nThe problem is, although my socket.send comes before the socket.recv, the recv method is blocking before something is sent. How do I get the socket to send the text before it wants to receive?&lt;br&gt;&lt;br&gt;\r\nI know the server is working because if I do the client in Java it works. \r\n&lt;br&gt;&lt;br&gt; Python code:\r\n\r\n```\r\ntext = from_microphone()\r\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\r\n    s.connect((HOST, PORT))\r\n    s.send(bytes(text, &#39;utf-8&#39;))\r\n    data = s.recv(1024)\r\n    s.close()\r\nspeak(data.decode(&#39;utf-8&#39;))\r\n```\r\n\r\nJava server:\r\n\r\n```\r\nServerSocket server = new ServerSocket(6969);\r\n        while(true){\r\n            Socket client = server.accept();\r\n            String input = new BufferedReader(new InputStreamReader(client.getInputStream())).readLine().toLowerCase(Locale.ROOT);\r\n            /*\r\n            * processing\r\n            */\r\n            String answer = &quot;test&quot;;\r\n            new PrintWriter(client.getOutputStream(), true).println(answer);\r\n            client.close();\r\n        }\r\n```\r\n","title":"Socket blocking in wrong order","body":"<p>I'm using a python client to connect to a Java server. The client is supposed to send a message to the server, the server processes it and sends an answer. When I don't wait for an answer it works. <br><br>\nThe problem is, although my socket.send comes before the socket.recv, the recv method is blocking before something is sent. How do I get the socket to send the text before it wants to receive?<br><br>\nI know the server is working because if I do the client in Java it works.\n<br><br> Python code:</p>\n<pre><code>text = from_microphone()\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.connect((HOST, PORT))\n    s.send(bytes(text, 'utf-8'))\n    data = s.recv(1024)\n    s.close()\nspeak(data.decode('utf-8'))\n</code></pre>\n<p>Java server:</p>\n<pre><code>ServerSocket server = new ServerSocket(6969);\n        while(true){\n            Socket client = server.accept();\n            String input = new BufferedReader(new InputStreamReader(client.getInputStream())).readLine().toLowerCase(Locale.ROOT);\n            /*\n            * processing\n            */\n            String answer = &quot;test&quot;;\n            new PrintWriter(client.getOutputStream(), true).println(answer);\n            client.close();\n        }\n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1641372719,"post_id":70590019,"comment_id":124785058,"body_markdown":"It is exactly the same thing as the next line, just a different name, different type and different value.","body":"It is exactly the same thing as the next line, just a different name, different type and different value."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1641372767,"post_id":70590019,"comment_id":124785079,"body_markdown":"Follow tutorials - you can find lots of good tutorials on https://dev.java/learn/","body":"Follow tutorials - you can find lots of good tutorials on <a href=\"https://dev.java/learn/\" rel=\"nofollow noreferrer\">dev.java/learn</a>"},{"owner":{"account_id":23832810,"reputation":11,"user_id":17838888,"display_name":"Alice"},"score":0,"creation_date":1641372867,"post_id":70590019,"comment_id":124785119,"body_markdown":"But what does it do? I can understand if its a primitive type, but why does it copied the class name? Like, what is its effect?","body":"But what does it do? I can understand if its a primitive type, but why does it copied the class name? Like, what is its effect?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1641376709,"post_id":70590019,"comment_id":124786558,"body_markdown":"Sounds like you really need to follow a few java tutorials for a few days / weeks. Explaining what objects, references, classes are is just too basic for SO.","body":"Sounds like you really need to follow a few java tutorials for a few days / weeks. Explaining what objects, references, classes are is just too basic for SO."}],"answers":[{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641373070,"creation_date":1641373070,"answer_id":70590123,"question_id":70590019,"body_markdown":"In Java a variable is can contain a reference to an object. The pattern you show is common in list nodes: a node contains a value and a reference to the next node.\r\n\r\nLet us look at your code:\r\n\r\n    class Node {                  // Ok, we are defining a class named Node\r\n        private Node link = null; // Ok we have a member reference to another Node object\r\n                                  // and by default it is initialized to null\r\n        private int data;         // an integer member variable\r\n        ...\r\n    }\r\n\r\n","title":"Can a class be declared as a variable?","body":"<p>In Java a variable is can contain a reference to an object. The pattern you show is common in list nodes: a node contains a value and a reference to the next node.</p>\n<p>Let us look at your code:</p>\n<pre><code>class Node {                  // Ok, we are defining a class named Node\n    private Node link = null; // Ok we have a member reference to another Node object\n                              // and by default it is initialized to null\n    private int data;         // an integer member variable\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23827050,"reputation":21,"user_id":17833935,"display_name":"AliShokri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641378461,"creation_date":1641378461,"answer_id":70591329,"question_id":70590019,"body_markdown":"Sometimes in one class, we need an attribute with the type of the same class.\r\nFor example, consider this class:\r\n\r\n    class Person{\r\n        private Person father;\r\n        private String name;\r\n    \r\n        //and more\r\n    }\r\n\r\nIn this case, we use an Object of type &#39;Person&#39; in the &#39;Person&#39; class, because each person has a father, and the father is a Person too.\r\n\r\nSo we can use a class as a variable in another class.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FWmx6.png","title":"Can a class be declared as a variable?","body":"<p>Sometimes in one class, we need an attribute with the type of the same class.\nFor example, consider this class:</p>\n<pre><code>class Person{\n    private Person father;\n    private String name;\n\n    //and more\n}\n</code></pre>\n<p>In this case, we use an Object of type 'Person' in the 'Person' class, because each person has a father, and the father is a Person too.</p>\n<p>So we can use a class as a variable in another class.</p>\n"}],"owner":{"account_id":23832810,"reputation":11,"user_id":17838888,"display_name":"Alice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70590123,"answer_count":2,"score":-2,"last_activity_date":1641378461,"creation_date":1641372540,"question_id":70590019,"body_markdown":"I am new in programming. \r\n\r\nWhile I was surfing on the internet I found a code that has this class.\r\n\r\n    class Node {\r\n    private Node link = null;\r\n    private int data = 0;\r\n\r\nMy question is that, what is this &quot;Node&quot; (on the second line) under the class Node{\r\n\r\n Is this a variable? What is it called? And what is its purpose?\r\n","title":"Can a class be declared as a variable?","body":"<p>I am new in programming.</p>\n<p>While I was surfing on the internet I found a code that has this class.</p>\n<pre><code>class Node {\nprivate Node link = null;\nprivate int data = 0;\n</code></pre>\n<p>My question is that, what is this &quot;Node&quot; (on the second line) under the class Node{</p>\n<p>Is this a variable? What is it called? And what is its purpose?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1641378884,"post_id":70591319,"comment_id":124787450,"body_markdown":"For your first problem (`addCar(car5)` not stating &quot;garage is full&quot;) have a look at your `addCar1(...)` method which actually does the check. I&#39;d just change the condition to `cars.size() &lt; parkingSpace`, i.e. if the number of cars has not yet reached the number of available slots.","body":"For your first problem (<code>addCar(car5)</code> not stating &quot;garage is full&quot;) have a look at your <code>addCar1(...)</code> method which actually does the check. I&#39;d just change the condition to <code>cars.size() &lt; parkingSpace</code>, i.e. if the number of cars has not yet reached the number of available slots."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1641379139,"post_id":70591319,"comment_id":124787545,"body_markdown":"I&#39;m not sure about this if-else statement in your last snippet. Right now it only checks if the garage has some space left (i.e. checks the &quot;else if&quot;) if the garage does not have more cars than the garages that have already been checked. I&#39;d assume you either want that check for every garage (so just do another separate if-block instead of `else if`) or do it on the garage with the most cars (so do it after the loop).","body":"I&#39;m not sure about this if-else statement in your last snippet. Right now it only checks if the garage has some space left (i.e. checks the &quot;else if&quot;) if the garage does not have more cars than the garages that have already been checked. I&#39;d assume you either want that check for every garage (so just do another separate if-block instead of <code>else if</code>) or do it on the garage with the most cars (so do it after the loop)."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1641382588,"post_id":70591319,"comment_id":124788967,"body_markdown":"@Thomas. I  am looking now ,  I hope  I can figure it oout\nThankyou very much !","body":"@Thomas. I  am looking now ,  I hope  I can figure it oout Thankyou very much !"}],"owner":{"display_name":"user17695302"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641378432,"creation_date":1641378432,"question_id":70591319,"body_markdown":"I  have this Garage Class\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Garage {\r\n        private int m3;\r\n        private String name;\r\n        private int parkingSpace;\r\n    \r\n    \r\n        List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\r\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n    \r\n        public Garage(int m3, String name, int parkingSpace) {\r\n            this.m3 = m3;\r\n            this.name = name;\r\n            this.parkingSpace = parkingSpace;\r\n    \r\n        }\r\n    \r\n        public int getM3() {\r\n            return m3;\r\n        }\r\n    \r\n        public void setM3(int m3) {\r\n            this.m3 = m3;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getParkingSpace() {\r\n            return parkingSpace;\r\n        }\r\n    \r\n        public void setParkingSpace(int parkingSpace) {\r\n            this.parkingSpace = parkingSpace;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Garage{&quot; +\r\n                    &quot;m3=&quot; + m3 +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, parkingSpace=&quot; + parkingSpace +\r\n                    &#39;}&#39;;\r\n        }\r\n        public void addCar1(Car newCar) {\r\n            if (cars.size() != parkingSpace)\r\n                cars.add(newCar);\r\n        }\r\n        public int getHowManyCarsFit() {\r\n            return parkingSpace - cars.size();\r\n        }\r\n        public int getHowManyCarsAreIn() {\r\n            return cars.size();\r\n        }\r\n    \r\n        public void addCar(Car newCar) {\r\n            cars.add(newCar);\r\n        }\r\n    \r\n    }\r\n\r\nHere example of one of  my garages (one that have the most cars)\r\n\r\n    Garage garage4 = new Garage(450, &quot;garage4&quot;, 4);\r\n            garage4.addCar(car1);\r\n            garage4.addCar(car2);\r\n            garage4.addCar(car3);\r\n            garage4.addCar(car4);\r\n            garage4.addCar(car5);\r\n\r\n\r\nSo it should sout that &quot;This garage is full !&quot; when i add  &quot;car5&quot; and ofcourse if there are 4 cars already \r\n\r\nI try to do the folowing :\r\n\r\n   I took already  how many cars i have in and witch is the garage with most cars. \r\n   Now i have to say  if my garage have tha amount of casr af parking spcae or more cars the  the parkingspaces &quot;Garage is full! Please park outside!&quot;\r\n   \r\nThis is my  code and what i have tryed in  else  if statmet \r\n\r\n   \r\n\r\n     public static Garage getMostCars(List&lt;Garage&gt; garageList) {\r\n            Garage mostCars = null;\r\n            int cars = 0;\r\n            for (Garage garage : garageList) {\r\n                if (garage.getHowManyCarsAreIn() &gt; cars) {\r\n                    mostCars = garage;\r\n                    cars = garage.getHowManyCarsAreIn();\r\n                } else if (garage.getHowManyCarsAreIn() &gt;= garage.getHowManyCarsFit()) {\r\n                    System.out.println(&quot;----------------------------&quot;);\r\n                    System.out.println(&quot;Garage is full !  \\n&quot; + &quot;You cannot add more cars , please go outside the garage&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            System.out.println(&quot;There are currently: &quot; + cars + &quot; cars inside&quot;);\r\n            return mostCars;\r\n        }\r\n","title":"How to get Garage if full if there are more cars inside then parkingspaces availible","body":"<p>I  have this Garage Class</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Garage {\n    private int m3;\n    private String name;\n    private int parkingSpace;\n\n\n    List&lt;Car&gt; cars = new ArrayList&lt;&gt;();\n    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n\n    public Garage(int m3, String name, int parkingSpace) {\n        this.m3 = m3;\n        this.name = name;\n        this.parkingSpace = parkingSpace;\n\n    }\n\n    public int getM3() {\n        return m3;\n    }\n\n    public void setM3(int m3) {\n        this.m3 = m3;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getParkingSpace() {\n        return parkingSpace;\n    }\n\n    public void setParkingSpace(int parkingSpace) {\n        this.parkingSpace = parkingSpace;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Garage{&quot; +\n                &quot;m3=&quot; + m3 +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, parkingSpace=&quot; + parkingSpace +\n                '}';\n    }\n    public void addCar1(Car newCar) {\n        if (cars.size() != parkingSpace)\n            cars.add(newCar);\n    }\n    public int getHowManyCarsFit() {\n        return parkingSpace - cars.size();\n    }\n    public int getHowManyCarsAreIn() {\n        return cars.size();\n    }\n\n    public void addCar(Car newCar) {\n        cars.add(newCar);\n    }\n\n}\n</code></pre>\n<p>Here example of one of  my garages (one that have the most cars)</p>\n<pre><code>Garage garage4 = new Garage(450, &quot;garage4&quot;, 4);\n        garage4.addCar(car1);\n        garage4.addCar(car2);\n        garage4.addCar(car3);\n        garage4.addCar(car4);\n        garage4.addCar(car5);\n</code></pre>\n<p>So it should sout that &quot;This garage is full !&quot; when i add  &quot;car5&quot; and ofcourse if there are 4 cars already</p>\n<p>I try to do the folowing :</p>\n<p>I took already  how many cars i have in and witch is the garage with most cars.\nNow i have to say  if my garage have tha amount of casr af parking spcae or more cars the  the parkingspaces &quot;Garage is full! Please park outside!&quot;</p>\n<p>This is my  code and what i have tryed in  else  if statmet</p>\n<pre><code> public static Garage getMostCars(List&lt;Garage&gt; garageList) {\n        Garage mostCars = null;\n        int cars = 0;\n        for (Garage garage : garageList) {\n            if (garage.getHowManyCarsAreIn() &gt; cars) {\n                mostCars = garage;\n                cars = garage.getHowManyCarsAreIn();\n            } else if (garage.getHowManyCarsAreIn() &gt;= garage.getHowManyCarsFit()) {\n                System.out.println(&quot;----------------------------&quot;);\n                System.out.println(&quot;Garage is full !  \\n&quot; + &quot;You cannot add more cars , please go outside the garage&quot;);\n            }\n        }\n        System.out.println(&quot;------------------------------------&quot;);\n        System.out.println(&quot;There are currently: &quot; + cars + &quot; cars inside&quot;);\n        return mostCars;\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8284,"page":1708,"page_size":100}
